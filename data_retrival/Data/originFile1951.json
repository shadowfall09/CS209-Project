{"items":[{"tags":["java","jasper-reports","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":23012892,"reputation":11,"user_id":17135167,"display_name":"Elain"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634055828,"creation_date":1634046710,"answer_id":69541803,"question_id":25762900,"body_markdown":"You can try using this:\r\n\r\n```\r\nimport java.awt.Color;\r\nrenderer.setBaseItemLabelPaint(Color.WHITE);\r\n```","title":"Show customized label color on bar chart","body":"<p>You can try using this:</p>\n<pre><code>import java.awt.Color;\nrenderer.setBaseItemLabelPaint(Color.WHITE);\n</code></pre>\n"}],"owner":{"account_id":4857225,"reputation":139,"user_id":3917852,"accept_rate":91,"display_name":"Nilesh Naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634055828,"creation_date":1410344330,"question_id":25762900,"body_markdown":"I have customized the item label position so that the label appears outside the bar when it doesn&#39;t fit inside the bar as shown below.\r\n\r\n![bar chart][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aoNnt.jpg\r\n\r\nHow do I give a different color to the labels when the text is inside the bar. e.g white color text inside and black color text outside the bar. I have tried the below code but its showing black always. I want 20 to appear in white and 57 and 30 in black text\r\n\r\nNote: This is a customizer class written for a *Jaspersoft Studio* bar chart\r\n\r\n    public class Test extends JRAbstractChartCustomizer {\r\n    \r\n    \tstatic class LabelGenerator extends StandardCategoryItemLabelGenerator {\r\n    \t\t@Override\r\n    \t\tpublic String generateLabel(CategoryDataset dataset, int series,\r\n    \t\t\t\tint category) {\r\n    \t\t\treturn dataset.getRowKey(series).toString();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void customize(JFreeChart chart, JRChart jasperChart) {\r\n    \r\n    \t\tCategoryPlot plot = (CategoryPlot) chart.getPlot();\r\n    \t\tplot.setRangeGridlinesVisible(false);\r\n    \r\n    \t\tBarRenderer renderer = (BarRenderer) plot.getRenderer();\r\n    \t\trenderer.setItemMargin(-1);\r\n    \t\trenderer.setBaseItemLabelGenerator(new LabelGenerator());\r\n    \t\trenderer.setBaseItemLabelsVisible(true);\r\n    \t\tItemLabelPosition p = new ItemLabelPosition(ItemLabelAnchor.INSIDE12,\r\n    \t\t\t\tTextAnchor.CENTER_RIGHT, TextAnchor.CENTER_RIGHT,\r\n    \t\t\t\t-Math.PI / 2.0);\r\n    \t\trenderer.setBaseItemLabelPaint(new Color(255, 255, 255));\r\n    \t\trenderer.setBasePositiveItemLabelPosition(p);\r\n    \r\n    \t\tItemLabelPosition p2 = new ItemLabelPosition(ItemLabelAnchor.OUTSIDE12,\r\n    \t\t\t\tTextAnchor.CENTER_LEFT, TextAnchor.CENTER_LEFT, -Math.PI / 2.0);\r\n    \t\trenderer.setBaseItemLabelPaint(new Color(0, 0, 0));\r\n    \t\trenderer.setPositiveItemLabelPositionFallback(p2);\r\n    \r\n    \t\tCategoryAxis domainAxis = plot.getDomainAxis();\r\n    \t\tdomainAxis.setCategoryLabelPositions(CategoryLabelPositions.UP_90);\r\n    \t}\r\n    }","title":"Show customized label color on bar chart","body":"<p>I have customized the item label position so that the label appears outside the bar when it doesn't fit inside the bar as shown below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/aoNnt.jpg\" alt=\"bar chart\"></p>\n\n<p>How do I give a different color to the labels when the text is inside the bar. e.g white color text inside and black color text outside the bar. I have tried the below code but its showing black always. I want 20 to appear in white and 57 and 30 in black text</p>\n\n<p>Note: This is a customizer class written for a <em>Jaspersoft Studio</em> bar chart</p>\n\n<pre><code>public class Test extends JRAbstractChartCustomizer {\n\n    static class LabelGenerator extends StandardCategoryItemLabelGenerator {\n        @Override\n        public String generateLabel(CategoryDataset dataset, int series,\n                int category) {\n            return dataset.getRowKey(series).toString();\n        }\n    }\n\n    @Override\n    public void customize(JFreeChart chart, JRChart jasperChart) {\n\n        CategoryPlot plot = (CategoryPlot) chart.getPlot();\n        plot.setRangeGridlinesVisible(false);\n\n        BarRenderer renderer = (BarRenderer) plot.getRenderer();\n        renderer.setItemMargin(-1);\n        renderer.setBaseItemLabelGenerator(new LabelGenerator());\n        renderer.setBaseItemLabelsVisible(true);\n        ItemLabelPosition p = new ItemLabelPosition(ItemLabelAnchor.INSIDE12,\n                TextAnchor.CENTER_RIGHT, TextAnchor.CENTER_RIGHT,\n                -Math.PI / 2.0);\n        renderer.setBaseItemLabelPaint(new Color(255, 255, 255));\n        renderer.setBasePositiveItemLabelPosition(p);\n\n        ItemLabelPosition p2 = new ItemLabelPosition(ItemLabelAnchor.OUTSIDE12,\n                TextAnchor.CENTER_LEFT, TextAnchor.CENTER_LEFT, -Math.PI / 2.0);\n        renderer.setBaseItemLabelPaint(new Color(0, 0, 0));\n        renderer.setPositiveItemLabelPositionFallback(p2);\n\n        CategoryAxis domainAxis = plot.getDomainAxis();\n        domainAxis.setCategoryLabelPositions(CategoryLabelPositions.UP_90);\n    }\n}\n</code></pre>\n"},{"tags":["java","docker","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":4113197,"reputation":879,"user_id":3375525,"accept_rate":67,"display_name":"j.con"},"score":2,"creation_date":1634054144,"post_id":69543011,"comment_id":122920978,"body_markdown":"By default tomcat will serve the app based on the .war file name. &quot;For example, if you deploy an WAR file called demo.war, it will be made available under the demo context.&quot; - https://octopus.com/blog/defining-tomcat-context-paths   or you can override that by adding a context.xml (and define a path=myApp)","body":"By default tomcat will serve the app based on the .war file name. &quot;For example, if you deploy an WAR file called demo.war, it will be made available under the demo context.&quot; - <a href=\"https://octopus.com/blog/defining-tomcat-context-paths\" rel=\"nofollow noreferrer\">octopus.com/blog/defining-tomcat-context-paths</a>   or you can override that by adding a context.xml (and define a path=myApp)"}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634052186,"creation_date":1634052186,"answer_id":69543133,"question_id":69543011,"body_markdown":"There is no URL to be set, at least not explicitly.\r\n\r\nOnce you have your application started in a container (either started through *IntelliJ IDEA*, *Docker Desktop (for)*, command line...) with the port binding configuration (the *Bind ports* config section in your screenshot), you are only left with the application as if it was started on the host on the mapped port (the first section before the colon `:` in the port binding).\r\n\r\nWhich means you can simply access your application on:\r\n    \r\n    \r\n    http://localhost:8080\r\n    \r\nfollowing the pattern for a URL: `(protocol)://(host)(:port)` where:\r\n* `protocol` is HTTP since you mentioned using *Tomcat* as a web server\r\n* `host` being you local station where the docker daemon is running on\r\n* `port` being the port you chose to map to the started container port\r\n","title":"URL for webapp Docker Tomcat IntelliJ","body":"<p>There is no URL to be set, at least not explicitly.</p>\n<p>Once you have your application started in a container (either started through <em>IntelliJ IDEA</em>, <em>Docker Desktop (for)</em>, command line...) with the port binding configuration (the <em>Bind ports</em> config section in your screenshot), you are only left with the application as if it was started on the host on the mapped port (the first section before the colon <code>:</code> in the port binding).</p>\n<p>Which means you can simply access your application on:</p>\n<pre><code>http://localhost:8080\n</code></pre>\n<p>following the pattern for a URL: <code>(protocol)://(host)(:port)</code> where:</p>\n<ul>\n<li><code>protocol</code> is HTTP since you mentioned using <em>Tomcat</em> as a web server</li>\n<li><code>host</code> being you local station where the docker daemon is running on</li>\n<li><code>port</code> being the port you chose to map to the started container port</li>\n</ul>\n"}],"owner":{"account_id":16297459,"reputation":35,"user_id":11769348,"display_name":"marin dcv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634055769,"creation_date":1634051631,"question_id":69543011,"body_markdown":"I&#39;m using a Tomcat 9 server in a Docker container to deploy locally a webapp for development purposes. I can connect to my Tomcat using http://localhost:8080/ [![Localhost Tomcat][1]][1]But I can&#39;t find my webapp URL anywhere. My Docker container is deployed from IntelliJ, and I have no URL field in the configuration of the Container.[![IntelliJ Run/Debug Configurations][2]][2]\r\n\r\n\r\nDoes anyone know where to find/set the URL ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PNz5m.png\r\n  [2]: https://i.stack.imgur.com/W3PJp.png","title":"URL for webapp Docker Tomcat IntelliJ","body":"<p>I'm using a Tomcat 9 server in a Docker container to deploy locally a webapp for development purposes. I can connect to my Tomcat using http://localhost:8080/ <a href=\"https://i.stack.imgur.com/PNz5m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PNz5m.png\" alt=\"Localhost Tomcat\" /></a>But I can't find my webapp URL anywhere. My Docker container is deployed from IntelliJ, and I have no URL field in the configuration of the Container.<a href=\"https://i.stack.imgur.com/W3PJp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W3PJp.png\" alt=\"IntelliJ Run/Debug Configurations\" /></a></p>\n<p>Does anyone know where to find/set the URL ?</p>\n"},{"tags":["java","jboss","jms","ejb","activemq-artemis"],"owner":{"account_id":22829981,"reputation":21,"user_id":16978625,"display_name":"java_dev_1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634055341,"creation_date":1632343394,"question_id":69291043,"body_markdown":"Trying to integrate jboss eap 6.4 with artemis server(2.17), placed libraries in modules folder &amp; used resource-adapter in standalone.xml, could able to post message to remote artemis server(clustered) but cannot listen with MDB&#39;s. \r\n\r\nConfiguration in standalone.xml:\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:1.1&quot;&gt;\r\n                &lt;resource-adapters&gt;\r\n                    &lt;resource-adapter id=&quot;org.apache.activemq.artemis.ra&quot;&gt;\r\n                        &lt;module slot=&quot;main&quot; id=&quot;org.apache.activemq.artemis.ra&quot;/&gt;\r\n                        &lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\r\n                        &lt;config-property name=&quot;ConfirmationWindowSize&quot;&gt;\r\n                            50\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;DiscoveryRefreshTimeout&quot;&gt;\r\n                            3333\r\n                        &lt;/config-property&gt;\r\n    \t\t\t\t\t&lt;config-property name=&quot;userName&quot;&gt;\r\n                            amq-user\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;password&quot;&gt;\r\n                            amq-pwd\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;ClientFailureCheckPeriod&quot;&gt;\r\n                            100\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;MaxRetryInterval&quot;&gt;\r\n                            3000\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;ConnectionParameters&quot;&gt;\r\n                            host=remote-host1;port=61616,host=remote-host2;port=61616,host=remote-host3;port=61616\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;HA&quot;&gt;\r\n                            true\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;RetryInterval&quot;&gt;\r\n                            4444\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;connectorClassName&quot;&gt;\r\n                            org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnectorFactory\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;ConnectionLoadBalancingPolicyClassName&quot;&gt;\r\n                            org.apache.activemq.artemis.api.core.client.loadbalance.RoundRobinConnectionLoadBalancingPolicy\r\n                        &lt;/config-property&gt;\r\n                        &lt;config-property name=&quot;ReconnectAttempts&quot;&gt;\r\n                            10\r\n                        &lt;/config-property&gt;\r\n                        &lt;connection-definitions&gt;\r\n                            &lt;connection-definition class-name=&quot;org.apache.activemq.artemis.ra.ActiveMQRAManagedConnectionFactory&quot; jndi-name=&quot;java:/JmsConnectionFactory&quot; enabled=&quot;true&quot; pool-name=&quot;JmsConnectionFactory&quot;&gt;\r\n                                &lt;xa-pool&gt;\r\n                                    &lt;min-pool-size&gt;25&lt;/min-pool-size&gt;\r\n                                    &lt;max-pool-size&gt;30&lt;/max-pool-size&gt;\r\n                                    &lt;prefill&gt;true&lt;/prefill&gt;\r\n                                    &lt;is-same-rm-override&gt;false&lt;/is-same-rm-override&gt;\r\n                                &lt;/xa-pool&gt;\r\n                            &lt;/connection-definition&gt;\r\n                        &lt;/connection-definitions&gt;\r\n                        &lt;admin-objects&gt;\r\n                            &lt;admin-object class-name=&quot;org.apache.activemq.artemis.jms.client.ActiveMQQueue&quot; jndi-name=&quot;java:jboss/jms/queue/TestQueue&quot; use-java-context=&quot;true&quot; pool-name=&quot;TestQueue&quot;&gt;\r\n                                &lt;config-property name=&quot;PhysicalName&quot;&gt;\r\n                                    TestQueue\r\n                                &lt;/config-property&gt;\r\n                            &lt;/admin-object&gt;\r\n                        &lt;/admin-objects&gt;\r\n                    &lt;/resource-adapter&gt;\r\n                &lt;/resource-adapters&gt;\r\n    &lt;mdb&gt;\r\n                    &lt;resource-adapter-ref resource-adapter-name=&quot;org.apache.activemq.artemis.ra&quot;/&gt;\r\n                    &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\r\n                &lt;/mdb&gt;\r\n\r\nListnerCode:\r\n\r\n    @MessageDriven(mappedName = &quot;java:jboss/jms/queue/TestQueue&quot;, activationConfig = {\r\n            @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n            @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;TestQueue&quot;),\r\n            @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;) })\r\n    public class TestQueueListener implements MessageListener {}\r\n\r\nLocal jboss logs, below warn is coming repeatedly.\r\n\r\nWARN [org.apache.activemq.artemis.ra] (default-threads - 2) {X:|I:} AMQ153005: Unable to retrieve &quot;TestQueue&quot; from JNDI. Creating a new &quot;javax.jms.Queue&quot; named &quot;TestQueue&quot; to be used by the MDB.\r\n\r\nOn Artemis server logs, \r\n\r\nDEBUG [org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler] Sending exception to client: ActiveMQNonExistentQueueException[errorType=QUEUE_DOES_NOT_EXIST message=AMQ229017: Queue TestQueue does not exist]\r\n \r\nI guess jboss is not configured properly and cannot create queue for listener.","title":"Jboss EAP 6.4 integration with artemis","body":"<p>Trying to integrate jboss eap 6.4 with artemis server(2.17), placed libraries in modules folder &amp; used resource-adapter in standalone.xml, could able to post message to remote artemis server(clustered) but cannot listen with MDB's.</p>\n<p>Configuration in standalone.xml:</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:1.1&quot;&gt;\n            &lt;resource-adapters&gt;\n                &lt;resource-adapter id=&quot;org.apache.activemq.artemis.ra&quot;&gt;\n                    &lt;module slot=&quot;main&quot; id=&quot;org.apache.activemq.artemis.ra&quot;/&gt;\n                    &lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\n                    &lt;config-property name=&quot;ConfirmationWindowSize&quot;&gt;\n                        50\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;DiscoveryRefreshTimeout&quot;&gt;\n                        3333\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;userName&quot;&gt;\n                        amq-user\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;password&quot;&gt;\n                        amq-pwd\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;ClientFailureCheckPeriod&quot;&gt;\n                        100\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;MaxRetryInterval&quot;&gt;\n                        3000\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;ConnectionParameters&quot;&gt;\n                        host=remote-host1;port=61616,host=remote-host2;port=61616,host=remote-host3;port=61616\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;HA&quot;&gt;\n                        true\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;RetryInterval&quot;&gt;\n                        4444\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;connectorClassName&quot;&gt;\n                        org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnectorFactory\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;ConnectionLoadBalancingPolicyClassName&quot;&gt;\n                        org.apache.activemq.artemis.api.core.client.loadbalance.RoundRobinConnectionLoadBalancingPolicy\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;ReconnectAttempts&quot;&gt;\n                        10\n                    &lt;/config-property&gt;\n                    &lt;connection-definitions&gt;\n                        &lt;connection-definition class-name=&quot;org.apache.activemq.artemis.ra.ActiveMQRAManagedConnectionFactory&quot; jndi-name=&quot;java:/JmsConnectionFactory&quot; enabled=&quot;true&quot; pool-name=&quot;JmsConnectionFactory&quot;&gt;\n                            &lt;xa-pool&gt;\n                                &lt;min-pool-size&gt;25&lt;/min-pool-size&gt;\n                                &lt;max-pool-size&gt;30&lt;/max-pool-size&gt;\n                                &lt;prefill&gt;true&lt;/prefill&gt;\n                                &lt;is-same-rm-override&gt;false&lt;/is-same-rm-override&gt;\n                            &lt;/xa-pool&gt;\n                        &lt;/connection-definition&gt;\n                    &lt;/connection-definitions&gt;\n                    &lt;admin-objects&gt;\n                        &lt;admin-object class-name=&quot;org.apache.activemq.artemis.jms.client.ActiveMQQueue&quot; jndi-name=&quot;java:jboss/jms/queue/TestQueue&quot; use-java-context=&quot;true&quot; pool-name=&quot;TestQueue&quot;&gt;\n                            &lt;config-property name=&quot;PhysicalName&quot;&gt;\n                                TestQueue\n                            &lt;/config-property&gt;\n                        &lt;/admin-object&gt;\n                    &lt;/admin-objects&gt;\n                &lt;/resource-adapter&gt;\n            &lt;/resource-adapters&gt;\n&lt;mdb&gt;\n                &lt;resource-adapter-ref resource-adapter-name=&quot;org.apache.activemq.artemis.ra&quot;/&gt;\n                &lt;bean-instance-pool-ref pool-name=&quot;mdb-strict-max-pool&quot;/&gt;\n            &lt;/mdb&gt;\n</code></pre>\n<p>ListnerCode:</p>\n<pre><code>@MessageDriven(mappedName = &quot;java:jboss/jms/queue/TestQueue&quot;, activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;TestQueue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;) })\npublic class TestQueueListener implements MessageListener {}\n</code></pre>\n<p>Local jboss logs, below warn is coming repeatedly.</p>\n<p>WARN [org.apache.activemq.artemis.ra] (default-threads - 2) {X:|I:} AMQ153005: Unable to retrieve &quot;TestQueue&quot; from JNDI. Creating a new &quot;javax.jms.Queue&quot; named &quot;TestQueue&quot; to be used by the MDB.</p>\n<p>On Artemis server logs,</p>\n<p>DEBUG [org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler] Sending exception to client: ActiveMQNonExistentQueueException[errorType=QUEUE_DOES_NOT_EXIST message=AMQ229017: Queue TestQueue does not exist]</p>\n<p>I guess jboss is not configured properly and cannot create queue for listener.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1634054859,"post_id":69543590,"comment_id":122921289,"body_markdown":"Does this answer your question? [Java 8 Distinct by property](https://stackoverflow.com/questions/23699371/java-8-distinct-by-property)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23699371/java-8-distinct-by-property\">Java 8 Distinct by property</a>"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1634054977,"post_id":69543590,"comment_id":122921331,"body_markdown":"Which element should  be chosen if 2 have the same `name`?","body":"Which element should  be chosen if 2 have the same <code>name</code>?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634055133,"post_id":69543590,"comment_id":122921408,"body_markdown":"What have you tried? This site is not a code-writing service. We can help you with *specific* questions about *your* code, ideally accompanied by an [MCVE](https://stackoverflow.com/help/mcve). Not having written any code is not considered a “problem” we should solve.","body":"What have you tried? This site is not a code-writing service. We can help you with <i>specific</i> questions about <i>your</i> code, ideally accompanied by an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. Not having written any code is not considered a “problem” we should solve."},{"owner":{"account_id":17984180,"reputation":25,"user_id":13069829,"display_name":"Santosh Kamat"},"score":0,"creation_date":1634175510,"post_id":69543590,"comment_id":122957452,"body_markdown":"Thanks for letting me know this ain&#39;t a code writing service. Nobody has asked you to come and vomit here and I am not obliged to show you what I have tried and what not as you have not even answered. Please don&#39;t make this world negative fella&#128522; @bohemian","body":"Thanks for letting me know this ain&#39;t a code writing service. Nobody has asked you to come and vomit here and I am not obliged to show you what I have tried and what not as you have not even answered. Please don&#39;t make this world negative fella😊 @bohemian"}],"answers":[{"tags":[],"owner":{"account_id":10369310,"reputation":1,"user_id":7647451,"display_name":"Nadia GeekeuzZ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634054919,"creation_date":1634054919,"answer_id":69543756,"question_id":69543590,"body_markdown":"try this \r\n\r\n```\r\n public static void main(String args[]) {\r\n    List&lt;String&gt; distinct = list.stream().distinct().collect(Collectors.toList());\r\n    \r\n    for(String str : distinct) {\r\n            \tSystem.out.println(str);\r\n    }\r\n\r\n    }\r\n```","title":"Get list of objects having same attribute and value of attribute occurring more than once","body":"<p>try this</p>\n<pre><code> public static void main(String args[]) {\n    List&lt;String&gt; distinct = list.stream().distinct().collect(Collectors.toList());\n    \n    for(String str : distinct) {\n                System.out.println(str);\n    }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9924285,"reputation":708,"user_id":7346454,"display_name":"Thomas Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634055143,"creation_date":1634055143,"answer_id":69543810,"question_id":69543590,"body_markdown":"I would groupBy name and then filter lists with only one element.\r\n\r\n```java\r\nMap&lt;String, List&lt; SomeClass &gt;&gt; someClassByName =\r\n    list.stream().collect(Collectors.groupingBy(sc -&gt; sc.name));\r\n\r\nList&lt;SomeClass&gt; filteredList = someClassByName.values().stream()\r\n    .filter(listForName -&gt; listForName.size() &gt; 1)\r\n    .flatMap(List::stream)\r\n    .collect(Collectors.toList());\r\n\r\n```","title":"Get list of objects having same attribute and value of attribute occurring more than once","body":"<p>I would groupBy name and then filter lists with only one element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt; SomeClass &gt;&gt; someClassByName =\n    list.stream().collect(Collectors.groupingBy(sc -&gt; sc.name));\n\nList&lt;SomeClass&gt; filteredList = someClassByName.values().stream()\n    .filter(listForName -&gt; listForName.size() &gt; 1)\n    .flatMap(List::stream)\n    .collect(Collectors.toList());\n\n</code></pre>\n"}],"owner":{"account_id":17984180,"reputation":25,"user_id":13069829,"display_name":"Santosh Kamat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634055167,"answer_count":2,"score":0,"last_activity_date":1634055143,"creation_date":1634054116,"question_id":69543590,"body_markdown":"I have a pojo class\r\n\r\n    public class SomeClass {\r\n    \t\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tpublic SomeClass(int id, String name) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\nAlso I have list&lt;SomeClass&gt;\r\n\r\n    SomeClass s1 = new SomeClass(1, &quot;abc&quot;);\r\n    SomeClass s2 = new SomeClass(2, &quot;xyz&quot;);\r\n    SomeClass s3 = new SomeClass(5, &quot;abc&quot;);\r\n    SomeClass s4 = new SomeClass(6, &quot;rst&quot;);\r\n    SomeClass s5 = new SomeClass(2, &quot;xyz&quot;);\r\n    SomeClass s6 = new SomeClass(3,&quot;xyz&quot;);\r\n    SomeClass s7 = new SomeClass(9,&quot;der&quot;);\r\n\r\n    \t\t\r\n    List&lt;SomeClass&gt; list = Arrays.asList(s1,s2,s3,s4,s5,s6,s7);\r\n\r\nI want to filter out objects from list having same **name** property . For example s1 and s3 have same name property. Also s2, s5, s6 have same property\r\n\r\nThe output that is the filtered list should have **s1 , s3 , s2 , s5 , s6** as elements. How do I do this using java streams API ?","title":"Get list of objects having same attribute and value of attribute occurring more than once","body":"<p>I have a pojo class</p>\n<pre><code>public class SomeClass {\n    \n    private int id;\n    private String name;\n    public SomeClass(int id, String name) {\n        super();\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n<p>Also I have list</p>\n<pre><code>SomeClass s1 = new SomeClass(1, &quot;abc&quot;);\nSomeClass s2 = new SomeClass(2, &quot;xyz&quot;);\nSomeClass s3 = new SomeClass(5, &quot;abc&quot;);\nSomeClass s4 = new SomeClass(6, &quot;rst&quot;);\nSomeClass s5 = new SomeClass(2, &quot;xyz&quot;);\nSomeClass s6 = new SomeClass(3,&quot;xyz&quot;);\nSomeClass s7 = new SomeClass(9,&quot;der&quot;);\n\n        \nList&lt;SomeClass&gt; list = Arrays.asList(s1,s2,s3,s4,s5,s6,s7);\n</code></pre>\n<p>I want to filter out objects from list having same <strong>name</strong> property . For example s1 and s3 have same name property. Also s2, s5, s6 have same property</p>\n<p>The output that is the filtered list should have <strong>s1 , s3 , s2 , s5 , s6</strong> as elements. How do I do this using java streams API ?</p>\n"},{"tags":["java","fizzbuzz"],"answers":[{"tags":[],"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633796782,"creation_date":1633796782,"answer_id":69508628,"question_id":69508577,"body_markdown":"You are using only if statement which will check all the conditions, and if last condition(bottom if) is satisfied then it will print its output.\r\n\r\nSo, U will have to use if...else statement for that.","title":"Java fizzBuzz (excercise from CodingBat- Array2)","body":"<p>You are using only if statement which will check all the conditions, and if last condition(bottom if) is satisfied then it will print its output.</p>\n<p>So, U will have to use if...else statement for that.</p>\n"}],"owner":{"account_id":20233626,"reputation":1,"user_id":17115023,"display_name":"Sapunaru Teodor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634055042,"creation_date":1633796387,"question_id":69508577,"body_markdown":"I have this fizzBuzz excercise from codingBat https://codingbat.com/prob/p153059 , my idea of solving is pretty basic:\r\n\r\n```\r\npublic String[] fizzBuzz(int start, int end) {\r\n  \r\n  int n=end-start;\r\n  \r\n  String[] array=new String[n];\r\n  \r\n  for(int i=0;i&lt;n;i++){\r\n    \r\n    if(((start+i) % 3 ==0) &amp;&amp; ((start+i) % 5 ==0)) array[i]=&quot;FizzBuzz&quot;;\r\n    if((start+i) % 5 ==0)  array[i]=&quot;Buzz&quot;;\r\n    if((start+i) % 3 ==0)  array[i]=&quot;Fizz&quot;;\r\n    \r\n    \r\n    else{\r\n      array[i]=String.valueOf((start+i));\r\n    }\r\n  }\r\n  \r\n  return array;\r\n  \r\n}\r\n```\r\n\r\nI don&#39;t understand why at the if&#39;s part in the for loop only the bottom if is read so for example all numbers that are multiple of 3&#39;s as shown above will be displayed as &quot;Fizz&quot; but only them, then if i put a different if at the bottom, it will be the only one that is displayed, i can&#39;t seem to figure out why.","title":"Java fizzBuzz (excercise from CodingBat- Array2)","body":"<p>I have this fizzBuzz excercise from codingBat <a href=\"https://codingbat.com/prob/p153059\" rel=\"nofollow noreferrer\">https://codingbat.com/prob/p153059</a> , my idea of solving is pretty basic:</p>\n<pre><code>public String[] fizzBuzz(int start, int end) {\n  \n  int n=end-start;\n  \n  String[] array=new String[n];\n  \n  for(int i=0;i&lt;n;i++){\n    \n    if(((start+i) % 3 ==0) &amp;&amp; ((start+i) % 5 ==0)) array[i]=&quot;FizzBuzz&quot;;\n    if((start+i) % 5 ==0)  array[i]=&quot;Buzz&quot;;\n    if((start+i) % 3 ==0)  array[i]=&quot;Fizz&quot;;\n    \n    \n    else{\n      array[i]=String.valueOf((start+i));\n    }\n  }\n  \n  return array;\n  \n}\n</code></pre>\n<p>I don't understand why at the if's part in the for loop only the bottom if is read so for example all numbers that are multiple of 3's as shown above will be displayed as &quot;Fizz&quot; but only them, then if i put a different if at the bottom, it will be the only one that is displayed, i can't seem to figure out why.</p>\n"},{"tags":["java","intellij-idea","settings","formatter","chop"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1634057782,"post_id":69543776,"comment_id":122922427,"body_markdown":"Please report it as a bug at https://youtrack.jetbrains.com/newIssue?project=IDEA. Thank you.","body":"Please report it as a bug at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a>. Thank you."},{"owner":{"account_id":8599834,"reputation":59,"user_id":6441783,"display_name":"warozell"},"score":0,"creation_date":1634113376,"post_id":69543776,"comment_id":122935992,"body_markdown":"Thanks for the reply, created as https://youtrack.jetbrains.com/issue/IDEA-280244 for anyone who might be looking for a resolution as well","body":"Thanks for the reply, created as <a href=\"https://youtrack.jetbrains.com/issue/IDEA-280244\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-280244</a> for anyone who might be looking for a resolution as well"}],"owner":{"account_id":8599834,"reputation":59,"user_id":6441783,"display_name":"warozell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634054982,"creation_date":1634054982,"question_id":69543776,"body_markdown":"Whenever I call a method that has too many arguments and the line exceeds the margin, I need it to put each of the params on separate lines.\r\n\r\nMy settings:\r\n[![My settings][1]][1]\r\n\r\nOriginal code:\r\n```\r\nreturn getSubscriptionList(contractNumber, objects, acceptLanguage, userNumber, bankSystem, groupIdentification).stream()\r\n        .map(subscription -&gt; createSubscriptionListItem(subscription,accountsFilterItems))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nAfter reformatting (this changes it exactly to what I want):\r\n```\r\nreturn getSubscriptionList(\r\n        contractNumber,\r\n        objects,\r\n        acceptLanguage,\r\n        userNumber,\r\n        bankSystem,\r\n        groupIdentification\r\n).stream()\r\n        .map(subscription -&gt; createSubscriptionListItem(subscription, accountsFilterItems))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nAfter reformatting the already reformatted code again:\r\n```\r\nreturn getSubscriptionList(contractNumber,\r\n        objects,\r\n        acceptLanguage,\r\n        userNumber,\r\n        bankSystem,\r\n        groupIdentification\r\n).stream()\r\n        .map(subscription -&gt; createSubscriptionListItem(subscription, accountsFilterItems))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nWhy does it change the format the second time, and how can I change my settings to fix it?\r\n\r\n[Link to settings XML export][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zkk0p.png\r\n  [2]: https://pastebin.com/tbMtrrkz","title":"Intellij IDEA setting for &quot;method call argument:s chop down if long&quot; misbehaving","body":"<p>Whenever I call a method that has too many arguments and the line exceeds the margin, I need it to put each of the params on separate lines.</p>\n<p>My settings:\n<a href=\"https://i.stack.imgur.com/Zkk0p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zkk0p.png\" alt=\"My settings\" /></a></p>\n<p>Original code:</p>\n<pre><code>return getSubscriptionList(contractNumber, objects, acceptLanguage, userNumber, bankSystem, groupIdentification).stream()\n        .map(subscription -&gt; createSubscriptionListItem(subscription,accountsFilterItems))\n        .collect(Collectors.toList());\n</code></pre>\n<p>After reformatting (this changes it exactly to what I want):</p>\n<pre><code>return getSubscriptionList(\n        contractNumber,\n        objects,\n        acceptLanguage,\n        userNumber,\n        bankSystem,\n        groupIdentification\n).stream()\n        .map(subscription -&gt; createSubscriptionListItem(subscription, accountsFilterItems))\n        .collect(Collectors.toList());\n</code></pre>\n<p>After reformatting the already reformatted code again:</p>\n<pre><code>return getSubscriptionList(contractNumber,\n        objects,\n        acceptLanguage,\n        userNumber,\n        bankSystem,\n        groupIdentification\n).stream()\n        .map(subscription -&gt; createSubscriptionListItem(subscription, accountsFilterItems))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Why does it change the format the second time, and how can I change my settings to fix it?</p>\n<p><a href=\"https://pastebin.com/tbMtrrkz\" rel=\"nofollow noreferrer\">Link to settings XML export</a></p>\n"},{"tags":["java","database","list","linked-list","queue"],"answers":[{"tags":[],"owner":{"account_id":7230356,"reputation":1512,"user_id":5517465,"accept_rate":100,"display_name":"Yassir Khaldi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634054923,"creation_date":1634054923,"answer_id":69543758,"question_id":69543545,"body_markdown":"First of all I noticed that the code contains many redundancies and antipatterns, for example defining a do/while inside a while is reduntant, then alternating the queue inside the for loop will eventually result in a `ConcurrentModificationException`.\r\n\r\nThe first player that plays removes all other players from the Queue, what&#39;s the purpose of this program?","title":"How can I store and add items back to a queue","body":"<p>First of all I noticed that the code contains many redundancies and antipatterns, for example defining a do/while inside a while is reduntant, then alternating the queue inside the for loop will eventually result in a <code>ConcurrentModificationException</code>.</p>\n<p>The first player that plays removes all other players from the Queue, what's the purpose of this program?</p>\n"}],"owner":{"account_id":18264143,"reputation":1,"user_id":13296292,"display_name":"Raul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634054923,"creation_date":1634053932,"question_id":69543545,"body_markdown":"I don&#39;t know how to store the items from the first queue, save them and then add them back on\r\n\r\nright now it goes through once and then the queue is empty\r\n\r\nI know the concept just don&#39;t know the syntax \r\n\r\ntried making a second queue and adding the players back when the queue is empty but it didn&#39;t work\r\n\r\n``` private static void gamelogic(Queue&lt;Baseball_PlayerItem&gt; inGame) {\r\n        Queue&lt;Baseball_PlayerItem&gt; players = getplayers();\r\n        int ct = 0;int outCt = 0;\r\n        boolean game = true;\r\n        for (Baseball_PlayerItem item : players) {\r\n            while (game) {\r\n                do {\r\n                    Random rand = new Random();\r\n                    double rand2 = rand.nextDouble();\r\n                    item = players.remove();\r\n                    if (item.getBatAvg() &gt; rand2) {\r\n                        System.out.printf(&quot;\\nHit Perc: %s player: %s&quot;, rand2, item.getBatAvg());\r\n                        ct++;\r\n                        if (ct &gt;= 3) {\r\n                            System.out.printf(&quot;\\nAnother home run total: %s&quot;, ct);\r\n                        }\r\n                    } else if (item.getBatAvg() &lt; rand2) {\r\n                        System.out.printf(&quot;\\nThats Miss&quot;);\r\n                        outCt++;\r\n                        if (outCt == 3) {\r\n                            System.out.printf(&quot;\\nThree outs game over :( Outs: %s&quot;,outCt);\r\n\r\n\r\n                        }else if (players.isEmpty()) {\r\n                            System.out.printf(&quot;\\nAll done&quot;);\r\n                            checkGameStatus();\r\n                            game = false;\r\n                        }\r\n                    }\r\n\r\n                } while (game = true);\r\n            }\r\n        }\r\n\r\n\r\n    }```Okay game on inning: 1\r\nThats Miss\r\nThats Miss\r\nThats Miss\r\nThree outs game over :( Outs: 3\r\nThats Miss\r\nThats Miss\r\nThats Miss\r\nThats Miss\r\nHit Perc: 0.12601973051909088 player: 0.323\r\nAnother home run total: 8\r\nThats Miss\r\nAll done\r\nWould you like to start the game (Y/N)----&gt;y\r\nException in thread &quot;main&quot; java.util.NoSuchElementException","title":"How can I store and add items back to a queue","body":"<p>I don't know how to store the items from the first queue, save them and then add them back on</p>\n<p>right now it goes through once and then the queue is empty</p>\n<p>I know the concept just don't know the syntax</p>\n<p>tried making a second queue and adding the players back when the queue is empty but it didn't work</p>\n<pre><code>        Queue&lt;Baseball_PlayerItem&gt; players = getplayers();\n        int ct = 0;int outCt = 0;\n        boolean game = true;\n        for (Baseball_PlayerItem item : players) {\n            while (game) {\n                do {\n                    Random rand = new Random();\n                    double rand2 = rand.nextDouble();\n                    item = players.remove();\n                    if (item.getBatAvg() &gt; rand2) {\n                        System.out.printf(&quot;\\nHit Perc: %s player: %s&quot;, rand2, item.getBatAvg());\n                        ct++;\n                        if (ct &gt;= 3) {\n                            System.out.printf(&quot;\\nAnother home run total: %s&quot;, ct);\n                        }\n                    } else if (item.getBatAvg() &lt; rand2) {\n                        System.out.printf(&quot;\\nThats Miss&quot;);\n                        outCt++;\n                        if (outCt == 3) {\n                            System.out.printf(&quot;\\nThree outs game over :( Outs: %s&quot;,outCt);\n\n\n                        }else if (players.isEmpty()) {\n                            System.out.printf(&quot;\\nAll done&quot;);\n                            checkGameStatus();\n                            game = false;\n                        }\n                    }\n\n                } while (game = true);\n            }\n        }\n\n\n    }```Okay game on inning: 1\nThats Miss\nThats Miss\nThats Miss\nThree outs game over :( Outs: 3\nThats Miss\nThats Miss\nThats Miss\nThats Miss\nHit Perc: 0.12601973051909088 player: 0.323\nAnother home run total: 8\nThats Miss\nAll done\nWould you like to start the game (Y/N)----&gt;y\nException in thread &quot;main&quot; java.util.NoSuchElementException\n</code></pre>\n"},{"tags":["java","android","gradle"],"owner":{"account_id":9915782,"reputation":45,"user_id":7340679,"display_name":"pion3k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634054537,"creation_date":1634054537,"question_id":69543678,"body_markdown":"I have a locally generated AAR library (generated as a module from another Android Studio project) which is imported to my Android application project. I want to set the versionName of the application project to be a concatenation of the AAR library versionName and the application versionName.\r\n\r\nI have something like this in my mind (in the application `build.gradle`)\r\n\r\n```\r\nandroid {\r\n...\r\n    defaultConfig {\r\n    ...\r\n        versionName &quot;1.2.3-&quot;   // app semantic version\r\n        versionNameSuffix &lt;getMyAarVersionName&gt;   // my library version name\r\n```\r\n\r\nThe result would be something like `versionName = 1.2.3-&lt;aarVersionName&gt;`\r\n\r\nIs it feasible to do so in gradle?\r\n","title":"How to append AAR library versionName to my application versionName?","body":"<p>I have a locally generated AAR library (generated as a module from another Android Studio project) which is imported to my Android application project. I want to set the versionName of the application project to be a concatenation of the AAR library versionName and the application versionName.</p>\n<p>I have something like this in my mind (in the application <code>build.gradle</code>)</p>\n<pre><code>android {\n...\n    defaultConfig {\n    ...\n        versionName &quot;1.2.3-&quot;   // app semantic version\n        versionNameSuffix &lt;getMyAarVersionName&gt;   // my library version name\n</code></pre>\n<p>The result would be something like <code>versionName = 1.2.3-&lt;aarVersionName&gt;</code></p>\n<p>Is it feasible to do so in gradle?</p>\n"},{"tags":["java","count","java-stream"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":5,"creation_date":1634052150,"post_id":69543095,"comment_id":122920117,"body_markdown":"`Map&lt;Integer, Long&gt;` instead !?","body":"<code>Map&lt;Integer, Long&gt;</code> instead !?"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634052323,"creation_date":1634052268,"answer_id":69543156,"question_id":69543095,"body_markdown":"Your resulting map has a `String` as key, not an `Integer`.\r\n\r\nEither convert it to a string:\r\n\r\n```java\r\nMap&lt;String, Long&gt; map = array.stream()\r\n.collect(\r\n    Collectors.groupingBy(Integer::toString, Collectors.counting())\r\n);\r\n```\r\n\r\nor use an `Integer` as the key:\r\n```java\r\nMap&lt;Integer, Long&gt; map = array.stream()\r\n.collect(\r\n    Collectors.groupingBy(Function.identity(), Collectors.counting())\r\n);\r\n```\r\n","title":"Group by integer count","body":"<p>Your resulting map has a <code>String</code> as key, not an <code>Integer</code>.</p>\n<p>Either convert it to a string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Long&gt; map = array.stream()\n.collect(\n    Collectors.groupingBy(Integer::toString, Collectors.counting())\n);\n</code></pre>\n<p>or use an <code>Integer</code> as the key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Long&gt; map = array.stream()\n.collect(\n    Collectors.groupingBy(Function.identity(), Collectors.counting())\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634052318,"creation_date":1634052318,"answer_id":69543165,"question_id":69543095,"body_markdown":"The problem is your map type: Map&lt;String, Long&gt; mismatch Map&lt;Integer,Long&gt; \r\n\r\n    Map&lt;String, Long&gt; map = array.stream()\r\n    .collect(\r\n        Collectors.groupingBy(Integer::valueOf, Collectors.counting())\r\n    );\r\n\r\nto \r\n\r\n    Map&lt;Integer, Long&gt; map = array.stream()\r\n    .collect(\r\n        Collectors.groupingBy(Integer::valueOf, Collectors.counting())\r\n    );\r\n\r\n","title":"Group by integer count","body":"<p>The problem is your map type: Map&lt;String, Long&gt; mismatch Map&lt;Integer,Long&gt;</p>\n<pre><code>Map&lt;String, Long&gt; map = array.stream()\n.collect(\n    Collectors.groupingBy(Integer::valueOf, Collectors.counting())\n);\n</code></pre>\n<p>to</p>\n<pre><code>Map&lt;Integer, Long&gt; map = array.stream()\n.collect(\n    Collectors.groupingBy(Integer::valueOf, Collectors.counting())\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12319244,"reputation":92,"user_id":8988922,"display_name":"feshout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634052589,"creation_date":1634052589,"answer_id":69543235,"question_id":69543095,"body_markdown":"    \tpublic static void main(String[] args) \r\n\t{   \r\n\t\tList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\t\tlist.add(1);\r\n\t\tlist.add(1);\r\n\t\tlist.add(2);\r\n\t\tlist.add(2);\r\n\t\tlist.add(3);\r\n\t\tlist.add(4);\r\n\t\t\r\n\t\tMap&lt;Integer, Long&gt; result = list.stream()\r\n\t\t\t\t  .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\t\t\r\n\t\tSystem.out.println(result);\r\n\t    \r\n\t    \r\n\t}\r\n\r\nResult is :{1=2, 2=2, 3=1, 4=1}\r\n\r\nI think that the problem is with that that Map is declared as &lt;String, Long&gt;","title":"Group by integer count","body":"<pre><code>    public static void main(String[] args) \n{   \n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    list.add(1);\n    list.add(1);\n    list.add(2);\n    list.add(2);\n    list.add(3);\n    list.add(4);\n    \n    Map&lt;Integer, Long&gt; result = list.stream()\n              .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n    \n    System.out.println(result);\n    \n    \n}\n</code></pre>\n<p>Result is :{1=2, 2=2, 3=1, 4=1}</p>\n<p>I think that the problem is with that that Map is declared as &lt;String, Long&gt;</p>\n"}],"owner":{"account_id":39763,"reputation":11414,"user_id":114865,"accept_rate":92,"display_name":"bear"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69543156,"answer_count":3,"score":0,"last_activity_date":1634054374,"creation_date":1634052022,"question_id":69543095,"body_markdown":"I have a `List` of `Integer`s and I&#39;m trying to count the frequency of each number using the streams API:\r\n\r\n```\r\n// List looks like [5,6]\r\n\r\nMap&lt;String, Long&gt; map = array.stream()\r\n.collect(\r\n    Collectors.groupingBy(Integer::valueOf, Collectors.counting())\r\n);\r\n```\r\n\r\nHowever, compilation fails with the below:\r\n\r\n```\r\nerror: incompatible types: inference variable K has incompatible bounds\r\n                .collect(\r\n                        ^\r\n    equality constraints: String\r\n    lower bounds: Integer\r\n```\r\n\r\nHow do I achieve what I want to do?","title":"Group by integer count","body":"<p>I have a <code>List</code> of <code>Integer</code>s and I'm trying to count the frequency of each number using the streams API:</p>\n<pre><code>// List looks like [5,6]\n\nMap&lt;String, Long&gt; map = array.stream()\n.collect(\n    Collectors.groupingBy(Integer::valueOf, Collectors.counting())\n);\n</code></pre>\n<p>However, compilation fails with the below:</p>\n<pre><code>error: incompatible types: inference variable K has incompatible bounds\n                .collect(\n                        ^\n    equality constraints: String\n    lower bounds: Integer\n</code></pre>\n<p>How do I achieve what I want to do?</p>\n"},{"tags":["java","html","spring-boot","xhtml","jsoup"],"answers":[{"tags":[],"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633974898,"creation_date":1633974898,"answer_id":69530555,"question_id":69302583,"body_markdown":"Using `Document.OutputSettings.Syntax.html` instead of `Document.OutputSettings.Syntax.xml` you can use the example code from [that stackoverflow question](https://stackoverflow.com/questions/29087077/is-it-possible-to-convert-html-into-xhtml-with-jsoup-1-8-1) to convert xhtml back to html.\r\n\r\n### Code example:\r\n```\r\nimport org.jsoup.parser.Parser;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Entities.EscapeMode;\r\nimport org.jsoup.Jsoup;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n    String body = &quot;&lt;br&gt;&quot;;\r\n    Document document = Jsoup.parseBodyFragment(body);\r\n    document.outputSettings().escapeMode(EscapeMode.xhtml);\r\n    String str = document.body().html();\r\n    System.out.println(&quot;XHTML:\\n&quot;+toXHTML(str));\r\n    System.out.println(&quot;\\nHTML:\\n&quot;+toHTML(str));\r\n    }\r\n    \r\n    static String toHTML( String html ) {\r\n    final Document document = Jsoup.parse(html);\r\n    document.outputSettings().syntax(Document.OutputSettings.Syntax.html);    \r\n    return document.html();\r\n}\r\n    static String toXHTML( String html ) {\r\n    final Document document = Jsoup.parse(html);\r\n    document.outputSettings().syntax(Document.OutputSettings.Syntax.xml);    \r\n    return document.html();\r\n}\r\n}\r\n```\r\n\r\n### Output:\r\n```\r\nXHTML:\r\n&lt;html&gt;\r\n &lt;head&gt;&lt;/head&gt;\r\n &lt;body&gt;\r\n  &lt;br /&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nHTML:\r\n&lt;html&gt;\r\n &lt;head&gt;&lt;/head&gt;\r\n &lt;body&gt;\r\n  &lt;br&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nReferences:  \r\n[Is it possible to convert HTML into XHTML with Jsoup 1.8.1?](https://stackoverflow.com/questions/29087077/is-it-possible-to-convert-html-into-xhtml-with-jsoup-1-8-1) - Henry  \r\n[Jsoup document settings](https://jsoup.org/apidocs/org/jsoup/nodes/Document.OutputSettings.Syntax.html)\r\n","title":"How to convert xhtml to html in java?","body":"<p>Using <code>Document.OutputSettings.Syntax.html</code> instead of <code>Document.OutputSettings.Syntax.xml</code> you can use the example code from <a href=\"https://stackoverflow.com/questions/29087077/is-it-possible-to-convert-html-into-xhtml-with-jsoup-1-8-1\">that stackoverflow question</a> to convert xhtml back to html.</p>\n<h3>Code example:</h3>\n<pre><code>import org.jsoup.parser.Parser;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Entities.EscapeMode;\nimport org.jsoup.Jsoup;\n\npublic class MyClass {\n    public static void main(String args[]) {\n    String body = &quot;&lt;br&gt;&quot;;\n    Document document = Jsoup.parseBodyFragment(body);\n    document.outputSettings().escapeMode(EscapeMode.xhtml);\n    String str = document.body().html();\n    System.out.println(&quot;XHTML:\\n&quot;+toXHTML(str));\n    System.out.println(&quot;\\nHTML:\\n&quot;+toHTML(str));\n    }\n    \n    static String toHTML( String html ) {\n    final Document document = Jsoup.parse(html);\n    document.outputSettings().syntax(Document.OutputSettings.Syntax.html);    \n    return document.html();\n}\n    static String toXHTML( String html ) {\n    final Document document = Jsoup.parse(html);\n    document.outputSettings().syntax(Document.OutputSettings.Syntax.xml);    \n    return document.html();\n}\n}\n</code></pre>\n<h3>Output:</h3>\n<pre><code>XHTML:\n&lt;html&gt;\n &lt;head&gt;&lt;/head&gt;\n &lt;body&gt;\n  &lt;br /&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n\nHTML:\n&lt;html&gt;\n &lt;head&gt;&lt;/head&gt;\n &lt;body&gt;\n  &lt;br&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>References:<br />\n<a href=\"https://stackoverflow.com/questions/29087077/is-it-possible-to-convert-html-into-xhtml-with-jsoup-1-8-1\">Is it possible to convert HTML into XHTML with Jsoup 1.8.1?</a> - Henry<br />\n<a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Document.OutputSettings.Syntax.html\" rel=\"nofollow noreferrer\">Jsoup document settings</a></p>\n"}],"owner":{"account_id":22618799,"reputation":11,"user_id":16797927,"display_name":"Louabk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634054147,"creation_date":1632409623,"question_id":69302583,"body_markdown":"I converted an html string to xhtml in java using jsoup as shown here: https://stackoverflow.com/questions/29087077/is-it-possible-to-convert-html-into-xhtml-with-jsoup-1-8-1\r\n\r\nHowever, I couldn&#39;t find a way to do the opposite, I mean, convert xhtml to html; is there a way to do this in java?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6SOrx.png","title":"How to convert xhtml to html in java?","body":"<p>I converted an html string to xhtml in java using jsoup as shown here: <a href=\"https://stackoverflow.com/questions/29087077/is-it-possible-to-convert-html-into-xhtml-with-jsoup-1-8-1\">Is it possible to convert HTML into XHTML with Jsoup 1.8.1?</a></p>\n<p>However, I couldn't find a way to do the opposite, I mean, convert xhtml to html; is there a way to do this in java?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1634053599,"post_id":69543431,"comment_id":122920732,"body_markdown":"1. You definitely need `volatile`. 2.  NEVER ignore an interrupted exception.","body":"1. You definitely need <code>volatile</code>. 2.  NEVER ignore an interrupted exception."},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":0,"creation_date":1634053770,"post_id":69543431,"comment_id":122920814,"body_markdown":"What do you think `synchronized` does?","body":"What do you think <code>synchronized</code> does?"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":1,"creation_date":1634053817,"post_id":69543431,"comment_id":122920841,"body_markdown":"if you have sync, you do not need volatile. Not vice-versa though","body":"if you have sync, you do not need volatile. Not vice-versa though"},{"owner":{"account_id":8847129,"reputation":168,"user_id":6607559,"accept_rate":75,"display_name":"Terrence"},"score":0,"creation_date":1634053899,"post_id":69543431,"comment_id":122920881,"body_markdown":"@markspace I agree with your point of view, but in some open source projects, I found the source code without adding &quot;volatile&quot;. I tried not to increase this modifier, which resulted in an error example, but unfortunately I did not get it.","body":"@markspace I agree with your point of view, but in some open source projects, I found the source code without adding &quot;volatile&quot;. I tried not to increase this modifier, which resulted in an error example, but unfortunately I did not get it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1634054155,"post_id":69543431,"comment_id":122920988,"body_markdown":"@Khanna111  When the monitor is re-acquired after a `wait()`, does the system add a memory barrier?  I&#39;m concerned about re-reading `fActiveTestDeathCount` after the first loop.","body":"@Khanna111  When the monitor is re-acquired after a <code>wait()</code>, does the system add a memory barrier?  I&#39;m concerned about re-reading <code>fActiveTestDeathCount</code> after the first loop."},{"owner":{"account_id":8847129,"reputation":168,"user_id":6607559,"accept_rate":75,"display_name":"Terrence"},"score":0,"creation_date":1634054353,"post_id":69543431,"comment_id":122921069,"body_markdown":"@David Schwartz/Khanna111  Thank you, I seem to have forgotten the fact that the code is running in a synchronized block, and any thread needs to reacquire the lock after being awakened. Because the JVM will increase the memory barrier before and after the critical section, it keeps the variables of the thread working memory updated synchronously.","body":"@David Schwartz/Khanna111  Thank you, I seem to have forgotten the fact that the code is running in a synchronized block, and any thread needs to reacquire the lock after being awakened. Because the JVM will increase the memory barrier before and after the critical section, it keeps the variables of the thread working memory updated synchronously."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1634058248,"post_id":69543431,"comment_id":122922632,"body_markdown":"@markspace Yes, re-acquisition of the lock when `wait()` returns synchronizes-with any release of the lock after a corresponding `notify()` call.","body":"@markspace Yes, re-acquisition of the lock when <code>wait()</code> returns synchronizes-with any release of the lock after a corresponding <code>notify()</code> call."},{"owner":{"account_id":8847129,"reputation":168,"user_id":6607559,"accept_rate":75,"display_name":"Terrence"},"score":0,"creation_date":1634090855,"post_id":69543431,"comment_id":122930722,"body_markdown":"@Khanna111 When a thread is awakened, it should restart execution from the wait place, and of course it has to acquire the lock. I want to know if the thread will execute the memory barrier instruction again while holding the lock at this time?","body":"@Khanna111 When a thread is awakened, it should restart execution from the wait place, and of course it has to acquire the lock. I want to know if the thread will execute the memory barrier instruction again while holding the lock at this time?"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1634138398,"post_id":69543431,"comment_id":122946901,"body_markdown":"Yes, it comes with acquiring the lock AFAIK. But you would not see stale data in any case. It would be refreshed from the main memory or pushed to the main memory.","body":"Yes, it comes with acquiring the lock AFAIK. But you would not see stale data in any case. It would be refreshed from the main memory or pushed to the main memory."}],"answers":[{"tags":[],"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634054099,"creation_date":1634054099,"answer_id":69543584,"question_id":69543431,"body_markdown":"Here `volatile` is neither required nor sufficient.\r\n\r\nWhy is it not sufficient? Because it won&#39;t stop a thread from checking `fActiveTestDeathCount` right before it is modified by another thread and then irrevocably deciding to `wait` for something that happened right after it checked. \r\n\r\nWhy is it not required? Because `synchronized` already establishes a &quot;happens before&quot; relationship among any two threads accessing `fActiveTestDeathCount`.\r\n\r\nThe whole point of `wait` is to provide an atomic &quot;unlock and wait&quot; operation to solve precisely this race condition.","title":"Should the volatile modifier be added to the object wake-up condition variable?","body":"<p>Here <code>volatile</code> is neither required nor sufficient.</p>\n<p>Why is it not sufficient? Because it won't stop a thread from checking <code>fActiveTestDeathCount</code> right before it is modified by another thread and then irrevocably deciding to <code>wait</code> for something that happened right after it checked.</p>\n<p>Why is it not required? Because <code>synchronized</code> already establishes a &quot;happens before&quot; relationship among any two threads accessing <code>fActiveTestDeathCount</code>.</p>\n<p>The whole point of <code>wait</code> is to provide an atomic &quot;unlock and wait&quot; operation to solve precisely this race condition.</p>\n"}],"owner":{"account_id":8847129,"reputation":168,"user_id":6607559,"accept_rate":75,"display_name":"Terrence"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69543584,"answer_count":1,"score":-1,"last_activity_date":1634054099,"creation_date":1634053457,"question_id":69543431,"body_markdown":"Please check the sample code below:\r\n\r\n```java\r\nprivate volatile int fActiveTestDeathCount;\r\n\r\nsynchronized void waitUntilFinished() {\r\n        while (fActiveTestDeathCount &lt; testCount()) {\r\n            try {\r\n                wait();\r\n            } catch (InterruptedException e) {\r\n                return; // ignore\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThe above code can run normally, which is very easy to understand, but why the following code can also run normally?\r\n\r\n```java\r\nprivate int fActiveTestDeathCount;\r\n\r\nsynchronized void waitUntilFinished() {\r\n    while (fActiveTestDeathCount &lt; testCount()) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nI think that in a multi-threaded execution environment, each thread copies the fActiveTestDeathCount variable. If there is no additional volatile modifier, this variable is invisible to other threads, and the program should not work, but this is not the case.\r\n\r\nI try to analyze whether it is that after the thread is awakened, it will automatically invalidate the variables in the thread&#39;s working memory, and then synchronize the data from the main memory? But this requires the support of memory barriers, which makes me a little confused.\r\n\r\n","title":"Should the volatile modifier be added to the object wake-up condition variable?","body":"<p>Please check the sample code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private volatile int fActiveTestDeathCount;\n\nsynchronized void waitUntilFinished() {\n        while (fActiveTestDeathCount &lt; testCount()) {\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                return; // ignore\n            }\n        }\n    }\n</code></pre>\n<p>The above code can run normally, which is very easy to understand, but why the following code can also run normally?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int fActiveTestDeathCount;\n\nsynchronized void waitUntilFinished() {\n    while (fActiveTestDeathCount &lt; testCount()) {\n        ...\n    }\n}\n</code></pre>\n<p>I think that in a multi-threaded execution environment, each thread copies the fActiveTestDeathCount variable. If there is no additional volatile modifier, this variable is invisible to other threads, and the program should not work, but this is not the case.</p>\n<p>I try to analyze whether it is that after the thread is awakened, it will automatically invalidate the variables in the thread's working memory, and then synchronize the data from the main memory? But this requires the support of memory barriers, which makes me a little confused.</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1634052665,"post_id":69543187,"comment_id":122920361,"body_markdown":"More to the point, how is that an array? Is that an array of strings? Is it a string? How do you decide where to split? In the middle? Please include some detail on what we&#39;re dealing with and what you expect as a result.","body":"More to the point, how is that an array? Is that an array of strings? Is it a string? How do you decide where to split? In the middle? Please include some detail on what we&#39;re dealing with and what you expect as a result."}],"answers":[{"tags":[],"owner":{"account_id":12319244,"reputation":92,"user_id":8988922,"display_name":"feshout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634053491,"creation_date":1634053491,"answer_id":69543437,"question_id":69543187,"body_markdown":"You can simply use method from Arrays if lenght of array is always the same\r\n\r\n    \tString[] array1 = Arrays.copyOfRange(array, 0, 4); \r\n\t\tString[] array2 = Arrays.copyOfRange(array, 4, 9); ","title":"how do I split array element into more element","body":"<p>You can simply use method from Arrays if lenght of array is always the same</p>\n<pre><code>    String[] array1 = Arrays.copyOfRange(array, 0, 4); \n    String[] array2 = Arrays.copyOfRange(array, 4, 9); \n</code></pre>\n"}],"owner":{"account_id":21999396,"reputation":3,"user_id":16271314,"display_name":"hihi123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1634169038,"accepted_answer_id":69543437,"answer_count":1,"score":-1,"last_activity_date":1634053491,"creation_date":1634052402,"question_id":69543187,"body_markdown":"this is my array:\r\n\r\n    [UserID|Name|Password|IC or Passport Number|Gender|Phone, 01234567|Bob|abcderf|MALE|01234567]\r\n\r\nand I want to convert into:\r\n\r\n    [UserID|Name|Password|IC or Passport Number]\r\n    [01234567|Bob|abcderf|MALE|01234567]\r\n\r\nthis is my code: (but it doesn&#39;t work]\r\n\r\n    String[] arr = userList.toArray(new String[userList.size()]);\r\n        String[] arrr = arr[0].split(&quot;,&quot;);\r\n        for ( int i=0; i&lt;arr.length;i++)\r\n        {\r\n            System.out.println(arr[i]);\r\n        }\r\n        \r\n        ","title":"how do I split array element into more element","body":"<p>this is my array:</p>\n<pre><code>[UserID|Name|Password|IC or Passport Number|Gender|Phone, 01234567|Bob|abcderf|MALE|01234567]\n</code></pre>\n<p>and I want to convert into:</p>\n<pre><code>[UserID|Name|Password|IC or Passport Number]\n[01234567|Bob|abcderf|MALE|01234567]\n</code></pre>\n<p>this is my code: (but it doesn't work]</p>\n<pre><code>String[] arr = userList.toArray(new String[userList.size()]);\n    String[] arrr = arr[0].split(&quot;,&quot;);\n    for ( int i=0; i&lt;arr.length;i++)\n    {\n        System.out.println(arr[i]);\n    }\n    \n    \n</code></pre>\n"},{"tags":["java","android","ios","swift"],"comments":[{"owner":{"account_id":11361986,"reputation":329,"user_id":8329891,"display_name":"Abhishek"},"score":0,"creation_date":1626960998,"post_id":68485699,"comment_id":121035278,"body_markdown":"Have you matched the keys values generated by android code is similar in range or not?","body":"Have you matched the keys values generated by android code is similar in range or not?"},{"owner":{"account_id":11361986,"reputation":329,"user_id":8329891,"display_name":"Abhishek"},"score":0,"creation_date":1626961240,"post_id":68485699,"comment_id":121035398,"body_markdown":"What exactly server responding with the pair you have sent using this swift code please mention..","body":"What exactly server responding with the pair you have sent using this swift code please mention.."},{"owner":{"account_id":22272954,"reputation":1,"user_id":16502618,"display_name":"Janvi"},"score":0,"creation_date":1626963077,"post_id":68485699,"comment_id":121036258,"body_markdown":"No it is not similar. iOS public key 188 characters. Android public key 216 characters. iOS private key 812 characters.  Android private key 848 characters @Abhishek","body":"No it is not similar. iOS public key 188 characters. Android public key 216 characters. iOS private key 812 characters.  Android private key 848 characters @Abhishek"},{"owner":{"account_id":22272954,"reputation":1,"user_id":16502618,"display_name":"Janvi"},"score":0,"creation_date":1626963223,"post_id":68485699,"comment_id":121036330,"body_markdown":"I get invalid Signature error from server side and  &quot;errors&quot;: [\n        {\n            &quot;defaultMessage&quot;: &quot;request Wrong signature.&quot;\n        }, {} ] @Abhishek","body":"I get invalid Signature error from server side and  &quot;errors&quot;: [         {             &quot;defaultMessage&quot;: &quot;request Wrong signature.&quot;         }, {} ] @Abhishek"}],"owner":{"account_id":22272954,"reputation":1,"user_id":16502618,"display_name":"Janvi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634053448,"creation_date":1626960486,"question_id":68485699,"body_markdown":"I want to generate RSA key pair and then generate the signature SHA256RSA using RSA private key and my payload. Then submit the signature and public key to java backend. Java uses my public key and signature and decrypts my payload. I want to do this in iOS swift. \r\n    \r\nThis is my equivalent Android code. I need some similar solution for iOS swift.  \r\n    \r\n    \r\n    \r\n    import java.security.*  \r\n    import java.security.spec.PKCS8EncodedKeySpec.  \r\n    import java.security.spec.X509EncodedKeySpec.  \r\n    import java.util.*  \r\n    import javax.crypto.Cipher\r\n    \r\n    //Code for generating RSA Key pair  \r\n    fun generateKeyPair(): Map&lt;String, String&gt;? {  \r\n            val keys: MutableMap&lt;String, String&gt; = HashMap()  \r\n            var b64PublicKey = &quot;&quot;  \r\n            var b64PrivateKey = &quot;&quot;  \r\n            val keyGen: KeyPairGenerator  \r\n            try {  \r\n                keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;)  \r\n                keyGen.initialize(1024)  \r\n                val keyPair = keyGen.genKeyPair()  \r\n                val publicKey = keyPair.public.encoded   \r\n                b64PublicKey = Base64.encodeToString(publicKey, Base64.DEFAULT)  \r\n                val privateKey = keyPair.private.encoded  \r\n                b64PrivateKey = Base64.encodeToString(privateKey, Base64.DEFAULT)  \r\n            } catch (e: NoSuchAlgorithmException) {  \r\n                e.printStackTrace()  \r\n            }  \r\n            keys[&quot;publicKey&quot;] = b64PublicKey  \r\n            keys[&quot;privateKey&quot;] = b64PrivateKey  \r\n            Log.d(&quot;Base public and private&quot;, keys.toString())  \r\n            return keys  \r\n        }  \r\n        \r\n    //Code for generating Signature  \r\n    fun signSHA256RSA(input: String, strPk: String): String? {  \r\n        try {  \r\n            val b1: ByteArray = decode(strPk, Base64.DEFAULT)  \r\n            val spec = PKCS8EncodedKeySpec(b1)  \r\n            val kf: KeyFactory = KeyFactory.getInstance(&quot;RSA&quot;)  \r\n            val privateSignature: Signature = Signature.getInstance(&quot;SHA256withRSA&quot;)  \r\n            privateSignature.initSign(kf.generatePrivate(spec))  \r\n            privateSignature.update(input.toByteArray(charset(&quot;UTF-8&quot;)))  \r\n            val s: ByteArray = privateSignature.sign()  \r\n            return Base64.encodeToString(s, Base64.DEFAULT)  \r\n        }​​​​​​​​catch (e:Exception) {  \r\n            e.printStackTrace()  \r\n            Log.d(&quot;RAS Exception&quot;, e.printStackTrace().toString())  \r\n        }  \r\n        return &quot;&quot;  \r\n    }  \r\n    \r\n    \r\n    \r\nI have tried with this iOS code. But java server not accepting signature generated by this code. And java server accepts the signature generated by Android. \r\n\r\n       \r\n    import Security\r\n    \r\n    @available(iOS 10.0, *)  \r\n    class RSAGenerator   \r\n    {  \r\n        private var publicKey : SecKey?   \r\n        private var privateKey : SecKey?  \r\n         \r\n        //code for generating RSA key pair\r\n        func generateKeys()  -&gt; String?\r\n        {\r\n            var publicKeyString : String?\r\n            var privateKeyString : String?\r\n    \r\n            //generate a new keypair\r\n            let parameters : [String : AnyObject] =\r\n            [\r\n                kSecAttrKeyType as String : kSecAttrKeyTypeRSA,\r\n                kSecAttrKeySizeInBits as String : 1024 as AnyObject,\r\n            ]\r\n            let status = SecKeyGeneratePair(parameters as CFDictionary, &amp;publicKey, &amp;privateKey)\r\n            let status1 = SecKeyGeneratePair(parameters as CFDictionary, &amp;publicKey, &amp;privateKey)\r\n    \r\n            //---Save your key here--- //\r\n             \r\n            //Convert the SecKey object into a representation that we can send over the network\r\n            if status == noErr &amp;&amp; publicKey != nil\r\n            {\r\n                if let cfData = SecKeyCopyExternalRepresentation(publicKey!, nil)\r\n                {\r\n                    let data = cfData as Data\r\n                    publicKeyString = data.base64EncodedString()\r\n                }\r\n            }\r\n            \r\n            \r\n            if status1 == noErr &amp;&amp; privateKey != nil\r\n            {\r\n                if let cfData = SecKeyCopyExternalRepresentation(privateKey!, nil)\r\n                {\r\n                    let data = cfData as Data\r\n                    privateKeyString = data.base64EncodedString()\r\n                    print(privateKeyString)\r\n    \r\n                }\r\n            }\r\n            \r\n             \r\n            print(publicKeyString)\r\n            return publicKeyString\r\n        }\r\n         \r\n        //code for generating signature\r\n        func generateSignature(_ string : String) -&gt; String?\r\n        {\r\n            var signature : String?\r\n             \r\n            let fileData = Data(string.utf8) //kSecPaddingNone\r\n            \r\n                if (privateKey != nil)\r\n                {\r\n                    //hash the message first\r\n                    let digestLength = Int(CC_SHA256_DIGEST_LENGTH)\r\n                    let hashBytes = UnsafeMutablePointer&lt;UInt8&gt;.allocate(capacity: digestLength)\r\n                    CC_SHA256([UInt8](fileData), CC_LONG(fileData.count), hashBytes)\r\n                     \r\n                    //sign\r\n                    let blockSize = SecKeyGetBlockSize(privateKey!) //in the case of RSA, modulus is the same as the block size\r\n                    var signatureBytes = [UInt8](repeating:0, count:blockSize)\r\n                    var signatureDataLength = blockSize\r\n                    let status = SecKeyRawSign(privateKey!, .PKCS1SHA256, hashBytes, digestLength, &amp;signatureBytes, &amp;signatureDataLength)\r\n                    if status == noErr\r\n                    {\r\n                        let data = Data(bytes: signatureBytes, count: signatureDataLength)\r\n                        signature = data.base64EncodedString()\r\n                    }\r\n                }\r\n            print(signature)\r\n    \r\n            return signature\r\n        }\r\n        \r\n    }\r\n    \r\n        \r\n    \r\n    \r\nI am looking for similar solution like Android for my code in swift iOS.   \r\nThanks in advance! ","title":"Generate RSA Key pair and signature in iOS same as Android","body":"<p>I want to generate RSA key pair and then generate the signature SHA256RSA using RSA private key and my payload. Then submit the signature and public key to java backend. Java uses my public key and signature and decrypts my payload. I want to do this in iOS swift.</p>\n<p>This is my equivalent Android code. I need some similar solution for iOS swift.</p>\n<pre><code>import java.security.*  \nimport java.security.spec.PKCS8EncodedKeySpec.  \nimport java.security.spec.X509EncodedKeySpec.  \nimport java.util.*  \nimport javax.crypto.Cipher\n\n//Code for generating RSA Key pair  \nfun generateKeyPair(): Map&lt;String, String&gt;? {  \n        val keys: MutableMap&lt;String, String&gt; = HashMap()  \n        var b64PublicKey = &quot;&quot;  \n        var b64PrivateKey = &quot;&quot;  \n        val keyGen: KeyPairGenerator  \n        try {  \n            keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;)  \n            keyGen.initialize(1024)  \n            val keyPair = keyGen.genKeyPair()  \n            val publicKey = keyPair.public.encoded   \n            b64PublicKey = Base64.encodeToString(publicKey, Base64.DEFAULT)  \n            val privateKey = keyPair.private.encoded  \n            b64PrivateKey = Base64.encodeToString(privateKey, Base64.DEFAULT)  \n        } catch (e: NoSuchAlgorithmException) {  \n            e.printStackTrace()  \n        }  \n        keys[&quot;publicKey&quot;] = b64PublicKey  \n        keys[&quot;privateKey&quot;] = b64PrivateKey  \n        Log.d(&quot;Base public and private&quot;, keys.toString())  \n        return keys  \n    }  \n    \n//Code for generating Signature  \nfun signSHA256RSA(input: String, strPk: String): String? {  \n    try {  \n        val b1: ByteArray = decode(strPk, Base64.DEFAULT)  \n        val spec = PKCS8EncodedKeySpec(b1)  \n        val kf: KeyFactory = KeyFactory.getInstance(&quot;RSA&quot;)  \n        val privateSignature: Signature = Signature.getInstance(&quot;SHA256withRSA&quot;)  \n        privateSignature.initSign(kf.generatePrivate(spec))  \n        privateSignature.update(input.toByteArray(charset(&quot;UTF-8&quot;)))  \n        val s: ByteArray = privateSignature.sign()  \n        return Base64.encodeToString(s, Base64.DEFAULT)  \n    }​​​​​​​​catch (e:Exception) {  \n        e.printStackTrace()  \n        Log.d(&quot;RAS Exception&quot;, e.printStackTrace().toString())  \n    }  \n    return &quot;&quot;  \n}  \n</code></pre>\n<p>I have tried with this iOS code. But java server not accepting signature generated by this code. And java server accepts the signature generated by Android.</p>\n<pre><code>import Security\n\n@available(iOS 10.0, *)  \nclass RSAGenerator   \n{  \n    private var publicKey : SecKey?   \n    private var privateKey : SecKey?  \n     \n    //code for generating RSA key pair\n    func generateKeys()  -&gt; String?\n    {\n        var publicKeyString : String?\n        var privateKeyString : String?\n\n        //generate a new keypair\n        let parameters : [String : AnyObject] =\n        [\n            kSecAttrKeyType as String : kSecAttrKeyTypeRSA,\n            kSecAttrKeySizeInBits as String : 1024 as AnyObject,\n        ]\n        let status = SecKeyGeneratePair(parameters as CFDictionary, &amp;publicKey, &amp;privateKey)\n        let status1 = SecKeyGeneratePair(parameters as CFDictionary, &amp;publicKey, &amp;privateKey)\n\n        //---Save your key here--- //\n         \n        //Convert the SecKey object into a representation that we can send over the network\n        if status == noErr &amp;&amp; publicKey != nil\n        {\n            if let cfData = SecKeyCopyExternalRepresentation(publicKey!, nil)\n            {\n                let data = cfData as Data\n                publicKeyString = data.base64EncodedString()\n            }\n        }\n        \n        \n        if status1 == noErr &amp;&amp; privateKey != nil\n        {\n            if let cfData = SecKeyCopyExternalRepresentation(privateKey!, nil)\n            {\n                let data = cfData as Data\n                privateKeyString = data.base64EncodedString()\n                print(privateKeyString)\n\n            }\n        }\n        \n         \n        print(publicKeyString)\n        return publicKeyString\n    }\n     \n    //code for generating signature\n    func generateSignature(_ string : String) -&gt; String?\n    {\n        var signature : String?\n         \n        let fileData = Data(string.utf8) //kSecPaddingNone\n        \n            if (privateKey != nil)\n            {\n                //hash the message first\n                let digestLength = Int(CC_SHA256_DIGEST_LENGTH)\n                let hashBytes = UnsafeMutablePointer&lt;UInt8&gt;.allocate(capacity: digestLength)\n                CC_SHA256([UInt8](fileData), CC_LONG(fileData.count), hashBytes)\n                 \n                //sign\n                let blockSize = SecKeyGetBlockSize(privateKey!) //in the case of RSA, modulus is the same as the block size\n                var signatureBytes = [UInt8](repeating:0, count:blockSize)\n                var signatureDataLength = blockSize\n                let status = SecKeyRawSign(privateKey!, .PKCS1SHA256, hashBytes, digestLength, &amp;signatureBytes, &amp;signatureDataLength)\n                if status == noErr\n                {\n                    let data = Data(bytes: signatureBytes, count: signatureDataLength)\n                    signature = data.base64EncodedString()\n                }\n            }\n        print(signature)\n\n        return signature\n    }\n    \n}\n\n    \n</code></pre>\n<p>I am looking for similar solution like Android for my code in swift iOS.<br />\nThanks in advance!</p>\n"},{"tags":["java","cryptography","rsa","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":113088,"reputation":3456,"user_id":298043,"display_name":"Bruno Roh&#233;e"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634053239,"creation_date":1305788131,"answer_id":6054905,"question_id":6054627,"body_markdown":"RSA output is not random, but the PKCS1Padding is, leading to a different output each time. See [RFC 3218][1] for more information.\r\n\r\nThe random padding is actually needed to counter attacks where an attacker could try to guess a message by encrypting one and comparing to the encrypted output he intercepted.\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc3218","title":"RSA in bouncycastle for java - How is ciphertext randomization gained?","body":"<p>RSA output is not random, but the PKCS1Padding is, leading to a different output each time. See <a href=\"https://datatracker.ietf.org/doc/html/rfc3218\" rel=\"nofollow noreferrer\">RFC 3218</a> for more information.</p>\n<p>The random padding is actually needed to counter attacks where an attacker could try to guess a message by encrypting one and comparing to the encrypted output he intercepted.</p>\n"}],"owner":{"account_id":375919,"reputation":600,"user_id":727035,"accept_rate":62,"display_name":"koch.trier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1769,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6054905,"answer_count":1,"score":3,"last_activity_date":1634053239,"creation_date":1305786153,"question_id":6054627,"body_markdown":"I&#180;m acutally using bouncycastle library for my applications RSA crypto.\r\nMy question is: When I encrypt one plaintext two times using the same key, It will lead to two different ciphertexts, so there has to be some kind of randomization in bouncycastles implementation (RSA itself is not randomized, so enc(a, k) is always the same).\r\n\r\nCan anyone please tell me, how this is done? I found out something about crypto blinding, but it seemed for me, that I&#180;d have to use some blinding-engine for that.\r\n\r\nHere my Sourcecode:\r\n\r\n\tprivate byte[] encRSA(byte[] in, java.security.PublicKey publicKey) {\r\n\t\ttry {\r\n\t\t\tCipher rsaCipher = Cipher.getInstance(&quot;RSA/NONE/PKCS1Padding&quot;, &quot;BC&quot;);\r\n\t\t\trsaCipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n\t\t\trsaCipher.update(in);\r\n\t\t\treturn rsaCipher.doFinal();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nCan anyone please help me?\r\n\r\nThanks!!!","title":"RSA in bouncycastle for java - How is ciphertext randomization gained?","body":"<p>I´m acutally using bouncycastle library for my applications RSA crypto.\nMy question is: When I encrypt one plaintext two times using the same key, It will lead to two different ciphertexts, so there has to be some kind of randomization in bouncycastles implementation (RSA itself is not randomized, so enc(a, k) is always the same).</p>\n\n<p>Can anyone please tell me, how this is done? I found out something about crypto blinding, but it seemed for me, that I´d have to use some blinding-engine for that.</p>\n\n<p>Here my Sourcecode:</p>\n\n<pre><code>private byte[] encRSA(byte[] in, java.security.PublicKey publicKey) {\n    try {\n        Cipher rsaCipher = Cipher.getInstance(\"RSA/NONE/PKCS1Padding\", \"BC\");\n        rsaCipher.init(Cipher.ENCRYPT_MODE, publicKey);\n        rsaCipher.update(in);\n        return rsaCipher.doFinal();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n\n<p>Can anyone please help me?</p>\n\n<p>Thanks!!!</p>\n"},{"tags":["java","postgresql","hibernate","jpa","jdbc"],"answers":[{"tags":[],"owner":{"account_id":6710657,"reputation":333,"user_id":8890035,"display_name":"midhun mathew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1583173445,"creation_date":1583173445,"answer_id":60494576,"question_id":60493632,"body_markdown":"I had faced the same issue. My database timezone was in UTC and my application timezone was in singapore.\r\nI solved this problem by having both the Entity and the table to have date in UTC so that there will need to be no conversion between them. Then I did the conversions between timestamps in code in the getters and setters.\r\n\r\nSo your MyEntity class will store the createdAt and lastModifiedAt in UTC.\r\n\r\nIn the setter you can have something like\r\n\r\n    public void setCreatedDate(LocalDateTime createdAt)\r\n    {         \r\n        this.createdAt = createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\r\n    }\r\n\r\nIn the getter you can have something like\r\n\r\n    public LocalDateTime getCreatedDate()\r\n    {         \r\n        return createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\r\n    }\r\n\r\nYou might also have to remove the time zone property and the  @CreatedDate and @LastModifiedDate annotations as this was converting the time.\r\n\r\n\r\n","title":"spring.jpa.properties.hibernate.jdbc.time_zone applied on writes but not on reads?","body":"<p>I had faced the same issue. My database timezone was in UTC and my application timezone was in singapore.\nI solved this problem by having both the Entity and the table to have date in UTC so that there will need to be no conversion between them. Then I did the conversions between timestamps in code in the getters and setters.</p>\n\n<p>So your MyEntity class will store the createdAt and lastModifiedAt in UTC.</p>\n\n<p>In the setter you can have something like</p>\n\n<pre><code>public void setCreatedDate(LocalDateTime createdAt)\n{         \n    this.createdAt = createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\n}\n</code></pre>\n\n<p>In the getter you can have something like</p>\n\n<pre><code>public LocalDateTime getCreatedDate()\n{         \n    return createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\n}\n</code></pre>\n\n<p>You might also have to remove the time zone property and the  @CreatedDate and @LastModifiedDate annotations as this was converting the time.</p>\n"},{"tags":[],"owner":{"account_id":15883816,"reputation":63,"user_id":11579483,"display_name":"Mike Packer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623273602,"creation_date":1623254952,"answer_id":67907878,"question_id":60493632,"body_markdown":"This should make it work correctly:\r\n\r\n`TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));`","title":"spring.jpa.properties.hibernate.jdbc.time_zone applied on writes but not on reads?","body":"<p>This should make it work correctly:</p>\n<p><code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));</code></p>\n"},{"tags":[],"owner":{"account_id":1493988,"reputation":833,"user_id":1400380,"display_name":"Jordan Silva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634053104,"creation_date":1634053104,"answer_id":69543358,"question_id":60493632,"body_markdown":"Although @midhun showed you a proper way how to convert Instant to LocalDateTime, I&#39;ll try to give an understanding of what is going on so other people may not do the same mistake.\r\n\r\nThe answer to your question is `no`, it works for both. See documentation: https://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic-datetime-time-zone\r\n\r\nRegarding your issue, you give no information about your database (vendor and time zone) and schema, so it&#39;s hard to give a more precise answer. But I have a feeling that you are confusing all date types involved.\r\n\r\nFrom the database perspective, every database handles dates in a different way. Postgres, for instance, always save dates (timestamptz) in UTC, then when reading, converts the date to the server timezone. This is what the documentation says:\r\nhttps://www.postgresql.org/docs/9.1/datatype-datetime.html\r\n\r\n&gt; For timestamp with time zone, the internally stored value is always in UTC. An input value that has an explicit time zone specified is converted to UTC using the appropriate offset for that time zone. If no time zone is stated in the input string, then it is assumed to be in the time zone indicated by the system&#39;s timezone parameter, and is converted to UTC using the offset for the timezone zone.\\\r\n\\\r\nWhen a timestamp with time zone value is output, it is always converted from UTC to the current timezone zone, and displayed as local time in that zone. To see the time in another time zone, either change timezone or use the AT TIME ZONE construct (see Section 9.9.3).\r\n\r\nWith that said, you have `LocalDateTime` in your Java code and I&#39;ll assume that you have `TIMESTAMP with time zone` in your database because of your attempt to set it to UTC and that the database is in `US/Hawaii` time zone.\r\n\r\nThe problem is that you are using incompatible date types - `LocalDateTime` has no time zone information - and the application and database were set to different timezones, and it was not handled properly! This is what happens:\r\n\r\n***Writing Local -&gt; Time zoned***\\\r\nThe local date is transformed by the ***application*** to a time zoned date by using the default time zone.\r\n* 2020-03-03T10:10:17.400 -&gt; 2020-03-03T16:10:17.400+0 first case (UTC)\r\n* 2020-03-03T10:10:17.400 -&gt; 2020-03-03T10:10:17.400-10 second case (US/Hawaii)\r\n\r\nThe converted date is what you see in the log:\r\n&gt; insert into myentity (createdDate, lastModifiedDate) values (&#39;2020-03-02 16:43:04.581+00&#39;, &#39;2020-03-02 16:43:04.581+00&#39;)\r\n\r\n&gt; insert into myentity(createdDate, lastModifiedDate) values (&#39;2020-03-03 10:10:17.4-10&#39;, &#39;2020-03-03 10:10:17.4-10&#39;)\r\n\r\n***Reading Time zoned -&gt; Local***\\\r\nThe time zoned date is transformed to Local by applying the default ***database*** time zone (the conversation is done in the database, not in the application)\r\n* 2020-03-03T16:10:17.400+0 -&gt; 2020-03-03T06:10:17.400 first case (US/Hawaii)\r\n* 2020-03-03T10:10:17.400-10 -&gt; 2020-03-03T10:10:17.400 second case (US/Hawaii)\r\n\r\nYou see the database converted values in the logs:\r\n&gt; extracted value ([createdD4_0_0_] : [TIMESTAMP]) - [2020-03-02T06:43:04.581]\r\n\r\n&gt; extracted value ([createdD4_0_0_] : [TIMESTAMP]) - [2020-03-03T10:10:17.400]\r\n\r\nRemember that your database is in `US/Hawaii` zone. As the zone information is discarded by the database, no further conversion is done.\r\n\r\nWhen possible, set the application and the database to the same time zone.\r\nAlso, use compatible data types. For `timestamptz`, use `Instant`.","title":"spring.jpa.properties.hibernate.jdbc.time_zone applied on writes but not on reads?","body":"<p>Although @midhun showed you a proper way how to convert Instant to LocalDateTime, I'll try to give an understanding of what is going on so other people may not do the same mistake.</p>\n<p>The answer to your question is <code>no</code>, it works for both. See documentation: <a href=\"https://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic-datetime-time-zone\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic-datetime-time-zone</a></p>\n<p>Regarding your issue, you give no information about your database (vendor and time zone) and schema, so it's hard to give a more precise answer. But I have a feeling that you are confusing all date types involved.</p>\n<p>From the database perspective, every database handles dates in a different way. Postgres, for instance, always save dates (timestamptz) in UTC, then when reading, converts the date to the server timezone. This is what the documentation says:\n<a href=\"https://www.postgresql.org/docs/9.1/datatype-datetime.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/9.1/datatype-datetime.html</a></p>\n<blockquote>\n<p>For timestamp with time zone, the internally stored value is always in UTC. An input value that has an explicit time zone specified is converted to UTC using the appropriate offset for that time zone. If no time zone is stated in the input string, then it is assumed to be in the time zone indicated by the system's timezone parameter, and is converted to UTC using the offset for the timezone zone.<br />\n<br />\nWhen a timestamp with time zone value is output, it is always converted from UTC to the current timezone zone, and displayed as local time in that zone. To see the time in another time zone, either change timezone or use the AT TIME ZONE construct (see Section 9.9.3).</p>\n</blockquote>\n<p>With that said, you have <code>LocalDateTime</code> in your Java code and I'll assume that you have <code>TIMESTAMP with time zone</code> in your database because of your attempt to set it to UTC and that the database is in <code>US/Hawaii</code> time zone.</p>\n<p>The problem is that you are using incompatible date types - <code>LocalDateTime</code> has no time zone information - and the application and database were set to different timezones, and it was not handled properly! This is what happens:</p>\n<p><em><strong>Writing Local -&gt; Time zoned</strong></em><br />\nThe local date is transformed by the <em><strong>application</strong></em> to a time zoned date by using the default time zone.</p>\n<ul>\n<li>2020-03-03T10:10:17.400 -&gt; 2020-03-03T16:10:17.400+0 first case (UTC)</li>\n<li>2020-03-03T10:10:17.400 -&gt; 2020-03-03T10:10:17.400-10 second case (US/Hawaii)</li>\n</ul>\n<p>The converted date is what you see in the log:</p>\n<blockquote>\n<p>insert into myentity (createdDate, lastModifiedDate) values ('2020-03-02 16:43:04.581+00', '2020-03-02 16:43:04.581+00')</p>\n</blockquote>\n<blockquote>\n<p>insert into myentity(createdDate, lastModifiedDate) values ('2020-03-03 10:10:17.4-10', '2020-03-03 10:10:17.4-10')</p>\n</blockquote>\n<p><em><strong>Reading Time zoned -&gt; Local</strong></em><br />\nThe time zoned date is transformed to Local by applying the default <em><strong>database</strong></em> time zone (the conversation is done in the database, not in the application)</p>\n<ul>\n<li>2020-03-03T16:10:17.400+0 -&gt; 2020-03-03T06:10:17.400 first case (US/Hawaii)</li>\n<li>2020-03-03T10:10:17.400-10 -&gt; 2020-03-03T10:10:17.400 second case (US/Hawaii)</li>\n</ul>\n<p>You see the database converted values in the logs:</p>\n<blockquote>\n<p>extracted value ([createdD4_0_0_] : [TIMESTAMP]) - [2020-03-02T06:43:04.581]</p>\n</blockquote>\n<blockquote>\n<p>extracted value ([createdD4_0_0_] : [TIMESTAMP]) - [2020-03-03T10:10:17.400]</p>\n</blockquote>\n<p>Remember that your database is in <code>US/Hawaii</code> zone. As the zone information is discarded by the database, no further conversion is done.</p>\n<p>When possible, set the application and the database to the same time zone.\nAlso, use compatible data types. For <code>timestamptz</code>, use <code>Instant</code>.</p>\n"}],"owner":{"account_id":16842369,"reputation":635,"user_id":12177456,"display_name":"rmf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17590,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60494576,"answer_count":3,"score":5,"last_activity_date":1634053104,"creation_date":1583169186,"question_id":60493632,"body_markdown":"I&#39;m using: \r\n\r\n- spring boot 2.0.4.RELEASE\r\n- spring-data-jpa 2.0.9.RELEASE\r\n- hibernate-core 5.2.17.Final\r\n- hibernate-jpa-2.1-api 1.0.0.Final\r\n- postgres jdbc driver 42.2.9\r\n\r\nI have the following entity:\r\n\r\n```\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class MyEntity implements Serializable\r\n{\r\n    @Column(nullable = false, updatable = false)\r\n    @CreatedDate\r\n    private LocalDateTime createdDate;\r\n\r\n    @Column(nullable = false)\r\n    @LastModifiedDate\r\n    private LocalDateTime lastModifiedDate;\r\n\r\n    public LocalDateTime getCreatedDate()\r\n    {\r\n        return createdDate;\r\n    }\r\n\r\n    public LocalDateTime getLastModifiedDate()\r\n    {\r\n        return lastModifiedDate;\r\n    }\r\n}\r\n```\r\n\r\nand the following property set in application.yaml:\r\n\r\n```\r\nspring:\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        jdbc:\r\n          time_zone: UTC\r\n```\r\n\r\nRegardless of what the JVM timezone/default timezone is, I want to save and return timestamps in UTC.\r\n\r\nFor testing purposes, I have set the timezone of my application code to ```US/Hawaii```:\r\n\r\n```\r\nTimeZone.setDefault(TimeZone.getTimeZone(&quot;US/Hawaii&quot;));\r\n```\r\n\r\nWhen I save an entity, it is correctly written to the database with a UTC timestamp:\r\n\r\n```\r\n[16:43:04.636Z #4c5.042 TRACE -            -   ] o.h.t.d.sql.BasicBinder: binding parameter [1] as [TIMESTAMP] - [2020-03-02T06:43:04.581]\r\n[16:43:04.645Z #4c5.042 TRACE -            -   ] o.h.t.d.sql.BasicBinder: binding parameter [2] as [TIMESTAMP] - [2020-03-02T06:43:04.581]\r\n[16:43:04.649Z #4c5.042 TRACE -            -   ] o.h.r.j.i.ResourceRegistryStandardImpl: Closing prepared statement [HikariProxyPreparedStatement@336047848 wrapping insert into myentity (createdDate, lastModifiedDate) values (&#39;2020-03-02 16:43:04.581+00&#39;, &#39;2020-03-02 16:43:04.581+00&#39;)]\r\n```\r\n\r\nHowever, when I read it back again, it&#39;s coming back as the default timezone I&#39;ve set in my application code: ```US/Hawaii```, not ```UTC```:\r\n\r\n```\r\n[16:43:04.692Z #4c5.043 TRACE -            -   ] o.h.t.d.sql.BasicExtractor: extracted value ([createdD4_0_0_] : [TIMESTAMP]) - [2020-03-02T06:43:04.581]\r\n[16:43:04.692Z #4c5.043 TRACE -            -   ] o.h.t.d.sql.BasicExtractor: extracted value ([lastModi5_0_0_] : [TIMESTAMP]) - [2020-03-02T06:43:04.581]\r\n[16:43:04.695Z #4c5.043 TRACE -            -   ] o.h.l.p.e.p.i.ResultSetProcessorImpl: Done processing result set (1 rows)\r\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.l.p.e.p.i.AbstractRowReader: Total objects hydrated: 1\r\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.l.p.e.p.i.ResultSetProcessingContextImpl: Skipping create subselects because there are fewer than 2 results, so query by key is more efficient.\r\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.r.j.i.ResourceRegistryStandardImpl: Releasing result set [HikariProxyResultSet@622126582 wrapping org.postgresql.jdbc.PgResultSet@3f0764b8]\r\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.r.j.i.ResourceRegistryStandardImpl: Closing result set [HikariProxyResultSet@622126582 wrapping org.postgresql.jdbc.PgResultSet@3f0764b8]\r\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.r.j.i.ResourceRegistryStandardImpl: Releasing statement [HikariProxyPreparedStatement@1612081040 wrapping select myentity0_.createdDate as createdD4_0_0_, myentity0_.lastModifiedDate as lastModi5_0_0_, where myentity0_.id=&#39;123&#39;]\r\n```\r\n\r\nI have tried adding ```serverTimezone=UTC&amp;useLegacyDatetimeCode=false``` to my JDBC URL but it made no difference.\r\n\r\nMaybe related: https://hibernate.atlassian.net/browse/HHH-13417\r\n\r\nAny help is much appreciated.\r\n\r\n**Update**\r\n\r\nBased on @midhun mathew&#39;s answer, I found it was enough to take control of setting the dates in application code to resolve this (removing the time_zone property from application.yaml as well):\r\n\r\n```\r\nmyEntity.setCreatedDate(LocalDateTime.ofInstant(Instant.now(), ZoneOffset.UTC))\r\n```\r\n\r\n```\r\npublic void setCreatedDate(LocalDateTime createdAt) \r\n{ \r\n  this.createdAt = createdAt; \r\n}\r\n```\r\n\r\nNow, when writing to the DB, the dates are &#39;bound&#39; and inserted as ```UTC``` (compared with the original post in which the dates were &#39;bound&#39; as ```US\\Hawaii```, but inserted as ```UTC```):\r\n\r\n```\r\n[10:10:21.475Z #065.042 TRACE -            -   ] o.h.t.d.sql.BasicBinder: binding parameter [1] as [TIMESTAMP] - [2020-03-03T10:10:17.400]\r\n[10:10:21.476Z #065.042 TRACE -            -   ] o.h.t.d.sql.BasicBinder: binding parameter [2] as [TIMESTAMP] - [2020-03-03T10:10:17.400]\r\n[HikariProxyPreparedStatement@860888944 wrapping insert into myentity(createdDate, lastModifiedDate) values (&#39;2020-03-03 10:10:17.4-10&#39;, &#39;2020-03-03 10:10:17.4-10&#39;)]\r\n[10:10:21.479Z #065.042 TRACE -            -   ] \r\n```\r\n\r\nAnd when reading the entity from the db, the dates are no longer read as ```US/Hawaii```, but ```UTC```:\r\n\r\n```\r\n[10:10:24.527Z #065.043 TRACE -            -   ] o.h.t.d.sql.BasicExtractor: extracted value ([createdD4_0_0_] : [TIMESTAMP]) - [2020-03-03T10:10:17.400]\r\n[10:10:24.527Z #065.043 TRACE -            -   ] o.h.t.d.sql.BasicExtractor: extracted value ([lastModi5_0_0_] : [TIMESTAMP]) - [2020-03-03T10:10:17.400]\r\n```\r\n","title":"spring.jpa.properties.hibernate.jdbc.time_zone applied on writes but not on reads?","body":"<p>I'm using: </p>\n\n<ul>\n<li>spring boot 2.0.4.RELEASE</li>\n<li>spring-data-jpa 2.0.9.RELEASE</li>\n<li>hibernate-core 5.2.17.Final</li>\n<li>hibernate-jpa-2.1-api 1.0.0.Final</li>\n<li>postgres jdbc driver 42.2.9</li>\n</ul>\n\n<p>I have the following entity:</p>\n\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class MyEntity implements Serializable\n{\n    @Column(nullable = false, updatable = false)\n    @CreatedDate\n    private LocalDateTime createdDate;\n\n    @Column(nullable = false)\n    @LastModifiedDate\n    private LocalDateTime lastModifiedDate;\n\n    public LocalDateTime getCreatedDate()\n    {\n        return createdDate;\n    }\n\n    public LocalDateTime getLastModifiedDate()\n    {\n        return lastModifiedDate;\n    }\n}\n</code></pre>\n\n<p>and the following property set in application.yaml:</p>\n\n<pre><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        jdbc:\n          time_zone: UTC\n</code></pre>\n\n<p>Regardless of what the JVM timezone/default timezone is, I want to save and return timestamps in UTC.</p>\n\n<p>For testing purposes, I have set the timezone of my application code to <code>US/Hawaii</code>:</p>\n\n<pre><code>TimeZone.setDefault(TimeZone.getTimeZone(\"US/Hawaii\"));\n</code></pre>\n\n<p>When I save an entity, it is correctly written to the database with a UTC timestamp:</p>\n\n<pre><code>[16:43:04.636Z #4c5.042 TRACE -            -   ] o.h.t.d.sql.BasicBinder: binding parameter [1] as [TIMESTAMP] - [2020-03-02T06:43:04.581]\n[16:43:04.645Z #4c5.042 TRACE -            -   ] o.h.t.d.sql.BasicBinder: binding parameter [2] as [TIMESTAMP] - [2020-03-02T06:43:04.581]\n[16:43:04.649Z #4c5.042 TRACE -            -   ] o.h.r.j.i.ResourceRegistryStandardImpl: Closing prepared statement [HikariProxyPreparedStatement@336047848 wrapping insert into myentity (createdDate, lastModifiedDate) values ('2020-03-02 16:43:04.581+00', '2020-03-02 16:43:04.581+00')]\n</code></pre>\n\n<p>However, when I read it back again, it's coming back as the default timezone I've set in my application code: <code>US/Hawaii</code>, not <code>UTC</code>:</p>\n\n<pre><code>[16:43:04.692Z #4c5.043 TRACE -            -   ] o.h.t.d.sql.BasicExtractor: extracted value ([createdD4_0_0_] : [TIMESTAMP]) - [2020-03-02T06:43:04.581]\n[16:43:04.692Z #4c5.043 TRACE -            -   ] o.h.t.d.sql.BasicExtractor: extracted value ([lastModi5_0_0_] : [TIMESTAMP]) - [2020-03-02T06:43:04.581]\n[16:43:04.695Z #4c5.043 TRACE -            -   ] o.h.l.p.e.p.i.ResultSetProcessorImpl: Done processing result set (1 rows)\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.l.p.e.p.i.AbstractRowReader: Total objects hydrated: 1\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.l.p.e.p.i.ResultSetProcessingContextImpl: Skipping create subselects because there are fewer than 2 results, so query by key is more efficient.\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.r.j.i.ResourceRegistryStandardImpl: Releasing result set [HikariProxyResultSet@622126582 wrapping org.postgresql.jdbc.PgResultSet@3f0764b8]\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.r.j.i.ResourceRegistryStandardImpl: Closing result set [HikariProxyResultSet@622126582 wrapping org.postgresql.jdbc.PgResultSet@3f0764b8]\n[16:43:04.696Z #4c5.043 TRACE -            -   ] o.h.r.j.i.ResourceRegistryStandardImpl: Releasing statement [HikariProxyPreparedStatement@1612081040 wrapping select myentity0_.createdDate as createdD4_0_0_, myentity0_.lastModifiedDate as lastModi5_0_0_, where myentity0_.id='123']\n</code></pre>\n\n<p>I have tried adding <code>serverTimezone=UTC&amp;useLegacyDatetimeCode=false</code> to my JDBC URL but it made no difference.</p>\n\n<p>Maybe related: <a href=\"https://hibernate.atlassian.net/browse/HHH-13417\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-13417</a></p>\n\n<p>Any help is much appreciated.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Based on @midhun mathew's answer, I found it was enough to take control of setting the dates in application code to resolve this (removing the time_zone property from application.yaml as well):</p>\n\n<pre><code>myEntity.setCreatedDate(LocalDateTime.ofInstant(Instant.now(), ZoneOffset.UTC))\n</code></pre>\n\n<pre><code>public void setCreatedDate(LocalDateTime createdAt) \n{ \n  this.createdAt = createdAt; \n}\n</code></pre>\n\n<p>Now, when writing to the DB, the dates are 'bound' and inserted as <code>UTC</code> (compared with the original post in which the dates were 'bound' as <code>US\\Hawaii</code>, but inserted as <code>UTC</code>):</p>\n\n<pre><code>[10:10:21.475Z #065.042 TRACE -            -   ] o.h.t.d.sql.BasicBinder: binding parameter [1] as [TIMESTAMP] - [2020-03-03T10:10:17.400]\n[10:10:21.476Z #065.042 TRACE -            -   ] o.h.t.d.sql.BasicBinder: binding parameter [2] as [TIMESTAMP] - [2020-03-03T10:10:17.400]\n[HikariProxyPreparedStatement@860888944 wrapping insert into myentity(createdDate, lastModifiedDate) values ('2020-03-03 10:10:17.4-10', '2020-03-03 10:10:17.4-10')]\n[10:10:21.479Z #065.042 TRACE -            -   ] \n</code></pre>\n\n<p>And when reading the entity from the db, the dates are no longer read as <code>US/Hawaii</code>, but <code>UTC</code>:</p>\n\n<pre><code>[10:10:24.527Z #065.043 TRACE -            -   ] o.h.t.d.sql.BasicExtractor: extracted value ([createdD4_0_0_] : [TIMESTAMP]) - [2020-03-03T10:10:17.400]\n[10:10:24.527Z #065.043 TRACE -            -   ] o.h.t.d.sql.BasicExtractor: extracted value ([lastModi5_0_0_] : [TIMESTAMP]) - [2020-03-03T10:10:17.400]\n</code></pre>\n"},{"tags":["java","android","user-interface","navigation","mapbox"],"comments":[{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1634024033,"post_id":69536588,"comment_id":122908471,"body_markdown":"After upgrading gradle to -7.0+- . Needs to do these.\n1. Remove `targetSdkVersion 30` line  also  remove if any module\n2. Remove *buildToolsVersion &quot;29.0.2&quot;*  line  ,also  remove if any module\n3. Update `compileSdkVersion 31`\n4. Remove `center()` line from  project level gradle\n5. Find replacement of all lib that made from `jcenter()`  use `mavenCentral()` from now.\n6. Update each library to the newest version.","body":"After upgrading gradle to -7.0+- . Needs to do these. 1. Remove <code>targetSdkVersion 30</code> line  also  remove if any module 2. Remove <i>buildToolsVersion &quot;29.0.2&quot;</i>  line  ,also  remove if any module 3. Update <code>compileSdkVersion 31</code> 4. Remove <code>center()</code> line from  project level gradle 5. Find replacement of all lib that made from <code>jcenter()</code>  use <code>mavenCentral()</code> from now. 6. Update each library to the newest version."}],"answers":[{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634053088,"creation_date":1634053088,"answer_id":69543354,"question_id":69536588,"body_markdown":"change your classpath  to the following version:\r\n\r\n&gt;  build.gradle\r\n\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\r\n    }\r\n\r\nAnd, inside your gradle-wrapper.properties, change distributionUrl to the following verison:\r\n\r\n&gt; gradle-wrapper.properties\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-bin.zip\r\n\r\n\r\nand finally, add the following dependencies file for mapbox sdk in build.gradle as follow:\r\n\r\n&gt;  build.gradle\r\n\r\n    dependencies {\r\n    //mapbox\r\n    implementation &#39;com.mapbox.mapboxsdk:mapbox-android-sdk:9.6.1&#39;\r\n    implementation &#39;com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.42.6&#39;\r\n\r\n    //FusedLocationProviderClient\r\n    implementation &quot;com.google.android.gms:play-services-location:18.0.0&quot;\r\n\r\n    }","title":"Problems adding MapBox Navigation to my Android Studio project","body":"<p>change your classpath  to the following version:</p>\n<blockquote>\n<p>build.gradle</p>\n</blockquote>\n<pre><code>dependencies {\n    classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\n}\n</code></pre>\n<p>And, inside your gradle-wrapper.properties, change distributionUrl to the following verison:</p>\n<blockquote>\n<p>gradle-wrapper.properties</p>\n</blockquote>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-bin.zip\n</code></pre>\n<p>and finally, add the following dependencies file for mapbox sdk in build.gradle as follow:</p>\n<blockquote>\n<p>build.gradle</p>\n</blockquote>\n<pre><code>dependencies {\n//mapbox\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-sdk:9.6.1'\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.42.6'\n\n//FusedLocationProviderClient\nimplementation &quot;com.google.android.gms:play-services-location:18.0.0&quot;\n\n}\n</code></pre>\n"}],"owner":{"account_id":19902672,"reputation":31,"user_id":14582357,"display_name":"NekoSenpai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634053088,"creation_date":1634023570,"question_id":69536588,"body_markdown":"[enter image description here][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IQPOd.jpg\r\n\r\n\r\nbuild.gradle(project) file as follows\r\n\r\nbuildscript {\r\n    repositories {\r\n\r\n        google()\r\n        mavenCentral()\r\n\r\n        maven { url &#39;https://mapbox.bintray.com/mapbox&#39; }\r\n\r\n\r\n        maven {\r\n            url &#39;https://api.mapbox.com/downloads/v2/releases/maven&#39;\r\n\r\n            authentication {\r\n                basic(BasicAuthentication)\r\n            }\r\n            credentials {\r\n                username = &quot;mapbox&quot;\r\n                password = project.properties[&#39;MAPBOX_DOWNLOADS_TOKEN&#39;] ?: &quot;&quot;\r\n            }\r\n        }\r\n        jcenter()\r\n\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\r\n\r\n    }\r\n}\r\nand build.gradle(module) file as follows\r\n\r\n    implementation &#39;com.mapbox.navigator:mapbox-navigation-native:7.0.0&#39;\r\n    implementation &#39;com.mapbox.mapboxsdk:mapbox-android-navigation:0.42.6&#39;\r\n    implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n    implementation &#39;com.mapbox.mapboxsdk:mapbox-android-plugin-places-v9:0.12.0&#39;\r\n","title":"Problems adding MapBox Navigation to my Android Studio project","body":"<p><a href=\"https://i.stack.imgur.com/IQPOd.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>build.gradle(project) file as follows</p>\n<p>buildscript {\nrepositories {</p>\n<pre><code>    google()\n    mavenCentral()\n\n    maven { url 'https://mapbox.bintray.com/mapbox' }\n\n\n    maven {\n        url 'https://api.mapbox.com/downloads/v2/releases/maven'\n\n        authentication {\n            basic(BasicAuthentication)\n        }\n        credentials {\n            username = &quot;mapbox&quot;\n            password = project.properties['MAPBOX_DOWNLOADS_TOKEN'] ?: &quot;&quot;\n        }\n    }\n    jcenter()\n\n}\ndependencies {\n    classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\n\n}\n</code></pre>\n<p>}\nand build.gradle(module) file as follows</p>\n<pre><code>implementation 'com.mapbox.navigator:mapbox-navigation-native:7.0.0'\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-navigation:0.42.6'\nimplementation 'com.google.android.material:material:1.2.1'\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-places-v9:0.12.0'\n</code></pre>\n"},{"tags":["java","builder"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":2,"creation_date":1634051056,"post_id":69542805,"comment_id":122919612,"body_markdown":"Lombok&#39;s `@Builder` might help: https://projectlombok.org/features/Builder.","body":"Lombok&#39;s <code>@Builder</code> might help: <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">projectlombok.org/features/Builder</a>."},{"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":0,"creation_date":1634054162,"post_id":69542805,"comment_id":122920990,"body_markdown":"This may be exactly what I&#39;m looking for! \n\nWill this require me to change any of the existing implementation of my POJO models?","body":"This may be exactly what I&#39;m looking for!   Will this require me to change any of the existing implementation of my POJO models?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634051732,"creation_date":1634051732,"answer_id":69543026,"question_id":69542805,"body_markdown":"Let&#39;s specifically name the problem:\r\n\r\nYou&#39;d want to be able to change the model class, by way of either:\r\n\r\n* Adding a new field\r\n* Removing an existing field\r\n* Renaming an existing field\r\n* Changing the type of an existing field\r\n\r\nand do this in a way that as much of the infrastructure surrounding your model class (from the builder&#39;s &#39;setters&#39; to your toString implementation) just automatically adapts without having to explicitly go in and fix things.\r\n\r\nJava isn&#39;t that kind of flexible, resulting in drastic measures being required to do this properly. You have a few options here:\r\n\r\n* IDE tooling. Instead of just editing the java source file in what amounts to a &#39;dumb&#39; editor, use tooling. For example, many IDEs support the notion of &#39;refactor -&gt; rename&#39; on a field which would also change the `this.foo = foo;` in your setter (if you had one). If you&#39;ve never seen this, it&#39;s a bit magical so I better describe it: You select any identifier, hit the shortcut for &#39;refactor -&gt; rename&#39;, and then a little highlight box appears around that identifier _and all other places that identifier comes up_. Your IDE is smart enough to know what scope is, and won&#39;t &quot;select&quot; different variables that so happen to share a name; this is not some sort of &#39;global search/replace&#39;. You then start typing and what you type as if by magic appears in _ALL_ those little boxes. You&#39;re doing a live search/replace on just those identifiers that actually refer to the thing you selected! Pretty nice, this is what IDEs are all about. They understand java and thus can do things like &#39;modify only those identifier nodes which actually refer to this thing&#39;. Most do _not_ change the `setFoo` method name to `setBar`, but some offer a popup asking if that&#39;s your intent. If an IDE tooling/refactor system is aware of builders, it could feasibly be written such that e.g. adding a field via a refactor action adds the field, updates the equals and hashCode method, the toString method, and fixes up the builder, all as-you-type, in one go. Let&#39;s call this _explicit code generation_. Note that at least for eclipse I&#39;m not aware of refactor tools that go quite _this_ far. More usually you&#39;d just delete ALL the infra, update your model class, and then regenerate _ALL_ the infra. If you forget, your code is broken. Point is: Such an IDE plugin could exist and isn&#39;t even _that_ hard to build, so that is an option. I&#39;m just not aware of any that actually do exist.\r\n\r\n* Build tooling and templating. Have a system where you just write the model class and some hints as to what you want from it, and then have some aspect of the build tooling run with it: It takes your model class and the templating hints and generates all the infrastructure surrounding your needs automatically. This ensures that the infrastructure is always in sync with your model class and unlike the previous option, keeps your actual (non-generated) codebase nice and crisp. There are a few tools for this, but [Project Lombok](https://projectlombok.org/features/Builder) is the only one that works &#39;as you type&#39;, integrated directly into your eclipse process (e.g. the outline view updates as you type with e.g. the new builder setter method). The rest tend to work as annotation processors - you need a build cycle. Let&#39;s call this one _implicit code generation_.\r\n\r\n* Reflective bonanza is a third option: You make an actual model class and the builder appears at runtime. This, naturally, is not an option for java which is static and explicitly typed, but you can make this work if all code that interacts with your models is dynamic, for example because that&#39;s written in javascript or groovy or some such. I&#39;m assuming this doesn&#39;t interest you so I won&#39;t go into further detail as to how to set this up. This solution is _very_ common in dynamic languages. One way or another, you lose as-you-write introspection unless the reflective tool ships with IDE plugins at which point it&#39;s as complex as the first 2 solutions.\r\n\r\nPick your poison. I&#39;d pick the implicit code gen option, and then I&#39;d use the tool that most tightly integrates to keep productivity up by keeping &#39;waiting around for the build!&#39; down to a minimum. But then, I am one of the core contributors to Project Lombok so I might be a _tad_ biased :)\r\n","title":"Abstracting out the field creation on a model builder in Java","body":"<p>Let's specifically name the problem:</p>\n<p>You'd want to be able to change the model class, by way of either:</p>\n<ul>\n<li>Adding a new field</li>\n<li>Removing an existing field</li>\n<li>Renaming an existing field</li>\n<li>Changing the type of an existing field</li>\n</ul>\n<p>and do this in a way that as much of the infrastructure surrounding your model class (from the builder's 'setters' to your toString implementation) just automatically adapts without having to explicitly go in and fix things.</p>\n<p>Java isn't that kind of flexible, resulting in drastic measures being required to do this properly. You have a few options here:</p>\n<ul>\n<li><p>IDE tooling. Instead of just editing the java source file in what amounts to a 'dumb' editor, use tooling. For example, many IDEs support the notion of 'refactor -&gt; rename' on a field which would also change the <code>this.foo = foo;</code> in your setter (if you had one). If you've never seen this, it's a bit magical so I better describe it: You select any identifier, hit the shortcut for 'refactor -&gt; rename', and then a little highlight box appears around that identifier <em>and all other places that identifier comes up</em>. Your IDE is smart enough to know what scope is, and won't &quot;select&quot; different variables that so happen to share a name; this is not some sort of 'global search/replace'. You then start typing and what you type as if by magic appears in <em>ALL</em> those little boxes. You're doing a live search/replace on just those identifiers that actually refer to the thing you selected! Pretty nice, this is what IDEs are all about. They understand java and thus can do things like 'modify only those identifier nodes which actually refer to this thing'. Most do <em>not</em> change the <code>setFoo</code> method name to <code>setBar</code>, but some offer a popup asking if that's your intent. If an IDE tooling/refactor system is aware of builders, it could feasibly be written such that e.g. adding a field via a refactor action adds the field, updates the equals and hashCode method, the toString method, and fixes up the builder, all as-you-type, in one go. Let's call this <em>explicit code generation</em>. Note that at least for eclipse I'm not aware of refactor tools that go quite <em>this</em> far. More usually you'd just delete ALL the infra, update your model class, and then regenerate <em>ALL</em> the infra. If you forget, your code is broken. Point is: Such an IDE plugin could exist and isn't even <em>that</em> hard to build, so that is an option. I'm just not aware of any that actually do exist.</p>\n</li>\n<li><p>Build tooling and templating. Have a system where you just write the model class and some hints as to what you want from it, and then have some aspect of the build tooling run with it: It takes your model class and the templating hints and generates all the infrastructure surrounding your needs automatically. This ensures that the infrastructure is always in sync with your model class and unlike the previous option, keeps your actual (non-generated) codebase nice and crisp. There are a few tools for this, but <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">Project Lombok</a> is the only one that works 'as you type', integrated directly into your eclipse process (e.g. the outline view updates as you type with e.g. the new builder setter method). The rest tend to work as annotation processors - you need a build cycle. Let's call this one <em>implicit code generation</em>.</p>\n</li>\n<li><p>Reflective bonanza is a third option: You make an actual model class and the builder appears at runtime. This, naturally, is not an option for java which is static and explicitly typed, but you can make this work if all code that interacts with your models is dynamic, for example because that's written in javascript or groovy or some such. I'm assuming this doesn't interest you so I won't go into further detail as to how to set this up. This solution is <em>very</em> common in dynamic languages. One way or another, you lose as-you-write introspection unless the reflective tool ships with IDE plugins at which point it's as complex as the first 2 solutions.</p>\n</li>\n</ul>\n<p>Pick your poison. I'd pick the implicit code gen option, and then I'd use the tool that most tightly integrates to keep productivity up by keeping 'waiting around for the build!' down to a minimum. But then, I am one of the core contributors to Project Lombok so I might be a <em>tad</em> biased :)</p>\n"}],"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634053087,"creation_date":1634050815,"question_id":69542805,"body_markdown":"[In](https://howtodoinjava.com/design-patterns/creational/builder-pattern-in-java/) [so](https://www.vogella.com/tutorials/DesignPatternBuilder/article.html) [many](https://blogs.oracle.com/javamagazine/post/exploring-joshua-blochs-builder-design-pattern-in-java) [articles](https://www.geeksforgeeks.org/builder-pattern-in-java/) [on Java&#39;s builder design pattern](https://blogs.oracle.com/javamagazine/post/exploring-joshua-blochs-builder-design-pattern-in-java), it is implemented as follows: \r\n\r\n```\r\npublic class YourModel {\r\n   // your fields here\r\n   private final long id;\r\n   //...\r\n\r\n   private YourModel(YourModelBuilder builder) { \r\n      // set everything from the builder\r\n   }\r\n   \r\n   public static class YourModelBuilder { \r\n      // same fields from the model it is trying to build\r\n      private final long id;\r\n      //...\r\n\r\n      public YourModelBuilder(long id/* , .... */) { \r\n         // the normal construction pattern here...\r\n         this.id = id;\r\n         //...\r\n      }\r\n\r\n      // some builder methods for setting individual fields while allowing for chaining\r\n\r\n\r\n      public YourModel build() { \r\n          YourModel model = new YourModel(this);\r\n          // do validation here\r\n          return model;\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nor something similar. \r\n\r\nThis implementation of the design pattern seem to satisfy my use case, quickly and easily creating models manually for my Katalon Studio tests, in a way that is easy to understand, but it seems like it could end up a nightmare to maintain, especially given that the AUT these models are being created for, is constantly changing. \r\n\r\nHow can we abstract out the field declaration being copied from the model to the model builder?","title":"Abstracting out the field creation on a model builder in Java","body":"<p><a href=\"https://howtodoinjava.com/design-patterns/creational/builder-pattern-in-java/\" rel=\"nofollow noreferrer\">In</a> <a href=\"https://www.vogella.com/tutorials/DesignPatternBuilder/article.html\" rel=\"nofollow noreferrer\">so</a> <a href=\"https://blogs.oracle.com/javamagazine/post/exploring-joshua-blochs-builder-design-pattern-in-java\" rel=\"nofollow noreferrer\">many</a> <a href=\"https://www.geeksforgeeks.org/builder-pattern-in-java/\" rel=\"nofollow noreferrer\">articles</a> <a href=\"https://blogs.oracle.com/javamagazine/post/exploring-joshua-blochs-builder-design-pattern-in-java\" rel=\"nofollow noreferrer\">on Java's builder design pattern</a>, it is implemented as follows:</p>\n<pre><code>public class YourModel {\n   // your fields here\n   private final long id;\n   //...\n\n   private YourModel(YourModelBuilder builder) { \n      // set everything from the builder\n   }\n   \n   public static class YourModelBuilder { \n      // same fields from the model it is trying to build\n      private final long id;\n      //...\n\n      public YourModelBuilder(long id/* , .... */) { \n         // the normal construction pattern here...\n         this.id = id;\n         //...\n      }\n\n      // some builder methods for setting individual fields while allowing for chaining\n\n\n      public YourModel build() { \n          YourModel model = new YourModel(this);\n          // do validation here\n          return model;\n      }\n   }\n}\n</code></pre>\n<p>or something similar.</p>\n<p>This implementation of the design pattern seem to satisfy my use case, quickly and easily creating models manually for my Katalon Studio tests, in a way that is easy to understand, but it seems like it could end up a nightmare to maintain, especially given that the AUT these models are being created for, is constantly changing.</p>\n<p>How can we abstract out the field declaration being copied from the model to the model builder?</p>\n"},{"tags":["java","google-api","google-visualization","google-api-java-client","google-classroom"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634050245,"creation_date":1634050245,"answer_id":69542657,"question_id":69542317,"body_markdown":"The method [corses.create](https://developers.google.com/classroom/reference/rest/v1/courses/create) requires that the authorized user must have consented with the following scope.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthe method [courses.teachers.create ](https://developers.google.com/classroom/reference/rest/v1/courses.teachers/create) requires one of the following scopes\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nNow if we look at your code you appear to be using the following scopes\r\n\r\n    List&lt;String&gt; SCOPES = \r\n     Arrays.asList(ClassroomScopes.CLASSROOM_COURSES, \r\n     ClassroomScopes.CLASSROOM_COURSEWORK_STUDENTS, \r\n     ClassroomScopes.CLASSROOM_COURSEWORK_ME, \r\n     ClassroomScopes.CLASSROOM_ROSTERS);\r\n\r\n\r\nwhich should be enough to ensure that you have access.  However you also apear to be using CREDENTIALS_FILE_PATH which is where the users consent will be stored.   Now if you ran your application once and requested access of the user and the user consented to it.  Then the credetinals for that user would be stored in the file.  If you then changed the scopes in your code the code is still reading from CREDENTIALS_FILE_PATH  with the old scopes.\r\n\r\nYou need to force your application to request access of the user again and this time consent to the proper scopes.\r\n\r\nThere are two ways to do that.  Delete the file in CREDENTIALS_FILE_PATH  \r\n which contains &quot;user&quot; in its name.\r\n\r\nor change &quot;user&quot; to something else in this line of your code.\r\n\r\n\r\n     AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);  change \r\n\r\n  [1]: https://i.stack.imgur.com/xUMRN.png\r\n  [2]: https://i.stack.imgur.com/Es9GM.png","title":"Request had insufficient authentication scopes error when creating teacher through Google Classroom API","body":"<p>The method <a href=\"https://developers.google.com/classroom/reference/rest/v1/courses/create\" rel=\"nofollow noreferrer\">corses.create</a> requires that the authorized user must have consented with the following scope.</p>\n<p><a href=\"https://i.stack.imgur.com/xUMRN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xUMRN.png\" alt=\"enter image description here\" /></a></p>\n<p>the method <a href=\"https://developers.google.com/classroom/reference/rest/v1/courses.teachers/create\" rel=\"nofollow noreferrer\">courses.teachers.create </a> requires one of the following scopes</p>\n<p><a href=\"https://i.stack.imgur.com/Es9GM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Es9GM.png\" alt=\"enter image description here\" /></a></p>\n<p>Now if we look at your code you appear to be using the following scopes</p>\n<pre><code>List&lt;String&gt; SCOPES = \n Arrays.asList(ClassroomScopes.CLASSROOM_COURSES, \n ClassroomScopes.CLASSROOM_COURSEWORK_STUDENTS, \n ClassroomScopes.CLASSROOM_COURSEWORK_ME, \n ClassroomScopes.CLASSROOM_ROSTERS);\n</code></pre>\n<p>which should be enough to ensure that you have access.  However you also apear to be using CREDENTIALS_FILE_PATH which is where the users consent will be stored.   Now if you ran your application once and requested access of the user and the user consented to it.  Then the credetinals for that user would be stored in the file.  If you then changed the scopes in your code the code is still reading from CREDENTIALS_FILE_PATH  with the old scopes.</p>\n<p>You need to force your application to request access of the user again and this time consent to the proper scopes.</p>\n<p>There are two ways to do that.  Delete the file in CREDENTIALS_FILE_PATH<br />\nwhich contains &quot;user&quot; in its name.</p>\n<p>or change &quot;user&quot; to something else in this line of your code.</p>\n<pre><code> AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);  change \n</code></pre>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69542657,"answer_count":1,"score":1,"last_activity_date":1634053085,"creation_date":1634048820,"question_id":69542317,"body_markdown":"I&#39;m trying to create assignments for students through the google classroom api. However, I&#39;ve learned admins can not do that, only teachers. So in our code, after creating a new course we&#39;re then setting the teacher&#39;s email, which is the same as for the admin. However, the code fails when creating the teacher. It says the **request had insufficient authentication scopes**. I&#39;ve tried to add different extra scopes but I&#39;m stuck on this error message.\r\n\r\n\r\n    private static final List&lt;String&gt; SCOPES = \r\n     Arrays.asList(ClassroomScopes.CLASSROOM_COURSES, \r\n     ClassroomScopes.CLASSROOM_COURSEWORK_STUDENTS, \r\n     ClassroomScopes.CLASSROOM_COURSEWORK_ME, \r\n     ClassroomScopes.CLASSROOM_ROSTERS);\r\n\r\n\r\n        Course course = new Course()\r\n                .setName(&quot;10th Grade Biology&quot;)\r\n                .setSection(&quot;Period 2&quot;)\r\n                .setDescriptionHeading(&quot;Welcome to 10th Grade Biology&quot;)\r\n                .setDescription(&quot;We&#39;ll be learning about about the structure of living creatures &quot;\r\n                        + &quot;from a combination of textbooks, guest lectures, and lab work. Expect &quot;\r\n                        + &quot;to be excited!&quot;)\r\n                .setRoom(&quot;301&quot;)\r\n                .setOwnerId(&quot;me&quot;)\r\n                .setCourseState(&quot;PROVISIONED&quot;);\r\n\r\n        course = service.courses().create(course).execute();\r\n        System.out.printf(&quot;Course created: %s (%s)\\n&quot;, course.getName(), course.getId());\r\n\r\n\r\n        String courseId = course.getId();\r\n        String teacherEmail = &quot;admin@gmail.com&quot;;\r\n        Teacher teacher = new Teacher().setUserId(teacherEmail);\r\n        try {\r\n            teacher = service.courses().teachers().create(courseId, teacher).execute();\r\n            System.out.printf(&quot;User &#39;%s&#39; was added as a teacher to the course with ID &#39;%s&#39;.\\n&quot;,\r\n                    teacher.getProfile().getName().getFullName(), courseId);\r\n        } catch (GoogleJsonResponseException e) {\r\n            GoogleJsonError error = e.getDetails();\r\n            if (error.getCode() == 409) {\r\n                System.out.printf(&quot;User &#39;%s&#39; is already a member of this course.\\n&quot;, teacherEmail);\r\n            } else {\r\n                throw e;\r\n            }\r\n        }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is the full code:\r\n\r\n\r\n    public class ClassroomQuickstart {\r\n    private static final String APPLICATION_NAME = &quot;Google Classroom API Java Quickstart&quot;;\r\n    private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\n\r\n\r\n    private static final List&lt;String&gt; SCOPES = Arrays.asList(ClassroomScopes.CLASSROOM_COURSES, ClassroomScopes.CLASSROOM_COURSEWORK_STUDENTS, ClassroomScopes.CLASSROOM_COURSEWORK_ME, ClassroomScopes.CLASSROOM_ROSTERS);\r\n\r\n\r\n    private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\r\n\r\n\r\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n        // Load client secrets.\r\n        InputStream in = ClassroomQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n        if (in == null) {\r\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n        }\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n        // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n    }\r\n\r\n\r\n     public static void main(String... args) throws IOException, \r\n       GeneralSecurityException {\r\n        // Build a new authorized API client service.\r\n        final NetHttpTransport HTTP_TRANSPORT = \r\n       GoogleNetHttpTransport.newTrustedTransport();\r\n        Classroom service = new Classroom.Builder(HTTP_TRANSPORT, JSON_FACTORY, \r\n       getCredentials(HTTP_TRANSPORT))\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .build();\r\n\r\n        // List the first 10 courses that the user has access to.\r\n        ListCoursesResponse response = service.courses().list()\r\n                .setPageSize(10)\r\n                .execute();\r\n        List&lt;Course&gt; courses = response.getCourses();\r\n        if (courses == null || courses.size() == 0) {\r\n            System.out.println(&quot;No courses found.&quot;);\r\n        } else {\r\n            System.out.println(&quot;Courses:&quot;);\r\n            for (Course course : courses) {\r\n                System.out.printf(&quot;%s\\n&quot;, course.getName());\r\n            }\r\n        }\r\n\r\n\r\n        Course course = new Course()\r\n                .setName(&quot;10th Grade Biology&quot;)\r\n                .setSection(&quot;Period 2&quot;)\r\n                .setDescriptionHeading(&quot;Welcome to 10th Grade Biology&quot;)\r\n                .setDescription(&quot;We&#39;ll be learning about about the structure of living creatures &quot;\r\n                        + &quot;from a combination of textbooks, guest lectures, and lab work. Expect &quot;\r\n                        + &quot;to be excited!&quot;)\r\n                .setRoom(&quot;301&quot;)\r\n                .setOwnerId(&quot;me&quot;)\r\n                .setCourseState(&quot;PROVISIONED&quot;);\r\n\r\n        course = service.courses().create(course).execute();\r\n        System.out.printf(&quot;Course created: %s (%s)\\n&quot;, course.getName(), course.getId());\r\n\r\n\r\n        String courseId = course.getId();\r\n        String teacherEmail = &quot;admin@gmail.com&quot;;\r\n        Teacher teacher = new Teacher().setUserId(teacherEmail);\r\n        try {\r\n            teacher = service.courses().teachers().create(courseId, teacher).execute();\r\n            System.out.printf(&quot;User &#39;%s&#39; was added as a teacher to the course with ID &#39;%s&#39;.\\n&quot;,\r\n                    teacher.getProfile().getName().getFullName(), courseId);\r\n        } catch (GoogleJsonResponseException e) {\r\n            GoogleJsonError error = e.getDetails();\r\n            if (error.getCode() == 409) {\r\n                System.out.printf(&quot;User &#39;%s&#39; is already a member of this course.\\n&quot;, teacherEmail);\r\n            } else {\r\n                throw e;\r\n            }\r\n        }\r\n\r\n\r\n       \r\n    //        CourseWork courseWork = new CourseWork()\r\n    //         .setCourseId(course.getId())\r\n    //          .setTitle(&quot;title&quot;)\r\n    //          .setWorkType(&quot;ASSIGNMENT&quot;)\r\n    //           .setDescription(&quot;desc&quot;);\r\n\r\n    //        service.courses().courseWork().create(course.getId(), courseWork).execute();\r\n\r\n    }\r\n\r\n    }\r\n\r\nThank you.\r\n\r\n\r\n\r\n**UPDATE**\r\n\r\nAs per @DaImTo&#39;answer, adding these two extra profiles fixed the original error.\r\n     ClassroomScopes.CLASSROOM_PROFILE_EMAILS,\r\n     ClassroomScopes.CLASSROOM_PROFILE_PHOTOS,\r\n\r\nHowever, we&#39;re still getting a &quot;The caller does not have permission&quot; error message.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g8kFo.png","title":"Request had insufficient authentication scopes error when creating teacher through Google Classroom API","body":"<p>I'm trying to create assignments for students through the google classroom api. However, I've learned admins can not do that, only teachers. So in our code, after creating a new course we're then setting the teacher's email, which is the same as for the admin. However, the code fails when creating the teacher. It says the <strong>request had insufficient authentication scopes</strong>. I've tried to add different extra scopes but I'm stuck on this error message.</p>\n<pre><code>private static final List&lt;String&gt; SCOPES = \n Arrays.asList(ClassroomScopes.CLASSROOM_COURSES, \n ClassroomScopes.CLASSROOM_COURSEWORK_STUDENTS, \n ClassroomScopes.CLASSROOM_COURSEWORK_ME, \n ClassroomScopes.CLASSROOM_ROSTERS);\n\n\n    Course course = new Course()\n            .setName(&quot;10th Grade Biology&quot;)\n            .setSection(&quot;Period 2&quot;)\n            .setDescriptionHeading(&quot;Welcome to 10th Grade Biology&quot;)\n            .setDescription(&quot;We'll be learning about about the structure of living creatures &quot;\n                    + &quot;from a combination of textbooks, guest lectures, and lab work. Expect &quot;\n                    + &quot;to be excited!&quot;)\n            .setRoom(&quot;301&quot;)\n            .setOwnerId(&quot;me&quot;)\n            .setCourseState(&quot;PROVISIONED&quot;);\n\n    course = service.courses().create(course).execute();\n    System.out.printf(&quot;Course created: %s (%s)\\n&quot;, course.getName(), course.getId());\n\n\n    String courseId = course.getId();\n    String teacherEmail = &quot;admin@gmail.com&quot;;\n    Teacher teacher = new Teacher().setUserId(teacherEmail);\n    try {\n        teacher = service.courses().teachers().create(courseId, teacher).execute();\n        System.out.printf(&quot;User '%s' was added as a teacher to the course with ID '%s'.\\n&quot;,\n                teacher.getProfile().getName().getFullName(), courseId);\n    } catch (GoogleJsonResponseException e) {\n        GoogleJsonError error = e.getDetails();\n        if (error.getCode() == 409) {\n            System.out.printf(&quot;User '%s' is already a member of this course.\\n&quot;, teacherEmail);\n        } else {\n            throw e;\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/g8kFo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g8kFo.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the full code:</p>\n<pre><code>public class ClassroomQuickstart {\nprivate static final String APPLICATION_NAME = &quot;Google Classroom API Java Quickstart&quot;;\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\nprivate static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n\n\nprivate static final List&lt;String&gt; SCOPES = Arrays.asList(ClassroomScopes.CLASSROOM_COURSES, ClassroomScopes.CLASSROOM_COURSEWORK_STUDENTS, ClassroomScopes.CLASSROOM_COURSEWORK_ME, ClassroomScopes.CLASSROOM_ROSTERS);\n\n\nprivate static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\n\n\nprivate static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n    // Load client secrets.\n    InputStream in = ClassroomQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n    if (in == null) {\n        throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n    }\n    GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n    // Build flow and trigger user authorization request.\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n            .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n            .setAccessType(&quot;offline&quot;)\n            .build();\n    LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n    return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n}\n\n\n public static void main(String... args) throws IOException, \n   GeneralSecurityException {\n    // Build a new authorized API client service.\n    final NetHttpTransport HTTP_TRANSPORT = \n   GoogleNetHttpTransport.newTrustedTransport();\n    Classroom service = new Classroom.Builder(HTTP_TRANSPORT, JSON_FACTORY, \n   getCredentials(HTTP_TRANSPORT))\n            .setApplicationName(APPLICATION_NAME)\n            .build();\n\n    // List the first 10 courses that the user has access to.\n    ListCoursesResponse response = service.courses().list()\n            .setPageSize(10)\n            .execute();\n    List&lt;Course&gt; courses = response.getCourses();\n    if (courses == null || courses.size() == 0) {\n        System.out.println(&quot;No courses found.&quot;);\n    } else {\n        System.out.println(&quot;Courses:&quot;);\n        for (Course course : courses) {\n            System.out.printf(&quot;%s\\n&quot;, course.getName());\n        }\n    }\n\n\n    Course course = new Course()\n            .setName(&quot;10th Grade Biology&quot;)\n            .setSection(&quot;Period 2&quot;)\n            .setDescriptionHeading(&quot;Welcome to 10th Grade Biology&quot;)\n            .setDescription(&quot;We'll be learning about about the structure of living creatures &quot;\n                    + &quot;from a combination of textbooks, guest lectures, and lab work. Expect &quot;\n                    + &quot;to be excited!&quot;)\n            .setRoom(&quot;301&quot;)\n            .setOwnerId(&quot;me&quot;)\n            .setCourseState(&quot;PROVISIONED&quot;);\n\n    course = service.courses().create(course).execute();\n    System.out.printf(&quot;Course created: %s (%s)\\n&quot;, course.getName(), course.getId());\n\n\n    String courseId = course.getId();\n    String teacherEmail = &quot;admin@gmail.com&quot;;\n    Teacher teacher = new Teacher().setUserId(teacherEmail);\n    try {\n        teacher = service.courses().teachers().create(courseId, teacher).execute();\n        System.out.printf(&quot;User '%s' was added as a teacher to the course with ID '%s'.\\n&quot;,\n                teacher.getProfile().getName().getFullName(), courseId);\n    } catch (GoogleJsonResponseException e) {\n        GoogleJsonError error = e.getDetails();\n        if (error.getCode() == 409) {\n            System.out.printf(&quot;User '%s' is already a member of this course.\\n&quot;, teacherEmail);\n        } else {\n            throw e;\n        }\n    }\n\n\n   \n//        CourseWork courseWork = new CourseWork()\n//         .setCourseId(course.getId())\n//          .setTitle(&quot;title&quot;)\n//          .setWorkType(&quot;ASSIGNMENT&quot;)\n//           .setDescription(&quot;desc&quot;);\n\n//        service.courses().courseWork().create(course.getId(), courseWork).execute();\n\n}\n\n}\n</code></pre>\n<p>Thank you.</p>\n<p><strong>UPDATE</strong></p>\n<p>As per @DaImTo'answer, adding these two extra profiles fixed the original error.\nClassroomScopes.CLASSROOM_PROFILE_EMAILS,\nClassroomScopes.CLASSROOM_PROFILE_PHOTOS,</p>\n<p>However, we're still getting a &quot;The caller does not have permission&quot; error message.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1255724,"reputation":3543,"user_id":1215222,"accept_rate":95,"display_name":"Jason Crosby"},"score":1,"creation_date":1634052777,"post_id":69543115,"comment_id":122920405,"body_markdown":"Its going to be hard to help without more information.","body":"Its going to be hard to help without more information."},{"owner":{"account_id":23013567,"reputation":21,"user_id":17135739,"display_name":"Moataz Mohamed"},"score":0,"creation_date":1634053272,"post_id":69543115,"comment_id":122920600,"body_markdown":"@a_local_nobody no unfortunately","body":"@a_local_nobody no unfortunately"},{"owner":{"account_id":23013567,"reputation":21,"user_id":17135739,"display_name":"Moataz Mohamed"},"score":0,"creation_date":1634053317,"post_id":69543115,"comment_id":122920616,"body_markdown":"@JasonCrosby sorry it&#39;s my first time asking a question here, what more information should I provide?","body":"@JasonCrosby sorry it&#39;s my first time asking a question here, what more information should I provide?"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1634053340,"post_id":69543115,"comment_id":122920628,"body_markdown":"we can&#39;t help without any crash logs, that post will help you find it and post it here. chances are, you find the logs, search for the cause and find an answer","body":"we can&#39;t help without any crash logs, that post will help you find it and post it here. chances are, you find the logs, search for the cause and find an answer"},{"owner":{"account_id":23013567,"reputation":21,"user_id":17135739,"display_name":"Moataz Mohamed"},"score":0,"creation_date":1634053695,"post_id":69543115,"comment_id":122920773,"body_markdown":"@a_local_nobody will the logcat help even if it doesn&#39;t crash on my emulator and continues to function properly? I get some red warnings but not like the ones found on the other question you linked to","body":"@a_local_nobody will the logcat help even if it doesn&#39;t crash on my emulator and continues to function properly? I get some red warnings but not like the ones found on the other question you linked to"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1634054186,"post_id":69543115,"comment_id":122920998,"body_markdown":"if it crashes then there&#39;s a stack trace, it&#39;s nearly impossible for us to help without it, unfortunately, because we won&#39;t know what caused the crash","body":"if it crashes then there&#39;s a stack trace, it&#39;s nearly impossible for us to help without it, unfortunately, because we won&#39;t know what caused the crash"},{"owner":{"display_name":"user2711811"},"score":1,"creation_date":1634057005,"post_id":69543115,"comment_id":122922116,"body_markdown":"This line is suspect: `spinner.setSelection(adapter.getPosition(preferences.getString(&quot;platform&quot;, &quot;PC&quot;)));` the adapter returns &quot;-1&quot; if string not found which when provided to `setSelection` would likely be an index of out bounds.  Your spinner possibilities are based on resources and the preferences may have be &quot;preexisting&quot; (from earlier version?)  or perhaps PC is not valid - in either case you should check for -1 before setting selection.","body":"This line is suspect: <code>spinner.setSelection(adapter.getPosition(preferences.getStri&zwnj;&#8203;ng(&quot;platform&quot;, &quot;PC&quot;)));</code> the adapter returns &quot;-1&quot; if string not found which when provided to <code>setSelection</code> would likely be an index of out bounds.  Your spinner possibilities are based on resources and the preferences may have be &quot;preexisting&quot; (from earlier version?)  or perhaps PC is not valid - in either case you should check for -1 before setting selection."}],"owner":{"account_id":23013567,"reputation":21,"user_id":17135739,"display_name":"Moataz Mohamed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634088381,"answer_count":0,"score":0,"last_activity_date":1634053066,"creation_date":1634052117,"question_id":69543115,"body_markdown":"I published my first Android app about 2 weeks ago and some of the users are complaining about it crashing when accessing the Settings Fragment,\r\n\r\n\r\n I never saw the bug on the emulator or my phone but what I&#39;m suspecting is something to do with trying to access the shared preferences in the onCreateView() method \r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_settings, container, false);\r\n\r\n\r\n        spinner = view.findViewById(R.id.platforms);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(),\r\n                R.array.platforms_array, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n\r\n\r\n\r\n        SharedPreferences preferences = this.getActivity().getSharedPreferences(&quot;sharedPrefs&quot;, Context.MODE_PRIVATE);\r\n\r\n\r\n      \r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n                selectedPlatform = spinner.getSelectedItem().toString();\r\n                SharedPreferences.Editor editor = preferences.edit();\r\n                editor.putString(&quot;platform&quot;, selectedPlatform);\r\n                editor.apply();\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n            }\r\n        });\r\n\r\n        spinner.setSelection(adapter.getPosition(preferences.getString(&quot;platform&quot;, &quot;PC&quot;)));\r\n        return view;\r\n    }","title":"Why is my Android app crashing in a certain fragment only?","body":"<p>I published my first Android app about 2 weeks ago and some of the users are complaining about it crashing when accessing the Settings Fragment,</p>\n<p>I never saw the bug on the emulator or my phone but what I'm suspecting is something to do with trying to access the shared preferences in the onCreateView() method</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n    View view = inflater.inflate(R.layout.fragment_settings, container, false);\n\n\n    spinner = view.findViewById(R.id.platforms);\n    ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(),\n            R.array.platforms_array, android.R.layout.simple_spinner_item);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner.setAdapter(adapter);\n\n\n\n    SharedPreferences preferences = this.getActivity().getSharedPreferences(&quot;sharedPrefs&quot;, Context.MODE_PRIVATE);\n\n\n  \n    spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n            selectedPlatform = spinner.getSelectedItem().toString();\n            SharedPreferences.Editor editor = preferences.edit();\n            editor.putString(&quot;platform&quot;, selectedPlatform);\n            editor.apply();\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n        }\n    });\n\n    spinner.setSelection(adapter.getPosition(preferences.getString(&quot;platform&quot;, &quot;PC&quot;)));\n    return view;\n}\n</code></pre>\n"},{"tags":["java","flyway"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1634052274,"post_id":69524542,"comment_id":122920174,"body_markdown":"Why do you want to do this? It looks to me like you&#39;re trying to work against Flyway instead of with it. My guess would that this way, the next migration could start while your code is still doing things. Or it could even fail because Flyway things migration is completed and closed the connection of the context.","body":"Why do you want to do this? It looks to me like you&#39;re trying to work against Flyway instead of with it. My guess would that this way, the next migration could start while your code is still doing things. Or it could even fail because Flyway things migration is completed and closed the connection of the context."},{"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"score":0,"creation_date":1634110030,"post_id":69524542,"comment_id":122934754,"body_markdown":"@MarkRotteveel The thing is that before updating some values in DB I need to prepare them by requesting S3 bucket in AWS which contains about 1.5 objects, so it is very time consuming. I thought it would be possible to split it into several threads.","body":"@MarkRotteveel The thing is that before updating some values in DB I need to prepare them by requesting S3 bucket in AWS which contains about 1.5 objects, so it is very time consuming. I thought it would be possible to split it into several threads."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1634110994,"post_id":69524542,"comment_id":122935107,"body_markdown":"You have two problems: 1) although in theory JDBC connections are thread-safe, in practice it is just not a good idea to share a connection on multiple threads, 2) if you want to do this, you need to make sure that you actually wait for completion of the executor service (or the tasks you schedule), so the execution is contained within the migration. That said, I&#39;m not sure migrating 1.5 (?) objects (I&#39;m guessing 1.5 million?) from S3 belongs within a Flyway migration.","body":"You have two problems: 1) although in theory JDBC connections are thread-safe, in practice it is just not a good idea to share a connection on multiple threads, 2) if you want to do this, you need to make sure that you actually wait for completion of the executor service (or the tasks you schedule), so the execution is contained within the migration. That said, I&#39;m not sure migrating 1.5 (?) objects (I&#39;m guessing 1.5 million?) from S3 belongs within a Flyway migration."},{"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"score":0,"creation_date":1634111993,"post_id":69524542,"comment_id":122935497,"body_markdown":"Yes. It is 1.5 millions. My bad. I agree with you that Flyway is not compatible with such operations but project that I am in now using this approach broadly and did not succeed to convince them to change approach. About sharing connection - I was not going to share one connections between threads. I thought that context.getConnection() returns new one every time. If it is not - then my question is pointless at all.","body":"Yes. It is 1.5 millions. My bad. I agree with you that Flyway is not compatible with such operations but project that I am in now using this approach broadly and did not succeed to convince them to change approach. About sharing connection - I was not going to share one connections between threads. I thought that context.getConnection() returns new one every time. If it is not - then my question is pointless at all."}],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634052169,"creation_date":1633947297,"question_id":69524542,"body_markdown":"Let&#39;s say I have next class: \r\n\r\n```java\r\npublic class MyMigration extends BaseJavaMigration {\r\n\r\n    private static ExecutorService executorService;\r\n\r\n    @Override\r\n    public void migrate(Context context) throws Exception {\r\n       // some code\r\n       executorService.execute(() -&gt; process(context, listOfIds));\r\n    }\r\n\r\n    private void process(Context context, List&lt;Long&gt; listOfIds) {\r\n      context.getConnection()\r\n            .prepareStatement(buildSql(listOfIds))\r\n            .executeUpdate();\r\n       }\r\n    }\r\n```\r\n\r\nIs that possible to use Context in this way? Is Context/JavaMigrationExecutor thread safe? ","title":"Is Flyway&#39;s Context/JavaMigrationExecutor thread safe?","body":"<p>Let's say I have next class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyMigration extends BaseJavaMigration {\n\n    private static ExecutorService executorService;\n\n    @Override\n    public void migrate(Context context) throws Exception {\n       // some code\n       executorService.execute(() -&gt; process(context, listOfIds));\n    }\n\n    private void process(Context context, List&lt;Long&gt; listOfIds) {\n      context.getConnection()\n            .prepareStatement(buildSql(listOfIds))\n            .executeUpdate();\n       }\n    }\n</code></pre>\n<p>Is that possible to use Context in this way? Is Context/JavaMigrationExecutor thread safe?</p>\n"},{"tags":["java","json","date","java-time"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633769732,"post_id":69505018,"comment_id":122852460,"body_markdown":"Your string contains an offset, so using `LocalDateTime` is not the right tool. In any case, your string doesn&#39;t conform to the ISO-8601 format, so you shouldn&#39;t try to use to use the format `ISO_OFFSET_DATE_TIME`.","body":"Your string contains an offset, so using <code>LocalDateTime</code> is not the right tool. In any case, your string doesn&#39;t conform to the ISO-8601 format, so you shouldn&#39;t try to use to use the format <code>ISO_OFFSET_DATE_TIME</code>."}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633891665,"creation_date":1633770107,"answer_id":69505221,"question_id":69505018,"body_markdown":"You should first check if the date string matches any of the [Predefined Formatters][1].\r\n\r\nIf not, then you have to make your own `Formatter` using `.ofPattern(String pattern)` or `.ofPattern(String pattern, Locale locale)`. To do this, you can see all the defined pattern letters [here][2] in section *Patterns for Formatting and Parsing*. \r\n\r\nFor your example, you can use either `DateTimeFormatter.RFC_1123_DATE_TIME`:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.RFC_1123_DATE_TIME;\r\n\tOffsetDateTime dateTime = OffsetDateTime.parse(s, formatted);\r\nor:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;);\r\n    OffsetDateTime dateTime = OffsetDateTime.parse(s, formatted);\r\n\r\nNote that `OffsetDateTime` is used to represent the date-time with an offset from UTC.\r\n\r\n-----                 \r\n\r\n\r\n     Symbol  Meaning       \r\n     ------  -------        \r\n       E     day-of-week \r\n       d     day-of-month\r\n       M     month-of-year\r\n       y     year-of-era\r\n       H     hour-of-day (0-23)\r\n       m     minute-of-hour\r\n       s     second-of-minute\r\n       Z     zone-offset\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#:~:text=Predefined%20Formatters,05%3A30%20GMT%27\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#:~:text=Symbol%20%20Meaning%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Presentation%20%20%20%20%20%20Examples\r\n","title":"Parse datetime with offset string to LocalDateTime","body":"<p>You should first check if the date string matches any of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#:%7E:text=Predefined%20Formatters,05%3A30%20GMT%27\" rel=\"nofollow noreferrer\">Predefined Formatters</a>.</p>\n<p>If not, then you have to make your own <code>Formatter</code> using <code>.ofPattern(String pattern)</code> or <code>.ofPattern(String pattern, Locale locale)</code>. To do this, you can see all the defined pattern letters <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#:%7E:text=Symbol%20%20Meaning%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Presentation%20%20%20%20%20%20Examples\" rel=\"nofollow noreferrer\">here</a> in section <em>Patterns for Formatting and Parsing</em>.</p>\n<p>For your example, you can use either <code>DateTimeFormatter.RFC_1123_DATE_TIME</code>:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.RFC_1123_DATE_TIME;\nOffsetDateTime dateTime = OffsetDateTime.parse(s, formatted);\n</code></pre>\n<p>or:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;);\nOffsetDateTime dateTime = OffsetDateTime.parse(s, formatted);\n</code></pre>\n<p>Note that <code>OffsetDateTime</code> is used to represent the date-time with an offset from UTC.</p>\n<hr />\n<pre><code> Symbol  Meaning       \n ------  -------        \n   E     day-of-week \n   d     day-of-month\n   M     month-of-year\n   y     year-of-era\n   H     hour-of-day (0-23)\n   m     minute-of-hour\n   s     second-of-minute\n   Z     zone-offset\n</code></pre>\n"}],"owner":{"account_id":6094045,"reputation":3231,"user_id":4755440,"accept_rate":59,"display_name":"Paras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1367,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69505221,"answer_count":1,"score":3,"last_activity_date":1634052018,"creation_date":1633768077,"question_id":69505018,"body_markdown":"I am trying to parse following datetime String to LocalDateTimeObject, however I am not able to identify the format of the datetime string.\r\n\r\n**`Sat, 09 Oct 2021 02:10:23 -0400`**\r\n\r\n        String s = &quot;Sat, 09 Oct 2021 02:10:23 -0400&quot;;\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\r\n\t\tLocalDateTime dateTime = LocalDateTime.parse(s, formatter);\r\n\t\tSystem.out.println(dateTime);\r\n\r\nHow should I determine the pattern of the above string? ","title":"Parse datetime with offset string to LocalDateTime","body":"<p>I am trying to parse following datetime String to LocalDateTimeObject, however I am not able to identify the format of the datetime string.</p>\n<p><strong><code>Sat, 09 Oct 2021 02:10:23 -0400</code></strong></p>\n<pre><code>    String s = &quot;Sat, 09 Oct 2021 02:10:23 -0400&quot;;\n    DateTimeFormatter formatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\n    LocalDateTime dateTime = LocalDateTime.parse(s, formatter);\n    System.out.println(dateTime);\n</code></pre>\n<p>How should I determine the pattern of the above string?</p>\n"},{"tags":["java","timezone","java-time","localdate","zoneddatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1629566376,"post_id":68875061,"comment_id":121722358,"body_markdown":"Don’t use `01` for month nor for day of month. You may think it looks nice, but you will get an unpleasant surprise when 08 does not work for August and 09 not for September because in Java numbers that begin with 0 are interpreted as [octal numbers](https://en.wikipedia.org/wiki/Octal).","body":"Don’t use <code>01</code> for month nor for day of month. You may think it looks nice, but you will get an unpleasant surprise when 08 does not work for August and 09 not for September because in Java numbers that begin with 0 are interpreted as <a href=\"https://en.wikipedia.org/wiki/Octal\" rel=\"nofollow noreferrer\">octal numbers</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1629566579,"post_id":68875061,"comment_id":121722406,"body_markdown":"Don’t use `LocalDateTime` (unless you need it for an API outside your control). Have your datetime objects know their own time zone. Use `ZonedDateTime`, and for UTC even better `OffsetDateTime` with `ZoneOffset.UTC`. It prevents some silly and hard-to-track mistakes.","body":"Don’t use <code>LocalDateTime</code> (unless you need it for an API outside your control). Have your datetime objects know their own time zone. Use <code>ZonedDateTime</code>, and for UTC even better <code>OffsetDateTime</code> with <code>ZoneOffset.UTC</code>. It prevents some silly and hard-to-track mistakes."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1629566734,"post_id":68875061,"comment_id":121722439,"body_markdown":"[Time zone converter](https://www.timeanddate.com/worldclock/converter.html?iso=20200101T150000&amp;p1=1440&amp;p2=215)","body":"<a href=\"https://www.timeanddate.com/worldclock/converter.html?iso=20200101T150000&amp;p1=1440&amp;p2=215\" rel=\"nofollow noreferrer\">Time zone converter</a>"},{"owner":{"account_id":1812764,"reputation":839,"user_id":1648495,"accept_rate":100,"display_name":"Davide C"},"score":0,"creation_date":1629570126,"post_id":68875061,"comment_id":121723185,"body_markdown":"Thanks for your comments! The second one is interesting.\nAbout the first one the 01 is a mistake. This code was only to test, but thank you for saying that.","body":"Thanks for your comments! The second one is interesting. About the first one the 01 is a mistake. This code was only to test, but thank you for saying that."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1629565913,"creation_date":1629565913,"answer_id":68875178,"question_id":68875061,"body_markdown":"&gt; I&#39;m expecting the &quot;converted time&quot; to be 17:00 but I&#39;m having this result.\r\n\r\nI&#39;m not sure why you&#39;re expecting that. 16:00 is the correct answer.\r\n\r\nPerhaps you missed that this is __in januari__, when mainland europe is on __winter time__ which is just 1 hour ahead of UTC.\r\n\r\n15:00:00 UTC time on jan 1st means it&#39;s +1 hour in Rome. There&#39;s no way to get 17:00:00 here. Try this with a summer date, perhaps. That&#39;ll get you a 2 hour difference.\r\n\r\nThere&#39;s nothing wrong your code. That is exactly how to do it, which is why it gives you 16:00:00 (as that is the right answer).","title":"Convert LocalDateTime UTC to Europe/Rome gave me wrong result","body":"<blockquote>\n<p>I'm expecting the &quot;converted time&quot; to be 17:00 but I'm having this result.</p>\n</blockquote>\n<p>I'm not sure why you're expecting that. 16:00 is the correct answer.</p>\n<p>Perhaps you missed that this is <strong>in januari</strong>, when mainland europe is on <strong>winter time</strong> which is just 1 hour ahead of UTC.</p>\n<p>15:00:00 UTC time on jan 1st means it's +1 hour in Rome. There's no way to get 17:00:00 here. Try this with a summer date, perhaps. That'll get you a 2 hour difference.</p>\n<p>There's nothing wrong your code. That is exactly how to do it, which is why it gives you 16:00:00 (as that is the right answer).</p>\n"}],"owner":{"account_id":1812764,"reputation":839,"user_id":1648495,"accept_rate":100,"display_name":"Davide C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68875178,"answer_count":1,"score":0,"last_activity_date":1634052009,"creation_date":1629565085,"question_id":68875061,"body_markdown":"I tried to search for the same problem but didn&#39;t find what I&#39;m doing wrong.\r\n\r\nI need to convert a UTC LocalDateTime to a Europe/Rome LocalDateTime.\r\nI&#39;m following this approach that I found on SO but I&#39;m having a wrong result:\r\n```\r\nZonedDateTime zonedDateTime = LocalDateTime.of(2020, 01, 01, 15, 0, 0).atZone(ZoneId.of(&quot;UTC&quot;));\r\nSystem.out.println(zonedDateTime);\r\nZonedDateTime current = zonedDateTime.withZoneSameInstant(ZoneId.systemDefault());\r\nSystem.out.println(current);\r\nSystem.out.println(current.toLocalDateTime());\r\n```\r\n\r\nI&#39;m expecting the &quot;converted time&quot; to be 17:00 but I&#39;m having this result.\r\n```\r\n2020-01-01T15:00Z[UTC]\r\n2020-01-01T16:00+01:00[Europe/Rome]\r\n2020-01-01T16:00\r\n```\r\n\r\nThanks","title":"Convert LocalDateTime UTC to Europe/Rome gave me wrong result","body":"<p>I tried to search for the same problem but didn't find what I'm doing wrong.</p>\n<p>I need to convert a UTC LocalDateTime to a Europe/Rome LocalDateTime.\nI'm following this approach that I found on SO but I'm having a wrong result:</p>\n<pre><code>ZonedDateTime zonedDateTime = LocalDateTime.of(2020, 01, 01, 15, 0, 0).atZone(ZoneId.of(&quot;UTC&quot;));\nSystem.out.println(zonedDateTime);\nZonedDateTime current = zonedDateTime.withZoneSameInstant(ZoneId.systemDefault());\nSystem.out.println(current);\nSystem.out.println(current.toLocalDateTime());\n</code></pre>\n<p>I'm expecting the &quot;converted time&quot; to be 17:00 but I'm having this result.</p>\n<pre><code>2020-01-01T15:00Z[UTC]\n2020-01-01T16:00+01:00[Europe/Rome]\n2020-01-01T16:00\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","android","react-native","expo"],"comments":[{"owner":{"account_id":16018116,"reputation":143,"user_id":11560232,"display_name":"Padmini S"},"score":0,"creation_date":1615189025,"post_id":66522481,"comment_id":117604129,"body_markdown":"I don&#39;t see anything wrong here, but in my own app I just added something like &#39;packages.add(new MyAppPackage());` . So just try one thing comment this one `packages.add(new ModuleRegistryAdapter(mModuleRegistryProvider));` , stop your development server, clean and rebuild your android project and then run `npx react-native run-android`","body":"I don&#39;t see anything wrong here, but in my own app I just added something like &#39;packages.add(new MyAppPackage());` . So just try one thing comment this one <code>packages.add(new ModuleRegistryAdapter(mModuleRegistryProvider));</code> , stop your development server, clean and rebuild your android project and then run <code>npx react-native run-android</code>"}],"answers":[{"tags":[],"owner":{"account_id":17474859,"reputation":2389,"user_id":12669945,"display_name":"Atmas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615911107,"creation_date":1615911107,"answer_id":66659065,"question_id":66522481,"body_markdown":"Is this as simple as an import problem?\r\n\r\nI noticed your MyAppPackage class is defined here:\r\n\r\n    package com.chowtime; // replace your-app-name with your app’s name\r\n\r\nBut your MainApplication error message seems indicate a sub-package, specifically &quot;chowtime.chowtime&quot;. Did you mean for both chowtimes?\r\n\r\n       com.chowtime.chowtime.MainApplication\r\n\r\n","title":"Android: error: cannot find symbol packages.add(new MyAppPackage())","body":"<p>Is this as simple as an import problem?</p>\n<p>I noticed your MyAppPackage class is defined here:</p>\n<pre><code>package com.chowtime; // replace your-app-name with your app’s name\n</code></pre>\n<p>But your MainApplication error message seems indicate a sub-package, specifically &quot;chowtime.chowtime&quot;. Did you mean for both chowtimes?</p>\n<pre><code>   com.chowtime.chowtime.MainApplication\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23013565,"reputation":21,"user_id":17135737,"display_name":"sam_gwd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634051996,"creation_date":1634051996,"answer_id":69543089,"question_id":66522481,"body_markdown":"I came across this same error. It seems like the docs on how to create/use native modules in react native are missing a step. \r\n\r\nIn the MainApplication.java file you need to import &#39;MyAppPackage&#39;. \r\n\r\n    import com.your-app-name.MyAppPackage;\r\n\r\nWithout importing it the &#39;MainApplication&#39; file it won&#39;t know what MyAppPackage is referring to hence the cannot find symbol error.","title":"Android: error: cannot find symbol packages.add(new MyAppPackage())","body":"<p>I came across this same error. It seems like the docs on how to create/use native modules in react native are missing a step.</p>\n<p>In the MainApplication.java file you need to import 'MyAppPackage'.</p>\n<pre><code>import com.your-app-name.MyAppPackage;\n</code></pre>\n<p>Without importing it the 'MainApplication' file it won't know what MyAppPackage is referring to hence the cannot find symbol error.</p>\n"}],"owner":{"account_id":19365408,"reputation":425,"user_id":14159831,"display_name":"AKang123."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7302,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66659065,"answer_count":2,"score":2,"last_activity_date":1634051996,"creation_date":1615158721,"question_id":66522481,"body_markdown":"Please HELP!! \r\n\r\nI&#39;m working on an app in react-native that involves using a native Calendar module. I&#39;m trying to register this module with react native and I keep getting this error. \r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is how I&#39;ve registered the module in `MainApplication.java`: \r\n```\r\n   @Override\r\n    protected List&lt;ReactPackage&gt; getPackages() {\r\n      List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\r\n      packages.add(new ModuleRegistryAdapter(mModuleRegistryProvider));\r\n      packages.add(new MyAppPackage());\r\n      return packages;\r\n    }\r\n```\r\n\r\nThis is the MyAppPackage.java file I&#39;ve created using the tutorial here, https://reactnative.dev/docs/native-modules-android#register-the-module-android-specific.:\r\n\r\n```\r\npackage com.chowtime; // replace your-app-name with your app’s name\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.bridge.NativeModule;\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.uimanager.ViewManager;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class MyAppPackage implements ReactPackage {\r\n\r\n   @Override\r\n   public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {\r\n       return Collections.emptyList();\r\n   }\r\n\r\n   @Override\r\n   public List&lt;NativeModule&gt; createNativeModules(\r\n           ReactApplicationContext reactContext) {\r\n       List&lt;NativeModule&gt; modules = new ArrayList&lt;&gt;();\r\n\r\n       modules.add(new CalendarModule(reactContext));\r\n\r\n       return modules;\r\n   }\r\n\r\n}\r\n```\r\n\r\nNote: This app was previously created using the managed-workflow on expo and was ejected to the bare workflow. This is the directory for the relevant files: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qws4k.png\r\n  [2]: https://i.stack.imgur.com/AiGTs.png","title":"Android: error: cannot find symbol packages.add(new MyAppPackage())","body":"<p>Please HELP!!</p>\n<p>I'm working on an app in react-native that involves using a native Calendar module. I'm trying to register this module with react native and I keep getting this error.\n<a href=\"https://i.stack.imgur.com/qws4k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qws4k.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how I've registered the module in <code>MainApplication.java</code>:</p>\n<pre><code>   @Override\n    protected List&lt;ReactPackage&gt; getPackages() {\n      List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\n      packages.add(new ModuleRegistryAdapter(mModuleRegistryProvider));\n      packages.add(new MyAppPackage());\n      return packages;\n    }\n</code></pre>\n<p>This is the MyAppPackage.java file I've created using the tutorial here, <a href=\"https://reactnative.dev/docs/native-modules-android#register-the-module-android-specific.\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-modules-android#register-the-module-android-specific.</a>:</p>\n<pre><code>package com.chowtime; // replace your-app-name with your app’s name\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.uimanager.ViewManager;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class MyAppPackage implements ReactPackage {\n\n   @Override\n   public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {\n       return Collections.emptyList();\n   }\n\n   @Override\n   public List&lt;NativeModule&gt; createNativeModules(\n           ReactApplicationContext reactContext) {\n       List&lt;NativeModule&gt; modules = new ArrayList&lt;&gt;();\n\n       modules.add(new CalendarModule(reactContext));\n\n       return modules;\n   }\n\n}\n</code></pre>\n<p>Note: This app was previously created using the managed-workflow on expo and was ejected to the bare workflow. This is the directory for the relevant files:</p>\n<p><a href=\"https://i.stack.imgur.com/AiGTs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AiGTs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1626883358,"post_id":68472713,"comment_id":121012512,"body_markdown":"Why not just `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\n`?","body":"Why not just <code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern); </code>?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1626884157,"post_id":68472713,"comment_id":121012821,"body_markdown":"Does this answer your question? [Parse date-only as LocalDateTime in Java 8](https://stackoverflow.com/questions/49323017/parse-date-only-as-localdatetime-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49323017/parse-date-only-as-localdatetime-in-java-8\">Parse date-only as LocalDateTime in Java 8</a>"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1626884229,"post_id":68472713,"comment_id":121012860,"body_markdown":"You can use optional part in formatted  `new DateTimeFormatterBuilder().appendPattern(&quot;yyyy-MM-dd[HH]&quot;).parseDefaulting(ChronoField.HOUR_OF_DAY, 0).toFormatter();` using `[]`","body":"You can use optional part in formatted  <code>new DateTimeFormatterBuilder().appendPattern(&quot;yyyy-MM-dd[HH]&quot;).p&zwnj;&#8203;arseDefaulting(Chron&zwnj;&#8203;oField.HOUR_OF_DAY, 0).toFormatter();</code> using <code>[]</code>"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1626885899,"creation_date":1626883214,"answer_id":68472816,"question_id":68472713,"body_markdown":"Well, I think this is caused by the line with `.parseDefaulting(ChronoField.HOUR_OF_DAY, 0)`. The builder immediately inserts a default value, before any parsing has taken place. At the time of parsing, the hour component already has a value, so the parsing of `HH` fails.\r\n\r\nThis behavior is actually mentioned in [the JavaDocs][1]:\r\n\r\n&gt; During parsing, the current state of the parse is inspected. If the specified field has no associated value, because it has not been parsed successfully at that point, then the specified value is injected into the parse result. Injection is immediate, **thus the field-value pair will be visible to any subsequent elements in the formatter**. As such, this method is normally called at the end of the builder.\r\n\r\n&lt;sup&gt;Emphasis mine.&lt;/sup&gt;\r\n\r\nSo a possible fix would be to move the `parseDefaulting` lines to the end of the formatter builder:\r\n\r\n```java\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .parseLenient()\r\n    .appendPattern(pattern)\r\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n    .toFormatter();\r\n```\r\n\r\n[Here is a working example][2] with those lines moved to the end of the builder.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#parseDefaulting(java.time.temporal.TemporalField,long)\r\n  [2]: https://ideone.com/qvUBy9","title":"java.time.format.DateTimeParseException: Text could not be parsed at index","body":"<p>Well, I think this is caused by the line with <code>.parseDefaulting(ChronoField.HOUR_OF_DAY, 0)</code>. The builder immediately inserts a default value, before any parsing has taken place. At the time of parsing, the hour component already has a value, so the parsing of <code>HH</code> fails.</p>\n<p>This behavior is actually mentioned in <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#parseDefaulting(java.time.temporal.TemporalField,long)\" rel=\"nofollow noreferrer\">the JavaDocs</a>:</p>\n<blockquote>\n<p>During parsing, the current state of the parse is inspected. If the specified field has no associated value, because it has not been parsed successfully at that point, then the specified value is injected into the parse result. Injection is immediate, <strong>thus the field-value pair will be visible to any subsequent elements in the formatter</strong>. As such, this method is normally called at the end of the builder.</p>\n</blockquote>\n<p><sup>Emphasis mine.</sup></p>\n<p>So a possible fix would be to move the <code>parseDefaulting</code> lines to the end of the formatter builder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .parseLenient()\n    .appendPattern(pattern)\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n    .toFormatter();\n</code></pre>\n<p><a href=\"https://ideone.com/qvUBy9\" rel=\"nofollow noreferrer\">Here is a working example</a> with those lines moved to the end of the builder.</p>\n"}],"owner":{"account_id":7056504,"reputation":3503,"user_id":5403618,"accept_rate":60,"display_name":"Anand Undavia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3231,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68472816,"answer_count":1,"score":0,"last_activity_date":1634051983,"creation_date":1626882763,"question_id":68472713,"body_markdown":"This looks like a very simple thing to achieve, but I am failing to do so.\r\n\r\nI have a string pattern which is `yyyyMMddHH` and I am trying to parse `2021061104` into an instance of `LocalDateTime`\r\n\r\nHere is the code:\r\n```java\r\nimport java.time.Duration;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeFormatterBuilder;\r\nimport java.time.format.DateTimeParseException;\r\nimport java.time.temporal.ChronoField;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        String pattern = &quot;yyyyMMddHH&quot;;\r\n        String date = &quot;2021061104&quot;;\r\n        DateTimeFormatter formatter =\r\n            new DateTimeFormatterBuilder()\r\n                .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n                .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n                .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n                .parseLenient()\r\n                .appendPattern(pattern)\r\n                .toFormatter();\r\n        LocalDateTime ldt = LocalDateTime.parse(date, formatter);\r\n    }\r\n}\r\n```\r\n\r\nIt throws this exception:\r\n```\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2021061104&#39; could not be parsed at index 8\r\n        at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\r\n        at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n        at java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n        at Main.main(Main.java:22)\r\n```\r\n\r\nIt is failing to parse the `HH` field from the input.  \r\nI have looked at the javadoc [here][1] But that does not help.\r\n\r\nWhy do I have this exception? How to solve this?\r\n\r\nEDIT:\r\n\r\nI can not remove `.parseDefaulting(ChronoField.HOUR_OF_DAY, 0)`\r\n\r\nThe following are the constraints:\r\n- The user will give the `pattern` and `date` ( might be as `args[0]` and `args[1]` )\r\n- The pattern must always have date ( Year Month and Date )\r\n- The time in the `pattern` is optional and it would be up to hour only. \r\n- Examples of a couple of valid patterns are: `yyyy-MM-dd HH`, `yyyy MM dd`\r\n\r\nWith these constraints, I can not remove `.parseDefaulting(ChronoField.HOUR_OF_DAY, 0)` because if I do so, I would not be able to parse `yyyy-MM-dd` into an instance of `LocalDateTime` [here][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns\r\n  [2]: https://stackoverflow.com/questions/27454025/unable-to-obtain-localdatetime-from-temporalaccessor-when-parsing-localdatetime","title":"java.time.format.DateTimeParseException: Text could not be parsed at index","body":"<p>This looks like a very simple thing to achieve, but I am failing to do so.</p>\n<p>I have a string pattern which is <code>yyyyMMddHH</code> and I am trying to parse <code>2021061104</code> into an instance of <code>LocalDateTime</code></p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.time.format.DateTimeParseException;\nimport java.time.temporal.ChronoField;\nimport java.time.temporal.ChronoUnit;\n\n\nclass Main {\n    public static void main(String[] args) {\n        String pattern = &quot;yyyyMMddHH&quot;;\n        String date = &quot;2021061104&quot;;\n        DateTimeFormatter formatter =\n            new DateTimeFormatterBuilder()\n                .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n                .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n                .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n                .parseLenient()\n                .appendPattern(pattern)\n                .toFormatter();\n        LocalDateTime ldt = LocalDateTime.parse(date, formatter);\n    }\n}\n</code></pre>\n<p>It throws this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '2021061104' could not be parsed at index 8\n        at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\n        at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n        at java.time.LocalDateTime.parse(LocalDateTime.java:492)\n        at Main.main(Main.java:22)\n</code></pre>\n<p>It is failing to parse the <code>HH</code> field from the input.<br />\nI have looked at the javadoc <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns\" rel=\"nofollow noreferrer\">here</a> But that does not help.</p>\n<p>Why do I have this exception? How to solve this?</p>\n<p>EDIT:</p>\n<p>I can not remove <code>.parseDefaulting(ChronoField.HOUR_OF_DAY, 0)</code></p>\n<p>The following are the constraints:</p>\n<ul>\n<li>The user will give the <code>pattern</code> and <code>date</code> ( might be as <code>args[0]</code> and <code>args[1]</code> )</li>\n<li>The pattern must always have date ( Year Month and Date )</li>\n<li>The time in the <code>pattern</code> is optional and it would be up to hour only.</li>\n<li>Examples of a couple of valid patterns are: <code>yyyy-MM-dd HH</code>, <code>yyyy MM dd</code></li>\n</ul>\n<p>With these constraints, I can not remove <code>.parseDefaulting(ChronoField.HOUR_OF_DAY, 0)</code> because if I do so, I would not be able to parse <code>yyyy-MM-dd</code> into an instance of <code>LocalDateTime</code> <a href=\"https://stackoverflow.com/questions/27454025/unable-to-obtain-localdatetime-from-temporalaccessor-when-parsing-localdatetime\">here</a></p>\n"},{"tags":["java","java-time","snowflake-schema"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1626165346,"post_id":68359047,"comment_id":120813504,"body_markdown":"Have you checked the documentation of a parsing format? Or taken a look at other examples?","body":"Have you checked the documentation of a parsing format? Or taken a look at other examples?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1626165916,"post_id":68359047,"comment_id":120813733,"body_markdown":"Why `LocalDateTime` when there is an offset of `-0600`? Use an `OffsetDateTime` and parse it with a `DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS x&quot;)`. You can extract a `LocalDateTime` from the `OffsetDateTime` afterwards, there&#39;s a method `.toLocalDateTime()`.","body":"Why <code>LocalDateTime</code> when there is an offset of <code>-0600</code>? Use an <code>OffsetDateTime</code> and parse it with a <code>DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS x&quot;)</code>. You can extract a <code>LocalDateTime</code> from the <code>OffsetDateTime</code> afterwards, there&#39;s a method <code>.toLocalDateTime()</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1626173254,"post_id":68359047,"comment_id":120816722,"body_markdown":"`LocalDateTime` is much overused and not the right class for you to use here, as @deHaar already spotted. In which time zone do you want the result? If there is an answer to that question, convert to a `ZonedDateTime`. It gives you everything that a `LocalDateTime` can give you and more. If you are happy with the UTC offset from the string (-0600 in the example), just parse into an `OffsetDateTime`.","body":"<code>LocalDateTime</code> is much overused and not the right class for you to use here, as @deHaar already spotted. In which time zone do you want the result? If there is an answer to that question, convert to a <code>ZonedDateTime</code>. It gives you everything that a <code>LocalDateTime</code> can give you and more. If you are happy with the UTC offset from the string (-0600 in the example), just parse into an <code>OffsetDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":4541771,"reputation":505,"user_id":3689438,"display_name":"Minnow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626173044,"creation_date":1626165390,"answer_id":68359104,"question_id":68359047,"body_markdown":"Use `yyyy-MM-dd HH:mm:ss,SSS ZZZZ`","title":"Snowflake timestamp conversion in java 8","body":"<p>Use <code>yyyy-MM-dd HH:mm:ss,SSS ZZZZ</code></p>\n"}],"owner":{"account_id":20481056,"reputation":7,"user_id":15029258,"display_name":"santosh gore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1626165433,"answer_count":1,"score":-2,"last_activity_date":1634051958,"creation_date":1626165159,"question_id":68359047,"body_markdown":"I am getting date from snowflake in below format\r\n\r\n    2021-07-13 00:00:00.000 -0600\r\nWhat string format should i use to convert it to java 8 LocalDateTime?","title":"Snowflake timestamp conversion in java 8","body":"<p>I am getting date from snowflake in below format</p>\n<pre><code>2021-07-13 00:00:00.000 -0600\n</code></pre>\n<p>What string format should i use to convert it to java 8 LocalDateTime?</p>\n"},{"tags":["java","java-time","localdate"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1625055207,"post_id":68194415,"comment_id":120524445,"body_markdown":"You can remove `originalFormatter`. The [one-argument LocalDate.parse method](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence)) already handles yyyy-MM-dd format.","body":"You can remove <code>originalFormatter</code>. The <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">one-argument LocalDate.parse method</a> already handles yyyy-MM-dd format."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1625055365,"post_id":68194415,"comment_id":120524508,"body_markdown":"Please see [this](https://stackoverflow.com/questions/58105409/retrieve-date-format-pattern-from-current-locale), where similar to you, that OP also wants a _specific_ format to be spitted out from a method similar to `getLocalizedDateTimePattern`. If you want that specific format, just check for that locale and _write_ that format. If you use someone else&#39;s method, they are not going to read your mind. They will spit out whatever _they_ think is the most appropriate. (I also recommend that you trust them if you can.)","body":"Please see <a href=\"https://stackoverflow.com/questions/58105409/retrieve-date-format-pattern-from-current-locale\">this</a>, where similar to you, that OP also wants a <i>specific</i> format to be spitted out from a method similar to <code>getLocalizedDateTimePattern</code>. If you want that specific format, just check for that locale and <i>write</i> that format. If you use someone else&#39;s method, they are not going to read your mind. They will spit out whatever <i>they</i> think is the most appropriate. (I also recommend that you trust them if you can.)"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1625055533,"post_id":68194415,"comment_id":120524576,"body_markdown":"Also, the extra time part is because you converted to `LocalDateTime`s for whatever reason, and supplied a format style for the time. If you stuck with `LocalDate` and used `FormatStyle.NONE`, it would not have the extra time component.","body":"Also, the extra time part is because you converted to <code>LocalDateTime</code>s for whatever reason, and supplied a format style for the time. If you stuck with <code>LocalDate</code> and used <code>FormatStyle.NONE</code>, it would not have the extra time component."},{"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"score":0,"creation_date":1625060974,"post_id":68194415,"comment_id":120527254,"body_markdown":"@Sweeper There does not seem to be a FormatStyle.NONE","body":"@Sweeper There does not seem to be a FormatStyle.NONE"},{"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"score":0,"creation_date":1625061033,"post_id":68194415,"comment_id":120527278,"body_markdown":"@Sweeper I think you are right, I am wanting to use my own format for the date, rather than the standard format, therefore I should just stick to the standard ones","body":"@Sweeper I think you are right, I am wanting to use my own format for the date, rather than the standard format, therefore I should just stick to the standard ones"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1625061057,"post_id":68194415,"comment_id":120527295,"body_markdown":"@se22as Ah, I remembered wrong. Just pass null if you don&#39;t want a time.","body":"@se22as Ah, I remembered wrong. Just pass null if you don&#39;t want a time."},{"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"score":0,"creation_date":1625062927,"post_id":68194415,"comment_id":120528281,"body_markdown":"@Sweeper I cant pass null for the time format as there is a non null check on the time format","body":"@Sweeper I cant pass null for the time format as there is a non null check on the time format"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1625063189,"post_id":68194415,"comment_id":120528413,"body_markdown":"What do you mean? That’s literally what the [documentation](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#getLocalizedDateTimePattern-java.time.format.FormatStyle-java.time.format.FormatStyle-java.time.chrono.Chronology-java.util.Locale-) says you should do if you don’t want a time. See the parameters section.","body":"What do you mean? That’s literally what the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#getLocalizedDateTimePattern-java.time.format.FormatStyle-java.time.format.FormatStyle-java.time.chrono.Chronology-java.util.Locale-\" rel=\"nofollow noreferrer\">documentation</a> says you should do if you don’t want a time. See the parameters section."},{"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"score":0,"creation_date":1625063463,"post_id":68194415,"comment_id":120528562,"body_markdown":"@VGR thank you, I have removed the unecessary code","body":"@VGR thank you, I have removed the unecessary code"},{"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"score":0,"creation_date":1625063667,"post_id":68194415,"comment_id":120528668,"body_markdown":"@Sweeper Ah my bad, i clearly didnt read the code correctly, i misread a || for &amp;&amp; when the code is checking if the formats are present.   This is perfect, and does as close to what i want as possible, it uses / instead of - but i can live with that or do a string replacement.,  \n\nCould you put your response as an answer so i can mark it as the solution","body":"@Sweeper Ah my bad, i clearly didnt read the code correctly, i misread a || for &amp;&amp; when the code is checking if the formats are present.   This is perfect, and does as close to what i want as possible, it uses / instead of - but i can live with that or do a string replacement.,    Could you put your response as an answer so i can mark it as the solution"},{"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"score":1,"creation_date":1625063782,"post_id":68194415,"comment_id":120528732,"body_markdown":"@Sweeper also now that i am passing null for the time formatting, i can keep my date as a LocalDate and do not need to convert to LocalDateTime.  Thank you so much","body":"@Sweeper also now that i am passing null for the time formatting, i can keep my date as a LocalDate and do not need to convert to LocalDateTime.  Thank you so much"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625109271,"creation_date":1625109271,"answer_id":68203829,"question_id":68194415,"body_markdown":"I am unsure why you think you want this and tend to go with Sweeper’s suggestion: You should rather trust that the localized format patterns that Java gets from CLDR (Unicode Common Locale Data Repository) and/or other sources. I don’t imagine that users around the world will be happy about you enforcing a format with hyphens everywhere.\r\n\r\nHowever if you insist, the format pattern string that you get from `DateTimeFormatterBuilder` can be modified to your requirement through a few simpler regular expressions.\r\n\r\n\t\tString[] tags = { &quot;en-US&quot;, &quot;fr-FR&quot;, &quot;es-ES&quot;, &quot;de-DE&quot;, &quot;jp-JP&quot; };\r\n\t\tLocalDate sampleDate = LocalDate.of(2021, Month.JULY, 31);\r\n\t\tfor (String langTag : tags) {\r\n\t\t\tLocale loc = Locale.forLanguageTag(langTag);\r\n\t\t\tString pattern = DateTimeFormatterBuilder.getLocalizedDateTimePattern(\r\n\t\t\t\t\tFormatStyle.SHORT, null, IsoChronology.INSTANCE, loc);\r\n\t\t\t// Ensure full year and 2-digit month and day\r\n\t\t\tpattern = pattern.replaceAll(&quot;y+&quot;, &quot;y&quot;)\r\n\t\t\t\t\t         .replaceAll(&quot;M+&quot;, &quot;MM&quot;)\r\n\t\t\t\t\t         .replaceAll(&quot;d+&quot;, &quot;dd&quot;);\r\n\t\t\t// Change punctuation to hyphens\r\n\t\t\tpattern = pattern.replaceFirst(&quot;^\\\\W+&quot;, &quot;&quot;)\r\n\t\t\t\t\t         .replaceFirst(&quot;\\\\W+$&quot;, &quot;&quot;)\r\n\t\t\t\t\t         .replaceAll(&quot;\\\\W+&quot;, &quot;-&quot;);\r\n\t\t\tDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(pattern);\r\n\t\t\tSystem.out.format(&quot;%-5s -&gt; %s%n&quot;, langTag, sampleDate.format(dateFormatter));\r\n\t\t}\r\n\r\nOutput from this snippet is:\r\n\r\n&gt;     en-US -&gt; 07-31-2021\r\n&gt;     fr-FR -&gt; 31-07-2021\r\n&gt;     es-ES -&gt; 31-07-2021\r\n&gt;     de-DE -&gt; 31-07-2021\r\n&gt;     jp-JP -&gt; 2021-07-31\r\n\r\nI believe that my code will fail to insert a hyphen if two or more fields are adjacent in the pattern, for example `yyMM`. I don’t know whether this occurs for any locale. Also it will not remove any literal letters that are part of the format for some locales. So take it as a starting point and refine to your needs. You may want to test with all available locales in your JVM.","title":"Java 8 time/LocalDate: Convert a date from one format to local specific format","body":"<p>I am unsure why you think you want this and tend to go with Sweeper’s suggestion: You should rather trust that the localized format patterns that Java gets from CLDR (Unicode Common Locale Data Repository) and/or other sources. I don’t imagine that users around the world will be happy about you enforcing a format with hyphens everywhere.</p>\n<p>However if you insist, the format pattern string that you get from <code>DateTimeFormatterBuilder</code> can be modified to your requirement through a few simpler regular expressions.</p>\n<pre><code>    String[] tags = { &quot;en-US&quot;, &quot;fr-FR&quot;, &quot;es-ES&quot;, &quot;de-DE&quot;, &quot;jp-JP&quot; };\n    LocalDate sampleDate = LocalDate.of(2021, Month.JULY, 31);\n    for (String langTag : tags) {\n        Locale loc = Locale.forLanguageTag(langTag);\n        String pattern = DateTimeFormatterBuilder.getLocalizedDateTimePattern(\n                FormatStyle.SHORT, null, IsoChronology.INSTANCE, loc);\n        // Ensure full year and 2-digit month and day\n        pattern = pattern.replaceAll(&quot;y+&quot;, &quot;y&quot;)\n                         .replaceAll(&quot;M+&quot;, &quot;MM&quot;)\n                         .replaceAll(&quot;d+&quot;, &quot;dd&quot;);\n        // Change punctuation to hyphens\n        pattern = pattern.replaceFirst(&quot;^\\\\W+&quot;, &quot;&quot;)\n                         .replaceFirst(&quot;\\\\W+$&quot;, &quot;&quot;)\n                         .replaceAll(&quot;\\\\W+&quot;, &quot;-&quot;);\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(pattern);\n        System.out.format(&quot;%-5s -&gt; %s%n&quot;, langTag, sampleDate.format(dateFormatter));\n    }\n</code></pre>\n<p>Output from this snippet is:</p>\n<blockquote>\n<pre><code>en-US -&gt; 07-31-2021\nfr-FR -&gt; 31-07-2021\nes-ES -&gt; 31-07-2021\nde-DE -&gt; 31-07-2021\njp-JP -&gt; 2021-07-31\n</code></pre>\n</blockquote>\n<p>I believe that my code will fail to insert a hyphen if two or more fields are adjacent in the pattern, for example <code>yyMM</code>. I don’t know whether this occurs for any locale. Also it will not remove any literal letters that are part of the format for some locales. So take it as a starting point and refine to your needs. You may want to test with all available locales in your JVM.</p>\n"},{"tags":[],"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625152558,"creation_date":1625152558,"answer_id":68212817,"question_id":68194415,"body_markdown":"Sweeper gave the answer in their comments.\r\n\r\nWhat I was trying to do was not valid. I should always use the standard format for the locale&#39;s timezone.\r\n\r\n","title":"Java 8 time/LocalDate: Convert a date from one format to local specific format","body":"<p>Sweeper gave the answer in their comments.</p>\n<p>What I was trying to do was not valid. I should always use the standard format for the locale's timezone.</p>\n"}],"owner":{"account_id":3150341,"reputation":2302,"user_id":2663916,"accept_rate":74,"display_name":"se22as"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634051921,"creation_date":1625054715,"question_id":68194415,"body_markdown":"I get 2 pieces of information from a server call, a date string, and a user locale \r\n\r\n    String originalDateStr = serverCallToGetADate().getDate();\r\n    String localeString = serverCallToGetADate().getLocaleString();\r\n    \r\nThe date is guaranteed to be in the following format regardless of locale\r\n\r\n    yyyy-MM-dd\r\n\r\nThe locale is the IETF language code, such as \r\n\r\n    en-US fr-FR es-ES de-DE etc \r\n\r\nI can create a LocalDate object for the date using\r\n    \r\n    DateTimeFormatter originalFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    \r\n    LocalDate originalDate = LocalDate.parse(originalDateStr, originalFormatter);\r\n\r\nI now want to print out the date with just the year as 4 numbers, month as 2 numbers and day as 2 numbers using a &quot;-&quot; in between the values and using the locale string i also received from the server.  For example if the date was 31st July 2021 I want to render the date as\r\n\r\n - UK : 31-07-2021\r\n - US : 07-31-2021 \r\n - Japan : 2021-07-31\r\n\r\nI can not work out how to do this.    This is what I have tried \r\n\r\n    @Test\r\n    public void testFormatting() {\r\n        String SERVER_FORMAT = &quot;yyyy-MM-dd&quot;;\r\n        String SERVER_TEST_DATE = &quot;2021-07-31&quot;;\r\n\r\n        DateTimeFormatter serverFormatter = DateTimeFormatter.ofPattern(SERVER_FORMAT);\r\n        // can only create a LocalDate from the server value as there is no time part in the string\r\n        LocalDate testDate = LocalDate.parse(SERVER_TEST_DATE, serverFormatter);\r\n\r\n        System.out.println(&quot;Original Server Date Value = &quot; + testDate.format(serverFormatter));\r\n\r\n        System.out.println(&quot;\\nUsing : testDate.format(serverFormatter.withLocale(locale) - Doesn&#39;t work&quot;);\r\n        Locale localeUS = Locale.forLanguageTag(&quot;en-US&quot;);\r\n        Locale localeUK = Locale.forLanguageTag(&quot;en-GB&quot;);\r\n        System.out.println(&quot;Attempting US (should be 07-31-2021) = &quot; + testDate.format(serverFormatter.withLocale(localeUS)));\r\n        System.out.println(&quot;Attempting UK (should be 31-07-2021) = &quot; + testDate.format(serverFormatter.withLocale(localeUK)));\r\n\r\n\r\n        // in order to use the following coed these we need a time part for the date, so put to start of day\r\n        System.out.println(&quot;\\nUsing DateTimeFormatterBuilder - wrong as it includes / or , and has time displayed&quot;);\r\n        LocalDateTime testDateTime = testDate.atStartOfDay();\r\n        String datePattern_short = DateTimeFormatterBuilder.getLocalizedDateTimePattern(\r\n                FormatStyle.SHORT, FormatStyle.MEDIUM, Chronology.ofLocale(localeUS), localeUS);\r\n        DateTimeFormatter dateFormatterShort = DateTimeFormatter.ofPattern(datePattern_short);\r\n        System.out.println(&quot;datePattern SHORT US (should be 07-31-2021)  = &quot; + testDateTime.format(dateFormatterShort));\r\n\r\n        String datePattern_medium = DateTimeFormatterBuilder.getLocalizedDateTimePattern(\r\n                FormatStyle.MEDIUM, FormatStyle.MEDIUM, Chronology.ofLocale(localeUS), localeUS);\r\n        DateTimeFormatter dateFormatterMedium = DateTimeFormatter.ofPattern(datePattern_medium);\r\n        System.out.println(&quot;datePattern MEDIUM US (should be 07-31-2021)  = &quot; + testDateTime.format(dateFormatterMedium));\r\n\r\n        String datePattern_long = DateTimeFormatterBuilder.getLocalizedDateTimePattern(\r\n                FormatStyle.LONG, FormatStyle.MEDIUM, Chronology.ofLocale(localeUS), localeUS);\r\n        DateTimeFormatter dateFormatterLong = DateTimeFormatter.ofPattern(datePattern_long);\r\n        System.out.println(&quot;datePattern LONG US (should be 07-31-2021)  = &quot; + testDateTime.format(dateFormatterLong));\r\n    }\r\n\r\n### Output\r\n\r\n    Original Server Date Value = 2021-07-31\r\n\r\n\tUsing : testDate.format(serverFormatter.withLocale(locale) - Doesn&#39;t work\r\n\tAttempting US (should be 07-31-2021) = 2021-07-31\r\n\tAttempting UK (should be 31-07-2021) = 2021-07-31\r\n\r\n\tUsing DateTimeFormatterBuilder - wrong as it includes / or , and has time displayed\r\n\tdatePattern SHORT US (should be 07-31-2021)  = 7/31/21, 12:00:00 am\r\n\tdatePattern MEDIUM US (should be 07-31-2021)  = Jul 31, 2021, 12:00:00 am\r\n\tdatePattern LONG US (should be 07-31-2021)  = July 31, 2021, 12:00:00 am\r\n\r\n\r\n\r\n\r\n","title":"Java 8 time/LocalDate: Convert a date from one format to local specific format","body":"<p>I get 2 pieces of information from a server call, a date string, and a user locale</p>\n<pre><code>String originalDateStr = serverCallToGetADate().getDate();\nString localeString = serverCallToGetADate().getLocaleString();\n</code></pre>\n<p>The date is guaranteed to be in the following format regardless of locale</p>\n<pre><code>yyyy-MM-dd\n</code></pre>\n<p>The locale is the IETF language code, such as</p>\n<pre><code>en-US fr-FR es-ES de-DE etc \n</code></pre>\n<p>I can create a LocalDate object for the date using</p>\n<pre><code>DateTimeFormatter originalFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\nLocalDate originalDate = LocalDate.parse(originalDateStr, originalFormatter);\n</code></pre>\n<p>I now want to print out the date with just the year as 4 numbers, month as 2 numbers and day as 2 numbers using a &quot;-&quot; in between the values and using the locale string i also received from the server.  For example if the date was 31st July 2021 I want to render the date as</p>\n<ul>\n<li>UK : 31-07-2021</li>\n<li>US : 07-31-2021</li>\n<li>Japan : 2021-07-31</li>\n</ul>\n<p>I can not work out how to do this.    This is what I have tried</p>\n<pre><code>@Test\npublic void testFormatting() {\n    String SERVER_FORMAT = &quot;yyyy-MM-dd&quot;;\n    String SERVER_TEST_DATE = &quot;2021-07-31&quot;;\n\n    DateTimeFormatter serverFormatter = DateTimeFormatter.ofPattern(SERVER_FORMAT);\n    // can only create a LocalDate from the server value as there is no time part in the string\n    LocalDate testDate = LocalDate.parse(SERVER_TEST_DATE, serverFormatter);\n\n    System.out.println(&quot;Original Server Date Value = &quot; + testDate.format(serverFormatter));\n\n    System.out.println(&quot;\\nUsing : testDate.format(serverFormatter.withLocale(locale) - Doesn't work&quot;);\n    Locale localeUS = Locale.forLanguageTag(&quot;en-US&quot;);\n    Locale localeUK = Locale.forLanguageTag(&quot;en-GB&quot;);\n    System.out.println(&quot;Attempting US (should be 07-31-2021) = &quot; + testDate.format(serverFormatter.withLocale(localeUS)));\n    System.out.println(&quot;Attempting UK (should be 31-07-2021) = &quot; + testDate.format(serverFormatter.withLocale(localeUK)));\n\n\n    // in order to use the following coed these we need a time part for the date, so put to start of day\n    System.out.println(&quot;\\nUsing DateTimeFormatterBuilder - wrong as it includes / or , and has time displayed&quot;);\n    LocalDateTime testDateTime = testDate.atStartOfDay();\n    String datePattern_short = DateTimeFormatterBuilder.getLocalizedDateTimePattern(\n            FormatStyle.SHORT, FormatStyle.MEDIUM, Chronology.ofLocale(localeUS), localeUS);\n    DateTimeFormatter dateFormatterShort = DateTimeFormatter.ofPattern(datePattern_short);\n    System.out.println(&quot;datePattern SHORT US (should be 07-31-2021)  = &quot; + testDateTime.format(dateFormatterShort));\n\n    String datePattern_medium = DateTimeFormatterBuilder.getLocalizedDateTimePattern(\n            FormatStyle.MEDIUM, FormatStyle.MEDIUM, Chronology.ofLocale(localeUS), localeUS);\n    DateTimeFormatter dateFormatterMedium = DateTimeFormatter.ofPattern(datePattern_medium);\n    System.out.println(&quot;datePattern MEDIUM US (should be 07-31-2021)  = &quot; + testDateTime.format(dateFormatterMedium));\n\n    String datePattern_long = DateTimeFormatterBuilder.getLocalizedDateTimePattern(\n            FormatStyle.LONG, FormatStyle.MEDIUM, Chronology.ofLocale(localeUS), localeUS);\n    DateTimeFormatter dateFormatterLong = DateTimeFormatter.ofPattern(datePattern_long);\n    System.out.println(&quot;datePattern LONG US (should be 07-31-2021)  = &quot; + testDateTime.format(dateFormatterLong));\n}\n</code></pre>\n<h3>Output</h3>\n<pre><code>Original Server Date Value = 2021-07-31\n\nUsing : testDate.format(serverFormatter.withLocale(locale) - Doesn't work\nAttempting US (should be 07-31-2021) = 2021-07-31\nAttempting UK (should be 31-07-2021) = 2021-07-31\n\nUsing DateTimeFormatterBuilder - wrong as it includes / or , and has time displayed\ndatePattern SHORT US (should be 07-31-2021)  = 7/31/21, 12:00:00 am\ndatePattern MEDIUM US (should be 07-31-2021)  = Jul 31, 2021, 12:00:00 am\ndatePattern LONG US (should be 07-31-2021)  = July 31, 2021, 12:00:00 am\n</code></pre>\n"},{"tags":["java","java-11","java-time"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1624928981,"post_id":68171420,"comment_id":120485412,"body_markdown":"You don&#39;t &quot;change&quot; the format, container classes, like `LocalDateTime` do not have a concept of formatting, this is what a `DateTimeFormatter` is for","body":"You don&#39;t &quot;change&quot; the format, container classes, like <code>LocalDateTime</code> do not have a concept of formatting, this is what a <code>DateTimeFormatter</code> is for"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1624940275,"creation_date":1624929599,"answer_id":68171516,"question_id":68171420,"body_markdown":"So, I started out with something like...\r\n\r\n    String text = &quot;2021-03-10 16:37:02.4230000&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot;);\r\n\r\n    LocalDateTime ldt1 = LocalDateTime.parse(&quot;2021-03-10 16:37:02.4230000&quot;, formatter);\r\n    DateTimeFormatter shortFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.S&quot;);\r\n    System.out.println(shortFormatter.format(ldt1));\r\n\r\n    LocalDateTime ldt2 = LocalDateTime.parse(&quot;2021-03-10 16:39:51.0000000&quot;, formatter);\r\n    System.out.println(shortFormatter.format(ldt2));\r\n\r\nWhich prints out ...\r\n\r\n    2021-03-10 16:37:02.4\r\n    2021-03-10 16:39:51.0\r\n\r\nHmmm &#129300;, not quite what we&#39;re looking for.\r\n\r\nLucky for us, there&#39;s the `DateTimeFormatterBuilder` class.  So next, I tried something like...\r\n\r\n    DateTimeFormatter toFormatter = new DateTimeFormatterBuilder()\r\n            .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n            .appendFraction(ChronoField.MILLI_OF_SECOND, 1, 9, true)\r\n            .toFormatter();\r\n\r\n    System.out.println(toFormatter.format(ldt1));\r\n    System.out.println(toFormatter.format(ldt2));\r\n\r\nWhich prints out ...\r\n\r\n    2021-03-10 16:37:02.423\r\n    2021-03-10 16:39:51.0\r\n\r\nSuccess &#127881;\r\n\r\nNow, please note, I&#39;ve not really used `DateTimeFormatterBuilder` before, so there might be some other, really super awesome cool way to achieve the same or better result, but hay, it&#39;s a nice start","title":"Java convert DateTime from &quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot; to &quot;yyyy-MM-dd HH:mm:ss.S&quot; or from &quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot; to &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;","body":"<p>So, I started out with something like...</p>\n<pre><code>String text = &quot;2021-03-10 16:37:02.4230000&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot;);\n\nLocalDateTime ldt1 = LocalDateTime.parse(&quot;2021-03-10 16:37:02.4230000&quot;, formatter);\nDateTimeFormatter shortFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.S&quot;);\nSystem.out.println(shortFormatter.format(ldt1));\n\nLocalDateTime ldt2 = LocalDateTime.parse(&quot;2021-03-10 16:39:51.0000000&quot;, formatter);\nSystem.out.println(shortFormatter.format(ldt2));\n</code></pre>\n<p>Which prints out ...</p>\n<pre><code>2021-03-10 16:37:02.4\n2021-03-10 16:39:51.0\n</code></pre>\n<p>Hmmm 🤔, not quite what we're looking for.</p>\n<p>Lucky for us, there's the <code>DateTimeFormatterBuilder</code> class.  So next, I tried something like...</p>\n<pre><code>DateTimeFormatter toFormatter = new DateTimeFormatterBuilder()\n        .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\n        .appendFraction(ChronoField.MILLI_OF_SECOND, 1, 9, true)\n        .toFormatter();\n\nSystem.out.println(toFormatter.format(ldt1));\nSystem.out.println(toFormatter.format(ldt2));\n</code></pre>\n<p>Which prints out ...</p>\n<pre><code>2021-03-10 16:37:02.423\n2021-03-10 16:39:51.0\n</code></pre>\n<p>Success 🎉</p>\n<p>Now, please note, I've not really used <code>DateTimeFormatterBuilder</code> before, so there might be some other, really super awesome cool way to achieve the same or better result, but hay, it's a nice start</p>\n"},{"tags":[],"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624932239,"creation_date":1624932239,"answer_id":68171751,"question_id":68171420,"body_markdown":"This can done using `replaceAll` method of String as well. you can remove the trailing zero&#39;s in the date string if there is no milisecond left after removing all trailing zero&#39;s, then append `.0`\r\n\r\n```\r\nprivate static String getMiliSecond(String input) {\r\n\t\t// removing trailing zeros\r\n\t\tString miliSecondTrimmed = input.replaceAll(&quot;[0.]*$&quot;, &quot;&quot;);\r\n\t\t// if there is there is no mili second left after removing zeros, append .0 \r\n\t\treturn (!miliSecondTrimmed.contains(&quot;.&quot;))?(miliSecondTrimmed+(&quot;.0&quot;).toString()):miliSecondTrimmed;\r\n\t}\r\n```\r\n\r\nThis code called from main method\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n\t\tString input1 =&quot;2021-03-10 16:39:51.0000000&quot;;\r\n\t\tString input2 = &quot;2021-03-10 16:37:02.4230000&quot;;\r\n\t\tString miliSecond1 = getMiliSecond(input1);\r\n\t\tString miliSecond2 = getMiliSecond(input2);\r\n\t\tSystem.out.println(&quot;input1 mili:&quot;+miliSecond1);\r\n\t\tSystem.out.println(&quot;input2 mili:&quot;+miliSecond2);\r\n\r\n\t}\r\n\r\n```\r\n\r\n**Output:**\r\n```\r\ninput1 mili:2021-03-10 16:39:51.0\r\ninput2 mili:2021-03-10 16:37:02.423\r\n```","title":"Java convert DateTime from &quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot; to &quot;yyyy-MM-dd HH:mm:ss.S&quot; or from &quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot; to &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;","body":"<p>This can done using <code>replaceAll</code> method of String as well. you can remove the trailing zero's in the date string if there is no milisecond left after removing all trailing zero's, then append <code>.0</code></p>\n<pre><code>private static String getMiliSecond(String input) {\n        // removing trailing zeros\n        String miliSecondTrimmed = input.replaceAll(&quot;[0.]*$&quot;, &quot;&quot;);\n        // if there is there is no mili second left after removing zeros, append .0 \n        return (!miliSecondTrimmed.contains(&quot;.&quot;))?(miliSecondTrimmed+(&quot;.0&quot;).toString()):miliSecondTrimmed;\n    }\n</code></pre>\n<p>This code called from main method</p>\n<pre><code>public static void main(String[] args) {\n\n        String input1 =&quot;2021-03-10 16:39:51.0000000&quot;;\n        String input2 = &quot;2021-03-10 16:37:02.4230000&quot;;\n        String miliSecond1 = getMiliSecond(input1);\n        String miliSecond2 = getMiliSecond(input2);\n        System.out.println(&quot;input1 mili:&quot;+miliSecond1);\n        System.out.println(&quot;input2 mili:&quot;+miliSecond2);\n\n    }\n\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>input1 mili:2021-03-10 16:39:51.0\ninput2 mili:2021-03-10 16:37:02.423\n</code></pre>\n"}],"owner":{"account_id":13507979,"reputation":83,"user_id":9745336,"display_name":"Profile_In_Making"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7183,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":68171516,"answer_count":2,"score":2,"last_activity_date":1634051898,"creation_date":1624928391,"question_id":68171420,"body_markdown":"Java 11\r\n\r\nI want to convert the date in &quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot; to either &quot;yyyy-MM-dd HH:mm:ss.S&quot; or &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; based on milliseconds value. If milliseconds are all zeros, then I just want single zero but if it is non-zero value then I want just value omitting trailing zeros. \r\n\r\nExample :\r\n1. Input : 2021-03-10&#160;16:37:02.4230000 =&gt;\r\n   Desired Output : 2021-03-10&#160;16:37:02.423\r\n2. Input : 2021-03-10&#160;16:39:51.0000000 =&gt; Desired output : 2021-03-10&#160;16:39:51.0\r\n3. Input : 2021-04-22 23:03:52.0234000 =&gt; Desired output : 2021-04-22 23:03:52.0234","title":"Java convert DateTime from &quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot; to &quot;yyyy-MM-dd HH:mm:ss.S&quot; or from &quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot; to &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;","body":"<p>Java 11</p>\n<p>I want to convert the date in &quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot; to either &quot;yyyy-MM-dd HH:mm:ss.S&quot; or &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; based on milliseconds value. If milliseconds are all zeros, then I just want single zero but if it is non-zero value then I want just value omitting trailing zeros.</p>\n<p>Example :</p>\n<ol>\n<li>Input : 2021-03-10 16:37:02.4230000 =&gt;\nDesired Output : 2021-03-10 16:37:02.423</li>\n<li>Input : 2021-03-10 16:39:51.0000000 =&gt; Desired output : 2021-03-10 16:39:51.0</li>\n<li>Input : 2021-04-22 23:03:52.0234000 =&gt; Desired output : 2021-04-22 23:03:52.0234</li>\n</ol>\n"},{"tags":["java","java-time","localdatetime","datetimeformatter"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1601906697,"post_id":64210169,"comment_id":113543726,"body_markdown":"Have you tried to use `&quot;M/d/uuuu h:m:s a&quot;` as format pattern?","body":"Have you tried to use <code>&quot;M&#47;d&#47;uuuu h:m:s a&quot;</code> as format pattern?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1601909858,"creation_date":1601906742,"answer_id":64210248,"question_id":64210169,"body_markdown":" 1. Use single letters for date and time components (month, day, year, hour, minute, and second).\r\n 2. You can also make the formatter handle the pattern in a case insensitive way (e.g. am, AM, Am) as shown below:\r\n\r\n \r\n        import java.time.LocalDateTime;\r\n        import java.time.format.DateTimeFormatter;\r\n        import java.time.format.DateTimeFormatterBuilder;\r\n        import java.util.Locale;\r\n\r\n        public class Main {\r\n            public static void main(String[] args) {\r\n            \t // Formatter to handle the pattern in case insensitive way (e.g. am, AM, Am)\r\n                DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                                                    .parseCaseInsensitive()\r\n                                                    .appendPattern(&quot;M/d/u h:m:s a&quot;)\r\n                                                    .toFormatter(Locale.ENGLISH);\r\n            \tLocalDateTime date = LocalDateTime.parse(&quot;1/1/2020 3:4:7 AM&quot;, formatter);\r\n            \tSystem.out.println(date);\r\n            }\r\n        }\r\n\r\n**Output:**\r\n\r\n    2020-01-01T03:04:07\r\n\r\n","title":"Date Format Issue With DateTimeFormatter","body":"<ol>\n<li><p>Use single letters for date and time components (month, day, year, hour, minute, and second).</p>\n</li>\n<li><p>You can also make the formatter handle the pattern in a case insensitive way (e.g. am, AM, Am) as shown below:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n         // Formatter to handle the pattern in case insensitive way (e.g. am, AM, Am)\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                                            .parseCaseInsensitive()\n                                            .appendPattern(&quot;M/d/u h:m:s a&quot;)\n                                            .toFormatter(Locale.ENGLISH);\n        LocalDateTime date = LocalDateTime.parse(&quot;1/1/2020 3:4:7 AM&quot;, formatter);\n        System.out.println(date);\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p><strong>Output:</strong></p>\n<pre><code>2020-01-01T03:04:07\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1601909167,"creation_date":1601906821,"answer_id":64210275,"question_id":64210169,"body_markdown":"Two separate problems:\r\n\r\n## Wrong counts\r\n\r\nYou&#39;re using e.g. `MM` which is an explicit: Always the full amount of digits, zero-padded. Your string is not like that, it&#39;s just the number. So, make that `M/d/uuuu h:m:s a`.\r\n\r\nEDIT: Changed `yyyy` to `uuuu`, thanks, @deHaar. Reasoning: yyyy or uuuu rarely matters, but note that this mean 4 digits are _required_. The difference kicks in for years before 0: `uuuu` goes negative, `yyyy` does not and expects you to use e.g. `GG` so that you get `44 BC` instead of `-44`. In that way, `uuuu` is just more correct, even though usually the difference is not going to come up.\r\n\r\n## Missing locale\r\n\r\nThe second problem is that you should pretty much __never__ use this version of `ofPattern` - it has a bug, which you can&#39;t catch with unit tests, which makes that a bug that is thousands of times &#39;heavier&#39;, and thus, a real problem.\r\n\r\nYou need to specify locale. Without it, &#39;AM&#39; is not going to parse unless your platform default locale is english.\r\n\r\n## Putting it together\r\n\r\n```\r\nLocalDateTime date = LocalDateTime.parse(&quot;1/1/2020 3:4:7 AM&quot;,\r\n  DateTimeFormatter.ofPattern(&quot;M/d/uuuu h:m:s a&quot;, Locale.ENGLISH));\r\n```\r\n\r\nworks great.\r\n","title":"Date Format Issue With DateTimeFormatter","body":"<p>Two separate problems:</p>\n<h2>Wrong counts</h2>\n<p>You're using e.g. <code>MM</code> which is an explicit: Always the full amount of digits, zero-padded. Your string is not like that, it's just the number. So, make that <code>M/d/uuuu h:m:s a</code>.</p>\n<p>EDIT: Changed <code>yyyy</code> to <code>uuuu</code>, thanks, @deHaar. Reasoning: yyyy or uuuu rarely matters, but note that this mean 4 digits are <em>required</em>. The difference kicks in for years before 0: <code>uuuu</code> goes negative, <code>yyyy</code> does not and expects you to use e.g. <code>GG</code> so that you get <code>44 BC</code> instead of <code>-44</code>. In that way, <code>uuuu</code> is just more correct, even though usually the difference is not going to come up.</p>\n<h2>Missing locale</h2>\n<p>The second problem is that you should pretty much <strong>never</strong> use this version of <code>ofPattern</code> - it has a bug, which you can't catch with unit tests, which makes that a bug that is thousands of times 'heavier', and thus, a real problem.</p>\n<p>You need to specify locale. Without it, 'AM' is not going to parse unless your platform default locale is english.</p>\n<h2>Putting it together</h2>\n<pre><code>LocalDateTime date = LocalDateTime.parse(&quot;1/1/2020 3:4:7 AM&quot;,\n  DateTimeFormatter.ofPattern(&quot;M/d/uuuu h:m:s a&quot;, Locale.ENGLISH));\n</code></pre>\n<p>works great.</p>\n"},{"tags":[],"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601906936,"creation_date":1601906936,"answer_id":64210305,"question_id":64210169,"body_markdown":"According to the [documentation of DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html):\r\n\r\n &gt; **Number:** If the count of letters is **one**, then the value is output using the **minimum number of digits** and without padding. Otherwise, the count of digits is used as the width of the output field, with the value zero-padded as necessary.\r\n\r\nBy reversing the reasoning, you can try using this formatter instead:\r\n\r\n    DateTimeFormatter.ofPattern(&quot;M/d/yyyy h:m:s a&quot;)","title":"Date Format Issue With DateTimeFormatter","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">documentation of DateTimeFormatter</a>:</p>\n<blockquote>\n<p><strong>Number:</strong> If the count of letters is <strong>one</strong>, then the value is output using the <strong>minimum number of digits</strong> and without padding. Otherwise, the count of digits is used as the width of the output field, with the value zero-padded as necessary.</p>\n</blockquote>\n<p>By reversing the reasoning, you can try using this formatter instead:</p>\n<pre><code>DateTimeFormatter.ofPattern(&quot;M/d/yyyy h:m:s a&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1601908789,"creation_date":1601906991,"answer_id":64210325,"question_id":64210169,"body_markdown":"In your snippet:\r\n```java\r\nLocalDateTime\r\n    .parse(&quot;1/1/2020 3:4:7 AM&quot;, DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss a&quot;));\r\n```\r\n\r\n- `1` - does not match `MM`\r\n- `1` - does not match `dd`\r\n- `3`  - does not match `hh`\r\n- `4`  - does not match `mm`\r\n- `7`  - does not match `ss`\r\n\r\ni.e. the lengths of the *formatter pattern* parts (e.g. `MM`) and their respective parts from the *string text* (e.g. `1`) do not match.\r\n\r\nYou can match them in a few ways, e.g. you can either change the *string text* to match the *formatter pattern* or other way around.\r\n\r\nYou can try this instead:\r\n```java\r\nLocalDateTime\r\n    .parse(&quot;01/01/2020 03:04:07 AM&quot;, DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss a&quot;));\r\n```\r\n\r\nAdditionally, have a look at the [Pattern Letters and Symbols](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html).","title":"Date Format Issue With DateTimeFormatter","body":"<p>In your snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime\n    .parse(&quot;1/1/2020 3:4:7 AM&quot;, DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss a&quot;));\n</code></pre>\n<ul>\n<li><code>1</code> - does not match <code>MM</code></li>\n<li><code>1</code> - does not match <code>dd</code></li>\n<li><code>3</code>  - does not match <code>hh</code></li>\n<li><code>4</code>  - does not match <code>mm</code></li>\n<li><code>7</code>  - does not match <code>ss</code></li>\n</ul>\n<p>i.e. the lengths of the <em>formatter pattern</em> parts (e.g. <code>MM</code>) and their respective parts from the <em>string text</em> (e.g. <code>1</code>) do not match.</p>\n<p>You can match them in a few ways, e.g. you can either change the <em>string text</em> to match the <em>formatter pattern</em> or other way around.</p>\n<p>You can try this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime\n    .parse(&quot;01/01/2020 03:04:07 AM&quot;, DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss a&quot;));\n</code></pre>\n<p>Additionally, have a look at the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">Pattern Letters and Symbols</a>.</p>\n"}],"owner":{"account_id":2602089,"reputation":856,"user_id":2254180,"accept_rate":73,"display_name":"user2254180"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"closed_date":1601919914,"accepted_answer_id":64210275,"answer_count":4,"score":4,"last_activity_date":1634051880,"creation_date":1601906482,"question_id":64210169,"body_markdown":"I have a date in the following format: `1/1/2020 3:4:7 AM` I am trying to format it using `DateTimeFormatter`.\r\n\r\nI have the following code with a formatter to parse it, but it doesn&#39;t work.\r\n\r\n    LocalDateTime date = LocalDateTime.parse(&quot;1/1/2020 3:4:7 AM&quot;, DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss a&quot;));\r\n\r\nI get the following exception:\r\n\r\n &gt; `java.time.format.DateTimeParseException: Text &#39;1/1/2020 3:4:7 AM&#39; could not be parsed at index 0`\r\n\r\nCan anyone help me?","title":"Date Format Issue With DateTimeFormatter","body":"<p>I have a date in the following format: <code>1/1/2020 3:4:7 AM</code> I am trying to format it using <code>DateTimeFormatter</code>.</p>\n<p>I have the following code with a formatter to parse it, but it doesn't work.</p>\n<pre><code>LocalDateTime date = LocalDateTime.parse(&quot;1/1/2020 3:4:7 AM&quot;, DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss a&quot;));\n</code></pre>\n<p>I get the following exception:</p>\n<blockquote>\n<p><code>java.time.format.DateTimeParseException: Text '1/1/2020 3:4:7 AM' could not be parsed at index 0</code></p>\n</blockquote>\n<p>Can anyone help me?</p>\n"},{"tags":["java","spring-boot","logging","slf4j"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1634050148,"post_id":69542496,"comment_id":122919213,"body_markdown":"How are you triggering the tests?","body":"How are you triggering the tests?"},{"owner":{"account_id":18795234,"reputation":13,"user_id":13706856,"display_name":"tejas madappa"},"score":0,"creation_date":1634050312,"post_id":69542496,"comment_id":122919277,"body_markdown":"Just right click on the test and clicking on Run from Intellij IDE","body":"Just right click on the test and clicking on Run from Intellij IDE"},{"owner":{"account_id":4528750,"reputation":4632,"user_id":3679857,"accept_rate":80,"display_name":"narendra-choudhary"},"score":0,"creation_date":1634050733,"post_id":69542496,"comment_id":122919481,"body_markdown":"@tejasmadappa Can you add init steps for `log` in `TestLogging`? Is it a  `SimpleLogger`?","body":"@tejasmadappa Can you add init steps for <code>log</code> in <code>TestLogging</code>? Is it a  <code>SimpleLogger</code>?"},{"owner":{"account_id":18795234,"reputation":13,"user_id":13706856,"display_name":"tejas madappa"},"score":0,"creation_date":1634050900,"post_id":69542496,"comment_id":122919558,"body_markdown":"@narendra, I did not get you.  Can you elaborate more?","body":"@narendra, I did not get you.  Can you elaborate more?"}],"answers":[{"tags":[],"owner":{"account_id":4528750,"reputation":4632,"user_id":3679857,"accept_rate":80,"display_name":"narendra-choudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634051021,"creation_date":1634050143,"answer_id":69542635,"question_id":69542496,"body_markdown":"In application, it is using `Slf4j` in Spring application context, and because of this it uses Spring&#39;s default pattern for logging. The default log level is `INFO`.\r\n\r\nSee [Log Format](https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html#boot-features-logging-format]) for Spring.\r\n\r\nThis pattern is different from `SLF4j` [default pattern](http://www.slf4j.org/api/org/slf4j/impl/SimpleLogger.html).\r\n&gt; With no configuration, the default output includes the relative time in milliseconds, thread name, the level, logger name, and the message followed by the line separator for the host. In log4j terms it amounts to the &quot;%r [%t] %level %logger - %m%n&quot; pattern.\r\n&gt; Sample output follows.\r\n&gt; \r\n&gt;      176 [main] INFO examples.Sort - Populating an array of 2 elements in reverse order.  \r\n&gt;      225 [main] INFO examples.SortAlgo - Entered the sort method.\r\n&gt;      304 [main] INFO examples.SortAlgo - Dump of integer array:\r\n&gt;      317 [main] INFO examples.SortAlgo - Element [0] = 0\r\n\r\nThe default log level would depend on initialization of logger for plain SLF4j logging.\r\n\r\n---\r\n\r\n**Solution**: You can add `SpringBootTest` to test class for uniform logging pattern.","title":"Spring Boot - @Slf4j Logging Behavior differs in Test and in real Application","body":"<p>In application, it is using <code>Slf4j</code> in Spring application context, and because of this it uses Spring's default pattern for logging. The default log level is <code>INFO</code>.</p>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html#boot-features-logging-format%5D\" rel=\"nofollow noreferrer\">Log Format</a> for Spring.</p>\n<p>This pattern is different from <code>SLF4j</code> <a href=\"http://www.slf4j.org/api/org/slf4j/impl/SimpleLogger.html\" rel=\"nofollow noreferrer\">default pattern</a>.</p>\n<blockquote>\n<p>With no configuration, the default output includes the relative time in milliseconds, thread name, the level, logger name, and the message followed by the line separator for the host. In log4j terms it amounts to the &quot;%r [%t] %level %logger - %m%n&quot; pattern.\nSample output follows.</p>\n<pre><code> 176 [main] INFO examples.Sort - Populating an array of 2 elements in reverse order.  \n 225 [main] INFO examples.SortAlgo - Entered the sort method.\n 304 [main] INFO examples.SortAlgo - Dump of integer array:\n 317 [main] INFO examples.SortAlgo - Element [0] = 0\n</code></pre>\n</blockquote>\n<p>The default log level would depend on initialization of logger for plain SLF4j logging.</p>\n<hr />\n<p><strong>Solution</strong>: You can add <code>SpringBootTest</code> to test class for uniform logging pattern.</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634051088,"creation_date":1634051088,"answer_id":69542861,"question_id":69542496,"body_markdown":"@Slf4j annotation has nothing to do with Spring. Its a lombok annotation that gets into action during the compile time (while spring boot is a runtime framework).\r\nSo putting this annotation is essentially the same as placing a static field that holds the reference to the initialized slf4j logger.\r\n\r\nNow slf4j by itself doesn&#39;t print anything, instead it relies on the underlying logging libraries which are actually able to print actual log messages.\r\n\r\nSo the changes are that you have something like `logback-spring.xml` or `logback.xml` in the sources of the application and the logging framework that SLF4J delegates to gets initialized from. Spring boot also has some sane defaults when it comes to logging.\r\nSince spring boot can also integrate with, say, log4j2, its hard to tell what exactly is happening in your application, so you should check that.\r\n\r\nNow, during the test, the situation is different. You&#39;ve shown a unit test that has nothing do to with spring. So it runs &quot;on-its-own&quot; with slf4j enabled. \r\n\r\nAnd the actual behavior of logger again depends on how did you configure slf4j for tests.\r\n","title":"Spring Boot - @Slf4j Logging Behavior differs in Test and in real Application","body":"<p>@Slf4j annotation has nothing to do with Spring. Its a lombok annotation that gets into action during the compile time (while spring boot is a runtime framework).\nSo putting this annotation is essentially the same as placing a static field that holds the reference to the initialized slf4j logger.</p>\n<p>Now slf4j by itself doesn't print anything, instead it relies on the underlying logging libraries which are actually able to print actual log messages.</p>\n<p>So the changes are that you have something like <code>logback-spring.xml</code> or <code>logback.xml</code> in the sources of the application and the logging framework that SLF4J delegates to gets initialized from. Spring boot also has some sane defaults when it comes to logging.\nSince spring boot can also integrate with, say, log4j2, its hard to tell what exactly is happening in your application, so you should check that.</p>\n<p>Now, during the test, the situation is different. You've shown a unit test that has nothing do to with spring. So it runs &quot;on-its-own&quot; with slf4j enabled.</p>\n<p>And the actual behavior of logger again depends on how did you configure slf4j for tests.</p>\n"}],"owner":{"account_id":18795234,"reputation":13,"user_id":13706856,"display_name":"tejas madappa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69542861,"answer_count":2,"score":1,"last_activity_date":1634051777,"creation_date":1634049536,"question_id":69542496,"body_markdown":"I have a sample class like this, \r\n\r\n```\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic class TestLogging {\r\n\r\n    public void printLogLevel(){\r\n\r\n        if(log.isErrorEnabled()){\r\n            log.error(&quot;Error Enabled&quot;);\r\n        }\r\n\r\n        if(log.isTraceEnabled()){\r\n            log.trace(&quot;Trace Enabled&quot;);\r\n        }\r\n\r\n        if(log.isInfoEnabled()){\r\n            log.info(&quot;Info Enabled&quot;);\r\n        }\r\n\r\n        if(log.isDebugEnabled()){\r\n            log.debug(&quot;DEBUG enabled&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have written a test case like this, \r\n\r\n```\r\nimport org.junit.Test;\r\n\r\npublic class TestLoggingTest {\r\n    TestLogging testLogging = new TestLogging();\r\n\r\n    @Test\r\n    public void testLoggingLevel(){\r\n        testLogging.printLogLevel();\r\n    }\r\n}\r\n```\r\nWhen I run this test the below items gets printed to console. \r\n\r\n```\r\n19:48:54.661 [main] ERROR com.tejas.springlogging.TestLogging - Error Enabled\r\n19:48:54.665 [main] INFO com.tejas.springlogging.TestLogging - Info Enabled\r\n19:48:54.666 [main] DEBUG com.tejas.springlogging.TestLogging - DEBUG enabled\r\n```\r\n\r\nBut when I run the printLogLevel() from application like this, \r\n\r\n```\r\n@SpringBootApplication\r\n@Slf4j\r\npublic class SpringLoggingApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringLoggingApplication.class, args);\r\n\r\n        TestLogging testLogging = new TestLogging();\r\n        testLogging.printLogLevel();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe below lines gets printed to console. \r\n\r\n```\r\n2021-10-12 20:05:27.183 ERROR 8924 --- [           main] com.tejas.springlogging.TestLogging      : Error Enabled\r\n2021-10-12 20:05:27.183  INFO 8924 --- [           main] com.tejas.springlogging.TestLogging      : Info Enabled\r\n```\r\n\r\nBelow are the dependencies I have used for this testing. \r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;optional&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nand this is the parent pom version. \r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nNow the question is, why there is a difference when I call the printLogLevel() method from test and from application. The debug level gets printed only from test. May I know why?\r\n\r\nEDIT: Adding @SpringBootTest fixes this issue as suggest by @narendra, but it works only with junit5. I want the fix in junit4\r\n","title":"Spring Boot - @Slf4j Logging Behavior differs in Test and in real Application","body":"<p>I have a sample class like this,</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class TestLogging {\n\n    public void printLogLevel(){\n\n        if(log.isErrorEnabled()){\n            log.error(&quot;Error Enabled&quot;);\n        }\n\n        if(log.isTraceEnabled()){\n            log.trace(&quot;Trace Enabled&quot;);\n        }\n\n        if(log.isInfoEnabled()){\n            log.info(&quot;Info Enabled&quot;);\n        }\n\n        if(log.isDebugEnabled()){\n            log.debug(&quot;DEBUG enabled&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I have written a test case like this,</p>\n<pre><code>import org.junit.Test;\n\npublic class TestLoggingTest {\n    TestLogging testLogging = new TestLogging();\n\n    @Test\n    public void testLoggingLevel(){\n        testLogging.printLogLevel();\n    }\n}\n</code></pre>\n<p>When I run this test the below items gets printed to console.</p>\n<pre><code>19:48:54.661 [main] ERROR com.tejas.springlogging.TestLogging - Error Enabled\n19:48:54.665 [main] INFO com.tejas.springlogging.TestLogging - Info Enabled\n19:48:54.666 [main] DEBUG com.tejas.springlogging.TestLogging - DEBUG enabled\n</code></pre>\n<p>But when I run the printLogLevel() from application like this,</p>\n<pre><code>@SpringBootApplication\n@Slf4j\npublic class SpringLoggingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringLoggingApplication.class, args);\n\n        TestLogging testLogging = new TestLogging();\n        testLogging.printLogLevel();\n    }\n\n}\n</code></pre>\n<p>The below lines gets printed to console.</p>\n<pre><code>2021-10-12 20:05:27.183 ERROR 8924 --- [           main] com.tejas.springlogging.TestLogging      : Error Enabled\n2021-10-12 20:05:27.183  INFO 8924 --- [           main] com.tejas.springlogging.TestLogging      : Info Enabled\n</code></pre>\n<p>Below are the dependencies I have used for this testing.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;optional&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and this is the parent pom version.</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>Now the question is, why there is a difference when I call the printLogLevel() method from test and from application. The debug level gets printed only from test. May I know why?</p>\n<p>EDIT: Adding @SpringBootTest fixes this issue as suggest by @narendra, but it works only with junit5. I want the fix in junit4</p>\n"},{"tags":["java","swing","url"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1632149463,"post_id":69256453,"comment_id":122409061,"body_markdown":"*It is opening the file explorer* - and what do you want to happen? And what text do you enter in your text field?","body":"<i>It is opening the file explorer</i> - and what do you want to happen? And what text do you enter in your text field?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1632149604,"post_id":69256453,"comment_id":122409131,"body_markdown":"Please learn how to format your code correctly. If it was correctly formatted before you copied it, you should look at the preview before submitting your question to make sure it looks good. There is no excuse for posting something which is that difficult to read.","body":"Please learn how to format your code correctly. If it was correctly formatted before you copied it, you should look at the preview before submitting your question to make sure it looks good. There is no excuse for posting something which is that difficult to read."},{"owner":{"account_id":17593023,"reputation":826,"user_id":12764490,"display_name":"Tim Hunter"},"score":0,"creation_date":1632149802,"post_id":69256453,"comment_id":122409233,"body_markdown":"You&#39;re using the [browse method](https://docs.oracle.com/javase/7/docs/api/java/awt/Desktop.html#browse(java.net.URI)) which is built to do exactly what you describe is happening. If you&#39;re expecting something else, then I advise doing more research on the tools to make sure you&#39;re using the right ones.","body":"You&#39;re using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Desktop.html#browse(java.net.URI)\" rel=\"nofollow noreferrer\">browse method</a> which is built to do exactly what you describe is happening. If you&#39;re expecting something else, then I advise doing more research on the tools to make sure you&#39;re using the right ones."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1632151156,"post_id":69256453,"comment_id":122409831,"body_markdown":"You get the `url` in the `main` method before the UI has even been displayed, and then you don&#39;t get it in your `actionPerformed` method, so the URL will always be the empty string.","body":"You get the <code>url</code> in the <code>main</code> method before the UI has even been displayed, and then you don&#39;t get it in your <code>actionPerformed</code> method, so the URL will always be the empty string."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1632736952,"post_id":69256453,"comment_id":122564892,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1634051579,"post_id":69256453,"comment_id":122919883,"body_markdown":"When you [edit] a question, be sure to use the `Edit` link below it to do so. That way you will not wipe out the edits of others which improve it (as happened here). As it happens, the only substantive change to the original was *&quot;Please help me. I am new to java. But I know python. But I am Studying java because its good for internet. If you find a solution please say.&quot;*. None of that should be in a question in the first place.","body":"When you <a href=\"https://stackoverflow.com/posts/69256453/edit\">edit</a> a question, be sure to use the <code>Edit</code> link below it to do so. That way you will not wipe out the edits of others which improve it (as happened here). As it happens, the only substantive change to the original was <i>&quot;Please help me. I am new to java. But I know python. But I am Studying java because its good for internet. If you find a solution please say.&quot;</i>. None of that should be in a question in the first place."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632154094,"creation_date":1632154094,"answer_id":69257649,"question_id":69256453,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing][1].  Skip the Netbeans section.\r\n\r\nHere&#39;s the revised GUI I created.  The font you chose for the `JTextField` leads to a pretty wide `JTextField`.\r\n\r\n[![TextField Example][2]][2]\r\n\r\nThe first thing I did was to start the Swing GUI with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread][3].\r\n\r\nI separated the creation of the `JFrame` from the creation of the `JPanel`.  Even though you can place Swing components directly on a `JFrame`, it&#39;s wiser to create one or more `JPanels` to place on the `JFrame`.\r\n\r\nThe `JFrame` methods must be called in a specific order.  This is the order I use for all my Swing applications.\r\n\r\nThe `JFrame` has a default [BorderLayout][4], which I used. I used a `BorderLayout` for the `JPanel` I created to hold the `JTextField` and the `JButton`.\r\n\r\nI moved the ActionListener into its own class.  Most Swing applications require multiple classes, so you might as well get used to the idea now.\r\n\r\nHere&#39;s the complete, runnable code.  I made the URLListener class an inner class so I could post this code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Desktop;\r\n    import java.awt.Font;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.net.URI;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class TextFieldExample implements Runnable {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tSwingUtilities.invokeLater(new TextFieldExample());\r\n    \t}\r\n    \t\r\n    \tprivate JTextField urlTextField;\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame f = new JFrame(&quot;TextField Example&quot;);\r\n    \t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tf.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tf.pack();\r\n    \t\tf.setLocationByPlatform(true);\r\n    \t\tf.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\turlTextField = new JTextField(40);\r\n    \t\tFont font = new Font(&quot;Georgia&quot;, Font.BOLD, 20);\r\n    \t\turlTextField.setFont(font);\r\n    \t\tpanel.add(urlTextField, BorderLayout.NORTH);\r\n    \r\n    \t\tJButton b1 = new JButton(&quot;Submit URL&quot;);\r\n    \t\tb1.addActionListener(new URLListener());\r\n    \t\tpanel.add(b1, BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t\t\t\t\r\n    \t}\r\n    \t\r\n    \tpublic class URLListener implements ActionListener {\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\ttry {\r\n    \t\t\t\tDesktop desktop = java.awt.Desktop.getDesktop();\r\n    \t\t\t\tURI oURL = new URI(urlTextField.getText().trim());\r\n    \t\t\t\tdesktop.browse(oURL);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/index.html\r\n  [2]: https://i.stack.imgur.com/eApqv.png\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\r\n","title":"How to open a URL in Java from a Swing app?","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Netbeans section.</p>\n<p>Here's the revised GUI I created.  The font you chose for the <code>JTextField</code> leads to a pretty wide <code>JTextField</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/eApqv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eApqv.png\" alt=\"TextField Example\" /></a></p>\n<p>The first thing I did was to start the Swing GUI with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I separated the creation of the <code>JFrame</code> from the creation of the <code>JPanel</code>.  Even though you can place Swing components directly on a <code>JFrame</code>, it's wiser to create one or more <code>JPanels</code> to place on the <code>JFrame</code>.</p>\n<p>The <code>JFrame</code> methods must be called in a specific order.  This is the order I use for all my Swing applications.</p>\n<p>The <code>JFrame</code> has a default <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\" rel=\"nofollow noreferrer\">BorderLayout</a>, which I used. I used a <code>BorderLayout</code> for the <code>JPanel</code> I created to hold the <code>JTextField</code> and the <code>JButton</code>.</p>\n<p>I moved the ActionListener into its own class.  Most Swing applications require multiple classes, so you might as well get used to the idea now.</p>\n<p>Here's the complete, runnable code.  I made the URLListener class an inner class so I could post this code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Desktop;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.net.URI;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class TextFieldExample implements Runnable {\n\n    public static void main(String args[]) {\n        SwingUtilities.invokeLater(new TextFieldExample());\n    }\n    \n    private JTextField urlTextField;\n    \n    @Override\n    public void run() {\n        JFrame f = new JFrame(&quot;TextField Example&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        f.add(createMainPanel(), BorderLayout.CENTER);\n\n        f.pack();\n        f.setLocationByPlatform(true);\n        f.setVisible(true);\n    }\n    \n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        urlTextField = new JTextField(40);\n        Font font = new Font(&quot;Georgia&quot;, Font.BOLD, 20);\n        urlTextField.setFont(font);\n        panel.add(urlTextField, BorderLayout.NORTH);\n\n        JButton b1 = new JButton(&quot;Submit URL&quot;);\n        b1.addActionListener(new URLListener());\n        panel.add(b1, BorderLayout.SOUTH);\n        \n        return panel;\n                \n    }\n    \n    public class URLListener implements ActionListener {\n        public void actionPerformed(ActionEvent event) {\n            try {\n                Desktop desktop = java.awt.Desktop.getDesktop();\n                URI oURL = new URI(urlTextField.getText().trim());\n                desktop.browse(oURL);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user16956390"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1634051726,"creation_date":1632149293,"question_id":69256453,"body_markdown":"I made this code with GUI to open URL. Here is the code:\r\n\r\n \r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.net.URI;\r\n    import javax.swing.*;\r\n    \r\n    class TextFieldExample\r\n    {  \r\n    \tpublic static void main(String args[])  \r\n    \t{  \r\n    \t\tJFrame f= new JFrame(&quot;TextField Example&quot;);  \r\n    \t\tJTextField turl;  \r\n    \t\tturl=new JTextField();  \r\n    \t\tturl.setBounds(100,50, 300,50);  \r\n    \r\n    \t\tFont font = new Font(&quot;Georgia&quot;, Font.BOLD,20);\r\n    \t\tturl.setFont(font);\r\n    \t\tString url=turl.getText(); \r\n    \r\n    \t\tJButton b1=new JButton(new ImageIcon(&quot;button.png&quot;));  \r\n    \t\tb1.setBounds(138,100,230,60); \r\n    \r\n    \t\tb1.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent ae) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tDesktop desktop = java.awt.Desktop.getDesktop();\r\n    \t\t\t\t\tURI oURL = new URI(url);\r\n    \t\t\t\t\tdesktop.browse(oURL);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}});\r\n    \t\tf.add(b1);\r\n    \t\tf.add(turl); \r\n    \t\tf.setSize(500,300);  \r\n    \t\tf.setLayout(null);  \r\n    \t\tf.setVisible(true);//56 \r\n    \t}  \r\n    }\r\n\r\nBut when I run this and enter a URL, it is opening the file explorer. Can someone find a solution? \r\n\r\n","title":"How to open a URL in Java from a Swing app?","body":"<p>I made this code with GUI to open URL. Here is the code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.net.URI;\nimport javax.swing.*;\n\nclass TextFieldExample\n{  \n    public static void main(String args[])  \n    {  \n        JFrame f= new JFrame(&quot;TextField Example&quot;);  \n        JTextField turl;  \n        turl=new JTextField();  \n        turl.setBounds(100,50, 300,50);  \n\n        Font font = new Font(&quot;Georgia&quot;, Font.BOLD,20);\n        turl.setFont(font);\n        String url=turl.getText(); \n\n        JButton b1=new JButton(new ImageIcon(&quot;button.png&quot;));  \n        b1.setBounds(138,100,230,60); \n\n        b1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                try {\n                    Desktop desktop = java.awt.Desktop.getDesktop();\n                    URI oURL = new URI(url);\n                    desktop.browse(oURL);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }});\n        f.add(b1);\n        f.add(turl); \n        f.setSize(500,300);  \n        f.setLayout(null);  \n        f.setVisible(true);//56 \n    }  \n}\n</code></pre>\n<p>But when I run this and enter a URL, it is opening the file explorer. Can someone find a solution?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":8164973,"reputation":4238,"user_id":6147653,"display_name":"Alpha 1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634051579,"creation_date":1634051579,"answer_id":69542996,"question_id":69542605,"body_markdown":"You are using the `FLEXIBLE` method for updating the App, which will download the app but will not auto-update it.\r\n\r\nYou have to monitor the flexible update progress and once the update is downloaded, you have to install it manually. \r\n\r\n         private val installStateUpdatedListener = InstallStateUpdatedListener { state -&gt;\r\n                when (state.installStatus()) {\r\n                    InstallStatus.DOWNLOADED -&gt; completeUpdate()\r\n                    InstallStatus.FAILED -&gt; reportUpdateFailure(state.installErrorCode())\r\n                    else -&gt; {\r\n                        // Right now we only care about download success / failed state\r\n                    }\r\n                }\r\n            }\r\n    \r\n    // Before starting an update, register a listener for updates.\r\n    appUpdateManager.registerListener(listener)\r\n    \r\n    // Start an update.\r\n    \r\n    // When status updates are no longer needed, unregister the listener.\r\n    appUpdateManager.unregisterListener(listener)\r\n\r\nOnce the update is downloaded, you have to call `appUpdateManager.completeUpdate()` to complete the update. \r\n\r\nYou can get more information here: https://developer.android.com/guide/playcore/in-app-updates/kotlin-java#flexible","title":"inApp Update, download but not installed","body":"<p>You are using the <code>FLEXIBLE</code> method for updating the App, which will download the app but will not auto-update it.</p>\n<p>You have to monitor the flexible update progress and once the update is downloaded, you have to install it manually.</p>\n<pre><code>     private val installStateUpdatedListener = InstallStateUpdatedListener { state -&gt;\n            when (state.installStatus()) {\n                InstallStatus.DOWNLOADED -&gt; completeUpdate()\n                InstallStatus.FAILED -&gt; reportUpdateFailure(state.installErrorCode())\n                else -&gt; {\n                    // Right now we only care about download success / failed state\n                }\n            }\n        }\n\n// Before starting an update, register a listener for updates.\nappUpdateManager.registerListener(listener)\n\n// Start an update.\n\n// When status updates are no longer needed, unregister the listener.\nappUpdateManager.unregisterListener(listener)\n</code></pre>\n<p>Once the update is downloaded, you have to call <code>appUpdateManager.completeUpdate()</code> to complete the update.</p>\n<p>You can get more information here: <a href=\"https://developer.android.com/guide/playcore/in-app-updates/kotlin-java#flexible\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/playcore/in-app-updates/kotlin-java#flexible</a></p>\n"}],"owner":{"account_id":23005696,"reputation":45,"user_id":17129032,"display_name":"tomtript"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69542996,"answer_count":1,"score":2,"last_activity_date":1634051579,"creation_date":1634049992,"question_id":69542605,"body_markdown":"I have a problem with inapp update. A new version window appears, when you press the &quot;Update now&quot; button, unfortunately nothing happens, the application downloads in the background, but nothing happens app is not updated. I would like to add that I am testing it on the &quot;Open Test&quot; in play store path.\r\n\r\n\r\n```\r\n    private void checkForUpdate() {\r\n        appUpdateManager\r\n            .getAppUpdateInfo()\r\n            .addOnSuccessListener(\r\n                appUpdateInfo -&gt; {\r\n\r\n                    // Checks that the platform will allow the specified type of update.\r\n                    if ((appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE)\r\n                            &amp;&amp; appUpdateInfo.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE))\r\n                    {\r\n                        // Request the update.\r\n                        try {\r\n                            appUpdateManager.startUpdateFlowForResult(\r\n                                    appUpdateInfo,\r\n                                    AppUpdateType.FLEXIBLE,\r\n                                    this,\r\n                                    REQUEST_APP_UPDATE);\r\n                        } catch (IntentSender.SendIntentException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n```\r\n","title":"inApp Update, download but not installed","body":"<p>I have a problem with inapp update. A new version window appears, when you press the &quot;Update now&quot; button, unfortunately nothing happens, the application downloads in the background, but nothing happens app is not updated. I would like to add that I am testing it on the &quot;Open Test&quot; in play store path.</p>\n<pre><code>    private void checkForUpdate() {\n        appUpdateManager\n            .getAppUpdateInfo()\n            .addOnSuccessListener(\n                appUpdateInfo -&gt; {\n\n                    // Checks that the platform will allow the specified type of update.\n                    if ((appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE)\n                            &amp;&amp; appUpdateInfo.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE))\n                    {\n                        // Request the update.\n                        try {\n                            appUpdateManager.startUpdateFlowForResult(\n                                    appUpdateInfo,\n                                    AppUpdateType.FLEXIBLE,\n                                    this,\n                                    REQUEST_APP_UPDATE);\n                        } catch (IntentSender.SendIntentException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                });\n    }\n</code></pre>\n"},{"tags":["java","cron","scheduled-tasks","scheduler"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1634030816,"post_id":69538019,"comment_id":122911017,"body_markdown":"This might help: https://www.freeformatter.com/cron-expression-generator-quartz.html or this: http://www.cronmaker.com/  - the expression for first monday of month would be `0 0 0 ? * 2#1 *`","body":"This might help: <a href=\"https://www.freeformatter.com/cron-expression-generator-quartz.html\" rel=\"nofollow noreferrer\">freeformatter.com/cron-expression-generator-quartz.html</a> or this: <a href=\"http://www.cronmaker.com/\" rel=\"nofollow noreferrer\">cronmaker.com</a>  - the expression for first monday of month would be <code>0 0 0 ? * 2#1 *</code>"}],"answers":[{"tags":[],"owner":{"account_id":3796957,"reputation":408,"user_id":3151702,"display_name":"Will Bobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634049464,"creation_date":1634049464,"answer_id":69542471,"question_id":69538019,"body_markdown":"Like Thomas said, the format used by Quartz allows more use cases and works in the majority of mines.\r\nThanks\r\n\r\nhttp://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html\r\nhttps://www.freeformatter.com/cron-expression-generator-quartz.html","title":"Is there something to represent a period like&quot;first monday of every month&quot; like cron?","body":"<p>Like Thomas said, the format used by Quartz allows more use cases and works in the majority of mines.\nThanks</p>\n<p><a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html\" rel=\"nofollow noreferrer\">http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html</a>\n<a href=\"https://www.freeformatter.com/cron-expression-generator-quartz.html\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/cron-expression-generator-quartz.html</a></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634051010,"creation_date":1634050327,"answer_id":69542675,"question_id":69538019,"body_markdown":"The first Monday of every month means:\r\n\r\n - Day of week = 1\r\n - Day of month = 1-7\r\n\r\nWhich as a cron expression is:\r\n\r\n    0 0 1-7 * 1\r\n    │ │  │  │ └─ Day of week 1 (Monday)\r\n    │ │  │  └─── Every month\r\n    │ │  └────── Day of month 1-7\r\n    │ └───────── Hour 0\r\n    └─────────── Minute 0\r\n\r\n\r\nor the more readable:\r\n\r\n    0 0 1-7 * MON\r\n","title":"Is there something to represent a period like&quot;first monday of every month&quot; like cron?","body":"<p>The first Monday of every month means:</p>\n<ul>\n<li>Day of week = 1</li>\n<li>Day of month = 1-7</li>\n</ul>\n<p>Which as a cron expression is:</p>\n<pre><code>0 0 1-7 * 1\n│ │  │  │ └─ Day of week 1 (Monday)\n│ │  │  └─── Every month\n│ │  └────── Day of month 1-7\n│ └───────── Hour 0\n└─────────── Minute 0\n</code></pre>\n<p>or the more readable:</p>\n<pre><code>0 0 1-7 * MON\n</code></pre>\n"}],"owner":{"account_id":3796957,"reputation":408,"user_id":3151702,"display_name":"Will Bobo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634051010,"creation_date":1634030551,"question_id":69538019,"body_markdown":"I have an application where users can create repetitive tasks like &quot;every 2 weeks&quot; or &quot;every first monday of month each month&quot;\r\n\r\nI tried to represent these period and compute the next execution time using CRON format but I searched and they can&#39;t be representated with CRON without more scripting.\r\n\r\nI don&#39;t know if it is because I&#39;m not english native and don&#39;t know proper keywords but I can&#39;t find an existing solution for this.\r\n\r\nThis &quot;period&quot; should be stored has a string and if possible, have existing js and java libraries to create it and generate the next datetime.\r\n\r\nIf nothing exist.. well, I&#39;ll create my own solution/format.\r\n\r\nThanks","title":"Is there something to represent a period like&quot;first monday of every month&quot; like cron?","body":"<p>I have an application where users can create repetitive tasks like &quot;every 2 weeks&quot; or &quot;every first monday of month each month&quot;</p>\n<p>I tried to represent these period and compute the next execution time using CRON format but I searched and they can't be representated with CRON without more scripting.</p>\n<p>I don't know if it is because I'm not english native and don't know proper keywords but I can't find an existing solution for this.</p>\n<p>This &quot;period&quot; should be stored has a string and if possible, have existing js and java libraries to create it and generate the next datetime.</p>\n<p>If nothing exist.. well, I'll create my own solution/format.</p>\n<p>Thanks</p>\n"},{"tags":["java","date","timestamp","design-patterns"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1333977794,"post_id":10073813,"comment_id":12896108,"body_markdown":"Take a look at the documentation: http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html.  There&#39;s a list of format specifiers there.","body":"Take a look at the documentation: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/text/&hellip;</a>.  There&#39;s a list of format specifiers there."},{"owner":{"account_id":938256,"reputation":1561,"user_id":966793,"accept_rate":54,"display_name":"Surya Chandra"},"score":1,"creation_date":1333978179,"post_id":10073813,"comment_id":12896237,"body_markdown":"whoever downvoted care to explain why? There is nothing wrong with the question. Is it possible to get millionth second precision in java.","body":"whoever downvoted care to explain why? There is nothing wrong with the question. Is it possible to get millionth second precision in java."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1333980346,"post_id":10073813,"comment_id":12896919,"body_markdown":"+1 I think its a reasonable question.  I imagine the downvoter didn&#39;t realise that dealing with micro-seconds a) is not trivial or b) quite possible.","body":"+1 I think its a reasonable question.  I imagine the downvoter didn&#39;t realise that dealing with micro-seconds a) is not trivial or b) quite possible."},{"owner":{"account_id":56155,"reputation":9443,"user_id":168196,"display_name":"woliveirajr"},"score":0,"creation_date":1333987833,"post_id":10073813,"comment_id":12899444,"body_markdown":"I think Timestamp can deal with nanoseconds from a database, take a look at http://docs.oracle.com/javase/6/docs/api/java/sql/Timestamp.html","body":"I think Timestamp can deal with nanoseconds from a database, take a look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/Timestamp.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/sql/Timestamp.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1465933675,"creation_date":1333977881,"answer_id":10073872,"question_id":10073813,"body_markdown":"The default ways of formatting a `java.util.Date` (or `java.sql.Timestamp`) has only millisecond precision. You can use `yyyy-MM-dd hh:mm:ss.SSS` to get that millisecond precision.\r\n\r\nA `java.sql.Timestamp` actually does have (up to) nanosecond precision (assuming the database server and the driver actually support it). The easiest way to format it in Java 8 is to convert the timestamp to a `java.time.LocalDateTime` (using `Timestamp.toLocalDateTime()`) and use the `java.time` formatting options in `java.time.format.DateTimeFormatter` which support up to nanoseconds.\r\n\r\nIf you use Java 7 or earlier it will take some extra effort, as the normal date formatters don&#39;t support it. For example you could use a dateformatter with pattern `yyyy-MM-dd hh:mm:ss` (to only format up to seconds) and append the sub-second nano seconds (with appropriate zero-padding) of `Timestamp.getNanos()` yourself.","title":"How to print time up to 6 digits of precision for seconds value","body":"<p>The default ways of formatting a <code>java.util.Date</code> (or <code>java.sql.Timestamp</code>) has only millisecond precision. You can use <code>yyyy-MM-dd hh:mm:ss.SSS</code> to get that millisecond precision.</p>\n\n<p>A <code>java.sql.Timestamp</code> actually does have (up to) nanosecond precision (assuming the database server and the driver actually support it). The easiest way to format it in Java 8 is to convert the timestamp to a <code>java.time.LocalDateTime</code> (using <code>Timestamp.toLocalDateTime()</code>) and use the <code>java.time</code> formatting options in <code>java.time.format.DateTimeFormatter</code> which support up to nanoseconds.</p>\n\n<p>If you use Java 7 or earlier it will take some extra effort, as the normal date formatters don't support it. For example you could use a dateformatter with pattern <code>yyyy-MM-dd hh:mm:ss</code> (to only format up to seconds) and append the sub-second nano seconds (with appropriate zero-padding) of <code>Timestamp.getNanos()</code> yourself.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1333992415,"creation_date":1333980292,"answer_id":10074408,"question_id":10073813,"body_markdown":"You have to have a way of obtaining a micro-second timestamp. I use System.currentTimeMillis() with System.nanoTime() in combination.  Then you need a way to display it. You can divide it by 1000 and display milliseconds as normal, then display the last 3 digits of the time. i.e. Have a time which is like\r\n\r\n    long timeUS = System.currentTimeMillis() * 1000 + micros;\r\n\r\nhere is a more detailed example\r\n\r\n[HiresTimer.java][1] and [HiresTimerTest.java][2]\r\n\r\nThe test prints\r\n\r\n    2012/04/09T14:22:13.656008\r\n    2012/04/09T14:22:13.656840\r\n    2012/04/09T14:22:13.656958\r\n    2012/04/09T14:22:13.657066\r\n     ....\r\n    2012/04/09T14:22:13.665249\r\n    2012/04/09T14:22:13.665392\r\n    2012/04/09T14:22:13.665473\r\n    2012/04/09T14:22:13.665581\r\n\r\n---\r\n\r\nEDIT: The relevant code is\r\n\r\n    private static final SimpleDateFormat SDF = new SimpleDateFormat(&quot;yyyy/MM/dd&#39;T&#39;HH:mm:ss.SSS&quot;);\r\n    private static final DecimalFormat DF = new DecimalFormat(&quot;000&quot;);\r\n\r\n    public static String toString(long timeUS) {\r\n        return SDF.format(timeUS / 1000) + DF.format(timeUS % 1000);\r\n    }\r\n\r\n\r\n\r\n  [1]: http://code.google.com/p/core-java-performance-examples/source/browse/trunk/src/main/java/com/google/code/java/core/time/HiresTimer.java\r\n  [2]: http://code.google.com/p/core-java-performance-examples/source/browse/trunk/src/test/java/com/google/code/java/core/time/HiresTimerTest.java\r\n","title":"How to print time up to 6 digits of precision for seconds value","body":"<p>You have to have a way of obtaining a micro-second timestamp. I use System.currentTimeMillis() with System.nanoTime() in combination.  Then you need a way to display it. You can divide it by 1000 and display milliseconds as normal, then display the last 3 digits of the time. i.e. Have a time which is like</p>\n\n<pre><code>long timeUS = System.currentTimeMillis() * 1000 + micros;\n</code></pre>\n\n<p>here is a more detailed example</p>\n\n<p><a href=\"http://code.google.com/p/core-java-performance-examples/source/browse/trunk/src/main/java/com/google/code/java/core/time/HiresTimer.java\" rel=\"nofollow\">HiresTimer.java</a> and <a href=\"http://code.google.com/p/core-java-performance-examples/source/browse/trunk/src/test/java/com/google/code/java/core/time/HiresTimerTest.java\" rel=\"nofollow\">HiresTimerTest.java</a></p>\n\n<p>The test prints</p>\n\n<pre><code>2012/04/09T14:22:13.656008\n2012/04/09T14:22:13.656840\n2012/04/09T14:22:13.656958\n2012/04/09T14:22:13.657066\n ....\n2012/04/09T14:22:13.665249\n2012/04/09T14:22:13.665392\n2012/04/09T14:22:13.665473\n2012/04/09T14:22:13.665581\n</code></pre>\n\n<hr>\n\n<p>EDIT: The relevant code is</p>\n\n<pre><code>private static final SimpleDateFormat SDF = new SimpleDateFormat(\"yyyy/MM/dd'T'HH:mm:ss.SSS\");\nprivate static final DecimalFormat DF = new DecimalFormat(\"000\");\n\npublic static String toString(long timeUS) {\n    return SDF.format(timeUS / 1000) + DF.format(timeUS % 1000);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115173,"reputation":3150,"user_id":302517,"display_name":"JiP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634050955,"creation_date":1333981902,"answer_id":10074763,"question_id":10073813,"body_markdown":"Dealing with micro- or nano-seconds in Java is not always straightforward.\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\nimport java.sql.Timestamp;\r\nimport java.text.DateFormat;\r\nimport java.text.DecimalFormat;\r\nimport java.text.NumberFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Date;\r\n\r\n\r\npublic class Main {\r\n\r\n  public static void main(String args[]) throws Exception {\r\n    long time = System.currentTimeMillis();\r\n    Date d = new Date(time);\r\n    Timestamp t = new Timestamp(time);\r\n    /* micro-seconds as OP requested */\r\n    {\r\n      t.setNanos(123456000);\r\n      System.out.println(d);\r\n      System.out.println(t);\r\n      DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&#39;.&#39;&quot;);\r\n      NumberFormat nf = new DecimalFormat(&quot;000000&quot;);\r\n      System.out.println(df.format(t.getTime()) + nf.format(t.getNanos() / 1000));\r\n      /* using Java Time API (available since JDK 1.8) */\r\n      DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;);\r\n      LocalDateTime ldt = t.toLocalDateTime();\r\n      System.out.println(ldt.format(dtf));\r\n    }\r\n    /* nanoseconds just for the sake of completness */\r\n    {\r\n      t.setNanos(123456789);\r\n      System.out.println(t);\r\n      DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&#39;.&#39;&quot;);\r\n      NumberFormat nf = new DecimalFormat(&quot;000000000&quot;);\r\n      System.out.println(df.format(t.getTime()) + nf.format(t.getNanos()));\r\n      /* using Java Time API (available since JDK 1.8) */\r\n      DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.nnnnnnnnn&quot;);\r\n      LocalDateTime ldt = t.toLocalDateTime();\r\n      System.out.println(ldt.format(dtf));\r\n    }\r\n  }\r\n}\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nThe output produced is (in my country, my locale):\r\n\r\n&lt;pre&gt;\r\nTue Aug 31 13:26:08 CEST 2021\r\n2021-08-31 13:26:08.123456\r\n2021-08-31 13:26:08.123456\r\n2021-08-31 13:26:08.123456\r\n2021-08-31 13:26:08.123456789\r\n2021-08-31 13:26:08.123456789\r\n2021-08-31 13:26:08.123456789\r\n&lt;/pre&gt;\r\n","title":"How to print time up to 6 digits of precision for seconds value","body":"<p>Dealing with micro- or nano-seconds in Java is not always straightforward.</p>\n<pre>\n<code>\nimport java.sql.Timestamp;\nimport java.text.DateFormat;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Date;\n\n\npublic class Main {\n\n  public static void main(String args[]) throws Exception {\n    long time = System.currentTimeMillis();\n    Date d = new Date(time);\n    Timestamp t = new Timestamp(time);\n    /* micro-seconds as OP requested */\n    {\n      t.setNanos(123456000);\n      System.out.println(d);\n      System.out.println(t);\n      DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss'.'\");\n      NumberFormat nf = new DecimalFormat(\"000000\");\n      System.out.println(df.format(t.getTime()) + nf.format(t.getNanos() / 1000));\n      /* using Java Time API (available since JDK 1.8) */\n      DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSS\");\n      LocalDateTime ldt = t.toLocalDateTime();\n      System.out.println(ldt.format(dtf));\n    }\n    /* nanoseconds just for the sake of completness */\n    {\n      t.setNanos(123456789);\n      System.out.println(t);\n      DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss'.'\");\n      NumberFormat nf = new DecimalFormat(\"000000000\");\n      System.out.println(df.format(t.getTime()) + nf.format(t.getNanos()));\n      /* using Java Time API (available since JDK 1.8) */\n      DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.nnnnnnnnn\");\n      LocalDateTime ldt = t.toLocalDateTime();\n      System.out.println(ldt.format(dtf));\n    }\n  }\n}\n</code>\n</pre>\n<p>The output produced is (in my country, my locale):</p>\n<pre>\nTue Aug 31 13:26:08 CEST 2021\n2021-08-31 13:26:08.123456\n2021-08-31 13:26:08.123456\n2021-08-31 13:26:08.123456\n2021-08-31 13:26:08.123456789\n2021-08-31 13:26:08.123456789\n2021-08-31 13:26:08.123456789\n</pre>\n"},{"tags":[],"owner":{"account_id":4979172,"reputation":165,"user_id":4004683,"display_name":"Jonathan Millman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445188345,"creation_date":1428873572,"answer_id":29594768,"question_id":10073813,"body_markdown":"In Java 8 and later, the [java.time][1] package has support for parsing and manipulating date/times to nanosecond precision. That means up to 9 digits in the fraction of a second.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"How to print time up to 6 digits of precision for seconds value","body":"<p>In Java 8 and later, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow\">java.time</a> package has support for parsing and manipulating date/times to nanosecond precision. That means up to 9 digits in the fraction of a second.</p>\n"}],"owner":{"account_id":938256,"reputation":1561,"user_id":966793,"accept_rate":54,"display_name":"Surya Chandra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37413,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":4,"score":15,"last_activity_date":1634050955,"creation_date":1333977629,"question_id":10073813,"body_markdown":"I have a value in column which is of type timestamp. Lets say I have a value **2007-05-04 08:48:40.969774**\r\n\r\nNow, when trying to fetch the value from the database and return this timestamp value to a function, what SimpleDateFormatter pattern should I use so that the fraction part beside the seconds also gets returned. \r\n\r\nI have used **yyyy-MM-dd hh:mm:ss**, but that only returns till the seconds and ignores the fraction present beside the seconds(.969774). I need help in returning this fraction part also, with a 6-digits precision.","title":"How to print time up to 6 digits of precision for seconds value","body":"<p>I have a value in column which is of type timestamp. Lets say I have a value <strong>2007-05-04 08:48:40.969774</strong></p>\n\n<p>Now, when trying to fetch the value from the database and return this timestamp value to a function, what SimpleDateFormatter pattern should I use so that the fraction part beside the seconds also gets returned. </p>\n\n<p>I have used <strong>yyyy-MM-dd hh:mm:ss</strong>, but that only returns till the seconds and ignores the fraction present beside the seconds(.969774). I need help in returning this fraction part also, with a 6-digits precision.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634050677,"creation_date":1634050677,"answer_id":69542765,"question_id":69541606,"body_markdown":"1. If i am not wrong, please try changing your mapping\r\n\r\n        @OneToMany(mappedBy = &quot;id&quot;, fetch = FetchType.EAGER,\r\n                        cascade = CascadeType.ALL)\r\n        private Set&lt;UserRoleMapping&gt; userRoles;\r\n\r\nTo:\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER,\r\n                cascade = CascadeType.ALL)\r\n        private Set&lt;UserRoleMapping&gt; userRoles;\r\n\r\n2. To exclude the field/object, i am using @JsonIgnore:\r\n\r\n        @JsonIgnore\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        User user;","title":"Composite object not showing up in the response - Spring Boot","body":"<ol>\n<li><p>If i am not wrong, please try changing your mapping</p>\n<pre><code> @OneToMany(mappedBy = &quot;id&quot;, fetch = FetchType.EAGER,\n                 cascade = CascadeType.ALL)\n private Set&lt;UserRoleMapping&gt; userRoles;\n</code></pre>\n</li>\n</ol>\n<p>To:</p>\n<pre><code>@OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER,\n            cascade = CascadeType.ALL)\n    private Set&lt;UserRoleMapping&gt; userRoles;\n</code></pre>\n<ol start=\"2\">\n<li><p>To exclude the field/object, i am using @JsonIgnore:</p>\n<pre><code> @JsonIgnore\n @ManyToOne\n @JoinColumn(name = &quot;user_id&quot;)\n User user;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634050872,"creation_date":1634050872,"answer_id":69542814,"question_id":69541606,"body_markdown":"First of all I suggest to work with repository inside a service method with @Transnational annotation, not in the controller.\r\n\r\nSecond, you need to add new object UserRoleMapping to User userRoles and save User (cascade = CascadeType.ALL). I would suggest to change\r\n\r\n    @OneToMany(mappedBy = &quot;id&quot;, fetch = FetchType.EAGER,\r\n            cascade = CascadeType.ALL)\r\n    private Set&lt;UserRoleMapping&gt; userRoles;\r\n\r\nto\r\n\r\n    @OneToMany(mappedBy = &quot;id&quot;, fetch = FetchType.EAGER,\r\n            cascade = CascadeType.ALL)\r\n    private Set&lt;UserRoleMapping&gt; userRoles = new HashSet&lt;&gt;();\r\n\r\n\r\n","title":"Composite object not showing up in the response - Spring Boot","body":"<p>First of all I suggest to work with repository inside a service method with @Transnational annotation, not in the controller.</p>\n<p>Second, you need to add new object UserRoleMapping to User userRoles and save User (cascade = CascadeType.ALL). I would suggest to change</p>\n<pre><code>@OneToMany(mappedBy = &quot;id&quot;, fetch = FetchType.EAGER,\n        cascade = CascadeType.ALL)\nprivate Set&lt;UserRoleMapping&gt; userRoles;\n</code></pre>\n<p>to</p>\n<pre><code>@OneToMany(mappedBy = &quot;id&quot;, fetch = FetchType.EAGER,\n        cascade = CascadeType.ALL)\nprivate Set&lt;UserRoleMapping&gt; userRoles = new HashSet&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69542765,"answer_count":2,"score":0,"last_activity_date":1634050872,"creation_date":1634045986,"question_id":69541606,"body_markdown":"So I&#39;m getting some roles introduced in my system. I have a class that looks like this : \r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;user_role_mapping&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class UserRoleMapping {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    Integer id;\r\n\r\n    @Column(name = &quot;role_id&quot;)\r\n    Role role;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    User user;\r\n\r\n    public UserRoleMapping(Role role, User user) {\r\n        this.role = role;\r\n        this.user = user;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe classes that are mapping by this look like as follows :\r\n \r\n\r\n\r\n```\r\npublic enum Role {\r\n    ROLE_CUSTOMER(1) , ROLE_ADMIN(0);\r\n\r\n    public int id;\r\n\r\n    private Role (int id){\r\n    }\r\n}\r\n```\r\n\r\nThe user class looks like : \r\n\r\n```\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;phone&quot;)\r\n    private String phoneNumber;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;id&quot;, fetch = FetchType.EAGER,\r\n            cascade = CascadeType.ALL)\r\n    private Set&lt;UserRoleMapping&gt; userRoles;\r\n}\r\n```\r\n\r\nFor an initial POC , i wrote a simple API method that looks like : \r\n\r\n\r\n```\r\n@RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\r\n        public ResponseEntity&lt;?&gt; returnUserAndDefaultRole( @RequestParam(name = &quot;phone&quot;) String phone) {\r\n           User user = usersRepository.findByPhoneNumber(phone);\r\n           List&lt;UserRoleMapping&gt; urm = userRoleMappingRepository.findAllByUser(user);\r\n        UserRoleMapping userRoleMapping;\r\n        if (urm.size() == 0) {\r\n            userRoleMapping = new UserRoleMapping(Role.ROLE_CUSTOMER, user);\r\n            userRoleMappingRepository.save(userRoleMapping); }\r\n        else {\r\n            userRoleMapping  = urm.get(0);\r\n        }\r\n        Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n        result.put(&quot;User&quot;, user );\r\n        result.put(&quot;Role_info&quot; ,userRoleMapping);\r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n    }\r\n```\r\n\r\nHere, I expect to get the User object which also has a Set&lt;UserRoleMapping&gt; as well as one userRoleMapping object under the `Role_info` key. \r\n\r\nMy actual output looks like : \r\n\r\n```{\r\n    &quot;User&quot;: {\r\n        &quot;id&quot;: 1542275,\r\n        &quot;phoneNumber&quot;: &quot;9527725710&quot;,\r\n        &quot;name&quot;: &quot;njari&quot;,\r\n       \r\n        &quot;userRoles&quot;: []\r\n    },\r\n    &quot;Role_info&quot;: {\r\n        &quot;id&quot;: 1,\r\n        &quot;role&quot;: &quot;ROLE_CUSTOMER&quot;,\r\n        &quot;user&quot;: {\r\n            &quot;id&quot;: 1542275,\r\n             &quot;phoneNumber&quot;: &quot;9527725710&quot;,\r\n            &quot;name&quot;: &quot;njari&quot;,\r\n            &quot;userRoles&quot;: []\r\n        }\r\n    }\r\n}\r\n ```\r\n\r\nMy Role_Info is populated. However, The userRoles within the user object isn&#39;t. \r\nFirst, I want the inner Set of userRoles to be populated.\r\nSecond,I also don&#39;t want the Role_Info to include the entire User object, how do I achieve this?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Composite object not showing up in the response - Spring Boot","body":"<p>So I'm getting some roles introduced in my system. I have a class that looks like this :</p>\n<pre><code>@Entity\n@Table(name = &quot;user_role_mapping&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class UserRoleMapping {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    Integer id;\n\n    @Column(name = &quot;role_id&quot;)\n    Role role;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    User user;\n\n    public UserRoleMapping(Role role, User user) {\n        this.role = role;\n        this.user = user;\n    }\n}\n</code></pre>\n<p>The classes that are mapping by this look like as follows :</p>\n<pre><code>public enum Role {\n    ROLE_CUSTOMER(1) , ROLE_ADMIN(0);\n\n    public int id;\n\n    private Role (int id){\n    }\n}\n</code></pre>\n<p>The user class looks like :</p>\n<pre><code>public class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;phone&quot;)\n    private String phoneNumber;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;id&quot;, fetch = FetchType.EAGER,\n            cascade = CascadeType.ALL)\n    private Set&lt;UserRoleMapping&gt; userRoles;\n}\n</code></pre>\n<p>For an initial POC , i wrote a simple API method that looks like :</p>\n<pre><code>@RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\n        public ResponseEntity&lt;?&gt; returnUserAndDefaultRole( @RequestParam(name = &quot;phone&quot;) String phone) {\n           User user = usersRepository.findByPhoneNumber(phone);\n           List&lt;UserRoleMapping&gt; urm = userRoleMappingRepository.findAllByUser(user);\n        UserRoleMapping userRoleMapping;\n        if (urm.size() == 0) {\n            userRoleMapping = new UserRoleMapping(Role.ROLE_CUSTOMER, user);\n            userRoleMappingRepository.save(userRoleMapping); }\n        else {\n            userRoleMapping  = urm.get(0);\n        }\n        Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n        result.put(&quot;User&quot;, user );\n        result.put(&quot;Role_info&quot; ,userRoleMapping);\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n</code></pre>\n<p>Here, I expect to get the User object which also has a Set as well as one userRoleMapping object under the <code>Role_info</code> key.</p>\n<p>My actual output looks like :</p>\n<pre><code>    &quot;User&quot;: {\n        &quot;id&quot;: 1542275,\n        &quot;phoneNumber&quot;: &quot;9527725710&quot;,\n        &quot;name&quot;: &quot;njari&quot;,\n       \n        &quot;userRoles&quot;: []\n    },\n    &quot;Role_info&quot;: {\n        &quot;id&quot;: 1,\n        &quot;role&quot;: &quot;ROLE_CUSTOMER&quot;,\n        &quot;user&quot;: {\n            &quot;id&quot;: 1542275,\n             &quot;phoneNumber&quot;: &quot;9527725710&quot;,\n            &quot;name&quot;: &quot;njari&quot;,\n            &quot;userRoles&quot;: []\n        }\n    }\n}\n</code></pre>\n<p>My Role_Info is populated. However, The userRoles within the user object isn't.\nFirst, I want the inner Set of userRoles to be populated.\nSecond,I also don't want the Role_Info to include the entire User object, how do I achieve this?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":13615140,"reputation":614,"user_id":9821269,"display_name":"OshiniRB"},"score":1,"creation_date":1633972507,"post_id":69530070,"comment_id":122896821,"body_markdown":"Does this answer your question? [How do I resolve ClassNotFoundException?](https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception\">How do I resolve ClassNotFoundException?</a>"},{"owner":{"account_id":13040768,"reputation":28,"user_id":9424234,"display_name":"leobartowski"},"score":0,"creation_date":1633978491,"post_id":69530070,"comment_id":122898791,"body_markdown":"I think the probelma is indeed with the classpath but I didn&#39;t understand how to resolve the issue.","body":"I think the probelma is indeed with the classpath but I didn&#39;t understand how to resolve the issue."},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1634013169,"post_id":69530070,"comment_id":122905588,"body_markdown":"Show your project structure in IntelliJ IDEA. Is your sources folder marked as sources?","body":"Show your project structure in IntelliJ IDEA. Is your sources folder marked as sources?"},{"owner":{"account_id":13040768,"reputation":28,"user_id":9424234,"display_name":"leobartowski"},"score":0,"creation_date":1634050807,"post_id":69530070,"comment_id":122919518,"body_markdown":"Yes, it is. This is my structure, I added the screen to my question.","body":"Yes, it is. This is my structure, I added the screen to my question."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1634052045,"post_id":69530070,"comment_id":122920081,"body_markdown":"Open your Project settings and make sure there&#39;s an SDK set for both the project and the module.","body":"Open your Project settings and make sure there&#39;s an SDK set for both the project and the module."},{"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":0,"creation_date":1634052466,"post_id":69530070,"comment_id":122920271,"body_markdown":"Left click on Esercizio in the project tab and press F4 (or go to: File &gt; Project Structure &gt; Modules). On the right, select the src map, and press alt + s (or click &#39;Sources&#39;) so the source map turns blue. If that doesn&#39;t work, try closing the project, deleting your .iml and .idea and re-open the project, or just create a new one since you seem to be starting a fresh project anyway.","body":"Left click on Esercizio in the project tab and press F4 (or go to: File &gt; Project Structure &gt; Modules). On the right, select the src map, and press alt + s (or click &#39;Sources&#39;) so the source map turns blue. If that doesn&#39;t work, try closing the project, deleting your .iml and .idea and re-open the project, or just create a new one since you seem to be starting a fresh project anyway."},{"owner":{"account_id":13040768,"reputation":28,"user_id":9424234,"display_name":"leobartowski"},"score":0,"creation_date":1636739807,"post_id":69530070,"comment_id":123645778,"body_markdown":"Guys, thanks for the help! The problem was with the directory, oddly IntelliJ doesn&#39;t want &#39;/&#39; in the file name, when I removed it, everything worked perfectly!","body":"Guys, thanks for the help! The problem was with the directory, oddly IntelliJ doesn&#39;t want &#39;/&#39; in the file name, when I removed it, everything worked perfectly!"}],"owner":{"account_id":13040768,"reputation":28,"user_id":9424234,"display_name":"leobartowski"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634051906,"answer_count":0,"score":0,"last_activity_date":1634050834,"creation_date":1633972226,"question_id":69530070,"body_markdown":"[![enter image description here][1]][1]I can&#39;t run any Java application outside the library folder with IntelliJ IDEA. The error I get is as follows:\r\n\r\n```\r\nError: Could not find or load main class Main\r\nCaused by: java.lang.ClassNotFoundException: Main\r\n```\r\n\r\nI&#39;ve tried to update my JDK version but the problem persists.\r\nAny suggestions?\r\n\r\nP.S. If I run `java --version` in the terminal, everything is fine.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vS7v4.png","title":"IntelliJ and Java JDK not working in any directory except Library","body":"<p><a href=\"https://i.stack.imgur.com/vS7v4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vS7v4.png\" alt=\"enter image description here\" /></a>I can't run any Java application outside the library folder with IntelliJ IDEA. The error I get is as follows:</p>\n<pre><code>Error: Could not find or load main class Main\nCaused by: java.lang.ClassNotFoundException: Main\n</code></pre>\n<p>I've tried to update my JDK version but the problem persists.\nAny suggestions?</p>\n<p>P.S. If I run <code>java --version</code> in the terminal, everything is fine.</p>\n"},{"tags":["java","rdp"],"comments":[{"owner":{"account_id":4867663,"reputation":1326,"user_id":3925319,"display_name":"Joe"},"score":0,"creation_date":1634051582,"post_id":69542776,"comment_id":122919885,"body_markdown":"https://code.google.com/archive/p/jrdesktop/\nhttps://github.com/marc-ashman/jrdp","body":"<a href=\"https://code.google.com/archive/p/jrdesktop/\" rel=\"nofollow noreferrer\">code.google.com/archive/p/jrdesktop</a> <a href=\"https://github.com/marc-ashman/jrdp\" rel=\"nofollow noreferrer\">github.com/marc-ashman/jrdp</a>"},{"owner":{"account_id":22740876,"reputation":3,"user_id":17135572,"display_name":"Ivan Sidr"},"score":0,"creation_date":1634053078,"post_id":69542776,"comment_id":122920517,"body_markdown":"Thanks. Have you ever used these libraries?","body":"Thanks. Have you ever used these libraries?"}],"owner":{"account_id":22740876,"reputation":3,"user_id":17135572,"display_name":"Ivan Sidr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634050713,"creation_date":1634050713,"question_id":69542776,"body_markdown":"I have login and password for RDP. I can connect to remote desktop using standard program in Windows. However, what I need is not to connect and see desktop but check whether the login and password pair is valid or not. And I need to realize it using Java. I have idea to use socket and RDP protocol but it is very low level for me. I need some ready realization over these (library). I hope I explicitly explain my problem.","title":"How to make RDP authentication using Java?","body":"<p>I have login and password for RDP. I can connect to remote desktop using standard program in Windows. However, what I need is not to connect and see desktop but check whether the login and password pair is valid or not. And I need to realize it using Java. I have idea to use socket and RDP protocol but it is very low level for me. I need some ready realization over these (library). I hope I explicitly explain my problem.</p>\n"},{"tags":["java","character"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1630154810,"post_id":68964454,"comment_id":121881612,"body_markdown":"Please read: [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"},{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":2,"creation_date":1630154945,"post_id":68964454,"comment_id":121881641,"body_markdown":"Use the debugger to step through the code line-by-line and you will see why it doesn&#39;t do what you want it to do. The truth is out there.","body":"Use the debugger to step through the code line-by-line and you will see why it doesn&#39;t do what you want it to do. The truth is out there."}],"answers":[{"tags":[],"owner":{"account_id":1084563,"reputation":131,"user_id":1080585,"display_name":"Herbert Marshall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630156391,"creation_date":1630156391,"answer_id":68964696,"question_id":68964454,"body_markdown":"First off your loops need to drop the &lt;= and just use &lt;.  If &#39;i&#39; or &#39;j&#39; is == to a.length() you are out of bounds.\r\n\r\nSecond, your not iterating &#39;j&#39;.  You need to add j++ to the &#39;j&#39; for loop.\r\n\r\nThird, if you both start &#39;i&#39; and &#39;j&#39; at zero, all characters will match to themselves.  You&#39;ll want to start &#39;j&#39; after &#39;i&#39; for every &#39;i&#39; loop.\r\n\r\nFourth, you cannot return a single value and expect two results: &#39;u&#39; and &#39;e&#39;. \r\n Unless you return a Collection ( or return the string value of a Collection ).\r\n\r\nYou should add some prints to the loop to debug what&#39;s actually happening.  The print outs can be removed once you understand the loop.\r\n\r\nFinal note, a little white space goes along way for readability.\r\n\r\n    public static String trial( String a ) {\r\n\t    Set&lt;Character&gt; dups = new HashSet&lt;&gt;();\r\n\t\r\n\t    for ( int i = 0; i &lt; a.length(); i++ ) {\r\n\t\t\r\n\t\t    for( int j = i + 1; j &lt; a.length(); j++ ) {\r\n\r\n\t\t\t    System.out.println( &quot;i: &quot; + i + &quot; / &quot; + a.charAt( i ) + &quot;; j: &quot; + j + &quot; / &quot; + a.charAt( j ) );\r\n\r\n\t\t\t    if( a.charAt( i ) == a.charAt( j ) )\r\n\t\t\t\t    dups.add( a.charAt( i ) );\r\n\r\n\t\t    }\r\n\r\n\t    }\r\n\t    return dups.toString();\r\n    }\r\n","title":"How to find duplicated characters","body":"<p>First off your loops need to drop the &lt;= and just use &lt;.  If 'i' or 'j' is == to a.length() you are out of bounds.</p>\n<p>Second, your not iterating 'j'.  You need to add j++ to the 'j' for loop.</p>\n<p>Third, if you both start 'i' and 'j' at zero, all characters will match to themselves.  You'll want to start 'j' after 'i' for every 'i' loop.</p>\n<p>Fourth, you cannot return a single value and expect two results: 'u' and 'e'.\nUnless you return a Collection ( or return the string value of a Collection ).</p>\n<p>You should add some prints to the loop to debug what's actually happening.  The print outs can be removed once you understand the loop.</p>\n<p>Final note, a little white space goes along way for readability.</p>\n<pre><code>public static String trial( String a ) {\n    Set&lt;Character&gt; dups = new HashSet&lt;&gt;();\n\n    for ( int i = 0; i &lt; a.length(); i++ ) {\n    \n        for( int j = i + 1; j &lt; a.length(); j++ ) {\n\n            System.out.println( &quot;i: &quot; + i + &quot; / &quot; + a.charAt( i ) + &quot;; j: &quot; + j + &quot; / &quot; + a.charAt( j ) );\n\n            if( a.charAt( i ) == a.charAt( j ) )\n                dups.add( a.charAt( i ) );\n\n        }\n\n    }\n    return dups.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":22382038,"reputation":11,"user_id":16595467,"display_name":"Sude Şahin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634050710,"creation_date":1630154481,"question_id":68964454,"body_markdown":"My program returns the wrong answer, that is 0, so how can I fix it? It was written in Java. Duplicated characters in the string question. It must be &quot;u&quot; and &quot;e&quot;, could you please help me fix this?\r\n\r\n    package sude;\r\n\r\n    public class deneme {\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(trial(&quot;suuudeeeee&quot;));\r\n\r\n        }\r\n\r\n        public static String trial(String a) {\r\n            for (int i=0; i&lt;=a.length(); i++) {\r\n\t            for(int j=0;j&lt;=a.length();) {\r\n\t\t            if(a.charAt(i)==a.charAt(j)) {\r\n\t\t\t            return Integer.toString(j);\r\n\t\t            }\r\n\t\t            else {\r\n\t\t\t            return &quot;There is no duplicate&quot;;\r\n\t\t            }\r\n\t\t\r\n\t            }\r\n\t\r\n            }\r\n            return a;\r\n\t\r\n        }\r\n\t}\r\n\r\n\r\n\r\n   ","title":"How to find duplicated characters","body":"<p>My program returns the wrong answer, that is 0, so how can I fix it? It was written in Java. Duplicated characters in the string question. It must be &quot;u&quot; and &quot;e&quot;, could you please help me fix this?</p>\n<pre><code>package sude;\n\npublic class deneme {\n\n    public static void main(String[] args) {\n        System.out.println(trial(&quot;suuudeeeee&quot;));\n\n    }\n\n    public static String trial(String a) {\n        for (int i=0; i&lt;=a.length(); i++) {\n            for(int j=0;j&lt;=a.length();) {\n                if(a.charAt(i)==a.charAt(j)) {\n                    return Integer.toString(j);\n                }\n                else {\n                    return &quot;There is no duplicate&quot;;\n                }\n    \n            }\n\n        }\n        return a;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","caching"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1630271758,"post_id":68976739,"comment_id":121905079,"body_markdown":"Since all three methods return different results, we should use pairwise different hashing-keys. Otherwise, depending on how the cache is defined, a result of one call might be returned as the result of another call.","body":"Since all three methods return different results, we should use pairwise different hashing-keys. Otherwise, depending on how the cache is defined, a result of one call might be returned as the result of another call."}],"answers":[{"tags":[],"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1630310256,"creation_date":1630310256,"answer_id":68980665,"question_id":68976739,"body_markdown":"In case you use one cache, you need to have separate keys. One approach you could do:\r\n\r\n```\r\n@Cacheable(value=&quot;dishdto&quot;, key=&quot;-1&quot;)\r\npublic List&lt;DishResponseDTO&gt; getAllToday();\r\n\r\n@Cacheable(value=&quot;dishdto&quot;, key=&quot;-2&quot;);\r\npublic List&lt;DishResponseDTO&gt; getAll();\r\n\r\n@Cacheable(&quot;dishdto&quot;)\r\npublic List&lt;DishResponseDTO&gt; getDishHistoryByRestaurant(int restaurantId);\r\n```\r\n\r\nThis uses integer keys and expects that the `restaurantId` will not get negative.\r\n\r\nYour question has a lot more aspects to it:\r\n\r\n- Caching queries\r\n- List results\r\n- Time dependent results\r\n- Reporting on movable data, in general\r\n\r\nDesign problems:\r\n\r\nYour current design holds duplicate data in the cache and memory, because all three method results might contain the same dish. \r\n\r\nSince its moving data you need to update the cache often, e.g. by setting an expiry parameter (or TTL) on the cache of 5 minutes. This means you will reread the same dish data, although it will probably not change any more. This can be solved by a cache within the repository or databse. Still, you generate the DTO for the same data entry many times.\r\n\r\nIf things get to evasive, its better to separate the cache for dish dto objects and query results.\r\n","title":"How to cache methods that return the same list of objects, but based on different conditions?","body":"<p>In case you use one cache, you need to have separate keys. One approach you could do:</p>\n<pre><code>@Cacheable(value=&quot;dishdto&quot;, key=&quot;-1&quot;)\npublic List&lt;DishResponseDTO&gt; getAllToday();\n\n@Cacheable(value=&quot;dishdto&quot;, key=&quot;-2&quot;);\npublic List&lt;DishResponseDTO&gt; getAll();\n\n@Cacheable(&quot;dishdto&quot;)\npublic List&lt;DishResponseDTO&gt; getDishHistoryByRestaurant(int restaurantId);\n</code></pre>\n<p>This uses integer keys and expects that the <code>restaurantId</code> will not get negative.</p>\n<p>Your question has a lot more aspects to it:</p>\n<ul>\n<li>Caching queries</li>\n<li>List results</li>\n<li>Time dependent results</li>\n<li>Reporting on movable data, in general</li>\n</ul>\n<p>Design problems:</p>\n<p>Your current design holds duplicate data in the cache and memory, because all three method results might contain the same dish.</p>\n<p>Since its moving data you need to update the cache often, e.g. by setting an expiry parameter (or TTL) on the cache of 5 minutes. This means you will reread the same dish data, although it will probably not change any more. This can be solved by a cache within the repository or databse. Still, you generate the DTO for the same data entry many times.</p>\n<p>If things get to evasive, its better to separate the cache for dish dto objects and query results.</p>\n"}],"owner":{"display_name":"user16722881"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68980665,"answer_count":1,"score":1,"last_activity_date":1634050690,"creation_date":1630269725,"question_id":68976739,"body_markdown":"For example, I have 3 methods. All return data from the same repository and convert it to DTO. \r\n\r\nHow should I annotate them? \r\n\r\nWould it be ok to annotate all three with the same `@Cacheable(&quot;Dishes_DTO&quot;)`? And what will happen when one of the methods executes after another, will it override data or make duplicates?\r\n\r\n    public List&lt;DishResponseDTO&gt; getAllToday() {\r\n        List&lt;Dish&gt; dishlsit = dishRepository.getAllByDateAdded(LocalDate.now(clock));\r\n        return dishlsit.stream()\r\n                .map(DishMapper::toDishResponseDTO)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public List&lt;DishResponseDTO&gt; getAll() {\r\n        List&lt;Dish&gt; dishlsit = dishRepository.findAll();\r\n        return dishlsit.stream()\r\n                .map(DishMapper::toDishResponseDTO)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public List&lt;DishResponseDTO&gt; getDishHistoryByRestaurant(int restaurantId) {\r\n        return dishRepository.getAllByRestaurantId(restaurantId)\r\n                .stream()\r\n                .map(DishMapper::toDishResponseDTO)\r\n                .collect(Collectors.toList());\r\n    }","title":"How to cache methods that return the same list of objects, but based on different conditions?","body":"<p>For example, I have 3 methods. All return data from the same repository and convert it to DTO.</p>\n<p>How should I annotate them?</p>\n<p>Would it be ok to annotate all three with the same <code>@Cacheable(&quot;Dishes_DTO&quot;)</code>? And what will happen when one of the methods executes after another, will it override data or make duplicates?</p>\n<pre><code>public List&lt;DishResponseDTO&gt; getAllToday() {\n    List&lt;Dish&gt; dishlsit = dishRepository.getAllByDateAdded(LocalDate.now(clock));\n    return dishlsit.stream()\n            .map(DishMapper::toDishResponseDTO)\n            .collect(Collectors.toList());\n}\n\npublic List&lt;DishResponseDTO&gt; getAll() {\n    List&lt;Dish&gt; dishlsit = dishRepository.findAll();\n    return dishlsit.stream()\n            .map(DishMapper::toDishResponseDTO)\n            .collect(Collectors.toList());\n}\n\npublic List&lt;DishResponseDTO&gt; getDishHistoryByRestaurant(int restaurantId) {\n    return dishRepository.getAllByRestaurantId(restaurantId)\n            .stream()\n            .map(DishMapper::toDishResponseDTO)\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":["java","sap-commerce-cloud","b2b"],"answers":[{"tags":[],"owner":{"account_id":17606881,"reputation":986,"user_id":12775757,"display_name":"Neil Hubert-Price"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634046119,"creation_date":1634046119,"answer_id":69541638,"question_id":69541378,"body_markdown":"No.  AnonymousUser is the non-authenticated user that just picks up generic site default settings.  B2BCustomer is about specific individuals linked to specific B2BUnit (account structure) records, there is no &#39;generic&#39; B2B user concept.","title":"Can a B2B customer ever be anonymous in Hybris?","body":"<p>No.  AnonymousUser is the non-authenticated user that just picks up generic site default settings.  B2BCustomer is about specific individuals linked to specific B2BUnit (account structure) records, there is no 'generic' B2B user concept.</p>\n"},{"tags":[],"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634050592,"creation_date":1634050592,"answer_id":69542741,"question_id":69541378,"body_markdown":"No, it can&#39;t. \r\n\r\nIf you check in Backoffice, under Customers node, you can find an `anonymous` instance, and its type is Customer (if you check in Administration tab).\r\n\r\nB2BCustomer is a subtype of Customer, and they share the same unique attribute: uid. So, you can&#39;t have another B2BCustomer instance whose uid is also `anonymous`.","title":"Can a B2B customer ever be anonymous in Hybris?","body":"<p>No, it can't.</p>\n<p>If you check in Backoffice, under Customers node, you can find an <code>anonymous</code> instance, and its type is Customer (if you check in Administration tab).</p>\n<p>B2BCustomer is a subtype of Customer, and they share the same unique attribute: uid. So, you can't have another B2BCustomer instance whose uid is also <code>anonymous</code>.</p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69542741,"answer_count":2,"score":2,"last_activity_date":1634050592,"creation_date":1634045007,"question_id":69541378,"body_markdown":"Is there any scenario where the B2B customer can be anonymous as well in Hybris?\r\n\r\nThe method:\r\n\r\n    public CustomerModel getAnonymousUser() {\r\n        return (CustomerModel)this.getSessionService().executeInLocalView(new SessionExecutionBody() {\r\n            public Object execute() {\r\n                DefaultUserService.this.searchRestrictionService.disableSearchRestrictions();\r\n                return DefaultUserService.this.getUserForUID(UserConstants.ANONYMOUS_CUSTOMER_UID, CustomerModel.class);\r\n            }\r\n        });\r\n    }\r\n\r\nin `DefaultUserService.java` suggests that the anonymous user will be of type `Customer`.\r\n\r\nIs there any scenario where it can be of type `B2BCustomer`?\r\n","title":"Can a B2B customer ever be anonymous in Hybris?","body":"<p>Is there any scenario where the B2B customer can be anonymous as well in Hybris?</p>\n<p>The method:</p>\n<pre><code>public CustomerModel getAnonymousUser() {\n    return (CustomerModel)this.getSessionService().executeInLocalView(new SessionExecutionBody() {\n        public Object execute() {\n            DefaultUserService.this.searchRestrictionService.disableSearchRestrictions();\n            return DefaultUserService.this.getUserForUID(UserConstants.ANONYMOUS_CUSTOMER_UID, CustomerModel.class);\n        }\n    });\n}\n</code></pre>\n<p>in <code>DefaultUserService.java</code> suggests that the anonymous user will be of type <code>Customer</code>.</p>\n<p>Is there any scenario where it can be of type <code>B2BCustomer</code>?</p>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1634049123,"post_id":69542095,"comment_id":122918760,"body_markdown":"Please note: in programming, every character you put in your code, you have to understand what they mean. You have plenty of strange (copy / paste?) errors like doing the same `if (distance &gt; 2000)` twice in a row. Thing is: dont do that. Understand every line in your code, and dont just copying/modifying code on the fly!","body":"Please note: in programming, every character you put in your code, you have to understand what they mean. You have plenty of strange (copy / paste?) errors like doing the same <code>if (distance &gt; 2000)</code> twice in a row. Thing is: dont do that. Understand every line in your code, and dont just copying/modifying code on the fly!"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634048926,"creation_date":1634048926,"answer_id":69542336,"question_id":69542095,"body_markdown":"First\r\n\r\n    if (weight &lt;0 || weight &lt;=3)\r\n\r\nshould be\r\n \r\n    if (0 &lt; weight &amp;&amp; weight &lt;=3)\r\n\r\nHowever the code should be easier to maintain, use a table of limits:\r\n\r\n    double[][] weightsAndCharges = {\r\n        {3, 1.00},\r\n        {6, 2.00},\r\n        {10, 3.00},\r\n        {20, 4.00},\r\n        {30, 5.00}\r\n    };\r\n\r\n    double charge = 10.00;\r\n    for (double[] weightAndCharge : weightAndCharges) {\r\n        if (weight &lt;= weightAndCharge[0]) {\r\n            charge = weightAndCharge[1];\r\n            break;\r\n        }\r\n    }\r\n    System.out.printf(&quot;The cost to ship the package is: $%0.2f%n&quot;, charge*distanceRatio);\r\n","title":"Is there a code on java that allows for two if statements with one independent statement for Shipping Charges?","body":"<p>First</p>\n<pre><code>if (weight &lt;0 || weight &lt;=3)\n</code></pre>\n<p>should be</p>\n<pre><code>if (0 &lt; weight &amp;&amp; weight &lt;=3)\n</code></pre>\n<p>However the code should be easier to maintain, use a table of limits:</p>\n<pre><code>double[][] weightsAndCharges = {\n    {3, 1.00},\n    {6, 2.00},\n    {10, 3.00},\n    {20, 4.00},\n    {30, 5.00}\n};\n\ndouble charge = 10.00;\nfor (double[] weightAndCharge : weightAndCharges) {\n    if (weight &lt;= weightAndCharge[0]) {\n        charge = weightAndCharge[1];\n        break;\n    }\n}\nSystem.out.printf(&quot;The cost to ship the package is: $%0.2f%n&quot;, charge*distanceRatio);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634049224,"creation_date":1634049224,"answer_id":69542403,"question_id":69542095,"body_markdown":"The answer is some basic math.\r\n\r\nWhat you are thinking of is a combinatorial explosion: If you layer a whole batch of `if`/`elseif` statements inside each of your weight `if` statements for e.g. `if (miles &lt; 200) ... else if (miles &gt;= 200 &amp;&amp; miles &lt; 400)` - then think of it in dimensions: You have the &#39;miles&#39; dimension which currently is adding 10 options (1-200, 200-399, 400-599, etc), the weight dimension which adds 5.\r\n\r\nThe amount of ifs you&#39;d need here is then A*B: 50 ifs.\r\n\r\nThat&#39;s a ton, and clearly not what you want.\r\n\r\nMath to the rescue!\r\n\r\nYou really just want to calculate `costPerSegment * segments`.\r\n\r\nCalculate those 2 values individually, and now it&#39;s just A + B: 15 ifs. Given that you can actually use math itself to turn the miles number into the # of segments you need to charge (it&#39;s just division by 200 for the miles part, no lookup table involved), we&#39;re down to 5 ifs.\r\n\r\nNote also your code is buggy. Your weight `if` statement have their `&gt;` and `&lt;` reversed. But the `else if` hides the problem. I fixed that problem in the snippet below.\r\n\r\n```\r\ndouble costPerSegment;\r\n\r\nif (weight &lt;=3) {\r\n  costPerSegment = 1.0;\r\n} else if (weight &lt;= 6) {\r\n  costPerSegment = 2.0;\r\n} else if (weight &lt;= 10) {\r\n  costPerSegment = 3.0;\r\n} else if (weight &lt;= 20) {\r\n  costPerSegment = 4.0;\r\n} else {\r\n  costPerSegment = 5.0;\r\n}\r\n\r\n// Casting a positive double to an int automatically rounds down.\r\nint segments = (int) miles / 200;\r\n\r\ndouble cost = costPerSegment * segments;\r\n```\r\n","title":"Is there a code on java that allows for two if statements with one independent statement for Shipping Charges?","body":"<p>The answer is some basic math.</p>\n<p>What you are thinking of is a combinatorial explosion: If you layer a whole batch of <code>if</code>/<code>elseif</code> statements inside each of your weight <code>if</code> statements for e.g. <code>if (miles &lt; 200) ... else if (miles &gt;= 200 &amp;&amp; miles &lt; 400)</code> - then think of it in dimensions: You have the 'miles' dimension which currently is adding 10 options (1-200, 200-399, 400-599, etc), the weight dimension which adds 5.</p>\n<p>The amount of ifs you'd need here is then A*B: 50 ifs.</p>\n<p>That's a ton, and clearly not what you want.</p>\n<p>Math to the rescue!</p>\n<p>You really just want to calculate <code>costPerSegment * segments</code>.</p>\n<p>Calculate those 2 values individually, and now it's just A + B: 15 ifs. Given that you can actually use math itself to turn the miles number into the # of segments you need to charge (it's just division by 200 for the miles part, no lookup table involved), we're down to 5 ifs.</p>\n<p>Note also your code is buggy. Your weight <code>if</code> statement have their <code>&gt;</code> and <code>&lt;</code> reversed. But the <code>else if</code> hides the problem. I fixed that problem in the snippet below.</p>\n<pre><code>double costPerSegment;\n\nif (weight &lt;=3) {\n  costPerSegment = 1.0;\n} else if (weight &lt;= 6) {\n  costPerSegment = 2.0;\n} else if (weight &lt;= 10) {\n  costPerSegment = 3.0;\n} else if (weight &lt;= 20) {\n  costPerSegment = 4.0;\n} else {\n  costPerSegment = 5.0;\n}\n\n// Casting a positive double to an int automatically rounds down.\nint segments = (int) miles / 200;\n\ndouble cost = costPerSegment * segments;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18346297,"reputation":71,"user_id":13361428,"display_name":"Attila Bischof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634049468,"creation_date":1634049468,"answer_id":69542473,"question_id":69542095,"body_markdown":"The weight is missing from your example.\r\nit sounds like in your example you have:\r\n* distance 1001\r\n* weight between 6 and 10, resulting in a $3 charge per &quot;beginning 200 miles&quot;\r\n\r\nFrom your code, 15.015 gets returned.\r\n\r\nIt appears you want to calculate the &quot;beginning 200 miles&quot;, so you could achieve that by rounding up:\r\n\r\n    costWithoutCharge = Math.ceil( distance / 200 );\r\n\r\nOn another note, you may want to remove the common parts from your if/then/else block. That is, only perform the calculation but not the System.out.println inside each clause.","title":"Is there a code on java that allows for two if statements with one independent statement for Shipping Charges?","body":"<p>The weight is missing from your example.\nit sounds like in your example you have:</p>\n<ul>\n<li>distance 1001</li>\n<li>weight between 6 and 10, resulting in a $3 charge per &quot;beginning 200 miles&quot;</li>\n</ul>\n<p>From your code, 15.015 gets returned.</p>\n<p>It appears you want to calculate the &quot;beginning 200 miles&quot;, so you could achieve that by rounding up:</p>\n<pre><code>costWithoutCharge = Math.ceil( distance / 200 );\n</code></pre>\n<p>On another note, you may want to remove the common parts from your if/then/else block. That is, only perform the calculation but not the System.out.println inside each clause.</p>\n"},{"tags":[],"owner":{"account_id":12319244,"reputation":92,"user_id":8988922,"display_name":"feshout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634049740,"creation_date":1634049740,"answer_id":69542543,"question_id":69542095,"body_markdown":"This line is causing the problem for input distance 1001\r\n\r\n`costWithoutCharge = distance / 200; // result = 5,005`\r\n\r\nAs far as I understood you want to have here just 5\r\n\r\nSo the simpliest solution would be to declare costWithoutCharge as int\r\nand than \r\n\r\n`costWithoutCharge = (int) distance / 200; // result = 5`\r\n\r\nOr if you want to keep costWithoutCharge as double you can use Math lib to round it\r\n\r\n`costWithoutCharge = Math.round(distance / 200); // result = 5`\r\n\r\n","title":"Is there a code on java that allows for two if statements with one independent statement for Shipping Charges?","body":"<p>This line is causing the problem for input distance 1001</p>\n<p><code>costWithoutCharge = distance / 200; // result = 5,005</code></p>\n<p>As far as I understood you want to have here just 5</p>\n<p>So the simpliest solution would be to declare costWithoutCharge as int\nand than</p>\n<p><code>costWithoutCharge = (int) distance / 200; // result = 5</code></p>\n<p>Or if you want to keep costWithoutCharge as double you can use Math lib to round it</p>\n<p><code>costWithoutCharge = Math.round(distance / 200); // result = 5</code></p>\n"}],"owner":{"account_id":23009792,"reputation":3,"user_id":17132472,"display_name":"Ritchell B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":69542473,"answer_count":4,"score":-3,"last_activity_date":1634050450,"creation_date":1634047859,"question_id":69542095,"body_markdown":"I am very new to java and have been stuck on a program that I&#39;ve been trying to create. For background knowledge purposes, the program is for a company called &quot;Ship It&quot; which is a package shipping company. The user enters the weight of the package, and the distance it will travel. Depending on the weight, the company charges a fee **per 200 miles.** \r\n\r\n0 &lt; weight &lt;= 3 pounds\t$1.00 charge\r\n\r\n3 &lt; weight &lt;= 6 pounds\t$2.00 charge\r\n\r\n6 &lt; weight &lt;= 10 pounds\t$3.00 charge\r\n\r\n10 &lt; weight &lt;= 20 pounds  $4.00 charge\r\n\r\n20 &lt; weight &lt;= 30 pounds  $5.00 charge\r\n\r\nSo far, this is the code I have: \r\n\r\n\tpublic static void main(String[] args) \r\n\t{\t\r\n\t\tScanner kb = new Scanner (System.in);\r\n\t\t\r\n\t\t//Variables\r\n\t\tdouble costWithoutCharge = 0, weight, distance = 0;\r\n\t\t\r\n\t\t//Introduction to ShipIt\r\n\t\tSystem.out.print(&quot;\\t\\t******Welcome to ShipIt******\\n&quot;);\r\n\t\tSystem.out.print(&quot;***We are a low-charge, secure shipping company for packages&quot; +\r\n\t\t\t\t\t\t\t&quot;up to 30 pounds***&quot;);\r\n\t\r\n\t\t//User Enters Weight of Package\r\n\t\tSystem.out.print(&quot;\\n\\nEnter the weight of the package (1.0 - 30.0 pounds): &quot;);\r\n\t\tweight = kb.nextDouble();\r\n\t\tSystem.out.print(&quot;&quot;);\r\n\t\t\r\n\r\n\t\t// User Enters distance the package will travel\r\n\t\tSystem.out.print(&quot;Enter the miles to the destination (1 - 2000 miles): &quot;);\r\n\t\tdistance = kb.nextInt();\r\n\t\tSystem.out.print(&quot;&quot;);\r\n\t\t\r\n\t\t//Weight If-else Statement\r\n\t\tif (weight &gt;30.0)\r\n\t\t\tSystem.out.println (&quot;\\nSorry, you have entered invalid data - program terminated&quot;);\r\n\t\tif (weight &gt;30.0)\r\n\t\t\tSystem.exit((int) weight);\r\n\t\t\r\n\t\t//Distance Restriction if-else\r\n\t\tif (distance &gt;2000)\r\n\t\t\tSystem.out.println (&quot;\\nSorry, you have entered invalid data - program terminated&quot;);\r\n\t\tif (distance &gt;2000)\r\n\t\t\tSystem.exit((int) distance);\t\r\n\t\t\r\n\t\tcostWithoutCharge = distance / 200;\r\n\t\t\r\n\t\t//If else \r\n\t\tif (weight &lt;0 || weight &lt;=3)\r\n\t    {\r\n\t        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*1.00);\r\n\t    }\r\n\r\n\t\telse if (weight &lt;3 || weight &lt;= 6)\r\n\t    {\r\n\t        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*2.00);\r\n\t    }\r\n\r\n\t\telse if (weight &lt;6 || weight &lt;= 10)\r\n\t    {\r\n\t        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*3.00);\r\n\t    }\r\n\r\n\t\telse if (weight &lt;10 || weight &lt;= 20)\r\n\t    {\r\n\t        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*4.00);\r\n\t    }\r\n\t\telse {\r\n\t        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*5.00);\r\n\t    }\r\n\r\n\t\tkb.close();\r\n\r\n\t}\r\n\r\n}\r\n\r\nAs of now, if I put a value like 1001, the cost to ship is $15.015, but it should be $18 since the charge is multiplied per 200 miles. I am on the fence if I need to do a new equation for the charge per 200 miles dilemma or if it can be supported with another if-statement?\r\n\r\nI feel as though I have tried everything but I can&#39;t seem to solve this ): I am in dire need of help! Please!","title":"Is there a code on java that allows for two if statements with one independent statement for Shipping Charges?","body":"<p>I am very new to java and have been stuck on a program that I've been trying to create. For background knowledge purposes, the program is for a company called &quot;Ship It&quot; which is a package shipping company. The user enters the weight of the package, and the distance it will travel. Depending on the weight, the company charges a fee <strong>per 200 miles.</strong></p>\n<p>0 &lt; weight &lt;= 3 pounds  $1.00 charge</p>\n<p>3 &lt; weight &lt;= 6 pounds  $2.00 charge</p>\n<p>6 &lt; weight &lt;= 10 pounds $3.00 charge</p>\n<p>10 &lt; weight &lt;= 20 pounds  $4.00 charge</p>\n<p>20 &lt; weight &lt;= 30 pounds  $5.00 charge</p>\n<p>So far, this is the code I have:</p>\n<pre><code>public static void main(String[] args) \n{   \n    Scanner kb = new Scanner (System.in);\n    \n    //Variables\n    double costWithoutCharge = 0, weight, distance = 0;\n    \n    //Introduction to ShipIt\n    System.out.print(&quot;\\t\\t******Welcome to ShipIt******\\n&quot;);\n    System.out.print(&quot;***We are a low-charge, secure shipping company for packages&quot; +\n                        &quot;up to 30 pounds***&quot;);\n\n    //User Enters Weight of Package\n    System.out.print(&quot;\\n\\nEnter the weight of the package (1.0 - 30.0 pounds): &quot;);\n    weight = kb.nextDouble();\n    System.out.print(&quot;&quot;);\n    \n\n    // User Enters distance the package will travel\n    System.out.print(&quot;Enter the miles to the destination (1 - 2000 miles): &quot;);\n    distance = kb.nextInt();\n    System.out.print(&quot;&quot;);\n    \n    //Weight If-else Statement\n    if (weight &gt;30.0)\n        System.out.println (&quot;\\nSorry, you have entered invalid data - program terminated&quot;);\n    if (weight &gt;30.0)\n        System.exit((int) weight);\n    \n    //Distance Restriction if-else\n    if (distance &gt;2000)\n        System.out.println (&quot;\\nSorry, you have entered invalid data - program terminated&quot;);\n    if (distance &gt;2000)\n        System.exit((int) distance);    \n    \n    costWithoutCharge = distance / 200;\n    \n    //If else \n    if (weight &lt;0 || weight &lt;=3)\n    {\n        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*1.00);\n    }\n\n    else if (weight &lt;3 || weight &lt;= 6)\n    {\n        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*2.00);\n    }\n\n    else if (weight &lt;6 || weight &lt;= 10)\n    {\n        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*3.00);\n    }\n\n    else if (weight &lt;10 || weight &lt;= 20)\n    {\n        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*4.00);\n    }\n    else {\n        System.out.println (&quot;The cost to ship the package is: &quot;+ &quot;$&quot; + (costWithoutCharge)*5.00);\n    }\n\n    kb.close();\n\n}\n</code></pre>\n<p>}</p>\n<p>As of now, if I put a value like 1001, the cost to ship is $15.015, but it should be $18 since the charge is multiplied per 200 miles. I am on the fence if I need to do a new equation for the charge per 200 miles dilemma or if it can be supported with another if-statement?</p>\n<p>I feel as though I have tried everything but I can't seem to solve this ): I am in dire need of help! Please!</p>\n"},{"tags":["java","intellij-idea","jar","graalvm","graaljs"],"answers":[{"tags":[],"owner":{"account_id":12535565,"reputation":160,"user_id":9122337,"display_name":"Mihai Fumarel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634050396,"creation_date":1634050396,"answer_id":69542685,"question_id":69540452,"body_markdown":"The following link answered my question: https://github.com/oracle/graaljs/issues/125\r\n\r\nTurns out that during the .jar packaging process, the PolyglotLanguage entries for REGEX and Javascript get overwritten somehow. This means that you have to create a file inside your .jar at `META-INF/truffle/language` and add the contents from the answer. Note, for me the contents from the github link didn&#39;t *quite* work. I needed to change them to\r\n\r\n    #https://github.com/graalvm/graaljs/issues/125\r\n\r\n    language2.characterMimeType.0=application/javascript\r\n    language2.characterMimeType.1=application/javascript+module\r\n    language2.characterMimeType.2=text/javascript\r\n    language2.className=com.oracle.truffle.js.lang.JavaScriptLanguage\r\n    language2.defaultMimeType=application/javascript\r\n    language2.dependentLanguage.0=regex\r\n    language2.fileTypeDetector0=com.oracle.truffle.js.lang.JSFileTypeDetector\r\n    language2.id=js\r\n    language2.implementationName=GraalVM JavaScript\r\n    language2.interactive=true\r\n    language2.internal=false\r\n    language2.name=JavaScript\r\n    language2.version=inherit","title":"GraalJS - Cannot build ScriptEngine from jar","body":"<p>The following link answered my question: <a href=\"https://github.com/oracle/graaljs/issues/125\" rel=\"nofollow noreferrer\">https://github.com/oracle/graaljs/issues/125</a></p>\n<p>Turns out that during the .jar packaging process, the PolyglotLanguage entries for REGEX and Javascript get overwritten somehow. This means that you have to create a file inside your .jar at <code>META-INF/truffle/language</code> and add the contents from the answer. Note, for me the contents from the github link didn't <em>quite</em> work. I needed to change them to</p>\n<pre><code>#https://github.com/graalvm/graaljs/issues/125\n\nlanguage2.characterMimeType.0=application/javascript\nlanguage2.characterMimeType.1=application/javascript+module\nlanguage2.characterMimeType.2=text/javascript\nlanguage2.className=com.oracle.truffle.js.lang.JavaScriptLanguage\nlanguage2.defaultMimeType=application/javascript\nlanguage2.dependentLanguage.0=regex\nlanguage2.fileTypeDetector0=com.oracle.truffle.js.lang.JSFileTypeDetector\nlanguage2.id=js\nlanguage2.implementationName=GraalVM JavaScript\nlanguage2.interactive=true\nlanguage2.internal=false\nlanguage2.name=JavaScript\nlanguage2.version=inherit\n</code></pre>\n"}],"owner":{"account_id":12535565,"reputation":160,"user_id":9122337,"display_name":"Mihai Fumarel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69542685,"answer_count":1,"score":0,"last_activity_date":1634050396,"creation_date":1634041248,"question_id":69540452,"body_markdown":"I&#39;m stuck with a problem involving GraalJS. I&#39;m trying to use it as my JavaScript backend. It works flawlessly while I run in from IntelliJ, but as soon as I export a runnable .jar, it stops working. I&#39;ve been debugging this issue for a few days now, below are my findings. \r\n\r\nShould be mentioned that I generate my runnable .jar by making use of a gradle command that comes packaged with libGdx called desktop:dist. \r\n\r\nFirst, these are the dependencies that I use\r\n\r\n    // GraalVM\r\n        compile group: &#39;org.graalvm.js&#39;, name: &#39;js&#39;, version: &#39;20.2.0&#39;\r\n        compile group: &#39;org.graalvm.js&#39;, name: &#39;js-scriptengine&#39;, version: &#39;20.2.0&#39;\r\n        compile group: &#39;org.graalvm.sdk&#39;, name: &#39;graal-sdk&#39;, version: &#39;20.2.0&#39;\r\n        compile group: &#39;org.graalvm.truffle&#39;, name: &#39;truffle-api&#39;, version: &#39;20.2.0&#39;\r\n        implementation &#39;com.ibm.icu:icu4j:51.1&#39;\r\n\r\nThis is how I build my ScriptEngine\r\n\r\n    private fun getGraalEngine() = GraalJSScriptEngine.create(\r\n        Engine.newBuilder()\r\n            .allowExperimentalOptions(false)\r\n            .useSystemProperties(false)\r\n            .build(),\r\n        Context.newBuilder(&quot;js&quot;)\r\n            .allowHostAccess(HostAccess.ALL)\r\n            .allowHostClassLookup { true }\r\n            .allowAllAccess(true))\r\n\r\nNow, when I run the program from the .jar, I get this exception:\r\n\r\n    java.lang.IllegalArgumentException: Could not find option with name js.script-engine-global-scope-import.\r\n        at com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:128)\r\n        at com.oracle.truffle.polyglot.OptionValuesImpl.failNotFound(OptionValuesImpl.java:283)\r\n        at com.oracle.truffle.polyglot.PolyglotContextConfig.findLanguageForOption(PolyglotContextConfig.java:239)\r\n        at com.oracle.truffle.polyglot.PolyglotContextConfig.&lt;init&gt;(PolyglotContextConfig.java:129)\r\n        at com.oracle.truffle.polyglot.PolyglotEngineImpl.createContext(PolyglotEngineImpl.java:1434)\r\n        at org.graalvm.polyglot.Context$Builder.build(Context.java:1598)\r\n\r\nAfter some debugging, I came to the conlusion that this happens when `PolyglotContextConfig` tries to find a `PolyglotLanguage` for the optionName `js`. Turns out that this is the difference between IntelliJ and running from a runnable .jar. IntelliJ contains the support for JavaScript `PolyglotLanguage`, while the .jar does not. Here&#39;s what I found\r\n\r\nBy looking at `Engine -&gt; impl -&gt; idToLanguage` (I accessed these package private fields via reflection) I get the following results\r\n\r\nIntellij : \r\n\r\n    id to lang: {regex=PolyglotLanguage [id=regex, name=REGEX, host=false], js=PolyglotLanguage [id=js, name=JavaScript, host=false]}\r\n\r\nRunnable .jar:\r\n\r\n    id to lang: {regex=PolyglotLanguage [id=regex, name=REGEX, host=false]}\r\n\r\nTurns out the support for JavaScript just... misses?\r\nBecause of this, when `PolyglotContextConfig.findLanguageForOption()` tries to match the `js` optionName to the `JavaScript PolyglotLanguage`, the exception occurs. \r\n\r\nI&#39;m not sure how to proceed or why this could be happening. Perhaps something regarding classloaders? Either way, any help would be greately appreciated","title":"GraalJS - Cannot build ScriptEngine from jar","body":"<p>I'm stuck with a problem involving GraalJS. I'm trying to use it as my JavaScript backend. It works flawlessly while I run in from IntelliJ, but as soon as I export a runnable .jar, it stops working. I've been debugging this issue for a few days now, below are my findings.</p>\n<p>Should be mentioned that I generate my runnable .jar by making use of a gradle command that comes packaged with libGdx called desktop:dist.</p>\n<p>First, these are the dependencies that I use</p>\n<pre><code>// GraalVM\n    compile group: 'org.graalvm.js', name: 'js', version: '20.2.0'\n    compile group: 'org.graalvm.js', name: 'js-scriptengine', version: '20.2.0'\n    compile group: 'org.graalvm.sdk', name: 'graal-sdk', version: '20.2.0'\n    compile group: 'org.graalvm.truffle', name: 'truffle-api', version: '20.2.0'\n    implementation 'com.ibm.icu:icu4j:51.1'\n</code></pre>\n<p>This is how I build my ScriptEngine</p>\n<pre><code>private fun getGraalEngine() = GraalJSScriptEngine.create(\n    Engine.newBuilder()\n        .allowExperimentalOptions(false)\n        .useSystemProperties(false)\n        .build(),\n    Context.newBuilder(&quot;js&quot;)\n        .allowHostAccess(HostAccess.ALL)\n        .allowHostClassLookup { true }\n        .allowAllAccess(true))\n</code></pre>\n<p>Now, when I run the program from the .jar, I get this exception:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not find option with name js.script-engine-global-scope-import.\n    at com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:128)\n    at com.oracle.truffle.polyglot.OptionValuesImpl.failNotFound(OptionValuesImpl.java:283)\n    at com.oracle.truffle.polyglot.PolyglotContextConfig.findLanguageForOption(PolyglotContextConfig.java:239)\n    at com.oracle.truffle.polyglot.PolyglotContextConfig.&lt;init&gt;(PolyglotContextConfig.java:129)\n    at com.oracle.truffle.polyglot.PolyglotEngineImpl.createContext(PolyglotEngineImpl.java:1434)\n    at org.graalvm.polyglot.Context$Builder.build(Context.java:1598)\n</code></pre>\n<p>After some debugging, I came to the conlusion that this happens when <code>PolyglotContextConfig</code> tries to find a <code>PolyglotLanguage</code> for the optionName <code>js</code>. Turns out that this is the difference between IntelliJ and running from a runnable .jar. IntelliJ contains the support for JavaScript <code>PolyglotLanguage</code>, while the .jar does not. Here's what I found</p>\n<p>By looking at <code>Engine -&gt; impl -&gt; idToLanguage</code> (I accessed these package private fields via reflection) I get the following results</p>\n<p>Intellij :</p>\n<pre><code>id to lang: {regex=PolyglotLanguage [id=regex, name=REGEX, host=false], js=PolyglotLanguage [id=js, name=JavaScript, host=false]}\n</code></pre>\n<p>Runnable .jar:</p>\n<pre><code>id to lang: {regex=PolyglotLanguage [id=regex, name=REGEX, host=false]}\n</code></pre>\n<p>Turns out the support for JavaScript just... misses?\nBecause of this, when <code>PolyglotContextConfig.findLanguageForOption()</code> tries to match the <code>js</code> optionName to the <code>JavaScript PolyglotLanguage</code>, the exception occurs.</p>\n<p>I'm not sure how to proceed or why this could be happening. Perhaps something regarding classloaders? Either way, any help would be greately appreciated</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":1798484,"reputation":865,"user_id":1650469,"display_name":"B5A7"},"score":1,"creation_date":1445215201,"post_id":9481651,"comment_id":54214605,"body_markdown":"At least one major difference is the support for time zones - see http://stackoverflow.com/questions/1785725/specify-time-zone-of-log4js-date.","body":"At least one major difference is the support for time zones - see <a href=\"http://stackoverflow.com/questions/1785725/specify-time-zone-of-log4js-date\" title=\"specify time zone of log4js date\">stackoverflow.com/questions/1785725/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":1192841,"reputation":2537,"user_id":1165245,"display_name":"&#199;ağdaş Bozman"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1330436435,"creation_date":1330431570,"answer_id":9481777,"question_id":9481651,"body_markdown":"Check the [documentation][1], everything is explained. `EnhancedPatternLayout` is an enhanced version of `PatternLayout`. It should be used in preference to `PatternLayout` (except for compatibility reason with `PatternLayout`).\r\n\r\n\r\n[PatternLayout][2] contains some issues which are not present in EnhancedPatternLayout especially with synchronisation.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/EnhancedPatternLayout.html\r\n  [2]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html","title":"What are the main differences between EnhancedPatternLayout and PatternLayout?","body":"<p>Check the <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/EnhancedPatternLayout.html\" rel=\"nofollow\">documentation</a>, everything is explained. <code>EnhancedPatternLayout</code> is an enhanced version of <code>PatternLayout</code>. It should be used in preference to <code>PatternLayout</code> (except for compatibility reason with <code>PatternLayout</code>).</p>\n\n<p><a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\" rel=\"nofollow\">PatternLayout</a> contains some issues which are not present in EnhancedPatternLayout especially with synchronisation.</p>\n"},{"tags":[],"owner":{"account_id":3053301,"reputation":306,"user_id":2587450,"accept_rate":83,"display_name":"Akash Goswami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394606362,"creation_date":1394606362,"answer_id":22343818,"question_id":9481651,"body_markdown":"EnhancedPatternLayout formats the result as a StringBuffer whereas PatternLayout formats the result as a String.","title":"What are the main differences between EnhancedPatternLayout and PatternLayout?","body":"<p>EnhancedPatternLayout formats the result as a StringBuffer whereas PatternLayout formats the result as a String.</p>\n"},{"tags":[],"owner":{"account_id":146287,"reputation":3470,"user_id":356645,"display_name":"shams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477804234,"creation_date":1477804234,"answer_id":40326195,"question_id":9481651,"body_markdown":"The main difference between [PatternLayout][1] and [EnhancedPatternLayout][2] is in the format() method. PatternLayout relies on a member field named `sbuf` which it modifies whereas EnhancedPatternLayout uses a private instance of the StringBuffer. This means that PatternLayout.format() calls are susceptible to data races during concurrent calls while concurrent EnhancedPatternLayout.format() calls are not.\r\n\r\n\r\n  [1]: http://www.docjar.org/html/api/org/apache/log4j/PatternLayout.java.html\r\n  [2]: http://www.docjar.org/html/api/org/apache/log4j/EnhancedPatternLayout.java.html","title":"What are the main differences between EnhancedPatternLayout and PatternLayout?","body":"<p>The main difference between <a href=\"http://www.docjar.org/html/api/org/apache/log4j/PatternLayout.java.html\" rel=\"nofollow\">PatternLayout</a> and <a href=\"http://www.docjar.org/html/api/org/apache/log4j/EnhancedPatternLayout.java.html\" rel=\"nofollow\">EnhancedPatternLayout</a> is in the format() method. PatternLayout relies on a member field named <code>sbuf</code> which it modifies whereas EnhancedPatternLayout uses a private instance of the StringBuffer. This means that PatternLayout.format() calls are susceptible to data races during concurrent calls while concurrent EnhancedPatternLayout.format() calls are not.</p>\n"},{"tags":[],"owner":{"account_id":5324742,"reputation":2563,"user_id":4247268,"display_name":"StackzOfZtuff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634049674,"creation_date":1634046061,"answer_id":69541632,"question_id":9481651,"body_markdown":"I did a diff on the two HTML pages.\r\n\r\n* https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\r\n* https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/EnhancedPatternLayout.html\r\n\r\nAnd here are the main differences to me: The intro and two new &quot;conversion character&quot;s: `%properties` and `%throwable`\r\n\r\nI have reformatted the text for readability.\r\n\r\n# 1. Intro\r\n&gt;This class is an enhanced version of `org.apache.log4j.PatternLayout`\r\n which was originally developed as part of the abandoned log4j 1.3\r\n effort and has been available in the extras companion. \r\n&gt;\r\n&gt;This pattern layout should be used in preference to\r\n `org.apache.log4j.PatternLayout` except when compatibility\r\n where `PatternLayout` has been extended either through subclassing\r\n or alternative pattern parsers.\r\n\r\n# 2. `%properties`\r\n&gt;Used to output the Properties associated\r\nwith the logging event.\r\n&gt;\r\n&gt;The &lt;b&gt;properties&lt;/b&gt;\r\nconversion word can be followed by the key for the\r\nmap placed between braces, as in `%properties{application}` where\r\n&lt;code&gt;application&lt;/code&gt; is the key. The value in the Properties bundle\r\ncorresponding to the key will be output. If no additional sub-option\r\nis specified, then the entire contents of the Properties key value pair set\r\nis output using a format `{{key1,val1},{key2,val2}}`\r\n\r\n# 3.`%throwable`\r\n(Reformatted for readability.)\r\n&gt;Used to output the Throwable trace that has been bound to the `LoggingEvent`, by default this will output the full trace as one would normally find by a call to `Throwable.printStackTrace()`.\r\n&gt;\r\n&gt;* `%throwable{short}` or `%throwable{1}` will output the first line of stack trace.\r\n&gt;* `throwable{none}` or `throwable{0}` will suppress the stack trace.\r\n&gt;* `%throwable{n}` will output `n` lines of stack trace if a positive integer or omit the last `-n` lines if a negative integer.\r\n&gt;* If no `%throwable` pattern is specified, the appender will take responsibility to output the stack trace as it sees fit.","title":"What are the main differences between EnhancedPatternLayout and PatternLayout?","body":"<p>I did a diff on the two HTML pages.</p>\n<ul>\n<li><a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html</a></li>\n<li><a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/EnhancedPatternLayout.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/EnhancedPatternLayout.html</a></li>\n</ul>\n<p>And here are the main differences to me: The intro and two new &quot;conversion character&quot;s: <code>%properties</code> and <code>%throwable</code></p>\n<p>I have reformatted the text for readability.</p>\n<h1>1. Intro</h1>\n<blockquote>\n<p>This class is an enhanced version of <code>org.apache.log4j.PatternLayout</code>\nwhich was originally developed as part of the abandoned log4j 1.3\neffort and has been available in the extras companion.</p>\n<p>This pattern layout should be used in preference to\n<code>org.apache.log4j.PatternLayout</code> except when compatibility\nwhere <code>PatternLayout</code> has been extended either through subclassing\nor alternative pattern parsers.</p>\n</blockquote>\n<h1>2. <code>%properties</code></h1>\n<blockquote>\n<p>Used to output the Properties associated\nwith the logging event.</p>\n<p>The <b>properties</b>\nconversion word can be followed by the key for the\nmap placed between braces, as in <code>%properties{application}</code> where\n<code>application</code> is the key. The value in the Properties bundle\ncorresponding to the key will be output. If no additional sub-option\nis specified, then the entire contents of the Properties key value pair set\nis output using a format <code>{{key1,val1},{key2,val2}}</code></p>\n</blockquote>\n<h1>3.<code>%throwable</code></h1>\n<p>(Reformatted for readability.)</p>\n<blockquote>\n<p>Used to output the Throwable trace that has been bound to the <code>LoggingEvent</code>, by default this will output the full trace as one would normally find by a call to <code>Throwable.printStackTrace()</code>.</p>\n<ul>\n<li><code>%throwable{short}</code> or <code>%throwable{1}</code> will output the first line of stack trace.</li>\n<li><code>throwable{none}</code> or <code>throwable{0}</code> will suppress the stack trace.</li>\n<li><code>%throwable{n}</code> will output <code>n</code> lines of stack trace if a positive integer or omit the last <code>-n</code> lines if a negative integer.</li>\n<li>If no <code>%throwable</code> pattern is specified, the appender will take responsibility to output the stack trace as it sees fit.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":60183,"reputation":4029,"user_id":179864,"accept_rate":67,"display_name":"aditsu quit because SE is EVIL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4226,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1634049674,"creation_date":1330431010,"question_id":9481651,"body_markdown":"While checking the javadoc for PatternLayout, I noticed that it recommends using EnhancedPatternLayout instead. However, it seems to do pretty much the same thing.\r\n\r\nWhat are the main differences, especially the ones I need to be aware of?\r\n\r\nI&#39;m also wondering why they made a separate class rather than enhancing the original class. Any syntax differences?","title":"What are the main differences between EnhancedPatternLayout and PatternLayout?","body":"<p>While checking the javadoc for PatternLayout, I noticed that it recommends using EnhancedPatternLayout instead. However, it seems to do pretty much the same thing.</p>\n\n<p>What are the main differences, especially the ones I need to be aware of?</p>\n\n<p>I'm also wondering why they made a separate class rather than enhancing the original class. Any syntax differences?</p>\n"},{"tags":["java","intellij-idea","structural-search"],"answers":[{"tags":[],"owner":{"account_id":38425,"reputation":10968,"user_id":110264,"accept_rate":100,"display_name":"Marquis Wang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634049387,"creation_date":1634049387,"answer_id":69542442,"question_id":69402067,"body_markdown":"I am not an expert on IntelliJ Structural Search, but I suspect this is too much for it (though you could always just run it over and over again until it stops changing things).\r\n\r\nI think this is a job for a tool like [OpenRewrite][1] or similar, which allows you to read the AST and generate new code.\r\n\r\n\r\n  [1]: https://github.com/openrewrite/rewrite","title":"Intellij structural search: find field and corresponding getter (to migrate an annotation)","body":"<p>I am not an expert on IntelliJ Structural Search, but I suspect this is too much for it (though you could always just run it over and over again until it stops changing things).</p>\n<p>I think this is a job for a tool like <a href=\"https://github.com/openrewrite/rewrite\" rel=\"nofollow noreferrer\">OpenRewrite</a> or similar, which allows you to read the AST and generate new code.</p>\n"}],"owner":{"account_id":1509064,"reputation":1842,"user_id":1411628,"accept_rate":100,"display_name":"Alexandre de Champeaux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634049387,"creation_date":1633073305,"question_id":69402067,"body_markdown":"I am trying to migrate an annotation from a field to it&#39;s getter using Intellij&#39;s fancy structural replace:\r\n\r\nFrom:\r\n```\r\nclass MyClass {\r\n   @SomeAnnotation\r\n   private final double a;\r\n   @SomeAnnotation\r\n   private final double b;\r\n\r\n   public double getA() {\r\n       return a;\r\n   }\r\n\r\n   public double getB() {\r\n      return b;\r\n   }\r\n}\r\n```\r\n\r\nTo:\r\n```\r\nclass MyClass {\r\n   private final double a;\r\n   private final double b;\r\n\r\n   @SomeAnnotation\r\n   public double getA() {\r\n       return a;\r\n   }\r\n\r\n   @SomeAnnotation\r\n   public double getB() {\r\n      return b;\r\n   }\r\n}\r\n```\r\n\r\nI am most of the way there with:\r\n\r\nSearch template:\r\n```\r\nclass $Class$ {\r\n    @SomeAnnotation\r\n    private final $type$ $fieldName$;\r\n\r\n    public $type$ $getter$() {\r\n        return $value$;\r\n    }\r\n}\r\n```\r\nReplace template:\r\n```\r\nclass $Class$ {\r\n    private final $type$ $fieldName$;\r\n\r\n    @SomeAnnotation\r\n    public $type$ $getter$() {\r\n        return $value$;\r\n    }\r\n}\r\n```\r\n\r\nThere is also a filter on getter that matches `get.*`, and a Script on the whole template to try to make sure we find the matching getter:\r\n\r\n```\r\nif (getter.name.toLowerCase().contains(fieldName.get(0).name.toLowerCase())) {\r\n    return true;\r\n}\r\nreturn false;\r\n```\r\n\r\nThe problem is that this only matches the first getter, and the script doesn&#39;t get a chance to try with all of them.\r\n\r\nAny way I could alter my search for this to work?\r\n\r\n","title":"Intellij structural search: find field and corresponding getter (to migrate an annotation)","body":"<p>I am trying to migrate an annotation from a field to it's getter using Intellij's fancy structural replace:</p>\n<p>From:</p>\n<pre><code>class MyClass {\n   @SomeAnnotation\n   private final double a;\n   @SomeAnnotation\n   private final double b;\n\n   public double getA() {\n       return a;\n   }\n\n   public double getB() {\n      return b;\n   }\n}\n</code></pre>\n<p>To:</p>\n<pre><code>class MyClass {\n   private final double a;\n   private final double b;\n\n   @SomeAnnotation\n   public double getA() {\n       return a;\n   }\n\n   @SomeAnnotation\n   public double getB() {\n      return b;\n   }\n}\n</code></pre>\n<p>I am most of the way there with:</p>\n<p>Search template:</p>\n<pre><code>class $Class$ {\n    @SomeAnnotation\n    private final $type$ $fieldName$;\n\n    public $type$ $getter$() {\n        return $value$;\n    }\n}\n</code></pre>\n<p>Replace template:</p>\n<pre><code>class $Class$ {\n    private final $type$ $fieldName$;\n\n    @SomeAnnotation\n    public $type$ $getter$() {\n        return $value$;\n    }\n}\n</code></pre>\n<p>There is also a filter on getter that matches <code>get.*</code>, and a Script on the whole template to try to make sure we find the matching getter:</p>\n<pre><code>if (getter.name.toLowerCase().contains(fieldName.get(0).name.toLowerCase())) {\n    return true;\n}\nreturn false;\n</code></pre>\n<p>The problem is that this only matches the first getter, and the script doesn't get a chance to try with all of them.</p>\n<p>Any way I could alter my search for this to work?</p>\n"},{"tags":["java","android","list","arraylist","integer"],"answers":[{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1361982559,"creation_date":1361982559,"answer_id":15117206,"question_id":15117132,"body_markdown":"For staters. [**List#remove(index)**][1] returns the Object removed from the list. [**List#remove(Object)**][2] returns a boolean. \r\n\r\nIn this special case however. you could do . \r\n\r\n     ArrayList&lt;Integer&gt; list = new ArrayList &lt;Integer&gt; ();\r\n    \t\tlist.add (0);\r\n    \t\tlist.add (1);\r\n    \t\tSystem.out.println(list.remove(new Integer(0)));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#remove%28int%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#remove%28java.lang.Object%29","title":"ArrayList &lt;Integer&gt; with the get/remove method","body":"<p>For staters. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#remove%28int%29\"><strong>List#remove(index)</strong></a> returns the Object removed from the list. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#remove%28java.lang.Object%29\"><strong>List#remove(Object)</strong></a> returns a boolean. </p>\n\n<p>In this special case however. you could do . </p>\n\n<pre><code> ArrayList&lt;Integer&gt; list = new ArrayList &lt;Integer&gt; ();\n        list.add (0);\n        list.add (1);\n        System.out.println(list.remove(new Integer(0)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":143479,"reputation":7829,"user_id":351836,"accept_rate":89,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634048933,"creation_date":1361983006,"answer_id":15117358,"question_id":15117132,"body_markdown":"Whenever there is an ambiguity in Java (when multiple method signatures could match the types of the parameters *at compile time*), using casts to choose the right method is your only choice. Of course you could cast and store the parameters into local variables of the correct type before the actual invocation, but this doesn&#39;t make it clearer for the reader - casting the parameter directly where it is used is the best option, in my opinion, to make it clear which method is called.\r\n\r\nBy the way the reason the API is so ambiguous in this case is that at the time the API was made, there was no Auto-Boxing so it was not possible to write ambiguous code like this in the first place. However changing the method to make it unambiguous would have been a breaking change. Since storing Integer in an ArrayList isn&#39;t that great of an idea anyway most of the time, they decided to let us live with that slight annoyance.","title":"ArrayList &lt;Integer&gt; with the get/remove method","body":"<p>Whenever there is an ambiguity in Java (when multiple method signatures could match the types of the parameters <em>at compile time</em>), using casts to choose the right method is your only choice. Of course you could cast and store the parameters into local variables of the correct type before the actual invocation, but this doesn't make it clearer for the reader - casting the parameter directly where it is used is the best option, in my opinion, to make it clear which method is called.</p>\n<p>By the way the reason the API is so ambiguous in this case is that at the time the API was made, there was no Auto-Boxing so it was not possible to write ambiguous code like this in the first place. However changing the method to make it unambiguous would have been a breaking change. Since storing Integer in an ArrayList isn't that great of an idea anyway most of the time, they decided to let us live with that slight annoyance.</p>\n"},{"tags":[],"owner":{"account_id":218184,"reputation":1782,"user_id":474375,"accept_rate":87,"display_name":"Ramp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361983382,"creation_date":1361983382,"answer_id":15117498,"question_id":15117132,"body_markdown":"If it is just the ambiguity with the remove() method in Integer ArrayList is bothering you, you can extend the ArrayList to implement your own :\r\n\r\n    public class MyIntArrayList extends ArrayList&lt;Integer&gt; {\r\n    \r\n    \tboolean removeByObject(Integer intObj) {\r\n    \t\treturn super.remove(intObj);\r\n    \t}\r\n    \r\n    \tInteger removeByIndex(int index) {\r\n    \t\treturn super.remove(index);\r\n    \t}\r\n    \r\n    }","title":"ArrayList &lt;Integer&gt; with the get/remove method","body":"<p>If it is just the ambiguity with the remove() method in Integer ArrayList is bothering you, you can extend the ArrayList to implement your own :</p>\n\n<pre><code>public class MyIntArrayList extends ArrayList&lt;Integer&gt; {\n\n    boolean removeByObject(Integer intObj) {\n        return super.remove(intObj);\n    }\n\n    Integer removeByIndex(int index) {\n        return super.remove(index);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1493255,"reputation":760,"user_id":1399811,"accept_rate":57,"display_name":"Revolutionair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361983479,"creation_date":1361983479,"answer_id":15117539,"question_id":15117132,"body_markdown":"You could use `list.remove(new Integer(0))` to surely remove the object","title":"ArrayList &lt;Integer&gt; with the get/remove method","body":"<p>You could use <code>list.remove(new Integer(0))</code> to surely remove the object</p>\n"}],"owner":{"account_id":1479254,"reputation":1303,"user_id":1388976,"accept_rate":50,"display_name":"julien dumortier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21624,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":15117206,"answer_count":4,"score":6,"last_activity_date":1634048933,"creation_date":1361982368,"question_id":15117132,"body_markdown":"when I use ArrayList in Java, there are some things that I do not understand. Here is my initialization code:\r\n\r\n     ArrayList&lt;Integer&gt; list = new ArrayList &lt;Integer&gt; ();\r\n    list.add (0);\r\n    list.add (1);\r\n\r\nsometimes I need to delete an object by its index:\r\n\r\n    list.remove (0) // delete the object in the first box\r\n\r\nbut sometimes I want to delete an object by its contents:\r\n\r\n    list.remove (0) // delete the object HAS Which value of 0\r\n\r\nthis code is very ambiguous. To clarify what I want to do it in code, I specify the type like this:\r\n\r\n    list.remove ((Object) 0) // delete the object which has a value of 0\r\n\r\nIf I do not AC, the only way to know which methods are called is to put the mouse pointer on the method to see:\r\njava.util.ArrayList.remove boolean (Object object)\r\n\r\nJava But how does it make difference? \r\nis there a method pointer? \r\nIs there a less ambiguous way to do this?\r\n\r\nthank you very much, sorry for my English.\r\n\r\nPS: I should say that I finally used SparseIntArray but I am curiously","title":"ArrayList &lt;Integer&gt; with the get/remove method","body":"<p>when I use ArrayList in Java, there are some things that I do not understand. Here is my initialization code:</p>\n\n<pre><code> ArrayList&lt;Integer&gt; list = new ArrayList &lt;Integer&gt; ();\nlist.add (0);\nlist.add (1);\n</code></pre>\n\n<p>sometimes I need to delete an object by its index:</p>\n\n<pre><code>list.remove (0) // delete the object in the first box\n</code></pre>\n\n<p>but sometimes I want to delete an object by its contents:</p>\n\n<pre><code>list.remove (0) // delete the object HAS Which value of 0\n</code></pre>\n\n<p>this code is very ambiguous. To clarify what I want to do it in code, I specify the type like this:</p>\n\n<pre><code>list.remove ((Object) 0) // delete the object which has a value of 0\n</code></pre>\n\n<p>If I do not AC, the only way to know which methods are called is to put the mouse pointer on the method to see:\njava.util.ArrayList.remove boolean (Object object)</p>\n\n<p>Java But how does it make difference? \nis there a method pointer? \nIs there a less ambiguous way to do this?</p>\n\n<p>thank you very much, sorry for my English.</p>\n\n<p>PS: I should say that I finally used SparseIntArray but I am curiously</p>\n"},{"tags":["java","dynamic","jar"],"comments":[{"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":3,"creation_date":1294744432,"post_id":4656957,"comment_id":5129380,"body_markdown":"possible duplicate of [How should I load Jars dynamically at runtime?](http://stackoverflow.com/questions/60764/how-should-i-load-jars-dynamically-at-runtime)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/60764/how-should-i-load-jars-dynamically-at-runtime\">How should I load Jars dynamically at runtime?</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1294745377,"post_id":4656957,"comment_id":5129536,"body_markdown":"What exactly do you mean by &quot;load this JAR without having to know what is inside it.&quot;? What exactly do you want to load from it, then?","body":"What exactly do you mean by &quot;load this JAR without having to know what is inside it.&quot;? What exactly do you want to load from it, then?"},{"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"score":0,"creation_date":1294745458,"post_id":4656957,"comment_id":5129545,"body_markdown":"Why would you want to load a jar without knowing what is inside it ? Do you want to handle it as a zip file or are you interested in loading java classes ?","body":"Why would you want to load a jar without knowing what is inside it ? Do you want to handle it as a zip file or are you interested in loading java classes ?"},{"owner":{"account_id":221460,"reputation":691,"user_id":479472,"accept_rate":100,"display_name":"Myn"},"score":0,"creation_date":1294746145,"post_id":4656957,"comment_id":5129635,"body_markdown":"Apologies, that was poorly phrased - what I mean is, is it possible to load the JAR without having to specify the individual classes to be used. There are a good 100+ classes (all of which I need to use) within each of the JARs I&#39;m using - what I meant was is it possible to load them without using getClass() for each class in each JAR?","body":"Apologies, that was poorly phrased - what I mean is, is it possible to load the JAR without having to specify the individual classes to be used. There are a good 100+ classes (all of which I need to use) within each of the JARs I&#39;m using - what I meant was is it possible to load them without using getClass() for each class in each JAR?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1294746566,"post_id":4656957,"comment_id":5129706,"body_markdown":"Where *do* you use those classes? In Java classes aren&#39;t &quot;loaded&quot; through unknown magic. They are loaded because they are referenced somewhere. What *exactly* references the classes that you want to have loaded from that jar? The &quot;clean&quot; solution is to create a classloader that is able to load the jar in question and have the classes that *depend on that jar* be loaded from a classloader that has set the jar classloader as its parent.","body":"Where <i>do</i> you use those classes? In Java classes aren&#39;t &quot;loaded&quot; through unknown magic. They are loaded because they are referenced somewhere. What <i>exactly</i> references the classes that you want to have loaded from that jar? The &quot;clean&quot; solution is to create a classloader that is able to load the jar in question and have the classes that <i>depend on that jar</i> be loaded from a classloader that has set the jar classloader as its parent."},{"owner":{"account_id":221460,"reputation":691,"user_id":479472,"accept_rate":100,"display_name":"Myn"},"score":0,"creation_date":1294747756,"post_id":4656957,"comment_id":5129883,"body_markdown":"I&#39;m afraid I&#39;m not sure what you mean there but I&#39;m going to take the answer that it is not possible to do what I&#39;m trying to. I beleive I&#39;ll have to go through the painstaking task of individually referencing each class I need to use. Thanks for the input everyone.","body":"I&#39;m afraid I&#39;m not sure what you mean there but I&#39;m going to take the answer that it is not possible to do what I&#39;m trying to. I beleive I&#39;ll have to go through the painstaking task of individually referencing each class I need to use. Thanks for the input everyone."}],"answers":[{"tags":[],"owner":{"account_id":245216,"reputation":8352,"user_id":518587,"accept_rate":91,"display_name":"morja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1294745274,"creation_date":1294744911,"answer_id":4657057,"question_id":4656957,"body_markdown":"What I successfully used:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic void addURL(URL u) throws IOException {\r\n\t\tURLClassLoader sysLoader = (URLClassLoader) ThisClass.class.getClassLoader();\r\n\t\tURL urls[] = sysLoader.getURLs();\r\n\t\tfor (int i = 0; i &lt; urls.length; i++) {\r\n\t\t\tif (urls[i].toString().equalsIgnoreCase(u.toString())) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tClass sysclass = URLClassLoader.class;\r\n\t\ttry {\r\n\t\t\tMethod method = sysclass.getDeclaredMethod(&quot;addURL&quot;, parameters);\r\n\t\t\tmethod.setAccessible(true);\r\n\t\t\tmethod.invoke(sysLoader, new Object[] { u });\r\n\t\t} catch (Throwable t) {\r\n\t\t\tthrow new IOException(&quot;Error, could not add URL to system classloader&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\nAn almost identical solution is indeed presented in [How should I load Jars dynamically at runtime?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60764/how-should-i-load-jars-dynamically-at-runtime","title":"Dynamically load a JAR using URLClassLoader?","body":"<p>What I successfully used:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic void addURL(URL u) throws IOException {\n    URLClassLoader sysLoader = (URLClassLoader) ThisClass.class.getClassLoader();\n    URL urls[] = sysLoader.getURLs();\n    for (int i = 0; i &lt; urls.length; i++) {\n        if (urls[i].toString().equalsIgnoreCase(u.toString())) {\n            return;\n        }\n    }\n    Class sysclass = URLClassLoader.class;\n    try {\n        Method method = sysclass.getDeclaredMethod(\"addURL\", parameters);\n        method.setAccessible(true);\n        method.invoke(sysLoader, new Object[] { u });\n    } catch (Throwable t) {\n        throw new IOException(\"Error, could not add URL to system classloader\");\n    }\n}\n</code></pre>\n\n<p>An almost identical solution is indeed presented in <a href=\"https://stackoverflow.com/questions/60764/how-should-i-load-jars-dynamically-at-runtime\">How should I load Jars dynamically at runtime?</a></p>\n"},{"tags":[],"owner":{"account_id":6698904,"reputation":139,"user_id":5166096,"display_name":"Budhdi Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634048804,"creation_date":1634048804,"answer_id":69542313,"question_id":4656957,"body_markdown":"Here I am explaining the full process of creating a jar and then loading a jar dynamically in another project:\r\n\r\nSteps to create jar:\r\n1. Create a new Project in any IDE(Eclipse).\r\n2. Add a Sample class in packages(in my case MyClass).\r\n3. Do right-click on the project and then export as jar and give a local path of system location where the jar wants to keep(right-click -&gt; Export -&gt; choose java/jar file -&gt; next -&gt;give path -&gt; finish).\r\n4. Then jar will be available at given location.\r\n\r\npackage newJar.com.example;\r\n\r\npublic class MyClass {\r\n\r\n\tpublic MyClass() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\t\r\n\tpublic void helloWorld() {\r\n\t\tSystem.out.println(&quot;Hello from the helloWorld&quot;);\r\n\t}\r\n\r\n}\r\n\r\nSteps to load the jar dynamically:\r\n\r\n1. Create a new project and add below code:\r\n\r\n    public class CustomClass {\r\n\r\n\tpublic CustomClass() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic void getCall(File myJar) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tURLClassLoader loader = new URLClassLoader(new URL[] { myJar.toURI().toURL() },\r\n\t\t\t\t\tCustomClass.class.getClass().getClassLoader());\r\n\r\n\t\t\tClass classToLoad = Class.forName(&quot;newJar.com.example.MyClass&quot;, true, loader);\r\n\t\t\tSystem.out.println(classToLoad);\r\n\t\t\tMethod method = classToLoad.getDeclaredMethod(&quot;helloWorld&quot;);\r\n\t\t\tObject instance = classToLoad.newInstance();\r\n\t\t\tObject result = method.invoke(instance);\r\n\r\n\t\t} catch (MalformedURLException | ClassNotFoundException | NoSuchMethodException | SecurityException\r\n\t\t\t\t| InstantiationException | IllegalAccessException | IllegalArgumentException\r\n\t\t\t\t| InvocationTargetException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tFile myJar = new File(&quot;Path of your jar &quot;);//&quot;D:\\\\ECLIPSE\\\\myjar.jar&quot;\r\n\t\tCustomClass cls = new CustomClass();\r\n\t\tcls.getCall(myJar);\r\n\r\n\t}\r\n\r\n}\r\n\r\nThis is how it can make use of the jar and if the jar is on the server then can give the server path instead of the local path.\r\n\r\n","title":"Dynamically load a JAR using URLClassLoader?","body":"<p>Here I am explaining the full process of creating a jar and then loading a jar dynamically in another project:</p>\n<p>Steps to create jar:</p>\n<ol>\n<li>Create a new Project in any IDE(Eclipse).</li>\n<li>Add a Sample class in packages(in my case MyClass).</li>\n<li>Do right-click on the project and then export as jar and give a local path of system location where the jar wants to keep(right-click -&gt; Export -&gt; choose java/jar file -&gt; next -&gt;give path -&gt; finish).</li>\n<li>Then jar will be available at given location.</li>\n</ol>\n<p>package newJar.com.example;</p>\n<p>public class MyClass {</p>\n<pre><code>public MyClass() {\n    // TODO Auto-generated constructor stub\n}\n\npublic void helloWorld() {\n    System.out.println(&quot;Hello from the helloWorld&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>Steps to load the jar dynamically:</p>\n<ol>\n<li><p>Create a new project and add below code:</p>\n<p>public class CustomClass {</p>\n<p>public CustomClass() {\n// TODO Auto-generated constructor stub\n}</p>\n<p>public void getCall(File myJar) {</p>\n<pre><code> try {\n\n     URLClassLoader loader = new URLClassLoader(new URL[] { myJar.toURI().toURL() },\n             CustomClass.class.getClass().getClassLoader());\n\n     Class classToLoad = Class.forName(&quot;newJar.com.example.MyClass&quot;, true, loader);\n     System.out.println(classToLoad);\n     Method method = classToLoad.getDeclaredMethod(&quot;helloWorld&quot;);\n     Object instance = classToLoad.newInstance();\n     Object result = method.invoke(instance);\n\n } catch (MalformedURLException | ClassNotFoundException | NoSuchMethodException | SecurityException\n         | InstantiationException | IllegalAccessException | IllegalArgumentException\n         | InvocationTargetException e) {\n     // TODO Auto-generated catch block\n     e.printStackTrace();\n }\n</code></pre>\n<p>}</p>\n<p>public static void main(String[] args) {\n// TODO Auto-generated method stub</p>\n<pre><code> File myJar = new File(&quot;Path of your jar &quot;);//&quot;D:\\\\ECLIPSE\\\\myjar.jar&quot;\n CustomClass cls = new CustomClass();\n cls.getCall(myJar);\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>}</p>\n<p>This is how it can make use of the jar and if the jar is on the server then can give the server path instead of the local path.</p>\n"}],"owner":{"account_id":221460,"reputation":691,"user_id":479472,"accept_rate":100,"display_name":"Myn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8977,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4657057,"answer_count":2,"score":3,"last_activity_date":1634048804,"creation_date":1294744202,"question_id":4656957,"body_markdown":"I have a program which needs to be able to dynamically load JARs at runtime - after looking around I beleive this uses URLClassLoader, but I&#39;m not sure how to get it to work. The JAR &quot;openup.jar&quot; is in the same directory as the program.\r\n\r\n**Ideally** I would like to be able to load this JAR without having to specify each individual class inside it.","title":"Dynamically load a JAR using URLClassLoader?","body":"<p>I have a program which needs to be able to dynamically load JARs at runtime - after looking around I beleive this uses URLClassLoader, but I'm not sure how to get it to work. The JAR \"openup.jar\" is in the same directory as the program.</p>\n\n<p><strong>Ideally</strong> I would like to be able to load this JAR without having to specify each individual class inside it.</p>\n"},{"tags":["java","spring","redis","spring-data","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":529477,"reputation":1533,"user_id":1234412,"display_name":"BSB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629781661,"creation_date":1629731127,"answer_id":68894912,"question_id":68854213,"body_markdown":"The Object-Mapping/Repositories need a way to find Objects in bulk (`findByKeys(id1, id2,...)`) and do pagination as well as other things that make it necessary to maintain a primary key Set. Repositories respect the TTL values and purge the keys/ids from the created Set:\r\n\r\n&gt; The repository implementation ensures subscription to Redis keyspace\r\n&gt; notifications via RedisMessageListenerContainer.\r\n\r\n**So my guess is that somehow the app is not getting the keyspace notifications for the entities TTL expires.**\r\n\r\nOr...\r\n\r\nI&#39;m thinking there is a possibility where you are generating `RateRedisEntry` at a rate that the clean up of the Set via keyspace notifications cannot catch up. If that&#39;s the case, then I would not use `@RedisHash` and Repositories and instead use HashMapper and HashOperations. See https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#redis.hashmappers.root","title":"Spring Data Redis issue with CRUDRepository","body":"<p>The Object-Mapping/Repositories need a way to find Objects in bulk (<code>findByKeys(id1, id2,...)</code>) and do pagination as well as other things that make it necessary to maintain a primary key Set. Repositories respect the TTL values and purge the keys/ids from the created Set:</p>\n<blockquote>\n<p>The repository implementation ensures subscription to Redis keyspace\nnotifications via RedisMessageListenerContainer.</p>\n</blockquote>\n<p><strong>So my guess is that somehow the app is not getting the keyspace notifications for the entities TTL expires.</strong></p>\n<p>Or...</p>\n<p>I'm thinking there is a possibility where you are generating <code>RateRedisEntry</code> at a rate that the clean up of the Set via keyspace notifications cannot catch up. If that's the case, then I would not use <code>@RedisHash</code> and Repositories and instead use HashMapper and HashOperations. See <a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#redis.hashmappers.root\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#redis.hashmappers.root</a></p>\n"},{"tags":[],"owner":{"account_id":22514144,"reputation":51,"user_id":16708636,"display_name":"ArianLC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634048737,"creation_date":1634048737,"answer_id":69542288,"question_id":68854213,"body_markdown":"I found a possible solution to the problem. You could set the repository options to track the event where an entry&#39;s TTL reaches 0.\r\n\r\n    @EnableRedisRepositories(enableKeyspaceEvents \r\n        = EnableKeyspaceEvents.ON_STARTUP)\r\n\r\nThis will make Spring Data Redis to track the entries that are flushed, so it updates the entries that are indexes.\r\n\r\nHowever, this will introduced some extra processing on your system, so you should be aware of it and evaluate if working with `RedisRepository` makes sense.\r\n\r\nIn our case, we decided that we were gonna work with the `RedisTemplate` class directly, to avoid any extra over head or uncontrolled processing.\r\n\r\nIf you are interested in seeing all the details of how we fixed it, you can read this article I wrote about it.\r\n\r\nhttps://engineering.salesforce.com/lessons-learned-using-spring-data-redis-f3121f89bff9","title":"Spring Data Redis issue with CRUDRepository","body":"<p>I found a possible solution to the problem. You could set the repository options to track the event where an entry's TTL reaches 0.</p>\n<pre><code>@EnableRedisRepositories(enableKeyspaceEvents \n    = EnableKeyspaceEvents.ON_STARTUP)\n</code></pre>\n<p>This will make Spring Data Redis to track the entries that are flushed, so it updates the entries that are indexes.</p>\n<p>However, this will introduced some extra processing on your system, so you should be aware of it and evaluate if working with <code>RedisRepository</code> makes sense.</p>\n<p>In our case, we decided that we were gonna work with the <code>RedisTemplate</code> class directly, to avoid any extra over head or uncontrolled processing.</p>\n<p>If you are interested in seeing all the details of how we fixed it, you can read this article I wrote about it.</p>\n<p><a href=\"https://engineering.salesforce.com/lessons-learned-using-spring-data-redis-f3121f89bff9\" rel=\"nofollow noreferrer\">https://engineering.salesforce.com/lessons-learned-using-spring-data-redis-f3121f89bff9</a></p>\n"}],"owner":{"account_id":22514144,"reputation":51,"user_id":16708636,"display_name":"ArianLC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2226,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69542288,"answer_count":2,"score":3,"last_activity_date":1634048737,"creation_date":1629404974,"question_id":68854213,"body_markdown":"My team and I are using a CRUD repository with Redis to perform some operations on it. The problem is that there is an entry in Redis that gets generated as an index which stores the keys associated to the Redis entries, and this entry never removes entries that were already flushed when TTL reached 0.\r\n\r\nHere is an example of the code we use.\r\n\r\n    @RedisHash(&quot;rate&quot;)\r\n    public class RateRedisEntry implements Serializable {\r\n        @Id\r\n        private String tenantEndpointByBlock; // A HTTP end point\r\n        ...\r\n    }\r\n    \r\n    // CRUD repository.\r\n    @Repository\r\n    public interface RateRepository extends CrudRepository&lt;RateRedisEntry, String&gt; {}\r\n\r\nThis generates the entry `rate` in Redis which is the Set object I mentioned before.\r\n\r\nWhen we check the memory usage on it, it just keeps growing all the time until the memory usage reaches 100% from the available in Redis.&#39;\r\n\r\n    &gt; MEMORY USAGE &quot;rate&quot;\r\n    (integer) 153034\r\n    .\r\n    .\r\n    &gt; MEMORY USAGE &quot;rate&quot;\r\n    (integer) 153876\r\n    .\r\n    .\r\n    &gt; MEMORY USAGE &quot;rate&quot;\r\n    (integer) 163492\r\n    \r\nIs there a way to prevent this index from being created or for the values stored to be removed once the entries&#39; TTL reaches 0?\r\n\r\nAny assistance is appreciated.\r\n","title":"Spring Data Redis issue with CRUDRepository","body":"<p>My team and I are using a CRUD repository with Redis to perform some operations on it. The problem is that there is an entry in Redis that gets generated as an index which stores the keys associated to the Redis entries, and this entry never removes entries that were already flushed when TTL reached 0.</p>\n<p>Here is an example of the code we use.</p>\n<pre><code>@RedisHash(&quot;rate&quot;)\npublic class RateRedisEntry implements Serializable {\n    @Id\n    private String tenantEndpointByBlock; // A HTTP end point\n    ...\n}\n\n// CRUD repository.\n@Repository\npublic interface RateRepository extends CrudRepository&lt;RateRedisEntry, String&gt; {}\n</code></pre>\n<p>This generates the entry <code>rate</code> in Redis which is the Set object I mentioned before.</p>\n<p>When we check the memory usage on it, it just keeps growing all the time until the memory usage reaches 100% from the available in Redis.'</p>\n<pre><code>&gt; MEMORY USAGE &quot;rate&quot;\n(integer) 153034\n.\n.\n&gt; MEMORY USAGE &quot;rate&quot;\n(integer) 153876\n.\n.\n&gt; MEMORY USAGE &quot;rate&quot;\n(integer) 163492\n</code></pre>\n<p>Is there a way to prevent this index from being created or for the values stored to be removed once the entries' TTL reaches 0?</p>\n<p>Any assistance is appreciated.</p>\n"},{"tags":["java","timezone","java-time","datetime-parsing","zoneddatetime"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1634030870,"post_id":69538053,"comment_id":122911029,"body_markdown":"You could add the line `System.out.println(zonedDateTime.getZone().toString());`, execute the code and watch the output. Hint: `BST` is **not interpreted** as British Summer Time in this case!","body":"You could add the line <code>System.out.println(zonedDateTime.getZone().toString());</code>, execute the code and watch the output. Hint: <code>BST</code> is <b>not interpreted</b> as British Summer Time in this case!"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1634031039,"creation_date":1634031039,"answer_id":69538154,"question_id":69538053,"body_markdown":"That&#39;s what you get for using ambiguous abbreviations, I&#39;m afraid. BST can mean different things, as shown [here](https://24timezones.com/time-zone/bst).\r\n\r\nIt looks like in this case it&#39;s being interpreted as Bougainville Standard Time, which is indeed UTC+11.\r\n\r\n(Even within the UK, BST hasn&#39;t always meant British Summer Time. Between 1968 and 1971, BST meant &quot;British Standard Time&quot;, although it was still GMT+1.)\r\n\r\nUsing abbreviations is &quot;somewhat okay&quot; for *formatting*, but should be avoided for *parsing* purposes where at all possible. If you&#39;re receiving data that you *know* will use it, and you know what it should mean, you&#39;re probably best off replacing it in the text before parsing.","title":"Timezone BST has wrong offset","body":"<p>That's what you get for using ambiguous abbreviations, I'm afraid. BST can mean different things, as shown <a href=\"https://24timezones.com/time-zone/bst\" rel=\"noreferrer\">here</a>.</p>\n<p>It looks like in this case it's being interpreted as Bougainville Standard Time, which is indeed UTC+11.</p>\n<p>(Even within the UK, BST hasn't always meant British Summer Time. Between 1968 and 1971, BST meant &quot;British Standard Time&quot;, although it was still GMT+1.)</p>\n<p>Using abbreviations is &quot;somewhat okay&quot; for <em>formatting</em>, but should be avoided for <em>parsing</em> purposes where at all possible. If you're receiving data that you <em>know</em> will use it, and you know what it should mean, you're probably best off replacing it in the text before parsing.</p>\n"}],"owner":{"account_id":6197569,"reputation":35,"user_id":4828427,"display_name":"alibaab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1634048421,"accepted_answer_id":69538154,"answer_count":1,"score":3,"last_activity_date":1634048445,"creation_date":1634030686,"question_id":69538053,"body_markdown":"Cannot understand why BST (UTC Offset: UTC +1) got offset +11 in following code. I would expect +1.\r\n\r\n```lang-java\r\nfinal String lastUpdated = &quot;Mon Sep 27 18:29:00 BST 2021&quot;;\r\nfinal DateTimeFormatter LAST_UPDATED_FORMATTER = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z y&quot;).withLocale(Locale.UK);\r\nZonedDateTime zonedDateTime = ZonedDateTime.parse(lastUpdated, LAST_UPDATED_FORMATTER);\r\nLocalDateTime localDateTime = zonedDateTime.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toLocalDateTime();\r\nSystem.out.println(zonedDateTime.getOffset()); // +11:00; expected +1\r\nSystem.out.println(localDateTime.toString());\r\n```\r\nConsole output:\r\n\r\n    +11:00\r\n    2021-09-27T07:29\r\n\r\nAll is clear once is date in UTC:\r\n\r\n    final String lastUpdated = &quot;Mon Sep 27 18:29:00 BST 2021&quot;;\r\n\r\n","title":"Timezone BST has wrong offset","body":"<p>Cannot understand why BST (UTC Offset: UTC +1) got offset +11 in following code. I would expect +1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String lastUpdated = &quot;Mon Sep 27 18:29:00 BST 2021&quot;;\nfinal DateTimeFormatter LAST_UPDATED_FORMATTER = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z y&quot;).withLocale(Locale.UK);\nZonedDateTime zonedDateTime = ZonedDateTime.parse(lastUpdated, LAST_UPDATED_FORMATTER);\nLocalDateTime localDateTime = zonedDateTime.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toLocalDateTime();\nSystem.out.println(zonedDateTime.getOffset()); // +11:00; expected +1\nSystem.out.println(localDateTime.toString());\n</code></pre>\n<p>Console output:</p>\n<pre><code>+11:00\n2021-09-27T07:29\n</code></pre>\n<p>All is clear once is date in UTC:</p>\n<pre><code>final String lastUpdated = &quot;Mon Sep 27 18:29:00 BST 2021&quot;;\n</code></pre>\n"},{"tags":["java","regex","esapi"],"comments":[{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":0,"creation_date":1427207487,"post_id":29217159,"comment_id":46676598,"body_markdown":"If you used the second version of the regex I posted a comment to @Fede explaining why NOT to use that one as written.","body":"If you used the second version of the regex I posted a comment to @Fede explaining why NOT to use that one as written."}],"answers":[{"tags":[],"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427208404,"creation_date":1427135643,"answer_id":29217794,"question_id":29217159,"body_markdown":"You have to put the hyphen at the end since if you don&#39;t do it the hyphen works as range instead of a single char:\r\n\r\n    Validator.SafeString=^[.\\\\p{Alnum}\\\\p{Space}*,()&amp;+-]{0,1024}$\r\n                                                      ^--- here\r\n\r\n**Update:** following **[avgvstvs](https://stackoverflow.com/users/557153/avgvstvs)** comments:\r\n\r\n&gt; From 1.7 to later, you would have to add the flag (?u) to the beginning of your regex in order for \\\\w\\\\s to work. \r\n\r\nYou could try also:\r\n\r\n    Validator.SafeString=(?u)^[.\\\\w\\\\s*,()&amp;+-]{0,1024}$","title":"Regular Expression for SafeString","body":"<p>You have to put the hyphen at the end since if you don't do it the hyphen works as range instead of a single char:</p>\n\n<pre><code>Validator.SafeString=^[.\\\\p{Alnum}\\\\p{Space}*,()&amp;+-]{0,1024}$\n                                                  ^--- here\n</code></pre>\n\n<p><strong>Update:</strong> following <strong><a href=\"https://stackoverflow.com/users/557153/avgvstvs\">avgvstvs</a></strong> comments:</p>\n\n<blockquote>\n  <p>From 1.7 to later, you would have to add the flag (?u) to the beginning of your regex in order for \\w\\s to work. </p>\n</blockquote>\n\n<p>You could try also:</p>\n\n<pre><code>Validator.SafeString=(?u)^[.\\\\w\\\\s*,()&amp;+-]{0,1024}$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1427282724,"creation_date":1427208049,"answer_id":29235497,"question_id":29217159,"body_markdown":"I would create a separate entry in validation.properties, OWASP&#39;s intent for `SafeString` is to provide a guaranteed safe string for any application. By accepting characters that can be interpreted as code in Javascript, you no longer have a `SafeString` as intended by the API.  That could have disastrous consequences if other parts of your application are utilizing `SafeString` as originally intended.  \r\n\r\nUse @[Fede&#39;s][1] first regex, but address it like this:\r\n\r\n    Validator.SomethingElse=^[.\\\\p{Alnum}\\\\p{Space}*,()&amp;+-]{0,1024}$\r\n\r\nAnd call it like this:\r\n\r\n    ESAPI.validator().isValidInput(CONTEXT, input, &quot;SomethingElse&quot;, MAX_FIELD_LENGTH, true);\r\n\r\nNote that the &quot;true&quot; mark corresponds to whether or not a string can be `null`.\r\n\r\n  [1]: https://stackoverflow.com/users/710099/fede","title":"Regular Expression for SafeString","body":"<p>I would create a separate entry in validation.properties, OWASP's intent for <code>SafeString</code> is to provide a guaranteed safe string for any application. By accepting characters that can be interpreted as code in Javascript, you no longer have a <code>SafeString</code> as intended by the API.  That could have disastrous consequences if other parts of your application are utilizing <code>SafeString</code> as originally intended.  </p>\n\n<p>Use @<a href=\"https://stackoverflow.com/users/710099/fede\">Fede's</a> first regex, but address it like this:</p>\n\n<pre><code>Validator.SomethingElse=^[.\\\\p{Alnum}\\\\p{Space}*,()&amp;+-]{0,1024}$\n</code></pre>\n\n<p>And call it like this:</p>\n\n<pre><code>ESAPI.validator().isValidInput(CONTEXT, input, \"SomethingElse\", MAX_FIELD_LENGTH, true);\n</code></pre>\n\n<p>Note that the \"true\" mark corresponds to whether or not a string can be <code>null</code>.</p>\n"}],"owner":{"account_id":3031838,"reputation":1535,"user_id":2570690,"accept_rate":92,"display_name":"Mary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29235497,"answer_count":2,"score":1,"last_activity_date":1634048083,"creation_date":1427133494,"question_id":29217159,"body_markdown":"I am using an inbuilt esapi validator. It is defined as follows:\r\n\r\n    Validator.SafeString=^[.\\\\p{Alnum}\\\\p{Space}]{0,1024}$\r\n\r\nI am not very familiar with regex and after some reading, I understand that this expression is matching alphanumerics and spaces. \r\n\r\nI would like to extend this expression to include *,-()&amp;+ and /. I tried doing the following but it doesnt seem to work\r\n\r\n    Validator.SafeString=^[.\\\\p{Alnum}\\\\p{Space}*,-()&amp;+]{0,1024}$","title":"Regular Expression for SafeString","body":"<p>I am using an inbuilt esapi validator. It is defined as follows:</p>\n\n<pre><code>Validator.SafeString=^[.\\\\p{Alnum}\\\\p{Space}]{0,1024}$\n</code></pre>\n\n<p>I am not very familiar with regex and after some reading, I understand that this expression is matching alphanumerics and spaces. </p>\n\n<p>I would like to extend this expression to include *,-()&amp;+ and /. I tried doing the following but it doesnt seem to work</p>\n\n<pre><code>Validator.SafeString=^[.\\\\p{Alnum}\\\\p{Space}*,-()&amp;+]{0,1024}$\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1915669,"reputation":2268,"user_id":1728309,"accept_rate":71,"display_name":"Lucia Pasarin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634047561,"creation_date":1594802057,"answer_id":62910789,"question_id":62910583,"body_markdown":"The error is telling you that ```WebSecurityConfiguration``` is not an auto-configuration class, but you are excluding it in the ```@EnableAutoConfiguration``` section. I would remove the class from ```EnableAutoConfiguration``` and filter it with ```@ComponentScan``` and ```ExcludeAnnotationFilter``` instead.","title":"How to resolve error &quot;The following classes could not be excluded because they are not auto-configuration classes&quot;?","body":"<p>The error is telling you that <code>WebSecurityConfiguration</code> is not an auto-configuration class, but you are excluding it in the <code>@EnableAutoConfiguration</code> section. I would remove the class from <code>EnableAutoConfiguration</code> and filter it with <code>@ComponentScan</code> and <code>ExcludeAnnotationFilter</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":2407356,"reputation":1444,"user_id":2103431,"display_name":"Konstantin Grigorov"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1621432383,"creation_date":1621432383,"answer_id":67604631,"question_id":62910583,"body_markdown":"In the entry point for your SpringBoot app, use the following:\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(excludeFilters={@ComponentScan.Filter(type= FilterType.ASSIGNABLE_TYPE, value=&lt;classThatYouWantToExclued&gt;.class)})\r\npublic class TestApplication {\r\n```","title":"How to resolve error &quot;The following classes could not be excluded because they are not auto-configuration classes&quot;?","body":"<p>In the entry point for your SpringBoot app, use the following:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(excludeFilters={@ComponentScan.Filter(type= FilterType.ASSIGNABLE_TYPE, value=&lt;classThatYouWantToExclued&gt;.class)})\npublic class TestApplication {\n</code></pre>\n"}],"owner":{"account_id":13577100,"reputation":179,"user_id":9794151,"display_name":"paras mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28852,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1634047561,"creation_date":1594801442,"question_id":62910583,"body_markdown":"While starting Spring Boot Application I am getting this error:\r\n\r\n```\r\nThe following classes could not be excluded because they are not auto-configuration classes:\r\n        - org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration\r\n```\r\n\r\nThis is how my application looks like. I have excluded `WebsecurityConfiguration.class` from `EnablEAutoConfiguration` but I keep on getting the above error. If I remove `WebsecurityConfiguration.class` from exclude my application is not able to get properties from `application.yaml`. Can you please help me in resolving this issue?\r\n\r\n```\r\n@Configuration\r\n@EnableAutoConfiguration(exclude = { DataSourceAutoConfiguration.class, SecurityAutoConfiguration.class,\r\n\t\tManagementWebSecurityAutoConfiguration.class, WebSecurityConfiguration.class\r\n\r\n})\r\n// @ComponentScan(&quot;com.infy.ceh.management&quot;)\r\n@ComponentScan(basePackages = &quot;com.infy.ceh.management&quot;, excludeFilters = @Filter(type = FilterType.CUSTOM, value = {\r\n\t\tExcludeAnnotationFilter.class })\r\n\r\n)\r\npublic class AgentApplication {\r\n\r\n}\r\n```\r\n","title":"How to resolve error &quot;The following classes could not be excluded because they are not auto-configuration classes&quot;?","body":"<p>While starting Spring Boot Application I am getting this error:</p>\n<pre><code>The following classes could not be excluded because they are not auto-configuration classes:\n        - org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration\n</code></pre>\n<p>This is how my application looks like. I have excluded <code>WebsecurityConfiguration.class</code> from <code>EnablEAutoConfiguration</code> but I keep on getting the above error. If I remove <code>WebsecurityConfiguration.class</code> from exclude my application is not able to get properties from <code>application.yaml</code>. Can you please help me in resolving this issue?</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude = { DataSourceAutoConfiguration.class, SecurityAutoConfiguration.class,\n        ManagementWebSecurityAutoConfiguration.class, WebSecurityConfiguration.class\n\n})\n// @ComponentScan(&quot;com.infy.ceh.management&quot;)\n@ComponentScan(basePackages = &quot;com.infy.ceh.management&quot;, excludeFilters = @Filter(type = FilterType.CUSTOM, value = {\n        ExcludeAnnotationFilter.class })\n\n)\npublic class AgentApplication {\n\n}\n</code></pre>\n"},{"tags":["java","spring","jdbc","spring-data","h2"],"answers":[{"tags":[],"owner":{"account_id":8103320,"reputation":1255,"user_id":6105719,"display_name":"sparker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634047314,"creation_date":1634047314,"answer_id":69541965,"question_id":69540466,"body_markdown":"Remove `file:` from the URL \r\n\r\nTry this\r\n\r\n`spring.datasource.url=jdbc:h2:~/test;DB_CLOSE_ON_EXIT=FALSE`\r\n\r\n\r\n","title":"Spring boot with jdbc and h2 database, cannot persist data in disk","body":"<p>Remove <code>file:</code> from the URL</p>\n<p>Try this</p>\n<p><code>spring.datasource.url=jdbc:h2:~/test;DB_CLOSE_ON_EXIT=FALSE</code></p>\n"}],"owner":{"account_id":13544966,"reputation":792,"user_id":9771560,"display_name":"sbabti zied"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634047314,"creation_date":1634041335,"question_id":69540466,"body_markdown":"Hello I am learning how to use spring boot and Spring MVC, and I am following a course where we have to use an h2 database, the problem is I don&#39;t want the data to be persisted in memory, rather I like having it persisted in the disk. \r\n\r\ni have added this line inside application.properties : \r\n\r\n    spring.datasource.url=jdbc:h2:file:~/test\r\n\r\nbut nothing is changed (data is still persisted in memory ) and this is my pom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;zied.spring&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\ncan anyone help me here, thanks in advance\r\n \r\n","title":"Spring boot with jdbc and h2 database, cannot persist data in disk","body":"<p>Hello I am learning how to use spring boot and Spring MVC, and I am following a course where we have to use an h2 database, the problem is I don't want the data to be persisted in memory, rather I like having it persisted in the disk.</p>\n<p>i have added this line inside application.properties :</p>\n<pre><code>spring.datasource.url=jdbc:h2:file:~/test\n</code></pre>\n<p>but nothing is changed (data is still persisted in memory ) and this is my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;zied.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>can anyone help me here, thanks in advance</p>\n"},{"tags":["java","database","hibernate","caching","second-level-cache"],"comments":[{"owner":{"account_id":2808,"reputation":9121,"user_id":3966,"accept_rate":100,"display_name":"chickeninabiscuit"},"score":0,"creation_date":1275548796,"post_id":2963819,"comment_id":3022653,"body_markdown":"Some relevant links: \n\nhttp://docs.jboss.org/hibernate/stable/core/reference/en/html/performance.html#performance-cache\n\nand also: \n\nhttp://www.javalobby.org/java/forums/t48846.html","body":"Some relevant links:   <a href=\"http://docs.jboss.org/hibernate/stable/core/reference/en/html/performance.html#performance-cache\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/core/reference/en/html/&hellip;</a>  and also:   <a href=\"http://www.javalobby.org/java/forums/t48846.html\" rel=\"nofollow noreferrer\">javalobby.org/java/forums/t48846.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":6552,"reputation":20287,"user_id":11069,"accept_rate":100,"display_name":"Robert Christie"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1275548096,"creation_date":1275548096,"answer_id":2963845,"question_id":2963819,"body_markdown":"Here are a couple of reasons why you may want this:\r\n\r\n - An application caches just what it needs so you should get a better cache hit ratio \r\n - Accessing a local cache will probably be a couple of orders of magnitude faster than accessing the database due to network latency - even with a fast network\r\n\r\n","title":"Why use your application-level cache if database already provides caching?","body":"<p>Here are a couple of reasons why you may want this:</p>\n\n<ul>\n<li>An application caches just what it needs so you should get a better cache hit ratio </li>\n<li>Accessing a local cache will probably be a couple of orders of magnitude faster than accessing the database due to network latency - even with a fast network</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":86959,"reputation":71656,"user_id":241462,"accept_rate":71,"display_name":"Dean Harding"},"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1275548137,"creation_date":1275548137,"answer_id":2963850,"question_id":2963819,"body_markdown":"Because to get the data from the database&#39;s cache, you still have to:\r\n\r\n 1. Generate the SQL from the ORM&#39;s &quot;native&quot; query format\r\n 2. Do a network round-trip to the database server\r\n 3. Parse the SQL\r\n 4. Fetch the data from the cache\r\n 5. Serialise the data to the database&#39;s over-the-wire format\r\n 6. Deserialize the data into the database client library&#39;s format\r\n 7. Convert the database client librarie&#39;s format into language-level objects (i.e. a collection of whatevers)\r\n\r\nBy caching at the application level, you don&#39;t have to do any of that. Typically, it&#39;s a simple lookup of an in-memory hashtable. Sometimes (if caching with memcache) there&#39;s still a network round-trip, but all of the other stuff no longer happens.","title":"Why use your application-level cache if database already provides caching?","body":"<p>Because to get the data from the database's cache, you still have to:</p>\n\n<ol>\n<li>Generate the SQL from the ORM's \"native\" query format</li>\n<li>Do a network round-trip to the database server</li>\n<li>Parse the SQL</li>\n<li>Fetch the data from the cache</li>\n<li>Serialise the data to the database's over-the-wire format</li>\n<li>Deserialize the data into the database client library's format</li>\n<li>Convert the database client librarie's format into language-level objects (i.e. a collection of whatevers)</li>\n</ol>\n\n<p>By caching at the application level, you don't have to do any of that. Typically, it's a simple lookup of an in-memory hashtable. Sometimes (if caching with memcache) there's still a network round-trip, but all of the other stuff no longer happens.</p>\n"},{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1275549165,"creation_date":1275548377,"answer_id":2963871,"question_id":2963819,"body_markdown":"Even if a database engine caches data, indexes, or query result sets, it still takes a round-trip to the database for your application to benefit from that cache.\r\n\r\nAn ORM framework runs in the same space as your application. So there&#39;s no round-trip.  It&#39;s just a memory access, which is generally a lot faster.\r\n\r\nThe framework can also decide to keep data in cache as long as it needs it.  The database may decide to expire cached data at unpredictable times, when other concurrent clients make requests that utilize the cache.\r\n\r\nYour application-side ORM framework may also cache data in a form that the database can&#39;t return.  E.g. in the form of a collection of java objects instead of a stream of raw data.  If you rely on database caching, your ORM has to repeat that transformation into objects, which adds to overhead and decreases the benefit of the cache.","title":"Why use your application-level cache if database already provides caching?","body":"<p>Even if a database engine caches data, indexes, or query result sets, it still takes a round-trip to the database for your application to benefit from that cache.</p>\n\n<p>An ORM framework runs in the same space as your application. So there's no round-trip.  It's just a memory access, which is generally a lot faster.</p>\n\n<p>The framework can also decide to keep data in cache as long as it needs it.  The database may decide to expire cached data at unpredictable times, when other concurrent clients make requests that utilize the cache.</p>\n\n<p>Your application-side ORM framework may also cache data in a form that the database can't return.  E.g. in the form of a collection of java objects instead of a stream of raw data.  If you rely on database caching, your ORM has to repeat that transformation into objects, which adds to overhead and decreases the benefit of the cache.</p>\n"},{"tags":[],"owner":{"account_id":107168,"reputation":3697,"user_id":285103,"accept_rate":62,"display_name":"monotux"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1275548786,"creation_date":1275548786,"answer_id":2963906,"question_id":2963819,"body_markdown":"Also, the database&#39;s cache might not be as practical as one think. I copied this from http://highscalability.com/bunch-great-strategies-using-memcached-and-mysql-better-together -- it&#39;s MySQL specific, tho. \r\n\r\n&gt; Given that MySQL has a cache, why is memcached needed at all?\r\n&gt; \r\n&gt; The MySQL cache is associated with just one instance. This limits the cache to the maximum address of one server. If your system is larger than the memory for one server then using the MySQL cache won&#39;t work. And if the same object is read from another instance its not cached.\r\n&gt; \r\n&gt; The query cache invalidates on writes. You build up all that cache and it goes away when someone writes to it. Your cache may not be much of a cache at all depending on usage patterns.\r\n&gt; \r\n&gt; The query cache is row based. Memcached can cache any type of data you want and it isn&#39;t limited to caching database rows. Memcached can cache complex complex objects that are directly usable without a join. \r\n\r\n","title":"Why use your application-level cache if database already provides caching?","body":"<p>Also, the database's cache might not be as practical as one think. I copied this from <a href=\"http://highscalability.com/bunch-great-strategies-using-memcached-and-mysql-better-together\" rel=\"noreferrer\">http://highscalability.com/bunch-great-strategies-using-memcached-and-mysql-better-together</a> -- it's MySQL specific, tho. </p>\n\n<blockquote>\n  <p>Given that MySQL has a cache, why is memcached needed at all?</p>\n  \n  <p>The MySQL cache is associated with just one instance. This limits the cache to the maximum address of one server. If your system is larger than the memory for one server then using the MySQL cache won't work. And if the same object is read from another instance its not cached.</p>\n  \n  <p>The query cache invalidates on writes. You build up all that cache and it goes away when someone writes to it. Your cache may not be much of a cache at all depending on usage patterns.</p>\n  \n  <p>The query cache is row based. Memcached can cache any type of data you want and it isn't limited to caching database rows. Memcached can cache complex complex objects that are directly usable without a join. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":358380,"reputation":18171,"user_id":1388192,"accept_rate":100,"display_name":"Erwin Smout"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1275555047,"creation_date":1275554592,"answer_id":2964395,"question_id":2963819,"body_markdown":"The performance considerations related to the network roundtrips have correctly been pointed out.\r\n\r\nTo that, it must be added that caching data anywhere else than in the dbms (NOT &quot;database&quot;), creates a problem of potentially obsoleted data that is still being presented as being &quot;up to date&quot;.\r\n\r\nGiving in to the temptations of performance improvement goes at the expense of losing the guarantee (watertight or at least close to that) of absolutely reliably and guaranteeably correct and consistent data.\r\n\r\nConsider this every time accuracy and consistency is crucial.","title":"Why use your application-level cache if database already provides caching?","body":"<p>The performance considerations related to the network roundtrips have correctly been pointed out.</p>\n\n<p>To that, it must be added that caching data anywhere else than in the dbms (NOT \"database\"), creates a problem of potentially obsoleted data that is still being presented as being \"up to date\".</p>\n\n<p>Giving in to the temptations of performance improvement goes at the expense of losing the guarantee (watertight or at least close to that) of absolutely reliably and guaranteeably correct and consistent data.</p>\n\n<p>Consider this every time accuracy and consistency is crucial.</p>\n"},{"tags":[],"owner":{"account_id":117140,"reputation":1476,"user_id":306893,"accept_rate":90,"display_name":"Rupeshit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1275743815,"creation_date":1275743815,"answer_id":2980485,"question_id":2963819,"body_markdown":"No doubt that modern databases are providing caching facility but when you are having more traffic on you site and that time you need to perform many database transaction then you will no get high performance.So to increase performance in this case hibernate cache will help you,\r\nby optimizing the database applications. The cache actually stores the data already loaded from the database, so that the traffic between our application and the database will be reduced when the application want to access that data again.The access time and traffic will be reduced between the application and the database.","title":"Why use your application-level cache if database already provides caching?","body":"<p>No doubt that modern databases are providing caching facility but when you are having more traffic on you site and that time you need to perform many database transaction then you will no get high performance.So to increase performance in this case hibernate cache will help you,\nby optimizing the database applications. The cache actually stores the data already loaded from the database, so that the traffic between our application and the database will be reduced when the application want to access that data again.The access time and traffic will be reduced between the application and the database.</p>\n"},{"tags":[],"owner":{"account_id":9775,"reputation":14444,"user_id":18189,"accept_rate":80,"display_name":"MBCook"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1275745228,"creation_date":1275745228,"answer_id":2980563,"question_id":2963819,"body_markdown":"A lot of good answers here. I&#39;ll add one other point: I *know* my access pattern, the database doesn&#39;t.\r\n\r\nDepending on what I&#39;m doing, I know that if the data ends up stale, that&#39;s not really a problem. The DB doesn&#39;t, and would have to reload the cache with the new data.\r\n\r\nI know that I&#39;ll come back to a piece of data a few times over the next while, so it&#39;s important to keep around. The DB has to guess at what to keep in the cache, it&#39;s doesn&#39;t have the information I do. So if I fetch it from the DB over and over, it may not be in cache if the server is busy. I could get a cache miss. With my cache, I can be sure I get a hit. This is especially true on data that is non-trivial to get (i.e. a few joins, some group functions) as opposed to just a single row. Getting a row with the primary key of 7 is easy for the DB, but if it has to do some real work, the cost of the cache miss is much higher.","title":"Why use your application-level cache if database already provides caching?","body":"<p>A lot of good answers here. I'll add one other point: I <em>know</em> my access pattern, the database doesn't.</p>\n\n<p>Depending on what I'm doing, I know that if the data ends up stale, that's not really a problem. The DB doesn't, and would have to reload the cache with the new data.</p>\n\n<p>I know that I'll come back to a piece of data a few times over the next while, so it's important to keep around. The DB has to guess at what to keep in the cache, it's doesn't have the information I do. So if I fetch it from the DB over and over, it may not be in cache if the server is busy. I could get a cache miss. With my cache, I can be sure I get a hit. This is especially true on data that is non-trivial to get (i.e. a few joins, some group functions) as opposed to just a single row. Getting a row with the primary key of 7 is easy for the DB, but if it has to do some real work, the cost of the cache miss is much higher.</p>\n"},{"tags":[],"owner":{"account_id":762754,"reputation":31,"user_id":788965,"display_name":"Colin Saxton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1307527180,"creation_date":1307527180,"answer_id":6277060,"question_id":2963819,"body_markdown":"That said - caches can sometimes become a burden and actually slowdown the server. When you have high load the algorithm for what is cached and what is not might not fit right with the requests coming in...what you get is a cache that starts to operate like FIFO in overtime...this begins to make itself known when the table that sits behind the cache has significantly more records than are ever going to be cached in memory...\r\n\r\nA good trade off would be to cluster the data for what you want to cache. Have a main server which pumps updates to the clusters, the time for when to send/pump the updates should be able to be tailored for each table depending on TTL (time to live) settings.\r\n\r\nYour logic and data on the user node can then sit on the same server which opens up in memory databases or if it does have to fetch data then you could set it up to use a pipe instead of a network call...\r\n\r\nThis is something that takes some thought on how you want to use the data and when/if you cluster then you have to be aware of distributed transactions (transactions over more than one database)...but if the data being cached will be updated on its own without links into other db spaces then you can get away with this....\r\n\r\nThe problem with ORM caching is that if the database is updated independently through another application then the ORM cache can become out of date...Also it can get tricky if you do an update to a set...the update might update something that is in your cache and it needs to have some sort of algorithm to identify which records need to be removed/updated in memory (slowing down the update!?) - and then this algorithm becomes incredibly tricky and bug prone!\r\n\r\nIf using ORM caching then keep to a simple rule...cache simple objects that hardly ever change (user/role details for example) and that are small in size and are hit many times in a request...if its outside of this then I suggest clustering the data for performance.","title":"Why use your application-level cache if database already provides caching?","body":"<p>That said - caches can sometimes become a burden and actually slowdown the server. When you have high load the algorithm for what is cached and what is not might not fit right with the requests coming in...what you get is a cache that starts to operate like FIFO in overtime...this begins to make itself known when the table that sits behind the cache has significantly more records than are ever going to be cached in memory...</p>\n\n<p>A good trade off would be to cluster the data for what you want to cache. Have a main server which pumps updates to the clusters, the time for when to send/pump the updates should be able to be tailored for each table depending on TTL (time to live) settings.</p>\n\n<p>Your logic and data on the user node can then sit on the same server which opens up in memory databases or if it does have to fetch data then you could set it up to use a pipe instead of a network call...</p>\n\n<p>This is something that takes some thought on how you want to use the data and when/if you cluster then you have to be aware of distributed transactions (transactions over more than one database)...but if the data being cached will be updated on its own without links into other db spaces then you can get away with this....</p>\n\n<p>The problem with ORM caching is that if the database is updated independently through another application then the ORM cache can become out of date...Also it can get tricky if you do an update to a set...the update might update something that is in your cache and it needs to have some sort of algorithm to identify which records need to be removed/updated in memory (slowing down the update!?) - and then this algorithm becomes incredibly tricky and bug prone!</p>\n\n<p>If using ORM caching then keep to a simple rule...cache simple objects that hardly ever change (user/role details for example) and that are small in size and are hit many times in a request...if its outside of this then I suggest clustering the data for performance.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1634047227,"creation_date":1634047227,"answer_id":69541938,"question_id":2963819,"body_markdown":"Scaling read-write transactions using a strongly consistent cache\r\n-----------------------------------------------------------------\r\n\r\nScaling [read-only transactions](https://vladmihalcea.com/spring-read-only-transaction-hibernate-optimization/) can be done fairly easily by adding more [Replica nodes](https://vladmihalcea.com/single-primary-database-replication/).\r\n\r\nHowever, that does not work for the Primary node since that can be only scaled vertically:\r\n\r\nAnd that&#39;s where a cache comes into play. For read-write database transactions that need to be executed on the Primary node, the cache can help you reduce the query load by directing it to a strongly consistent cache, like the Hibernate second-level cache:\r\n\r\n[![Scaling read-write transactions][1]](https://vladmihalcea.com/jpa-hibernate-second-level-cache/)\r\n\r\nUsing a distributed cache\r\n-------------------------\r\n\r\nStoring an application-level cache in the memory of the application is problematic for several reasons.\r\n\r\nFirst, the application memory is limited, so the volume of data that can be cached is limited as well. \r\n\r\nSecond, when traffic increases and we want to start new application nodes to handle the extra traffic, the new nodes would start with a cold cache, making the problem even worse as they incur a spike in database load until the cache is populated with data:\r\n\r\n[![In-memory application cache][2]](https://vladmihalcea.com/caching-best-practices/)\r\n\r\nTo address this issue, it&#39;s better to have the cache running as a distributed system, like Redis. This way, the amount of cached data is not limited by the memory size on a single node since sharding can be used to split the data among multiple nodes. \r\n\r\n[![Distributed cache][3]](https://vladmihalcea.com/jpa-hibernate-second-level-cache/)\r\n\r\nAnd, when a new application node is added by the auto-scaler, the new node will load data from the same distributed cache. Hence, there&#39;s no cold cache issue anymore.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y3753.png\r\n  [2]: https://i.stack.imgur.com/ktmMl.png\r\n  [3]: https://i.stack.imgur.com/McrUE.png","title":"Why use your application-level cache if database already provides caching?","body":"<h2>Scaling read-write transactions using a strongly consistent cache</h2>\n<p>Scaling <a href=\"https://vladmihalcea.com/spring-read-only-transaction-hibernate-optimization/\" rel=\"noreferrer\">read-only transactions</a> can be done fairly easily by adding more <a href=\"https://vladmihalcea.com/single-primary-database-replication/\" rel=\"noreferrer\">Replica nodes</a>.</p>\n<p>However, that does not work for the Primary node since that can be only scaled vertically:</p>\n<p>And that's where a cache comes into play. For read-write database transactions that need to be executed on the Primary node, the cache can help you reduce the query load by directing it to a strongly consistent cache, like the Hibernate second-level cache:</p>\n<p><a href=\"https://vladmihalcea.com/jpa-hibernate-second-level-cache/\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Y3753.png\" alt=\"Scaling read-write transactions\" /></a></p>\n<h2>Using a distributed cache</h2>\n<p>Storing an application-level cache in the memory of the application is problematic for several reasons.</p>\n<p>First, the application memory is limited, so the volume of data that can be cached is limited as well.</p>\n<p>Second, when traffic increases and we want to start new application nodes to handle the extra traffic, the new nodes would start with a cold cache, making the problem even worse as they incur a spike in database load until the cache is populated with data:</p>\n<p><a href=\"https://vladmihalcea.com/caching-best-practices/\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ktmMl.png\" alt=\"In-memory application cache\" /></a></p>\n<p>To address this issue, it's better to have the cache running as a distributed system, like Redis. This way, the amount of cached data is not limited by the memory size on a single node since sharding can be used to split the data among multiple nodes.</p>\n<p><a href=\"https://vladmihalcea.com/jpa-hibernate-second-level-cache/\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/McrUE.png\" alt=\"Distributed cache\" /></a></p>\n<p>And, when a new application node is added by the auto-scaler, the new node will load data from the same distributed cache. Hence, there's no cold cache issue anymore.</p>\n"}],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12179,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":2963850,"answer_count":9,"score":31,"last_activity_date":1634047227,"creation_date":1275547757,"question_id":2963819,"body_markdown":"Modern database provide caching support. Most of the ORM frameworks cache retrieved data too. Why this duplication is necessary?\r\n","title":"Why use your application-level cache if database already provides caching?","body":"<p>Modern database provide caching support. Most of the ORM frameworks cache retrieved data too. Why this duplication is necessary?</p>\n"},{"tags":["java","spring-boot","rest","timedelay"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1634041981,"post_id":69540449,"comment_id":122915300,"body_markdown":"You said _iteratively_ but also tagged threadpool so the context isn&#39;t clear.  Assuming this is a concurrency issue, then perhaps a `Semaphore` could be used so that only a single thread can call the API at a time.","body":"You said <i>iteratively</i> but also tagged threadpool so the context isn&#39;t clear.  Assuming this is a concurrency issue, then perhaps a <code>Semaphore</code> could be used so that only a single thread can call the API at a time."},{"owner":{"account_id":5811540,"reputation":305,"user_id":4582425,"accept_rate":50,"display_name":"Jagrut Dalwadi"},"score":0,"creation_date":1634044298,"post_id":69540449,"comment_id":122916275,"body_markdown":"my bad, it is not related to multi threading. it is not related to concurrency.","body":"my bad, it is not related to multi threading. it is not related to concurrency."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634047224,"creation_date":1634044338,"answer_id":69541207,"question_id":69540449,"body_markdown":"A simple and common practise is to use some client-side rate limiting library  to limit the rate of the client to call the API. Most of the fault tolerance library will provide such feature.[`resilience4j`][1] is the popular one which also provides a starter for spring-boot.\r\n\r\nBasically it allows you to define number of the API call that an client can be made in a given period , and how long the client will wait (i.e. timeout) until it is allowed to call the API.\r\n\r\n\r\n  [1]: https://github.com/resilience4j/resilience4j","title":"Delay between every Rest api call","body":"<p>A simple and common practise is to use some client-side rate limiting library  to limit the rate of the client to call the API. Most of the fault tolerance library will provide such feature.<a href=\"https://github.com/resilience4j/resilience4j\" rel=\"nofollow noreferrer\"><code>resilience4j</code></a> is the popular one which also provides a starter for spring-boot.</p>\n<p>Basically it allows you to define number of the API call that an client can be made in a given period , and how long the client will wait (i.e. timeout) until it is allowed to call the API.</p>\n"}],"owner":{"account_id":5811540,"reputation":305,"user_id":4582425,"accept_rate":50,"display_name":"Jagrut Dalwadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69541207,"answer_count":1,"score":0,"last_activity_date":1634047224,"creation_date":1634041236,"question_id":69540449,"body_markdown":"we are have one job where we are hitting internal api based on the few 1000 data that we have fetched from DB.\r\n\r\nCurrently we are hitting external api iteratively and calling internal api. This is result in to spike at that api end. They are suggesting to keep few miliseconds of delay to avoid this surge so that there won&#39;t be spike at producer of api end. \r\n\r\nAt initial thought, sleep can be used to achieve it which is very lower level api. However, I am exploring apis(available in spring-boot or java or other place) which is having more elegant way of considering this usecase.","title":"Delay between every Rest api call","body":"<p>we are have one job where we are hitting internal api based on the few 1000 data that we have fetched from DB.</p>\n<p>Currently we are hitting external api iteratively and calling internal api. This is result in to spike at that api end. They are suggesting to keep few miliseconds of delay to avoid this surge so that there won't be spike at producer of api end.</p>\n<p>At initial thought, sleep can be used to achieve it which is very lower level api. However, I am exploring apis(available in spring-boot or java or other place) which is having more elegant way of considering this usecase.</p>\n"},{"tags":["java","state","apache-flink","flink-statefun"],"answers":[{"tags":[],"owner":{"account_id":8685346,"reputation":345,"user_id":6499972,"display_name":"Seth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588253628,"creation_date":1588253628,"answer_id":61524628,"question_id":61508891,"body_markdown":"&gt; Is there a remote Java SDK\r\n\r\nThere is no Java remote SDK today but I would expect to see one soon based on discussions on the Apache Flink dev mailing list. \r\n\r\nRemote SDKs such as python are effectively convenience wrappers around the generic Http interface. What I mean by that is there is no python specific logic in the statefun runtime and so you *could* today implement a remote function in any language. Obviously, the flink community doesn&#39;t want to force that on people and so new remote sdk&#39;s are being developed for future releases. \r\n\r\n&gt; Also Can I mix embedded and co-located/remote functions?\r\n\r\nYes, there is no special magic. Just include both modules in one deployment and your good to go. Functions in either module can message each other arbitrarily. \r\n\r\nYou can reference this model serving example, which contains both embedded java functions and remote python functions. \r\n\r\nhttps://github.com/ververica/flink-statefun-workshop","title":"Stateful Functions Remote Module in Apache Flink","body":"<blockquote>\n  <p>Is there a remote Java SDK</p>\n</blockquote>\n\n<p>There is no Java remote SDK today but I would expect to see one soon based on discussions on the Apache Flink dev mailing list. </p>\n\n<p>Remote SDKs such as python are effectively convenience wrappers around the generic Http interface. What I mean by that is there is no python specific logic in the statefun runtime and so you <em>could</em> today implement a remote function in any language. Obviously, the flink community doesn't want to force that on people and so new remote sdk's are being developed for future releases. </p>\n\n<blockquote>\n  <p>Also Can I mix embedded and co-located/remote functions?</p>\n</blockquote>\n\n<p>Yes, there is no special magic. Just include both modules in one deployment and your good to go. Functions in either module can message each other arbitrarily. </p>\n\n<p>You can reference this model serving example, which contains both embedded java functions and remote python functions. </p>\n\n<p><a href=\"https://github.com/ververica/flink-statefun-workshop\" rel=\"nofollow noreferrer\">https://github.com/ververica/flink-statefun-workshop</a></p>\n"}],"owner":{"account_id":7098992,"reputation":214,"user_id":5431381,"display_name":"Anıl Sevici"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634047155,"creation_date":1588184311,"question_id":61508891,"body_markdown":"When I examine State functions modules I found below results.\r\n\r\nhttps://ci.apache.org/projects/flink/flink-statefun-docs-release-2.0/sdk/python.html -&gt; The Python SDK is supported as a remote module.\r\n\r\nhttps://ci.apache.org/projects/flink/flink-statefun-docs-release-2.0/sdk/java.html -&gt; The Java SDK is supported as an embedded_module.\r\n\r\n\r\nhttps://ci.apache.org/projects/flink/flink-statefun-docs-release-2.0/sdk/modules.html -&gt; This module type can support any number of language SDK’s. Remote modules are registered with the system via YAML configuration files.\r\n\r\nStateful Function applications communicate with the Apache Flink runtime using http. The Python SDK ships with a RequestReplyHandler that automatically dispatches function calls based on RESTful HTTP POSTS. The RequestReplyHandler may be exposed using any HTTP framework.\r\n\r\n\r\nHow can I serve requests in JAVA? Is there example remote functions for Java SDK?\r\n\r\nAlso Can I mix embedded and co-located/remote functions? \r\nFor example,If I egress such as statistics of customer(sum,count,avg etc.) to another kafka topic and then I ingress that topic and I can use remote functions with python sdk. Remote functions includes updatable scenario but embeded functions are core stats of customer and not necessary update these functions. \r\n","title":"Stateful Functions Remote Module in Apache Flink","body":"<p>When I examine State functions modules I found below results.</p>\n\n<p><a href=\"https://ci.apache.org/projects/flink/flink-statefun-docs-release-2.0/sdk/python.html\" rel=\"nofollow noreferrer\">https://ci.apache.org/projects/flink/flink-statefun-docs-release-2.0/sdk/python.html</a> -> The Python SDK is supported as a remote module.</p>\n\n<p><a href=\"https://ci.apache.org/projects/flink/flink-statefun-docs-release-2.0/sdk/java.html\" rel=\"nofollow noreferrer\">https://ci.apache.org/projects/flink/flink-statefun-docs-release-2.0/sdk/java.html</a> -> The Java SDK is supported as an embedded_module.</p>\n\n<p><a href=\"https://ci.apache.org/projects/flink/flink-statefun-docs-release-2.0/sdk/modules.html\" rel=\"nofollow noreferrer\">https://ci.apache.org/projects/flink/flink-statefun-docs-release-2.0/sdk/modules.html</a> -> This module type can support any number of language SDK’s. Remote modules are registered with the system via YAML configuration files.</p>\n\n<p>Stateful Function applications communicate with the Apache Flink runtime using http. The Python SDK ships with a RequestReplyHandler that automatically dispatches function calls based on RESTful HTTP POSTS. The RequestReplyHandler may be exposed using any HTTP framework.</p>\n\n<p>How can I serve requests in JAVA? Is there example remote functions for Java SDK?</p>\n\n<p>Also Can I mix embedded and co-located/remote functions? \nFor example,If I egress such as statistics of customer(sum,count,avg etc.) to another kafka topic and then I ingress that topic and I can use remote functions with python sdk. Remote functions includes updatable scenario but embeded functions are core stats of customer and not necessary update these functions. </p>\n"},{"tags":["java","archunit"],"comments":[{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":1,"creation_date":1633782225,"post_id":69493755,"comment_id":122855058,"body_markdown":"Can you make your question a bit more specific: Which test is failing and how? Otheriwse it might be difficult to answer. Note that the concept of a static import does not exists at byte code level. In addition, primitive or `String` constants are inlined in the byte code of the importing class, and ArchUnit (in the current version 0.21.0) does not detect a dependency, cf. [ArchUnit#554](https://github.com/TNG/ArchUnit/issues/554) and [ArchUnit#298](https://github.com/TNG/ArchUnit/issues/298#issuecomment-577038056).","body":"Can you make your question a bit more specific: Which test is failing and how? Otheriwse it might be difficult to answer. Note that the concept of a static import does not exists at byte code level. In addition, primitive or <code>String</code> constants are inlined in the byte code of the importing class, and ArchUnit (in the current version 0.21.0) does not detect a dependency, cf. <a href=\"https://github.com/TNG/ArchUnit/issues/554\" rel=\"nofollow noreferrer\">ArchUnit#554</a> and <a href=\"https://github.com/TNG/ArchUnit/issues/298#issuecomment-577038056\" rel=\"nofollow noreferrer\">ArchUnit#298</a>."},{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":0,"creation_date":1633935895,"post_id":69493755,"comment_id":122882766,"body_markdown":"Your comment is fair, and it&#39;s interesting, your fact, that &quot;the concept of a static import does not exists[sic] at byte code level&quot;, which also appears to be true, but those two resources that I sited in my accepted answer appear to be all one would need to get started with Archunit.","body":"Your comment is fair, and it&#39;s interesting, your fact, that &quot;the concept of a static import does not exists[sic] at byte code level&quot;, which also appears to be true, but those two resources that I sited in my accepted answer appear to be all one would need to get started with Archunit."},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1633978830,"post_id":69493755,"comment_id":122898906,"body_markdown":"I agree that the [ArchUnit User Guide](https://www.archunit.org/userguide/html/000_Index.html) should hopefully help to get started. &#128504; I just didn&#39;t see that your question _&quot;How to ignore static dependencies when using Archunit&quot;_ asked for that... &#128521;","body":"I agree that the <a href=\"https://www.archunit.org/userguide/html/000_Index.html\" rel=\"nofollow noreferrer\">ArchUnit User Guide</a> should hopefully help to get started. 🗸 I just didn&#39;t see that your question <i>&quot;How to ignore static dependencies when using Archunit&quot;</i> asked for that... 😉"},{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":0,"creation_date":1634022785,"post_id":69493755,"comment_id":122908032,"body_markdown":"Quite right, In fact , your revelation about static imports, could be fashioned into an acceptable answer.","body":"Quite right, In fact , your revelation about static imports, could be fashioned into an acceptable answer."}],"answers":[{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634047060,"creation_date":1633693044,"answer_id":69495220,"question_id":69493755,"body_markdown":"There is enough between [this][1] and [this][2] to guide you(us).\r\n\r\nBut, as @Manfred pointed out in the comments, static imports do not exist at byte code level, so this is not a problem, and I actually discovered that my issue was not caused by static imports, rather I just needed to grow my list of acceptable dependencies.\r\n\r\n\r\n  [1]: https://www.archunit.org/userguide/html/000_Index.html\r\n  [2]: https://www.baeldung.com/java-archunit-intro","title":"How to ignore static dependencies when using Archunit","body":"<p>There is enough between <a href=\"https://www.archunit.org/userguide/html/000_Index.html\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://www.baeldung.com/java-archunit-intro\" rel=\"nofollow noreferrer\">this</a> to guide you(us).</p>\n<p>But, as @Manfred pointed out in the comments, static imports do not exist at byte code level, so this is not a problem, and I actually discovered that my issue was not caused by static imports, rather I just needed to grow my list of acceptable dependencies.</p>\n"}],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69495220,"answer_count":1,"score":0,"last_activity_date":1634047060,"creation_date":1633686002,"question_id":69493755,"body_markdown":"In one of my Archunit tests, I am checking (for example) that only classes in the service layer are depended on by classes in the presentation layer. \r\n\r\nThis test is failing because, as far as I am able to determine, some classes in the presentation layer have static imports of constants in other non-service layers. \r\n\r\nHow can I mitigate for this? One idea I have is to exclude static imports. How can I do this, using the fluent API?","title":"How to ignore static dependencies when using Archunit","body":"<p>In one of my Archunit tests, I am checking (for example) that only classes in the service layer are depended on by classes in the presentation layer.</p>\n<p>This test is failing because, as far as I am able to determine, some classes in the presentation layer have static imports of constants in other non-service layers.</p>\n<p>How can I mitigate for this? One idea I have is to exclude static imports. How can I do this, using the fluent API?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634047018,"creation_date":1634047018,"answer_id":69541893,"question_id":69541602,"body_markdown":"&gt; I want to use try with resources but i dont know how to use.\r\n\r\nThe java [Try-with-Resources Statement][1] has a really simple syntax of\r\n    \r\n    try (&lt;declaration of closable resources&gt;) {\r\n        // code where you use those resources\r\n    }\r\n\r\nSo in your case a simple\r\n\r\n    try (ValidatorFactory factory = Validation.buildDefaultValidatorFactory();) {\r\n        Validator validator = factory.getValidator();\r\n        Set&lt;ConstraintViolation&lt;RenewPackageRequest&gt;&gt; violations = validator.validate(request);\r\n\r\n        if (CollectionUtils.isNotEmpty(violations)) {\r\n            error.throwValidationError(null, &quot;Input parameters can&#39;t be null/empty&quot;);\r\n        } else if (!YES.equalsIgnoreCase(request.getRenewPackage()) &amp;&amp; !NO.equalsIgnoreCase(request.getRenewPackage())) {\r\n            error.throwValidationError(&quot;RenewPackage&quot;, &quot;parameter can only be YES/NO&quot;);\r\n        }\r\n        return resource;\r\n    }\r\n\r\n\r\nshould work.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Potential resource leak: &#39;factory&#39; may not be closed at this location","body":"<blockquote>\n<p>I want to use try with resources but i dont know how to use.</p>\n</blockquote>\n<p>The java <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">Try-with-Resources Statement</a> has a really simple syntax of</p>\n<pre><code>try (&lt;declaration of closable resources&gt;) {\n    // code where you use those resources\n}\n</code></pre>\n<p>So in your case a simple</p>\n<pre><code>try (ValidatorFactory factory = Validation.buildDefaultValidatorFactory();) {\n    Validator validator = factory.getValidator();\n    Set&lt;ConstraintViolation&lt;RenewPackageRequest&gt;&gt; violations = validator.validate(request);\n\n    if (CollectionUtils.isNotEmpty(violations)) {\n        error.throwValidationError(null, &quot;Input parameters can't be null/empty&quot;);\n    } else if (!YES.equalsIgnoreCase(request.getRenewPackage()) &amp;&amp; !NO.equalsIgnoreCase(request.getRenewPackage())) {\n        error.throwValidationError(&quot;RenewPackage&quot;, &quot;parameter can only be YES/NO&quot;);\n    }\n    return resource;\n}\n</code></pre>\n<p>should work.</p>\n"}],"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69541893,"answer_count":1,"score":1,"last_activity_date":1634047018,"creation_date":1634045979,"question_id":69541602,"body_markdown":"Im getting this error on resource:\r\n\r\n&gt; Potential resource leak: &#39;factory&#39; may not be closed at this location\r\n\r\nThis is my code:\r\n\r\n          ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n                Validator validator = factory.getValidator();\r\n                Set&lt;ConstraintViolation&lt;RenewPackageRequest&gt;&gt; violations = validator.validate(request);\r\n          \r\n                if (CollectionUtils.isNotEmpty(violations)) {\r\n                    error.throwValidationError(null, &quot;Input parameters can&#39;t be null/empty&quot;);\r\n                } else if (!YES.equalsIgnoreCase(request.getRenewPackage()) &amp;&amp; !NO.equalsIgnoreCase(request.getRenewPackage())) {\r\n                    error.throwValidationError(&quot;RenewPackage&quot;, &quot;parameter can only be YES/NO&quot;);\r\n                }\r\n       return resource;\r\n\r\nI want to use try with resources but i dont know how to use.\r\nI now that if i put factory.close() this error will disappear but this is not good praxis.\r\nAny suggestion?\r\n ","title":"Potential resource leak: &#39;factory&#39; may not be closed at this location","body":"<p>Im getting this error on resource:</p>\n<blockquote>\n<p>Potential resource leak: 'factory' may not be closed at this location</p>\n</blockquote>\n<p>This is my code:</p>\n<pre><code>      ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n            Validator validator = factory.getValidator();\n            Set&lt;ConstraintViolation&lt;RenewPackageRequest&gt;&gt; violations = validator.validate(request);\n      \n            if (CollectionUtils.isNotEmpty(violations)) {\n                error.throwValidationError(null, &quot;Input parameters can't be null/empty&quot;);\n            } else if (!YES.equalsIgnoreCase(request.getRenewPackage()) &amp;&amp; !NO.equalsIgnoreCase(request.getRenewPackage())) {\n                error.throwValidationError(&quot;RenewPackage&quot;, &quot;parameter can only be YES/NO&quot;);\n            }\n   return resource;\n</code></pre>\n<p>I want to use try with resources but i dont know how to use.\nI now that if i put factory.close() this error will disappear but this is not good praxis.\nAny suggestion?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634046479,"creation_date":1634046479,"answer_id":69541744,"question_id":69541683,"body_markdown":"You are getting the following error:\r\n\r\n&gt; Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)&#39; on a null object reference\r\n\r\nBecause you are trying to use the `firestore` object before it is initialized. To solve this Exception, please move the following line of code:\r\n\r\n    firestore = FirebaseFirestore.getInstance();\r\n\r\nRight before:\r\n\r\n    firestore.collection(&quot;notes&quot;).get().addOnSuccessListener(/* ... /*);\r\n\r\nAnd your error will be gone.","title":"Unable to start activity ComponentInfo and not showing data to recyclerview","body":"<p>You are getting the following error:</p>\n<blockquote>\n<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)' on a null object reference</p>\n</blockquote>\n<p>Because you are trying to use the <code>firestore</code> object before it is initialized. To solve this Exception, please move the following line of code:</p>\n<pre><code>firestore = FirebaseFirestore.getInstance();\n</code></pre>\n<p>Right before:</p>\n<pre><code>firestore.collection(&quot;notes&quot;).get().addOnSuccessListener(/* ... /*);\n</code></pre>\n<p>And your error will be gone.</p>\n"}],"owner":{"account_id":22131826,"reputation":45,"user_id":17062040,"display_name":"Dharmik "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69541744,"answer_count":1,"score":1,"last_activity_date":1634046509,"creation_date":1634046275,"question_id":69541683,"body_markdown":"&gt; I am trying to get data from my Firestore Database and I got this error:\r\n```\r\n2021-10-12 19:01:18.585 18859-18859/com.dharmik953.mynotes_firebase E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.dharmik953.mynotes_firebase, PID: 18859\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.dharmik953.mynotes_firebase/com.dharmik953.mynotes_firebase.HomePage}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)&#39; on a null object reference\r\n        at com.dharmik953.mynotes_firebase.HomePage.onCreate(HomePage.java:66)\r\n        at android.app.Activity.performCreate(Activity.java:8000)\r\n        at android.app.Activity.performCreate(Activity.java:7984)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n```\r\ni think there is problem with my one of any layouts or something else i tried to find solution  at other sites but nothing changed error remains same. i am very begging stage of my firestore database learning and tis is my very first project i pushed my project on git hub and shared link of it. please help me in this problem. \r\n\r\nfirestore database:-\r\n\r\n&quot;notes&quot;-&gt; uid-&gt; &quot;myNotes&quot;-&gt; noteid-&gt; &quot;title&quot;,&quot;content&quot;.\r\n\r\nGithub link:-\r\n\r\nhttps://github.com/dharmik953/MyNotes-firebase\r\n```\r\n{\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home_page);\r\n\r\n        binding = ActivityHomePageBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        datalist=new ArrayList&lt;&gt;();\r\n        recyclerView = findViewById(R.id.recyclerview);\r\n        recyclerView.setHasFixedSize(true);\r\n        layoutManager2 = new LinearLayoutManager(getApplicationContext());\r\n//        layoutManager = new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\r\n        recyclerView.setLayoutManager(layoutManager2);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        firestore.collection(&quot;notes&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                List&lt;DocumentSnapshot&gt; list=queryDocumentSnapshots.getDocuments();\r\n                for(DocumentSnapshot d:list)\r\n                {\r\n                    firebaseModel obj=d.toObject(firebaseModel.class);\r\n                    datalist.add(obj);\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n\r\n        firestore = FirebaseFirestore.getInstance();\r\n\r\n        addNotes = findViewById(R.id.add_button);\r\n\r\n        Objects.requireNonNull(getSupportActionBar()).setTitle(&quot;Notes&quot;);\r\n\r\n        addNotes.setOnClickListener(v -&gt; startActivity(new Intent(HomePage.this,addNotes.class)));\r\n\r\n    }\r\n```","title":"Unable to start activity ComponentInfo and not showing data to recyclerview","body":"<blockquote>\n<p>I am trying to get data from my Firestore Database and I got this error:</p>\n</blockquote>\n<pre><code>2021-10-12 19:01:18.585 18859-18859/com.dharmik953.mynotes_firebase E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.dharmik953.mynotes_firebase, PID: 18859\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.dharmik953.mynotes_firebase/com.dharmik953.mynotes_firebase.HomePage}: java.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)' on a null object reference\n        at com.dharmik953.mynotes_firebase.HomePage.onCreate(HomePage.java:66)\n        at android.app.Activity.performCreate(Activity.java:8000)\n        at android.app.Activity.performCreate(Activity.java:7984)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n</code></pre>\n<p>i think there is problem with my one of any layouts or something else i tried to find solution  at other sites but nothing changed error remains same. i am very begging stage of my firestore database learning and tis is my very first project i pushed my project on git hub and shared link of it. please help me in this problem.</p>\n<p>firestore database:-</p>\n<p>&quot;notes&quot;-&gt; uid-&gt; &quot;myNotes&quot;-&gt; noteid-&gt; &quot;title&quot;,&quot;content&quot;.</p>\n<p>Github link:-</p>\n<p><a href=\"https://github.com/dharmik953/MyNotes-firebase\" rel=\"nofollow noreferrer\">https://github.com/dharmik953/MyNotes-firebase</a></p>\n<pre><code>{\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home_page);\n\n        binding = ActivityHomePageBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        datalist=new ArrayList&lt;&gt;();\n        recyclerView = findViewById(R.id.recyclerview);\n        recyclerView.setHasFixedSize(true);\n        layoutManager2 = new LinearLayoutManager(getApplicationContext());\n//        layoutManager = new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\n        recyclerView.setLayoutManager(layoutManager2);\n        recyclerView.setAdapter(adapter);\n\n        firestore.collection(&quot;notes&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                List&lt;DocumentSnapshot&gt; list=queryDocumentSnapshots.getDocuments();\n                for(DocumentSnapshot d:list)\n                {\n                    firebaseModel obj=d.toObject(firebaseModel.class);\n                    datalist.add(obj);\n                }\n                adapter.notifyDataSetChanged();\n            }\n        });\n\n        firestore = FirebaseFirestore.getInstance();\n\n        addNotes = findViewById(R.id.add_button);\n\n        Objects.requireNonNull(getSupportActionBar()).setTitle(&quot;Notes&quot;);\n\n        addNotes.setOnClickListener(v -&gt; startActivity(new Intent(HomePage.this,addNotes.class)));\n\n    }\n</code></pre>\n"},{"tags":["java","hadoop","hdfs"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1495342957,"post_id":44093376,"comment_id":75208147,"body_markdown":"Tried content wildcard, such as `Path source=new Path(&quot;hdfs://HANameService/sources/hpm_support/apc_code/*&quot;);`?","body":"Tried content wildcard, such as <code>Path source=new Path(&quot;hdfs:&#47;&#47;HANameService&#47;sources&#47;hpm_support&#47;apc_code&#47;*&quot;);</code>&zwnj;&#8203;?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1495343108,"post_id":44093376,"comment_id":75208178,"body_markdown":"Alternatively, have you tried to specify just the parent for the destination? ` Path source=new Path(&quot;hdfs://HANameService/sources/hpm_support/apc_code/&quot;);  Path target=new Path(&quot;hdfs://HANameService/staging/hpm_support/&quot;);`? That could work.","body":"Alternatively, have you tried to specify just the parent for the destination? ` Path source=new Path(&quot;hdfs://HANameService/sources/hpm_support/apc_code/&quot;);  Path target=new Path(&quot;hdfs://HANameService/staging/hpm_support/&quot;);`? That could work."},{"owner":{"account_id":2644906,"reputation":1365,"user_id":2287816,"accept_rate":75,"display_name":"jymbo"},"score":0,"creation_date":1495344022,"post_id":44093376,"comment_id":75208349,"body_markdown":"OK Your first suggestion results in: File does not exist: hdfs://HA-NameService/sources/hpm_support/apc_code/*","body":"OK Your first suggestion results in: File does not exist: hdfs://HA-NameService/sources/hpm_support/apc_code/*"},{"owner":{"account_id":2644906,"reputation":1365,"user_id":2287816,"accept_rate":75,"display_name":"jymbo"},"score":0,"creation_date":1495344077,"post_id":44093376,"comment_id":75208361,"body_markdown":"Second suggestion results in: java.io.IOException: Target hdfs://HA-NameService/staging/hpm_support/apc_code is a directory","body":"Second suggestion results in: java.io.IOException: Target hdfs://HA-NameService/staging/hpm_support/apc_code is a directory"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1495344192,"post_id":44093376,"comment_id":75208383,"body_markdown":"Isn&#39;t that because the target directory already exists?","body":"Isn&#39;t that because the target directory already exists?"}],"answers":[{"tags":[],"owner":{"account_id":7771206,"reputation":41309,"user_id":5880706,"display_name":"Ramesh Maharjan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1495345893,"creation_date":1495344519,"answer_id":44093510,"question_id":44093376,"body_markdown":"You need to `list` the files in the `source directory` and `copy` each file using `iterator`\r\n\r\n    \r\n                Path source=new Path(&quot;hdfs://HANameService/sources/hpm_support/apc_code/&quot;);\r\n                Path target=new Path(&quot;hdfs://HANameService/staging/hpm_support/apc_code/&quot;);\r\n                FileSystem fs = source.getFileSystem(conf);\r\n                RemoteIterator&lt;LocatedFileStatus&gt; sourceFiles = fs.listFiles(source, true);\r\n                if(sourceFiles != null) {\r\n                    while(sourceFiles.hasNext()){\r\n                        FileUtil.copy(fs, sourceFiles.next().getPath(), fs, target, true, conf);\r\n                    }           \r\n                }\r\nHope it is helpful to you","title":"Java Copying File in HDFS to another Directory in HDFS","body":"<p>You need to <code>list</code> the files in the <code>source directory</code> and <code>copy</code> each file using <code>iterator</code></p>\n\n<pre><code>            Path source=new Path(\"hdfs://HANameService/sources/hpm_support/apc_code/\");\n            Path target=new Path(\"hdfs://HANameService/staging/hpm_support/apc_code/\");\n            FileSystem fs = source.getFileSystem(conf);\n            RemoteIterator&lt;LocatedFileStatus&gt; sourceFiles = fs.listFiles(source, true);\n            if(sourceFiles != null) {\n                while(sourceFiles.hasNext()){\n                    FileUtil.copy(fs, sourceFiles.next().getPath(), fs, target, true, conf);\n                }           \n            }\n</code></pre>\n\n<p>Hope it is helpful to you</p>\n"},{"tags":[],"owner":{"account_id":6228752,"reputation":3346,"user_id":4846215,"accept_rate":66,"display_name":"D. M&#252;ller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634046412,"creation_date":1634046412,"answer_id":69541724,"question_id":44093376,"body_markdown":"As already mentioned by @ernest_k this behavior only occurs if the target directory already exists in HDFS. \r\n\r\nSo, deleting the target directory before calling the `copy` method will also solve your problem:\r\n\r\n```\r\nif(fileSystem.exists(pathTo)) {\r\n    fileSystem.delete(pathTo, true);\r\n}\r\n\r\nFileUtil.copy(fileSystem, pathFrom, fileSystem, pathTo, false, true, conf);\r\n```","title":"Java Copying File in HDFS to another Directory in HDFS","body":"<p>As already mentioned by @ernest_k this behavior only occurs if the target directory already exists in HDFS.</p>\n<p>So, deleting the target directory before calling the <code>copy</code> method will also solve your problem:</p>\n<pre><code>if(fileSystem.exists(pathTo)) {\n    fileSystem.delete(pathTo, true);\n}\n\nFileUtil.copy(fileSystem, pathFrom, fileSystem, pathTo, false, true, conf);\n</code></pre>\n"}],"owner":{"account_id":2644906,"reputation":1365,"user_id":2287816,"accept_rate":75,"display_name":"jymbo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4269,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44093510,"answer_count":2,"score":5,"last_activity_date":1634046412,"creation_date":1495342872,"question_id":44093376,"body_markdown":"I&#39;m using the example in this link [here][1] to copy contents from one directory in hdfs to another directory in hdfs. The copying of file works, but it creates a new subdirectory in the target vs. just copying the file to the target dir. Example:\r\n                      \r\n      Path source=new Path(&quot;hdfs://HANameService/sources/hpm_support/apc_code/&quot;);\r\n\t  Path target=new Path(&quot;hdfs://HANameService/staging/hpm_support/apc_code/&quot;);\r\n\t  FileSystem fs = source.getFileSystem(conf); \r\n      FileUtil.copy(fs, source, fs, target, true, conf);`\r\n\r\nSo instead of copying the file to `hdfs://HANameService/staging/hpm_support/apc_code` it creates a new dir under apc_code and the file ends up in `hdfs://HANameService/staging/hpm_support/apc_code/apc_code` How can I get it to not create that sub-directory?\r\n\r\n  [1]: https://stackoverflow.com/questions/38141516/how-to-move-or-copy-file-in-hdfs-by-using-java-api","title":"Java Copying File in HDFS to another Directory in HDFS","body":"<p>I'm using the example in this link <a href=\"https://stackoverflow.com/questions/38141516/how-to-move-or-copy-file-in-hdfs-by-using-java-api\">here</a> to copy contents from one directory in hdfs to another directory in hdfs. The copying of file works, but it creates a new subdirectory in the target vs. just copying the file to the target dir. Example:</p>\n\n<pre><code>  Path source=new Path(\"hdfs://HANameService/sources/hpm_support/apc_code/\");\n  Path target=new Path(\"hdfs://HANameService/staging/hpm_support/apc_code/\");\n  FileSystem fs = source.getFileSystem(conf); \n  FileUtil.copy(fs, source, fs, target, true, conf);`\n</code></pre>\n\n<p>So instead of copying the file to <code>hdfs://HANameService/staging/hpm_support/apc_code</code> it creates a new dir under apc_code and the file ends up in <code>hdfs://HANameService/staging/hpm_support/apc_code/apc_code</code> How can I get it to not create that sub-directory?</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":1,"creation_date":1633964782,"post_id":69528399,"comment_id":122893940,"body_markdown":"What happens when you set it to `create` instead of `update` (I expect the db of a demo project does not contain important records)? Does it get created then?","body":"What happens when you set it to <code>create</code> instead of <code>update</code> (I expect the db of a demo project does not contain important records)? Does it get created then?"},{"owner":{"account_id":21525117,"reputation":21,"user_id":15865554,"display_name":"Than"},"score":0,"creation_date":1633964845,"post_id":69528399,"comment_id":122893969,"body_markdown":"Nothing happend","body":"Nothing happend"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1633964998,"post_id":69528399,"comment_id":122894032,"body_markdown":"Are you using `@EntityScan` in your spring boot project?","body":"Are you using <code>@EntityScan</code> in your spring boot project?"},{"owner":{"account_id":21525117,"reputation":21,"user_id":15865554,"display_name":"Than"},"score":0,"creation_date":1633965084,"post_id":69528399,"comment_id":122894070,"body_markdown":"No, I do not use this. Changed Entity to EntityScan but it didnt worked","body":"No, I do not use this. Changed Entity to EntityScan but it didnt worked"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":1,"creation_date":1633965266,"post_id":69528399,"comment_id":122894146,"body_markdown":"`@EntityScan` is not a substitute for `@Entity` but a Spring Boot annotation you should place on your configuration class. Read up on `@EnableJpaRepositories` and `@EntityScan` as I suspect that your entity is not detected by Spring.","body":"<code>@EntityScan</code> is not a substitute for <code>@Entity</code> but a Spring Boot annotation you should place on your configuration class. Read up on <code>@EnableJpaRepositories</code> and <code>@EntityScan</code> as I suspect that your entity is not detected by Spring."},{"owner":{"account_id":21525117,"reputation":21,"user_id":15865554,"display_name":"Than"},"score":0,"creation_date":1633966122,"post_id":69528399,"comment_id":122894500,"body_markdown":"Somehow it worked! Thanks","body":"Somehow it worked! Thanks"}],"owner":{"account_id":21525117,"reputation":21,"user_id":15865554,"display_name":"Than"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634046395,"creation_date":1633964527,"question_id":69528399,"body_markdown":"Sorry guys, I know there are many solutions for this problem but I tried everything. I am using Java 17, 2.5.5 spring version. My application connects to mysql but cannot create the table. I tried every possible solution but it is not working . Whether the problem belongs to the side hibernate or there is something else? I tried 100 different application properties but none was good for me.\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n\r\n    public class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(name = &quot;firstName&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;lastName&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;emailId&quot;)\r\n    private String emailId;\r\n\r\n    public Employee(){\r\n\r\n    }\r\n    public Employee(String firstName, String lastName, String emailId){\r\n        super();\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.emailId = emailId;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n    spring.datasource.url=jdbc:mysql://127.0.0.1:3306/employeeSystem\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=admin\r\n    spring.jpa.generate-ddl=true\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.5&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;SpringAngular&lt;/groupId&gt;\r\n        &lt;artifactId&gt;EmployeeCRUD&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;EmployeeCRUD&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.10.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository &lt;Employee, Long&gt; {\r\n    }\r\n\r\n","title":"Hibernate is not auto-creating a table in MySql that does not exist in the DB but I not get any errors","body":"<p>Sorry guys, I know there are many solutions for this problem but I tried everything. I am using Java 17, 2.5.5 spring version. My application connects to mysql but cannot create the table. I tried every possible solution but it is not working . Whether the problem belongs to the side hibernate or there is something else? I tried 100 different application properties but none was good for me.</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;employees&quot;)\n\npublic class Employee {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@Column(name = &quot;firstName&quot;)\nprivate String firstName;\n\n@Column(name = &quot;lastName&quot;)\nprivate String lastName;\n\n@Column(name = &quot;emailId&quot;)\nprivate String emailId;\n\npublic Employee(){\n\n}\npublic Employee(String firstName, String lastName, String emailId){\n    super();\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.emailId = emailId;\n}\n</code></pre>\n<p>}</p>\n<pre><code>spring.datasource.url=jdbc:mysql://127.0.0.1:3306/employeeSystem\nspring.datasource.username=admin\nspring.datasource.password=admin\nspring.jpa.generate-ddl=true\n\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto=update\n\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\n\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;SpringAngular&lt;/groupId&gt;\n    &lt;artifactId&gt;EmployeeCRUD&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;EmployeeCRUD&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.4.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n@Repository\npublic interface EmployeeRepository extends JpaRepository &lt;Employee, Long&gt; {\n}\n</code></pre>\n"},{"tags":["java","firebase","google-cloud-platform","google-cloud-firestore","types"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1634021244,"post_id":69533846,"comment_id":122907514,"body_markdown":"Please edit your question and add the content of your `Money` class. Please edit your question and add your database structure as a screenshot.","body":"Please edit your question and add the content of your <code>Money</code> class. Please edit your question and add your database structure as a screenshot."},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1634043012,"post_id":69533846,"comment_id":122915688,"body_markdown":"@AlexMamo hello, I have applied the changes. Can you check it out?","body":"@AlexMamo hello, I have applied the changes. Can you check it out?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1634043238,"post_id":69533846,"comment_id":122915787,"body_markdown":"There is too much going on there. You should isolate the problem.","body":"There is too much going on there. You should isolate the problem."},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1634044209,"post_id":69533846,"comment_id":122916230,"body_markdown":"@AlexMamo allright, I have isolate it. Can you check it out?","body":"@AlexMamo allright, I have isolate it. Can you check it out?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1634044939,"post_id":69533846,"comment_id":122916603,"body_markdown":"How does your database look like?","body":"How does your database look like?"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1634047597,"post_id":69533846,"comment_id":122917976,"body_markdown":"@AlexMamo there is no database running, the application is on build step. The model of Firestore is the one that I have displayed on the question.","body":"@AlexMamo there is no database running, the application is on build step. The model of Firestore is the one that I have displayed on the question."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634046358,"creation_date":1634045086,"answer_id":69541395,"question_id":69533846,"body_markdown":"The mere problem is that you&#39;re not going to add annotations into `class Money` and you&#39;re also not going to extend `final class Money`. This means, you can&#39;t just take some random class, that sounds alike and then expect it to be cast-able. There are no type-converters for Firestore, but one still can override [`DocumentSnapshot.toObject()`](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#public-t-toobject-classt-valuetype)... and monetary values generally can safely be stored eg. as `Integer` cents, to be converted to `BigDecimal` on demand.","title":"Conflicting getters for com.google.type.Money - Java","body":"<p>The mere problem is that you're not going to add annotations into <code>class Money</code> and you're also not going to extend <code>final class Money</code>. This means, you can't just take some random class, that sounds alike and then expect it to be cast-able. There are no type-converters for Firestore, but one still can override <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#public-t-toobject-classt-valuetype\" rel=\"nofollow noreferrer\"><code>DocumentSnapshot.toObject()</code></a>... and monetary values generally can safely be stored eg. as <code>Integer</code> cents, to be converted to <code>BigDecimal</code> on demand.</p>\n"}],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634046358,"creation_date":1633999135,"question_id":69533846,"body_markdown":"I am building an application to run with Firestore and I am facing a trouble with money.\r\n\r\nSince Firebase does not support BigDecimal, I am trying to use the Money class. But there is a error being displayed `java.lang.RuntimeException: Found conflicting getters for name getDefaultInstanceForType on class com.google.type.Money`.\r\n\r\nI have accessed the Decompiled file of the Money class and really there is two getters:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n[In the decumentation][2] of this class there is only one method, so I dont know how to proceed.\r\n\r\nHere is the problem in Money class decompiled from my IntelliJ IDEA:\r\n\r\n```java\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage com.google.type;\r\n\r\n.... HIDDEN FIELDS ....\r\n\r\npublic final class Money extends GeneratedMessageV3 implements MoneyOrBuilder {\r\n\r\n\r\n .... HIDDEN FIELDS BY ME ....\r\n\r\n    public Money getDefaultInstanceForType() {\r\n        return DEFAULT_INSTANCE;\r\n    }\r\n\r\n.... MORE HIDDEN FIELDS ....\r\n\r\n        public Money getDefaultInstanceForType() {\r\n            return Money.getDefaultInstance();\r\n        }\r\n       \r\n      \r\n.... AND MORE HIDDEN FIELDS ...\r\n\r\n    }\r\n}\r\n\r\n```\r\nIf you would like to see the entire class, [here is a link to a notion page][3]\r\n\r\nWhat should I do?\r\n\r\n\r\nOh, and here&#39;s my model (by privacy clauses, I&#39;m hiding some parts):\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Document(collectionName = &quot;ModelClassCollection&quot;)\r\npublic class MyModelClass {\r\n\r\n    @DocumentId\r\n    private String id;\r\n\r\n .... HIDDEN FIELDS  ....\r\n\r\n    private Money total;\r\n\r\n    private Money municipalTax;\r\n\r\n    private Money federalTax;\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UjT32.png\r\n  [2]: http://googleapis.github.io/googleapis/java/all/latest/apidocs/com/google/type/Money.html\r\n  [3]: https://actually-kookaburra-4e5.notion.site/Google-Money-Class-60f61047a00d4759a2d573289feb66ef","title":"Conflicting getters for com.google.type.Money - Java","body":"<p>I am building an application to run with Firestore and I am facing a trouble with money.</p>\n<p>Since Firebase does not support BigDecimal, I am trying to use the Money class. But there is a error being displayed <code>java.lang.RuntimeException: Found conflicting getters for name getDefaultInstanceForType on class com.google.type.Money</code>.</p>\n<p>I have accessed the Decompiled file of the Money class and really there is two getters:\n<a href=\"https://i.stack.imgur.com/UjT32.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UjT32.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"http://googleapis.github.io/googleapis/java/all/latest/apidocs/com/google/type/Money.html\" rel=\"nofollow noreferrer\">In the decumentation</a> of this class there is only one method, so I dont know how to proceed.</p>\n<p>Here is the problem in Money class decompiled from my IntelliJ IDEA:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage com.google.type;\n\n.... HIDDEN FIELDS ....\n\npublic final class Money extends GeneratedMessageV3 implements MoneyOrBuilder {\n\n\n .... HIDDEN FIELDS BY ME ....\n\n    public Money getDefaultInstanceForType() {\n        return DEFAULT_INSTANCE;\n    }\n\n.... MORE HIDDEN FIELDS ....\n\n        public Money getDefaultInstanceForType() {\n            return Money.getDefaultInstance();\n        }\n       \n      \n.... AND MORE HIDDEN FIELDS ...\n\n    }\n}\n\n</code></pre>\n<p>If you would like to see the entire class, <a href=\"https://actually-kookaburra-4e5.notion.site/Google-Money-Class-60f61047a00d4759a2d573289feb66ef\" rel=\"nofollow noreferrer\">here is a link to a notion page</a></p>\n<p>What should I do?</p>\n<p>Oh, and here's my model (by privacy clauses, I'm hiding some parts):</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Document(collectionName = &quot;ModelClassCollection&quot;)\npublic class MyModelClass {\n\n    @DocumentId\n    private String id;\n\n .... HIDDEN FIELDS  ....\n\n    private Money total;\n\n    private Money municipalTax;\n\n    private Money federalTax;\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","opencsv","export-csv"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634035630,"creation_date":1634035630,"answer_id":69539203,"question_id":69539006,"body_markdown":"This is more of being related to the *opencsv* library than *Spring* or *Spring Boot* itself.\r\n\r\nWhen constructing the `StatefullBeanToCsvBuilder`, you should use the `withIgonreField` builder property to instruct the final `StatefullBeanToCsv` on which fields to ignore for which types.\r\n\r\nSay you want only the `id` and `amount` fields out of your `Report` entity, you can achieve this as follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @RestController\r\n    public class ReportsController {\r\n    \r\n        @Autowired\r\n        ReportsService reportsService;\r\n    \r\n        @GetMapping(&quot;/export-report&quot;)\r\n        public void exportCSV(HttpServletResponse response) throws Exception {\r\n    \r\n            // set file name and content type\r\n            String filename = &quot;details.csv&quot;;\r\n            response.setContentType(&quot;text/csv&quot;);\r\n            response.setHeader(HttpHeaders.CONTENT_DISPOSITION, \r\n                       &quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\r\n    \r\n            // Configure the CSV writer builder\r\n            StatefulBeanToCsvBuilder&lt;Report&gt; builder = new StatefulBeanToCsvBuilder&lt;Report&gt;(response.getWriter()).withQuotechar(CSVWriter.NO_QUOTE_CHARACTER).withSeparator(CSVWriter.DEFAULT_SEPARATOR).withOrderedResults(false);\r\n\r\n            // Ignore any field except the `id` and `amount` ones\r\n            Arrays.stream(Report.class.getDeclaredFields())\r\n                    .filter(field -&gt; !(&quot;id&quot;.equals(field.getName()) || &quot;amount&quot;.equals(field.getName())))\r\n                    .forEach(field -&gt; builder.withIgnoreField(Report.class, field));\r\n\r\n            // create a csv writer\r\n            StatefulBeanToCsv&lt;Report&gt; writer = builder.build();\r\n\r\n            // write all employees to csv file\r\n            writer.write(reportsService.fetchAll());\r\n    \r\n        }  \r\n    }","title":"How to get selective columns in Export Csv in Spring boot","body":"<p>This is more of being related to the <em>opencsv</em> library than <em>Spring</em> or <em>Spring Boot</em> itself.</p>\n<p>When constructing the <code>StatefullBeanToCsvBuilder</code>, you should use the <code>withIgonreField</code> builder property to instruct the final <code>StatefullBeanToCsv</code> on which fields to ignore for which types.</p>\n<p>Say you want only the <code>id</code> and <code>amount</code> fields out of your <code>Report</code> entity, you can achieve this as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class ReportsController {\n\n    @Autowired\n    ReportsService reportsService;\n\n    @GetMapping(&quot;/export-report&quot;)\n    public void exportCSV(HttpServletResponse response) throws Exception {\n\n        // set file name and content type\n        String filename = &quot;details.csv&quot;;\n        response.setContentType(&quot;text/csv&quot;);\n        response.setHeader(HttpHeaders.CONTENT_DISPOSITION, \n                   &quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\n\n        // Configure the CSV writer builder\n        StatefulBeanToCsvBuilder&lt;Report&gt; builder = new StatefulBeanToCsvBuilder&lt;Report&gt;(response.getWriter()).withQuotechar(CSVWriter.NO_QUOTE_CHARACTER).withSeparator(CSVWriter.DEFAULT_SEPARATOR).withOrderedResults(false);\n\n        // Ignore any field except the `id` and `amount` ones\n        Arrays.stream(Report.class.getDeclaredFields())\n                .filter(field -&gt; !(&quot;id&quot;.equals(field.getName()) || &quot;amount&quot;.equals(field.getName())))\n                .forEach(field -&gt; builder.withIgnoreField(Report.class, field));\n\n        // create a csv writer\n        StatefulBeanToCsv&lt;Report&gt; writer = builder.build();\n\n        // write all employees to csv file\n        writer.write(reportsService.fetchAll());\n\n    }  \n}\n</code></pre>\n"}],"owner":{"account_id":22756263,"reputation":79,"user_id":16915685,"display_name":"swarajsingh78"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1547,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69539203,"answer_count":1,"score":-1,"last_activity_date":1634046273,"creation_date":1634034734,"question_id":69539006,"body_markdown":"I am new to spring boot and i am creating a spring boot app to generate csv files from data fetched from database .I&#39;m using h2 database for it and want to get selective columns from my entity-id,amount\r\n\r\nentity class:\r\n\r\n    package com.reports.entities;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity(name=&quot;reportDetails&quot;)\r\n    @Table(name = &quot;reports&quot;)\r\n    public class Report {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private long id;\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n        @Column(name=&quot;email&quot;)\r\n        private String email;\r\n        @Column(name=&quot;amount&quot;)\r\n        private int amount;\r\n        \r\n    \tpublic Report() {\r\n    \t\tsuper();\r\n    \t}\r\n    \tpublic Report(int id, String name, String email, int amount) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.email = email;\r\n    \t\tthis.amount = amount;\r\n    \t}\r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \tpublic int getAmount() {\r\n    \t\treturn amount;\r\n    \t}\r\n    \tpublic void setAmount(int amount) {\r\n    \t\tthis.amount = amount;\r\n    \t}\r\n        \r\n        \r\n        }\r\n\r\nmain class:\r\n\r\n    package com.reports;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import com.reports.entities.Report;\r\n    import com.reports.repository.ReportsRepository;\r\n    \r\n    @SpringBootApplication\r\n    public class ExportCsvApplication implements CommandLineRunner {\r\n        @Autowired\r\n        ReportsRepository reportsRepository;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ExportCsvApplication.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            List&lt;Report&gt; reports = new ArrayList&lt;&gt;();\r\n    \r\n            // create dummy employees\r\n            reports.add(new Report(1,&quot;roy&quot;,&quot;roy@123.com&quot;,2500));\r\n            reports.add(new Report(2,&quot;joy&quot;,&quot;joy@123.com&quot;,2500));\r\n            reports.add(new Report(3,&quot;soy&quot;,&quot;soy@123.com&quot;,2500));\r\n            reports.add(new Report(4,&quot;moy&quot;,&quot;moy@123.com&quot;,2500));\r\n            reports.add(new Report(5,&quot;noy&quot;,&quot;noy@123.com&quot;,2500));\r\n            \r\n            reportsRepository.saveAll(reports);\r\n        }\r\n    \r\n    }\r\nrepository :\r\n\r\n    package com.reports.repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.reports.entities.IReport;\r\n    import com.reports.entities.Report;\r\n    \r\n    @Repository(&quot;reportsRepository&quot;)\r\n    public interface ReportsRepository extends JpaRepository&lt;Report,Long&gt;{\r\n    \r\n    }\r\nService class:\r\n\r\n    package com.reports.services;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.transaction.Transactional;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.reports.entities.IReport;\r\n    import com.reports.entities.Report;\r\n    import com.reports.repository.ReportsRepository;\r\n    @Transactional\r\n    @Service\r\n    public class ReportsService {\r\n        @Autowired\r\n       ReportsRepository reportsRepository;\r\n    \r\n        public List&lt;Report&gt; fetchAll() {\r\n            return (List&lt;Report&gt;) reportsRepository.findAll();\r\n           \r\n    \r\n        }\r\n    \r\n    \t\r\n    }\r\nController:\r\n\r\n    package com.reports.controllers;\r\n    \r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.opencsv.CSVWriter;\r\n    import com.opencsv.bean.StatefulBeanToCsv;\r\n    import com.opencsv.bean.StatefulBeanToCsvBuilder;\r\n    import com.reports.entities.Report;\r\n    import com.reports.services.ReportsService;\r\n    \r\n    @RestController\r\n    public class ReportsController {\r\n    \r\n        @Autowired\r\n        ReportsService reportsService;\r\n        @GetMapping(&quot;/export-report&quot;)\r\n        public void exportCSV(HttpServletResponse response) throws Exception {\r\n    \r\n            // set file name and content type\r\n            String filename = &quot;details.csv&quot;;\r\n    \r\n            response.setContentType(&quot;text/csv&quot;);\r\n            response.setHeader(HttpHeaders.CONTENT_DISPOSITION, \r\n                       &quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\r\n    \r\n            // create a csv writer\r\n            StatefulBeanToCsv&lt;Report&gt; writer = new StatefulBeanToCsvBuilder&lt;Report&gt;(response.getWriter()).withQuotechar(CSVWriter.NO_QUOTE_CHARACTER).withSeparator(CSVWriter.DEFAULT_SEPARATOR).withOrderedResults(false).build();\r\n    \r\n            // write all employees to csv file\r\n            writer.write(reportsService.fetchAll());\r\n    \r\n        }\r\n        \r\n        \r\n        \r\n       \r\n    }\r\nI want to know what would be the best method to incorporate for it i tried query but faced errors.Please let me know how do i get this done\r\n","title":"How to get selective columns in Export Csv in Spring boot","body":"<p>I am new to spring boot and i am creating a spring boot app to generate csv files from data fetched from database .I'm using h2 database for it and want to get selective columns from my entity-id,amount</p>\n<p>entity class:</p>\n<pre><code>package com.reports.entities;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity(name=&quot;reportDetails&quot;)\n@Table(name = &quot;reports&quot;)\npublic class Report {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private long id;\n    @Column(name=&quot;name&quot;)\n    private String name;\n    @Column(name=&quot;email&quot;)\n    private String email;\n    @Column(name=&quot;amount&quot;)\n    private int amount;\n    \n    public Report() {\n        super();\n    }\n    public Report(int id, String name, String email, int amount) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.email = email;\n        this.amount = amount;\n    }\n    public long getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    public int getAmount() {\n        return amount;\n    }\n    public void setAmount(int amount) {\n        this.amount = amount;\n    }\n    \n    \n    }\n</code></pre>\n<p>main class:</p>\n<pre><code>package com.reports;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport com.reports.entities.Report;\nimport com.reports.repository.ReportsRepository;\n\n@SpringBootApplication\npublic class ExportCsvApplication implements CommandLineRunner {\n    @Autowired\n    ReportsRepository reportsRepository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(ExportCsvApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        List&lt;Report&gt; reports = new ArrayList&lt;&gt;();\n\n        // create dummy employees\n        reports.add(new Report(1,&quot;roy&quot;,&quot;roy@123.com&quot;,2500));\n        reports.add(new Report(2,&quot;joy&quot;,&quot;joy@123.com&quot;,2500));\n        reports.add(new Report(3,&quot;soy&quot;,&quot;soy@123.com&quot;,2500));\n        reports.add(new Report(4,&quot;moy&quot;,&quot;moy@123.com&quot;,2500));\n        reports.add(new Report(5,&quot;noy&quot;,&quot;noy@123.com&quot;,2500));\n        \n        reportsRepository.saveAll(reports);\n    }\n\n}\n</code></pre>\n<p>repository :</p>\n<pre><code>package com.reports.repository;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport com.reports.entities.IReport;\nimport com.reports.entities.Report;\n\n@Repository(&quot;reportsRepository&quot;)\npublic interface ReportsRepository extends JpaRepository&lt;Report,Long&gt;{\n\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>package com.reports.services;\n\nimport java.util.List;\n\nimport javax.transaction.Transactional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.reports.entities.IReport;\nimport com.reports.entities.Report;\nimport com.reports.repository.ReportsRepository;\n@Transactional\n@Service\npublic class ReportsService {\n    @Autowired\n   ReportsRepository reportsRepository;\n\n    public List&lt;Report&gt; fetchAll() {\n        return (List&lt;Report&gt;) reportsRepository.findAll();\n       \n\n    }\n\n    \n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>package com.reports.controllers;\n\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.opencsv.CSVWriter;\nimport com.opencsv.bean.StatefulBeanToCsv;\nimport com.opencsv.bean.StatefulBeanToCsvBuilder;\nimport com.reports.entities.Report;\nimport com.reports.services.ReportsService;\n\n@RestController\npublic class ReportsController {\n\n    @Autowired\n    ReportsService reportsService;\n    @GetMapping(&quot;/export-report&quot;)\n    public void exportCSV(HttpServletResponse response) throws Exception {\n\n        // set file name and content type\n        String filename = &quot;details.csv&quot;;\n\n        response.setContentType(&quot;text/csv&quot;);\n        response.setHeader(HttpHeaders.CONTENT_DISPOSITION, \n                   &quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\n\n        // create a csv writer\n        StatefulBeanToCsv&lt;Report&gt; writer = new StatefulBeanToCsvBuilder&lt;Report&gt;(response.getWriter()).withQuotechar(CSVWriter.NO_QUOTE_CHARACTER).withSeparator(CSVWriter.DEFAULT_SEPARATOR).withOrderedResults(false).build();\n\n        // write all employees to csv file\n        writer.write(reportsService.fetchAll());\n\n    }\n    \n    \n    \n   \n}\n</code></pre>\n<p>I want to know what would be the best method to incorporate for it i tried query but faced errors.Please let me know how do i get this done</p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634046257,"creation_date":1633983083,"answer_id":69531970,"question_id":69475797,"body_markdown":"You can use `new Element(Jsoup.parse(&lt;(yourtagnamehere) /&gt;).body().child(0).tag(),&quot;&quot;).html(el.html());` to create a tag that is **self closing** and contains the html of the tag to be replaced. Notice the `&lt; /&gt;` is required to ensure the tag is self closing. You can then use the aforementioned element to replace the required tags(`element.replaceWith()`) and set the attributes using `getElementsByTagName` and `.attr()`.\r\n\r\n## Demonstration code:\r\n```java\r\nimport org.jsoup.parser.Parser;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Elements;\r\nimport org.jsoup.nodes.Attributes;\r\nimport org.jsoup.nodes.Attribute;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Entities.EscapeMode;\r\nimport org.jsoup.Jsoup;\r\nimport java.util.ArrayList;\r\nimport java.util.*; \r\nimport org.jsoup.parser.Tag;\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n    String body = &quot;&lt;inline id=\\&quot;inline-1\\&quot; /&gt;&quot;;\r\n    Document doc = Jsoup.parse(body);\r\n    System.out.println(&quot;Original:\\n&quot;+doc.html()+&quot;\\n&quot;);\r\n    System.out.println(&quot;Replaced:\\n&quot;+replaceTagWithCustom(doc, &quot;inline&quot;, &quot;&lt;abc:123 /&gt;&quot;).html());\r\n    //You can then add attribute as you want\r\n    doc.getElementsByTag(&quot;abc:123&quot;).first().attr(&quot;input&quot;, &quot;1&quot;);\r\n    System.out.println(&quot;\\nReplaced with attributes:\\n&quot;+doc.html());\r\n}\r\n\r\n    static Document replaceTagWithCustom(Document doc, String original, String replacement){\r\n        //Can be changed to select to get multiple elements\r\n        Element el = doc.selectFirst(original); \r\n        //Change tagname while conserving self closing(Note: requires format &lt;(yourtag) /&gt; to add self closing)\r\n        Element el2 = new Element(Jsoup.parse(replacement).body().child(0).tag(),&quot;&quot;).html(el.html());\r\n        //Strip all attributes\r\n        List&lt;String&gt;  attToRemove = new ArrayList&lt;&gt;();\r\n        Attributes at = el.attributes();\r\n        for (Attribute a : at) {\r\n            attToRemove.add(a.getKey());\r\n        }\r\n        for(String att : attToRemove) {\r\n            el.removeAttr(att);\r\n        }\r\n        el.replaceWith(el2);\r\n        return doc;\r\n    }\r\n}\r\n```\r\n\r\n## Output:\r\n```\r\nOriginal:\r\n&lt;html&gt;\r\n &lt;head&gt;&lt;/head&gt;\r\n &lt;body&gt;\r\n  &lt;inline id=&quot;inline-1&quot; /&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nReplaced:\r\n&lt;html&gt;\r\n &lt;head&gt;&lt;/head&gt;\r\n &lt;body&gt;\r\n  &lt;abc:123 /&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nReplaced with attributes:\r\n&lt;html&gt;\r\n &lt;head&gt;&lt;/head&gt;\r\n &lt;body&gt;\r\n  &lt;abc:123 input=&quot;1&quot; /&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nReferences:\r\n[Allow configuration of self closing for tags](https://github.com/jhy/jsoup/issues/502) - Legioth  \r\n[SO: Replace tags with Jsoup](https://stackoverflow.com/questions/12475213/replace-html-tags-using-jsoup#:~:text=You%20can%20replace%20the%20Tag%20like%20this%20too%3A,keep%20attributs%20etc.%20elements.tagName%20%28%22span%22%29%3B%20System.out.println%20%28doc.html%20%28%29%29%3B) - Hardik Lotiya  \r\n[SO: Remove attributes](https://stackoverflow.com/questions/18233938/jsoup-attribute-removal-on-html-tags) - Xtroce  \r\n[Jsoup: modifying attributes](https://jsoup.org/cookbook/modifying-data/set-attributes)\r\n\r\n\r\n\r\n","title":"Jsoup - How to create my own tags with self closing","body":"<p>You can use <code>new Element(Jsoup.parse(&lt;(yourtagnamehere) /&gt;).body().child(0).tag(),&quot;&quot;).html(el.html());</code> to create a tag that is <strong>self closing</strong> and contains the html of the tag to be replaced. Notice the <code>&lt; /&gt;</code> is required to ensure the tag is self closing. You can then use the aforementioned element to replace the required tags(<code>element.replaceWith()</code>) and set the attributes using <code>getElementsByTagName</code> and <code>.attr()</code>.</p>\n<h2>Demonstration code:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jsoup.parser.Parser;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\nimport org.jsoup.nodes.Attributes;\nimport org.jsoup.nodes.Attribute;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Entities.EscapeMode;\nimport org.jsoup.Jsoup;\nimport java.util.ArrayList;\nimport java.util.*; \nimport org.jsoup.parser.Tag;\npublic class MyClass {\n    public static void main(String args[]) {\n    String body = &quot;&lt;inline id=\\&quot;inline-1\\&quot; /&gt;&quot;;\n    Document doc = Jsoup.parse(body);\n    System.out.println(&quot;Original:\\n&quot;+doc.html()+&quot;\\n&quot;);\n    System.out.println(&quot;Replaced:\\n&quot;+replaceTagWithCustom(doc, &quot;inline&quot;, &quot;&lt;abc:123 /&gt;&quot;).html());\n    //You can then add attribute as you want\n    doc.getElementsByTag(&quot;abc:123&quot;).first().attr(&quot;input&quot;, &quot;1&quot;);\n    System.out.println(&quot;\\nReplaced with attributes:\\n&quot;+doc.html());\n}\n\n    static Document replaceTagWithCustom(Document doc, String original, String replacement){\n        //Can be changed to select to get multiple elements\n        Element el = doc.selectFirst(original); \n        //Change tagname while conserving self closing(Note: requires format &lt;(yourtag) /&gt; to add self closing)\n        Element el2 = new Element(Jsoup.parse(replacement).body().child(0).tag(),&quot;&quot;).html(el.html());\n        //Strip all attributes\n        List&lt;String&gt;  attToRemove = new ArrayList&lt;&gt;();\n        Attributes at = el.attributes();\n        for (Attribute a : at) {\n            attToRemove.add(a.getKey());\n        }\n        for(String att : attToRemove) {\n            el.removeAttr(att);\n        }\n        el.replaceWith(el2);\n        return doc;\n    }\n}\n</code></pre>\n<h2>Output:</h2>\n<pre><code>Original:\n&lt;html&gt;\n &lt;head&gt;&lt;/head&gt;\n &lt;body&gt;\n  &lt;inline id=&quot;inline-1&quot; /&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n\nReplaced:\n&lt;html&gt;\n &lt;head&gt;&lt;/head&gt;\n &lt;body&gt;\n  &lt;abc:123 /&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n\nReplaced with attributes:\n&lt;html&gt;\n &lt;head&gt;&lt;/head&gt;\n &lt;body&gt;\n  &lt;abc:123 input=&quot;1&quot; /&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>References:\n<a href=\"https://github.com/jhy/jsoup/issues/502\" rel=\"nofollow noreferrer\">Allow configuration of self closing for tags</a> - Legioth<br />\n<a href=\"https://stackoverflow.com/questions/12475213/replace-html-tags-using-jsoup#:%7E:text=You%20can%20replace%20the%20Tag%20like%20this%20too%3A,keep%20attributs%20etc.%20elements.tagName%20%28%22span%22%29%3B%20System.out.println%20%28doc.html%20%28%29%29%3B\">SO: Replace tags with Jsoup</a> - Hardik Lotiya<br />\n<a href=\"https://stackoverflow.com/questions/18233938/jsoup-attribute-removal-on-html-tags\">SO: Remove attributes</a> - Xtroce<br />\n<a href=\"https://jsoup.org/cookbook/modifying-data/set-attributes\" rel=\"nofollow noreferrer\">Jsoup: modifying attributes</a></p>\n"}],"owner":{"account_id":9829323,"reputation":1,"user_id":7281513,"display_name":"Diego Gutierrez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634046257,"creation_date":1633583822,"question_id":69475797,"body_markdown":"I&#39;m using JSoup to extract certain tags from a html document. But, I need to change some of them with some tags created by the team.\r\n\r\nExample\r\n\r\n    &lt;inline id=&quot;inline-1&quot; /&gt;  ---&gt;  &lt;abc:123 input=&quot;1&quot;/&gt;\r\n\r\nCheck that my tag requires the self closing tag. Any clue? Thanks","title":"Jsoup - How to create my own tags with self closing","body":"<p>I'm using JSoup to extract certain tags from a html document. But, I need to change some of them with some tags created by the team.</p>\n<p>Example</p>\n<pre><code>&lt;inline id=&quot;inline-1&quot; /&gt;  ---&gt;  &lt;abc:123 input=&quot;1&quot;/&gt;\n</code></pre>\n<p>Check that my tag requires the self closing tag. Any clue? Thanks</p>\n"},{"tags":["java","gremlin","tinkerpop","amazon-neptune"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1633961244,"post_id":69521722,"comment_id":122892402,"body_markdown":"I did some experiments and was unable to reproduce the issue - see answer below. Can you please share some sample code or the exact way you configured the session and the Gremlin steps that you used?","body":"I did some experiments and was unable to reproduce the issue - see answer below. Can you please share some sample code or the exact way you configured the session and the Gremlin steps that you used?"},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1633962341,"post_id":69521722,"comment_id":122892919,"body_markdown":"Also - which version of the Java client are you using? Neptune currently only supports text queries for sessions until the upgrade to TinkerPop 3.5.x happens","body":"Also - which version of the Java client are you using? Neptune currently only supports text queries for sessions until the upgrade to TinkerPop 3.5.x happens"}],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633962411,"creation_date":1633961015,"answer_id":69527511,"question_id":69521722,"body_markdown":"I tried some experiments using the Gremlin Console in &quot;session mode&quot;. Note that the transaction will only commit once the session is closed.\r\n\r\n```\r\n$ bin/gremlin.sh\r\n\r\n         \\,,,/\r\n         (o o)\r\n-----oOOo-(3)-oOOo-----\r\nplugin activated: tinkerpop.server\r\nplugin activated: tinkerpop.utilities\r\nplugin activated: tinkerpop.tinkergraph\r\ngremlin&gt; :remote connect tinkerpop.server conf/krl6w.yaml session abc-123\r\n==&gt;Configured xxxx-[abc-123]\r\n\r\ngremlin&gt; :remote console\r\n==&gt;All scripts will now be sent to Gremlin Server - [xxx]-[abc-123] - type &#39;:remote console&#39; to return to local mode\r\n\r\ngremlin&gt; g.V().hasLabel(&#39;airport&#39;).count()\r\n==&gt;3503\r\n\r\ngremlin&gt; g.V().hasLabel(&#39;airport&#39;).drop()\r\n\r\ngremlin&gt; g.V().hasLabel(&#39;airport&#39;).count()\r\n==&gt;0\r\n\r\n// This ends the session and commits the transaction\r\ngremlin&gt; :remote close\r\n\r\n```\r\nNow to verify it worked\r\n```\r\ngremlin&gt; :remote connect tinkerpop.server conf/krl6w.yaml\r\n==&gt;Configured xxxx\r\n\r\ngremlin&gt; :remote console\r\n==&gt;All scripts will now be sent to Gremlin Server - [xxxxx:8182] - type &#39;:remote console&#39; to return to local mode\r\n\r\ngremlin&gt; g.V().hasLabel(&#39;airport&#39;).count()\r\n==&gt;0\r\n```\r\n\r\n","title":"Drop in Netpune Gremlin Session Query","body":"<p>I tried some experiments using the Gremlin Console in &quot;session mode&quot;. Note that the transaction will only commit once the session is closed.</p>\n<pre><code>$ bin/gremlin.sh\n\n         \\,,,/\n         (o o)\n-----oOOo-(3)-oOOo-----\nplugin activated: tinkerpop.server\nplugin activated: tinkerpop.utilities\nplugin activated: tinkerpop.tinkergraph\ngremlin&gt; :remote connect tinkerpop.server conf/krl6w.yaml session abc-123\n==&gt;Configured xxxx-[abc-123]\n\ngremlin&gt; :remote console\n==&gt;All scripts will now be sent to Gremlin Server - [xxx]-[abc-123] - type ':remote console' to return to local mode\n\ngremlin&gt; g.V().hasLabel('airport').count()\n==&gt;3503\n\ngremlin&gt; g.V().hasLabel('airport').drop()\n\ngremlin&gt; g.V().hasLabel('airport').count()\n==&gt;0\n\n// This ends the session and commits the transaction\ngremlin&gt; :remote close\n\n</code></pre>\n<p>Now to verify it worked</p>\n<pre><code>gremlin&gt; :remote connect tinkerpop.server conf/krl6w.yaml\n==&gt;Configured xxxx\n\ngremlin&gt; :remote console\n==&gt;All scripts will now be sent to Gremlin Server - [xxxxx:8182] - type ':remote console' to return to local mode\n\ngremlin&gt; g.V().hasLabel('airport').count()\n==&gt;0\n</code></pre>\n"}],"owner":{"account_id":3845493,"reputation":48,"user_id":3187179,"display_name":"user3187179"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69527511,"answer_count":1,"score":0,"last_activity_date":1634046122,"creation_date":1633932633,"question_id":69521722,"body_markdown":"Can the &quot;drop()&quot; query work in a Session client in Gremlin queries in Java for AWS Neptune. I have tried a few times but the &quot;drop()&quot; only works if I use iterate() and does not have any effect is the session client is used and query is submitted.\r\n\r\nIf it does work, it will be helpful to have some examples. It is not very clear from the documentation.","title":"Drop in Netpune Gremlin Session Query","body":"<p>Can the &quot;drop()&quot; query work in a Session client in Gremlin queries in Java for AWS Neptune. I have tried a few times but the &quot;drop()&quot; only works if I use iterate() and does not have any effect is the session client is used and query is submitted.</p>\n<p>If it does work, it will be helpful to have some examples. It is not very clear from the documentation.</p>\n"},{"tags":["java","spring","spring-boot","junit","junit5"],"comments":[{"owner":{"account_id":5236921,"reputation":1452,"user_id":4185221,"display_name":"Sunil Dabburi"},"score":0,"creation_date":1575951906,"post_id":59259962,"comment_id":104729180,"body_markdown":"I don’t think so. If it’s just a library, you can only run unit tests. Integration tests is application responsibility. \n\nOr you can create a demo application that uses your code and is a spring boot app specific to your code and write integration tests there.","body":"I don’t think so. If it’s just a library, you can only run unit tests. Integration tests is application responsibility.   Or you can create a demo application that uses your code and is a spring boot app specific to your code and write integration tests there."},{"owner":{"account_id":536581,"reputation":3624,"user_id":905494,"display_name":"tksilicon"},"score":0,"creation_date":1575958865,"post_id":59259962,"comment_id":104731139,"body_markdown":"Look at spring.factories that Bramnik mentioned. See this answer -&gt;https://stackoverflow.com/questions/32107610/why-use-spring-factories-for-spring-boot-auto-configuration-instead-of-annotatio and this blog https://blog.pchudzik.com/201903/spring-factories/","body":"Look at spring.factories that Bramnik mentioned. See this answer -&gt;<a href=\"https://stackoverflow.com/questions/32107610/why-use-spring-factories-for-spring-boot-auto-configuration-instead-of-annotatio\" title=\"why use spring factories for spring boot auto configuration instead of annotatio\">stackoverflow.com/questions/32107610/&hellip;</a> and this blog <a href=\"https://blog.pchudzik.com/201903/spring-factories/\" rel=\"nofollow noreferrer\">blog.pchudzik.com/201903/spring-factories</a>"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1634045646,"creation_date":1575954656,"answer_id":59260619,"question_id":59259962,"body_markdown":"I think there is some contradiction in what you say:\r\n\r\n1. Created a Library...that was designed as a Spring Boot Application.\r\n2. Library can be used across multiple applications that require its utilities.\r\n\r\nIf you implement &quot;1&quot; then there is a module with spring boot maven/gradle plugin configured to create a JAR of the application which is a library.\r\n\r\nBut if you have, say, module X that wishes to use your library, its impossible to add the dependency on your library in this module, spring boot JAR artifacts are not JARs in a Java Sense... So this won&#39;t work in both IDE and maven (I mean technically you&#39;ll have compilation errors).\r\n\r\nThen you write something that completely makes sense: You say that the library by itself doesn&#39;t have a main class/`@SpringBootApplication` annotated class. From this I conclude that its not a spring boot application, but rather a spring boot starter module. \r\n\r\nIn this case you should not use `@SpringBootTest` annotation since it mimics the way of starting up the spring boot application (finds main class, scans the packages according to the package structure, loads the configurations and so forth). You don&#39;t need all this. Well, maybe technically you can still create a main class annotated with `@SpringBootApplication` and put it into `src/test/java/.../` in a relevant package, but it doesn&#39;t really makes sense.\r\n\r\nSo basically you have two choices:\r\n\r\n1. You can test the utilities without spring at all as if the utility is just a Java class, mock the dependency with Mockito and you&#39;re good to go. Since these tests are fast, it you be the best option.\r\n\r\n2. You can run the integartion test by means of loading the spring context with all the required beans created by the application.\r\n\r\n\r\n~~~\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = {MyLibraryConfiguration.class})\r\npublic class SampleLibraryTest {\r\n\r\n    @Autowired \r\n    private SomeBeanFromTheLibrary theBean;\r\n\r\n    @Test\r\n    public void testFoo() {\r\n      ....\r\n    }\r\n}\r\n~~~\r\n\r\nNow although you can use component scanning (in this case you&#39;ll need slightly different annotations), in the example I&#39;ve assumed that you&#39;re using java config, register all the beans of the library there and create a `spring.factories` that uses this Java Configuration file to create an autoconfiguration (you add a dependency on the library in module X and it loads the beans defined in the library automatically).\r\n\r\nThis `@ExtendsWith` (`@RunWith` for junit 4) has nothing to do with Spring Boot, it behaves as a &quot;plain&quot; spring, you can autowire beans, create mock beans, there is caching of configurations, etc. \r\n\r\n\r\n\r\n\r\n\r\n","title":"How to test Java Spring Boot application without @SpringBootApplication using JUnit?","body":"<p>I think there is some contradiction in what you say:</p>\n<ol>\n<li>Created a Library...that was designed as a Spring Boot Application.</li>\n<li>Library can be used across multiple applications that require its utilities.</li>\n</ol>\n<p>If you implement &quot;1&quot; then there is a module with spring boot maven/gradle plugin configured to create a JAR of the application which is a library.</p>\n<p>But if you have, say, module X that wishes to use your library, its impossible to add the dependency on your library in this module, spring boot JAR artifacts are not JARs in a Java Sense... So this won't work in both IDE and maven (I mean technically you'll have compilation errors).</p>\n<p>Then you write something that completely makes sense: You say that the library by itself doesn't have a main class/<code>@SpringBootApplication</code> annotated class. From this I conclude that its not a spring boot application, but rather a spring boot starter module.</p>\n<p>In this case you should not use <code>@SpringBootTest</code> annotation since it mimics the way of starting up the spring boot application (finds main class, scans the packages according to the package structure, loads the configurations and so forth). You don't need all this. Well, maybe technically you can still create a main class annotated with <code>@SpringBootApplication</code> and put it into <code>src/test/java/.../</code> in a relevant package, but it doesn't really makes sense.</p>\n<p>So basically you have two choices:</p>\n<ol>\n<li><p>You can test the utilities without spring at all as if the utility is just a Java class, mock the dependency with Mockito and you're good to go. Since these tests are fast, it you be the best option.</p>\n</li>\n<li><p>You can run the integartion test by means of loading the spring context with all the required beans created by the application.</p>\n</li>\n</ol>\n<pre><code>\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {MyLibraryConfiguration.class})\npublic class SampleLibraryTest {\n\n    @Autowired \n    private SomeBeanFromTheLibrary theBean;\n\n    @Test\n    public void testFoo() {\n      ....\n    }\n}\n</code></pre>\n<p>Now although you can use component scanning (in this case you'll need slightly different annotations), in the example I've assumed that you're using java config, register all the beans of the library there and create a <code>spring.factories</code> that uses this Java Configuration file to create an autoconfiguration (you add a dependency on the library in module X and it loads the beans defined in the library automatically).</p>\n<p>This <code>@ExtendsWith</code> (<code>@RunWith</code> for junit 4) has nothing to do with Spring Boot, it behaves as a &quot;plain&quot; spring, you can autowire beans, create mock beans, there is caching of configurations, etc.</p>\n"}],"owner":{"account_id":6310485,"reputation":433,"user_id":4902174,"display_name":"Praveen Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10531,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":59260619,"answer_count":1,"score":11,"last_activity_date":1634045646,"creation_date":1575950008,"question_id":59259962,"body_markdown":"I created a Spring Boot Java library which has a set of utilities that perform certain functions. This library can then be used across multiple applications that require its utilities. This library was designed as a Spring Boot application to allow these utilities to be injected in the application context.\r\n\r\nNow I wish to execute a JUnit test on one of the utilities to ensure it is working correctly. However, since this application is basically a collection of utilities and not a stand-alone application, it does not have a main class or the main method annotated with `@SpringBootApplication`. Now, when I run the JUnit test, it comes up with an error.\r\n\r\n    java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...)\r\n\r\nIs it possible to test this Java library, or should we write the test cases only in the application that will be using this library?","title":"How to test Java Spring Boot application without @SpringBootApplication using JUnit?","body":"<p>I created a Spring Boot Java library which has a set of utilities that perform certain functions. This library can then be used across multiple applications that require its utilities. This library was designed as a Spring Boot application to allow these utilities to be injected in the application context.</p>\n\n<p>Now I wish to execute a JUnit test on one of the utilities to ensure it is working correctly. However, since this application is basically a collection of utilities and not a stand-alone application, it does not have a main class or the main method annotated with <code>@SpringBootApplication</code>. Now, when I run the JUnit test, it comes up with an error.</p>\n\n<pre><code>java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...)\n</code></pre>\n\n<p>Is it possible to test this Java library, or should we write the test cases only in the application that will be using this library?</p>\n"},{"tags":["java","spring-boot","spring-cloud-config"],"answers":[{"tags":[],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1606046988,"creation_date":1606046988,"answer_id":64953951,"question_id":64839906,"body_markdown":"This is actually an known error for the combination SpringBoot 2.4.0 + Ilford 2020.0.0-M3.\r\n\r\nIn order to fix this particular problem, SpringBoot 2.4.0 needs Ilford 2020.0.0-M5.\r\n\r\nUpgrading to M5 from M3 will fix the issue.\r\n\r\nThank you","title":"Unable to load config data from &#39;optional:configserver:http://localhost:8090 - SpringBoot 2.4.0 Illford 2020.0.0-M3","body":"<p>This is actually an known error for the combination SpringBoot 2.4.0 + Ilford 2020.0.0-M3.</p>\n<p>In order to fix this particular problem, SpringBoot 2.4.0 needs Ilford 2020.0.0-M5.</p>\n<p>Upgrading to M5 from M3 will fix the issue.</p>\n<p>Thank you</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11039,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64953951,"answer_count":1,"score":3,"last_activity_date":1634045346,"creation_date":1605398305,"question_id":64839906,"body_markdown":"Question regarding the new SpringBoot 2.4.0 please.\r\n\r\nFirst, we upgraded our Config Server and Config Client to SpringBoot 2.4.0 + Illford 2020.0.0-M3\r\n\r\nThen, we followed the &quot;new way&quot; of setting properties https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4 and would like to stick with this new way.\r\n\r\nHence, I configured this in our application.properties (please see **the spring.config.import** )\r\n\r\n```\r\nserver.port=8010\r\nspring.application.name=mycoolservice\r\nspring.config.import=optional:configserver:${SPRING_CLOUD_CONFIG_URI:https://localhost:8090}/config\r\n```\r\n\r\nThen, we deleted our old but working bootstrap.properties\r\n```\r\nserver.port=8010\r\nspring.application.name=mycoolservice\r\nspring.cloud.config.uri=${SPRING_CLOUD_CONFIG_URI:https://localhost:8090}/config\r\nspring.profiles.active=${SPRING_PROFILE_ACTIVE:local}\r\n```\r\n\r\nFinally, we started the app and observed:\r\n\r\n```\r\n ERROR [,,] 31987 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Unable to load config data from &#39;optional:configserver:https://localhost:8090/config&#39;\r\n\tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:124) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolve(StandardConfigDataLocationResolver.java:111) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$resolve$1(ConfigDataLocationResolvers.java:114) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:125) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:114) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:106) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:101) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:93) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\r\n\r\nCaused by: java.lang.IllegalStateException: File extension is not known to any PropertySourceLoader. If the location is meant to reference a directory, it must end in &#39;/&#39;\r\n\tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferencesForFile(StandardConfigDataLocationResolver.java:199) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:121) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\t... 30 common frames omitted\r\n```\r\n\r\nWhat is the issue please?\r\n\r\nThank you","title":"Unable to load config data from &#39;optional:configserver:http://localhost:8090 - SpringBoot 2.4.0 Illford 2020.0.0-M3","body":"<p>Question regarding the new SpringBoot 2.4.0 please.</p>\n<p>First, we upgraded our Config Server and Config Client to SpringBoot 2.4.0 + Illford 2020.0.0-M3</p>\n<p>Then, we followed the &quot;new way&quot; of setting properties <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"nofollow noreferrer\">https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4</a> and would like to stick with this new way.</p>\n<p>Hence, I configured this in our application.properties (please see <strong>the spring.config.import</strong> )</p>\n<pre><code>server.port=8010\nspring.application.name=mycoolservice\nspring.config.import=optional:configserver:${SPRING_CLOUD_CONFIG_URI:https://localhost:8090}/config\n</code></pre>\n<p>Then, we deleted our old but working bootstrap.properties</p>\n<pre><code>server.port=8010\nspring.application.name=mycoolservice\nspring.cloud.config.uri=${SPRING_CLOUD_CONFIG_URI:https://localhost:8090}/config\nspring.profiles.active=${SPRING_PROFILE_ACTIVE:local}\n</code></pre>\n<p>Finally, we started the app and observed:</p>\n<pre><code> ERROR [,,] 31987 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Unable to load config data from 'optional:configserver:https://localhost:8090/config'\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:124) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolve(StandardConfigDataLocationResolver.java:111) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$resolve$1(ConfigDataLocationResolvers.java:114) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:125) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:114) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:106) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:101) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:93) ~[spring-boot-2.4.0.jar:2.4.0]\n\n\nCaused by: java.lang.IllegalStateException: File extension is not known to any PropertySourceLoader. If the location is meant to reference a directory, it must end in '/'\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferencesForFile(StandardConfigDataLocationResolver.java:199) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:121) ~[spring-boot-2.4.0.jar:2.4.0]\n    ... 30 common frames omitted\n</code></pre>\n<p>What is the issue please?</p>\n<p>Thank you</p>\n"},{"tags":["java","postgresql","liquibase","testcontainers"],"comments":[{"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"score":1,"creation_date":1634169621,"post_id":69540208,"comment_id":122956488,"body_markdown":"Take a look at https://the-codeslinger.com/2020/04/26/integration-testing-with-docker-maven-plugin-postgresql-flyway/ - it uses Flyway, but you should be able to use Liquibase and SchemaCrawler","body":"Take a look at <a href=\"https://the-codeslinger.com/2020/04/26/integration-testing-with-docker-maven-plugin-postgresql-flyway/\" rel=\"nofollow noreferrer\">the-codeslinger.com/2020/04/26/&hellip;</a> - it uses Flyway, but you should be able to use Liquibase and SchemaCrawler"},{"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"score":0,"creation_date":1634247578,"post_id":69540208,"comment_id":122981196,"body_markdown":"@SualehFatehi thanks! I&#39;ve already implemented it with groovy plugin + testcontainers but the same should definitely work `docker-maven-plugin` too. I&#39;m gonna experiment with this plugin in my spare time.","body":"@SualehFatehi thanks! I&#39;ve already implemented it with groovy plugin + testcontainers but the same should definitely work <code>docker-maven-plugin</code> too. I&#39;m gonna experiment with this plugin in my spare time."}],"answers":[{"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634045297,"creation_date":1634045297,"answer_id":69541452,"question_id":69540208,"body_markdown":"You can use Testcontainers via a small `groovy-maven-plugin` snippet, for example, the following would start a Postgres container: \r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\r\n  &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.1&lt;/version&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;!-- Start the container in any phase before the actual code\r\n           generation is required, i.e. at the latest in\r\n           generate-sources --&gt;\r\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;execute&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n      &lt;configuration&gt;\r\n        &lt;source&gt;\r\n          db = new org.testcontainers.containers.PostgreSQLContainer(\r\n                  &quot;postgres:latest&quot;)\r\n            .withUsername(&quot;${db.username}&quot;)\r\n            .withDatabaseName(&quot;postgres&quot;)\r\n            .withPassword(&quot;${db.password}&quot;);\r\n             \r\n          db.start();\r\n \r\n          // After you&#39;ve started the container, collect its generated\r\n          // JDBC URL (which contains a random port)\r\n          project.properties.setProperty(&#39;db.url&#39;, db.getJdbcUrl());\r\n        &lt;/source&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n   \r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThis example lacks graceful shutdown. It is also taken from the jOOQ article about how one can use Testcontainers to generate Java classes from the database schema: https://blog.jooq.org/using-testcontainers-to-generate-jooq-code\r\n\r\n","title":"The usage of liquibase-maven-plugin with testcontainers","body":"<p>You can use Testcontainers via a small <code>groovy-maven-plugin</code> snippet, for example, the following would start a Postgres container:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\n  &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.1.1&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;!-- Start the container in any phase before the actual code\n           generation is required, i.e. at the latest in\n           generate-sources --&gt;\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;execute&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;source&gt;\n          db = new org.testcontainers.containers.PostgreSQLContainer(\n                  &quot;postgres:latest&quot;)\n            .withUsername(&quot;${db.username}&quot;)\n            .withDatabaseName(&quot;postgres&quot;)\n            .withPassword(&quot;${db.password}&quot;);\n             \n          db.start();\n \n          // After you've started the container, collect its generated\n          // JDBC URL (which contains a random port)\n          project.properties.setProperty('db.url', db.getJdbcUrl());\n        &lt;/source&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n   \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This example lacks graceful shutdown. It is also taken from the jOOQ article about how one can use Testcontainers to generate Java classes from the database schema: <a href=\"https://blog.jooq.org/using-testcontainers-to-generate-jooq-code\" rel=\"nofollow noreferrer\">https://blog.jooq.org/using-testcontainers-to-generate-jooq-code</a></p>\n"}],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69541452,"answer_count":1,"score":0,"last_activity_date":1634045297,"creation_date":1634040179,"question_id":69540208,"body_markdown":"Suppose I have this plugin configuration (with hsqldb):\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.4.1&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;build&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;generate-test-resources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;update&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;changeLogFile&gt;${basedir}/src/main/resources/liquibase/db.changelog-master.xml\r\n\t\t\t\t&lt;/changeLogFile&gt;\r\n\t\t\t\t&lt;driver&gt;org.hsqldb.jdbc.JDBCDriver&lt;/driver&gt;\r\n\t\t\t\t&lt;url&gt;jdbc:hsqldb:file:${project.build.directory}/hsqldb/sample;shutdown=true&lt;/url&gt;\r\n\t\t\t\t&lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\r\n\t\t\t\t&lt;logging&gt;off&lt;/logging&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\nI want to change hsqldb to postgres. I suppose that it&#39;s possible to use `testcontainers` here. But I&#39;m not able to correctly set it up.\r\n\r\nIf it&#39;s possible, could anyone help with the sample configuration? Or maybe there are other solutions?\r\n\r\nTo note: I currently use this db in another plugin (`schemacrawler`) alongside, so there is no java code used and it&#39;s not related to the unit tests.\r\n\r\n","title":"The usage of liquibase-maven-plugin with testcontainers","body":"<p>Suppose I have this plugin configuration (with hsqldb):</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;build&lt;/id&gt;\n            &lt;phase&gt;generate-test-resources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;update&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;changeLogFile&gt;${basedir}/src/main/resources/liquibase/db.changelog-master.xml\n                &lt;/changeLogFile&gt;\n                &lt;driver&gt;org.hsqldb.jdbc.JDBCDriver&lt;/driver&gt;\n                &lt;url&gt;jdbc:hsqldb:file:${project.build.directory}/hsqldb/sample;shutdown=true&lt;/url&gt;\n                &lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\n                &lt;logging&gt;off&lt;/logging&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I want to change hsqldb to postgres. I suppose that it's possible to use <code>testcontainers</code> here. But I'm not able to correctly set it up.</p>\n<p>If it's possible, could anyone help with the sample configuration? Or maybe there are other solutions?</p>\n<p>To note: I currently use this db in another plugin (<code>schemacrawler</code>) alongside, so there is no java code used and it's not related to the unit tests.</p>\n"},{"tags":["java","swing","java-8","weblogic12c","jnlp"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1632231510,"post_id":69269501,"comment_id":122432660,"body_markdown":"`SwingWorker` is a class of the base JDK (`javax.swing.SwingWorker`). Not sure if your application was previously using a 3rd party version of that class.  I would try to just get rid of the custom class. See: [Worker Thread and SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)(https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html) for more info.","body":"<code>SwingWorker</code> is a class of the base JDK (<code>javax.swing.SwingWorker</code>). Not sure if your application was previously using a 3rd party version of that class.  I would try to just get rid of the custom class. See: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Thread and SwingWorker</a>(<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurre&zwnj;&#8203;ncy/worker.html</a>) for more info."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1632234490,"post_id":69269501,"comment_id":122434080,"body_markdown":"I suppose, the `org.jdesktop.swingworker.SwingWorker` should be contained in the `libs/swing-worker-1.1.jar`. So you have to check whether there’s an issue with this resource.","body":"I suppose, the <code>org.jdesktop.swingworker.SwingWorker</code> should be contained in the <code>libs&#47;swing-worker-1.1.jar</code>. So you have to check whether there’s an issue with this resource."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632278159,"creation_date":1632237461,"answer_id":69271481,"question_id":69269501,"body_markdown":"According to Wikipedia, `org.jdesktop.swingworker.SwingWorker` is a backport of the `javax.swing.SwingWorker` class introduced in Java 6.\r\n\r\nThe [Wikipedia page][1] for `SwingWorker` that states:\r\n\r\n&gt; A backport of the Java 6 `SwingWorker` to Java 5 is available at `http://swingworker.java.net/`[permanent dead link]. Apart from the package name (`org.jdesktop.swingworker`), it is compatible with the Java 6 `SwingWorker`.\r\n \r\nThe original home for this package on `java.net` has gone.  (But you may have some luck with the Wayback Machine [archive][2].) \r\n\r\nI found a couple of entries on Maven Central, but one of those is offline too.  \r\n\r\n--------------------------------\r\n \r\nSo, it looks like there are two options:\r\n\r\n1.  By far the best option would be to modify your project to use the official `javax.swing.SwingWorker`.  It should be a simple change.  Just change the `import` statement(s).  Once you have done this you can forget about this problem forever.\r\n\r\n2.  If you still had to support your application on Java 5 and earlier, then you would need to find a JAR file for this dependency and add it to your project.  Try Maven Central.\r\n\r\n-------------------------------\r\n\r\nFor information about other `org.jdesktop.*` dependencies, see the answers to https://stackoverflow.com/questions/10882118.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SwingWorker#Equivalents\r\n  [2]: https://web.archive.org/web/20110215162655/http://java.net/projects/swingworker","title":"Migrating Swing application to Java 8 causes java.lang.ClassNotFoundException: org.jdesktop.swingworker.SwingWorker","body":"<p>According to Wikipedia, <code>org.jdesktop.swingworker.SwingWorker</code> is a backport of the <code>javax.swing.SwingWorker</code> class introduced in Java 6.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/SwingWorker#Equivalents\" rel=\"nofollow noreferrer\">Wikipedia page</a> for <code>SwingWorker</code> that states:</p>\n<blockquote>\n<p>A backport of the Java 6 <code>SwingWorker</code> to Java 5 is available at <code>http://swingworker.java.net/</code>[permanent dead link]. Apart from the package name (<code>org.jdesktop.swingworker</code>), it is compatible with the Java 6 <code>SwingWorker</code>.</p>\n</blockquote>\n<p>The original home for this package on <code>java.net</code> has gone.  (But you may have some luck with the Wayback Machine <a href=\"https://web.archive.org/web/20110215162655/http://java.net/projects/swingworker\" rel=\"nofollow noreferrer\">archive</a>.)</p>\n<p>I found a couple of entries on Maven Central, but one of those is offline too.</p>\n<hr />\n<p>So, it looks like there are two options:</p>\n<ol>\n<li><p>By far the best option would be to modify your project to use the official <code>javax.swing.SwingWorker</code>.  It should be a simple change.  Just change the <code>import</code> statement(s).  Once you have done this you can forget about this problem forever.</p>\n</li>\n<li><p>If you still had to support your application on Java 5 and earlier, then you would need to find a JAR file for this dependency and add it to your project.  Try Maven Central.</p>\n</li>\n</ol>\n<hr />\n<p>For information about other <code>org.jdesktop.*</code> dependencies, see the answers to <a href=\"https://stackoverflow.com/questions/10882118\">Eclipse does not recognize org.jdesktop.*</a>.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632346449,"creation_date":1632346449,"answer_id":69291525,"question_id":69269501,"body_markdown":"As shown [here][1] and [here][2], `org.jdesktop.swingworker` is a back-port of [`SwingWorker`][3] for Java 5. The code is preserved [here][4] and [here][5].\r\n\r\nIt should be possible to remove the dependency:\r\n\r\n    &lt;jar href=&quot;libs/swing-worker-1.1.jar&quot;/&gt;\r\n\r\nAnd import the standard implementation:\r\n\r\n    import javax.swing.SwingWorker;\r\n\r\nAs a concrete example, [`PrimeNumbersDemo`][4] compiles and runs stand-alone under Java 8 and 11 by removing the `package` declaration and adding the `import`.\r\n\r\n     //package org.jdesktop.swingworker;\r\n     import javax.swing.SwingWorker;\r\n\r\nAs an aside, the `package` declaration had the effect of giving the demo [_package-private_][6] access to the `SwingWorker` class without an explicit `import`.\r\n\r\n[![image][7]][7]\r\n\r\n  [1]: https://web.archive.org/web/20110215162655/http://java.net/projects/swingworker\r\n  [2]: https://stackoverflow.com/a/69271481/230513\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/SwingWorker.html\r\n  [4]: http://www.java2s.com/Code/Java/JDK-6/Swingworkerfromorgjdesktopswingworker.htm\r\n  [5]: https://web.archive.org/web/20110217051207mp_/http://java.net/projects/swingworker/sources/svn/show\r\n  [6]: https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n  [7]: https://i.stack.imgur.com/BaDij.png","title":"Migrating Swing application to Java 8 causes java.lang.ClassNotFoundException: org.jdesktop.swingworker.SwingWorker","body":"<p>As shown <a href=\"https://web.archive.org/web/20110215162655/http://java.net/projects/swingworker\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/a/69271481/230513\">here</a>, <code>org.jdesktop.swingworker</code> is a back-port of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\"><code>SwingWorker</code></a> for Java 5. The code is preserved <a href=\"http://www.java2s.com/Code/Java/JDK-6/Swingworkerfromorgjdesktopswingworker.htm\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://web.archive.org/web/20110217051207mp_/http://java.net/projects/swingworker/sources/svn/show\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>It should be possible to remove the dependency:</p>\n<pre><code>&lt;jar href=&quot;libs/swing-worker-1.1.jar&quot;/&gt;\n</code></pre>\n<p>And import the standard implementation:</p>\n<pre><code>import javax.swing.SwingWorker;\n</code></pre>\n<p>As a concrete example, <a href=\"http://www.java2s.com/Code/Java/JDK-6/Swingworkerfromorgjdesktopswingworker.htm\" rel=\"nofollow noreferrer\"><code>PrimeNumbersDemo</code></a> compiles and runs stand-alone under Java 8 and 11 by removing the <code>package</code> declaration and adding the <code>import</code>.</p>\n<pre><code> //package org.jdesktop.swingworker;\n import javax.swing.SwingWorker;\n</code></pre>\n<p>As an aside, the <code>package</code> declaration had the effect of giving the demo <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\"><em>package-private</em></a> access to the <code>SwingWorker</code> class without an explicit <code>import</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/BaDij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BaDij.png\" alt=\"image\" /></a></p>\n"}],"owner":{"account_id":5845962,"reputation":342,"user_id":5023024,"accept_rate":0,"display_name":"Atul Rai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1634045232,"creation_date":1632229859,"question_id":69269501,"body_markdown":"Facing an issue while migrating Swing Application developed on JDK 6 to JDK 8 causes the below issue: \r\n\r\n    java.lang.NoClassDefFoundError: org/jdesktop/swingworker/SwingWorker\r\n    \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n    \tat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n    \tat java.lang.Class.getMethod0(Class.java:3018)\r\n    \tat java.lang.Class.getMethod(Class.java:1784)\r\n    \tat com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\r\n    \tat com.sun.javaws.Launcher.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: org.jdesktop.swingworker.SwingWorker\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat com.sun.jnlp.JNLPClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 8 more\r\n\r\n The application is using JNLP for the dependencies. \r\n\r\nJNLP configuration: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;jnlp\t\tspec=&quot;1.6+&quot;\t\tcodebase=&quot;http://SERVER_NAME:8080/jnlp/&quot; href=&quot;test.jnlp&quot;&gt;\r\n        &lt;information&gt;\r\n            &lt;title&gt;Test&lt;/title&gt;\r\n            &lt;vendor&gt;ABC&lt;/vendor&gt;\r\n            &lt;offline-allowed/&gt;\r\n        &lt;/information&gt;\r\n        &lt;security&gt;\r\n            &lt;all-permissions/&gt;\r\n        &lt;/security&gt;\r\n        &lt;update check=&quot;always&quot; policy=&quot;always&quot; /&gt;\r\n        &lt;resources&gt;\r\n            &lt;j2se version=&quot;1.6*&quot; max-heap-size=&quot;512M&quot; initial-heap-size=&quot;256m&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; /&gt;\r\n            &lt;property name=&quot;weblogic.MaxMessageSize&quot; value=&quot;2000000000&quot;/&gt;\r\n            &lt;!-- Environment --&gt;\r\n            &lt;property name=&quot;env&quot; value=&quot;test&quot;/&gt;\r\n            &lt;!-- SSO authentication parameters for DEBUGGING --&gt;\r\n            &lt;property name=&quot;abc.xyx.debug&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;aaaa.rrrr.debug&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;tttt.rrrr.eee.enable&quot; value=&quot;true&quot;/&gt;\r\n            &lt;jar href=&quot;libs/test-SNAPSHOT.jar&quot; main=&quot;true&quot;/&gt;\r\n    \t\t..........SOME OTHER JAR&#39;s\r\n            &lt;jar href=&quot;libs/swingx-0.9.5.jar&quot;/&gt;\r\n            &lt;jar href=&quot;libs/swing-worker-1.1.jar&quot;/&gt;\r\n           \r\n        &lt;/resources&gt;\r\n        &lt;resources os=&quot;Windows&quot; arch=&quot;x86&quot;&gt;\r\n            &lt;nativelib href=&quot;libs/XYZ-1.0.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;application-desc main-class=&quot;com.example.Login&quot; /&gt;\r\n    &lt;/jnlp&gt;\r\n\r\nAnybody can help in this or suggest what are changes/improvement made in the JDK 8 regarding JNLP and Java Web Start.\r\n\r\nTech stack used: Java 8, Web Logic 12c \r\n\r\nThanks in advance :)\r\n\r\nUpdate 1: \r\n\r\nJust for RnD, executed the same build with same JNLP config on JDK 6, it is working fine but when I tried on run on JDK 8, getting below error: \r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/T8iTn.png\r\n\r\nAnd when I run the app from the eclipse, it is working fine with JAVA 8 too. ","title":"Migrating Swing application to Java 8 causes java.lang.ClassNotFoundException: org.jdesktop.swingworker.SwingWorker","body":"<p>Facing an issue while migrating Swing Application developed on JDK 6 to JDK 8 causes the below issue:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/jdesktop/swingworker/SwingWorker\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n    at java.lang.Class.getMethod0(Class.java:3018)\n    at java.lang.Class.getMethod(Class.java:1784)\n    at com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\n    at com.sun.javaws.Launcher.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.jdesktop.swingworker.SwingWorker\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at com.sun.jnlp.JNLPClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 8 more\n</code></pre>\n<p>The application is using JNLP for the dependencies.</p>\n<p>JNLP configuration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;jnlp       spec=&quot;1.6+&quot;     codebase=&quot;http://SERVER_NAME:8080/jnlp/&quot; href=&quot;test.jnlp&quot;&gt;\n    &lt;information&gt;\n        &lt;title&gt;Test&lt;/title&gt;\n        &lt;vendor&gt;ABC&lt;/vendor&gt;\n        &lt;offline-allowed/&gt;\n    &lt;/information&gt;\n    &lt;security&gt;\n        &lt;all-permissions/&gt;\n    &lt;/security&gt;\n    &lt;update check=&quot;always&quot; policy=&quot;always&quot; /&gt;\n    &lt;resources&gt;\n        &lt;j2se version=&quot;1.6*&quot; max-heap-size=&quot;512M&quot; initial-heap-size=&quot;256m&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; /&gt;\n        &lt;property name=&quot;weblogic.MaxMessageSize&quot; value=&quot;2000000000&quot;/&gt;\n        &lt;!-- Environment --&gt;\n        &lt;property name=&quot;env&quot; value=&quot;test&quot;/&gt;\n        &lt;!-- SSO authentication parameters for DEBUGGING --&gt;\n        &lt;property name=&quot;abc.xyx.debug&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;aaaa.rrrr.debug&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;tttt.rrrr.eee.enable&quot; value=&quot;true&quot;/&gt;\n        &lt;jar href=&quot;libs/test-SNAPSHOT.jar&quot; main=&quot;true&quot;/&gt;\n        ..........SOME OTHER JAR's\n        &lt;jar href=&quot;libs/swingx-0.9.5.jar&quot;/&gt;\n        &lt;jar href=&quot;libs/swing-worker-1.1.jar&quot;/&gt;\n       \n    &lt;/resources&gt;\n    &lt;resources os=&quot;Windows&quot; arch=&quot;x86&quot;&gt;\n        &lt;nativelib href=&quot;libs/XYZ-1.0.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;application-desc main-class=&quot;com.example.Login&quot; /&gt;\n&lt;/jnlp&gt;\n</code></pre>\n<p>Anybody can help in this or suggest what are changes/improvement made in the JDK 8 regarding JNLP and Java Web Start.</p>\n<p>Tech stack used: Java 8, Web Logic 12c</p>\n<p>Thanks in advance :)</p>\n<p>Update 1:</p>\n<p>Just for RnD, executed the same build with same JNLP config on JDK 6, it is working fine but when I tried on run on JDK 8, getting below error:\n<a href=\"https://i.stack.imgur.com/T8iTn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T8iTn.png\" alt=\"enter image description here\" /></a></p>\n<p>And when I run the app from the eclipse, it is working fine with JAVA 8 too.</p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"comments":[{"owner":{"account_id":4250462,"reputation":4103,"user_id":3477712,"accept_rate":84,"display_name":"code"},"score":0,"creation_date":1591736473,"post_id":62263953,"comment_id":110168853,"body_markdown":"Agree, looking for the same thing.  Spring Cloud Netflix Zuul had the ability to sit in front of the UI as well as the API.  Have been looking for examples with Spring Cloud Gateway and have not found anything.","body":"Agree, looking for the same thing.  Spring Cloud Netflix Zuul had the ability to sit in front of the UI as well as the API.  Have been looking for examples with Spring Cloud Gateway and have not found anything."}],"answers":[{"tags":[],"owner":{"account_id":6203098,"reputation":487,"user_id":4832160,"accept_rate":33,"display_name":"xProgramery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634045136,"creation_date":1634045136,"answer_id":69541412,"question_id":62263953,"body_markdown":"I ended up with main and sub domains. The main for UI and the subdomain for the API. \r\nThe login button on UI takes you to &lt;api-domain&gt;/login. That will complete the login process and then store the session details appropriately, then redirect back to the UI main domain.\r\n\r\nIf anyone would like more details, feel free to reply here and I can assist further as needed","title":"How to wire a React UI behind a Spring Cloud Gateway? (NOT using Zuul)","body":"<p>I ended up with main and sub domains. The main for UI and the subdomain for the API.\nThe login button on UI takes you to /login. That will complete the login process and then store the session details appropriately, then redirect back to the UI main domain.</p>\n<p>If anyone would like more details, feel free to reply here and I can assist further as needed</p>\n"}],"owner":{"account_id":6203098,"reputation":487,"user_id":4832160,"accept_rate":33,"display_name":"xProgramery"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1634045136,"creation_date":1591625232,"question_id":62263953,"body_markdown":"The problem I am trying to solve is very common:\r\n\r\n     User\r\n      |\r\n    Gateway\r\n      /\\\r\n    UI   Protected Resource/API Server\r\n\r\nHowever, I have been searching for a while now and all the examples I see for wiring a UI behind Spring Cloud Gateway are using the **OLD Zuul stack**. As far as using the new Spring Cloud Gateway, I only saw a way to rewrite path or forward requests to other APIs. When trying that mechanism on UI it doesn&#39;t work (seems like it&#39;s just executing whatever get/post/etc against the UI instead of redirecting to it). So is there a way to get something like this to work as expected?\r\n\r\n    @Bean\r\n\tpublic RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\r\n\t\treturn builder..routes()\r\n\t\t\t\t.route(&quot;path_route&quot;, r -&gt; r.path(&quot;/&quot;)\r\n\t\t\t\t\t\t.uriuri(&quot;test.com&quot;)\r\n         \t\t\t\t.build();\r\n\t}\r\n\r\nEventually I would like to store sessionId in cookies for frontend and on the gateway side those sessions are cached in Redis so request will be validated then redirected to UI but that&#39;s probably unrelated to the redirection problem","title":"How to wire a React UI behind a Spring Cloud Gateway? (NOT using Zuul)","body":"<p>The problem I am trying to solve is very common:</p>\n\n<pre><code> User\n  |\nGateway\n  /\\\nUI   Protected Resource/API Server\n</code></pre>\n\n<p>However, I have been searching for a while now and all the examples I see for wiring a UI behind Spring Cloud Gateway are using the <strong>OLD Zuul stack</strong>. As far as using the new Spring Cloud Gateway, I only saw a way to rewrite path or forward requests to other APIs. When trying that mechanism on UI it doesn't work (seems like it's just executing whatever get/post/etc against the UI instead of redirecting to it). So is there a way to get something like this to work as expected?</p>\n\n<pre><code>@Bean\npublic RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\n    return builder..routes()\n            .route(\"path_route\", r -&gt; r.path(\"/\")\n                    .uriuri(\"test.com\")\n                    .build();\n}\n</code></pre>\n\n<p>Eventually I would like to store sessionId in cookies for frontend and on the gateway side those sessions are cached in Redis so request will be validated then redirected to UI but that's probably unrelated to the redirection problem</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1425576357,"post_id":28883937,"comment_id":46028966,"body_markdown":"Yeah you should do `return String.format(&quot;Hi %s, my name is %s&quot;, name, yourName);`. The code they give is syntactically right but they expect you greet the other way.","body":"Yeah you should do <code>return String.format(&quot;Hi %s, my name is %s&quot;, name, yourName);</code>. The code they give is syntactically right but they expect you greet the other way."},{"owner":{"account_id":4758900,"reputation":771,"user_id":3846857,"accept_rate":48,"display_name":"Fernando"},"score":0,"creation_date":1425576573,"post_id":28883937,"comment_id":46029109,"body_markdown":"No words... hahahaa. Thanks a lot man!","body":"No words... hahahaa. Thanks a lot man!"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1425576594,"post_id":28883937,"comment_id":46029117,"body_markdown":"I suspect they want you to swap the values in the `String.format()`, though it&#39;s pretty ambiguous.  The method doesn&#39;t specify if this is you greeting the person or the person greeting you...","body":"I suspect they want you to swap the values in the <code>String.format()</code>, though it&#39;s pretty ambiguous.  The method doesn&#39;t specify if this is you greeting the person or the person greeting you..."},{"owner":{"account_id":555716,"reputation":12977,"user_id":2192494,"display_name":"Lee Daniel Crocker"},"score":2,"creation_date":1425576621,"post_id":28883937,"comment_id":46029131,"body_markdown":"Frankly, I think the OP is correct. The OO metaphor for calling a function on an object with an argument is &quot;tell the object to perform the action on the object&quot;. In other words, if the object is Jim, then Jim.greet(&quot;Joe&quot;) is telling Jim to greet Joe, and &quot;Hi, Joe, my name is Jim&quot; is the right thing to do.","body":"Frankly, I think the OP is correct. The OO metaphor for calling a function on an object with an argument is &quot;tell the object to perform the action on the object&quot;. In other words, if the object is Jim, then Jim.greet(&quot;Joe&quot;) is telling Jim to greet Joe, and &quot;Hi, Joe, my name is Jim&quot; is the right thing to do."},{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":2,"creation_date":1425576679,"post_id":28883937,"comment_id":46029161,"body_markdown":"@AlexisC. Please tell me that isn&#39;t. Who wants to join such group if the entrance question is that f... up?!","body":"@AlexisC. Please tell me that isn&#39;t. Who wants to join such group if the entrance question is that f... up?!"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1425576909,"post_id":28883937,"comment_id":46029326,"body_markdown":"@Hannes Well, you can try :) http://www.codewars.com/?language=java","body":"@Hannes Well, you can try :) <a href=\"http://www.codewars.com/?language=java\" rel=\"nofollow noreferrer\">codewars.com/?language=java</a>"},{"owner":{"account_id":4758900,"reputation":771,"user_id":3846857,"accept_rate":48,"display_name":"Fernando"},"score":0,"creation_date":1425577038,"post_id":28883937,"comment_id":46029416,"body_markdown":"I completely agree with you David. Anyway, I&#39;ll take a look at the website, a friend recommended it. Thank you all","body":"I completely agree with you David. Anyway, I&#39;ll take a look at the website, a friend recommended it. Thank you all"},{"owner":{"account_id":78974,"reputation":413,"user_id":224328,"accept_rate":92,"display_name":"lje"},"score":0,"creation_date":1434597706,"post_id":28883937,"comment_id":49850021,"body_markdown":"Wow, have to agree with @Hannes,  THIS is the criteria for entrance?  No thank you!","body":"Wow, have to agree with @Hannes,  THIS is the criteria for entrance?  No thank you!"},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1623103173,"post_id":28883937,"comment_id":119979115,"body_markdown":"FWIW, these &quot;code captchas&quot; are intended to be anti-robot, not anti-human measures. This particular challenge is no longer being used in favor of a much less ambiguous debugging kata.","body":"FWIW, these &quot;code captchas&quot; are intended to be anti-robot, not anti-human measures. This particular challenge is no longer being used in favor of a much less ambiguous debugging kata."}],"answers":[{"tags":[],"owner":{"account_id":555716,"reputation":12977,"user_id":2192494,"display_name":"Lee Daniel Crocker"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1425578902,"creation_date":1425576980,"answer_id":28884160,"question_id":28883937,"body_markdown":"You are correct; this code is correct as written, and the Codewars guys are boneheads. They probably want you to switch the names around the other way.\r\n\r\nThe OO metaphor for calling a function on an object and passing an argument is &quot;tell the object to perform the action on the given object&quot;. In other words, if the object is `Jim`, then `Jim.greet(&quot;Joe&quot;)` is telling Jim to greet Joe, and &quot;Hi, Joe, my name is Jim&quot; is the right thing to do.\r\n\r\nActually, since greeting is really a communication between two persons, the real correct thing to do is not to pass a string name to `greet`, but to pass a `Person`, and have `greet` call that `Person`&#39;s `beGreeted()` method.","title":"Signing up Codewars","body":"<p>You are correct; this code is correct as written, and the Codewars guys are boneheads. They probably want you to switch the names around the other way.</p>\n\n<p>The OO metaphor for calling a function on an object and passing an argument is \"tell the object to perform the action on the given object\". In other words, if the object is <code>Jim</code>, then <code>Jim.greet(\"Joe\")</code> is telling Jim to greet Joe, and \"Hi, Joe, my name is Jim\" is the right thing to do.</p>\n\n<p>Actually, since greeting is really a communication between two persons, the real correct thing to do is not to pass a string name to <code>greet</code>, but to pass a <code>Person</code>, and have <code>greet</code> call that <code>Person</code>'s <code>beGreeted()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":6105876,"reputation":281,"user_id":4763616,"accept_rate":33,"display_name":"Senthilvel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1431347948,"creation_date":1431347948,"answer_id":30167894,"question_id":28883937,"body_markdown":"\r\n\r\nThe Answer Is : Justyou need two swap the variables in String.format().\r\n\r\nQuestion:\r\n\r\nreturn String.format(&quot;Hi %s, my name is %s&quot;, name, yourName);\r\n\r\nAnswer :\r\n\r\nreturn String.format(&quot;Hi %s, my name is %s&quot;, yourName, name);\r\n\r\n     public class Person\r\n     {\r\n         String name;\r\n         public Person(String personName){\r\n         name = personName;\r\n         }\r\n         public String greet(String yourName)\r\n          {\r\n             return String.format(&quot;Hi %s, my name is %s&quot;, yourName,name);\r\n           }\r\n      }\r\n\r\n","title":"Signing up Codewars","body":"<p>The Answer Is : Justyou need two swap the variables in String.format().</p>\n\n<p>Question:</p>\n\n<p>return String.format(\"Hi %s, my name is %s\", name, yourName);</p>\n\n<p>Answer :</p>\n\n<p>return String.format(\"Hi %s, my name is %s\", yourName, name);</p>\n\n<pre><code> public class Person\n {\n     String name;\n     public Person(String personName){\n     name = personName;\n     }\n     public String greet(String yourName)\n      {\n         return String.format(\"Hi %s, my name is %s\", yourName,name);\n       }\n  }\n</code></pre>\n"}],"owner":{"account_id":4758900,"reputation":771,"user_id":3846857,"accept_rate":48,"display_name":"Fernando"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8079,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"closed_date":1633900062,"accepted_answer_id":28884160,"answer_count":2,"score":5,"last_activity_date":1634045049,"creation_date":1425576279,"question_id":28883937,"body_markdown":"I&#39;m trying to get an account in [Codewars](http://www.codewars.com) and was surprised you have to show them you have some basic knowledge in one of the programming languages offered. I chose Java but got stuck in one the exercises. The code is:\r\n\r\n    public class Person {\r\n        String name;\r\n\r\n        public Person(String personName) {\r\n            name = personName;\r\n        }\r\n\r\n        public String greet(String yourName) {\r\n            return String.format(&quot;Hi %s, my name is %s&quot;, yourName, name);\r\n        }\r\n    }\r\n\r\nIt says, &quot;Correct this code, so that the greet function returns the expected value&quot;. The thing is, I do not see the error and in fact I copied the code to Eclipse and after changin the Java compiler and use version 1.6 the code works, no error and if you try it with a main method it returns the expected value.\r\n\r\nIf only they tell you which the expected value is... When submitting, no matter what I try I always get &quot;The code does not work as expected&quot;.\r\n\r\nAny ideas? ","title":"Signing up Codewars","body":"<p>I'm trying to get an account in <a href=\"http://www.codewars.com\" rel=\"nofollow\">Codewars</a> and was surprised you have to show them you have some basic knowledge in one of the programming languages offered. I chose Java but got stuck in one the exercises. The code is:</p>\n\n<pre><code>public class Person {\n    String name;\n\n    public Person(String personName) {\n        name = personName;\n    }\n\n    public String greet(String yourName) {\n        return String.format(\"Hi %s, my name is %s\", yourName, name);\n    }\n}\n</code></pre>\n\n<p>It says, \"Correct this code, so that the greet function returns the expected value\". The thing is, I do not see the error and in fact I copied the code to Eclipse and after changin the Java compiler and use version 1.6 the code works, no error and if you try it with a main method it returns the expected value.</p>\n\n<p>If only they tell you which the expected value is... When submitting, no matter what I try I always get \"The code does not work as expected\".</p>\n\n<p>Any ideas? </p>\n"},{"tags":["java","eclipse","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1437895593,"creation_date":1437895593,"answer_id":31634684,"question_id":31634573,"body_markdown":"You can download the **rabbitmq-java-client-bin-3.5.4.zip** from official link [here][1] . Then extract the **rabbitmq-client.jar** from the zip &amp; add it to your class path in project. Then you will be able to resolve `The import &quot;com.rabbitmq&quot;`. Give it a try.\r\n\r\n\r\n  [1]: https://www.rabbitmq.com/releases/rabbitmq-java-client/v3.5.4/rabbitmq-java-client-bin-3.5.4.zip","title":"How to add RabbitMQ library to project? &#39;The import &quot;com.rabbitmq&quot; cannot be resolved&#39;","body":"<p>You can download the <strong>rabbitmq-java-client-bin-3.5.4.zip</strong> from official link <a href=\"https://www.rabbitmq.com/releases/rabbitmq-java-client/v3.5.4/rabbitmq-java-client-bin-3.5.4.zip\" rel=\"noreferrer\">here</a> . Then extract the <strong>rabbitmq-client.jar</strong> from the zip &amp; add it to your class path in project. Then you will be able to resolve <code>The import \"com.rabbitmq\"</code>. Give it a try.</p>\n"},{"tags":[],"owner":{"account_id":12932918,"reputation":84,"user_id":9351336,"display_name":"Dimitris Karamanis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577366392,"creation_date":1577366392,"answer_id":59489078,"question_id":31634573,"body_markdown":"Since the verified answer doesn&#39;t work anymore, here is my solution: \r\n\r\nYou can download the **amqp-client-5.8.0.jar** from [here][1] . Then add it to your class path, like any other jar.\r\n\r\nIn case that the link doesn&#39;t work, you can manually download it from [here][2] or even add the required dependency to your maven/gradle project.\r\n\r\n\r\n  [1]: http://repo1.maven.org/maven2/com/rabbitmq/amqp-client/5.8.0/amqp-client-5.8.0.jar\r\n  [2]: https://www.rabbitmq.com/java-client.html","title":"How to add RabbitMQ library to project? &#39;The import &quot;com.rabbitmq&quot; cannot be resolved&#39;","body":"<p>Since the verified answer doesn't work anymore, here is my solution: </p>\n\n<p>You can download the <strong>amqp-client-5.8.0.jar</strong> from <a href=\"http://repo1.maven.org/maven2/com/rabbitmq/amqp-client/5.8.0/amqp-client-5.8.0.jar\" rel=\"nofollow noreferrer\">here</a> . Then add it to your class path, like any other jar.</p>\n\n<p>In case that the link doesn't work, you can manually download it from <a href=\"https://www.rabbitmq.com/java-client.html\" rel=\"nofollow noreferrer\">here</a> or even add the required dependency to your maven/gradle project.</p>\n"},{"tags":[],"owner":{"account_id":23012222,"reputation":1,"user_id":17134585,"display_name":"Anand gowda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634044979,"creation_date":1634041845,"answer_id":69540585,"question_id":31634573,"body_markdown":"For Visual studio code(vscode) we need to add the library file under Referenced Libraries [enter image description here][1] under the Java projects section.\r\n\r\n\r\n[enter image description here][2].imgur.com/txB2s.png\r\n\r\n\r\n  [1]: https://i.stack\r\n  [2]: https://i.stack.imgur.com/rMV7k.png","title":"How to add RabbitMQ library to project? &#39;The import &quot;com.rabbitmq&quot; cannot be resolved&#39;","body":"<p>For Visual studio code(vscode) we need to add the library file under Referenced Libraries <a href=\"https://i.stack\" rel=\"nofollow noreferrer\">enter image description here</a> under the Java projects section.</p>\n<p><a href=\"https://i.stack.imgur.com/rMV7k.png\" rel=\"nofollow noreferrer\">enter image description here</a>.imgur.com/txB2s.png</p>\n"}],"owner":{"account_id":1535649,"reputation":109,"user_id":1431777,"display_name":"jmhummel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8548,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":31634684,"answer_count":3,"score":6,"last_activity_date":1634044979,"creation_date":1437894583,"question_id":31634573,"body_markdown":"I am working through the RabbitMQ Java tutorial found here: https://www.rabbitmq.com/tutorials/tutorial-one-java.html\r\n\r\nI have downloaded the Java Client Library package, and copied the JAR files to my project in Eclipse, but the import statements\r\n\r\n    import com.rabbitmq.client.ConnectionFactory;\r\n    import com.rabbitmq.client.Connection;\r\n    import com.rabbitmq.client.Channel;\r\n\r\nall yield the error \r\n\r\n    The import &quot;com.rabbitmq&quot; cannot be resolved.\r\n\r\nThe instructions are unclear how to incorporate the JAR files from the Java Client Library package, how should I proceed?","title":"How to add RabbitMQ library to project? &#39;The import &quot;com.rabbitmq&quot; cannot be resolved&#39;","body":"<p>I am working through the RabbitMQ Java tutorial found here: <a href=\"https://www.rabbitmq.com/tutorials/tutorial-one-java.html\" rel=\"noreferrer\">https://www.rabbitmq.com/tutorials/tutorial-one-java.html</a></p>\n\n<p>I have downloaded the Java Client Library package, and copied the JAR files to my project in Eclipse, but the import statements</p>\n\n<pre><code>import com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.Channel;\n</code></pre>\n\n<p>all yield the error </p>\n\n<pre><code>The import \"com.rabbitmq\" cannot be resolved.\n</code></pre>\n\n<p>The instructions are unclear how to incorporate the JAR files from the Java Client Library package, how should I proceed?</p>\n"},{"tags":["java","java-8","java-11","quarkus","micrometer"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1634050439,"post_id":69541354,"comment_id":122919337,"body_markdown":"My guess is that you are mixing micrometer versions","body":"My guess is that you are mixing micrometer versions"},{"owner":{"account_id":5210108,"reputation":571,"user_id":4166822,"accept_rate":71,"display_name":"nmpg"},"score":0,"creation_date":1634051292,"post_id":69541354,"comment_id":122919737,"body_markdown":"how so? Only one is found the the classpath","body":"how so? Only one is found the the classpath"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1634053400,"post_id":69541354,"comment_id":122920649,"body_markdown":"Can you add the entire stacktrace and the `pom.xml`?","body":"Can you add the entire stacktrace and the <code>pom.xml</code>?"},{"owner":{"account_id":182275,"reputation":1260,"user_id":416850,"display_name":"ebullient"},"score":0,"creation_date":1636828893,"post_id":69541354,"comment_id":123663553,"body_markdown":"Can you also be clear about which version of Quarkus this is using?","body":"Can you also be clear about which version of Quarkus this is using?"}],"owner":{"account_id":5210108,"reputation":571,"user_id":4166822,"accept_rate":71,"display_name":"nmpg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634044923,"creation_date":1634044923,"question_id":69541354,"body_markdown":"I&#39;m facing the following issue\r\n\r\n    [ERROR] com.xyz.MyClass.myTest  Time elapsed: 2.073 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IncompatibleClassChangeError: Method &#39;io.micrometer.core.instrument.Timer$Builder \r\n    io.micrometer.core.instrument.Timer.builder(java.lang.String)&#39; must be InterfaceMethodref constant\r\n\r\nThis comes from a prject being compiled and run with Java 11. It does however depend on libraries that have been compiled with Java 8, and some of them were coded with Scala.\r\n\r\nI discarded root cause being conflict between different Micrometer versions as there is only one Micrometer version in the classpath:\r\n\r\n    [INFO] +- io.micrometer:micrometer-registry-prometheus:jar:1.7.3:compile\r\n    [INFO] |  +- io.micrometer:micrometer-core:jar:1.7.3:compile\r\n\r\nThe code compiles fine. This issue occurs at runtime. The above error is from a Quarkus test.\r\n\r\nAny idea?\r\n","title":"IncompatibleClassChangeError thrown at runtime with Micrometer","body":"<p>I'm facing the following issue</p>\n<pre><code>[ERROR] com.xyz.MyClass.myTest  Time elapsed: 2.073 s  &lt;&lt;&lt; ERROR!\njava.lang.IncompatibleClassChangeError: Method 'io.micrometer.core.instrument.Timer$Builder \nio.micrometer.core.instrument.Timer.builder(java.lang.String)' must be InterfaceMethodref constant\n</code></pre>\n<p>This comes from a prject being compiled and run with Java 11. It does however depend on libraries that have been compiled with Java 8, and some of them were coded with Scala.</p>\n<p>I discarded root cause being conflict between different Micrometer versions as there is only one Micrometer version in the classpath:</p>\n<pre><code>[INFO] +- io.micrometer:micrometer-registry-prometheus:jar:1.7.3:compile\n[INFO] |  +- io.micrometer:micrometer-core:jar:1.7.3:compile\n</code></pre>\n<p>The code compiles fine. This issue occurs at runtime. The above error is from a Quarkus test.</p>\n<p>Any idea?</p>\n"},{"tags":["java","macos","intellij-idea","javafx","encoding"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1621624433,"post_id":67642590,"comment_id":119561815,"body_markdown":"Which are your Java/JavaFX versions?","body":"Which are your Java/JavaFX versions?"},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1621624833,"post_id":67642590,"comment_id":119561950,"body_markdown":"[`.SFNS-Regular` related](https://stackoverflow.com/questions/66891857/)","body":"<a href=\"https://stackoverflow.com/questions/66891857/\"><code>.SFNS-Regular</code> related</a>"}],"answers":[{"tags":[],"owner":{"account_id":20445306,"reputation":1,"user_id":15001248,"display_name":"Jelle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634044826,"creation_date":1634044826,"answer_id":69541332,"question_id":67642590,"body_markdown":"I had the similar problem. In my case I was able to work around the error by switching the Module SDK from Java SDK 11.0.12 (latest version at time of writing this) to an older version: 11.0.8.\r\n\r\nTo change SDK in IntelliJ go to:\r\nFile -&gt; Project Structure -&gt; Modules\r\n\r\nDownload of Java 11.0.8 is available here:\r\nhttps://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html","title":"JavaFx wrong encoding in Intellij Mac","body":"<p>I had the similar problem. In my case I was able to work around the error by switching the Module SDK from Java SDK 11.0.12 (latest version at time of writing this) to an older version: 11.0.8.</p>\n<p>To change SDK in IntelliJ go to:\nFile -&gt; Project Structure -&gt; Modules</p>\n<p>Download of Java 11.0.8 is available here:\n<a href=\"https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html</a></p>\n"}],"owner":{"account_id":16043965,"reputation":11,"user_id":11579661,"display_name":"Mateo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1634160232,"answer_count":1,"score":1,"last_activity_date":1634044826,"creation_date":1621623655,"question_id":67642590,"body_markdown":"I made a JavaFX program but when I run it the text encoding is wrong.\r\n\r\n\r\n[The Java program running][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d4b9E.png\r\n\r\n\r\n    2021-05-21 20:55:30.060 java[9662:328105] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\r\n    2021-05-21 20:55:30.060 java[9662:328105] CoreText note: Set a breakpoint on CTFontLogSystemFontNameRequest to debug.\r\n    2021-05-21 20:55:30.441 java[9662:328105] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\r\n    2021-05-21 20:55:30.793 java[9662:328141] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\r\n\r\n","title":"JavaFx wrong encoding in Intellij Mac","body":"<p>I made a JavaFX program but when I run it the text encoding is wrong.</p>\n<p><a href=\"https://i.stack.imgur.com/d4b9E.png\" rel=\"nofollow noreferrer\">The Java program running</a></p>\n<pre><code>2021-05-21 20:55:30.060 java[9662:328105] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\n2021-05-21 20:55:30.060 java[9662:328105] CoreText note: Set a breakpoint on CTFontLogSystemFontNameRequest to debug.\n2021-05-21 20:55:30.441 java[9662:328105] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\n2021-05-21 20:55:30.793 java[9662:328141] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":4934901,"reputation":13,"user_id":3973365,"display_name":"Mobin Ghahramanpour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634044747,"creation_date":1634044747,"answer_id":69541314,"question_id":69541052,"body_markdown":"Have you noted `@EnableJpaAuditing` with the `@Configuration`?\r\n\r\nYou should declare `@EntityListeners(AuditingEntityListener.class)` with your entity class too.\r\n\r\nfor more details you can check [https://www.baeldung.com/database-auditing-jpa][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/database-auditing-jpa","title":"@LastModifiedDate is not updating when some of the columns are null in spring boot","body":"<p>Have you noted <code>@EnableJpaAuditing</code> with the <code>@Configuration</code>?</p>\n<p>You should declare <code>@EntityListeners(AuditingEntityListener.class)</code> with your entity class too.</p>\n<p>for more details you can check <a href=\"https://www.baeldung.com/database-auditing-jpa\" rel=\"nofollow noreferrer\">https://www.baeldung.com/database-auditing-jpa</a></p>\n"}],"owner":{"account_id":11220080,"reputation":149,"user_id":8231516,"accept_rate":40,"display_name":"Anamika Chavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634044747,"creation_date":1634043709,"question_id":69541052,"body_markdown":"I have one table and in that, I have `@lastModifiedDate` column. \r\n\r\nI have a `status` column in the table which is `null` initially and after successful transaction `status` is getting updated. \r\n\r\nWhen the `status` field is updated, `@lastModifiedDate` needs to be also updated but its still showing the same date and time. Can anybody provide me the solution on that one?","title":"@LastModifiedDate is not updating when some of the columns are null in spring boot","body":"<p>I have one table and in that, I have <code>@lastModifiedDate</code> column.</p>\n<p>I have a <code>status</code> column in the table which is <code>null</code> initially and after successful transaction <code>status</code> is getting updated.</p>\n<p>When the <code>status</code> field is updated, <code>@lastModifiedDate</code> needs to be also updated but its still showing the same date and time. Can anybody provide me the solution on that one?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1634043994,"post_id":69540930,"comment_id":122916134,"body_markdown":"You never actually call `addProfile()` in your test (neither explicitly nor implicitly).","body":"You never actually call <code>addProfile()</code> in your test (neither explicitly nor implicitly)."},{"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"score":0,"creation_date":1634045652,"post_id":69540930,"comment_id":122916970,"body_markdown":"Yes, that is true I was so focused on testing builder :/","body":"Yes, that is true I was so focused on testing builder :/"}],"answers":[{"tags":[],"owner":{"account_id":4679232,"reputation":2061,"user_id":3788470,"accept_rate":100,"display_name":"thchp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634044592,"creation_date":1634044330,"answer_id":69541204,"question_id":69540930,"body_markdown":"First, you are not calling `addProfile()` in your test. Also, you don&#39;t need to mock the `ProfileBuilder` here as `Profile.builder()` returns a new instance. It will not return the mocked instance. \r\n\r\nTip : use the [*given/when/then*][1] pattern for writing tests. This will help to not forget this kind of things.\r\n\r\n```java\r\n@Test\r\nvoid addProfileTest(){\r\n   // Given\r\n   Profile profile = new Profile(&quot;25.07.1996&quot;, city, country, &quot;imageId&quot;, team);\r\n\r\n   // When\r\n   profileService.addProfile(profile);\r\n\r\n   // Then\r\n   verify(profileRepository, times(1)).save(profile);\r\n}\r\n```\r\nThis test passes.\r\n\r\n  [1]: https://www.agilealliance.org/glossary/gwt/#q=~(infinite~false~filters~(postType~(~&#39;page~&#39;post~&#39;aa_book~&#39;aa_event_session~&#39;aa_experience_report~&#39;aa_glossary~&#39;aa_research_paper~&#39;aa_video)~tags~(~&#39;given*20when*20then))~searchTerm~&#39;~sort~false~sortDirection~&#39;asc~page~1)","title":"How to test builder with Mockito - Java","body":"<p>First, you are not calling <code>addProfile()</code> in your test. Also, you don't need to mock the <code>ProfileBuilder</code> here as <code>Profile.builder()</code> returns a new instance. It will not return the mocked instance.</p>\n<p>Tip : use the <a href=\"https://www.agilealliance.org/glossary/gwt/#q=%7E(infinite%7Efalse%7Efilters%7E(postType%7E(%7E%27page%7E%27post%7E%27aa_book%7E%27aa_event_session%7E%27aa_experience_report%7E%27aa_glossary%7E%27aa_research_paper%7E%27aa_video)%7Etags%7E(%7E%27given*20when*20then))%7EsearchTerm%7E%27%7Esort%7Efalse%7EsortDirection%7E%27asc%7Epage%7E1)\" rel=\"nofollow noreferrer\"><em>given/when/then</em></a> pattern for writing tests. This will help to not forget this kind of things.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid addProfileTest(){\n   // Given\n   Profile profile = new Profile(&quot;25.07.1996&quot;, city, country, &quot;imageId&quot;, team);\n\n   // When\n   profileService.addProfile(profile);\n\n   // Then\n   verify(profileRepository, times(1)).save(profile);\n}\n</code></pre>\n<p>This test passes.</p>\n"}],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69541204,"answer_count":1,"score":1,"last_activity_date":1634044592,"creation_date":1634043267,"question_id":69540930,"body_markdown":"I have a builder class written in Java that I would like to test with Mockito.\r\n\r\n **Profile.java**   \r\n\r\n    @Data\r\n    @Document\r\n    public class Profile {\r\n    \r\n        public final String birthDate;\r\n        public final City city;\r\n        public final Country country;\r\n        public final String imageId;\r\n        public final Team team;\r\n    \r\n        public Profile(String birthDate,\r\n                       City city,\r\n                       Country country,\r\n                       String imageId,\r\n                       Team team) {\r\n            this.birthDate = birthDate;\r\n            this.city = city;\r\n            this.country = country;\r\n            this.imageId = imageId;\r\n            this.team = team;\r\n        }\r\n    \r\n        public static ProfileBuilder builder() {\r\n            return new ProfileBuilder();\r\n        }\r\n    \r\n        public static final class ProfileBuilder {\r\n            public String birthDate;\r\n            public City city;\r\n            public Country country;\r\n            public String imageId;\r\n            public Team team;\r\n    \r\n            public ProfileBuilder() {\r\n            }\r\n    \r\n            public ProfileBuilder withBirthDate(String birthDate) {\r\n                this.birthDate = birthDate;\r\n                return this;\r\n            }\r\n    \r\n            public ProfileBuilder withCity(City city) {\r\n                this.city = city;\r\n                return this;\r\n            }\r\n    \r\n            public ProfileBuilder withCountry(Country country) {\r\n                this.country = country;\r\n                return this;\r\n            }\r\n    \r\n            public ProfileBuilder withImageId(String imageId) {\r\n                this.imageId = imageId;\r\n                return this;\r\n            }\r\n    \r\n            public ProfileBuilder withTeam(Team team) {\r\n                this.team = team;\r\n                return this;\r\n            }\r\n    \r\n            public Profile build(){\r\n                return new Profile(birthDate, city, country, imageId, team);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd I have this method to add Profile to database\r\n\r\n    @Override\r\n        public Profile addProfile(Profile profile) {\r\n    \r\n            Profile createdProfile = Profile.builder()\r\n                    .withBirthDate(profile.getBirthDate())\r\n                    .withCity(profile.getCity())\r\n                    .withCountry(profile.getCountry())\r\n                    .withTeam(profile.getTeam())\r\n                    .withImageId(profile.getImageId())\r\n                    .build();\r\n    \r\n            return profileRepository.save(createdProfile);\r\n        }\r\n\r\nI am trying to test it like this:\r\n\r\n    public class ProfileServiceImplTest {\r\n    \r\n        ProfileRepository profileRepository = Mockito.mock(ProfileRepository.class);\r\n        private final ProfileServiceImpl profileService = new ProfileServiceImpl(profileRepository);\r\n    \r\n        City city = Mockito.mock(City.class);\r\n        Country country = Mockito.mock(Country.class);\r\n        Team team = Mockito.mock(Team.class);\r\n    \r\n        @Test\r\n        public void addProfileTest(){\r\n    \r\n            Profile profile = new Profile(&quot;25.07.1996&quot;, city, country, &quot;imageId&quot;, team);\r\n    \r\n            Profile.ProfileBuilder profileBuilderMock = Mockito.mock(Profile.ProfileBuilder.class);\r\n    \r\n            when(profileBuilderMock.build()).thenReturn(profile);\r\n    \r\n            verify(profileRepository, times(1)).save(profile);\r\n        }\r\n    }\r\n\r\nBut I am getting this error:\r\n\r\n    Wanted but not invoked:\r\n    profileRepository.save(\r\n        Profile(birthDate=25.07.1996, city=Mock for City, hashCode: 997294994, country=Mock for Country, hashCode: 506775047, imageId=imageId, team=Mock for Team, hashCode: 451959555)\r\n    );\r\n    -&gt; at com.profile.profileservice.service.ProfileServiceImplTest.addProfileTest(ProfileServiceImplTest.java:31)\r\n    Actually, there were zero interactions with this mock.\r\n\r\nWhat am I missing?","title":"How to test builder with Mockito - Java","body":"<p>I have a builder class written in Java that I would like to test with Mockito.</p>\n<p><strong>Profile.java</strong></p>\n<pre><code>@Data\n@Document\npublic class Profile {\n\n    public final String birthDate;\n    public final City city;\n    public final Country country;\n    public final String imageId;\n    public final Team team;\n\n    public Profile(String birthDate,\n                   City city,\n                   Country country,\n                   String imageId,\n                   Team team) {\n        this.birthDate = birthDate;\n        this.city = city;\n        this.country = country;\n        this.imageId = imageId;\n        this.team = team;\n    }\n\n    public static ProfileBuilder builder() {\n        return new ProfileBuilder();\n    }\n\n    public static final class ProfileBuilder {\n        public String birthDate;\n        public City city;\n        public Country country;\n        public String imageId;\n        public Team team;\n\n        public ProfileBuilder() {\n        }\n\n        public ProfileBuilder withBirthDate(String birthDate) {\n            this.birthDate = birthDate;\n            return this;\n        }\n\n        public ProfileBuilder withCity(City city) {\n            this.city = city;\n            return this;\n        }\n\n        public ProfileBuilder withCountry(Country country) {\n            this.country = country;\n            return this;\n        }\n\n        public ProfileBuilder withImageId(String imageId) {\n            this.imageId = imageId;\n            return this;\n        }\n\n        public ProfileBuilder withTeam(Team team) {\n            this.team = team;\n            return this;\n        }\n\n        public Profile build(){\n            return new Profile(birthDate, city, country, imageId, team);\n        }\n    }\n}\n</code></pre>\n<p>And I have this method to add Profile to database</p>\n<pre><code>@Override\n    public Profile addProfile(Profile profile) {\n\n        Profile createdProfile = Profile.builder()\n                .withBirthDate(profile.getBirthDate())\n                .withCity(profile.getCity())\n                .withCountry(profile.getCountry())\n                .withTeam(profile.getTeam())\n                .withImageId(profile.getImageId())\n                .build();\n\n        return profileRepository.save(createdProfile);\n    }\n</code></pre>\n<p>I am trying to test it like this:</p>\n<pre><code>public class ProfileServiceImplTest {\n\n    ProfileRepository profileRepository = Mockito.mock(ProfileRepository.class);\n    private final ProfileServiceImpl profileService = new ProfileServiceImpl(profileRepository);\n\n    City city = Mockito.mock(City.class);\n    Country country = Mockito.mock(Country.class);\n    Team team = Mockito.mock(Team.class);\n\n    @Test\n    public void addProfileTest(){\n\n        Profile profile = new Profile(&quot;25.07.1996&quot;, city, country, &quot;imageId&quot;, team);\n\n        Profile.ProfileBuilder profileBuilderMock = Mockito.mock(Profile.ProfileBuilder.class);\n\n        when(profileBuilderMock.build()).thenReturn(profile);\n\n        verify(profileRepository, times(1)).save(profile);\n    }\n}\n</code></pre>\n<p>But I am getting this error:</p>\n<pre><code>Wanted but not invoked:\nprofileRepository.save(\n    Profile(birthDate=25.07.1996, city=Mock for City, hashCode: 997294994, country=Mock for Country, hashCode: 506775047, imageId=imageId, team=Mock for Team, hashCode: 451959555)\n);\n-&gt; at com.profile.profileservice.service.ProfileServiceImplTest.addProfileTest(ProfileServiceImplTest.java:31)\nActually, there were zero interactions with this mock.\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","concurrency","threadpool","executorservice"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1634042593,"post_id":69540476,"comment_id":122915526,"body_markdown":"If you&#39;re going to put them all into a list, then perhaps you should use `List&lt;Callable&lt;Object&gt;&gt;` (and of course instantiate your callables with `new Callable&lt;Object&gt;(){...}`. That wouldn&#39;t be the worst part anyway, because you already have to cast. As far as typing goes, I think `invokeAll` is best suited for uniformly typed callables.","body":"If you&#39;re going to put them all into a list, then perhaps you should use <code>List&lt;Callable&lt;Object&gt;&gt;</code> (and of course instantiate your callables with <code>new Callable&lt;Object&gt;(){...}</code>. That wouldn&#39;t be the worst part anyway, because you already have to cast. As far as typing goes, I think <code>invokeAll</code> is best suited for uniformly typed callables."}],"answers":[{"tags":[],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634042225,"creation_date":1634042225,"answer_id":69540683,"question_id":69540476,"body_markdown":"I don&#39;t know if this is the best solution, and it doesn&#39;t actually answer the question how to use generics to have a list of different callables. But I ended up using two separate Callables and Futures.\r\n\r\n        Callable&lt;BookServicesResponse&gt; taskBook = new Callable&lt;BookServicesResponse&gt;() {\r\n                public BookServicesResponse call() throws Exception {\r\n                    BookServicesResponse autoBookResponse = bookServices(autoBookingEnabled, tripDTO, approvalRequestDetails, approvalRequest, quoteResponse, memberId, properties, session);\r\n                    return autoBookResponse;\r\n                }\r\n            };\r\n\r\n        Callable&lt;ApprovalResponse&gt; taskApprove = new Callable&lt;ApprovalResponse&gt;() {\r\n                public ApprovalResponse call() throws Exception {\r\n                    ApprovalResponse approvalResponse = submitApproval(approvalRequest, tripDTO, tripRequirementsResponse, evaluatorsList, evaluationTree, memberId, properties, session);\r\n                    return approvalResponse;\r\n                }\r\n            };\r\n\r\n        Future&lt;BookServicesResponse&gt; futureBook = executorService.submit(taskBook);\r\n        Future&lt;ApprovalResponse&gt; futureApprove = executorService.submit(taskApprove);","title":"Java ExecutorService invokeAll with different types","body":"<p>I don't know if this is the best solution, and it doesn't actually answer the question how to use generics to have a list of different callables. But I ended up using two separate Callables and Futures.</p>\n<pre><code>    Callable&lt;BookServicesResponse&gt; taskBook = new Callable&lt;BookServicesResponse&gt;() {\n            public BookServicesResponse call() throws Exception {\n                BookServicesResponse autoBookResponse = bookServices(autoBookingEnabled, tripDTO, approvalRequestDetails, approvalRequest, quoteResponse, memberId, properties, session);\n                return autoBookResponse;\n            }\n        };\n\n    Callable&lt;ApprovalResponse&gt; taskApprove = new Callable&lt;ApprovalResponse&gt;() {\n            public ApprovalResponse call() throws Exception {\n                ApprovalResponse approvalResponse = submitApproval(approvalRequest, tripDTO, tripRequirementsResponse, evaluatorsList, evaluationTree, memberId, properties, session);\n                return approvalResponse;\n            }\n        };\n\n    Future&lt;BookServicesResponse&gt; futureBook = executorService.submit(taskBook);\n    Future&lt;ApprovalResponse&gt; futureApprove = executorService.submit(taskApprove);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634043081,"creation_date":1634042587,"answer_id":69540768,"question_id":69540476,"body_markdown":"It doesn&#39;t work the way you tried because `invokeAll` expects a parameter of type `List&lt;? extends Callable&lt;T&gt;&gt;` and not  `List&lt;? extends Callable&lt;? extends T&gt;&gt;`. You could consider this a downside of the API.\r\n\r\nIn order to get around this, you can use a `List&lt;Callable&lt;Object&gt;&gt;` or use a common superclass of `BookServicdsResponse` and `ArrovalResponse` (I&#39;ll use `Response` in this example) :\r\n```\r\nList&lt;Callable&lt;Response&gt;&gt; tasks = Arrays.asList(\r\n        new Callable&lt;Response&gt;() {\r\n            public Response call() throws Exception {\r\n                BookServicesResponse autoBookResponse = bookServices(autoBookingEnabled, tripDTO, approvalRequestDetails, approvalRequest, quoteResponse, memberId, properties, session);\r\n                return autoBookResponse;\r\n            }\r\n        },\r\n        new Callable&lt;Response&gt;() {\r\n            public Response call() throws Exception {\r\n                ApprovalResponse approvalResponse = submitApproval(approvalRequest, tripDTO, tripRequirementsResponse, evaluatorsList, evaluationTree, memberId, properties, session);\r\n                return approvalResponse;\r\n            }\r\n        });\r\n\r\n    List&lt;Future&lt;Response&gt;&gt; futures = executorService.invokeAll(tasks); // compile error\r\n```\r\n\r\nYou can also use an &quot;unsafe&quot; cast like this:\r\n\r\n```java\r\nList&lt;Future&lt;?&gt;&gt; futures = executorService.invokeAll((List&lt;Callable&lt;Object&gt;&gt;) tasks);\r\n```\r\n\r\nAs you would only retrieve elements from the `Callable`s, this would not cause unwanted `ClassCastException`s. ","title":"Java ExecutorService invokeAll with different types","body":"<p>It doesn't work the way you tried because <code>invokeAll</code> expects a parameter of type <code>List&lt;? extends Callable&lt;T&gt;&gt;</code> and not  <code>List&lt;? extends Callable&lt;? extends T&gt;&gt;</code>. You could consider this a downside of the API.</p>\n<p>In order to get around this, you can use a <code>List&lt;Callable&lt;Object&gt;&gt;</code> or use a common superclass of <code>BookServicdsResponse</code> and <code>ArrovalResponse</code> (I'll use <code>Response</code> in this example) :</p>\n<pre><code>List&lt;Callable&lt;Response&gt;&gt; tasks = Arrays.asList(\n        new Callable&lt;Response&gt;() {\n            public Response call() throws Exception {\n                BookServicesResponse autoBookResponse = bookServices(autoBookingEnabled, tripDTO, approvalRequestDetails, approvalRequest, quoteResponse, memberId, properties, session);\n                return autoBookResponse;\n            }\n        },\n        new Callable&lt;Response&gt;() {\n            public Response call() throws Exception {\n                ApprovalResponse approvalResponse = submitApproval(approvalRequest, tripDTO, tripRequirementsResponse, evaluatorsList, evaluationTree, memberId, properties, session);\n                return approvalResponse;\n            }\n        });\n\n    List&lt;Future&lt;Response&gt;&gt; futures = executorService.invokeAll(tasks); // compile error\n</code></pre>\n<p>You can also use an &quot;unsafe&quot; cast like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Future&lt;?&gt;&gt; futures = executorService.invokeAll((List&lt;Callable&lt;Object&gt;&gt;) tasks);\n</code></pre>\n<p>As you would only retrieve elements from the <code>Callable</code>s, this would not cause unwanted <code>ClassCastException</code>s.</p>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1634045160,"accepted_answer_id":69540768,"answer_count":2,"score":2,"last_activity_date":1634044460,"creation_date":1634041367,"question_id":69540476,"body_markdown":"I am using Java 1.7.\r\n\r\nI am trying to execute two methods concurrently. However, each method has a different return type.\r\n\r\nI have the following:\r\n\r\n    private ExecutorService executorService = Executors.newFixedThreadPool(2);\r\n    \r\n    private void executeConcurrentTasks(final boolean autoBookingEnabled, final TripDTO tripDTO, final ApprovalRequestDetails approvalRequestDetails, final ApprovalRequest approvalRequest, final QuoteResponse quoteResponse, final TripRequirementsResponse tripRequirementsResponse, final List&lt;List&lt;Evaluator&gt;&gt; evaluatorsList, final List&lt;EvaluationApprovalTree&gt; evaluationTree, final Long memberId, final Map&lt;String,Object&gt; properties, final HttpSession session) {\r\n\r\n        List&lt;Callable&lt;?&gt;&gt; tasks = Arrays.asList(\r\n            new Callable&lt;BookServicesResponse&gt;() {\r\n                public BookServicesResponse call() throws Exception {\r\n                    BookServicesResponse autoBookResponse = bookServices(autoBookingEnabled, tripDTO, approvalRequestDetails, approvalRequest, quoteResponse, memberId, properties, session);\r\n                    return autoBookResponse;\r\n                }\r\n            },\r\n            new Callable&lt;ApprovalResponse&gt;() {\r\n                public ApprovalResponse call() throws Exception {\r\n                    ApprovalResponse approvalResponse = submitApproval(approvalRequest, tripDTO, tripRequirementsResponse, evaluatorsList, evaluationTree, memberId, properties, session);\r\n                    return approvalResponse;\r\n                }\r\n            });\r\n\r\n        List&lt;Future&lt;?&gt;&gt; futures = executorService.invokeAll(tasks); // compile error\r\n        \r\n        for (Future&lt;?&gt; future : futures) {\r\n            try {\r\n                Object obj = future.get();\r\n                if (obj instanceof BookServicesResponse) {\r\n                    // ...\r\n                } else if (obj instanceof ApprovalResponse) {\r\n                    // ...\r\n                }\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\nCompile error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Question**\r\n\r\nIs there a generic way to handle the call of the two methods, so that the returned list of futures each have a different object?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kmUDe.png","title":"Java ExecutorService invokeAll with different types","body":"<p>I am using Java 1.7.</p>\n<p>I am trying to execute two methods concurrently. However, each method has a different return type.</p>\n<p>I have the following:</p>\n<pre><code>private ExecutorService executorService = Executors.newFixedThreadPool(2);\n\nprivate void executeConcurrentTasks(final boolean autoBookingEnabled, final TripDTO tripDTO, final ApprovalRequestDetails approvalRequestDetails, final ApprovalRequest approvalRequest, final QuoteResponse quoteResponse, final TripRequirementsResponse tripRequirementsResponse, final List&lt;List&lt;Evaluator&gt;&gt; evaluatorsList, final List&lt;EvaluationApprovalTree&gt; evaluationTree, final Long memberId, final Map&lt;String,Object&gt; properties, final HttpSession session) {\n\n    List&lt;Callable&lt;?&gt;&gt; tasks = Arrays.asList(\n        new Callable&lt;BookServicesResponse&gt;() {\n            public BookServicesResponse call() throws Exception {\n                BookServicesResponse autoBookResponse = bookServices(autoBookingEnabled, tripDTO, approvalRequestDetails, approvalRequest, quoteResponse, memberId, properties, session);\n                return autoBookResponse;\n            }\n        },\n        new Callable&lt;ApprovalResponse&gt;() {\n            public ApprovalResponse call() throws Exception {\n                ApprovalResponse approvalResponse = submitApproval(approvalRequest, tripDTO, tripRequirementsResponse, evaluatorsList, evaluationTree, memberId, properties, session);\n                return approvalResponse;\n            }\n        });\n\n    List&lt;Future&lt;?&gt;&gt; futures = executorService.invokeAll(tasks); // compile error\n    \n    for (Future&lt;?&gt; future : futures) {\n        try {\n            Object obj = future.get();\n            if (obj instanceof BookServicesResponse) {\n                // ...\n            } else if (obj instanceof ApprovalResponse) {\n                // ...\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>Compile error:</p>\n<p><a href=\"https://i.stack.imgur.com/kmUDe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kmUDe.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Question</strong></p>\n<p>Is there a generic way to handle the call of the two methods, so that the returned list of futures each have a different object?</p>\n"},{"tags":["java","encoding","integer","character","system.in"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1634030893,"post_id":69538084,"comment_id":122911041,"body_markdown":"Is it required that you use `System.in.read()`? because there are other ways to get user input that are in my opinion much better and easier, like using a Scanner.","body":"Is it required that you use <code>System.in.read()</code>? because there are other ways to get user input that are in my opinion much better and easier, like using a Scanner."},{"owner":{"account_id":23010677,"reputation":11,"user_id":17133236,"display_name":"BigChicken97"},"score":0,"creation_date":1634031063,"post_id":69538084,"comment_id":122911119,"body_markdown":"No but I wanted to try it out with &#39;System.in.read()&#39;. Just out of curiosity.","body":"No but I wanted to try it out with &#39;System.in.read()&#39;. Just out of curiosity."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1634031143,"post_id":69538084,"comment_id":122911161,"body_markdown":"I agree with @OHGODSPIDERS that there are better ways, I just don&#39;t think `Scanner` is one of them ;-) `System.in.read` reads *a single byte of data*, because `System.in` is an `InputStream`. `InputStream` is for reading binary data (or if you don&#39;t care what the data is, but just want to move it from one place to the other). For reading text (like what a user is inputting) you should use a `Reader`.","body":"I agree with @OHGODSPIDERS that there are better ways, I just don&#39;t think <code>Scanner</code> is one of them ;-) <code>System.in.read</code> reads <i>a single byte of data</i>, because <code>System.in</code> is an <code>InputStream</code>. <code>InputStream</code> is for reading binary data (or if you don&#39;t care what the data is, but just want to move it from one place to the other). For reading text (like what a user is inputting) you should use a <code>Reader</code>."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1634031671,"post_id":69538084,"comment_id":122911357,"body_markdown":"The character &#39;2&#39; has ASCII or Unicode value 50. You are looking for line input into a String. I would advise to try the [Console](https://docs.oracle.com/javase/10/docs/api/java/io/Console.html) rather than the more frequent solution of wrapping System.in in a Scanneer. Mind, you probably must run the application in the command line, not the IDE.","body":"The character &#39;2&#39; has ASCII or Unicode value 50. You are looking for line input into a String. I would advise to try the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/io/Console.html\" rel=\"nofollow noreferrer\">Console</a> rather than the more frequent solution of wrapping System.in in a Scanneer. Mind, you probably must run the application in the command line, not the IDE."},{"owner":{"account_id":23010677,"reputation":11,"user_id":17133236,"display_name":"BigChicken97"},"score":0,"creation_date":1634032941,"post_id":69538084,"comment_id":122911809,"body_markdown":"Ahhh. Now I see the problem. When I type 24 it only reads the 2 and not the whole number. So this method is not designed to do what I want.","body":"Ahhh. Now I see the problem. When I type 24 it only reads the 2 and not the whole number. So this method is not designed to do what I want."}],"answers":[{"tags":[],"owner":{"account_id":6367186,"reputation":3116,"user_id":4940826,"display_name":"Mandraenke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634041694,"creation_date":1634032043,"answer_id":69538369,"question_id":69538084,"body_markdown":"`System.in.read()` just reads a single byte - which is not what you want - at least not when really using it.\r\n\r\nWhat happens is, you type in `24` - the `2` of the input is interpreted as byte and you get the ASCII value of that. `2` has the hex value of 0x32 in ASCII, which is 50 in decimal. \r\n\r\nSee: https://de.wikipedia.org/wiki/American_Standard_Code_for_Information_Interchange\r\n\r\nYou can read multiple single bytes and transform them by calculation to the integer value you want. \r\n\r\nA better approach is using `Scanner` like this:\r\n\r\n```\r\n      import java.util.Scanner;\r\n      [...]\r\n      Scanner scanner = new Scanner( System.in );\r\n      System.out.print( &quot;enter your age: &quot; );\r\n      \r\n      try {\r\n        int age = scanner.nextInt();\r\n        System.out.print(&quot;Entered age is : &quot;+ age);\r\n      } catch(InputMismatchException e) {\r\n        System.out.print(&quot;Invalid age entered.&quot;);\r\n      }\r\n      [...]\r\n```\r\nYou need to handle conditions like entered age should not be a negative integer or no. e.g. 200, if your requirement needs to. For this, you can write `if` conditions to validate the `age` value.","title":"How to use System.in.read() properly","body":"<p><code>System.in.read()</code> just reads a single byte - which is not what you want - at least not when really using it.</p>\n<p>What happens is, you type in <code>24</code> - the <code>2</code> of the input is interpreted as byte and you get the ASCII value of that. <code>2</code> has the hex value of 0x32 in ASCII, which is 50 in decimal.</p>\n<p>See: <a href=\"https://de.wikipedia.org/wiki/American_Standard_Code_for_Information_Interchange\" rel=\"nofollow noreferrer\">https://de.wikipedia.org/wiki/American_Standard_Code_for_Information_Interchange</a></p>\n<p>You can read multiple single bytes and transform them by calculation to the integer value you want.</p>\n<p>A better approach is using <code>Scanner</code> like this:</p>\n<pre><code>      import java.util.Scanner;\n      [...]\n      Scanner scanner = new Scanner( System.in );\n      System.out.print( &quot;enter your age: &quot; );\n      \n      try {\n        int age = scanner.nextInt();\n        System.out.print(&quot;Entered age is : &quot;+ age);\n      } catch(InputMismatchException e) {\n        System.out.print(&quot;Invalid age entered.&quot;);\n      }\n      [...]\n</code></pre>\n<p>You need to handle conditions like entered age should not be a negative integer or no. e.g. 200, if your requirement needs to. For this, you can write <code>if</code> conditions to validate the <code>age</code> value.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634034050,"creation_date":1634034050,"answer_id":69538839,"question_id":69538084,"body_markdown":"Here&#39;s one way of making it work, but you should use `Console` or `Scanner`\r\n```\r\n    public static void main(String[] args) {\r\n        try {\r\n            System.out.println(&quot;Hallo &quot; + args[0]);\r\n            System.out.println(&quot;Wie alt bist du?&quot;);\r\n            String accumulator = &quot;&quot;;\r\n            do {\r\n                char alter = (char) System.in.read();\r\n                accumulator += alter;\r\n            }\r\n            while (System.in.available() &gt; 0); \r\n            System.out.println(&quot;Du bist &quot; + accumulator.trim() + &quot; Jahre alt.&quot;);\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n```\r\nNB: THE ABOVE IS NOT A RECOMMENDED SOLUTION, MERELY AN ILLUSTRATION","title":"How to use System.in.read() properly","body":"<p>Here's one way of making it work, but you should use <code>Console</code> or <code>Scanner</code></p>\n<pre><code>    public static void main(String[] args) {\n        try {\n            System.out.println(&quot;Hallo &quot; + args[0]);\n            System.out.println(&quot;Wie alt bist du?&quot;);\n            String accumulator = &quot;&quot;;\n            do {\n                char alter = (char) System.in.read();\n                accumulator += alter;\n            }\n            while (System.in.available() &gt; 0); \n            System.out.println(&quot;Du bist &quot; + accumulator.trim() + &quot; Jahre alt.&quot;);\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n</code></pre>\n<p>NB: THE ABOVE IS NOT A RECOMMENDED SOLUTION, MERELY AN ILLUSTRATION</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634044322,"creation_date":1634044322,"answer_id":69541201,"question_id":69538084,"body_markdown":"An example with Console, which allows the entry from passwords and prompts.\r\nIt also uses formats with placeholders.\r\n\r\n    Console con = System.console(); // null when there is no console like in the IDE.\r\n\r\n    con.printf(&quot;Hallo %s%n&quot;, args[0]);\r\n\r\n    String answer = con.readLine(&quot;Wie alt bist du, %s? &quot;, args[0]);\r\n    int alter = answer.matches(&quot;\\\\d+&quot;) ? Integer.parseInt(answer) : 13;\r\n    con.printf(&quot;Du bist %d Jahre alt.%n&quot;, alter);\r\n\r\nNotice that you need a real command line, otherwise `con` will be null.\r\n\r\nThe other disadvantage is that conversion (`Integer.parseInt`) has to be done by oenself.","title":"How to use System.in.read() properly","body":"<p>An example with Console, which allows the entry from passwords and prompts.\nIt also uses formats with placeholders.</p>\n<pre><code>Console con = System.console(); // null when there is no console like in the IDE.\n\ncon.printf(&quot;Hallo %s%n&quot;, args[0]);\n\nString answer = con.readLine(&quot;Wie alt bist du, %s? &quot;, args[0]);\nint alter = answer.matches(&quot;\\\\d+&quot;) ? Integer.parseInt(answer) : 13;\ncon.printf(&quot;Du bist %d Jahre alt.%n&quot;, alter);\n</code></pre>\n<p>Notice that you need a real command line, otherwise <code>con</code> will be null.</p>\n<p>The other disadvantage is that conversion (<code>Integer.parseInt</code>) has to be done by oenself.</p>\n"}],"owner":{"account_id":23010677,"reputation":11,"user_id":17133236,"display_name":"BigChicken97"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1634044322,"creation_date":1634030806,"question_id":69538084,"body_markdown":"i tried to use System.in.read() to get the age of the user. My problem is if i write &quot;24&quot; it gives  me the output &quot;you are 50 years old&quot;. I googled and saw that it has something to do with the encoding. So 24 is mapped to 50. \r\n\r\nSomeone recommended to cast integer into char. So it should work. But this time when I put 24, I get the answer &quot;you are 2 years old&quot;.\r\n\r\nWhat I want is, that I get the answer &quot;you are 24 years old&quot;. How do I do this?\r\n\r\n\r\nMy code below:\r\nFirst Try\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\tSystem.out.println(&quot;Hallo &quot; + args[0]);\r\n\t\tSystem.out.println(&quot;Wie alt bist du?&quot;);\r\n\t\tint alter = System.in.read();\r\n\t\tSystem.out.println(&quot;Du bist &quot; + alter + &quot; Jahre alt.&quot;);\r\n\t}\r\n\r\nOutput: &quot;You are 50 years old.&quot;\r\n\r\n\r\nSecond Try:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\tSystem.out.println(&quot;Hallo &quot; + args[0]);\r\n\t\tSystem.out.println(&quot;Wie alt bist du?&quot;);\r\n\t\tchar alter = (char) System.in.read();\r\n\t\tSystem.out.println(&quot;Du bist &quot; + alter + &quot; Jahre alt.&quot;);\r\n\t}\r\n\r\nOutput: &quot;You are 2 years old.&quot;\r\n\r\n\r\nSmall Note: &quot;Alter&quot; means age in german. \r\n\r\nI hope someone can help me and understands the question. If I can improve something please tell me. Would be appreciated.\r\n","title":"How to use System.in.read() properly","body":"<p>i tried to use System.in.read() to get the age of the user. My problem is if i write &quot;24&quot; it gives  me the output &quot;you are 50 years old&quot;. I googled and saw that it has something to do with the encoding. So 24 is mapped to 50.</p>\n<p>Someone recommended to cast integer into char. So it should work. But this time when I put 24, I get the answer &quot;you are 2 years old&quot;.</p>\n<p>What I want is, that I get the answer &quot;you are 24 years old&quot;. How do I do this?</p>\n<p>My code below:\nFirst Try</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    System.out.println(&quot;Hallo &quot; + args[0]);\n    System.out.println(&quot;Wie alt bist du?&quot;);\n    int alter = System.in.read();\n    System.out.println(&quot;Du bist &quot; + alter + &quot; Jahre alt.&quot;);\n}\n</code></pre>\n<p>Output: &quot;You are 50 years old.&quot;</p>\n<p>Second Try:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    System.out.println(&quot;Hallo &quot; + args[0]);\n    System.out.println(&quot;Wie alt bist du?&quot;);\n    char alter = (char) System.in.read();\n    System.out.println(&quot;Du bist &quot; + alter + &quot; Jahre alt.&quot;);\n}\n</code></pre>\n<p>Output: &quot;You are 2 years old.&quot;</p>\n<p>Small Note: &quot;Alter&quot; means age in german.</p>\n<p>I hope someone can help me and understands the question. If I can improve something please tell me. Would be appreciated.</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"score":0,"creation_date":1546607165,"post_id":54039375,"comment_id":94914078,"body_markdown":"Please include the code and screenshots in the question. https://stackoverflow.com/help/mcve","body":"Please include the code and screenshots in the question. <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"},{"owner":{"account_id":14277436,"reputation":113,"user_id":10313064,"display_name":"Xwin"},"score":0,"creation_date":1546609533,"post_id":54039375,"comment_id":94915215,"body_markdown":"@Nikhil Added the codes","body":"@Nikhil Added the codes"},{"owner":{"account_id":5071035,"reputation":5785,"user_id":4069782,"accept_rate":75,"display_name":"Emmanuel Osimosu"},"score":1,"creation_date":1546610892,"post_id":54039375,"comment_id":94915924,"body_markdown":"heros.size() would return the size whether the data is stored or not","body":"heros.size() would return the size whether the data is stored or not"},{"owner":{"account_id":5071035,"reputation":5785,"user_id":4069782,"accept_rate":75,"display_name":"Emmanuel Osimosu"},"score":0,"creation_date":1546611551,"post_id":54039375,"comment_id":94916282,"body_markdown":"Iterable&lt;Hero&gt; savedHeroes = repository.saveAll(heros);  should get you what has been saved and the size.","body":"Iterable&lt;Hero&gt; savedHeroes = repository.saveAll(heros);  should get you what has been saved and the size."},{"owner":{"account_id":14277436,"reputation":113,"user_id":10313064,"display_name":"Xwin"},"score":0,"creation_date":1546696895,"post_id":54039375,"comment_id":94939657,"body_markdown":"@eosimosu Yes I know that. But I have started with a new cluster and  index too when I wants to save 4 json objects, it returns me the count as 4. And when I call the findAll() it shows 4 empty array symbols.Then after if I try to save one json object and by calling findAll() it shows 5 empty array symbols.","body":"@eosimosu Yes I know that. But I have started with a new cluster and  index too when I wants to save 4 json objects, it returns me the count as 4. And when I call the findAll() it shows 4 empty array symbols.Then after if I try to save one json object and by calling findAll() it shows 5 empty array symbols."}],"answers":[{"tags":[],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546615295,"creation_date":1546614931,"answer_id":54041623,"question_id":54039375,"body_markdown":"1.  Are you sure your data is saved in the DB? Did you query the DB directly and can see the data there? Like others wrote before me, your current code simply returns the number of input items. not necessarily the real amount of items that were saved. \r\n\r\n\r\n2. Seems like your `findAllHeros` is calling `repository.findAll();` (that you inherit from parent repositoy). But in your repository you have created a different method : \r\n`List&lt;Hero&gt; findByFirstname(String firstName);`  Is it just a typo?\r\n\r\nAlso, I would expect the Controller with `findAllHeros` to return a list and not `Iterable`\r\n\r\n","title":"Spring Data Elasticsearch working fine for saving data but returns empty array with findAll","body":"<ol>\n<li><p>Are you sure your data is saved in the DB? Did you query the DB directly and can see the data there? Like others wrote before me, your current code simply returns the number of input items. not necessarily the real amount of items that were saved. </p></li>\n<li><p>Seems like your <code>findAllHeros</code> is calling <code>repository.findAll();</code> (that you inherit from parent repositoy). But in your repository you have created a different method : \n<code>List&lt;Hero&gt; findByFirstname(String firstName);</code>  Is it just a typo?</p></li>\n</ol>\n\n<p>Also, I would expect the Controller with <code>findAllHeros</code> to return a list and not <code>Iterable</code></p>\n"},{"tags":[],"owner":{"account_id":15355814,"reputation":1,"user_id":11078123,"display_name":"sasmita panigrahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550665382,"creation_date":1550664368,"answer_id":54786015,"question_id":54039375,"body_markdown":"I think your code is adding the JSON object to ElasticSearch, but data is not saved. So you need to save the data with return type as List&lt;Type&gt;, don&#39;t return size only.\r\n\r\n    @PostMapping(&quot;/saveCustomer&quot;)\r\n    public List&lt;Customer&gt; saveCustomer(@RequestBody List&lt;Customer&gt; customers) {\r\n      List&lt;Customer&gt; savedCustomer= repository.save(customers);\r\n      //return customers.size();\r\n      return savedCustomer;\r\n    }\r\n\r\nIn repository write \r\n\r\n    List&lt;Customer&gt; save(List&lt;Customer&gt; customers);\r\n    Iterable&lt;Customer&gt; findAll();\r\n\r\n","title":"Spring Data Elasticsearch working fine for saving data but returns empty array with findAll","body":"<p>I think your code is adding the JSON object to ElasticSearch, but data is not saved. So you need to save the data with return type as List, don't return size only.</p>\n\n<pre><code>@PostMapping(\"/saveCustomer\")\npublic List&lt;Customer&gt; saveCustomer(@RequestBody List&lt;Customer&gt; customers) {\n  List&lt;Customer&gt; savedCustomer= repository.save(customers);\n  //return customers.size();\n  return savedCustomer;\n}\n</code></pre>\n\n<p>In repository write </p>\n\n<pre><code>List&lt;Customer&gt; save(List&lt;Customer&gt; customers);\nIterable&lt;Customer&gt; findAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11465333,"reputation":4830,"user_id":8403689,"display_name":"Imranmadbar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634044170,"creation_date":1634044170,"answer_id":69541157,"question_id":54039375,"body_markdown":"It is a Bean creation issue, Lombok Did not properly work here.\r\n\r\nI solved this by adding Manually Getter Setter.\r\n","title":"Spring Data Elasticsearch working fine for saving data but returns empty array with findAll","body":"<p>It is a Bean creation issue, Lombok Did not properly work here.</p>\n<p>I solved this by adding Manually Getter Setter.</p>\n"}],"owner":{"account_id":14277436,"reputation":113,"user_id":10313064,"display_name":"Xwin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2932,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1634044170,"creation_date":1546606452,"question_id":54039375,"body_markdown":"I have made an application using Springboot and running Elasticsearch in the background, everything works fine and when I am saving data by passing some json data it returns the right result(the number of inserted data) but when I am trying to fetch the datas it is returning empty array symbols.\r\n\r\nNot getting what&#39;s happening can anybody please help.\r\n\r\nAnd I have attached the screenshots of my postman requests.\r\n\r\nFor Saving data\r\n![For Saving data][1]\r\n\r\nFor Fetching data\r\n![For Fetching data][2]\r\n\r\n\r\n\r\nMy api class:-\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class SpringBootElasticserachExampleApplication {\r\n\t\r\n\t@Autowired\r\n\tprivate HeroRepository repository;\r\n\t\r\n\t@PostMapping(&quot;/saveHero&quot;)\r\n\tpublic int saveCustomer(@RequestBody List&lt;Hero&gt; heros) {\t\t\r\n\t\t\r\n\t\trepository.saveAll(heros);\r\n\t\treturn heros.size();\r\n\t}\r\n\r\n\t@GetMapping(&quot;/findAll&quot;)\r\n\tpublic Iterable&lt;Hero&gt; findAllHeros() {\r\n\t\t\r\n\t\treturn repository.findAll();\r\n\t}\r\n    }\r\n\r\nModel class:\r\n\r\n    @Document(indexName=&quot;movie&quot;,type=&quot;hero&quot;,shards=2)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Hero {\r\n\t\r\n\t@Id\r\n\tprivate String id;\r\n\tprivate String firstname;\r\n\tprivate String lastname;\r\n\tprivate int age;\r\n\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface HeroRepository extends ElasticsearchRepository&lt;Hero, String&gt;{\r\n\r\n\tList&lt;Hero&gt; findByFirstname(String firstName);\r\n\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xnhio.png\r\n  [2]: https://i.stack.imgur.com/1nfmG.png","title":"Spring Data Elasticsearch working fine for saving data but returns empty array with findAll","body":"<p>I have made an application using Springboot and running Elasticsearch in the background, everything works fine and when I am saving data by passing some json data it returns the right result(the number of inserted data) but when I am trying to fetch the datas it is returning empty array symbols.</p>\n\n<p>Not getting what's happening can anybody please help.</p>\n\n<p>And I have attached the screenshots of my postman requests.</p>\n\n<p>For Saving data\n<img src=\"https://i.stack.imgur.com/Xnhio.png\" alt=\"For Saving data\"></p>\n\n<p>For Fetching data\n<img src=\"https://i.stack.imgur.com/1nfmG.png\" alt=\"For Fetching data\"></p>\n\n<p>My api class:-</p>\n\n<pre><code>@SpringBootApplication\n@RestController\npublic class SpringBootElasticserachExampleApplication {\n\n@Autowired\nprivate HeroRepository repository;\n\n@PostMapping(\"/saveHero\")\npublic int saveCustomer(@RequestBody List&lt;Hero&gt; heros) {        \n\n    repository.saveAll(heros);\n    return heros.size();\n}\n\n@GetMapping(\"/findAll\")\npublic Iterable&lt;Hero&gt; findAllHeros() {\n\n    return repository.findAll();\n}\n}\n</code></pre>\n\n<p>Model class:</p>\n\n<pre><code>@Document(indexName=\"movie\",type=\"hero\",shards=2)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Hero {\n\n@Id\nprivate String id;\nprivate String firstname;\nprivate String lastname;\nprivate int age;\n\n}\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>public interface HeroRepository extends ElasticsearchRepository&lt;Hero, String&gt;{\n\nList&lt;Hero&gt; findByFirstname(String firstName);\n\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1634038116,"post_id":69538059,"comment_id":122913787,"body_markdown":"Can you add the response you got?","body":"Can you add the response you got?"},{"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"score":0,"creation_date":1634042567,"post_id":69538059,"comment_id":122915511,"body_markdown":"@ray, first line: &quot;First&quot;, second line: &quot;Second&quot;","body":"@ray, first line: &quot;First&quot;, second line: &quot;Second&quot;"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634044321,"post_id":69538059,"comment_id":122916287,"body_markdown":"Something must not be right. With such code it should work as expected. Can you share the complete code of `Other` class? Thanks.","body":"Something must not be right. With such code it should work as expected. Can you share the complete code of <code>Other</code> class? Thanks."},{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1634045108,"post_id":69538059,"comment_id":122916684,"body_markdown":"@iftwMZ I don&#39;t think that is possible. Make sure you don&#39;t call super class&#39; (`MainClass`) `myMethod`  method inside `OverMainClass` class `myMethod` method.","body":"@iftwMZ I don&#39;t think that is possible. Make sure you don&#39;t call super class&#39; (<code>MainClass</code>) <code>myMethod</code>  method inside <code>OverMainClass</code> class <code>myMethod</code> method."},{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1634045245,"post_id":69538059,"comment_id":122916771,"body_markdown":"@iftwMZ  as @Joao  mentioned, share the full code for `Other` class as well.","body":"@iftwMZ  as @Joao  mentioned, share the full code for <code>Other</code> class as well."},{"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"score":0,"creation_date":1634047260,"post_id":69538059,"comment_id":122917798,"body_markdown":"@ray , there is no other code. Also i am not calling the super. I managed to get 2 calls, because there are two contexts:). Now it remains to implement only in that context.","body":"@ray , there is no other code. Also i am not calling the super. I managed to get 2 calls, because there are two contexts:). Now it remains to implement only in that context."}],"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634044162,"creation_date":1634030715,"question_id":69538059,"body_markdown":"I am struggling with a problem, I am having a component from a dependency annotated with @Component which implements some interfaces and overrides their methods. I must override the logic of one method (the method prints &quot;first&quot; or &quot;second&quot;) of that component to match my requirements. I tried to: make a class annotated with @Primary and @Component which extends the parent component and I am overriding in it the method and when I @Autowired the parent into my class where is needed I am receiving that I get 2 calls, one from the first component and the second from my component, however I don&#39;t need the first call. \r\nMy Code looks like this:\r\n``` \r\n//MainClass.java this class is read only\r\n@Component\r\npublic class MainClass implements SomeThing {\r\n\r\n   @Override\r\n   public void myMethod() {\r\n      Logger.info(this, &quot;first&quot;);\r\n   }\r\n```\r\n\r\nAnd my try to do it is:\r\n\r\n```\r\n@Primary\r\n@Component\r\npublic OverMainClass extends MainClass {\r\n    @Override\r\n    public void myMethod() {\r\n       Logger.info(this, &quot;second&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOther class:\r\n```  \r\npublic class Other {\r\n\r\n    @Autowired MainClass mainClass;\r\n\r\n     ...\r\n\r\n}\r\n```\r\n\r\nwhen I use `mainClass.myMethod` I must receive just only one call, &quot;second&quot; but I am receiving:\r\nfirst\r\nsecond\r\nso, how can I disable the first call? Also, after disabling it I will need to re-enable the first call only, so again the second would not be present.\r\nHow can I do this?\r\n\r\n","title":"Spring Bean override","body":"<p>I am struggling with a problem, I am having a component from a dependency annotated with @Component which implements some interfaces and overrides their methods. I must override the logic of one method (the method prints &quot;first&quot; or &quot;second&quot;) of that component to match my requirements. I tried to: make a class annotated with @Primary and @Component which extends the parent component and I am overriding in it the method and when I @Autowired the parent into my class where is needed I am receiving that I get 2 calls, one from the first component and the second from my component, however I don't need the first call.\nMy Code looks like this:</p>\n<pre><code>//MainClass.java this class is read only\n@Component\npublic class MainClass implements SomeThing {\n\n   @Override\n   public void myMethod() {\n      Logger.info(this, &quot;first&quot;);\n   }\n</code></pre>\n<p>And my try to do it is:</p>\n<pre><code>@Primary\n@Component\npublic OverMainClass extends MainClass {\n    @Override\n    public void myMethod() {\n       Logger.info(this, &quot;second&quot;);\n    }\n}\n</code></pre>\n<p>Other class:</p>\n<pre><code>public class Other {\n\n    @Autowired MainClass mainClass;\n\n     ...\n\n}\n</code></pre>\n<p>when I use <code>mainClass.myMethod</code> I must receive just only one call, &quot;second&quot; but I am receiving:\nfirst\nsecond\nso, how can I disable the first call? Also, after disabling it I will need to re-enable the first call only, so again the second would not be present.\nHow can I do this?</p>\n"},{"tags":["java","spring-boot","oauth-2.0","keycloak","openid-connect"],"answers":[{"tags":[],"owner":{"account_id":12368896,"reputation":24911,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634043919,"creation_date":1633632828,"answer_id":69486427,"question_id":69484075,"body_markdown":"There is a separation here that you should understand: \r\n\r\n- An API simply validates JWTs as in [this code example](https://curity.io/resources/learn/spring-boot-api/) - it acts as a resource server and does not use OIDC\r\n\r\n- A server side web app implements OpenID Connect as in [this code example](https://curity.io/resources/learn/oidc-spring-boot/)\r\n\r\n- The end user is meant to authenticate and gain access to the web app via Keycloak also, though it sounds like you don&#39;t want to do this, perhaps because you have an existing login mechanism.\r\n\r\n**BACK END CALLS**\r\n\r\nYou can authenticate the web client using Keycloak and the [client credentials flow](https://connect2id.com/products/nimbus-oauth-openid-connect-sdk/examples/oauth/token-request#client-credentials). You don&#39;t need Spring Security for that - only a simple HTTPS POST is needed. And the config would not include the authorization code grant as in your example.\r\n\r\nThe problem is that this will lose user context, since server to server flows do not return access tokens with user info. This is because you are not meant to do things on the user&#39;s behalf without involving them in the flow.\r\n\r\n**SUMMARY**\r\n\r\nYou need a more complete architecture design for web security solutions. Doing it piecemeal does not work and account for all of the important factors.","title":"How to consume a oauth2 secured REST API with WebClient?","body":"<p>There is a separation here that you should understand:</p>\n<ul>\n<li><p>An API simply validates JWTs as in <a href=\"https://curity.io/resources/learn/spring-boot-api/\" rel=\"nofollow noreferrer\">this code example</a> - it acts as a resource server and does not use OIDC</p>\n</li>\n<li><p>A server side web app implements OpenID Connect as in <a href=\"https://curity.io/resources/learn/oidc-spring-boot/\" rel=\"nofollow noreferrer\">this code example</a></p>\n</li>\n<li><p>The end user is meant to authenticate and gain access to the web app via Keycloak also, though it sounds like you don't want to do this, perhaps because you have an existing login mechanism.</p>\n</li>\n</ul>\n<p><strong>BACK END CALLS</strong></p>\n<p>You can authenticate the web client using Keycloak and the <a href=\"https://connect2id.com/products/nimbus-oauth-openid-connect-sdk/examples/oauth/token-request#client-credentials\" rel=\"nofollow noreferrer\">client credentials flow</a>. You don't need Spring Security for that - only a simple HTTPS POST is needed. And the config would not include the authorization code grant as in your example.</p>\n<p>The problem is that this will lose user context, since server to server flows do not return access tokens with user info. This is because you are not meant to do things on the user's behalf without involving them in the flow.</p>\n<p><strong>SUMMARY</strong></p>\n<p>You need a more complete architecture design for web security solutions. Doing it piecemeal does not work and account for all of the important factors.</p>\n"}],"owner":{"account_id":4150363,"reputation":1083,"user_id":3403011,"accept_rate":100,"display_name":"Thibstars"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634043919,"creation_date":1633621408,"question_id":69484075,"body_markdown":"I have setup a REST API that uses Keycloak to secure its endpoints with oath2 (openid-connect).\r\n\r\nAnother application is the client of that API. The goal is to be able to make a secured call from this application to the API.\r\n\r\nI am using spring-boot-starter-oath2-client:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe security configuration in application.yml looks like this:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            registration:\r\n              keycloak:\r\n                client-id: omitted\r\n                client-secret: omitted\r\n                scope: roles\r\n                authorization-grant-type: authorization_code\r\n                redirect-uri: http://localhost:9090\r\n            provider:\r\n              keycloak:\r\n                authorization-uri: omitted\r\n                token-uri: omitted\r\n                user-info-uri: omitted\r\n                user-name-attribute: preferred_username\r\n\r\nThe setup of the client looks like this:\r\n\r\n    @Configuration\r\n    public class ApiClientConfig {\r\n    \r\n        @Value(&quot;${api.base.url}&quot;)\r\n        private String apiBaseUrl;\r\n    \r\n        @Bean\r\n        public WebClient apiClient(ClientRegistrationRepository clientRegistrationRepository, OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n            ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2 = new ServletOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepository, authorizedClientRepository);\r\n    \r\n            return WebClient.builder()\r\n                .baseUrl(apiBaseUrl)\r\n                .apply(oauth2.oauth2Configuration())\r\n                .build();\r\n        }\r\n\r\nWhen I then use this WebClient, I get a null response with a vague exception (the nullpointer itself due to the response being null), before oath this request did return a response:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;be.thibaulthelsmoortel.currencyconversionweb.frontend.conversion.Conversion.getResult()&quot; because &quot;conversion&quot; is null\r\n    \tat be.thibaulthelsmoortel.currencyconversionweb.frontend.conversion.presenter.ConversionPresenterImpl.convert(ConversionPresenterImpl.java:34) ~[classes/:na]\r\n    \tat be.thibaulthelsmoortel.currencyconversionweb.frontend.conversion.ConversionView.lambda$new$6d00ec58$1(ConversionView.java:56) ~[classes/:na]\r\n    \tat com.vaadin.flow.component.ComponentEventBus.fireEventForListener(ComponentEventBus.java:205) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.component.ComponentEventBus.handleDomEvent(ComponentEventBus.java:373) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.component.ComponentEventBus.lambda$addDomTrigger$dd1b7957$1(ComponentEventBus.java:264) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.internal.nodefeature.ElementListenerMap.lambda$fireEvent$2(ElementListenerMap.java:443) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat com.vaadin.flow.internal.nodefeature.ElementListenerMap.fireEvent(ElementListenerMap.java:443) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.server.communication.rpc.EventRpcHandler.handleNode(EventRpcHandler.java:61) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.server.communication.rpc.AbstractRpcInvocationHandler.handle(AbstractRpcInvocationHandler.java:66) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.server.communication.ServerRpcHandler.handleInvocationData(ServerRpcHandler.java:412) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.server.communication.ServerRpcHandler.lambda$handleInvocations$1(ServerRpcHandler.java:393) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat com.vaadin.flow.server.communication.ServerRpcHandler.handleInvocations(ServerRpcHandler.java:393) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.server.communication.ServerRpcHandler.handleRpc(ServerRpcHandler.java:320) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.server.communication.UidlRequestHandler.synchronizedHandleRequest(UidlRequestHandler.java:92) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1570) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:252) ~[flow-server-2.6.7.jar:2.6.7]\r\n    \tat com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:111) ~[vaadin-spring-12.4.0.jar:na]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter.doFilterInternal(OAuth2AuthorizationCodeGrantFilter.java:168) ~[spring-security-oauth2-client-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178) ~[spring-security-oauth2-client-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nIt seems like some configuration isn&#39;t correct yet, however I have played around with it, but I couldn&#39;t get it to work. Also, when the call is initiaded I do not see any active session in Keycloak, which I would expect.\r\n\r\nAny idea why my client isn&#39;t able to perform an authenticated call?","title":"How to consume a oauth2 secured REST API with WebClient?","body":"<p>I have setup a REST API that uses Keycloak to secure its endpoints with oath2 (openid-connect).</p>\n<p>Another application is the client of that API. The goal is to be able to make a secured call from this application to the API.</p>\n<p>I am using spring-boot-starter-oath2-client:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The security configuration in application.yml looks like this:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          keycloak:\n            client-id: omitted\n            client-secret: omitted\n            scope: roles\n            authorization-grant-type: authorization_code\n            redirect-uri: http://localhost:9090\n        provider:\n          keycloak:\n            authorization-uri: omitted\n            token-uri: omitted\n            user-info-uri: omitted\n            user-name-attribute: preferred_username\n</code></pre>\n<p>The setup of the client looks like this:</p>\n<pre><code>@Configuration\npublic class ApiClientConfig {\n\n    @Value(&quot;${api.base.url}&quot;)\n    private String apiBaseUrl;\n\n    @Bean\n    public WebClient apiClient(ClientRegistrationRepository clientRegistrationRepository, OAuth2AuthorizedClientRepository authorizedClientRepository) {\n        ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2 = new ServletOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepository, authorizedClientRepository);\n\n        return WebClient.builder()\n            .baseUrl(apiBaseUrl)\n            .apply(oauth2.oauth2Configuration())\n            .build();\n    }\n</code></pre>\n<p>When I then use this WebClient, I get a null response with a vague exception (the nullpointer itself due to the response being null), before oath this request did return a response:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;be.thibaulthelsmoortel.currencyconversionweb.frontend.conversion.Conversion.getResult()&quot; because &quot;conversion&quot; is null\n    at be.thibaulthelsmoortel.currencyconversionweb.frontend.conversion.presenter.ConversionPresenterImpl.convert(ConversionPresenterImpl.java:34) ~[classes/:na]\n    at be.thibaulthelsmoortel.currencyconversionweb.frontend.conversion.ConversionView.lambda$new$6d00ec58$1(ConversionView.java:56) ~[classes/:na]\n    at com.vaadin.flow.component.ComponentEventBus.fireEventForListener(ComponentEventBus.java:205) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.component.ComponentEventBus.handleDomEvent(ComponentEventBus.java:373) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.component.ComponentEventBus.lambda$addDomTrigger$dd1b7957$1(ComponentEventBus.java:264) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.internal.nodefeature.ElementListenerMap.lambda$fireEvent$2(ElementListenerMap.java:443) ~[flow-server-2.6.7.jar:2.6.7]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.vaadin.flow.internal.nodefeature.ElementListenerMap.fireEvent(ElementListenerMap.java:443) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.server.communication.rpc.EventRpcHandler.handleNode(EventRpcHandler.java:61) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.server.communication.rpc.AbstractRpcInvocationHandler.handle(AbstractRpcInvocationHandler.java:66) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.server.communication.ServerRpcHandler.handleInvocationData(ServerRpcHandler.java:412) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.server.communication.ServerRpcHandler.lambda$handleInvocations$1(ServerRpcHandler.java:393) ~[flow-server-2.6.7.jar:2.6.7]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.vaadin.flow.server.communication.ServerRpcHandler.handleInvocations(ServerRpcHandler.java:393) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.server.communication.ServerRpcHandler.handleRpc(ServerRpcHandler.java:320) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.server.communication.UidlRequestHandler.synchronizedHandleRequest(UidlRequestHandler.java:92) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1570) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:252) ~[flow-server-2.6.7.jar:2.6.7]\n    at com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:111) ~[vaadin-spring-12.4.0.jar:na]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter.doFilterInternal(OAuth2AuthorizationCodeGrantFilter.java:168) ~[spring-security-oauth2-client-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178) ~[spring-security-oauth2-client-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>It seems like some configuration isn't correct yet, however I have played around with it, but I couldn't get it to work. Also, when the call is initiaded I do not see any active session in Keycloak, which I would expect.</p>\n<p>Any idea why my client isn't able to perform an authenticated call?</p>\n"},{"tags":["java","post","airtable"],"answers":[{"tags":[],"owner":{"account_id":1981453,"reputation":1552,"user_id":1777956,"display_name":"Elias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634043729,"creation_date":1634043729,"answer_id":69541057,"question_id":69540133,"body_markdown":"Your `jsonRequest` does not look like valid JSON. I&#39;m assuming that&#39;s also what the airtable API is trying to tell you with `Could not parse request body`. If you output or inspect (with a debugger) the contents of the `jsonRequest` variable (formatted):\r\n\r\n```\r\n{\r\n    fields: {\r\n        Shopping:record_id\r\n        Update:Apple\r\n    },\r\n    typecast: true\r\n}\r\n```\r\nYou&#39;re at least missing a comma between `fields.shopping` and `fields.update`. The property names should also be in quotation marks. It should look something like this:\r\n```\r\n{\r\n\t&quot;fields&quot;: {\r\n\t\t&quot;Shopping&quot;: &quot;record_id&quot;,\r\n\t\t&quot;Update&quot;: &quot;Apple&quot;\r\n\t},\r\n\t&quot;typecast&quot;: true\r\n}\r\n```\r\nYou could use something like [JSONLint](https://jsonlint.com/) to help you validating your JSON.  But what will help more is not manually writing your JSON by concatenating strings but rather using Java objects which serialize  to JSON. \r\n\r\nRecommended reading: [Intro to the Jackson ObjectMapper](https://www.baeldung.com/jackson-object-mapper-tutorial)","title":"Post request to airtable in Java","body":"<p>Your <code>jsonRequest</code> does not look like valid JSON. I'm assuming that's also what the airtable API is trying to tell you with <code>Could not parse request body</code>. If you output or inspect (with a debugger) the contents of the <code>jsonRequest</code> variable (formatted):</p>\n<pre><code>{\n    fields: {\n        Shopping:record_id\n        Update:Apple\n    },\n    typecast: true\n}\n</code></pre>\n<p>You're at least missing a comma between <code>fields.shopping</code> and <code>fields.update</code>. The property names should also be in quotation marks. It should look something like this:</p>\n<pre><code>{\n    &quot;fields&quot;: {\n        &quot;Shopping&quot;: &quot;record_id&quot;,\n        &quot;Update&quot;: &quot;Apple&quot;\n    },\n    &quot;typecast&quot;: true\n}\n</code></pre>\n<p>You could use something like <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">JSONLint</a> to help you validating your JSON.  But what will help more is not manually writing your JSON by concatenating strings but rather using Java objects which serialize  to JSON.</p>\n<p>Recommended reading: <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">Intro to the Jackson ObjectMapper</a></p>\n"}],"owner":{"account_id":14499872,"reputation":89,"user_id":12793498,"display_name":"magicmass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634043729,"creation_date":1634039840,"question_id":69540133,"body_markdown":"I am trying to replicate this Curl command in Java\r\n\r\n    curl -X POST \\\r\n      https://api.airtable.com/v0/YOUR_BASE_ID/YOUR_TABLE_NAME \\\r\n      -H &#39;Content-Type: application/json&#39; \\\r\n      -d &#39;{\r\n    \t&quot;fields&quot;: {\r\n    \t\t&quot;Linked Field&quot;: [&quot;Record1&quot;]\r\n    \t},\r\n    \t&quot;typecast&quot;: true \r\n    }&#39;\r\n\r\n but i keep getting the following error:\r\n\r\n    {&quot;type&quot;:&quot;INVALID_REQUEST_BODY&quot;,&quot;message&quot;:&quot;Could not parse request body&quot;}\r\n\r\n\r\nThis is my code:\r\n\r\n     String jsonRequest = &quot;{&quot; + \r\n            &quot;fields&quot; + &quot;:&quot; + &quot;{&quot; +\r\n              &quot;Shopping&quot; + &quot;:&quot; + &quot;record_id&quot; +\r\n              &quot;Update&quot; + &quot;:&quot; + &quot;Apple&quot; +\r\n            &quot;},&quot;+\r\n        \r\n              &quot;typecast&quot; + &quot;:&quot; + &quot;true&quot; + \r\n        &quot;}&quot;;\r\n\r\n      public void createNewRecord() throws UnirestException{\r\n            HttpResponse&lt;JsonNode&gt; response = Unirest.post(&quot;https://api.airtable.com/v0/&quot;+environments.MAIN_BASE_API_KEY+&quot;/&quot;+ environments.TABLE_NAME)\r\n          .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n          .header(&quot;Authorization&quot;, &quot;Bearer &quot; + environments.AIRTABLE_API_KEY)\r\n          .body(jsonRequest)\r\n          .asJson();\r\n          System.out.println(response.getBody().toString());\r\n        }\r\nI don&#39;t understand what I&#39;m doing wrong. Any help would be most appreciated.\r\n\r\n","title":"Post request to airtable in Java","body":"<p>I am trying to replicate this Curl command in Java</p>\n<pre><code>curl -X POST \\\n  https://api.airtable.com/v0/YOUR_BASE_ID/YOUR_TABLE_NAME \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    &quot;fields&quot;: {\n        &quot;Linked Field&quot;: [&quot;Record1&quot;]\n    },\n    &quot;typecast&quot;: true \n}'\n</code></pre>\n<p>but i keep getting the following error:</p>\n<pre><code>{&quot;type&quot;:&quot;INVALID_REQUEST_BODY&quot;,&quot;message&quot;:&quot;Could not parse request body&quot;}\n</code></pre>\n<p>This is my code:</p>\n<pre><code> String jsonRequest = &quot;{&quot; + \n        &quot;fields&quot; + &quot;:&quot; + &quot;{&quot; +\n          &quot;Shopping&quot; + &quot;:&quot; + &quot;record_id&quot; +\n          &quot;Update&quot; + &quot;:&quot; + &quot;Apple&quot; +\n        &quot;},&quot;+\n    \n          &quot;typecast&quot; + &quot;:&quot; + &quot;true&quot; + \n    &quot;}&quot;;\n\n  public void createNewRecord() throws UnirestException{\n        HttpResponse&lt;JsonNode&gt; response = Unirest.post(&quot;https://api.airtable.com/v0/&quot;+environments.MAIN_BASE_API_KEY+&quot;/&quot;+ environments.TABLE_NAME)\n      .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n      .header(&quot;Authorization&quot;, &quot;Bearer &quot; + environments.AIRTABLE_API_KEY)\n      .body(jsonRequest)\n      .asJson();\n      System.out.println(response.getBody().toString());\n    }\n</code></pre>\n<p>I don't understand what I'm doing wrong. Any help would be most appreciated.</p>\n"},{"tags":["java","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":3024120,"reputation":3293,"user_id":2564509,"display_name":"djm.im"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634043550,"creation_date":1634043550,"answer_id":69541004,"question_id":69540886,"body_markdown":"As far as I know, it is not possible. \r\nYou can read a list and then convert it to a map. \r\n\r\nSomething like this \r\n\r\n    Map&lt;String, Person&gt; map = list.stream()\r\n            .collect(Collectors.toMap(Person::getPersonId, person -&gt; person));","title":"Read custom map key using Jackson","body":"<p>As far as I know, it is not possible.\nYou can read a list and then convert it to a map.</p>\n<p>Something like this</p>\n<pre><code>Map&lt;String, Person&gt; map = list.stream()\n        .collect(Collectors.toMap(Person::getPersonId, person -&gt; person));\n</code></pre>\n"}],"owner":{"account_id":1192771,"reputation":887,"user_id":1165190,"accept_rate":82,"display_name":"Alvins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634043550,"creation_date":1634043077,"question_id":69540886,"body_markdown":"Using this input\r\n\r\n```\r\n    {\r\n      &quot;personId&quot;: &quot;uhqwe-8ewn-3129m&quot;,\r\n      &quot;infoPerson&quot;: {\r\n        &quot;name&quot;: &quot;john&quot;,\r\n        &quot;age&quot; : 35\r\n       }\r\n    },\r\n    ....\r\n```\r\n\r\nAnd this POJO\r\n\r\n```\r\npublic class Person {\r\n  private String name;\r\n  private int age;\r\n  //getter/setter\r\n}\r\n```\r\n\r\nI need to read it as\r\n\r\n```private Map&lt;String,Person&gt; pMap;```\r\n\r\nusing the **personId** as the map key.\r\n\r\nIs there a way to do it with jackson annotation?\r\n","title":"Read custom map key using Jackson","body":"<p>Using this input</p>\n<pre><code>    {\n      &quot;personId&quot;: &quot;uhqwe-8ewn-3129m&quot;,\n      &quot;infoPerson&quot;: {\n        &quot;name&quot;: &quot;john&quot;,\n        &quot;age&quot; : 35\n       }\n    },\n    ....\n</code></pre>\n<p>And this POJO</p>\n<pre><code>public class Person {\n  private String name;\n  private int age;\n  //getter/setter\n}\n</code></pre>\n<p>I need to read it as</p>\n<p><code>private Map&lt;String,Person&gt; pMap;</code></p>\n<p>using the <strong>personId</strong> as the map key.</p>\n<p>Is there a way to do it with jackson annotation?</p>\n"},{"tags":["java","google-chrome","jsp","session"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1633179159,"post_id":69413508,"comment_id":122694347,"body_markdown":"I think your page is not loaded when you logout because your can not pass `form` action in your jsp page","body":"I think your page is not loaded when you logout because your can not pass <code>form</code> action in your jsp page"},{"owner":{"display_name":"user17055546"},"score":0,"creation_date":1633315513,"post_id":69413508,"comment_id":122718378,"body_markdown":"I am using an anchor tag with login page address. So, why it will not loaded? Kindly help.","body":"I am using an anchor tag with login page address. So, why it will not loaded? Kindly help."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1633330474,"post_id":69413508,"comment_id":122720922,"body_markdown":"But you want to put anchor tag between `&lt;form method=&quot;post&quot;&gt;&lt;/form&gt;`","body":"But you want to put anchor tag between <code>&lt;form method=&quot;post&quot;&gt;&lt;&#47;form&gt;</code>"},{"owner":{"display_name":"user17055546"},"score":0,"creation_date":1633337267,"post_id":69413508,"comment_id":122723177,"body_markdown":"No no brother. I didn&#39;t add anchor tag between form tag. I added anchor tag in another place of my html code.","body":"No no brother. I didn&#39;t add anchor tag between form tag. I added anchor tag in another place of my html code."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1633347287,"post_id":69413508,"comment_id":122727064,"body_markdown":"can you show me your code","body":"can you show me your code"},{"owner":{"display_name":"user17055546"},"score":0,"creation_date":1633401525,"post_id":69413508,"comment_id":122743692,"body_markdown":"obviously. Edited my question with code.","body":"obviously. Edited my question with code."}],"answers":[{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634042303,"creation_date":1633411786,"answer_id":69445304,"question_id":69413508,"body_markdown":"The problem is first you `request` for going `/dashboard.jsp` page then you create `session` meanwhile, your label show previously created session because your page \r\nfirst load and then pass session...\r\n\r\nit is mandatory to load page for get new session in java or any other programming\r\n\r\nUse `request.getRequestDispatcher()` instead of `getServletContext().getRequestDispatcher`. `rs.isBeforeFirst()` is not for RowCount use of `isBeforeFirst()` is if data found pick first row...\r\n\r\nhere is modified code:\r\n\r\n**login.jsp**\r\n\r\n```\r\n&lt;%@ page import = &quot;java.sql.*&quot;%&gt;\r\n&lt;%\r\n\r\n    String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\r\n    String DB_URL = &quot;jdbc:mysql://localhost:3306/erp&quot;;\r\n    String DB_USER = &quot;root&quot;;\r\n    String DB_PASS = &quot;&quot;;\r\n\r\n    Connection conn = null;\r\n    ResultSet rs = null;\r\n\r\n    if (request.getParameter(&quot;btnLogin&quot;) != null) {\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n        try {\r\n            Class.forName(JDBC_DRIVER);\r\n            conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PASS);\r\n            String query = &quot;SELECT * FROM userdata WHERE UserName = &#39;&quot;.concat(username).concat(&quot;&#39; AND Password = &#39;&quot;).concat(password).concat(&quot;&#39;&quot;);\r\n            PreparedStatement pst = conn.prepareStatement(query);\r\n            rs = pst.executeQuery();\r\n            if (rs.next()) {\r\n                request.getSession().setAttribute(&quot;username&quot;, username);\r\n                request.getRequestDispatcher(&quot;/dashboard.jsp&quot;).forward(request, response);\r\n            } else {\r\n                out.print(&quot;Sorry, username or password error!&quot;);\r\n                request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request, response);\r\n\r\n            }\r\n\r\n            pst.close();\r\n            conn.close();\r\n        } catch (Exception e) {\r\n            out.println(e);\r\n        }\r\n    }\r\n\r\n%&gt;\r\n\r\n&lt;form method=&quot;post&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;\r\n    &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; name=&quot;btnLogin&quot; value=&quot;submit&quot;&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n**dashboard.jsp**\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;js/basic.js&quot;&gt;&lt;/script&gt;\r\n    &lt;title&gt;Dashboard || XCEL-ERP&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div class=&quot;dashboard_sidebar&quot; id=&quot;dashboard_sidebar&quot;&gt;\r\n        &lt;ul&gt;\r\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;HOME&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;RECIPE &amp; COSTING&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;PLANNING&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;PRODUCTION&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;ACCOUNT&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;OVERVIEW&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;dashboard_header&quot; id=&quot;dashboard_header&quot;&gt;\r\n        &lt;div class=&quot;dashboard_hamburger&quot; onclick=&quot;sidebarFunction()&quot;&gt;\r\n            &lt;span&gt;&lt;/span&gt;\r\n            &lt;span&gt;&lt;/span&gt;\r\n            &lt;span&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;logo&quot;&gt;ERP&lt;/div&gt;\r\n        &lt;div class=&quot;user&quot;&gt;\r\n            &lt;img src=&quot;https://www.dropbox.com/s/s3wcx1zot0gp3fe/user_icon.png?raw=1&quot; alt=&quot;user&quot; onclick=&quot;userProfileFunction()&quot;&gt;\r\n            &lt;label&gt;\r\n             &lt;%  \r\n\r\n                out.print(request.getSession().getAttribute(&quot;username&quot;));\r\n\r\n             %&gt;\r\n             &lt;/label&gt;\r\n             &lt;div class=&quot;userProfileBox&quot; id=&quot;userProfileBox&quot;&gt;\r\n                &lt;img src=&quot;https://www.dropbox.com/s/zq3d2dz63y3y4ct/man_pic.jpg?raw=1&quot; alt=&quot;Profile_img&quot;&gt;\r\n                &lt;div class=&quot;userName&quot;&gt; &lt;% out.print(request.getSession().getAttribute(&quot;username&quot;)); %&gt; &lt;/div&gt;\r\n                &lt;div class=&quot;desg_Section&quot;&gt; Costing Officer - Wash &lt;/div&gt;\r\n                &lt;div class=&quot;authorization&quot;&gt;User has authorization of : &lt;/div&gt;\r\n             &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;a href=&quot;RemoveSession.jsp&quot;&gt;Log Out&lt;/a&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**RemoveSession.jsp**\r\n\r\n```\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;JSP Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;form method=&quot;post&quot;&gt;\r\n            &lt;%\r\n                session.invalidate();\r\n                request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request, response);\r\n                \r\n            %&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"JSP Page showing previous session data","body":"<p>The problem is first you <code>request</code> for going <code>/dashboard.jsp</code> page then you create <code>session</code> meanwhile, your label show previously created session because your page\nfirst load and then pass session...</p>\n<p>it is mandatory to load page for get new session in java or any other programming</p>\n<p>Use <code>request.getRequestDispatcher()</code> instead of <code>getServletContext().getRequestDispatcher</code>. <code>rs.isBeforeFirst()</code> is not for RowCount use of <code>isBeforeFirst()</code> is if data found pick first row...</p>\n<p>here is modified code:</p>\n<p><strong>login.jsp</strong></p>\n<pre><code>&lt;%@ page import = &quot;java.sql.*&quot;%&gt;\n&lt;%\n\n    String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\n    String DB_URL = &quot;jdbc:mysql://localhost:3306/erp&quot;;\n    String DB_USER = &quot;root&quot;;\n    String DB_PASS = &quot;&quot;;\n\n    Connection conn = null;\n    ResultSet rs = null;\n\n    if (request.getParameter(&quot;btnLogin&quot;) != null) {\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        try {\n            Class.forName(JDBC_DRIVER);\n            conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PASS);\n            String query = &quot;SELECT * FROM userdata WHERE UserName = '&quot;.concat(username).concat(&quot;' AND Password = '&quot;).concat(password).concat(&quot;'&quot;);\n            PreparedStatement pst = conn.prepareStatement(query);\n            rs = pst.executeQuery();\n            if (rs.next()) {\n                request.getSession().setAttribute(&quot;username&quot;, username);\n                request.getRequestDispatcher(&quot;/dashboard.jsp&quot;).forward(request, response);\n            } else {\n                out.print(&quot;Sorry, username or password error!&quot;);\n                request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request, response);\n\n            }\n\n            pst.close();\n            conn.close();\n        } catch (Exception e) {\n            out.println(e);\n        }\n    }\n\n%&gt;\n\n&lt;form method=&quot;post&quot;&gt;\n    &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;\n    &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;\n    &lt;input type=&quot;submit&quot; name=&quot;btnLogin&quot; value=&quot;submit&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n<p><strong>dashboard.jsp</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;js/basic.js&quot;&gt;&lt;/script&gt;\n    &lt;title&gt;Dashboard || XCEL-ERP&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;dashboard_sidebar&quot; id=&quot;dashboard_sidebar&quot;&gt;\n        &lt;ul&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;HOME&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;RECIPE &amp; COSTING&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;PLANNING&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;PRODUCTION&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;ACCOUNT&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;OVERVIEW&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;dashboard_header&quot; id=&quot;dashboard_header&quot;&gt;\n        &lt;div class=&quot;dashboard_hamburger&quot; onclick=&quot;sidebarFunction()&quot;&gt;\n            &lt;span&gt;&lt;/span&gt;\n            &lt;span&gt;&lt;/span&gt;\n            &lt;span&gt;&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;logo&quot;&gt;ERP&lt;/div&gt;\n        &lt;div class=&quot;user&quot;&gt;\n            &lt;img src=&quot;https://www.dropbox.com/s/s3wcx1zot0gp3fe/user_icon.png?raw=1&quot; alt=&quot;user&quot; onclick=&quot;userProfileFunction()&quot;&gt;\n            &lt;label&gt;\n             &lt;%  \n\n                out.print(request.getSession().getAttribute(&quot;username&quot;));\n\n             %&gt;\n             &lt;/label&gt;\n             &lt;div class=&quot;userProfileBox&quot; id=&quot;userProfileBox&quot;&gt;\n                &lt;img src=&quot;https://www.dropbox.com/s/zq3d2dz63y3y4ct/man_pic.jpg?raw=1&quot; alt=&quot;Profile_img&quot;&gt;\n                &lt;div class=&quot;userName&quot;&gt; &lt;% out.print(request.getSession().getAttribute(&quot;username&quot;)); %&gt; &lt;/div&gt;\n                &lt;div class=&quot;desg_Section&quot;&gt; Costing Officer - Wash &lt;/div&gt;\n                &lt;div class=&quot;authorization&quot;&gt;User has authorization of : &lt;/div&gt;\n             &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;a href=&quot;RemoveSession.jsp&quot;&gt;Log Out&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>RemoveSession.jsp</strong></p>\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form method=&quot;post&quot;&gt;\n            &lt;%\n                session.invalidate();\n                request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request, response);\n                \n            %&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"display_name":"user17055546"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69445304,"answer_count":1,"score":3,"last_activity_date":1634042303,"creation_date":1633141124,"question_id":69413508,"body_markdown":"I created a login form in jsp. Also made the session save system that when the user will log in his username will be visible in the welcome page inside a label tag. I used this code for this -\r\n\r\nIn the login page :\r\n\r\n    request.getSession().setAttribute(&quot;username&quot;,username);\r\n\r\nAnd in the welcome page :\r\n\r\n    out.print(request.getSession().getAttribute(&quot;username&quot;));\r\n\r\nAlso have an log out link like anchor tag which&#39;s `href=&quot;/login.jsp&quot;`\r\n\r\nNow I comes to the problem. When I first time login with the username &quot;a&quot; it successfully shows &quot;a&quot; in the welcome page. But when I logout and login again with username &quot;b&quot; then also it shows &quot;a&quot; in the welcome page. When I refresh the browser then it shows &quot;b&quot;. I can try a method that I can make a code that will refresh the browser after first refresh. But my page will be too heavy in future. For that this will be not a standard way right?\r\n\r\nI found a solution that `session.invalidate();` but I tried this code inside anchor tag but is of no use.\r\n\r\nKindly help!\r\n\r\nHere is the logout page code - \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;meta charset=&quot;utf-8&quot;&gt;\r\n    \t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;&gt;\r\n    \t&lt;script type=&quot;text/javascript&quot; src=&quot;js/basic.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;title&gt;Dashboard || XCEL-ERP&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;div class=&quot;dashboard_sidebar&quot; id=&quot;dashboard_sidebar&quot;&gt;\r\n    \t\t&lt;ul&gt;\r\n    \t\t\t&lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;HOME&lt;/a&gt;&lt;/li&gt;\r\n    \t\t\t&lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;RECIPE &amp; COSTING&lt;/a&gt;&lt;/li&gt;\r\n    \t\t\t&lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;PLANNING&lt;/a&gt;&lt;/li&gt;\r\n    \t\t\t&lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;PRODUCTION&lt;/a&gt;&lt;/li&gt;\r\n    \t\t\t&lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;ACCOUNT&lt;/a&gt;&lt;/li&gt;\r\n    \t\t\t&lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;OVERVIEW&lt;/a&gt;&lt;/li&gt;\r\n    \t\t&lt;/ul&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;dashboard_header&quot; id=&quot;dashboard_header&quot;&gt;\r\n    \t\t&lt;div class=&quot;dashboard_hamburger&quot; onclick=&quot;sidebarFunction()&quot;&gt;\r\n    \t\t\t&lt;span&gt;&lt;/span&gt;\r\n    \t\t\t&lt;span&gt;&lt;/span&gt;\r\n    \t\t\t&lt;span&gt;&lt;/span&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;div class=&quot;logo&quot;&gt;ERP&lt;/div&gt;\r\n    \t\t&lt;div class=&quot;user&quot;&gt;\r\n    \t\t\t&lt;img src=&quot;https://www.dropbox.com/s/s3wcx1zot0gp3fe/user_icon.png?raw=1&quot; alt=&quot;user&quot; onclick=&quot;userProfileFunction()&quot;&gt;\r\n    \t\t\t&lt;label&gt;\r\n    \t\t\t &lt;%  \r\n    \r\n    \t\t\t\tout.print(request.getSession().getAttribute(&quot;username&quot;));\r\n    \r\n    \t\t\t %&gt;\r\n    \t\t\t &lt;/label&gt;\r\n    \t\t\t &lt;div class=&quot;userProfileBox&quot; id=&quot;userProfileBox&quot;&gt;\r\n    \t\t\t \t&lt;img src=&quot;https://www.dropbox.com/s/zq3d2dz63y3y4ct/man_pic.jpg?raw=1&quot; alt=&quot;Profile_img&quot;&gt;\r\n    \t\t\t \t&lt;div class=&quot;userName&quot;&gt; &lt;% out.print(request.getSession().getAttribute(&quot;username&quot;)); %&gt; &lt;/div&gt;\r\n    \t\t\t \t&lt;div class=&quot;desg_Section&quot;&gt; Costing Officer - Wash &lt;/div&gt;\r\n    \t\t\t \t&lt;div class=&quot;authorization&quot;&gt;User has authorization of : &lt;/div&gt;\r\n    \t\t\t \t&lt;button&gt;Log Out&lt;/button&gt;\r\n    \t\t\t &lt;/div&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;a href=&quot;login.jsp&quot;&gt;Log Out&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAnd here is the login connection code which is connected to a form method post - \r\n\r\n    &lt;%@ page import = &quot;java.sql.*&quot;%&gt;\r\n    &lt;%\r\n    \r\n    \tString JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\r\n    \tString DB_URL = &quot;jdbc:mysql://localhost:3306/erp&quot;;\r\n    \tString DB_USER = &quot;root&quot;;\r\n    \tString DB_PASS = &quot;&quot;;\r\n    \r\n    \tConnection conn = null;\r\n    \tStatement stm = null;\r\n    \tResultSet rs = null;\r\n    \r\n    \tString username = request.getParameter(&quot;username&quot;);\r\n    \tString password = request.getParameter(&quot;password&quot;);\r\n    \r\n    \tString query = &quot;SELECT * FROM userdata WHERE UserName = &#39;&quot;.concat(username).concat(&quot;&#39; AND Password = &#39;&quot;).concat(password).concat(&quot;&#39;&quot;);\r\n    \r\n    \ttry{\r\n    \t\tClass.forName(JDBC_DRIVER);\r\n    \t\tconn = DriverManager.getConnection(DB_URL, DB_USER, DB_PASS);\r\n    \t\tstm = conn.createStatement();\r\n    \r\n    \t\trs = stm.executeQuery(query);\r\n    \r\n    \t\tBoolean match_result = rs.isBeforeFirst();\r\n    \r\n    \t\tif(match_result == true){\r\n    \r\n    \t\t\tgetServletContext().getRequestDispatcher(&quot;/dashboard.jsp&quot;).forward(request, response);\r\n    \r\n    \t\t\t\r\n            \trequest.getSession().setAttribute(&quot;username&quot;,username);\r\n    \r\n    \t\t}else{\r\n    \r\n    \t\t\tout.print(&quot;Sorry, username or password error!&quot;);  \r\n                request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request, response);\r\n                \r\n    \t\t}\r\n    \r\n    \t\trs.close();\r\n    \t\tstm.close();\r\n    \t\tconn.close();\r\n    \t} catch(Exception e){\r\n    \t\tout.println(e);\r\n    \t}\r\n    \r\n    %&gt;","title":"JSP Page showing previous session data","body":"<p>I created a login form in jsp. Also made the session save system that when the user will log in his username will be visible in the welcome page inside a label tag. I used this code for this -</p>\n<p>In the login page :</p>\n<pre><code>request.getSession().setAttribute(&quot;username&quot;,username);\n</code></pre>\n<p>And in the welcome page :</p>\n<pre><code>out.print(request.getSession().getAttribute(&quot;username&quot;));\n</code></pre>\n<p>Also have an log out link like anchor tag which's <code>href=&quot;/login.jsp&quot;</code></p>\n<p>Now I comes to the problem. When I first time login with the username &quot;a&quot; it successfully shows &quot;a&quot; in the welcome page. But when I logout and login again with username &quot;b&quot; then also it shows &quot;a&quot; in the welcome page. When I refresh the browser then it shows &quot;b&quot;. I can try a method that I can make a code that will refresh the browser after first refresh. But my page will be too heavy in future. For that this will be not a standard way right?</p>\n<p>I found a solution that <code>session.invalidate();</code> but I tried this code inside anchor tag but is of no use.</p>\n<p>Kindly help!</p>\n<p>Here is the logout page code -</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;js/basic.js&quot;&gt;&lt;/script&gt;\n    &lt;title&gt;Dashboard || XCEL-ERP&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;dashboard_sidebar&quot; id=&quot;dashboard_sidebar&quot;&gt;\n        &lt;ul&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;HOME&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;RECIPE &amp; COSTING&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;PLANNING&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;PRODUCTION&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;ACCOUNT&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;sidebar_item&quot;&gt;&lt;a href=&quot;#&quot;&gt;OVERVIEW&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;dashboard_header&quot; id=&quot;dashboard_header&quot;&gt;\n        &lt;div class=&quot;dashboard_hamburger&quot; onclick=&quot;sidebarFunction()&quot;&gt;\n            &lt;span&gt;&lt;/span&gt;\n            &lt;span&gt;&lt;/span&gt;\n            &lt;span&gt;&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;logo&quot;&gt;ERP&lt;/div&gt;\n        &lt;div class=&quot;user&quot;&gt;\n            &lt;img src=&quot;https://www.dropbox.com/s/s3wcx1zot0gp3fe/user_icon.png?raw=1&quot; alt=&quot;user&quot; onclick=&quot;userProfileFunction()&quot;&gt;\n            &lt;label&gt;\n             &lt;%  \n\n                out.print(request.getSession().getAttribute(&quot;username&quot;));\n\n             %&gt;\n             &lt;/label&gt;\n             &lt;div class=&quot;userProfileBox&quot; id=&quot;userProfileBox&quot;&gt;\n                &lt;img src=&quot;https://www.dropbox.com/s/zq3d2dz63y3y4ct/man_pic.jpg?raw=1&quot; alt=&quot;Profile_img&quot;&gt;\n                &lt;div class=&quot;userName&quot;&gt; &lt;% out.print(request.getSession().getAttribute(&quot;username&quot;)); %&gt; &lt;/div&gt;\n                &lt;div class=&quot;desg_Section&quot;&gt; Costing Officer - Wash &lt;/div&gt;\n                &lt;div class=&quot;authorization&quot;&gt;User has authorization of : &lt;/div&gt;\n                &lt;button&gt;Log Out&lt;/button&gt;\n             &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;a href=&quot;login.jsp&quot;&gt;Log Out&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And here is the login connection code which is connected to a form method post -</p>\n<pre><code>&lt;%@ page import = &quot;java.sql.*&quot;%&gt;\n&lt;%\n\n    String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\n    String DB_URL = &quot;jdbc:mysql://localhost:3306/erp&quot;;\n    String DB_USER = &quot;root&quot;;\n    String DB_PASS = &quot;&quot;;\n\n    Connection conn = null;\n    Statement stm = null;\n    ResultSet rs = null;\n\n    String username = request.getParameter(&quot;username&quot;);\n    String password = request.getParameter(&quot;password&quot;);\n\n    String query = &quot;SELECT * FROM userdata WHERE UserName = '&quot;.concat(username).concat(&quot;' AND Password = '&quot;).concat(password).concat(&quot;'&quot;);\n\n    try{\n        Class.forName(JDBC_DRIVER);\n        conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PASS);\n        stm = conn.createStatement();\n\n        rs = stm.executeQuery(query);\n\n        Boolean match_result = rs.isBeforeFirst();\n\n        if(match_result == true){\n\n            getServletContext().getRequestDispatcher(&quot;/dashboard.jsp&quot;).forward(request, response);\n\n            \n            request.getSession().setAttribute(&quot;username&quot;,username);\n\n        }else{\n\n            out.print(&quot;Sorry, username or password error!&quot;);  \n            request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request, response);\n            \n        }\n\n        rs.close();\n        stm.close();\n        conn.close();\n    } catch(Exception e){\n        out.println(e);\n    }\n\n%&gt;\n</code></pre>\n"},{"tags":["java","nested","void"],"comments":[{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":2,"creation_date":1501351337,"post_id":45392393,"comment_id":77745444,"body_markdown":"You&#39;re missing a closing `}` after the `Mesaj` method.","body":"You&#39;re missing a closing <code>}</code> after the <code>Mesaj</code> method."},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1501351341,"post_id":45392393,"comment_id":77745445,"body_markdown":"but how are you calling the araba method??","body":"but how are you calling the araba method??"},{"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"score":0,"creation_date":1501351380,"post_id":45392393,"comment_id":77745461,"body_markdown":"you cannot nest function definitions in Java","body":"you cannot nest function definitions in Java"},{"owner":{"account_id":8623043,"reputation":5,"user_id":6457205,"accept_rate":60,"display_name":"Ugur Aydın"},"score":0,"creation_date":1501351916,"post_id":45392393,"comment_id":77745657,"body_markdown":"@4castle I didn&#39;t add them here.In Eclipse I placed them correctly.","body":"@4castle I didn&#39;t add them here.In Eclipse I placed them correctly."},{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":0,"creation_date":1501351982,"post_id":45392393,"comment_id":77745683,"body_markdown":"Please [edit] your question so that the code is correct. Ideally, we should be able to run your code and see the issue you describe. See: [mcve]","body":"Please <a href=\"https://stackoverflow.com/posts/45392393/edit\">edit</a> your question so that the code is correct. Ideally, we should be able to run your code and see the issue you describe. See: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":177047,"reputation":1403,"user_id":408142,"accept_rate":80,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501351369,"creation_date":1501351369,"answer_id":45392408,"question_id":45392393,"body_markdown":"Your `Mesaj()` function is missing its closing brace.\r\n\r\n    public class Cay {\r\n      public void Mesaj(){\r\n        System.out.println(&quot;Başka bir sınıftan merhabalar!&quot;);\r\n      }\r\n\r\n      public void Araba(){\r\n        System.out.println(&quot;Selamlar Tekrardan.&quot;);\r\n      }\r\n    }","title":"Can I use nest a void inside another void in Java?","body":"<p>Your <code>Mesaj()</code> function is missing its closing brace.</p>\n\n<pre><code>public class Cay {\n  public void Mesaj(){\n    System.out.println(\"Başka bir sınıftan merhabalar!\");\n  }\n\n  public void Araba(){\n    System.out.println(\"Selamlar Tekrardan.\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8095139,"reputation":55,"user_id":6099969,"accept_rate":75,"display_name":"Aayush Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501354553,"creation_date":1501354553,"answer_id":45392942,"question_id":45392393,"body_markdown":"A class can have multiple member functions, be it of the type void/String or any other, but the scope of one function cannot contain another function and hence the error. So remove the brace from the end and add one before the start of Araba()","title":"Can I use nest a void inside another void in Java?","body":"<p>A class can have multiple member functions, be it of the type void/String or any other, but the scope of one function cannot contain another function and hence the error. So remove the brace from the end and add one before the start of Araba()</p>\n"}],"owner":{"account_id":8623043,"reputation":5,"user_id":6457205,"accept_rate":60,"display_name":"Ugur Aydın"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1634042057,"creation_date":1501351242,"question_id":45392393,"body_markdown":"So, here&#39;s my code. \r\n\r\n    public class Cay {\r\n\t    public void Mesaj() {\r\n\t        System.out.println(&quot;Başka bir sınıftan merhabalar!&quot;);\r\n\t\r\n\t        public void Araba() {\r\n\t            System.out.println(&quot;Selamlar Tekrardan.&quot;);\r\n\t        }\r\n        }\r\n    }\r\n\r\nThe `public void Mesaj()` works pretty well at my other class. But `public void Araba()` doesn&#39;t work. It gives a compilation error.\r\n\r\n&gt; - void[] is an invalid type\r\n&gt; \t- Illegal modifier for parameter Araba; only final is permitted\r\n&gt; \t- Syntax error, insert &quot;[ ]&quot; to complete Dimension\r\n&gt; \t- Syntax error, insert &quot;;&quot; to complete LocalVariableDeclarationStatement\r\n&gt; \t- Syntax error on token &quot;Araba&quot;, AnnotationName expected after this token\r\n\r\nI searched but couldn&#39;t find anything useful.","title":"Can I use nest a void inside another void in Java?","body":"<p>So, here's my code.</p>\n<pre><code>public class Cay {\n    public void Mesaj() {\n        System.out.println(&quot;Başka bir sınıftan merhabalar!&quot;);\n\n        public void Araba() {\n            System.out.println(&quot;Selamlar Tekrardan.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The <code>public void Mesaj()</code> works pretty well at my other class. But <code>public void Araba()</code> doesn't work. It gives a compilation error.</p>\n<blockquote>\n<ul>\n<li>void[] is an invalid type\n<ul>\n<li>Illegal modifier for parameter Araba; only final is permitted</li>\n<li>Syntax error, insert &quot;[ ]&quot; to complete Dimension</li>\n<li>Syntax error, insert &quot;;&quot; to complete LocalVariableDeclarationStatement</li>\n<li>Syntax error on token &quot;Araba&quot;, AnnotationName expected after this token</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>I searched but couldn't find anything useful.</p>\n"},{"tags":["java","groovy","timezone","java-time","timezone-offset"],"comments":[{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1522055469,"post_id":49487752,"comment_id":85978204,"body_markdown":"Is your timezone database fresh?","body":"Is your timezone database fresh?"},{"owner":{"account_id":421225,"reputation":5708,"user_id":799342,"accept_rate":87,"display_name":"Hary"},"score":0,"creation_date":1522055503,"post_id":49487752,"comment_id":85978230,"body_markdown":"Sorry I am not getting what you&#39;re asking","body":"Sorry I am not getting what you&#39;re asking"}],"answers":[{"tags":[],"owner":{"account_id":12655222,"reputation":263,"user_id":9350520,"display_name":"MadMarky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1522056196,"creation_date":1522055856,"answer_id":49487892,"question_id":49487752,"body_markdown":"It seems you expect BST to be British Summer Time, but in this case it represents [Bangladesh Standard Time][1].\r\nAlso see https://stackoverflow.com/questions/44570166/what-does-javas-bst-zoneid-represent\r\n\r\n  [1]: https://www.timeanddate.com/time/zones/bst-bangladesh\r\n\r\n\r\nFrom Answer:\r\n\r\nthe below code works\r\n\r\n    SimpleDateFormat bstFormat = new SimpleDateFormat(format)\r\n    bstFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/London&quot;))\r\n    println bstFormat.format(dt)","title":"BST Time is wrong","body":"<p>It seems you expect BST to be British Summer Time, but in this case it represents <a href=\"https://www.timeanddate.com/time/zones/bst-bangladesh\" rel=\"nofollow noreferrer\">Bangladesh Standard Time</a>.\nAlso see <a href=\"https://stackoverflow.com/questions/44570166/what-does-javas-bst-zoneid-represent\">What does Java&#39;s BST ZoneId represent?</a></p>\n\n<p>From Answer:</p>\n\n<p>the below code works</p>\n\n<pre><code>SimpleDateFormat bstFormat = new SimpleDateFormat(format)\nbstFormat.setTimeZone(TimeZone.getTimeZone(\"Europe/London\"))\nprintln bstFormat.format(dt)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10802634,"reputation":364,"user_id":8603014,"accept_rate":83,"display_name":"mark42inbound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522056384,"creation_date":1522056384,"answer_id":49488061,"question_id":49487752,"body_markdown":"I ran your code and found that the time for BST was just right. Adding the offset of 6 hours to your UTC time of 09:04:14 gives 15:04:14. I think you&#39;re confused with the acronym of the time zone.\r\n\r\nIf your timezone database in JVM is incorrect, you can get the British Summertime Timezone by `TimeZone.getTimeZone(&quot;Europe/London&quot;);`","title":"BST Time is wrong","body":"<p>I ran your code and found that the time for BST was just right. Adding the offset of 6 hours to your UTC time of 09:04:14 gives 15:04:14. I think you're confused with the acronym of the time zone.</p>\n\n<p>If your timezone database in JVM is incorrect, you can get the British Summertime Timezone by <code>TimeZone.getTimeZone(\"Europe/London\");</code></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634041595,"creation_date":1634041595,"answer_id":69540527,"question_id":49487752,"body_markdown":"You should avoid using the abbreviated timezone name. Check the following note from the [`TimeZone` documentation](https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html):\r\n\r\n&gt; #### Three-letter time zone IDs\r\n&gt; \r\n&gt; For compatibility with JDK 1.1.x, some other three-letter time zone\r\n&gt; IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are also supported. However, **their\r\n&gt; use is deprecated** because the same abbreviation is often used for\r\n&gt; multiple time zones (for example, &quot;CST&quot; could be U.S. &quot;Central\r\n&gt; Standard Time&quot; and &quot;China Standard Time&quot;), and the Java platform can\r\n&gt; then only recognize one of them.\r\n\r\nIn your case, probably the system has mapped `BST` to **Bishkek Standard Time** which has a timezone offset of `+06:00` hours. The standard naming convention is *Region/City* e.g. Europe/London, Europe/Paris, Asia/Kolkata etc. where *City* generally refers to the biggest city of a country in the region. In case of doubt, execute the following statement to get all timezone IDs: \r\n\r\n    System.out.println(ZoneId.getAvailableZoneIds());\r\n# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ssXXX&quot;, Locale.ENGLISH);\r\n    \t\t\r\n    \t\tInstant now = Instant.now();\r\n    \t\t\r\n    \t\tSystem.out.println(now.atZone(ZoneOffset.UTC).format(dtf));\r\n    \t\tSystem.out.println(now.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).format(dtf));\r\n    \t\tSystem.out.println(now.atZone(ZoneId.of(&quot;Europe/Paris&quot;)).format(dtf));\r\n    \t\tSystem.out.println(now.atZone(ZoneId.of(&quot;Europe/London&quot;)).format(dtf));\r\n    \t}\r\n    }\r\n    \r\n**Output** *from a sample run:*\r\n\r\n    2021-10-12 12:24:03Z\r\n    2021-10-12 17:54:03+05:30\r\n    2021-10-12 14:24:03+02:00\r\n    2021-10-12 13:24:03+01:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/3FlznE\r\n","title":"BST Time is wrong","body":"<p>You should avoid using the abbreviated timezone name. Check the following note from the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\"><code>TimeZone</code> documentation</a>:</p>\n<blockquote>\n<h4>Three-letter time zone IDs</h4>\n<p>For compatibility with JDK 1.1.x, some other three-letter time zone\nIDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are also supported. However, <strong>their\nuse is deprecated</strong> because the same abbreviation is often used for\nmultiple time zones (for example, &quot;CST&quot; could be U.S. &quot;Central\nStandard Time&quot; and &quot;China Standard Time&quot;), and the Java platform can\nthen only recognize one of them.</p>\n</blockquote>\n<p>In your case, probably the system has mapped <code>BST</code> to <strong>Bishkek Standard Time</strong> which has a timezone offset of <code>+06:00</code> hours. The standard naming convention is <em>Region/City</em> e.g. Europe/London, Europe/Paris, Asia/Kolkata etc. where <em>City</em> generally refers to the biggest city of a country in the region. In case of doubt, execute the following statement to get all timezone IDs:</p>\n<pre><code>System.out.println(ZoneId.getAvailableZoneIds());\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String args[]) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ssXXX&quot;, Locale.ENGLISH);\n        \n        Instant now = Instant.now();\n        \n        System.out.println(now.atZone(ZoneOffset.UTC).format(dtf));\n        System.out.println(now.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).format(dtf));\n        System.out.println(now.atZone(ZoneId.of(&quot;Europe/Paris&quot;)).format(dtf));\n        System.out.println(now.atZone(ZoneId.of(&quot;Europe/London&quot;)).format(dtf));\n    }\n}\n</code></pre>\n<p><strong>Output</strong> <em>from a sample run:</em></p>\n<pre><code>2021-10-12 12:24:03Z\n2021-10-12 17:54:03+05:30\n2021-10-12 14:24:03+02:00\n2021-10-12 13:24:03+01:00\n</code></pre>\n<p><a href=\"https://ideone.com/3FlznE\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"account_id":421225,"reputation":5708,"user_id":799342,"accept_rate":87,"display_name":"Hary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49487892,"answer_count":3,"score":1,"last_activity_date":1634041921,"creation_date":1522055378,"question_id":49487752,"body_markdown":"With the below code, every timezone is printing the value correctly except `BST`\r\n\r\n    ​import java.text.*;\r\n    \r\n    def format = &quot;yyyy-MM-dd HH:mm:ssXXX&quot;\r\n    def dt = new Date();\r\n    println dt;\r\n    \r\n    SimpleDateFormat utcFormat = new SimpleDateFormat(format)\r\n    utcFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;))\r\n    println utcFormat.format(dt)\r\n    \r\n    SimpleDateFormat istFormat = new SimpleDateFormat(format)\r\n    istFormat .setTimeZone(TimeZone.getTimeZone(&quot;IST&quot;))\r\n    println istFormat.format(dt)\r\n    \r\n    SimpleDateFormat cetFormat = new SimpleDateFormat(format)\r\n    cetFormat.setTimeZone(TimeZone.getTimeZone(&quot;CET&quot;))\r\n    println cetFormat.format(dt)\r\n    \r\n    SimpleDateFormat bstFormat = new SimpleDateFormat(format)\r\n    bstFormat.setTimeZone(TimeZone.getTimeZone(&quot;BST&quot;))\r\n    println bstFormat.format(dt)\r\n\r\n​\r\n**Output:**\r\n\r\nMon Mar 26 09:04:14 UTC 2018\r\n\r\n2018-03-26 09:04:14Z\r\n\r\n2018-03-26 14:34:14+05:30\r\n\r\n2018-03-26 11:04:14+02:00\r\n\r\n2018-03-26 15:04:14+06:00\r\n\r\nHere `BST` time is wrong. Whats wrong with it?","title":"BST Time is wrong","body":"<p>With the below code, every timezone is printing the value correctly except <code>BST</code></p>\n\n<pre><code>​import java.text.*;\n\ndef format = \"yyyy-MM-dd HH:mm:ssXXX\"\ndef dt = new Date();\nprintln dt;\n\nSimpleDateFormat utcFormat = new SimpleDateFormat(format)\nutcFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"))\nprintln utcFormat.format(dt)\n\nSimpleDateFormat istFormat = new SimpleDateFormat(format)\nistFormat .setTimeZone(TimeZone.getTimeZone(\"IST\"))\nprintln istFormat.format(dt)\n\nSimpleDateFormat cetFormat = new SimpleDateFormat(format)\ncetFormat.setTimeZone(TimeZone.getTimeZone(\"CET\"))\nprintln cetFormat.format(dt)\n\nSimpleDateFormat bstFormat = new SimpleDateFormat(format)\nbstFormat.setTimeZone(TimeZone.getTimeZone(\"BST\"))\nprintln bstFormat.format(dt)\n</code></pre>\n\n<p>​\n<strong>Output:</strong></p>\n\n<p>Mon Mar 26 09:04:14 UTC 2018</p>\n\n<p>2018-03-26 09:04:14Z</p>\n\n<p>2018-03-26 14:34:14+05:30</p>\n\n<p>2018-03-26 11:04:14+02:00</p>\n\n<p>2018-03-26 15:04:14+06:00</p>\n\n<p>Here <code>BST</code> time is wrong. Whats wrong with it?</p>\n"},{"tags":["java","database","h2","hsqldb"],"answers":[{"tags":[],"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492008209,"creation_date":1492008209,"answer_id":43372797,"question_id":43366547,"body_markdown":"HSQLDB supports only a single catalog and the name is checked when the catalog is specified in a query. You can change the catalog name from the default PUBLIC to something else. For example:\r\n\r\n    ALTER CATALOG public RENAME TO to catalog_a\r\n\r\nBut using two different catalog names is not supported.\r\n\r\nIf your schema or table names in the two catalogs are different, you could modify the source code of HSQLDB and disable the catalog name check for your tests in the method `org.hsqldb.ParserDQL.checkValidCatalogName(String name)`\r\n\r\n","title":"Embedded database and multiple catalogs","body":"<p>HSQLDB supports only a single catalog and the name is checked when the catalog is specified in a query. You can change the catalog name from the default PUBLIC to something else. For example:</p>\n\n<pre><code>ALTER CATALOG public RENAME TO to catalog_a\n</code></pre>\n\n<p>But using two different catalog names is not supported.</p>\n\n<p>If your schema or table names in the two catalogs are different, you could modify the source code of HSQLDB and disable the catalog name check for your tests in the method <code>org.hsqldb.ParserDQL.checkValidCatalogName(String name)</code></p>\n"},{"tags":[],"owner":{"account_id":12719679,"reputation":46,"user_id":9240553,"display_name":"str8tonowhere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634041904,"creation_date":1634041531,"answer_id":69540508,"question_id":43366547,"body_markdown":"I managed to achieve this in H2 via [IGNORE_CATALOGS][1] property and version 1.4.200.\r\n\r\nHowever, the url example from their docs did not seem to work for me, so I added a statement in my schema.xml:\r\n\r\n`SET IGNORE_CATALOGS = true;`\r\n\r\n\r\n  [1]: https://h2database.com/html/commands.html#set_ignore_catalogs","title":"Embedded database and multiple catalogs","body":"<p>I managed to achieve this in H2 via <a href=\"https://h2database.com/html/commands.html#set_ignore_catalogs\" rel=\"nofollow noreferrer\">IGNORE_CATALOGS</a> property and version 1.4.200.</p>\n<p>However, the url example from their docs did not seem to work for me, so I added a statement in my schema.xml:</p>\n<p><code>SET IGNORE_CATALOGS = true;</code></p>\n"}],"owner":{"account_id":1064291,"reputation":1,"user_id":3327805,"display_name":"DaRex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634041904,"creation_date":1491991818,"question_id":43366547,"body_markdown":"I want to create integration tests for my repositories. The production database is Sybase and it consists of multiple catalogs in which there are multiple schemas.\r\n\r\nIn my code I use multiple queries I am selecting data across different catalogs: ex: \r\n\r\n    select * \r\n    from catalog_a.schema_a.table_1 aa1, catalog_b.schema_a.table_2 ba2\r\n    where aa1.c1 = ba2.c2\r\n\r\nSo for the tests I would like to create embedded database, like H2, HSQLDB or something different. I was trying to find something that would allow me to simulate prod db with multiple catalogs, but I couldn&#39;t make it work. Please advice and suggest the solution.\r\n \r\nI am writing app in java/spring. Additional trick here is that my app is creating only one DataSource to database.","title":"Embedded database and multiple catalogs","body":"<p>I want to create integration tests for my repositories. The production database is Sybase and it consists of multiple catalogs in which there are multiple schemas.</p>\n\n<p>In my code I use multiple queries I am selecting data across different catalogs: ex: </p>\n\n<pre><code>select * \nfrom catalog_a.schema_a.table_1 aa1, catalog_b.schema_a.table_2 ba2\nwhere aa1.c1 = ba2.c2\n</code></pre>\n\n<p>So for the tests I would like to create embedded database, like H2, HSQLDB or something different. I was trying to find something that would allow me to simulate prod db with multiple catalogs, but I couldn't make it work. Please advice and suggest the solution.</p>\n\n<p>I am writing app in java/spring. Additional trick here is that my app is creating only one DataSource to database.</p>\n"},{"tags":["java","hibernate","testing","schema","dbunit"],"comments":[{"owner":{"account_id":50263,"reputation":22896,"user_id":149872,"accept_rate":100,"display_name":"Elias Dorneles"},"score":0,"creation_date":1346083708,"post_id":10317834,"comment_id":16248755,"body_markdown":"I am facing this same problem here. Did you have any conclusion? What did you end up doing? Thanks!","body":"I am facing this same problem here. Did you have any conclusion? What did you end up doing? Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335364768,"creation_date":1335364768,"answer_id":10318003,"question_id":10317834,"body_markdown":"I believe [H2][1] supports catalogs.  I haven&#39;t used them in it myself, but there&#39;s a CATALOGS table in the [Information Schema][2].\r\n\r\n\r\n  [1]: http://www.h2database.com/html/main.html\r\n  [2]: http://www.h2database.com/html/grammar.html#information_schema","title":"Unit testing Hibernate with multiple database catalogs","body":"<p>I believe <a href=\"http://www.h2database.com/html/main.html\" rel=\"nofollow\">H2</a> supports catalogs.  I haven't used them in it myself, but there's a CATALOGS table in the <a href=\"http://www.h2database.com/html/grammar.html#information_schema\" rel=\"nofollow\">Information Schema</a>.</p>\n"},{"tags":[],"owner":{"account_id":12719679,"reputation":46,"user_id":9240553,"display_name":"str8tonowhere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634041802,"creation_date":1634041802,"answer_id":69540573,"question_id":10317834,"body_markdown":"I managed to achieve something like this in H2 via [IGNORE_CATALOGS][1] property and version 1.4.200\r\n\r\nHowever, the url example from their docs did not seem to work for me, so I added a statement in my schema.xml: \r\n`SET IGNORE_CATALOGS = true;`\r\n\r\n\r\n  [1]: https://h2database.com/html/commands.html#set_ignore_catalogs","title":"Unit testing Hibernate with multiple database catalogs","body":"<p>I managed to achieve something like this in H2 via <a href=\"https://h2database.com/html/commands.html#set_ignore_catalogs\" rel=\"nofollow noreferrer\">IGNORE_CATALOGS</a> property and version 1.4.200</p>\n<p>However, the url example from their docs did not seem to work for me, so I added a statement in my schema.xml:\n<code>SET IGNORE_CATALOGS = true;</code></p>\n"}],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1646,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1634041802,"creation_date":1335364195,"question_id":10317834,"body_markdown":"I have an issue testing a Hibernate application which queries multiple catalogs/schemas.\r\n\r\nThe production database is Sybase and in addition to entities mapped to the default catalog/schema there are two entities mapped as below. There are therefore three catalogs in total.\r\n\r\n    @Table(catalog = &quot;corp_ref_db&quot;, schema = &quot;dbo&quot;, name = &quot;WORKFORCE_V2&quot;)\r\n    public class EmployeeRecord implements Serializable {\r\n    }\r\n\r\n    @Table(catalog = &quot;reference&quot;, schema = &quot;dbo&quot;, name=&quot;cntry&quot;)\r\n    public class Country implements Serializable {\r\n    }\r\n\r\nThis all works in the application without any issues. However when unit testing my usual strategy is to use HSQL with hibernate&#39;s ddl flag set to auto and have dbunit populate the tables. \r\n\r\nThis all works fine when the tables are all in the same schema.\r\n\r\nHowever, since adding these additional tables, testing is broken as the DDL will not run as HSQL only supports one catalog.\r\n\r\n    create table corp_ref_db.dbo.WORKFORCE_V2\r\n    user lacks privilege or object not found: CORP_REF_DB\r\n\r\nIf there were only two catalogs then I think it would maybe be possible to get round this by changing the default catalog and schema in the HSQL database to that one explicitly defined:\r\n\r\nIs there any other in-memory database for which this might work or is there any strategy for getting the tests to run in HSQL.\r\n\r\nI had thought of providing an orm.xml file which specified the default catalog and schema (overiding any annotations and having all the defined tables created in the default catalog/schema) however these overrides do not seem to be observed when the DDL is executed i.e. I get the same error as above.\r\n\r\nEssentially, then I would like to run my existing tests and either somehow have the tables created as they are defined in the mappings or somehow override the catalog/schema definitions at the entity level.\r\n\r\nI cannot think of any way to achieve either outcome.  Any ideas?\r\n","title":"Unit testing Hibernate with multiple database catalogs","body":"<p>I have an issue testing a Hibernate application which queries multiple catalogs/schemas.</p>\n\n<p>The production database is Sybase and in addition to entities mapped to the default catalog/schema there are two entities mapped as below. There are therefore three catalogs in total.</p>\n\n<pre><code>@Table(catalog = \"corp_ref_db\", schema = \"dbo\", name = \"WORKFORCE_V2\")\npublic class EmployeeRecord implements Serializable {\n}\n\n@Table(catalog = \"reference\", schema = \"dbo\", name=\"cntry\")\npublic class Country implements Serializable {\n}\n</code></pre>\n\n<p>This all works in the application without any issues. However when unit testing my usual strategy is to use HSQL with hibernate's ddl flag set to auto and have dbunit populate the tables. </p>\n\n<p>This all works fine when the tables are all in the same schema.</p>\n\n<p>However, since adding these additional tables, testing is broken as the DDL will not run as HSQL only supports one catalog.</p>\n\n<pre><code>create table corp_ref_db.dbo.WORKFORCE_V2\nuser lacks privilege or object not found: CORP_REF_DB\n</code></pre>\n\n<p>If there were only two catalogs then I think it would maybe be possible to get round this by changing the default catalog and schema in the HSQL database to that one explicitly defined:</p>\n\n<p>Is there any other in-memory database for which this might work or is there any strategy for getting the tests to run in HSQL.</p>\n\n<p>I had thought of providing an orm.xml file which specified the default catalog and schema (overiding any annotations and having all the defined tables created in the default catalog/schema) however these overrides do not seem to be observed when the DDL is executed i.e. I get the same error as above.</p>\n\n<p>Essentially, then I would like to run my existing tests and either somehow have the tables created as they are defined in the mappings or somehow override the catalog/schema definitions at the entity level.</p>\n\n<p>I cannot think of any way to achieve either outcome.  Any ideas?</p>\n"},{"tags":["java","xml","nodes"],"comments":[{"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"score":0,"creation_date":1634052278,"post_id":69540569,"comment_id":122920177,"body_markdown":"Sounds as if JAXB is causing you  a lot of problems. Have you considered a non-JAXB approach?","body":"Sounds as if JAXB is causing you  a lot of problems. Have you considered a non-JAXB approach?"},{"owner":{"account_id":23011650,"reputation":11,"user_id":17134105,"display_name":"satyam rath"},"score":0,"creation_date":1634114017,"post_id":69540569,"comment_id":122936263,"body_markdown":"@Kimbert.\nThere are a lot of xml data manipulation is there  so i need jaxb to convert into class and change those data. while using jaxb it&#39;s not considering the comment  line. for that before converting to class, used some code to store path and comment in a hashmap. after  data manipulation trying  to add those comment at particular path. it&#39;s happening but those data I can able to add in the 1st position not after value as  I shown in the example.","body":"@Kimbert. There are a lot of xml data manipulation is there  so i need jaxb to convert into class and change those data. while using jaxb it&#39;s not considering the comment  line. for that before converting to class, used some code to store path and comment in a hashmap. after  data manipulation trying  to add those comment at particular path. it&#39;s happening but those data I can able to add in the 1st position not after value as  I shown in the example."},{"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"score":0,"creation_date":1634137856,"post_id":69540569,"comment_id":122946683,"body_markdown":"JAXB is one way to do that. But there are alternative approaches that might be a lot simpler for your scenario. Why not use the standard DOM parser, which probably would not mess about with the XML comments?","body":"JAXB is one way to do that. But there are alternative approaches that might be a lot simpler for your scenario. Why not use the standard DOM parser, which probably would not mess about with the XML comments?"}],"owner":{"account_id":23011650,"reputation":11,"user_id":17134105,"display_name":"satyam rath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634041792,"creation_date":1634041792,"question_id":69540569,"body_markdown":"\r\n\r\n**`I have issue while parsing xml in jaxb, it removing the comment node.For that I have created a method where I am storing the xml tag and path in map and later after parsing xml in jaxb again placing and arranging with proper path for those comments.\r\nStoring in map.\r\nThen placing those comment by creating comment node and using node.insertBefore(createComment, refChild) method.\r\nSuggest.I have issue while parsing xml in jaxb, it removing the comment node.For that I have created a method where I am storing the xml tag and path in map and later after parsing xml in jaxb again placing and arranging with proper path for those comments.\r\nStoring in map.\r\nThen placing those comment by creating comment node and using node.insertBefore(createComment, refChild) method.\r\nSuggest. I have issue while parsing xml in jaxb, it removing the comment node.For that I have created a method where I am storing the xml tag and path in map and later after parsing xml in jaxb again placing and arranging with proper path for those comments.\r\nStoring in map.\r\nThen placing those comment by creating comment node and using node.insertBefore(createComment, refChild) method.\r\n\r\n\r\nMy Issue is that, after updating this xml file, it becoming like,\r\n\r\nand commented line placing at 1st position and value at 2nd because of node.insertBefore() method.\r\nCan anyone suggest how to overcome it and place that value in same position like before as soon as possible`**\r\n\r\n    private static void updateComments(final Document document, final Map&lt;String, Comment&gt; commentNodeMap,\r\n          final Map&lt;String, Node&gt; elementNodeMap, final Map&lt;Comment, Integer&gt; commentIntMap) {\r\n        Set&lt;String&gt; keys = new TreeSet&lt;&gt;(new Comparator&lt;String&gt;() {\r\n          @Override\r\n          public int compare(final String s1, final String s2) {\r\n            if (s1.length() != s2.length()) {\r\n              return s1.length() - s2.length();\r\n            }\r\n            String[] split1 = s1.split(Constants.COMMENT_SEPARATOR);\r\n            String[] split2 = s2.split(Constants.COMMENT_SEPARATOR);\r\n            Integer i1 = Integer.parseInt(split1[0]);\r\n            Integer i2 = Integer.parseInt(split2[0]);\r\n            if (((i1 - i2) == 0) &amp;&amp; !split1[1].equals(split2[1])) {\r\n              return split1[1].compareTo(split2[1]);\r\n            }\r\n            return i1 - i2;\r\n          }\r\n        });\r\n        keys.addAll(commentNodeMap.keySet());\r\n        for (String exp : keys) {\r\n          String[] split2 = exp.split(Constants.COMMENT_SEPARATOR);\r\n          Node node = elementNodeMap.get(split2[1]);\r\n          if (node != null) {\r\n            Comment comment = commentNodeMap.get(exp);\r\n            List&lt;Node&gt; updatedNList = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; node.getChildNodes().getLength(); i++) {\r\n              updatedNList.add(node.getChildNodes().item(i));\r\n            }\r\n            Integer integer = commentIntMap.get(comment);\r\n            if (integer != null) {\r\n              Comment createComment = document.createComment(comment.getData());\r\n              updatedNList.add(integer, createComment);\r\n              if ((integer + 1) &lt; updatedNList.size()) {\r\n                Node refChild = updatedNList.get(integer + 1);\r\n                node.insertBefore(createComment, refChild);\r\n              }\r\n              else {\r\n                node.appendChild(createComment);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n`Xml Code before: `\r\n\r\n    &lt;shipments&gt;\r\n          &lt;shipment id=&quot;011&quot;&gt;\r\n            &lt;department&gt;XXXX&lt;!--ProductXXXXX--&gt;&lt;/department&gt;\r\n          &lt;/shipment&gt;   \r\n     &lt;/shipments&gt;\r\n\r\nXml Code After: \r\n\r\n    &lt;shipments&gt;\r\n          &lt;shipment id=&quot;011&quot;&gt;\r\n            &lt;department&gt;&lt;!--ProductXXXXX--&gt;XXXX&lt;/department&gt;\r\n          &lt;/shipment&gt;   \r\n     &lt;/shipments&gt;\r\n\r\n`Thanks in advance`","title":"Get Comment elements inside a element from Xml in Java","body":"<p>**`I have issue while parsing xml in jaxb, it removing the comment node.For that I have created a method where I am storing the xml tag and path in map and later after parsing xml in jaxb again placing and arranging with proper path for those comments.\nStoring in map.\nThen placing those comment by creating comment node and using node.insertBefore(createComment, refChild) method.\nSuggest.I have issue while parsing xml in jaxb, it removing the comment node.For that I have created a method where I am storing the xml tag and path in map and later after parsing xml in jaxb again placing and arranging with proper path for those comments.\nStoring in map.\nThen placing those comment by creating comment node and using node.insertBefore(createComment, refChild) method.\nSuggest. I have issue while parsing xml in jaxb, it removing the comment node.For that I have created a method where I am storing the xml tag and path in map and later after parsing xml in jaxb again placing and arranging with proper path for those comments.\nStoring in map.\nThen placing those comment by creating comment node and using node.insertBefore(createComment, refChild) method.</p>\n<p>My Issue is that, after updating this xml file, it becoming like,</p>\n<p>and commented line placing at 1st position and value at 2nd because of node.insertBefore() method.\nCan anyone suggest how to overcome it and place that value in same position like before as soon as possible`**</p>\n<pre><code>private static void updateComments(final Document document, final Map&lt;String, Comment&gt; commentNodeMap,\n      final Map&lt;String, Node&gt; elementNodeMap, final Map&lt;Comment, Integer&gt; commentIntMap) {\n    Set&lt;String&gt; keys = new TreeSet&lt;&gt;(new Comparator&lt;String&gt;() {\n      @Override\n      public int compare(final String s1, final String s2) {\n        if (s1.length() != s2.length()) {\n          return s1.length() - s2.length();\n        }\n        String[] split1 = s1.split(Constants.COMMENT_SEPARATOR);\n        String[] split2 = s2.split(Constants.COMMENT_SEPARATOR);\n        Integer i1 = Integer.parseInt(split1[0]);\n        Integer i2 = Integer.parseInt(split2[0]);\n        if (((i1 - i2) == 0) &amp;&amp; !split1[1].equals(split2[1])) {\n          return split1[1].compareTo(split2[1]);\n        }\n        return i1 - i2;\n      }\n    });\n    keys.addAll(commentNodeMap.keySet());\n    for (String exp : keys) {\n      String[] split2 = exp.split(Constants.COMMENT_SEPARATOR);\n      Node node = elementNodeMap.get(split2[1]);\n      if (node != null) {\n        Comment comment = commentNodeMap.get(exp);\n        List&lt;Node&gt; updatedNList = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; node.getChildNodes().getLength(); i++) {\n          updatedNList.add(node.getChildNodes().item(i));\n        }\n        Integer integer = commentIntMap.get(comment);\n        if (integer != null) {\n          Comment createComment = document.createComment(comment.getData());\n          updatedNList.add(integer, createComment);\n          if ((integer + 1) &lt; updatedNList.size()) {\n            Node refChild = updatedNList.get(integer + 1);\n            node.insertBefore(createComment, refChild);\n          }\n          else {\n            node.appendChild(createComment);\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n<p><code>Xml Code before: </code></p>\n<pre><code>&lt;shipments&gt;\n      &lt;shipment id=&quot;011&quot;&gt;\n        &lt;department&gt;XXXX&lt;!--ProductXXXXX--&gt;&lt;/department&gt;\n      &lt;/shipment&gt;   \n &lt;/shipments&gt;\n</code></pre>\n<p>Xml Code After:</p>\n<pre><code>&lt;shipments&gt;\n      &lt;shipment id=&quot;011&quot;&gt;\n        &lt;department&gt;&lt;!--ProductXXXXX--&gt;XXXX&lt;/department&gt;\n      &lt;/shipment&gt;   \n &lt;/shipments&gt;\n</code></pre>\n<p><code>Thanks in advance</code></p>\n"},{"tags":["java","logging","logback"],"comments":[{"owner":{"account_id":2083700,"reputation":301,"user_id":1855119,"display_name":"myqyl4"},"score":0,"creation_date":1379092394,"post_id":18791154,"comment_id":27709694,"body_markdown":"Try checking the following. Does the api folder exist under logs? Does  it have the requisite permissions for writing? Does the user under which the app runs have permission to write to the folder? This might be a start","body":"Try checking the following. Does the api folder exist under logs? Does  it have the requisite permissions for writing? Does the user under which the app runs have permission to write to the folder? This might be a start"},{"owner":{"account_id":435234,"reputation":8791,"user_id":821722,"accept_rate":86,"display_name":"thatidiotguy"},"score":0,"creation_date":1379339940,"post_id":18791154,"comment_id":27776478,"body_markdown":"@myqyl4 The permissions issue sounds very promising. I feel like this is probably the solution but will not know until tomorrow when my file logs roll. If you post an answer I will accept it then however.","body":"@myqyl4 The permissions issue sounds very promising. I feel like this is probably the solution but will not know until tomorrow when my file logs roll. If you post an answer I will accept it then however."}],"answers":[{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1507779097,"creation_date":1389598270,"answer_id":21085984,"question_id":18791154,"body_markdown":"I had the similar issue. To fix this issue change the pattern to\r\n    `/usr/share/tomcat6/logs/api/api.%d{yyyy-MM-dd}.%i.gz`.\r\n\r\nYou missed the `%i` in the end.\r\n","title":"Logback RollingFileAppender Not Working","body":"<p>I had the similar issue. To fix this issue change the pattern to\n    <code>/usr/share/tomcat6/logs/api/api.%d{yyyy-MM-dd}.%i.gz</code>.</p>\n\n<p>You missed the <code>%i</code> in the end.</p>\n"},{"tags":[],"owner":{"account_id":2854435,"reputation":2798,"user_id":2853439,"accept_rate":50,"display_name":"Prateek Jain"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1440472100,"creation_date":1414417113,"answer_id":26588848,"question_id":18791154,"body_markdown":"Just remove the file tag from appender. Use something like this,\r\n\r\n    &lt;appender name=&quot;contentDeliveryLogAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n      &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n        &lt;!-- daily rollover --&gt;\r\n        &lt;fileNamePattern&gt;${ICEX_HOME}/logs/content-delivery.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;\r\n          &lt;!-- keep 1 days&#39; worth of history --&gt;\r\n          &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n      &lt;/rollingPolicy&gt;\r\n      &lt;encoder&gt;\r\n    \t&lt;pattern&gt;%d [%thread] %-5level %logger{36} H:${HOSTNAME} - SC:%X{optionalParam} %msg%n&lt;/pattern&gt;\r\n      &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\nThis is working for me as recommended by documentation of logback [here][1]\r\n\r\n\r\n  [1]: http://logback.qos.ch/codes.html#renamingError","title":"Logback RollingFileAppender Not Working","body":"<p>Just remove the file tag from appender. Use something like this,</p>\n\n<pre><code>&lt;appender name=\"contentDeliveryLogAppender\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n  &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n    &lt;!-- daily rollover --&gt;\n    &lt;fileNamePattern&gt;${ICEX_HOME}/logs/content-delivery.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;\n      &lt;!-- keep 1 days' worth of history --&gt;\n      &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n  &lt;/rollingPolicy&gt;\n  &lt;encoder&gt;\n    &lt;pattern&gt;%d [%thread] %-5level %logger{36} H:${HOSTNAME} - SC:%X{optionalParam} %msg%n&lt;/pattern&gt;\n  &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p>This is working for me as recommended by documentation of logback <a href=\"http://logback.qos.ch/codes.html#renamingError\" rel=\"noreferrer\">here</a></p>\n"}],"owner":{"account_id":435234,"reputation":8791,"user_id":821722,"accept_rate":86,"display_name":"thatidiotguy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18784,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1634041346,"creation_date":1379090121,"question_id":18791154,"body_markdown":"I have the following `logback.xml` file:\r\n\r\n    &lt;configuration&gt;\r\n    \r\n    \t&lt;!--Daily rolling file appender --&gt;\r\n    \t&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;File&gt;/usr/share/tomcat6/logs/api.log&lt;/File&gt;\r\n    \t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n    \t\t\t&lt;FileNamePattern&gt;/usr/share/tomcat6/logs/api/api.%d{yyyy-MM-dd}.gz&lt;/FileNamePattern&gt;\r\n    \t\t&lt;/rollingPolicy&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t  &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t  &lt;root level=&quot;debug&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    \t  &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nMy log file is working just fine. The folling file aspect however is not. Instead of gzipping the file and moving it into the api folder, it is putting it in the same directory and renaming it to \r\n\r\n`api.log(string of numbers).tmp`\r\n\r\ne.g.\r\n\r\n`api.log849916939395200.tmp`\r\n\r\nDoes anyone know why this is happening?","title":"Logback RollingFileAppender Not Working","body":"<p>I have the following <code>logback.xml</code> file:</p>\n\n<pre><code>&lt;configuration&gt;\n\n    &lt;!--Daily rolling file appender --&gt;\n    &lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;File&gt;/usr/share/tomcat6/logs/api.log&lt;/File&gt;\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n            &lt;FileNamePattern&gt;/usr/share/tomcat6/logs/api/api.%d{yyyy-MM-dd}.gz&lt;/FileNamePattern&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n          &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n      &lt;root level=\"debug\"&gt;\n        &lt;appender-ref ref=\"FILE\" /&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n      &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>My log file is working just fine. The folling file aspect however is not. Instead of gzipping the file and moving it into the api folder, it is putting it in the same directory and renaming it to </p>\n\n<p><code>api.log(string of numbers).tmp</code></p>\n\n<p>e.g.</p>\n\n<p><code>api.log849916939395200.tmp</code></p>\n\n<p>Does anyone know why this is happening?</p>\n"},{"tags":["java","android","play-billing-library"],"answers":[{"tags":[],"owner":{"account_id":9500469,"reputation":328,"user_id":7061796,"display_name":"Umer Khalid"},"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1592600962,"creation_date":1592600962,"answer_id":62478578,"question_id":62476717,"body_markdown":"Just downgrade it to &#39;com.android.billingclient:billing:2.0.1&#39; for the time being.","title":"Since setOldSku(String oldSku) is depreciated","body":"<p>Just downgrade it to 'com.android.billingclient:billing:2.0.1' for the time being.</p>\n"},{"tags":[],"owner":{"account_id":12790330,"reputation":2710,"user_id":9255057,"display_name":"Hardik Hirpara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634041126,"creation_date":1634040540,"answer_id":69540286,"question_id":62476717,"body_markdown":"Replace this method with deprecated and use **ProrationMode** as per your requirements.\r\n\r\n[Learn more about ProrationMode][1]\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    private fun updatePurchase(skuDetails: SkuDetails) {\r\n       val updateParams = BillingFlowParams.SubscriptionUpdateParams.newBuilder()\r\n           .setOldSkuPurchaseToken(&quot;oldPurchaseToken&quot;)\r\n           .setReplaceSkusProrationMode(BillingFlowParams.ProrationMode.IMMEDIATE_AND_CHARGE_PRORATED_PRICE)\r\n           .build()\r\n     \r\n       val billingFlowParams = BillingFlowParams.newBuilder()\r\n           .setSkuDetails(skuDetails)\r\n           .setSubscriptionUpdateParams(updateParams)\r\n           .build()\r\n     \r\n       billingClient.launchBillingFlow(this, billingFlowParams)\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nbelow method for newer billing lib\r\n\r\n\r\n  [1]: https://developer.android.com/reference/com/android/billingclient/api/BillingFlowParams.ProrationMode#IMMEDIATE_WITHOUT_PRORATION","title":"Since setOldSku(String oldSku) is depreciated","body":"<p>Replace this method with deprecated and use <strong>ProrationMode</strong> as per your requirements.</p>\n<p><a href=\"https://developer.android.com/reference/com/android/billingclient/api/BillingFlowParams.ProrationMode#IMMEDIATE_WITHOUT_PRORATION\" rel=\"nofollow noreferrer\">Learn more about ProrationMode</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>private fun updatePurchase(skuDetails: SkuDetails) {\n   val updateParams = BillingFlowParams.SubscriptionUpdateParams.newBuilder()\n       .setOldSkuPurchaseToken(\"oldPurchaseToken\")\n       .setReplaceSkusProrationMode(BillingFlowParams.ProrationMode.IMMEDIATE_AND_CHARGE_PRORATED_PRICE)\n       .build()\n \n   val billingFlowParams = BillingFlowParams.newBuilder()\n       .setSkuDetails(skuDetails)\n       .setSubscriptionUpdateParams(updateParams)\n       .build()\n \n   billingClient.launchBillingFlow(this, billingFlowParams)\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>below method for newer billing lib</p>\n"}],"owner":{"account_id":9500469,"reputation":328,"user_id":7061796,"display_name":"Umer Khalid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1634041126,"creation_date":1592592302,"question_id":62476717,"body_markdown":"Since  setOldSku(String oldSku) is depreciated, how to get the purchasetoken and pass it in the new method of setOldSk?\r\n\r\n     public void initiatePurchaseFlow(final SkuDetails skuDetails, final String oldSkuId) {\r\n        Runnable purchaseFlowRequest = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Log.d(TAG, &quot; SKU Details: &quot; + skuDetails.getTitle());\r\n                BillingFlowParams purchaseParams = BillingFlowParams.newBuilder()\r\n                        .setSkuDetails(skuDetails).setOldSku(oldSkuId, myPurchaseToken).build();\r\n                mBillingClient.launchBillingFlow(mActivity);\r\n            }\r\n        };\r\n\r\n        executeServiceRequest(purchaseFlowRequest);\r\n    }","title":"Since setOldSku(String oldSku) is depreciated","body":"<p>Since  setOldSku(String oldSku) is depreciated, how to get the purchasetoken and pass it in the new method of setOldSk?</p>\n\n<pre><code> public void initiatePurchaseFlow(final SkuDetails skuDetails, final String oldSkuId) {\n    Runnable purchaseFlowRequest = new Runnable() {\n        @Override\n        public void run() {\n            Log.d(TAG, \" SKU Details: \" + skuDetails.getTitle());\n            BillingFlowParams purchaseParams = BillingFlowParams.newBuilder()\n                    .setSkuDetails(skuDetails).setOldSku(oldSkuId, myPurchaseToken).build();\n            mBillingClient.launchBillingFlow(mActivity);\n        }\n    };\n\n    executeServiceRequest(purchaseFlowRequest);\n}\n</code></pre>\n"},{"tags":["java","logging","logback"],"comments":[{"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"score":0,"creation_date":1491389369,"post_id":43228923,"comment_id":73527730,"body_markdown":"Where log config file ?","body":"Where log config file ?"},{"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"score":0,"creation_date":1491389545,"post_id":43228923,"comment_id":73527879,"body_markdown":"It&#39;s in project classpath. Getting picked up, i verified by changing encoder pattern etc","body":"It&#39;s in project classpath. Getting picked up, i verified by changing encoder pattern etc"}],"answers":[{"tags":[],"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1491394216,"creation_date":1491390335,"answer_id":43229389,"question_id":43228923,"body_markdown":"You need to replace M to MB and correct fileName pattern\r\nThe example below works for me:\r\n\r\n    &lt;appender name=&quot;TIME_BASED_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;C:\\\\Users\\\\ADMIN\\\\Documents\\\\NetBeansProjects\\\\timelog.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;!-- daily rollover --&gt;\r\n            &lt;fileNamePattern&gt;C:\\\\Users\\\\admin\\\\Documents\\\\NetBeansProjects\\\\timelog.%d{yyyy-MM-dd-HH-mm}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n            &lt;maxFileSize&gt;1MB&lt;/maxFileSize&gt;\r\n            &lt;totalSizeCap&gt;10MB&lt;/totalSizeCap&gt;\r\n\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder &gt;\r\n            &lt;pattern&gt;%relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;","title":"Logback rolling file appender not working","body":"<p>You need to replace M to MB and correct fileName pattern\nThe example below works for me:</p>\n\n<pre><code>&lt;appender name=\"TIME_BASED_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;file&gt;C:\\\\Users\\\\ADMIN\\\\Documents\\\\NetBeansProjects\\\\timelog.log&lt;/file&gt;\n    &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"&gt;\n        &lt;!-- daily rollover --&gt;\n        &lt;fileNamePattern&gt;C:\\\\Users\\\\admin\\\\Documents\\\\NetBeansProjects\\\\timelog.%d{yyyy-MM-dd-HH-mm}.%i.log&lt;/fileNamePattern&gt;\n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n        &lt;maxFileSize&gt;1MB&lt;/maxFileSize&gt;\n        &lt;totalSizeCap&gt;10MB&lt;/totalSizeCap&gt;\n\n    &lt;/rollingPolicy&gt;\n    &lt;encoder &gt;\n        &lt;pattern&gt;%relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17044087,"reputation":77,"user_id":12331329,"display_name":"Rohan Jain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634041109,"creation_date":1634041109,"answer_id":69540418,"question_id":43228923,"body_markdown":"Maybe you have specified the \\&lt;file\\&gt; parameter along with \\&lt;fileNamePattern\\&gt;\r\n\r\nsee &quot;file property must be left unset/blank&quot; in this link http://logback.qos.ch/codes.html#renamingError","title":"Logback rolling file appender not working","body":"<p>Maybe you have specified the &lt;file&gt; parameter along with &lt;fileNamePattern&gt;</p>\n<p>see &quot;file property must be left unset/blank&quot; in this link <a href=\"http://logback.qos.ch/codes.html#renamingError\" rel=\"nofollow noreferrer\">http://logback.qos.ch/codes.html#renamingError</a></p>\n"}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7098,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43229389,"answer_count":2,"score":5,"last_activity_date":1634041109,"creation_date":1491389100,"question_id":43228923,"body_markdown":"Below is my logback configuration\r\n\r\n    &lt;appender name=&quot;TIME_BASED_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;C:\\\\Users\\\\ADMIN\\\\Documents\\\\NetBeansProjects\\\\timelog.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;      \r\n            &lt;!-- daily rollover --&gt;\r\n            &lt;fileNamePattern&gt;C:\\\\Users\\\\ADMIN\\\\Documents\\\\NetBeansProjects\\\\timelog.%d{yyyy-MM-dd-HH-mm}.log&lt;/fileNamePattern&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n            &lt;maxFileSize&gt;1M&lt;/maxFileSize&gt;\r\n            &lt;totalSizeCap&gt;10M&lt;/totalSizeCap&gt;\r\n    \r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt; \r\n    \r\n      &lt;logger name=&quot;timeBased&quot; level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;TIME_BASED_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;consoleAppender&quot;/&gt;\r\n      &lt;/logger&gt; \r\n\r\nCode:\r\n\r\n    public class Test {\r\n        public static void main(String [] args) {\r\n            Logger logger = (Logger)LoggerFactory.getLogger(&quot;timeBased&quot;);\r\n            logger.info(&quot;info&quot;);\r\n        }\r\n    }\r\n\r\nThis code only prints on console, no file is created in specified directory. Folder has all write permissions. What is going wrong? Logback doesn&#39;t show any errors also. Please help. I am using windows7.","title":"Logback rolling file appender not working","body":"<p>Below is my logback configuration</p>\n\n<pre><code>&lt;appender name=\"TIME_BASED_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;file&gt;C:\\\\Users\\\\ADMIN\\\\Documents\\\\NetBeansProjects\\\\timelog.log&lt;/file&gt;\n    &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"&gt;      \n        &lt;!-- daily rollover --&gt;\n        &lt;fileNamePattern&gt;C:\\\\Users\\\\ADMIN\\\\Documents\\\\NetBeansProjects\\\\timelog.%d{yyyy-MM-dd-HH-mm}.log&lt;/fileNamePattern&gt;\n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n        &lt;maxFileSize&gt;1M&lt;/maxFileSize&gt;\n        &lt;totalSizeCap&gt;10M&lt;/totalSizeCap&gt;\n\n    &lt;/rollingPolicy&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt; \n\n  &lt;logger name=\"timeBased\" level=\"INFO\"&gt;\n    &lt;appender-ref ref=\"TIME_BASED_FILE\"/&gt;\n    &lt;appender-ref ref=\"consoleAppender\"/&gt;\n  &lt;/logger&gt; \n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>public class Test {\n    public static void main(String [] args) {\n        Logger logger = (Logger)LoggerFactory.getLogger(\"timeBased\");\n        logger.info(\"info\");\n    }\n}\n</code></pre>\n\n<p>This code only prints on console, no file is created in specified directory. Folder has all write permissions. What is going wrong? Logback doesn't show any errors also. Please help. I am using windows7.</p>\n"},{"tags":["java","java-native-interface","unsatisfiedlinkerror","cyclic-dependency"],"answers":[{"tags":[],"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364298355,"creation_date":1364298355,"answer_id":15636301,"question_id":15635945,"body_markdown":"On Windows, the DLL loader will follow the PATH to resolve external references. You can add the directory of myDLLB.dll to PATH globally (through&#160;System properties-&gt; advanced), or on command line which launches your Java app (set or xset), or from your Java code.","title":"JAVA/JNI - Load native DLL with circular dependency","body":"<p>On Windows, the DLL loader will follow the PATH to resolve external references. You can add the directory of myDLLB.dll to PATH globally (through System properties-> advanced), or on command line which launches your Java app (set or xset), or from your Java code.</p>\n"}],"owner":{"account_id":2546627,"reputation":1,"user_id":2211309,"display_name":"jpsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634041005,"creation_date":1364297406,"question_id":15635945,"body_markdown":"I try to load C++ code in my Java project with JNI. I have many several DLL to load, and unfortunately there is **a cyclic dependency between two of them**: dll A needs dll B which in turn needs dll A!\r\nI know it is a bad programming design to have circular dependencies between DLL, but in my project the C++ code is a black box to me.\r\n\r\n**Is there any way to load DLL with a cyclic dependency**?\r\n\r\nMy code is quite simple:\r\n\r\n    System.loadLibrary(&quot;myDLLA&quot;); // needs dll B to be loaded!\r\n    System.loadLibrary(&quot;myDLLB&quot;); // needs dll A to be loaded!\r\n    System.loadLibrary(&quot;myDLLC&quot;); // needs dll B\r\n    // then call my native method implemented in dll C\r\n\r\nThe Java library path is OK and contains the two DLL (it is given as VM argument, I dumped it and checked it at run time too).\r\nThe cyclic dependency was confirmed by Dependency Walker.\r\n\r\nThe error is :\r\n\r\n    java.lang.UnsatisfiedLinkError: E:\\...\\myDLLA.dll: Can&#39;t find dependent libraries\r\n\tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n\tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1928)\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1854)\r\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:845)\r\n\tat java.lang.System.loadLibrary(System.java:1084)\r\n\r\nMy project is developed in Eclipse (Helios) as a dynamic web project deployed on a tomcat 6 server.","title":"JAVA/JNI - Load native DLL with circular dependency","body":"<p>I try to load C++ code in my Java project with JNI. I have many several DLL to load, and unfortunately there is <strong>a cyclic dependency between two of them</strong>: dll A needs dll B which in turn needs dll A!\nI know it is a bad programming design to have circular dependencies between DLL, but in my project the C++ code is a black box to me.</p>\n<p><strong>Is there any way to load DLL with a cyclic dependency</strong>?</p>\n<p>My code is quite simple:</p>\n<pre><code>System.loadLibrary(&quot;myDLLA&quot;); // needs dll B to be loaded!\nSystem.loadLibrary(&quot;myDLLB&quot;); // needs dll A to be loaded!\nSystem.loadLibrary(&quot;myDLLC&quot;); // needs dll B\n// then call my native method implemented in dll C\n</code></pre>\n<p>The Java library path is OK and contains the two DLL (it is given as VM argument, I dumped it and checked it at run time too).\nThe cyclic dependency was confirmed by Dependency Walker.</p>\n<p>The error is :</p>\n<pre><code>java.lang.UnsatisfiedLinkError: E:\\...\\myDLLA.dll: Can't find dependent libraries\nat java.lang.ClassLoader$NativeLibrary.load(Native Method)\nat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1928)\nat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1854)\nat java.lang.Runtime.loadLibrary0(Runtime.java:845)\nat java.lang.System.loadLibrary(System.java:1084)\n</code></pre>\n<p>My project is developed in Eclipse (Helios) as a dynamic web project deployed on a tomcat 6 server.</p>\n"},{"tags":["java","scheduled-tasks","schedule","spring-scheduled","shedlock"],"owner":{"account_id":15449155,"reputation":696,"user_id":11145139,"display_name":"hasankzl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634040914,"creation_date":1634040473,"question_id":69540272,"body_markdown":"I&#39;m using shedlock to scheduling same job on node1 and node2.It is working fine but I want to unlock when there is a error in scheduling task.\r\n\r\n  Here is my example:\r\n\r\n        @Scheduled(cron = &quot;0 49 14 * * *&quot;)\r\n        @SchedulerLock(name = &quot;unlock-when-error&quot;, lockAtMostFor = &quot;14m&quot;,lockAtLeastFor=&quot;4m&quot;)\r\n        public void deviceMasterJob() {\r\n        try{\r\n            .... // do something\r\n         }catch(Exception e){\r\n         ... // do something to unlock \r\n         }\r\n         ... // if there is no exception keep with lock\r\n\r\n     }\r\n\r\nIs there any way to unlock manually? how can I make this work?\r\n\r\nThanks for helping.","title":"unlock when there is an exception with shedlock","body":"<p>I'm using shedlock to scheduling same job on node1 and node2.It is working fine but I want to unlock when there is a error in scheduling task.</p>\n<p>Here is my example:</p>\n<pre><code>    @Scheduled(cron = &quot;0 49 14 * * *&quot;)\n    @SchedulerLock(name = &quot;unlock-when-error&quot;, lockAtMostFor = &quot;14m&quot;,lockAtLeastFor=&quot;4m&quot;)\n    public void deviceMasterJob() {\n    try{\n        .... // do something\n     }catch(Exception e){\n     ... // do something to unlock \n     }\n     ... // if there is no exception keep with lock\n\n }\n</code></pre>\n<p>Is there any way to unlock manually? how can I make this work?</p>\n<p>Thanks for helping.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","mariadb"],"comments":[{"owner":{"account_id":4919995,"reputation":129,"user_id":3962816,"accept_rate":75,"display_name":"gaurav kumar"},"score":1,"creation_date":1656960350,"post_id":69540366,"comment_id":128692453,"body_markdown":"Were you able to find solution, even i am able to run without docker. But when i am running container it is throwing network connection error","body":"Were you able to find solution, even i am able to run without docker. But when i am running container it is throwing network connection error"}],"owner":{"account_id":23011970,"reputation":41,"user_id":17134377,"display_name":"Alexander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1634040898,"creation_date":1634040898,"question_id":69540366,"body_markdown":"Issue detail:\r\n\r\nI have a docker-compose file with 1 MariaDb database and 1 simple SpringBoot application which connects to the database.\r\n\r\nThe docker-compose.yml file:\r\n```\r\nversion: &#39;3.9&#39;\r\nvolumes:\r\n  out:\r\n    driver: local\r\n\r\nservices:\r\n\r\n  users:\r\n    image: &lt;MY_HOST&gt;/users:0.0.1-SNAPSHOT\r\n    container_name: users\r\n    environment:\r\n      spring.datasource.url: jdbc:mariadb://users-db:3306/users\r\n    ports:\r\n      - &quot;9003:9003&quot;\r\n    depends_on:\r\n      - users-db\r\n    networks:\r\n      - my-network\r\n\r\n  users-db:\r\n    image: mariadb:10.6.4\r\n    restart: always\r\n    container_name: users-db\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: admin\r\n      MYSQL_DATABASE: users\r\n      MYSQL_USER: testuser\r\n      MYSQL_PASSWORD: test\r\n    ports:\r\n      - &quot;3306:3306&quot;\r\n    command: --default-authentication-plugin=mysql_native_password\r\n    networks:\r\n      - my-network\r\n    volumes:\r\n      - ./out/users_db:/var/lib/mysql\r\n\r\nnetworks:\r\n  my-network:\r\n    driver: bridge\r\n```\r\n\r\nIn my SpringBoot application.properties file (users server name in docker-compose.yml) i have the following content:\r\n```\r\nspring.datasource.url=jdbc:mariadb://localhost:3306/users\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.datasource.username=testuser\r\nspring.datasource.password=test\r\nspring.jpa.hibernate.ddl-auto=validate\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\nspring.jpa.hibernate.naming.implicit-strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\nlogging.level.hibernate=trace\r\nspring.datasource.hikari.data-source-properties.useUnicode=true\r\nspring.datasource.hikari.data-source-properties.characterEncoding=UTF-8\r\n```\r\n\r\nThe environment variable is overriding the default value of the mariadb URL inside the application.properties file.\r\n\r\nActually, when only the database is running and i use the localhost property inside my springboot application, i am able to connect to it. When i dockerize my springboot application and i try to use the service-name users-db it is not able anymore. \r\n\r\nHere&#39;s the output from docker:\r\n\r\n```\r\njava.sql.SQLNonTransientConnectionException: Could not connect to address=(host=users-db)(port=3306)(type=master) : Socket fail to connect to host:users-db, port:3306. Connection refused\r\n\r\nat org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.createException(ExceptionFactory.java:73) ~[mariadb-java-client-2.7.4.jar!/:na]\r\n\r\nat org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.create(ExceptionFactory.java:197) ~[mariadb-java-client-2.7.4.jar!/:na]\r\n\r\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1394) ~[mariadb-java-client-2.7.4.jar!/:na]\r\n\r\nat org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:635) ~[mariadb-java-client-2.7.4.jar!/:na]\r\n\r\nat org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:150) ~[mariadb-java-client-2.7.4.jar!/:na]\r\n\r\nat org.mariadb.jdbc.Driver.connect(Driver.java:89) ~[mariadb-java-client-2.7.4.jar!/:na]\r\n```\r\n\r\nDoes anybody have an idea about what the issue is?","title":"Docker application not able to connect to database","body":"<p>Issue detail:</p>\n<p>I have a docker-compose file with 1 MariaDb database and 1 simple SpringBoot application which connects to the database.</p>\n<p>The docker-compose.yml file:</p>\n<pre><code>version: '3.9'\nvolumes:\n  out:\n    driver: local\n\nservices:\n\n  users:\n    image: &lt;MY_HOST&gt;/users:0.0.1-SNAPSHOT\n    container_name: users\n    environment:\n      spring.datasource.url: jdbc:mariadb://users-db:3306/users\n    ports:\n      - &quot;9003:9003&quot;\n    depends_on:\n      - users-db\n    networks:\n      - my-network\n\n  users-db:\n    image: mariadb:10.6.4\n    restart: always\n    container_name: users-db\n    environment:\n      MYSQL_ROOT_PASSWORD: admin\n      MYSQL_DATABASE: users\n      MYSQL_USER: testuser\n      MYSQL_PASSWORD: test\n    ports:\n      - &quot;3306:3306&quot;\n    command: --default-authentication-plugin=mysql_native_password\n    networks:\n      - my-network\n    volumes:\n      - ./out/users_db:/var/lib/mysql\n\nnetworks:\n  my-network:\n    driver: bridge\n</code></pre>\n<p>In my SpringBoot application.properties file (users server name in docker-compose.yml) i have the following content:</p>\n<pre><code>spring.datasource.url=jdbc:mariadb://localhost:3306/users\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.datasource.username=testuser\nspring.datasource.password=test\nspring.jpa.hibernate.ddl-auto=validate\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.jpa.hibernate.naming.implicit-strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\nlogging.level.hibernate=trace\nspring.datasource.hikari.data-source-properties.useUnicode=true\nspring.datasource.hikari.data-source-properties.characterEncoding=UTF-8\n</code></pre>\n<p>The environment variable is overriding the default value of the mariadb URL inside the application.properties file.</p>\n<p>Actually, when only the database is running and i use the localhost property inside my springboot application, i am able to connect to it. When i dockerize my springboot application and i try to use the service-name users-db it is not able anymore.</p>\n<p>Here's the output from docker:</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Could not connect to address=(host=users-db)(port=3306)(type=master) : Socket fail to connect to host:users-db, port:3306. Connection refused\n\nat org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.createException(ExceptionFactory.java:73) ~[mariadb-java-client-2.7.4.jar!/:na]\n\nat org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.create(ExceptionFactory.java:197) ~[mariadb-java-client-2.7.4.jar!/:na]\n\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1394) ~[mariadb-java-client-2.7.4.jar!/:na]\n\nat org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:635) ~[mariadb-java-client-2.7.4.jar!/:na]\n\nat org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:150) ~[mariadb-java-client-2.7.4.jar!/:na]\n\nat org.mariadb.jdbc.Driver.connect(Driver.java:89) ~[mariadb-java-client-2.7.4.jar!/:na]\n</code></pre>\n<p>Does anybody have an idea about what the issue is?</p>\n"},{"tags":["java","tree","cyclic-reference"],"answers":[{"tags":[],"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1365776477,"creation_date":1365776091,"answer_id":15973662,"question_id":15973475,"body_markdown":"`Foo` needs a `print` method that prints its contents and then calls the `print` method of the `Foo` it&#39;s pointing to.  `Print` takes a [HashSet](http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html) that contains all `Foo` objects that have been traversed.  If `next` is in `visited` then it&#39;s part of a cycle and you don&#39;t call its `print` method.\r\n\r\n    class Foo {\r\n        Foo next;\r\n        void print(HashSet&lt;Foo&gt; visited) {\r\n            System.out.println(&quot;this Foo&#39;s ID or whatever it is you&#39;re printing&quot;);\r\n            visited.add(this);\r\n            if(next != null &amp;&amp; !visited.contains(next)) {\r\n                next.print(visited);\r\n            }\r\n        }\r\n    }\r\n\r\nYou may also want to pass in an `int` parameter that determines the level of indentation - if `indent` equals 4 then print 4 spaces before the `System.out.println`, and increment `indent` by 2 or 4 or whatever when you call `print` on `next`.","title":"How to form a tree from data set with cyclic relations?","body":"<p><code>Foo</code> needs a <code>print</code> method that prints its contents and then calls the <code>print</code> method of the <code>Foo</code> it's pointing to.  <code>Print</code> takes a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html\" rel=\"nofollow\">HashSet</a> that contains all <code>Foo</code> objects that have been traversed.  If <code>next</code> is in <code>visited</code> then it's part of a cycle and you don't call its <code>print</code> method.</p>\n\n<pre><code>class Foo {\n    Foo next;\n    void print(HashSet&lt;Foo&gt; visited) {\n        System.out.println(\"this Foo's ID or whatever it is you're printing\");\n        visited.add(this);\n        if(next != null &amp;&amp; !visited.contains(next)) {\n            next.print(visited);\n        }\n    }\n}\n</code></pre>\n\n<p>You may also want to pass in an <code>int</code> parameter that determines the level of indentation - if <code>indent</code> equals 4 then print 4 spaces before the <code>System.out.println</code>, and increment <code>indent</code> by 2 or 4 or whatever when you call <code>print</code> on <code>next</code>.</p>\n"}],"owner":{"account_id":1951950,"reputation":5475,"user_id":1755847,"accept_rate":76,"display_name":"manabreak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15973662,"answer_count":1,"score":0,"last_activity_date":1634040839,"creation_date":1365775612,"question_id":15973475,"body_markdown":"I have a class like this:\r\n\r\n    class Foo {\r\n        public String name = &quot;&quot;;\r\n        public ArrayList&lt;Foo&gt; children = new ArrayList&lt;Foo&gt;();\r\n    }\r\n\r\nNow, I have about two thousand of these &#39;Foo&#39; objects stored in ArrayList, and they are related to each other as you can see from the snippet above. Now, these relations may be cyclic: A may have a child B, which may have child C, which may have child A. What I want to do is to print out a tree of these relations while ignoring the cyclic relations, like this:\r\n\r\n    ObjA\r\n      ObjB\r\n        ObjC\r\n    ObjD\r\n      ObjB\r\n        ObjA\r\n\r\nHow can I do this? It doesn&#39;t have to be fast or anything, this tree would be mainly for ensuring the results of my program.","title":"How to form a tree from data set with cyclic relations?","body":"<p>I have a class like this:</p>\n\n<pre><code>class Foo {\n    public String name = \"\";\n    public ArrayList&lt;Foo&gt; children = new ArrayList&lt;Foo&gt;();\n}\n</code></pre>\n\n<p>Now, I have about two thousand of these 'Foo' objects stored in ArrayList, and they are related to each other as you can see from the snippet above. Now, these relations may be cyclic: A may have a child B, which may have child C, which may have child A. What I want to do is to print out a tree of these relations while ignoring the cyclic relations, like this:</p>\n\n<pre><code>ObjA\n  ObjB\n    ObjC\nObjD\n  ObjB\n    ObjA\n</code></pre>\n\n<p>How can I do this? It doesn't have to be fast or anything, this tree would be mainly for ensuring the results of my program.</p>\n"},{"tags":["java","sonarqube","cyclic-reference"],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1368509056,"creation_date":1368509056,"answer_id":16535720,"question_id":16535479,"body_markdown":"Every absolute -- except this one ;) -- is going to be wrong some of the time. So, is every cyclic reference bad? No. You have to use your judgement.\r\n\r\nBut if you do introduce a cyclic dependency, it&#39;s worth asking if you really need it, and why. The tl;dr is that more often than not, you may find that breaking the cycle can improve your modularity, and in particular your ability to test components separately.\r\n\r\nTo use your example, does a view really need a `getApplication()`, which presumably returns a relatively &quot;heavy&quot; object (ie, one that itself needs a database, network, etc etc)? _Maybe_... but maybe not. If what you really need from that `getApplication` is something with a few callbacks (such as when a user initiates some action), then it could be useful to create an interface in some common package for that callback. So, rather than:\r\n\r\n    com.foo.app.Application\r\n    com.foo.view.View\r\n        Application getApplication()\r\n\r\nYou&#39;d have:\r\n\r\n    com.foo.common.Callback // maybe just a Callable, Runnable, etc?\r\n    com.foo.app.Application\r\n        provides a Callback for some action foo\r\n    com.foo.view.View\r\n        Callback getFooCallback()\r\n\r\nThe question you should be asking is: what does that give me? It could be that you have to stub out so much that it doesn&#39;t give you much -- though that may suggest you can break apart your classes some. But it could be that it actually makes it easier to test your view, because now your unit test can (1) test the view without spinning up a whole application, and (b) provide a &quot;dummy&quot; callback that does something like saving a string that describes the action, and then your unit test asserts that it saved the right string.","title":"Is every cyclic references between Java packages bad?","body":"<p>Every absolute -- except this one ;) -- is going to be wrong some of the time. So, is every cyclic reference bad? No. You have to use your judgement.</p>\n\n<p>But if you do introduce a cyclic dependency, it's worth asking if you really need it, and why. The tl;dr is that more often than not, you may find that breaking the cycle can improve your modularity, and in particular your ability to test components separately.</p>\n\n<p>To use your example, does a view really need a <code>getApplication()</code>, which presumably returns a relatively \"heavy\" object (ie, one that itself needs a database, network, etc etc)? <em>Maybe</em>... but maybe not. If what you really need from that <code>getApplication</code> is something with a few callbacks (such as when a user initiates some action), then it could be useful to create an interface in some common package for that callback. So, rather than:</p>\n\n<pre><code>com.foo.app.Application\ncom.foo.view.View\n    Application getApplication()\n</code></pre>\n\n<p>You'd have:</p>\n\n<pre><code>com.foo.common.Callback // maybe just a Callable, Runnable, etc?\ncom.foo.app.Application\n    provides a Callback for some action foo\ncom.foo.view.View\n    Callback getFooCallback()\n</code></pre>\n\n<p>The question you should be asking is: what does that give me? It could be that you have to stub out so much that it doesn't give you much -- though that may suggest you can break apart your classes some. But it could be that it actually makes it easier to test your view, because now your unit test can (1) test the view without spinning up a whole application, and (b) provide a \"dummy\" callback that does something like saving a string that describes the action, and then your unit test asserts that it saved the right string.</p>\n"},{"tags":[],"owner":{"account_id":182394,"reputation":2850,"user_id":417065,"display_name":"Freddy - SonarSource Team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369560067,"creation_date":1369560067,"answer_id":16757850,"question_id":16535479,"body_markdown":"And indeed there is an open JIRA ticket to prevent considering a cycle between father/child packages as a quality flaw : http://jira.codehaus.org/browse/SONAR-3452","title":"Is every cyclic references between Java packages bad?","body":"<p>And indeed there is an open JIRA ticket to prevent considering a cycle between father/child packages as a quality flaw : <a href=\"http://jira.codehaus.org/browse/SONAR-3452\" rel=\"nofollow\">http://jira.codehaus.org/browse/SONAR-3452</a></p>\n"}],"owner":{"account_id":2442477,"reputation":302,"user_id":2130575,"display_name":"mysticfall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2566,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"closed_date":1634086265,"accepted_answer_id":16535720,"answer_count":2,"score":6,"last_activity_date":1634040735,"creation_date":1368507823,"question_id":16535479,"body_markdown":"I&#39;ve been using Sonar code quality management platform for some time, and for the most cases I find it very helpful in revealing hidden design flaws of my code base.\r\n\r\nHowever, there&#39;s one rule that gives me more annoyance than help and that is its check for *&#39;cyclic package reference&#39;* violations.\r\n\r\nI guess I fully understand where such a dependency between packages is a bad thing. For example, in a typical 3-tier presentation/service/persistence layered design, it&#39;s almost always a bad idea to let the database handling code have a reference back to UI related classes. I have no problem with calling it a *&#39;violation&#39;*.\r\n\r\nBut let&#39;s consider other cases, i.e. like designing an IDE-like application. Say, we have a main package which contains an `Application` interface, which defines `List&lt;View&gt; Application.getViews()` method to reference application&#39;s views.\r\n\r\nHowever, when the `View` interface has an `Application getApplication()` method to refer back to its parent application, which I believe is a quite common design, it will introduce a cyclic reference, provided each of the interfaces are separated in `com.myapp.ui`, and `com.myapp.ui.view` respectively.\r\n\r\nOf course, you can just put the `View` interface into the `com.myapp.ui` to break the cycle. But when you have various other view related APIs in `com.myapp.ui.view`, many of them another abstract APIs like `AbstractView`, `ContentView`, `AbstractContentView`, etc. I wonder if it&#39;s more advisable to keep them in separate packages for a management purpose.\r\n\r\nAnd consider the said application has many other similar cases like `com.myapp.ui.action`, `com.myapp.ui.perspective`, etc. which would really make `com.myapp.ui` package crowded if we are to put them all in there.\r\n\r\nSo, what approach do you suggest to handle such a situation? Are really every cyclic package references a bad thing? Or if I have to live with them, how do you configure Sonar to check only real, problematic cycles?","title":"Is every cyclic references between Java packages bad?","body":"<p>I've been using Sonar code quality management platform for some time, and for the most cases I find it very helpful in revealing hidden design flaws of my code base.</p>\n<p>However, there's one rule that gives me more annoyance than help and that is its check for <em>'cyclic package reference'</em> violations.</p>\n<p>I guess I fully understand where such a dependency between packages is a bad thing. For example, in a typical 3-tier presentation/service/persistence layered design, it's almost always a bad idea to let the database handling code have a reference back to UI related classes. I have no problem with calling it a <em>'violation'</em>.</p>\n<p>But let's consider other cases, i.e. like designing an IDE-like application. Say, we have a main package which contains an <code>Application</code> interface, which defines <code>List&lt;View&gt; Application.getViews()</code> method to reference application's views.</p>\n<p>However, when the <code>View</code> interface has an <code>Application getApplication()</code> method to refer back to its parent application, which I believe is a quite common design, it will introduce a cyclic reference, provided each of the interfaces are separated in <code>com.myapp.ui</code>, and <code>com.myapp.ui.view</code> respectively.</p>\n<p>Of course, you can just put the <code>View</code> interface into the <code>com.myapp.ui</code> to break the cycle. But when you have various other view related APIs in <code>com.myapp.ui.view</code>, many of them another abstract APIs like <code>AbstractView</code>, <code>ContentView</code>, <code>AbstractContentView</code>, etc. I wonder if it's more advisable to keep them in separate packages for a management purpose.</p>\n<p>And consider the said application has many other similar cases like <code>com.myapp.ui.action</code>, <code>com.myapp.ui.perspective</code>, etc. which would really make <code>com.myapp.ui</code> package crowded if we are to put them all in there.</p>\n<p>So, what approach do you suggest to handle such a situation? Are really every cyclic package references a bad thing? Or if I have to live with them, how do you configure Sonar to check only real, problematic cycles?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1544428378,"creation_date":1544428378,"answer_id":53701491,"question_id":53700913,"body_markdown":"Use `count` to limit the selection to 1\r\n\r\nSomething like:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;with variable=&quot;selection&quot;&gt;\r\n       &lt;count value=&quot;1&quot;/&gt;\r\n       &lt;iterate&gt;\r\n           &lt;adapt type=&quot;org.eclipse.core.resources.IFile&quot;/&gt;\r\n       &lt;/iterate&gt;\r\n    &lt;/with&gt;\r\n","title":"How to not show context menu for multi selection in Eclipse Plugin Development","body":"<p>Use <code>count</code> to limit the selection to 1</p>\n\n<p>Something like:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;with variable=\"selection\"&gt;\n   &lt;count value=\"1\"/&gt;\n   &lt;iterate&gt;\n       &lt;adapt type=\"org.eclipse.core.resources.IFile\"/&gt;\n   &lt;/iterate&gt;\n&lt;/with&gt;\n</code></pre>\n"}],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53701491,"answer_count":1,"score":1,"last_activity_date":1634040718,"creation_date":1544425338,"question_id":53700913,"body_markdown":"I am developing a context menu for an Eclipse plugin. I need to show the context popup menu only if the user selects a single file. Currently, I am able to show the context menu for multi selection of folders in the Project Explorer. The requirement is to disable or hide the context menu for multi selection of Folders.\r\nI cannot use the legacy context popup menu &quot;**&lt;extension point=org.eclipse.ui.popupMenus&gt;**&quot; as it has been deprecated in Eclipse.\r\n\r\nI&#39;ve provided a snippet of my plugin.xml.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?eclipse version=&quot;3.4&quot;?&gt;\r\n    &lt;plugin&gt;\r\n    \r\n       &lt;extension point=&quot;org.eclipse.ui.commands&quot;&gt;\r\n          &lt;category name=&quot;My Category&quot; id=&quot;mycategory.id&quot; /&gt;\r\n          &lt;command name=&quot;Drop it here&quot; categoryId=&quot;mycategory.id&quot; id=&quot;myCmd1&quot; /&gt;\r\n       &lt;/extension&gt;\r\n       \r\n       &lt;extension point=&quot;org.eclipse.ui.handlers&quot;&gt;\r\n          &lt;handler commandId=&quot;myCmd1&quot; class=&quot;com.toyer.FirstHandler&quot; /&gt;\r\n       &lt;/extension&gt;\r\n       \r\n       &lt;extension point=&quot;org.eclipse.ui.menus&quot;&gt;\r\n          &lt;menuContribution locationURI=&quot;popup:org.eclipse.ui.popup.any&quot;&gt;\r\n             &lt;command commandId=&quot;myCmd1&quot; icon=&quot;icons/pino16.png&quot;&gt;\r\n                &lt;visibleWhen&gt;\r\n                   &lt;with variable=&quot;activeMenuSelection&quot;&gt;\r\n                      &lt;iterate ifEmpty=&quot;false&quot;&gt;\r\n                         &lt;adapt type=&quot;org.eclipse.core.resources.IProject&quot; /&gt;\r\n                      &lt;/iterate&gt;\r\n                   &lt;/with&gt;\r\n                &lt;/visibleWhen&gt;\r\n             &lt;/command&gt;\r\n          &lt;/menuContribution&gt;\r\n       &lt;/extension&gt;\r\n       \r\n    &lt;/plugin&gt; \r\n\r\n    \r\nPlease help me to solve this issue.\r\n\r\n","title":"How to not show context menu for multi selection in Eclipse Plugin Development","body":"<p>I am developing a context menu for an Eclipse plugin. I need to show the context popup menu only if the user selects a single file. Currently, I am able to show the context menu for multi selection of folders in the Project Explorer. The requirement is to disable or hide the context menu for multi selection of Folders.\nI cannot use the legacy context popup menu &quot;<strong></strong>&quot; as it has been deprecated in Eclipse.</p>\n<p>I've provided a snippet of my plugin.xml.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?eclipse version=&quot;3.4&quot;?&gt;\n&lt;plugin&gt;\n\n   &lt;extension point=&quot;org.eclipse.ui.commands&quot;&gt;\n      &lt;category name=&quot;My Category&quot; id=&quot;mycategory.id&quot; /&gt;\n      &lt;command name=&quot;Drop it here&quot; categoryId=&quot;mycategory.id&quot; id=&quot;myCmd1&quot; /&gt;\n   &lt;/extension&gt;\n   \n   &lt;extension point=&quot;org.eclipse.ui.handlers&quot;&gt;\n      &lt;handler commandId=&quot;myCmd1&quot; class=&quot;com.toyer.FirstHandler&quot; /&gt;\n   &lt;/extension&gt;\n   \n   &lt;extension point=&quot;org.eclipse.ui.menus&quot;&gt;\n      &lt;menuContribution locationURI=&quot;popup:org.eclipse.ui.popup.any&quot;&gt;\n         &lt;command commandId=&quot;myCmd1&quot; icon=&quot;icons/pino16.png&quot;&gt;\n            &lt;visibleWhen&gt;\n               &lt;with variable=&quot;activeMenuSelection&quot;&gt;\n                  &lt;iterate ifEmpty=&quot;false&quot;&gt;\n                     &lt;adapt type=&quot;org.eclipse.core.resources.IProject&quot; /&gt;\n                  &lt;/iterate&gt;\n               &lt;/with&gt;\n            &lt;/visibleWhen&gt;\n         &lt;/command&gt;\n      &lt;/menuContribution&gt;\n   &lt;/extension&gt;\n   \n&lt;/plugin&gt; \n</code></pre>\n<p>Please help me to solve this issue.</p>\n"},{"tags":["java","android","android-fragments","android-mediaplayer","weather"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1633816872,"post_id":69510627,"comment_id":122862792,"body_markdown":"Try adding a `onResume()` to start the player as the user navigates back to the app.","body":"Try adding a <code>onResume()</code> to start the player as the user navigates back to the app."},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1633852522,"post_id":69510627,"comment_id":122866957,"body_markdown":"@AliasCartellano tried, the app crashed with a null pointer exception","body":"@AliasCartellano tried, the app crashed with a null pointer exception"}],"answers":[{"tags":[],"owner":{"account_id":11400684,"reputation":300,"user_id":8357735,"display_name":"farid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633866066,"creation_date":1633866066,"answer_id":69514827,"question_id":69510627,"body_markdown":"you need to use Services : [https://developer.android.com/guide/components/services][1]\r\n\r\n\r\nsee this simple exaple too : [https://www.tutorialspoint.com/how-to-play-background-music-in-android-app][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/services\r\n  [2]: https://www.tutorialspoint.com/how-to-play-background-music-in-android-app","title":"Sounds keep playing even after minimizing the app and restarts when navigating through fragments","body":"<p>you need to use Services : <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/services</a></p>\n<p>see this simple exaple too : <a href=\"https://www.tutorialspoint.com/how-to-play-background-music-in-android-app\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/how-to-play-background-music-in-android-app</a></p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633973996,"creation_date":1633973996,"answer_id":69530403,"question_id":69510627,"body_markdown":"&gt; when I minimize the app, it still keeps playing the sounds on repeat\r\n&gt; until I close/exit the app. I would like it to pause when I minimize\r\n&gt; the app, then continue playing from exactly where it stopped the\r\n&gt; moment I enter back.\r\n\r\nYou can pause the mediPlayer when the fragment is not shown on the screen i.e in `onPause()` callback, and resume it in `onResume()`.\r\n\r\nBut be careful as the `mediaPlayer` doesn&#39;t start immediately in `onCreate()` because it waits until the data is grabbed from the weather API; so you need to do null-ability check:\r\n\r\n\r\n    public void onResume() {\r\n        super.onResume();\r\n        if (mMediaPlayer != null)\r\n            mMediaPlayer.start();\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        if (mMediaPlayer != null)\r\n            mMediaPlayer.pause();\r\n    }\r\n\r\n\r\n\r\n**Side note:** In order to avoid potential memory/battery leaks whenever you do fragment transaction, The `mediaPlayer` resource should be released if the application is destroyed:\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        // release mMediaPlayer resoruces\r\n        mMediaPlayer.release();\r\n        mMediaPlayer = null;\r\n    }\r\n\r\n\r\nBut I would suggest to add the `mMediaPlayer` object into the `ViewModel`, in order to save its state during configuration changes like phone orientation.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Sounds keep playing even after minimizing the app and restarts when navigating through fragments","body":"<blockquote>\n<p>when I minimize the app, it still keeps playing the sounds on repeat\nuntil I close/exit the app. I would like it to pause when I minimize\nthe app, then continue playing from exactly where it stopped the\nmoment I enter back.</p>\n</blockquote>\n<p>You can pause the mediPlayer when the fragment is not shown on the screen i.e in <code>onPause()</code> callback, and resume it in <code>onResume()</code>.</p>\n<p>But be careful as the <code>mediaPlayer</code> doesn't start immediately in <code>onCreate()</code> because it waits until the data is grabbed from the weather API; so you need to do null-ability check:</p>\n<pre><code>public void onResume() {\n    super.onResume();\n    if (mMediaPlayer != null)\n        mMediaPlayer.start();\n}\n\n@Override\npublic void onPause() {\n    super.onPause();\n    if (mMediaPlayer != null)\n        mMediaPlayer.pause();\n}\n</code></pre>\n<p><strong>Side note:</strong> In order to avoid potential memory/battery leaks whenever you do fragment transaction, The <code>mediaPlayer</code> resource should be released if the application is destroyed:</p>\n<pre><code>@Override\npublic void onDestroy() {\n    super.onDestroy();\n    // release mMediaPlayer resoruces\n    mMediaPlayer.release();\n    mMediaPlayer = null;\n}\n</code></pre>\n<p>But I would suggest to add the <code>mMediaPlayer</code> object into the <code>ViewModel</code>, in order to save its state during configuration changes like phone orientation.</p>\n"}],"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69530403,"answer_count":2,"score":1,"last_activity_date":1634040394,"creation_date":1633814238,"question_id":69510627,"body_markdown":"After successfully implementing sounds on my weather app, it plays quite OK when a city is searched. But the problem is that even when I minimize the app, it still\r\nkeeps playing the sounds on repeat until I close/exit the app. I would like it to\r\npause when I minimize the app, then continue playing from exactly where it stopped\r\nthe moment I enter back.\r\n\r\nSo I tried adding this code:\r\n\r\n    @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n            mMediaPlayer.pause();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            mMediaPlayer.pause();\r\n        }\r\n\r\n \r\n\r\nIt only entirely stops the sound after minimizing and doesn&#39;t resume when entering back. It also\r\nslows the app from searching a city.\r\n\r\nAlso, the app contains 3 fragments(today, hourly and daily tabs) which I navigate\r\nthrough by clicking on the bottom navs. If I&#39;m on the first tab and the sound is\r\nplaying then I switch to the 2nd/3rd tab then move back to the first tab, the sound\r\nautomatically restarts whichever sound it is playing. I would like to resolve the issue also.\r\n\r\nHere is the Fragment&#39;s code: \r\n\r\n    public class FirstFragment extends Fragment {\r\n    \r\n        private WeatherDataViewModel viewModel;\r\n    \r\n        private MediaPlayer mMediaPlayer; // Single MediaPlayer object\r\n    \r\n        public FirstFragment() {\r\n    // Required empty public constructor\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View rootView = inflater.inflate(R.layout.fragment_first, container, false);\r\n            // For displaying weather data\r\n            final TextView current_temp = rootView.findViewById(R.id.textView10);\r\n            final TextView current_output = rootView.findViewById(R.id.textView11);\r\n            final TextView rise_time = rootView.findViewById(R.id.textView25);\r\n            final TextView set_time = rootView.findViewById(R.id.textView26);\r\n            final TextView temp_out = rootView.findViewById(R.id.textView28);\r\n            final TextView Press_out = rootView.findViewById(R.id.textView29);\r\n            final TextView Humid_out = rootView.findViewById(R.id.textView30);\r\n            final TextView Ws_out = rootView.findViewById(R.id.textView33);\r\n            final TextView Visi_out = rootView.findViewById(R.id.textView34);\r\n            final TextView Cloud_out = rootView.findViewById(R.id.textView35);\r\n            final ImageView current_icon = rootView.findViewById(R.id.imageView6);\r\n            final SwipeRefreshLayout realSwipe = rootView.findViewById(R.id.real_swipe);\r\n    \r\n            // Get our ViewModel instance\r\n            viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\r\n    \r\n            // And whenever the data changes, refresh the UI\r\n            viewModel.getWeatherDataLiveData().observe(getViewLifecycleOwner(), data -&gt; {\r\n    \r\n                realSwipe.setOnRefreshListener(() -&gt; {\r\n                    // perform you action here for ex. add refresh screen code here\r\n                    new Handler().postDelayed(() -&gt; {\r\n                        // this code is for stop refreshing icon, After 1000 ms automatically refresh icon will stop\r\n                        realSwipe.setRefreshing(false);\r\n                    }, 1000);\r\n                });\r\n    \r\n                int drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\r\n    \r\n                int soundResource = -1; // Default sound is nothing\r\n    \r\n                if (data != null) {\r\n                    current_temp.setVisibility(View.VISIBLE);\r\n                    current_temp.setText(data.getMain().getTemp() + &quot; ℃&quot;); // for that you can use strings resource and templates more in https://developer.android.com/guide/topics/resources/string-resource.html#formatting-strings\r\n                    current_output.setVisibility(View.VISIBLE);\r\n                    current_output.setText(data.getWeather().get(0).getDescription());\r\n                    rise_time.setVisibility(View.VISIBLE);\r\n                    rise_time.setText(data.getSys().getSunrise() + &quot; &quot;);\r\n                    set_time.setVisibility(View.VISIBLE);\r\n                    set_time.setText(data.getSys().getSunset() + &quot; &quot;);\r\n                    temp_out.setVisibility(View.VISIBLE);\r\n                    temp_out.setText(data.getMain().getTemp() + &quot; ℃&quot;);\r\n                    Press_out.setVisibility(View.VISIBLE);\r\n                    Press_out.setText(data.getMain().getPressure() + &quot; hpa&quot;);\r\n                    Humid_out.setVisibility(View.VISIBLE);\r\n                    Humid_out.setText(data.getMain().getHumidity() + &quot; %&quot;);\r\n                    Ws_out.setVisibility(View.VISIBLE);\r\n                    Ws_out.setText(data.getWind().getSpeed() + &quot; Km/h&quot;);\r\n                    Visi_out.setVisibility(View.VISIBLE);\r\n                    Visi_out.setText(data.getVisibility() + &quot; m&quot;);\r\n                    Cloud_out.setVisibility(View.VISIBLE);\r\n                    Cloud_out.setText(data.getClouds().getAll() + &quot; %&quot;);\r\n    \r\n    // get actual weather.\r\n    \r\n                    String icon = data.getWeather().get(0).getIcon();\r\n    \r\n                    switch (icon) {\r\n                        case &quot;01d&quot;:\r\n                        case &quot;01n&quot;:\r\n                            drawableResource = R.drawable.sun;\r\n                            soundResource = R.raw.clear_sky_sound;\r\n                            break;\r\n    \r\n                        case &quot;02d&quot;:\r\n                        case &quot;021n&quot;:\r\n                            drawableResource = R.drawable.few_clouds;\r\n                            soundResource = R.raw.clouds_sound;\r\n                            break;\r\n    \r\n                        case &quot;03d&quot;:\r\n                        case &quot;03n&quot;:\r\n                            drawableResource = R.drawable.scattered_clouds;\r\n                            soundResource = R.raw.clouds_sound;\r\n                            break;\r\n    \r\n                        case &quot;04d&quot;:\r\n                        case &quot;04n&quot;:\r\n                            drawableResource = R.drawable.broken_clouds;\r\n                            soundResource = R.raw.clouds_sound;\r\n                            break;\r\n    \r\n                        case &quot;09d&quot;:\r\n                        case &quot;09n&quot;:\r\n                            drawableResource = R.drawable.shower_rain;\r\n                            soundResource = R.raw.shower_rain_sound;\r\n                            break;\r\n    \r\n                        case &quot;10d&quot;:\r\n                        case &quot;10n&quot;:\r\n                            drawableResource = R.drawable.small_rain;\r\n                            soundResource = R.raw.shower_rain_sound;\r\n                            break;\r\n    \r\n                        case &quot;11d&quot;:\r\n                        case &quot;11n&quot;:\r\n                            drawableResource = R.drawable.thunderstorm;\r\n                            soundResource = R.raw.thunderstorm_sound;\r\n                            break;\r\n    \r\n                        case &quot;13d&quot;:\r\n                        case &quot;13n&quot;:\r\n                            drawableResource = R.drawable.snow;\r\n                            soundResource = R.raw.snow_sound;\r\n                            break;\r\n    \r\n                        case &quot;50d&quot;:\r\n                        case &quot;50n&quot;:\r\n                            drawableResource = R.drawable.mist;\r\n                            soundResource = R.raw.mist_sound;\r\n                            break;\r\n                    }\r\n    \r\n                    if (drawableResource != -1)\r\n                        current_icon.setImageResource(drawableResource);\r\n    \r\n    \r\n                    if (soundResource != -1) {\r\n    \r\n                        if (mMediaPlayer != null) {\r\n    \r\n                            // stop the playing\r\n                            if (mMediaPlayer.isPlaying()) {\r\n                                mMediaPlayer.stop();\r\n                            }\r\n    \r\n                            // release mMediaPlayer resoruces\r\n                            mMediaPlayer.release();\r\n                            mMediaPlayer = null;\r\n                        }\r\n    \r\n                        // Play the new resource\r\n                        prepareMediaPlayer(soundResource);\r\n                    }\r\n    \r\n                } else {\r\n                    Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\r\n                    current_temp.setVisibility(View.GONE);\r\n                    current_output.setVisibility(View.GONE);\r\n                    rise_time.setVisibility(View.GONE);\r\n                    set_time.setVisibility(View.GONE);\r\n                    temp_out.setVisibility(View.GONE);\r\n                    Press_out.setVisibility(View.GONE);\r\n                    Humid_out.setVisibility(View.GONE);\r\n                    Ws_out.setVisibility(View.GONE);\r\n                    Visi_out.setVisibility(View.GONE);\r\n                    Cloud_out.setVisibility(View.GONE);\r\n                    Toast.makeText(requireActivity(), &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        public void getWeatherData(String name) {\r\n    // The ViewModel controls loading the data, so we just\r\n    // tell it what the new name is - this kicks off loading\r\n    // the data, which will automatically call through to\r\n    // our observe() call when the data load completes\r\n            viewModel.setCityName(name);\r\n        }\r\n    \r\n    \r\n        private void prepareMediaPlayer(int resource) {\r\n            // add track file\r\n            mMediaPlayer = MediaPlayer.create(requireActivity(), resource);\r\n    \r\n            // listening to when the media file finishes playing so that we can release the resources\r\n            mMediaPlayer.setLooping(true);\r\n            mMediaPlayer.start();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**EDIT:**\r\n\r\nWeatherDataViewModel:\r\n\r\n    public class WeatherDataViewModel extends ViewModel {\r\n        // This will save the city name\r\n        private SavedStateHandle state;\r\n    \r\n        // This is where we&#39;ll store our result from the server\r\n        private MutableLiveData&lt;Example&gt; mutableWeatherData = new MutableLiveData&lt;&gt;();\r\n    \r\n        public WeatherDataViewModel(SavedStateHandle savedStateHandle) {\r\n            state = savedStateHandle;\r\n            String savedCityName = state.get(&quot;name&quot;);\r\n            if (savedCityName != null) {\r\n                // We already had a previously saved name, so we&#39;ll\r\n                // start loading right away\r\n                loadData();\r\n            }\r\n        }\r\n    \r\n        // This is what our Fragment will use to get the latest weather data\r\n        public LiveData&lt;Example&gt; getWeatherDataLiveData() {\r\n            return mutableWeatherData;\r\n        }\r\n    \r\n        // When you get a new city name, we&#39;ll save that in our\r\n        // state, then load the new data from the server\r\n        public void setCityName(String name) {\r\n            state.set(&quot;name&quot;, name);\r\n            loadData();\r\n        }\r\n    \r\n        private void loadData() {\r\n            // Get the last name that was set\r\n            String name = state.get(&quot;name&quot;);\r\n    \r\n            // Now kick off a load from the server\r\n            ApiInterface apiInterface = ApiClient.getClient().create(ApiInterface.class);\r\n    \r\n            Call&lt;Example&gt; call = apiInterface.getWeatherData(name);\r\n    \r\n            call.enqueue(new Callback&lt;Example&gt;() {\r\n                @Override\r\n                public void onResponse(@NonNull Call&lt;Example&gt; call, @NonNull Response&lt;Example&gt; response) {\r\n                    // Save the response we&#39;ve gotten\r\n                    // This will automatically update our UI\r\n                    mutableWeatherData.setValue(response.body());\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(@NotNull Call&lt;Example&gt; call, @NotNull Throwable t) {\r\n                    t.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n    }","title":"Sounds keep playing even after minimizing the app and restarts when navigating through fragments","body":"<p>After successfully implementing sounds on my weather app, it plays quite OK when a city is searched. But the problem is that even when I minimize the app, it still\nkeeps playing the sounds on repeat until I close/exit the app. I would like it to\npause when I minimize the app, then continue playing from exactly where it stopped\nthe moment I enter back.</p>\n<p>So I tried adding this code:</p>\n<pre><code>@Override\n    public void onStop() {\n        super.onStop();\n        mMediaPlayer.pause();\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        mMediaPlayer.pause();\n    }\n</code></pre>\n<p>It only entirely stops the sound after minimizing and doesn't resume when entering back. It also\nslows the app from searching a city.</p>\n<p>Also, the app contains 3 fragments(today, hourly and daily tabs) which I navigate\nthrough by clicking on the bottom navs. If I'm on the first tab and the sound is\nplaying then I switch to the 2nd/3rd tab then move back to the first tab, the sound\nautomatically restarts whichever sound it is playing. I would like to resolve the issue also.</p>\n<p>Here is the Fragment's code:</p>\n<pre><code>public class FirstFragment extends Fragment {\n\n    private WeatherDataViewModel viewModel;\n\n    private MediaPlayer mMediaPlayer; // Single MediaPlayer object\n\n    public FirstFragment() {\n// Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View rootView = inflater.inflate(R.layout.fragment_first, container, false);\n        // For displaying weather data\n        final TextView current_temp = rootView.findViewById(R.id.textView10);\n        final TextView current_output = rootView.findViewById(R.id.textView11);\n        final TextView rise_time = rootView.findViewById(R.id.textView25);\n        final TextView set_time = rootView.findViewById(R.id.textView26);\n        final TextView temp_out = rootView.findViewById(R.id.textView28);\n        final TextView Press_out = rootView.findViewById(R.id.textView29);\n        final TextView Humid_out = rootView.findViewById(R.id.textView30);\n        final TextView Ws_out = rootView.findViewById(R.id.textView33);\n        final TextView Visi_out = rootView.findViewById(R.id.textView34);\n        final TextView Cloud_out = rootView.findViewById(R.id.textView35);\n        final ImageView current_icon = rootView.findViewById(R.id.imageView6);\n        final SwipeRefreshLayout realSwipe = rootView.findViewById(R.id.real_swipe);\n\n        // Get our ViewModel instance\n        viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\n\n        // And whenever the data changes, refresh the UI\n        viewModel.getWeatherDataLiveData().observe(getViewLifecycleOwner(), data -&gt; {\n\n            realSwipe.setOnRefreshListener(() -&gt; {\n                // perform you action here for ex. add refresh screen code here\n                new Handler().postDelayed(() -&gt; {\n                    // this code is for stop refreshing icon, After 1000 ms automatically refresh icon will stop\n                    realSwipe.setRefreshing(false);\n                }, 1000);\n            });\n\n            int drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\n\n            int soundResource = -1; // Default sound is nothing\n\n            if (data != null) {\n                current_temp.setVisibility(View.VISIBLE);\n                current_temp.setText(data.getMain().getTemp() + &quot; ℃&quot;); // for that you can use strings resource and templates more in https://developer.android.com/guide/topics/resources/string-resource.html#formatting-strings\n                current_output.setVisibility(View.VISIBLE);\n                current_output.setText(data.getWeather().get(0).getDescription());\n                rise_time.setVisibility(View.VISIBLE);\n                rise_time.setText(data.getSys().getSunrise() + &quot; &quot;);\n                set_time.setVisibility(View.VISIBLE);\n                set_time.setText(data.getSys().getSunset() + &quot; &quot;);\n                temp_out.setVisibility(View.VISIBLE);\n                temp_out.setText(data.getMain().getTemp() + &quot; ℃&quot;);\n                Press_out.setVisibility(View.VISIBLE);\n                Press_out.setText(data.getMain().getPressure() + &quot; hpa&quot;);\n                Humid_out.setVisibility(View.VISIBLE);\n                Humid_out.setText(data.getMain().getHumidity() + &quot; %&quot;);\n                Ws_out.setVisibility(View.VISIBLE);\n                Ws_out.setText(data.getWind().getSpeed() + &quot; Km/h&quot;);\n                Visi_out.setVisibility(View.VISIBLE);\n                Visi_out.setText(data.getVisibility() + &quot; m&quot;);\n                Cloud_out.setVisibility(View.VISIBLE);\n                Cloud_out.setText(data.getClouds().getAll() + &quot; %&quot;);\n\n// get actual weather.\n\n                String icon = data.getWeather().get(0).getIcon();\n\n                switch (icon) {\n                    case &quot;01d&quot;:\n                    case &quot;01n&quot;:\n                        drawableResource = R.drawable.sun;\n                        soundResource = R.raw.clear_sky_sound;\n                        break;\n\n                    case &quot;02d&quot;:\n                    case &quot;021n&quot;:\n                        drawableResource = R.drawable.few_clouds;\n                        soundResource = R.raw.clouds_sound;\n                        break;\n\n                    case &quot;03d&quot;:\n                    case &quot;03n&quot;:\n                        drawableResource = R.drawable.scattered_clouds;\n                        soundResource = R.raw.clouds_sound;\n                        break;\n\n                    case &quot;04d&quot;:\n                    case &quot;04n&quot;:\n                        drawableResource = R.drawable.broken_clouds;\n                        soundResource = R.raw.clouds_sound;\n                        break;\n\n                    case &quot;09d&quot;:\n                    case &quot;09n&quot;:\n                        drawableResource = R.drawable.shower_rain;\n                        soundResource = R.raw.shower_rain_sound;\n                        break;\n\n                    case &quot;10d&quot;:\n                    case &quot;10n&quot;:\n                        drawableResource = R.drawable.small_rain;\n                        soundResource = R.raw.shower_rain_sound;\n                        break;\n\n                    case &quot;11d&quot;:\n                    case &quot;11n&quot;:\n                        drawableResource = R.drawable.thunderstorm;\n                        soundResource = R.raw.thunderstorm_sound;\n                        break;\n\n                    case &quot;13d&quot;:\n                    case &quot;13n&quot;:\n                        drawableResource = R.drawable.snow;\n                        soundResource = R.raw.snow_sound;\n                        break;\n\n                    case &quot;50d&quot;:\n                    case &quot;50n&quot;:\n                        drawableResource = R.drawable.mist;\n                        soundResource = R.raw.mist_sound;\n                        break;\n                }\n\n                if (drawableResource != -1)\n                    current_icon.setImageResource(drawableResource);\n\n\n                if (soundResource != -1) {\n\n                    if (mMediaPlayer != null) {\n\n                        // stop the playing\n                        if (mMediaPlayer.isPlaying()) {\n                            mMediaPlayer.stop();\n                        }\n\n                        // release mMediaPlayer resoruces\n                        mMediaPlayer.release();\n                        mMediaPlayer = null;\n                    }\n\n                    // Play the new resource\n                    prepareMediaPlayer(soundResource);\n                }\n\n            } else {\n                Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\n                current_temp.setVisibility(View.GONE);\n                current_output.setVisibility(View.GONE);\n                rise_time.setVisibility(View.GONE);\n                set_time.setVisibility(View.GONE);\n                temp_out.setVisibility(View.GONE);\n                Press_out.setVisibility(View.GONE);\n                Humid_out.setVisibility(View.GONE);\n                Ws_out.setVisibility(View.GONE);\n                Visi_out.setVisibility(View.GONE);\n                Cloud_out.setVisibility(View.GONE);\n                Toast.makeText(requireActivity(), &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        return rootView;\n    }\n\n    public void getWeatherData(String name) {\n// The ViewModel controls loading the data, so we just\n// tell it what the new name is - this kicks off loading\n// the data, which will automatically call through to\n// our observe() call when the data load completes\n        viewModel.setCityName(name);\n    }\n\n\n    private void prepareMediaPlayer(int resource) {\n        // add track file\n        mMediaPlayer = MediaPlayer.create(requireActivity(), resource);\n\n        // listening to when the media file finishes playing so that we can release the resources\n        mMediaPlayer.setLooping(true);\n        mMediaPlayer.start();\n\n    }\n\n}\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>WeatherDataViewModel:</p>\n<pre><code>public class WeatherDataViewModel extends ViewModel {\n    // This will save the city name\n    private SavedStateHandle state;\n\n    // This is where we'll store our result from the server\n    private MutableLiveData&lt;Example&gt; mutableWeatherData = new MutableLiveData&lt;&gt;();\n\n    public WeatherDataViewModel(SavedStateHandle savedStateHandle) {\n        state = savedStateHandle;\n        String savedCityName = state.get(&quot;name&quot;);\n        if (savedCityName != null) {\n            // We already had a previously saved name, so we'll\n            // start loading right away\n            loadData();\n        }\n    }\n\n    // This is what our Fragment will use to get the latest weather data\n    public LiveData&lt;Example&gt; getWeatherDataLiveData() {\n        return mutableWeatherData;\n    }\n\n    // When you get a new city name, we'll save that in our\n    // state, then load the new data from the server\n    public void setCityName(String name) {\n        state.set(&quot;name&quot;, name);\n        loadData();\n    }\n\n    private void loadData() {\n        // Get the last name that was set\n        String name = state.get(&quot;name&quot;);\n\n        // Now kick off a load from the server\n        ApiInterface apiInterface = ApiClient.getClient().create(ApiInterface.class);\n\n        Call&lt;Example&gt; call = apiInterface.getWeatherData(name);\n\n        call.enqueue(new Callback&lt;Example&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;Example&gt; call, @NonNull Response&lt;Example&gt; response) {\n                // Save the response we've gotten\n                // This will automatically update our UI\n                mutableWeatherData.setValue(response.body());\n            }\n\n            @Override\n            public void onFailure(@NotNull Call&lt;Example&gt; call, @NotNull Throwable t) {\n                t.printStackTrace();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","keyboard"],"comments":[{"owner":{"account_id":9671372,"reputation":4498,"user_id":7176189,"display_name":"Jai Khambhayta"},"score":0,"creation_date":1634043280,"post_id":68677267,"comment_id":122915812,"body_markdown":"https://www.geeksforgeeks.org/how-to-programmatically-hide-android-soft-keyboard/","body":"<a href=\"https://www.geeksforgeeks.org/how-to-programmatically-hide-android-soft-keyboard/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"display_name":"user13889606"},"score":0,"creation_date":1634628790,"post_id":68677267,"comment_id":123069013,"body_markdown":"Thanks @jaikhambhayta I solved the problem now","body":"Thanks @jaikhambhayta I solved the problem now"}],"owner":{"display_name":"user13889606"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634040330,"creation_date":1628232373,"question_id":68677267,"body_markdown":"I&#39;m making a Android Calculator app and I&#39;m stuck in a problem when I type on EditText It open the soft keyboard but I want to make user use the calculator keyboard given on screen and don&#39;t use the system&#39;s one! The main problem is the original system soft keyboard is opening when click on EditText.\r\n\r\nHow can I resolve the problem?\r\nAny help will be appreciated!","title":"How to prevent soft keyboard from showing on click on EditText?","body":"<p>I'm making a Android Calculator app and I'm stuck in a problem when I type on EditText It open the soft keyboard but I want to make user use the calculator keyboard given on screen and don't use the system's one! The main problem is the original system soft keyboard is opening when click on EditText.</p>\n<p>How can I resolve the problem?\nAny help will be appreciated!</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1634039038,"post_id":69539822,"comment_id":122914135,"body_markdown":"`btnRemove` is present in  `stock_row` or it is present in `activity_main`? . Please attach your crash logs also","body":"<code>btnRemove</code> is present in  <code>stock_row</code> or it is present in <code>activity_main</code>? . Please attach your crash logs also"},{"owner":{"account_id":17660544,"reputation":145,"user_id":12819096,"display_name":"Deepak Shukla"},"score":0,"creation_date":1634039711,"post_id":69539822,"comment_id":122914371,"body_markdown":"Share your logcat, exactly where you got null object.","body":"Share your logcat, exactly where you got null object."},{"owner":{"account_id":22378635,"reputation":11,"user_id":16592547,"display_name":"rholmes97"},"score":0,"creation_date":1634039720,"post_id":69539822,"comment_id":122914376,"body_markdown":"@Nitish It&#39;s in activity_main, I&#39;ve edited the body to include this and the crash log - thanks.","body":"@Nitish It&#39;s in activity_main, I&#39;ve edited the body to include this and the crash log - thanks."},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1634040321,"post_id":69539822,"comment_id":122914630,"body_markdown":"`btnRemove` is null , you are find the button from view `stockView` , while in actual your button never exits there , it&#39;s in main activity . To fix this find the id of button in `MainActivity` and give a call back from recycler adapter to activity using interface","body":"<code>btnRemove</code> is null , you are find the button from view <code>stockView</code> , while in actual your button never exits there , it&#39;s in main activity . To fix this find the id of button in <code>MainActivity</code> and give a call back from recycler adapter to activity using interface"}],"answers":[{"tags":[],"owner":{"account_id":15371378,"reputation":868,"user_id":11089307,"display_name":"Amirhosein Rostami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634040025,"creation_date":1634040025,"answer_id":69540174,"question_id":69539822,"body_markdown":"if `btnRemove` is null it means `stockView.findViewById(R.id.btnRemove)`\r\nreturns null so it means there is no View with id `btnRemove` in `R.layout.stock_row`\r\n\r\ncheck if you have this line in `R.layout.stock_row` :\r\n\r\n    android:id=&quot;@+id/btnRemove&quot;","title":"Why do I get a null object reference error when trying to make a button visible after long pressing on a recycler view item?","body":"<p>if <code>btnRemove</code> is null it means <code>stockView.findViewById(R.id.btnRemove)</code>\nreturns null so it means there is no View with id <code>btnRemove</code> in <code>R.layout.stock_row</code></p>\n<p>check if you have this line in <code>R.layout.stock_row</code> :</p>\n<pre><code>android:id=&quot;@+id/btnRemove&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17660544,"reputation":145,"user_id":12819096,"display_name":"Deepak Shukla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634040207,"creation_date":1634040207,"answer_id":69540214,"question_id":69539822,"body_markdown":"Modify your code like this, you have initialize listeners before the button.\r\n\r\n    \r\n \r\n\r\n    ViewHolder(View stockView) {\r\n                super(stockView);\r\n                this.stockView = stockView;\r\n                tvItem = stockView.findViewById(R.id.tvItem);\r\n                tvCondition = stockView.findViewById(R.id.tvCondition);\r\n                tvQuantity = stockView.findViewById(R.id.tvQuantity);\r\n                tvLocation = stockView.findViewById(R.id.tvLocation);\r\n                tvCategory = stockView.findViewById(R.id.tvCategory);\r\n                btnRemove = stockView.findViewById(R.id.btnRemove);\r\n                stockView.setOnClickListener(this);\r\n                stockView.setOnLongClickListener(this);\r\n    \r\n            } ","title":"Why do I get a null object reference error when trying to make a button visible after long pressing on a recycler view item?","body":"<p>Modify your code like this, you have initialize listeners before the button.</p>\n<pre><code>ViewHolder(View stockView) {\n            super(stockView);\n            this.stockView = stockView;\n            tvItem = stockView.findViewById(R.id.tvItem);\n            tvCondition = stockView.findViewById(R.id.tvCondition);\n            tvQuantity = stockView.findViewById(R.id.tvQuantity);\n            tvLocation = stockView.findViewById(R.id.tvLocation);\n            tvCategory = stockView.findViewById(R.id.tvCategory);\n            btnRemove = stockView.findViewById(R.id.btnRemove);\n            stockView.setOnClickListener(this);\n            stockView.setOnLongClickListener(this);\n\n        } \n</code></pre>\n"}],"owner":{"account_id":22378635,"reputation":11,"user_id":16592547,"display_name":"rholmes97"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69540174,"answer_count":2,"score":-1,"last_activity_date":1634040207,"creation_date":1634038600,"question_id":69539822,"body_markdown":"I&#39;m trying to make a button visible when a user long clicks on a row in the recycler view. However I&#39;m getting a null object reference error and not sure why. The Toast works so I know that the long press is working on each row.\r\n\r\nEdit - Crash Log:\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.it_stock, PID: 13959\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.view.View.setVisibility(int)&#39; on a null object reference\r\n        at com.example.it_stock.StockAdapter$ViewHolder.onLongClick(StockAdapter.java:85)\r\n        at android.view.View.performLongClickInternal(View.java:5714)\r\n        at android.view.View.performLongClick(View.java:5672)\r\n        at android.view.View.performLongClick(View.java:5690)\r\n        at android.view.View$CheckForLongPress.run(View.java:22402)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6121)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n```\r\n\r\nMain Activity:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private DBHandler db;\r\n    Button btnAddItem;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        RecyclerView stockView = findViewById(R.id.rvStock);\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        stockView.setLayoutManager(linearLayoutManager);\r\n        stockView.setHasFixedSize(true);\r\n        db = new DBHandler(this);\r\n        ArrayList&lt;Stock&gt; allStock = db.getAllStock();\r\n\r\n        if (allStock.size() &gt; 0) {\r\n            stockView.setVisibility(View.VISIBLE);\r\n            StockAdapter stockAdapter = new StockAdapter(this, allStock);\r\n            stockView.setAdapter(stockAdapter);\r\n        }\r\n        else {\r\n            stockView.setVisibility(View.GONE);\r\n            Toast.makeText(this, &quot;No Items!&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        btnAddItem = findViewById(R.id.btnAdd);\r\n        btnAddItem.setOnClickListener(v -&gt; {\r\n            addNewItem();\r\n        });\r\n    }\r\n\r\n    protected void addNewItem() {\r\n        Intent i = new Intent(MainActivity.this, AddNewItem.class);\r\n        startActivity(i);\r\n    }\r\n}\r\n```\r\n\r\nAdapter:\r\n```\r\npublic class StockAdapter extends RecyclerView.Adapter&lt;StockAdapter.ViewHolder&gt; {\r\n\r\n    private Context context;\r\n    private ArrayList&lt;Stock&gt; listStock;\r\n    private ArrayList&lt;Stock&gt; mArrayList;\r\n    private DBHandler db;\r\n    private MainActivity mainActivity;\r\n\r\n    StockAdapter(Context context, ArrayList&lt;Stock&gt; listStock) {\r\n        this.context = context;\r\n        this.listStock = listStock;\r\n        this.mArrayList = listStock;\r\n        db = new DBHandler(context);\r\n        mainActivity = new MainActivity();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n        View stockView = inflater.inflate(R.layout.stock_row, parent, false);\r\n        return new ViewHolder(stockView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder holder, int position) {\r\n        final Stock stock = listStock.get(position);\r\n        holder.tvItem.setText(stock.getItem());\r\n        holder.tvCondition.setText(stock.getCondition());\r\n        holder.tvQuantity.setText(String.valueOf(stock.getQuantity()));\r\n        holder.tvLocation.setText(stock.getLocation());\r\n        holder.tvCategory.setText(stock.getCategory());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listStock.size();\r\n    }\r\n\r\n    class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener, View.OnLongClickListener {\r\n        final TextView tvItem;\r\n        final TextView tvCondition;\r\n        final TextView tvQuantity;\r\n        final TextView tvLocation;\r\n        final TextView tvCategory;\r\n        Button btnRemove;\r\n        View stockView;\r\n\r\n        ViewHolder(View stockView) {\r\n            super(stockView);\r\n            this.stockView = stockView;\r\n            stockView.setOnClickListener(this);\r\n            stockView.setOnLongClickListener(this);\r\n            tvItem = stockView.findViewById(R.id.tvItem);\r\n            tvCondition = stockView.findViewById(R.id.tvCondition);\r\n            tvQuantity = stockView.findViewById(R.id.tvQuantity);\r\n            tvLocation = stockView.findViewById(R.id.tvLocation);\r\n            tvCategory = stockView.findViewById(R.id.tvCategory);\r\n            btnRemove = stockView.findViewById(R.id.btnRemove);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View stockView) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public boolean onLongClick(View stockView) {\r\n            btnRemove.setVisibility(View.VISIBLE);\r\n            Toast.makeText(context, &quot;long pressed&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe button should appear just below the recycler view in activity_main and I have set this up in my xml file and set the button to &#39;invisible&#39;. Please can someone explain why I&#39;m getting the error and how to fix it?","title":"Why do I get a null object reference error when trying to make a button visible after long pressing on a recycler view item?","body":"<p>I'm trying to make a button visible when a user long clicks on a row in the recycler view. However I'm getting a null object reference error and not sure why. The Toast works so I know that the long press is working on each row.</p>\n<p>Edit - Crash Log:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.it_stock, PID: 13959\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.View.setVisibility(int)' on a null object reference\n        at com.example.it_stock.StockAdapter$ViewHolder.onLongClick(StockAdapter.java:85)\n        at android.view.View.performLongClickInternal(View.java:5714)\n        at android.view.View.performLongClick(View.java:5672)\n        at android.view.View.performLongClick(View.java:5690)\n        at android.view.View$CheckForLongPress.run(View.java:22402)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6121)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n</code></pre>\n<p>Main Activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private DBHandler db;\n    Button btnAddItem;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        RecyclerView stockView = findViewById(R.id.rvStock);\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n        stockView.setLayoutManager(linearLayoutManager);\n        stockView.setHasFixedSize(true);\n        db = new DBHandler(this);\n        ArrayList&lt;Stock&gt; allStock = db.getAllStock();\n\n        if (allStock.size() &gt; 0) {\n            stockView.setVisibility(View.VISIBLE);\n            StockAdapter stockAdapter = new StockAdapter(this, allStock);\n            stockView.setAdapter(stockAdapter);\n        }\n        else {\n            stockView.setVisibility(View.GONE);\n            Toast.makeText(this, &quot;No Items!&quot;, Toast.LENGTH_LONG).show();\n        }\n\n        btnAddItem = findViewById(R.id.btnAdd);\n        btnAddItem.setOnClickListener(v -&gt; {\n            addNewItem();\n        });\n    }\n\n    protected void addNewItem() {\n        Intent i = new Intent(MainActivity.this, AddNewItem.class);\n        startActivity(i);\n    }\n}\n</code></pre>\n<p>Adapter:</p>\n<pre><code>public class StockAdapter extends RecyclerView.Adapter&lt;StockAdapter.ViewHolder&gt; {\n\n    private Context context;\n    private ArrayList&lt;Stock&gt; listStock;\n    private ArrayList&lt;Stock&gt; mArrayList;\n    private DBHandler db;\n    private MainActivity mainActivity;\n\n    StockAdapter(Context context, ArrayList&lt;Stock&gt; listStock) {\n        this.context = context;\n        this.listStock = listStock;\n        this.mArrayList = listStock;\n        db = new DBHandler(context);\n        mainActivity = new MainActivity();\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View stockView = inflater.inflate(R.layout.stock_row, parent, false);\n        return new ViewHolder(stockView);\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        final Stock stock = listStock.get(position);\n        holder.tvItem.setText(stock.getItem());\n        holder.tvCondition.setText(stock.getCondition());\n        holder.tvQuantity.setText(String.valueOf(stock.getQuantity()));\n        holder.tvLocation.setText(stock.getLocation());\n        holder.tvCategory.setText(stock.getCategory());\n    }\n\n    @Override\n    public int getItemCount() {\n        return listStock.size();\n    }\n\n    class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener, View.OnLongClickListener {\n        final TextView tvItem;\n        final TextView tvCondition;\n        final TextView tvQuantity;\n        final TextView tvLocation;\n        final TextView tvCategory;\n        Button btnRemove;\n        View stockView;\n\n        ViewHolder(View stockView) {\n            super(stockView);\n            this.stockView = stockView;\n            stockView.setOnClickListener(this);\n            stockView.setOnLongClickListener(this);\n            tvItem = stockView.findViewById(R.id.tvItem);\n            tvCondition = stockView.findViewById(R.id.tvCondition);\n            tvQuantity = stockView.findViewById(R.id.tvQuantity);\n            tvLocation = stockView.findViewById(R.id.tvLocation);\n            tvCategory = stockView.findViewById(R.id.tvCategory);\n            btnRemove = stockView.findViewById(R.id.btnRemove);\n        }\n\n        @Override\n        public void onClick(View stockView) {\n\n        }\n\n        @Override\n        public boolean onLongClick(View stockView) {\n            btnRemove.setVisibility(View.VISIBLE);\n            Toast.makeText(context, &quot;long pressed&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>The button should appear just below the recycler view in activity_main and I have set this up in my xml file and set the button to 'invisible'. Please can someone explain why I'm getting the error and how to fix it?</p>\n"},{"tags":["java","resteasy","rest"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1634022437,"post_id":69536348,"comment_id":122907927,"body_markdown":"The errors you show are just the result of the request failing. Somewhere in your server logs you should hopefully have an exception that tells you the underlying reason. If file size is an important factor then chances are that you run out of memory due to holding onto unnecessary stuff. Search for those exceptions and post them here.","body":"The errors you show are just the result of the request failing. Somewhere in your server logs you should hopefully have an exception that tells you the underlying reason. If file size is an important factor then chances are that you run out of memory due to holding onto unnecessary stuff. Search for those exceptions and post them here."},{"owner":{"account_id":15562461,"reputation":53,"user_id":11227242,"display_name":"Martin Hofman"},"score":0,"creation_date":1634022758,"post_id":69536348,"comment_id":122908024,"body_markdown":"The log on the server is clean. This happens when attachments exceed some limit, but the number of attachments doesn&#39;t matter. Would it help to attach a complete error message from the site side?","body":"The log on the server is clean. This happens when attachments exceed some limit, but the number of attachments doesn&#39;t matter. Would it help to attach a complete error message from the site side?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1634022823,"post_id":69536348,"comment_id":122908044,"body_markdown":"Of course a complete stack trace would help, but didn&#39;t you just say the log is clean?","body":"Of course a complete stack trace would help, but didn&#39;t you just say the log is clean?"},{"owner":{"account_id":15562461,"reputation":53,"user_id":11227242,"display_name":"Martin Hofman"},"score":0,"creation_date":1634022935,"post_id":69536348,"comment_id":122908085,"body_markdown":"I have two logs. One for the web side and one for the server side of the application. Server side is clean, web not.","body":"I have two logs. One for the web side and one for the server side of the application. Server side is clean, web not."},{"owner":{"account_id":15562461,"reputation":53,"user_id":11227242,"display_name":"Martin Hofman"},"score":0,"creation_date":1634023376,"post_id":69536348,"comment_id":122908246,"body_markdown":"I have added the complete log.","body":"I have added the complete log."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634040188,"creation_date":1634024502,"answer_id":69536767,"question_id":69536348,"body_markdown":"As a start, you can configure your RESTEasy with specific timeouts and increase them to see if you can pass this limitation or not.\r\n\r\nhttps://docs.jboss.org/resteasy/docs/4.0.0.Final/javadocs/org/jboss/resteasy/client/jaxrs/ResteasyClientBuilder.html\r\n\r\nThe RestEasyclientBuilder has 2 methods for handling timeouts:\r\n\r\n&gt;     The connectTimeout method replaces the establishConnectionTimeout method.\r\n&gt; \r\n&gt;     The connectTimeout method determines how long the client must wait when making a new server connection.\r\n&gt; \r\n&gt;     The readTimeout method replaces the socketTimeout method.\r\n&gt; \r\n&gt;     The readTimeout method determines how long the client must wait for a response from the server.\r\n\r\n\r\n\r\nExample:\r\n\r\n    new ResteasyClientBuilder()\r\n                .connectTimeout(2, TimeUnit.SECONDS)\r\n                .readTimeout(10, TimeUnit.SECONDS)\r\n                .build()\r\n                .register(ClientRestLoggingFilter.class)\r\n                .register(ObjectMapperContextResolver.class);\r\n\r\n\r\n**Setting the value of the timeout parameter to zero causes the server to wait indefinitely.** \r\n\r\n----\r\n\r\nAnother point to consider is if your application is deployed on a server and that server can have its own timeouts configured and could easily cut the REST connection if it sees it passes a specific timeout. \r\n\r\n\r\n-- Edited --\r\n\r\nEnable RestEasy tracing and see if we can find at what point it fails during sending.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resteasy-tracing-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"RESTEASY004655 When I generate a larger PDF file","body":"<p>As a start, you can configure your RESTEasy with specific timeouts and increase them to see if you can pass this limitation or not.</p>\n<p><a href=\"https://docs.jboss.org/resteasy/docs/4.0.0.Final/javadocs/org/jboss/resteasy/client/jaxrs/ResteasyClientBuilder.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/resteasy/docs/4.0.0.Final/javadocs/org/jboss/resteasy/client/jaxrs/ResteasyClientBuilder.html</a></p>\n<p>The RestEasyclientBuilder has 2 methods for handling timeouts:</p>\n<blockquote>\n<pre><code>The connectTimeout method replaces the establishConnectionTimeout method.\n\nThe connectTimeout method determines how long the client must wait when making a new server connection.\n\nThe readTimeout method replaces the socketTimeout method.\n\nThe readTimeout method determines how long the client must wait for a response from the server.\n</code></pre>\n</blockquote>\n<p>Example:</p>\n<pre><code>new ResteasyClientBuilder()\n            .connectTimeout(2, TimeUnit.SECONDS)\n            .readTimeout(10, TimeUnit.SECONDS)\n            .build()\n            .register(ClientRestLoggingFilter.class)\n            .register(ObjectMapperContextResolver.class);\n</code></pre>\n<p><strong>Setting the value of the timeout parameter to zero causes the server to wait indefinitely.</strong></p>\n<hr />\n<p>Another point to consider is if your application is deployed on a server and that server can have its own timeouts configured and could easily cut the REST connection if it sees it passes a specific timeout.</p>\n<p>-- Edited --</p>\n<p>Enable RestEasy tracing and see if we can find at what point it fails during sending.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n    &lt;artifactId&gt;resteasy-tracing-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15562461,"reputation":53,"user_id":11227242,"display_name":"Martin Hofman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634040188,"creation_date":1634022296,"question_id":69536348,"body_markdown":"I have a java EE application with a web part and a server part. I enter data into the web part and the server processes it and returns a PDF document.\r\n\r\nI use this api:\r\n\r\n    @Path(&quot;pdf&quot;)\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_JSON + &quot;; charset=UTF-8&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Response generatePDF(Doc d);\r\n\r\nI send the document as JSON, which can include uploaded attachments.\r\nHowever, if the JSON contains multiple files and I exceed a certain size, I get:\r\n\r\n    [org.apache.http.impl.execchain.RetryExec] (default task-1) I/O exception (java.net.SocketException) caught when processing request to {}-&gt;http://localhost:8089: Software caused connection abort: socket write error\r\n    [org.apache.http.impl.execchain.RetryExec] (default task-1) Retrying request to {}-&gt;http://localhost:8089\r\n\r\nand \r\n\r\n    javax.ejb.EJBException: javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request\r\n\r\nThis works great for documents with small content. What should I change to make it work for documents that exceed about 8 MB? The implementation of the method generatePDF(Doc d) does not run at all.\r\n\r\nThanks.\r\n\r\nUPDATE: Complete Log:\r\n\r\n        javax.ejb.EJBException: javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request\r\n        \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:246)\r\n        \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)\r\n        \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n        \tat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\r\n        \tat org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\r\n        \tat org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)\r\n        \tat org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n        \tat org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\r\n        \tat org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)\r\n        \tat org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)\r\n        \tat Bean$$$view21.getPDF(Unknown Source)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)\r\n        \tat org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)\r\n        \tat org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)\r\n        \tat org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)\r\n        \tat org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)\r\n        \tat Bean$Proxy$_$$_Weld$EnterpriseProxy$.getPDF(Unknown Source)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat javax.el.ELUtil.invokeMethod(ELUtil.java:311)\r\n        \tat javax.el.BeanELResolver.invoke(BeanELResolver.java:415)\r\n        \tat javax.el.CompositeELResolver.invoke(CompositeELResolver.java:256)\r\n        \tat com.sun.el.parser.AstValue.getValue(AstValue.java:135)\r\n        \tat com.sun.el.parser.AstValue.getValue(AstValue.java:203)\r\n        \tat com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:226)\r\n        \tat org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)\r\n        \tat org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)\r\n        \tat com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:115)\r\n        \tat org.primefaces.component.filedownload.FileDownloadActionListener.processAction(FileDownloadActionListener.java:58)\r\n        \tat javax.faces.event.ActionEvent.processListener(ActionEvent.java:96)\r\n        \tat javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:839)\r\n        \tat javax.faces.component.UICommand.broadcast(UICommand.java:315)\r\n        \tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:870)\r\n        \tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1418)\r\n        \tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)\r\n        \tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\r\n        \tat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:201)\r\n        \tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:670)\r\n        \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n        \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n        \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n        \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n        \tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n        \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n        \tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat org.wildfly.swarm.generated.FaviconErrorHandler.handleRequest(FaviconErrorHandler.java:61)\r\n        \tat io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:94)\r\n        \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n        \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n        \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n        \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n        \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n        \tat io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n        \tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n        \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        \tat org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\r\n        \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\r\n        \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n        \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\r\n        \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\r\n        \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\r\n        \tat java.lang.Thread.run(Unknown Source)\r\n        Caused by: javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request\r\n        \tat org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:321)\r\n        \tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:439)\r\n        \tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:148)\r\n        \tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\r\n        \tat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\r\n        \tat com.sun.proxy.$Proxy220.generatePDF(Unknown Source)\r\n    at Bean.getPDF(Bean.java:70)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n        \tat org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)\r\n        \tat org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\r\n        \tat org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\r\n        \tat org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n        \tat org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)\r\n        \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n        \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)\r\n        \t... 116 more\r\n        Caused by: java.net.SocketException: Software caused connection abort: socket write error\r\n        \tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n        \tat java.net.SocketOutputStream.socketWrite(Unknown Source)\r\n        \tat java.net.SocketOutputStream.write(Unknown Source)\r\n        \tat org.apache.http.impl.conn.LoggingOutputStream.write(LoggingOutputStream.java:74)\r\n        \tat org.apache.http.impl.io.SessionOutputBufferImpl.streamWrite(SessionOutputBufferImpl.java:124)\r\n        \tat org.apache.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:136)\r\n        \tat org.apache.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:167)\r\n        \tat org.apache.http.impl.io.ContentLengthOutputStream.write(ContentLengthOutputStream.java:113)\r\n        \tat org.apache.http.entity.FileEntity.writeTo(FileEntity.java:99)\r\n        \tat org.apache.http.impl.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:156)\r\n        \tat org.apache.http.impl.conn.CPoolProxy.sendRequestEntity(CPoolProxy.java:160)\r\n        \tat org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:238)\r\n        \tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:123)\r\n        \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)\r\n        \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\r\n        \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n        \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\r\n        \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n        \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n        \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n        \tat org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:317)\r\n        \t... 151 more\r\n\r\n\r\n\r\nCaused by: java.net.SocketException: Software caused connection abort: socket write error on local machine, and Caused by: java.net.SocketException: Broken pipe (Write failed) on server. That&#39;s what I just noticed.","title":"RESTEASY004655 When I generate a larger PDF file","body":"<p>I have a java EE application with a web part and a server part. I enter data into the web part and the server processes it and returns a PDF document.</p>\n<p>I use this api:</p>\n<pre><code>@Path(&quot;pdf&quot;)\n@POST\n@Consumes(MediaType.APPLICATION_JSON + &quot;; charset=UTF-8&quot;)\n@Produces(MediaType.APPLICATION_OCTET_STREAM)\npublic Response generatePDF(Doc d);\n</code></pre>\n<p>I send the document as JSON, which can include uploaded attachments.\nHowever, if the JSON contains multiple files and I exceed a certain size, I get:</p>\n<pre><code>[org.apache.http.impl.execchain.RetryExec] (default task-1) I/O exception (java.net.SocketException) caught when processing request to {}-&gt;http://localhost:8089: Software caused connection abort: socket write error\n[org.apache.http.impl.execchain.RetryExec] (default task-1) Retrying request to {}-&gt;http://localhost:8089\n</code></pre>\n<p>and</p>\n<pre><code>javax.ejb.EJBException: javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request\n</code></pre>\n<p>This works great for documents with small content. What should I change to make it work for documents that exceed about 8 MB? The implementation of the method generatePDF(Doc d) does not run at all.</p>\n<p>Thanks.</p>\n<p>UPDATE: Complete Log:</p>\n<pre><code>    javax.ejb.EJBException: javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request\n        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:246)\n        at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)\n        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n        at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\n        at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\n        at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)\n        at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\n        at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)\n        at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)\n        at Bean$$$view21.getPDF(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)\n        at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)\n        at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)\n        at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)\n        at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)\n        at Bean$Proxy$_$$_Weld$EnterpriseProxy$.getPDF(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at javax.el.ELUtil.invokeMethod(ELUtil.java:311)\n        at javax.el.BeanELResolver.invoke(BeanELResolver.java:415)\n        at javax.el.CompositeELResolver.invoke(CompositeELResolver.java:256)\n        at com.sun.el.parser.AstValue.getValue(AstValue.java:135)\n        at com.sun.el.parser.AstValue.getValue(AstValue.java:203)\n        at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:226)\n        at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)\n        at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)\n        at com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:115)\n        at org.primefaces.component.filedownload.FileDownloadActionListener.processAction(FileDownloadActionListener.java:58)\n        at javax.faces.event.ActionEvent.processListener(ActionEvent.java:96)\n        at javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:839)\n        at javax.faces.component.UICommand.broadcast(UICommand.java:315)\n        at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:870)\n        at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1418)\n        at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)\n        at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\n        at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:201)\n        at javax.faces.webapp.FacesServlet.service(FacesServlet.java:670)\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.swarm.generated.FaviconErrorHandler.handleRequest(FaviconErrorHandler.java:61)\n        at io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:94)\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\n        at java.lang.Thread.run(Unknown Source)\n    Caused by: javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request\n        at org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:321)\n        at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:439)\n        at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:148)\n        at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\n        at org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\n        at com.sun.proxy.$Proxy220.generatePDF(Unknown Source)\nat Bean.getPDF(Bean.java:70)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)\n        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\n        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\n        at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n        at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)\n        ... 116 more\n    Caused by: java.net.SocketException: Software caused connection abort: socket write error\n        at java.net.SocketOutputStream.socketWrite0(Native Method)\n        at java.net.SocketOutputStream.socketWrite(Unknown Source)\n        at java.net.SocketOutputStream.write(Unknown Source)\n        at org.apache.http.impl.conn.LoggingOutputStream.write(LoggingOutputStream.java:74)\n        at org.apache.http.impl.io.SessionOutputBufferImpl.streamWrite(SessionOutputBufferImpl.java:124)\n        at org.apache.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:136)\n        at org.apache.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:167)\n        at org.apache.http.impl.io.ContentLengthOutputStream.write(ContentLengthOutputStream.java:113)\n        at org.apache.http.entity.FileEntity.writeTo(FileEntity.java:99)\n        at org.apache.http.impl.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:156)\n        at org.apache.http.impl.conn.CPoolProxy.sendRequestEntity(CPoolProxy.java:160)\n        at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:238)\n        at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:123)\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n        at org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:317)\n        ... 151 more\n</code></pre>\n<p>Caused by: java.net.SocketException: Software caused connection abort: socket write error on local machine, and Caused by: java.net.SocketException: Broken pipe (Write failed) on server. That's what I just noticed.</p>\n"},{"tags":["java","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634039734,"creation_date":1634039734,"answer_id":69540108,"question_id":69539606,"body_markdown":"First question, why not use `POST` with the `JSON` in the request body?\r\n\r\nIf the `JSON` will be large, then you will run in a `URL` limitation problem. And you have to encode your URL with `%` and different delimiters which will make it even less debuggable.\r\n\r\nBut it is doable.\r\nLet&#39;s say that you correctly encoded your URL and the JSON is as a `query param`.\r\nWhat you could do is receive it and either traverse it and create/populate your form or map it to an object and use that:\r\n\r\n```java\r\npublic ModelAndView viewDomainForm(... @RequestParam(&quot;data&quot;) String jsonDataInUrl...) \r\n{\r\n   // Work with jsonDataInUrl either through parsing it or through transforming it into a java bean.\r\n   ...\r\n}\r\n```\r\n\r\n[Here][1] is a URL decoder/encoder in case you need it.\r\n\r\n \r\n\r\n\r\n  [1]: https://meyerweb.com/eric/tools/dencoder/","title":"how to Populate fields from URL parameter in java Springboot","body":"<p>First question, why not use <code>POST</code> with the <code>JSON</code> in the request body?</p>\n<p>If the <code>JSON</code> will be large, then you will run in a <code>URL</code> limitation problem. And you have to encode your URL with <code>%</code> and different delimiters which will make it even less debuggable.</p>\n<p>But it is doable.\nLet's say that you correctly encoded your URL and the JSON is as a <code>query param</code>.\nWhat you could do is receive it and either traverse it and create/populate your form or map it to an object and use that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ModelAndView viewDomainForm(... @RequestParam(&quot;data&quot;) String jsonDataInUrl...) \n{\n   // Work with jsonDataInUrl either through parsing it or through transforming it into a java bean.\n   ...\n}\n</code></pre>\n<p><a href=\"https://meyerweb.com/eric/tools/dencoder/\" rel=\"nofollow noreferrer\">Here</a> is a URL decoder/encoder in case you need it.</p>\n"}],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634039734,"creation_date":1634037501,"question_id":69539606,"body_markdown":"I need to add support for passing field values to a form via a URL parameter when viewing a form which will be used to populate values into the form when it loads.  should support a JSON formatted value of field names and values.  Example:\r\n\r\nhttps://web/form/view?id=1&amp;data={&#39;fieldname&#39;:&#39;value&#39;}\r\n\r\n\r\n```\r\n\r\n    @RequestMapping(value = &quot;/form/view&quot;, method = RequestMethod.GET)\r\n    public ModelAndView viewDomainForm(HttpSession session, @ModelAttribute(&quot;command&quot;) FormBean inFormBean) {\r\n    \r\n\r\n        Form form = formService.getForm(inFormBean.getId());\r\n\r\n        FormInstance formInstance = formInstanceService.createFormInstance(form);\r\n\r\n        String formInstanceId = (String) session.getAttribute(&quot;formInstanceId&quot;);\r\n        if (formInstanceId != null &amp;&amp; formInstanceId.length() &gt; 0) {\r\n            formInstanceService.deleteFormInstanceById(formInstanceId);\r\n        }\r\n        formInstanceId = formInstance.getId();\r\n        session.setAttribute(&quot;formInstanceId&quot;, formInstanceId);\r\n\r\n        FormBean formBean = prepareFormBean(form);\r\n        formBean.setEmbed(inFormBean.isEmbed());\r\n        formBean.setFormInstanceId(formInstance.getId());\r\n\r\n        Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;();\r\n        model.put(&quot;externalBaseUrl&quot;, configurationService.getValue(&quot;core.external.url.base&quot;));\r\n        model.put(&quot;fromTaskList&quot;, false);\r\n        model.put(&quot;form&quot;, formBean);\r\n        model.put(&quot;flow&quot;, new FlowBean());\r\n        model.put(&quot;task&quot;, new TaskBean());\r\n        return new ModelAndView(&quot;form-viewer&quot;, model);\r\n    }\r\n\r\n```\r\n\r\n\r\nI have this method for viewing. what would be the best way to Populate fields from URL parameter?\r\n\r\n```\r\n public String getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(String data) {\r\n        this.data = data;\r\n    }\r\n\r\n// this is the value that will populate into the form when it loads.\r\n\r\n```","title":"how to Populate fields from URL parameter in java Springboot","body":"<p>I need to add support for passing field values to a form via a URL parameter when viewing a form which will be used to populate values into the form when it loads.  should support a JSON formatted value of field names and values.  Example:</p>\n<p>https://web/form/view?id=1&amp;data={'fieldname':'value'}</p>\n<pre><code>\n    @RequestMapping(value = &quot;/form/view&quot;, method = RequestMethod.GET)\n    public ModelAndView viewDomainForm(HttpSession session, @ModelAttribute(&quot;command&quot;) FormBean inFormBean) {\n    \n\n        Form form = formService.getForm(inFormBean.getId());\n\n        FormInstance formInstance = formInstanceService.createFormInstance(form);\n\n        String formInstanceId = (String) session.getAttribute(&quot;formInstanceId&quot;);\n        if (formInstanceId != null &amp;&amp; formInstanceId.length() &gt; 0) {\n            formInstanceService.deleteFormInstanceById(formInstanceId);\n        }\n        formInstanceId = formInstance.getId();\n        session.setAttribute(&quot;formInstanceId&quot;, formInstanceId);\n\n        FormBean formBean = prepareFormBean(form);\n        formBean.setEmbed(inFormBean.isEmbed());\n        formBean.setFormInstanceId(formInstance.getId());\n\n        Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;();\n        model.put(&quot;externalBaseUrl&quot;, configurationService.getValue(&quot;core.external.url.base&quot;));\n        model.put(&quot;fromTaskList&quot;, false);\n        model.put(&quot;form&quot;, formBean);\n        model.put(&quot;flow&quot;, new FlowBean());\n        model.put(&quot;task&quot;, new TaskBean());\n        return new ModelAndView(&quot;form-viewer&quot;, model);\n    }\n\n</code></pre>\n<p>I have this method for viewing. what would be the best way to Populate fields from URL parameter?</p>\n<pre><code> public String getData() {\n        return data;\n    }\n\n    public void setData(String data) {\n        this.data = data;\n    }\n\n// this is the value that will populate into the form when it loads.\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8041,"page":1951,"page_size":100}
