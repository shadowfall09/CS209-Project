{"items":[{"tags":["java","android","remoteview"],"comments":[{"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"score":0,"creation_date":1460909136,"post_id":8286907,"comment_id":60947616,"body_markdown":"Did you solve this man?","body":"Did you solve this man?"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322414737,"creation_date":1322414737,"answer_id":8287450,"question_id":8286907,"body_markdown":"You could try inflating a different layout with your `RemoteViews`, one with the widgets in your desired position. I am not sure that it will work, but it is worth a try.","title":"Set position of view in RemoteView during runtime","body":"<p>You could try inflating a different layout with your <code>RemoteViews</code>, one with the widgets in your desired position. I am not sure that it will work, but it is worth a try.</p>\n"},{"tags":[],"owner":{"account_id":1236402,"reputation":1258,"user_id":1199911,"display_name":"mtotschnig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697662519,"creation_date":1697662207,"answer_id":77319521,"question_id":8286907,"body_markdown":"Since API 31, setTranslationX can be called on RemoteViews, since it is has been annotated as RemotableViewMethod. Either with:\r\n\r\n    myRemoteView.setFloat(R.id.myTextView, &quot;setTranslationX&quot;, 5f)\r\n\r\nor by using an extension method from RemoteViewsCompat:\r\n\r\n    myRemoteView.setViewTranslationXDimen(R.id.myTextView, 5f, TypedValue.COMPLEX_UNIT_PX)\r\n\r\n","title":"Set position of view in RemoteView during runtime","body":"<p>Since API 31, setTranslationX can be called on RemoteViews, since it is has been annotated as RemotableViewMethod. Either with:</p>\n<pre><code>myRemoteView.setFloat(R.id.myTextView, &quot;setTranslationX&quot;, 5f)\n</code></pre>\n<p>or by using an extension method from RemoteViewsCompat:</p>\n<pre><code>myRemoteView.setViewTranslationXDimen(R.id.myTextView, 5f, TypedValue.COMPLEX_UNIT_PX)\n</code></pre>\n"}],"owner":{"account_id":420555,"reputation":1492,"user_id":798314,"accept_rate":64,"display_name":"Verhelst"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697662519,"creation_date":1322410205,"question_id":8286907,"body_markdown":"I&#39;m looking for a way to change the position of a view in a\r\n homescreen widget/remoteview during runtime.\r\nI also saw [this topic][1] before but the answer given there didn&#39;t help me or even work.\r\n\r\nFor example:\r\n\r\nI&#39;m trying to shift the x position of the TextView by 5 pixels:\r\n\r\n    myRemoteView.setFloat(R.id.myTextView, &quot;setTranslationX&quot;, 5); // does not work\r\n    myRemoteView.setFloat(R.id.myTextView, &quot;setX&quot;, 5); // does not work\r\n    myRemoteView.setInt(R.id.myTextView, &quot;setLeft&quot;, 5); // does not work\r\n\r\nI couldn&#39;t find somewhere else a useful answer that could help me. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6153484/set-position-of-textview-in-remoteview-during-runtime","title":"Set position of view in RemoteView during runtime","body":"<p>I'm looking for a way to change the position of a view in a\n homescreen widget/remoteview during runtime.\nI also saw <a href=\"https://stackoverflow.com/questions/6153484/set-position-of-textview-in-remoteview-during-runtime\">this topic</a> before but the answer given there didn't help me or even work.</p>\n\n<p>For example:</p>\n\n<p>I'm trying to shift the x position of the TextView by 5 pixels:</p>\n\n<pre><code>myRemoteView.setFloat(R.id.myTextView, \"setTranslationX\", 5); // does not work\nmyRemoteView.setFloat(R.id.myTextView, \"setX\", 5); // does not work\nmyRemoteView.setInt(R.id.myTextView, \"setLeft\", 5); // does not work\n</code></pre>\n\n<p>I couldn't find somewhere else a useful answer that could help me. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697642165,"post_id":77317550,"comment_id":136306269,"body_markdown":"`user.name` or `user.home`? You’ve mentioned both.","body":"<code>user.name</code> or <code>user.home</code>? You’ve mentioned both."},{"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1697642569,"post_id":77317550,"comment_id":136306372,"body_markdown":"Thanks. Corrected the original post to be user.home which is the focus.","body":"Thanks. Corrected the original post to be user.home which is the focus."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697642662,"post_id":77317550,"comment_id":136306390,"body_markdown":"Given modifying the `USERPROFILE` environment variable doesn&#39;t affect the Java process, I assume it uses some Windows API that reports your actual user profile directory.","body":"Given modifying the <code>USERPROFILE</code> environment variable doesn&#39;t affect the Java process, I assume it uses some Windows API that reports your actual user profile directory."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697642841,"post_id":77317550,"comment_id":136306431,"body_markdown":"Have you read the documentation? https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--","body":"Have you read the documentation? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1697642956,"post_id":77317550,"comment_id":136306448,"body_markdown":"Presumably, based on [this question](https://superuser.com/questions/964363/how-do-i-change-the-user-profile-location-in-windows-10), it uses the `ProfilesDirectory` in `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileList` registry key, but I have no interest in mucking with that to verify that (and nor should you, because it can break your Windows profile AFAIK!), and I haven&#39;t got the Java code checked out to search for it.","body":"Presumably, based on <a href=\"https://superuser.com/questions/964363/how-do-i-change-the-user-profile-location-in-windows-10\">this question</a>, it uses the <code>ProfilesDirectory</code> in <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileList</code> registry key, but I have no interest in mucking with that to verify that (and nor should you, because it can break your Windows profile AFAIK!), and I haven&#39;t got the Java code checked out to search for it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697642988,"post_id":77317550,"comment_id":136306459,"body_markdown":"@aled There is nothing in your link that answers the question.","body":"@aled There is nothing in your link that answers the question."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1697643089,"post_id":77317550,"comment_id":136306477,"body_markdown":"You may want to explain why you want to change your `user.home`, because `c:\\Users\\User1` **is** your home directory, maybe instead you just need to worry about `user.dir` instead?","body":"You may want to explain why you want to change your <code>user.home</code>, because <code>c:\\Users\\User1</code> <b>is</b> your home directory, maybe instead you just need to worry about <code>user.dir</code> instead?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697662420,"creation_date":1697648429,"answer_id":77318295,"question_id":77317550,"body_markdown":"The current implementation as of JDK 21 ([source code][1]) is to search the registry [known key][2] `FOLDERID_Profile`:\r\n```\r\nhr = SHGetKnownFolderPath(&amp;FOLDERID_Profile, KF_FLAG_DONT_VERIFY, NULL, &amp;u_path);\r\n```\r\nThis should provide the same result that the environment variable `%USERPROFILE%`.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/windows/native/libjava/java_props_md.c#L228\r\n  [2]: https://learn.microsoft.com/en-us/windows/win32/shell/knownfolderid","title":"Where does Java System.getProperty retrieve user.home?","body":"<p>The current implementation as of JDK 21 (<a href=\"https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/windows/native/libjava/java_props_md.c#L228\" rel=\"nofollow noreferrer\">source code</a>) is to search the registry <a href=\"https://learn.microsoft.com/en-us/windows/win32/shell/knownfolderid\" rel=\"nofollow noreferrer\">known key</a> <code>FOLDERID_Profile</code>:</p>\n<pre><code>hr = SHGetKnownFolderPath(&amp;FOLDERID_Profile, KF_FLAG_DONT_VERIFY, NULL, &amp;u_path);\n</code></pre>\n<p>This should provide the same result that the environment variable <code>%USERPROFILE%</code>.</p>\n"}],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77318295,"answer_count":1,"score":1,"last_activity_date":1697662420,"creation_date":1697641676,"question_id":77317550,"body_markdown":"Found similar samples but none answered the question from where the user.home value is retrieved when not explicitly set. \r\n\r\nPer researching :\r\n\r\nSystem.**getenv** - retrieves environment variables set on the OS.\r\n\r\nSystem.**getProperty** - retrieves variables set wtihin the JVM via the -D option.\r\n\r\nWorking with user.home and changed this value via the Windows RegEdit to c:\\MyFolder\\User1\\TempDir\r\n\r\n    Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders\r\n\r\nThe following test executes both getenv and getProperty.\r\n\r\n    public class SystemPropertyTest \r\n    {\r\n    \tpublic static void main(String[] args)  \r\n    \t{\r\n    \t\tSystem.out.println(&quot;user.home = &quot; + System.getenv(&quot;user.home&quot;));\r\n    \t\tSystem.out.println(&quot;user.home = &quot; + System.getProperty(&quot;user.home&quot;));\r\n    \t\t\r\n        }\r\n    }\r\n\r\ngetenv returns :  c:\\MyFolder\\User1\\TempDir\r\n\r\nEven running &quot;set user.home&quot; at the command prompt returns : c:\\MyFolder\\User1\\TempDir\r\n\r\ngetProperty returns : c:\\Users\\User1       \r\n\r\nSince I never set the user.home within the Java runtime, from where is the user.home being retrieve for the getProperty call and can it be manipulated at the OS level without making a setProperty call or passing in a value via -D?\r\n","title":"Where does Java System.getProperty retrieve user.home?","body":"<p>Found similar samples but none answered the question from where the user.home value is retrieved when not explicitly set.</p>\n<p>Per researching :</p>\n<p>System.<strong>getenv</strong> - retrieves environment variables set on the OS.</p>\n<p>System.<strong>getProperty</strong> - retrieves variables set wtihin the JVM via the -D option.</p>\n<p>Working with user.home and changed this value via the Windows RegEdit to c:\\MyFolder\\User1\\TempDir</p>\n<pre><code>Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders\n</code></pre>\n<p>The following test executes both getenv and getProperty.</p>\n<pre><code>public class SystemPropertyTest \n{\n    public static void main(String[] args)  \n    {\n        System.out.println(&quot;user.home = &quot; + System.getenv(&quot;user.home&quot;));\n        System.out.println(&quot;user.home = &quot; + System.getProperty(&quot;user.home&quot;));\n        \n    }\n}\n</code></pre>\n<p>getenv returns :  c:\\MyFolder\\User1\\TempDir</p>\n<p>Even running &quot;set user.home&quot; at the command prompt returns : c:\\MyFolder\\User1\\TempDir</p>\n<p>getProperty returns : c:\\Users\\User1</p>\n<p>Since I never set the user.home within the Java runtime, from where is the user.home being retrieve for the getProperty call and can it be manipulated at the OS level without making a setProperty call or passing in a value via -D?</p>\n"},{"tags":["java","list","concurrency","kotlin","thread-safety"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":1,"creation_date":1527719082,"post_id":50614086,"comment_id":88238096,"body_markdown":"Why not just use the Java one? It will work fine since Kotlin is completely interoperable with Java. Kotlin&#39;s mutable lists are not thread-safe.","body":"Why not just use the Java one? It will work fine since Kotlin is completely interoperable with Java. Kotlin&#39;s mutable lists are not thread-safe."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1527719261,"post_id":50614086,"comment_id":88238151,"body_markdown":"@Shadov I don&#39;t think Kotlin&#39;s collection library is interoperable with the JDK&#39;s.","body":"@Shadov I don&#39;t think Kotlin&#39;s collection library is interoperable with the JDK&#39;s."},{"owner":{"account_id":4882024,"reputation":1990,"user_id":3935512,"accept_rate":67,"display_name":"A.Sanchez.SD"},"score":1,"creation_date":1527719929,"post_id":50614086,"comment_id":88238331,"body_markdown":"If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;  Not sure if that is merely a suggestion or serious direction due to some issue...","body":"If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;  Not sure if that is merely a suggestion or serious direction due to some issue..."},{"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":2,"creation_date":1527744323,"post_id":50614086,"comment_id":88244113,"body_markdown":"@shmosel Yes, it is: https://kotlinlang.org/docs/reference/java-interop.html#mapped-types.","body":"@shmosel Yes, it is: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html#mapped-types</a>&zwnj;&#8203;."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1527744607,"post_id":50614086,"comment_id":88244209,"body_markdown":"@AlexeyRomanov Interesting. So does that mean you can actually use the `Collections` wrappers?","body":"@AlexeyRomanov Interesting. So does that mean you can actually use the <code>Collections</code> wrappers?"},{"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":2,"creation_date":1527745012,"post_id":50614086,"comment_id":88244363,"body_markdown":"@shmosel Yes (in a JVM-only project, of course).","body":"@shmosel Yes (in a JVM-only project, of course)."},{"owner":{"account_id":2994944,"reputation":51,"user_id":2541656,"display_name":"Grigory Azaryan"},"score":1,"creation_date":1659661149,"post_id":50614086,"comment_id":129353138,"body_markdown":"A thread-safe ArrayList [CopyOnWriteArrayList](https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html)","body":"A thread-safe ArrayList <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\">CopyOnWriteArrayList</a>"}],"answers":[{"tags":[],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1527744184,"creation_date":1527744184,"answer_id":50617166,"question_id":50614086,"body_markdown":"&gt; If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;\r\n\r\nJava lists (and other collections) are [mapped types][1] in Kotlin. So you _can_ use `Collections.synchronizedList`, and it takes and returns a Kotlin `List` or `MutableList`.\r\n\r\nOTOH, `synchronizedList` is rarely what you actually want: it works for single method calls, but anything else must be synchronized manually.\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/java-interop.html#mapped-types","title":"Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin","body":"<blockquote>\n  <p>If I try to use the Java List a warning message comes up \"This class shouldn't be used in Kotlin...\"</p>\n</blockquote>\n\n<p>Java lists (and other collections) are <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"noreferrer\">mapped types</a> in Kotlin. So you <em>can</em> use <code>Collections.synchronizedList</code>, and it takes and returns a Kotlin <code>List</code> or <code>MutableList</code>.</p>\n\n<p>OTOH, <code>synchronizedList</code> is rarely what you actually want: it works for single method calls, but anything else must be synchronized manually.</p>\n"},{"tags":[],"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697662271,"creation_date":1697662271,"answer_id":77319528,"question_id":50614086,"body_markdown":"You can use CopyOnWriteArrayList is a thread-safe variant of Arraylist","title":"Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin","body":"<p>You can use CopyOnWriteArrayList is a thread-safe variant of Arraylist</p>\n"}],"owner":{"account_id":4882024,"reputation":1990,"user_id":3935512,"accept_rate":67,"display_name":"A.Sanchez.SD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35498,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":50617166,"answer_count":2,"score":32,"last_activity_date":1697662271,"creation_date":1527718760,"question_id":50614086,"body_markdown":"Coding in Kotlin, want a thread-safe List as described here: https://stackoverflow.com/questions/17578299/java-concurrent-array-list-access\r\n\r\nIt seems Collections.kt does not have this function. Are Kotlin&#39;s mutable lists already threadsafe ? If not, how do I accomplish this ? \r\n\r\nThanks. ","title":"Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin","body":"<p>Coding in Kotlin, want a thread-safe List as described here: <a href=\"https://stackoverflow.com/questions/17578299/java-concurrent-array-list-access\">java concurrent Array List access</a></p>\n\n<p>It seems Collections.kt does not have this function. Are Kotlin's mutable lists already threadsafe ? If not, how do I accomplish this ? </p>\n\n<p>Thanks. </p>\n"},{"tags":["java","android","gradle","plugins"],"owner":{"account_id":28829619,"reputation":35,"user_id":22080388,"display_name":"aprotiere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697661226,"creation_date":1697661226,"question_id":77319432,"body_markdown":"When trying to sync my android project with gradle I have the following error : \r\n\r\n    Unable to load class &#39;com.android.build.gradle.AppPlugin&#39;.\r\n    \r\n    This is an unexpected error. Please file a bug containing the idea.log file.\r\n\r\nAnd : \r\n\r\n    Build file &#39;C:\\Users\\user\\Desktop\\android\\android-anpr-master\\app\\build.gradle&#39; line: 1\r\n    \r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Could not find implementation class &#39;com.android.build.gradle.AppPlugin&#39; for plugin &#39;com.android.application&#39; specified in jar:file:/C:/Users/aprotiere/.gradle/caches/jars-9/f84232a270d8a27731cbe96e1da64c89/gradle-8.1.2.jar!/META-INF/gradle-plugins/com.android.application.properties.\r\n\r\n\r\nHere is my build.gradle (app) : \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 31\r\n        buildToolsVersion &#39;19.0.3&#39;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.DVLA.testapp&quot;\r\n            minSdkVersion 14\r\n            //noinspection OldTargetApi,EditedTargetSdkVersion\r\n            targetSdkVersion 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false // You can enable minification if needed\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;http://maven2.javacv.googlecode.com/git/&#39; }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;:1.6.1&#39; // Use the latest version\r\n        implementation &#39;com.android.tools.build:gradle:8.1.2&#39;\r\n        implementation &#39;joda-time:joda-time:2.12.5&#39; // Update the version of Joda-Time\r\n        implementation files(&#39;libs/javacpp.jar&#39;)\r\n        implementation files(&#39;libs/javacv.jar&#39;)\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation project(&#39;:libraries:opencv&#39;) // Make sure the project path is correct\r\n    \r\n    }\r\n    \r\nbuild.gradle (project) : \r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            google()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:8.1.2&#39;\r\n            classpath &#39;com.github.dcendents:android-maven-gradle-plugin:2.1&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenCentral()\r\n            google()\r\n        }\r\n    }\r\n\r\nIf you need any missing information please let me know. I can provide logs and other files like gradle-wrapper.properties but I don&#39;t want the post to be so long unless it&#39;s needed. \r\n\r\nThanks \r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to load class &#39;com.android.build.gradle.AppPlugin&#39;","body":"<p>When trying to sync my android project with gradle I have the following error :</p>\n<pre><code>Unable to load class 'com.android.build.gradle.AppPlugin'.\n\nThis is an unexpected error. Please file a bug containing the idea.log file.\n</code></pre>\n<p>And :</p>\n<pre><code>Build file 'C:\\Users\\user\\Desktop\\android\\android-anpr-master\\app\\build.gradle' line: 1\n\nA problem occurred evaluating project ':app'.\n&gt; Could not find implementation class 'com.android.build.gradle.AppPlugin' for plugin 'com.android.application' specified in jar:file:/C:/Users/aprotiere/.gradle/caches/jars-9/f84232a270d8a27731cbe96e1da64c89/gradle-8.1.2.jar!/META-INF/gradle-plugins/com.android.application.properties.\n</code></pre>\n<p>Here is my build.gradle (app) :</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion '19.0.3'\n\n    defaultConfig {\n        applicationId &quot;com.DVLA.testapp&quot;\n        minSdkVersion 14\n        //noinspection OldTargetApi,EditedTargetSdkVersion\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false // You can enable minification if needed\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'http://maven2.javacv.googlecode.com/git/' }\n}\n\ndependencies {\n    implementation ':1.6.1' // Use the latest version\n    implementation 'com.android.tools.build:gradle:8.1.2'\n    implementation 'joda-time:joda-time:2.12.5' // Update the version of Joda-Time\n    implementation files('libs/javacpp.jar')\n    implementation files('libs/javacv.jar')\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation project(':libraries:opencv') // Make sure the project path is correct\n\n}\n</code></pre>\n<p>build.gradle (project) :</p>\n<p>// Top-level build file where you can add configuration options common to all sub-projects/modules.</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.1.2'\n        classpath 'com.github.dcendents:android-maven-gradle-plugin:2.1'\n    }\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        google()\n    }\n}\n</code></pre>\n<p>If you need any missing information please let me know. I can provide logs and other files like gradle-wrapper.properties but I don't want the post to be so long unless it's needed.</p>\n<p>Thanks</p>\n"},{"tags":["java","oracle","jpa","timestamp","criteriaquery"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1481159778,"post_id":41030148,"comment_id":69267979,"body_markdown":"*But in Java I have failed to do so* - Failure is not an option, so please tell us how **you** are failing","body":"<i>But in Java I have failed to do so</i> - Failure is not an option, so please tell us how <b>you</b> are failing"},{"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"score":0,"creation_date":1481159931,"post_id":41030148,"comment_id":69268024,"body_markdown":"@ScaryWombat I got this error message: ORA-01858: a non-numeric character was found where a numeric was expected. I suspected something wrong with cb.literal().","body":"@ScaryWombat I got this error message: ORA-01858: a non-numeric character was found where a numeric was expected. I suspected something wrong with cb.literal()."},{"owner":{"account_id":6288567,"reputation":201,"user_id":4886960,"display_name":"diufanman"},"score":0,"creation_date":1481163265,"post_id":41030148,"comment_id":69268873,"body_markdown":"hey just print out the actual sql for the criteriaquery and the binding parameter then you will know what the problem is. I guess it is the TO_DATE function which takes an String argument but NOT Date type argument.","body":"hey just print out the actual sql for the criteriaquery and the binding parameter then you will know what the problem is. I guess it is the TO_DATE function which takes an String argument but NOT Date type argument."},{"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"score":0,"creation_date":1481174515,"post_id":41030148,"comment_id":69271892,"body_markdown":"@diufanman Yes, correct. I also found out this is the root cause of problem. Thank you!","body":"@diufanman Yes, correct. I also found out this is the root cause of problem. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1481174480,"creation_date":1481174480,"answer_id":41032293,"question_id":41030148,"body_markdown":"Seems like I have found my answer:\r\n\r\n    predicates.add(cb.equal(cb.function(&quot;TRUNC&quot;, Date.class, myClass.get(&quot;somethingTs&quot;)), cb.function(&quot;TO_DATE&quot;, String.class, cb.parameter(String.class, &quot;somethingTs&quot;), cb.literal(&quot;YYYY-MM-DD&quot;))));\r\n\r\nThen when I set parameter, I will set the String format of date to query.\r\n\r\nThanks!","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>Seems like I have found my answer:</p>\n\n<pre><code>predicates.add(cb.equal(cb.function(\"TRUNC\", Date.class, myClass.get(\"somethingTs\")), cb.function(\"TO_DATE\", String.class, cb.parameter(String.class, \"somethingTs\"), cb.literal(\"YYYY-MM-DD\"))));\n</code></pre>\n\n<p>Then when I set parameter, I will set the String format of date to query.</p>\n\n<p>Thanks!</p>\n"},{"tags":[],"owner":{"account_id":3663045,"reputation":841,"user_id":3052312,"accept_rate":86,"display_name":"MitchBroadhead"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520785089,"creation_date":1505142400,"answer_id":46158877,"question_id":41030148,"body_markdown":"Javatar&#39;s answer didn&#39;t solve my specific case but here is what helped me in case it helps anyone.\r\n\r\n    private List&lt;MyClass&gt; selectMyClassByDate(Date date) {\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;MyClass&gt; cq = cb.createQuery(MyClass.class);\r\n\t\tRoot&lt;MyClass&gt; myClass = cq.from(MyClass.class);\r\n\t\tcq.select(myClass);\r\n\t\tcq.where(cb.equal(cb.function(&quot;date&quot;, Date.class,\r\n            myClass.get(MyClass_.timestamp)), date));\r\n\t\tfinal TypedQuery&lt;MyClass&gt; tq = em.createQuery(cq);\r\n        log.fine(\r\n            tq.unwrap(org.apache.openjpa.persistence.QueryImpl.class)\r\n                .getQueryString());\r\n\t\tList&lt;MyClass&gt; myClassList = tq.getResultList();\r\n\t\treturn myClassList;\r\n\t}\r\nsorry this only applies to MYSQL\r\n","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>Javatar's answer didn't solve my specific case but here is what helped me in case it helps anyone.</p>\n\n<pre><code>private List&lt;MyClass&gt; selectMyClassByDate(Date date) {\n    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;MyClass&gt; cq = cb.createQuery(MyClass.class);\n    Root&lt;MyClass&gt; myClass = cq.from(MyClass.class);\n    cq.select(myClass);\n    cq.where(cb.equal(cb.function(\"date\", Date.class,\n        myClass.get(MyClass_.timestamp)), date));\n    final TypedQuery&lt;MyClass&gt; tq = em.createQuery(cq);\n    log.fine(\n        tq.unwrap(org.apache.openjpa.persistence.QueryImpl.class)\n            .getQueryString());\n    List&lt;MyClass&gt; myClassList = tq.getResultList();\n    return myClassList;\n}\n</code></pre>\n\n<p>sorry this only applies to MYSQL</p>\n"},{"tags":[],"owner":{"account_id":277571,"reputation":1676,"user_id":571653,"accept_rate":68,"display_name":"abhihello123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580152557,"creation_date":1580152557,"answer_id":59937499,"question_id":41030148,"body_markdown":"Javatar&#39;s answer even if works is not perfect since to_date returns Date and not String. Also there is not much point to use a parameter, better use a literal. Here is my answer which would work for anyone.\r\n\r\n                \r\n\r\n    predicates.add(criteriaBuilder.lessThanOrEqualTo(criteriaBuilder.function(&quot;TRUNC&quot;, java.sql.Date.class, root.get(&quot;executionDateTime&quot;)),\r\n                                                                     criteriaBuilder.function(&quot;TO_DATE&quot;, java.sql.Date.class, criteriaBuilder.literal(request.getExecutionToDate().toString()),\r\n                                                                             criteriaBuilder.literal(&quot;yyyy-mm-dd&quot;))));","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>Javatar's answer even if works is not perfect since to_date returns Date and not String. Also there is not much point to use a parameter, better use a literal. Here is my answer which would work for anyone.</p>\n\n<pre><code>predicates.add(criteriaBuilder.lessThanOrEqualTo(criteriaBuilder.function(\"TRUNC\", java.sql.Date.class, root.get(\"executionDateTime\")),\n                                                                 criteriaBuilder.function(\"TO_DATE\", java.sql.Date.class, criteriaBuilder.literal(request.getExecutionToDate().toString()),\n                                                                         criteriaBuilder.literal(\"yyyy-mm-dd\"))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20251438,"reputation":11,"user_id":14852434,"display_name":"Ladgelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697661219,"creation_date":1660742267,"answer_id":73389183,"question_id":41030148,"body_markdown":"A simple solution that worked for me. I create a Calendar variable setting the day I want to compare. But I truncated the date to consider until days and discosidering hours, minutes and seconds.\r\n\r\nSo the idea is trunc using Calendar to prevent using CriteriaBuilder.function().\r\n\r\n``` \r\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\nJoin&lt;A, B&gt; joinB = a.join(&quot;B&quot;);\r\nCalendar startOfTheCurrentDay = GregorianCalendar.from(\r\n\t\t\t\t\tZonedDateTime.ofInstant(Instant.now().truncatedTo(ChronoUnit.DAYS), ZoneId.systemDefault()));\r\n\r\npredicates.add(\r\n\tcriteriaBuilder.lessThanOrEqualTo(\r\n\t\tcriteriaBuilder.literal(startOfTheCurrentDay),\r\n\t\tjoinB.&lt;Calendar&gt;get(&quot;expirationDate&quot;)\r\n\t)\r\n);\r\n```\r\n\r\n","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>A simple solution that worked for me. I create a Calendar variable setting the day I want to compare. But I truncated the date to consider until days and discosidering hours, minutes and seconds.</p>\n<p>So the idea is trunc using Calendar to prevent using CriteriaBuilder.function().</p>\n<pre><code>List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\nJoin&lt;A, B&gt; joinB = a.join(&quot;B&quot;);\nCalendar startOfTheCurrentDay = GregorianCalendar.from(\n                    ZonedDateTime.ofInstant(Instant.now().truncatedTo(ChronoUnit.DAYS), ZoneId.systemDefault()));\n\npredicates.add(\n    criteriaBuilder.lessThanOrEqualTo(\n        criteriaBuilder.literal(startOfTheCurrentDay),\n        joinB.&lt;Calendar&gt;get(&quot;expirationDate&quot;)\n    )\n);\n</code></pre>\n"}],"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22486,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":41032293,"answer_count":4,"score":5,"last_activity_date":1697661219,"creation_date":1481159585,"question_id":41030148,"body_markdown":"Let say I have a column in Oracle DB like this:\r\n\r\n`SOMETHING_TS     TIMESTAMP WITH TIME ZONE`\r\n\r\nAnd I would like to use CriteriaQuery to filter by this column.\r\n\r\nI can used native query to achieve this:\r\n\r\n        SELECT * \r\n        FROM SOMETHING\r\n        WHERE TRUNC(SOMETHING_TS) = TO_DATE(&#39;2016-12-08&#39;,&#39;YYYY-MM-DD&#39;);\r\n\r\nBut in Java I have failed to do so, below is my sample code:\r\n\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;MyClass&gt; cq = cb.createQuery(MyClass.class);\r\n        Date date = new Date();\r\n\r\n        predicates.add(cb.equal(cb.function(&quot;TRUNC&quot;, Date.class, myClass.get(&quot;somethingTs&quot;)), cb.function(&quot;TO_DATE&quot;, Date.class, cb.parameter(Date.class, &quot;somethingTs&quot;), cb.literal(&quot;YYYY-MM-DD&quot;))));\r\n\r\n        Predicate[] predArray = new Predicate[predicates.size()];\r\n\t\tpredicates.toArray(predArray);\r\n\r\n\t\tcq.where(predArray);\r\n\r\n\t\tTypedQuery&lt;MyClass&gt; query = em.createQuery(cq);\r\n        query.setParameter(&quot;somethingDt&quot;, date);","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>Let say I have a column in Oracle DB like this:</p>\n\n<p><code>SOMETHING_TS     TIMESTAMP WITH TIME ZONE</code></p>\n\n<p>And I would like to use CriteriaQuery to filter by this column.</p>\n\n<p>I can used native query to achieve this:</p>\n\n<pre><code>    SELECT * \n    FROM SOMETHING\n    WHERE TRUNC(SOMETHING_TS) = TO_DATE('2016-12-08','YYYY-MM-DD');\n</code></pre>\n\n<p>But in Java I have failed to do so, below is my sample code:</p>\n\n<pre><code>    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;MyClass&gt; cq = cb.createQuery(MyClass.class);\n    Date date = new Date();\n\n    predicates.add(cb.equal(cb.function(\"TRUNC\", Date.class, myClass.get(\"somethingTs\")), cb.function(\"TO_DATE\", Date.class, cb.parameter(Date.class, \"somethingTs\"), cb.literal(\"YYYY-MM-DD\"))));\n\n    Predicate[] predArray = new Predicate[predicates.size()];\n    predicates.toArray(predArray);\n\n    cq.where(predArray);\n\n    TypedQuery&lt;MyClass&gt; query = em.createQuery(cq);\n    query.setParameter(\"somethingDt\", date);\n</code></pre>\n"},{"tags":["java","scala","gzip","java-17"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1697660873,"post_id":77319353,"comment_id":136309484,"body_markdown":"Similar: [*Change in GZIPOutputStream behavior in Java 17?*](https://stackoverflow.com/q/77305259/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/77305259/642706\"><i>Change in GZIPOutputStream behavior in Java 17?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1697661174,"creation_date":1697661174,"answer_id":77319426,"question_id":77319353,"body_markdown":"If we look at both your outputs in hex, we have these two pieces of data\r\n\r\n    1f8b08000000000000ff2b492d2ed12d2e29cacc4b0700857490720b000000\r\n                      ^^\r\n    1f8b08000000000000002b492d2ed12d2e29cacc4b0700857490720b000000\r\n                      ^^\r\nBasically 1 byte changed from 0 to 255 (ff in hex). That&#39;s the [OS header][1] of the gzip format, which was changed from 0 to 255 in java 16 according to this :https://bugs.openjdk.org/browse/JDK-8244706\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61715912/why-is-the-gzip-os-header-hard-coded-to-fat-in-java","title":"Gzip compression of a string gives different results in java11 vs java17","body":"<p>If we look at both your outputs in hex, we have these two pieces of data</p>\n<pre><code>1f8b08000000000000ff2b492d2ed12d2e29cacc4b0700857490720b000000\n                  ^^\n1f8b08000000000000002b492d2ed12d2e29cacc4b0700857490720b000000\n                  ^^\n</code></pre>\n<p>Basically 1 byte changed from 0 to 255 (ff in hex). That's the <a href=\"https://stackoverflow.com/questions/61715912/why-is-the-gzip-os-header-hard-coded-to-fat-in-java\">OS header</a> of the gzip format, which was changed from 0 to 255 in java 16 according to this :<a href=\"https://bugs.openjdk.org/browse/JDK-8244706\" rel=\"noreferrer\">https://bugs.openjdk.org/browse/JDK-8244706</a></p>\n"}],"owner":{"account_id":16250750,"reputation":33,"user_id":11734791,"display_name":"Shashi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77319426,"answer_count":1,"score":1,"last_activity_date":1697661174,"creation_date":1697660321,"question_id":77319353,"body_markdown":"I applied gzip compression to the string `test-string`. When I use Scala 2.13.8 with **Java 11.0.13** (Java HotSpot(TM) 64-Bit Server VM), it results in the compressed string `H4sIAAAAAAAAACtJLS7RLS4pysxLBwCFdJByCwAAAA==.` \r\n\r\nHowever, when I perform the same compression operation with Scala 2.13.8 on **Java 17.0.4.1** (OpenJDK 64-Bit Server VM), it yields `H4sIAAAAAAAA/ytJLS7RLS4pysxLBwCFdJByCwAAAA==.` however, both of these compressed strings correctly decompressed to retrieve the original string `test-string`.\r\n\r\nI assume this can depend on several factors like Default Compression Levels: the default compression level might differ between Java 11 and Java 17, resulting in different output for the same input.\r\nAlgorithm Improvements: The Gzip implementation in Java 17 may have been optimized, leading to different compression results.Internal Implementation Details: The internal implementation details of Gzip compression may have changed between Java 11 and Java 17, affecting the compressed output. \r\n\r\nWhat could be the reason behind this? I am attaching the code below.\r\n\r\n\r\n    val bos = new ByteArrayOutputStream(&quot;test-string&quot;.length)\r\n    val b64os = new Base64OutputStream(bos)\r\n    val gzip = new GZIPOutputStream(b64os)\r\n    gzip.write(&quot;test-string&quot;.getBytes(&quot;UTF-8&quot;))\r\n    gzip.close()\r\n    val compressed = new String(bos.toByteArray, &quot;UTF-8&quot;)\r\n    bos.close()\r\n    compressed.trim","title":"Gzip compression of a string gives different results in java11 vs java17","body":"<p>I applied gzip compression to the string <code>test-string</code>. When I use Scala 2.13.8 with <strong>Java 11.0.13</strong> (Java HotSpot(TM) 64-Bit Server VM), it results in the compressed string <code>H4sIAAAAAAAAACtJLS7RLS4pysxLBwCFdJByCwAAAA==.</code></p>\n<p>However, when I perform the same compression operation with Scala 2.13.8 on <strong>Java 17.0.4.1</strong> (OpenJDK 64-Bit Server VM), it yields <code>H4sIAAAAAAAA/ytJLS7RLS4pysxLBwCFdJByCwAAAA==.</code> however, both of these compressed strings correctly decompressed to retrieve the original string <code>test-string</code>.</p>\n<p>I assume this can depend on several factors like Default Compression Levels: the default compression level might differ between Java 11 and Java 17, resulting in different output for the same input.\nAlgorithm Improvements: The Gzip implementation in Java 17 may have been optimized, leading to different compression results.Internal Implementation Details: The internal implementation details of Gzip compression may have changed between Java 11 and Java 17, affecting the compressed output.</p>\n<p>What could be the reason behind this? I am attaching the code below.</p>\n<pre><code>val bos = new ByteArrayOutputStream(&quot;test-string&quot;.length)\nval b64os = new Base64OutputStream(bos)\nval gzip = new GZIPOutputStream(b64os)\ngzip.write(&quot;test-string&quot;.getBytes(&quot;UTF-8&quot;))\ngzip.close()\nval compressed = new String(bos.toByteArray, &quot;UTF-8&quot;)\nbos.close()\ncompressed.trim\n</code></pre>\n"},{"tags":["java","spring","postgresql","properties","getproperty"],"comments":[{"owner":{"account_id":24708771,"reputation":1,"user_id":18599233,"display_name":"it4545454545"},"score":0,"creation_date":1697659180,"post_id":77319182,"comment_id":136309195,"body_markdown":"by the way, in the video from the course, it is working with the &quot;username&quot; naming of the property","body":"by the way, in the video from the course, it is working with the &quot;username&quot; naming of the property"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697692478,"post_id":77319182,"comment_id":136312305,"body_markdown":"`username` is probably an environment variable which takes precedence of your own value, which is why it works with another propery name. Doesn&#39;t matter if works in the video or not as that is a different environment.","body":"<code>username</code> is probably an environment variable which takes precedence of your own value, which is why it works with another propery name. Doesn&#39;t matter if works in the video or not as that is a different environment."},{"owner":{"account_id":24708771,"reputation":1,"user_id":18599233,"display_name":"it4545454545"},"score":0,"creation_date":1697699618,"post_id":77319182,"comment_id":136313236,"body_markdown":"Thank you. I have seen that the MANIFEST.MF contains that Built-By User line. Probably it takes my PC username name also. My PC username is &quot;User&quot;. But When I was changing my PC username to somethinglese, the MANIFEST was not updating itself when rebuilding, so I got the same &quot;Built-by User&quot; line and the same error with the auth problem for user &quot;User&quot;. Where I can change or see that environamental variable on my PC? I use win10. Is it where the PATH var exists?","body":"Thank you. I have seen that the MANIFEST.MF contains that Built-By User line. Probably it takes my PC username name also. My PC username is &quot;User&quot;. But When I was changing my PC username to somethinglese, the MANIFEST was not updating itself when rebuilding, so I got the same &quot;Built-by User&quot; line and the same error with the auth problem for user &quot;User&quot;. Where I can change or see that environamental variable on my PC? I use win10. Is it where the PATH var exists?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697699797,"post_id":77319182,"comment_id":136313269,"body_markdown":"You can run `SET` from the command line to see all the properties. Next to that the JVM also has a property `user.name` which can influence things. Generally it is better to prefix those properties with the use like `jdbc.username` or `datasource.username` so that it has a bit of intend as well and you won&#39;t run into the risk of clashing with (or reduce the risk) environment or system variables.","body":"You can run <code>SET</code> from the command line to see all the properties. Next to that the JVM also has a property <code>user.name</code> which can influence things. Generally it is better to prefix those properties with the use like <code>jdbc.username</code> or <code>datasource.username</code> so that it has a bit of intend as well and you won&#39;t run into the risk of clashing with (or reduce the risk) environment or system variables."},{"owner":{"account_id":24708771,"reputation":1,"user_id":18599233,"display_name":"it4545454545"},"score":0,"creation_date":1697753277,"post_id":77319182,"comment_id":136322962,"body_markdown":"Yep, that was my SET USERNAME local variable. For some reason, somewhere it is substituted when the property name is &quot;username&quot;. Checked on two computers, replicated. Thank you!","body":"Yep, that was my SET USERNAME local variable. For some reason, somewhere it is substituted when the property name is &quot;username&quot;. Checked on two computers, replicated. Thank you!"}],"owner":{"account_id":24708771,"reputation":1,"user_id":18599233,"display_name":"it4545454545"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697660779,"creation_date":1697658459,"question_id":77319182,"body_markdown":"I have found out that for some reason\r\n\r\n```\r\ndataSource.setUsername(environment.getProperty(&quot;username&quot;));\r\n```\r\nreturns &quot;User&quot; value instead of my property username=postgres\r\nIt is indicated in the HTTP 500 DB connection error\r\n```\r\norg.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;User&quot;\r\n```\r\nAnd if I debug in Intellij Idea, I see that when I execute that string, it ends up with &quot;User&quot; for some reason.\r\nI guess there is some collision of implementation the getProperty() method of the PropertyResolver interface. However, I could not find from where that implementation and collision comes from.\r\n\r\nI am learning Spring framework, I watch a video course. The only difference between my and the course project is that I am using the currently latest postgres, thus, pom.xml contains the latest postgres dependency. However, if I change it to the same dependency without reinstalling the postgreSQL to the needed version - I still do not get my property working.\r\n\r\nBUT! If I rename the property and I adjust the property name in the getProperty() method, I get it working! For instance, I used &quot;db-username&quot; in my db.property and it worked. Regardless of the matching of the postgreSQL versions. I don&#39;t think the DB is the case. I think there is some conflict I can not find yet in the framework. Could you please let me know what could be the reason? For example, I want to use this name on principle - the &quot;username&quot; property naming, so how do I find the root-root cause?\r\n\r\nP.S.\r\n\r\nThe code is below:\r\nSpringConfig:\r\nhttps://pastebin.com/2n0WHnut\r\n\r\npom.xml\r\nhttps://pastebin.com/NUBtZEqR\r\n\r\nDoes not work =&gt;\r\n```\r\ndataSource.setUsername(environment.getProperty(&quot;username&quot;));\r\n\r\ndb.property:\r\n\r\ndriver=org.postgresql.Driver\r\nurl=jdbc:postgresql://localhost:5432/first_db\r\nusername=postgres\r\ndriver=org.postgresql.Driver\r\nurl=jdbc:postgresql://localhost:5432/first_db\r\nusername=postgres\r\npassword=FooBaaaaar\r\n```\r\nWorks!:\r\n```\r\ndataSource.setUsername(environment.getProperty(&quot;db-username&quot;));\r\n\r\ndb.property:\r\n\r\ndriver=org.postgresql.Driver\r\nurl=jdbc:postgresql://localhost:5432/first_db\r\nusername=postgres\r\ndriver=org.postgresql.Driver\r\nurl=jdbc:postgresql://localhost:5432/first_db\r\ndb-username=postgres\r\npassword=FooBaaaaar\r\n```\r\n\r\n\r\nI have tried to debug it using IDE and I saw that the getProperty method for sure returns in the runtime the value of &quot;User&quot; when I user the &quot;username&quot; property name in the db.property and getProperty() method.","title":"Spring 5.2.1.RELEASE getProperty returns &quot;User&quot; instead of my custom &quot;username=...&quot; property","body":"<p>I have found out that for some reason</p>\n<pre><code>dataSource.setUsername(environment.getProperty(&quot;username&quot;));\n</code></pre>\n<p>returns &quot;User&quot; value instead of my property username=postgres\nIt is indicated in the HTTP 500 DB connection error</p>\n<pre><code>org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;User&quot;\n</code></pre>\n<p>And if I debug in Intellij Idea, I see that when I execute that string, it ends up with &quot;User&quot; for some reason.\nI guess there is some collision of implementation the getProperty() method of the PropertyResolver interface. However, I could not find from where that implementation and collision comes from.</p>\n<p>I am learning Spring framework, I watch a video course. The only difference between my and the course project is that I am using the currently latest postgres, thus, pom.xml contains the latest postgres dependency. However, if I change it to the same dependency without reinstalling the postgreSQL to the needed version - I still do not get my property working.</p>\n<p>BUT! If I rename the property and I adjust the property name in the getProperty() method, I get it working! For instance, I used &quot;db-username&quot; in my db.property and it worked. Regardless of the matching of the postgreSQL versions. I don't think the DB is the case. I think there is some conflict I can not find yet in the framework. Could you please let me know what could be the reason? For example, I want to use this name on principle - the &quot;username&quot; property naming, so how do I find the root-root cause?</p>\n<p>P.S.</p>\n<p>The code is below:\nSpringConfig:\n<a href=\"https://pastebin.com/2n0WHnut\" rel=\"nofollow noreferrer\">https://pastebin.com/2n0WHnut</a></p>\n<p>pom.xml\n<a href=\"https://pastebin.com/NUBtZEqR\" rel=\"nofollow noreferrer\">https://pastebin.com/NUBtZEqR</a></p>\n<p>Does not work =&gt;</p>\n<pre><code>dataSource.setUsername(environment.getProperty(&quot;username&quot;));\n\ndb.property:\n\ndriver=org.postgresql.Driver\nurl=jdbc:postgresql://localhost:5432/first_db\nusername=postgres\ndriver=org.postgresql.Driver\nurl=jdbc:postgresql://localhost:5432/first_db\nusername=postgres\npassword=FooBaaaaar\n</code></pre>\n<p>Works!:</p>\n<pre><code>dataSource.setUsername(environment.getProperty(&quot;db-username&quot;));\n\ndb.property:\n\ndriver=org.postgresql.Driver\nurl=jdbc:postgresql://localhost:5432/first_db\nusername=postgres\ndriver=org.postgresql.Driver\nurl=jdbc:postgresql://localhost:5432/first_db\ndb-username=postgres\npassword=FooBaaaaar\n</code></pre>\n<p>I have tried to debug it using IDE and I saw that the getProperty method for sure returns in the runtime the value of &quot;User&quot; when I user the &quot;username&quot; property name in the db.property and getProperty() method.</p>\n"},{"tags":["java","security","domain-driven-design","authorization"],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697660662,"creation_date":1323446546,"answer_id":8448199,"question_id":8447550,"body_markdown":"I would not encode the ownership/permissions model into the `TaskList` domain object.  That sort of business logic should be external.  I also don&#39;t like the idea of a proxy object.  Although it would certainly work, it would confuse debugging and is, in this case at least, unnecessarily complex.  I would also not check it in the controller.\r\n\r\nInstead I would create a business logic object which oversees the permissions for `TaskList`.  So the `TaskList` would have an owner field but you would have at external accessor which would do the business logic.  Something like:\r\n\r\n    public class TaskListAccessor {\r\n        private TaskList taskList;\r\n        private User reader;\r\n\r\n        public void updateStatus(Status status) {\r\n            // everyone can do this\r\n            taskList.updateStatus(status);\r\n        }\r\n\r\n        /** Return true if delete operation is allowed else false */\r\n        public boolean isDeleteAllowed() {\r\n            return taskList.getOwner().equals(reader);\r\n        }\r\n\r\n        /** Delete the task.  Only owners can do this.  Returns true if worked else false */\r\n        public boolean delete() {\r\n            if (isDeleteAllowed()) {\r\n               taskList.delete();\r\n               return true;\r\n            } else {\r\n               return false;\r\n            }\r\n        }\r\n        // ... other accessors with other is*Allowed methods\r\n    }\r\n\r\nIf you need to require that all operations on `TaskList` objects go through accessors then you could create a factory class which is the only one who creates `TaskList` using package constructors or something.  Maybe the factory is the only one who would use the DAO to look up the `TaskList` from the data store.\r\n\r\nHowever, if there are too many methods to control in this fashion then a proxy might be easier.  In both cases having `TaskList` be an interface would be recommended, with the implementation class hidden by the proxy or the accessor.\r\n","title":"Restrict access to the owner of an object in DDD","body":"<p>I would not encode the ownership/permissions model into the <code>TaskList</code> domain object.  That sort of business logic should be external.  I also don't like the idea of a proxy object.  Although it would certainly work, it would confuse debugging and is, in this case at least, unnecessarily complex.  I would also not check it in the controller.</p>\n<p>Instead I would create a business logic object which oversees the permissions for <code>TaskList</code>.  So the <code>TaskList</code> would have an owner field but you would have at external accessor which would do the business logic.  Something like:</p>\n<pre><code>public class TaskListAccessor {\n    private TaskList taskList;\n    private User reader;\n\n    public void updateStatus(Status status) {\n        // everyone can do this\n        taskList.updateStatus(status);\n    }\n\n    /** Return true if delete operation is allowed else false */\n    public boolean isDeleteAllowed() {\n        return taskList.getOwner().equals(reader);\n    }\n\n    /** Delete the task.  Only owners can do this.  Returns true if worked else false */\n    public boolean delete() {\n        if (isDeleteAllowed()) {\n           taskList.delete();\n           return true;\n        } else {\n           return false;\n        }\n    }\n    // ... other accessors with other is*Allowed methods\n}\n</code></pre>\n<p>If you need to require that all operations on <code>TaskList</code> objects go through accessors then you could create a factory class which is the only one who creates <code>TaskList</code> using package constructors or something.  Maybe the factory is the only one who would use the DAO to look up the <code>TaskList</code> from the data store.</p>\n<p>However, if there are too many methods to control in this fashion then a proxy might be easier.  In both cases having <code>TaskList</code> be an interface would be recommended, with the implementation class hidden by the proxy or the accessor.</p>\n"},{"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1327477024,"creation_date":1327477024,"answer_id":8999223,"question_id":8447550,"body_markdown":"I found it unnecessarily complex to create accessor classes for each protected domain class as suggested by &#39;Gray&#39;. My solution is probably not perfect, but simple to use and - more important - robust. You cannot forget to use a certain object or to check conditions outside. \r\n\r\n\tpublic class TaskList {\r\n\t\r\n\t\tprivate SystemUser owner;\r\n\t\tprivate List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tpublic TastList(SystemUser owner) {\r\n\t\t\tthis.owner = owner;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void Add(Task task) {\r\n\t\t\tGuard.allowFor(owner); \r\n\t\t\ttasks.add(task);\r\n\t\t}\r\n\t}\r\n\r\nThe `Guard` knows the current user (from a thread local for example) and compares it to the owner passed as parameter to `allowFor(owner)`. If access is denied a security exception will be thrown.\r\n\r\nThat is simple, robust and even easy to maintain since only the guard has to be changed if the underlying authentication changes.","title":"Restrict access to the owner of an object in DDD","body":"<p>I found it unnecessarily complex to create accessor classes for each protected domain class as suggested by 'Gray'. My solution is probably not perfect, but simple to use and - more important - robust. You cannot forget to use a certain object or to check conditions outside. </p>\n\n<pre><code>public class TaskList {\n\n    private SystemUser owner;\n    private List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\n\n    public TastList(SystemUser owner) {\n        this.owner = owner;\n    }\n\n    public void Add(Task task) {\n        Guard.allowFor(owner); \n        tasks.add(task);\n    }\n}\n</code></pre>\n\n<p>The <code>Guard</code> knows the current user (from a thread local for example) and compares it to the owner passed as parameter to <code>allowFor(owner)</code>. If access is denied a security exception will be thrown.</p>\n\n<p>That is simple, robust and even easy to maintain since only the guard has to be changed if the underlying authentication changes.</p>\n"}],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8999223,"answer_count":2,"score":2,"last_activity_date":1697660662,"creation_date":1323443631,"question_id":8447550,"body_markdown":"Let&#39;s say there is an object `TaskList` which can be edited and deleted only by its owner. Other users should only by able to take a task and update its status. \r\n\r\nThe following options come to my mind:\r\n\r\n * check the ownership and access in the controller of the web application\r\n * let the repository return proxy object which throws exception on certain operations, but the controller (or view) would still need to know which actions (in form of links or form fields) should be visible\r\n * pass the caller (user) to the method of the domain object, so that the domain object can itself check whether the caller ist allowed or not.\r\n\r\nThe used technology is Java.\r\n\r\nAny other/better ideas?  \r\n\r\n**Interesting articles about security and DDD**\r\n\r\n - [Domain Object Security][1] with the Spring framework\r\n - [Security in Domain-Driven Design][2]\r\n\r\nI have accepted my own answer now, because that is what I actually use, but further suggestions are welcome. \r\n\r\n\r\n  [1]: http://static.springsource.org/spring-security/site/docs/2.0.x/reference/domain-acls.html\r\n  [2]: http://www.utwente.nl/ewi/trese/graduation_projects/2008/Uithol.pdf","title":"Restrict access to the owner of an object in DDD","body":"<p>Let's say there is an object <code>TaskList</code> which can be edited and deleted only by its owner. Other users should only by able to take a task and update its status. </p>\n\n<p>The following options come to my mind:</p>\n\n<ul>\n<li>check the ownership and access in the controller of the web application</li>\n<li>let the repository return proxy object which throws exception on certain operations, but the controller (or view) would still need to know which actions (in form of links or form fields) should be visible</li>\n<li>pass the caller (user) to the method of the domain object, so that the domain object can itself check whether the caller ist allowed or not.</li>\n</ul>\n\n<p>The used technology is Java.</p>\n\n<p>Any other/better ideas?  </p>\n\n<p><strong>Interesting articles about security and DDD</strong></p>\n\n<ul>\n<li><a href=\"http://static.springsource.org/spring-security/site/docs/2.0.x/reference/domain-acls.html\" rel=\"nofollow\">Domain Object Security</a> with the Spring framework</li>\n<li><a href=\"http://www.utwente.nl/ewi/trese/graduation_projects/2008/Uithol.pdf\" rel=\"nofollow\">Security in Domain-Driven Design</a></li>\n</ul>\n\n<p>I have accepted my own answer now, because that is what I actually use, but further suggestions are welcome. </p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf","favicon"],"answers":[{"tags":[],"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1505828829,"creation_date":1505828829,"answer_id":46302195,"question_id":46302090,"body_markdown":"I have this with SpringBoot configuration too and is working\r\n\r\n    &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/png&quot; th:href=&quot;@{/img/favicon.png}&quot;/&gt;\r\n        \r\nAnd the favicon.png under **resources/public/img**","title":"Spring Boot custom favicon.ico not showing","body":"<p>I have this with SpringBoot configuration too and is working</p>\n\n<pre><code>&lt;link rel=\"shortcut icon\" type=\"image/png\" th:href=\"@{/img/favicon.png}\"/&gt;\n</code></pre>\n\n<p>And the favicon.png under <strong>resources/public/img</strong></p>\n"},{"tags":[],"owner":{"account_id":11320201,"reputation":603,"user_id":8300741,"display_name":"Johan Fredin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505829727,"creation_date":1505829727,"answer_id":46302536,"question_id":46302090,"body_markdown":"Ok so this appears to be working now. Of course I managed to get it working just after ranting about it :).\r\n\r\nAnyway, what i did was.\r\n\r\n1. Remove @EnableWebMvc from the main class\r\n2. For added ../ to the href depending on the urls e.g /index was fine but /edit/something.html was not\r\n\r\nSorry for wasting peoples time but hopefully this could be useful for another rookie like me\r\n ","title":"Spring Boot custom favicon.ico not showing","body":"<p>Ok so this appears to be working now. Of course I managed to get it working just after ranting about it :).</p>\n\n<p>Anyway, what i did was.</p>\n\n<ol>\n<li>Remove @EnableWebMvc from the main class</li>\n<li>For added ../ to the href depending on the urls e.g /index was fine but /edit/something.html was not</li>\n</ol>\n\n<p>Sorry for wasting peoples time but hopefully this could be useful for another rookie like me</p>\n"},{"tags":[],"owner":{"account_id":10730865,"reputation":380,"user_id":7897022,"display_name":"JaneXQ"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1522951952,"creation_date":1522951952,"answer_id":49678891,"question_id":46302090,"body_markdown":"I solved this problem by putting favicon.ico in main/resource/static and adding this lines to my security config\r\n\r\n     httpSecurity\r\n                .authorizeRequests()\r\n                    .antMatchers( &quot;/favicon.ico&quot;).permitAll()","title":"Spring Boot custom favicon.ico not showing","body":"<p>I solved this problem by putting favicon.ico in main/resource/static and adding this lines to my security config</p>\n\n<pre><code> httpSecurity\n            .authorizeRequests()\n                .antMatchers( \"/favicon.ico\").permitAll()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694287964,"creation_date":1561361973,"answer_id":56731873,"question_id":46302090,"body_markdown":"Put your `favicon.ico` file in:\r\n\r\n    src/main/resources/public\r\n","title":"Spring Boot custom favicon.ico not showing","body":"<p>Put your <code>favicon.ico</code> file in:</p>\n<pre><code>src/main/resources/public\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602950045,"creation_date":1602950045,"answer_id":64404384,"question_id":46302090,"body_markdown":"Put your `favicon.png` under `src/main/resources/public` and add this to your `*.html` page  exactly in the  `header` section\r\n\r\n     &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/png&quot; th:href=&quot;@{favicon.png}&quot;/&gt;","title":"Spring Boot custom favicon.ico not showing","body":"<p>Put your <code>favicon.png</code> under <code>src/main/resources/public</code> and add this to your <code>*.html</code> page  exactly in the  <code>header</code> section</p>\n<pre><code> &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/png&quot; th:href=&quot;@{favicon.png}&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9311626,"reputation":427,"user_id":6913222,"display_name":"Arv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610889528,"creation_date":1610889528,"answer_id":65761072,"question_id":46302090,"body_markdown":"For some reason .ico format was not working. I just placed a png image instead and spring automatically picked the favicon.\r\n\r\nI placed the png image in \\src\\main\\resources\\public\r\n\r\n&lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; th:href=&quot;@{/favicon.png}&quot;/&gt;\r\n\r\nSpring boot + thymeleaf","title":"Spring Boot custom favicon.ico not showing","body":"<p>For some reason .ico format was not working. I just placed a png image instead and spring automatically picked the favicon.</p>\n<p>I placed the png image in \\src\\main\\resources\\public</p>\n\n<p>Spring boot + thymeleaf</p>\n"},{"tags":[],"owner":{"account_id":21514835,"reputation":61,"user_id":15856891,"display_name":"Nikita Shcherbakov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620335546,"creation_date":1620334654,"answer_id":67425851,"question_id":46302090,"body_markdown":"If anyone faces the same problem using newer version of Spring (in my case spring boot 2.4.4), here&#39;s the scenario that worked fine for me:\r\n\r\n 1. Put the favicon.ico in the `/resources/static` folder. I also tried to put it just in the `/resourses/` folder and it worked fine as well, so do not worry about the folder that much.\r\n 2. Create a `FaviconConfiguration` in your configurations folder with the following content:\r\n\r\n```\r\n@Configuration\r\npublic class FaviconConfiguration {\r\n\r\n    @Bean\r\n    public SimpleUrlHandlerMapping customFaviconHandlerMapping() {\r\n        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\r\n        mapping.setOrder(Integer.MIN_VALUE);\r\n        mapping.setUrlMap(Collections.singletonMap(\r\n                &quot;/static/favicon.ico&quot;, faviconRequestHandler()));\r\n        return mapping;\r\n    }\r\n\r\n    @Bean\r\n    protected ResourceHttpRequestHandler faviconRequestHandler() {\r\n        ResourceHttpRequestHandler requestHandler\r\n                = new ResourceHttpRequestHandler();\r\n        requestHandler.setLocations(Collections.singletonList(new ClassPathResource(&quot;/&quot;)));\r\n        return requestHandler;\r\n    }\r\n}\r\n```\r\n\r\n 3. In case you use Spring Security don&#39;t forget to add `antMatcher` for your favicon resource by adding the following code to your *SpringSecurityConfiguration* (as [JaneXQ](https://stackoverflow.com/a/49678891/15856891) already mentioned above):\r\n\r\n```\r\n.antMatchers(&quot;/static/favicon.ico&quot;).permitAll()\r\n```\r\n\r\n 4. Use link to your custom favicon *explicitly* in your html. To do that just put the following link in the `&lt;head&gt;` section of *each* of your html pages in the following way (I used thymeleaf in here):\r\n\r\n```\r\n&lt;head&gt;\r\n    ...\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/ico&quot; th:href=&quot;@{../static/favicon.ico}&quot;&gt;\r\n    ...\r\n&lt;/head&gt;\r\n```","title":"Spring Boot custom favicon.ico not showing","body":"<p>If anyone faces the same problem using newer version of Spring (in my case spring boot 2.4.4), here's the scenario that worked fine for me:</p>\n<ol>\n<li>Put the favicon.ico in the <code>/resources/static</code> folder. I also tried to put it just in the <code>/resourses/</code> folder and it worked fine as well, so do not worry about the folder that much.</li>\n<li>Create a <code>FaviconConfiguration</code> in your configurations folder with the following content:</li>\n</ol>\n<pre><code>@Configuration\npublic class FaviconConfiguration {\n\n    @Bean\n    public SimpleUrlHandlerMapping customFaviconHandlerMapping() {\n        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\n        mapping.setOrder(Integer.MIN_VALUE);\n        mapping.setUrlMap(Collections.singletonMap(\n                &quot;/static/favicon.ico&quot;, faviconRequestHandler()));\n        return mapping;\n    }\n\n    @Bean\n    protected ResourceHttpRequestHandler faviconRequestHandler() {\n        ResourceHttpRequestHandler requestHandler\n                = new ResourceHttpRequestHandler();\n        requestHandler.setLocations(Collections.singletonList(new ClassPathResource(&quot;/&quot;)));\n        return requestHandler;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>In case you use Spring Security don't forget to add <code>antMatcher</code> for your favicon resource by adding the following code to your <em>SpringSecurityConfiguration</em> (as <a href=\"https://stackoverflow.com/a/49678891/15856891\">JaneXQ</a> already mentioned above):</li>\n</ol>\n<pre><code>.antMatchers(&quot;/static/favicon.ico&quot;).permitAll()\n</code></pre>\n<ol start=\"4\">\n<li>Use link to your custom favicon <em>explicitly</em> in your html. To do that just put the following link in the <code>&lt;head&gt;</code> section of <em>each</em> of your html pages in the following way (I used thymeleaf in here):</li>\n</ol>\n<pre><code>&lt;head&gt;\n    ...\n    &lt;link rel=&quot;icon&quot; type=&quot;image/ico&quot; th:href=&quot;@{../static/favicon.ico}&quot;&gt;\n    ...\n&lt;/head&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21532337,"reputation":11,"user_id":15871582,"display_name":"roy ren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620481827,"creation_date":1620481827,"answer_id":67448282,"question_id":46302090,"body_markdown":"Try to replace th:href with href. It worked for me.\r\n\r\n```\r\n&lt;link rel=&quot;icon&quot; href=&quot;/favicon.ico&quot; type=&quot;image/ico&quot;&gt;\r\n```","title":"Spring Boot custom favicon.ico not showing","body":"<p>Try to replace th:href with href. It worked for me.</p>\n<pre><code>&lt;link rel=&quot;icon&quot; href=&quot;/favicon.ico&quot; type=&quot;image/ico&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22511334,"reputation":21,"user_id":16706238,"display_name":"oldbird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629381827,"creation_date":1629381827,"answer_id":68849378,"question_id":46302090,"body_markdown":"I saved my favicon which was a simple .png download as src/main/resources/static/favicon.ico\r\n\r\nI couldn&#39;t get it to display until I tried another browser and it worked fine - so try clearing the browser cache, or try testing on another browser","title":"Spring Boot custom favicon.ico not showing","body":"<p>I saved my favicon which was a simple .png download as src/main/resources/static/favicon.ico</p>\n<p>I couldn't get it to display until I tried another browser and it worked fine - so try clearing the browser cache, or try testing on another browser</p>\n"},{"tags":[],"owner":{"account_id":1539674,"reputation":125,"user_id":1434624,"display_name":"horelvis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631642150,"creation_date":1631642150,"answer_id":69182487,"question_id":46302090,"body_markdown":"I had the same issue and fix it removing @EnableAdminServer annotation","title":"Spring Boot custom favicon.ico not showing","body":"<p>I had the same issue and fix it removing @EnableAdminServer annotation</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684829720,"creation_date":1684829720,"answer_id":76312581,"question_id":46302090,"body_markdown":"- **Spring boot**\r\n\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.6&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.security.web&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n```\r\n- to generate [Favicon.ico][1]\r\n\r\n- to edit *.html\r\n\r\n```html\r\n &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; th:href=&quot;@{favicon.ico}&quot;/&gt;\r\n```\r\n\r\n- **src/main/resources/static/favicon.ico**\r\n\r\n- **spring security**\r\n\r\n```java\r\n@EnableWebFluxSecurity\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\r\n        return httpSecurity\r\n                .formLogin().and()\r\n                .httpBasic().disable()\r\n                .authorizeExchange()\r\n                .pathMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/signup&quot;).permitAll()\r\n                .pathMatchers(HttpMethod.POST, &quot;/api/users&quot;).permitAll()\r\n                .pathMatchers(&quot;/favicon.ico&quot;).permitAll()\r\n                .pathMatchers(HttpMethod.GET, &quot;/api/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyExchange().authenticated()\r\n                .and()\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://www.favicon.cc/","title":"Spring Boot custom favicon.ico not showing","body":"<ul>\n<li><strong>Spring boot</strong></li>\n</ul>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.6'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.security.web'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n</code></pre>\n<ul>\n<li><p>to generate <a href=\"https://www.favicon.cc/\" rel=\"nofollow noreferrer\">Favicon.ico</a></p>\n</li>\n<li><p>to edit *.html</p>\n</li>\n</ul>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; th:href=&quot;@{favicon.ico}&quot;/&gt;\n</code></pre>\n<ul>\n<li><p><strong>src/main/resources/static/favicon.ico</strong></p>\n</li>\n<li><p><strong>spring security</strong></p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebFluxSecurity\n@Configuration\npublic class WebSecurityConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\n        return httpSecurity\n                .formLogin().and()\n                .httpBasic().disable()\n                .authorizeExchange()\n                .pathMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/signup&quot;).permitAll()\n                .pathMatchers(HttpMethod.POST, &quot;/api/users&quot;).permitAll()\n                .pathMatchers(&quot;/favicon.ico&quot;).permitAll()\n                .pathMatchers(HttpMethod.GET, &quot;/api/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyExchange().authenticated()\n                .and()\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697660137,"creation_date":1697659547,"answer_id":77319271,"question_id":46302090,"body_markdown":"**Spring Boot 3.1.4 Solution**\r\n\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; th:href=&quot;@{/assets/myfavicon.ico}&quot;/&gt;\r\n\r\n**Favicon Directory**\r\n\r\n    /src/main/resources/static/assets\r\n\r\n\r\n**Spring Security Configuration**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n    \r\n      ....\r\n      ....\r\n    \r\n      @Bean\r\n      public SecurityFilterChain myApplicationSecurityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \r\n        httpSecurity\r\n          .authorizeHttpRequests((requests) -&gt; requests\r\n            .requestMatchers(&quot;/&quot;, &quot;/assets/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n          )\r\n          ...\r\n          ...\r\n          return httpSecurity.build();\r\n      }\r\n    }\r\n\r\n","title":"Spring Boot custom favicon.ico not showing","body":"<p><strong>Spring Boot 3.1.4 Solution</strong></p>\n<pre><code>&lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; th:href=&quot;@{/assets/myfavicon.ico}&quot;/&gt;\n</code></pre>\n<p><strong>Favicon Directory</strong></p>\n<pre><code>/src/main/resources/static/assets\n</code></pre>\n<p><strong>Spring Security Configuration</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n  ....\n  ....\n\n  @Bean\n  public SecurityFilterChain myApplicationSecurityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n    httpSecurity\n      .authorizeHttpRequests((requests) -&gt; requests\n        .requestMatchers(&quot;/&quot;, &quot;/assets/**&quot;).permitAll()\n        .anyRequest().authenticated()\n      )\n      ...\n      ...\n      return httpSecurity.build();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11320201,"reputation":603,"user_id":8300741,"display_name":"Johan Fredin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29773,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":46302536,"answer_count":12,"score":18,"last_activity_date":1697660137,"creation_date":1505828494,"question_id":46302090,"body_markdown":"I know this question has been asked over and over here and there are several solutions. I&#39;ve tried several of those except the ones that suggests writing you own configuration bean for this. I don&#39;t want to do all that just to display a tiny icon it seams overkill. But I can not get it to work. These are the solutions I&#39;ve tried so far.\r\n\r\n1. just add favicon.ico under static resources and it should work....it doesn&#39;t.\r\n2. spring.mvc.favicon.enabled=false in application.properties, no favicon showed at all (which I guess is the whole point of that).\r\n3. Tried 2 examples of including the favicon as a link in the html pages. Like so:\r\n    `\r\n&lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;favicon.png&quot; /&gt;\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;favicon.ico&quot; /&gt;`\r\n\r\nNeither of those work. \r\n\r\n3. Tried renaming my own favicon to something else and reference it as above. Does not work. \r\n\r\nWhen inspecting the page in the browser I sometimes get no error at all printed out despite no icon showing, or I get an error saying `GET http://localhost:8080/myapp/favicon.png 404 ()` Where it is refering the type as JSON (which I find strange). \r\n\r\nI&#39;m running out of ideas here so if anyone can tell me why this is not working please let me know. Did I perhaps forget one of those magic spring annotations? \r\nThis is what my main class looks like.\r\n     \r\n\r\n    @SpringBootApplication \r\n    @ComponentScan\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class JobengineMonitorApplication implements CommandLineRunner {\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(JobengineMonitorApplication.class, args);\r\n\t    }\r\n    \r\n     }\r\n\r\nI am using thymeleaf as the template engine\r\n\r\n\r\n\r\n","title":"Spring Boot custom favicon.ico not showing","body":"<p>I know this question has been asked over and over here and there are several solutions. I've tried several of those except the ones that suggests writing you own configuration bean for this. I don't want to do all that just to display a tiny icon it seams overkill. But I can not get it to work. These are the solutions I've tried so far.</p>\n\n<ol>\n<li>just add favicon.ico under static resources and it should work....it doesn't.</li>\n<li>spring.mvc.favicon.enabled=false in application.properties, no favicon showed at all (which I guess is the whole point of that).</li>\n<li>Tried 2 examples of including the favicon as a link in the html pages. Like so:\n<code>\n&lt;link rel=\"icon\" type=\"image/png\" href=\"favicon.png\" /&gt;\n&lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\" /&gt;</code></li>\n</ol>\n\n<p>Neither of those work. </p>\n\n<ol start=\"3\">\n<li>Tried renaming my own favicon to something else and reference it as above. Does not work. </li>\n</ol>\n\n<p>When inspecting the page in the browser I sometimes get no error at all printed out despite no icon showing, or I get an error saying <code>GET http://localhost:8080/myapp/favicon.png 404 ()</code> Where it is refering the type as JSON (which I find strange). </p>\n\n<p>I'm running out of ideas here so if anyone can tell me why this is not working please let me know. Did I perhaps forget one of those magic spring annotations? \nThis is what my main class looks like.</p>\n\n<pre><code>@SpringBootApplication \n@ComponentScan\n@Configuration\n@EnableWebMvc\npublic class JobengineMonitorApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JobengineMonitorApplication.class, args);\n    }\n\n }\n</code></pre>\n\n<p>I am using thymeleaf as the template engine</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"score":0,"creation_date":1697659038,"post_id":77319160,"comment_id":136309165,"body_markdown":"Did you follow the doc here: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-ntlm-authentication-to-connect-to-sql-server?view=sql-server-ver16 ?","body":"Did you follow the doc here: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-ntlm-authentication-to-connect-to-sql-server?view=sql-server-ver16\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a> ?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1697711343,"post_id":77319160,"comment_id":136315409,"body_markdown":"Are you using msjdbc or jtds","body":"Are you using msjdbc or jtds"},{"owner":{"account_id":28066223,"reputation":1,"user_id":21439576,"display_name":"Burrito "},"score":0,"creation_date":1697754652,"post_id":77319160,"comment_id":136323100,"body_markdown":"I’m using msjdbc and I had tried what David suggested but kept getting an exception saying the login is from an untrusted domain and cannot be used with integrated authentication even though the domain was trusted. It turns out the service account was locked and once it was unlocked I was able to connect. The error message certainly could use some improvement and I’d have saved a lot of time.","body":"I’m using msjdbc and I had tried what David suggested but kept getting an exception saying the login is from an untrusted domain and cannot be used with integrated authentication even though the domain was trusted. It turns out the service account was locked and once it was unlocked I was able to connect. The error message certainly could use some improvement and I’d have saved a lot of time."},{"owner":{"account_id":9524880,"reputation":458,"user_id":7078384,"accept_rate":75,"display_name":"Fredy Fischer"},"score":0,"creation_date":1697888277,"post_id":77319160,"comment_id":136337735,"body_markdown":"Have you tried to use it with runas? We are struggeling with such things since longer and to use runas was the only working solution we found.","body":"Have you tried to use it with runas? We are struggeling with such things since longer and to use runas was the only working solution we found."}],"owner":{"account_id":28066223,"reputation":1,"user_id":21439576,"display_name":"Burrito "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697659328,"creation_date":1697658119,"question_id":77319160,"body_markdown":"I have a Java application that needs to connect to a SQL Server database using a domain account and windows authentication. The domain account that needs to connect is not the logged on user on the server. Is it possible to use this account and still connect? \r\n\r\nI&#39;ve tried `integratedSecurity=true;useNTLMv2=true;domain=myDomain;user=myDomainUser;password=myPassword` but it still uses the logged on user and the connection fails. Anyway around this? ","title":"JDBC connection to SQL Server using Windows Authentication for a different user","body":"<p>I have a Java application that needs to connect to a SQL Server database using a domain account and windows authentication. The domain account that needs to connect is not the logged on user on the server. Is it possible to use this account and still connect?</p>\n<p>I've tried <code>integratedSecurity=true;useNTLMv2=true;domain=myDomain;user=myDomainUser;password=myPassword</code> but it still uses the logged on user and the connection fails. Anyway around this?</p>\n"},{"tags":["java","data-conversion","primitive","boxing"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":3,"creation_date":1697222546,"post_id":77290017,"comment_id":136257747,"body_markdown":"Because it is easier to &quot;upgrade&quot; an integer to a float. If you go the other way, you sacrifice precision. As you described, this is a lossy conversion.","body":"Because it is easier to &quot;upgrade&quot; an integer to a float. If you go the other way, you sacrifice precision. As you described, this is a lossy conversion."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697222896,"post_id":77290017,"comment_id":136257804,"body_markdown":"@Mr.Polywhirl So why wouldn&#39;t we get a lossy conversion message, as expected? Why is it a type error? Why does unboxing occur with `Integer -&gt; double`, but doesn&#39;t seem to occur with `Double -&gt; int`? That&#39;s the question I&#39;m asking","body":"@Mr.Polywhirl So why wouldn&#39;t we get a lossy conversion message, as expected? Why is it a type error? Why does unboxing occur with <code>Integer -&gt; double</code>, but doesn&#39;t seem to occur with <code>Double -&gt; int</code>? That&#39;s the question I&#39;m asking"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1697223084,"post_id":77290017,"comment_id":136257828,"body_markdown":"Why should it try unboxing, if it knows it&#39;ll still get a type error at the other end?","body":"Why should it try unboxing, if it knows it&#39;ll still get a type error at the other end?"},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1697223482,"post_id":77290017,"comment_id":136257895,"body_markdown":"double-to-int and Double-to-int are lossy conversions. Originally there was just a double-to-int giving C++ like warning. But nowadays a simple `(int)` cast is the expected style. Hence for Double-to-int no effort was made to just allow this unclear and indirect two-step conversion. _Of course I was not present at the language design, but one would need to do implicitly `(int)(double)`._","body":"double-to-int and Double-to-int are lossy conversions. Originally there was just a double-to-int giving C++ like warning. But nowadays a simple <code>(int)</code> cast is the expected style. Hence for Double-to-int no effort was made to just allow this unclear and indirect two-step conversion. <i>Of course I was not present at the language design, but one would need to do implicitly <code>(int)(double)</code>.</i>"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697225135,"post_id":77290017,"comment_id":136258142,"body_markdown":"&quot;Why did they design it this way&quot;-questions are opinion based, and off-topic","body":"&quot;Why did they design it this way&quot;-questions are opinion based, and off-topic"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697409530,"post_id":77290017,"comment_id":136272838,"body_markdown":"@Jorn I&#39;m not asking why they designed it this way. I&#39;ve updated my question.","body":"@Jorn I&#39;m not asking why they designed it this way. I&#39;ve updated my question."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697409552,"post_id":77290017,"comment_id":136272840,"body_markdown":"@OleV.V. I&#39;m not asking about widening/narrowing. I&#39;ve updated my question.","body":"@OleV.V. I&#39;m not asking about widening/narrowing. I&#39;ve updated my question."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697430253,"post_id":77290017,"comment_id":136274170,"body_markdown":"Thanks for the edit. To me it boils down to why the error message was put the way it was. I tend to agree that it’s imprecise, but it’s not wrong. Asking why `Double` isn’t unboxed in a code line that cannot be compiled at all doesn’t make sense to me.","body":"Thanks for the edit. To me it boils down to why the error message was put the way it was. I tend to agree that it’s imprecise, but it’s not wrong. Asking why <code>Double</code> isn’t unboxed in a code line that cannot be compiled at all doesn’t make sense to me."}],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697265701,"creation_date":1697223632,"answer_id":77290109,"question_id":77290017,"body_markdown":"`Double` only has two `valueOf` methods: [one for `String` input](https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-java.lang.String-) and [one for `double` inputs](https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-double-).\r\n\r\nSo, while you wrote `Double.valueOf(1)` where that `1` is clearly an `int`, the method signature is `valueOf(double)` so (if this were to even run) your `int` value would get upgraded to a `double` and _then_ the method runs. As such, your `int i = Double.valueOf(1)` is really `int i = Double.valueOf(1.0)` to which the Java compiler goes &quot;a double can&#39;t be safely converted to an int, so: no&quot;.\r\n\r\nAlthough of course, it doesn&#39;t even need to do that: it knows the return value for `Double.valueOf` is a `Double`, no matter what you&#39;ve put in, so it sees code that tries to assign a Double to an int, knows this is impossible, and without caring about anything else, it&#39;ll go &quot;RHS is incompatible with LHS, so: no&quot;. \r\n\r\nThough interestingly, &quot;_The[sic] creates the assumpsion[sic] that `Double -&gt; int` will also unbox_&quot; is both wrong (no value unboxing happens) and not entirely wrong (there&#39;s type &quot;unboxing&quot;). You&#39;re giving Java an assignment with types `int = Double`, Java sees incompatible types, but also knows that this is a primitive assignment and that `Double` can unbox to the primitive `double`. However, as that&#39;s still an incompatible assignment, Java nopes out with the original int/Double incompatibility error (so that you know &quot;what&#39;s wrong with your code&quot; rather than &quot;what&#39;s wrong in whatever code magic the parser applied&quot;)","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<p><code>Double</code> only has two <code>valueOf</code> methods: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-java.lang.String-\" rel=\"nofollow noreferrer\">one for <code>String</code> input</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-double-\" rel=\"nofollow noreferrer\">one for <code>double</code> inputs</a>.</p>\n<p>So, while you wrote <code>Double.valueOf(1)</code> where that <code>1</code> is clearly an <code>int</code>, the method signature is <code>valueOf(double)</code> so (if this were to even run) your <code>int</code> value would get upgraded to a <code>double</code> and <em>then</em> the method runs. As such, your <code>int i = Double.valueOf(1)</code> is really <code>int i = Double.valueOf(1.0)</code> to which the Java compiler goes &quot;a double can't be safely converted to an int, so: no&quot;.</p>\n<p>Although of course, it doesn't even need to do that: it knows the return value for <code>Double.valueOf</code> is a <code>Double</code>, no matter what you've put in, so it sees code that tries to assign a Double to an int, knows this is impossible, and without caring about anything else, it'll go &quot;RHS is incompatible with LHS, so: no&quot;.</p>\n<p>Though interestingly, &quot;<em>The[sic] creates the assumpsion[sic] that <code>Double -&gt; int</code> will also unbox</em>&quot; is both wrong (no value unboxing happens) and not entirely wrong (there's type &quot;unboxing&quot;). You're giving Java an assignment with types <code>int = Double</code>, Java sees incompatible types, but also knows that this is a primitive assignment and that <code>Double</code> can unbox to the primitive <code>double</code>. However, as that's still an incompatible assignment, Java nopes out with the original int/Double incompatibility error (so that you know &quot;what's wrong with your code&quot; rather than &quot;what's wrong in whatever code magic the parser applied&quot;)</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697241158,"creation_date":1697232725,"answer_id":77290745,"question_id":77290017,"body_markdown":"&gt; _&quot;... This gives the same behavior as `int -&gt; double` ...&quot;_\r\n\r\nThat&#39;s what the conversion is.&amp;nbsp; The _Integer_ object is _un-boxed_ to an _int_.\\\r\nThere is never an _Integer_ to _double_.\r\n\r\n&gt; _&quot;... Assuming the `Double` gets unboxed, we should observe the same behavior as `double -&gt; int` ...&quot;_\r\n\r\nI don&#39;t expect that from _Java_ at all.\\\r\nAnd, unfortunately, I don&#39;t have the metrics.\r\n\r\nI imagine if the value can&#39;t _un-box_ and assign in a single operation, the compiler would fail.","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<blockquote>\n<p><em>&quot;... This gives the same behavior as <code>int -&gt; double</code> ...&quot;</em></p>\n</blockquote>\n<p>That's what the conversion is.  The <em>Integer</em> object is <em>un-boxed</em> to an <em>int</em>.<br />\nThere is never an <em>Integer</em> to <em>double</em>.</p>\n<blockquote>\n<p><em>&quot;... Assuming the <code>Double</code> gets unboxed, we should observe the same behavior as <code>double -&gt; int</code> ...&quot;</em></p>\n</blockquote>\n<p>I don't expect that from <em>Java</em> at all.<br />\nAnd, unfortunately, I don't have the metrics.</p>\n<p>I imagine if the value can't <em>un-box</em> and assign in a single operation, the compiler would fail.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697413758,"creation_date":1697413758,"answer_id":77298826,"question_id":77290017,"body_markdown":"&gt; To avoid confusion, I&#39;m looking for the rule/JLS entry.\r\n&gt;\r\n&gt; - I&#39;m not asking why Double -&gt; int would fail, I&#39;m asking about the *way* it fails\r\n\r\nYou&#39;re asking for something which doesn&#39;t exist. \r\n\r\nThe Java Language Specification does not generally mandate the wording of compilation errors. In particular, the [relevant section](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.2) of the Java Language Specification merely describes which implicit conversions are permitted in an assignment context, but does not enumerate the combinations of conversions that aren&#39;t permitted, let alone which error message should be given in each case (or how to choose the message if several cases apply). \r\n\r\nAll the specification mandates is that the compiler rejects invalid conversions, how it words the message is up to the compiler implementors, and different compilers actually emit different messages. \r\n\r\nFor instance, if you ask the Eclipse Compiler for Java to compile\r\n\r\n\tint i = Math.PI;\r\n\tint j = Double.valueOf(Math.PI);\r\n\r\nit says:\r\n\r\n```\r\nType mismatch: cannot convert from double to int\r\nType mismatch: cannot convert from Double to int\r\n```","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<blockquote>\n<p>To avoid confusion, I'm looking for the rule/JLS entry.</p>\n<ul>\n<li>I'm not asking why Double -&gt; int would fail, I'm asking about the <em>way</em> it fails</li>\n</ul>\n</blockquote>\n<p>You're asking for something which doesn't exist.</p>\n<p>The Java Language Specification does not generally mandate the wording of compilation errors. In particular, the <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">relevant section</a> of the Java Language Specification merely describes which implicit conversions are permitted in an assignment context, but does not enumerate the combinations of conversions that aren't permitted, let alone which error message should be given in each case (or how to choose the message if several cases apply).</p>\n<p>All the specification mandates is that the compiler rejects invalid conversions, how it words the message is up to the compiler implementors, and different compilers actually emit different messages.</p>\n<p>For instance, if you ask the Eclipse Compiler for Java to compile</p>\n<pre><code>int i = Math.PI;\nint j = Double.valueOf(Math.PI);\n</code></pre>\n<p>it says:</p>\n<pre><code>Type mismatch: cannot convert from double to int\nType mismatch: cannot convert from Double to int\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697657710,"creation_date":1697591422,"answer_id":77312980,"question_id":77290017,"body_markdown":"There&#39;s a table showing allowed conversions within [&#167;5.5](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.5):\r\n\r\n&gt; - signifies no conversion allowed\r\n&gt; - ω signifies widening primitive conversion\r\n&gt; - ⊗ signifies unboxing conversion\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe table shows `Integer -&gt; double` performs unboxing &amp; widening conversions, but `Double -&gt; int` does not perform unboxing.\r\n\r\nSince unboxing doesn&#39;t occur, we get a type error rather than a lossy conversion error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9yHdw.jpg","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<p>There's a table showing allowed conversions within <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.5\" rel=\"nofollow noreferrer\">§5.5</a>:</p>\n<blockquote>\n<ul>\n<li>signifies no conversion allowed</li>\n<li>ω signifies widening primitive conversion</li>\n<li>⊗ signifies unboxing conversion</li>\n</ul>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/9yHdw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9yHdw.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The table shows <code>Integer -&gt; double</code> performs unboxing &amp; widening conversions, but <code>Double -&gt; int</code> does not perform unboxing.</p>\n<p>Since unboxing doesn't occur, we get a type error rather than a lossy conversion error.</p>\n"}],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":77312980,"answer_count":4,"score":4,"last_activity_date":1697657710,"creation_date":1697222394,"question_id":77290017,"body_markdown":"To avoid confusion, I&#39;m looking for the rule/JLS entry.\r\n\r\n- I&#39;m not asking why `Double -&gt; int` would fail, I&#39;m asking about the _way_ it fails\r\n\r\n- I&#39;m aware of the lossy conversion, as I&#39;ve mentioned in my question - I&#39;m not asking about data loss between `double -&gt; int`\r\n\r\n\r\n- I&#39;m not asking for someone&#39;s &quot;best guess&quot; on why the developers designed it this way\r\n\r\nI&#39;m asking why `Integer -&gt; double` performs a conversion (unbox &amp; widening), while `Double -&gt; int` performs no conversion (not even unboxing)\r\n\r\nI&#39;m looking for the JLS entry that mentions this `Reference -&gt; primitive` conversion inconsistency, where unboxing occurs in one situation, but not the other.\r\n\r\n___\r\n\r\nThis `Integer -&gt; double` conversion compiles with no error\r\n\r\n    double d = Integer.valueOf(1);\r\n\r\nIt implies the following occurs:\r\n\r\n  1) `Integer` is [unboxed](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.8) to `int`\r\n  2) the `int` value undergoes a [widening primitive conversion](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.2) from `int -&gt; double`\r\n\r\n`Integer` is unboxed. The unboxed value is then widened. This gives the same behavior as `int -&gt; double`\r\n\r\n___\r\n\r\nThe creates the assumpsion that `Double -&gt; int` will also unbox, giving the same behavior as `double -&gt; int`\r\n\r\nFor the code \r\n\r\n    int i = Double.valueOf(1);\r\n\r\nI would expect the error message\r\n\r\n&gt; lossy conversion from double to int\r\n\r\nAssuming the `Double` gets unboxed, we should observe the same behavior as `double -&gt; int`\r\n\r\nInstead, we get a typing error\r\n\r\n&gt; Cannot convert Double to int\r\n\r\n___\r\n\r\nWhat is the explanation behind this behavior?\r\n\r\nWhy does unboxing occur between `Integer -&gt; double`, but no unboxing occurs between `Double -&gt; int`?\r\n\r\nWhy are these congruent:\r\n\r\n  - `Integer -&gt; double`\r\n  - `int -&gt; double`\r\n\r\nBut these aren&#39;t:\r\n\r\n  - `Double -&gt; int`\r\n  - `double -&gt; int`","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<p>To avoid confusion, I'm looking for the rule/JLS entry.</p>\n<ul>\n<li><p>I'm not asking why <code>Double -&gt; int</code> would fail, I'm asking about the <em>way</em> it fails</p>\n</li>\n<li><p>I'm aware of the lossy conversion, as I've mentioned in my question - I'm not asking about data loss between <code>double -&gt; int</code></p>\n</li>\n<li><p>I'm not asking for someone's &quot;best guess&quot; on why the developers designed it this way</p>\n</li>\n</ul>\n<p>I'm asking why <code>Integer -&gt; double</code> performs a conversion (unbox &amp; widening), while <code>Double -&gt; int</code> performs no conversion (not even unboxing)</p>\n<p>I'm looking for the JLS entry that mentions this <code>Reference -&gt; primitive</code> conversion inconsistency, where unboxing occurs in one situation, but not the other.</p>\n<hr />\n<p>This <code>Integer -&gt; double</code> conversion compiles with no error</p>\n<pre><code>double d = Integer.valueOf(1);\n</code></pre>\n<p>It implies the following occurs:</p>\n<ol>\n<li><code>Integer</code> is <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.8\" rel=\"nofollow noreferrer\">unboxed</a> to <code>int</code></li>\n<li>the <code>int</code> value undergoes a <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.2\" rel=\"nofollow noreferrer\">widening primitive conversion</a> from <code>int -&gt; double</code></li>\n</ol>\n<p><code>Integer</code> is unboxed. The unboxed value is then widened. This gives the same behavior as <code>int -&gt; double</code></p>\n<hr />\n<p>The creates the assumpsion that <code>Double -&gt; int</code> will also unbox, giving the same behavior as <code>double -&gt; int</code></p>\n<p>For the code</p>\n<pre><code>int i = Double.valueOf(1);\n</code></pre>\n<p>I would expect the error message</p>\n<blockquote>\n<p>lossy conversion from double to int</p>\n</blockquote>\n<p>Assuming the <code>Double</code> gets unboxed, we should observe the same behavior as <code>double -&gt; int</code></p>\n<p>Instead, we get a typing error</p>\n<blockquote>\n<p>Cannot convert Double to int</p>\n</blockquote>\n<hr />\n<p>What is the explanation behind this behavior?</p>\n<p>Why does unboxing occur between <code>Integer -&gt; double</code>, but no unboxing occurs between <code>Double -&gt; int</code>?</p>\n<p>Why are these congruent:</p>\n<ul>\n<li><code>Integer -&gt; double</code></li>\n<li><code>int -&gt; double</code></li>\n</ul>\n<p>But these aren't:</p>\n<ul>\n<li><code>Double -&gt; int</code></li>\n<li><code>double -&gt; int</code></li>\n</ul>\n"},{"tags":["java","spring","spring-boot","email","jakarta-mail"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688364500,"post_id":76601476,"comment_id":135059052,"body_markdown":"Please add your dependencies (your pom.xml or build.gradle).","body":"Please add your dependencies (your pom.xml or build.gradle)."},{"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"score":0,"creation_date":1688423877,"post_id":76601476,"comment_id":135069791,"body_markdown":"Thanks I have added pom.xml @m-deinum","body":"Thanks I have added pom.xml @m-deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688449716,"post_id":76601476,"comment_id":135071772,"body_markdown":"Can you provide the full stacktrace as well? How are you running this as a standalone server or deploy it to something else?","body":"Can you provide the full stacktrace as well? How are you running this as a standalone server or deploy it to something else?"},{"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"score":0,"creation_date":1688596015,"post_id":76601476,"comment_id":135096446,"body_markdown":"it is a springboot application is its run as a standalone server. will edit the stacktrace above for full - thanks","body":"it is a springboot application is its run as a standalone server. will edit the stacktrace above for full - thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688622428,"post_id":76601476,"comment_id":135098733,"body_markdown":"Could you add the output (or link to gist to the output) of `mvn dependency:tree`? You are using the `spring-boot-maven-plugin` to build the runnable jar? And not mess around with shade plugins etc. to do it yourself or worse export from the IDE?","body":"Could you add the output (or link to gist to the output) of <code>mvn dependency:tree</code>? You are using the <code>spring-boot-maven-plugin</code> to build the runnable jar? And not mess around with shade plugins etc. to do it yourself or worse export from the IDE?"},{"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"score":0,"creation_date":1689018852,"post_id":76601476,"comment_id":135151270,"body_markdown":"i have added the mvn dependency:tree output, yes we use the spring-boot-maven-plugin to build the runnable jar","body":"i have added the mvn dependency:tree output, yes we use the spring-boot-maven-plugin to build the runnable jar"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689052918,"post_id":76601476,"comment_id":135154607,"body_markdown":"I don&#39;t see anything obviously wrong. One thing that is weird is that your `spring-boot-starter-test` has a `compile` dependency` instead of `test`. Is there anything special on how you run the application?","body":"I don&#39;t see anything obviously wrong. One thing that is weird is that your <code>spring-boot-starter-test</code> has a <code>compile</code> dependency` instead of <code>test</code>. Is there anything special on how you run the application?"},{"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"score":0,"creation_date":1689114696,"post_id":76601476,"comment_id":135166910,"body_markdown":"oh no I think I have just forgotten to mark the scope of spring-boot-starter-test to test ! Application is run in a docker container but even if I run it via Intellij IDE it still gives that error when I try to send mail. Thanks anyway","body":"oh no I think I have just forgotten to mark the scope of spring-boot-starter-test to test ! Application is run in a docker container but even if I run it via Intellij IDE it still gives that error when I try to send mail. Thanks anyway"}],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689736240,"creation_date":1689736240,"answer_id":76717728,"question_id":76601476,"body_markdown":"Use the workaround described in: [665 - Jakarta Mail erroneously assumes that classes can be loaded from Thread#getContextClassLoader][1] which is to manipulate the context class loader during your call.\r\n\r\n    @Service\r\n    public class MailerService {\r\n\r\n    @Autowired\r\n    public JavaMailSender javaMailSender;\r\n\r\n    public void sendEmail(String toAddress, String subject, String body, boolean error) throws MessagingException {\r\n\r\n        MimeMessagePreparator preparator = mimeMessage -&gt; {\r\n            final Address recipient = new InternetAddress(toAddress);\r\n            mimeMessage.setFrom(new InternetAddress(fromAddress));\r\n            mimeMessage.setRecipient(Message.RecipientType.TO, recipient);\r\n            mimeMessage.setSentDate(new Date());\r\n            mimeMessage.setSubject(subject);\r\n            mimeMessage.setText(body);\r\n        };\r\n\r\n        // Send the e-mail\r\n        Thread t = Thread.currentThread();\r\n        ClassLoader orig = t.getContextClassLoader();\r\n        t.setContextClassLoader(InternetAddress.class.getClassLoader());\r\n        try {\r\n            javaMailSender.send(preparator);\r\n        } finally {\r\n            t.setContextClassLoader(orig);\r\n        }\r\n \r\n\r\nI&#39;m assuming that the InternetAddress.class is in the same classloader as the SMTP provider classes.  If that is not the case they you have to try other classloaders.\r\n\r\n\r\n  [1]: https://github.com/jakartaee/mail-api/issues/665","title":"Spring-boot-starter-mail 3.1.1 throws &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot;","body":"<p>Use the workaround described in: <a href=\"https://github.com/jakartaee/mail-api/issues/665\" rel=\"nofollow noreferrer\">665 - Jakarta Mail erroneously assumes that classes can be loaded from Thread#getContextClassLoader</a> which is to manipulate the context class loader during your call.</p>\n<pre><code>@Service\npublic class MailerService {\n\n@Autowired\npublic JavaMailSender javaMailSender;\n\npublic void sendEmail(String toAddress, String subject, String body, boolean error) throws MessagingException {\n\n    MimeMessagePreparator preparator = mimeMessage -&gt; {\n        final Address recipient = new InternetAddress(toAddress);\n        mimeMessage.setFrom(new InternetAddress(fromAddress));\n        mimeMessage.setRecipient(Message.RecipientType.TO, recipient);\n        mimeMessage.setSentDate(new Date());\n        mimeMessage.setSubject(subject);\n        mimeMessage.setText(body);\n    };\n\n    // Send the e-mail\n    Thread t = Thread.currentThread();\n    ClassLoader orig = t.getContextClassLoader();\n    t.setContextClassLoader(InternetAddress.class.getClassLoader());\n    try {\n        javaMailSender.send(preparator);\n    } finally {\n        t.setContextClassLoader(orig);\n    }\n</code></pre>\n<p>I'm assuming that the InternetAddress.class is in the same classloader as the SMTP provider classes.  If that is not the case they you have to try other classloaders.</p>\n"},{"tags":[],"owner":{"account_id":19573835,"reputation":11,"user_id":14324358,"display_name":"Gabriel Bornia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697563038,"creation_date":1697563038,"answer_id":77311004,"question_id":76601476,"body_markdown":"Just in case you tried the other comments in here and still got the same issue.\r\n\r\nI tried the replacement of the context class loader to no avail, always getting the &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot; error message.\r\n\r\nAfter analyzing the dependencies I noticed that another lib I was loading was bringing the `jakarta.mail:jakarta.mail-api:2.1.2` and I was including `sun.com.mail:jakarta.mail:2.1.0` which implements `jakarta.mail:jakarta.mail-api:2.1.0`.\r\n\r\nAll I had to do is make sure that both matched (either by removing the jar from the other one, or making sure it got overwritten):\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nI removed the class loader code suggested here, and it works. So instead of tweaking the class loader (as even suggested in https://github.com/jakartaee/mail-api/issues/665), make sure you have the correct versions before.","title":"Spring-boot-starter-mail 3.1.1 throws &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot;","body":"<p>Just in case you tried the other comments in here and still got the same issue.</p>\n<p>I tried the replacement of the context class loader to no avail, always getting the &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot; error message.</p>\n<p>After analyzing the dependencies I noticed that another lib I was loading was bringing the <code>jakarta.mail:jakarta.mail-api:2.1.2</code> and I was including <code>sun.com.mail:jakarta.mail:2.1.0</code> which implements <code>jakarta.mail:jakarta.mail-api:2.1.0</code>.</p>\n<p>All I had to do is make sure that both matched (either by removing the jar from the other one, or making sure it got overwritten):</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I removed the class loader code suggested here, and it works. So instead of tweaking the class loader (as even suggested in <a href=\"https://github.com/jakartaee/mail-api/issues/665\" rel=\"nofollow noreferrer\">https://github.com/jakartaee/mail-api/issues/665</a>), make sure you have the correct versions before.</p>\n"}],"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76717728,"answer_count":2,"score":1,"last_activity_date":1697657678,"creation_date":1688349666,"question_id":76601476,"body_markdown":"I am upgrading my project from springboot 2.7.7 to springboot 3.1.1 and java 11 to 17\r\nI have spring-boot-starter-mail included as a dependency and I try to send mail as follows\r\n\r\n```\r\n@Service\r\npublic class MailerService {\r\n\r\n\t@Autowired\r\n\tpublic JavaMailSender javaMailSender;\r\n\r\n\tpublic void sendEmail(String toAddress, String subject, String body, boolean error) throws MessagingException {\r\n\r\n\t\tMimeMessagePreparator preparator = mimeMessage -&gt; {\r\n\t\t\tfinal Address recipient = new InternetAddress(toAddress);\r\n\t\t\tmimeMessage.setFrom(new InternetAddress(fromAddress));\r\n\t\t\tmimeMessage.setRecipient(Message.RecipientType.TO, recipient);\r\n\t\t\tmimeMessage.setSentDate(new Date());\r\n\t\t\tmimeMessage.setSubject(subject);\r\n\t\t\tmimeMessage.setText(body);\r\n\t\t};\r\n\r\n\t\t// Send the e-mail\r\n\t\tjavaMailSender.send(preparator);\r\n\r\n... other code...\r\n\r\n```\r\n\r\nAt javaMailSender.send I get the following exception:\r\n\r\n```\r\njava.lang.IllegalStateException: Not provider of jakarta.mail.util.StreamProvider was found\r\n0 = {StackTraceElement@19049} &quot;org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:387)&quot;\r\n1 = {StackTraceElement@19050} &quot;org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:366)&quot;\r\n2 = {StackTraceElement@19051} &quot;nz.co.niwa.bjs.service.MailerService.sendEmail(MailerService.java:44)&quot;\r\n3 = {StackTraceElement@19052} &quot;nz.co.niwa.bjs.service.MailerService.sendDataPointEmail(MailerService.java:54)&quot;\r\n4 = {StackTraceElement@19053} &quot;nz.co.niwa.bjs.service.BulkPointDataFetchService.uploadCSVAndSendEmail(BulkPointDataFetchService.java:421)&quot;\r\n5 = {StackTraceElement@19054} &quot;nz.co.niwa.bjs.service.BulkPointDataFetchService.lambda$retrieveForecastData$6(BulkPointDataFetchService.java:351)&quot;\r\n6 = {StackTraceElement@19055} &quot;java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)&quot;\r\n7 = {StackTraceElement@19056} &quot;java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)&quot;\r\n8 = {StackTraceElement@19057} &quot;java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483)&quot;\r\n9 = {StackTraceElement@19058} &quot;java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)&quot;\r\n10 = {StackTraceElement@19059} &quot;java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)&quot;\r\n11 = {StackTraceElement@19060} &quot;java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)&quot;\r\n12 = {StackTraceElement@19061} &quot;java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)&quot;\r\n13 = {StackTraceElement@19062} &quot;java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)&quot;\r\n```\r\n\r\nHow can I fix this? Any help is appreciated.\r\nThank you\r\n\r\n\r\nEDIT: mvn:dependency tree\r\n```\r\n[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ mintaka-bulk-task-service ---\r\n[INFO] nz.co.niwa.bjs:mintaka-bulk-task-service:jar:1.6.0-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.1.1:compile\r\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.1.1:compile\r\n[INFO] |  +- io.micrometer:micrometer-observation:jar:1.11.1:compile\r\n[INFO] |  |  \\- io.micrometer:micrometer-commons:jar:1.11.1:compile\r\n[INFO] |  \\- io.micrometer:micrometer-core:jar:1.11.1:compile\r\n[INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\r\n[INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.1:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.1:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.10:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.10:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.10:compile\r\n[INFO] |  |  \\- org.springframework:spring-beans:jar:6.0.10:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.10:compile\r\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.10:compile\r\n[INFO] |     +- org.springframework:spring-context:jar:6.0.10:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.10:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:3.1.1:compile\r\n[INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.1.8:compile\r\n[INFO] |  |     +- io.netty:netty-codec-http:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-common:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-buffer:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-transport:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-codec:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-handler:jar:4.1.94.Final:compile\r\n[INFO] |  |     +- io.netty:netty-codec-http2:jar:4.1.94.Final:compile\r\n[INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-resolver:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.94.Final:compile\r\n[INFO] |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.94.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.94.Final:compile\r\n[INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-transport-native-unix-common:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.94.Final:compile\r\n[INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.1.8:compile\r\n[INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.94.Final:compile\r\n[INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.94.Final:compile\r\n[INFO] |  \\- org.springframework:spring-webflux:jar:6.0.10:compile\r\n[INFO] |     \\- io.projectreactor:reactor-core:jar:3.5.7:compile\r\n[INFO] |        \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.1:compile\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:compile\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:compile\r\n[INFO] |  +- net.minidev:json-smart:jar:2.4.11:compile\r\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.11:compile\r\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.3:compile\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.24.2:compile\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:compile\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:compile\r\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:compile\r\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:compile\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:runtime\r\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:runtime\r\n[INFO] |  +- org.mockito:mockito-core:jar:5.3.1:compile\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.5:compile\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.3:runtime\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:compile\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\r\n[INFO] |  +- org.springframework:spring-core:jar:6.0.10:compile\r\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.10:compile\r\n[INFO] |  +- org.springframework:spring-test:jar:6.0.10:compile\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\r\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter:jar:3.0.1:compile\r\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-autoconfigure:jar:3.0.1:compile\r\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-core:jar:3.0.1:compile\r\n[INFO] |  |  +- software.amazon.awssdk:regions:jar:2.20.63:compile\r\n[INFO] |  |  |  +- software.amazon.awssdk:annotations:jar:2.20.63:compile\r\n[INFO] |  |  |  +- software.amazon.awssdk:utils:jar:2.20.63:compile\r\n[INFO] |  |  |  +- software.amazon.awssdk:sdk-core:jar:2.20.63:compile\r\n[INFO] |  |  |  +- software.amazon.awssdk:profiles:jar:2.20.63:compile\r\n[INFO] |  |  |  \\- software.amazon.awssdk:json-utils:jar:2.20.63:compile\r\n[INFO] |  |  |     \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.63:compile\r\n[INFO] |  |  \\- software.amazon.awssdk:auth:jar:2.20.63:compile\r\n[INFO] |  |     +- software.amazon.awssdk:http-client-spi:jar:2.20.63:compile\r\n[INFO] |  |     \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\r\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\r\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter-sqs:jar:3.0.1:compile\r\n[INFO] |  \\- io.awspring.cloud:spring-cloud-aws-sqs:jar:3.0.1:compile\r\n[INFO] |     +- software.amazon.awssdk:sqs:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:aws-query-protocol:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:protocol-core:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:aws-core:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:metrics-spi:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:endpoints-spi:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:apache-client:jar:2.20.63:runtime\r\n[INFO] |     |  \\- software.amazon.awssdk:netty-nio-client:jar:2.20.63:runtime\r\n[INFO] |     +- software.amazon.awssdk:arns:jar:2.20.63:compile\r\n[INFO] |     \\- org.springframework:spring-messaging:jar:6.0.10:compile\r\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter-s3:jar:3.0.1:compile\r\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-s3:jar:3.0.1:compile\r\n[INFO] |  |  \\- software.amazon.awssdk:s3:jar:2.20.63:compile\r\n[INFO] |  |     +- software.amazon.awssdk:aws-xml-protocol:jar:2.20.63:compile\r\n[INFO] |  |     \\- software.amazon.awssdk:crt-core:jar:2.20.63:compile\r\n[INFO] |  \\- io.awspring.cloud:spring-cloud-aws-s3-cross-region-client:jar:3.0.1:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.1:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.1:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.10:compile\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.1:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.1:compile\r\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.10:compile\r\n[INFO] |  |  \\- org.springframework:spring-tx:jar:6.0.10:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.10:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-mail:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework:spring-context-support:jar:6.0.10:compile\r\n[INFO] |  \\- org.eclipse.angus:jakarta.mail:jar:1.1.0:compile\r\n[INFO] |     \\- org.eclipse.angus:angus-activation:jar:2.0.1:runtime\r\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.1:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.10:compile\r\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\r\n[INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.1:compile\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j2:jar:3.1.1:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0:compile\r\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.20.0:compile\r\n[INFO] |  \\- org.apache.logging.log4j:log4j-jul:jar:2.20.0:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-layout-template-json:jar:2.20.0:compile\r\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.2:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.2:compile\r\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.2:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.15.2:compile\r\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.15.2:compile\r\n[INFO] +- nz.co.niwa:arcgis:jar:1.3.2:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\r\n[INFO] |  |  \\- commons-logging:commons-logging:jar:1.2:compile\r\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] +- nz.co.niwa:clidb:jar:1.6.8:compile\r\n[INFO] |  +- junit:junit:jar:4.13.2:compile\r\n[INFO] |  +- com.oracle.jdbc:ojdbc7:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:xdb6:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:orai18n:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:xmlparserv2:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:oraclepki:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:osdt_cert:jar:12.1.0.2:compile\r\n[INFO] |  |  \\- com.oracle.jdbc:osdt_core:jar:12.1.0.2:compile\r\n[INFO] |  \\- com.google.guava:guava:jar:30.0-jre:compile\r\n[INFO] |     +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n[INFO] |     +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n[INFO] |     +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |     +- org.checkerframework:checker-qual:jar:3.5.0:compile\r\n[INFO] |     +- com.google.errorprone:error_prone_annotations:jar:2.3.4:compile\r\n[INFO] |     \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\r\n[INFO] +- nz.co.niwa:aquarius:jar:2.0.8:compile\r\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.70:compile\r\n[INFO] |     +- org.bouncycastle:bcprov-jdk15on:jar:1.70:compile\r\n[INFO] |     \\- org.bouncycastle:bcutil-jdk15on:jar:1.70:compile\r\n[INFO] +- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\r\n[INFO] +- commons-collections:commons-collections:jar:3.2.2:compile\r\n[INFO] +- commons-io:commons-io:jar:2.11.0:compile\r\n[INFO] +- org.hibernate.orm:hibernate-core:jar:6.2.2.Final:compile\r\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.5.1.Final:compile\r\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\r\n[INFO] |  +- io.smallrye:jandex:jar:3.0.5:runtime\r\n[INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.14.5:compile\r\n[INFO] |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.3:runtime\r\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.3:runtime\r\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:4.0.3:runtime\r\n[INFO] |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.2:runtime\r\n[INFO] |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\r\n[INFO] |  \\- org.antlr:antlr4-runtime:jar:4.10.1:compile\r\n[INFO] +- com.oracle.weblogic:ojdbc7:jar:12.1.3-0-0:provided\r\n[INFO] +- javax.measure:unit-api:jar:2.2:compile\r\n[INFO] +- tec.units:unit-ri:jar:1.0.3:compile\r\n[INFO] |  \\- tec.uom.lib:uom-lib-common:jar:1.0.2:compile\r\n[INFO] +- com.h2database:h2:jar:2.1.214:test\r\n[INFO] +- com.squareup.okhttp3:okhttp:jar:4.0.1:test\r\n[INFO] |  +- com.squareup.okio:okio:jar:2.2.2:test\r\n[INFO] |  \\- org.jetbrains.kotlin:kotlin-stdlib:jar:1.8.22:test\r\n[INFO] |     +- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.8.22:test\r\n[INFO] |     \\- org.jetbrains:annotations:jar:13.0:test\r\n[INFO] \\- com.squareup.okhttp3:mockwebserver:jar:4.0.1:test\r\n[INFO] --------------------------------------------------------------\r\n```","title":"Spring-boot-starter-mail 3.1.1 throws &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot;","body":"<p>I am upgrading my project from springboot 2.7.7 to springboot 3.1.1 and java 11 to 17\nI have spring-boot-starter-mail included as a dependency and I try to send mail as follows</p>\n<pre><code>@Service\npublic class MailerService {\n\n    @Autowired\n    public JavaMailSender javaMailSender;\n\n    public void sendEmail(String toAddress, String subject, String body, boolean error) throws MessagingException {\n\n        MimeMessagePreparator preparator = mimeMessage -&gt; {\n            final Address recipient = new InternetAddress(toAddress);\n            mimeMessage.setFrom(new InternetAddress(fromAddress));\n            mimeMessage.setRecipient(Message.RecipientType.TO, recipient);\n            mimeMessage.setSentDate(new Date());\n            mimeMessage.setSubject(subject);\n            mimeMessage.setText(body);\n        };\n\n        // Send the e-mail\n        javaMailSender.send(preparator);\n\n... other code...\n\n</code></pre>\n<p>At javaMailSender.send I get the following exception:</p>\n<pre><code>java.lang.IllegalStateException: Not provider of jakarta.mail.util.StreamProvider was found\n0 = {StackTraceElement@19049} &quot;org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:387)&quot;\n1 = {StackTraceElement@19050} &quot;org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:366)&quot;\n2 = {StackTraceElement@19051} &quot;nz.co.niwa.bjs.service.MailerService.sendEmail(MailerService.java:44)&quot;\n3 = {StackTraceElement@19052} &quot;nz.co.niwa.bjs.service.MailerService.sendDataPointEmail(MailerService.java:54)&quot;\n4 = {StackTraceElement@19053} &quot;nz.co.niwa.bjs.service.BulkPointDataFetchService.uploadCSVAndSendEmail(BulkPointDataFetchService.java:421)&quot;\n5 = {StackTraceElement@19054} &quot;nz.co.niwa.bjs.service.BulkPointDataFetchService.lambda$retrieveForecastData$6(BulkPointDataFetchService.java:351)&quot;\n6 = {StackTraceElement@19055} &quot;java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)&quot;\n7 = {StackTraceElement@19056} &quot;java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)&quot;\n8 = {StackTraceElement@19057} &quot;java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483)&quot;\n9 = {StackTraceElement@19058} &quot;java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)&quot;\n10 = {StackTraceElement@19059} &quot;java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)&quot;\n11 = {StackTraceElement@19060} &quot;java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)&quot;\n12 = {StackTraceElement@19061} &quot;java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)&quot;\n13 = {StackTraceElement@19062} &quot;java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)&quot;\n</code></pre>\n<p>How can I fix this? Any help is appreciated.\nThank you</p>\n<p>EDIT: mvn:dependency tree</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ mintaka-bulk-task-service ---\n[INFO] nz.co.niwa.bjs:mintaka-bulk-task-service:jar:1.6.0-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.1.1:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.1.1:compile\n[INFO] |  +- io.micrometer:micrometer-observation:jar:1.11.1:compile\n[INFO] |  |  \\- io.micrometer:micrometer-commons:jar:1.11.1:compile\n[INFO] |  \\- io.micrometer:micrometer-core:jar:1.11.1:compile\n[INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\n[INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.1:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.10:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.10:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.10:compile\n[INFO] |  |  \\- org.springframework:spring-beans:jar:6.0.10:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.10:compile\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.10:compile\n[INFO] |     +- org.springframework:spring-context:jar:6.0.10:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.10:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:3.1.1:compile\n[INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.1.8:compile\n[INFO] |  |     +- io.netty:netty-codec-http:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-common:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-buffer:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-transport:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-codec:jar:4.1.94.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-handler:jar:4.1.94.Final:compile\n[INFO] |  |     +- io.netty:netty-codec-http2:jar:4.1.94.Final:compile\n[INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-resolver:jar:4.1.94.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.94.Final:compile\n[INFO] |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.94.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.94.Final:compile\n[INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-transport-native-unix-common:jar:4.1.94.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.94.Final:compile\n[INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.1.8:compile\n[INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.94.Final:compile\n[INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.94.Final:compile\n[INFO] |  \\- org.springframework:spring-webflux:jar:6.0.10:compile\n[INFO] |     \\- io.projectreactor:reactor-core:jar:3.5.7:compile\n[INFO] |        \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.1:compile\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:compile\n[INFO] |  +- net.minidev:json-smart:jar:2.4.11:compile\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.11:compile\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.3:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.24.2:compile\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:compile\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:compile\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:compile\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:runtime\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:runtime\n[INFO] |  +- org.mockito:mockito-core:jar:5.3.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.5:compile\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.3:runtime\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:compile\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.10:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.10:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.10:compile\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter:jar:3.0.1:compile\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-autoconfigure:jar:3.0.1:compile\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-core:jar:3.0.1:compile\n[INFO] |  |  +- software.amazon.awssdk:regions:jar:2.20.63:compile\n[INFO] |  |  |  +- software.amazon.awssdk:annotations:jar:2.20.63:compile\n[INFO] |  |  |  +- software.amazon.awssdk:utils:jar:2.20.63:compile\n[INFO] |  |  |  +- software.amazon.awssdk:sdk-core:jar:2.20.63:compile\n[INFO] |  |  |  +- software.amazon.awssdk:profiles:jar:2.20.63:compile\n[INFO] |  |  |  \\- software.amazon.awssdk:json-utils:jar:2.20.63:compile\n[INFO] |  |  |     \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.63:compile\n[INFO] |  |  \\- software.amazon.awssdk:auth:jar:2.20.63:compile\n[INFO] |  |     +- software.amazon.awssdk:http-client-spi:jar:2.20.63:compile\n[INFO] |  |     \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter-sqs:jar:3.0.1:compile\n[INFO] |  \\- io.awspring.cloud:spring-cloud-aws-sqs:jar:3.0.1:compile\n[INFO] |     +- software.amazon.awssdk:sqs:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:aws-query-protocol:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:protocol-core:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:aws-core:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:metrics-spi:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:endpoints-spi:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:apache-client:jar:2.20.63:runtime\n[INFO] |     |  \\- software.amazon.awssdk:netty-nio-client:jar:2.20.63:runtime\n[INFO] |     +- software.amazon.awssdk:arns:jar:2.20.63:compile\n[INFO] |     \\- org.springframework:spring-messaging:jar:6.0.10:compile\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter-s3:jar:3.0.1:compile\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-s3:jar:3.0.1:compile\n[INFO] |  |  \\- software.amazon.awssdk:s3:jar:2.20.63:compile\n[INFO] |  |     +- software.amazon.awssdk:aws-xml-protocol:jar:2.20.63:compile\n[INFO] |  |     \\- software.amazon.awssdk:crt-core:jar:2.20.63:compile\n[INFO] |  \\- io.awspring.cloud:spring-cloud-aws-s3-cross-region-client:jar:3.0.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.1:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.1:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.10:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.1:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.1:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.10:compile\n[INFO] |  |  \\- org.springframework:spring-tx:jar:6.0.10:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.10:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-mail:jar:3.1.1:compile\n[INFO] |  +- org.springframework:spring-context-support:jar:6.0.10:compile\n[INFO] |  \\- org.eclipse.angus:jakarta.mail:jar:1.1.0:compile\n[INFO] |     \\- org.eclipse.angus:angus-activation:jar:2.0.1:runtime\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.1:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.10:compile\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\n[INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.1:compile\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j2:jar:3.1.1:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0:compile\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.20.0:compile\n[INFO] |  \\- org.apache.logging.log4j:log4j-jul:jar:2.20.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-layout-template-json:jar:2.20.0:compile\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.2:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.2:compile\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.2:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.15.2:compile\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.15.2:compile\n[INFO] +- nz.co.niwa:arcgis:jar:1.3.2:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\n[INFO] |  |  \\- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] +- nz.co.niwa:clidb:jar:1.6.8:compile\n[INFO] |  +- junit:junit:jar:4.13.2:compile\n[INFO] |  +- com.oracle.jdbc:ojdbc7:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:xdb6:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:orai18n:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:xmlparserv2:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:oraclepki:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:osdt_cert:jar:12.1.0.2:compile\n[INFO] |  |  \\- com.oracle.jdbc:osdt_core:jar:12.1.0.2:compile\n[INFO] |  \\- com.google.guava:guava:jar:30.0-jre:compile\n[INFO] |     +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO] |     +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO] |     +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] |     +- org.checkerframework:checker-qual:jar:3.5.0:compile\n[INFO] |     +- com.google.errorprone:error_prone_annotations:jar:2.3.4:compile\n[INFO] |     \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\n[INFO] +- nz.co.niwa:aquarius:jar:2.0.8:compile\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.70:compile\n[INFO] |     +- org.bouncycastle:bcprov-jdk15on:jar:1.70:compile\n[INFO] |     \\- org.bouncycastle:bcutil-jdk15on:jar:1.70:compile\n[INFO] +- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\n[INFO] +- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] +- commons-io:commons-io:jar:2.11.0:compile\n[INFO] +- org.hibernate.orm:hibernate-core:jar:6.2.2.Final:compile\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.5.1.Final:compile\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\n[INFO] |  +- io.smallrye:jandex:jar:3.0.5:runtime\n[INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.14.5:compile\n[INFO] |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.3:runtime\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.3:runtime\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:4.0.3:runtime\n[INFO] |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.2:runtime\n[INFO] |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\n[INFO] |  \\- org.antlr:antlr4-runtime:jar:4.10.1:compile\n[INFO] +- com.oracle.weblogic:ojdbc7:jar:12.1.3-0-0:provided\n[INFO] +- javax.measure:unit-api:jar:2.2:compile\n[INFO] +- tec.units:unit-ri:jar:1.0.3:compile\n[INFO] |  \\- tec.uom.lib:uom-lib-common:jar:1.0.2:compile\n[INFO] +- com.h2database:h2:jar:2.1.214:test\n[INFO] +- com.squareup.okhttp3:okhttp:jar:4.0.1:test\n[INFO] |  +- com.squareup.okio:okio:jar:2.2.2:test\n[INFO] |  \\- org.jetbrains.kotlin:kotlin-stdlib:jar:1.8.22:test\n[INFO] |     +- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.8.22:test\n[INFO] |     \\- org.jetbrains:annotations:jar:13.0:test\n[INFO] \\- com.squareup.okhttp3:mockwebserver:jar:4.0.1:test\n[INFO] --------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","outlook","smtp","office365","jakarta-mail"],"comments":[{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1587782183,"post_id":61406799,"comment_id":108652407,"body_markdown":"Start by simplifying your code by fixing these [common mistakes](https://javaee.github.io/javamail/FAQ#commonmistakes).  Are you using the same user name that you use with the web UI?  Can you configure Thunderbird to login with the same username and password?","body":"Start by simplifying your code by fixing these <a href=\"https://javaee.github.io/javamail/FAQ#commonmistakes\" rel=\"nofollow noreferrer\">common mistakes</a>.  Are you using the same user name that you use with the web UI?  Can you configure Thunderbird to login with the same username and password?"},{"owner":{"account_id":3195669,"reputation":31,"user_id":2698893,"display_name":"Vineed Gangadharan"},"score":0,"creation_date":1587902319,"post_id":61406799,"comment_id":108686059,"body_markdown":"Yes I am using same user name as the web and in thunderbird it gives SSL/TLS erro","body":"Yes I am using same user name as the web and in thunderbird it gives SSL/TLS erro"}],"answers":[{"tags":[],"owner":{"account_id":12038388,"reputation":1,"user_id":8806159,"display_name":"Sello Motloung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599662021,"creation_date":1599650323,"answer_id":63810553,"question_id":61406799,"body_markdown":"    public class EWS {\r\n    \r\n        private static ExchangeService service;\r\n        private static Integer NUMBER_EMAILS_FETCH = 5; // only latest 5 emails/appointments are fetched.\r\n    \r\n        static {\r\n            try {\r\n                service = new ExchangeService(ExchangeVersion.Exchange2010_SP1);\r\n                service.setUrl(new URI(&quot;https://outlook.office365.com/EWS/exchange.asmx&quot;));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Initialize the Exchange Credentials.\r\n         */\r\n        public EWS() throws Exception {\r\n             ExchangeCredentials credentials = new WebCredentials(&quot;User Name&quot;, &quot;Password&quot;);\r\n            service.setCredentials(credentials);\r\n        }\r\n    \r\n         /**\r\n         * Reading one email at a time. Using Item ID of the email. Creating a\r\n         * message data map as a return value.\r\n         */\r\n        public Map readEmailItem(ItemId itemId) {\r\n            Map messageData = new HashMap();\r\n            try {\r\n                Item itm = Item.bind(service, itemId, PropertySet.FirstClassProperties);\r\n                EmailMessage emailMessage = EmailMessage.bind(service, itm.getId());\r\n                messageData.put(&quot;emailItemId&quot;, emailMessage.getId().toString());\r\n                messageData.put(&quot;subject&quot;, emailMessage.getSubject());\r\n                messageData.put(&quot;fromAddress&quot;, emailMessage.getFrom().getAddress());\r\n                messageData.put(&quot;senderName&quot;, emailMessage.getSender().getName());\r\n                Date dateTimeCreated = emailMessage.getDateTimeCreated();\r\n                messageData.put(&quot;SendDate&quot;, dateTimeCreated.toString());\r\n                Date dateTimeRecieved = emailMessage.getDateTimeReceived();\r\n                messageData.put(&quot;RecievedDate&quot;, dateTimeRecieved.toString());\r\n                messageData.put(&quot;Size&quot;, emailMessage.getSize() + &quot;&quot;);\r\n                messageData.put(&quot;emailBody&quot;, emailMessage.getBody().toString());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return messageData;\r\n        }\r\n        /**\r\n         * Number of email we want to read is defined as NUMBER_EMAILS_FETCH,\r\n         */\r\n        public List&lt;Map&gt; readEmails() {\r\n            List&lt;Map&gt; msgDataList = new ArrayList&lt;&gt;();\r\n            try {\r\n                service.setTraceEnabled(true);\r\n                System.out.println(&quot;|---------------------&gt; service = {}&quot; + service);\r\n                Folder folder = Folder.bind(service, WellKnownFolderName.Inbox);\r\n                FindItemsResults&lt;Item&gt; results = service.findItems(folder.getId(), new ItemView(NUMBER_EMAILS_FETCH));\r\n                int i = 1;\r\n                for (Item item : results) {\r\n                    Map messageData = readEmailItem(item.getId());\r\n                    System.out.println(&quot;|---------------------&gt; service = {}&quot; + (i++) + &quot;:&quot;);\r\n                    System.out.println(&quot;|---------------------&gt; service = {}&quot; + messageData.get(&quot;subject&quot;).toString());\r\n                    System.out.println(&quot;|---------------------&gt; service = {}&quot; + messageData.get(&quot;senderName&quot;).toString());\r\n                    msgDataList.add(messageData);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return msgDataList;\r\n        }\r\n        public static void main(String[] args) throws Exception {\r\n            EWS msees = new EWS();\r\n            List&lt;Map&gt; emails = msees.readEmails();\r\n            System.out.println(&quot;|---------------------&gt; service = {}&quot; + emails.size());\r\n        }\r\n    }","title":"Send Mail via Java Api for Office 365","body":"<pre><code>public class EWS {\n\n    private static ExchangeService service;\n    private static Integer NUMBER_EMAILS_FETCH = 5; // only latest 5 emails/appointments are fetched.\n\n    static {\n        try {\n            service = new ExchangeService(ExchangeVersion.Exchange2010_SP1);\n            service.setUrl(new URI(&quot;https://outlook.office365.com/EWS/exchange.asmx&quot;));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * Initialize the Exchange Credentials.\n     */\n    public EWS() throws Exception {\n         ExchangeCredentials credentials = new WebCredentials(&quot;User Name&quot;, &quot;Password&quot;);\n        service.setCredentials(credentials);\n    }\n\n     /**\n     * Reading one email at a time. Using Item ID of the email. Creating a\n     * message data map as a return value.\n     */\n    public Map readEmailItem(ItemId itemId) {\n        Map messageData = new HashMap();\n        try {\n            Item itm = Item.bind(service, itemId, PropertySet.FirstClassProperties);\n            EmailMessage emailMessage = EmailMessage.bind(service, itm.getId());\n            messageData.put(&quot;emailItemId&quot;, emailMessage.getId().toString());\n            messageData.put(&quot;subject&quot;, emailMessage.getSubject());\n            messageData.put(&quot;fromAddress&quot;, emailMessage.getFrom().getAddress());\n            messageData.put(&quot;senderName&quot;, emailMessage.getSender().getName());\n            Date dateTimeCreated = emailMessage.getDateTimeCreated();\n            messageData.put(&quot;SendDate&quot;, dateTimeCreated.toString());\n            Date dateTimeRecieved = emailMessage.getDateTimeReceived();\n            messageData.put(&quot;RecievedDate&quot;, dateTimeRecieved.toString());\n            messageData.put(&quot;Size&quot;, emailMessage.getSize() + &quot;&quot;);\n            messageData.put(&quot;emailBody&quot;, emailMessage.getBody().toString());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return messageData;\n    }\n    /**\n     * Number of email we want to read is defined as NUMBER_EMAILS_FETCH,\n     */\n    public List&lt;Map&gt; readEmails() {\n        List&lt;Map&gt; msgDataList = new ArrayList&lt;&gt;();\n        try {\n            service.setTraceEnabled(true);\n            System.out.println(&quot;|---------------------&gt; service = {}&quot; + service);\n            Folder folder = Folder.bind(service, WellKnownFolderName.Inbox);\n            FindItemsResults&lt;Item&gt; results = service.findItems(folder.getId(), new ItemView(NUMBER_EMAILS_FETCH));\n            int i = 1;\n            for (Item item : results) {\n                Map messageData = readEmailItem(item.getId());\n                System.out.println(&quot;|---------------------&gt; service = {}&quot; + (i++) + &quot;:&quot;);\n                System.out.println(&quot;|---------------------&gt; service = {}&quot; + messageData.get(&quot;subject&quot;).toString());\n                System.out.println(&quot;|---------------------&gt; service = {}&quot; + messageData.get(&quot;senderName&quot;).toString());\n                msgDataList.add(messageData);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return msgDataList;\n    }\n    public static void main(String[] args) throws Exception {\n        EWS msees = new EWS();\n        List&lt;Map&gt; emails = msees.readEmails();\n        System.out.println(&quot;|---------------------&gt; service = {}&quot; + emails.size());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19944053,"reputation":1,"user_id":14615173,"display_name":"Edivaldo Merlo Stens"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1605043021,"creation_date":1605039237,"answer_id":64776130,"question_id":61406799,"body_markdown":"Disable Modern authentication for STMP in:\r\n\r\nhttps://admin.microsoft.com/Adminportal/Home?source=applauncher#/Settings/Services/:/Settings/L1/ModernAuthentication\r\n\r\n![Authenticated SMTP unchecked][1]\r\n\r\nWait a few minutes to test making these changes.\r\n\r\n  [1]: https://i.stack.imgur.com/bu9pq.jpg","title":"Send Mail via Java Api for Office 365","body":"<p>Disable Modern authentication for STMP in:</p>\n<p><a href=\"https://admin.microsoft.com/Adminportal/Home?source=applauncher#/Settings/Services/:/Settings/L1/ModernAuthentication\" rel=\"nofollow noreferrer\">https://admin.microsoft.com/Adminportal/Home?source=applauncher#/Settings/Services/:/Settings/L1/ModernAuthentication</a></p>\n<p><img src=\"https://i.stack.imgur.com/bu9pq.jpg\" alt=\"Authenticated SMTP unchecked\" /></p>\n<p>Wait a few minutes to test making these changes.</p>\n"}],"owner":{"account_id":3195669,"reputation":31,"user_id":2698893,"display_name":"Vineed Gangadharan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697656091,"creation_date":1587725953,"question_id":61406799,"body_markdown":"Hi i am currently developing java application which will send mail to multiple recipients via Java Mail Api(1.6.2), i have configure the SMTP as per the Microsoft docs problem is the code is working with my personal hotmail email id but it fails for corporate office 365 account.\r\n\r\nError : javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful [PN1PR0101CA0066.INDPRD01.PROD.OUTLOOK.COM]\r\n\r\nPOP and IMAP are working(Receiving mails) and i can login with the password in Office 365 Web, i have tried changing password too.\r\n\r\n\r\nCode :\r\n\r\n```\r\nUser user = Credentials.ACC;\r\nProperties props = new Properties();\r\nprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.office365.com&quot;);//outlook.office365.com\r\nprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);//25\r\nprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n//props.put(&quot;mail.smtp.ssl.enable&quot;, true);\r\n\r\nSession session = Session.getInstance(props, new Authenticator() {\r\n    @Override\r\n    protected PasswordAuthentication getPasswordAuthentication() {\r\n        return new PasswordAuthentication(user.getUsername(), user.getPassword());\r\n    }\r\n});\r\nsession.setDebug(true);\r\n\r\ntry {\r\n    MimeMessage msg = new MimeMessage(session);\r\n    msg.setFrom(user.getUsername());\r\n    \r\n    msg.setRecipients(Message.RecipientType.TO,\r\n            &quot;some@mail.com&quot;);\r\n    msg.setSubject(&quot;Testing SMTP using [&quot; + user.getUsername() + &quot;]&quot;);\r\n    msg.setSentDate(new Date());\r\n    msg.setText(&quot;Hey, this is a test from [&quot; + user.getUsername() + &quot;], Sending via Java Mail API&quot;);\r\n\r\n    Transport.send(msg);\r\n    System.out.println(&quot;Sent Ok&quot;);\r\n} catch (MessagingException e) {\r\n    System.out.println(&quot;Something went wrong&quot;);\r\n    e.printStackTrace();\r\n}\r\n```","title":"Send Mail via Java Api for Office 365","body":"<p>Hi i am currently developing java application which will send mail to multiple recipients via Java Mail Api(1.6.2), i have configure the SMTP as per the Microsoft docs problem is the code is working with my personal hotmail email id but it fails for corporate office 365 account.</p>\n\n<p>Error : javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful [PN1PR0101CA0066.INDPRD01.PROD.OUTLOOK.COM]</p>\n\n<p>POP and IMAP are working(Receiving mails) and i can login with the password in Office 365 Web, i have tried changing password too.</p>\n\n<p>Code :</p>\n\n<pre><code>User user = Credentials.ACC;\nProperties props = new Properties();\nprops.put(\"mail.smtp.host\", \"smtp.office365.com\");//outlook.office365.com\nprops.put(\"mail.smtp.auth\", \"true\");\nprops.put(\"mail.smtp.port\", \"587\");//25\nprops.put(\"mail.smtp.starttls.enable\", \"true\");\nprops.put(\"mail.transport.protocol\", \"smtp\");\n//props.put(\"mail.smtp.ssl.enable\", true);\n\nSession session = Session.getInstance(props, new Authenticator() {\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(user.getUsername(), user.getPassword());\n    }\n});\nsession.setDebug(true);\n\ntry {\n    MimeMessage msg = new MimeMessage(session);\n    msg.setFrom(user.getUsername());\n\n    msg.setRecipients(Message.RecipientType.TO,\n            \"some@mail.com\");\n    msg.setSubject(\"Testing SMTP using [\" + user.getUsername() + \"]\");\n    msg.setSentDate(new Date());\n    msg.setText(\"Hey, this is a test from [\" + user.getUsername() + \"], Sending via Java Mail API\");\n\n    Transport.send(msg);\n    System.out.println(\"Sent Ok\");\n} catch (MessagingException e) {\n    System.out.println(\"Something went wrong\");\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","caching","microservices"],"comments":[{"owner":{"account_id":11448531,"reputation":665,"user_id":8391546,"display_name":"abj1305"},"score":0,"creation_date":1556107322,"post_id":55829516,"comment_id":98323814,"body_markdown":"Check if Micro service A can somehow be notified if there is some change in the database. Listen to the notification and if any, refresh the cache","body":"Check if Micro service A can somehow be notified if there is some change in the database. Listen to the notification and if any, refresh the cache"},{"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"score":0,"creation_date":1556115963,"post_id":55829516,"comment_id":98329465,"body_markdown":"Thanks @abj1305. I enabled a rest endpoint at Microservice A and making a rest call from Microservice B to update cache at &#39;A&#39;. I am looking if any of proven cache mechanism handle these or any even better approach we can..","body":"Thanks @abj1305. I enabled a rest endpoint at Microservice A and making a rest call from Microservice B to update cache at &#39;A&#39;. I am looking if any of proven cache mechanism handle these or any even better approach we can.."},{"owner":{"account_id":11448531,"reputation":665,"user_id":8391546,"display_name":"abj1305"},"score":0,"creation_date":1556167513,"post_id":55829516,"comment_id":98346732,"body_markdown":"You may find this [link](https://dzone.com/articles/communicating-between-microservices) useful.","body":"You may find this <a href=\"https://dzone.com/articles/communicating-between-microservices\" rel=\"nofollow noreferrer\">link</a> useful."}],"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697656043,"creation_date":1556107018,"question_id":55829516,"body_markdown":"I have 2 microservices, A and B and a postgres database. Microservice B directly interacts with database to perform CRUD operations. From microservice A, while starting up application, we are caching all database records. Now for any update/insert in db using Microservice B should also update cache in Microservice A. \r\n\r\nCurrently we are using time-based cache refresh i.e., updating caching in Microservice A for every 1 hour. \r\n\r\nPlease suggest better approach or any cache mechanisms that handle this..\r\n\r\nThanks in Advance.","title":"How to refresh cache of a microservice for any CRUD operation performed on DB from another microservice","body":"<p>I have 2 microservices, A and B and a postgres database. Microservice B directly interacts with database to perform CRUD operations. From microservice A, while starting up application, we are caching all database records. Now for any update/insert in db using Microservice B should also update cache in Microservice A. </p>\n\n<p>Currently we are using time-based cache refresh i.e., updating caching in Microservice A for every 1 hour. </p>\n\n<p>Please suggest better approach or any cache mechanisms that handle this..</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":20612404,"reputation":131,"user_id":15131279,"display_name":"Lanfix"},"score":0,"creation_date":1698434092,"post_id":77318994,"comment_id":136409966,"body_markdown":"Hello, could you be more precise about your goal with this code ?","body":"Hello, could you be more precise about your goal with this code ?"}],"owner":{"account_id":24581454,"reputation":11,"user_id":18486515,"display_name":"Kifo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697655920,"creation_date":1697655920,"question_id":77318994,"body_markdown":"I have the following code:\r\n\r\n    public void lungeTask(Entity entity) {\r\n        this.entity = entity;\r\n        Location spawnLoc = getLocAroundCircle(this.player.getLocation(), Double.valueOf(Lunged.getInstance().getConfiguration().getRadius()), Double.valueOf(0.0D));\r\n        PathEntity path = ((EntityInsentient)((CraftEntity)entity).getHandle()).getNavigation().a(spawnLoc.getX(),\r\n                spawnLoc.getY(), spawnLoc.getZ(), 0);\r\n        Location center = this.player.getLocation();\r\n        ((EntityInsentient)((CraftEntity)entity).getHandle()).getNavigation().a(path, 1.78D);\r\n        this.task = Bukkit.getScheduler().runTaskTimer((Plugin)Lunged.getInstance(), () -&gt; {\r\n            if (entity.getLocation().distance(spawnLoc) &lt; 1.0D) {\r\n                lunge(entity, center);\r\n                this.task.cancel();\r\n            } else {\r\n                entity.getHandle()).getNavigation().a(path, 1.78D);\r\n            }\r\n        }0L, 2L);\r\n    }\r\n\r\n\r\nThe problem is, that &quot;PathEntity&quot; and &quot;EntityInsentient&quot; are no longer part of the Spigot API. So my question is how can I replace the two classes using Spigot 1.20.1?","title":"Minecraft move entity with Spigot 1.20.1","body":"<p>I have the following code:</p>\n<pre><code>public void lungeTask(Entity entity) {\n    this.entity = entity;\n    Location spawnLoc = getLocAroundCircle(this.player.getLocation(), Double.valueOf(Lunged.getInstance().getConfiguration().getRadius()), Double.valueOf(0.0D));\n    PathEntity path = ((EntityInsentient)((CraftEntity)entity).getHandle()).getNavigation().a(spawnLoc.getX(),\n            spawnLoc.getY(), spawnLoc.getZ(), 0);\n    Location center = this.player.getLocation();\n    ((EntityInsentient)((CraftEntity)entity).getHandle()).getNavigation().a(path, 1.78D);\n    this.task = Bukkit.getScheduler().runTaskTimer((Plugin)Lunged.getInstance(), () -&gt; {\n        if (entity.getLocation().distance(spawnLoc) &lt; 1.0D) {\n            lunge(entity, center);\n            this.task.cancel();\n        } else {\n            entity.getHandle()).getNavigation().a(path, 1.78D);\n        }\n    }0L, 2L);\n}\n</code></pre>\n<p>The problem is, that &quot;PathEntity&quot; and &quot;EntityInsentient&quot; are no longer part of the Spigot API. So my question is how can I replace the two classes using Spigot 1.20.1?</p>\n"},{"tags":["java","maven","cucumber","gherkin"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697655277,"creation_date":1697655277,"answer_id":77318931,"question_id":77318689,"body_markdown":"In your scenario you have a step:\r\n\r\n```feature\r\nThen fill in credentials with &lt;alias&gt;\r\n```\r\n\r\nBecause this is a step in a scenario outline the `&lt;alias&gt;` gets replaced with the value of your examples.\r\n\r\n```feature\r\nExamples:\r\n      | alias | address  | city     | zip    | country | phone     |\r\n      | RWT   | Lubelska | Warszawa | 01-999 | Poland  | 498100234 |\r\n```\r\n\r\nSo your step is now\r\n\r\n```feature\r\nThen fill in credentials with RWT\r\n```\r\n\r\nThis does not match your step definition. The fish brackets are treated as regular text here.\r\n\r\n```java\r\n@Then(&quot;fill in credentials with &lt;alias&gt;&quot;)\r\n```\r\n\r\nWhich is why Cucumber suggests:\r\n\r\n```java\r\n@Then(&quot;fill in credentials with RWT&quot;)\r\n```\r\n\r\nYou can change your step to\r\n\r\n```feature\r\nThen fill in credentials with &quot;&lt;alias&gt;&quot;\r\n```\r\n\r\nAnd your step definition to \r\n\r\n```java\r\n@Then(&quot;fill in credentials with {string}&quot;)\r\n```\r\n\r\nThen both will match.\r\n\r\nAlso by adding the quotes in the step, Cucumber will suggest parametrized step definitions.\r\n\r\nBtw, you do not need the `gherkin` dependency. It is a transitive dependency and is included automatically.\r\n","title":"Cucumber java - maven- example table - one step undefined","body":"<p>In your scenario you have a step:</p>\n<pre><code>Then fill in credentials with &lt;alias&gt;\n</code></pre>\n<p>Because this is a step in a scenario outline the <code>&lt;alias&gt;</code> gets replaced with the value of your examples.</p>\n<pre><code>Examples:\n      | alias | address  | city     | zip    | country | phone     |\n      | RWT   | Lubelska | Warszawa | 01-999 | Poland  | 498100234 |\n</code></pre>\n<p>So your step is now</p>\n<pre><code>Then fill in credentials with RWT\n</code></pre>\n<p>This does not match your step definition. The fish brackets are treated as regular text here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Then(&quot;fill in credentials with &lt;alias&gt;&quot;)\n</code></pre>\n<p>Which is why Cucumber suggests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Then(&quot;fill in credentials with RWT&quot;)\n</code></pre>\n<p>You can change your step to</p>\n<pre><code>Then fill in credentials with &quot;&lt;alias&gt;&quot;\n</code></pre>\n<p>And your step definition to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Then(&quot;fill in credentials with {string}&quot;)\n</code></pre>\n<p>Then both will match.</p>\n<p>Also by adding the quotes in the step, Cucumber will suggest parametrized step definitions.</p>\n<p>Btw, you do not need the <code>gherkin</code> dependency. It is a transitive dependency and is included automatically.</p>\n"}],"owner":{"account_id":29626574,"reputation":13,"user_id":22706131,"display_name":"Rado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77318931,"answer_count":1,"score":1,"last_activity_date":1697655277,"creation_date":1697652667,"question_id":77318689,"body_markdown":"I am an absolute beginner to coding of any sort, and I am currently doing a final project for a course I have been attending.\r\n\r\nI am hard stuck on one of my steps, however. I get &quot;step undefined&quot; no matter what I do. Now internet points me towards glue in cucumber options however I am sure that I have specified the package and all my other steps work just fine, in case of bad glue all steps are undefined as I found out earlier.\r\n\r\nSo, in my case, this one singular step keeps being undefined, and I just cannot work it out.\r\n\r\nHere are my step definitions\r\n\r\n```\r\npackage Mystore;\r\nimport io.cucumber.datatable.DataTable;\r\nimport io.cucumber.datatable.UndefinedDataTableTypeException;\r\nimport io.cucumber.java.en.And;\r\nimport io.cucumber.java.AfterAll;\r\nimport io.cucumber.java.BeforeAll;\r\nimport io.cucumber.java.Before;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport io.cucumber.java.en.Given;\r\nimport io.cucumber.java.en.Then;\r\nimport io.cucumber.java.en.When;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class StepDefinition {\r\n\r\n    private static WebDriver driver;\r\n\r\n    @Before\r\n    public void setup() {\r\n        driver = new ChromeDriver();\r\n    }\r\n\r\n    //@AfterAll\r\n    //public static void teardown() {\r\n       // driver.quit();\r\n    //}\r\n\r\n    @Given(&quot;User is logged in&quot;)\r\n    public void user_is_logged_in() {\r\n        driver.get(&quot;https://mystore-testlab.coderslab.pl/index.php&quot;);\r\n\r\n        WebElement element;\r\n        element = driver.findElement(By.className(&quot;user-info&quot;));\r\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n        element.click();\r\n        WebElement email = driver.findElement(By.id(&quot;field-email&quot;));\r\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n        email.click();\r\n        email.sendKeys(&quot;gkqvuzdwzxoltwlnij@ckptr.com&quot;);\r\n        driver.findElement(By.id(&quot;field-password&quot;)).sendKeys(&quot;qwerty1&quot;);\r\n        WebElement sign = driver.findElement(By.id(&quot;submit-login&quot;));\r\n        sign.click();\r\n\r\n    }\r\n    @When(&quot;add address is clicked&quot;)\r\n    public void add_address_is_clicked() {\r\n\r\n        WebElement address;\r\n        address = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;footer_account_list\\&quot;]/li[4]/a&quot;));\r\n        address.click();\r\n        WebElement clkaddress;\r\n        clkaddress = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;content\\&quot;]/div[2]/a&quot;));\r\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n        clkaddress.click();\r\n    }\r\n    @Then(&quot;fill in credentials with &lt;alias&gt;&quot;)\r\n    public void fill_in_credentials_with(String alias){\r\n\r\n        driver.findElement(By.className(&quot;col-md-6&quot;)).sendKeys(alias);\r\n        //alias.sendKeys(Userdata.cell(1,1));\r\n    }\r\n    @And(&quot;submit and close the page&quot;)\r\n        public void ubmit_and_close_the_page() {\r\n            driver.quit();\r\n    }\r\n}\r\n```\r\n\r\nMy feature\r\n\r\n```\r\nFeature: Create address on mystore\r\n\r\n  Scenario Outline: Test filling in address\r\n    Given User is logged in\r\n    When add address is clicked\r\n    Then fill in credentials with &lt;alias&gt;\r\n    And submit and close the page\r\n\r\n    Examples:\r\n      | alias | address  | city     | zip    | country | phone     |\r\n      | RWT   | Lubelska | Warszawa | 01-999 | Poland  | 498100234 |\r\n```\r\n\r\nMy runner\r\n\r\n```\r\npackage Mystore;\r\n\r\nimport org.junit.runner.RunWith;\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport io.cucumber.junit.Cucumber;\r\n\r\n//glue = {&quot;helpers&quot;, &quot;src.test.java.steps&quot;},\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        features = &quot;src/test/Resources/Mystore/Userdata.feature&quot;,\r\n        glue = {&quot;Mystore&quot;},\r\n        snippets = CucumberOptions.SnippetType.CAMELCASE,\r\n        plugin = {&quot;pretty&quot;}\r\n)\r\n        //format = {&quot;pretty&quot;})\r\n\r\npublic final class RunCucumberTest {\r\n\r\n}\r\n```\r\n\r\nmy POM\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.zaliczenie&lt;/groupId&gt;\r\n    &lt;artifactId&gt;zaliczenie&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n            &lt;version&gt;22.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nError\r\n\r\n```\r\nio.cucumber.junit.UndefinedStepException: The step &#39;fill in credentials with RWT&#39; is undefined.\r\nYou can implement this step using the snippet(s) below:\r\n\r\n@Then(&quot;fill in credentials with RWT&quot;)\r\npublic void fillInCredentialsWithRWT() {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    throw new io.cucumber.java.PendingException();\r\n}\r\n```\r\n\r\n\r\nI looked at glue already and it should be fine. I did make sure my dependencies aren&#39;t outdated or incompatible with one another. I tried several different methods.\r\n\r\nFile structure looks like this \r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pX3Pt.png","title":"Cucumber java - maven- example table - one step undefined","body":"<p>I am an absolute beginner to coding of any sort, and I am currently doing a final project for a course I have been attending.</p>\n<p>I am hard stuck on one of my steps, however. I get &quot;step undefined&quot; no matter what I do. Now internet points me towards glue in cucumber options however I am sure that I have specified the package and all my other steps work just fine, in case of bad glue all steps are undefined as I found out earlier.</p>\n<p>So, in my case, this one singular step keeps being undefined, and I just cannot work it out.</p>\n<p>Here are my step definitions</p>\n<pre><code>package Mystore;\nimport io.cucumber.datatable.DataTable;\nimport io.cucumber.datatable.UndefinedDataTableTypeException;\nimport io.cucumber.java.en.And;\nimport io.cucumber.java.AfterAll;\nimport io.cucumber.java.BeforeAll;\nimport io.cucumber.java.Before;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\npublic class StepDefinition {\n\n    private static WebDriver driver;\n\n    @Before\n    public void setup() {\n        driver = new ChromeDriver();\n    }\n\n    //@AfterAll\n    //public static void teardown() {\n       // driver.quit();\n    //}\n\n    @Given(&quot;User is logged in&quot;)\n    public void user_is_logged_in() {\n        driver.get(&quot;https://mystore-testlab.coderslab.pl/index.php&quot;);\n\n        WebElement element;\n        element = driver.findElement(By.className(&quot;user-info&quot;));\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n        element.click();\n        WebElement email = driver.findElement(By.id(&quot;field-email&quot;));\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n        email.click();\n        email.sendKeys(&quot;gkqvuzdwzxoltwlnij@ckptr.com&quot;);\n        driver.findElement(By.id(&quot;field-password&quot;)).sendKeys(&quot;qwerty1&quot;);\n        WebElement sign = driver.findElement(By.id(&quot;submit-login&quot;));\n        sign.click();\n\n    }\n    @When(&quot;add address is clicked&quot;)\n    public void add_address_is_clicked() {\n\n        WebElement address;\n        address = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;footer_account_list\\&quot;]/li[4]/a&quot;));\n        address.click();\n        WebElement clkaddress;\n        clkaddress = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;content\\&quot;]/div[2]/a&quot;));\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n        clkaddress.click();\n    }\n    @Then(&quot;fill in credentials with &lt;alias&gt;&quot;)\n    public void fill_in_credentials_with(String alias){\n\n        driver.findElement(By.className(&quot;col-md-6&quot;)).sendKeys(alias);\n        //alias.sendKeys(Userdata.cell(1,1));\n    }\n    @And(&quot;submit and close the page&quot;)\n        public void ubmit_and_close_the_page() {\n            driver.quit();\n    }\n}\n</code></pre>\n<p>My feature</p>\n<pre><code>Feature: Create address on mystore\n\n  Scenario Outline: Test filling in address\n    Given User is logged in\n    When add address is clicked\n    Then fill in credentials with &lt;alias&gt;\n    And submit and close the page\n\n    Examples:\n      | alias | address  | city     | zip    | country | phone     |\n      | RWT   | Lubelska | Warszawa | 01-999 | Poland  | 498100234 |\n</code></pre>\n<p>My runner</p>\n<pre><code>package Mystore;\n\nimport org.junit.runner.RunWith;\nimport io.cucumber.junit.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\n\n//glue = {&quot;helpers&quot;, &quot;src.test.java.steps&quot;},\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/Resources/Mystore/Userdata.feature&quot;,\n        glue = {&quot;Mystore&quot;},\n        snippets = CucumberOptions.SnippetType.CAMELCASE,\n        plugin = {&quot;pretty&quot;}\n)\n        //format = {&quot;pretty&quot;})\n\npublic final class RunCucumberTest {\n\n}\n</code></pre>\n<p>my POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.zaliczenie&lt;/groupId&gt;\n    &lt;artifactId&gt;zaliczenie&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n            &lt;version&gt;4.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;22.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Error</p>\n<pre><code>io.cucumber.junit.UndefinedStepException: The step 'fill in credentials with RWT' is undefined.\nYou can implement this step using the snippet(s) below:\n\n@Then(&quot;fill in credentials with RWT&quot;)\npublic void fillInCredentialsWithRWT() {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n</code></pre>\n<p>I looked at glue already and it should be fine. I did make sure my dependencies aren't outdated or incompatible with one another. I tried several different methods.</p>\n<p>File structure looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/pX3Pt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","contentobserver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697741479,"post_id":77318923,"comment_id":136321384,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26504627,"reputation":1,"user_id":20140970,"display_name":"Rohit Rathore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697655184,"creation_date":1697655184,"question_id":77318923,"body_markdown":"Sms ContentObserver class function on change execute 3 times how to manage 1 time.\r\n\r\nHow to gwt one sms on the onchange() function   .\r\n\r\nContentObserver in onchange() function why execute 3 time why this function execute 3 time                                  \r\n  \r\n         ","title":"Sms ContentObserver onChange() function execute 3 times","body":"<p>Sms ContentObserver class function on change execute 3 times how to manage 1 time.</p>\n<p>How to gwt one sms on the onchange() function   .</p>\n<p>ContentObserver in onchange() function why execute 3 time why this function execute 3 time</p>\n"},{"tags":["java","spring-boot","audit","sqlexception","javers"],"owner":{"account_id":29702816,"reputation":1,"user_id":22764478,"display_name":"VinayJava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697654877,"creation_date":1697654877,"question_id":77318887,"body_markdown":"We are using javers 5.10.3. During Process Javers complaining about different exceptions in different process and these issues are intermittant. Please assist here\r\n\r\nMost frequently occurring this issue and dont know what has wrong here as its intermittent issue.\r\nError:\r\norg.javers.common.exception.JaversException: SQL_EXCEPTION: Cannot add or update a child row: a foreign key constraint fails (paymentgalaxy_firstbank.jv_snapshot, CONSTRAINT jv_snapshot_global_id_fk FOREIGN KEY (global_id_fk) REFERENCES jv_global_id (global_id_pk))\r\n\r\nNumberFormatException - We are not sure from where its looking this value. We checked out entity and nowhere i found this value.\r\nError:\r\nat org.javers.core.json.typeadapter.commit.GlobalIdTypeAdapter.deserializeInstanceId(GlobalIdTypeAdapter.java:80) ~[javers-core-5.10.3.jar!/:na]\r\nat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.deserialize(TreeTypeAdapter.java:162) ~[gson-2.8.6.jar!/:na]\r\nat com.google.gson.Gson.fromJson(Gson.java:1003) ~[gson-2.8.6.jar!/:na]\r\nat com.google.gson.Gson.fromJson(Gson.java:932) ~[gson-2.8.6.jar!/:na]\r\nat com.google.gson.internal.bind.TypeAdapters$11.read(TypeAdapters.java:296) ~[gson-2.8.6.jar!/:na]\r\nat com.google.gson.internal.bind.TypeAdapters$11.read(TypeAdapters.java:306) ~[gson-2.8.6.jar!/:na]\r\ncom.google.gson.JsonSyntaxException: java.lang.NumberFormatException: For input string: &quot;facd4e72-48e4-4cc5-a524-6ae85aa7a735&quot;\r\n2023-Oct-12 12:30:54.253 ERROR [http-nio-8080-exec-7] c.s.g.p.a.PaymentFlowController - Error while performing flow steps, java.lang.NumberFormatException: For input string: &quot;facd4e72-48e4-4cc5-a524-6ae85aa7a735&quot;,{}\r\n\r\nWe are expecting if someone faced similar exception and what is solution or work around or there is issue reported in version that we are using.\r\nWhat version has this fix implemented?","title":"Javers audit framework throwing intermittant SQL exception","body":"<p>We are using javers 5.10.3. During Process Javers complaining about different exceptions in different process and these issues are intermittant. Please assist here</p>\n<p>Most frequently occurring this issue and dont know what has wrong here as its intermittent issue.\nError:\norg.javers.common.exception.JaversException: SQL_EXCEPTION: Cannot add or update a child row: a foreign key constraint fails (paymentgalaxy_firstbank.jv_snapshot, CONSTRAINT jv_snapshot_global_id_fk FOREIGN KEY (global_id_fk) REFERENCES jv_global_id (global_id_pk))</p>\n<p>NumberFormatException - We are not sure from where its looking this value. We checked out entity and nowhere i found this value.\nError:\nat org.javers.core.json.typeadapter.commit.GlobalIdTypeAdapter.deserializeInstanceId(GlobalIdTypeAdapter.java:80) ~[javers-core-5.10.3.jar!/:na]\nat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.deserialize(TreeTypeAdapter.java:162) ~[gson-2.8.6.jar!/:na]\nat com.google.gson.Gson.fromJson(Gson.java:1003) ~[gson-2.8.6.jar!/:na]\nat com.google.gson.Gson.fromJson(Gson.java:932) ~[gson-2.8.6.jar!/:na]\nat com.google.gson.internal.bind.TypeAdapters$11.read(TypeAdapters.java:296) ~[gson-2.8.6.jar!/:na]\nat com.google.gson.internal.bind.TypeAdapters$11.read(TypeAdapters.java:306) ~[gson-2.8.6.jar!/:na]\ncom.google.gson.JsonSyntaxException: java.lang.NumberFormatException: For input string: &quot;facd4e72-48e4-4cc5-a524-6ae85aa7a735&quot;\n2023-Oct-12 12:30:54.253 ERROR [http-nio-8080-exec-7] c.s.g.p.a.PaymentFlowController - Error while performing flow steps, java.lang.NumberFormatException: For input string: &quot;facd4e72-48e4-4cc5-a524-6ae85aa7a735&quot;,{}</p>\n<p>We are expecting if someone faced similar exception and what is solution or work around or there is issue reported in version that we are using.\nWhat version has this fix implemented?</p>\n"},{"tags":["java","constructor","initialization"],"comments":[{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1697639181,"post_id":77317197,"comment_id":136305545,"body_markdown":"&quot;Only the constructor guarantees the instance creation and availability of this&quot; - could you clarify what you mean by that, and how you&#39;ve come to that conclusion?","body":"&quot;Only the constructor guarantees the instance creation and availability of this&quot; - could you clarify what you mean by that, and how you&#39;ve come to that conclusion?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1697639259,"post_id":77317197,"comment_id":136305554,"body_markdown":"Just because an initialization block is executed before the constructor does not mean that at that moment the object doesn&#39;t already exist.\n\nIf a initialization block would not know what object it belongs to (and therefor allow the use of `this`), what would be the point of initialization blocks? If initialization blocks wouldn&#39;t have access to the object they belong to they could literally do no initializing of said object and that would make initialization blocks a pretty useless feature.","body":"Just because an initialization block is executed before the constructor does not mean that at that moment the object doesn&#39;t already exist.  If a initialization block would not know what object it belongs to (and therefor allow the use of <code>this</code>), what would be the point of initialization blocks? If initialization blocks wouldn&#39;t have access to the object they belong to they could literally do no initializing of said object and that would make initialization blocks a pretty useless feature."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":2,"creation_date":1697639573,"post_id":77317197,"comment_id":136305623,"body_markdown":"Checkout the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.5) for details.","body":"Checkout the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">Java Language Specification</a> for details."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1697640721,"post_id":77317197,"comment_id":136305892,"body_markdown":"Remember that a constructor has already been called: `public class Test extends Object`.  All Java classes extend `Object` and its constructors are called first.  Then your class&#39;s constructors get called, including the init block.  Well that&#39;s the theory, I suspect really that `Object`s are created just by allocating heap memory for efficiency, so really `this` just points to the heap memory that&#39;s been created for your object.","body":"Remember that a constructor has already been called: <code>public class Test extends Object</code>.  All Java classes extend <code>Object</code> and its constructors are called first.  Then your class&#39;s constructors get called, including the init block.  Well that&#39;s the theory, I suspect really that <code>Object</code>s are created just by allocating heap memory for efficiency, so really <code>this</code> just points to the heap memory that&#39;s been created for your object."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697641496,"post_id":77317197,"comment_id":136306092,"body_markdown":"@markspace - the heap node&#39;s header will also be initialized ... including the information that says what the instance&#39;s class will be.  Bui, most likely the call to the `Object()` constructor will be optimized away (by the JIT compiler or the runtime system) because it does nothing.   (It would be interesting to see what would happen if you modded the JVM codebase and put some code into the `Object()` constructor ...)","body":"@markspace - the heap node&#39;s header will also be initialized ... including the information that says what the instance&#39;s class will be.  Bui, most likely the call to the <code>Object()</code> constructor will be optimized away (by the JIT compiler or the runtime system) because it does nothing.   (It would be interesting to see what would happen if you modded the JVM codebase and put some code into the <code>Object()</code> constructor ...)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697666322,"post_id":77317197,"comment_id":136310221,"body_markdown":"It is not executed befor the constructor. It is executed after the explicit or implicit `super()’ call *in* the constructor.","body":"It is not executed befor the constructor. It is executed after the explicit or implicit `super()’ call <i>in</i> the constructor."},{"owner":{"account_id":29700831,"reputation":3,"user_id":22763043,"display_name":"MaksimBodrov"},"score":0,"creation_date":1697709338,"post_id":77317197,"comment_id":136315059,"body_markdown":"Oh, I see that `this` becomes available immediately after `super()` Thanks!","body":"Oh, I see that <code>this</code> becomes available immediately after <code>super()</code> Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697654784,"creation_date":1697654784,"answer_id":77318878,"question_id":77317197,"body_markdown":"The Java Language Specification ([12.5 Creation of New Class Instances](https://docs.oracle.com/javase/specs/jls/se21/html/jls-12.html#jls-12.5) has the exact details.\r\n\r\nBasically the Java Compiler creates for your class the same bytecode as the following class (where the call to the super constructor and the instance initializers explicitly written):\r\n\r\n    public class Test {\r\n    \r\n        public Test() {\r\n            super();  // Point 3: call the super constructor\r\n            {  // Point 4: execute instance initializers and instance variable initializers\r\n                this.privatePrint();\r\n                this.publicPrint();\r\n            }\r\n            // Point 5: Execute the rest of the body of this constructor\r\n            System.out.print(&quot; Constructor &quot;);\r\n        }\r\n    \r\n        public void publicPrint() {\r\n            System.out.print(&quot; public &quot;);\r\n        }\r\n    \r\n        public void privatePrint() {\r\n            System.out.print(&quot; private &quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why can I call instance method in instance init block?","body":"<p>The Java Language Specification (<a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">12.5 Creation of New Class Instances</a> has the exact details.</p>\n<p>Basically the Java Compiler creates for your class the same bytecode as the following class (where the call to the super constructor and the instance initializers explicitly written):</p>\n<pre><code>public class Test {\n\n    public Test() {\n        super();  // Point 3: call the super constructor\n        {  // Point 4: execute instance initializers and instance variable initializers\n            this.privatePrint();\n            this.publicPrint();\n        }\n        // Point 5: Execute the rest of the body of this constructor\n        System.out.print(&quot; Constructor &quot;);\n    }\n\n    public void publicPrint() {\n        System.out.print(&quot; public &quot;);\n    }\n\n    public void privatePrint() {\n        System.out.print(&quot; private &quot;);\n    }\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29700831,"reputation":3,"user_id":22763043,"display_name":"MaksimBodrov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77318878,"answer_count":1,"score":-1,"last_activity_date":1697654784,"creation_date":1697638838,"question_id":77317197,"body_markdown":"The instance initialisation block is invoked before constructor but **this** is available in it already. And so we can call any public or private methods. But why? Only the constructor guarantees the instance creation and availability of **this**\r\n\r\n\r\n```\r\npublic class Test {\r\n\r\n    {\r\n        this.privatePrint();\r\n        this.publicPrint();\r\n    }\r\n\r\n    public Test() {\r\n        System.out.print(&quot; Constructor &quot;);\r\n    }\r\n\r\n    public void publicPrint() {\r\n        System.out.print(&quot; public &quot;);\r\n    }\r\n\r\n    public void privatePrint() {\r\n        System.out.print(&quot; private &quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Test();\r\n    }\r\n\r\n}\r\n```\r\nThe output is ` private  public  Constructor `\r\n\r\nI tested it on jdk 11 and 17\r\n\r\n\r\n\r\nI was surprised by the behavior of the order of object initialization methods","title":"Why can I call instance method in instance init block?","body":"<p>The instance initialisation block is invoked before constructor but <strong>this</strong> is available in it already. And so we can call any public or private methods. But why? Only the constructor guarantees the instance creation and availability of <strong>this</strong></p>\n<pre><code>public class Test {\n\n    {\n        this.privatePrint();\n        this.publicPrint();\n    }\n\n    public Test() {\n        System.out.print(&quot; Constructor &quot;);\n    }\n\n    public void publicPrint() {\n        System.out.print(&quot; public &quot;);\n    }\n\n    public void privatePrint() {\n        System.out.print(&quot; private &quot;);\n    }\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n}\n</code></pre>\n<p>The output is <code>private  public  Constructor</code></p>\n<p>I tested it on jdk 11 and 17</p>\n<p>I was surprised by the behavior of the order of object initialization methods</p>\n"},{"tags":["javascript","java","spring","spring-boot","websocket"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1697679328,"post_id":77318835,"comment_id":136311293,"body_markdown":"Hi there, Please provide full error message~","body":"Hi there, Please provide full error message~"}],"owner":{"account_id":16666476,"reputation":1,"user_id":12044984,"display_name":"Ichi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697654246,"creation_date":1697654246,"question_id":77318835,"body_markdown":"**I&#39;m having trouble using spring with @ServerEndPoint annotated class**\r\n\r\nDev tool console said *WebSocket connection to &#39;ws://localhost:8080/room/1&#39; failed: *\r\nServer console doesn&#39;t say anything.\r\n\r\nOrigin in a request header is `http://localhost:8080` so cross origin is not cause.\r\nWhat is wrong ?\r\nThank you.\r\n\r\nbuild.gradle\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n}\r\n\r\ngroup = &#39;com.jp.ichi&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n\timplementation &#39;org.springframework.session:spring-session-core&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\timplementation &#39;org.webjars:webjars-locator-core&#39;\r\n\timplementation &#39;org.webjars:sockjs-client:1.5.1&#39;\r\n\timplementation &#39;org.webjars:stomp-websocket:2.3.4&#39;\r\n\timplementation &#39;org.webjars:bootstrap:5.2.3&#39;\r\n\timplementation &#39;org.webjars:jquery:3.6.4&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nannotated class\r\n```\r\npackage com.jp.ichi.demo;\r\n\r\nimport jakarta.websocket.*;\r\nimport jakarta.websocket.server.ServerEndpoint;\r\n\r\nimport java.util.*;\r\n\r\n@ServerEndpoint(value = &quot;/room/{roomId}&quot;)\r\npublic class RoomEndpoint {\r\n    private static final Map&lt;String,Set&lt;Session&gt;&gt; sessionMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\r\n\r\n    @OnOpen\r\n    public void onOpen(Session session) {\r\n        System.out.println(&quot;on open&quot;);\r\n        Set&lt;Session&gt; set = sessionMap.getOrDefault(&quot;test&quot;,Collections.synchronizedSet(new HashSet&lt;&gt;()));\r\n        set.add(session);\r\n    }\r\n\r\n    @OnClose\r\n    public void onClose(Session session) {\r\n        String roomName = &quot;test&quot;;\r\n        Set&lt;Session&gt; set = sessionMap.get(roomName);\r\n        if (set != null) {\r\n            set.remove(session);\r\n            if (set.isEmpty()) {\r\n                sessionMap.remove(roomName);\r\n            }\r\n        }\r\n    }\r\n\r\n    @OnMessage\r\n    public void onMessage(Session session,String message) {\r\n        String roomName = &quot;test&quot;;\r\n        Set&lt;Session&gt; set = sessionMap.get(roomName);\r\n        if (set != null) {\r\n            for (Session s : set) {\r\n                s.getAsyncRemote().sendText(message);\r\n            }\r\n        }\r\n    }\r\n\r\n    @OnError\r\n    public void onError(Session session,Throwable throwable) {\r\n        System.out.println(&quot;error&quot;);\r\n    }\r\n}\r\n```\r\ncontroller\r\n\r\n```\r\npackage com.jp.ichi.demo;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class TestController {\r\n    @GetMapping(&quot;/room/*&quot;)\r\n    public String room() {\r\n        return &quot;room&quot;;\r\n    }\r\n}\r\n```\r\nhtml code\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Test&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;\r\n        var socket = new WebSocket(&quot;ws://localhost:8080/room/1&quot;);\r\n        socket.onmessage = function(event) {\r\n            console.log(event.data);\r\n        }\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n","title":"Springboot @ServerEndpoint failed to connection","body":"<p><strong>I'm having trouble using spring with @ServerEndPoint annotated class</strong></p>\n<p>Dev tool console said *WebSocket connection to 'ws://localhost:8080/room/1' failed: *\nServer console doesn't say anything.</p>\n<p>Origin in a request header is <code>http://localhost:8080</code> so cross origin is not cause.\nWhat is wrong ?\nThank you.</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.4'\n    id 'io.spring.dependency-management' version '1.1.3'\n}\n\ngroup = 'com.jp.ichi'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    implementation 'org.springframework.session:spring-session-core'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'org.webjars:webjars-locator-core'\n    implementation 'org.webjars:sockjs-client:1.5.1'\n    implementation 'org.webjars:stomp-websocket:2.3.4'\n    implementation 'org.webjars:bootstrap:5.2.3'\n    implementation 'org.webjars:jquery:3.6.4'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>annotated class</p>\n<pre><code>package com.jp.ichi.demo;\n\nimport jakarta.websocket.*;\nimport jakarta.websocket.server.ServerEndpoint;\n\nimport java.util.*;\n\n@ServerEndpoint(value = &quot;/room/{roomId}&quot;)\npublic class RoomEndpoint {\n    private static final Map&lt;String,Set&lt;Session&gt;&gt; sessionMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\n\n    @OnOpen\n    public void onOpen(Session session) {\n        System.out.println(&quot;on open&quot;);\n        Set&lt;Session&gt; set = sessionMap.getOrDefault(&quot;test&quot;,Collections.synchronizedSet(new HashSet&lt;&gt;()));\n        set.add(session);\n    }\n\n    @OnClose\n    public void onClose(Session session) {\n        String roomName = &quot;test&quot;;\n        Set&lt;Session&gt; set = sessionMap.get(roomName);\n        if (set != null) {\n            set.remove(session);\n            if (set.isEmpty()) {\n                sessionMap.remove(roomName);\n            }\n        }\n    }\n\n    @OnMessage\n    public void onMessage(Session session,String message) {\n        String roomName = &quot;test&quot;;\n        Set&lt;Session&gt; set = sessionMap.get(roomName);\n        if (set != null) {\n            for (Session s : set) {\n                s.getAsyncRemote().sendText(message);\n            }\n        }\n    }\n\n    @OnError\n    public void onError(Session session,Throwable throwable) {\n        System.out.println(&quot;error&quot;);\n    }\n}\n</code></pre>\n<p>controller</p>\n<pre><code>package com.jp.ichi.demo;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class TestController {\n    @GetMapping(&quot;/room/*&quot;)\n    public String room() {\n        return &quot;room&quot;;\n    }\n}\n</code></pre>\n<p>html code</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;\n        var socket = new WebSocket(&quot;ws://localhost:8080/room/1&quot;);\n        socket.onmessage = function(event) {\n            console.log(event.data);\n        }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","multithreading","sockets","java.util.concurrent"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697666544,"post_id":77318812,"comment_id":136310245,"body_markdown":"You’re going to get the connection timeouts anyway, trying to open 50,000 connections to a server that only handles 20 at a time and only has so much backlog.","body":"You’re going to get the connection timeouts anyway, trying to open 50,000 connections to a server that only handles 20 at a time and only has so much backlog."},{"owner":{"account_id":29702661,"reputation":1,"user_id":22764373,"display_name":"Wanda"},"score":0,"creation_date":1697736230,"post_id":77318812,"comment_id":136320479,"body_markdown":"hi @user207421, thanks for your reply! Yeah I see why I will have the timeout, but what I don&#39;t quite understand is why the number of server threads would drop from 20 to 1. I was expecting that all 20 threads would be busy handling the requests, even though it&#39;s not fast enough and I still get timeouts later.","body":"hi @user207421, thanks for your reply! Yeah I see why I will have the timeout, but what I don&#39;t quite understand is why the number of server threads would drop from 20 to 1. I was expecting that all 20 threads would be busy handling the requests, even though it&#39;s not fast enough and I still get timeouts later."}],"owner":{"account_id":29702661,"reputation":1,"user_id":22764373,"display_name":"Wanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697654077,"creation_date":1697654077,"question_id":77318812,"body_markdown":"***Background***\r\n\r\nI&#39;m learning Java Socket on my own. I created a Socket Server and Client to run on localhost. \r\n- Server uses a fixed-size threadpool of size 20 to handle connections. \r\n- Client creates 50 threads and each sends 1000 connection requests to server one by one.\r\n- I use a thread-safe object `ActiveCount` to count the active server threads in each connection.\r\n\r\n***Behavior***\r\n\r\nAfter I start server and client, the ActiveCount object shows the number is stable at 20 for like 5 seconds and the requests are handled at good speed. Then the number starts to drop and reach to 1 active thread only and stuck for 3 seconds. Then due to this low performance, I got `java.net.ConnectException: Operation timed out (Connection timed out)`. \r\n\r\n***Code***\r\n\r\nServer\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n        ServerSocket serverSocket = new ServerSocket(12031);\r\n        ActiveCount threadCount = new ActiveCount(); // for counting current active threads\r\n        Executor pool = Executors.newFixedThreadPool(20);\r\n        while (true) {\r\n            // accept connection and start thread\r\n            Socket clientSocket = serverSocket.accept();\r\n            pool.execute(() -&gt; {\r\n                threadCount.incrementCount();\r\n                try {\r\n                    // Some I/O operations here...\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n                    PrintWriter out = new PrintWriter(new OutputStreamWriter(clientSocket.getOutputStream()));\r\n\r\n                    String clientID = in.readLine();\r\n                    System.out.println(&quot;Client ID is: &quot; + clientID);\r\n                    out.println(&quot;Active Server Thread Count = &quot; + threadCount.getCount());\r\n                    out.flush();\r\n                } catch (IOException e) {\r\n                    System.err.println(&quot;Server has IO Exception: &quot; + e);\r\n                } finally {\r\n                    threadCount.decrementCount();\r\n                    try { clientSocket.close(); } catch (IOException e) {}\r\n                    System.out.println(&quot;Thread exiting&quot;);\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nClient\r\n\r\n```\r\npublic class SocketClientMultithreaded {\r\n    static CyclicBarrier barrier; \r\n    \r\n    public static void main(String[] args){\r\n        String hostName;\r\n        int port;\r\n        int numOfThreads = 50;\r\n\r\n        hostName= &quot;localhost&quot;;\r\n        port = 12031;  // default port in SocketServer\r\n        barrier = new CyclicBarrier(numOfThreads);\r\n\r\n        // start 50 SocketClientThread\r\n        for (int i = 0; i &lt; numOfThreads; i++) {\r\n            Runnable runnable = () -&gt; {\r\n                Socket s;\r\n                for (int j = 0; j &lt; 1000; j++) { // send 1000 requests to the server socket\r\n                    try {\r\n                        s = new Socket(hostName, port);\r\n                        PrintWriter out = new PrintWriter(s.getOutputStream(), true);\r\n                        BufferedReader in = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n                        out.println(&quot;Client ID is &quot; +  Thread.currentThread().getId());\r\n                        System.out.println(in.readLine()); // print the current active thread count sent from server\r\n                    } catch (UnknownHostException e) {\r\n                        System.err.println(&quot;Don&#39;t know about host &quot; + hostName);\r\n                        break;\r\n                    } catch (IOException e) {\r\n                        System.err.println(&quot;I/O connection exception: &quot; + e);\r\n                        break;\r\n                    }\r\n                }\r\n                try {\r\n                    System.out.println(&quot;Thread waiting at barrier&quot;);\r\n                    barrier.await();\r\n                } catch (InterruptedException | BrokenBarrierException e) {\r\n                    Logger.getLogger(SocketClientThread.class.getName()).log(Level.SEVERE, null, e);\r\n                }\r\n            };\r\n            new Thread(runnable).start(); // start the thread\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n***Terminal***\r\n[Terminal output](https://i.stack.imgur.com/qcPeM.png)\r\n\r\n\r\nI suspects there may be some resource problem but the memory usage seems to low. I&#39;m not sure why the thread number would drop and hope to get some help here. Really appreciate it!\r\n","title":"Java Socket on Localhost - Server thread number drops after a while and causes Connections timeout","body":"<p><em><strong>Background</strong></em></p>\n<p>I'm learning Java Socket on my own. I created a Socket Server and Client to run on localhost.</p>\n<ul>\n<li>Server uses a fixed-size threadpool of size 20 to handle connections.</li>\n<li>Client creates 50 threads and each sends 1000 connection requests to server one by one.</li>\n<li>I use a thread-safe object <code>ActiveCount</code> to count the active server threads in each connection.</li>\n</ul>\n<p><em><strong>Behavior</strong></em></p>\n<p>After I start server and client, the ActiveCount object shows the number is stable at 20 for like 5 seconds and the requests are handled at good speed. Then the number starts to drop and reach to 1 active thread only and stuck for 3 seconds. Then due to this low performance, I got <code>java.net.ConnectException: Operation timed out (Connection timed out)</code>.</p>\n<p><em><strong>Code</strong></em></p>\n<p>Server</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        ServerSocket serverSocket = new ServerSocket(12031);\n        ActiveCount threadCount = new ActiveCount(); // for counting current active threads\n        Executor pool = Executors.newFixedThreadPool(20);\n        while (true) {\n            // accept connection and start thread\n            Socket clientSocket = serverSocket.accept();\n            pool.execute(() -&gt; {\n                threadCount.incrementCount();\n                try {\n                    // Some I/O operations here...\n                    BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n                    PrintWriter out = new PrintWriter(new OutputStreamWriter(clientSocket.getOutputStream()));\n\n                    String clientID = in.readLine();\n                    System.out.println(&quot;Client ID is: &quot; + clientID);\n                    out.println(&quot;Active Server Thread Count = &quot; + threadCount.getCount());\n                    out.flush();\n                } catch (IOException e) {\n                    System.err.println(&quot;Server has IO Exception: &quot; + e);\n                } finally {\n                    threadCount.decrementCount();\n                    try { clientSocket.close(); } catch (IOException e) {}\n                    System.out.println(&quot;Thread exiting&quot;);\n                }\n            });\n        }\n    }\n</code></pre>\n<p>Client</p>\n<pre><code>public class SocketClientMultithreaded {\n    static CyclicBarrier barrier; \n    \n    public static void main(String[] args){\n        String hostName;\n        int port;\n        int numOfThreads = 50;\n\n        hostName= &quot;localhost&quot;;\n        port = 12031;  // default port in SocketServer\n        barrier = new CyclicBarrier(numOfThreads);\n\n        // start 50 SocketClientThread\n        for (int i = 0; i &lt; numOfThreads; i++) {\n            Runnable runnable = () -&gt; {\n                Socket s;\n                for (int j = 0; j &lt; 1000; j++) { // send 1000 requests to the server socket\n                    try {\n                        s = new Socket(hostName, port);\n                        PrintWriter out = new PrintWriter(s.getOutputStream(), true);\n                        BufferedReader in = new BufferedReader(new InputStreamReader(s.getInputStream()));\n                        out.println(&quot;Client ID is &quot; +  Thread.currentThread().getId());\n                        System.out.println(in.readLine()); // print the current active thread count sent from server\n                    } catch (UnknownHostException e) {\n                        System.err.println(&quot;Don't know about host &quot; + hostName);\n                        break;\n                    } catch (IOException e) {\n                        System.err.println(&quot;I/O connection exception: &quot; + e);\n                        break;\n                    }\n                }\n                try {\n                    System.out.println(&quot;Thread waiting at barrier&quot;);\n                    barrier.await();\n                } catch (InterruptedException | BrokenBarrierException e) {\n                    Logger.getLogger(SocketClientThread.class.getName()).log(Level.SEVERE, null, e);\n                }\n            };\n            new Thread(runnable).start(); // start the thread\n        }\n    }\n}\n\n</code></pre>\n<p><em><strong>Terminal</strong></em>\n<a href=\"https://i.stack.imgur.com/qcPeM.png\" rel=\"nofollow noreferrer\">Terminal output</a></p>\n<p>I suspects there may be some resource problem but the memory usage seems to low. I'm not sure why the thread number would drop and hope to get some help here. Really appreciate it!</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":1,"creation_date":1697651919,"post_id":77318353,"comment_id":136308050,"body_markdown":"It&#39;s already explained here - https://github.com/projectlombok/lombok/issues/2044. Please read this.","body":"It&#39;s already explained here - <a href=\"https://github.com/projectlombok/lombok/issues/2044\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/2044</a>. Please read this."}],"answers":[{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697653983,"creation_date":1697653983,"answer_id":77318803,"question_id":77318353,"body_markdown":"It doesn&#39;t support static imports indeed. To see that, try running `clean` and then `compile` (assuming it&#39;s a Maven project)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EaVoC.png","title":"Does Lombok&#39;s @UtilityClass support static imports? Are you sure it doesn&#39;t?","body":"<p>It doesn't support static imports indeed. To see that, try running <code>clean</code> and then <code>compile</code> (assuming it's a Maven project)</p>\n<p><a href=\"https://i.stack.imgur.com/EaVoC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EaVoC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1697653983,"creation_date":1697648967,"question_id":77318353,"body_markdown":"Lombok&#39;s doc says `@UtilityClass` doesn&#39;t provide support for static imports:\r\n\r\n&gt; Due to limitations in javac, currently non-star static imports cannot be used to import stuff from @UtilityClasses; don&#39;t static import, or use star imports.\r\n\r\nHowever, I just checked, and it seems to work fine:\r\n```java\r\n@UtilityClass\r\npublic class AuthenticationUtils {\r\n    public UUID getClientId(Authentication authentication) {\r\n        return UUID.fromString(authentication.getName());\r\n    }\r\n}\r\n```\r\n```java\r\nimport static by.afinny.apigateway.util.AuthenticationUtils.getClientId;\r\n\r\n// more annotations\r\n@RestController\r\npublic class CreditCardController {\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;CreditCardDto&gt;&gt; getCreditCards(Authentication authentication) {\r\n        return creditCardClient.getCreditCards(getClientId(authentication));\r\n    }\r\n```\r\n```java\r\n@WebMvcTest(CreditCardController.class)\r\nclass CreditCardControllerTest {\r\n    // tests that pass\r\n```\r\nWas it fixed? Did the doc mean something else?","title":"Does Lombok&#39;s @UtilityClass support static imports? Are you sure it doesn&#39;t?","body":"<p>Lombok's doc says <code>@UtilityClass</code> doesn't provide support for static imports:</p>\n<blockquote>\n<p>Due to limitations in javac, currently non-star static imports cannot be used to import stuff from @UtilityClasses; don't static import, or use star imports.</p>\n</blockquote>\n<p>However, I just checked, and it seems to work fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@UtilityClass\npublic class AuthenticationUtils {\n    public UUID getClientId(Authentication authentication) {\n        return UUID.fromString(authentication.getName());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import static by.afinny.apigateway.util.AuthenticationUtils.getClientId;\n\n// more annotations\n@RestController\npublic class CreditCardController {\n    @GetMapping\n    public ResponseEntity&lt;List&lt;CreditCardDto&gt;&gt; getCreditCards(Authentication authentication) {\n        return creditCardClient.getCreditCards(getClientId(authentication));\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(CreditCardController.class)\nclass CreditCardControllerTest {\n    // tests that pass\n</code></pre>\n<p>Was it fixed? Did the doc mean something else?</p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1493283084,"post_id":43652975,"comment_id":74353391,"body_markdown":"Is `By.xpath(&quot;//div[@class=&#39;alert alert-count&#39;]/p)` working?","body":"Is <code>By.xpath(&quot;&#47;&#47;div[@class=&#39;alert alert-count&#39;]&#47;p)</code> working?"},{"owner":{"account_id":7899691,"reputation":642,"user_id":5967122,"accept_rate":62,"display_name":"Prasad_Joshi"},"score":0,"creation_date":1493283143,"post_id":43652975,"comment_id":74353433,"body_markdown":"yes..it is working correctly, only problem is to get that value in a string","body":"yes..it is working correctly, only problem is to get that value in a string"}],"answers":[{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1493283233,"creation_date":1493283233,"answer_id":43653073,"question_id":43652975,"body_markdown":"Try using following:\r\n\r\n      String count = driver.findElement(By.cssSelector(&quot;div.alert.alert-count p&quot;)).getText();","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>Try using following:</p>\n\n<pre><code>  String count = driver.findElement(By.cssSelector(\"div.alert.alert-count p\")).getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493283939,"creation_date":1493283621,"answer_id":43653220,"question_id":43652975,"body_markdown":"Try this below code using `xpath locator`\r\n\r\n    String element = driver.findElement(By.xpath(&quot;//div[@class=&#39;alert alert-count&#39;]/p/b&quot;)).getText();\r\n    System.out.println(element);\r\n\r\n**Explanation of xpath:-** Use `class` attribute of `&lt;div&gt;` tag and move ahead with `&lt;p&gt;` and `&lt;b&gt;` tag.","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>Try this below code using <code>xpath locator</code></p>\n\n<pre><code>String element = driver.findElement(By.xpath(\"//div[@class='alert alert-count']/p/b\")).getText();\nSystem.out.println(element);\n</code></pre>\n\n<p><strong>Explanation of xpath:-</strong> Use <code>class</code> attribute of <code>&lt;div&gt;</code> tag and move ahead with <code>&lt;p&gt;</code> and <code>&lt;b&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":9752994,"reputation":21,"user_id":7230652,"display_name":"shinde suraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520885367,"creation_date":1520880266,"answer_id":49242427,"question_id":43652975,"body_markdown":"\r\nTry this below code using XPath locator\r\n\r\n\r\n    String element = driver.findElement(By.xpath(&quot;//div[@class=&#39;alert alert-count&#39;]&quot;)).getText();\r\n    System.out.println(element);\r\n\r\n\r\n\r\n","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>Try this below code using XPath locator</p>\n\n<pre><code>String element = driver.findElement(By.xpath(\"//div[@class='alert alert-count']\")).getText();\nSystem.out.println(element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461874,"reputation":83,"user_id":5005360,"display_name":"danz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697653704,"creation_date":1697653704,"answer_id":77318784,"question_id":43652975,"body_markdown":"I&#39;ve tried this locally here (in Python) and it works.\r\n\r\nThe XPath syntax seems to be:\r\n```\r\n//p[@class=&#39;classname&#39;]\r\n```\r\n\r\n**Example:**\r\n\r\nObject I&#39;m trying to grab:\r\n```\r\n&lt;p class=&quot;randomtext&quot;&gt;Random Text&lt;/p&gt;\r\n```\r\n\r\nCode to get the object:\r\n```\r\nvar = browser.find_element(By.XPATH, value=&quot;//p[@class=&#39;randomtext&#39;]&quot;)\r\nprint(var.text)\r\n&gt;&gt;&gt; Random Text\r\n```\r\n","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>I've tried this locally here (in Python) and it works.</p>\n<p>The XPath syntax seems to be:</p>\n<pre><code>//p[@class='classname']\n</code></pre>\n<p><strong>Example:</strong></p>\n<p>Object I'm trying to grab:</p>\n<pre><code>&lt;p class=&quot;randomtext&quot;&gt;Random Text&lt;/p&gt;\n</code></pre>\n<p>Code to get the object:</p>\n<pre><code>var = browser.find_element(By.XPATH, value=&quot;//p[@class='randomtext']&quot;)\nprint(var.text)\n&gt;&gt;&gt; Random Text\n</code></pre>\n"}],"owner":{"account_id":7899691,"reputation":642,"user_id":5967122,"accept_rate":62,"display_name":"Prasad_Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23123,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43653073,"answer_count":4,"score":2,"last_activity_date":1697653704,"creation_date":1493282964,"question_id":43652975,"body_markdown":"I have a button, clicking on it generates a number which is wrapped in paragraph text such as `&lt;p&gt;random number &lt;p&gt;`, I want to get that random number value and do operations based on number it generates. From below I need to get `34,756` number and store it in java here is the html code for it:\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;div class=&quot;alert alert-count&quot;&gt;\r\n      &lt;p&gt;\r\n      &lt;b&gt;\r\n    &lt;!-- react-text: 531 --&gt;\r\n    &lt;!-- /react-text --&gt;\r\n    &lt;!-- react-text: 532 --&gt;\r\n     34,756\r\n    &lt;!-- /react-text --&gt;\r\n    &lt;/b&gt;\r\n\r\n\r\nand the xpath I used is as below\r\n\r\n    String count = driver.findElement(By.xpath(&quot;//div[@class=&#39;alert alert-count&#39;]/p[1]/b).getText();\r\n\r\nbut on console it gives error as \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>I have a button, clicking on it generates a number which is wrapped in paragraph text such as <code>&lt;p&gt;random number &lt;p&gt;</code>, I want to get that random number value and do operations based on number it generates. From below I need to get <code>34,756</code> number and store it in java here is the html code for it:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n&lt;div class=\"alert alert-count\"&gt;\n  &lt;p&gt;\n  &lt;b&gt;\n&lt;!-- react-text: 531 --&gt;\n&lt;!-- /react-text --&gt;\n&lt;!-- react-text: 532 --&gt;\n 34,756\n&lt;!-- /react-text --&gt;\n&lt;/b&gt;\n</code></pre>\n\n<p>and the xpath I used is as below</p>\n\n<pre><code>String count = driver.findElement(By.xpath(\"//div[@class='alert alert-count']/p[1]/b).getText();\n</code></pre>\n\n<p>but on console it gives error as </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NullPointerException</p>\n</blockquote>\n"},{"tags":["java","windows-subsystem-for-linux","ubuntu-20.04","vcf-variant-call-format","gatk"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697511619,"post_id":77305452,"comment_id":136285886,"body_markdown":"This is not a Java programming question.  In fact, I don&#39;t think it is a programming question at all.  Rather ... it seems to be a question about how to &gt;use&lt; some software.  It is off-topic on StackOverflow.","body":"This is not a Java programming question.  In fact, I don&#39;t think it is a programming question at all.  Rather ... it seems to be a question about how to &gt;use&lt; some software.  It is off-topic on StackOverflow."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697511837,"post_id":77305452,"comment_id":136285906,"body_markdown":"And at a guess ... the error means that you have to add a &quot;--known-sites&quot; argument on the command line.  The error message says that argument is missing, and the command summary says it is a &quot;Required&quot; argument.","body":"And at a guess ... the error means that you have to add a &quot;--known-sites&quot; argument on the command line.  The error message says that argument is missing, and the command summary says it is a &quot;Required&quot; argument."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697511966,"post_id":77305452,"comment_id":136285913,"body_markdown":"And I bet that `${Known_Sites}` is expanding to nothing ... because someone / something didn&#39;t set that environment variable.","body":"And I bet that <code>${Known_Sites}</code> is expanding to nothing ... because someone / something didn&#39;t set that environment variable."}],"answers":[{"tags":[],"owner":{"account_id":27642838,"reputation":30,"user_id":21099424,"display_name":"heiha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697597319,"creation_date":1697597319,"answer_id":77313222,"question_id":77305452,"body_markdown":"Please pay attention to this\r\n&gt; Using GATK jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar Running: java -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar BaseRecalibrator -I /file_copy_sorted.bam -R _--known-sites_ -O /sorted_Read1.table USAGE: BaseRecalibrator [arguments]\r\n\r\nthat is how GATK explains your command, as Stephen C said, ${Known_Sites}, which is a shell variable, may not be set before your running this command.\r\n \r\nFor hunman, your can provide dbSNP like `dbsnp_138.hg38.vcf.gz` and `Mills_and_1000G_gold_standard.indels.hg38.vcf` etc to `--known-sites` argument. If you can not find a known site for your data, please follow the [instructions](https://gatk.broadinstitute.org/hc/en-us/articles/360035890531-Base-Quality-Score-Recalibration-BQSR-) here. ","title":"base recalibrator --known-sites argument does not work","body":"<p>Please pay attention to this</p>\n<blockquote>\n<p>Using GATK jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar Running: java -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar BaseRecalibrator -I /file_copy_sorted.bam -R <em>--known-sites</em> -O /sorted_Read1.table USAGE: BaseRecalibrator [arguments]</p>\n</blockquote>\n<p>that is how GATK explains your command, as Stephen C said, ${Known_Sites}, which is a shell variable, may not be set before your running this command.</p>\n<p>For hunman, your can provide dbSNP like <code>dbsnp_138.hg38.vcf.gz</code> and <code>Mills_and_1000G_gold_standard.indels.hg38.vcf</code> etc to <code>--known-sites</code> argument. If you can not find a known site for your data, please follow the <a href=\"https://gatk.broadinstitute.org/hc/en-us/articles/360035890531-Base-Quality-Score-Recalibration-BQSR-\" rel=\"nofollow noreferrer\">instructions</a> here.</p>\n"}],"owner":{"account_id":29687235,"reputation":3,"user_id":22752471,"display_name":"user22752471"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77313222,"answer_count":1,"score":0,"last_activity_date":1697652839,"creation_date":1697499275,"question_id":77305452,"body_markdown":"When I run this\r\n```\r\ngatk BaseRecalibrator -I ${aligned_reads}/file_copy_sorted.bam -R ${referance} --known-sites ${Known_Sites} -O ${data1}/sorted_Read1.table\r\n```\r\nthis error occur\r\n\r\n&gt; A USER ERROR has occurred: Argument known-sites was missing: _Argument &#39;known-sites&#39; is required_\r\n\r\n\r\nthis is what I tried \r\n\r\n\r\nUsing GATK jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar\r\nRunning:\r\n    java -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar BaseRecalibrator -I /file_copy_sorted.bam -R --known-sites -O /sorted_Read1.table\r\nUSAGE: BaseRecalibrator [arguments]\r\n\r\nFirst pass of the Base Quality Score Recalibration (BQSR) -- Generates recalibration table based on various\r\nuser-specified covariates (such as read group, reported quality score, machine cycle, and nucleotide context).\r\nVersion:4.4.0.0\r\n\r\n\r\nRequired Arguments:\r\n\r\n--input,-I &lt;GATKPath&gt;         BAM/SAM/CRAM file containing reads  This argument must be specified at least once.\r\n                              Required. \r\n\r\n--known-sites &lt;FeatureInput&gt;  One or more databases of known polymorphic sites used to exclude regions around known\r\n                              polymorphisms from analysis.  This argument must be specified at least once. Required. \r\n\r\n--output,-O &lt;GATKPath&gt;        The output recalibration table file to create  Required. \r\n\r\n--reference,-R &lt;GATKPath&gt;     Reference sequence file  Required. \r\n\r\n\r\nOptional Arguments:\r\n\r\n--add-output-sam-program-record &lt;Boolean&gt;\r\n                              If true, adds a PG tag to created SAM/BAM/CRAM files.  Default value: true. Possible\r\n                              values: {true, false} \r\n\r\n--add-output-vcf-command-line &lt;Boolean&gt;\r\n                              If true, adds a command line header line to created VCF files.  Default value: true.\r\n                              Possible values: {true, false} \r\n\r\n--arguments_file &lt;File&gt;       read one or more arguments files and add them to the command line  This argument may be\r\n                              specified 0 or more times. Default value: null. \r\n\r\n--binary-tag-name &lt;String&gt;    the binary tag covariate name if using it  Default value: null. \r\n\r\n--bqsr-baq-gap-open-penalty &lt;Double&gt;\r\n                              BQSR BAQ gap open penalty (Phred Scaled).  Default value is 40.  30 is perhaps better for\r\n                              whole genome call sets  Default value: 40.0. \r\n\r\n--cloud-index-prefetch-buffer,-CIPB &lt;Integer&gt;\r\n                              Size of the cloud-only prefetch buffer (in MB; 0 to disable). Defaults to\r\n                              cloudPrefetchBuffer if unset.  Default value: -1. \r\n\r\n--cloud-prefetch-buffer,-CPB &lt;Integer&gt;\r\n                              Size of the cloud-only prefetch buffer (in MB; 0 to disable).  Default value: 40. \r\n\r\n--create-output-bam-index,-OBI &lt;Boolean&gt;\r\n                              If true, create a BAM/CRAM index when writing a coordinate-sorted BAM/CRAM file.  Default\r\n                              value: true. Possible values: {true, false} \r\n\r\n--create-output-bam-md5,-OBM &lt;Boolean&gt;\r\n                              If true, create a MD5 digest for any BAM/SAM/CRAM file created  Default value: false.\r\n                              Possible values: {true, false} \r\n\r\n--create-output-variant-index,-OVI &lt;Boolean&gt;\r\n                              If true, create a VCF index when writing a coordinate-sorted VCF file.  Default value:\r\n                              true. Possible values: {true, false} \r\n\r\n--create-output-variant-md5,-OVM &lt;Boolean&gt;\r\n                              If true, create a a MD5 digest any VCF file created.  Default value: false. Possible\r\n                              values: {true, false} \r\n\r\n--default-base-qualities &lt;Byte&gt;\r\n                              Assign a default base quality  Default value: -1. \r\n\r\n--deletions-default-quality &lt;Byte&gt;\r\n                              default quality for the base deletions covariate  Default value: 45. \r\n\r\n--disable-bam-index-caching,-DBIC &lt;Boolean&gt;\r\n                              If true, don&#39;t cache bam indexes, this will reduce memory requirements but may harm\r\n                              performance if many intervals are specified.  Caching is automatically disabled if there\r\n                              are no intervals specified.  Default value: false. Possible values: {true, false} \r\n\r\n--disable-read-filter,-DF &lt;String&gt;\r\n                              Read filters to be disabled before analysis  This argument may be specified 0 or more\r\n                              times. Default value: null. Possible values: {MappedReadFilter,\r\n                              MappingQualityAvailableReadFilter, MappingQualityNotZeroReadFilter,\r\n                              NotDuplicateReadFilter, NotSecondaryAlignmentReadFilter,\r\n                              PassesVendorQualityCheckReadFilter, WellformedReadFilter} \r\n\r\n--disable-sequence-dictionary-validation &lt;Boolean&gt;\r\n                              If specified, do not check the sequence dictionaries from our inputs for compatibility.\r\n                              Use at your own risk!  Default value: false. Possible values: {true, false} \r\n\r\n--exclude-intervals,-XL &lt;String&gt;\r\n                              One or more genomic intervals to exclude from processing  This argument may be specified 0\r\n                              or more times. Default value: null. \r\n\r\n--gatk-config-file &lt;String&gt;   A configuration file to use with the GATK.  Default value: null. \r\n\r\n--gcs-max-retries,-gcs-retries &lt;Integer&gt;\r\n                              If the GCS bucket channel errors out, how many times it will attempt to re-initiate the\r\n                              connection  Default value: 20. \r\n\r\n--gcs-project-for-requester-pays &lt;String&gt;\r\n                              Project to bill when accessing &quot;requester pays&quot; buckets. If unset, these buckets cannot be\r\n                              accessed.  User must have storage.buckets.get permission on the bucket being accessed. \r\n                              Default value: . \r\n\r\n--help,-h &lt;Boolean&gt;           display the help message  Default value: false. Possible values: {true, false} \r\n\r\n--indels-context-size,-ics &lt;Integer&gt;\r\n                              Size of the k-mer context to be used for base insertions and deletions  Default value: 3. \r\n\r\n--insertions-default-quality &lt;Byte&gt;\r\n                              default quality for the base insertions covariate  Default value: 45. \r\n\r\n--interval-exclusion-padding,-ixp &lt;Integer&gt;\r\n                              Amount of padding (in bp) to add to each interval you are excluding.  Default value: 0. \r\n\r\n--interval-merging-rule,-imr &lt;IntervalMergingRule&gt;\r\n                              Interval merging rule for abutting intervals  Default value: ALL. Possible values: {ALL,\r\n                              OVERLAPPING_ONLY} \r\n\r\n--interval-padding,-ip &lt;Integer&gt;\r\n                              Amount of padding (in bp) to add to each interval you are including.  Default value: 0. \r\n\r\n--interval-set-rule,-isr &lt;IntervalSetRule&gt;\r\n                              Set merging approach to use for combining interval inputs  Default value: UNION. Possible\r\n                              values: {UNION, INTERSECTION} \r\n\r\n--intervals,-L &lt;String&gt;       One or more genomic intervals over which to operate  This argument may be specified 0 or\r\n                              more times. Default value: null. \r\n\r\n--lenient,-LE &lt;Boolean&gt;       Lenient processing of VCF files  Default value: false. Possible values: {true, false} \r\n\r\n--low-quality-tail &lt;Byte&gt;     minimum quality for the bases in the tail of the reads to be considered  Default value: 2.\r\n\r\n--max-variants-per-shard &lt;Integer&gt;\r\n                              If non-zero, partitions VCF output into shards, each containing up to the given number of\r\n                              records.  Default value: 0. \r\n\r\n--maximum-cycle-value,-max-cycle &lt;Integer&gt;\r\n                              The maximum cycle value permitted for the Cycle covariate  Default value: 500. \r\n\r\n--mismatches-context-size,-mcs &lt;Integer&gt;\r\n                              Size of the k-mer context to be used for base mismatches  Default value: 2. \r\n\r\n--mismatches-default-quality &lt;Byte&gt;\r\n                              default quality for the base mismatches covariate  Default value: -1. \r\n\r\n--preserve-qscores-less-than &lt;Integer&gt;\r\n                              Don&#39;t recalibrate bases with quality scores less than this threshold (with -bqsr)  Default\r\n                              value: 6. \r\n\r\n--quantizing-levels &lt;Integer&gt; number of distinct quality scores in the quantized output  Default value: 16. \r\n\r\n--QUIET &lt;Boolean&gt;             Whether to suppress job-summary info on System.err.  Default value: false. Possible\r\n                              values: {true, false} \r\n\r\n--read-filter,-RF &lt;String&gt;    Read filters to be applied before analysis  This argument may be specified 0 or more\r\n                              times. Default value: null. Possible values: {AlignmentAgreesWithHeaderReadFilter,\r\n                              AllowAllReadsReadFilter, AmbiguousBaseReadFilter, CigarContainsNoNOperator,\r\n                              ExcessiveEndClippedReadFilter, FirstOfPairReadFilter,\r\n                              FlowBasedTPAttributeSymetricReadFilter, FlowBasedTPAttributeValidReadFilter,\r\n                              FragmentLengthReadFilter, GoodCigarReadFilter, HasReadGroupReadFilter,\r\n                              HmerQualitySymetricReadFilter, IntervalOverlapReadFilter,\r\n                              JexlExpressionReadTagValueFilter, LibraryReadFilter, MappedReadFilter,\r\n                              MappingQualityAvailableReadFilter, MappingQualityNotZeroReadFilter,\r\n                              MappingQualityReadFilter, MatchingBasesAndQualsReadFilter, MateDifferentStrandReadFilter,\r\n                              MateDistantReadFilter, MateOnSameContigOrNoMappedMateReadFilter,\r\n                              MateUnmappedAndUnmappedReadFilter, MetricsReadFilter,\r\n                              NonChimericOriginalAlignmentReadFilter, NonZeroFragmentLengthReadFilter,\r\n                              NonZeroReferenceLengthAlignmentReadFilter, NotDuplicateReadFilter,\r\n                              NotOpticalDuplicateReadFilter, NotProperlyPairedReadFilter,\r\n                              NotSecondaryAlignmentReadFilter, NotSupplementaryAlignmentReadFilter,\r\n                              OverclippedReadFilter, PairedReadFilter, PassesVendorQualityCheckReadFilter,\r\n                              PlatformReadFilter, PlatformUnitReadFilter, PrimaryLineReadFilter,\r\n                              ProperlyPairedReadFilter, ReadGroupBlackListReadFilter, ReadGroupHasFlowOrderReadFilter,\r\n                              ReadGroupReadFilter, ReadLengthEqualsCigarLengthReadFilter, ReadLengthReadFilter,\r\n                              ReadNameReadFilter, ReadStrandFilter, ReadTagValueFilter, SampleReadFilter,\r\n                              SecondOfPairReadFilter, SeqIsStoredReadFilter, SoftClippedReadFilter,\r\n                              ValidAlignmentEndReadFilter, ValidAlignmentStartReadFilter, WellformedFlowBasedReadFilter,\r\n                              WellformedReadFilter} \r\n\r\n--read-index &lt;GATKPath&gt;       Indices to use for the read inputs. If specified, an index must be provided for every read\r\n                              input and in the same order as the read inputs. If this argument is not specified, the\r\n                              path to the index for each input will be inferred automatically.  This argument may be\r\n                              specified 0 or more times. Default value: null. \r\n\r\n--read-validation-stringency,-VS &lt;ValidationStringency&gt;\r\n                              Validation stringency for all SAM/BAM/CRAM/SRA files read by this program.  The default\r\n                              stringency value SILENT can improve performance when processing a BAM file in which\r\n                              variable-length data (read, qualities, tags) do not otherwise need to be decoded.  Default\r\n                              value: SILENT. Possible values: {STRICT, LENIENT, SILENT} \r\n\r\n--seconds-between-progress-updates &lt;Double&gt;\r\n                              Output traversal statistics every time this many seconds elapse  Default value: 10.0. \r\n\r\n--sequence-dictionary &lt;GATKPath&gt;\r\n                              Use the given sequence dictionary as the master/canonical sequence dictionary.  Must be a\r\n                              .dict file.  Default value: null. \r\n\r\n--sites-only-vcf-output &lt;Boolean&gt;\r\n                              If true, don&#39;t emit genotype fields when writing vcf file output.  Default value: false.\r\n                              Possible values: {true, false} \r\n\r\n--tmp-dir &lt;GATKPath&gt;          Temp directory to use.  Default value: null. \r\n\r\n--use-jdk-deflater,-jdk-deflater &lt;Boolean&gt;\r\n                              Whether to use the JdkDeflater (as opposed to IntelDeflater)  Default value: false.\r\n                              Possible values: {true, false} \r\n\r\n--use-jdk-inflater,-jdk-inflater &lt;Boolean&gt;\r\n                              Whether to use the JdkInflater (as opposed to IntelInflater)  Default value: false.\r\n                              Possible values: {true, false} \r\n\r\n--use-original-qualities,-OQ &lt;Boolean&gt;\r\n                              Use the base quality scores from the OQ tag  Default value: false. Possible values: {true,\r\n                              false} \r\n\r\n--verbosity &lt;LogLevel&gt;        Control verbosity of logging.  Default value: INFO. Possible values: {ERROR, WARNING,\r\n                              INFO, DEBUG} \r\n\r\n--version &lt;Boolean&gt;           display the version number for this tool  Default value: false. Possible values: {true,\r\n                              false} \r\n\r\n\r\nAdvanced Arguments:\r\n\r\n--disable-tool-default-read-filters &lt;Boolean&gt;\r\n                              Disable all tool default read filters (WARNING: many tools will not function correctly\r\n                              without their default read filters on)  Default value: false. Possible values: {true,\r\n                              false} \r\n\r\n--showHidden &lt;Boolean&gt;        display hidden arguments  Default value: false. Possible values: {true, false} \r\n\r\n\r\n***********************************************************************\r\n\r\nA USER ERROR has occurred: Argument known-sites was missing: Argument &#39;known-sites&#39; is required\r\n\r\n***********************************************************************\r\nSet the system property GATK_STACKTRACE_ON_USER_EXCEPTION (--java-options &#39;-DGATK_STACKTRACE_ON_USER_EXCEPTION=true&#39;) to print the stack trace.","title":"base recalibrator --known-sites argument does not work","body":"<p>When I run this</p>\n<pre><code>gatk BaseRecalibrator -I ${aligned_reads}/file_copy_sorted.bam -R ${referance} --known-sites ${Known_Sites} -O ${data1}/sorted_Read1.table\n</code></pre>\n<p>this error occur</p>\n<blockquote>\n<p>A USER ERROR has occurred: Argument known-sites was missing: <em>Argument 'known-sites' is required</em></p>\n</blockquote>\n<p>this is what I tried</p>\n<p>Using GATK jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar\nRunning:\njava -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar BaseRecalibrator -I /file_copy_sorted.bam -R --known-sites -O /sorted_Read1.table\nUSAGE: BaseRecalibrator [arguments]</p>\n<p>First pass of the Base Quality Score Recalibration (BQSR) -- Generates recalibration table based on various\nuser-specified covariates (such as read group, reported quality score, machine cycle, and nucleotide context).\nVersion:4.4.0.0</p>\n<p>Required Arguments:</p>\n<p>--input,-I          BAM/SAM/CRAM file containing reads  This argument must be specified at least once.\nRequired.</p>\n<p>--known-sites   One or more databases of known polymorphic sites used to exclude regions around known\npolymorphisms from analysis.  This argument must be specified at least once. Required.</p>\n<p>--output,-O         The output recalibration table file to create  Required.</p>\n<p>--reference,-R      Reference sequence file  Required.</p>\n<p>Optional Arguments:</p>\n<p>--add-output-sam-program-record \nIf true, adds a PG tag to created SAM/BAM/CRAM files.  Default value: true. Possible\nvalues: {true, false}</p>\n<p>--add-output-vcf-command-line \nIf true, adds a command line header line to created VCF files.  Default value: true.\nPossible values: {true, false}</p>\n<p>--arguments_file        read one or more arguments files and add them to the command line  This argument may be\nspecified 0 or more times. Default value: null.</p>\n<p>--binary-tag-name     the binary tag covariate name if using it  Default value: null.</p>\n<p>--bqsr-baq-gap-open-penalty \nBQSR BAQ gap open penalty (Phred Scaled).  Default value is 40.  30 is perhaps better for\nwhole genome call sets  Default value: 40.0.</p>\n<p>--cloud-index-prefetch-buffer,-CIPB \nSize of the cloud-only prefetch buffer (in MB; 0 to disable). Defaults to\ncloudPrefetchBuffer if unset.  Default value: -1.</p>\n<p>--cloud-prefetch-buffer,-CPB \nSize of the cloud-only prefetch buffer (in MB; 0 to disable).  Default value: 40.</p>\n<p>--create-output-bam-index,-OBI \nIf true, create a BAM/CRAM index when writing a coordinate-sorted BAM/CRAM file.  Default\nvalue: true. Possible values: {true, false}</p>\n<p>--create-output-bam-md5,-OBM \nIf true, create a MD5 digest for any BAM/SAM/CRAM file created  Default value: false.\nPossible values: {true, false}</p>\n<p>--create-output-variant-index,-OVI \nIf true, create a VCF index when writing a coordinate-sorted VCF file.  Default value:\ntrue. Possible values: {true, false}</p>\n<p>--create-output-variant-md5,-OVM \nIf true, create a a MD5 digest any VCF file created.  Default value: false. Possible\nvalues: {true, false}</p>\n<p>--default-base-qualities \nAssign a default base quality  Default value: -1.</p>\n<p>--deletions-default-quality \ndefault quality for the base deletions covariate  Default value: 45.</p>\n<p>--disable-bam-index-caching,-DBIC \nIf true, don't cache bam indexes, this will reduce memory requirements but may harm\nperformance if many intervals are specified.  Caching is automatically disabled if there\nare no intervals specified.  Default value: false. Possible values: {true, false}</p>\n<p>--disable-read-filter,-DF \nRead filters to be disabled before analysis  This argument may be specified 0 or more\ntimes. Default value: null. Possible values: {MappedReadFilter,\nMappingQualityAvailableReadFilter, MappingQualityNotZeroReadFilter,\nNotDuplicateReadFilter, NotSecondaryAlignmentReadFilter,\nPassesVendorQualityCheckReadFilter, WellformedReadFilter}</p>\n<p>--disable-sequence-dictionary-validation \nIf specified, do not check the sequence dictionaries from our inputs for compatibility.\nUse at your own risk!  Default value: false. Possible values: {true, false}</p>\n<p>--exclude-intervals,-XL \nOne or more genomic intervals to exclude from processing  This argument may be specified 0\nor more times. Default value: null.</p>\n<p>--gatk-config-file    A configuration file to use with the GATK.  Default value: null.</p>\n<p>--gcs-max-retries,-gcs-retries \nIf the GCS bucket channel errors out, how many times it will attempt to re-initiate the\nconnection  Default value: 20.</p>\n<p>--gcs-project-for-requester-pays \nProject to bill when accessing &quot;requester pays&quot; buckets. If unset, these buckets cannot be\naccessed.  User must have storage.buckets.get permission on the bucket being accessed.\nDefault value: .</p>\n<p>--help,-h            display the help message  Default value: false. Possible values: {true, false}</p>\n<p>--indels-context-size,-ics \nSize of the k-mer context to be used for base insertions and deletions  Default value: 3.</p>\n<p>--insertions-default-quality \ndefault quality for the base insertions covariate  Default value: 45.</p>\n<p>--interval-exclusion-padding,-ixp \nAmount of padding (in bp) to add to each interval you are excluding.  Default value: 0.</p>\n<p>--interval-merging-rule,-imr \nInterval merging rule for abutting intervals  Default value: ALL. Possible values: {ALL,\nOVERLAPPING_ONLY}</p>\n<p>--interval-padding,-ip \nAmount of padding (in bp) to add to each interval you are including.  Default value: 0.</p>\n<p>--interval-set-rule,-isr \nSet merging approach to use for combining interval inputs  Default value: UNION. Possible\nvalues: {UNION, INTERSECTION}</p>\n<p>--intervals,-L        One or more genomic intervals over which to operate  This argument may be specified 0 or\nmore times. Default value: null.</p>\n<p>--lenient,-LE        Lenient processing of VCF files  Default value: false. Possible values: {true, false}</p>\n<p>--low-quality-tail      minimum quality for the bases in the tail of the reads to be considered  Default value: 2.</p>\n<p>--max-variants-per-shard \nIf non-zero, partitions VCF output into shards, each containing up to the given number of\nrecords.  Default value: 0.</p>\n<p>--maximum-cycle-value,-max-cycle \nThe maximum cycle value permitted for the Cycle covariate  Default value: 500.</p>\n<p>--mismatches-context-size,-mcs \nSize of the k-mer context to be used for base mismatches  Default value: 2.</p>\n<p>--mismatches-default-quality \ndefault quality for the base mismatches covariate  Default value: -1.</p>\n<p>--preserve-qscores-less-than \nDon't recalibrate bases with quality scores less than this threshold (with -bqsr)  Default\nvalue: 6.</p>\n<p>--quantizing-levels  number of distinct quality scores in the quantized output  Default value: 16.</p>\n<p>--QUIET              Whether to suppress job-summary info on System.err.  Default value: false. Possible\nvalues: {true, false}</p>\n<p>--read-filter,-RF     Read filters to be applied before analysis  This argument may be specified 0 or more\ntimes. Default value: null. Possible values: {AlignmentAgreesWithHeaderReadFilter,\nAllowAllReadsReadFilter, AmbiguousBaseReadFilter, CigarContainsNoNOperator,\nExcessiveEndClippedReadFilter, FirstOfPairReadFilter,\nFlowBasedTPAttributeSymetricReadFilter, FlowBasedTPAttributeValidReadFilter,\nFragmentLengthReadFilter, GoodCigarReadFilter, HasReadGroupReadFilter,\nHmerQualitySymetricReadFilter, IntervalOverlapReadFilter,\nJexlExpressionReadTagValueFilter, LibraryReadFilter, MappedReadFilter,\nMappingQualityAvailableReadFilter, MappingQualityNotZeroReadFilter,\nMappingQualityReadFilter, MatchingBasesAndQualsReadFilter, MateDifferentStrandReadFilter,\nMateDistantReadFilter, MateOnSameContigOrNoMappedMateReadFilter,\nMateUnmappedAndUnmappedReadFilter, MetricsReadFilter,\nNonChimericOriginalAlignmentReadFilter, NonZeroFragmentLengthReadFilter,\nNonZeroReferenceLengthAlignmentReadFilter, NotDuplicateReadFilter,\nNotOpticalDuplicateReadFilter, NotProperlyPairedReadFilter,\nNotSecondaryAlignmentReadFilter, NotSupplementaryAlignmentReadFilter,\nOverclippedReadFilter, PairedReadFilter, PassesVendorQualityCheckReadFilter,\nPlatformReadFilter, PlatformUnitReadFilter, PrimaryLineReadFilter,\nProperlyPairedReadFilter, ReadGroupBlackListReadFilter, ReadGroupHasFlowOrderReadFilter,\nReadGroupReadFilter, ReadLengthEqualsCigarLengthReadFilter, ReadLengthReadFilter,\nReadNameReadFilter, ReadStrandFilter, ReadTagValueFilter, SampleReadFilter,\nSecondOfPairReadFilter, SeqIsStoredReadFilter, SoftClippedReadFilter,\nValidAlignmentEndReadFilter, ValidAlignmentStartReadFilter, WellformedFlowBasedReadFilter,\nWellformedReadFilter}</p>\n<p>--read-index        Indices to use for the read inputs. If specified, an index must be provided for every read\ninput and in the same order as the read inputs. If this argument is not specified, the\npath to the index for each input will be inferred automatically.  This argument may be\nspecified 0 or more times. Default value: null.</p>\n<p>--read-validation-stringency,-VS \nValidation stringency for all SAM/BAM/CRAM/SRA files read by this program.  The default\nstringency value SILENT can improve performance when processing a BAM file in which\nvariable-length data (read, qualities, tags) do not otherwise need to be decoded.  Default\nvalue: SILENT. Possible values: {STRICT, LENIENT, SILENT}</p>\n<p>--seconds-between-progress-updates \nOutput traversal statistics every time this many seconds elapse  Default value: 10.0.</p>\n<p>--sequence-dictionary \nUse the given sequence dictionary as the master/canonical sequence dictionary.  Must be a\n.dict file.  Default value: null.</p>\n<p>--sites-only-vcf-output \nIf true, don't emit genotype fields when writing vcf file output.  Default value: false.\nPossible values: {true, false}</p>\n<p>--tmp-dir           Temp directory to use.  Default value: null.</p>\n<p>--use-jdk-deflater,-jdk-deflater \nWhether to use the JdkDeflater (as opposed to IntelDeflater)  Default value: false.\nPossible values: {true, false}</p>\n<p>--use-jdk-inflater,-jdk-inflater \nWhether to use the JdkInflater (as opposed to IntelInflater)  Default value: false.\nPossible values: {true, false}</p>\n<p>--use-original-qualities,-OQ \nUse the base quality scores from the OQ tag  Default value: false. Possible values: {true,\nfalse}</p>\n<p>--verbosity         Control verbosity of logging.  Default value: INFO. Possible values: {ERROR, WARNING,\nINFO, DEBUG}</p>\n<p>--version            display the version number for this tool  Default value: false. Possible values: {true,\nfalse}</p>\n<p>Advanced Arguments:</p>\n<p>--disable-tool-default-read-filters \nDisable all tool default read filters (WARNING: many tools will not function correctly\nwithout their default read filters on)  Default value: false. Possible values: {true,\nfalse}</p>\n<p>--showHidden         display hidden arguments  Default value: false. Possible values: {true, false}</p>\n<hr />\n<p>A USER ERROR has occurred: Argument known-sites was missing: Argument 'known-sites' is required</p>\n<hr />\n<p>Set the system property GATK_STACKTRACE_ON_USER_EXCEPTION (--java-options '-DGATK_STACKTRACE_ON_USER_EXCEPTION=true') to print the stack trace.</p>\n"},{"tags":["java","spring","maven","spring-boot","pom.xml"],"comments":[{"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"score":0,"creation_date":1558688678,"post_id":56289024,"comment_id":99191172,"body_markdown":"What are you getting back if you try to hit the endpoint with Postman? So you know if the problem is the Controller or your html.","body":"What are you getting back if you try to hit the endpoint with Postman? So you know if the problem is the Controller or your html."},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558689285,"post_id":56289024,"comment_id":99191505,"body_markdown":"added the error message to the end of the post","body":"added the error message to the end of the post"},{"owner":{"account_id":8881126,"reputation":123,"user_id":6631209,"display_name":"Hasanuzzaman Rana"},"score":0,"creation_date":1558690003,"post_id":56289024,"comment_id":99191895,"body_markdown":"@PostMapping(path = &quot;/&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;) public void add(@RequestBody String name) { ...}, could resolve","body":"@PostMapping(path = &quot;/&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;) public void add(@RequestBody String name) { ...}, could resolve"},{"owner":{"account_id":8787522,"reputation":1223,"user_id":6568836,"accept_rate":43,"display_name":"Ravat Tailor"},"score":0,"creation_date":1558690563,"post_id":56289024,"comment_id":99192166,"body_markdown":"your controller seems fine no Issue with a controller, just check from UI are you calling an expected method, the issue seems like the method you are calling have difrrent mapping on controller","body":"your controller seems fine no Issue with a controller, just check from UI are you calling an expected method, the issue seems like the method you are calling have difrrent mapping on controller"},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558691752,"post_id":56289024,"comment_id":99192781,"body_markdown":"none of these worked","body":"none of these worked"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1558695305,"post_id":56289024,"comment_id":99194730,"body_markdown":"we need to eliminate some things, can you please post you application.properties file so that there is no weird context path set.","body":"we need to eliminate some things, can you please post you application.properties file so that there is no weird context path set."},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558695609,"post_id":56289024,"comment_id":99194892,"body_markdown":"@ThomasAndolf I have now added the application.properties at the end of the post","body":"@ThomasAndolf I have now added the application.properties at the end of the post"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1558696755,"post_id":56289024,"comment_id":99195453,"body_markdown":"i suspect your post from soapUI is doing something fishy. Can you please log from soapUI what path you are calling, and what the body of your request looks like.\n\nSecond i concur with others you need to annotate the class with either RestController or Controller and ResponseBody at the top.\n\nhttps://javarevisited.blogspot.com/2017/08/difference-between-restcontroller-and-controller-annotations-spring-mvc-rest.html","body":"i suspect your post from soapUI is doing something fishy. Can you please log from soapUI what path you are calling, and what the body of your request looks like.  Second i concur with others you need to annotate the class with either RestController or Controller and ResponseBody at the top.  <a href=\"https://javarevisited.blogspot.com/2017/08/difference-between-restcontroller-and-controller-annotations-spring-mvc-rest.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2017/08/&hellip;</a>"},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558703199,"post_id":56289024,"comment_id":99198972,"body_markdown":"I added the tutorial from which I created my project. It has no RestController nor ResponseBody, and still works fine.","body":"I added the tutorial from which I created my project. It has no RestController nor ResponseBody, and still works fine."}],"answers":[{"tags":[],"owner":{"account_id":11149773,"reputation":81,"user_id":8183397,"display_name":"lm1010"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558689643,"creation_date":1558689643,"answer_id":56289542,"question_id":56289024,"body_markdown":"Use @RestController instead of @Controller Annotation or\r\n\r\nsimply use \r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    @ResponseBody","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>Use @RestController instead of @Controller Annotation or</p>\n\n<p>simply use </p>\n\n<pre><code>@PostMapping(\"/\")\n@ResponseBody\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15388697,"reputation":373,"user_id":11102092,"display_name":"Nilanjan Bhadury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558689828,"creation_date":1558689828,"answer_id":56289580,"question_id":56289024,"body_markdown":"I suggest few tweaks in existing code. Please see if it works.\r\n\r\n    @Controller\r\n    @RequestMapping(path = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public class StudentController {\r\n    \r\n    @Autowired\r\n    private StudentRepository studentRepository;\r\n    \r\n    \r\n    @GetMapping(&quot;/&quot;)\r\n    public String list(Model model) {\r\n        model.addAttribute(&quot;students&quot;, studentRepository.findAll());\r\n        return &quot;index&quot;;\r\n    }\r\n    \r\n    \r\n    @PostMapping(path = &quot;/&quot;, produces = MediaType.APPLICATION_XML_VALUE)\r\n    public String add(@RequestBody String name) {\r\n        Student student = new Student(name);\r\n        this.studentRepository.save(student);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n    }\r\n\r\nHope it solves the problem.","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>I suggest few tweaks in existing code. Please see if it works.</p>\n\n<pre><code>@Controller\n@RequestMapping(path = \"/\", produces = MediaType.APPLICATION_JSON_VALUE)\npublic class StudentController {\n\n@Autowired\nprivate StudentRepository studentRepository;\n\n\n@GetMapping(\"/\")\npublic String list(Model model) {\n    model.addAttribute(\"students\", studentRepository.findAll());\n    return \"index\";\n}\n\n\n@PostMapping(path = \"/\", produces = MediaType.APPLICATION_XML_VALUE)\npublic String add(@RequestBody String name) {\n    Student student = new Student(name);\n    this.studentRepository.save(student);\n    return \"redirect:/\";\n}\n}\n</code></pre>\n\n<p>Hope it solves the problem.</p>\n"},{"tags":[],"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558690008,"creation_date":1558689862,"answer_id":56289598,"question_id":56289024,"body_markdown":"I think that, if you are performing the request from a form, the annotation `@RequestParam` may be wrong. That is used to get a parameter from the url (`?name=myname`). You may want to try `@RequestBody`.","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>I think that, if you are performing the request from a form, the annotation <code>@RequestParam</code> may be wrong. That is used to get a parameter from the url (<code>?name=myname</code>). You may want to try <code>@RequestBody</code>.</p>\n"},{"tags":[],"owner":{"account_id":27475247,"reputation":1,"user_id":20963372,"display_name":"Rayner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673710565,"creation_date":1673253993,"answer_id":75054865,"question_id":56289024,"body_markdown":"I got this `Request method &#39;POST&#39; not supported` error when my html was in `static` folder and the error went away when I moved the html to `templates`. I think basically Thymeleaf does not manipulate html in `static` folder.","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>I got this <code>Request method 'POST' not supported</code> error when my html was in <code>static</code> folder and the error went away when I moved the html to <code>templates</code>. I think basically Thymeleaf does not manipulate html in <code>static</code> folder.</p>\n"}],"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13170,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1697652320,"creation_date":1558687794,"question_id":56289024,"body_markdown":"Simple Spring Boot POST request not working and returns:\r\n&quot;Request method &#39;POST&#39; not supported&quot; error message.\r\n\r\nThe code itself looks fine to me, but I&#39;m not so sure about the pom.xml.\r\nIf the problem relies in the pom.xml, then this case is hopeless since I don&#39;t even know what all those dependencies do nor why there are duplicates.\r\n\r\nHere is my controller class:\r\n\r\n    @Controller\r\n    public class StudentController {\r\n\t\r\n\t@Autowired\r\n\tprivate StudentRepository studentRepository;\r\n\t\t\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String list(Model model) {\r\n\t\tmodel.addAttribute(&quot;students&quot;, studentRepository.findAll());\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\r\n\r\n\t@PostMapping(&quot;/&quot;)\r\n\tpublic String add(@RequestParam String name) {\r\n\t\tStudent student = new Student(name);\r\n\t\tthis.studentRepository.save(student);\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n    }\r\n\r\nIndex.html \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; \r\n    xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Test&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;p&gt;List all students &lt;/p&gt;\r\n    \r\n        &lt;p&gt;Add a Student&lt;/p&gt;\r\n    \r\n     &lt;form th:action=&quot;@{/}&quot; method=&quot;POST&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;name&quot;/&gt;\r\n        &lt;input type=&quot;submit&quot;/&gt;\r\n    &lt;/form&gt;\r\n\r\n    &lt;p&gt;Students&lt;/p&gt;\r\n\r\n    &lt;p th:each=&quot;student : ${students}&quot;&gt;\r\n        &lt;span th:text=&quot;${student.name}&quot;&gt;student name&lt;/span&gt;\r\n    &lt;/p&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nPom.xml\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fluentlenium-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fluentlenium-assertj&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;  \r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe code is supposed to add a student to studentRepository and redirect back to index.html and display the added student instantly.\r\n\r\nError Message from soapUI:\r\n    \r\n    &quot;timestamp&quot;: &quot;2019-05-24T09:02:36.088+0000&quot;,\r\n    &quot;status&quot;: 405,\r\n    &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n    &quot;message&quot;: &quot;Request method &#39;POST&#39; not supported&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.web.HttpRequestMethodNotSupportedException: \r\n    &quot;path&quot;: &quot;/&quot;\r\n\r\nFull trace:\r\n\r\n    &gt; &quot;trace&quot;:\r\n    &gt; &quot;org.springframework.web.HttpRequestMethodNotSupportedException: \r\n    &gt; Request method &#39;POST&#39; not supported\\r\\n\\tat \r\n    &gt; org.springframework.web.servlet.support.WebContentGenerator.checkRequest(WebContentGenerator.java:380)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:163)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\\r\\n\\tat\r\n    &gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\\r\\n\\tat\r\n    &gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\r\\n\\tat\r\n    &gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\r\\n\\tat\r\n    &gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat\r\n    &gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat\r\n    &gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\r\\n\\tat\r\n    &gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\r\\n\\tat\r\n    &gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836)\\r\\n\\tat\r\n    &gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747)\\r\\n\\tat\r\n    &gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat\r\n    &gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\r\\n\\tat\r\n    &gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\r\\n\\tat\r\n    &gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat\r\n    &gt; java.lang.Thread.run(Thread.java:745)\\r\\n&quot;\r\n\r\n\r\napplication.properties\r\n\r\n    server.port=8083\r\n    spring.profiles.active=@spring.profiles.active@\r\n    spring.datasource.url=jdbc:h2:file:./database;create=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n\r\n\r\n**Tutorial which is working fine:**\r\n\r\nController class\r\n\r\n    @Controller\r\n    public class ItemDatabaseController {\r\n\r\n    @Autowired\r\n    private ItemRepository itemRepository;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String list(Model model) {\r\n        model.addAttribute(&quot;items&quot;, this.itemRepository.findAll());\r\n        return &quot;index&quot;;\r\n    }\r\n    \r\n    @PostMapping(&quot;/&quot;)\r\n    public String add(@RequestParam String name) {\r\n        this.itemRepository.save(new Item(name));\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    }\r\n\r\nindex.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; \r\n    xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Item Database&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Item Database&lt;/h1&gt;\r\n\r\n        &lt;table&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Items&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n\r\n            &lt;tr th:each=&quot;item : ${items}&quot;&gt;\r\n                &lt;td th:text=&quot;${item.name}&quot;&gt;Item name&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/table&gt;\r\n\r\n        &lt;h2&gt;Add an item&lt;/h2&gt;\r\n\r\n        &lt;form th:action=&quot;@{/}&quot; method=&quot;POST&quot;&gt;\r\n            &lt;span&gt;Name:&lt;/span&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;name&quot;/&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Add!&quot;/&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\npom.xml\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fluentlenium-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fluentlenium-assertj&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;  \r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nThese two are virtually the same, except this tutorial was downloaded and my own project was created in Eclipse as a Spring Boot: Spring Starter Project. Which is an Eclipse plugin.\r\n\r\n","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>Simple Spring Boot POST request not working and returns:\n\"Request method 'POST' not supported\" error message.</p>\n\n<p>The code itself looks fine to me, but I'm not so sure about the pom.xml.\nIf the problem relies in the pom.xml, then this case is hopeless since I don't even know what all those dependencies do nor why there are duplicates.</p>\n\n<p>Here is my controller class:</p>\n\n<pre><code>@Controller\npublic class StudentController {\n\n@Autowired\nprivate StudentRepository studentRepository;\n\n\n@GetMapping(\"/\")\npublic String list(Model model) {\n    model.addAttribute(\"students\", studentRepository.findAll());\n    return \"index\";\n}\n\n\n@PostMapping(\"/\")\npublic String add(@RequestParam String name) {\n    Student student = new Student(name);\n    this.studentRepository.save(student);\n    return \"redirect:/\";\n}\n}\n</code></pre>\n\n<p>Index.html </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" \nxmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p&gt;List all students &lt;/p&gt;\n\n    &lt;p&gt;Add a Student&lt;/p&gt;\n\n &lt;form th:action=\"@{/}\" method=\"POST\"&gt;\n    &lt;input type=\"text\" name=\"name\"/&gt;\n    &lt;input type=\"submit\"/&gt;\n&lt;/form&gt;\n\n&lt;p&gt;Students&lt;/p&gt;\n\n&lt;p th:each=\"student : ${students}\"&gt;\n    &lt;span th:text=\"${student.name}\"&gt;student name&lt;/span&gt;\n&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\n        &lt;artifactId&gt;fluentlenium-junit&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\n        &lt;artifactId&gt;fluentlenium-assertj&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n    &lt;/dependency&gt;  \n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The code is supposed to add a student to studentRepository and redirect back to index.html and display the added student instantly.</p>\n\n<p>Error Message from soapUI:</p>\n\n<pre><code>\"timestamp\": \"2019-05-24T09:02:36.088+0000\",\n\"status\": 405,\n\"error\": \"Method Not Allowed\",\n\"message\": \"Request method 'POST' not supported\",\n\"trace\": \"org.springframework.web.HttpRequestMethodNotSupportedException: \n\"path\": \"/\"\n</code></pre>\n\n<p>Full trace:</p>\n\n<pre><code>&gt; \"trace\":\n&gt; \"org.springframework.web.HttpRequestMethodNotSupportedException: \n&gt; Request method 'POST' not supported\\r\\n\\tat \n&gt; org.springframework.web.servlet.support.WebContentGenerator.checkRequest(WebContentGenerator.java:380)\\r\\n\\tat\n&gt; org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:163)\\r\\n\\tat\n&gt; org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52)\\r\\n\\tat\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\\r\\n\\tat\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\\r\\n\\tat\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\\r\\n\\tat\n&gt; org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\\r\\n\\tat\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\\r\\n\\tat\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\\r\\n\\tat\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\\r\\n\\tat\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\\r\\n\\tat\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\\r\\n\\tat\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\\r\\n\\tat\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\\r\\n\\tat\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\r\\n\\tat\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\\r\\n\\tat\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\r\\n\\tat\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat\n&gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\r\\n\\tat\n&gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\r\\n\\tat\n&gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836)\\r\\n\\tat\n&gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747)\\r\\n\\tat\n&gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\r\\n\\tat\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\r\\n\\tat\n&gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat\n&gt; java.lang.Thread.run(Thread.java:745)\\r\\n\"\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>server.port=8083\nspring.profiles.active=@spring.profiles.active@\nspring.datasource.url=jdbc:h2:file:./database;create=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\n</code></pre>\n\n<p><strong>Tutorial which is working fine:</strong></p>\n\n<p>Controller class</p>\n\n<pre><code>@Controller\npublic class ItemDatabaseController {\n\n@Autowired\nprivate ItemRepository itemRepository;\n\n@GetMapping(\"/\")\npublic String list(Model model) {\n    model.addAttribute(\"items\", this.itemRepository.findAll());\n    return \"index\";\n}\n\n@PostMapping(\"/\")\npublic String add(@RequestParam String name) {\n    this.itemRepository.save(new Item(name));\n    return \"redirect:/\";\n}\n\n}\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" \nxmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Item Database&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;h1&gt;Item Database&lt;/h1&gt;\n\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Items&lt;/th&gt;\n        &lt;/tr&gt;\n\n        &lt;tr th:each=\"item : ${items}\"&gt;\n            &lt;td th:text=\"${item.name}\"&gt;Item name&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n\n    &lt;h2&gt;Add an item&lt;/h2&gt;\n\n    &lt;form th:action=\"@{/}\" method=\"POST\"&gt;\n        &lt;span&gt;Name:&lt;/span&gt;\n        &lt;input type=\"text\" name=\"name\"/&gt;\n        &lt;input type=\"submit\" value=\"Add!\"/&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\n        &lt;artifactId&gt;fluentlenium-junit&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\n        &lt;artifactId&gt;fluentlenium-assertj&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n    &lt;/dependency&gt;  \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>These two are virtually the same, except this tutorial was downloaded and my own project was created in Eclipse as a Spring Boot: Spring Starter Project. Which is an Eclipse plugin.</p>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1697641766,"post_id":77317524,"comment_id":136306174,"body_markdown":"What problems? It’s going to plot the data you give it—if you don’t want it to plot something don’t tell it to?","body":"What problems? It’s going to plot the data you give it—if you don’t want it to plot something don’t tell it to?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697650834,"post_id":77317524,"comment_id":136307891,"body_markdown":"Consider leveraging the _pan_ and _zoom_ features examined [here](https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20%5bjfreechart%5d%20pan%20zoom&amp;searchOn=3), or toggle series visibility, seen [here](https://stackoverflow.com/a/28519356/230513).","body":"Consider leveraging the <i>pan</i> and <i>zoom</i> features examined <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20%5bjfreechart%5d%20pan%20zoom&amp;searchOn=3\">here</a>, or toggle series visibility, seen <a href=\"https://stackoverflow.com/a/28519356/230513\">here</a>."},{"owner":{"account_id":19644376,"reputation":7,"user_id":14379766,"display_name":"Mandapati Ganesh"},"score":0,"creation_date":1697786583,"post_id":77317524,"comment_id":136325928,"body_markdown":"@DaveNewton  my problem was solved after using XYSeriesCollection","body":"@DaveNewton  my problem was solved after using XYSeriesCollection"}],"owner":{"account_id":19644376,"reputation":7,"user_id":14379766,"display_name":"Mandapati Ganesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697650992,"creation_date":1697641516,"question_id":77317524,"body_markdown":"I&#39;m facing one problem while plotting JFreeChart. I have 5 series(lines) to plot on a graph. In those 5 series, 1 series has a different x coordinates (In the graph you can check in end 74 is there for p25.). This creates problems. How can fix it so as not to show 74 in the last? instead show it after 72 in ascending order.\r\n\r\n\r\n![https://i.stack.imgur.com/RxfjX.png\\]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RxfjX.png","title":"JFreeChart not plotting sequentially","body":"<p>I'm facing one problem while plotting JFreeChart. I have 5 series(lines) to plot on a graph. In those 5 series, 1 series has a different x coordinates (In the graph you can check in end 74 is there for p25.). This creates problems. How can fix it so as not to show 74 in the last? instead show it after 72 in ascending order.</p>\n<p><img src=\"https://i.stack.imgur.com/RxfjX.png\" alt=\"https://i.stack.imgur.com/RxfjX.png]\" /></p>\n"},{"tags":["java","android","firebase","notifications","firebase-cloud-messaging"],"owner":{"account_id":22892970,"reputation":1,"user_id":17032856,"display_name":"knight Fiury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697649951,"creation_date":1697649951,"question_id":77318457,"body_markdown":"I&#39;m quite new to Firebase Cloud Messaging. And my fcm notifications are categorised as miscellaneous. Please help me out. \r\n\r\nI have tried to create channel id but this channel is not creating but the notification is showing with default priority. \r\n\r\n```\r\npublic class FCMService extends FirebaseMessagingService {\r\nprivate static final String TAG = &quot;FCMService&quot;;\r\nprivate SharedPreferences userFile;\r\n\r\n@Override\r\npublic void onMessageReceived(RemoteMessage remoteMessage) {\r\n\r\nif (remoteMessage.getData().size() &gt; 0) {}\r\n\r\nif (remoteMessage.getNotification() != null) {\t\t\t\tsendNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getNotification().getImageUrl() == null?null : remoteMessage.getNotification().getImageUrl().toString());\r\n}}\r\n\r\n@Override\r\npublic void onNewToken(String token) {\r\nuserFile = getSharedPreferences(&quot;userFile&quot;, Activity.MODE_PRIVATE);\r\nsendRegistrationToServer(token);}\r\n\r\nprivate void sendRegistrationToServer(String token) {}\r\n\r\nprivate void sendNotification(String title, String messageBody, String imageUrl) {\r\n\r\nfinal NotificationManager notificationManager =\t(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\nCharSequence name = &quot;Channel name 1&quot;;\r\nString description = &quot;Notification channel&quot;;\r\nint importance = NotificationManager.IMPORTANCE_HIGH;\r\n\r\nNotificationChannel channel = new NotificationChannel(&quot;id 1&quot;, name, importance);                 channel.setDescription(description);     notificationManager.createNotificationChannel(channel);\t\t\t\t\tchannel.enableLights(true);\t\t\t\t\tchannel.setLightColor(Color.RED);\t\t\t\tchannel.enableVibration(true);\t\t\t\t\t\tchannel.setVibrationPattern(new long[]{0, 600, 600});} \r\n\r\nIntent intent = new Intent(this, MainActivity.class);\r\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\nPendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\r\n\r\nString channelId = &quot;id 1&quot;;\r\n\r\nUri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n\r\nfinal NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;id 1&quot;)\t\t.setSmallIcon(R.drawable.app_icon)\t\t\t.setContentTitle(title)\t\t.setContentText(messageBody)     .setPriority(NotificationCompat.PRIORITY_HIGH)\t\t\t.setAutoCancel(true)\t\t.setSound(defaultSoundUri)\t.setContentIntent(pendingIntent)\r\n.setChannelId(&quot;id 1&quot;);\r\n\r\nIntent copyIntent = new Intent(this, MainActivity.class);\tcopyIntent.putExtra(&quot;notification_title&quot;, title); \r\n\r\nif (imageUrl == null) {\t\t\t\t\tnotificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());\r\n\r\n} else {\t\t\t\tGlide.with(getApplicationContext())\t\t\t\t\t.asBitmap()\t\t\t\t\t.load(imageUrl)\t\t\t\t\t.into(new CustomTarget&lt;Bitmap&gt;(){\r\n\r\n\t\t\t\t\t\t@Override\t\t\t\t\t\t\tpublic void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\t\t\t\t\t\t\t\t\tnotificationBuilder.setLargeIcon(resource);\t\t\t\t\t\t\t\t\tnotificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(resource));\t\t\t\t\t\t\t\tnotificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());}\r\n\r\n\t\t\t\t\t\t\t\t@Override\t\t\t\t\t\t\tpublic void onLoadCleared(@Nullable Drawable placeholder){}\r\n\r\n\t\t\t\t\t\t\t@Override\t\t\t\t\t\t\t\tpublic void onLoadFailed(@Nullable Drawable errorDrawable)                               {\t\t\t\t\t\t\t\t\t\tsuper.onLoadFailed(errorDrawable);\t\t\t\t\t\t\t\t\t\tnotificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());\r\n\r\n}\t\t\t\t\t\t});\r\n\r\n}}}\r\n\r\n```","title":"Fcm notification marked as miscellaneous","body":"<p>I'm quite new to Firebase Cloud Messaging. And my fcm notifications are categorised as miscellaneous. Please help me out.</p>\n<p>I have tried to create channel id but this channel is not creating but the notification is showing with default priority.</p>\n<pre><code>public class FCMService extends FirebaseMessagingService {\nprivate static final String TAG = &quot;FCMService&quot;;\nprivate SharedPreferences userFile;\n\n@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n\nif (remoteMessage.getData().size() &gt; 0) {}\n\nif (remoteMessage.getNotification() != null) {              sendNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getNotification().getImageUrl() == null?null : remoteMessage.getNotification().getImageUrl().toString());\n}}\n\n@Override\npublic void onNewToken(String token) {\nuserFile = getSharedPreferences(&quot;userFile&quot;, Activity.MODE_PRIVATE);\nsendRegistrationToServer(token);}\n\nprivate void sendRegistrationToServer(String token) {}\n\nprivate void sendNotification(String title, String messageBody, String imageUrl) {\n\nfinal NotificationManager notificationManager = (NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\nCharSequence name = &quot;Channel name 1&quot;;\nString description = &quot;Notification channel&quot;;\nint importance = NotificationManager.IMPORTANCE_HIGH;\n\nNotificationChannel channel = new NotificationChannel(&quot;id 1&quot;, name, importance);                 channel.setDescription(description);     notificationManager.createNotificationChannel(channel);                   channel.enableLights(true);                 channel.setLightColor(Color.RED);               channel.enableVibration(true);                      channel.setVibrationPattern(new long[]{0, 600, 600});} \n\nIntent intent = new Intent(this, MainActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\nPendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\n\nString channelId = &quot;id 1&quot;;\n\nUri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n\nfinal NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;id 1&quot;)     .setSmallIcon(R.drawable.app_icon)          .setContentTitle(title)     .setContentText(messageBody)     .setPriority(NotificationCompat.PRIORITY_HIGH)         .setAutoCancel(true)        .setSound(defaultSoundUri)  .setContentIntent(pendingIntent)\n.setChannelId(&quot;id 1&quot;);\n\nIntent copyIntent = new Intent(this, MainActivity.class);   copyIntent.putExtra(&quot;notification_title&quot;, title); \n\nif (imageUrl == null) {                 notificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());\n\n} else {                Glide.with(getApplicationContext())                 .asBitmap()                 .load(imageUrl)                 .into(new CustomTarget&lt;Bitmap&gt;(){\n\n                        @Override                           public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {                                    notificationBuilder.setLargeIcon(resource);                                 notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(resource));                                notificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());}\n\n                                @Override                           public void onLoadCleared(@Nullable Drawable placeholder){}\n\n                            @Override                               public void onLoadFailed(@Nullable Drawable errorDrawable)                               {                                      super.onLoadFailed(errorDrawable);                                      notificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());\n\n}                       });\n\n}}}\n\n</code></pre>\n"},{"tags":["java","url","uri"],"answers":[{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1302086478,"creation_date":1302086478,"answer_id":5565025,"question_id":5564998,"body_markdown":"You want something like this:\r\n\r\n    String path = new URL(&quot;http://www.costo.com/test1/test2&quot;).getPath();\r\n\r\nActually that&#39;ll give you `/test1/test2`. You&#39;ll just have to remove the first `/` to get what you want:\r\n\r\n    path = path.replaceFirst(&quot;/&quot;, &quot;&quot;);\r\n\r\nNow you&#39;ll have `test1/test2` in `path`.\r\n","title":"How to get the path of a URL?","body":"<p>You want something like this:</p>\n\n<pre><code>String path = new URL(\"http://www.costo.com/test1/test2\").getPath();\n</code></pre>\n\n<p>Actually that'll give you <code>/test1/test2</code>. You'll just have to remove the first <code>/</code> to get what you want:</p>\n\n<pre><code>path = path.replaceFirst(\"/\", \"\");\n</code></pre>\n\n<p>Now you'll have <code>test1/test2</code> in <code>path</code>.</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1302086513,"creation_date":1302086513,"answer_id":5565032,"question_id":5564998,"body_markdown":"     URL url = new  URL(&quot;http://www.google.com/in/on&quot;);\r\n     System.out.println(url.getPath());\r\n\r\n\r\n**Also See**\r\n\r\n - [Javadoc][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/net/URL.html#getPath%28%29","title":"How to get the path of a URL?","body":"<pre><code> URL url = new  URL(\"http://www.google.com/in/on\");\n System.out.println(url.getPath());\n</code></pre>\n\n<p><strong>Also See</strong></p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URL.html#getPath%28%29\" rel=\"noreferrer\">Javadoc</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302086541,"creation_date":1302086541,"answer_id":5565036,"question_id":5564998,"body_markdown":"use `URL.getPath()` method of [`URL`][1] class.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/net/URL.html","title":"How to get the path of a URL?","body":"<p>use <code>URL.getPath()</code> method of <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URL.html\" rel=\"nofollow\"><code>URL</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302086648,"creation_date":1302086648,"answer_id":5565058,"question_id":5564998,"body_markdown":"You can do this:\r\n\r\n\t\tURL url = new URL(&quot;http://www.costo.com/test1/test2&quot;);\r\n\t\tSystem.out.println(url.getPath());","title":"How to get the path of a URL?","body":"<p>You can do this:</p>\n\n<pre><code>    URL url = new URL(\"http://www.costo.com/test1/test2\");\n    System.out.println(url.getPath());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215715,"reputation":3329,"user_id":470517,"accept_rate":86,"display_name":"Aydin K."},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1452527402,"creation_date":1452527402,"answer_id":34725673,"question_id":5564998,"body_markdown":"I had performance doubts using the Java URL class for just extracting the path from an URL and thought that this is an overkill.\r\n\r\nTherefore I wrote three methods, which all use a different way to extract the path from a given URL.\r\n\r\n 1. 1st method uses the **URL.getPath** method from the Java URL class.\r\n 2. 2nd method uses a **regex** I found in SO (I lost the source link, otherwise I&#39;d give credits to the author right here).\r\n 3. 3rd method uses a **array-split and join** for getting the same result.\r\n\r\nAll three methods are invoked 1000000 times for a given URL.\r\n\r\nThe result is:\r\n\r\n    #1 (getPathviaURL)   took:    860ms\r\n    #2 (getPathViaRegex) took:   3763ms\r\n    #3 (getPathViaSplit) took:   1365ms\r\n\r\nCode - feel free to optimize it:\r\n\r\n    \t\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \t\t   \r\n    \t\tString host = &quot;http://stackoverflow.com/questions/5564998/how-to-get-the-path-of-a-url&quot;;\r\n    \r\n    \t\tlong start1 = System.currentTimeMillis();\r\n    \t\tint i = 0;\r\n    \t\twhile (i &lt; 1000000) {\r\n    \t\t\tgetPathviaURL(host);\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\tlong end1 = System.currentTimeMillis();\r\n    \r\n    \t\tSystem.out.println(&quot;#1 (getPathviaURL) took: &quot; + (end1 - start1) + &quot;ms&quot;);\r\n    \t\tPattern p = Pattern.compile(&quot;(?:([^:\\\\/?#]+):)?(?:\\\\/\\\\/([^\\\\/?#]*))?([^?#]*)(?:\\\\?([^#]*))?(?:#(.*))?&quot;);\r\n    \r\n    \t\tlong start2 = System.currentTimeMillis();\r\n    \t\tint i2 = 0;\r\n    \t\twhile (i2 &lt; 1000000) {\r\n    \t\t\tgetPathViaRegex(host, p);\r\n    \t\t\ti2++;\r\n    \t\t}\r\n    \t\tlong end2 = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;#2 (getPathViaRegex) Took: &quot; + (end2 - start2) + &quot;ms&quot;);\r\n    \r\n    \t\tlong start3 = System.currentTimeMillis();\r\n    \t\tint i3 = 0;\r\n    \t\twhile (i3 &lt; 1000000) {\r\n    \t\t\tgetPathViaSplit(host);\r\n    \t\t\ti3++;\r\n    \t\t}\r\n    \t\tlong end3 = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;#3 (getPathViaSplit) took: &quot; + (end3 - start3) + &quot;ms&quot;);\r\n    \r\n    \r\n    \r\n    \t}\r\n    \r\n    \tpublic static String getPathviaURL(String url) {\r\n    \t\tString path = null;\r\n    \t\ttry {\r\n    \t\t\tpath = new URL(url).getPath();\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn path;\r\n    \t}\r\n    \r\n    \tpublic static String getPathViaRegex(String url, Pattern p) {\r\n    \t\tMatcher m = p.matcher(url);\r\n    \r\n    \t\tif (m.find()) {\r\n    \t\t\treturn m.group(3);\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic static String getPathViaSplit(String url) {\r\n    \t\tString[] parts = url.split(&quot;/&quot;);\r\n    \r\n    \t\tparts = Arrays.copyOfRange(parts, 3, parts.length);\r\n    \t\tString joined = &quot;/&quot; + StringUtils.join(parts, &quot;/&quot;);\r\n    \r\n    \t\treturn joined;\r\n    \t}\r\n","title":"How to get the path of a URL?","body":"<p>I had performance doubts using the Java URL class for just extracting the path from an URL and thought that this is an overkill.</p>\n\n<p>Therefore I wrote three methods, which all use a different way to extract the path from a given URL.</p>\n\n<ol>\n<li>1st method uses the <strong>URL.getPath</strong> method from the Java URL class.</li>\n<li>2nd method uses a <strong>regex</strong> I found in SO (I lost the source link, otherwise I'd give credits to the author right here).</li>\n<li>3rd method uses a <strong>array-split and join</strong> for getting the same result.</li>\n</ol>\n\n<p>All three methods are invoked 1000000 times for a given URL.</p>\n\n<p>The result is:</p>\n\n<pre><code>#1 (getPathviaURL)   took:    860ms\n#2 (getPathViaRegex) took:   3763ms\n#3 (getPathViaSplit) took:   1365ms\n</code></pre>\n\n<p>Code - feel free to optimize it:</p>\n\n<pre><code>public static void main(String[] args) {\n\n\n        String host = \"http://stackoverflow.com/questions/5564998/how-to-get-the-path-of-a-url\";\n\n        long start1 = System.currentTimeMillis();\n        int i = 0;\n        while (i &lt; 1000000) {\n            getPathviaURL(host);\n            i++;\n        }\n        long end1 = System.currentTimeMillis();\n\n        System.out.println(\"#1 (getPathviaURL) took: \" + (end1 - start1) + \"ms\");\n        Pattern p = Pattern.compile(\"(?:([^:\\\\/?#]+):)?(?:\\\\/\\\\/([^\\\\/?#]*))?([^?#]*)(?:\\\\?([^#]*))?(?:#(.*))?\");\n\n        long start2 = System.currentTimeMillis();\n        int i2 = 0;\n        while (i2 &lt; 1000000) {\n            getPathViaRegex(host, p);\n            i2++;\n        }\n        long end2 = System.currentTimeMillis();\n        System.out.println(\"#2 (getPathViaRegex) Took: \" + (end2 - start2) + \"ms\");\n\n        long start3 = System.currentTimeMillis();\n        int i3 = 0;\n        while (i3 &lt; 1000000) {\n            getPathViaSplit(host);\n            i3++;\n        }\n        long end3 = System.currentTimeMillis();\n        System.out.println(\"#3 (getPathViaSplit) took: \" + (end3 - start3) + \"ms\");\n\n\n\n    }\n\n    public static String getPathviaURL(String url) {\n        String path = null;\n        try {\n            path = new URL(url).getPath();\n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return path;\n    }\n\n    public static String getPathViaRegex(String url, Pattern p) {\n        Matcher m = p.matcher(url);\n\n        if (m.find()) {\n            return m.group(3);\n        }\n        return null;\n    }\n\n    public static String getPathViaSplit(String url) {\n        String[] parts = url.split(\"/\");\n\n        parts = Arrays.copyOfRange(parts, 3, parts.length);\n        String joined = \"/\" + StringUtils.join(parts, \"/\");\n\n        return joined;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6212671,"reputation":1582,"user_id":4838509,"accept_rate":75,"display_name":"Bhaskara Arani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548778219,"creation_date":1548778219,"answer_id":54425201,"question_id":5564998,"body_markdown":"If you want to get it from an url of your application something like http://localhost:8080/test1/test2/main.jsp. \r\nUse can use \r\n\r\n    request.getRequestURI() //result will be like test1/test2","title":"How to get the path of a URL?","body":"<p>If you want to get it from an url of your application something like <a href=\"http://localhost:8080/test1/test2/main.jsp\" rel=\"nofollow noreferrer\">http://localhost:8080/test1/test2/main.jsp</a>. \nUse can use </p>\n\n<pre><code>request.getRequestURI() //result will be like test1/test2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":976610,"reputation":1541,"user_id":997566,"accept_rate":69,"display_name":"Nayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633428863,"creation_date":1633428863,"answer_id":69448643,"question_id":5564998,"body_markdown":"I recommend to use `URI` class because that can handle relative path also. Here is a sample code to achieve the same with URI and URL:\r\n\r\n    String urlStr = &quot;http://localhost:8080/collections-in-java?error=true&quot;;\r\n    try {\r\n        URI uri = URI.create(urlStr);\r\n        System.out.println(uri.getPath());\r\n        URL url1 = new URL(urlStr);\r\n        System.out.println(url1.getPath());\r\n    } catch (MalformedURLException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThe above code will produce same result. The URI is useful if there is chance that the path may be relative e.g. `/some/path/collections-in-java?error=true`\r\n\r\nFor this case, `URI.getPath()` will return `/some/path/collections-in-java` but `URL.getPath()` will throw `MalformedURLException`.","title":"How to get the path of a URL?","body":"<p>I recommend to use <code>URI</code> class because that can handle relative path also. Here is a sample code to achieve the same with URI and URL:</p>\n<pre><code>String urlStr = &quot;http://localhost:8080/collections-in-java?error=true&quot;;\ntry {\n    URI uri = URI.create(urlStr);\n    System.out.println(uri.getPath());\n    URL url1 = new URL(urlStr);\n    System.out.println(url1.getPath());\n} catch (MalformedURLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The above code will produce same result. The URI is useful if there is chance that the path may be relative e.g. <code>/some/path/collections-in-java?error=true</code></p>\n<p>For this case, <code>URI.getPath()</code> will return <code>/some/path/collections-in-java</code> but <code>URL.getPath()</code> will throw <code>MalformedURLException</code>.</p>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73359,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":5565025,"answer_count":7,"score":30,"last_activity_date":1697649706,"creation_date":1302086314,"question_id":5564998,"body_markdown":"I have a URL. How do I retrieve its path part?\r\n\r\nFor example: Given `&quot;http://www.costo.com/test1/test2&quot;`, how do I get `&quot;test1/test2&quot;`?","title":"How to get the path of a URL?","body":"<p>I have a URL. How do I retrieve its path part?</p>\n<p>For example: Given <code>&quot;http://www.costo.com/test1/test2&quot;</code>, how do I get <code>&quot;test1/test2&quot;</code>?</p>\n"},{"tags":["java","fonts","variable-fonts"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685706173,"post_id":76388635,"comment_id":134702134,"body_markdown":"You can pass a [TextAttribute](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/font/TextAttribute.html) to [deriveFont](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Font.html#deriveFont(java.util.Map)).  For example, `Font semiBoldfont = font.deriveFont(Map.of(TextAttribute.WEIGHT, TextAttribute.WEIGHT_SEMIBOLD));`.  Support for uncommon values seems to be lacking for a lot of attributes (perhaps only on some operating systems?).  In theory, any attribute whose documented value type is Number or Integer should support a continuum of values.","body":"You can pass a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/font/TextAttribute.html\" rel=\"nofollow noreferrer\">TextAttribute</a> to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Font.html#deriveFont(java.util.Map)\" rel=\"nofollow noreferrer\">deriveFont</a>.  For example, <code>Font semiBoldfont = font.deriveFont(Map.of(TextAttribute.WEIGHT, TextAttribute.WEIGHT_SEMIBOLD));</code>.  Support for uncommon values seems to be lacking for a lot of attributes (perhaps only on some operating systems?).  In theory, any attribute whose documented value type is Number or Integer should support a continuum of values."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685719597,"post_id":76388635,"comment_id":134705211,"body_markdown":"Is there another term for _variable axes_?  What part of the font does it describe?","body":"Is there another term for <i>variable axes</i>?  What part of the font does it describe?"},{"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"score":0,"creation_date":1685737015,"post_id":76388635,"comment_id":134708443,"body_markdown":"@Reilas Variable fonts can have any axis for any variable the type designer chooses (slant or weight for instance).","body":"@Reilas Variable fonts can have any axis for any variable the type designer chooses (slant or weight for instance)."}],"answers":[{"tags":[],"owner":{"account_id":28042303,"reputation":1,"user_id":21419657,"display_name":"Nithesh Kanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697649497,"creation_date":1697649497,"answer_id":77318418,"question_id":76388635,"body_markdown":"The TrueTypeFont class from the Apache PDFBox library and `java.awt.Font` do not seem to provide direct methods for accessing and modifying the variable axes.\r\n\r\nYou might be able to use a **`TextAttribute`** with the deriveFont method as a workaround. For example, you can create a semi-bold font like this: `Font semiBoldfont = font.deriveFont (Map.of (TextAttribute.WEIGHT, TextAttribute.WEIGHT_SEMIBOLD));`.\r\n\r\nHowever, this might not give you the full control over the variable axes that you’re looking for.","title":"Variable fonts in Java","body":"<p>The TrueTypeFont class from the Apache PDFBox library and <code>java.awt.Font</code> do not seem to provide direct methods for accessing and modifying the variable axes.</p>\n<p>You might be able to use a <strong><code>TextAttribute</code></strong> with the deriveFont method as a workaround. For example, you can create a semi-bold font like this: <code>Font semiBoldfont = font.deriveFont (Map.of (TextAttribute.WEIGHT, TextAttribute.WEIGHT_SEMIBOLD));</code>.</p>\n<p>However, this might not give you the full control over the variable axes that you’re looking for.</p>\n"}],"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697649497,"creation_date":1685696249,"question_id":76388635,"body_markdown":"Is there any existing tool or library in the Java ecosystem that can handle variable fonts and allow me to read and modify their variable axes programmatically (with the aim of rendering the font)?\r\n\r\nI have come across the `TrueTypeFont` class from the Apache PDFBox library, but it does not seem to provide direct methods for accessing and modifying the variable axes. Similarly, `java.awt.Font` offers a `getAvailableAttributes()` method but does not return any variable font axes.","title":"Variable fonts in Java","body":"<p>Is there any existing tool or library in the Java ecosystem that can handle variable fonts and allow me to read and modify their variable axes programmatically (with the aim of rendering the font)?</p>\n<p>I have come across the <code>TrueTypeFont</code> class from the Apache PDFBox library, but it does not seem to provide direct methods for accessing and modifying the variable axes. Similarly, <code>java.awt.Font</code> offers a <code>getAvailableAttributes()</code> method but does not return any variable font axes.</p>\n"},{"tags":["java","object","collections"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1697652611,"post_id":77318340,"comment_id":136308163,"body_markdown":"Well, in this case, either.","body":"Well, in this case, either."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697660428,"post_id":77318340,"comment_id":136309404,"body_markdown":"A “specific use case” is exactly what this Question needed. Without criteria as to goals and judging success, how can we provide an Answer?","body":"A “specific use case” is exactly what this Question needed. Without criteria as to goals and judging success, how can we provide an Answer?"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1697730988,"post_id":77318340,"comment_id":136319484,"body_markdown":"@BasilBourque Maybe just like how @ CalebKeller was perfectly able to provide an answer to the scenario when used under general circumstances? Or maybe you disagree with his answer..?","body":"@BasilBourque Maybe just like how @ CalebKeller was perfectly able to provide an answer to the scenario when used under general circumstances? Or maybe you disagree with his answer..?"}],"answers":[{"tags":[],"owner":{"account_id":19316522,"reputation":608,"user_id":14121186,"display_name":"Caleb Keller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697649223,"creation_date":1697649223,"answer_id":77318381,"question_id":77318340,"body_markdown":"If you can use a HashMap, you absolutely should. Retrieving an item from a HashMap using its key takes a constant amount of time, but iterating through an array takes time proportional to the number of elements in the array. In more technical terms, the lookup using a HashMap is O(1), while the lookup using an ArrayList is O(n).\r\n\r\nWhat that means is the code that uses a HashMap will always be fast, but the code that uses the ArrayList will slow down significantly as you add more elements to it.","title":"Should I use a Map storing the id, or iterate over entries to find an object?","body":"<p>If you can use a HashMap, you absolutely should. Retrieving an item from a HashMap using its key takes a constant amount of time, but iterating through an array takes time proportional to the number of elements in the array. In more technical terms, the lookup using a HashMap is O(1), while the lookup using an ArrayList is O(n).</p>\n<p>What that means is the code that uses a HashMap will always be fast, but the code that uses the ArrayList will slow down significantly as you add more elements to it.</p>\n"}],"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1697659835,"accepted_answer_id":77318381,"answer_count":1,"score":-2,"last_activity_date":1697649223,"creation_date":1697648875,"question_id":77318340,"body_markdown":"I&#39;m wondering which of the following approaches I should use when finding an entry with an id from a collection?\r\n\r\n**Using a map**\r\n\r\n    Map&lt;String, MyObject&gt; map = new HashMap&lt;&gt;();\r\n    \r\n    public MyObject getById(String id) {\r\n      return map.get(id);\r\n    }\r\n\r\n**Using a list/set**\r\n\r\n    List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    public MyObject getObjectById(String id) {\r\n        for (MyObject object : list) {\r\n            if (object.getId().equals(id)) {\r\n                return object;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\nWithout having a specific use case, which would be recommended to use?","title":"Should I use a Map storing the id, or iterate over entries to find an object?","body":"<p>I'm wondering which of the following approaches I should use when finding an entry with an id from a collection?</p>\n<p><strong>Using a map</strong></p>\n<pre><code>Map&lt;String, MyObject&gt; map = new HashMap&lt;&gt;();\n\npublic MyObject getById(String id) {\n  return map.get(id);\n}\n</code></pre>\n<p><strong>Using a list/set</strong></p>\n<pre><code>List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\n\npublic MyObject getObjectById(String id) {\n    for (MyObject object : list) {\n        if (object.getId().equals(id)) {\n            return object;\n        }\n    }\n\n    return null;\n}\n</code></pre>\n<p>Without having a specific use case, which would be recommended to use?</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"score":0,"creation_date":1581417832,"post_id":60166583,"comment_id":106417841,"body_markdown":"If the problem was solved, please consider to accept the answer that helped.","body":"If the problem was solved, please consider to accept the answer that helped."},{"owner":{"account_id":5649339,"reputation":1223,"user_id":4470510,"display_name":"Clarius"},"score":1,"creation_date":1669636102,"post_id":60166583,"comment_id":131679621,"body_markdown":"Maybe consider looking at this answer: https://stackoverflow.com/questions/58447685/spring-security-bcrypt-always-look-for-2a-regex","body":"Maybe consider looking at this answer: <a href=\"https://stackoverflow.com/questions/58447685/spring-security-bcrypt-always-look-for-2a-regex\" title=\"spring security bcrypt always look for 2a regex\">stackoverflow.com/questions/58447685/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690739569,"creation_date":1581417128,"answer_id":60166867,"question_id":60166583,"body_markdown":"Looking at your database entries, it seems like you were using:\r\n\r\n    org.springframework.security.crypto.password.DelegatingPasswordEncoder\r\n \r\nonce and switched back to: \r\n\r\n    org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder\r\n\r\nOnly the `DelegatingPasswordEncoder` is capable of handling passwords encoded with different schemes.\r\n\r\nIf you want to stick with your, currently configured, `BCryptPasswordEncoder`, you need to:\r\n\r\n 1. remove the prefix `{bcrypt}`\r\n 2. Encode the two passwords `test123` for `john` and `susan` with a `BCryptPasswordEncoder`\r\n\r\n\r\n","title":"Spring Security - Encoded Password Does Not Look Like BCrypt","body":"<p>Looking at your database entries, it seems like you were using:</p>\n<pre><code>org.springframework.security.crypto.password.DelegatingPasswordEncoder\n</code></pre>\n<p>once and switched back to:</p>\n<pre><code>org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder\n</code></pre>\n<p>Only the <code>DelegatingPasswordEncoder</code> is capable of handling passwords encoded with different schemes.</p>\n<p>If you want to stick with your, currently configured, <code>BCryptPasswordEncoder</code>, you need to:</p>\n<ol>\n<li>remove the prefix <code>{bcrypt}</code></li>\n<li>Encode the two passwords <code>test123</code> for <code>john</code> and <code>susan</code> with a <code>BCryptPasswordEncoder</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18824091,"reputation":81,"user_id":13729437,"display_name":"fuliya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1594923173,"creation_date":1594921438,"answer_id":62940566,"question_id":60166583,"body_markdown":"I solved my issue by using `BcryptPasswordEncoder` as follow\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\r\n        User user = userRepository.findByuserName(userName);\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(&quot;userName&quot; + userName + &quot;Not found in the database&quot;);\r\n        }\r\n\r\n        return new org.springframework.security.core.userdetails.User(user.getName(), new BCryptPasswordEncoder().encode(user.getPassword()), getGrantedAuth(user));\r\n    }","title":"Spring Security - Encoded Password Does Not Look Like BCrypt","body":"<p>I solved my issue by using <code>BcryptPasswordEncoder</code> as follow</p>\n<pre><code>@Override\npublic UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\n    User user = userRepository.findByuserName(userName);\n    if (user == null) {\n        throw new UsernameNotFoundException(&quot;userName&quot; + userName + &quot;Not found in the database&quot;);\n    }\n\n    return new org.springframework.security.core.userdetails.User(user.getName(), new BCryptPasswordEncoder().encode(user.getPassword()), getGrantedAuth(user));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28050272,"reputation":1,"user_id":21426296,"display_name":"Yousuf Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697648914,"creation_date":1697648914,"answer_id":77318348,"question_id":60166583,"body_markdown":"add below code to **securityconfig.java**\r\nif you **dont want to use Bcryp**t at all\r\nworks like a charm\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n       return NoOpPasswordEncoder.getInstance();\r\n    }\r\n\r\n","title":"Spring Security - Encoded Password Does Not Look Like BCrypt","body":"<p>add below code to <strong>securityconfig.java</strong>\nif you <strong>dont want to use Bcryp</strong>t at all\nworks like a charm</p>\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n   return NoOpPasswordEncoder.getInstance();\n}\n</code></pre>\n"}],"owner":{"account_id":17518154,"reputation":105,"user_id":12704788,"display_name":"Nicholas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60166867,"answer_count":3,"score":1,"last_activity_date":1697648914,"creation_date":1581416250,"question_id":60166583,"body_markdown":"I can&#39;t login with the correct details as the program keeps stating that the encoded password does not look like bcrypt. Does anyone know how to solve this? I&#39;m using JDBC authentication.\r\n\r\nI have the correct database table as well, with enough space for the encoded password. I&#39;m not sure where it&#39;s going wrong.\r\n\r\nJSP FORM:\r\n    &lt;form:form method=&quot;post&quot; modelAttribute=&quot;user&quot;\r\n\t\t\t\t\taction=&quot;${pageContext.request.contextPath}/processLogin&quot;&gt;\r\n\r\n\t\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;form-label-group&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;label for=&quot;inputUser&quot;&gt;Username: &lt;/label&gt; &lt;input name=&quot;username&quot;\r\n\t\t\t\t\t\t\t\ttype=&quot;text&quot; path=&quot;username&quot; id=&quot;inputUser&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\t\t\tplaceholder=&quot;Username&quot; required=&quot;required&quot; autofocus=&quot;autofocus&quot;&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;form-label-group&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;label for=&quot;inputPassword&quot;&gt;Password: &lt;/label&gt; \r\n\t\t\t\t\t\t\t&lt;input name=&quot;username&quot; type=&quot;password&quot; path=&quot;password&quot;\r\n\t\t\t\t\t\t\t\tid=&quot;inputPassword&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot;\r\n\t\t\t\t\t\t\t\trequired=&quot;required&quot;&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;checkbox&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;label&gt; &lt;input type=&quot;checkbox&quot; value=&quot;remember-me&quot;&gt;\r\n\t\t\t\t\t\t\t\tRemember Password\r\n\t\t\t\t\t\t\t&lt;/label&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Login&quot;/&gt;\r\n\t\t\t\t\t\t\r\n\t\t\t\t&lt;/form:form&gt;\r\n\r\nSecurity Config:\r\n\r\n    @Autowired\r\n\tprivate DataSource securityDataSource;\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.jdbcAuthentication().dataSource(securityDataSource).passwordEncoder(passwordEncoder());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\r\n\t\thttp.authorizeRequests().antMatchers(&quot;/management/**&quot;).authenticated().and().formLogin().loginPage(&quot;/login&quot;)\r\n\t\t\t\t.loginProcessingUrl(&quot;/processLogin&quot;).defaultSuccessUrl(&quot;/management/dashboard&quot;).permitAll();\r\n\r\n\t\thttp.exceptionHandling().accessDeniedPage(&quot;/access-denied&quot;);\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\t@Autowired\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\nLogin Controller\r\n\r\n    @Controller\r\n    public class LoginController {\r\n\r\n\t  @Autowired\r\n\t  private UserServiceImpl userService;\r\n\r\n\t\r\n\t  @GetMapping(&quot;/login&quot;)\r\n\t  public String showLoginForm(Model model) {\r\n\r\n\t\tUser user = new User();\r\n\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\r\n\t\treturn &quot;login&quot;;\r\n\t  }\r\n\r\n\t  @PostMapping(&quot;/processLogin&quot;)\r\n\t  public String processLogin(@ModelAttribute(&quot;user&quot;) User user, Model model) {\r\n\r\n\t\tif (userService.findUser(user.getUsername(), user.getPassword()) != null) {\r\n\t\t\treturn &quot;/management/dashboard&quot;;\r\n\t\t} else {\r\n\t\t\treturn &quot;/access-denied&quot;;\r\n\t\t}\r\n      }\r\n\t}\r\n\r\nMy database [![here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ePgZN.png","title":"Spring Security - Encoded Password Does Not Look Like BCrypt","body":"<p>I can't login with the correct details as the program keeps stating that the encoded password does not look like bcrypt. Does anyone know how to solve this? I'm using JDBC authentication.</p>\n<p>I have the correct database table as well, with enough space for the encoded password. I'm not sure where it's going wrong.</p>\n<p>JSP FORM:\n&lt;form:form method=&quot;post&quot; modelAttribute=&quot;user&quot;\naction=&quot;${pageContext.request.contextPath}/processLogin&quot;&gt;</p>\n<pre><code>                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;div class=&quot;form-label-group&quot;&gt;\n                        &lt;label for=&quot;inputUser&quot;&gt;Username: &lt;/label&gt; &lt;input name=&quot;username&quot;\n                            type=&quot;text&quot; path=&quot;username&quot; id=&quot;inputUser&quot; class=&quot;form-control&quot;\n                            placeholder=&quot;Username&quot; required=&quot;required&quot; autofocus=&quot;autofocus&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;div class=&quot;form-label-group&quot;&gt;\n                        &lt;label for=&quot;inputPassword&quot;&gt;Password: &lt;/label&gt; \n                        &lt;input name=&quot;username&quot; type=&quot;password&quot; path=&quot;password&quot;\n                            id=&quot;inputPassword&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot;\n                            required=&quot;required&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;div class=&quot;checkbox&quot;&gt;\n                        &lt;label&gt; &lt;input type=&quot;checkbox&quot; value=&quot;remember-me&quot;&gt;\n                            Remember Password\n                        &lt;/label&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;input type=&quot;submit&quot; value=&quot;Login&quot;/&gt;\n                    \n            &lt;/form:form&gt;\n</code></pre>\n<p>Security Config:</p>\n<pre><code>@Autowired\nprivate DataSource securityDataSource;\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.jdbcAuthentication().dataSource(securityDataSource).passwordEncoder(passwordEncoder());\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    http.authorizeRequests().antMatchers(&quot;/management/**&quot;).authenticated().and().formLogin().loginPage(&quot;/login&quot;)\n            .loginProcessingUrl(&quot;/processLogin&quot;).defaultSuccessUrl(&quot;/management/dashboard&quot;).permitAll();\n\n    http.exceptionHandling().accessDeniedPage(&quot;/access-denied&quot;);\n\n}\n\n@Bean\n@Autowired\npublic BCryptPasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Login Controller</p>\n<pre><code>@Controller\npublic class LoginController {\n\n  @Autowired\n  private UserServiceImpl userService;\n\n\n  @GetMapping(&quot;/login&quot;)\n  public String showLoginForm(Model model) {\n\n    User user = new User();\n    model.addAttribute(&quot;user&quot;, user);\n\n    return &quot;login&quot;;\n  }\n\n  @PostMapping(&quot;/processLogin&quot;)\n  public String processLogin(@ModelAttribute(&quot;user&quot;) User user, Model model) {\n\n    if (userService.findUser(user.getUsername(), user.getPassword()) != null) {\n        return &quot;/management/dashboard&quot;;\n    } else {\n        return &quot;/access-denied&quot;;\n    }\n  }\n}\n</code></pre>\n<p>My database <a href=\"https://i.stack.imgur.com/ePgZN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePgZN.png\" alt=\"here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","controller-advice"],"answers":[{"tags":[],"owner":{"account_id":44259,"reputation":2595,"user_id":129795,"accept_rate":38,"display_name":"Jigar Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697648784,"creation_date":1697648784,"answer_id":77318329,"question_id":77318236,"body_markdown":"found it MappingJackson2HttpMessageConverter() \r\n&gt; MappingJackson2HttpMessageConverter(createObjectMapper()) ","title":"ControllerAdvice response still prints timestamp","body":"<p>found it MappingJackson2HttpMessageConverter()</p>\n<blockquote>\n<p>MappingJackson2HttpMessageConverter(createObjectMapper())</p>\n</blockquote>\n"}],"owner":{"account_id":44259,"reputation":2595,"user_id":129795,"accept_rate":38,"display_name":"Jigar Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697648784,"creation_date":1697647753,"question_id":77318236,"body_markdown":"    @ControllerAdvice\r\n    public class GlobalExceptionHandlerAdvice extends ResponseEntityExceptionHandler {\r\n    \r\n        @Override\r\n        public ResponseEntity&lt;Object&gt; handleServletRequestBindingException(\r\n                ServletRequestBindingException servletRequestBindingException, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n            return ErrorResponse.builder(e, status, errorMessage)\r\n                    .property(&quot;code&quot;, String.valueOf(applicationError.getCode()))\r\n                    .property(&quot;timestamp&quot;, OffsetDateTime.now())\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\nI have added Object mapper as required. Still it prints time stamp. Strange thing is, if I add @ExceptionHandler in Controller (instead of advice), it prints it correctly. \r\n\r\n\r\n    MockMvc mock = MockMvcBuilders.standaloneSetup(myController)\r\n                        .setMessageConverters(new MappingJackson2HttpMessageConverter(createObjectMapper()))\r\n                        .setHandlerExceptionResolvers(createExceptionResolver())\r\n                        .build();\r\n\r\n    private ExceptionHandlerExceptionResolver createExceptionResolver() {\r\n        ExceptionHandlerExceptionResolver exceptionResolver = new ExceptionHandlerExceptionResolver() {\r\n            @Override\r\n            protected ServletInvocableHandlerMethod getExceptionHandlerMethod(HandlerMethod handlerMethod, Exception exception) {\r\n                Method method = new ExceptionHandlerMethodResolver(GlobalExceptionHandlerAdvice .class).resolveMethod(exception);\r\n                return new ServletInvocableHandlerMethod(new GlobalExceptionHandlerAdvice(), method);\r\n            }\r\n        };\r\n        exceptionResolver.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\r\n        exceptionResolver.afterPropertiesSet();\r\n        return exceptionResolver;\r\n    }\r\n\r\n    public ObjectMapper createObjectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        objectMapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\r\n        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n        objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        return objectMapper;\r\n    }\r\n\r\n","title":"ControllerAdvice response still prints timestamp","body":"<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandlerAdvice extends ResponseEntityExceptionHandler {\n\n    @Override\n    public ResponseEntity&lt;Object&gt; handleServletRequestBindingException(\n            ServletRequestBindingException servletRequestBindingException, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        return ErrorResponse.builder(e, status, errorMessage)\n                .property(&quot;code&quot;, String.valueOf(applicationError.getCode()))\n                .property(&quot;timestamp&quot;, OffsetDateTime.now())\n                .build();\n    }\n}\n</code></pre>\n<p>I have added Object mapper as required. Still it prints time stamp. Strange thing is, if I add @ExceptionHandler in Controller (instead of advice), it prints it correctly.</p>\n<pre><code>MockMvc mock = MockMvcBuilders.standaloneSetup(myController)\n                    .setMessageConverters(new MappingJackson2HttpMessageConverter(createObjectMapper()))\n                    .setHandlerExceptionResolvers(createExceptionResolver())\n                    .build();\n\nprivate ExceptionHandlerExceptionResolver createExceptionResolver() {\n    ExceptionHandlerExceptionResolver exceptionResolver = new ExceptionHandlerExceptionResolver() {\n        @Override\n        protected ServletInvocableHandlerMethod getExceptionHandlerMethod(HandlerMethod handlerMethod, Exception exception) {\n            Method method = new ExceptionHandlerMethodResolver(GlobalExceptionHandlerAdvice .class).resolveMethod(exception);\n            return new ServletInvocableHandlerMethod(new GlobalExceptionHandlerAdvice(), method);\n        }\n    };\n    exceptionResolver.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\n    exceptionResolver.afterPropertiesSet();\n    return exceptionResolver;\n}\n\npublic ObjectMapper createObjectMapper() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new JavaTimeModule());\n    objectMapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\n    objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n    objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n    return objectMapper;\n}\n</code></pre>\n"},{"tags":["java","hadoop"],"answers":[{"tags":[],"owner":{"account_id":2604950,"reputation":710,"user_id":2256298,"accept_rate":50,"display_name":"frankli22586"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601027277,"creation_date":1438571127,"answer_id":31778855,"question_id":29357751,"body_markdown":"```\r\n&lt;property&gt;\r\n&lt;name&gt;dfs.client.failover.proxy.provider.**your-cluster-name**&lt;/name&gt;\r\n&lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&lt;/value&gt;\r\n&lt;/property&gt;\r\n```\r\n\r\nThis should be your cluster name, I guess it is also case-sensitive.\r\n","title":"Couldn&#39;t create proxy provider class org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider","body":"<pre><code>&lt;property&gt;\n&lt;name&gt;dfs.client.failover.proxy.provider.**your-cluster-name**&lt;/name&gt;\n&lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n<p>This should be your cluster name, I guess it is also case-sensitive.</p>\n"}],"owner":{"account_id":4621695,"reputation":1891,"user_id":3746601,"accept_rate":67,"display_name":"Abhi.G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13075,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697648740,"creation_date":1427756120,"question_id":29357751,"body_markdown":"I am trying to read to check if a file exists on HDFS. I am using eclipse IDE and have all the required hadoop jars and hadoop configuration in class path. When i execute the program i see the below exception.\r\n\r\n ```\r\n\r\n     Configuration conf = new Configuration(true);\r\n    \t\t conf.addResource(new File(&quot;core-site.xml&quot;).toURI().toURL());\r\n    \t\t conf.addResource(new File(&quot;hdfs-site.xml&quot;).toURI().toURL());\r\n    \t\t conf.addResource(new File(&quot;mapred-site.xml&quot;).toURI().toURL());\r\n    \t\t FileSystem hdfs = FileSystem.get(conf);\r\n    \t\t boolean isExists = hdfs.exists(source);\r\n```\r\n\r\nException:\r\n```\r\njava.io.IOException: Couldn&#39;t create proxy provider class org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider\r\n\tat org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider.&lt;init&gt;(ConfiguredFailoverProxyProvider.java:93)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n```\r\n\r\nCan anyone help me fix this issue?","title":"Couldn&#39;t create proxy provider class org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider","body":"<p>I am trying to read to check if a file exists on HDFS. I am using eclipse IDE and have all the required hadoop jars and hadoop configuration in class path. When i execute the program i see the below exception.</p>\n<pre><code>\n    Configuration conf = new Configuration(true);\n            conf.addResource(new File(&quot;core-site.xml&quot;).toURI().toURL());\n            conf.addResource(new File(&quot;hdfs-site.xml&quot;).toURI().toURL());\n            conf.addResource(new File(&quot;mapred-site.xml&quot;).toURI().toURL());\n            FileSystem hdfs = FileSystem.get(conf);\n            boolean isExists = hdfs.exists(source);\n</code></pre>\n<p>Exception:</p>\n<pre><code>java.io.IOException: Couldn't create proxy provider class org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider\n    at org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider.&lt;init&gt;(ConfiguredFailoverProxyProvider.java:93)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n</code></pre>\n<p>Can anyone help me fix this issue?</p>\n"},{"tags":["java","spring-webflux","reactive-programming"],"owner":{"account_id":23410034,"reputation":1,"user_id":17471887,"display_name":"Калачев Артем"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697648366,"creation_date":1697648366,"question_id":77318289,"body_markdown":"My code looks like this:\r\n\r\n```\r\npublic Mono&lt;Item&gt; calculate (Item item) {\r\n        return Mono.zipDelayError(\r\n                        callSystemOne(),\r\n                        callSystemTwo()\r\n                .onErrorMap(err -&gt; err.getSuppressed().length &gt; 0 ?\r\n                        wrapError() :\r\n                        err)\r\n                .flatMap(a -&gt; callSystemThreeAndRemap()\r\n                .map(this::fillSomeFields);\r\n    }\r\n```\r\n\r\nAll calls to other systems looks the same\r\n\r\n```\r\n\tpublic Mono&lt;String&gt; callSystemOne() {\r\n        return apiClient.makeCall()\r\n                .flatMap(r -&gt; isError(r.getMeta()) ?\r\n                        Mono.error(() -&gt; {                            \r\n                            return wrappedError()})  :\r\n                        Mono.just(r))\r\n                .flatMap(service::validateResponse)\r\n                .onErrorMap(remapToRequiredException);\r\n    }\r\n```\r\n\r\nIt works as intended. However, even under a small load, 1 RPS for example, callSystemTwo() might never happen.\r\ncallSystemOne() always works correctly; I see logs of its request and expected response.\r\nOn the other hand, for callSystemTwo(), sometimes I can&#39;t even see the initial apiClient.makeCall() request log. It looks like this function is skipped completely.\r\nPerhaps, my program keeps waiting  forever until a retry happens.\r\n\r\nI have retries configured on the Ingress side, and after a retry, all works fine. All three systems are called.  \r\nIngress is not the problem, without it behavior is the same.\r\nSystemTwo might not respond from time to time, but it does not explain, why i dont even have a request log.\r\n\r\nI&#39;m new to reactive programming, so any explanations why this might happen are much appreciated.","title":"Spring WebFlux functions stop executing if system is loaded","body":"<p>My code looks like this:</p>\n<pre><code>public Mono&lt;Item&gt; calculate (Item item) {\n        return Mono.zipDelayError(\n                        callSystemOne(),\n                        callSystemTwo()\n                .onErrorMap(err -&gt; err.getSuppressed().length &gt; 0 ?\n                        wrapError() :\n                        err)\n                .flatMap(a -&gt; callSystemThreeAndRemap()\n                .map(this::fillSomeFields);\n    }\n</code></pre>\n<p>All calls to other systems looks the same</p>\n<pre><code>    public Mono&lt;String&gt; callSystemOne() {\n        return apiClient.makeCall()\n                .flatMap(r -&gt; isError(r.getMeta()) ?\n                        Mono.error(() -&gt; {                            \n                            return wrappedError()})  :\n                        Mono.just(r))\n                .flatMap(service::validateResponse)\n                .onErrorMap(remapToRequiredException);\n    }\n</code></pre>\n<p>It works as intended. However, even under a small load, 1 RPS for example, callSystemTwo() might never happen.\ncallSystemOne() always works correctly; I see logs of its request and expected response.\nOn the other hand, for callSystemTwo(), sometimes I can't even see the initial apiClient.makeCall() request log. It looks like this function is skipped completely.\nPerhaps, my program keeps waiting  forever until a retry happens.</p>\n<p>I have retries configured on the Ingress side, and after a retry, all works fine. All three systems are called.<br />\nIngress is not the problem, without it behavior is the same.\nSystemTwo might not respond from time to time, but it does not explain, why i dont even have a request log.</p>\n<p>I'm new to reactive programming, so any explanations why this might happen are much appreciated.</p>\n"},{"tags":["java","android","sdk","ioexception"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697765129,"post_id":77318226,"comment_id":136324008,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1697766504,"post_id":77318226,"comment_id":136324119,"body_markdown":"this could be related to a time limit on the file server - it just kicks you out if the download traffic stalls e.g. due a bad connection","body":"this could be related to a time limit on the file server - it just kicks you out if the download traffic stalls e.g. due a bad connection"}],"owner":{"account_id":29699959,"reputation":1,"user_id":22762354,"display_name":"Arijit Bhattacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697647660,"creation_date":1697647660,"question_id":77318226,"body_markdown":"Downloading https://dl.google.com/android/repository/sources-34_r01.zip\r\njava.io.IOException: Connection closed at byte 2359280. Expected 53812451 bytes.\r\nWarning: An error occurred while preparing SDK package Sources for Android 34: Connection closed at byte 2359280. Expected 53812451 bytes..\r\n&quot;Install Sources for Android 34 (revision 1)&quot; failed.\r\n\r\nwhy this is happening ?\r\n\r\nmy firewall is off.\r\n\r\n\r\nplease provide me a clear solution because i re run this download ,it is not working.\r\ni change sdk location still not working. off the firewall still not working.\r\n","title":"Warning: An error occurred while preparing SDK package Sources for Android 34: Connection closed at byte 2359280. Expected 53812451 bytes","body":"<p>Downloading <a href=\"https://dl.google.com/android/repository/sources-34_r01.zip\" rel=\"nofollow noreferrer\">https://dl.google.com/android/repository/sources-34_r01.zip</a>\njava.io.IOException: Connection closed at byte 2359280. Expected 53812451 bytes.\nWarning: An error occurred while preparing SDK package Sources for Android 34: Connection closed at byte 2359280. Expected 53812451 bytes..\n&quot;Install Sources for Android 34 (revision 1)&quot; failed.</p>\n<p>why this is happening ?</p>\n<p>my firewall is off.</p>\n<p>please provide me a clear solution because i re run this download ,it is not working.\ni change sdk location still not working. off the firewall still not working.</p>\n"},{"tags":["java","arrays","integer","double","java.util.scanner"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":2,"creation_date":1697124148,"post_id":77281896,"comment_id":136243115,"body_markdown":"`cost += faceMask;`","body":"<code>cost += faceMask;</code>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1697124903,"post_id":77281896,"comment_id":136243268,"body_markdown":"*&quot;Since I can&#39;t add a new constant&quot;* - you don&#39;t have to. Just use `cost = cost + whatever`","body":"<i>&quot;Since I can&#39;t add a new constant&quot;</i> - you don&#39;t have to. Just use <code>cost = cost + whatever</code>"}],"answers":[{"tags":[],"owner":{"account_id":28957273,"reputation":11,"user_id":22180563,"display_name":"Yash Kolte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697124982,"creation_date":1697124982,"answer_id":77282010,"question_id":77281896,"body_markdown":"Since you can&#39;t add a new variable to the code, we can just add the values of treatments to the actual cost. Since it is a &#39;Switch Case&#39; statement, unless we need to repeat this process again, the value of the selected Treatment will be added to cost which is 0. \r\n\r\n    import java.util.Scanner;\r\n    public class SpaReception{\r\n      public static void main(String[] args) {\r\n        double cost = 0;\r\n        int treatment = 0;\r\n    \r\n        final double faceMask = 600.00;\r\n        final double footMassage = 300.00;\r\n        final double fullBodyMassage = 1500.00;\r\n    \r\n        Scanner input = new Scanner(System.in);  //create scanner for input\r\n        System.out.println(&quot;Type in which treatment you&#39;ve gotten &quot;);\r\n        System.out.println(&quot;Face mask: 1&quot;);\r\n        System.out.println(&quot;Foot massage: 2&quot;);\r\n        System.out.println(&quot;Full body massage: 3&quot;);\r\n        System.out.println(&quot;Cancel: -1&quot;);\r\n        treatment = input.nextInt();\r\n    \r\n        switch (treatment) {\r\n          case 1: \r\n    \t  cost += faceMask;\r\n            break;\r\n          case 2:\r\n    \t  cost += footMassage;\r\n            break;\r\n          case 3:\r\n            cost += fullBodyMassage;\r\n            break;\r\n          case 4:\r\n            break;\r\n        }\r\n    \r\n        System.out.println(&quot;The cost is: &quot;+cost);\r\n      }\r\n    }\r\n\r\nThis is what i think will solve the issue of not adding another variable and still getting a calculation for the Menu. I hope this is what you need and helps.\r\n\r\nP.S: The Variable &#39;treatment&#39; is mentioned differently in either Switch Case or at the time of Declaration.\r\n\r\n","title":"How do I add to the value of an integrer?","body":"<p>Since you can't add a new variable to the code, we can just add the values of treatments to the actual cost. Since it is a 'Switch Case' statement, unless we need to repeat this process again, the value of the selected Treatment will be added to cost which is 0.</p>\n<pre><code>import java.util.Scanner;\npublic class SpaReception{\n  public static void main(String[] args) {\n    double cost = 0;\n    int treatment = 0;\n\n    final double faceMask = 600.00;\n    final double footMassage = 300.00;\n    final double fullBodyMassage = 1500.00;\n\n    Scanner input = new Scanner(System.in);  //create scanner for input\n    System.out.println(&quot;Type in which treatment you've gotten &quot;);\n    System.out.println(&quot;Face mask: 1&quot;);\n    System.out.println(&quot;Foot massage: 2&quot;);\n    System.out.println(&quot;Full body massage: 3&quot;);\n    System.out.println(&quot;Cancel: -1&quot;);\n    treatment = input.nextInt();\n\n    switch (treatment) {\n      case 1: \n      cost += faceMask;\n        break;\n      case 2:\n      cost += footMassage;\n        break;\n      case 3:\n        cost += fullBodyMassage;\n        break;\n      case 4:\n        break;\n    }\n\n    System.out.println(&quot;The cost is: &quot;+cost);\n  }\n}\n</code></pre>\n<p>This is what i think will solve the issue of not adding another variable and still getting a calculation for the Menu. I hope this is what you need and helps.</p>\n<p>P.S: The Variable 'treatment' is mentioned differently in either Switch Case or at the time of Declaration.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697132393,"creation_date":1697132393,"answer_id":77282765,"question_id":77281896,"body_markdown":"Check for multiple inputs.\r\n\r\nHere is an example.\r\n\r\n```java\r\ndouble cost = 0;\r\nint treatment = 0;\r\n\r\nfinal double faceMask = 600.00;\r\nfinal double footMassage = 300.00;\r\nfinal double fullBodyMassage = 1500.00;\r\n\r\nScanner input = new Scanner(System.in);  //create scanner for input\r\nSystem.out.println(&quot;Type in which treatment you&#39;ve gotten &quot;);\r\nSystem.out.println(&quot;Face mask: 1&quot;);\r\nSystem.out.println(&quot;Foot massage: 2&quot;);\r\nSystem.out.println(&quot;Full body massage: 3&quot;);\r\n\r\ninput = new Scanner(input.nextLine());\r\nfor (String s : input.tokens().toArray(String[]::new))\r\n    switch (s) {\r\n        case &quot;1&quot; -&gt; cost += faceMask;\r\n        case &quot;2&quot; -&gt; cost += footMassage;\r\n        case &quot;3&quot; -&gt; cost += fullBodyMassage;\r\n    }\r\n\r\nSystem.out.println(&quot;The cost is: &quot;+cost);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nType in which treatment you&#39;ve gotten \r\nFace mask: 1\r\nFoot massage: 2\r\nFull body massage: 3\r\n1 2 3\r\nThe cost is: 2400.0\r\n```","title":"How do I add to the value of an integrer?","body":"<p>Check for multiple inputs.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double cost = 0;\nint treatment = 0;\n\nfinal double faceMask = 600.00;\nfinal double footMassage = 300.00;\nfinal double fullBodyMassage = 1500.00;\n\nScanner input = new Scanner(System.in);  //create scanner for input\nSystem.out.println(&quot;Type in which treatment you've gotten &quot;);\nSystem.out.println(&quot;Face mask: 1&quot;);\nSystem.out.println(&quot;Foot massage: 2&quot;);\nSystem.out.println(&quot;Full body massage: 3&quot;);\n\ninput = new Scanner(input.nextLine());\nfor (String s : input.tokens().toArray(String[]::new))\n    switch (s) {\n        case &quot;1&quot; -&gt; cost += faceMask;\n        case &quot;2&quot; -&gt; cost += footMassage;\n        case &quot;3&quot; -&gt; cost += fullBodyMassage;\n    }\n\nSystem.out.println(&quot;The cost is: &quot;+cost);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Type in which treatment you've gotten \nFace mask: 1\nFoot massage: 2\nFull body massage: 3\n1 2 3\nThe cost is: 2400.0\n</code></pre>\n"}],"owner":{"account_id":19900182,"reputation":1,"user_id":14580353,"display_name":"quasireal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1697647358,"creation_date":1697123976,"question_id":77281896,"body_markdown":"For a school assignment in Java, we&#39;re pretending to code the meny at a Spa Reception where the customer is supposed to add which treatments they&#39;ve chosen and it&#39;s supposed to be added to the total cost. We&#39;re given a base of code (I&#39;ve written the switch statement). We&#39;re supposed to use the literals declared in the code when calculating the cost. I&#39;m having trouble figuring out how to add the value of a treatment to the total cost (see the ** parts in bold). I&#39;ve been trying to figure out a way to add the value to the cost but I just can&#39;t seem to figure it out...\r\n\r\nHere&#39;s the code so far:\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class SpaReception{\r\n  public static void main(String[] args) {\r\n    double cost = 0;\r\n    int treatment = 0;\r\n\r\n    final double faceMask = 600.00;\r\n    final double footMassage = 300.00;\r\n    final double fullBodyMassage = 1500.00;\r\n\r\n    Scanner input = new Scanner(System.in);  //create scanner for input\r\n    System.out.println(&quot;Type in which treatment you&#39;ve gotten &quot;);\r\n    System.out.println(&quot;Face mask: 1&quot;);\r\n    System.out.println(&quot;Foot massage: 2&quot;);\r\n    System.out.println(&quot;Full body massage: 3&quot;);\r\n    System.out.println(&quot;Cancel: -1&quot;);\r\n    treatment = input.nextInt();\r\n\r\n    switch (treatments) {\r\n      case 1: \r\n        ***add the value of faceMask to cost***\r\n        break;\r\n      case 2:\r\n       ***add the value of footMassage to cost***\r\n        break;\r\n      case 3:\r\n        ***add the value of fullBodyMassage to cost***\r\n        break;\r\n      case 4:\r\n        break;\r\n    }\r\n\r\n    System.out.println(&quot;The cost is: &quot;+cost);\r\n  }\r\n}\r\n```\r\n\r\nSince I can&#39;t add a new constant (say &quot;sumOne = sum + faceMask&quot;) and work it out that way, I&#39;m really lost as to what to do and how to add to the value of cost.","title":"How do I add to the value of an integrer?","body":"<p>For a school assignment in Java, we're pretending to code the meny at a Spa Reception where the customer is supposed to add which treatments they've chosen and it's supposed to be added to the total cost. We're given a base of code (I've written the switch statement). We're supposed to use the literals declared in the code when calculating the cost. I'm having trouble figuring out how to add the value of a treatment to the total cost (see the ** parts in bold). I've been trying to figure out a way to add the value to the cost but I just can't seem to figure it out...</p>\n<p>Here's the code so far:</p>\n<pre><code>import java.util.Scanner;\npublic class SpaReception{\n  public static void main(String[] args) {\n    double cost = 0;\n    int treatment = 0;\n\n    final double faceMask = 600.00;\n    final double footMassage = 300.00;\n    final double fullBodyMassage = 1500.00;\n\n    Scanner input = new Scanner(System.in);  //create scanner for input\n    System.out.println(&quot;Type in which treatment you've gotten &quot;);\n    System.out.println(&quot;Face mask: 1&quot;);\n    System.out.println(&quot;Foot massage: 2&quot;);\n    System.out.println(&quot;Full body massage: 3&quot;);\n    System.out.println(&quot;Cancel: -1&quot;);\n    treatment = input.nextInt();\n\n    switch (treatments) {\n      case 1: \n        ***add the value of faceMask to cost***\n        break;\n      case 2:\n       ***add the value of footMassage to cost***\n        break;\n      case 3:\n        ***add the value of fullBodyMassage to cost***\n        break;\n      case 4:\n        break;\n    }\n\n    System.out.println(&quot;The cost is: &quot;+cost);\n  }\n}\n</code></pre>\n<p>Since I can't add a new constant (say &quot;sumOne = sum + faceMask&quot;) and work it out that way, I'm really lost as to what to do and how to add to the value of cost.</p>\n"},{"tags":["java","ssl","jms","activemq","jks"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1243265357,"post_id":906402,"comment_id":714856,"body_markdown":"You actually have to write a bit of code to do this, and the details depend on the format of the private key you are trying to import. What format is your key? Can you explain what tools you used to generate the key and certificate that you have?","body":"You actually have to write a bit of code to do this, and the details depend on the format of the private key you are trying to import. What format is your key? Can you explain what tools you used to generate the key and certificate that you have?"},{"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1576222164,"post_id":906402,"comment_id":104836551,"body_markdown":"For two-way SSL (client and server certificate) with Spring Boot see https://stackoverflow.com/a/59317888/548473","body":"For two-way SSL (client and server certificate) with Spring Boot see <a href=\"https://stackoverflow.com/a/59317888/548473\">stackoverflow.com/a/59317888/548473</a>"}],"answers":[{"tags":[],"owner":{"account_id":6738,"reputation":6015,"user_id":11457,"display_name":"Matej"},"down_vote_count":7,"up_vote_count":93,"is_accepted":true,"score":86,"last_activity_date":1600765575,"creation_date":1243273322,"answer_id":907515,"question_id":906402,"body_markdown":"Believe or not, keytool does not provide such basic functionality like importing private key to keystore. You can try this [workaround][1] with merging PKSC12 file with private key to a keystore:\r\n\r\n```\r\nkeytool -importkeystore \\\r\n  -deststorepass storepassword \\\r\n  -destkeypass keypassword \\\r\n  -destkeystore my-keystore.jks \\\r\n  -srckeystore cert-and-key.p12 \\\r\n  -srcstoretype PKCS12 \\\r\n  -srcstorepass p12password \\\r\n  -alias 1\r\n```\r\n\r\nOr just use more user-friendly [KeyMan][2] from IBM for keystore handling instead of keytool. \r\n\r\n  [1]: http://web.archive.org/web/20190426215445/http://cunning.sharp.fm/2008/06/importing_private_keys_into_a.html\r\n  [2]: https://www.ibm.com/developerworks/mydeveloperworks/groups/service/html/communityview?communityUuid=6fb00498-f6ea-4f65-bf0c-adc5bd0c5fcc","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>Believe or not, keytool does not provide such basic functionality like importing private key to keystore. You can try this <a href=\"http://web.archive.org/web/20190426215445/http://cunning.sharp.fm/2008/06/importing_private_keys_into_a.html\" rel=\"noreferrer\">workaround</a> with merging PKSC12 file with private key to a keystore:</p>\n<pre><code>keytool -importkeystore \\\n  -deststorepass storepassword \\\n  -destkeypass keypassword \\\n  -destkeystore my-keystore.jks \\\n  -srckeystore cert-and-key.p12 \\\n  -srcstoretype PKCS12 \\\n  -srcstorepass p12password \\\n  -alias 1\n</code></pre>\n<p>Or just use more user-friendly <a href=\"https://www.ibm.com/developerworks/mydeveloperworks/groups/service/html/communityview?communityUuid=6fb00498-f6ea-4f65-bf0c-adc5bd0c5fcc\" rel=\"noreferrer\">KeyMan</a> from IBM for keystore handling instead of keytool.</p>\n"},{"tags":[],"owner":{"account_id":7255,"reputation":3109,"user_id":12537,"display_name":"Aleksandar Ivanisevic"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1473477977,"creation_date":1243322396,"answer_id":909345,"question_id":906402,"body_markdown":"Yes, it&#39;s indeed a sad fact that keytool has no functionality to import a private key.\r\n\r\nFor the record, at the end I went with the solution described [here][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20160106102307/http://www.agentbob.info/agentbob/79-AB.html","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>Yes, it's indeed a sad fact that keytool has no functionality to import a private key.</p>\n\n<p>For the record, at the end I went with the solution described <a href=\"https://web.archive.org/web/20160106102307/http://www.agentbob.info/agentbob/79-AB.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":25078,"reputation":7371,"user_id":64217,"accept_rate":75,"display_name":"OtherDevOpsGene"},"down_vote_count":3,"up_vote_count":146,"is_accepted":false,"score":143,"last_activity_date":1697647153,"creation_date":1264526775,"answer_id":2141229,"question_id":906402,"body_markdown":"`Keytool` in Java 6 does have this capability: [Importing private keys into a Java keystore using keytool][1]\r\n\r\nHere are the basic details from that post.\r\n\r\n 1. Convert the existing cert to a PKCS12 using `OpenSSL`. A password is required when asked or the 2nd step will complain.\r\n\r\n``` lang-bash\r\nopenssl pkcs12 -export -in [my_certificate.crt] -inkey [my_key.key] \\\r\n  -out [keystore.p12] -name [new_alias] -CAfile [my_ca_bundle.crt] \\\r\n  -caname root\r\n```\r\n 2. Convert the PKCS12 to a Java Keystore File.\r\n``` lang-bash\r\nkeytool -importkeystore -deststorepass [new_keystore_pass] \\\r\n  -destkeypass [new_key_pass] -destkeystore [keystore.jks] \\\r\n  -srckeystore [keystore.p12] -srcstoretype PKCS12 \\\r\n  -srcstorepass [pass_used_in_p12_keystore] \\\r\n  -alias [alias_used_in_p12_keystore]\r\n```\r\n\r\n[1]: http://cunning.sharp.fm/2008/06/importing_private_keys_into_a.html\r\n","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p><code>Keytool</code> in Java 6 does have this capability: <a href=\"http://cunning.sharp.fm/2008/06/importing_private_keys_into_a.html\" rel=\"nofollow noreferrer\">Importing private keys into a Java keystore using keytool</a></p>\n<p>Here are the basic details from that post.</p>\n<ol>\n<li>Convert the existing cert to a PKCS12 using <code>OpenSSL</code>. A password is required when asked or the 2nd step will complain.</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>openssl pkcs12 -export -in [my_certificate.crt] -inkey [my_key.key] \\\n  -out [keystore.p12] -name [new_alias] -CAfile [my_ca_bundle.crt] \\\n  -caname root\n</code></pre>\n<ol start=\"2\">\n<li>Convert the PKCS12 to a Java Keystore File.</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -importkeystore -deststorepass [new_keystore_pass] \\\n  -destkeypass [new_key_pass] -destkeystore [keystore.jks] \\\n  -srckeystore [keystore.p12] -srcstoretype PKCS12 \\\n  -srcstorepass [pass_used_in_p12_keystore] \\\n  -alias [alias_used_in_p12_keystore]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35944,"reputation":16419,"user_id":102200,"accept_rate":87,"display_name":"reto"},"down_vote_count":0,"up_vote_count":619,"is_accepted":false,"score":619,"last_activity_date":1671872017,"creation_date":1321955536,"answer_id":8224863,"question_id":906402,"body_markdown":"I used the following two steps which I found in the comments/posts linked in the other answers:\r\n\r\n\r\n**Step one: Convert the x.509 cert and key to a pkcs12 file**\r\n\r\n    openssl pkcs12 -export -in server.crt -inkey server.key \\\r\n                   -out server.p12 -name [some-alias] \\\r\n                   -CAfile ca.crt -caname root\r\n\r\n**Note:** Make sure you put a password on the pkcs12 file - otherwise you&#39;ll get a null pointer exception when you try to import it. (In case anyone else had this headache). (**Thanks  jocull!**)\r\n\r\n**Note 2:** You might want to add the `-chain` option to preserve the full certificate chain. (**Thanks Mafuba**)\r\n\r\n**Step two: Convert the pkcs12 file to a Java keystore**\r\n\r\n    keytool -importkeystore \\\r\n            -deststorepass [changeit] -destkeypass [changeit] -destkeystore server.keystore \\\r\n            -srckeystore server.p12 -srcstoretype PKCS12 -srcstorepass some-password \\\r\n            -alias [some-alias]\r\n\r\n**Finished**\r\n\r\n**OPTIONAL Step zero: Create self-signed certificate**\r\n\r\n    openssl genrsa -out server.key 2048\r\n    openssl req -new -out server.csr -key server.key\r\n    openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt\r\n\r\n**FAQ: I get error `IOException: keystore password was incorrect`**\r\n\r\nIf you are using OpenSSL 3.0 and a JDK newer than Java8u302 and get the following error:\r\n\r\n```\r\nkeytool error: java.io.IOException: keystore password was incorrect\r\n```\r\n\r\nYou might caught in a change pf default cypher within openssl. [This Stack Overflow Answer][1] provides an answer. Maybe thank Thomas with an upvote.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72501767/102200","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>I used the following two steps which I found in the comments/posts linked in the other answers:</p>\n<p><strong>Step one: Convert the x.509 cert and key to a pkcs12 file</strong></p>\n<pre><code>openssl pkcs12 -export -in server.crt -inkey server.key \\\n               -out server.p12 -name [some-alias] \\\n               -CAfile ca.crt -caname root\n</code></pre>\n<p><strong>Note:</strong> Make sure you put a password on the pkcs12 file - otherwise you'll get a null pointer exception when you try to import it. (In case anyone else had this headache). (<strong>Thanks  jocull!</strong>)</p>\n<p><strong>Note 2:</strong> You might want to add the <code>-chain</code> option to preserve the full certificate chain. (<strong>Thanks Mafuba</strong>)</p>\n<p><strong>Step two: Convert the pkcs12 file to a Java keystore</strong></p>\n<pre><code>keytool -importkeystore \\\n        -deststorepass [changeit] -destkeypass [changeit] -destkeystore server.keystore \\\n        -srckeystore server.p12 -srcstoretype PKCS12 -srcstorepass some-password \\\n        -alias [some-alias]\n</code></pre>\n<p><strong>Finished</strong></p>\n<p><strong>OPTIONAL Step zero: Create self-signed certificate</strong></p>\n<pre><code>openssl genrsa -out server.key 2048\nopenssl req -new -out server.csr -key server.key\nopenssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt\n</code></pre>\n<p><strong>FAQ: I get error <code>IOException: keystore password was incorrect</code></strong></p>\n<p>If you are using OpenSSL 3.0 and a JDK newer than Java8u302 and get the following error:</p>\n<pre><code>keytool error: java.io.IOException: keystore password was incorrect\n</code></pre>\n<p>You might caught in a change pf default cypher within openssl. <a href=\"https://stackoverflow.com/a/72501767/102200\">This Stack Overflow Answer</a> provides an answer. Maybe thank Thomas with an upvote.</p>\n"},{"tags":[],"owner":{"account_id":4631559,"reputation":707,"user_id":3753943,"display_name":"Interkot"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1463577446,"creation_date":1409847481,"answer_id":25670408,"question_id":906402,"body_markdown":"In my case I had a pem file which contained two certificates and an encrypted private key to be used in mutual SSL authentication.\r\nSo my pem file looked like this:\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    ...\r\n    -----END CERTIFICATE-----\r\n    -----BEGIN RSA PRIVATE KEY-----\r\n    Proc-Type: 4,ENCRYPTED\r\n    DEK-Info: DES-EDE3-CBC,C8BF220FC76AA5F9\r\n    ...\r\n    -----END RSA PRIVATE KEY-----\r\n    -----BEGIN CERTIFICATE-----\r\n    ...\r\n    -----END CERTIFICATE-----\r\n\r\nHere is what I did:\r\n\r\nSplit the file into three separate files, so that each one contains just one entry, \r\nstarting with &quot;---BEGIN..&quot; and ending with &quot;---END..&quot; lines. Lets assume we now have three files: cert1.pem cert2.pem and pkey.pem\r\n\r\n\r\n Convert pkey.pem into DER format using openssl and the following syntax:\r\n\r\n`openssl pkcs8 -topk8 -nocrypt -in pkey.pem -inform PEM -out pkey.der -outform DER`\r\n\r\nNote, that if the private key is encrypted you need to supply a password( obtain it from the supplier of the original pem file )\r\nto convert to DER format, \r\nopenssl will ask you for the password like this: &quot;enter a pass phraze for pkey.pem: &quot;\r\nIf conversion is successful, you will get a new file called &quot;pkey.der&quot;\r\n\r\n\r\nCreate a new java key store and import the private key and the certificates:\r\n\r\n    String keypass = &quot;password&quot;;  // this is a new password, you need to come up with to protect your java key store file\r\n    String defaultalias = &quot;importkey&quot;;\r\n    KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;, &quot;SUN&quot;);\r\n\r\n    // this section does not make much sense to me, \r\n    // but I will leave it intact as this is how it was in the original example I found on internet:   \r\n    ks.load( null, keypass.toCharArray());\r\n    ks.store( new FileOutputStream ( &quot;mykeystore&quot;  ), keypass.toCharArray());\r\n    ks.load( new FileInputStream ( &quot;mykeystore&quot; ),    keypass.toCharArray());\r\n    // end of section..\r\n   \r\n   \r\n    // read the key file from disk and create a PrivateKey\r\n      \r\n    FileInputStream fis = new FileInputStream(&quot;pkey.der&quot;);\r\n    DataInputStream dis = new DataInputStream(fis);\r\n    byte[] bytes = new byte[dis.available()];\r\n    dis.readFully(bytes);\r\n    ByteArrayInputStream bais = new ByteArrayInputStream(bytes);\r\n   \r\n    byte[] key = new byte[bais.available()];\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    bais.read(key, 0, bais.available());\r\n    bais.close();\r\n   \r\n    PKCS8EncodedKeySpec keysp = new PKCS8EncodedKeySpec ( key );\r\n    PrivateKey ff = kf.generatePrivate (keysp);\r\n\r\n\r\n    // read the certificates from the files and load them into the key store:\r\n   \r\n    Collection  col_crt1 = CertificateFactory.getInstance(&quot;X509&quot;).generateCertificates(new FileInputStream(&quot;cert1.pem&quot;));\r\n    Collection  col_crt2 = CertificateFactory.getInstance(&quot;X509&quot;).generateCertificates(new FileInputStream(&quot;cert2.pem&quot;));\r\n\r\n    Certificate crt1 = (Certificate) col_crt1.iterator().next();\r\n    Certificate crt2 = (Certificate) col_crt2.iterator().next();\r\n    Certificate[] chain = new Certificate[] { crt1, crt2 };\r\n\r\n    String alias1 = ((X509Certificate) crt1).getSubjectX500Principal().getName();\r\n    String alias2 = ((X509Certificate) crt2).getSubjectX500Principal().getName();\r\n\r\n    ks.setCertificateEntry(alias1, crt1);\r\n    ks.setCertificateEntry(alias2, crt2);\r\n\r\n    // store the private key\r\n    ks.setKeyEntry(defaultalias, ff, keypass.toCharArray(), chain );\r\n   \t\t\r\n    // save the key store to a file   \t\t\r\n    ks.store(new FileOutputStream ( &quot;mykeystore&quot; ),keypass.toCharArray());\r\n\r\n   \t\t\r\n (optional) Verify the content of your new key store:\r\n\r\n`keytool -list -keystore mykeystore -storepass password`\r\n\r\n&gt; Keystore type: JKS Keystore provider: SUN\r\n&gt; \r\n&gt; Your keystore contains 3 entries\r\n&gt; \r\n&gt; cn=...,ou=...,o=.., Sep 2, 2014, trustedCertEntry, Certificate\r\n&gt; fingerprint (SHA1): 2C:B8: ...\r\n&gt; \r\n&gt; importkey, Sep 2, 2014, PrivateKeyEntry, Certificate fingerprint\r\n&gt; (SHA1): 9C:B0: ...\r\n&gt; \r\n&gt; cn=...,o=...., Sep 2, 2014, trustedCertEntry, Certificate fingerprint\r\n&gt; (SHA1): 83:63: ...\r\n\r\n\r\n (optional) Test your certificates and private key from your new key store against your SSL server:\r\n( You may want to enable debugging as an VM option:  -Djavax.net.debug=all )\r\n\r\n            char[] passw = &quot;password&quot;.toCharArray();\r\n            KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;, &quot;SUN&quot;);\r\n            ks.load(new FileInputStream ( &quot;mykeystore&quot; ), passw );\r\n\r\n            KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            kmf.init(ks, passw);\r\n\r\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            tmf.init(ks);\r\n            TrustManager[] tm = tmf.getTrustManagers();\r\n\r\n            SSLContext sclx = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sclx.init( kmf.getKeyManagers(), tm, null);\r\n\r\n  \t        SSLSocketFactory factory = sclx.getSocketFactory();\r\n            SSLSocket socket = (SSLSocket) factory.createSocket( &quot;192.168.1.111&quot;, 443 );\r\n            socket.startHandshake();\r\n  \t        \r\n  \t        //if no exceptions are thrown in the startHandshake method, then everything is fine..\r\n  \t        \r\n  \t        \r\nFinally register your certificates with    HttpsURLConnection if plan to use it:\r\n\r\n            char[] passw = &quot;password&quot;.toCharArray();\r\n            KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;, &quot;SUN&quot;);\r\n            ks.load(new FileInputStream ( &quot;mykeystore&quot; ), passw );\r\n\r\n            KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            kmf.init(ks, passw);\r\n\r\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            tmf.init(ks);\r\n            TrustManager[] tm = tmf.getTrustManagers();\r\n\r\n            SSLContext sclx = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sclx.init( kmf.getKeyManagers(), tm, null);\r\n\r\n            HostnameVerifier hv = new HostnameVerifier()\r\n            {\r\n                public boolean verify(String urlHostName, SSLSession session)\r\n                {\r\n                    if (!urlHostName.equalsIgnoreCase(session.getPeerHost()))\r\n                    {\r\n                        System.out.println(&quot;Warning: URL host &#39;&quot; + urlHostName + &quot;&#39; is different to SSLSession host &#39;&quot; + session.getPeerHost() + &quot;&#39;.&quot;);\r\n                    }\r\n                    return true;\r\n                }\r\n            };\r\n\r\n            HttpsURLConnection.setDefaultSSLSocketFactory( sclx.getSocketFactory() );\r\n            HttpsURLConnection.setDefaultHostnameVerifier(hv);","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>In my case I had a pem file which contained two certificates and an encrypted private key to be used in mutual SSL authentication.\nSo my pem file looked like this:</p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----\n-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: DES-EDE3-CBC,C8BF220FC76AA5F9\n...\n-----END RSA PRIVATE KEY-----\n-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----\n</code></pre>\n\n<p>Here is what I did:</p>\n\n<p>Split the file into three separate files, so that each one contains just one entry, \nstarting with \"---BEGIN..\" and ending with \"---END..\" lines. Lets assume we now have three files: cert1.pem cert2.pem and pkey.pem</p>\n\n<p>Convert pkey.pem into DER format using openssl and the following syntax:</p>\n\n<p><code>openssl pkcs8 -topk8 -nocrypt -in pkey.pem -inform PEM -out pkey.der -outform DER</code></p>\n\n<p>Note, that if the private key is encrypted you need to supply a password( obtain it from the supplier of the original pem file )\nto convert to DER format, \nopenssl will ask you for the password like this: \"enter a pass phraze for pkey.pem: \"\nIf conversion is successful, you will get a new file called \"pkey.der\"</p>\n\n<p>Create a new java key store and import the private key and the certificates:</p>\n\n<pre><code>String keypass = \"password\";  // this is a new password, you need to come up with to protect your java key store file\nString defaultalias = \"importkey\";\nKeyStore ks = KeyStore.getInstance(\"JKS\", \"SUN\");\n\n// this section does not make much sense to me, \n// but I will leave it intact as this is how it was in the original example I found on internet:   \nks.load( null, keypass.toCharArray());\nks.store( new FileOutputStream ( \"mykeystore\"  ), keypass.toCharArray());\nks.load( new FileInputStream ( \"mykeystore\" ),    keypass.toCharArray());\n// end of section..\n\n\n// read the key file from disk and create a PrivateKey\n\nFileInputStream fis = new FileInputStream(\"pkey.der\");\nDataInputStream dis = new DataInputStream(fis);\nbyte[] bytes = new byte[dis.available()];\ndis.readFully(bytes);\nByteArrayInputStream bais = new ByteArrayInputStream(bytes);\n\nbyte[] key = new byte[bais.available()];\nKeyFactory kf = KeyFactory.getInstance(\"RSA\");\nbais.read(key, 0, bais.available());\nbais.close();\n\nPKCS8EncodedKeySpec keysp = new PKCS8EncodedKeySpec ( key );\nPrivateKey ff = kf.generatePrivate (keysp);\n\n\n// read the certificates from the files and load them into the key store:\n\nCollection  col_crt1 = CertificateFactory.getInstance(\"X509\").generateCertificates(new FileInputStream(\"cert1.pem\"));\nCollection  col_crt2 = CertificateFactory.getInstance(\"X509\").generateCertificates(new FileInputStream(\"cert2.pem\"));\n\nCertificate crt1 = (Certificate) col_crt1.iterator().next();\nCertificate crt2 = (Certificate) col_crt2.iterator().next();\nCertificate[] chain = new Certificate[] { crt1, crt2 };\n\nString alias1 = ((X509Certificate) crt1).getSubjectX500Principal().getName();\nString alias2 = ((X509Certificate) crt2).getSubjectX500Principal().getName();\n\nks.setCertificateEntry(alias1, crt1);\nks.setCertificateEntry(alias2, crt2);\n\n// store the private key\nks.setKeyEntry(defaultalias, ff, keypass.toCharArray(), chain );\n\n// save the key store to a file         \nks.store(new FileOutputStream ( \"mykeystore\" ),keypass.toCharArray());\n</code></pre>\n\n<p>(optional) Verify the content of your new key store:</p>\n\n<p><code>keytool -list -keystore mykeystore -storepass password</code></p>\n\n<blockquote>\n  <p>Keystore type: JKS Keystore provider: SUN</p>\n  \n  <p>Your keystore contains 3 entries</p>\n  \n  <p>cn=...,ou=...,o=.., Sep 2, 2014, trustedCertEntry, Certificate\n  fingerprint (SHA1): 2C:B8: ...</p>\n  \n  <p>importkey, Sep 2, 2014, PrivateKeyEntry, Certificate fingerprint\n  (SHA1): 9C:B0: ...</p>\n  \n  <p>cn=...,o=...., Sep 2, 2014, trustedCertEntry, Certificate fingerprint\n  (SHA1): 83:63: ...</p>\n</blockquote>\n\n<p>(optional) Test your certificates and private key from your new key store against your SSL server:\n( You may want to enable debugging as an VM option:  -Djavax.net.debug=all )</p>\n\n<pre><code>        char[] passw = \"password\".toCharArray();\n        KeyStore ks = KeyStore.getInstance(\"JKS\", \"SUN\");\n        ks.load(new FileInputStream ( \"mykeystore\" ), passw );\n\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n        kmf.init(ks, passw);\n\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(ks);\n        TrustManager[] tm = tmf.getTrustManagers();\n\n        SSLContext sclx = SSLContext.getInstance(\"TLS\");\n        sclx.init( kmf.getKeyManagers(), tm, null);\n\n        SSLSocketFactory factory = sclx.getSocketFactory();\n        SSLSocket socket = (SSLSocket) factory.createSocket( \"192.168.1.111\", 443 );\n        socket.startHandshake();\n\n        //if no exceptions are thrown in the startHandshake method, then everything is fine..\n</code></pre>\n\n<p>Finally register your certificates with    HttpsURLConnection if plan to use it:</p>\n\n<pre><code>        char[] passw = \"password\".toCharArray();\n        KeyStore ks = KeyStore.getInstance(\"JKS\", \"SUN\");\n        ks.load(new FileInputStream ( \"mykeystore\" ), passw );\n\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n        kmf.init(ks, passw);\n\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(ks);\n        TrustManager[] tm = tmf.getTrustManagers();\n\n        SSLContext sclx = SSLContext.getInstance(\"TLS\");\n        sclx.init( kmf.getKeyManagers(), tm, null);\n\n        HostnameVerifier hv = new HostnameVerifier()\n        {\n            public boolean verify(String urlHostName, SSLSession session)\n            {\n                if (!urlHostName.equalsIgnoreCase(session.getPeerHost()))\n                {\n                    System.out.println(\"Warning: URL host '\" + urlHostName + \"' is different to SSLSession host '\" + session.getPeerHost() + \"'.\");\n                }\n                return true;\n            }\n        };\n\n        HttpsURLConnection.setDefaultSSLSocketFactory( sclx.getSocketFactory() );\n        HttpsURLConnection.setDefaultHostnameVerifier(hv);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1438038506,"creation_date":1438038007,"answer_id":31664724,"question_id":906402,"body_markdown":"And one more:\r\n\r\n    #!/bin/bash\r\n    \r\n    # We have:\r\n    #\r\n    # 1) $KEY : Secret key in PEM format (&quot;-----BEGIN RSA PRIVATE KEY-----&quot;) \r\n    # 2) $LEAFCERT : Certificate for secret key obtained from some\r\n    #    certification outfit, also in PEM format (&quot;-----BEGIN CERTIFICATE-----&quot;)   \r\n    # 3) $CHAINCERT : Intermediate certificate linking $LEAFCERT to a trusted\r\n    #    Self-Signed Root CA Certificate \r\n    #\r\n    # We want to create a fresh Java &quot;keystore&quot; $TARGET_KEYSTORE with the\r\n    # password $TARGET_STOREPW, to be used by Tomcat for HTTPS Connector.\r\n    #\r\n    # The keystore must contain: $KEY, $LEAFCERT, $CHAINCERT\r\n    # The Self-Signed Root CA Certificate is obtained by Tomcat from the\r\n    # JDK&#39;s truststore in /etc/pki/java/cacerts\r\n    \r\n    # The non-APR HTTPS connector (APR uses OpenSSL-like configuration, much\r\n    # easier than this) in server.xml looks like this \r\n    # (See: https://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html):\r\n    #\r\n    #  &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\r\n    #                SSLEnabled=&quot;true&quot;\r\n    #                maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n    #                clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;\r\n    #                keystoreFile=&quot;/etc/tomcat6/etl-web.keystore.jks&quot;\r\n    #                keystorePass=&quot;changeit&quot; /&gt;\r\n    #\r\n \r\n    # Let&#39;s roll:    \r\n    \r\n    TARGET_KEYSTORE=/etc/tomcat6/foo-server.keystore.jks\r\n    TARGET_STOREPW=changeit\r\n    \r\n    TLS=/etc/pki/tls\r\n    \r\n    KEY=$TLS/private/httpd/foo-server.example.com.key\r\n    LEAFCERT=$TLS/certs/httpd/foo-server.example.com.pem\r\n    CHAINCERT=$TLS/certs/httpd/chain.cert.pem\r\n    \r\n    # ----\r\n    # Create PKCS#12 file to import using keytool later\r\n    # ----\r\n    \r\n    # From https://www.sslshopper.com/ssl-converter.html:\r\n    # The PKCS#12 or PFX format is a binary format for storing the server certificate,\r\n    # any intermediate certificates, and the private key in one encryptable file. PFX\r\n    # files usually have extensions such as .pfx and .p12. PFX files are typically used \r\n    # on Windows machines to import and export certificates and private keys.\r\n    \r\n    TMPPW=$$ # Some random password\r\n    \r\n    PKCS12FILE=`mktemp`\r\n    \r\n    if [[ $? != 0 ]]; then\r\n      echo &quot;Creation of temporary PKCS12 file failed -- exiting&quot; &gt;&amp;2; exit 1\r\n    fi\r\n    \r\n    TRANSITFILE=`mktemp`\r\n    \r\n    if [[ $? != 0 ]]; then\r\n      echo &quot;Creation of temporary transit file failed -- exiting&quot; &gt;&amp;2; exit 1\r\n    fi\r\n    \r\n    cat &quot;$KEY&quot; &quot;$LEAFCERT&quot; &gt; &quot;$TRANSITFILE&quot;\r\n    \r\n    openssl pkcs12 -export -passout &quot;pass:$TMPPW&quot; -in &quot;$TRANSITFILE&quot; -name etl-web &gt; &quot;$PKCS12FILE&quot;\r\n    \r\n    /bin/rm &quot;$TRANSITFILE&quot;\r\n    \r\n    # Print out result for fun! Bug in doc (I think): &quot;-pass &quot; arg does not work, need &quot;-passin&quot;\r\n    \r\n    openssl pkcs12 -passin &quot;pass:$TMPPW&quot; -passout &quot;pass:$TMPPW&quot; -in &quot;$PKCS12FILE&quot; -info\r\n    \r\n    # ----\r\n    # Import contents of PKCS12FILE into a Java keystore. WTF, Sun, what were you thinking?\r\n    # ----\r\n    \r\n    if [[ -f &quot;$TARGET_KEYSTORE&quot; ]]; then\r\n      /bin/rm &quot;$TARGET_KEYSTORE&quot;\r\n    fi\r\n    \r\n    keytool -importkeystore \\\r\n       -deststorepass  &quot;$TARGET_STOREPW&quot; \\\r\n       -destkeypass    &quot;$TARGET_STOREPW&quot; \\\r\n       -destkeystore   &quot;$TARGET_KEYSTORE&quot; \\\r\n       -srckeystore    &quot;$PKCS12FILE&quot; \\\r\n       -srcstoretype  PKCS12 \\\r\n       -srcstorepass  &quot;$TMPPW&quot; \\\r\n       -alias foo-the-server\r\n    \r\n    /bin/rm &quot;$PKCS12FILE&quot;\r\n    \r\n    # ----\r\n    # Import the chain certificate. This works empirically, it is not at all clear from the doc whether this is correct\r\n    # ----\r\n    \r\n    echo &quot;Importing chain&quot;\r\n    \r\n    TT=-trustcacerts\r\n    \r\n    keytool -import $TT -storepass &quot;$TARGET_STOREPW&quot; -file &quot;$CHAINCERT&quot; -keystore &quot;$TARGET_KEYSTORE&quot; -alias chain\r\n    \r\n    # ----\r\n    # Print contents\r\n    # ----\r\n    \r\n    echo &quot;Listing result&quot;\r\n    \r\n    keytool -list -storepass &quot;$TARGET_STOREPW&quot; -keystore &quot;$TARGET_KEYSTORE&quot;\r\n\r\n","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>And one more:</p>\n\n<pre><code>#!/bin/bash\n\n# We have:\n#\n# 1) $KEY : Secret key in PEM format (\"-----BEGIN RSA PRIVATE KEY-----\") \n# 2) $LEAFCERT : Certificate for secret key obtained from some\n#    certification outfit, also in PEM format (\"-----BEGIN CERTIFICATE-----\")   \n# 3) $CHAINCERT : Intermediate certificate linking $LEAFCERT to a trusted\n#    Self-Signed Root CA Certificate \n#\n# We want to create a fresh Java \"keystore\" $TARGET_KEYSTORE with the\n# password $TARGET_STOREPW, to be used by Tomcat for HTTPS Connector.\n#\n# The keystore must contain: $KEY, $LEAFCERT, $CHAINCERT\n# The Self-Signed Root CA Certificate is obtained by Tomcat from the\n# JDK's truststore in /etc/pki/java/cacerts\n\n# The non-APR HTTPS connector (APR uses OpenSSL-like configuration, much\n# easier than this) in server.xml looks like this \n# (See: https://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html):\n#\n#  &lt;Connector port=\"8443\" protocol=\"org.apache.coyote.http11.Http11Protocol\"\n#                SSLEnabled=\"true\"\n#                maxThreads=\"150\" scheme=\"https\" secure=\"true\"\n#                clientAuth=\"false\" sslProtocol=\"TLS\"\n#                keystoreFile=\"/etc/tomcat6/etl-web.keystore.jks\"\n#                keystorePass=\"changeit\" /&gt;\n#\n\n# Let's roll:    \n\nTARGET_KEYSTORE=/etc/tomcat6/foo-server.keystore.jks\nTARGET_STOREPW=changeit\n\nTLS=/etc/pki/tls\n\nKEY=$TLS/private/httpd/foo-server.example.com.key\nLEAFCERT=$TLS/certs/httpd/foo-server.example.com.pem\nCHAINCERT=$TLS/certs/httpd/chain.cert.pem\n\n# ----\n# Create PKCS#12 file to import using keytool later\n# ----\n\n# From https://www.sslshopper.com/ssl-converter.html:\n# The PKCS#12 or PFX format is a binary format for storing the server certificate,\n# any intermediate certificates, and the private key in one encryptable file. PFX\n# files usually have extensions such as .pfx and .p12. PFX files are typically used \n# on Windows machines to import and export certificates and private keys.\n\nTMPPW=$$ # Some random password\n\nPKCS12FILE=`mktemp`\n\nif [[ $? != 0 ]]; then\n  echo \"Creation of temporary PKCS12 file failed -- exiting\" &gt;&amp;2; exit 1\nfi\n\nTRANSITFILE=`mktemp`\n\nif [[ $? != 0 ]]; then\n  echo \"Creation of temporary transit file failed -- exiting\" &gt;&amp;2; exit 1\nfi\n\ncat \"$KEY\" \"$LEAFCERT\" &gt; \"$TRANSITFILE\"\n\nopenssl pkcs12 -export -passout \"pass:$TMPPW\" -in \"$TRANSITFILE\" -name etl-web &gt; \"$PKCS12FILE\"\n\n/bin/rm \"$TRANSITFILE\"\n\n# Print out result for fun! Bug in doc (I think): \"-pass \" arg does not work, need \"-passin\"\n\nopenssl pkcs12 -passin \"pass:$TMPPW\" -passout \"pass:$TMPPW\" -in \"$PKCS12FILE\" -info\n\n# ----\n# Import contents of PKCS12FILE into a Java keystore. WTF, Sun, what were you thinking?\n# ----\n\nif [[ -f \"$TARGET_KEYSTORE\" ]]; then\n  /bin/rm \"$TARGET_KEYSTORE\"\nfi\n\nkeytool -importkeystore \\\n   -deststorepass  \"$TARGET_STOREPW\" \\\n   -destkeypass    \"$TARGET_STOREPW\" \\\n   -destkeystore   \"$TARGET_KEYSTORE\" \\\n   -srckeystore    \"$PKCS12FILE\" \\\n   -srcstoretype  PKCS12 \\\n   -srcstorepass  \"$TMPPW\" \\\n   -alias foo-the-server\n\n/bin/rm \"$PKCS12FILE\"\n\n# ----\n# Import the chain certificate. This works empirically, it is not at all clear from the doc whether this is correct\n# ----\n\necho \"Importing chain\"\n\nTT=-trustcacerts\n\nkeytool -import $TT -storepass \"$TARGET_STOREPW\" -file \"$CHAINCERT\" -keystore \"$TARGET_KEYSTORE\" -alias chain\n\n# ----\n# Print contents\n# ----\n\necho \"Listing result\"\n\nkeytool -list -storepass \"$TARGET_STOREPW\" -keystore \"$TARGET_KEYSTORE\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1398023,"reputation":991,"user_id":1327398,"display_name":"Joshua Davies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457030842,"creation_date":1456946629,"answer_id":35756294,"question_id":906402,"body_markdown":"Previous answers point out correctly that you can only do this with the standard JDK tools by converting the JKS file into PKCS #12 format first.  If you&#39;re interested, I put together a compact utility to import OpenSSL-derived keys into a JKS-formatted keystore without having to convert the keystore to PKCS #12 first: http://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art049\r\n\r\nYou would use the linked utility like this:\r\n\r\n    $ openssl req -x509 -newkey rsa:2048 -keyout localhost.key -out localhost.csr -subj &quot;/CN=localhost&quot;\r\n\r\n(sign the CSR, get back localhost.cer)\r\n\r\n    $ openssl rsa -in localhost.key -out localhost.rsa\r\n    Enter pass phrase for localhost.key:\r\n    writing RSA key\r\n    $ java -classpath . KeyImport -keyFile localhost.rsa -alias localhost -certificateFile localhost.cer -keystore localhost.jks -keystorePassword changeit -keystoreType JKS -keyPassword changeit\r\n","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>Previous answers point out correctly that you can only do this with the standard JDK tools by converting the JKS file into PKCS #12 format first.  If you're interested, I put together a compact utility to import OpenSSL-derived keys into a JKS-formatted keystore without having to convert the keystore to PKCS #12 first: <a href=\"http://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art049\" rel=\"nofollow\">http://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art049</a></p>\n\n<p>You would use the linked utility like this:</p>\n\n<pre><code>$ openssl req -x509 -newkey rsa:2048 -keyout localhost.key -out localhost.csr -subj \"/CN=localhost\"\n</code></pre>\n\n<p>(sign the CSR, get back localhost.cer)</p>\n\n<pre><code>$ openssl rsa -in localhost.key -out localhost.rsa\nEnter pass phrase for localhost.key:\nwriting RSA key\n$ java -classpath . KeyImport -keyFile localhost.rsa -alias localhost -certificateFile localhost.cer -keystore localhost.jks -keystorePassword changeit -keystoreType JKS -keyPassword changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2178246,"reputation":997,"user_id":1928410,"accept_rate":44,"display_name":"vanval"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561552078,"creation_date":1468504043,"answer_id":38375992,"question_id":906402,"body_markdown":"You can use these steps to import the key to an existing keystore. The instructions are combined from answers in this thread and other sites. These instructions worked for me (the java keystore):  \r\n\r\n1. Run \r\n\r\n`openssl pkcs12 -export -in yourserver.crt -inkey yourkey.key -out server.p12 -name somename -certfile yourca.crt -caname root`\r\n\r\n(If required put the -chain option. Putting that failed for me).\r\nThis will ask for the password - you must give the correct password else you will get an error\r\n(heading error or padding error etc).  \r\n\r\n2. It will ask you to enter a new password - you must enter a password here - enter anything but remember it. (Let us assume you enter Aragorn).  \r\n3. This will create the server.p12 file in the pkcs format.  \r\n4. Now to import it into the `*.jks` file run:  \r\n`\r\nkeytool -importkeystore -srckeystore server.p12 -srcstoretype PKCS12\r\n-destkeystore yourexistingjavakeystore.jks -deststoretype JKS -deststorepass existingjavastorepassword -destkeypass existingjavastorepassword\r\n`  \r\n(Very important  - do not leave out the deststorepass and the destkeypass parameters.)  \r\n5. It will ask you for the src key store password. Enter Aragorn and hit enter.\r\nThe certificate and key is now imported into your existing java keystore.  ","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>You can use these steps to import the key to an existing keystore. The instructions are combined from answers in this thread and other sites. These instructions worked for me (the java keystore):  </p>\n\n<ol>\n<li>Run </li>\n</ol>\n\n<p><code>openssl pkcs12 -export -in yourserver.crt -inkey yourkey.key -out server.p12 -name somename -certfile yourca.crt -caname root</code></p>\n\n<p>(If required put the -chain option. Putting that failed for me).\nThis will ask for the password - you must give the correct password else you will get an error\n(heading error or padding error etc).  </p>\n\n<ol start=\"2\">\n<li>It will ask you to enter a new password - you must enter a password here - enter anything but remember it. (Let us assume you enter Aragorn).  </li>\n<li>This will create the server.p12 file in the pkcs format.  </li>\n<li>Now to import it into the <code>*.jks</code> file run:<br>\n<code>\nkeytool -importkeystore -srckeystore server.p12 -srcstoretype PKCS12\n-destkeystore yourexistingjavakeystore.jks -deststoretype JKS -deststorepass existingjavastorepassword -destkeypass existingjavastorepassword\n</code><br>\n(Very important  - do not leave out the deststorepass and the destkeypass parameters.)  </li>\n<li>It will ask you for the src key store password. Enter Aragorn and hit enter.\nThe certificate and key is now imported into your existing java keystore.  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1316465,"reputation":1452,"user_id":1263190,"display_name":"Fotios Basagiannis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513877533,"creation_date":1481672918,"answer_id":41132539,"question_id":906402,"body_markdown":"Based on the answers above, here is how to create a brand new keystore for your java based web server, out of an independently created Comodo cert and private key using keytool (requires JDK 1.6+)\r\n  \r\n\r\n1. Issue this command and at the password prompt enter somepass - &#39;server.crt&#39; is your server&#39;s cert and &#39;server.key&#39; is the private key you used for issuing the CSR:`\r\nopenssl pkcs12 -export -in server.crt -inkey server.key -out server.p12 -name www.yourdomain.com -CAfile AddTrustExternalCARoot.crt -caname &quot;AddTrust External CA Root&quot;`\r\n\r\n2. Then use keytool to convert the p12 keystore into a jks keystore:`\r\nkeytool -importkeystore -deststorepass somepass -destkeypass somepass -destkeystore keystore.jks -srckeystore server.p12 -srcstoretype PKCS12 -srcstorepass somepass`\r\n\r\nThen import the other two root/intermediate certs you received from Comodo:\r\n\r\n3. Import COMODORSAAddTrustCA.crt:`\r\nkeytool -import -trustcacerts -alias cert1 -file COMODORSAAddTrustCA.crt -keystore keystore.jks`    \r\n\r\n4. Import COMODORSADomainValidationSecureServerCA.crt:`\r\nkeytool -import -trustcacerts -alias cert2 -file COMODORSADomainValidationSecureServerCA.crt -keystore keystore.jks`\r\n","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>Based on the answers above, here is how to create a brand new keystore for your java based web server, out of an independently created Comodo cert and private key using keytool (requires JDK 1.6+)</p>\n\n<ol>\n<li><p>Issue this command and at the password prompt enter somepass - 'server.crt' is your server's cert and 'server.key' is the private key you used for issuing the CSR:<code>\nopenssl pkcs12 -export -in server.crt -inkey server.key -out server.p12 -name www.yourdomain.com -CAfile AddTrustExternalCARoot.crt -caname \"AddTrust External CA Root\"</code></p></li>\n<li><p>Then use keytool to convert the p12 keystore into a jks keystore:<code>\nkeytool -importkeystore -deststorepass somepass -destkeypass somepass -destkeystore keystore.jks -srckeystore server.p12 -srcstoretype PKCS12 -srcstorepass somepass</code></p></li>\n</ol>\n\n<p>Then import the other two root/intermediate certs you received from Comodo:</p>\n\n<ol start=\"3\">\n<li><p>Import COMODORSAAddTrustCA.crt:<code>\nkeytool -import -trustcacerts -alias cert1 -file COMODORSAAddTrustCA.crt -keystore keystore.jks</code>    </p></li>\n<li><p>Import COMODORSADomainValidationSecureServerCA.crt:<code>\nkeytool -import -trustcacerts -alias cert2 -file COMODORSADomainValidationSecureServerCA.crt -keystore keystore.jks</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2578817,"reputation":3738,"user_id":2235939,"accept_rate":52,"display_name":"Michał Jurczuk"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1496306999,"creation_date":1496306999,"answer_id":44302747,"question_id":906402,"body_markdown":"First convert to p12:\r\n\r\n    openssl pkcs12 -export -in [filename-certificate] -inkey [filename-key] -name [host] -out [filename-new-PKCS-12.p12]\r\n\r\nCreate new JKS from p12:\r\n\r\n    keytool -importkeystore -deststorepass [password] -destkeystore [filename-new-keystore.jks] -srckeystore [filename-new-PKCS-12.p12] -srcstoretype PKCS12\r\n\r\n","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>First convert to p12:</p>\n\n<pre><code>openssl pkcs12 -export -in [filename-certificate] -inkey [filename-key] -name [host] -out [filename-new-PKCS-12.p12]\n</code></pre>\n\n<p>Create new JKS from p12:</p>\n\n<pre><code>keytool -importkeystore -deststorepass [password] -destkeystore [filename-new-keystore.jks] -srckeystore [filename-new-PKCS-12.p12] -srcstoretype PKCS12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546274717,"creation_date":1546274717,"answer_id":53989618,"question_id":906402,"body_markdown":"Just make a PKCS12 keystore, Java can use it directly now. In fact, if you list a Java-style keystore, keytool itself alerts you to the fact that PKCS12 is now the preferred format.\r\n\r\n    openssl pkcs12 -export -in server.crt -inkey server.key \\\r\n                   -out server.p12 -name [some-alias] \\\r\n                   -CAfile ca.crt -caname root -chain\r\n\r\nYou should have received all three files (server.crt, server.key, ca.crt) from your certificate provider. I am not sure what &quot;-caname root&quot; actually means, but it seems to have to be specified that way.\r\n\r\nIn the Java code, make sure to specify the right keystore type.\r\n\r\n    KeyStore.getInstance(&quot;PKCS12&quot;)\r\n\r\nI got my comodo.com-issued SSL certificate working fine in NanoHTTPD this way.","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>Just make a PKCS12 keystore, Java can use it directly now. In fact, if you list a Java-style keystore, keytool itself alerts you to the fact that PKCS12 is now the preferred format.</p>\n\n<pre><code>openssl pkcs12 -export -in server.crt -inkey server.key \\\n               -out server.p12 -name [some-alias] \\\n               -CAfile ca.crt -caname root -chain\n</code></pre>\n\n<p>You should have received all three files (server.crt, server.key, ca.crt) from your certificate provider. I am not sure what \"-caname root\" actually means, but it seems to have to be specified that way.</p>\n\n<p>In the Java code, make sure to specify the right keystore type.</p>\n\n<pre><code>KeyStore.getInstance(\"PKCS12\")\n</code></pre>\n\n<p>I got my comodo.com-issued SSL certificate working fine in NanoHTTPD this way.</p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547596850,"creation_date":1547596850,"answer_id":54208558,"question_id":906402,"body_markdown":"If you have a PEM file (e.g. `server.pem`) containing:\r\n\r\n - the trusted certificate\r\n - the private key\r\n\r\nthen you can import the certificate and key into a JKS keystore like this:\r\n\r\n**1**) Copy the private key from the PEM file into an ascii file (e.g. `server.key`)\r\n\r\n**2**) Copy the cert from the PEM file into an ascii file (e.g. `server.crt`)\r\n\r\n**3**) Export the cert and key into a PKCS12 file:\r\n \r\n    $ openssl pkcs12 -export -in server.crt -inkey server.key \\\r\n                     -out server.p12 -name [some-alias] -CAfile server.pem -caname root\r\n\r\n - **the PEM file can be used as the argument to the `-CAfile` option**.\r\n - you are prompted for an &#39;export&#39; password.\r\n - if doing this in git bash then add `winpty` to the start of the command so the export password can be entered.\r\n\r\n**4**) Convert the PKCS12 file to a JKS keystore:\r\n\r\n    $ keytool -importkeystore -deststorepass changeit -destkeypass changeit \\\r\n              -destkeystore keystore.jks  -srckeystore server.p12 -srcstoretype PKCS12 \\\r\n              -srcstorepass changeit\r\n\r\n- the `srcstorepass` password should match the export password from step 3)\r\n","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>If you have a PEM file (e.g. <code>server.pem</code>) containing:</p>\n\n<ul>\n<li>the trusted certificate</li>\n<li>the private key</li>\n</ul>\n\n<p>then you can import the certificate and key into a JKS keystore like this:</p>\n\n<p><strong>1</strong>) Copy the private key from the PEM file into an ascii file (e.g. <code>server.key</code>)</p>\n\n<p><strong>2</strong>) Copy the cert from the PEM file into an ascii file (e.g. <code>server.crt</code>)</p>\n\n<p><strong>3</strong>) Export the cert and key into a PKCS12 file:</p>\n\n<pre><code>$ openssl pkcs12 -export -in server.crt -inkey server.key \\\n                 -out server.p12 -name [some-alias] -CAfile server.pem -caname root\n</code></pre>\n\n<ul>\n<li><strong>the PEM file can be used as the argument to the <code>-CAfile</code> option</strong>.</li>\n<li>you are prompted for an 'export' password.</li>\n<li>if doing this in git bash then add <code>winpty</code> to the start of the command so the export password can be entered.</li>\n</ul>\n\n<p><strong>4</strong>) Convert the PKCS12 file to a JKS keystore:</p>\n\n<pre><code>$ keytool -importkeystore -deststorepass changeit -destkeypass changeit \\\n          -destkeystore keystore.jks  -srckeystore server.p12 -srcstoretype PKCS12 \\\n          -srcstorepass changeit\n</code></pre>\n\n<ul>\n<li>the <code>srcstorepass</code> password should match the export password from step 3)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8175549,"reputation":176,"user_id":6154409,"display_name":"Joe Mwa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1552908613,"creation_date":1552908613,"answer_id":55220360,"question_id":906402,"body_markdown":"What I was trying to achieve was using already provided private key and certificate to sign message that was going someplace that needed to make sure that the message was coming from me (private keys sign while public keys encrypt).\r\n  \r\nSo if you already have a .key file and a .crt file?\r\n\r\nTry this:\r\n\r\n**Step1:** Convert the key and cert to .p12 file\r\n\r\n    openssl pkcs12 -export -in certificate.crt -inkey privateKey.key -name alias -out yourconvertedfile.p12\r\n\r\n**Step 2:** Import the key and create a .jsk file with a single command\r\n\r\n    keytool -importkeystore -deststorepass changeit -destkeystore keystore.jks -srckeystore umeme.p12 -srcstoretype PKCS12\r\n\r\n**Step 3:** In your java:\r\n\r\n    char[] keyPassword = &quot;changeit&quot;.toCharArray();\r\n\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    InputStream keyStoreData = new FileInputStream(&quot;keystore.jks&quot;);\r\n\r\n    keyStore.load(keyStoreData, keyPassword);\r\n    KeyStore.ProtectionParameter entryPassword = new KeyStore.PasswordProtection(keyPassword);\r\n    KeyStore.PrivateKeyEntry privateKeyEntry = (KeyStore.PrivateKeyEntry)keyStore.getEntry(&quot;alias&quot;, entryPassword);\r\n\r\n    System.out.println(privateKeyEntry.toString());\r\n\r\n\r\nIf you need to sign some string using this key do the following:\r\n\r\nStep 1: Convert the text you want to encrypt\r\n\r\n    byte[] data = &quot;test&quot;.getBytes(&quot;UTF8&quot;);\r\n\r\nStep 2: Get base64 encoded private key\r\n\r\n    keyStore.load(keyStoreData, keyPassword);\r\n    \r\n    //get cert, pubkey and private key from the store by alias\r\n    Certificate cert = keyStore.getCertificate(&quot;localhost&quot;);\r\n    PublicKey publicKey = cert.getPublicKey();\r\n\tKeyPair keyPair = new KeyPair(publicKey, (PrivateKey) key);\r\n\r\n    //sign with this alg\r\n\tSignature sig = Signature.getInstance(&quot;SHA1WithRSA&quot;);\r\n    sig.initSign(keyPair.getPrivate());\r\n    sig.update(data);\r\n    byte[] signatureBytes = sig.sign();\r\n    System.out.println(&quot;Signature:&quot; + Base64.getEncoder().encodeToString(signatureBytes));\r\n\r\n    sig.initVerify(keyPair.getPublic());\r\n    sig.update(data);\r\n\r\n    System.out.println(sig.verify(signatureBytes));\r\n\r\n*References:*\r\n\r\n 1. https://stackoverflow.com/questions/906402/how-to-import-an-existing-x509-certificate-and-private-key-in-java-keystore-to-u\r\n 2. http://tutorials.jenkov.com/java-cryptography/keystore.html\r\n 3. http://www.java2s.com/Code/Java/Security/RetrievingaKeyPairfromaKeyStore.htm\r\n 4. https://stackoverflow.com/questions/7224626/how-to-sign-string-with-private-key\r\n\r\n\r\n**Final program**\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n\t\tbyte[] data = &quot;test&quot;.getBytes(&quot;UTF8&quot;);\r\n\t\t\r\n\t\t// load keystore\r\n\t\tchar[] keyPassword = &quot;changeit&quot;.toCharArray();\r\n\r\n\t\tKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n        //System.getProperty(&quot;user.dir&quot;) + &quot;&quot; &lt; for a file in particular path \r\n\t\tInputStream keyStoreData = new FileInputStream(&quot;keystore.jks&quot;);\r\n\t\tkeyStore.load(keyStoreData, keyPassword);\r\n\r\n\t\tKey key = keyStore.getKey(&quot;localhost&quot;, keyPassword);\r\n\r\n\t\tCertificate cert = keyStore.getCertificate(&quot;localhost&quot;);\r\n\r\n\t\tPublicKey publicKey = cert.getPublicKey();\r\n\r\n\t\tKeyPair keyPair = new KeyPair(publicKey, (PrivateKey) key);\r\n\r\n\t\tSignature sig = Signature.getInstance(&quot;SHA1WithRSA&quot;);\r\n\t\t\r\n        sig.initSign(keyPair.getPrivate());\r\n        sig.update(data);\r\n        byte[] signatureBytes = sig.sign();\r\n        System.out.println(&quot;Signature:&quot; + Base64.getEncoder().encodeToString(signatureBytes));\r\n\r\n        sig.initVerify(keyPair.getPublic());\r\n        sig.update(data);\r\n\r\n        System.out.println(sig.verify(signatureBytes));\r\n    }","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>What I was trying to achieve was using already provided private key and certificate to sign message that was going someplace that needed to make sure that the message was coming from me (private keys sign while public keys encrypt).</p>\n\n<p>So if you already have a .key file and a .crt file?</p>\n\n<p>Try this:</p>\n\n<p><strong>Step1:</strong> Convert the key and cert to .p12 file</p>\n\n<pre><code>openssl pkcs12 -export -in certificate.crt -inkey privateKey.key -name alias -out yourconvertedfile.p12\n</code></pre>\n\n<p><strong>Step 2:</strong> Import the key and create a .jsk file with a single command</p>\n\n<pre><code>keytool -importkeystore -deststorepass changeit -destkeystore keystore.jks -srckeystore umeme.p12 -srcstoretype PKCS12\n</code></pre>\n\n<p><strong>Step 3:</strong> In your java:</p>\n\n<pre><code>char[] keyPassword = \"changeit\".toCharArray();\n\nKeyStore keyStore = KeyStore.getInstance(\"JKS\");\nInputStream keyStoreData = new FileInputStream(\"keystore.jks\");\n\nkeyStore.load(keyStoreData, keyPassword);\nKeyStore.ProtectionParameter entryPassword = new KeyStore.PasswordProtection(keyPassword);\nKeyStore.PrivateKeyEntry privateKeyEntry = (KeyStore.PrivateKeyEntry)keyStore.getEntry(\"alias\", entryPassword);\n\nSystem.out.println(privateKeyEntry.toString());\n</code></pre>\n\n<p>If you need to sign some string using this key do the following:</p>\n\n<p>Step 1: Convert the text you want to encrypt</p>\n\n<pre><code>byte[] data = \"test\".getBytes(\"UTF8\");\n</code></pre>\n\n<p>Step 2: Get base64 encoded private key</p>\n\n<pre><code>keyStore.load(keyStoreData, keyPassword);\n\n//get cert, pubkey and private key from the store by alias\nCertificate cert = keyStore.getCertificate(\"localhost\");\nPublicKey publicKey = cert.getPublicKey();\nKeyPair keyPair = new KeyPair(publicKey, (PrivateKey) key);\n\n//sign with this alg\nSignature sig = Signature.getInstance(\"SHA1WithRSA\");\nsig.initSign(keyPair.getPrivate());\nsig.update(data);\nbyte[] signatureBytes = sig.sign();\nSystem.out.println(\"Signature:\" + Base64.getEncoder().encodeToString(signatureBytes));\n\nsig.initVerify(keyPair.getPublic());\nsig.update(data);\n\nSystem.out.println(sig.verify(signatureBytes));\n</code></pre>\n\n<p><em>References:</em></p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/906402/how-to-import-an-existing-x509-certificate-and-private-key-in-java-keystore-to-u\">How to import an existing x509 certificate and private key in Java keystore to use in SSL?</a></li>\n<li><a href=\"http://tutorials.jenkov.com/java-cryptography/keystore.html\" rel=\"noreferrer\">http://tutorials.jenkov.com/java-cryptography/keystore.html</a></li>\n<li><a href=\"http://www.java2s.com/Code/Java/Security/RetrievingaKeyPairfromaKeyStore.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Java/Security/RetrievingaKeyPairfromaKeyStore.htm</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7224626/how-to-sign-string-with-private-key\">How to sign string with private key</a></li>\n</ol>\n\n<p><strong>Final program</strong></p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n\n    byte[] data = \"test\".getBytes(\"UTF8\");\n\n    // load keystore\n    char[] keyPassword = \"changeit\".toCharArray();\n\n    KeyStore keyStore = KeyStore.getInstance(\"JKS\");\n    //System.getProperty(\"user.dir\") + \"\" &lt; for a file in particular path \n    InputStream keyStoreData = new FileInputStream(\"keystore.jks\");\n    keyStore.load(keyStoreData, keyPassword);\n\n    Key key = keyStore.getKey(\"localhost\", keyPassword);\n\n    Certificate cert = keyStore.getCertificate(\"localhost\");\n\n    PublicKey publicKey = cert.getPublicKey();\n\n    KeyPair keyPair = new KeyPair(publicKey, (PrivateKey) key);\n\n    Signature sig = Signature.getInstance(\"SHA1WithRSA\");\n\n    sig.initSign(keyPair.getPrivate());\n    sig.update(data);\n    byte[] signatureBytes = sig.sign();\n    System.out.println(\"Signature:\" + Base64.getEncoder().encodeToString(signatureBytes));\n\n    sig.initVerify(keyPair.getPublic());\n    sig.update(data);\n\n    System.out.println(sig.verify(signatureBytes));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4674294,"reputation":309,"user_id":3785184,"display_name":"dilbertside"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553118554,"creation_date":1553118554,"answer_id":55270701,"question_id":906402,"body_markdown":"in a case of Elliptic Curve and answer the question *import an existing x509 certificate and private key in Java keystore*, you may want to have a look also to this thread [How to read EC Private key in java which is in .pem file format][1]\r\n\r\n\r\n  [1]: https://stackhttps://stackoverflow.com/a/55269325/3785184","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>in a case of Elliptic Curve and answer the question <em>import an existing x509 certificate and private key in Java keystore</em>, you may want to have a look also to this thread <a href=\"https://stackhttps://stackoverflow.com/a/55269325/3785184\" rel=\"nofollow noreferrer\">How to read EC Private key in java which is in .pem file format</a></p>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1684345973,"creation_date":1560943771,"answer_id":56666663,"question_id":906402,"body_markdown":"# Using Let&#39;s Encrypt certificates\r\n\r\nAssuming you&#39;ve created your certificates and private keys with [Let&#39;s Encrypt](https://letsencrypt.org/) in `/etc/letsencrypt/live/you.com`:\r\n\r\n## 1. Create a [PKCS #12](https://en.wikipedia.org/wiki/PKCS_12) file\r\n\r\n    openssl pkcs12 -export -in fullchain.pem -inkey privkey.pem -out pkcs.p12 \\\r\n            -name letsencrypt\r\n\r\nThis combines your SSL certificate `fullchain.pem` and your private key `privkey.pem` into a single file, `pkcs.p12`.\r\n\r\nYou&#39;ll be prompted for a password for `pkcs.p12`.\r\n\r\nThe `export` option specifies that a PKCS #12 file will be created rather than parsed (according to [the manual](https://linux.die.net/man/1/pkcs12)).\r\n\r\n## 2. Create the Java keystore\r\n\r\n    keytool -importkeystore -destkeystore keystore.jks -srckeystore pkcs.p12 \\\r\n            -srcstoretype PKCS12 -alias letsencrypt\r\n\r\nIf `keystore.jks` doesn&#39;t exist, it will be created containing the `pkcs.12` from the previous step. Otherwise, you&#39;ll import `pkcs.12` into the existing keystore.\r\n\r\n---\r\n\r\nThese instructions are derived from the [blog post](https://web.archive.org/web/20191231103924/https://maximilian-boehm.com/en-gb/blog/create-a-java-keystore-jks-from-lets-encrypt-certificates-1884000/) &quot;Create a Java Keystore (.JKS) from Let&#39;s Encrypt Certificates&quot; by Maximilian B&#246;hm.\r\n\r\n[Here&#39;s more](https://certbot.eff.org/docs/using.html#where-are-my-certificates) on the different kind of files in `/etc/letsencrypt/live/you.com/`.\r\n","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<h1>Using Let's Encrypt certificates</h1>\n<p>Assuming you've created your certificates and private keys with <a href=\"https://letsencrypt.org/\" rel=\"nofollow noreferrer\">Let's Encrypt</a> in <code>/etc/letsencrypt/live/you.com</code>:</p>\n<h2>1. Create a <a href=\"https://en.wikipedia.org/wiki/PKCS_12\" rel=\"nofollow noreferrer\">PKCS #12</a> file</h2>\n<pre><code>openssl pkcs12 -export -in fullchain.pem -inkey privkey.pem -out pkcs.p12 \\\n        -name letsencrypt\n</code></pre>\n<p>This combines your SSL certificate <code>fullchain.pem</code> and your private key <code>privkey.pem</code> into a single file, <code>pkcs.p12</code>.</p>\n<p>You'll be prompted for a password for <code>pkcs.p12</code>.</p>\n<p>The <code>export</code> option specifies that a PKCS #12 file will be created rather than parsed (according to <a href=\"https://linux.die.net/man/1/pkcs12\" rel=\"nofollow noreferrer\">the manual</a>).</p>\n<h2>2. Create the Java keystore</h2>\n<pre><code>keytool -importkeystore -destkeystore keystore.jks -srckeystore pkcs.p12 \\\n        -srcstoretype PKCS12 -alias letsencrypt\n</code></pre>\n<p>If <code>keystore.jks</code> doesn't exist, it will be created containing the <code>pkcs.12</code> from the previous step. Otherwise, you'll import <code>pkcs.12</code> into the existing keystore.</p>\n<hr />\n<p>These instructions are derived from the <a href=\"https://web.archive.org/web/20191231103924/https://maximilian-boehm.com/en-gb/blog/create-a-java-keystore-jks-from-lets-encrypt-certificates-1884000/\" rel=\"nofollow noreferrer\">blog post</a> &quot;Create a Java Keystore (.JKS) from Let's Encrypt Certificates&quot; by Maximilian Böhm.</p>\n<p><a href=\"https://certbot.eff.org/docs/using.html#where-are-my-certificates\" rel=\"nofollow noreferrer\">Here's more</a> on the different kind of files in <code>/etc/letsencrypt/live/you.com/</code>.</p>\n"},{"tags":[],"owner":{"account_id":6077039,"reputation":1004,"user_id":4744055,"display_name":"Manabu Tokunaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624571279,"creation_date":1624571279,"answer_id":68123071,"question_id":906402,"body_markdown":"If you have received a combined cert and key in a single .pem file, like the MongoDB Atlas&#39; authentication, then,\r\n\r\nOpen the `pem` file with a text editor and split them into two files, for example `cert.pem` and `key.pem` (where you can make a split is very clear in the file) and then use the `openssl` command to create a single p12 format file like this:\r\n\r\n     openssl pkcs12 -export -out server.p12 -name test\\\r\n     -in cert.pem -inkey key.pem\r\n\r\nI am using Java 8 and as it turns out at least in Java 8 or later the resulting p12 (`server.p12`) is now the keystore file so you can use it directly without a need to use the `keytool` if you do not need to add any more certs to it.\r\n","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>If you have received a combined cert and key in a single .pem file, like the MongoDB Atlas' authentication, then,</p>\n<p>Open the <code>pem</code> file with a text editor and split them into two files, for example <code>cert.pem</code> and <code>key.pem</code> (where you can make a split is very clear in the file) and then use the <code>openssl</code> command to create a single p12 format file like this:</p>\n<pre><code> openssl pkcs12 -export -out server.p12 -name test\\\n -in cert.pem -inkey key.pem\n</code></pre>\n<p>I am using Java 8 and as it turns out at least in Java 8 or later the resulting p12 (<code>server.p12</code>) is now the keystore file so you can use it directly without a need to use the <code>keytool</code> if you do not need to add any more certs to it.</p>\n"}],"owner":{"account_id":7255,"reputation":3109,"user_id":12537,"display_name":"Aleksandar Ivanisevic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628027,"favorite_count":0,"down_vote_count":0,"up_vote_count":290,"accepted_answer_id":907515,"answer_count":16,"score":290,"last_activity_date":1697647153,"creation_date":1243251241,"question_id":906402,"body_markdown":"I have this in an ActiveMQ config:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;sslContext&gt;\r\n            &lt;sslContext keyStore=&quot;file:/home/alex/work/amq/broker.ks&quot;  \r\n     keyStorePassword=&quot;password&quot; trustStore=&quot;file:${activemq.base}/conf/broker.ts&quot; \r\n     trustStorePassword=&quot;password&quot;/&gt;\r\n    &lt;/sslContext&gt;\r\n\r\n\r\nI have a pair of X.509 cert and a key file.\r\n\r\nHow do I import those two in order to use them in SSL and SSL+stomp connectors? All examples I could google always generate the key themselves, but I already have a key.\r\n\r\nI have tried\r\n\r\n    keytool -import  -keystore ./broker.ks -file mycert.crt\r\n\r\nbut this only imports the certificate and not the key file and results in\r\n\r\n    2009-05-25 13:16:24,270 [localhost:61612] ERROR TransportConnector - Could not accept connection : No available certificate or key corresponds to the SSL cipher suites which are enabled.\r\n\r\nI have tried concatenating the cert and the key but got the same result.\r\n\r\nHow do I import the key?\r\n","title":"How to import an existing X.509 certificate and private key in Java keystore to use in SSL?","body":"<p>I have this in an ActiveMQ config:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;sslContext&gt;\n        &lt;sslContext keyStore=\"file:/home/alex/work/amq/broker.ks\"  \n keyStorePassword=\"password\" trustStore=\"file:${activemq.base}/conf/broker.ts\" \n trustStorePassword=\"password\"/&gt;\n&lt;/sslContext&gt;\n</code></pre>\n\n<p>I have a pair of X.509 cert and a key file.</p>\n\n<p>How do I import those two in order to use them in SSL and SSL+stomp connectors? All examples I could google always generate the key themselves, but I already have a key.</p>\n\n<p>I have tried</p>\n\n<pre><code>keytool -import  -keystore ./broker.ks -file mycert.crt\n</code></pre>\n\n<p>but this only imports the certificate and not the key file and results in</p>\n\n<pre><code>2009-05-25 13:16:24,270 [localhost:61612] ERROR TransportConnector - Could not accept connection : No available certificate or key corresponds to the SSL cipher suites which are enabled.\n</code></pre>\n\n<p>I have tried concatenating the cert and the key but got the same result.</p>\n\n<p>How do I import the key?</p>\n"},{"tags":["java","spring-boot","yaml","spring-cloud","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":4305639,"reputation":500,"user_id":3518066,"accept_rate":57,"display_name":"nullpointer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697646584,"creation_date":1697646584,"answer_id":77318113,"question_id":77276529,"body_markdown":"It was a simple thing, the whole password string, as it had curly braces, needed to be in single quotes, so like: `&#39;{cipher}encrypted_password&#39;`.\r\n\r\nWhat threw me off was that it started complaining on the `url` line. The `url` line doesn&#39;t need to have single or double quotes.","title":"Parsing Exception on reading remote config from Github in a Spring cloud project","body":"<p>It was a simple thing, the whole password string, as it had curly braces, needed to be in single quotes, so like: <code>'{cipher}encrypted_password'</code>.</p>\n<p>What threw me off was that it started complaining on the <code>url</code> line. The <code>url</code> line doesn't need to have single or double quotes.</p>\n"}],"owner":{"account_id":4305639,"reputation":500,"user_id":3518066,"accept_rate":57,"display_name":"nullpointer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697646584,"creation_date":1697060347,"question_id":77276529,"body_markdown":"We have 2 micro services:\r\n\r\n**config-service** and **my-actual-service**\r\n\r\nWe have a separate Git project that has all the springboot/springcloud configurations.\r\n\r\n**my-actual-service** reaches out to **config-service** and **config-service** fetches the appropriate config from Github.\r\n\r\nThe config is loaded fine, but then it throws parsing error on the datasource section:\r\n\r\n        org.springframework.cloud.config.server.environment.FailedToConstructEnvironmentException: \r\n    Could not construct context for config=myconfig profile=dev label= includeOrigin=true; nested exception is while parsing a block mapping\r\n         in &#39;reader&#39;, line 3, column 5:\r\n                url: jdbc:oracle:thin:@myserver ...\r\n                ^\r\n        expected &lt;block end&gt;, but found &#39;&lt;scalar&gt;&#39;\r\n         in &#39;reader&#39;, line 5, column 23:\r\n                password: {cipher}encrypted_password ...\r\n                                  ^\r\n        \r\n                at org.springframework.cloud.config.server.environment.NativeEnvironmentRepository.findOne(NativeEnvironmentRepository.java:165) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\r\n                at org.springframework.cloud.config.server.environment.AbstractScmEnvironmentRepository.findOne(AbstractScmEnvironmentRepository.java:64) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\r\n                at org.springframework.cloud.config.server.environment.MultipleJGitEnvironmentRepository.findOneFromCandidate(MultipleJGitEnvironmentRepository.java:195) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\r\n                at org.springframework.cloud.config.server.environment.MultipleJGitEnvironmentRepository.findOne(MultipleJGitEnvironmentRepository.java:178) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\r\n                at org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.lambda$findOne$3(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\r\n\r\nThis is the config:\r\n\r\n    spring:\r\n      datasource:\r\n        url: &quot;jdbc:oracle:thin:@myserver:port:sid&quot;\r\n        username: USER\r\n        password: {cipher}encrypted_password\r\n\r\nCan&#39;t figure out what might be going on here. I tried the **url** with quotes, with double quotes and without any quotes with no change.\r\n\r\nWe are using Spring boot / cloud version: 3.0.2.","title":"Parsing Exception on reading remote config from Github in a Spring cloud project","body":"<p>We have 2 micro services:</p>\n<p><strong>config-service</strong> and <strong>my-actual-service</strong></p>\n<p>We have a separate Git project that has all the springboot/springcloud configurations.</p>\n<p><strong>my-actual-service</strong> reaches out to <strong>config-service</strong> and <strong>config-service</strong> fetches the appropriate config from Github.</p>\n<p>The config is loaded fine, but then it throws parsing error on the datasource section:</p>\n<pre><code>    org.springframework.cloud.config.server.environment.FailedToConstructEnvironmentException: \nCould not construct context for config=myconfig profile=dev label= includeOrigin=true; nested exception is while parsing a block mapping\n     in 'reader', line 3, column 5:\n            url: jdbc:oracle:thin:@myserver ...\n            ^\n    expected &lt;block end&gt;, but found '&lt;scalar&gt;'\n     in 'reader', line 5, column 23:\n            password: {cipher}encrypted_password ...\n                              ^\n    \n            at org.springframework.cloud.config.server.environment.NativeEnvironmentRepository.findOne(NativeEnvironmentRepository.java:165) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\n            at org.springframework.cloud.config.server.environment.AbstractScmEnvironmentRepository.findOne(AbstractScmEnvironmentRepository.java:64) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\n            at org.springframework.cloud.config.server.environment.MultipleJGitEnvironmentRepository.findOneFromCandidate(MultipleJGitEnvironmentRepository.java:195) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\n            at org.springframework.cloud.config.server.environment.MultipleJGitEnvironmentRepository.findOne(MultipleJGitEnvironmentRepository.java:178) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\n            at org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.lambda$findOne$3(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.1.jar:4.0.1]\n</code></pre>\n<p>This is the config:</p>\n<pre><code>spring:\n  datasource:\n    url: &quot;jdbc:oracle:thin:@myserver:port:sid&quot;\n    username: USER\n    password: {cipher}encrypted_password\n</code></pre>\n<p>Can't figure out what might be going on here. I tried the <strong>url</strong> with quotes, with double quotes and without any quotes with no change.</p>\n<p>We are using Spring boot / cloud version: 3.0.2.</p>\n"},{"tags":["java","multithreading","grpc","quarkus"],"comments":[{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1658934200,"post_id":73137591,"comment_id":129176485,"body_markdown":"Could you edit to add your dependencies please ?","body":"Could you edit to add your dependencies please ?"},{"owner":{"account_id":18801838,"reputation":23,"user_id":13711984,"display_name":"Mountain65"},"score":0,"creation_date":1658990023,"post_id":73137591,"comment_id":129189882,"body_markdown":"I have added more informations !","body":"I have added more informations !"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658986198,"creation_date":1658986198,"answer_id":73147683,"question_id":73137591,"body_markdown":"There is no goot reason do use a `Uni` in this case. It would be far easier to just do:\r\n\r\n    @Override\r\n    public MerchantGRPC findById(idMerchantGRPC request) {\r\n\r\n        // Find in database the merchant (getting error in this)\r\n        MerchantDTO merchantDTO = merchantService.findById(request.getId());\r\n\r\n        return fromMerchantDTOtoMerchantGRPC(merchantDTO);\r\n    }","title":"BlockingOperationNotAllowedException - You have attempted to perform a blocking operation on a IO thread","body":"<p>There is no goot reason do use a <code>Uni</code> in this case. It would be far easier to just do:</p>\n<pre><code>@Override\npublic MerchantGRPC findById(idMerchantGRPC request) {\n\n    // Find in database the merchant (getting error in this)\n    MerchantDTO merchantDTO = merchantService.findById(request.getId());\n\n    return fromMerchantDTOtoMerchantGRPC(merchantDTO);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18801838,"reputation":23,"user_id":13711984,"display_name":"Mountain65"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659002465,"creation_date":1659002364,"answer_id":73150868,"question_id":73137591,"body_markdown":"So I decided to use the **default gRPC API** instead of the Mutiny API because ``` @Blocked ``` don&#39;t seems to change the thread to worker pool for my method ([Blocked usage][1]).\r\nAfter some changings I got the same error but it works when i used ``` @Blocked ``` on the method (this time the annotation seems to do his job). \r\n\r\n\r\n  [1]: https://quarkus.io/guides/grpc-service-implementation","title":"BlockingOperationNotAllowedException - You have attempted to perform a blocking operation on a IO thread","body":"<p>So I decided to use the <strong>default gRPC API</strong> instead of the Mutiny API because <code>@Blocked</code> don't seems to change the thread to worker pool for my method (<a href=\"https://quarkus.io/guides/grpc-service-implementation\" rel=\"nofollow noreferrer\">Blocked usage</a>).\nAfter some changings I got the same error but it works when i used <code>@Blocked</code> on the method (this time the annotation seems to do his job).</p>\n"},{"tags":[],"owner":{"account_id":3939508,"reputation":165,"user_id":3254545,"display_name":"Adriano Moreira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697645758,"creation_date":1697645758,"answer_id":77318021,"question_id":73137591,"body_markdown":"To use Uni&lt;?&gt; you need to emmit to a executor, to run in a work-thread and not in a main event loop thread, see a sample below.\r\n\r\nproduct.proto:\r\n\r\n    service ProductService {\r\n      rpc FindById(FindRequest) returns (ProductDTO);\r\n      rpc CreateProduct(CreateRequest) returns (ProductDTO);\r\n    }\r\n    \r\n    message FindRequest {\r\n      string id = 1;\r\n    }\r\n    \r\n    message CreateRequest {\r\n      string name = 1;\r\n    }\r\n    \r\n    message ProductDTO {\r\n      string id = 1;\r\n      string name = 2;\r\n    }\r\n\r\n\r\n\r\n\r\nProductRepository.java\r\n\r\n    @ApplicationScoped\r\n    public class ProductRepository implements PanacheRepositoryBase&lt;ProductEntity, Long&gt; {\r\n    }\r\n\r\nMyProductService.java\r\n\r\n    @ApplicationScoped\r\n    public class MyProductService {\r\n    \r\n        @Inject\r\n        ProductRepository repository;\r\n    \r\n        @Transactional\r\n        public ProductEntity create(String name) {\r\n            Log.infov(&quot;into create&quot;);\r\n            var pe = new ProductEntity();\r\n            pe.setName(name);\r\n            repository.persist(pe);\r\n            return pe;\r\n        }\r\n    \r\n        public ProductEntity findById(Long id) {\r\n            return repository.findById(id);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nGRPCProductService.java \r\n\r\n    @GrpcService\r\n    public class GRPCProductService implements ProductService {\r\n\r\n   \r\n\r\n        @Inject\r\n        MyProductService service;\r\n    \r\n        private ExecutorService executor = Executors.newFixedThreadPool(4);\r\n    \r\n        @Override\r\n        public Uni&lt;Product.ProductDTO&gt; findById(Product.FindRequest request) {\r\n            return Uni.createFrom()\r\n                    .item(request)\r\n                    .emitOn(executor) //   &lt;-- HERE\r\n                    .map((r) -&gt; {\r\n                        var entity = service.findById(Long.parseLong(r.getId()));\r\n                        return Product.ProductDTO.newBuilder()\r\n                                .setId(entity.getId().toString())\r\n                                .setName(entity.getName())\r\n                                .build();\r\n                    });\r\n        }\r\n    \r\n        @Override\r\n        public Uni&lt;Product.ProductDTO&gt; createProduct(Product.CreateRequest request) {\r\n            Log.infov(&quot;into createProduct&quot;);\r\n            return Uni.createFrom()\r\n                    .item(request)\r\n                    .emitOn(executor) //   &lt;-- HERE\r\n                    .map(r -&gt; {\r\n                        Log.infov(&quot;into createProduct map&quot;);\r\n                        var entity = service.create(r.getName());\r\n                        return Product.ProductDTO.newBuilder()\r\n                                .setId(entity.getId().toString())\r\n                                .setName(entity.getName())\r\n                                .build();\r\n                    });\r\n        }\r\n    }\r\n\r\n\r\nlog output from this sample:\r\n\r\n    2023-10-18 13:16:33,082 INFO  [dem.pro.GRPCProductService] (vert.x-eventloop-thread-0) into createProduct\r\n    2023-10-18 13:16:33,084 INFO  [dem.pro.GRPCProductService] (pool-7-thread-1) into createProduct map\r\n    2023-10-18 13:16:33,099 INFO  [dem.pro.MyProductService] (pool-7-thread-1) into create","title":"BlockingOperationNotAllowedException - You have attempted to perform a blocking operation on a IO thread","body":"<p>To use Uni&lt;?&gt; you need to emmit to a executor, to run in a work-thread and not in a main event loop thread, see a sample below.</p>\n<p>product.proto:</p>\n<pre><code>service ProductService {\n  rpc FindById(FindRequest) returns (ProductDTO);\n  rpc CreateProduct(CreateRequest) returns (ProductDTO);\n}\n\nmessage FindRequest {\n  string id = 1;\n}\n\nmessage CreateRequest {\n  string name = 1;\n}\n\nmessage ProductDTO {\n  string id = 1;\n  string name = 2;\n}\n</code></pre>\n<p>ProductRepository.java</p>\n<pre><code>@ApplicationScoped\npublic class ProductRepository implements PanacheRepositoryBase&lt;ProductEntity, Long&gt; {\n}\n</code></pre>\n<p>MyProductService.java</p>\n<pre><code>@ApplicationScoped\npublic class MyProductService {\n\n    @Inject\n    ProductRepository repository;\n\n    @Transactional\n    public ProductEntity create(String name) {\n        Log.infov(&quot;into create&quot;);\n        var pe = new ProductEntity();\n        pe.setName(name);\n        repository.persist(pe);\n        return pe;\n    }\n\n    public ProductEntity findById(Long id) {\n        return repository.findById(id);\n    }\n\n}\n</code></pre>\n<p>GRPCProductService.java</p>\n<pre><code>@GrpcService\npublic class GRPCProductService implements ProductService {\n\n\n\n    @Inject\n    MyProductService service;\n\n    private ExecutorService executor = Executors.newFixedThreadPool(4);\n\n    @Override\n    public Uni&lt;Product.ProductDTO&gt; findById(Product.FindRequest request) {\n        return Uni.createFrom()\n                .item(request)\n                .emitOn(executor) //   &lt;-- HERE\n                .map((r) -&gt; {\n                    var entity = service.findById(Long.parseLong(r.getId()));\n                    return Product.ProductDTO.newBuilder()\n                            .setId(entity.getId().toString())\n                            .setName(entity.getName())\n                            .build();\n                });\n    }\n\n    @Override\n    public Uni&lt;Product.ProductDTO&gt; createProduct(Product.CreateRequest request) {\n        Log.infov(&quot;into createProduct&quot;);\n        return Uni.createFrom()\n                .item(request)\n                .emitOn(executor) //   &lt;-- HERE\n                .map(r -&gt; {\n                    Log.infov(&quot;into createProduct map&quot;);\n                    var entity = service.create(r.getName());\n                    return Product.ProductDTO.newBuilder()\n                            .setId(entity.getId().toString())\n                            .setName(entity.getName())\n                            .build();\n                });\n    }\n}\n</code></pre>\n<p>log output from this sample:</p>\n<pre><code>2023-10-18 13:16:33,082 INFO  [dem.pro.GRPCProductService] (vert.x-eventloop-thread-0) into createProduct\n2023-10-18 13:16:33,084 INFO  [dem.pro.GRPCProductService] (pool-7-thread-1) into createProduct map\n2023-10-18 13:16:33,099 INFO  [dem.pro.MyProductService] (pool-7-thread-1) into create\n</code></pre>\n"}],"owner":{"account_id":18801838,"reputation":23,"user_id":13711984,"display_name":"Mountain65"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73150868,"answer_count":3,"score":1,"last_activity_date":1697645758,"creation_date":1658923383,"question_id":73137591,"body_markdown":"I&#39;m making a GRPC service in my quarkus app and when I try to make a request on my method I get this error:\r\n\r\n```UNKNOWN: io.quarkus.runtime.BlockingOperationNotAllowedException - You have attempted to perform a blocking operation on a IO thread. This is not allowed, as blocking the IO thread will cause major performance issues with your application. If you want to perform blocking EntityManager operations make sure you are doing it from a worker thread.```\r\n\r\nSo I read in this [article][1] that I should add the annotation ```@Blocking``` to use the worker thread.\r\n\r\nAfter putting it, i got the same error.\r\n\r\nThere is my code:\r\n\r\n**GRPCService**\r\n```    \r\n    @Override\r\n    @Blocking\r\n    public Uni&lt;MerchantGRPC&gt; findById(idMerchantGRPC request) {\r\n\r\n        // Find in database the merchant (getting error in this)\r\n        MerchantDTO merchantDTO =     merchantService.findById(request.getId());\r\n\r\n        return Uni.createFrom().item(fromMerchantDTOtoMerchantGRPC(merchantDTO));\r\n    }\r\n ``` \r\n\r\n**Edit**\r\n\r\n**Service in my proto**\r\n```\r\n    service Greeter {\r\n      rpc SayHello (HelloRequest) returns (HelloReply) {}\r\n      rpc findById (idMerchantGRPC) returns (MerchantGRPC) {}\r\n    }\r\n```\r\n**Dependencies**\r\n```\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-jdbc-mysql&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n          &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n          &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-junit5-mockito&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-grpc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nDo you have any idea that could help ?\r\n\r\n  [1]: https://quarkus.io/blog/resteasy-reactive-smart-dispatch/#:~:text=You%20have%20attempted%20to%20perform,lang.","title":"BlockingOperationNotAllowedException - You have attempted to perform a blocking operation on a IO thread","body":"<p>I'm making a GRPC service in my quarkus app and when I try to make a request on my method I get this error:</p>\n<p><code>UNKNOWN: io.quarkus.runtime.BlockingOperationNotAllowedException - You have attempted to perform a blocking operation on a IO thread. This is not allowed, as blocking the IO thread will cause major performance issues with your application. If you want to perform blocking EntityManager operations make sure you are doing it from a worker thread.</code></p>\n<p>So I read in this <a href=\"https://quarkus.io/blog/resteasy-reactive-smart-dispatch/#:%7E:text=You%20have%20attempted%20to%20perform,lang.\" rel=\"nofollow noreferrer\">article</a> that I should add the annotation <code>@Blocking</code> to use the worker thread.</p>\n<p>After putting it, i got the same error.</p>\n<p>There is my code:</p>\n<p><strong>GRPCService</strong></p>\n<pre><code>    @Override\n    @Blocking\n    public Uni&lt;MerchantGRPC&gt; findById(idMerchantGRPC request) {\n\n        // Find in database the merchant (getting error in this)\n        MerchantDTO merchantDTO =     merchantService.findById(request.getId());\n\n        return Uni.createFrom().item(fromMerchantDTOtoMerchantGRPC(merchantDTO));\n    }\n</code></pre>\n<p><strong>Edit</strong></p>\n<p><strong>Service in my proto</strong></p>\n<pre><code>    service Greeter {\n      rpc SayHello (HelloRequest) returns (HelloReply) {}\n      rpc findById (idMerchantGRPC) returns (MerchantGRPC) {}\n    }\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre><code>    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-jdbc-mysql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n          &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n          &lt;version&gt;1.5.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n          &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n          &lt;version&gt;1.5.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-junit5-mockito&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n          &lt;artifactId&gt;quarkus-grpc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Do you have any idea that could help ?</p>\n"},{"tags":["java","text-files"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1542316363,"post_id":53327811,"comment_id":93536260,"body_markdown":"*Where* did you add those two lines of code?","body":"<i>Where</i> did you add those two lines of code?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1542316424,"post_id":53327811,"comment_id":93536284,"body_markdown":"Try using [`Files.delete(Path path)`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-) and [`Files.move(Path source, Path target)`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-) instead, since they will throw exception if operation fails, explaining why, rather than just return an uninformative `false` value like the old [`File`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html) methods do.","body":"Try using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\" rel=\"nofollow noreferrer\"><code>Files.delete(Path path)</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\"><code>Files.move(Path source, Path target)</code></a> instead, since they will throw exception if operation fails, explaining why, rather than just return an uninformative <code>false</code> value like the old <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\"><code>File</code></a> methods do."},{"owner":{"account_id":7122695,"reputation":321,"user_id":5446726,"display_name":"Fotic"},"score":0,"creation_date":1542317850,"post_id":53327811,"comment_id":93536874,"body_markdown":"@Andreas i add them after  `inputFile.close();outputFile.close();` .Do you mean like that `Files.delete(&quot;src/inware/users.txt&quot;);Files.move(&quot;src/inware/users.txt&quot;,&quot;src/inware/usersT.txt&quot;);` .Still not working im getting error","body":"@Andreas i add them after  <code>inputFile.close();outputFile.close();</code> .Do you mean like that <code>Files.delete(&quot;src&#47;inware&#47;users.txt&quot;);Files.move(&quot;src&#47;inware&#47;&zwnj;&#8203;users.txt&quot;,&quot;src&#47;inwa&zwnj;&#8203;re&#47;usersT.txt&quot;);</code> .Still not working im getting error"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1542320966,"post_id":53327811,"comment_id":93538009,"body_markdown":"Did you look at the links Andreas provided?  The arguments must be Path objects, not Strings.","body":"Did you look at the links Andreas provided?  The arguments must be Path objects, not Strings."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1542328909,"post_id":53327811,"comment_id":93540025,"body_markdown":"First, you can&#39;t do `inputFile.delete()` since `inputFile` is a `BufferedReader`, not a `File`. --- Instead of `new File(inputFileName).delete()`, you use `Files.delete(Paths.get(inputFileName))`.","body":"First, you can&#39;t do <code>inputFile.delete()</code> since <code>inputFile</code> is a <code>BufferedReader</code>, not a <code>File</code>. --- Instead of <code>new File(inputFileName).delete()</code>, you use <code>Files.delete(Paths.get(inputFileName))</code>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1542328953,"post_id":53327811,"comment_id":93540031,"body_markdown":"*FYI:* Since you&#39;re using try-with-resources, don&#39;t close the streams yourself. Move the delete and rename outside the `try` block.","body":"<i>FYI:</i> Since you&#39;re using try-with-resources, don&#39;t close the streams yourself. Move the delete and rename outside the <code>try</code> block."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1542366444,"post_id":53327811,"comment_id":93551938,"body_markdown":"can&#39;t detect anything related to javafx so removed the tag","body":"can&#39;t detect anything related to javafx so removed the tag"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542330020,"creation_date":1542330020,"answer_id":53329985,"question_id":53327811,"body_markdown":"Use the new File NIO.2 API instead of the old antiquated File I/O API.\r\n\r\nThis means that you should use [`Files.delete(Path path)`][1] and [`Files.move(Path source, Path target)`][2] instead, since they will throw exception if operation fails, explaining **why**, rather than just return an uninformative `false` value like the old [`File`][3] methods do.\r\n\r\nAlso, since you&#39;re using *try-with-resources*, don&#39;t close the streams yourself. Close the `try` block at the time you want the resources closed.\r\n\r\nChange the code to:\r\n\r\n\timport java.io.*;\r\n\timport java.nio.file.*;\r\n\timport java.util.logging.*;\r\n\r\n&lt;!-- --&gt;\r\n\r\n\tPath inputFile = Paths.get(&quot;src/inware/users.txt&quot;);\r\n\tPath outputFile = Paths.get(&quot;src/inware/usersT.txt&quot;);\r\n\ttry {\r\n\t\ttry (BufferedReader in = Files.newBufferedReader(inputFile);\r\n\t\t     PrintWriter out = new PrintWriter(Files.newBufferedWriter(outputFile))) {\r\n\t\t\tfor (String line; (line = in.readLine()) != null; ) {\r\n\t\t\t\tline = line.trim();\r\n\t\t\t\tif (! line.isEmpty())\r\n\t\t\t\t\tout.println(line);\r\n\t\t\t}\r\n\t\t}\r\n\t\tFiles.delete(inputFile);\r\n\t\tFiles.move(inputFile, outputFile);\r\n\t} catch (IOException ex) {\r\n\t\tLogger.getLogger(ManageStudentController.class.getName()).log(Level.SEVERE, null, ex);\r\n\t}\r\n\r\nIf the delete+rename fails, you&#39;ll now know why.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/io/File.html","title":"How to rename the temp file to original text file?","body":"<p>Use the new File NIO.2 API instead of the old antiquated File I/O API.</p>\n\n<p>This means that you should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\" rel=\"nofollow noreferrer\"><code>Files.delete(Path path)</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\"><code>Files.move(Path source, Path target)</code></a> instead, since they will throw exception if operation fails, explaining <strong>why</strong>, rather than just return an uninformative <code>false</code> value like the old <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\"><code>File</code></a> methods do.</p>\n\n<p>Also, since you're using <em>try-with-resources</em>, don't close the streams yourself. Close the <code>try</code> block at the time you want the resources closed.</p>\n\n<p>Change the code to:</p>\n\n<pre><code>import java.io.*;\nimport java.nio.file.*;\nimport java.util.logging.*;\n</code></pre>\n\n\n\n<pre><code>Path inputFile = Paths.get(\"src/inware/users.txt\");\nPath outputFile = Paths.get(\"src/inware/usersT.txt\");\ntry {\n    try (BufferedReader in = Files.newBufferedReader(inputFile);\n         PrintWriter out = new PrintWriter(Files.newBufferedWriter(outputFile))) {\n        for (String line; (line = in.readLine()) != null; ) {\n            line = line.trim();\n            if (! line.isEmpty())\n                out.println(line);\n        }\n    }\n    Files.delete(inputFile);\n    Files.move(inputFile, outputFile);\n} catch (IOException ex) {\n    Logger.getLogger(ManageStudentController.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n\n<p>If the delete+rename fails, you'll now know why.</p>\n"},{"tags":[],"owner":{"account_id":7122695,"reputation":321,"user_id":5446726,"display_name":"Fotic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1542354690,"creation_date":1542354690,"answer_id":53333543,"question_id":53327811,"body_markdown":"I found better solution that fix my problem:\r\n\r\n        Path p = Paths.get(&quot;src&quot;, &quot;inware&quot;, &quot;users.txt&quot;);\r\n        try {\r\n            Path tempFile = Files.createTempFile(p.getParent(), &quot;usersTemp&quot;, &quot;.txt&quot;);\r\n            try (BufferedReader in = Files.newBufferedReader(p);\r\n                 PrintWriter out = new PrintWriter(Files.newBufferedWriter(tempFile))) {\r\n                for (String line; (line = in.readLine()) != null;) {\r\n                    line = line.trim();\r\n                    if (!line.isEmpty()) {\r\n                        out.println(line);\r\n                    }\r\n                }\r\n            }\r\n            Files.copy(tempFile, p, StandardCopyOption.REPLACE_EXISTING);\r\n            Files.delete(tempFile);\r\n            \r\n        } catch (IOException ex) {\r\n            Logger.getLogger(ManageStudentController.class.getName()).log(Level.SEVERE, null, ex);\r\n        }","title":"How to rename the temp file to original text file?","body":"<p>I found better solution that fix my problem:</p>\n\n<pre><code>    Path p = Paths.get(\"src\", \"inware\", \"users.txt\");\n    try {\n        Path tempFile = Files.createTempFile(p.getParent(), \"usersTemp\", \".txt\");\n        try (BufferedReader in = Files.newBufferedReader(p);\n             PrintWriter out = new PrintWriter(Files.newBufferedWriter(tempFile))) {\n            for (String line; (line = in.readLine()) != null;) {\n                line = line.trim();\n                if (!line.isEmpty()) {\n                    out.println(line);\n                }\n            }\n        }\n        Files.copy(tempFile, p, StandardCopyOption.REPLACE_EXISTING);\n        Files.delete(tempFile);\n\n    } catch (IOException ex) {\n        Logger.getLogger(ManageStudentController.class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697644968,"creation_date":1697625260,"answer_id":77315529,"question_id":53327811,"body_markdown":"    File tempDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n    File tempFile = new File(tempDir, name + &quot;.&quot; + imageType);","title":"How to rename the temp file to original text file?","body":"<pre><code>File tempDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\nFile tempFile = new File(tempDir, name + &quot;.&quot; + imageType);\n</code></pre>\n"}],"owner":{"account_id":7122695,"reputation":321,"user_id":5446726,"display_name":"Fotic"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3778,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":53333543,"answer_count":3,"score":-4,"last_activity_date":1697644968,"creation_date":1542315506,"question_id":53327811,"body_markdown":"Hello my code basically **delete the empty lines from txt file**, but i want at the end temp file take the originals name.\r\n\r\n        String inputFileName = &quot;src/inware/users.txt&quot;;\r\n        String outputFileName = &quot;src/inware/usersT.txt&quot;;\r\n\r\n        try (BufferedReader inputFile = new BufferedReader(new FileReader(inputFileName));\r\n             PrintWriter outputFile = new PrintWriter(new FileWriter(outputFileName))) {\r\n            String lineOfText;\r\n            while ((lineOfText = inputFile.readLine()) != null) {\r\n                lineOfText = lineOfText.trim();\r\n                if (!lineOfText.isEmpty()) {\r\n                    outputFile.println(lineOfText);\r\n                }\r\n            }\r\n            inputFile.close();\r\n            outputFile.close();\r\n\r\n            inputFile.delete();\r\n            outputFile.renameTo(inputFile);\r\n          \r\n        } catch (IOException ex) {\r\n            Logger.getLogger(ManageStudentController.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\nI try\r\n\r\n            inputFile.delete();\r\n            outputFile.renameTo(inputFile);\r\n\r\nBut is not working... Any solution??","title":"How to rename the temp file to original text file?","body":"<p>Hello my code basically <strong>delete the empty lines from txt file</strong>, but i want at the end temp file take the originals name.</p>\n\n<pre><code>    String inputFileName = \"src/inware/users.txt\";\n    String outputFileName = \"src/inware/usersT.txt\";\n\n    try (BufferedReader inputFile = new BufferedReader(new FileReader(inputFileName));\n         PrintWriter outputFile = new PrintWriter(new FileWriter(outputFileName))) {\n        String lineOfText;\n        while ((lineOfText = inputFile.readLine()) != null) {\n            lineOfText = lineOfText.trim();\n            if (!lineOfText.isEmpty()) {\n                outputFile.println(lineOfText);\n            }\n        }\n        inputFile.close();\n        outputFile.close();\n\n        inputFile.delete();\n        outputFile.renameTo(inputFile);\n\n    } catch (IOException ex) {\n        Logger.getLogger(ManageStudentController.class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n\n<p>I try</p>\n\n<pre><code>        inputFile.delete();\n        outputFile.renameTo(inputFile);\n</code></pre>\n\n<p>But is not working... Any solution??</p>\n"},{"tags":["java","spring-boot","asynchronous","websocket","virtual-threads"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697661207,"post_id":77317750,"comment_id":136309542,"body_markdown":"FYI, `java.util.Timer` &amp; `TimerTask` are legacy, supplanted by the Executors framework. So noted in their Javadoc.","body":"FYI, <code>java.util.Timer</code> &amp; <code>TimerTask</code> are legacy, supplanted by the Executors framework. So noted in their Javadoc."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697644425,"creation_date":1697644094,"answer_id":77317850,"question_id":77317750,"body_markdown":"You&#39;re calling `pushCount` from within the class (or more specifically an anonymous inner class of `TestTask`), and then the `Async` annotation has no effect. Such annotations usually *only* work when calling methods from outside on a bean, not when calling from within that bean. That is because these effects are generally achieved by enhancing the object by wrapping it in a proxy that does the actual action of running the method call async, but if you call it within a class, you&#39;re calling the method directly on the original object, and not on the wrapper which performs the action in an asynchronous manner.\r\n\r\nThis BTW also applies to your use in the controller, but there you don&#39;t notice it because you have configured the embedded Tomcat to handle requests on virtual threads as well, so you see the result you&#39;re looking for, but the method call is not actually async.\r\n\r\nThe solution is to create a separate bean for the async method, and inject/autowire that into `TestTask` (or alternatively, to create a separate component for `pushStatus()` and inject `TestTask` into that and call the async method on that test task instance). You need to do something similar for your controller if you actually want `task()` to be really executed async.","title":"Why can&#39;t I start an asynchronous task in a scheduled task using a virtual thread?","body":"<p>You're calling <code>pushCount</code> from within the class (or more specifically an anonymous inner class of <code>TestTask</code>), and then the <code>Async</code> annotation has no effect. Such annotations usually <em>only</em> work when calling methods from outside on a bean, not when calling from within that bean. That is because these effects are generally achieved by enhancing the object by wrapping it in a proxy that does the actual action of running the method call async, but if you call it within a class, you're calling the method directly on the original object, and not on the wrapper which performs the action in an asynchronous manner.</p>\n<p>This BTW also applies to your use in the controller, but there you don't notice it because you have configured the embedded Tomcat to handle requests on virtual threads as well, so you see the result you're looking for, but the method call is not actually async.</p>\n<p>The solution is to create a separate bean for the async method, and inject/autowire that into <code>TestTask</code> (or alternatively, to create a separate component for <code>pushStatus()</code> and inject <code>TestTask</code> into that and call the async method on that test task instance). You need to do something similar for your controller if you actually want <code>task()</code> to be really executed async.</p>\n"}],"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697644425,"creation_date":1697643316,"question_id":77317750,"body_markdown":"I am using Java 21 and Spring Boot 2.7.3. I used java.util.Timer to create a scheduled task, and then called the asynchronous method annotated with @Async annotation in this scheduled task. Then I configured the asynchronous task processor for Spring Boot to be a virtual Thread Executor, finally I printed Thread.currentThread.isVirtual() in the code marked with @Async, and found that false was output. The sample code is as follows (the original intention of the following code is actually to periodically send data to all WebSocket sessions connected to my server):\r\n\r\n```java\r\n@Slf4j\r\n@Component\r\npublic class TestTask{\r\n\r\n    @PostConstruct\r\n    public void pushStatus() {\r\n        Timer timer = new Timer();\r\n        timer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                countWebSocketsMap.forEach((k, v) -&gt; {\r\n                    pushCount(k,v);\r\n                });\r\n            }\r\n        }, 0, 500);\r\n     }\r\n\r\n     @Async\r\n     public void pushCount(String sessionId, WebSocketSession session) {\r\n         log.info(&quot;{}&quot;,Thread.currentThread().isVirtual());\r\n     }\r\n}\r\n```\r\nI bound the virtual thread for Spring Boot async tasks like follows:\r\n```java\r\n@EnableAsync\r\n@Configuration\r\n@ConditionalOnProperty(\r\n        value = &quot;spring.thread-executor&quot;,\r\n        havingValue = &quot;virtual&quot;\r\n)\r\n@Slf4j\r\npublic class AsyncConfig   {\r\n    @Bean\r\n    public AsyncTaskExecutor applicationTaskExecutor() {\r\n        return new TaskExecutorAdapter(Executors.newVirtualThreadPerTaskExecutor());\r\n    }\r\n\r\n    @Bean\r\n    public TomcatProtocolHandlerCustomizer&lt;?&gt; protocolHandlerVirtualThreadExecutorCustomizer() {\r\n        return protocolHandler -&gt; {\r\n            protocolHandler.setExecutor(Executors.newVirtualThreadPerTaskExecutor());\r\n        };\r\n    }\r\n}\r\n```\r\nHowever, if I call this asynchronous task in a web controller, my console outputs &quot;true&quot;, like this:\r\n\r\n```java\r\n@GetMapping(&quot;/vm&quot;)\r\npublic void vm( ){\r\n    task();\r\n}\r\n\r\n@Async\r\npublic void task(){\r\n    log.info(&quot;info={}&quot;, Thread.currentThread().isVirtual());\r\n}\r\n```\r\nI am looking for a way to directly use methods annotated with @Async in scheduled tasks, running them in virtual threads. Also, I would like to know if there&#39;s a straightforward way to obtain the return value of @Async annotated virtual thread methods.","title":"Why can&#39;t I start an asynchronous task in a scheduled task using a virtual thread?","body":"<p>I am using Java 21 and Spring Boot 2.7.3. I used java.util.Timer to create a scheduled task, and then called the asynchronous method annotated with @Async annotation in this scheduled task. Then I configured the asynchronous task processor for Spring Boot to be a virtual Thread Executor, finally I printed Thread.currentThread.isVirtual() in the code marked with @Async, and found that false was output. The sample code is as follows (the original intention of the following code is actually to periodically send data to all WebSocket sessions connected to my server):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\npublic class TestTask{\n\n    @PostConstruct\n    public void pushStatus() {\n        Timer timer = new Timer();\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                countWebSocketsMap.forEach((k, v) -&gt; {\n                    pushCount(k,v);\n                });\n            }\n        }, 0, 500);\n     }\n\n     @Async\n     public void pushCount(String sessionId, WebSocketSession session) {\n         log.info(&quot;{}&quot;,Thread.currentThread().isVirtual());\n     }\n}\n</code></pre>\n<p>I bound the virtual thread for Spring Boot async tasks like follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableAsync\n@Configuration\n@ConditionalOnProperty(\n        value = &quot;spring.thread-executor&quot;,\n        havingValue = &quot;virtual&quot;\n)\n@Slf4j\npublic class AsyncConfig   {\n    @Bean\n    public AsyncTaskExecutor applicationTaskExecutor() {\n        return new TaskExecutorAdapter(Executors.newVirtualThreadPerTaskExecutor());\n    }\n\n    @Bean\n    public TomcatProtocolHandlerCustomizer&lt;?&gt; protocolHandlerVirtualThreadExecutorCustomizer() {\n        return protocolHandler -&gt; {\n            protocolHandler.setExecutor(Executors.newVirtualThreadPerTaskExecutor());\n        };\n    }\n}\n</code></pre>\n<p>However, if I call this asynchronous task in a web controller, my console outputs &quot;true&quot;, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/vm&quot;)\npublic void vm( ){\n    task();\n}\n\n@Async\npublic void task(){\n    log.info(&quot;info={}&quot;, Thread.currentThread().isVirtual());\n}\n</code></pre>\n<p>I am looking for a way to directly use methods annotated with @Async in scheduled tasks, running them in virtual threads. Also, I would like to know if there's a straightforward way to obtain the return value of @Async annotated virtual thread methods.</p>\n"},{"tags":["java","gradle","google-bigquery","shadowjar"],"owner":{"account_id":2032093,"reputation":1995,"user_id":1815486,"accept_rate":40,"display_name":"aiguofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697644098,"creation_date":1697644098,"question_id":77317852,"body_markdown":"The Google BigQuery JDBC jar is distributed as a [downloadable zip][1]. A lot of its dependencies are gRPC related, but we&#39;re also using gRPC. This has caused conflicts in the past where we had to go remove conflicting version jars from the provided `/libs`. So far we haven&#39;t run into issues from doing so, but I&#39;m worried at some point a version discrepancy will cause some sort of runtime issues.\r\n\r\nWe currently include it in our Gradle project with:\r\n\r\n```\r\ngradle.taskGraph.whenReady {\r\n    allTasks\r\n        .filter { it.hasProperty(&quot;duplicatesStrategy&quot;) }\r\n        .forEach {\r\n            it.setProperty(&quot;duplicatesStrategy&quot;, &quot;EXCLUDE&quot;)\r\n        }\r\n}\r\n\r\ndependencies {\r\n...\r\n    implementation(fileTree(mapOf(&quot;dir&quot; to &quot;libs/SimbaJDBCDriverforGoogleBigQuery42_1.3.3.1004/&quot;, &quot;include&quot; to listOf(&quot;*.jar&quot;))))\r\n...\r\n}\r\n```\r\n\r\nI see Dremio created a [maven project][2] to shade the jar themselves, but this is pretty old and we use Gradle. I imagine something like this is also possible in Gradle, but I&#39;m not sure how to go about it.\r\n\r\nMy guess so far is:\r\n 1. Set up a subproject in gradle for shading BQ\r\n 2. Manually configure all the dependencies in the gradle project with versions matching those in the `/libs` dir.\r\n 3. Somehow tell this project to build the shaded BQ jar?\r\n 4. Somehow tell our main project that it depends on that shaded jar?\r\n\r\nIf there&#39;s easier ways to accomplish this I&#39;m all ears!\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/odbc-jdbc-drivers#current_jdbc_driver\r\n  [2]: https://github.com/panoramichq/dremio-bigquery-connector/blob/master/bigquery-driver-shade/pom.xml","title":"How to make a shadow jar from a third party JAR that is distributed as a zip","body":"<p>The Google BigQuery JDBC jar is distributed as a <a href=\"https://cloud.google.com/bigquery/docs/reference/odbc-jdbc-drivers#current_jdbc_driver\" rel=\"nofollow noreferrer\">downloadable zip</a>. A lot of its dependencies are gRPC related, but we're also using gRPC. This has caused conflicts in the past where we had to go remove conflicting version jars from the provided <code>/libs</code>. So far we haven't run into issues from doing so, but I'm worried at some point a version discrepancy will cause some sort of runtime issues.</p>\n<p>We currently include it in our Gradle project with:</p>\n<pre><code>gradle.taskGraph.whenReady {\n    allTasks\n        .filter { it.hasProperty(&quot;duplicatesStrategy&quot;) }\n        .forEach {\n            it.setProperty(&quot;duplicatesStrategy&quot;, &quot;EXCLUDE&quot;)\n        }\n}\n\ndependencies {\n...\n    implementation(fileTree(mapOf(&quot;dir&quot; to &quot;libs/SimbaJDBCDriverforGoogleBigQuery42_1.3.3.1004/&quot;, &quot;include&quot; to listOf(&quot;*.jar&quot;))))\n...\n}\n</code></pre>\n<p>I see Dremio created a <a href=\"https://github.com/panoramichq/dremio-bigquery-connector/blob/master/bigquery-driver-shade/pom.xml\" rel=\"nofollow noreferrer\">maven project</a> to shade the jar themselves, but this is pretty old and we use Gradle. I imagine something like this is also possible in Gradle, but I'm not sure how to go about it.</p>\n<p>My guess so far is:</p>\n<ol>\n<li>Set up a subproject in gradle for shading BQ</li>\n<li>Manually configure all the dependencies in the gradle project with versions matching those in the <code>/libs</code> dir.</li>\n<li>Somehow tell this project to build the shaded BQ jar?</li>\n<li>Somehow tell our main project that it depends on that shaded jar?</li>\n</ol>\n<p>If there's easier ways to accomplish this I'm all ears!</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1697499853,"post_id":77304555,"comment_id":136285059,"body_markdown":"Don&#39;t misuse tags. Your Java stuffs should use the java tag, and the mono tag is for something else.","body":"Don&#39;t misuse tags. Your Java stuffs should use the java tag, and the mono tag is for something else."}],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697643863,"creation_date":1697643863,"answer_id":77317823,"question_id":77304555,"body_markdown":"Your logger does not log because you put it in the `doOnNext` method, which is not executed since your `publish` method returns `Mono&lt;Void&gt;` that is empty mono. If you replace `doOnNext` with `doOnSuccess` everything should work as expected. \r\n\r\nBy the way, you can also simplify your code using `Mono.justOrEmpty` here:\r\n \r\n```java\r\nprivate Mono&lt;Void&gt; sendEvent(EventType eventType, Bundle bundle, String tenantId) {\r\n    EventAbstractFactory&lt;AbstractHealthDataEvent&gt; factory =\r\n        this.eventFactory.getFactory(eventType, bundle, tenantId);\r\n\r\n    return Mono.justOrEmpty(factory.createEvent())\r\n        .flatMap(event -&gt;\r\n            eventPublisherService.publish(eventType, event)\r\n                .doOnSuccess(aVoid -&gt; LOGGER.info(&quot;{} event published successfully.&quot;, eventType.getName()));\r\n        )\r\n}\r\n```","title":"doOnSuccess on Mono.Void not called","body":"<p>Your logger does not log because you put it in the <code>doOnNext</code> method, which is not executed since your <code>publish</code> method returns <code>Mono&lt;Void&gt;</code> that is empty mono. If you replace <code>doOnNext</code> with <code>doOnSuccess</code> everything should work as expected.</p>\n<p>By the way, you can also simplify your code using <code>Mono.justOrEmpty</code> here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;Void&gt; sendEvent(EventType eventType, Bundle bundle, String tenantId) {\n    EventAbstractFactory&lt;AbstractHealthDataEvent&gt; factory =\n        this.eventFactory.getFactory(eventType, bundle, tenantId);\n\n    return Mono.justOrEmpty(factory.createEvent())\n        .flatMap(event -&gt;\n            eventPublisherService.publish(eventType, event)\n                .doOnSuccess(aVoid -&gt; LOGGER.info(&quot;{} event published successfully.&quot;, eventType.getName()));\n        )\n}\n</code></pre>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77317823,"answer_count":1,"score":0,"last_activity_date":1697643863,"creation_date":1697485020,"question_id":77304555,"body_markdown":"I am trying to log success statement after process is successful like this:\r\n```\r\nprivate Mono&lt;Void&gt; sendEvent(EventType eventType, Bundle bundle, String tenantId) {\r\n        EventAbstractFactory&lt;AbstractHealthDataEvent&gt; factory =\r\n            this.eventFactory.getFactory(eventType, bundle, tenantId);\r\n        Optional&lt;AbstractHealthDataEvent&gt; eventOptional = factory.createEvent();\r\n\r\n        if (eventOptional.isPresent()) {\r\n            return eventPublisherService.publish(eventType, eventOptional.get())\r\n                .doOnNext(aVoid -&gt; LOGGER.info(&quot;{} event published successfully.&quot;, eventType.getName()));\r\n        }\r\n        return Mono.empty();\r\n    }\r\n```\r\n\r\nWhen `eventOptional.isPresent()`, then I want to call `.publish` method and then if it is successful, I want to log something in the `LOGGER`. However, this doesn&#39;t work. How can I achieve this without changing the return type?","title":"doOnSuccess on Mono.Void not called","body":"<p>I am trying to log success statement after process is successful like this:</p>\n<pre><code>private Mono&lt;Void&gt; sendEvent(EventType eventType, Bundle bundle, String tenantId) {\n        EventAbstractFactory&lt;AbstractHealthDataEvent&gt; factory =\n            this.eventFactory.getFactory(eventType, bundle, tenantId);\n        Optional&lt;AbstractHealthDataEvent&gt; eventOptional = factory.createEvent();\n\n        if (eventOptional.isPresent()) {\n            return eventPublisherService.publish(eventType, eventOptional.get())\n                .doOnNext(aVoid -&gt; LOGGER.info(&quot;{} event published successfully.&quot;, eventType.getName()));\n        }\n        return Mono.empty();\n    }\n</code></pre>\n<p>When <code>eventOptional.isPresent()</code>, then I want to call <code>.publish</code> method and then if it is successful, I want to log something in the <code>LOGGER</code>. However, this doesn't work. How can I achieve this without changing the return type?</p>\n"},{"tags":["java","integer"],"comments":[{"owner":{"account_id":912043,"reputation":149,"user_id":945655,"display_name":"David S Alderson"},"score":1,"creation_date":1483335872,"post_id":8033550,"comment_id":70049166,"body_markdown":"Integer.toString(n).chars().map(a-&gt;a-&#39;0&#39;).toArray();","body":"Integer.toString(n).chars().map(a-&gt;a-&#39;0&#39;).toArray();"},{"owner":{"account_id":17596082,"reputation":435,"user_id":13340030,"display_name":"Phil"},"score":0,"creation_date":1596645542,"post_id":8033550,"comment_id":111880163,"body_markdown":"Added support for negative values check my answer below ( For new developers since it&#39;s been 8 years )","body":"Added support for negative values check my answer below ( For new developers since it&#39;s been 8 years )"}],"answers":[{"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320649219,"creation_date":1320649219,"answer_id":8033574,"question_id":8033550,"body_markdown":"`temp2 = temp.substring(i);` will always return the empty string &quot;&quot;.\r\n\r\nInstead, your loop should have the condition `i&lt;temp.length()`. And `temp2` should always be `temp.substring(i, i+1);`.\r\n\r\nSimilarly when you&#39;re printing out `newGuess`, you should loop up to `newGuess.length` but not including. So your condition should be `i&lt;newGuess.length`.","title":"Convert an integer to an array of digits","body":"<p><code>temp2 = temp.substring(i);</code> will always return the empty string \"\".</p>\n\n<p>Instead, your loop should have the condition <code>i&lt;temp.length()</code>. And <code>temp2</code> should always be <code>temp.substring(i, i+1);</code>.</p>\n\n<p>Similarly when you're printing out <code>newGuess</code>, you should loop up to <code>newGuess.length</code> but not including. So your condition should be <code>i&lt;newGuess.length</code>.</p>\n"},{"tags":[],"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1604767200,"creation_date":1320649345,"answer_id":8033588,"question_id":8033550,"body_markdown":"You don&#39;t need to convert `int` to `String`. Just use `% 10` to get the last digit and then divide your int by 10 to get to the next one.\r\n\r\n    int temp = test;\r\n    ArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\r\n    do{\r\n        array.add(temp % 10);\r\n        temp /= 10;\r\n    } while  (temp &gt; 0);\r\n\r\nThis will leave you with ArrayList containing your digits in reverse order. You can easily revert it if it&#39;s required and convert it to int[].\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>You don't need to convert <code>int</code> to <code>String</code>. Just use <code>% 10</code> to get the last digit and then divide your int by 10 to get to the next one.</p>\n<pre><code>int temp = test;\nArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\ndo{\n    array.add(temp % 10);\n    temp /= 10;\n} while  (temp &gt; 0);\n</code></pre>\n<p>This will leave you with ArrayList containing your digits in reverse order. You can easily revert it if it's required and convert it to int[].</p>\n"},{"tags":[],"owner":{"account_id":107007,"reputation":31656,"user_id":284731,"display_name":"zellio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604768129,"creation_date":1320649353,"answer_id":8033590,"question_id":8033550,"body_markdown":"It would be much simpler to use the [String.split][1] method:\r\n\r\n    public static void fn(int guess) {\r\n        String[] sNums = Integer.toString(guess).split(&quot;&quot;);\r\n        for (String s : nums) {\r\n        ...\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-\r\n","title":"Convert an integer to an array of digits","body":"<p>It would be much simpler to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-\" rel=\"nofollow noreferrer\">String.split</a> method:</p>\n<pre><code>public static void fn(int guess) {\n    String[] sNums = Integer.toString(guess).split(&quot;&quot;);\n    for (String s : nums) {\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":3,"up_vote_count":96,"is_accepted":true,"score":93,"last_activity_date":1320649362,"creation_date":1320649362,"answer_id":8033593,"question_id":8033550,"body_markdown":"The immediate problem is due to you using `&lt;= temp.length()` instead of `&lt; temp.length()`. However, you can achieve this a lot more simply. Even if you use the string approach, you can use:\r\n\r\n    String temp = Integer.toString(guess);\r\n    int[] newGuess = new int[temp.length()];\r\n    for (int i = 0; i &lt; temp.length(); i++)\r\n    {\r\n        newGuess[i] = temp.charAt(i) - &#39;0&#39;;\r\n    }\r\n\r\nYou need to make the same change to use `&lt; newGuess.length()` when printing out the content too - otherwise for an array of length 4 (which has valid indexes 0, 1, 2, 3) you&#39;ll try to use `newGuess[4]`. The vast majority of `for` loops I write use `&lt;` in the condition, rather than `&lt;=`.","title":"Convert an integer to an array of digits","body":"<p>The immediate problem is due to you using <code>&lt;= temp.length()</code> instead of <code>&lt; temp.length()</code>. However, you can achieve this a lot more simply. Even if you use the string approach, you can use:</p>\n\n<pre><code>String temp = Integer.toString(guess);\nint[] newGuess = new int[temp.length()];\nfor (int i = 0; i &lt; temp.length(); i++)\n{\n    newGuess[i] = temp.charAt(i) - '0';\n}\n</code></pre>\n\n<p>You need to make the same change to use <code>&lt; newGuess.length()</code> when printing out the content too - otherwise for an array of length 4 (which has valid indexes 0, 1, 2, 3) you'll try to use <code>newGuess[4]</code>. The vast majority of <code>for</code> loops I write use <code>&lt;</code> in the condition, rather than <code>&lt;=</code>.</p>\n"},{"tags":[],"owner":{"account_id":952680,"reputation":3352,"user_id":978525,"display_name":"Eamonn O&#39;Brien-Strain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604768167,"creation_date":1320649369,"answer_id":8033595,"question_id":8033550,"body_markdown":"The `&lt;=` in the for statement should be a `&lt;`.\r\n\r\nBTW, it is possible to do this much more efficiently without using strings, but instead using `/10` and `%10` of integers.\r\n","title":"Convert an integer to an array of digits","body":"<p>The <code>&lt;=</code> in the for statement should be a <code>&lt;</code>.</p>\n<p>BTW, it is possible to do this much more efficiently without using strings, but instead using <code>/10</code> and <code>%10</code> of integers.</p>\n"},{"tags":[],"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320649519,"creation_date":1320649519,"answer_id":8033611,"question_id":8033550,"body_markdown":"You don&#39;t have to use `substring(...)`.  Use `temp.charAt(i)` to get a digit and use the following code to convert `char` to `int`.\r\n \r\n    char c = &#39;7&#39;;\r\n    int i = c - &#39;0&#39;;\r\n    System.out.println(i);","title":"Convert an integer to an array of digits","body":"<p>You don't have to use <code>substring(...)</code>.  Use <code>temp.charAt(i)</code> to get a digit and use the following code to convert <code>char</code> to <code>int</code>.</p>\n\n<pre><code>char c = '7';\nint i = c - '0';\nSystem.out.println(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4882742,"reputation":1,"user_id":3935992,"display_name":"bhargav"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1407908528,"creation_date":1407907650,"answer_id":25278643,"question_id":8033550,"body_markdown":"    public static void main(String k[])\r\n\t{  \r\n\t\tSystem.out.println (&quot;NUMBER OF VALUES =&quot;+k.length);\r\n        int arrymy[]=new int[k.length];\r\n\t\tfor (int i = 0; i &lt; k.length; i++)\r\n\t\t{\r\n\t\t\tint newGues = Integer.parseInt(k[i]);\r\n\t\t\tarrymy[i] = newGues;\r\n\t\t}\r\n    }","title":"Convert an integer to an array of digits","body":"<pre><code>public static void main(String k[])\n{  \n    System.out.println (\"NUMBER OF VALUES =\"+k.length);\n    int arrymy[]=new int[k.length];\n    for (int i = 0; i &lt; k.length; i++)\n    {\n        int newGues = Integer.parseInt(k[i]);\n        arrymy[i] = newGues;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6250745,"reputation":583,"user_id":4860884,"display_name":"Marie Diana Tran"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1604768359,"creation_date":1430713264,"answer_id":30022561,"question_id":8033550,"body_markdown":"Use:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        int num = 1234567;\r\n        int[] digits = Integer.toString(num).chars().map(c -&gt; c-&#39;0&#39;).toArray();\r\n        for(int d : digits)\r\n            System.out.print(d);\r\n    }\r\n\r\nThe main idea is\r\n\r\n 1. Convert the int to its String value\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        Integer.toString(num);\r\n\r\n 2. Get a stream of int that represents the ASCII value of each char(~digit) composing the String version of our integer\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        Integer.toString(num).chars();\r\n\r\n 3. Convert the ASCII value of each character to its value.\r\nTo get the actual int value of a character, we have to subtract the ASCII code value of the character &#39;0&#39; from the ASCII code of the actual character.\r\nTo get all the digits of our number, this operation has to be applied on each character (corresponding to the digit) composing the string equivalent of our number which is done by applying the map function below to our IntStream.\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        Integer.toString(num).chars().map(c -&gt; c-&#39;0&#39;);\r\n\r\n4. Convert the stream of int to an array of int using toArray()\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        Integer.toString(num).chars().map(c -&gt; c-&#39;0&#39;).toArray();\r\n","title":"Convert an integer to an array of digits","body":"<p>Use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n{\n    int num = 1234567;\n    int[] digits = Integer.toString(num).chars().map(c -&gt; c-'0').toArray();\n    for(int d : digits)\n        System.out.print(d);\n}\n</code></pre>\n<p>The main idea is</p>\n<ol>\n<li><p>Convert the int to its String value</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.toString(num);\n</code></pre>\n</li>\n<li><p>Get a stream of int that represents the ASCII value of each char(~digit) composing the String version of our integer</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.toString(num).chars();\n</code></pre>\n</li>\n<li><p>Convert the ASCII value of each character to its value.\nTo get the actual int value of a character, we have to subtract the ASCII code value of the character '0' from the ASCII code of the actual character.\nTo get all the digits of our number, this operation has to be applied on each character (corresponding to the digit) composing the string equivalent of our number which is done by applying the map function below to our IntStream.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.toString(num).chars().map(c -&gt; c-'0');\n</code></pre>\n</li>\n<li><p>Convert the stream of int to an array of int using toArray()</p>\n <pre class=\"lang-java prettyprint-override\"><code> Integer.toString(num).chars().map(c -&gt; c-'0').toArray();\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1262480,"reputation":588,"user_id":1220424,"accept_rate":0,"display_name":"Nayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604768434,"creation_date":1438080339,"answer_id":31674057,"question_id":8033550,"body_markdown":"Call this function:\r\n\r\n      public int[] convertToArray(int number) {\r\n        int i = 0;\r\n        int length = (int) Math.log10(number);\r\n        int divisor = (int) Math.pow(10, length);\r\n        int temp[] = new int[length + 1];\r\n\r\n        while (number != 0) {\r\n            temp[i] = number / divisor;\r\n            if (i &lt; length) {\r\n                ++i;\r\n            }\r\n            number = number % divisor;\r\n            if (i != 0) {\r\n                divisor = divisor / 10;\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>Call this function:</p>\n<pre><code>  public int[] convertToArray(int number) {\n    int i = 0;\n    int length = (int) Math.log10(number);\n    int divisor = (int) Math.pow(10, length);\n    int temp[] = new int[length + 1];\n\n    while (number != 0) {\n        temp[i] = number / divisor;\n        if (i &lt; length) {\n            ++i;\n        }\n        number = number % divisor;\n        if (i != 0) {\n            divisor = divisor / 10;\n        }\n    }\n    return temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6839939,"reputation":163,"user_id":5260679,"display_name":"Erfan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604768558,"creation_date":1459456948,"answer_id":36343369,"question_id":8033550,"body_markdown":"I can suggest the following method:\r\n\r\n&gt; Convert the number to a string &amp;rarr; convert the string into an array of characters &amp;rarr; convert the array of characters into an array of integers\r\n\r\nHere comes my code:\r\n\r\n    public class test {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            int num1 = 123456; // Example 1\r\n            int num2 = 89786775; // Example 2\r\n\r\n            String str1 = Integer.toString(num1); // Converts num1 into String\r\n            String str2 = Integer.toString(num2); // Converts num2 into String\r\n\r\n            char[] ch1 = str1.toCharArray(); // Gets str1 into an array of char\r\n            char[] ch2 = str2.toCharArray(); // Gets str2 into an array of char\r\n\r\n            int[] t1 = new int[ch1.length]; // Defines t1 for bringing ch1 into it\r\n            int[] t2 = new int[ch2.length]; // Defines t2 for bringing ch2 into it\r\n\r\n            for(int i=0;i&lt;ch1.length;i++) // Watch the ASCII table\r\n                t1[i]= (int) ch1[i]-48; // ch1[i] is 48 units more than what we want\r\n\r\n            for(int i=0;i&lt;ch2.length;i++) // Watch the ASCII table\r\n                t2[i]= (int) ch2[i]-48; // ch2[i] is 48 units more than what we want\r\n            }\r\n        }\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>I can suggest the following method:</p>\n<blockquote>\n<p>Convert the number to a string → convert the string into an array of characters → convert the array of characters into an array of integers</p>\n</blockquote>\n<p>Here comes my code:</p>\n<pre><code>public class test {\n\n    public static void main(String[] args) {\n\n        int num1 = 123456; // Example 1\n        int num2 = 89786775; // Example 2\n\n        String str1 = Integer.toString(num1); // Converts num1 into String\n        String str2 = Integer.toString(num2); // Converts num2 into String\n\n        char[] ch1 = str1.toCharArray(); // Gets str1 into an array of char\n        char[] ch2 = str2.toCharArray(); // Gets str2 into an array of char\n\n        int[] t1 = new int[ch1.length]; // Defines t1 for bringing ch1 into it\n        int[] t2 = new int[ch2.length]; // Defines t2 for bringing ch2 into it\n\n        for(int i=0;i&lt;ch1.length;i++) // Watch the ASCII table\n            t1[i]= (int) ch1[i]-48; // ch1[i] is 48 units more than what we want\n\n        for(int i=0;i&lt;ch2.length;i++) // Watch the ASCII table\n            t2[i]= (int) ch2[i]-48; // ch2[i] is 48 units more than what we want\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3971754,"reputation":2529,"user_id":3276171,"accept_rate":20,"display_name":"Sky"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1604768588,"creation_date":1472381082,"answer_id":39190450,"question_id":8033550,"body_markdown":"In Scala, you can do it like:\r\n\r\n    def convert(a: Int, acc: List[Int] = Nil): List[Int] =\r\n      if (a &gt; 0) convert(a / 10, a % 10 +: acc) else acc\r\n\r\nIn one line and without reversing the order.\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>In Scala, you can do it like:</p>\n<pre><code>def convert(a: Int, acc: List[Int] = Nil): List[Int] =\n  if (a &gt; 0) convert(a / 10, a % 10 +: acc) else acc\n</code></pre>\n<p>In one line and without reversing the order.</p>\n"},{"tags":[],"owner":{"account_id":11237281,"reputation":1,"user_id":8242947,"display_name":"PantOffl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604768673,"creation_date":1499665901,"answer_id":45004581,"question_id":8033550,"body_markdown":"Use:\r\n\r\n    int count = 0;\r\n    String newString = n + &quot;&quot;;\r\n    char [] stringArray = newString.toCharArray();\r\n    int [] intArray = new int[stringArray.length];\r\n    for (char i : stringArray) {\r\n      int m = Character.getNumericValue(i);\r\n      intArray[count] = m;\r\n      count += 1;\r\n    }\r\n    return intArray;\r\n\r\nYou&#39;ll have to put this into a method.\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>Use:</p>\n<pre><code>int count = 0;\nString newString = n + &quot;&quot;;\nchar [] stringArray = newString.toCharArray();\nint [] intArray = new int[stringArray.length];\nfor (char i : stringArray) {\n  int m = Character.getNumericValue(i);\n  intArray[count] = m;\n  count += 1;\n}\nreturn intArray;\n</code></pre>\n<p>You'll have to put this into a method.</p>\n"},{"tags":[],"owner":{"account_id":10328086,"reputation":287,"user_id":7631203,"display_name":"Roberto Gimenez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604768755,"creation_date":1501771216,"answer_id":45487438,"question_id":8033550,"body_markdown":"I can&#39;t add comments to [Vladimir&#39;s solution][1], but I think that this is more efficient also when your initial numbers could be also below 10.\r\n\r\nThis is my proposal:\r\n\r\n    int temp = test;\r\n    ArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\r\n    do{\r\n      array.add(temp % 10);\r\n      temp /= 10;\r\n    } while  (temp &gt; 1);\r\n\r\nRemember to reverse the array.\r\n\r\n  [1]: https://stackoverflow.com/questions/8033550/convert-an-integer-to-an-array-of-digits/8033588#8033588\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>I can't add comments to <a href=\"https://stackoverflow.com/questions/8033550/convert-an-integer-to-an-array-of-digits/8033588#8033588\">Vladimir's solution</a>, but I think that this is more efficient also when your initial numbers could be also below 10.</p>\n<p>This is my proposal:</p>\n<pre><code>int temp = test;\nArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\ndo{\n  array.add(temp % 10);\n  temp /= 10;\n} while  (temp &gt; 1);\n</code></pre>\n<p>Remember to reverse the array.</p>\n"},{"tags":[],"owner":{"account_id":6530589,"reputation":449,"user_id":5051838,"accept_rate":23,"display_name":"Abhijeet srivastava"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604768777,"creation_date":1505725861,"answer_id":46275573,"question_id":8033550,"body_markdown":"You can use:\r\n\r\n    private int[] createArrayFromNumber(int number) {\r\n        String str = (new Integer(number)).toString();\r\n        char[] chArr = str.toCharArray();\r\n        int[] arr = new int[chArr.length];\r\n        for (int i = 0; i&lt; chArr.length; i++) {\r\n            arr[i] = Character.getNumericValue(chArr[i]);\r\n        }\r\n        return arr;\r\n    }\r\n\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>You can use:</p>\n<pre><code>private int[] createArrayFromNumber(int number) {\n    String str = (new Integer(number)).toString();\n    char[] chArr = str.toCharArray();\n    int[] arr = new int[chArr.length];\n    for (int i = 0; i&lt; chArr.length; i++) {\n        arr[i] = Character.getNumericValue(chArr[i]);\n    }\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604768807,"creation_date":1512428533,"answer_id":47643402,"question_id":8033550,"body_markdown":"You can just do:\r\n\r\n```char[] digits = string.toCharArray();```\r\n\r\nAnd then you can evaluate the chars as integers.\r\n\r\nFor example:\r\n\r\n    char[] digits = &quot;12345&quot;.toCharArray();\r\n    int digit = Character.getNumericValue(digits[0]);\r\n    System.out.println(digit); // Prints 1\r\n\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>You can just do:</p>\n<p><code>char[] digits = string.toCharArray();</code></p>\n<p>And then you can evaluate the chars as integers.</p>\n<p>For example:</p>\n<pre><code>char[] digits = &quot;12345&quot;.toCharArray();\nint digit = Character.getNumericValue(digits[0]);\nSystem.out.println(digit); // Prints 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8573716,"reputation":31,"user_id":6423664,"display_name":"Shadab Eqbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604768864,"creation_date":1521532013,"answer_id":49378811,"question_id":8033550,"body_markdown":"Here is the function that takes an integer and return an array of digits.\r\n\r\n    static int[] Int_to_array(int n)\r\n    {\r\n        int j = 0;\r\n        int len = Integer.toString(n).length();\r\n        int[] arr = new int[len];\r\n        while(n!=0)\r\n        {\r\n            arr[len-j-1] = n % 10;\r\n            n = n / 10;\r\n            j++;\r\n        }\r\n        return arr;\r\n    }\r\n","title":"Convert an integer to an array of digits","body":"<p>Here is the function that takes an integer and return an array of digits.</p>\n<pre><code>static int[] Int_to_array(int n)\n{\n    int j = 0;\n    int len = Integer.toString(n).length();\n    int[] arr = new int[len];\n    while(n!=0)\n    {\n        arr[len-j-1] = n % 10;\n        n = n / 10;\n        j++;\n    }\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604769049,"creation_date":1527932351,"answer_id":50655509,"question_id":8033550,"body_markdown":"First take input from the user as int, convert it into `String`, and make a character array of size of `str.length()`. Now populate a character array with a *for* loop using `charAt()`.\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int num = sc.nextInt();\r\n    String str = Integer.toString(num);\r\n    char [] ch = new char [str.length()];\r\n\r\n    for(int i=0; i&lt;str.length(); i++)\r\n    {\r\n        ch[i] = str.charAt(i);\r\n    }\r\n\r\n    for(char c: ch)\r\n    {\r\n        System.out.print(c +&quot; &quot;);\r\n    }\r\n","title":"Convert an integer to an array of digits","body":"<p>First take input from the user as int, convert it into <code>String</code>, and make a character array of size of <code>str.length()</code>. Now populate a character array with a <em>for</em> loop using <code>charAt()</code>.</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nint num = sc.nextInt();\nString str = Integer.toString(num);\nchar [] ch = new char [str.length()];\n\nfor(int i=0; i&lt;str.length(); i++)\n{\n    ch[i] = str.charAt(i);\n}\n\nfor(char c: ch)\n{\n    System.out.print(c +&quot; &quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14246942,"reputation":85,"user_id":10291695,"display_name":"Salman Sayyed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604769150,"creation_date":1541430333,"answer_id":53156980,"question_id":8033550,"body_markdown":"You can do something like this:\r\n\r\n    public int[] convertDigitsToArray(int n) {\r\n\r\n        int [] temp = new int[String.valueOf(n).length()]; // Calculate the length of digits\r\n        int i = String.valueOf(n).length()-1 ;  // Initialize the value to the last index\r\n\r\n        do {\r\n            temp[i] = n % 10;\r\n            n = n / 10;\r\n            i--;\r\n        } while(n&gt;0);\r\n\r\n        return temp;\r\n    }\r\n\r\nThis will also maintain the order.\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>You can do something like this:</p>\n<pre><code>public int[] convertDigitsToArray(int n) {\n\n    int [] temp = new int[String.valueOf(n).length()]; // Calculate the length of digits\n    int i = String.valueOf(n).length()-1 ;  // Initialize the value to the last index\n\n    do {\n        temp[i] = n % 10;\n        n = n / 10;\n        i--;\n    } while(n&gt;0);\n\n    return temp;\n}\n</code></pre>\n<p>This will also maintain the order.</p>\n"},{"tags":[],"owner":{"account_id":13503564,"reputation":1,"user_id":10151737,"display_name":"M S"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1604769232,"creation_date":1546862739,"answer_id":54074104,"question_id":8033550,"body_markdown":"I can not add comments to [the decision of Vladimir][1], but you can immediately make an array deployed in the right direction. Here is my solution:\r\n\r\n    public static int[] splitAnIntegerIntoAnArrayOfNumbers (int a) {\r\n        int temp = a;\r\n        ArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\r\n        do{\r\n            array.add(temp % 10);\r\n            temp /= 10;\r\n        } while  (temp &gt; 0);\r\n\r\n        int[] arrayOfNumbers = new int[array.size()];\r\n        for(int i = 0, j = array.size()-1; i &lt; array.size(); i++,j--) \r\n            arrayOfNumbers [j] = array.get(i);\r\n        return arrayOfNumbers;\r\n    }\r\n\r\nImportant: This solution will not work for negative integers.\r\n\r\n  [1]: https://stackoverflow.com/questions/8033550/convert-an-integer-to-an-array-of-digits/8033588#8033588\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>I can not add comments to <a href=\"https://stackoverflow.com/questions/8033550/convert-an-integer-to-an-array-of-digits/8033588#8033588\">the decision of Vladimir</a>, but you can immediately make an array deployed in the right direction. Here is my solution:</p>\n<pre><code>public static int[] splitAnIntegerIntoAnArrayOfNumbers (int a) {\n    int temp = a;\n    ArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\n    do{\n        array.add(temp % 10);\n        temp /= 10;\n    } while  (temp &gt; 0);\n\n    int[] arrayOfNumbers = new int[array.size()];\n    for(int i = 0, j = array.size()-1; i &lt; array.size(); i++,j--) \n        arrayOfNumbers [j] = array.get(i);\n    return arrayOfNumbers;\n}\n</code></pre>\n<p>Important: This solution will not work for negative integers.</p>\n"},{"tags":[],"owner":{"account_id":7786269,"reputation":521,"user_id":5890981,"accept_rate":75,"display_name":"CoderSam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560915979,"creation_date":1560855526,"answer_id":56647582,"question_id":8033550,"body_markdown":"Try this!\r\n\r\n```\r\n        \r\nint num = 1234; \r\n        \r\nString s = Integer.toString(num); \r\n        \r\nint[] intArray = new int[s.length()]; \r\n        \r\n        \r\nfor(int i=0; i&lt;s.length(); i++){\r\n    intArray[i] = Character.getNumericValue(s.charAt(i));\r\n}\r\n        \r\n```","title":"Convert an integer to an array of digits","body":"<p>Try this!</p>\n\n<pre><code>\nint num = 1234; \n\nString s = Integer.toString(num); \n\nint[] intArray = new int[s.length()]; \n\n\nfor(int i=0; i&lt;s.length(); i++){\n    intArray[i] = Character.getNumericValue(s.charAt(i));\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10592122,"reputation":149,"user_id":7802299,"display_name":"ash9"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1604769650,"creation_date":1561663874,"answer_id":56797548,"question_id":8033550,"body_markdown":"Let&#39;s solve that using recursion...\r\n\r\n    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\r\n\r\n    void intToArray(int num){\r\n        if( num != 0){\r\n            int temp = num %10;\r\n            num /= 10;\r\n            intToArray(num);\r\n            al.add(temp);\r\n        }\r\n    }\r\n\r\nExplanation:\r\n\r\nSuppose the value of `num` is 12345.\r\n\r\nDuring the first call of the function, `temp` holds the value 5 and a value of `num` = 1234. It is again passed to the function, and now `temp` holds the value 4 and the value of `num` is 123... This function calls itself till the value of `num` is not equal to 0.\r\n\r\nStack trace:\r\n\r\n     temp - 5 | num - 1234\r\n     temp - 4 | num - 123\r\n     temp - 3 | num - 12\r\n     temp - 2 | num - 1\r\n     temp - 1 | num - 0\r\n\r\nAnd then it calls the *add* method of ArrayList and the value of `temp` is added to it, so the value of list is:\r\n\r\n     ArrayList - 1\r\n     ArrayList - 1,2\r\n     ArrayList - 1,2,3\r\n     ArrayList - 1,2,3,4\r\n     ArrayList - 1,2,3,4,5\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>Let's solve that using recursion...</p>\n<pre><code>ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\n\nvoid intToArray(int num){\n    if( num != 0){\n        int temp = num %10;\n        num /= 10;\n        intToArray(num);\n        al.add(temp);\n    }\n}\n</code></pre>\n<p>Explanation:</p>\n<p>Suppose the value of <code>num</code> is 12345.</p>\n<p>During the first call of the function, <code>temp</code> holds the value 5 and a value of <code>num</code> = 1234. It is again passed to the function, and now <code>temp</code> holds the value 4 and the value of <code>num</code> is 123... This function calls itself till the value of <code>num</code> is not equal to 0.</p>\n<p>Stack trace:</p>\n<pre><code> temp - 5 | num - 1234\n temp - 4 | num - 123\n temp - 3 | num - 12\n temp - 2 | num - 1\n temp - 1 | num - 0\n</code></pre>\n<p>And then it calls the <em>add</em> method of ArrayList and the value of <code>temp</code> is added to it, so the value of list is:</p>\n<pre><code> ArrayList - 1\n ArrayList - 1,2\n ArrayList - 1,2,3\n ArrayList - 1,2,3,4\n ArrayList - 1,2,3,4,5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17596082,"reputation":435,"user_id":13340030,"display_name":"Phil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1604769836,"creation_date":1596644137,"answer_id":63269324,"question_id":8033550,"body_markdown":"I modified [Jon Skeet&#39;s accepted answer][1] as it does not accept negative values.\r\n\r\nThis now accepts and converts the number appropriately:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    int number = -1203;\r\n    boolean isNegative = false;\r\n    String temp = Integer.toString(number);\r\n\r\n    if(temp.charAt(0)== &#39;-&#39;) {\r\n        isNegative = true;\r\n    }\r\n    int len = temp.length();\r\n    if(isNegative) {\r\n        len = len - 1;\r\n    }\r\n    int[] myArr = new int[len];\r\n\r\n    for (int i = 0; i &lt; len; i++) {\r\n        if (isNegative) {\r\n            myArr[i] = temp.charAt(i + 1) - &#39;0&#39;;\r\n        }\r\n        if(!isNegative) {\r\n            myArr[i] = temp.charAt(i) - &#39;0&#39;;\r\n        }\r\n    }\r\n\r\n    if (isNegative) {\r\n        for (int i = 0; i &lt; len; i++) {\r\n            myArr[i] = myArr[i] * (-1);\r\n        }\r\n    }\r\n\r\n    for (int k : myArr) {\r\n        System.out.println(k);\r\n    }\r\n}\r\n```\r\n\r\n### Output\r\n\r\n    -1\r\n    -2\r\n    0\r\n    -3\r\n\r\n  [1]: https://stackoverflow.com/questions/8033550/convert-an-integer-to-an-array-of-digits/8033593#8033593\r\n\r\n\r\n","title":"Convert an integer to an array of digits","body":"<p>I modified <a href=\"https://stackoverflow.com/questions/8033550/convert-an-integer-to-an-array-of-digits/8033593#8033593\">Jon Skeet's accepted answer</a> as it does not accept negative values.</p>\n<p>This now accepts and converts the number appropriately:</p>\n<pre><code>public static void main(String[] args) {\n    int number = -1203;\n    boolean isNegative = false;\n    String temp = Integer.toString(number);\n\n    if(temp.charAt(0)== '-') {\n        isNegative = true;\n    }\n    int len = temp.length();\n    if(isNegative) {\n        len = len - 1;\n    }\n    int[] myArr = new int[len];\n\n    for (int i = 0; i &lt; len; i++) {\n        if (isNegative) {\n            myArr[i] = temp.charAt(i + 1) - '0';\n        }\n        if(!isNegative) {\n            myArr[i] = temp.charAt(i) - '0';\n        }\n    }\n\n    if (isNegative) {\n        for (int i = 0; i &lt; len; i++) {\n            myArr[i] = myArr[i] * (-1);\n        }\n    }\n\n    for (int k : myArr) {\n        System.out.println(k);\n    }\n}\n</code></pre>\n<h3>Output</h3>\n<pre><code>-1\n-2\n0\n-3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17307512,"reputation":72,"user_id":12535912,"display_name":"Bhanu Dhulipudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614607854,"creation_date":1614607854,"answer_id":66423642,"question_id":8033550,"body_markdown":"Without using String, Integer, ArrayList, Math:\r\n\r\n    // Actual number\r\n    int n = 56715380;\r\n        \t\t\r\n        \t\t// Copy of the number\r\n        \t\tint m = n;\r\n        \t\t\r\n        \t\t// Find no. of digits as length\r\n        \t\tint ln = 0;\r\n        \t\twhile (m &gt; 0) {\r\n        \t\t\tm = m / 10;\r\n        \t\t\tln++;\r\n        \t\t}\r\n        \t\t\r\n        \t\t// Copy of the length\r\n        \t\tint len = ln;\r\n        \r\n        \t\t// Reverse the number\r\n        \t\tint revNum = 0;\r\n        \t\tln--;\r\n        \t\tint base;\r\n        \t\twhile (n &gt; 0) {\r\n        \t\t\tbase = 1;\r\n        \t\t\tfor (int i = 0; i &lt; ln; i++) {\r\n        \t\t\t\tbase = base * 10;\r\n        \t\t\t}\r\n        \t\t\trevNum = revNum + base * (n % 10);\r\n        \t\t\tn = n / 10;\r\n        \t\t\tln--;\r\n        \t\t}\r\n        \r\n        \t\t// Store the reverse number in the array\r\n        \t\tint arr[] = new int[len];\r\n        \t\tfor (int i = 0; revNum &gt; 0; i++) {\r\n        \t\t\tarr[i] = revNum % 10;\r\n        \t\t\trevNum = revNum / 10;\r\n        \t\t}\r\n        \t\t\r\n        \t\t// Print the array\r\n        \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n        \t\t\tSystem.out.print(arr[i]);\r\n        \t\t}","title":"Convert an integer to an array of digits","body":"<p>Without using String, Integer, ArrayList, Math:</p>\n<pre><code>// Actual number\nint n = 56715380;\n            \n            // Copy of the number\n            int m = n;\n            \n            // Find no. of digits as length\n            int ln = 0;\n            while (m &gt; 0) {\n                m = m / 10;\n                ln++;\n            }\n            \n            // Copy of the length\n            int len = ln;\n    \n            // Reverse the number\n            int revNum = 0;\n            ln--;\n            int base;\n            while (n &gt; 0) {\n                base = 1;\n                for (int i = 0; i &lt; ln; i++) {\n                    base = base * 10;\n                }\n                revNum = revNum + base * (n % 10);\n                n = n / 10;\n                ln--;\n            }\n    \n            // Store the reverse number in the array\n            int arr[] = new int[len];\n            for (int i = 0; revNum &gt; 0; i++) {\n                arr[i] = revNum % 10;\n                revNum = revNum / 10;\n            }\n            \n            // Print the array\n            for (int i = 0; i &lt; arr.length; i++) {\n                System.out.print(arr[i]);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684837600,"creation_date":1684837600,"answer_id":76313697,"question_id":8033550,"body_markdown":"This approach will maintain the same order of the digits in the given number in the resultant array and also won&#39;t be using any collection APIs. \r\n\r\n 1. Starting with the basic approach of reversing a number say `1234`. Get the last digit by modular division (`%`) by `10` and then divide the number by `10` to get the last digit. Do this until the number is greater than `0`.\r\n 2. So while getting each last digit you can store it in the array, so you need to initialize an array with the same number of digits in the number, you need to use a `String` functionality there. But with the above step, the resulting array will be in the reverse order of the digits in your number.\r\n 3. So start adding the number from the last index of the array to the first index.\r\n\r\n\t\tint num = 1234;\r\n\t\tint[] ar = new int[String.valueOf(num).length()];\r\n\t\tint index = ar.length-1;\r\n\t\t\r\n\t\twhile(num &gt; 0) {\r\n\t\t\t\r\n\t\t\tar[index--] = num % 10;\r\n\t\t\tnum = num/10;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(java.util.Arrays.toString(ar));","title":"Convert an integer to an array of digits","body":"<p>This approach will maintain the same order of the digits in the given number in the resultant array and also won't be using any collection APIs.</p>\n<ol>\n<li><p>Starting with the basic approach of reversing a number say <code>1234</code>. Get the last digit by modular division (<code>%</code>) by <code>10</code> and then divide the number by <code>10</code> to get the last digit. Do this until the number is greater than <code>0</code>.</p>\n</li>\n<li><p>So while getting each last digit you can store it in the array, so you need to initialize an array with the same number of digits in the number, you need to use a <code>String</code> functionality there. But with the above step, the resulting array will be in the reverse order of the digits in your number.</p>\n</li>\n<li><p>So start adding the number from the last index of the array to the first index.</p>\n<pre><code>int num = 1234;\nint[] ar = new int[String.valueOf(num).length()];\nint index = ar.length-1;\n\nwhile(num &gt; 0) {\n\n    ar[index--] = num % 10;\n    num = num/10;\n}\n\nSystem.out.println(java.util.Arrays.toString(ar));\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697643491,"creation_date":1697643491,"answer_id":77317769,"question_id":8033550,"body_markdown":"Simple Iterative\r\n\r\n````java\r\nList&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\nint remainder = 0;\r\nwhile(n&gt;0){\r\n        remainder = n%10;\r\n        n /=10;\r\n    integerList.add(remainder);\r\n}\r\nint[] numArray = integerList.stream().mapToInt(x-&gt;x).toArray();\r\n````","title":"Convert an integer to an array of digits","body":"<p>Simple Iterative</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\nint remainder = 0;\nwhile(n&gt;0){\n        remainder = n%10;\n        n /=10;\n    integerList.add(remainder);\n}\nint[] numArray = integerList.stream().mapToInt(x-&gt;x).toArray();\n</code></pre>\n"}],"owner":{"account_id":875897,"reputation":4293,"user_id":925552,"accept_rate":71,"display_name":"hkguile"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509432,"favorite_count":0,"down_vote_count":1,"up_vote_count":77,"accepted_answer_id":8033593,"answer_count":25,"score":76,"last_activity_date":1697643491,"creation_date":1320649063,"question_id":8033550,"body_markdown":"I try to convert an integer to an array. For example, 1234 to `int[] arr = {1,2,3,4};`.\r\n\r\nI&#39;ve written a function:\r\n\r\n    public static void convertInt2Array(int guess)  {\r\n        String temp = Integer.toString(guess);\r\n        String temp2;\r\n        int temp3;\r\n        int [] newGuess = new int[temp.length()];\r\n        for(int i=0; i&lt;=temp.length(); i++) {\r\n            if (i!=temp.length()) {\r\n                temp2 = temp.substring(i, i+1);\r\n            } else {\r\n                temp2 = temp.substring(i);\r\n                //System.out.println(i);\r\n            }\r\n            temp3 =  Integer.parseInt(temp2);\r\n            newGuess[i] = temp3;\r\n        }\r\n\r\n        for(int i=0; i&lt;=newGuess.length; i++) {\r\n            System.out.println(newGuess[i]);\r\n        }\r\n    }\r\n\r\nBut an exception is thrown:\r\n\r\n&gt;    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot; &lt;br/&gt;\r\n        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) &lt;br/&gt;\r\n &lt;br/&gt;\r\n        at java.lang.Integer.parseInt(Integer.java:504) &lt;br/&gt;\r\n        at java.lang.Integer.parseInt(Integer.java:527) &lt;br/&gt;\r\n        at q4.test.convertInt2Array(test.java:28) &lt;br/&gt;\r\n        at q4.test.main(test.java:14) &lt;br/&gt;\r\n    Java Result: 1 &lt;br/&gt;\r\n\r\nHow can I fix this?\r\n","title":"Convert an integer to an array of digits","body":"<p>I try to convert an integer to an array. For example, 1234 to <code>int[] arr = {1,2,3,4};</code>.</p>\n<p>I've written a function:</p>\n<pre><code>public static void convertInt2Array(int guess)  {\n    String temp = Integer.toString(guess);\n    String temp2;\n    int temp3;\n    int [] newGuess = new int[temp.length()];\n    for(int i=0; i&lt;=temp.length(); i++) {\n        if (i!=temp.length()) {\n            temp2 = temp.substring(i, i+1);\n        } else {\n            temp2 = temp.substring(i);\n            //System.out.println(i);\n        }\n        temp3 =  Integer.parseInt(temp2);\n        newGuess[i] = temp3;\n    }\n\n    for(int i=0; i&lt;=newGuess.length; i++) {\n        System.out.println(newGuess[i]);\n    }\n}\n</code></pre>\n<p>But an exception is thrown:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot; <br/>\nat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) <br/>\n<br/>\nat java.lang.Integer.parseInt(Integer.java:504) <br/>\nat java.lang.Integer.parseInt(Integer.java:527) <br/>\nat q4.test.convertInt2Array(test.java:28) <br/>\nat q4.test.main(test.java:14) <br/>\nJava Result: 1 <br/></p>\n</blockquote>\n<p>How can I fix this?</p>\n"},{"tags":["java","math","floating-point-precision"],"comments":[{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1428501763,"post_id":29516222,"comment_id":47188944,"body_markdown":"Have you read the API for Math?  There are some details about the precision of the calculations.","body":"Have you read the API for Math?  There are some details about the precision of the calculations."},{"owner":{"account_id":5608394,"reputation":526,"user_id":4442094,"accept_rate":25,"display_name":"Kamil Mahmood"},"score":0,"creation_date":1428503169,"post_id":29516222,"comment_id":47190138,"body_markdown":"Yes I have read API for Math and they say that result can be in 1-2 ulp but it is not pet rule for all floating number","body":"Yes I have read API for Math and they say that result can be in 1-2 ulp but it is not pet rule for all floating number"},{"owner":{"account_id":90081,"reputation":17174,"user_id":248123,"accept_rate":100,"display_name":"andand"},"score":0,"creation_date":1428503752,"post_id":29516222,"comment_id":47190546,"body_markdown":"possible duplicate of [Java Math.cos() Method Does Not Return 0 When Expected](http://stackoverflow.com/questions/2235689/java-math-cos-method-does-not-return-0-when-expected)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2235689/java-math-cos-method-does-not-return-0-when-expected\">Java Math.cos() Method Does Not Return 0 When Expected</a>"},{"owner":{"account_id":5608394,"reputation":526,"user_id":4442094,"accept_rate":25,"display_name":"Kamil Mahmood"},"score":0,"creation_date":1428504942,"post_id":29516222,"comment_id":47191449,"body_markdown":"@andand if you read first line I clearly mentioned that it is not duplicate.","body":"@andand if you read first line I clearly mentioned that it is not duplicate."},{"owner":{"account_id":466379,"reputation":17103,"user_id":871096,"accept_rate":52,"display_name":"Robert Dodier"},"score":0,"creation_date":1428508508,"post_id":29516222,"comment_id":47194093,"body_markdown":"If it&#39;s important to get exact values, my advice is to use a symbolic math library.","body":"If it&#39;s important to get exact values, my advice is to use a symbolic math library."},{"owner":{"account_id":90081,"reputation":17174,"user_id":248123,"accept_rate":100,"display_name":"andand"},"score":1,"creation_date":1428513847,"post_id":29516222,"comment_id":47197306,"body_markdown":"@KamilMahmood: I read the first line, and though you claim they&#39;re not duplicates, I disagree. You&#39;re dealing with the same underlying problem, and once the problem is understood correctly (and those link you cite both described the problem and provided references which should have been useful) a solution should have been clear.  Clearly understanding the problem is the first and most critical step in solving any problem.","body":"@KamilMahmood: I read the first line, and though you claim they&#39;re not duplicates, I disagree. You&#39;re dealing with the same underlying problem, and once the problem is understood correctly (and those link you cite both described the problem and provided references which should have been useful) a solution should have been clear.  Clearly understanding the problem is the first and most critical step in solving any problem."},{"owner":{"account_id":5608394,"reputation":526,"user_id":4442094,"accept_rate":25,"display_name":"Kamil Mahmood"},"score":0,"creation_date":1428514504,"post_id":29516222,"comment_id":47197697,"body_markdown":"@andand All answers tell &quot;Why this problem occur?&quot;. Any answer does not tell &quot;How to solve?&quot; that is why it is not duplicate.","body":"@andand All answers tell &quot;Why this problem occur?&quot;. Any answer does not tell &quot;How to solve?&quot; that is why it is not duplicate."}],"answers":[{"tags":[],"owner":{"account_id":5333725,"reputation":124,"user_id":4253527,"display_name":"Bryan Reilly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428500480,"creation_date":1428500480,"answer_id":29516353,"question_id":29516222,"body_markdown":"What is most likely is that Google and Casios calculators simply round down if the result is something smaller than say 1.0E-14.\r\n\r\nSomething similar can be done if the number is too large.\r\n\r\nFloating point inaccuracies are hard to deal with but rounding is the most common way to fix them.\r\n\r\nAnd although it seems like you know what is happening under the hood, this may help you:\r\n\r\nhttp://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html","title":"How to get exact value of Trigonometric functions in Java","body":"<p>What is most likely is that Google and Casios calculators simply round down if the result is something smaller than say 1.0E-14.</p>\n\n<p>Something similar can be done if the number is too large.</p>\n\n<p>Floating point inaccuracies are hard to deal with but rounding is the most common way to fix them.</p>\n\n<p>And although it seems like you know what is happening under the hood, this may help you:</p>\n\n<p><a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow\">http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a></p>\n"},{"tags":[],"owner":{"account_id":511240,"reputation":3296,"user_id":2363540,"display_name":"Douglas Zare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428502522,"creation_date":1428502522,"answer_id":29517232,"question_id":29516222,"body_markdown":"I am skeptical of many of the &quot;correct answer&quot; values you give. sin(pi) is 0, but Math.PI is not pi, it is an approximation. Sine of something that is only close to PI shouldn&#39;t give you 0. How is the user entering the values? If the user enters a decimal input, with 16 decimal places, he/she should expect to have some results that are off in the 16th decimal place. If a user asks for sin(10^-15) and you change the input to 0 and return a result of 0, then you make it so the user can&#39;t compute a numerical derivative for sin x at 0 by computing `(sin(10^-15)-sin(0))/(10^-15-0)`. The same is true if the user enters an approximation like Math.PI and you change the input to pi.\r\n\r\nAs Bryan Reilly answered, you can round results before presenting them to the user, and this will avoid showing a value like 5*10^-15 instead of 0. \r\n\r\nYou can shift the inputs to ranges near 0. For example, for values of x greater than pi or less than -pi, you can subtract off a multiple of 2pi to get a value in [-pi,pi]. Then you can use trig identities to reduce the domain you need further to [0,pi/2]. For example, if x is in [-pi,pi/2], then use sin(x) = -sin(x+pi). \r\n\r\nIf any roundoff errors at all are unacceptable, then perhaps you should make a symbolic calculator instead of a floating point calculator.","title":"How to get exact value of Trigonometric functions in Java","body":"<p>I am skeptical of many of the \"correct answer\" values you give. sin(pi) is 0, but Math.PI is not pi, it is an approximation. Sine of something that is only close to PI shouldn't give you 0. How is the user entering the values? If the user enters a decimal input, with 16 decimal places, he/she should expect to have some results that are off in the 16th decimal place. If a user asks for sin(10^-15) and you change the input to 0 and return a result of 0, then you make it so the user can't compute a numerical derivative for sin x at 0 by computing <code>(sin(10^-15)-sin(0))/(10^-15-0)</code>. The same is true if the user enters an approximation like Math.PI and you change the input to pi.</p>\n\n<p>As Bryan Reilly answered, you can round results before presenting them to the user, and this will avoid showing a value like 5*10^-15 instead of 0. </p>\n\n<p>You can shift the inputs to ranges near 0. For example, for values of x greater than pi or less than -pi, you can subtract off a multiple of 2pi to get a value in [-pi,pi]. Then you can use trig identities to reduce the domain you need further to [0,pi/2]. For example, if x is in [-pi,pi/2], then use sin(x) = -sin(x+pi). </p>\n\n<p>If any roundoff errors at all are unacceptable, then perhaps you should make a symbolic calculator instead of a floating point calculator.</p>\n"},{"tags":[],"owner":{"account_id":5306399,"reputation":138,"user_id":4642801,"display_name":"APengue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428507109,"creation_date":1428506219,"answer_id":29518684,"question_id":29516222,"body_markdown":"Maybe they use something like the [Big Decimal Class][1]\n\n\nSorry I&#39;m not yet allowed to provide a simple comment.\n\nFor example yesterday I created a simple swing application which converted from decimal to unsigned int binary and vice versa. The problem is, what the user enters in a text box are String values to convert, and they can easily exceed even Long.MAX_VALUE. \n\nWhat I wanted was for the user to enter as many digits as desired in both cases, so I used the [Big Integer Class][2], which is similar to Big Decimal but is suited for Integer values. The result of using it allows users to enter strings of incredible length, and for my program to output the conversion in as much or even more digits, far, far exceeding Long.MAX_VALUE.\n\n\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\n\nHowever, since the Math functions use doubles, we are still limited here with the &#39;Big&#39; classes, which initialize with doubles and strings. If you have an application where you can represent numbers with strings (which can have a max character length of Integer.MAX_VALUE), then the &#39;Big&#39; classes are great. However if you want to initialize with a double, you are obviously limited by the constraints of double. ","title":"How to get exact value of Trigonometric functions in Java","body":"<p>Maybe they use something like the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"nofollow\">Big Decimal Class</a></p>\n\n<p>Sorry I'm not yet allowed to provide a simple comment.</p>\n\n<p>For example yesterday I created a simple swing application which converted from decimal to unsigned int binary and vice versa. The problem is, what the user enters in a text box are String values to convert, and they can easily exceed even Long.MAX_VALUE. </p>\n\n<p>What I wanted was for the user to enter as many digits as desired in both cases, so I used the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow\">Big Integer Class</a>, which is similar to Big Decimal but is suited for Integer values. The result of using it allows users to enter strings of incredible length, and for my program to output the conversion in as much or even more digits, far, far exceeding Long.MAX_VALUE.</p>\n\n<p>However, since the Math functions use doubles, we are still limited here with the 'Big' classes, which initialize with doubles and strings. If you have an application where you can represent numbers with strings (which can have a max character length of Integer.MAX_VALUE), then the 'Big' classes are great. However if you want to initialize with a double, you are obviously limited by the constraints of double. </p>\n"},{"tags":[],"owner":{"account_id":29646997,"reputation":1,"user_id":22721798,"display_name":"TheBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697643169,"creation_date":1697317712,"answer_id":77294518,"question_id":29516222,"body_markdown":"I solved the problem only about the special points. For example for cosx :\r\n (x = 2kπ+π/2) and     \r\n (x = 2kπ-π/2)     cosx = 0\r\n\r\n Otherwise         cosx = Math.cos(x)\r\n\r\nSo I have solved the problem.\r\n","title":"How to get exact value of Trigonometric functions in Java","body":"<p>I solved the problem only about the special points. For example for cosx :\n(x = 2kπ+π/2) and<br />\n(x = 2kπ-π/2)     cosx = 0</p>\n<p>Otherwise         cosx = Math.cos(x)</p>\n<p>So I have solved the problem.</p>\n"}],"owner":{"account_id":5608394,"reputation":526,"user_id":4442094,"accept_rate":25,"display_name":"Kamil Mahmood"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2249,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1697643169,"creation_date":1428500177,"question_id":29516222,"body_markdown":"This is not duplicate of [this][1], and [this][2]\r\nI am developing a Calculator application for Android and I have been searching web for past 20-30 days but did not find any reasonable answer. I have also studied many papers on Floating Point Computation. \r\nI have also tried both Math and StrictMath library.\r\n\r\nThe following values I have tried\r\n\r\n    Math.cos(Math.PI/4) result in 0.7071067811865476 which is correct answer\r\n    \r\n    Math.cos(Math.PI/2) result in 6.123233995736766E-17 correct answer is 0\r\n    \r\n    Math.cos(Math.PI) result in -1.0 which is correct\r\n    \r\n    Math.cos((3*Math.PI)/2) result in -1.8369701987210297E-16 correct answer is 0\r\n    \r\n    Math.cos(Math.PI*2) result in 1.0 which is correct\r\n    \r\n    \r\n    \r\n    Math.sin(Math.PI/4) result in 0.7071067811865476 which is correct answer\r\n    \r\n    Math.sin(Math.PI/2) result in 1 which is correct\r\n    \r\n    Math.sin(Math.PI) result in 1.2246467991473532E-16 correct answer is 0\r\n    \r\n    Math.sin((3*Math.PI)/2) result in -1 which is correct\r\n    \r\n    Math.sin(Math.PI*2) result in -2.4492935982947064E-16 correct answer is 0\r\n    \r\n    \r\n    \r\n    Math.tan(Math.PI/4) result in 0.999999999999999 correct answer is 1\r\n    \r\n    Math.tan(Math.PI/2) result in 1.633123935319537E16 correct answer is NaN\r\n    \r\n    Math.tan(Math.PI) result in -1.2246467991473532E-16 correct answer is 0\r\n    \r\n    Math.tan((3*Math.PI)/2) result in 5.443746451065123E15 correct answer is NaN\r\n    \r\n    Math.tan(Math.PI*2) result in -2.4492935982947064E-16 correct answer is 0\r\n\r\n\r\nWhen I tried all these calculations on Google&#39;s Official calculator which is included in Stock Lollipop yielded all correct answers except for tan((3*PI)/2) and tan(PI/2)\r\n\r\nWhen I tried all these calculation on my Casio fx-991 PLUS all answers were correct.\r\n\r\nNow my question is &quot;How Google&#39;s calculator and Casio&#39;s calculator managed to get correct answer using limited floating precision of CPU?&quot; and &quot;How can I\r\nachieve same output?&quot;\r\n\r\n  [1]: https://stackoverflow.com/questions/2235689/java-math-cos-method-does-not-return-0-when-expected\r\n  [2]: https://stackoverflow.com/questions/9096364/how-to-get-user-friendly-values-for-trigonometric-functions","title":"How to get exact value of Trigonometric functions in Java","body":"<p>This is not duplicate of <a href=\"https://stackoverflow.com/questions/2235689/java-math-cos-method-does-not-return-0-when-expected\">this</a>, and <a href=\"https://stackoverflow.com/questions/9096364/how-to-get-user-friendly-values-for-trigonometric-functions\">this</a>\nI am developing a Calculator application for Android and I have been searching web for past 20-30 days but did not find any reasonable answer. I have also studied many papers on Floating Point Computation. \nI have also tried both Math and StrictMath library.</p>\n\n<p>The following values I have tried</p>\n\n<pre><code>Math.cos(Math.PI/4) result in 0.7071067811865476 which is correct answer\n\nMath.cos(Math.PI/2) result in 6.123233995736766E-17 correct answer is 0\n\nMath.cos(Math.PI) result in -1.0 which is correct\n\nMath.cos((3*Math.PI)/2) result in -1.8369701987210297E-16 correct answer is 0\n\nMath.cos(Math.PI*2) result in 1.0 which is correct\n\n\n\nMath.sin(Math.PI/4) result in 0.7071067811865476 which is correct answer\n\nMath.sin(Math.PI/2) result in 1 which is correct\n\nMath.sin(Math.PI) result in 1.2246467991473532E-16 correct answer is 0\n\nMath.sin((3*Math.PI)/2) result in -1 which is correct\n\nMath.sin(Math.PI*2) result in -2.4492935982947064E-16 correct answer is 0\n\n\n\nMath.tan(Math.PI/4) result in 0.999999999999999 correct answer is 1\n\nMath.tan(Math.PI/2) result in 1.633123935319537E16 correct answer is NaN\n\nMath.tan(Math.PI) result in -1.2246467991473532E-16 correct answer is 0\n\nMath.tan((3*Math.PI)/2) result in 5.443746451065123E15 correct answer is NaN\n\nMath.tan(Math.PI*2) result in -2.4492935982947064E-16 correct answer is 0\n</code></pre>\n\n<p>When I tried all these calculations on Google's Official calculator which is included in Stock Lollipop yielded all correct answers except for tan((3*PI)/2) and tan(PI/2)</p>\n\n<p>When I tried all these calculation on my Casio fx-991 PLUS all answers were correct.</p>\n\n<p>Now my question is \"How Google's calculator and Casio's calculator managed to get correct answer using limited floating precision of CPU?\" and \"How can I\nachieve same output?\"</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak"],"owner":{"account_id":11615535,"reputation":233,"user_id":8508429,"accept_rate":71,"display_name":"Fasco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697642946,"creation_date":1697642946,"question_id":77317701,"body_markdown":"I have three applications (A, B, and C) integrated with the same Keycloak realm, each having different clients. They all use their backend as a resource (not a client), and Vue.js on the frontend acts as the client.\r\n\r\n- **Application A:** \r\n  - Backend: Spring Boot 1.5\r\n  - Frontend: Vue.js\r\n  \r\n- **Application B:** \r\n  - Backend: Spring Boot 2.5 (recently upgraded)\r\n  - Frontend: Vue.js\r\n  \r\n- **Application C:** \r\n  - Backend: Spring Boot 1.5\r\n  - Frontend: Vue.js\r\n\r\n### Issue:\r\nWhen I logout from Application A, I still remain logged in on Application B, which does not return a 401 on various calls even though I am logged out. However, I am correctly logged out from Application C. On the other hand, if I logout from Application B, I am also logged out from Applications A and C and receive a 401 from the backend. This issue seems to have appeared after upgrading Application B to Spring Boot 2.5.\r\n\r\n### Configuration of Application B:\r\n**Properties File:**\r\n```properties\r\n# Context of the application\r\nserver.contextPath=/appli-squelette\r\n\r\n# Keycloak Information\r\nkeycloak.url= [KEYCLOAK_URL]\r\nkeycloak.protocol=openid-connect\r\nkeycloak.redirect_uri=[REDIRECT_URI]\r\nkeycloak.client.id=[CLIENT_ID]\r\nkeycloak.scope=openid profile\r\n\r\n# JWT Security Configuration\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=${keycloak.url}\r\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=${keycloak.url}/protocol/openid-connect/certs\r\n\r\n# Other security properties\r\nsecurity.oauth2.resource.preferTokenInfo=false\r\nsecurity.basic.enabled=false\r\n```\r\n\r\n### OAuth2AuthenticationConfiguration.java:\r\n```java\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\npublic class OAuth2AuthenticationConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Value(&quot;${keycloak.client.id}&quot;)\r\n    private String clientId;\r\n\r\n    @Bean\r\n    public RequestMatcher resources() {\r\n        return AnyRequestMatcher.INSTANCE;\r\n    }\r\n\r\n    @Bean\r\n    public RequestContextListener requestContextListener() {\r\n        return new RequestContextListener();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(new GrantedAuthoritiesExtractor(clientId));\r\n\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(\r\n                        &quot;/rest/version&quot;,\r\n                        &quot;/rest/constantes/**&quot;,\r\n                        &quot;/rest/swagger-ui.html&quot;\r\n                ).permitAll()\r\n                .antMatchers(&quot;/rest/**&quot;).authenticated()\r\n                .and()\r\n                .logout().permitAll().logoutSuccessUrl(&quot;/&quot;)\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(jwtAuthenticationConverter);\r\n    }\r\n}\r\n```\r\n### Question:\r\nHas anyone encountered a similar issue, particularly after upgrading to Spring Boot 2.5? Is there any configuration that I might be missing or that needs to be updated to ensure consistent logout behavior across all applications?\r\n\r\nAny help or insights would be greatly appreciated!","title":"Spring Boot 2.5 with Keycloak: Inconsistent Logout Behavior Across Multiple Applications","body":"<p>I have three applications (A, B, and C) integrated with the same Keycloak realm, each having different clients. They all use their backend as a resource (not a client), and Vue.js on the frontend acts as the client.</p>\n<ul>\n<li><p><strong>Application A:</strong></p>\n<ul>\n<li>Backend: Spring Boot 1.5</li>\n<li>Frontend: Vue.js</li>\n</ul>\n</li>\n<li><p><strong>Application B:</strong></p>\n<ul>\n<li>Backend: Spring Boot 2.5 (recently upgraded)</li>\n<li>Frontend: Vue.js</li>\n</ul>\n</li>\n<li><p><strong>Application C:</strong></p>\n<ul>\n<li>Backend: Spring Boot 1.5</li>\n<li>Frontend: Vue.js</li>\n</ul>\n</li>\n</ul>\n<h3>Issue:</h3>\n<p>When I logout from Application A, I still remain logged in on Application B, which does not return a 401 on various calls even though I am logged out. However, I am correctly logged out from Application C. On the other hand, if I logout from Application B, I am also logged out from Applications A and C and receive a 401 from the backend. This issue seems to have appeared after upgrading Application B to Spring Boot 2.5.</p>\n<h3>Configuration of Application B:</h3>\n<p><strong>Properties File:</strong></p>\n<pre><code># Context of the application\nserver.contextPath=/appli-squelette\n\n# Keycloak Information\nkeycloak.url= [KEYCLOAK_URL]\nkeycloak.protocol=openid-connect\nkeycloak.redirect_uri=[REDIRECT_URI]\nkeycloak.client.id=[CLIENT_ID]\nkeycloak.scope=openid profile\n\n# JWT Security Configuration\nspring.security.oauth2.resourceserver.jwt.issuer-uri=${keycloak.url}\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=${keycloak.url}/protocol/openid-connect/certs\n\n# Other security properties\nsecurity.oauth2.resource.preferTokenInfo=false\nsecurity.basic.enabled=false\n</code></pre>\n<h3>OAuth2AuthenticationConfiguration.java:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class OAuth2AuthenticationConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Value(&quot;${keycloak.client.id}&quot;)\n    private String clientId;\n\n    @Bean\n    public RequestMatcher resources() {\n        return AnyRequestMatcher.INSTANCE;\n    }\n\n    @Bean\n    public RequestContextListener requestContextListener() {\n        return new RequestContextListener();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(new GrantedAuthoritiesExtractor(clientId));\n\n        http\n                .authorizeRequests()\n                .antMatchers(\n                        &quot;/rest/version&quot;,\n                        &quot;/rest/constantes/**&quot;,\n                        &quot;/rest/swagger-ui.html&quot;\n                ).permitAll()\n                .antMatchers(&quot;/rest/**&quot;).authenticated()\n                .and()\n                .logout().permitAll().logoutSuccessUrl(&quot;/&quot;)\n                .and()\n                .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(jwtAuthenticationConverter);\n    }\n}\n</code></pre>\n<h3>Question:</h3>\n<p>Has anyone encountered a similar issue, particularly after upgrading to Spring Boot 2.5? Is there any configuration that I might be missing or that needs to be updated to ensure consistent logout behavior across all applications?</p>\n<p>Any help or insights would be greatly appreciated!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1553788140,"creation_date":1553788140,"answer_id":55401812,"question_id":55400584,"body_markdown":"&gt; Is it possible to differentiate between properties set on the command\r\n&gt; line when starting the program vs those that come from elsewhere?\r\n\r\nAs far as I know, this is not supported.  By the time your code is executing, the command line system properties have already been munged with all of the others.\r\n\r\nDepending on what you are really trying to accomplish, one thing to consider might be to not set them as command line system properties but instead pass them as parameters to your program so you can evaluate them and then set them as system properties in your `main` method before much of your other code executes.\r\n\r\nI hope that helps.","title":"Get list of system properties from command line only","body":"<blockquote>\n  <p>Is it possible to differentiate between properties set on the command\n  line when starting the program vs those that come from elsewhere?</p>\n</blockquote>\n\n<p>As far as I know, this is not supported.  By the time your code is executing, the command line system properties have already been munged with all of the others.</p>\n\n<p>Depending on what you are really trying to accomplish, one thing to consider might be to not set them as command line system properties but instead pass them as parameters to your program so you can evaluate them and then set them as system properties in your <code>main</code> method before much of your other code executes.</p>\n\n<p>I hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46100,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662996107,"creation_date":1662996107,"answer_id":73691566,"question_id":55400584,"body_markdown":"You can introspect JVM itself:\r\n\r\nhttps://stackoverflow.com/questions/1490869/how-to-get-vm-arguments-from-inside-of-java-application\r\n\r\n```java\r\nimport java.lang.management.ManagementFactory;\r\nimport java.lang.management.RuntimeMXBean;\r\n...\r\nRuntimeMXBean runtimeMxBean = ManagementFactory.getRuntimeMXBean();\r\nList&lt;String&gt; arguments = runtimeMxBean.getInputArguments();\r\n```\r\n\r\nSearch for `-D` options. I don&#39;t recommend this solution, the API is for logging/monitoring/debugging. Usage in business code is code smell.","title":"Get list of system properties from command line only","body":"<p>You can introspect JVM itself:</p>\n<p><a href=\"https://stackoverflow.com/questions/1490869/how-to-get-vm-arguments-from-inside-of-java-application\">How to get VM arguments from inside of Java application?</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.RuntimeMXBean;\n...\nRuntimeMXBean runtimeMxBean = ManagementFactory.getRuntimeMXBean();\nList&lt;String&gt; arguments = runtimeMxBean.getInputArguments();\n</code></pre>\n<p>Search for <code>-D</code> options. I don't recommend this solution, the API is for logging/monitoring/debugging. Usage in business code is code smell.</p>\n"}],"owner":{"account_id":1738216,"reputation":1174,"user_id":1590293,"accept_rate":71,"display_name":"Trebla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3486,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":55401812,"answer_count":2,"score":1,"last_activity_date":1697642577,"creation_date":1553784669,"question_id":55400584,"body_markdown":"This is similar to a pretty basic question, I&#39;m trying to find a list of system properties passed to the java program from the command line only.  E.g., running\r\n\r\n    java -Dsome.property=value -Dother.property=value2\r\n\r\nI&#39;m trying to get a list of just these properties.  Ignore the specific property names in the example, the actual command line arguments will be arbitrarily named so it is not feasible to explicitly call `System.getProperty(&quot;some.property&quot;)` for each property I need.\r\n\r\n`System.getProperties()` returns many properties that I do not have any interest in. Is it possible to differentiate between properties set on the command line when starting the program vs those that come from elsewhere?","title":"Get list of system properties from command line only","body":"<p>This is similar to a pretty basic question, I'm trying to find a list of system properties passed to the java program from the command line only.  E.g., running</p>\n<pre><code>java -Dsome.property=value -Dother.property=value2\n</code></pre>\n<p>I'm trying to get a list of just these properties.  Ignore the specific property names in the example, the actual command line arguments will be arbitrarily named so it is not feasible to explicitly call <code>System.getProperty(&quot;some.property&quot;)</code> for each property I need.</p>\n<p><code>System.getProperties()</code> returns many properties that I do not have any interest in. Is it possible to differentiate between properties set on the command line when starting the program vs those that come from elsewhere?</p>\n"},{"tags":["java","guava"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1352484651,"creation_date":1352484651,"answer_id":13313635,"question_id":13313533,"body_markdown":"...I&#39;m not clear whether you&#39;re describing your expectations or your observations, but `invalidate` should remove the entry immediately -- not waiting for another query -- and should force the value to get reloaded on the very next query to that key.  If that&#39;s not what happens, then that&#39;s a bug.","title":"Guava CacheLoader - invalidate does not immediately invalidate entry if both expireAfterWrite and expireAfterAccess are set","body":"<p>...I'm not clear whether you're describing your expectations or your observations, but <code>invalidate</code> should remove the entry immediately -- not waiting for another query -- and should force the value to get reloaded on the very next query to that key.  If that's not what happens, then that's a bug.</p>\n"},{"tags":[],"owner":{"account_id":29701434,"reputation":1,"user_id":22763490,"display_name":"Mohamed Reda Rahou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697642316,"creation_date":1697642316,"answer_id":77317623,"question_id":13313533,"body_markdown":"You must use your cache in a singleton or Application context, otherwise, the cache class will not retrieve the right instance to invalidate cache (for example if it&#39;s injected into session or request scope)","title":"Guava CacheLoader - invalidate does not immediately invalidate entry if both expireAfterWrite and expireAfterAccess are set","body":"<p>You must use your cache in a singleton or Application context, otherwise, the cache class will not retrieve the right instance to invalidate cache (for example if it's injected into session or request scope)</p>\n"}],"owner":{"account_id":37366,"reputation":3590,"user_id":106781,"accept_rate":50,"display_name":"GreenieMeanie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6259,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":13313635,"answer_count":2,"score":1,"last_activity_date":1697642316,"creation_date":1352484272,"question_id":13313533,"body_markdown":"So for example:\n\n    CacheBuilder.newBuilder()\n                .maximumSize(1000)\n                .expireAfterAccess(1, TimeUnit.MINUTES)\n                .expireAfterWrite(1, TimeUnit.MINUTES)\n                .build(new CacheLoader&lt;String, Object&gt;() {\n                    @Override\n                    public Object load (String key) {\n                        return ...;\n                    }\n                });\n\nIf calling `invalidate(key)` on the returned instance, a subsequent call to `getUnchecked()` will ALWAYS use the previous value until at least 1 minute has passed in which cause it will call `load(key)` again. A call to `cleanUp()` right after `invalidate()` seems to have no effect either.\n\nAm I using this feature incorrectly or not understanding something about how the caching is working? \n\nPer [http://code.google.com/p/guava-libraries/wiki/CachesExplained][1]:\n\n&gt; &quot;At any time, you may explicitly invalidate cache entries rather than waiting for entries to be evicted. This can be done: \n&gt;\n&gt; individually, using Cache.invalidate(key)&quot;\n\nI would assume that the call to invalidate would take precedence and always make the entry be eligible for eviction (ie, the very next getUnchecked call) even if the time is less than 1 minute.\n\n\nEdit:: I figured out my issue. The above observation is indeed true and the expected nature of the cache. However, my specific was issue was that I was sometimes calling invalidateAll([]) with an empty List (which doesn&#39;t invalidate anything), when I really needed to call invalidateAll() with no parameters (which invalidates everything). I would almost expect invalideAll([]) to be equivalent to invalidateAll(), but I could see where that would lead to some confusion.\n\n\n  [1]: http://code.google.com/p/guava-libraries/wiki/CachesExplained","title":"Guava CacheLoader - invalidate does not immediately invalidate entry if both expireAfterWrite and expireAfterAccess are set","body":"<p>So for example:</p>\n<pre><code>CacheBuilder.newBuilder()\n            .maximumSize(1000)\n            .expireAfterAccess(1, TimeUnit.MINUTES)\n            .expireAfterWrite(1, TimeUnit.MINUTES)\n            .build(new CacheLoader&lt;String, Object&gt;() {\n                @Override\n                public Object load (String key) {\n                    return ...;\n                }\n            });\n</code></pre>\n<p>If calling <code>invalidate(key)</code> on the returned instance, a subsequent call to <code>getUnchecked()</code> will ALWAYS use the previous value until at least 1 minute has passed in which cause it will call <code>load(key)</code> again. A call to <code>cleanUp()</code> right after <code>invalidate()</code> seems to have no effect either.</p>\n<p>Am I using this feature incorrectly or not understanding something about how the caching is working?</p>\n<p>Per <a href=\"http://code.google.com/p/guava-libraries/wiki/CachesExplained\" rel=\"nofollow noreferrer\">http://code.google.com/p/guava-libraries/wiki/CachesExplained</a>:</p>\n<blockquote>\n<p>&quot;At any time, you may explicitly invalidate cache entries rather than waiting for entries to be evicted. This can be done:</p>\n<p>individually, using Cache.invalidate(key)&quot;</p>\n</blockquote>\n<p>I would assume that the call to invalidate would take precedence and always make the entry be eligible for eviction (ie, the very next getUnchecked call) even if the time is less than 1 minute.</p>\n<p>Edit:: I figured out my issue. The above observation is indeed true and the expected nature of the cache. However, my specific was issue was that I was sometimes calling invalidateAll([]) with an empty List (which doesn't invalidate anything), when I really needed to call invalidateAll() with no parameters (which invalidates everything). I would almost expect invalideAll([]) to be equivalent to invalidateAll(), but I could see where that would lead to some confusion.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1688981638,"post_id":76652437,"comment_id":135143172,"body_markdown":"`64&lt;4` is a boolean expression and it evaluates to `false`. Does this answer your question?","body":"<code>64&lt;4</code> is a boolean expression and it evaluates to <code>false</code>. Does this answer your question?"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1688986094,"post_id":76652437,"comment_id":135144039,"body_markdown":"please change the title according to the question: &quot;I have a question&quot; could be any question title - &quot;I&#39;m learning Java&quot; is also irrelevant to the question. I also suggest to take a look at [TOUR] and [ASK]","body":"please change the title according to the question: &quot;I have a question&quot; could be any question title - &quot;I&#39;m learning Java&quot; is also irrelevant to the question. I also suggest to take a look at <a href=\"https://stackoverflow.com/tour\">TOUR</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1688986765,"post_id":76652437,"comment_id":135144175,"body_markdown":"Your question suggests that you&#39;re just now learning the most basic concepts of Java programming. Since this site is not geared to work in place of an introduction to programming website, and since it is best to get this information from tutorials, you will probably want to start there. You can find links to great Java tutorials and other language resources in the [java info](https://stackoverflow.com/tags/java/info) section of the [tag:java] tag. Start here: [The Java™ Tutorials](https://docs.oracle.com/javase/tutorial/tutorialLearningPaths.html).","body":"Your question suggests that you&#39;re just now learning the most basic concepts of Java programming. Since this site is not geared to work in place of an introduction to programming website, and since it is best to get this information from tutorials, you will probably want to start there. You can find links to great Java tutorials and other language resources in the <a href=\"https://stackoverflow.com/tags/java/info\">java info</a> section of the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag. Start here: <a href=\"https://docs.oracle.com/javase/tutorial/tutorialLearningPaths.html\" rel=\"nofollow noreferrer\">The Java™ Tutorials</a>."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688987264,"post_id":76652437,"comment_id":135144295,"body_markdown":"Voting to close question as &quot;resolved in a way not likely to help future readers&quot;","body":"Voting to close question as &quot;resolved in a way not likely to help future readers&quot;"}],"answers":[{"tags":[],"owner":{"account_id":23649810,"reputation":31,"user_id":17678847,"display_name":"Ghassan Dabak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688981980,"creation_date":1688981933,"answer_id":76652506,"question_id":76652437,"body_markdown":"It is returning a boolean because you have passed a boolean expression by using the `&lt;` operator. Your print statement will see it like this ***is 64 less than 4?***\r\n\r\nSo it would return a boolean","title":"Why does my print function give me output as &quot;false&quot;?","body":"<p>It is returning a boolean because you have passed a boolean expression by using the <code>&lt;</code> operator. Your print statement will see it like this <em><strong>is 64 less than 4?</strong></em></p>\n<p>So it would return a boolean</p>\n"},{"tags":[],"owner":{"display_name":"user22202762"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688982090,"creation_date":1688982090,"answer_id":76652523,"question_id":76652437,"body_markdown":"According to Java programming language documentation of class `java.lang.System` `out` is a field of type `java.io.PrintStream` class that encapsulates the `println` method with one of its overloads accepting a `boolean` argument that is the type of comparison passed in when calling `System.out.println(64&lt;6)`","title":"Why does my print function give me output as &quot;false&quot;?","body":"<p>According to Java programming language documentation of class <code>java.lang.System</code> <code>out</code> is a field of type <code>java.io.PrintStream</code> class that encapsulates the <code>println</code> method with one of its overloads accepting a <code>boolean</code> argument that is the type of comparison passed in when calling <code>System.out.println(64&lt;6)</code></p>\n"},{"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688982771,"creation_date":1688982771,"answer_id":76652596,"question_id":76652437,"body_markdown":"Note sure what you were trying to achieve but you&#39;re simply printing out the result of ```64 &lt; 4``` which is ```false``` because 64 is not less than 4.\r\n\r\nI&#39;ll assume that you&#39;re actually trying to print out the equation rather than the result in which case you&#39;ll have to print it out as a ```String``` by putting it in double quotes like this:\r\n\r\n    System.out.println(&quot;64 &lt; 4&quot;);\r\n\r\nThis will print out ```64 &lt; 4```\r\n\r\nOr to include the result:\r\n\r\n    System.out.println(&quot;64 &lt; 4 = &quot; + (64 &lt; 4));\r\n\r\nwhich will print out\r\n\r\n    64 &lt; 4 = false","title":"Why does my print function give me output as &quot;false&quot;?","body":"<p>Note sure what you were trying to achieve but you're simply printing out the result of <code>64 &lt; 4</code> which is <code>false</code> because 64 is not less than 4.</p>\n<p>I'll assume that you're actually trying to print out the equation rather than the result in which case you'll have to print it out as a <code>String</code> by putting it in double quotes like this:</p>\n<pre><code>System.out.println(&quot;64 &lt; 4&quot;);\n</code></pre>\n<p>This will print out <code>64 &lt; 4</code></p>\n<p>Or to include the result:</p>\n<pre><code>System.out.println(&quot;64 &lt; 4 = &quot; + (64 &lt; 4));\n</code></pre>\n<p>which will print out</p>\n<pre><code>64 &lt; 4 = false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688988645,"creation_date":1688988645,"answer_id":76653298,"question_id":76652437,"body_markdown":"&gt; _&#39;... the task of giving output as true and false is with boolean datatype right? ...&#39;_\r\n\r\nCorrect, a _Boolean_ data-type is used for depicting _true_ or _false_ values.  \r\n_[Wikipedia &amp;ndash; Boolean data type](https://en.wikipedia.org/wiki/Boolean_data_type)_.\r\n\r\n&gt; _&#39;... Why does my print function give me output as &quot;false&quot; ...&#39;_\r\n\r\nThe reason your code works is because the result of your _[statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html)_ produces a _boolean_ value.\r\n\r\nThis is similar to typing the following.\r\n\r\n```java\r\nString string;\r\nSystem.out.println(string = &quot;example&quot;);\r\n```\r\n\r\nThe result of assigning a value to _string_ is a _String_ value, thus the text _&quot;example&quot;_ is printed.","title":"Why does my print function give me output as &quot;false&quot;?","body":"<blockquote>\n<p><em>'... the task of giving output as true and false is with boolean datatype right? ...'</em></p>\n</blockquote>\n<p>Correct, a <em>Boolean</em> data-type is used for depicting <em>true</em> or <em>false</em> values.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Boolean_data_type\" rel=\"nofollow noreferrer\">Wikipedia – Boolean data type</a></em>.</p>\n<blockquote>\n<p><em>'... Why does my print function give me output as &quot;false&quot; ...'</em></p>\n</blockquote>\n<p>The reason your code works is because the result of your <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">statement</a></em> produces a <em>boolean</em> value.</p>\n<p>This is similar to typing the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string;\nSystem.out.println(string = &quot;example&quot;);\n</code></pre>\n<p>The result of assigning a value to <em>string</em> is a <em>String</em> value, thus the text <em>&quot;example&quot;</em> is printed.</p>\n"}],"owner":{"account_id":26730336,"reputation":9,"user_id":20332802,"display_name":"Ganesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":4,"score":-2,"last_activity_date":1697641897,"creation_date":1688981432,"question_id":76652437,"body_markdown":"```\r\npackage Basics;\r\n\r\npublic class ch2_operators {\r\n    public static void main(String[] args) {\r\n        System.out.println(64&lt;6);\r\n    }\r\n}\r\n```\r\nWhy does my print function give me output as &quot;false&quot; in the above code? The task of giving output as true and false is with boolean data type, right?\r\n","title":"Why does my print function give me output as &quot;false&quot;?","body":"<pre><code>package Basics;\n\npublic class ch2_operators {\n    public static void main(String[] args) {\n        System.out.println(64&lt;6);\n    }\n}\n</code></pre>\n<p>Why does my print function give me output as &quot;false&quot; in the above code? The task of giving output as true and false is with boolean data type, right?</p>\n"},{"tags":["java","spring-mvc","spring-boot","controller","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":14054068,"reputation":30,"user_id":10151961,"display_name":"Gaurav Jestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697641830,"creation_date":1545657812,"answer_id":53914052,"question_id":53887463,"body_markdown":"You are doing wrong, value do not pass from controller to thymeleaf by this way. I&#39;ll give you one example.\r\nExample:\r\nController:\r\n```\r\nModelAndView model = new ModelAndView();\r\nmodel.put(&quot;branches&quot;, branchRepository.findAll());\r\nreturn model;\r\n```\r\nThymeleaf:\r\n```\r\n&lt;input id=&quot;branches&quot; type=&quot;hidden&quot; th:value=&quot;${branches}&quot;/&gt;\r\n```\r\nNow on your value is pass to id branches.","title":"@ModelAttribute is returning null values with thymeleaf","body":"<p>You are doing wrong, value do not pass from controller to thymeleaf by this way. I'll give you one example.\nExample:\nController:</p>\n<pre><code>ModelAndView model = new ModelAndView();\nmodel.put(&quot;branches&quot;, branchRepository.findAll());\nreturn model;\n</code></pre>\n<p>Thymeleaf:</p>\n<pre><code>&lt;input id=&quot;branches&quot; type=&quot;hidden&quot; th:value=&quot;${branches}&quot;/&gt;\n</code></pre>\n<p>Now on your value is pass to id branches.</p>\n"},{"tags":[],"owner":{"account_id":9189980,"reputation":1816,"user_id":6830867,"display_name":"J&#250;lio Falbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611082812,"creation_date":1611082812,"answer_id":65797804,"question_id":53887463,"body_markdown":"Just add the field as a hidden input and the thymeleaf will send your changes:\r\n\r\n    &lt;input type=&quot;hidden&quot; th:field=&quot;*{branches}&quot;/&gt;","title":"@ModelAttribute is returning null values with thymeleaf","body":"<p>Just add the field as a hidden input and the thymeleaf will send your changes:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; th:field=&quot;*{branches}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":12466027,"reputation":71,"user_id":9075945,"display_name":"vince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2157,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697641830,"creation_date":1545406894,"question_id":53887463,"body_markdown":"After days of research I have trouble finding a solution for my controller methods. I have two controller methods that seem to be problematic. The savings method is saving null values. I have no clue how to bind the values, that are being typed into the field, to the list /all. One for creating values with input fields and another to save the input values and update a list /all. I want to get the values that I put into the fields of the form and have a updated list /all, with the new values. Note that I am only trying to save two of eleven attributes of the entire class. The class has double values and true/false. Those are being saved into db, except for the important String values. Thanks ahead for the help!\r\n\r\nFirst method: \r\n\r\n    @GetMapping(&quot;/create&quot;)\r\n    \tpublic String showCreateForm(Model model, Branch branch) {\r\n    \t\tList&lt;Branch&gt; branches = new ArrayList&lt;&gt;();\r\n    \t\tBranchCreationDto branchesForm = new BranchCreationDto(branches);\r\n    \r\n    \t\tfor (int i = 1; i &lt;= 1; i++) {\r\n    \t\t\t// the input field\r\n    \t\t\tbranchesForm.addBranch(new Branch());\r\n    \t\t}\r\n    \t\t\r\n    \t\tmodel.addAttribute(&quot;form&quot;, branchesForm);\r\n    \t\treturn &quot;branches/create&quot;;\r\n    \t}\r\nThis method is has one input field, where values of Branch can be set. \r\n\r\nSecond method: \r\n\r\n    @PostMapping(&quot;/saving&quot;)\r\n\tpublic String saveBranches(@ModelAttribute BranchCreationDto form, Model   model, Branch branch) {\r\n\t\t\r\n        // saves null but needs to be saving the values that are being typed into the field\r\n\t\tthis.branchRepository.saveAll(form.getBranches());\r\n\r\n\t\tmodel.addAttribute(&quot;branches&quot;, branchRepository.findAll());\r\n\t\t\r\n\t\treturn &quot;redirect:/all&quot;;\r\n\t\t\r\n\t}\r\n\r\nThis method appears to have the problem at  \r\n\r\n&gt; this.branchRepository.saveAll(form.getBranches());\r\n\r\nIt is returning null values. I have already tried putting branch.getName(), branch.getType() into the parameter. This does not work.\r\n\r\nWith the method /all the programm is returning the list.\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n\tpublic String showAll(Model model) {\r\n\t\tmodel.addAttribute(&quot;branches&quot;, branchRepository.findAll());\r\n\t\treturn &quot;branches/all&quot;;\r\n\t}\r\n\r\nThis is my wrapper class\r\n\r\n        import java.util.List;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n\r\n\r\n    public class BranchCreationDto {\r\n\r\n\t@Autowired\r\n\tprivate List&lt;Branch&gt; branches;\r\n\r\n\t    public BranchCreationDto(List&lt;Branch&gt; branches) {\r\n\t\t    this.branches = branches;\r\n\r\n\t    }\r\n\r\n\t    public BranchCreationDto() {\r\n\r\n\t    }\r\n\r\n\t    public void addBranch(Branch branch) {\r\n\t\t    this.branches.add(branch);\r\n\t    }\r\n\r\n\t    public List&lt;Branch&gt; getBranches() {\r\n\t\t    return branches;\r\n\t    }\r\n\r\n\t    public void setBranches(List&lt;Branch&gt; branches) {\r\n\t\t  this.branches = branches;\r\n\t    }\r\n\r\n    }\r\n\r\nAnd this is the form \r\n\r\n    &lt;body&gt;\r\n\r\n\t&lt;!-- Save --&gt;\r\n\t&lt;form action=&quot;#&quot; th:action=&quot;@{saving}&quot; th:object=&quot;${form}&quot;\r\n\t\tmethod=&quot;post&quot;&gt;\r\n\t\t&lt;fieldset&gt;\r\n\t\t\t&lt;input type=&quot;submit&quot; id=&quot;submitButton&quot; th:value=&quot;Save&quot;&gt; &lt;input\r\n\t\t\t\ttype=&quot;reset&quot; id=&quot;resetButton&quot; name=&quot;reset&quot; th:value=&quot;Reset&quot; /&gt;\r\n\t\t\t&lt;table&gt;\r\n\t\t\t\t&lt;thead&gt;\r\n\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t&lt;th&gt;Branch&lt;/th&gt;\r\n\t\t\t\t\t\t&lt;th&gt;Type&lt;/th&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;/thead&gt;\r\n\t\t\t\t&lt;tbody&gt;\r\n\t\t\t\t\t&lt;tr th:each=&quot;branch, itemStat : *{branches}&quot;&gt;\r\n\t\t\t\t\t\t&lt;td&gt;&lt;input th:field=&quot;*{branches[__${itemStat.index}__].branch}&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t\t\t&lt;td&gt;&lt;input th:field=&quot;*{branches[__${itemStat.index}__].type}&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;/tbody&gt;\r\n\t\t\t&lt;/table&gt;\r\n\t\t&lt;/fieldset&gt;\r\n\t&lt;/form&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n\r\n","title":"@ModelAttribute is returning null values with thymeleaf","body":"<p>After days of research I have trouble finding a solution for my controller methods. I have two controller methods that seem to be problematic. The savings method is saving null values. I have no clue how to bind the values, that are being typed into the field, to the list /all. One for creating values with input fields and another to save the input values and update a list /all. I want to get the values that I put into the fields of the form and have a updated list /all, with the new values. Note that I am only trying to save two of eleven attributes of the entire class. The class has double values and true/false. Those are being saved into db, except for the important String values. Thanks ahead for the help!</p>\n\n<p>First method: </p>\n\n<pre><code>@GetMapping(\"/create\")\n    public String showCreateForm(Model model, Branch branch) {\n        List&lt;Branch&gt; branches = new ArrayList&lt;&gt;();\n        BranchCreationDto branchesForm = new BranchCreationDto(branches);\n\n        for (int i = 1; i &lt;= 1; i++) {\n            // the input field\n            branchesForm.addBranch(new Branch());\n        }\n\n        model.addAttribute(\"form\", branchesForm);\n        return \"branches/create\";\n    }\n</code></pre>\n\n<p>This method is has one input field, where values of Branch can be set. </p>\n\n<p>Second method: </p>\n\n<pre><code>@PostMapping(\"/saving\")\npublic String saveBranches(@ModelAttribute BranchCreationDto form, Model   model, Branch branch) {\n\n    // saves null but needs to be saving the values that are being typed into the field\n    this.branchRepository.saveAll(form.getBranches());\n\n    model.addAttribute(\"branches\", branchRepository.findAll());\n\n    return \"redirect:/all\";\n\n}\n</code></pre>\n\n<p>This method appears to have the problem at  </p>\n\n<blockquote>\n  <p>this.branchRepository.saveAll(form.getBranches());</p>\n</blockquote>\n\n<p>It is returning null values. I have already tried putting branch.getName(), branch.getType() into the parameter. This does not work.</p>\n\n<p>With the method /all the programm is returning the list.</p>\n\n<pre><code>@GetMapping(\"/all\")\npublic String showAll(Model model) {\n    model.addAttribute(\"branches\", branchRepository.findAll());\n    return \"branches/all\";\n}\n</code></pre>\n\n<p>This is my wrapper class</p>\n\n<pre><code>    import java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\n\npublic class BranchCreationDto {\n\n@Autowired\nprivate List&lt;Branch&gt; branches;\n\n    public BranchCreationDto(List&lt;Branch&gt; branches) {\n        this.branches = branches;\n\n    }\n\n    public BranchCreationDto() {\n\n    }\n\n    public void addBranch(Branch branch) {\n        this.branches.add(branch);\n    }\n\n    public List&lt;Branch&gt; getBranches() {\n        return branches;\n    }\n\n    public void setBranches(List&lt;Branch&gt; branches) {\n      this.branches = branches;\n    }\n\n}\n</code></pre>\n\n<p>And this is the form </p>\n\n<pre><code>&lt;body&gt;\n\n&lt;!-- Save --&gt;\n&lt;form action=\"#\" th:action=\"@{saving}\" th:object=\"${form}\"\n    method=\"post\"&gt;\n    &lt;fieldset&gt;\n        &lt;input type=\"submit\" id=\"submitButton\" th:value=\"Save\"&gt; &lt;input\n            type=\"reset\" id=\"resetButton\" name=\"reset\" th:value=\"Reset\" /&gt;\n        &lt;table&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Branch&lt;/th&gt;\n                    &lt;th&gt;Type&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=\"branch, itemStat : *{branches}\"&gt;\n                    &lt;td&gt;&lt;input th:field=\"*{branches[__${itemStat.index}__].branch}\" /&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;input th:field=\"*{branches[__${itemStat.index}__].type}\" /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","for-loop","unicode","char"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1697550225,"post_id":77309523,"comment_id":136292016,"body_markdown":"You might want to look at what the maximum value for a char is. It doesn&#39;t go as high as 90000. That&#39;s why your `char i` will eventually overflow and your condition `i &lt;= 90000` will never be false.","body":"You might want to look at what the maximum value for a char is. It doesn&#39;t go as high as 90000. That&#39;s why your <code>char i</code> will eventually overflow and your condition <code>i &lt;= 90000</code> will never be false."},{"owner":{"account_id":29692437,"reputation":11,"user_id":22756528,"display_name":"CodeRattlesnake"},"score":0,"creation_date":1697550661,"post_id":77309523,"comment_id":136292106,"body_markdown":"Upon googling i can not find anything other than 256, but i can print it till at least 30.000","body":"Upon googling i can not find anything other than 256, but i can print it till at least 30.000"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1697550756,"post_id":77309523,"comment_id":136292123,"body_markdown":"You need to look at the Unicode tables","body":"You need to look at the Unicode tables"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1697550965,"post_id":77309523,"comment_id":136292166,"body_markdown":"Check the [JLS](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html) in section 4.2.1","body":"Check the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html\" rel=\"nofollow noreferrer\">JLS</a> in section 4.2.1"},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1697551262,"post_id":77309523,"comment_id":136292233,"body_markdown":"@CodeRattlesnake There is no need for google. The primitiv Data types and there values are described in official documentation and tutorials: [Primitive Data Types](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) - And there is also a java class Character that has that information saved as a static field: `Character.MAX_VALUE` (So doing `System.out.println((int) Character.MAX_VALUE);` will print you the max value as a number","body":"@CodeRattlesnake There is no need for google. The primitiv Data types and there values are described in official documentation and tutorials: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types</a> - And there is also a java class Character that has that information saved as a static field: <code>Character.MAX_VALUE</code> (So doing <code>System.out.println((int) Character.MAX_VALUE);</code> will print you the max value as a number"},{"owner":{"account_id":29692437,"reputation":11,"user_id":22756528,"display_name":"CodeRattlesnake"},"score":0,"creation_date":1697552229,"post_id":77309523,"comment_id":136292457,"body_markdown":"Awesome! Got it! Thank you very much @OHGODSPIDERS and Rifat","body":"Awesome! Got it! Thank you very much @OHGODSPIDERS and Rifat"},{"owner":{"account_id":29692437,"reputation":11,"user_id":22756528,"display_name":"CodeRattlesnake"},"score":0,"creation_date":1697552793,"post_id":77309523,"comment_id":136292561,"body_markdown":"How do i mark my question as solved?","body":"How do i mark my question as solved?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1697554133,"post_id":77309523,"comment_id":136292898,"body_markdown":"You could accept one of the answers below, or add your own answer and check that as correct.  (You might need some more points for the latter, I&#39;m not sure if there&#39;s a cut off to be able to do that.  If not, you can just leave it as is.)","body":"You could accept one of the answers below, or add your own answer and check that as correct.  (You might need some more points for the latter, I&#39;m not sure if there&#39;s a cut off to be able to do that.  If not, you can just leave it as is.)"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697559612,"creation_date":1697550666,"answer_id":77309597,"question_id":77309523,"body_markdown":"You will notice that if you put this code in an IDE, or perhaps through a compiler with the correct warnings enabled, you&#39;ll get this warning:\r\n\r\n&gt; Condition &#39;i &lt;= 90000&#39; is always &#39;true&#39;\r\n\r\nIt&#39;s telling you that a `char` doesn&#39;t go as high as `90000`. So your loop will never end.\r\n\r\nA `char` can go from [`MIN_VALUE`][1] (`&#39;\\u0000&#39;`) to [`MAX_VALUE`][2] (`&#39;\\uFFFF&#39;`). That’s 0 to 65,535 in decimal. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Character.html#MIN_VALUE\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Character.html#MAX_VALUE","title":"For loop to print out UTF doesn&#39;t terminate","body":"<p>You will notice that if you put this code in an IDE, or perhaps through a compiler with the correct warnings enabled, you'll get this warning:</p>\n<blockquote>\n<p>Condition 'i &lt;= 90000' is always 'true'</p>\n</blockquote>\n<p>It's telling you that a <code>char</code> doesn't go as high as <code>90000</code>. So your loop will never end.</p>\n<p>A <code>char</code> can go from <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Character.html#MIN_VALUE\" rel=\"nofollow noreferrer\"><code>MIN_VALUE</code></a> (<code>'\\u0000'</code>) to <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Character.html#MAX_VALUE\" rel=\"nofollow noreferrer\"><code>MAX_VALUE</code></a> (<code>'\\uFFFF'</code>). That’s 0 to 65,535 in decimal.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697559892,"creation_date":1697558350,"answer_id":77310524,"question_id":77309523,"body_markdown":"# Avoid `char`\r\n\r\nThe [Answer by Jorn][1] is correct, and should be accepted. \r\n\r\nLet me add that `char` has been essentially broken since Java 2 and legacy since Java 5. As a 16-bit value, `char` (&amp; its wrapper class [`Character`][2]) is physically incapable of representing most characters. \r\n\r\nInstead of `char`, use [code point][3] integer numbers to work with individual characters. \r\n\r\n## Code point\r\n\r\nCode points range from zero to just over a million. About 150,000 of that million have been assigned to a character by the [Unicode Consortium][4]. The rest are either reserved for future use or set aside for “private” use. \r\n\r\nUse `static` methods on the `Character` class to inspect each code point.\r\n\r\n    for( int codePoint = Character.MIN_CODE_POINT ; codePoint &lt;= Character.MAX_CODE_POINT ; codePoint ++ )\r\n    {\r\n        if ( Character.isDefined ( codePoint ) ) \r\n        {\r\n            String name = Character.getName( codePoint) ;\r\n            String character = Character.toString( codePoint ) ;\r\n            … \r\n        }\r\n    }\r\n\r\nYou will find other code point methods on classes like `String`, `StringBuilder`, etc. \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77309597/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Character.html\r\n  [3]: https://en.m.wikipedia.org/wiki/Code_point\r\n  [4]: https://en.wikipedia.org/wiki/Unicode_Consortium","title":"For loop to print out UTF doesn&#39;t terminate","body":"<h1>Avoid <code>char</code></h1>\n<p>The <a href=\"https://stackoverflow.com/a/77309597/642706\">Answer by Jorn</a> is correct, and should be accepted.</p>\n<p>Let me add that <code>char</code> has been essentially broken since Java 2 and legacy since Java 5. As a 16-bit value, <code>char</code> (&amp; its wrapper class <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Character.html\" rel=\"nofollow noreferrer\"><code>Character</code></a>) is physically incapable of representing most characters.</p>\n<p>Instead of <code>char</code>, use <a href=\"https://en.m.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers to work with individual characters.</p>\n<h2>Code point</h2>\n<p>Code points range from zero to just over a million. About 150,000 of that million have been assigned to a character by the <a href=\"https://en.wikipedia.org/wiki/Unicode_Consortium\" rel=\"nofollow noreferrer\">Unicode Consortium</a>. The rest are either reserved for future use or set aside for “private” use.</p>\n<p>Use <code>static</code> methods on the <code>Character</code> class to inspect each code point.</p>\n<pre><code>for( int codePoint = Character.MIN_CODE_POINT ; codePoint &lt;= Character.MAX_CODE_POINT ; codePoint ++ )\n{\n    if ( Character.isDefined ( codePoint ) ) \n    {\n        String name = Character.getName( codePoint) ;\n        String character = Character.toString( codePoint ) ;\n        … \n    }\n}\n</code></pre>\n<p>You will find other code point methods on classes like <code>String</code>, <code>StringBuilder</code>, etc.</p>\n"}],"owner":{"account_id":29692437,"reputation":11,"user_id":22756528,"display_name":"CodeRattlesnake"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77309597,"answer_count":2,"score":1,"last_activity_date":1697641606,"creation_date":1697550048,"question_id":77309523,"body_markdown":"I am fairly new to coding and stumbled upon a problem.\r\n\r\nI wanted to print out and see the characters and what number they have by following:\r\n\r\n```java\r\nfor(char i = 20488; i &lt;= 90000; i++) {\r\n    int x = i;\r\n    System.out.print(x + &quot; = &quot;);\r\n    System.out.println(i);\r\n}\r\n```\r\n\r\nthe last couple outputs before i ended it were:\r\n\r\n```\r\n7259 = ᱛ\r\n7260 = ᱜ\r\n7261 = ᱝ\r\n7262 = ᱞ\r\n7263 = ᱟ\r\n7264 = ᱠ\r\n```\r\n\r\nWhat seems to be the problem?\r\n\r\nI expected everything to be printed till 90.000","title":"For loop to print out UTF doesn&#39;t terminate","body":"<p>I am fairly new to coding and stumbled upon a problem.</p>\n<p>I wanted to print out and see the characters and what number they have by following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(char i = 20488; i &lt;= 90000; i++) {\n    int x = i;\n    System.out.print(x + &quot; = &quot;);\n    System.out.println(i);\n}\n</code></pre>\n<p>the last couple outputs before i ended it were:</p>\n<pre><code>7259 = ᱛ\n7260 = ᱜ\n7261 = ᱝ\n7262 = ᱞ\n7263 = ᱟ\n7264 = ᱠ\n</code></pre>\n<p>What seems to be the problem?</p>\n<p>I expected everything to be printed till 90.000</p>\n"},{"tags":["java","c#","regex"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1660115685,"post_id":73302095,"comment_id":129453556,"body_markdown":"You need to put word boundaries around your current pattern: `\\b[A-Za-z0-9]{6}\\b`.  BTW...your question is almost certainly a duplicate.","body":"You need to put word boundaries around your current pattern: <code>\\b[A-Za-z0-9]{6}\\b</code>.  BTW...your question is almost certainly a duplicate."},{"owner":{"account_id":13148315,"reputation":77,"user_id":9497729,"display_name":"Pavan Gunda"},"score":1,"creation_date":1660115891,"post_id":73302095,"comment_id":129453616,"body_markdown":"I tried that, it still matches the &quot;083457&quot; . It should only match combination of alphanumeric","body":"I tried that, it still matches the &quot;083457&quot; . It should only match combination of alphanumeric"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1660115997,"creation_date":1660115997,"answer_id":73302192,"question_id":73302095,"body_markdown":"You may use this regex with 2 lookahead conditions:\r\n\r\n```sh\r\n\\b(?=[a-zA-Z]*\\d)(?=\\d*[a-zA-Z])[a-zA-Z\\d]{6}\\b\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/mJOTzV/1\r\n\r\n**RegEx Details:**\r\n\r\n- `\\b`: Word boundary\r\n- `(?=[a-zA-Z]*\\d)`: Lookahead to assert that we have at least one digit after 0 or more letters\r\n- `(?=\\d*[a-zA-Z])`: Lookahead to assert that we have at least one letter after 0 or more digits\r\n- `[a-zA-Z\\d]{6}`: Match 6 alphanumeric characters\r\n- `\\b`: Word boundary\r\n","title":"Regex to match only 6-letter alphanumeric words in a string","body":"<p>You may use this regex with 2 lookahead conditions:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\\b(?=[a-zA-Z]*\\d)(?=\\d*[a-zA-Z])[a-zA-Z\\d]{6}\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/mJOTzV/1\" rel=\"noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>\\b</code>: Word boundary</li>\n<li><code>(?=[a-zA-Z]*\\d)</code>: Lookahead to assert that we have at least one digit after 0 or more letters</li>\n<li><code>(?=\\d*[a-zA-Z])</code>: Lookahead to assert that we have at least one letter after 0 or more digits</li>\n<li><code>[a-zA-Z\\d]{6}</code>: Match 6 alphanumeric characters</li>\n<li><code>\\b</code>: Word boundary</li>\n</ul>\n"}],"owner":{"account_id":13148315,"reputation":77,"user_id":9497729,"display_name":"Pavan Gunda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73302192,"answer_count":1,"score":2,"last_activity_date":1697641603,"creation_date":1660115585,"question_id":73302095,"body_markdown":"I am trying to match the 6 character word that has a combination of ONLY alphanumeric. \r\n\r\nExample String:\r\n\r\n    Bus Express Wash at bay no 083457 - Truckno AB96CD &amp; Truck no 12367S &amp; 12368S\r\n\r\nI am currently trying regex `[a-zA-Z0-9]{6}`\r\n\r\nHowever, it matches below Output: \r\n\r\n    xpress\r\n    083457\r\n    ruckno\r\n    AB96CD\r\n    12367S\r\n    12368S\r\n\r\nBut, what I need is only combination of alphanumeric. Something like below\r\nDesired Output\r\n\r\n    AB96CD\r\n    12367S\r\n    12368S\r\n\r\n","title":"Regex to match only 6-letter alphanumeric words in a string","body":"<p>I am trying to match the 6 character word that has a combination of ONLY alphanumeric.</p>\n<p>Example String:</p>\n<pre><code>Bus Express Wash at bay no 083457 - Truckno AB96CD &amp; Truck no 12367S &amp; 12368S\n</code></pre>\n<p>I am currently trying regex <code>[a-zA-Z0-9]{6}</code></p>\n<p>However, it matches below Output:</p>\n<pre><code>xpress\n083457\nruckno\nAB96CD\n12367S\n12368S\n</code></pre>\n<p>But, what I need is only combination of alphanumeric. Something like below\nDesired Output</p>\n<pre><code>AB96CD\n12367S\n12368S\n</code></pre>\n"},{"tags":["java","equals","string-comparison"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":4,"creation_date":1697621904,"post_id":77315133,"comment_id":136301872,"body_markdown":"letter will (potentially?) pass `&quot;&quot;.equals(&quot;&quot;)` while first one wont","body":"letter will (potentially?) pass <code>&quot;&quot;.equals(&quot;&quot;)</code> while first one wont"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":3,"creation_date":1697622170,"post_id":77315133,"comment_id":136301925,"body_markdown":"..and also if `str1` and `str2` are both null `Objects.equals()` gives true (probably not what you want!).","body":"..and also if <code>str1</code> and <code>str2</code> are both null <code>Objects.equals()</code> gives true (probably not what you want!)."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1697622735,"post_id":77315133,"comment_id":136302033,"body_markdown":"Which `StringUtils` do you use? How `StringUtils.isNotBlank(str1)` make sence here, you can use `str1 != null` or simple `StringUtils.equals(str1, str2)`","body":"Which <code>StringUtils</code> do you use? How <code>StringUtils.isNotBlank(str1)</code> make sence here, you can use <code>str1 != null</code> or simple <code>StringUtils.equals(str1, str2)</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1697622774,"post_id":77315133,"comment_id":136302038,"body_markdown":"I don&#39;t understand how you can begin to ask about the differences between a method that compares two objects with another method that only looks at one object.","body":"I don&#39;t understand how you can begin to ask about the differences between a method that compares two objects with another method that only looks at one object."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697622912,"post_id":77315133,"comment_id":136302071,"body_markdown":"@Jens good question, I assumed it was the Apache Commons version as that seems to be the most popular one, and added the tag (prematurely), but of course there are others and possibly even a class in the OP&#39;s own project.","body":"@Jens good question, I assumed it was the Apache Commons version as that seems to be the most popular one, and added the tag (prematurely), but of course there are others and possibly even a class in the OP&#39;s own project."},{"owner":{"account_id":5607838,"reputation":766,"user_id":4462399,"accept_rate":83,"display_name":"Maryam Koulaei"},"score":0,"creation_date":1697625427,"post_id":77315133,"comment_id":136302538,"body_markdown":"@user207421  I explained the comparision in the form of these two conditions. why not?","body":"@user207421  I explained the comparision in the form of these two conditions. why not?"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697622669,"creation_date":1697622669,"answer_id":77315224,"question_id":77315133,"body_markdown":"The Apache Commons method [StringUtils.isNotBlank][1] will return false if the string is null, empty, or contains only whitespace. There will be differences in the following situations:\r\n\r\n|str1   |str2   |Results(1st code/2nd code)|\r\n|-------|-------|--------------------------|\r\n|null   |null   |false/true |\r\n|&quot;&quot;     |&quot;&quot;     |false/true |\r\n|&quot; &quot;    |&quot; &quot;    |false/true |\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNotBlank-java.lang.CharSequence-","title":"Objects.equals() vs StringUtils.isNotBlank() in Java","body":"<p>The Apache Commons method <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNotBlank-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringUtils.isNotBlank</a> will return false if the string is null, empty, or contains only whitespace. There will be differences in the following situations:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>str1</th>\n<th>str2</th>\n<th>Results(1st code/2nd code)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>null</td>\n<td>null</td>\n<td>false/true</td>\n</tr>\n<tr>\n<td>&quot;&quot;</td>\n<td>&quot;&quot;</td>\n<td>false/true</td>\n</tr>\n<tr>\n<td>&quot; &quot;</td>\n<td>&quot; &quot;</td>\n<td>false/true</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":5607838,"reputation":766,"user_id":4462399,"accept_rate":83,"display_name":"Maryam Koulaei"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77315224,"answer_count":1,"score":-2,"last_activity_date":1697641576,"creation_date":1697621789,"question_id":77315133,"body_markdown":"Could you please explain me if there is a difference between the functionality of the following codes? \r\nI know that the Objects.equals() checks for the NULL value first and then compares the two strings.\r\n\r\nI have the following conditions and I want to know which one is more practical.\r\n~~~\r\nif (StringUtils.isNotBlank(str1) &amp;&amp; str1.equals(str2)) {// do sth}\r\n~~~\r\n\r\nor is it enough to say:\r\n~~~\r\nif (Objects.equals(str1,str2)) {// do sth}\r\n~~~ \r\n\r\nThanks\r\n\r\n","title":"Objects.equals() vs StringUtils.isNotBlank() in Java","body":"<p>Could you please explain me if there is a difference between the functionality of the following codes?\nI know that the Objects.equals() checks for the NULL value first and then compares the two strings.</p>\n<p>I have the following conditions and I want to know which one is more practical.</p>\n<pre><code>if (StringUtils.isNotBlank(str1) &amp;&amp; str1.equals(str2)) {// do sth}\n</code></pre>\n<p>or is it enough to say:</p>\n<pre><code>if (Objects.equals(str1,str2)) {// do sth}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1697632582,"post_id":77316214,"comment_id":136304000,"body_markdown":"Did you read the migration guide?","body":"Did you read the migration guide?"},{"owner":{"account_id":14640522,"reputation":42,"user_id":10573240,"display_name":"Simon"},"score":0,"creation_date":1697640786,"post_id":77316214,"comment_id":136305907,"body_markdown":"Yes, but I did not find anything about a replacement for the removed ExpressionInterceptUrlRegistry.","body":"Yes, but I did not find anything about a replacement for the removed ExpressionInterceptUrlRegistry."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1697660639,"post_id":77316214,"comment_id":136309442,"body_markdown":"why have you built this strange custom security solution? why are you not following common practices and using the built in JWT soltuins that come with spring security? dont you read the docs?","body":"why have you built this strange custom security solution? why are you not following common practices and using the built in JWT soltuins that come with spring security? dont you read the docs?"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697641214,"creation_date":1697636054,"answer_id":77316810,"question_id":77316214,"body_markdown":" According to `java docs` you should replace old one configuration with next one. It is going to work well.\r\n\r\n    private AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry authorizeUrlsNew(AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry urlRegistry) {\r\n        urlRegistry\r\n            .requestMatchers(&quot;api/admin/authenticate&quot;).permitAll()\r\n            .requestMatchers(&quot;api/admin/authenticate/captcha&quot;).permitAll()\r\n            .requestMatchers(&quot;api/admin/**&quot;).authenticated();\r\n    \r\n        return urlRegistry;\r\n      }\r\n    \r\n      @Bean\r\n      protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        return http\r\n                    .authorizeHttpRequests(this::authorizeUrlsNew)\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .addFilterBefore(new JWTFilter(tokenProvider), UsernamePasswordAuthenticationFilter.class)\r\n            .build();\r\n      }\r\n\r\n**UPDATE**\r\nRewrite a little bit the config class remove `authorizeUrlsNew` method and change `configure` method body to something like this:\r\n\r\n      @Bean\r\n      protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        return http\r\n                    .authorizeHttpRequests(requestMatcherRegistry -&gt; {\r\n                      requestMatcherRegistry.requestMatchers(&quot;api/admin/authenticate&quot;).permitAll()\r\n                      requestMatcherRegistry.requestMatchers(&quot;api/admin/authenticate/captcha&quot;).permitAll()\r\n                      requestMatcherRegistry.requestMatchers(&quot;api/admin/**&quot;).authenticated();\r\n                    })\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .build();\r\n      }\r\n\r\n\r\n","title":"Replacing authorizeRequests with authorizeHttpRequests will return 401 on calls not explicitly described","body":"<p>According to <code>java docs</code> you should replace old one configuration with next one. It is going to work well.</p>\n<pre><code>private AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry authorizeUrlsNew(AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry urlRegistry) {\n    urlRegistry\n        .requestMatchers(&quot;api/admin/authenticate&quot;).permitAll()\n        .requestMatchers(&quot;api/admin/authenticate/captcha&quot;).permitAll()\n        .requestMatchers(&quot;api/admin/**&quot;).authenticated();\n\n    return urlRegistry;\n  }\n\n  @Bean\n  protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\n    return http\n                .authorizeHttpRequests(this::authorizeUrlsNew)\n        .csrf(AbstractHttpConfigurer::disable)\n        .addFilterBefore(new JWTFilter(tokenProvider), UsernamePasswordAuthenticationFilter.class)\n        .build();\n  }\n</code></pre>\n<p><strong>UPDATE</strong>\nRewrite a little bit the config class remove <code>authorizeUrlsNew</code> method and change <code>configure</code> method body to something like this:</p>\n<pre><code>  @Bean\n  protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\n    return http\n                .authorizeHttpRequests(requestMatcherRegistry -&gt; {\n                  requestMatcherRegistry.requestMatchers(&quot;api/admin/authenticate&quot;).permitAll()\n                  requestMatcherRegistry.requestMatchers(&quot;api/admin/authenticate/captcha&quot;).permitAll()\n                  requestMatcherRegistry.requestMatchers(&quot;api/admin/**&quot;).authenticated();\n                })\n        .csrf(AbstractHttpConfigurer::disable)\n        .build();\n  }\n</code></pre>\n"}],"owner":{"account_id":14640522,"reputation":42,"user_id":10573240,"display_name":"Simon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1697641214,"creation_date":1697631335,"question_id":77316214,"body_markdown":"I am currently trying to refactor the security configuration after the upgrade to Spring Boot 3.1.1. I am therefore trying to replace all methods marked as deprecated or for removal.\r\n\r\nWe use different applications for the backend, frontend, and admin interface. I removed some parts of the code to make it readable. Currently, we use a WebSecurityCustomizer to ignore some static resources. Don&#39;t mind it. The issue is inside the configure(HttpSecurity http) method. I removed all code (e.g. setting of header data) to have only the code left to reproduce the issue. In the configure method, we set some request matchers on routes for the admin pages, which should be allowed.\r\n\r\n1. The old version I am trying to replace is .authorizeRequests(this::authorizeUrlsOld). I am using the ExpressionInterceptUrlRegistry to set request matchers. When I use this code, I can still login to the admin pages and access the regular frontend application.\r\n\r\n2. However, when using the new version .authorizeHttpRequests(this::authorizeUrlsNew) all calls that are not explicitally authorized in the method are unauthorized (e.g. api/markets). For this, I replaced the deprecated ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt; with AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;, which does not have the ExpressionInterceptUrlRegistry. Therefore, I had to use AuthorizationManagerRequestMatcherRegistry, but it seems to work differently.\r\n\r\nHow can I get .authorizeHttpRequests(this::authorizeUrlsNew) to work?\r\n\r\n**The class SecurityConfiguration:**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(securedEnabled = true)\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class SecurityConfiguration {\r\n\r\n    private final AuthenticationManagerBuilder authenticationManagerBuilder;\r\n    private final UserDetailsService userDetailsService;\r\n    private final TokenProvider tokenProvider;\r\n    private final GlobalProperties globalProperties;\r\n    private final PasswordEncoder passwordEncoder;\r\n    \r\n    @PostConstruct\r\n    public void init() {\r\n        try {\r\n            authenticationManagerBuilder\r\n                    .userDetailsService(userDetailsService)\r\n                    .passwordEncoder(passwordEncoder);\r\n        } catch (Exception e) {\r\n            throw new BeanInitializationException(&quot;Security configuration failed&quot;, e);\r\n        }\r\n    }\r\n    @Bean\r\n    AuthenticationManager customAuthenticationManager(UserDetailsService userDetailsService, PasswordEncoder encoder) {\r\n        return authentication -&gt; {\r\n            var username = String.valueOf(authentication.getPrincipal());\r\n            var password = String.valueOf(authentication.getCredentials());\r\n\r\n            var user = userDetailsService.loadUserByUsername(username);\r\n\r\n            if (!encoder.matches(password, user.getPassword())) {\r\n                throw new BadCredentialsException(&quot;Bad credentials&quot;);\r\n            }\r\n\r\n            if (!user.isEnabled()) {\r\n                throw new DisabledException(&quot;User account is not active&quot;);\r\n            }\r\n\r\n            return new UsernamePasswordAuthenticationToken(username, null, user.getAuthorities());\r\n        };\r\n    }\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return web -&gt; {\r\n            web.debug(globalProperties.isSecurityDebugEnabled());\r\n            web.ignoring()\r\n                    .requestMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\r\n                    .requestMatchers(&quot;/i18n/**&quot;);\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        return http\r\n                .authorizeRequests(this::authorizeUrlsOld) //does work\r\n//                .authorizeHttpRequests(this::authorizeUrlsNew) //does not work\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .addFilterBefore(new JWTFilter(tokenProvider), UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    private HttpSecurity authorizeUrlsOld(ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry urlRegistry) {\r\n        urlRegistry\r\n                .requestMatchers(&quot;api/admin/authenticate&quot;).permitAll()\r\n                .requestMatchers(&quot;api/admin/authenticate/captcha&quot;).permitAll()\r\n                .requestMatchers(&quot;api/admin/**&quot;).authenticated();\r\n\r\n        return urlRegistry.and();\r\n    }\r\n\r\n    private void authorizeUrlsNew(AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry matcherReg) {\r\n        matcherReg\r\n                .requestMatchers(&quot;api/admin/authenticate&quot;).permitAll()\r\n                .requestMatchers(&quot;api/admin/authenticate/captcha&quot;).permitAll()\r\n                .requestMatchers(&quot;api/admin/**&quot;).authenticated();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**The class JWTFilter:**\r\n```\r\npublic class JWTFilter extends GenericFilterBean {\r\n\r\n\r\n    private TokenProvider tokenProvider;\r\n\r\n    public JWTFilter(TokenProvider tokenProvider) {\r\n        this.tokenProvider = tokenProvider;\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n        throws IOException, ServletException {\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\r\n        String jwt = resolveToken(httpServletRequest);\r\n        if (StringUtils.hasText(jwt) &amp;&amp; this.tokenProvider.validateToken(jwt)) {\r\n            Authentication authentication = this.tokenProvider.getAuthentication(jwt);\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        }\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n\r\n    private String resolveToken(HttpServletRequest request){\r\n        String bearerToken = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(JwtConstants.BEARER_PREFIX + &quot; &quot;)) {\r\n            return bearerToken.substring(7, bearerToken.length());\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried removing the deprecaded methods by new ones.","title":"Replacing authorizeRequests with authorizeHttpRequests will return 401 on calls not explicitly described","body":"<p>I am currently trying to refactor the security configuration after the upgrade to Spring Boot 3.1.1. I am therefore trying to replace all methods marked as deprecated or for removal.</p>\n<p>We use different applications for the backend, frontend, and admin interface. I removed some parts of the code to make it readable. Currently, we use a WebSecurityCustomizer to ignore some static resources. Don't mind it. The issue is inside the configure(HttpSecurity http) method. I removed all code (e.g. setting of header data) to have only the code left to reproduce the issue. In the configure method, we set some request matchers on routes for the admin pages, which should be allowed.</p>\n<ol>\n<li><p>The old version I am trying to replace is .authorizeRequests(this::authorizeUrlsOld). I am using the ExpressionInterceptUrlRegistry to set request matchers. When I use this code, I can still login to the admin pages and access the regular frontend application.</p>\n</li>\n<li><p>However, when using the new version .authorizeHttpRequests(this::authorizeUrlsNew) all calls that are not explicitally authorized in the method are unauthorized (e.g. api/markets). For this, I replaced the deprecated ExpressionUrlAuthorizationConfigurer with AuthorizeHttpRequestsConfigurer, which does not have the ExpressionInterceptUrlRegistry. Therefore, I had to use AuthorizationManagerRequestMatcherRegistry, but it seems to work differently.</p>\n</li>\n</ol>\n<p>How can I get .authorizeHttpRequests(this::authorizeUrlsNew) to work?</p>\n<p><strong>The class SecurityConfiguration:</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(securedEnabled = true)\n@RequiredArgsConstructor\n@Slf4j\npublic class SecurityConfiguration {\n\n    private final AuthenticationManagerBuilder authenticationManagerBuilder;\n    private final UserDetailsService userDetailsService;\n    private final TokenProvider tokenProvider;\n    private final GlobalProperties globalProperties;\n    private final PasswordEncoder passwordEncoder;\n    \n    @PostConstruct\n    public void init() {\n        try {\n            authenticationManagerBuilder\n                    .userDetailsService(userDetailsService)\n                    .passwordEncoder(passwordEncoder);\n        } catch (Exception e) {\n            throw new BeanInitializationException(&quot;Security configuration failed&quot;, e);\n        }\n    }\n    @Bean\n    AuthenticationManager customAuthenticationManager(UserDetailsService userDetailsService, PasswordEncoder encoder) {\n        return authentication -&gt; {\n            var username = String.valueOf(authentication.getPrincipal());\n            var password = String.valueOf(authentication.getCredentials());\n\n            var user = userDetailsService.loadUserByUsername(username);\n\n            if (!encoder.matches(password, user.getPassword())) {\n                throw new BadCredentialsException(&quot;Bad credentials&quot;);\n            }\n\n            if (!user.isEnabled()) {\n                throw new DisabledException(&quot;User account is not active&quot;);\n            }\n\n            return new UsernamePasswordAuthenticationToken(username, null, user.getAuthorities());\n        };\n    }\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return web -&gt; {\n            web.debug(globalProperties.isSecurityDebugEnabled());\n            web.ignoring()\n                    .requestMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\n                    .requestMatchers(&quot;/i18n/**&quot;);\n        };\n    }\n\n    @Bean\n    protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        return http\n                .authorizeRequests(this::authorizeUrlsOld) //does work\n//                .authorizeHttpRequests(this::authorizeUrlsNew) //does not work\n                .csrf(AbstractHttpConfigurer::disable)\n                .addFilterBefore(new JWTFilter(tokenProvider), UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    private HttpSecurity authorizeUrlsOld(ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry urlRegistry) {\n        urlRegistry\n                .requestMatchers(&quot;api/admin/authenticate&quot;).permitAll()\n                .requestMatchers(&quot;api/admin/authenticate/captcha&quot;).permitAll()\n                .requestMatchers(&quot;api/admin/**&quot;).authenticated();\n\n        return urlRegistry.and();\n    }\n\n    private void authorizeUrlsNew(AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry matcherReg) {\n        matcherReg\n                .requestMatchers(&quot;api/admin/authenticate&quot;).permitAll()\n                .requestMatchers(&quot;api/admin/authenticate/captcha&quot;).permitAll()\n                .requestMatchers(&quot;api/admin/**&quot;).authenticated();\n    }\n\n}\n</code></pre>\n<p><strong>The class JWTFilter:</strong></p>\n<pre><code>public class JWTFilter extends GenericFilterBean {\n\n\n    private TokenProvider tokenProvider;\n\n    public JWTFilter(TokenProvider tokenProvider) {\n        this.tokenProvider = tokenProvider;\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n        throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\n        String jwt = resolveToken(httpServletRequest);\n        if (StringUtils.hasText(jwt) &amp;&amp; this.tokenProvider.validateToken(jwt)) {\n            Authentication authentication = this.tokenProvider.getAuthentication(jwt);\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n        }\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n\n    private String resolveToken(HttpServletRequest request){\n        String bearerToken = request.getHeader(HttpHeaders.AUTHORIZATION);\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(JwtConstants.BEARER_PREFIX + &quot; &quot;)) {\n            return bearerToken.substring(7, bearerToken.length());\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>I tried removing the deprecaded methods by new ones.</p>\n"},{"tags":["java","spring","database","jpa","relational-database"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1697640894,"post_id":77316882,"comment_id":136305935,"body_markdown":"@MapsId(&quot;id&quot;) doesn&#39;t look at all right - the &#39;id&#39; property is the full OrderHasWorkstepId embeddable, and you&#39;ve already pointed the @MapsId(&quot;orderOrderNo&quot;) at it. Instead of bending your model backwards to use an embedded id, why not look at marking your relationships as IDs directly instead. Put the relationship&#39;s Id classes exactly as they are (so WorkstepId for the Workstep) in an IdClass.","body":"@MapsId(&quot;id&quot;) doesn&#39;t look at all right - the &#39;id&#39; property is the full OrderHasWorkstepId embeddable, and you&#39;ve already pointed the @MapsId(&quot;orderOrderNo&quot;) at it. Instead of bending your model backwards to use an embedded id, why not look at marking your relationships as IDs directly instead. Put the relationship&#39;s Id classes exactly as they are (so WorkstepId for the Workstep) in an IdClass."},{"owner":{"account_id":5722247,"reputation":185,"user_id":4520351,"display_name":"Dexxrey"},"score":0,"creation_date":1697659507,"post_id":77316882,"comment_id":136309242,"body_markdown":"You are correct. Your way makes more sense but I get the same error apparently if I change the property of spring.jpa.hibernate.ddl-auto=update to none it works. But I am not sure if it actually fixes the problem or delays it for later.","body":"You are correct. Your way makes more sense but I get the same error apparently if I change the property of spring.jpa.hibernate.ddl-auto=update to none it works. But I am not sure if it actually fixes the problem or delays it for later."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1697732809,"post_id":77316882,"comment_id":136319864,"body_markdown":"Use drop and create instead. Not all  model and mapping changes will easily be &#39;updated&#39; into an existing schema with data already in it.","body":"Use drop and create instead. Not all  model and mapping changes will easily be &#39;updated&#39; into an existing schema with data already in it."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697641145,"creation_date":1697641145,"answer_id":77317472,"question_id":77316882,"body_markdown":"Try more simply:\r\n\r\n    @Entity\r\n    @Table(name = &quot;order_has_workstep&quot;, indexes = {\r\n            @Index(name = &quot;fk_order_has_workstep_order_idx&quot;, columnList = &quot;order_order_no&quot;),\r\n            @Index(name = &quot;fk_order_has_workstep_workstep_idx&quot;, columnList = &quot;workstep_workstep_no, workstep_article_article_no&quot;),\r\n            @Index(name = &quot;fk_order_has_workstep_machine_idx&quot;, columnList = &quot;machine_machine_no&quot;)\r\n    })\r\n    @IdClass(OrderHasWorkstepId.class)\r\n    public class OrderHasWorkstep {\r\n    \r\n        @Id\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        @JoinColumn(name = &quot;order_order_no&quot;, nullable = false)\r\n        private Order orderOrderNo;\r\n    \r\n        @Id\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumns({\r\n                @JoinColumn(name = &quot;workstep_workstep_no&quot;, referencedColumnName = &quot;workstep_no&quot;, nullable = false),\r\n                @JoinColumn(name = &quot;workstep_article_article_no&quot;, referencedColumnName = &quot;article_article_no&quot;, nullable = false)\r\n        })\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private Workstep workstep;\r\n      ..\r\n    }\r\n    \r\n    \r\n    public class OrderHasWorkstepId implements Serializable {\r\n        private static final long serialVersionUID = -488175951625341581L;\r\n    \r\n        private String orderOrderNo;\r\n        private WorkstepId workstep;\r\n        ..\r\n    }\r\n\r\n\r\nWith JPA derived IDs, the referenced entity&#39;s ID must be used as is in the ID class, and named the same as the ID property.","title":"JPA cannot change column used in foreign key constraint","body":"<p>Try more simply:</p>\n<pre><code>@Entity\n@Table(name = &quot;order_has_workstep&quot;, indexes = {\n        @Index(name = &quot;fk_order_has_workstep_order_idx&quot;, columnList = &quot;order_order_no&quot;),\n        @Index(name = &quot;fk_order_has_workstep_workstep_idx&quot;, columnList = &quot;workstep_workstep_no, workstep_article_article_no&quot;),\n        @Index(name = &quot;fk_order_has_workstep_machine_idx&quot;, columnList = &quot;machine_machine_no&quot;)\n})\n@IdClass(OrderHasWorkstepId.class)\npublic class OrderHasWorkstep {\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JoinColumn(name = &quot;order_order_no&quot;, nullable = false)\n    private Order orderOrderNo;\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumns({\n            @JoinColumn(name = &quot;workstep_workstep_no&quot;, referencedColumnName = &quot;workstep_no&quot;, nullable = false),\n            @JoinColumn(name = &quot;workstep_article_article_no&quot;, referencedColumnName = &quot;article_article_no&quot;, nullable = false)\n    })\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Workstep workstep;\n  ..\n}\n\n\npublic class OrderHasWorkstepId implements Serializable {\n    private static final long serialVersionUID = -488175951625341581L;\n\n    private String orderOrderNo;\n    private WorkstepId workstep;\n    ..\n}\n</code></pre>\n<p>With JPA derived IDs, the referenced entity's ID must be used as is in the ID class, and named the same as the ID property.</p>\n"}],"owner":{"account_id":5722247,"reputation":185,"user_id":4520351,"display_name":"Dexxrey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77317472,"answer_count":1,"score":0,"last_activity_date":1697641145,"creation_date":1697636572,"question_id":77316882,"body_markdown":"I have strange database structure where I have a pair of 2 foreign keys as primary key in 1 table. In another table I have 3 foreign keys and as a primary key and I struggle to make that as a JPA entity class. \r\nThe error I get is:  Cannot change column &#39;workstep_no&#39;: used in a foreign key constraint &#39;fk_order_has_workstep_workstep&#39;\r\n\r\nHere is the db Schema: [![db schema](https://i.stack.imgur.com/et7Qd.png)](https://i.stack.imgur.com/et7Qd.png)\r\nHere are some of my entity classes\r\nOrderHasWorkstep\r\n```\r\n@Entity\r\n@Table(name = &quot;order_has_workstep&quot;, indexes = {\r\n        @Index(name = &quot;fk_order_has_workstep_order_idx&quot;, columnList = &quot;order_order_no&quot;),\r\n        @Index(name = &quot;fk_order_has_workstep_workstep_idx&quot;, columnList = &quot;workstep_workstep_no, workstep_article_article_no&quot;),\r\n        @Index(name = &quot;fk_order_has_workstep_machine_idx&quot;, columnList = &quot;machine_machine_no&quot;)\r\n})\r\npublic class OrderHasWorkstep {\r\n    @EmbeddedId\r\n    private OrderHasWorkstepId id;\r\n\r\n    @MapsId(&quot;orderOrderNo&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JoinColumn(name = &quot;order_order_no&quot;, nullable = false)\r\n    private Order orderOrderNo;\r\n\r\n    @MapsId(&quot;id&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;workstep_workstep_no&quot;, referencedColumnName = &quot;workstep_no&quot;, nullable = false),\r\n            @JoinColumn(name = &quot;workstep_article_article_no&quot;, referencedColumnName = &quot;article_article_no&quot;, nullable = false)\r\n    })\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private Workstep workstep;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JoinColumn(name = &quot;machine_machine_no&quot;)\r\n    private Machine machineMachineNo;\r\n\r\n    @Column(name = &quot;planned_calendar_week&quot;, length = 7)\r\n    private String plannedCalendarWeek;\r\n\r\n    @Column(name = &quot;starting_date&quot;, length = 7)\r\n    private String startingDate;\r\n\r\n    @Column(name = &quot;ending_date&quot;, length = 7)\r\n    private String endingDate;\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    private Integer status;\r\n// getters and setters\r\n```\r\n\r\nOrderHasWorkstepId:\r\n\r\n```\r\n@Embeddable\r\npublic class OrderHasWorkstepId implements Serializable {\r\n    private static final long serialVersionUID = -488175951625341581L;\r\n    @Column(name = &quot;order_order_no&quot;, nullable = false, length = 10)\r\n    private String orderOrderNo;\r\n\r\n    @Column(name = &quot;workstep_workstep_no&quot;, nullable = false, length = 3)\r\n    private String workstepWorkstepNo;\r\n\r\n    @Column(name = &quot;workstep_article_article_no&quot;, nullable = false, length = 45)\r\n    private String workstepArticleArticleNo;\r\n//getters setters hashcode equals\r\n```\r\n\r\n\r\nWorkstep:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;workstep&quot;, indexes = {\r\n        @Index(name = &quot;fk_workstep_article_idx&quot;, columnList = &quot;article_article_no&quot;)\r\n})\r\npublic class Workstep {\r\n    @EmbeddedId\r\n    private WorkstepId id;\r\n\r\n    @MapsId(&quot;articleArticleNo&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JoinColumn(name = &quot;article_article_no&quot;, nullable = false)\r\n    private Article articleArticleNo;\r\n\r\n    @Lob\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;setup_time&quot;)\r\n    private LocalTime setupTime;\r\n\r\n    @Column(name = &quot;run_time&quot;)\r\n    private LocalTime runTime;\r\n\r\n    @Column(name = &quot;machine_group&quot;, length = 5)\r\n    private String machineGroup;\r\n//getters setters\r\n```\r\nWorkstepId\r\n\r\n```\r\n@Embeddable\r\npublic class WorkstepId implements Serializable {\r\n    private static final long serialVersionUID = 2987311413950947398L;\r\n    @Column(name = &quot;workstep_no&quot;, nullable = false, length = 3)\r\n    private String workstepNo;\r\n\r\n    @Column(name = &quot;article_article_no&quot;, nullable = false, length = 45)\r\n    private String articleArticleNo;\r\n```\r\n\r\n\r\n\r\n\r\nI tried to restructure the WorkstepIds to use entities not just strings but it still didnt work. I assume it could be something to do with the pair of columns as primary key taken into order_has_workstep","title":"JPA cannot change column used in foreign key constraint","body":"<p>I have strange database structure where I have a pair of 2 foreign keys as primary key in 1 table. In another table I have 3 foreign keys and as a primary key and I struggle to make that as a JPA entity class.\nThe error I get is:  Cannot change column 'workstep_no': used in a foreign key constraint 'fk_order_has_workstep_workstep'</p>\n<p>Here is the db Schema: <a href=\"https://i.stack.imgur.com/et7Qd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/et7Qd.png\" alt=\"db schema\" /></a>\nHere are some of my entity classes\nOrderHasWorkstep</p>\n<pre><code>@Entity\n@Table(name = &quot;order_has_workstep&quot;, indexes = {\n        @Index(name = &quot;fk_order_has_workstep_order_idx&quot;, columnList = &quot;order_order_no&quot;),\n        @Index(name = &quot;fk_order_has_workstep_workstep_idx&quot;, columnList = &quot;workstep_workstep_no, workstep_article_article_no&quot;),\n        @Index(name = &quot;fk_order_has_workstep_machine_idx&quot;, columnList = &quot;machine_machine_no&quot;)\n})\npublic class OrderHasWorkstep {\n    @EmbeddedId\n    private OrderHasWorkstepId id;\n\n    @MapsId(&quot;orderOrderNo&quot;)\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JoinColumn(name = &quot;order_order_no&quot;, nullable = false)\n    private Order orderOrderNo;\n\n    @MapsId(&quot;id&quot;)\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumns({\n            @JoinColumn(name = &quot;workstep_workstep_no&quot;, referencedColumnName = &quot;workstep_no&quot;, nullable = false),\n            @JoinColumn(name = &quot;workstep_article_article_no&quot;, referencedColumnName = &quot;article_article_no&quot;, nullable = false)\n    })\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Workstep workstep;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JoinColumn(name = &quot;machine_machine_no&quot;)\n    private Machine machineMachineNo;\n\n    @Column(name = &quot;planned_calendar_week&quot;, length = 7)\n    private String plannedCalendarWeek;\n\n    @Column(name = &quot;starting_date&quot;, length = 7)\n    private String startingDate;\n\n    @Column(name = &quot;ending_date&quot;, length = 7)\n    private String endingDate;\n\n    @Column(name = &quot;status&quot;)\n    private Integer status;\n// getters and setters\n</code></pre>\n<p>OrderHasWorkstepId:</p>\n<pre><code>@Embeddable\npublic class OrderHasWorkstepId implements Serializable {\n    private static final long serialVersionUID = -488175951625341581L;\n    @Column(name = &quot;order_order_no&quot;, nullable = false, length = 10)\n    private String orderOrderNo;\n\n    @Column(name = &quot;workstep_workstep_no&quot;, nullable = false, length = 3)\n    private String workstepWorkstepNo;\n\n    @Column(name = &quot;workstep_article_article_no&quot;, nullable = false, length = 45)\n    private String workstepArticleArticleNo;\n//getters setters hashcode equals\n</code></pre>\n<p>Workstep:</p>\n<pre><code>@Entity\n@Table(name = &quot;workstep&quot;, indexes = {\n        @Index(name = &quot;fk_workstep_article_idx&quot;, columnList = &quot;article_article_no&quot;)\n})\npublic class Workstep {\n    @EmbeddedId\n    private WorkstepId id;\n\n    @MapsId(&quot;articleArticleNo&quot;)\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JoinColumn(name = &quot;article_article_no&quot;, nullable = false)\n    private Article articleArticleNo;\n\n    @Lob\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;setup_time&quot;)\n    private LocalTime setupTime;\n\n    @Column(name = &quot;run_time&quot;)\n    private LocalTime runTime;\n\n    @Column(name = &quot;machine_group&quot;, length = 5)\n    private String machineGroup;\n//getters setters\n</code></pre>\n<p>WorkstepId</p>\n<pre><code>@Embeddable\npublic class WorkstepId implements Serializable {\n    private static final long serialVersionUID = 2987311413950947398L;\n    @Column(name = &quot;workstep_no&quot;, nullable = false, length = 3)\n    private String workstepNo;\n\n    @Column(name = &quot;article_article_no&quot;, nullable = false, length = 45)\n    private String articleArticleNo;\n</code></pre>\n<p>I tried to restructure the WorkstepIds to use entities not just strings but it still didnt work. I assume it could be something to do with the pair of columns as primary key taken into order_has_workstep</p>\n"},{"tags":["javascript","java","proxy","openwebstart"],"answers":[{"tags":[],"owner":{"account_id":24198082,"reputation":11,"user_id":18156276,"display_name":"user18156276"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644363863,"creation_date":1644363863,"answer_id":71042326,"question_id":67201480,"body_markdown":"You have clearly hit the Bug, I am trying to resolve in OWS for my Team as well. We have been stuck with this issue for 9 months ever since OWS rolled out. \r\nI can explain you what I discovered so far. Infact I sent my sanitized pac-proy to OWS team to identify the issue but they sent it back to me  .\r\nSo here is the issue. \r\nOWS has a javascript file in its source code. When you call dnsResolve in your pac-proxy, it invokes the provider of dnsResolve and that implementation is in OWS source code. \r\nNow the dnsResolve call java.net.* package classes internally. This requires Rhino and Java interface to have been stabilized at run time. \r\nOWS is not able to create that interface connection so when javascript tries to call java through the Rhino interface , it can not find java classes since it can not recognize that interface and so comes back to say java not found. \r\nI  and my Team are still analyzing the wireshark logs of error to figure out how we could put a fix into OWS or understand how OWS ,Java and Rhino can be successfully talk to each other in the security sandbox container inside which OWS runs. \r\nI could not give u a solution but a better understanding as to where you would like to put your efforts to make it work for u. ","title":"net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.EcmaError: ReferenceError: &quot;java&quot; is not defined. (internal#105)","body":"<p>You have clearly hit the Bug, I am trying to resolve in OWS for my Team as well. We have been stuck with this issue for 9 months ever since OWS rolled out.\nI can explain you what I discovered so far. Infact I sent my sanitized pac-proy to OWS team to identify the issue but they sent it back to me  .\nSo here is the issue.\nOWS has a javascript file in its source code. When you call dnsResolve in your pac-proxy, it invokes the provider of dnsResolve and that implementation is in OWS source code.\nNow the dnsResolve call java.net.* package classes internally. This requires Rhino and Java interface to have been stabilized at run time.\nOWS is not able to create that interface connection so when javascript tries to call java through the Rhino interface , it can not find java classes since it can not recognize that interface and so comes back to say java not found.\nI  and my Team are still analyzing the wireshark logs of error to figure out how we could put a fix into OWS or understand how OWS ,Java and Rhino can be successfully talk to each other in the security sandbox container inside which OWS runs.\nI could not give u a solution but a better understanding as to where you would like to put your efforts to make it work for u.</p>\n"}],"owner":{"account_id":2736194,"reputation":231,"user_id":2358826,"accept_rate":55,"display_name":"user2358826"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697641024,"creation_date":1619029230,"question_id":67201480,"body_markdown":"When trying to invoke a JNLP application with OpenWebStart, I get this stack trace of errors.\r\n\r\n    net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.EcmaError: ReferenceError: &quot;java&quot; is not defined. (internal#105)\r\n    \tat net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3557)\r\n    \tat net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3535)\r\n    \tat net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3620)\r\n    \tat net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.ScriptRuntime.name(ScriptRuntime.java:1652)\r\n    \tat net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:3413)\r\n    \tat script.dnsResolve(internal:105)\r\n    \tat script.getResolvedIp(http://uhic.ca.edu/toodeepregression3.pac:569)\r\n    \tat script.FindProxyForURL(http://uhic.ca.edu/toodeepregression3.pac:62)\r\n\r\nThe script at line 569 is.. \r\ninternalResolvedIp = dnsResolve(host) \r\n\r\n\t\tif (\r\n\t\t\t\thost\r\n\t\t\t\t) {\r\n\t\t\t// If the user has typed an IP address in the address bar, take it\r\n\t\t\t// as it is.\r\n\t\t\tvar isIpV4Address = /^(\\d+.){3}\\d+$/;\r\n\t\t\tvar isIpV6Address = /^\\[(.*)\\]$/;\r\n\r\n\t\t\tif (\r\n\t\t\t\t\tisIpV4Address.test(host)\r\n\t\t\t\t\t) {\r\n\t\t\t\tinternalResolvedIp = host;\r\n\t\t\t} else {\r\n\t\t\t\tvar matches = host.match(isIpV6Address);\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t\tmatches &amp;&amp; matches.length === 2\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t// Get the address between the square brackets\r\n\t\t\t\t\tinternalResolvedIp = matches[1];\r\n\t\t\t\t} else if (\r\n\t\t\t\t\t\tisDnsResolvingAllowed\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t****internalResolvedIp = dnsResolve(host);****\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\nI am not sure what this error is. I have looked at the OpenWebStart logs as well. I have searched far and wide in the internet world but I barely get any hits for this error.","title":"net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.EcmaError: ReferenceError: &quot;java&quot; is not defined. (internal#105)","body":"<p>When trying to invoke a JNLP application with OpenWebStart, I get this stack trace of errors.</p>\n<pre><code>net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.EcmaError: ReferenceError: &quot;java&quot; is not defined. (internal#105)\n    at net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3557)\n    at net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3535)\n    at net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3620)\n    at net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.ScriptRuntime.name(ScriptRuntime.java:1652)\n    at net.adoptopenjdk.icedteaweb.shaded.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:3413)\n    at script.dnsResolve(internal:105)\n    at script.getResolvedIp(http://uhic.ca.edu/toodeepregression3.pac:569)\n    at script.FindProxyForURL(http://uhic.ca.edu/toodeepregression3.pac:62)\n</code></pre>\n<p>The script at line 569 is..\ninternalResolvedIp = dnsResolve(host)</p>\n<pre><code>    if (\n            host\n            ) {\n        // If the user has typed an IP address in the address bar, take it\n        // as it is.\n        var isIpV4Address = /^(\\d+.){3}\\d+$/;\n        var isIpV6Address = /^\\[(.*)\\]$/;\n\n        if (\n                isIpV4Address.test(host)\n                ) {\n            internalResolvedIp = host;\n        } else {\n            var matches = host.match(isIpV6Address);\n\n            if (\n                    matches &amp;&amp; matches.length === 2\n                    ) {\n                // Get the address between the square brackets\n                internalResolvedIp = matches[1];\n            } else if (\n                    isDnsResolvingAllowed\n                    ) {\n                ****internalResolvedIp = dnsResolve(host);****\n            }\n        }\n    }\n</code></pre>\n<p>I am not sure what this error is. I have looked at the OpenWebStart logs as well. I have searched far and wide in the internet world but I barely get any hits for this error.</p>\n"},{"tags":["java","string","for-loop"],"comments":[{"owner":{"account_id":27181504,"reputation":364,"user_id":20716692,"display_name":"codingStarter"},"score":3,"creation_date":1697562689,"post_id":77310935,"comment_id":136294493,"body_markdown":"you are changing the string while you are running on it, probably that is what makes the problems (just think of it - you are cutting out part of the string - and keeping the index at the same place, so you are skipping some letters that moved backwards","body":"you are changing the string while you are running on it, probably that is what makes the problems (just think of it - you are cutting out part of the string - and keeping the index at the same place, so you are skipping some letters that moved backwards"},{"owner":{"account_id":29543286,"reputation":11,"user_id":22641460,"display_name":"JavaStudent513"},"score":0,"creation_date":1697562861,"post_id":77310935,"comment_id":136294527,"body_markdown":"thank you! I&#39;ll keep that in mind and try and make changes","body":"thank you! I&#39;ll keep that in mind and try and make changes"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1697564173,"post_id":77310935,"comment_id":136294760,"body_markdown":"So if you remove the letter _o_ (for example) from the string _goooo dawwwwgs_, should the result be: _g dawwwwgs_ ?","body":"So if you remove the letter <i>o</i> (for example) from the string <i>goooo dawwwwgs</i>, should the result be: <i>g dawwwwgs</i> ?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":3,"creation_date":1697565051,"post_id":77310935,"comment_id":136294898,"body_markdown":"You should utilize the _charAt_ method here, considering your _sub-strings_ are single characters.","body":"You should utilize the <i>charAt</i> method here, considering your <i>sub-strings</i> are single characters."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697570894,"post_id":77310935,"comment_id":136295814,"body_markdown":"Off-topic: You might want to change `sc.nextLine()` to `sc.next()`","body":"Off-topic: You might want to change <code>sc.nextLine()</code> to <code>sc.next()</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697571976,"post_id":77310935,"comment_id":136295965,"body_markdown":"By the way, for future reference, for questions of this type, it is good to show one or more  examples of input (✔), expected output (✗), and actual output (✗).","body":"By the way, for future reference, for questions of this type, it is good to show one or more  examples of input (✔), expected output (✗), and actual output (✗)."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697564784,"creation_date":1697564419,"answer_id":77311146,"question_id":77310935,"body_markdown":"&gt; _&quot;... However, when I run the program, it only removes some instances of the character. ...&quot;_\r\n\r\nDecrement _i_ whenever the _String_ is parsed.\r\n\r\n```java\r\nif (userString.substring(i, i+1).equals(charToRemove))\r\n{\r\n    userString = userString.substring(0, i) + userString.substring(i + 1);\r\n    i--;\r\n}\r\n```\r\n\r\nAdditionally, the _loop_ should be conditional to _i &lt; userString.length()_, and not _i &lt; userString.length() - 1_.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nString userString = &quot;goooo dawwwwgs&quot;;\r\nString charToRemove = &quot;&quot;;\r\n\r\n//////////////////////////////////////////////////////////////////////\r\n\r\nSystem.out.println(&quot;Enter the character to remove&quot;);\r\ncharToRemove = sc.nextLine();\r\n\r\nfor (int i = 0; i &lt; userString.length(); i++)\r\n{\r\n    if (userString.substring(i, i+1).equals(charToRemove))\r\n    {\r\n        userString = userString.substring(0, i) + userString.substring(i + 1);\r\n        i--;\r\n    }\r\n}\r\n\r\nSystem.out.println(&quot;The new sentence is: &quot; + userString);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nEnter the character to remove\r\no\r\nThe new sentence is: g dawwwwgs\r\n```\r\n\r\n```none\r\nEnter the character to remove\r\nw\r\nThe new sentence is: goooo dags\r\n```\r\n\r\nHere is a re-factor, for reference.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nString s = &quot;goooo dawwwwgs&quot;;\r\nSystem.out.println(&quot;Enter the character to remove&quot;);\r\nchar c = sc.nextLine().charAt(0);\r\nfor (int i = 0; i &lt; s.length(); i++)\r\n    if (s.charAt(i) == c) {\r\n        s = s.substring(0, i) + s.substring(i + 1);\r\n        i--;\r\n    }\r\nSystem.out.println(&quot;The new sentence is: &quot; + s);\r\n```\r\n\r\nAlternately, just create a new _String_.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nString s = &quot;goooo dawwwwgs&quot;, ns = &quot;&quot;;\r\nSystem.out.println(&quot;Enter the character to remove&quot;);\r\nchar c = sc.nextLine().charAt(0), nc;\r\nfor (int i = 0, n = s.length(); i &lt; n; i++)\r\n    if ((nc = s.charAt(i)) != c) ns += nc;\r\nSystem.out.println(&quot;The new sentence is: &quot; + ns);\r\n```","title":"Program to remove all instances of a character from a phrase is only removing some instances","body":"<blockquote>\n<p><em>&quot;... However, when I run the program, it only removes some instances of the character. ...&quot;</em></p>\n</blockquote>\n<p>Decrement <em>i</em> whenever the <em>String</em> is parsed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (userString.substring(i, i+1).equals(charToRemove))\n{\n    userString = userString.substring(0, i) + userString.substring(i + 1);\n    i--;\n}\n</code></pre>\n<p>Additionally, the <em>loop</em> should be conditional to <em>i &lt; userString.length()</em>, and not <em>i &lt; userString.length() - 1</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nString userString = &quot;goooo dawwwwgs&quot;;\nString charToRemove = &quot;&quot;;\n\n//////////////////////////////////////////////////////////////////////\n\nSystem.out.println(&quot;Enter the character to remove&quot;);\ncharToRemove = sc.nextLine();\n\nfor (int i = 0; i &lt; userString.length(); i++)\n{\n    if (userString.substring(i, i+1).equals(charToRemove))\n    {\n        userString = userString.substring(0, i) + userString.substring(i + 1);\n        i--;\n    }\n}\n\nSystem.out.println(&quot;The new sentence is: &quot; + userString);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the character to remove\no\nThe new sentence is: g dawwwwgs\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the character to remove\nw\nThe new sentence is: goooo dags\n</code></pre>\n<p>Here is a re-factor, for reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nString s = &quot;goooo dawwwwgs&quot;;\nSystem.out.println(&quot;Enter the character to remove&quot;);\nchar c = sc.nextLine().charAt(0);\nfor (int i = 0; i &lt; s.length(); i++)\n    if (s.charAt(i) == c) {\n        s = s.substring(0, i) + s.substring(i + 1);\n        i--;\n    }\nSystem.out.println(&quot;The new sentence is: &quot; + s);\n</code></pre>\n<p>Alternately, just create a new <em>String</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nString s = &quot;goooo dawwwwgs&quot;, ns = &quot;&quot;;\nSystem.out.println(&quot;Enter the character to remove&quot;);\nchar c = sc.nextLine().charAt(0), nc;\nfor (int i = 0, n = s.length(); i &lt; n; i++)\n    if ((nc = s.charAt(i)) != c) ns += nc;\nSystem.out.println(&quot;The new sentence is: &quot; + ns);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697640966,"creation_date":1697570754,"answer_id":77311738,"question_id":77310935,"body_markdown":"By the way, I prefer `charToRemove` actually be a `char`. You could use something like `char charToRemove = sc.next().charAt (0)`\r\n\r\nIn this answer, I&#39;m suggesting *4* solutions. The easiest one is #4. But, since you are a new student, I would like you to be exposed to the thinking behind all 4.\r\n\r\nAs was mentioned in the comments, a problem results because the index advances as the string is altered. The shift and advancement causes some characters to be missed. \r\n\r\n**1)** You are not allowed to use the `indexOf` methods in the [`String` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html). But, under the constraints imposed by your teacher, are you allowed to code your own? \r\n````\r\n    while ( (i = myIndexOf (userString, charToRemove) &gt;= 0) { ...\r\n````\r\nYou would create `public static int myIndexOf` method to be similar to one of the index methods in `String`. \r\n\r\n**2)** Run the `for` loop backwards. That way, for each value of `i`, it will be confirmed that no occurrences of `charToRemove` occur in `userString` *after* index `i`.\r\n````\r\npublic static String removeCharA (String source, char toDelete) { \r\n        \r\n        for (int i = source.length() -1; i &gt;= 0; i--) { \r\n            if (source.charAt(i) == toDelete) {\r\n               source =  source.substring (0, i) \r\n                       + source.substring (i + 1);\r\n            }\r\n        }        \r\n        return source;\r\n    }\r\n````\r\n**3)** Use another `String` in your code. It will initially be empty, i.e. `String result = &quot;&quot;; // empty String`. As you go through your loop, each character in `userString` that is *not* equal to `characterToRemove`, copy the indexed character from `userString` to `result` using the `+` String concatenation operator. \r\n\r\n\r\n**4)** Delay advancing the index when it is discovered to point to one of the characters to be deleted. One way to do that is to subtract one from the index, as in a previous answer. &lt;editorial / opinion&gt; But, I don&#39;t like changing the value of a `for` loop index within the block controlled by the loop. I regard that as poor style, prone to being associated with bugs. &lt;end editorial / opinion&gt;.  So, another way to do this is to use a nested loop. Note that solution **1)** does this. There is the `while` loop, and another loop inside `myIndexOf`. \r\n\r\nHowever, there is a much easier way to implement the 2nd loop: \r\n\r\n\r\n*You can fix your code by changing a single word:*\r\n\r\n-- Change the `if` to `while`. ","title":"Program to remove all instances of a character from a phrase is only removing some instances","body":"<p>By the way, I prefer <code>charToRemove</code> actually be a <code>char</code>. You could use something like <code>char charToRemove = sc.next().charAt (0)</code></p>\n<p>In this answer, I'm suggesting <em>4</em> solutions. The easiest one is #4. But, since you are a new student, I would like you to be exposed to the thinking behind all 4.</p>\n<p>As was mentioned in the comments, a problem results because the index advances as the string is altered. The shift and advancement causes some characters to be missed.</p>\n<p><strong>1)</strong> You are not allowed to use the <code>indexOf</code> methods in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code> API</a>. But, under the constraints imposed by your teacher, are you allowed to code your own?</p>\n<pre><code>    while ( (i = myIndexOf (userString, charToRemove) &gt;= 0) { ...\n</code></pre>\n<p>You would create <code>public static int myIndexOf</code> method to be similar to one of the index methods in <code>String</code>.</p>\n<p><strong>2)</strong> Run the <code>for</code> loop backwards. That way, for each value of <code>i</code>, it will be confirmed that no occurrences of <code>charToRemove</code> occur in <code>userString</code> <em>after</em> index <code>i</code>.</p>\n<pre><code>public static String removeCharA (String source, char toDelete) { \n        \n        for (int i = source.length() -1; i &gt;= 0; i--) { \n            if (source.charAt(i) == toDelete) {\n               source =  source.substring (0, i) \n                       + source.substring (i + 1);\n            }\n        }        \n        return source;\n    }\n</code></pre>\n<p><strong>3)</strong> Use another <code>String</code> in your code. It will initially be empty, i.e. <code>String result = &quot;&quot;; // empty String</code>. As you go through your loop, each character in <code>userString</code> that is <em>not</em> equal to <code>characterToRemove</code>, copy the indexed character from <code>userString</code> to <code>result</code> using the <code>+</code> String concatenation operator.</p>\n<p><strong>4)</strong> Delay advancing the index when it is discovered to point to one of the characters to be deleted. One way to do that is to subtract one from the index, as in a previous answer. &lt;editorial / opinion&gt; But, I don't like changing the value of a <code>for</code> loop index within the block controlled by the loop. I regard that as poor style, prone to being associated with bugs. &lt;end editorial / opinion&gt;.  So, another way to do this is to use a nested loop. Note that solution <strong>1)</strong> does this. There is the <code>while</code> loop, and another loop inside <code>myIndexOf</code>.</p>\n<p>However, there is a much easier way to implement the 2nd loop:</p>\n<p><em>You can fix your code by changing a single word:</em></p>\n<p>-- Change the <code>if</code> to <code>while</code>.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697572750,"creation_date":1697572750,"answer_id":77311919,"question_id":77310935,"body_markdown":"In your snippet, you forgot to do `i--` every time when you remove one character from the given string:\r\n```java\r\npublic static String removeCharacters(String str, char ch) {\r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n        if (str.charAt(i) == ch) {\r\n            str = str.substring(0, i) + str.substring(i + 1);\r\n            i--;\r\n        }\r\n    }\r\n\r\n    return str;\r\n}\r\n```\r\n\r\nActually, you can replace the snippet with inline string method with a bit better performance:\r\n```java\r\npublic static String removeCharacters(String str, char ch) {\r\n    return str.replace(String.valueOf(ch), &quot;&quot;);\r\n}\r\n```\r\n\r\nBut this is still very inefficient approach, because `String` in java is **immutable**. It is much better to build another string using `StringBuilder`:\r\n```java\r\npublic static String removeCharacters(String str, char ch) {\r\n    StringBuilder buf = new StringBuilder(str.length());\r\n\r\n    for (int i = 0; i &lt; str.length(); i++)\r\n        if (str.charAt(i) != ch)\r\n            buf.append(str.charAt(i));\r\n\r\n    return buf.toString();\r\n}\r\n```","title":"Program to remove all instances of a character from a phrase is only removing some instances","body":"<p>In your snippet, you forgot to do <code>i--</code> every time when you remove one character from the given string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String removeCharacters(String str, char ch) {\n    for (int i = 0; i &lt; str.length(); i++) {\n        if (str.charAt(i) == ch) {\n            str = str.substring(0, i) + str.substring(i + 1);\n            i--;\n        }\n    }\n\n    return str;\n}\n</code></pre>\n<p>Actually, you can replace the snippet with inline string method with a bit better performance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String removeCharacters(String str, char ch) {\n    return str.replace(String.valueOf(ch), &quot;&quot;);\n}\n</code></pre>\n<p>But this is still very inefficient approach, because <code>String</code> in java is <strong>immutable</strong>. It is much better to build another string using <code>StringBuilder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String removeCharacters(String str, char ch) {\n    StringBuilder buf = new StringBuilder(str.length());\n\n    for (int i = 0; i &lt; str.length(); i++)\n        if (str.charAt(i) != ch)\n            buf.append(str.charAt(i));\n\n    return buf.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":29543286,"reputation":11,"user_id":22641460,"display_name":"JavaStudent513"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1697640966,"creation_date":1697562351,"question_id":77310935,"body_markdown":"I&#39;m creating a program to remove all instances of a character from a given phrase, and I am only allowed to use the following String methods: length, concat, +, charAt, substring, and equals (or equalsIgnoreCase). However, when I run the program, it only removes some instances of the character.\r\n\r\nI thought it was because the indices could have gone out of bounds, so I adjusted the for loop to run as long as i &lt; userString.length() - 1, but the program is still only removing two instances of the character. Code below:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabTester\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        String userString = &quot;goooo dawwwwgs&quot;;\r\n        String charToRemove = &quot;&quot;;\r\n\r\n        //////////////////////////////////////////////////////////////////////\r\n\t\r\n        System.out.println(&quot;Enter the character to remove&quot;);\r\n        charToRemove = sc.nextLine();\r\n\r\n        for (int i = 0; i &lt; userString.length() - 1; i++)\r\n        {\r\n            if (userString.substring(i, i+1).equals(charToRemove))\r\n            {\r\n                userString = userString.substring(0, i) + userString.substring(i + 1);\r\n            }\r\n        }\r\n\t\t\r\n        System.out.println(&quot;The new sentence is: &quot; + userString);\t\t\t\r\n    }\r\n}\r\n```","title":"Program to remove all instances of a character from a phrase is only removing some instances","body":"<p>I'm creating a program to remove all instances of a character from a given phrase, and I am only allowed to use the following String methods: length, concat, +, charAt, substring, and equals (or equalsIgnoreCase). However, when I run the program, it only removes some instances of the character.</p>\n<p>I thought it was because the indices could have gone out of bounds, so I adjusted the for loop to run as long as i &lt; userString.length() - 1, but the program is still only removing two instances of the character. Code below:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabTester\n{\n    public static void main(String[] args)\n    {\n        Scanner sc = new Scanner(System.in);\n        String userString = &quot;goooo dawwwwgs&quot;;\n        String charToRemove = &quot;&quot;;\n\n        //////////////////////////////////////////////////////////////////////\n    \n        System.out.println(&quot;Enter the character to remove&quot;);\n        charToRemove = sc.nextLine();\n\n        for (int i = 0; i &lt; userString.length() - 1; i++)\n        {\n            if (userString.substring(i, i+1).equals(charToRemove))\n            {\n                userString = userString.substring(0, i) + userString.substring(i + 1);\n            }\n        }\n        \n        System.out.println(&quot;The new sentence is: &quot; + userString);           \n    }\n}\n</code></pre>\n"},{"tags":["java","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1697640092,"creation_date":1508156023,"answer_id":46770084,"question_id":46767281,"body_markdown":"1.2.840.113549.3.7 is the OID for DES-EDE3-CBC-Pad (in PBES2) in [PKCS5 = rfc2898 sec B.2.2](https://www.rfc-editor.org/rfc/rfc2898#appendix-B.2.2). (1.2.840.113549.1.5.13 is the &#39;outer&#39; OID for all PBES2 variants.)\r\n\r\nThe Sun-now-Oracle **(default) providers** do support the DES-EDE3 algorithm (aka TripleDES or TDEA keying option 1) with CBC and PKCS5/7 padding but **do not have this OID mapping** for it. The BouncyCastle provider does have the mapping, so if you use the BC provider for this operation it should work. This can be done  \r\n* for all JVMs by configuring `security.provider.&lt;i&gt;` in `JRE/lib/security/java.security` (update: in j9+ `JRE/conf/security/java.security`) or  \r\n* for a JVM by `java.lang.security.Provider.addProvider (new BouncyCastleProvider())` or  \r\n* for this operation by adding `.setProvider()` with the name of or object for the BC provider to your `JceOpenSSLPKCS8DecryptorProviderBuilder` invocation\r\n\r\nNote BC for TripleDES seems to require the &#39;unlimited strength policy&#39; on Oracle Java below j8u151; see https://stackoverflow.com/questions/46657809/cannot-open-pkcs12-store-because-of-password and https://stackoverflow.com/questions/3862800/invalidkeyexception-illegal-key-size and many other dupes.","title":"Reading PKCS8 in PEM format: Cannot find provider","body":"<p>1.2.840.113549.3.7 is the OID for DES-EDE3-CBC-Pad (in PBES2) in <a href=\"https://www.rfc-editor.org/rfc/rfc2898#appendix-B.2.2\" rel=\"nofollow noreferrer\">PKCS5 = rfc2898 sec B.2.2</a>. (1.2.840.113549.1.5.13 is the 'outer' OID for all PBES2 variants.)</p>\n<p>The Sun-now-Oracle <strong>(default) providers</strong> do support the DES-EDE3 algorithm (aka TripleDES or TDEA keying option 1) with CBC and PKCS5/7 padding but <strong>do not have this OID mapping</strong> for it. The BouncyCastle provider does have the mapping, so if you use the BC provider for this operation it should work. This can be done</p>\n<ul>\n<li>for all JVMs by configuring <code>security.provider.&lt;i&gt;</code> in <code>JRE/lib/security/java.security</code> (update: in j9+ <code>JRE/conf/security/java.security</code>) or</li>\n<li>for a JVM by <code>java.lang.security.Provider.addProvider (new BouncyCastleProvider())</code> or</li>\n<li>for this operation by adding <code>.setProvider()</code> with the name of or object for the BC provider to your <code>JceOpenSSLPKCS8DecryptorProviderBuilder</code> invocation</li>\n</ul>\n<p>Note BC for TripleDES seems to require the 'unlimited strength policy' on Oracle Java below j8u151; see <a href=\"https://stackoverflow.com/questions/46657809/cannot-open-pkcs12-store-because-of-password\">Cannot open PKCS12 store because of password</a> and <a href=\"https://stackoverflow.com/questions/3862800/invalidkeyexception-illegal-key-size\">InvalidKeyException Illegal key size</a> and many other dupes.</p>\n"}],"owner":{"account_id":3373789,"reputation":7070,"user_id":2832398,"accept_rate":81,"display_name":"lilezek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46770084,"answer_count":1,"score":1,"last_activity_date":1697640092,"creation_date":1508147040,"question_id":46767281,"body_markdown":"Trying to read a PKCS8 private key in PEM format with the following:\r\n\r\n    private static PrivateKey loadPrivateKey()\r\n            throws IOException, GeneralSecurityException, OperatorCreationException, PKCSException {\r\n        FileReader fileReader = new FileReader(certsRoot + &quot;/pep-client-key.pem&quot;);\r\n        PEMParser keyReader = new PEMParser(fileReader);\r\n\r\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n        InputDecryptorProvider decryptionProv = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(&quot;mypassword&quot;.toCharArray());\r\n\r\n        Object keyPair = keyReader.readObject();\r\n        PrivateKeyInfo keyInfo;\r\n\r\n        if (keyPair instanceof PKCS8EncryptedPrivateKeyInfo) {\r\n            keyInfo = ((PKCS8EncryptedPrivateKeyInfo) keyPair).decryptPrivateKeyInfo(decryptionProv); // Exception thrown from here\r\n            keyReader.close();\r\n            return converter.getPrivateKey(keyInfo);\r\n        }\r\n        return null;\r\n    }\r\n\r\ngenerates this error:\r\n\r\n    org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: 1.2.840.113549.1.5.13 not available: Cannot find any provider supporting 1.2.840.113549.3.7\r\n    \tat org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo.decryptPrivateKeyInfo(Unknown Source)\r\n\r\nI&#39;ve checked with OpenSSL that the file can be processed as PKCS8 PEM, with the password provided. \r\n\r\nAny idea? I don&#39;t mind if there is a solution not involving BouncyCastle&#39;s  libraries. ","title":"Reading PKCS8 in PEM format: Cannot find provider","body":"<p>Trying to read a PKCS8 private key in PEM format with the following:</p>\n\n<pre><code>private static PrivateKey loadPrivateKey()\n        throws IOException, GeneralSecurityException, OperatorCreationException, PKCSException {\n    FileReader fileReader = new FileReader(certsRoot + \"/pep-client-key.pem\");\n    PEMParser keyReader = new PEMParser(fileReader);\n\n    JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n    InputDecryptorProvider decryptionProv = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(\"mypassword\".toCharArray());\n\n    Object keyPair = keyReader.readObject();\n    PrivateKeyInfo keyInfo;\n\n    if (keyPair instanceof PKCS8EncryptedPrivateKeyInfo) {\n        keyInfo = ((PKCS8EncryptedPrivateKeyInfo) keyPair).decryptPrivateKeyInfo(decryptionProv); // Exception thrown from here\n        keyReader.close();\n        return converter.getPrivateKey(keyInfo);\n    }\n    return null;\n}\n</code></pre>\n\n<p>generates this error:</p>\n\n<pre><code>org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: 1.2.840.113549.1.5.13 not available: Cannot find any provider supporting 1.2.840.113549.3.7\n    at org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo.decryptPrivateKeyInfo(Unknown Source)\n</code></pre>\n\n<p>I've checked with OpenSSL that the file can be processed as PKCS8 PEM, with the password provided. </p>\n\n<p>Any idea? I don't mind if there is a solution not involving BouncyCastle's  libraries. </p>\n"},{"tags":["java","cucumber","e2e-testing","playwright","end-to-end"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":5,"creation_date":1696431199,"post_id":77230662,"comment_id":136152496,"body_markdown":"Test expectations are best when hard coded. If you really need a calculation, make sure the implementation is entirely separate from the code under test.","body":"Test expectations are best when hard coded. If you really need a calculation, make sure the implementation is entirely separate from the code under test."}],"answers":[{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696432513,"creation_date":1696432513,"answer_id":77230832,"question_id":77230662,"body_markdown":"If you follow cucumber official scenario example document of &#39;Writing better Gherkin&#39;, they have written expected values in `Then` condition\r\n\r\n[Official Cucumber document for **Writing better Gherkin**][1]\r\n\r\nYou can also follow `Scenario Outline` where you can test multiple conditions\r\n\r\n[Scenario Outline Example][2]\r\n\r\n        Scenario Outline: Verify discount amount is correct\r\n        Given  the shopping basket total is &lt;total&gt;\r\n        When  I click &quot;Calculate Discount&quot;\r\n        Then  the reduction should be &lt;expected&gt;\r\n    \r\n     Examples:\r\n        | total  | expected |\r\n        | 60.00  |   7.20   |\r\n        | -1     |   0      |\r\n\r\nAnd then you can play within different examples\r\n\r\n\r\n  [1]: https://cucumber.io/docs/bdd/better-gherkin/#:~:text=Then%20I%20see%20%22FreeArticle1%22%20and%20%22PaidArticle1%22%20on%20the%20home%20page\r\n  [2]: https://cucumber.io/docs/gherkin/reference/#:~:text=*.feature%20file.-,Scenario%20Outline,-The%20Scenario%20Outline","title":"Should E2E tests expected results be hard coded or calculated?","body":"<p>If you follow cucumber official scenario example document of 'Writing better Gherkin', they have written expected values in <code>Then</code> condition</p>\n<p><a href=\"https://cucumber.io/docs/bdd/better-gherkin/#:%7E:text=Then%20I%20see%20%22FreeArticle1%22%20and%20%22PaidArticle1%22%20on%20the%20home%20page\" rel=\"nofollow noreferrer\">Official Cucumber document for <strong>Writing better Gherkin</strong></a></p>\n<p>You can also follow <code>Scenario Outline</code> where you can test multiple conditions</p>\n<p><a href=\"https://cucumber.io/docs/gherkin/reference/#:%7E:text=*.feature%20file.-,Scenario%20Outline,-The%20Scenario%20Outline\" rel=\"nofollow noreferrer\">Scenario Outline Example</a></p>\n<pre><code>    Scenario Outline: Verify discount amount is correct\n    Given  the shopping basket total is &lt;total&gt;\n    When  I click &quot;Calculate Discount&quot;\n    Then  the reduction should be &lt;expected&gt;\n\n Examples:\n    | total  | expected |\n    | 60.00  |   7.20   |\n    | -1     |   0      |\n</code></pre>\n<p>And then you can play within different examples</p>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696444510,"creation_date":1696436825,"answer_id":77231362,"question_id":77230662,"body_markdown":"I think your scenario is missing a step.\r\n\r\n```\r\nScenario: Verify discount amount is applied\r\n  Given the shopping basket total is €60\r\n  And a 12% discount is applicable\r\n  When I click &quot;Calculate Discount&quot;\r\n  Then the reduction should be €7.20\r\n```\r\n\r\nWith this missing step (of either verifying there is, or applying a 12% discount) it makes sense to test the discount as a currency value.","title":"Should E2E tests expected results be hard coded or calculated?","body":"<p>I think your scenario is missing a step.</p>\n<pre><code>Scenario: Verify discount amount is applied\n  Given the shopping basket total is €60\n  And a 12% discount is applicable\n  When I click &quot;Calculate Discount&quot;\n  Then the reduction should be €7.20\n</code></pre>\n<p>With this missing step (of either verifying there is, or applying a 12% discount) it makes sense to test the discount as a currency value.</p>\n"},{"tags":[],"owner":{"account_id":2052904,"reputation":2632,"user_id":1831456,"accept_rate":50,"display_name":"Vishal Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697640031,"creation_date":1696465011,"answer_id":77233635,"question_id":77230662,"body_markdown":"Use both. Use [test Oracles][1].\r\n\r\n&gt; **What is Test Oracle?** Test oracle basically gives you the expected results to compare with\r\n&gt; the actual results for a given set of test scenarios as an *external\r\n&gt; source of truth. *Independent of the application logic as well as with\r\n&gt; its tests.**\r\n\r\n\r\nIt could be as simple as an excel file with expected values calculated inside the sheet standalone of the application logic which can be passed to a test.\r\n\r\nThe advantage of this approach is :\r\n - It separates the application logic from test verification logic.\r\n - It even further separates the expected values from a specific implementation of the test. So in case if the same test takes an altogether different form in future in terms of automation tool/framework/library - the expected values remains the same as it comes from the business domain not from the technology of the application or the automation tool.\r\n- In future if the application logic changes , it only needs to be updated and calculated once in that sheet/or document and will reflect everywhere in the dependent tests.\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Test_oracle","title":"Should E2E tests expected results be hard coded or calculated?","body":"<p>Use both. Use <a href=\"https://en.wikipedia.org/wiki/Test_oracle\" rel=\"nofollow noreferrer\">test Oracles</a>.</p>\n<blockquote>\n<p><strong>What is Test Oracle?</strong> Test oracle basically gives you the expected results to compare with\nthe actual results for a given set of test scenarios as an <em>external\nsource of truth. <em>Independent of the application logic as well as with\nits tests.</em></em></p>\n</blockquote>\n<p>It could be as simple as an excel file with expected values calculated inside the sheet standalone of the application logic which can be passed to a test.</p>\n<p>The advantage of this approach is :</p>\n<ul>\n<li>It separates the application logic from test verification logic.</li>\n<li>It even further separates the expected values from a specific implementation of the test. So in case if the same test takes an altogether different form in future in terms of automation tool/framework/library - the expected values remains the same as it comes from the business domain not from the technology of the application or the automation tool.</li>\n<li>In future if the application logic changes , it only needs to be updated and calculated once in that sheet/or document and will reflect everywhere in the dependent tests.</li>\n</ul>\n"}],"owner":{"account_id":24009832,"reputation":23,"user_id":17993555,"display_name":"kdragon98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77230832,"answer_count":3,"score":2,"last_activity_date":1697640031,"creation_date":1696431134,"question_id":77230662,"body_markdown":"I&#39;m an BE engineer with experience in BE unit testing too, but recently started working on FE end-to-end tests, using Playwright and Cucumber. Should the expected result of a scenario be a hard-coded example or should it be calculated as part of the test?\r\n\r\nFor simplification, let&#39;s say I&#39;m trying to write a test for a discount on an e-commerce site, and I&#39;m writing a test to verify the discount amount is correct. It takes the user&#39;s basket total as an input and performs a client-side calculation to apply a fixed 12% discount, and spits the result back to the user.\r\nShould I be calculating that 12% within the step definitions of the test? Or should I hard-code the expected result?\r\nFeature file would look something like this if I was hard-coding the expected result:\r\n```\r\nScenario: Verify discount amount is correct\r\nGiven  the shopping basket total is 60.00\r\nWhen  I click &quot;Calculate Discount&quot;\r\nThen  the reduction should be 7.20\r\n```\r\n\r\nOr should the last line be changed to calculate it like `Then  the reduction should be as expected` and the step definition file doing something like\r\n```\r\n@Then(&quot;the reduction should be as expected&quot;)\r\npublic void theReductionShouldBe() {\r\n    double actual = getReductionDisplayedToUser();\r\n    double expected = basketTotal * 0.12;\r\n    assertEquals(expected, actual);\r\n}\r\n```\r\n\r\nIn reality the calculation for the tool I&#39;m testing is more complicated than just working out 12% (there&#39;s several inputs instead of just one), so my issue with the latter is that I&#39;m duplicating all the logic in my e2e testing repo. But there&#39;s an argument that if the logic should change, I don&#39;t need to touch my feature file, and can just update the logic in the calculation. I personally prefer the former as it&#39;s similar to the testing style of my BE unit tests, but not sure if that&#39;s the best practice with E2E tests.\r\n\r\nAnother colleague has suggested I implement randomness to the inputs (and that would only work with the calculated result), but it seems strange to me to theoretically have a test that sometimes fails and sometimes passes if there is a bug in the logic, making maintenance a bit more difficult such as checking the bug as been fixed after a failed test.\r\n```\r\nScenario: Verify discount amount is correct\r\nGiven  the shopping basket total is a random amount between 0.00 and 1000.00\r\nWhen  I click &quot;Calculate Discount&quot;\r\nThen  the reduction should be as expected\r\n```\r\n\r\nAs I said I&#39;m a bit new to E2E testing, and I&#39;m not sure if there&#39;s any standards or best practices with this. Any thoughts?","title":"Should E2E tests expected results be hard coded or calculated?","body":"<p>I'm an BE engineer with experience in BE unit testing too, but recently started working on FE end-to-end tests, using Playwright and Cucumber. Should the expected result of a scenario be a hard-coded example or should it be calculated as part of the test?</p>\n<p>For simplification, let's say I'm trying to write a test for a discount on an e-commerce site, and I'm writing a test to verify the discount amount is correct. It takes the user's basket total as an input and performs a client-side calculation to apply a fixed 12% discount, and spits the result back to the user.\nShould I be calculating that 12% within the step definitions of the test? Or should I hard-code the expected result?\nFeature file would look something like this if I was hard-coding the expected result:</p>\n<pre><code>Scenario: Verify discount amount is correct\nGiven  the shopping basket total is 60.00\nWhen  I click &quot;Calculate Discount&quot;\nThen  the reduction should be 7.20\n</code></pre>\n<p>Or should the last line be changed to calculate it like <code>Then  the reduction should be as expected</code> and the step definition file doing something like</p>\n<pre><code>@Then(&quot;the reduction should be as expected&quot;)\npublic void theReductionShouldBe() {\n    double actual = getReductionDisplayedToUser();\n    double expected = basketTotal * 0.12;\n    assertEquals(expected, actual);\n}\n</code></pre>\n<p>In reality the calculation for the tool I'm testing is more complicated than just working out 12% (there's several inputs instead of just one), so my issue with the latter is that I'm duplicating all the logic in my e2e testing repo. But there's an argument that if the logic should change, I don't need to touch my feature file, and can just update the logic in the calculation. I personally prefer the former as it's similar to the testing style of my BE unit tests, but not sure if that's the best practice with E2E tests.</p>\n<p>Another colleague has suggested I implement randomness to the inputs (and that would only work with the calculated result), but it seems strange to me to theoretically have a test that sometimes fails and sometimes passes if there is a bug in the logic, making maintenance a bit more difficult such as checking the bug as been fixed after a failed test.</p>\n<pre><code>Scenario: Verify discount amount is correct\nGiven  the shopping basket total is a random amount between 0.00 and 1000.00\nWhen  I click &quot;Calculate Discount&quot;\nThen  the reduction should be as expected\n</code></pre>\n<p>As I said I'm a bit new to E2E testing, and I'm not sure if there's any standards or best practices with this. Any thoughts?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14619534,"reputation":421,"user_id":10558670,"display_name":"MAO3J1m0Op"},"score":0,"creation_date":1572393219,"post_id":58616909,"comment_id":103543278,"body_markdown":"Why can’t you create a second array or reassign an edited array to `frame`?","body":"Why can’t you create a second array or reassign an edited array to <code>frame</code>?"},{"owner":{"account_id":14619534,"reputation":421,"user_id":10558670,"display_name":"MAO3J1m0Op"},"score":0,"creation_date":1572393518,"post_id":58616909,"comment_id":103543334,"body_markdown":"Poking around at other options to construct your classes, I found `TYPE_INT_RGB`. Perhaps converting the byte array to an int array could work?","body":"Poking around at other options to construct your classes, I found <code>TYPE_INT_RGB</code>. Perhaps converting the byte array to an int array could work?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1572393697,"post_id":58616909,"comment_id":103543369,"body_markdown":"What&#39;s wrong with option 2? (if you change the order in-place in your existing byte array) Your computer won&#39;t complain that it&#39;s tedious - that is the type of work that computers are good at.","body":"What&#39;s wrong with option 2? (if you change the order in-place in your existing byte array) Your computer won&#39;t complain that it&#39;s tedious - that is the type of work that computers are good at."},{"owner":{"account_id":1032848,"reputation":3712,"user_id":1040813,"accept_rate":65,"display_name":"marxin"},"score":0,"creation_date":1572393967,"post_id":58616909,"comment_id":103543424,"body_markdown":"@ErwinBolwidt just feels like copying 75000000 items (given 5000x5000 image) just to then load them to bufferedimage is not the greatest solution. I will do it if I need to but I would prefer to avoid that","body":"@ErwinBolwidt just feels like copying 75000000 items (given 5000x5000 image) just to then load them to bufferedimage is not the greatest solution. I will do it if I need to but I would prefer to avoid that"},{"owner":{"account_id":1032848,"reputation":3712,"user_id":1040813,"accept_rate":65,"display_name":"marxin"},"score":0,"creation_date":1572394328,"post_id":58616909,"comment_id":103543484,"body_markdown":"@ErwinBolwidt actually it doesn&#39;t make sense at all in this case, much better to just call setRGB on buffered image instance if I have to iterate over the byte array","body":"@ErwinBolwidt actually it doesn&#39;t make sense at all in this case, much better to just call setRGB on buffered image instance if I have to iterate over the byte array"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1572394348,"post_id":58616909,"comment_id":103543490,"body_markdown":"You should look at the implementation of `BufferedImage.setData` as it copies the data from the raster that you pass in line by line. `BufferedImage.getRaster().setDataElements` looks to be the method that you should be using if you are concerned about performance much. (And you should only be if you perform this operation frequently, liking multiple times per second)","body":"You should look at the implementation of <code>BufferedImage.setData</code> as it copies the data from the raster that you pass in line by line. <code>BufferedImage.getRaster().setDataElements</code> looks to be the method that you should be using if you are concerned about performance much. (And you should only be if you perform this operation frequently, liking multiple times per second)"},{"owner":{"account_id":1032848,"reputation":3712,"user_id":1040813,"accept_rate":65,"display_name":"marxin"},"score":0,"creation_date":1572396054,"post_id":58616909,"comment_id":103543858,"body_markdown":"@ErwinBolwidt yeah if I wouldnt do that a lot I wouldnt bother. setData maybe does the same thing but its faster than manual loop, I dont know why. setDataElements is expecting different format so its again the same issue. I will go for loop solution for now as at least it works, will come back to this later","body":"@ErwinBolwidt yeah if I wouldnt do that a lot I wouldnt bother. setData maybe does the same thing but its faster than manual loop, I dont know why. setDataElements is expecting different format so its again the same issue. I will go for loop solution for now as at least it works, will come back to this later"}],"answers":[{"tags":[],"owner":{"account_id":1852692,"reputation":1963,"user_id":1678893,"display_name":"goedi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1572398649,"creation_date":1572396531,"answer_id":58617321,"question_id":58616909,"body_markdown":"Try this code\r\n\r\n    BufferedImage img = create3ByteRGBImage(int width, int height, new int[] {8, 8, 8},\r\n                                         new int[] {0, 1, 2});    \r\n    \r\n    private BufferedImage create3ByteRGBImage(width, height, int[] nBits, int[] bOffs) {\r\n                ColorSpace cs = ColorSpace.getInstance(ColorSpace.CS_sRGB);\r\n                ColorModel colorModel =\r\n                    new ComponentColorModel(cs, nBits,\r\n                                            false, false,\r\n                                            Transparency.OPAQUE,\r\n                                            DataBuffer.TYPE_BYTE);\r\n                WritableRaster raster =\r\n                    Raster.createInterleavedRaster(DataBuffer.TYPE_BYTE,\r\n                                                   width, height,\r\n                                                   width*3, 3,\r\n                                                   bOffs, null);\r\n                return new BufferedImage(colorModel, raster, false, null);\r\n            }\r\n\r\n\r\n","title":"BufferedImage from RGB byte[] array","body":"<p>Try this code</p>\n\n<pre><code>BufferedImage img = create3ByteRGBImage(int width, int height, new int[] {8, 8, 8},\n                                     new int[] {0, 1, 2});    \n\nprivate BufferedImage create3ByteRGBImage(width, height, int[] nBits, int[] bOffs) {\n            ColorSpace cs = ColorSpace.getInstance(ColorSpace.CS_sRGB);\n            ColorModel colorModel =\n                new ComponentColorModel(cs, nBits,\n                                        false, false,\n                                        Transparency.OPAQUE,\n                                        DataBuffer.TYPE_BYTE);\n            WritableRaster raster =\n                Raster.createInterleavedRaster(DataBuffer.TYPE_BYTE,\n                                               width, height,\n                                               width*3, 3,\n                                               bOffs, null);\n            return new BufferedImage(colorModel, raster, false, null);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15212182,"reputation":11,"user_id":10976595,"display_name":"Jatoxo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697639975,"creation_date":1697639975,"answer_id":77317334,"question_id":58616909,"body_markdown":"The previous answer works but it can be simplified to be more readable:\r\n\r\n    ColorSpace colorSpace = ColorSpace.getInstance(ColorSpace.CS_sRGB);\r\n\r\n    ColorModel model = new ComponentColorModel(\r\n        colorSpace, \r\n        false,\r\n        true, \r\n        Transparency.OPAQUE, \r\n        DataBuffer.TYPE_BYTE\r\n    );\r\n\r\n    WritableRaster raster = Raster.createInterleavedRaster(\r\n        DataBuffer.TYPE_BYTE, \r\n        width, \r\n        height, \r\n        3, \r\n        null\r\n    );\r\n\r\n    BufferedImage image = new BufferedImage(model, raster, true, null);","title":"BufferedImage from RGB byte[] array","body":"<p>The previous answer works but it can be simplified to be more readable:</p>\n<pre><code>ColorSpace colorSpace = ColorSpace.getInstance(ColorSpace.CS_sRGB);\n\nColorModel model = new ComponentColorModel(\n    colorSpace, \n    false,\n    true, \n    Transparency.OPAQUE, \n    DataBuffer.TYPE_BYTE\n);\n\nWritableRaster raster = Raster.createInterleavedRaster(\n    DataBuffer.TYPE_BYTE, \n    width, \n    height, \n    3, \n    null\n);\n\nBufferedImage image = new BufferedImage(model, raster, true, null);\n</code></pre>\n"}],"owner":{"account_id":1032848,"reputation":3712,"user_id":1040813,"accept_rate":65,"display_name":"marxin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58617321,"answer_count":2,"score":3,"last_activity_date":1697639975,"creation_date":1572393002,"question_id":58616909,"body_markdown":"I have a byte[] array with RGB values. I would like to create BufferedImage without setting the pixels one by one, as the image can be big. I&#39;ve found the following snippet:\r\n\r\n            byte[] frame = ...;\r\n    \t\tBufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_3BYTE_BGR);\r\n\t\t\timg.setData(Raster.createRaster(img.getSampleModel(), new DataBufferByte(frame, frame.length), new Point() ) );\r\n\r\n\r\nWhich does work nice, but there is a small issue ;-) `TYPE_3BYTE_BGR` is expecting bytes in reverse order.\r\n\r\nSo the questions are:\r\n\r\n 1. Is it possible to load my array somehow without actually creating a new byte array with expected ordering?\r\n 2. If its not possible, is there any better way than for loop to copy data from RGB format to BGR?","title":"BufferedImage from RGB byte[] array","body":"<p>I have a byte[] array with RGB values. I would like to create BufferedImage without setting the pixels one by one, as the image can be big. I've found the following snippet:</p>\n\n<pre><code>        byte[] frame = ...;\n        BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_3BYTE_BGR);\n        img.setData(Raster.createRaster(img.getSampleModel(), new DataBufferByte(frame, frame.length), new Point() ) );\n</code></pre>\n\n<p>Which does work nice, but there is a small issue ;-) <code>TYPE_3BYTE_BGR</code> is expecting bytes in reverse order.</p>\n\n<p>So the questions are:</p>\n\n<ol>\n<li>Is it possible to load my array somehow without actually creating a new byte array with expected ordering?</li>\n<li>If its not possible, is there any better way than for loop to copy data from RGB format to BGR?</li>\n</ol>\n"},{"tags":["java","intellij-idea","import","swagger-codegen","spotless"],"comments":[{"owner":{"account_id":8481725,"reputation":53,"user_id":6361239,"display_name":"LostShepherd"},"score":0,"creation_date":1694685931,"post_id":76260944,"comment_id":135925008,"body_markdown":"I&#39;m in exactly the same boat, did you ever get a resolution for this?","body":"I&#39;m in exactly the same boat, did you ever get a resolution for this?"},{"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"score":0,"creation_date":1694689106,"post_id":76260944,"comment_id":135925685,"body_markdown":"@LostShepherd Actually I didn&#39;t get any proper solution from spotless point of view. I started to investigate java openapi code generator where I recognised that the starred imports are hard coded based on certain templates. You can find the templates here: \nhttps://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator/src/main \nSo if I manipulated the templates then I would get the proper result. But my consideration is taking the responsibility of code generation logic is higher than leaving starred imports in the code. So I left it as it is.","body":"@LostShepherd Actually I didn&#39;t get any proper solution from spotless point of view. I started to investigate java openapi code generator where I recognised that the starred imports are hard coded based on certain templates. You can find the templates here:  <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator/src/main\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/tree/master/module&zwnj;&#8203;s/&hellip;</a>  So if I manipulated the templates then I would get the proper result. But my consideration is taking the responsibility of code generation logic is higher than leaving starred imports in the code. So I left it as it is."}],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697639750,"creation_date":1684226352,"question_id":76260944,"body_markdown":"I have a swagger openapi yml definition to generate apis. But this plugin incorporates unused imprts into the generated files. I could erase most of them by spotless plugin but I can&#39;t stop swagger to make starred imports  (`import javax.validation.constraints.*;`) which isn&#39;t handled by spotless. Here is my spotless configuration:\r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.36.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;java&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;target/somewhere/**&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                        &lt;importOrder/&gt;\r\n                        &lt;removeUnusedImports/&gt;\r\n                    &lt;/java&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;apply&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nDo you know any worrkround for this? Either stop swagger starred imports generation or any spotless configuration to delete unused starred imports are welcome. \r\n\r\nI am using IntelliJ v2022.3.3","title":"Java spotless plugin with starred imports","body":"<p>I have a swagger openapi yml definition to generate apis. But this plugin incorporates unused imprts into the generated files. I could erase most of them by spotless plugin but I can't stop swagger to make starred imports  (<code>import javax.validation.constraints.*;</code>) which isn't handled by spotless. Here is my spotless configuration:</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n            &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.36.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;java&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;target/somewhere/**&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;importOrder/&gt;\n                    &lt;removeUnusedImports/&gt;\n                &lt;/java&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;apply&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Do you know any worrkround for this? Either stop swagger starred imports generation or any spotless configuration to delete unused starred imports are welcome.</p>\n<p>I am using IntelliJ v2022.3.3</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-functions","artificial-intelligence","vertex"],"owner":{"account_id":22491823,"reputation":9,"user_id":16689442,"display_name":"qkory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697639630,"creation_date":1697639630,"question_id":77317291,"body_markdown":"I&#39;m in a course and can&#39;t resolve the issue with the given tutorial. Unfortunately it&#39;s so incomplete for a beginner like me, it&#39;s easy to get lost. I&#39;m following the from: https://codelabs.developers.google.com/moviescore-prediction-vertexai#0\r\n\r\nMy guess is the problem in the step 6 but I&#39;m also not sure if I use the appropriate url either. Although I&#39;ve managed to train the vertex model and successfully deployed it, but somehow I can&#39;t connect it together with the java file, I get an error referencing at line 48.\r\n\r\nBecause the tutorial doesn&#39;t show any contextual help, which parameters should I use, first I&#39;ve tried connect it with the parameters I&#39;ve filled in the vertex deployment steps but I always get an Http 500 error.\r\n\r\nI hope somebody could give me a a help or a step by step detailed guide especially on the step 6 and how do I reach the endpoint properly.","title":"Google functions endpoint HTTP 500 error using vertex ai","body":"<p>I'm in a course and can't resolve the issue with the given tutorial. Unfortunately it's so incomplete for a beginner like me, it's easy to get lost. I'm following the from: <a href=\"https://codelabs.developers.google.com/moviescore-prediction-vertexai#0\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/moviescore-prediction-vertexai#0</a></p>\n<p>My guess is the problem in the step 6 but I'm also not sure if I use the appropriate url either. Although I've managed to train the vertex model and successfully deployed it, but somehow I can't connect it together with the java file, I get an error referencing at line 48.</p>\n<p>Because the tutorial doesn't show any contextual help, which parameters should I use, first I've tried connect it with the parameters I've filled in the vertex deployment steps but I always get an Http 500 error.</p>\n<p>I hope somebody could give me a a help or a step by step detailed guide especially on the step 6 and how do I reach the endpoint properly.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697639306,"creation_date":1697637060,"answer_id":77316942,"question_id":77315228,"body_markdown":"The illegal state exception is happening because you are trying to register the activity result launchers from an activity context. Instead do it from the fragment. Fragments also have a registerForActivityResult() member function.\r\n\r\n\r\n\r\n&gt; GalleryAndCamera galleryAndCamera = new GalleryAndCamera((AppCompatActivity) requireActivity());\r\n\r\n\r\nChange to:\r\n\r\n    GalleryAndCamera galleryAndCamera = new GalleryAndCamera(this);\r\n\r\n&gt; public GalleryAndCamera(AppCompatActivity  activity)\r\n\r\nChange to:\r\n\r\n    public GalleryAndCamera(Fragment fragment)\r\n","title":"Create reusable camera and gallery","body":"<p>The illegal state exception is happening because you are trying to register the activity result launchers from an activity context. Instead do it from the fragment. Fragments also have a registerForActivityResult() member function.</p>\n<blockquote>\n<p>GalleryAndCamera galleryAndCamera = new GalleryAndCamera((AppCompatActivity) requireActivity());</p>\n</blockquote>\n<p>Change to:</p>\n<pre><code>GalleryAndCamera galleryAndCamera = new GalleryAndCamera(this);\n</code></pre>\n<blockquote>\n<p>public GalleryAndCamera(AppCompatActivity  activity)</p>\n</blockquote>\n<p>Change to:</p>\n<pre><code>public GalleryAndCamera(Fragment fragment)\n</code></pre>\n"}],"owner":{"account_id":29698898,"reputation":3,"user_id":22761510,"display_name":"Erik Orosz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77316942,"answer_count":1,"score":0,"last_activity_date":1697639306,"creation_date":1697622694,"question_id":77315228,"body_markdown":"I want to create a class to handle camera and gallery that I can use on different fragments.\r\n\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.os.Environment;\r\nimport android.provider.MediaStore;\r\n\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\n\r\npublic class GalleryAndCamera {\r\n    private Activity activity;\r\n    private ActivityResultLauncher&lt;Intent&gt; takePictureLauncher;\r\n    private ActivityResultLauncher&lt;Intent&gt; pickImageLauncher;\r\n    private ImageCaptureListener imageCaptureListener;\r\n\r\n    public GalleryAndCamera(AppCompatActivity  activity) {\r\n        this.activity = activity;\r\n\r\n        takePictureLauncher = activity.registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        Intent data = result.getData();\r\n                        if (data != null) {\r\n                           \r\n                            Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                            saveImageToGallery(photo, activity.getApplicationContext());\r\n                            imageCaptureListener.onImageCaptured(photo);\r\n                        }\r\n                    } else if (result.getResultCode() == Activity.RESULT_CANCELED) {\r\n                       \r\n                    }\r\n                }\r\n        );\r\n\r\n        \r\n        pickImageLauncher = activity.registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        Intent data = result.getData();\r\n                        if (data != null) {\r\n                            \r\n                        }\r\n                    } else if (result.getResultCode() == Activity.RESULT_CANCELED) {\r\n                        \r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    public void takePicture() {\r\n        Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        takePictureLauncher.launch(cameraIntent);\r\n    }\r\n\r\n    public void pickImage() {\r\n        Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        pickImageLauncher.launch(galleryIntent);\r\n    }\r\n    public void setImageCaptureListener(ImageCaptureListener listener) {\r\n        this.imageCaptureListener = listener;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Myfragment extends Fragment implements ImageCaptureListener{\r\n\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n        binding = FragmentMyfragmentBinding.inflate(inflater, container, false);\r\n        View view = binding.getRoot();\r\n        GalleryAndCamera galleryAndCamera = new GalleryAndCamera((AppCompatActivity) requireActivity());\r\n        \r\n        binding.idBtnWDCamera.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n              \r\n                Helper.clickSound(getContext());\r\n                imageHandler();\r\n\r\n               \r\n            }\r\n        });\r\n}\r\n```\r\nproblem: \r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.hepszolg.birdcontrol, PID: 11293\r\n                                                                                                    java.lang.IllegalStateException: LifecycleOwner com.myproject.MainActivity@288c540 is attempting to register while current state is RESUMED. LifecycleOwners must call register before they are STARTED.","title":"Create reusable camera and gallery","body":"<p>I want to create a class to handle camera and gallery that I can use on different fragments.</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.os.Environment;\nimport android.provider.MediaStore;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n\npublic class GalleryAndCamera {\n    private Activity activity;\n    private ActivityResultLauncher&lt;Intent&gt; takePictureLauncher;\n    private ActivityResultLauncher&lt;Intent&gt; pickImageLauncher;\n    private ImageCaptureListener imageCaptureListener;\n\n    public GalleryAndCamera(AppCompatActivity  activity) {\n        this.activity = activity;\n\n        takePictureLauncher = activity.registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                result -&gt; {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Intent data = result.getData();\n                        if (data != null) {\n                           \n                            Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\n                            saveImageToGallery(photo, activity.getApplicationContext());\n                            imageCaptureListener.onImageCaptured(photo);\n                        }\n                    } else if (result.getResultCode() == Activity.RESULT_CANCELED) {\n                       \n                    }\n                }\n        );\n\n        \n        pickImageLauncher = activity.registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                result -&gt; {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Intent data = result.getData();\n                        if (data != null) {\n                            \n                        }\n                    } else if (result.getResultCode() == Activity.RESULT_CANCELED) {\n                        \n                    }\n                }\n        );\n    }\n\n    public void takePicture() {\n        Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        takePictureLauncher.launch(cameraIntent);\n    }\n\n    public void pickImage() {\n        Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        pickImageLauncher.launch(galleryIntent);\n    }\n    public void setImageCaptureListener(ImageCaptureListener listener) {\n        this.imageCaptureListener = listener;\n    }\n}\n</code></pre>\n<pre><code>public class Myfragment extends Fragment implements ImageCaptureListener{\n\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n        binding = FragmentMyfragmentBinding.inflate(inflater, container, false);\n        View view = binding.getRoot();\n        GalleryAndCamera galleryAndCamera = new GalleryAndCamera((AppCompatActivity) requireActivity());\n        \n        binding.idBtnWDCamera.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n              \n                Helper.clickSound(getContext());\n                imageHandler();\n\n               \n            }\n        });\n}\n</code></pre>\n<p>problem:\nFATAL EXCEPTION: main\nProcess: com.hepszolg.birdcontrol, PID: 11293\njava.lang.IllegalStateException: LifecycleOwner com.myproject.MainActivity@288c540 is attempting to register while current state is RESUMED. LifecycleOwners must call register before they are STARTED.</p>\n"},{"tags":["java","excel","apache-poi","xssf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1697699275,"post_id":77317243,"comment_id":136313166,"body_markdown":"I am afraid you can&#39;t as this is a default Excel message. But the message exactly tells that the **cell** or chart **you&#39;re trying to change** is on a protected sheet. That&#39;s not misleading for me. If one tries changing not protected cells that message will not occur. Excel users should know this.","body":"I am afraid you can&#39;t as this is a default Excel message. But the message exactly tells that the <b>cell</b> or chart <b>you&#39;re trying to change</b> is on a protected sheet. That&#39;s not misleading for me. If one tries changing not protected cells that message will not occur. Excel users should know this."}],"owner":{"account_id":4411211,"reputation":71,"user_id":3594089,"display_name":"user3594089"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697639235,"creation_date":1697639235,"question_id":77317243,"body_markdown":"I created an Excel with Apache POI XSSF. I needed to make certain columns readonly. so I set the sheet as protected and then set the cellstyle to unlocked for the editable columns.\r\nWhen the user clicks on any of the non-editable columsn I get this message about the chart/sheet being protected and user needs a password to unprotect it. This is higly misleading since only certain columns are readonly. \r\nHow do I can change this alert message  ?","title":"How to change dialog box message when cells in excel is readonly - with Apache POI XSSF","body":"<p>I created an Excel with Apache POI XSSF. I needed to make certain columns readonly. so I set the sheet as protected and then set the cellstyle to unlocked for the editable columns.\nWhen the user clicks on any of the non-editable columsn I get this message about the chart/sheet being protected and user needs a password to unprotect it. This is higly misleading since only certain columns are readonly.\nHow do I can change this alert message  ?</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":2551102,"reputation":5113,"user_id":2214831,"accept_rate":58,"display_name":"boycod3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697639121,"creation_date":1697639121,"question_id":77317227,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LYpJO.png\r\n\r\nBelow is a sample accordion using some divs very similar to a directory. Suppose I want to go till \r\n\r\n\r\n\r\nHow can I select Coffee and it may appear in other accordions, all I have to traverse the accordion based on my input.\r\n\r\n\r\n&gt; Beverages &gt; Water &gt; Coffee\r\n\r\n\r\npublic void walk(WebElement ele,String patterns){\r\n   Sting pattern[] = patterns.split(&quot;&gt;&quot;);\r\n  \r\n\r\n\r\n}\r\n\r\nmethod call will like, walk(someparent, &quot;Beverages&gt;Tea&gt;Green Tea&quot;);\r\n","title":"Java selenium to traverse accordion tree based on the pattern","body":"<p><a href=\"https://i.stack.imgur.com/LYpJO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LYpJO.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is a sample accordion using some divs very similar to a directory. Suppose I want to go till</p>\n<p>How can I select Coffee and it may appear in other accordions, all I have to traverse the accordion based on my input.</p>\n<blockquote>\n<p>Beverages &gt; Water &gt; Coffee</p>\n</blockquote>\n<p>public void walk(WebElement ele,String patterns){\nSting pattern[] = patterns.split(&quot;&gt;&quot;);</p>\n<p>}</p>\n<p>method call will like, walk(someparent, &quot;Beverages&gt;Tea&gt;Green Tea&quot;);</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697638931,"creation_date":1697638931,"answer_id":77317208,"question_id":77316988,"body_markdown":"Hacking BestSolutionRecaller is the only way currently. BestSolutionEvents only report new, better solutions. Not better_or_equal solutions. This is a common feature request, [so I just created an issue][1]. \r\n\r\n\r\n----------\r\n\r\n\r\nIf it&#39;s specifically **the Construction Heuristics best solution event that is missing** in the best solution event listener, this is a bug that as fixed in [Timefold Solver][2] some time ago. In that case, try [a quick upgrade][3] to confirm the issue disappears.\r\n\r\n\r\n  [1]: https://github.com/TimefoldAI/timefold-solver/issues/352\r\n  [2]: https://timefold.ai/blog/2023/optaplanner-fork\r\n  [3]: https://timefold.ai/blog/2023/optaplanner-fork#upgrade-from-optaplanner-to-timefold","title":"How could I record the history of optaplanner solutions","body":"<p>Hacking BestSolutionRecaller is the only way currently. BestSolutionEvents only report new, better solutions. Not better_or_equal solutions. This is a common feature request, <a href=\"https://github.com/TimefoldAI/timefold-solver/issues/352\" rel=\"nofollow noreferrer\">so I just created an issue</a>.</p>\n<hr />\n<p>If it's specifically <strong>the Construction Heuristics best solution event that is missing</strong> in the best solution event listener, this is a bug that as fixed in <a href=\"https://timefold.ai/blog/2023/optaplanner-fork\" rel=\"nofollow noreferrer\">Timefold Solver</a> some time ago. In that case, try <a href=\"https://timefold.ai/blog/2023/optaplanner-fork#upgrade-from-optaplanner-to-timefold\" rel=\"nofollow noreferrer\">a quick upgrade</a> to confirm the issue disappears.</p>\n"}],"owner":{"account_id":29471132,"reputation":7,"user_id":22583732,"display_name":"Zhetao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77317208,"answer_count":1,"score":0,"last_activity_date":1697638931,"creation_date":1697637382,"question_id":77316988,"body_markdown":"Without extra configurations, optaplanner will return the best solution. But in my case, I need to have best n solutions. I see there is SolverEventListener which we can add to the solver, and the SolverEventListener has a method called bestSolutionChanged. We can listen on the events there. However, when I try doing that, it only catches two history records. I set the termination strategy as 10s limits. However, in debug logs, I do see it keeps moving after finding a best solution and it definitely logs the other best solutions with moves. But why in the event listener, it doesn&#39;t catch the newer solutions which are also best scores? \r\n\r\nBesides, any suggestions on how I could record best n solutions? I see there sounds to be another hack with BestSolutionRecaller. Do you have an example how we could utilize BestSolutionRecaller?\r\nThanks!\r\n\r\nI tried SolverEventListener suggested by the [wiki](https://docs.optaplanner.org/latest/optaplanner-docs/html_single/index.html#SolverEventListener).","title":"How could I record the history of optaplanner solutions","body":"<p>Without extra configurations, optaplanner will return the best solution. But in my case, I need to have best n solutions. I see there is SolverEventListener which we can add to the solver, and the SolverEventListener has a method called bestSolutionChanged. We can listen on the events there. However, when I try doing that, it only catches two history records. I set the termination strategy as 10s limits. However, in debug logs, I do see it keeps moving after finding a best solution and it definitely logs the other best solutions with moves. But why in the event listener, it doesn't catch the newer solutions which are also best scores?</p>\n<p>Besides, any suggestions on how I could record best n solutions? I see there sounds to be another hack with BestSolutionRecaller. Do you have an example how we could utilize BestSolutionRecaller?\nThanks!</p>\n<p>I tried SolverEventListener suggested by the <a href=\"https://docs.optaplanner.org/latest/optaplanner-docs/html_single/index.html#SolverEventListener\" rel=\"nofollow noreferrer\">wiki</a>.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697652327,"post_id":77317035,"comment_id":136308117,"body_markdown":"It isn&#39;t Spring that offers the `@TenantId` etc. but HIbernate that is adding that support and what you want isn&#39;t supported by this. You can write your own using Hibernate filters and a bit of AOP.","body":"It isn&#39;t Spring that offers the <code>@TenantId</code> etc. but HIbernate that is adding that support and what you want isn&#39;t supported by this. You can write your own using Hibernate filters and a bit of AOP."},{"owner":{"account_id":25869455,"reputation":1,"user_id":19600558,"display_name":"Ixico"},"score":0,"creation_date":1697703374,"post_id":77317035,"comment_id":136313895,"body_markdown":"Thank you for correcting me and for your answer. I&#39;m not really sure how can I achieve it with your approach - I have found some resources: https://callistaenterprise.se/blogg/teknik/2020/10/17/multi-tenancy-with-spring-boot-part5/ but it doesn&#39;t look perfect - requires load time weaving (I would prefer stay with only spring AOP) and writing own queries for findById methods. Do you have any examples?","body":"Thank you for correcting me and for your answer. I&#39;m not really sure how can I achieve it with your approach - I have found some resources: <a href=\"https://callistaenterprise.se/blogg/teknik/2020/10/17/multi-tenancy-with-spring-boot-part5/\" rel=\"nofollow noreferrer\">callistaenterprise.se/blogg/teknik/2020/10/17/&hellip;</a> but it doesn&#39;t look perfect - requires load time weaving (I would prefer stay with only spring AOP) and writing own queries for findById methods. Do you have any examples?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697703534,"post_id":77317035,"comment_id":136313934,"body_markdown":"It doesn&#39;t require loadtime weaving depending on the pointcut, you can write one that executes the aspect for all `@Service` methods, which would work perfectly well with the default AOP mode. It will indeed only work with queries as soon as you use `entityManager.find(id, Entity.class);` the filters don&#39;t apply.","body":"It doesn&#39;t require loadtime weaving depending on the pointcut, you can write one that executes the aspect for all <code>@Service</code> methods, which would work perfectly well with the default AOP mode. It will indeed only work with queries as soon as you use <code>entityManager.find(id, Entity.class);</code> the filters don&#39;t apply."},{"owner":{"account_id":25869455,"reputation":1,"user_id":19600558,"display_name":"Ixico"},"score":0,"creation_date":1697704176,"post_id":77317035,"comment_id":136314053,"body_markdown":"Sorry but I&#39;m quite confused. I thought the idea is to create pointcut on openSession() method to intercept and modify Session object setting the tenantId. What would I do if I wrote an aspect for my @Service method? Should I get current session via SessionFactory.getCurrentSession() and set this tenantId? Is this what you mean? And do you see any workaround for fetching object without writing those queries for every repository?","body":"Sorry but I&#39;m quite confused. I thought the idea is to create pointcut on openSession() method to intercept and modify Session object setting the tenantId. What would I do if I wrote an aspect for my @Service method? Should I get current session via SessionFactory.getCurrentSession() and set this tenantId? Is this what you mean? And do you see any workaround for fetching object without writing those queries for every repository?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697706164,"post_id":77317035,"comment_id":136314425,"body_markdown":"That is exactly what you should do and no writing your own query is the only workaround (Unless you want to re-write the parts  from HIbernate that do `entityManager.find`).","body":"That is exactly what you should do and no writing your own query is the only workaround (Unless you want to re-write the parts  from HIbernate that do <code>entityManager.find</code>)."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697707131,"post_id":77317035,"comment_id":136314599,"body_markdown":"Looking at your question are you sure you want to store 1 entity for multiple entities? Feels like you are leaking data from one tenant to another. Shouldn&#39;t each entity just have one tenant to begin with (which is also the assumption and basis of the hibernate tenant support).","body":"Looking at your question are you sure you want to store 1 entity for multiple entities? Feels like you are leaking data from one tenant to another. Shouldn&#39;t each entity just have one tenant to begin with (which is also the assumption and basis of the hibernate tenant support)."},{"owner":{"account_id":25869455,"reputation":1,"user_id":19600558,"display_name":"Ixico"},"score":0,"creation_date":1697709525,"post_id":77317035,"comment_id":136315101,"body_markdown":"Definitely I don&#39;t want to dig into EntityManager method, as there is high probability of implementing it incorrectly. The reason I want share data between tenants is because I have some hierarchical tenant structure and tenants above should access their &quot;children tenants&quot; data. If I have an opportunity to talk with someone experienced in this topic, could you please also explain what CurrentTenantIdentifierResolver#validateExistingCurrentSessions method does? I find official doc explanation hard to understand. In such described architecture, what should be the return value?","body":"Definitely I don&#39;t want to dig into EntityManager method, as there is high probability of implementing it incorrectly. The reason I want share data between tenants is because I have some hierarchical tenant structure and tenants above should access their &quot;children tenants&quot; data. If I have an opportunity to talk with someone experienced in this topic, could you please also explain what CurrentTenantIdentifierResolver#validateExistingCurrentSessi&zwnj;&#8203;ons method does? I find official doc explanation hard to understand. In such described architecture, what should be the return value?"},{"owner":{"account_id":25869455,"reputation":1,"user_id":19600558,"display_name":"Ixico"},"score":0,"creation_date":1697709742,"post_id":77317035,"comment_id":136315129,"body_markdown":"Make sure to post answer to question if you want so I can mark it as the accepted one :)","body":"Make sure to post answer to question if you want so I can mark it as the accepted one :)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697709893,"post_id":77317035,"comment_id":136315161,"body_markdown":"I have no idea what that does, you need to talk to someone who knows the internals of HIbernate for that (although I have seen too much of that as well). If you want to have a parent to see its childs records, then why does it need to be atteched? You can have a leveling in there, which would still allow 1 record for 1 tenant but still you can use the parent to obtain the childs data. You could introduce a hierarchy for that, which you probably need to store somewhere. You could, based on the hierarchy, write your own tenant strategy to implement this.","body":"I have no idea what that does, you need to talk to someone who knows the internals of HIbernate for that (although I have seen too much of that as well). If you want to have a parent to see its childs records, then why does it need to be atteched? You can have a leveling in there, which would still allow 1 record for 1 tenant but still you can use the parent to obtain the childs data. You could introduce a hierarchy for that, which you probably need to store somewhere. You could, based on the hierarchy, write your own tenant strategy to implement this."},{"owner":{"account_id":25869455,"reputation":1,"user_id":19600558,"display_name":"Ixico"},"score":0,"creation_date":1697712290,"post_id":77317035,"comment_id":136315562,"body_markdown":"It doesn&#39;t need to be attached, it was just one idea of solving this problem. Unfortunatelly, I have no idea what do you mean by &quot;writing own tenant strategy&quot;. I had to reject Hibernate filters approach because i&#39;m not satisfied with this direct fetch problem. Using Hibernate mechanism with CurrentTenantIdentifierResolver, at the end of the day I have to provide exactly one tenantId in resolveCurrentTenantIdentifier method. If I do it as described, everyone can read their data, but parent can&#39;t see children one. No idea how to achieve leveling if I dont know what entity will be requested.","body":"It doesn&#39;t need to be attached, it was just one idea of solving this problem. Unfortunatelly, I have no idea what do you mean by &quot;writing own tenant strategy&quot;. I had to reject Hibernate filters approach because i&#39;m not satisfied with this direct fetch problem. Using Hibernate mechanism with CurrentTenantIdentifierResolver, at the end of the day I have to provide exactly one tenantId in resolveCurrentTenantIdentifier method. If I do it as described, everyone can read their data, but parent can&#39;t see children one. No idea how to achieve leveling if I dont know what entity will be requested."},{"owner":{"account_id":25869455,"reputation":1,"user_id":19600558,"display_name":"Ixico"},"score":0,"creation_date":1697717475,"post_id":77317035,"comment_id":136316539,"body_markdown":"Okay, I think I know everything I needed. Thank you for all your help. I&#39;ve noticed that also using this basic mechanism with @TenantId does not work when you call repo.findById(id) what is quite unexpected for me. I&#39;ve decided to implement my feature using JPA entity lifecycle callbacks and I hope I will not be surprised by Hibernate once again. That will be probably the most flexible way to achieve my goal.","body":"Okay, I think I know everything I needed. Thank you for all your help. I&#39;ve noticed that also using this basic mechanism with @TenantId does not work when you call repo.findById(id) what is quite unexpected for me. I&#39;ve decided to implement my feature using JPA entity lifecycle callbacks and I hope I will not be surprised by Hibernate once again. That will be probably the most flexible way to achieve my goal."}],"owner":{"account_id":25869455,"reputation":1,"user_id":19600558,"display_name":"Ixico"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697637681,"creation_date":1697637681,"question_id":77317035,"body_markdown":"Suppose we have Spring boot app with multitenant architecture (Shared Database and Shared Schema).\r\n\r\nI want users to have access only to data they own. Spring offers solution using CurrentTenantIdentifierResolver and @TenantId annotation. Such solution works well as long as every entity contains some column tenant_id annotated with @TenantId.\r\n\r\nThe problem is that in my app there is a possibility that one entity should be accessible by multiple users (and it means, multiple tenants also).\r\n\r\n**Is there any approach to define multiple tenants for one entity?**\r\nIf multitenant architecture is not designed for such problem, are there any alternatives/design patterns etc.?\r\n\r\nI&#39;ve tried to just annotate List of tenants with @TenantId, but Spring decides to ignore this annotation and behave as if it wasn&#39;t even defined.\r\n\r\n\r\n```\r\npublic class TestEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID id;\r\n\r\n    @OneToMany\r\n    private List&lt;Tenant&gt; tenants;\r\n\r\n    @TenantId\r\n    public List&lt;UUID&gt; getAllTenants() {\r\n        return tenants.stream().map(Tenant::getId).collect(Collectors.toList());\r\n\r\n    }\r\n}\r\n```\r\n\r\nResolver method implementation (there is also interceptor saving tenant-id value in TenantContext):\r\n\r\n```\r\n    @Override\r\n    public String resolveCurrentTenantIdentifier() {\r\n        return Optional.ofNullable(TenantContext.getCurrent()).orElse(new UUID(0,0).toString());\r\n    }\r\n\r\n```\r\n\r\n\r\nIn such scenario Spring does not perform this &quot;multitenancy data isolation&quot; - everything is accessible for every user. I expected that only tenants returned by method getAllTenants() will be permitted to access data. When I annotate single field (for example UUID tenantId) everything works well.\r\n","title":"Spring Data JPA multitenancy - defining multiple tenants for one resource","body":"<p>Suppose we have Spring boot app with multitenant architecture (Shared Database and Shared Schema).</p>\n<p>I want users to have access only to data they own. Spring offers solution using CurrentTenantIdentifierResolver and @TenantId annotation. Such solution works well as long as every entity contains some column tenant_id annotated with @TenantId.</p>\n<p>The problem is that in my app there is a possibility that one entity should be accessible by multiple users (and it means, multiple tenants also).</p>\n<p><strong>Is there any approach to define multiple tenants for one entity?</strong>\nIf multitenant architecture is not designed for such problem, are there any alternatives/design patterns etc.?</p>\n<p>I've tried to just annotate List of tenants with @TenantId, but Spring decides to ignore this annotation and behave as if it wasn't even defined.</p>\n<pre><code>public class TestEntity {\n\n    @Id\n    @GeneratedValue\n    private UUID id;\n\n    @OneToMany\n    private List&lt;Tenant&gt; tenants;\n\n    @TenantId\n    public List&lt;UUID&gt; getAllTenants() {\n        return tenants.stream().map(Tenant::getId).collect(Collectors.toList());\n\n    }\n}\n</code></pre>\n<p>Resolver method implementation (there is also interceptor saving tenant-id value in TenantContext):</p>\n<pre><code>    @Override\n    public String resolveCurrentTenantIdentifier() {\n        return Optional.ofNullable(TenantContext.getCurrent()).orElse(new UUID(0,0).toString());\n    }\n\n</code></pre>\n<p>In such scenario Spring does not perform this &quot;multitenancy data isolation&quot; - everything is accessible for every user. I expected that only tenants returned by method getAllTenants() will be permitted to access data. When I annotate single field (for example UUID tenantId) everything works well.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1402606831,"post_id":24193788,"comment_id":37350075,"body_markdown":"What *exactly* do you mean by &quot;unsigned 64-bit decimal value&quot;?","body":"What <i>exactly</i> do you mean by &quot;unsigned 64-bit decimal value&quot;?"},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1402606912,"post_id":24193788,"comment_id":37350103,"body_markdown":"Will you need to be able to mathematically manipulate the value as a `double`, or you are simply using the `double` as a means to store the raw bits?","body":"Will you need to be able to mathematically manipulate the value as a <code>double</code>, or you are simply using the <code>double</code> as a means to store the raw bits?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1402607063,"post_id":24193788,"comment_id":37350164,"body_markdown":"Right -- &quot;unsigned 64-bit decimal&quot; does not compute.","body":"Right -- &quot;unsigned 64-bit decimal&quot; does not compute."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1402607137,"post_id":24193788,"comment_id":37350202,"body_markdown":"Do you mean 64-bit *integer* (`long`), or BigDecimal?  They&#39;re two entirely different things.","body":"Do you mean 64-bit <i>integer</i> (<code>long</code>), or BigDecimal?  They&#39;re two entirely different things."},{"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"score":0,"creation_date":1402607156,"post_id":24193788,"comment_id":37350212,"body_markdown":"It is described as a 64-bit floating point. I am receiving other types of values, too, and they are supposedly unsigned. Is it unusual to be working with unsigned decimals?","body":"It is described as a 64-bit floating point. I am receiving other types of values, too, and they are supposedly unsigned. Is it unusual to be working with unsigned decimals?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1402607207,"post_id":24193788,"comment_id":37350244,"body_markdown":"You&#39;re making less and less sense.","body":"You&#39;re making less and less sense."},{"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"score":0,"creation_date":1402607335,"post_id":24193788,"comment_id":37350306,"body_markdown":"In the end I need to have a double, because it was what an API call requires.","body":"In the end I need to have a double, because it was what an API call requires."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1402607344,"post_id":24193788,"comment_id":37350309,"body_markdown":"&quot;64-bit floating point&quot;, in most universes, would be `double`.  Unsigned 64-bit fixed-point integer would be `unsigned long long` in C (at least on some platforms), but Java doesn&#39;t support unsigned so you&#39;d have to play some minor games.","body":"&quot;64-bit floating point&quot;, in most universes, would be <code>double</code>.  Unsigned 64-bit fixed-point integer would be <code>unsigned long long</code> in C (at least on some platforms), but Java doesn&#39;t support unsigned so you&#39;d have to play some minor games."},{"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"score":0,"creation_date":1402607409,"post_id":24193788,"comment_id":37350348,"body_markdown":"Yes, I can manipulate it.","body":"Yes, I can manipulate it."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1402607481,"post_id":24193788,"comment_id":37350378,"body_markdown":"You really need to find out what sort of data you have.  Probably you should review a textbook section on data representations.","body":"You really need to find out what sort of data you have.  Probably you should review a textbook section on data representations."},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1402607484,"post_id":24193788,"comment_id":37350380,"body_markdown":"Let&#39;s start again.  Where is the data coming from?  Where does it need to go?  What does the destination need to do with the data?","body":"Let&#39;s start again.  Where is the data coming from?  Where does it need to go?  What does the destination need to do with the data?"},{"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"score":0,"creation_date":1402607616,"post_id":24193788,"comment_id":37350438,"body_markdown":"@Hot Licks, then it&#39;s quite possible the value IS actually coming across signed, and only the other, non-decimal data types (integer, long, etc.) are going to be unsigned. If what I described in my question sounds highly unusual, perhaps I was actually told the wrong thing and ran with it.","body":"@Hot Licks, then it&#39;s quite possible the value IS actually coming across signed, and only the other, non-decimal data types (integer, long, etc.) are going to be unsigned. If what I described in my question sounds highly unusual, perhaps I was actually told the wrong thing and ran with it."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1402607748,"post_id":24193788,"comment_id":37350508,"body_markdown":"Just about anything is possible.  But so far you&#39;ve told us *nothing* about the format of the data, so there&#39;s little we can do to help you.","body":"Just about anything is possible.  But so far you&#39;ve told us <i>nothing</i> about the format of the data, so there&#39;s little we can do to help you."},{"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"score":0,"creation_date":1402607771,"post_id":24193788,"comment_id":37350519,"body_markdown":"The data will be coming across a socket, the values (and they vary in datatype) will all eventually be converted to doubles and used in an API call.","body":"The data will be coming across a socket, the values (and they vary in datatype) will all eventually be converted to doubles and used in an API call."},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1402608059,"post_id":24193788,"comment_id":37350651,"body_markdown":"What datatypes, specifically?  Without knowing that, there is no meaningful answer to this question.","body":"What datatypes, specifically?  Without knowing that, there is no meaningful answer to this question."},{"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"score":0,"creation_date":1402608383,"post_id":24193788,"comment_id":37350790,"body_markdown":"I was told that all the values are unsigned. I know for instance, that at byte 40, I can find a 32-bit unsigned int. 4 bytes later, at byte 44, I can find a 64-bit floating point (which I believe is unsigned). etc. etc. I have the outline of where to find what kind of value. Do I need to provide the whole thing? It&#39;s long and trivial.  Unfortunately, I have no way of seeing sample values at the moment, but like I said, I know at what position I can expect to find which value type.","body":"I was told that all the values are unsigned. I know for instance, that at byte 40, I can find a 32-bit unsigned int. 4 bytes later, at byte 44, I can find a 64-bit floating point (which I believe is unsigned). etc. etc. I have the outline of where to find what kind of value. Do I need to provide the whole thing? It&#39;s long and trivial.  Unfortunately, I have no way of seeing sample values at the moment, but like I said, I know at what position I can expect to find which value type."},{"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"score":0,"creation_date":1402608519,"post_id":24193788,"comment_id":37350862,"body_markdown":"Specifically: unsigned 16 bit int, unsigned 8-bit int, unsigned 64-bit int, unsigned 32-bit floating point, unsigned 64-bit floating point","body":"Specifically: unsigned 16 bit int, unsigned 8-bit int, unsigned 64-bit int, unsigned 32-bit floating point, unsigned 64-bit floating point"},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1402608542,"post_id":24193788,"comment_id":37350877,"body_markdown":"The only answer we can give is &quot;for each data format, define an appropriate conversion routine&quot;.","body":"The only answer we can give is &quot;for each data format, define an appropriate conversion routine&quot;."},{"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"score":0,"creation_date":1402608554,"post_id":24193788,"comment_id":37350889,"body_markdown":"&quot;int&quot; here is used losely","body":"&quot;int&quot; here is used losely"},{"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"score":0,"creation_date":1402608692,"post_id":24193788,"comment_id":37350959,"body_markdown":"@OliCharlesworth, OK I was hoping maybe there was a standard unsigned 64-bit floating point representation (not in Java of course). I have already developed ways to convert the integer values per my understanding.","body":"@OliCharlesworth, OK I was hoping maybe there was a standard unsigned 64-bit floating point representation (not in Java of course). I have already developed ways to convert the integer values per my understanding."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1402613092,"post_id":24193788,"comment_id":37352642,"body_markdown":"There isn&#39;t any such thing as an unsigned floating point format. All the IEEE floating point formats have a sign bit. Java has ways to convert a 64-bit value to a double, and to turn a long into its unsigned 64-bit String representation, and to turn a String into a double, or to turn a String into a BigDecimal. But it isn&#39;t clear which of these things you want.","body":"There isn&#39;t any such thing as an unsigned floating point format. All the IEEE floating point formats have a sign bit. Java has ways to convert a 64-bit value to a double, and to turn a long into its unsigned 64-bit String representation, and to turn a String into a double, or to turn a String into a BigDecimal. But it isn&#39;t clear which of these things you want."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1402627156,"post_id":24193788,"comment_id":37356095,"body_markdown":"@DavidConrad - Of course, technically one *could* define an unsigned floating point format if one wished.  It would be an odd bird, though, and it would be incumbent on the provider to supply a detailed specification.","body":"@DavidConrad - Of course, technically one <i>could</i> define an unsigned floating point format if one wished.  It would be an odd bird, though, and it would be incumbent on the provider to supply a detailed specification."}],"answers":[{"tags":[],"owner":{"account_id":8978,"reputation":121568,"user_id":16406,"accept_rate":77,"display_name":"Chris Dodd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402607668,"creation_date":1402607249,"answer_id":24193911,"question_id":24193788,"body_markdown":"If you really mean &quot;unsigned 64-bit binary value in a long&quot;, you could just convert that long to a double (with a cast), and then, if the long was negative, add 2&lt;sup&gt;64&lt;/sup&gt; as a double (18446744073709551616.0)\r\n\r\nIf, on the other hand, you really mean &quot;decimal integer that might overflow 63 bits when converted to binary&quot;, you can just convert the string directly to double with `DOUBLE.parseDouble`","title":"Convert unsigned 64-bit decimal to Java double","body":"<p>If you really mean \"unsigned 64-bit binary value in a long\", you could just convert that long to a double (with a cast), and then, if the long was negative, add 2<sup>64</sup> as a double (18446744073709551616.0)</p>\n\n<p>If, on the other hand, you really mean \"decimal integer that might overflow 63 bits when converted to binary\", you can just convert the string directly to double with <code>DOUBLE.parseDouble</code></p>\n"},{"tags":[],"owner":{"account_id":35933,"reputation":651,"user_id":102140,"accept_rate":80,"display_name":"Yahor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598077429,"creation_date":1598077429,"answer_id":63533210,"question_id":24193788,"body_markdown":"If you mean &quot;unsigned 64-bit binary value in a long&quot;, then Guava can help:\r\n```\r\nimport com.google.common.primitives.UnsignedLong;\r\n...\r\nlong value = -1L; // max unsigned long = 2^64-1\r\ndouble dValue = UnsignedLong.fromLongBits(value).doubleValue(); // 1.8446744073709552E19\r\n```\r\n\r\nInternally, this works as follows ([see the source of `UnsignedLong`](https://github.com/google/guava/blob/0a2258e/guava/src/com/google/common/primitives/UnsignedLong.java)):\r\n```\r\ndouble dValue = (double) (value &amp; 0x7fffffffffffffffL);\r\nif (value &lt; 0) {\r\n    dValue += 0x1.0p63;\r\n}\r\n```","title":"Convert unsigned 64-bit decimal to Java double","body":"<p>If you mean &quot;unsigned 64-bit binary value in a long&quot;, then Guava can help:</p>\n<pre><code>import com.google.common.primitives.UnsignedLong;\n...\nlong value = -1L; // max unsigned long = 2^64-1\ndouble dValue = UnsignedLong.fromLongBits(value).doubleValue(); // 1.8446744073709552E19\n</code></pre>\n<p>Internally, this works as follows (<a href=\"https://github.com/google/guava/blob/0a2258e/guava/src/com/google/common/primitives/UnsignedLong.java\" rel=\"nofollow noreferrer\">see the source of <code>UnsignedLong</code></a>):</p>\n<pre><code>double dValue = (double) (value &amp; 0x7fffffffffffffffL);\nif (value &lt; 0) {\n    dValue += 0x1.0p63;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64443,"reputation":2523,"user_id":190223,"accept_rate":83,"display_name":"juancn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697637646,"creation_date":1697637646,"answer_id":77317030,"question_id":24193788,"body_markdown":"If it&#39;s a long that&#39;s supposed to be interpreted as unsigned you can do the following:\r\n\r\n    long v = Long.MAX_VALUE+1;\r\n    double d = ((double)(v&gt;&gt;&gt;1))*2+(v&amp;1);\r\n\r\nYou right-shift the long (ignore the sign) which is equivalent to dividing by two the unsigned number, turn that to double and then multiply by two to correct back (now as a double), then add back the bit you dropped.","title":"Convert unsigned 64-bit decimal to Java double","body":"<p>If it's a long that's supposed to be interpreted as unsigned you can do the following:</p>\n<pre><code>long v = Long.MAX_VALUE+1;\ndouble d = ((double)(v&gt;&gt;&gt;1))*2+(v&amp;1);\n</code></pre>\n<p>You right-shift the long (ignore the sign) which is equivalent to dividing by two the unsigned number, turn that to double and then multiply by two to correct back (now as a double), then add back the bit you dropped.</p>\n"}],"owner":{"account_id":3526009,"reputation":97,"user_id":2947084,"accept_rate":75,"display_name":"user2947084"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697637646,"creation_date":1402606748,"question_id":24193788,"body_markdown":"I&#39;m being sent an unsigned 64-bit decimal value and am required to store it as a `double`, which of course is signed.\r\n\r\nRealizing I will lose a little bit of precision with values that make use of the most significant bit, what is the best way to accomplish this?\r\n\r\nPerhaps there is a way to manipulate the unsigned value using `Double.doubleToLongBits()` or the `BigDecimal` class?\r\n\r\nThanks in advance!","title":"Convert unsigned 64-bit decimal to Java double","body":"<p>I'm being sent an unsigned 64-bit decimal value and am required to store it as a <code>double</code>, which of course is signed.</p>\n\n<p>Realizing I will lose a little bit of precision with values that make use of the most significant bit, what is the best way to accomplish this?</p>\n\n<p>Perhaps there is a way to manipulate the unsigned value using <code>Double.doubleToLongBits()</code> or the <code>BigDecimal</code> class?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","reactjs","spring-boot","axios","next.js13"],"owner":{"account_id":10135,"reputation":14538,"user_id":18995,"accept_rate":81,"display_name":"Paul Croarkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697637131,"creation_date":1697637131,"question_id":77316949,"body_markdown":"We have an architecture where an SSO app posts to a NextJS frontend which then posts data to a Spring Boot backend. To test out NextJS rewrites, we have a Page pages/MyPage.tsx:\r\n\r\n        useEffect(() =&gt; {\r\n        try {\r\n            const response =  axios.post(&#39;/ext-api/login&#39;, {\r\n                userName: &#39;username&#39;,\r\n                employeeId: &#39;0123&#39;\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    })\r\n\r\nThe above code works. However, we want to expose an API, pages/api/OurApi.tsx:\r\n\r\n           ...\r\n           const response = await axios.post(&#39;/ext-api/login&#39;, {\r\n                userName: &#39;username&#39;,\r\n                employeeId: &#39;0123&#39;\r\n           });\r\n           ...\r\n    \r\nnext.config.js:\r\n\r\n        module.exports = {\r\n\t       async rewrites() {\r\n\t\t       return [\r\n\t\t\t       {\r\n\t\t\t           source: &#39;/ext-api/:path*&#39;,\r\n\t\t\t\t       destination: &#39;http://localhost:8081/backend-api/:path*&#39;,\r\n\t\t\t       },\r\n\t\t       ]\r\n\t        }\r\n        };\r\n\r\nThe Page version works, but the Api version returns a 404 error. \r\n\r\n        AxiosError: Request failed with status code 404\r\n\r\nWhy would the rewrite work for the page but not the api?","title":"NextJS Rewrite Works Differently for an API than a Page","body":"<p>We have an architecture where an SSO app posts to a NextJS frontend which then posts data to a Spring Boot backend. To test out NextJS rewrites, we have a Page pages/MyPage.tsx:</p>\n<pre><code>    useEffect(() =&gt; {\n    try {\n        const response =  axios.post('/ext-api/login', {\n            userName: 'username',\n            employeeId: '0123'\n        });\n    } catch (error) {\n        console.log(error);\n    }\n})\n</code></pre>\n<p>The above code works. However, we want to expose an API, pages/api/OurApi.tsx:</p>\n<pre><code>       ...\n       const response = await axios.post('/ext-api/login', {\n            userName: 'username',\n            employeeId: '0123'\n       });\n       ...\n</code></pre>\n<p>next.config.js:</p>\n<pre><code>    module.exports = {\n       async rewrites() {\n           return [\n               {\n                   source: '/ext-api/:path*',\n                   destination: 'http://localhost:8081/backend-api/:path*',\n               },\n           ]\n        }\n    };\n</code></pre>\n<p>The Page version works, but the Api version returns a 404 error.</p>\n<pre><code>    AxiosError: Request failed with status code 404\n</code></pre>\n<p>Why would the rewrite work for the page but not the api?</p>\n"},{"tags":["java","spring-boot","docker","kubernetes"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1697614291,"post_id":77314277,"comment_id":136300395,"body_markdown":"you obviously need to install `top` into the docker image","body":"you obviously need to install <code>top</code> into the docker image"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1697623752,"post_id":77314277,"comment_id":136302228,"body_markdown":"How and why will your application run `top`?  What would you expect it to show besides the single `java` process?","body":"How and why will your application run <code>top</code>?  What would you expect it to show besides the single <code>java</code> process?"},{"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"score":0,"creation_date":1697626938,"post_id":77314277,"comment_id":136302816,"body_markdown":"login into the Kubernetes pod using exec -it command and run the top command","body":"login into the Kubernetes pod using exec -it command and run the top command"}],"answers":[{"tags":[],"owner":{"account_id":16150093,"reputation":46,"user_id":11658754,"display_name":"Munendra Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697636752,"creation_date":1697615432,"answer_id":77314396,"question_id":77314277,"body_markdown":"You can install top through below command. But you must have root access on pod to run this command.\r\n\r\n```console\r\nmicrodnf install procps\r\n```","title":"Can&#39;t find Top command in kubernetes pod","body":"<p>You can install top through below command. But you must have root access on pod to run this command.</p>\n<pre><code>microdnf install procps\n</code></pre>\n"}],"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77314396,"answer_count":1,"score":-2,"last_activity_date":1697636752,"creation_date":1697614175,"question_id":77314277,"body_markdown":"I have a spring-boot application deployed on Kubernetes, I want see the top process on my pod as top is not available currently. Docker image we have used:\r\n\r\n        FROM adoptopenjdk/openjdk11:latest\r\n        RUN mkdir /opt/app\r\n        COPY myapp.jar /opt/app\r\n        CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/opt/app/myapp.jar&quot;]\r\n\r\nEnable top related commands in Kubernetes pod.","title":"Can&#39;t find Top command in kubernetes pod","body":"<p>I have a spring-boot application deployed on Kubernetes, I want see the top process on my pod as top is not available currently. Docker image we have used:</p>\n<pre><code>    FROM adoptopenjdk/openjdk11:latest\n    RUN mkdir /opt/app\n    COPY myapp.jar /opt/app\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/opt/app/myapp.jar&quot;]\n</code></pre>\n<p>Enable top related commands in Kubernetes pod.</p>\n"},{"tags":["java","angular","spring"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697638141,"post_id":77316899,"comment_id":136305275,"body_markdown":"Because an AS400 admin disabled it?","body":"Because an AS400 admin disabled it?"},{"owner":{"account_id":29700623,"reputation":1,"user_id":22762876,"display_name":"ackbNow"},"score":0,"creation_date":1697641446,"post_id":77316899,"comment_id":136306079,"body_markdown":"How come we can tell that the AS400 admin disabled it","body":"How come we can tell that the AS400 admin disabled it"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1697653623,"post_id":77316899,"comment_id":136308325,"body_markdown":"The error indicates that the user is disabled on the AS400; talk to the server administrator.  If that person is you, enable the account on the AS400.","body":"The error indicates that the user is disabled on the AS400; talk to the server administrator.  If that person is you, enable the account on the AS400."}],"owner":{"account_id":29700623,"reputation":1,"user_id":22762876,"display_name":"ackbNow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697636744,"creation_date":1697636744,"question_id":77316899,"body_markdown":"I have been working with an Angular project and their is user which is getting disabled while logging in.\r\n\r\nThe error log i have got is : \r\n\r\n\r\n```\r\n[10/12/23 13:27:57:765 GMT-07:00] 00000183 BasicResource W com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask run com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@e0972d2d -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \r\n                                 java.sql.SQLException: The application server rejected the connection. (User ID is disabled.:CUSTSERV)\r\n\tat com.ibm.as400.access.JDError.createSQLExceptionSubClass(JDError.java:820)\r\n\tat com.ibm.as400.access.JDError.throwSQLException(JDError.java:549)\r\n\tat com.ibm.as400.access.AS400JDBCConnection.setProperties(AS400JDBCConnection.java:3342)\r\n\tat com.ibm.as400.access.AS400JDBCDriver.prepareConnection(AS400JDBCDriver.java:1419)\r\n\tat com.ibm.as400.access.AS400JDBCDriver.initializeConnection(AS400JDBCDriver.java:1256)\r\n\tat com.ibm.as400.access.AS400JDBCDriver.connect(AS400JDBCDriver.java:395)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:134)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\r\n\tat com.mchange.v2.async.ThreadPerTaskAsynchronousRunner$TaskThread.run(ThreadPerTaskAsynchronousRunner.java:255)\r\nCaused by: com.ibm.as400.access.AS400SecurityException: User ID is disabled.:CUSTSERV\r\n\tat com.ibm.as400.access.AS400ImplRemote.returnSecurityException(AS400ImplRemote.java:2096)\r\n\tat com.ibm.as400.access.AS400ImplRemote.signon(AS400ImplRemote.java:2407)\r\n\tat com.ibm.as400.access.AS400.sendSignonRequest(AS400.java:3181)\r\n\tat com.ibm.as400.access.AS400.promptSignon(AS400.java:2745)\r\n\tat com.ibm.as400.access.AS400.signon(AS400.java:4076)\r\n\tat com.ibm.as400.access.AS400.connectService(AS400.java:1203)\r\n\tat com.ibm.as400.access.AS400JDBCConnection.setProperties(AS400JDBCConnection.java:3338)\r\n```\r\n\r\n\r\nI want why does the User is getting disabled ","title":"User getting disabled","body":"<p>I have been working with an Angular project and their is user which is getting disabled while logging in.</p>\n<p>The error log i have got is :</p>\n<pre><code>[10/12/23 13:27:57:765 GMT-07:00] 00000183 BasicResource W com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask run com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@e0972d2d -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \n                                 java.sql.SQLException: The application server rejected the connection. (User ID is disabled.:CUSTSERV)\n    at com.ibm.as400.access.JDError.createSQLExceptionSubClass(JDError.java:820)\n    at com.ibm.as400.access.JDError.throwSQLException(JDError.java:549)\n    at com.ibm.as400.access.AS400JDBCConnection.setProperties(AS400JDBCConnection.java:3342)\n    at com.ibm.as400.access.AS400JDBCDriver.prepareConnection(AS400JDBCDriver.java:1419)\n    at com.ibm.as400.access.AS400JDBCDriver.initializeConnection(AS400JDBCDriver.java:1256)\n    at com.ibm.as400.access.AS400JDBCDriver.connect(AS400JDBCDriver.java:395)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:134)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\n    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\n    at com.mchange.v2.async.ThreadPerTaskAsynchronousRunner$TaskThread.run(ThreadPerTaskAsynchronousRunner.java:255)\nCaused by: com.ibm.as400.access.AS400SecurityException: User ID is disabled.:CUSTSERV\n    at com.ibm.as400.access.AS400ImplRemote.returnSecurityException(AS400ImplRemote.java:2096)\n    at com.ibm.as400.access.AS400ImplRemote.signon(AS400ImplRemote.java:2407)\n    at com.ibm.as400.access.AS400.sendSignonRequest(AS400.java:3181)\n    at com.ibm.as400.access.AS400.promptSignon(AS400.java:2745)\n    at com.ibm.as400.access.AS400.signon(AS400.java:4076)\n    at com.ibm.as400.access.AS400.connectService(AS400.java:1203)\n    at com.ibm.as400.access.AS400JDBCConnection.setProperties(AS400JDBCConnection.java:3338)\n</code></pre>\n<p>I want why does the User is getting disabled</p>\n"},{"tags":["java","spring","spring-boot","tomcat","cookies"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697636769,"post_id":77316820,"comment_id":136304953,"body_markdown":"How do you invoke `/logout`?  It has a `@DeleteMapping`.","body":"How do you invoke <code>&#47;logout</code>?  It has a <code>@DeleteMapping</code>."},{"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"score":0,"creation_date":1697637668,"post_id":77316820,"comment_id":136305160,"body_markdown":"I believe that is invoked as part of a callback from Azure, but that invoking that is not an issue - it&#39;s invoked all right in the old version of application with SB 2.7","body":"I believe that is invoked as part of a callback from Azure, but that invoking that is not an issue - it&#39;s invoked all right in the old version of application with SB 2.7"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697639672,"post_id":77316820,"comment_id":136305646,"body_markdown":"I think that your question mixes two different problems: the invalid cookie is created during login (or earlier, at the first user access), the 404 is related to logout.","body":"I think that your question mixes two different problems: the invalid cookie is created during login (or earlier, at the first user access), the 404 is related to logout."}],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697636526,"creation_date":1697636089,"question_id":77316820,"body_markdown":"We have an existing authenticaton microservice that uses MS Azure as authentication provider with SSO. \r\nIt currently uses SpringBoot 2.7, and we need to update that to SB 3.x\r\n\r\nThe trouble is that when user authenticates, that creates a browser-side JSESSIONID cookie that starts with a &#39;.&#39; (dot), as in `.domain.name`\r\n\r\nThat creates the need for using `LegacyCookieProcessor` as per https://stackoverflow.com/questions/29608550/tomcat-cookie-domain-validation.\r\n\r\nThe `LegacyCookieProcessor` has been removed in Tomcat version 10.1,so upgrading to SB 3 breaks the application - it starts complaining of invalid cookie domain. \r\n\r\n**What I tried:** \r\n\r\nI had an idea to upgrade SB to v.3 but pin the tomcat version down to 10.0, as below:\r\n\r\npol.xml:\r\n\r\n    ...\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    ...\r\n        &lt;tomcat.version&gt;10.0.27&lt;/tomcat.version&gt;\r\n    ...\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    ...\r\n\r\nThe `jakarta.servlet-api` dependency was required since otherwise the `jakarta.servlet.ServletConnection` class wasn&#39;t found in my tests. \r\n\r\nController method:\r\n\r\n      @Operation(\r\n          summary = &quot;Deletes a session for the user&quot;,\r\n          responses = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success - session is deleted&quot;),\r\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not Found - session is not found&quot;)\r\n          })\r\n      @DeleteMapping(&quot;/logout&quot;)\r\n      @ResponseBody\r\n      @ResponseStatus(OK)\r\n      public AuthDetailsResponse&lt;String&gt; logout(\r\n          HttpServletRequest request, HttpServletResponse response) throws ResourceNotFoundException {\r\n        authService.logOut(request);\r\n        handleLogOutResponse(request, response);\r\n        return new AuthDetailsResponse&lt;&gt;(OK, propertiesConfig.getAadLogoutUrl());\r\n      }\r\n\r\n**What else I&#39;ve tried:**\r\n\r\nI have also tried to use the spring-boot-starter-tomcat\r\n\r\n    ...\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.16&lt;/version&gt; &lt;!-- this pins tomcat version to 9.x --&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIn both cases, that starts my server nicely but the controller is never invoked. The client gets a 404 error on trying to invoke the `/logout` endpoint\r\n\r\nSo, the questions are:\r\n\r\n1. What am I doing wrong in the above confoguration?\r\n2. Is there an alternative way of handling the legacy domains with a dot in SB 3?","title":"Use SpringBoot 3 with older version of Tomcat (10.0) for legacy cookie configuration starting with a dot","body":"<p>We have an existing authenticaton microservice that uses MS Azure as authentication provider with SSO.\nIt currently uses SpringBoot 2.7, and we need to update that to SB 3.x</p>\n<p>The trouble is that when user authenticates, that creates a browser-side JSESSIONID cookie that starts with a '.' (dot), as in <code>.domain.name</code></p>\n<p>That creates the need for using <code>LegacyCookieProcessor</code> as per <a href=\"https://stackoverflow.com/questions/29608550/tomcat-cookie-domain-validation\">tomcat cookie domain validation</a>.</p>\n<p>The <code>LegacyCookieProcessor</code> has been removed in Tomcat version 10.1,so upgrading to SB 3 breaks the application - it starts complaining of invalid cookie domain.</p>\n<p><strong>What I tried:</strong></p>\n<p>I had an idea to upgrade SB to v.3 but pin the tomcat version down to 10.0, as below:</p>\n<p>pol.xml:</p>\n<pre><code>...\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n    &lt;/parent&gt;\n...\n    &lt;tomcat.version&gt;10.0.27&lt;/tomcat.version&gt;\n...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n...\n</code></pre>\n<p>The <code>jakarta.servlet-api</code> dependency was required since otherwise the <code>jakarta.servlet.ServletConnection</code> class wasn't found in my tests.</p>\n<p>Controller method:</p>\n<pre><code>  @Operation(\n      summary = &quot;Deletes a session for the user&quot;,\n      responses = {\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success - session is deleted&quot;),\n        @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not Found - session is not found&quot;)\n      })\n  @DeleteMapping(&quot;/logout&quot;)\n  @ResponseBody\n  @ResponseStatus(OK)\n  public AuthDetailsResponse&lt;String&gt; logout(\n      HttpServletRequest request, HttpServletResponse response) throws ResourceNotFoundException {\n    authService.logOut(request);\n    handleLogOutResponse(request, response);\n    return new AuthDetailsResponse&lt;&gt;(OK, propertiesConfig.getAadLogoutUrl());\n  }\n</code></pre>\n<p><strong>What else I've tried:</strong></p>\n<p>I have also tried to use the spring-boot-starter-tomcat</p>\n<pre><code>...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n...\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;version&gt;2.7.16&lt;/version&gt; &lt;!-- this pins tomcat version to 9.x --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In both cases, that starts my server nicely but the controller is never invoked. The client gets a 404 error on trying to invoke the <code>/logout</code> endpoint</p>\n<p>So, the questions are:</p>\n<ol>\n<li>What am I doing wrong in the above confoguration?</li>\n<li>Is there an alternative way of handling the legacy domains with a dot in SB 3?</li>\n</ol>\n"},{"tags":["java","spring","rest","spring-data","spring-data-rest"],"comments":[{"owner":{"account_id":1735496,"reputation":1778,"user_id":1588163,"accept_rate":74,"display_name":"clapas"},"score":0,"creation_date":1530086757,"post_id":34099559,"comment_id":89105496,"body_markdown":"What about the solution proposed in https://stackoverflow.com/a/26796142/1588163?","body":"What about the solution proposed in <a href=\"https://stackoverflow.com/a/26796142/1588163\">stackoverflow.com/a/26796142/1588163</a>?"}],"answers":[{"tags":[],"owner":{"account_id":4695628,"reputation":127,"user_id":3800576,"accept_rate":69,"display_name":"pathfinder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1449311191,"creation_date":1449311191,"answer_id":34103753,"question_id":34099559,"body_markdown":"You can probably use exchange method of restTemplate and get the body from it..\r\n\r\nCheck the following answer [https://stackoverflow.com/a/31947188/3800576][1].\r\nThis might help you\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31947188/3800576","title":"How to consume Page&lt;Entity&gt; response using Spring RestTemplate","body":"<p>You can probably use exchange method of restTemplate and get the body from it..</p>\n\n<p>Check the following answer <a href=\"https://stackoverflow.com/a/31947188/3800576\">https://stackoverflow.com/a/31947188/3800576</a>.\nThis might help you</p>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1495490933,"creation_date":1454746344,"answer_id":35238863,"question_id":34099559,"body_markdown":"    new TypeReference&lt;Page&lt;StoryResponse&gt;&gt;() {}\r\nThe problem with this statement is that Jackson cannot instantiate an abstract type. You should give Jackson the information on how to instantiate `Page` with a concrete type. But its concrete type, `PageImpl`, has no default constructor or any `@JsonCreator`s for that matter, so you can **not** use the following code either:\r\n\r\n    new TypeReference&lt;PageImpl&lt;StoryResponse&gt;&gt;() {}\r\n\r\nSince you can&#39;t add the required information to the `Page` class, It&#39;s better to create a custom implementation for `Page` interface which has a default no-arg constructor, as in this [answer][1]. Then use that custom implementation in type reference, like following:\r\n\r\n    new TypeReference&lt;CustomPageImpl&lt;StoryResponse&gt;&gt;() {}\r\nHere are the custom implementation, copied from linked question:\r\n\r\n    public class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n        private static final long serialVersionUID = 1L;\r\n        private int number;\r\n        private int size;\r\n        private int totalPages;\r\n        private int numberOfElements;\r\n        private long totalElements;\r\n        private boolean previousPage;\r\n        private boolean firstPage;\r\n        private boolean nextPage;\r\n        private boolean lastPage;\r\n        private List&lt;T&gt; content;\r\n        private Sort sort;\r\n    \r\n        public CustomPageImpl() {\r\n            super(new ArrayList&lt;&gt;());\r\n        }\r\n    \r\n        @Override\r\n        public int getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setNumber(int number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        @Override\r\n        public int getSize() {\r\n            return size;\r\n        }\r\n    \r\n        public void setSize(int size) {\r\n            this.size = size;\r\n        }\r\n    \r\n        @Override\r\n        public int getTotalPages() {\r\n            return totalPages;\r\n        }\r\n    \r\n        public void setTotalPages(int totalPages) {\r\n            this.totalPages = totalPages;\r\n        }\r\n    \r\n        @Override\r\n        public int getNumberOfElements() {\r\n            return numberOfElements;\r\n        }\r\n    \r\n        public void setNumberOfElements(int numberOfElements) {\r\n            this.numberOfElements = numberOfElements;\r\n        }\r\n    \r\n        @Override\r\n        public long getTotalElements() {\r\n            return totalElements;\r\n        }\r\n    \r\n        public void setTotalElements(long totalElements) {\r\n            this.totalElements = totalElements;\r\n        }\r\n    \r\n        public boolean isPreviousPage() {\r\n            return previousPage;\r\n        }\r\n    \r\n        public void setPreviousPage(boolean previousPage) {\r\n            this.previousPage = previousPage;\r\n        }\r\n    \r\n        public boolean isFirstPage() {\r\n            return firstPage;\r\n        }\r\n    \r\n        public void setFirstPage(boolean firstPage) {\r\n            this.firstPage = firstPage;\r\n        }\r\n    \r\n        public boolean isNextPage() {\r\n            return nextPage;\r\n        }\r\n    \r\n        public void setNextPage(boolean nextPage) {\r\n            this.nextPage = nextPage;\r\n        }\r\n    \r\n        public boolean isLastPage() {\r\n            return lastPage;\r\n        }\r\n    \r\n        public void setLastPage(boolean lastPage) {\r\n            this.lastPage = lastPage;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;T&gt; getContent() {\r\n            return content;\r\n        }\r\n    \r\n        public void setContent(List&lt;T&gt; content) {\r\n            this.content = content;\r\n        }\r\n    \r\n        @Override\r\n        public Sort getSort() {\r\n            return sort;\r\n        }\r\n    \r\n        public void setSort(Sort sort) {\r\n            this.sort = sort;\r\n        }\r\n    \r\n        public Page&lt;T&gt; pageImpl() {\r\n            return new PageImpl&lt;&gt;(getContent(), new PageRequest(getNumber(),\r\n                    getSize(), getSort()), getTotalElements());\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18847126/1393484","title":"How to consume Page&lt;Entity&gt; response using Spring RestTemplate","body":"<pre><code>new TypeReference&lt;Page&lt;StoryResponse&gt;&gt;() {}\n</code></pre>\n\n<p>The problem with this statement is that Jackson cannot instantiate an abstract type. You should give Jackson the information on how to instantiate <code>Page</code> with a concrete type. But its concrete type, <code>PageImpl</code>, has no default constructor or any <code>@JsonCreator</code>s for that matter, so you can <strong>not</strong> use the following code either:</p>\n\n<pre><code>new TypeReference&lt;PageImpl&lt;StoryResponse&gt;&gt;() {}\n</code></pre>\n\n<p>Since you can't add the required information to the <code>Page</code> class, It's better to create a custom implementation for <code>Page</code> interface which has a default no-arg constructor, as in this <a href=\"https://stackoverflow.com/a/18847126/1393484\">answer</a>. Then use that custom implementation in type reference, like following:</p>\n\n<pre><code>new TypeReference&lt;CustomPageImpl&lt;StoryResponse&gt;&gt;() {}\n</code></pre>\n\n<p>Here are the custom implementation, copied from linked question:</p>\n\n<pre><code>public class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\n    private static final long serialVersionUID = 1L;\n    private int number;\n    private int size;\n    private int totalPages;\n    private int numberOfElements;\n    private long totalElements;\n    private boolean previousPage;\n    private boolean firstPage;\n    private boolean nextPage;\n    private boolean lastPage;\n    private List&lt;T&gt; content;\n    private Sort sort;\n\n    public CustomPageImpl() {\n        super(new ArrayList&lt;&gt;());\n    }\n\n    @Override\n    public int getNumber() {\n        return number;\n    }\n\n    public void setNumber(int number) {\n        this.number = number;\n    }\n\n    @Override\n    public int getSize() {\n        return size;\n    }\n\n    public void setSize(int size) {\n        this.size = size;\n    }\n\n    @Override\n    public int getTotalPages() {\n        return totalPages;\n    }\n\n    public void setTotalPages(int totalPages) {\n        this.totalPages = totalPages;\n    }\n\n    @Override\n    public int getNumberOfElements() {\n        return numberOfElements;\n    }\n\n    public void setNumberOfElements(int numberOfElements) {\n        this.numberOfElements = numberOfElements;\n    }\n\n    @Override\n    public long getTotalElements() {\n        return totalElements;\n    }\n\n    public void setTotalElements(long totalElements) {\n        this.totalElements = totalElements;\n    }\n\n    public boolean isPreviousPage() {\n        return previousPage;\n    }\n\n    public void setPreviousPage(boolean previousPage) {\n        this.previousPage = previousPage;\n    }\n\n    public boolean isFirstPage() {\n        return firstPage;\n    }\n\n    public void setFirstPage(boolean firstPage) {\n        this.firstPage = firstPage;\n    }\n\n    public boolean isNextPage() {\n        return nextPage;\n    }\n\n    public void setNextPage(boolean nextPage) {\n        this.nextPage = nextPage;\n    }\n\n    public boolean isLastPage() {\n        return lastPage;\n    }\n\n    public void setLastPage(boolean lastPage) {\n        this.lastPage = lastPage;\n    }\n\n    @Override\n    public List&lt;T&gt; getContent() {\n        return content;\n    }\n\n    public void setContent(List&lt;T&gt; content) {\n        this.content = content;\n    }\n\n    @Override\n    public Sort getSort() {\n        return sort;\n    }\n\n    public void setSort(Sort sort) {\n        this.sort = sort;\n    }\n\n    public Page&lt;T&gt; pageImpl() {\n        return new PageImpl&lt;&gt;(getContent(), new PageRequest(getNumber(),\n                getSize(), getSort()), getTotalElements());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1499133501,"creation_date":1499133501,"answer_id":44895867,"question_id":34099559,"body_markdown":"I know this thread is a little old, but hopefully someone will benefit from this.\r\n\r\n@Ali Dehghani&#39;s answer is good, except that it re-implements what ````PageImpl&lt;T&gt;```` has already done. I considered this to be rather needless. I found a better solution by creating a class that extends ````PageImpl&lt;T&gt;```` and specifies a ````@JsonCreator```` constructor:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.company.model.HelperModel;\r\n    import org.springframework.data.domain.PageImpl;\r\n    import org.springframework.data.domain.PageRequest;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class HelperPage extends PageImpl&lt;HelperModel&gt; {\r\n    \r\n        @JsonCreator\r\n        // Note: I don&#39;t need a sort, so I&#39;m not including one here.\r\n        // It shouldn&#39;t be too hard to add it in tho.\r\n        public HelperPage(@JsonProperty(&quot;content&quot;) List&lt;HelperModel&gt; content,\r\n                          @JsonProperty(&quot;number&quot;) int number,\r\n                          @JsonProperty(&quot;size&quot;) int size,\r\n                          @JsonProperty(&quot;totalElements&quot;) Long totalElements) {\r\n            super(content, new PageRequest(number, size), totalElements);\r\n        }\r\n    }\r\n\r\n\r\n\r\nThen:\r\n\r\n    HelperPage page = restTemplate.getForObject(url, HelperPage.class);\r\n\r\nThis is the same as creating a ````CustomPageImpl&lt;T&gt;```` class but allows us to take advantage of all the code that&#39;s already in ````PageImpl&lt;T&gt;````.\r\n\r\n","title":"How to consume Page&lt;Entity&gt; response using Spring RestTemplate","body":"<p>I know this thread is a little old, but hopefully someone will benefit from this.</p>\n\n<p>@Ali Dehghani's answer is good, except that it re-implements what <code>PageImpl&lt;T&gt;</code> has already done. I considered this to be rather needless. I found a better solution by creating a class that extends <code>PageImpl&lt;T&gt;</code> and specifies a <code>@JsonCreator</code> constructor:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.company.model.HelperModel;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.PageRequest;\n\nimport java.util.List;\n\npublic class HelperPage extends PageImpl&lt;HelperModel&gt; {\n\n    @JsonCreator\n    // Note: I don't need a sort, so I'm not including one here.\n    // It shouldn't be too hard to add it in tho.\n    public HelperPage(@JsonProperty(\"content\") List&lt;HelperModel&gt; content,\n                      @JsonProperty(\"number\") int number,\n                      @JsonProperty(\"size\") int size,\n                      @JsonProperty(\"totalElements\") Long totalElements) {\n        super(content, new PageRequest(number, size), totalElements);\n    }\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>HelperPage page = restTemplate.getForObject(url, HelperPage.class);\n</code></pre>\n\n<p>This is the same as creating a <code>CustomPageImpl&lt;T&gt;</code> class but allows us to take advantage of all the code that's already in <code>PageImpl&lt;T&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1389217,"reputation":431,"user_id":8805916,"display_name":"Vladimir Mitev"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1508501803,"creation_date":1508501803,"answer_id":46848889,"question_id":34099559,"body_markdown":"As &quot;pathfinder&quot; mentioned you can use `exchange` method of `RestTemplate`. However instead of passing `ParameterizedTypeReference&lt;Page&lt;StoryResponse&gt;&gt;()` you should pass `ParameterizedTypeReference&lt;PagedResources&lt;StoryResponse&gt;&gt;()`. When you get the response you could retrieve the content - `Collection&lt;StoryResponse&gt;`.\r\n\r\nThe code should look like this:\r\n\r\n    ResponseEntity&lt;PagedResources&lt;StoryResponse&gt;&gt; response = restTemplate.exchange(getLocalhost(&quot;/story&quot;),\r\n            HttpMethod.GET, null, new ParameterizedTypeReference&lt;PagedResources&lt;StoryResponse&gt;&gt;() {});\r\n    PagedResources&lt;StoryResponse&gt; storiesResources = response.getBody();\r\n    Collection&lt;StoryResponse&gt; stories = storiesResources.getContent();\r\n\r\nApart from the content `storiesResources` holds page metadata and links too.\r\n\r\nA more step-by-step explanation is available here: https://stackoverflow.com/a/46847429/8805916","title":"How to consume Page&lt;Entity&gt; response using Spring RestTemplate","body":"<p>As \"pathfinder\" mentioned you can use <code>exchange</code> method of <code>RestTemplate</code>. However instead of passing <code>ParameterizedTypeReference&lt;Page&lt;StoryResponse&gt;&gt;()</code> you should pass <code>ParameterizedTypeReference&lt;PagedResources&lt;StoryResponse&gt;&gt;()</code>. When you get the response you could retrieve the content - <code>Collection&lt;StoryResponse&gt;</code>.</p>\n\n<p>The code should look like this:</p>\n\n<pre><code>ResponseEntity&lt;PagedResources&lt;StoryResponse&gt;&gt; response = restTemplate.exchange(getLocalhost(\"/story\"),\n        HttpMethod.GET, null, new ParameterizedTypeReference&lt;PagedResources&lt;StoryResponse&gt;&gt;() {});\nPagedResources&lt;StoryResponse&gt; storiesResources = response.getBody();\nCollection&lt;StoryResponse&gt; stories = storiesResources.getContent();\n</code></pre>\n\n<p>Apart from the content <code>storiesResources</code> holds page metadata and links too.</p>\n\n<p>A more step-by-step explanation is available here: <a href=\"https://stackoverflow.com/a/46847429/8805916\">https://stackoverflow.com/a/46847429/8805916</a></p>\n"},{"tags":[],"owner":{"account_id":11273684,"reputation":215,"user_id":8268335,"display_name":"Terrence Wei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539252182,"creation_date":1539251423,"answer_id":52757110,"question_id":34099559,"body_markdown":"If you looking at this thread, and if you try this answer\r\nhttps://stackoverflow.com/a/44895867/8268335\r\n\r\nYou will meet the 2nd problem:\r\n\r\n    Can not construct instance of org.springframework.data.domain.Pageable\r\n\r\nThen I find the perfect solution from here:\r\nhttps://stackoverflow.com/a/42002709/8268335\r\n\r\nI create the class `RestPageImpl` from the answer above and problem solved.","title":"How to consume Page&lt;Entity&gt; response using Spring RestTemplate","body":"<p>If you looking at this thread, and if you try this answer\n<a href=\"https://stackoverflow.com/a/44895867/8268335\">https://stackoverflow.com/a/44895867/8268335</a></p>\n\n<p>You will meet the 2nd problem:</p>\n\n<pre><code>Can not construct instance of org.springframework.data.domain.Pageable\n</code></pre>\n\n<p>Then I find the perfect solution from here:\n<a href=\"https://stackoverflow.com/a/42002709/8268335\">https://stackoverflow.com/a/42002709/8268335</a></p>\n\n<p>I create the class <code>RestPageImpl</code> from the answer above and problem solved.</p>\n"},{"tags":[],"owner":{"account_id":5659371,"reputation":2152,"user_id":4477463,"accept_rate":22,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1593483326,"creation_date":1593483326,"answer_id":62649310,"question_id":34099559,"body_markdown":"If you use spring-cloud-openfeign you can use PageJacksonModule.\r\nJust register PageJacksonModule in your object mapper:\r\n\r\n    final ObjectMapper mapper = new ObjectMapper()\r\n    mapper.registerModule(new PageJacksonModule());","title":"How to consume Page&lt;Entity&gt; response using Spring RestTemplate","body":"<p>If you use spring-cloud-openfeign you can use PageJacksonModule.\nJust register PageJacksonModule in your object mapper:</p>\n<pre><code>final ObjectMapper mapper = new ObjectMapper()\nmapper.registerModule(new PageJacksonModule());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":316148,"reputation":865,"user_id":632153,"accept_rate":83,"display_name":"raven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697636323,"creation_date":1697636323,"answer_id":77316854,"question_id":34099559,"body_markdown":"In a modern spring boot application with Jackson modules enabled by spring boot by default you could do something as simple as:\r\n```\r\n@JsonIgnoreProperties(&quot;pageable&quot;)\r\npublic class JacksonPage&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n    private JacksonPage(List&lt;T&gt; content, int number, int size, long totalElements) {\r\n        super(content, PageRequest.of(number, size), totalElements);\r\n    }\r\n}\r\n```","title":"How to consume Page&lt;Entity&gt; response using Spring RestTemplate","body":"<p>In a modern spring boot application with Jackson modules enabled by spring boot by default you could do something as simple as:</p>\n<pre><code>@JsonIgnoreProperties(&quot;pageable&quot;)\npublic class JacksonPage&lt;T&gt; extends PageImpl&lt;T&gt; {\n    private JacksonPage(List&lt;T&gt; content, int number, int size, long totalElements) {\n        super(content, PageRequest.of(number, size), totalElements);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5109535,"reputation":573,"user_id":4096603,"display_name":"bgalek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54307,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":35238863,"answer_count":7,"score":54,"last_activity_date":1697636323,"creation_date":1449274033,"question_id":34099559,"body_markdown":"I&#39;m using spring data (mongoDb) and I&#39;ve got my repository:\r\n\r\n    public interface StoriesRepository extends PagingAndSortingRepository&lt;Story, String&gt; {}\r\n\r\nThen i have a controller:\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public ResponseEntity&lt;Page&lt;StoryResponse&gt;&gt; getStories(Pageable pageable) {\r\n        Page&lt;StoryResponse&gt; stories = storiesRepository.findAll(pageable).map(StoryResponseMapper::toStoryResponse);\r\n        return ResponseEntity.ok(stories);\r\n    }\r\n\r\nEverything works fine, but I can&#39;t consume my endpoint using RestTemplate getForEntity method:\r\n\r\n  \r\n\r\n    def entity = restTemplate.getForEntity(getLocalhost(&quot;/story&quot;), new TypeReference&lt;Page&lt;StoryResponse&gt;&gt;(){}.class)\r\n\r\nWhat class should I provide to successfully deserialize my Page of entities?\r\n","title":"How to consume Page&lt;Entity&gt; response using Spring RestTemplate","body":"<p>I'm using spring data (mongoDb) and I've got my repository:</p>\n\n<pre><code>public interface StoriesRepository extends PagingAndSortingRepository&lt;Story, String&gt; {}\n</code></pre>\n\n<p>Then i have a controller:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic ResponseEntity&lt;Page&lt;StoryResponse&gt;&gt; getStories(Pageable pageable) {\n    Page&lt;StoryResponse&gt; stories = storiesRepository.findAll(pageable).map(StoryResponseMapper::toStoryResponse);\n    return ResponseEntity.ok(stories);\n}\n</code></pre>\n\n<p>Everything works fine, but I can't consume my endpoint using RestTemplate getForEntity method:</p>\n\n<pre><code>def entity = restTemplate.getForEntity(getLocalhost(\"/story\"), new TypeReference&lt;Page&lt;StoryResponse&gt;&gt;(){}.class)\n</code></pre>\n\n<p>What class should I provide to successfully deserialize my Page of entities?</p>\n"},{"tags":["python","java","py4j"],"answers":[{"tags":[],"owner":{"account_id":3614359,"reputation":79,"user_id":3417591,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697636121,"creation_date":1697636121,"answer_id":77316827,"question_id":77261118,"body_markdown":"It turns out that using `JavaGateway.launch_gateway()` was restarting some cached version of my java jar. Rather than using the generic `launch_gateway`, using a more specific `JavaGateway` constructor worked.\r\n\r\n```\r\nfrom py4j.java_gateway import JavaGateway\r\ngateway = JavaGateway(gateway_parameters=GatewayParameters(port=12345))\r\nexample = gateway.entry_point\r\n...\r\n\r\n```","title":"How to prevent py4j from resurrecting an older version of my JAR?","body":"<p>It turns out that using <code>JavaGateway.launch_gateway()</code> was restarting some cached version of my java jar. Rather than using the generic <code>launch_gateway</code>, using a more specific <code>JavaGateway</code> constructor worked.</p>\n<pre><code>from py4j.java_gateway import JavaGateway\ngateway = JavaGateway(gateway_parameters=GatewayParameters(port=12345))\nexample = gateway.entry_point\n...\n\n</code></pre>\n"}],"owner":{"account_id":3614359,"reputation":79,"user_id":3417591,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697636121,"creation_date":1696876728,"question_id":77261118,"body_markdown":"I&#39;m running a basic py4j program as follows:\r\n\r\n    from py4j.java_gateway import JavaGateway\r\n    gateway = JavaGateway.launch_gateway()\r\n    example = gateway.entry_point\r\n    results = example.foo()\r\n    print(results) // &quot;foo&quot;\r\n\r\nOriginally, my java program looked like this\r\n    \r\n    package foo;\r\n    import py4j.GatewayServer;\r\n\r\n    public class Example {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n            GatewayServer gatewayServer = new GatewayServer(new Example());\r\n            gatewayServer.start();\r\n            System.out.println(&quot;PyJ Gateway Server Started&quot;);\r\n        }\r\n\r\n        public String foo() {\r\n            return &quot;foo&quot;;\r\n        }\r\n    }\r\n\r\nEnvironment details: I&#39;m running the python program via asdf+poetry python and building the java jar with maven. Python version 3.9.17, Java version 17. \r\n\r\nAfter building and running my server a few times, I realized I needed a new method, so got rid of `foo()`, replacing it with `bar()`. So now my program looks like the following:\r\n\r\n    package foo;\r\n    import py4j.GatewayServer;\r\n\r\n    public class Example {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n            GatewayServer gatewayServer = new GatewayServer(new Example());\r\n            gatewayServer.start();\r\n            System.out.println(&quot;PyJ Gateway Server Started&quot;);\r\n        }\r\n\r\n        public String bar(String input) {\r\n            return input;\r\n        }\r\n    }\r\n\r\n\r\nHowever, now after rebuilding and relaunching my java jar for `Example`, I&#39;m seeing the following results in my python program:\r\n\r\n    from py4j.java_gateway import JavaGateway\r\n    gateway = JavaGateway.launch_gateway()\r\n    example = gateway.entry_point\r\n    results = example.foo()\r\n    print(results) // &quot;foo&quot;\r\n    results = example.bar(&quot;bar&quot;) // py4j.protocol.Py4JError: An error occurred while calling t.bar. Trace: py4j.Py4JException: Target Object ID does not exist for this gateway :t\r\n\r\n\r\nNote that these results persist, even if I locally kill all processes with &quot;java&quot; in the name, delete the original JAR, or anything else. Somehow py4j seems to have learned the first ever JAR I presented it with and will never let go. \r\n\r\nHow do I kill the deprecated java code and prevent python from speaking to it ever again?","title":"How to prevent py4j from resurrecting an older version of my JAR?","body":"<p>I'm running a basic py4j program as follows:</p>\n<pre><code>from py4j.java_gateway import JavaGateway\ngateway = JavaGateway.launch_gateway()\nexample = gateway.entry_point\nresults = example.foo()\nprint(results) // &quot;foo&quot;\n</code></pre>\n<p>Originally, my java program looked like this</p>\n<pre><code>package foo;\nimport py4j.GatewayServer;\n\npublic class Example {\n\n    public static void main(String[] args) throws IOException {\n        GatewayServer gatewayServer = new GatewayServer(new Example());\n        gatewayServer.start();\n        System.out.println(&quot;PyJ Gateway Server Started&quot;);\n    }\n\n    public String foo() {\n        return &quot;foo&quot;;\n    }\n}\n</code></pre>\n<p>Environment details: I'm running the python program via asdf+poetry python and building the java jar with maven. Python version 3.9.17, Java version 17.</p>\n<p>After building and running my server a few times, I realized I needed a new method, so got rid of <code>foo()</code>, replacing it with <code>bar()</code>. So now my program looks like the following:</p>\n<pre><code>package foo;\nimport py4j.GatewayServer;\n\npublic class Example {\n\n    public static void main(String[] args) throws IOException {\n        GatewayServer gatewayServer = new GatewayServer(new Example());\n        gatewayServer.start();\n        System.out.println(&quot;PyJ Gateway Server Started&quot;);\n    }\n\n    public String bar(String input) {\n        return input;\n    }\n}\n</code></pre>\n<p>However, now after rebuilding and relaunching my java jar for <code>Example</code>, I'm seeing the following results in my python program:</p>\n<pre><code>from py4j.java_gateway import JavaGateway\ngateway = JavaGateway.launch_gateway()\nexample = gateway.entry_point\nresults = example.foo()\nprint(results) // &quot;foo&quot;\nresults = example.bar(&quot;bar&quot;) // py4j.protocol.Py4JError: An error occurred while calling t.bar. Trace: py4j.Py4JException: Target Object ID does not exist for this gateway :t\n</code></pre>\n<p>Note that these results persist, even if I locally kill all processes with &quot;java&quot; in the name, delete the original JAR, or anything else. Somehow py4j seems to have learned the first ever JAR I presented it with and will never let go.</p>\n<p>How do I kill the deprecated java code and prevent python from speaking to it ever again?</p>\n"},{"tags":["java","spring-mvc","spring-webflux","reactive-programming"],"owner":{"account_id":2864119,"reputation":309,"user_id":2458761,"accept_rate":50,"display_name":"Aditya Raman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697636059,"creation_date":1697636059,"question_id":77316813,"body_markdown":"I am using below code to test an external api call.\r\n\r\nController:\r\n```\r\n\r\n@RestController\r\n@RequestMapping(&quot;risk-siphon&quot;)\r\npublic class KYCDataControllerDummy extends BaseController {\r\n.....\r\n    @Autowired\r\n    KYCService service;\r\n......    \r\n    @GetMapping(value = &quot;/kycDummy/api2/{version}/{customerId}&quot;)\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; getKYCApiDetailsController(@PathVariable(&quot;customerId&quot;) String customerId,\r\n                                                                   @PathVariable(&quot;version&quot;) String version) {\r\n            logger.info(&quot;Get kyc siphon api dummy called for customer id:: &quot; + customerId);\r\n            Mono&lt;KYCDetailsDataProvider.KycApiResponse&gt; response = kycDetailsDataProvider.getKycDetails(customerId, version)\r\n                    .doOnNext(dbres -&gt; logger.info(&quot;Received api Details from MONO: {}&quot;, dbres));\r\n            logger.info(&quot;Api response received kyc:: &quot; + customerId);\r\n\r\n            return\r\n                    response.map(resp -&gt;\r\n                            ResponseEntity.ok(gson.toJson(resp))\r\n                    );\r\n    }\r\n\r\n}\r\n```\r\nService:\r\n```\r\n    public Mono getKycDetails(String customerId, String version) {\r\n        logger.info(&quot;Api fetch call init for KYC Data for customerId::&quot; + customerId);\r\n        var responseTimeout = kycApiConfig.basic().timeout();\r\n        logger.info(&quot;timeout::&quot; + responseTimeout);\r\n\r\n        String uri = config.getApiBaseUrl() + (String.format(KYC_API_PATH, version, customerId));\r\n        return WebApiUtils.reactiveWebClientHTTPGet(uri, new HashMap(), responseTimeout, zestMoneyJWTProvider.getToken(), webClient)\r\n                .exchangeToMono(this::exchangeKYCGetApiResponse)\r\n                .transformDeferred(RetryOperator.of(this.defaultRetry));\r\n    }\r\n```\r\nApiUtils:\r\n```\r\n    public static WebClient.RequestHeadersSpec&lt;?&gt; reactiveWebClientHTTPGet(String url, Map params,\r\n                                                                           Duration responseTimeout, ZestMoneyJWTService.InternalServicesResponse token, WebClient webClient) {\r\n        String bearerToken = token.accessToken();\r\n\r\n        return webClient\r\n                .get()\r\n                .uri(url)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .header(HttpHeaders.AUTHORIZATION, token.tokenType() + StringUtils.SPACE + bearerToken)\r\n                .httpRequest(clientHttpRequest -&gt; {\r\n                    HttpClientRequest reactorRequest = clientHttpRequest.getNativeRequest();\r\n                    reactorRequest.responseTimeout(responseTimeout);\r\n                });\r\n    }\r\n```\r\n\r\n\r\n**Issue**\r\nThis code is expected to use reactive webclient and make api call to third party service. It runs fine on local and returns the external api response. Works fine in local docker as well. But when this is deployed to a EKS pod (test environment of release pipeline) it gets stuck and eventually throws a 504 gateway timeout error. While inspecting the logs from pod it seems like the thread is getting interrupted or some issue because of which the code is stuck at line \r\n```             \r\n        return  webClient\r\n                .get()\r\n                .uri(url)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .header(HttpHeaders.AUTHORIZATION, token.tokenType() + StringUtils.SPACE + bearerToken)\r\n                .httpRequest(clientHttpRequest -&gt; {\r\n                    HttpClientRequest reactorRequest = clientHttpRequest.getNativeRequest();\r\n                    reactorRequest.responseTimeout(responseTimeout);\r\n                });\r\n```\r\nNo logs beyond this line&#39;s execution prints.\r\n\r\n logs from pod:\r\n```023-10-18T13:11:26.411Z  INFO 1 --- [or-http-epoll-3] c.z.r.controller.KYCDataControllerDummy  : Get kyc siphon api dummy called for customer id:: 49fc59a5-0545-4630-9bbf-77223f8839e8\r\n2023-10-18T13:11:26.412Z  INFO 1 --- [or-http-epoll-3] c.z.r.provider.KYCDetailsDataProvider    : Api fetch call init for KYC Data for customerId::49fc59a5-0545-4630-9bbf-77223f8839e8\r\n2023-10-18T13:11:26.412Z  INFO 1 --- [or-http-epoll-3] c.z.r.provider.KYCDetailsDataProvider    : timeout::PT5S\r\n2023-10-18T13:11:26.413Z  INFO 1 --- [or-http-epoll-3] c.z.r.controller.KYCDataControllerDummy  : Api response received kyc:: 49fc59a5-0545-4630-9bbf-77223f8839e8\r\n2023-10-18T13:11:26.490Z DEBUG 1 --- [or-http-epoll-3] o.s.w.r.f.client.ExchangeFunctions       : [42c4be51] HTTP GET kyc/api/v2/customers/49fc59a5-0545-4630-9bbf-77223f8839e8\r\n2023-10-18T13:11:30.576Z DEBUG 1 --- [or-http-epoll-3] o.s.w.s.adapter.HttpWebHandlerAdapter    : [230852aa-187] HTTP GET &quot;/risk-siphon/health&quot;\r\n2023-10-18T13:11:30.576Z DEBUG 1 --- [or-http-epoll-2] o.s.w.s.adapter.HttpWebHandlerAdapter    : [16d3cffe-188] HTTP GET &quot;/risk-siphon/health&quot;\r\n2023-10-18T13:11:30.577Z  INFO 1 --- [oundedElastic-1] c.z.r.service.ServiceHealthIndicator     : Calling main service health v1 controller for risk-siphon\r\n2023-10-18T13:11:30.577Z  INFO 1 --- [oundedElastic-5] c.z.r.service.ServiceHealthIndicator     : Calling main service health v1 controller for risk-siphon\r\n2023-10-18T13:11:30.579Z DEBUG 1 --- [ntLoopGroup-3-2] .s.w.r.r.m.a.ResponseEntityResultHandler : [16d3cffe-188] Using &#39;application/vnd.spring-boot.actuator.v3+json&#39; given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]\r\n2023-10-18T13:11:30.579Z DEBUG 1 --- [ntLoopGroup-3-2] .s.w.r.r.m.a.ResponseEntityResultHandler : [16d3cffe-188] 0..1 [org.springframework.boot.actuate.health.SystemHealth]\r\n2023-10-18T13:11:30.580Z DEBUG 1 --- [ntLoopGroup-3-2] org.springframework.web.HttpLogging      : [16d3cffe-188] Encoding [org.springframework.boot.actuate.health.SystemHealth@6605c4e2]\r\n2023-10-18T13:11:30.581Z DEBUG 1 --- [or-http-epoll-2] o.s.w.s.adapter.HttpWebHandlerAdapter    : [16d3cffe-188] Completed 200 OK\r\n202 \r\n```\r\n\r\nCan someone help in understanding this issue please ?","title":"Webflux restcontroller unable to make an external api call","body":"<p>I am using below code to test an external api call.</p>\n<p>Controller:</p>\n<pre><code>\n@RestController\n@RequestMapping(&quot;risk-siphon&quot;)\npublic class KYCDataControllerDummy extends BaseController {\n.....\n    @Autowired\n    KYCService service;\n......    \n    @GetMapping(value = &quot;/kycDummy/api2/{version}/{customerId}&quot;)\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; getKYCApiDetailsController(@PathVariable(&quot;customerId&quot;) String customerId,\n                                                                   @PathVariable(&quot;version&quot;) String version) {\n            logger.info(&quot;Get kyc siphon api dummy called for customer id:: &quot; + customerId);\n            Mono&lt;KYCDetailsDataProvider.KycApiResponse&gt; response = kycDetailsDataProvider.getKycDetails(customerId, version)\n                    .doOnNext(dbres -&gt; logger.info(&quot;Received api Details from MONO: {}&quot;, dbres));\n            logger.info(&quot;Api response received kyc:: &quot; + customerId);\n\n            return\n                    response.map(resp -&gt;\n                            ResponseEntity.ok(gson.toJson(resp))\n                    );\n    }\n\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>    public Mono getKycDetails(String customerId, String version) {\n        logger.info(&quot;Api fetch call init for KYC Data for customerId::&quot; + customerId);\n        var responseTimeout = kycApiConfig.basic().timeout();\n        logger.info(&quot;timeout::&quot; + responseTimeout);\n\n        String uri = config.getApiBaseUrl() + (String.format(KYC_API_PATH, version, customerId));\n        return WebApiUtils.reactiveWebClientHTTPGet(uri, new HashMap(), responseTimeout, zestMoneyJWTProvider.getToken(), webClient)\n                .exchangeToMono(this::exchangeKYCGetApiResponse)\n                .transformDeferred(RetryOperator.of(this.defaultRetry));\n    }\n</code></pre>\n<p>ApiUtils:</p>\n<pre><code>    public static WebClient.RequestHeadersSpec&lt;?&gt; reactiveWebClientHTTPGet(String url, Map params,\n                                                                           Duration responseTimeout, ZestMoneyJWTService.InternalServicesResponse token, WebClient webClient) {\n        String bearerToken = token.accessToken();\n\n        return webClient\n                .get()\n                .uri(url)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .header(HttpHeaders.AUTHORIZATION, token.tokenType() + StringUtils.SPACE + bearerToken)\n                .httpRequest(clientHttpRequest -&gt; {\n                    HttpClientRequest reactorRequest = clientHttpRequest.getNativeRequest();\n                    reactorRequest.responseTimeout(responseTimeout);\n                });\n    }\n</code></pre>\n<p><strong>Issue</strong>\nThis code is expected to use reactive webclient and make api call to third party service. It runs fine on local and returns the external api response. Works fine in local docker as well. But when this is deployed to a EKS pod (test environment of release pipeline) it gets stuck and eventually throws a 504 gateway timeout error. While inspecting the logs from pod it seems like the thread is getting interrupted or some issue because of which the code is stuck at line</p>\n<pre><code>        return  webClient\n                .get()\n                .uri(url)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .header(HttpHeaders.AUTHORIZATION, token.tokenType() + StringUtils.SPACE + bearerToken)\n                .httpRequest(clientHttpRequest -&gt; {\n                    HttpClientRequest reactorRequest = clientHttpRequest.getNativeRequest();\n                    reactorRequest.responseTimeout(responseTimeout);\n                });\n</code></pre>\n<p>No logs beyond this line's execution prints.</p>\n<p>logs from pod:</p>\n<pre><code>2023-10-18T13:11:26.412Z  INFO 1 --- [or-http-epoll-3] c.z.r.provider.KYCDetailsDataProvider    : Api fetch call init for KYC Data for customerId::49fc59a5-0545-4630-9bbf-77223f8839e8\n2023-10-18T13:11:26.412Z  INFO 1 --- [or-http-epoll-3] c.z.r.provider.KYCDetailsDataProvider    : timeout::PT5S\n2023-10-18T13:11:26.413Z  INFO 1 --- [or-http-epoll-3] c.z.r.controller.KYCDataControllerDummy  : Api response received kyc:: 49fc59a5-0545-4630-9bbf-77223f8839e8\n2023-10-18T13:11:26.490Z DEBUG 1 --- [or-http-epoll-3] o.s.w.r.f.client.ExchangeFunctions       : [42c4be51] HTTP GET kyc/api/v2/customers/49fc59a5-0545-4630-9bbf-77223f8839e8\n2023-10-18T13:11:30.576Z DEBUG 1 --- [or-http-epoll-3] o.s.w.s.adapter.HttpWebHandlerAdapter    : [230852aa-187] HTTP GET &quot;/risk-siphon/health&quot;\n2023-10-18T13:11:30.576Z DEBUG 1 --- [or-http-epoll-2] o.s.w.s.adapter.HttpWebHandlerAdapter    : [16d3cffe-188] HTTP GET &quot;/risk-siphon/health&quot;\n2023-10-18T13:11:30.577Z  INFO 1 --- [oundedElastic-1] c.z.r.service.ServiceHealthIndicator     : Calling main service health v1 controller for risk-siphon\n2023-10-18T13:11:30.577Z  INFO 1 --- [oundedElastic-5] c.z.r.service.ServiceHealthIndicator     : Calling main service health v1 controller for risk-siphon\n2023-10-18T13:11:30.579Z DEBUG 1 --- [ntLoopGroup-3-2] .s.w.r.r.m.a.ResponseEntityResultHandler : [16d3cffe-188] Using 'application/vnd.spring-boot.actuator.v3+json' given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]\n2023-10-18T13:11:30.579Z DEBUG 1 --- [ntLoopGroup-3-2] .s.w.r.r.m.a.ResponseEntityResultHandler : [16d3cffe-188] 0..1 [org.springframework.boot.actuate.health.SystemHealth]\n2023-10-18T13:11:30.580Z DEBUG 1 --- [ntLoopGroup-3-2] org.springframework.web.HttpLogging      : [16d3cffe-188] Encoding [org.springframework.boot.actuate.health.SystemHealth@6605c4e2]\n2023-10-18T13:11:30.581Z DEBUG 1 --- [or-http-epoll-2] o.s.w.s.adapter.HttpWebHandlerAdapter    : [16d3cffe-188] Completed 200 OK\n202 \n</code></pre>\n<p>Can someone help in understanding this issue please ?</p>\n"},{"tags":["java","spring","junit","mockito","powermock"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1696486037,"post_id":77234542,"comment_id":136159460,"body_markdown":"Go in the `surefire` folder or elsewhere to get the complete stacktrace of your failing test. We need to see what&#39;s follow the `java.lang.IllegalAccessError`: what its &quot;caused by&quot; is. The problem it faces. Often, going from Java 8 to 11 or 17 it&#39;s encountering modules no more available or needing to be made accessible again by some `--add-opens` or `--add-exports` options on the `java` command line.","body":"Go in the <code>surefire</code> folder or elsewhere to get the complete stacktrace of your failing test. We need to see what&#39;s follow the <code>java.lang.IllegalAccessError</code>: what its &quot;caused by&quot; is. The problem it faces. Often, going from Java 8 to 11 or 17 it&#39;s encountering modules no more available or needing to be made accessible again by some <code>--add-opens</code> or <code>--add-exports</code> options on the <code>java</code> command line."},{"owner":{"account_id":7838394,"reputation":151,"user_id":5925522,"display_name":"rell"},"score":0,"creation_date":1696486069,"post_id":77234542,"comment_id":136159464,"body_markdown":"maybe this can help you https://stackoverflow.com/questions/50456726/mockclassloader-cannot-access-jdk-internal-reflect-superclass-jdk-internal-refle","body":"maybe this can help you <a href=\"https://stackoverflow.com/questions/50456726/mockclassloader-cannot-access-jdk-internal-reflect-superclass-jdk-internal-refle\" title=\"mockclassloader cannot access jdk internal reflect superclass jdk internal refle\">stackoverflow.com/questions/50456726/&hellip;</a>"},{"owner":{"account_id":5004770,"reputation":418,"user_id":4814658,"accept_rate":75,"display_name":"KuldeeP ChoudharY"},"score":0,"creation_date":1696486457,"post_id":77234542,"comment_id":136159513,"body_markdown":"This is the error traced from surefire-report directory\norg.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException\nCaused by: java.lang.reflect.InvocationTargetException\nCaused by: java.lang.IllegalAccessError: class jdk.internal.reflect.ConstructorAccessorImpl loaded by org.powermock.core.classloader.MockClassLoader @7e4204e2 cannot access jdk/internal/reflect superclass jdk.internal.reflect.MagicAccessorImpl","body":"This is the error traced from surefire-report directory org.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException Caused by: java.lang.reflect.InvocationTargetException Caused by: java.lang.IllegalAccessError: class jdk.internal.reflect.ConstructorAccessorImpl loaded by org.powermock.core.classloader.MockClassLoader @7e4204e2 cannot access jdk/internal/reflect superclass jdk.internal.reflect.MagicAccessorImpl"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696489617,"post_id":77234542,"comment_id":136159981,"body_markdown":"Upgrade to a newer version of Mockito. Mockito 1.10.19 is positively ancient (the latest version is 5.2.0, note that the artifactId changed to mockito-core), and unlikely to work with recent versions of Java. The same probably goes for Powermock.","body":"Upgrade to a newer version of Mockito. Mockito 1.10.19 is positively ancient (the latest version is 5.2.0, note that the artifactId changed to mockito-core), and unlikely to work with recent versions of Java. The same probably goes for Powermock."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696913338,"post_id":77234542,"comment_id":136209945,"body_markdown":"@KuldeePChoudharY Can you share your codebase please for testing?","body":"@KuldeePChoudharY Can you share your codebase please for testing?"},{"owner":{"account_id":5004770,"reputation":418,"user_id":4814658,"accept_rate":75,"display_name":"KuldeeP ChoudharY"},"score":0,"creation_date":1696917435,"post_id":77234542,"comment_id":136210299,"body_markdown":"&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;5.9.1&lt;/version&gt;\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\n\t\t&lt;/dependency&gt; &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;5.6.0&lt;/version&gt;\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\n\t\t&lt;/dependency&gt; \t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.0.9&lt;/version&gt;\n\n\t\t\t\t\t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.0.9&lt;/version&gt;","body":"&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt; \t\t\t&lt;version&gt;5.9.1&lt;/version&gt; \t\t\t&lt;scope&gt;test&lt;/scope&gt; \t\t&lt;/dependency&gt; &lt;dependency&gt; \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt; \t\t\t&lt;version&gt;5.6.0&lt;/version&gt; \t\t\t&lt;scope&gt;test&lt;/scope&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.powermock&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt; \t\t\t&lt;version&gt;2.0.9&lt;/version&gt;  \t\t\t\t\t&lt;groupId&gt;org.powermock&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt; \t\t\t&lt;version&gt;2.0.9&lt;/version&gt;"},{"owner":{"account_id":5004770,"reputation":418,"user_id":4814658,"accept_rate":75,"display_name":"KuldeeP ChoudharY"},"score":0,"creation_date":1696917565,"post_id":77234542,"comment_id":136210322,"body_markdown":"@AnishB. Am i using the correct version for Java 17 and Spring 6.0.0 or need to change ?","body":"@AnishB. Am i using the correct version for Java 17 and Spring 6.0.0 or need to change ?"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696917841,"post_id":77234542,"comment_id":136210360,"body_markdown":"@KuldeePChoudharY I guess I found the solution. Just adding now the answer.","body":"@KuldeePChoudharY I guess I found the solution. Just adding now the answer."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696918769,"post_id":77234542,"comment_id":136210467,"body_markdown":"@KuldeePChoudharY Your code is having tests in Junit 4 right? Why are you adding Junit 5 dependencies? Please remove that.","body":"@KuldeePChoudharY Your code is having tests in Junit 4 right? Why are you adding Junit 5 dependencies? Please remove that."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697636028,"creation_date":1696918463,"answer_id":77263297,"question_id":77234542,"body_markdown":"You need to upgrade/add the following dependencies for **PowerMock** &amp; **Mockito** to support **JDK 17**:\r\n\r\n- Newer version of `powermock-module-junit4` needs to be added. Update `powermock-module-junit4` from `1.6.6` to `2.0.9` (which is the latest version at the time of writing the answer).\r\n- Newer version of `powermock-api-mockito` needs to be added. Update `powermock-api-mockito (1.6.6)` to `powermock-api-mockito2 (2.0.9)` (which is the latest version at the time of writing the answer).\r\n-  Newer version of `javassist` needs to be added. Update `javassist` version to the latest version `(3.29.2-GA)` (at the time of writing the answer).\r\n\r\n**Note:** You might face this error while running the tests on JDK 17:\r\n\r\n    Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module\r\n\r\nTo avoid this, you will need to tell maven by adding this `--add-opens java.base/java.lang=ALL-UNNAMED` via `maven-surefire-plugin` when running this.\r\n\r\n**Another point to be noted:** You don&#39;t need to add Mockito dependency separately. `powermock-api-mockito2` comes with the `mockito-core` dependency.\r\n\r\n\r\n**pom.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo-2&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo-2&lt;/name&gt;\r\n        &lt;description&gt;Sample&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.9&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.9&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                &lt;version&gt;3.29.2-GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;\r\n                            --add-opens java.base/java.lang=ALL-UNNAMED\r\n                        &lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis should work. I have tested on my local, it&#39;s working.\r\n\r\nSample codebase example for testing [here][1].\r\n\r\n\r\n  [1]: https://github.com/anishb266/demo-2-1","title":"Migration from Java 8 to Java 17 And Spring 6 JUnit4 failing due to version mismatch","body":"<p>You need to upgrade/add the following dependencies for <strong>PowerMock</strong> &amp; <strong>Mockito</strong> to support <strong>JDK 17</strong>:</p>\n<ul>\n<li>Newer version of <code>powermock-module-junit4</code> needs to be added. Update <code>powermock-module-junit4</code> from <code>1.6.6</code> to <code>2.0.9</code> (which is the latest version at the time of writing the answer).</li>\n<li>Newer version of <code>powermock-api-mockito</code> needs to be added. Update <code>powermock-api-mockito (1.6.6)</code> to <code>powermock-api-mockito2 (2.0.9)</code> (which is the latest version at the time of writing the answer).</li>\n<li>Newer version of <code>javassist</code> needs to be added. Update <code>javassist</code> version to the latest version <code>(3.29.2-GA)</code> (at the time of writing the answer).</li>\n</ul>\n<p><strong>Note:</strong> You might face this error while running the tests on JDK 17:</p>\n<pre><code>Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module\n</code></pre>\n<p>To avoid this, you will need to tell maven by adding this <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> via <code>maven-surefire-plugin</code> when running this.</p>\n<p><strong>Another point to be noted:</strong> You don't need to add Mockito dependency separately. <code>powermock-api-mockito2</code> comes with the <code>mockito-core</code> dependency.</p>\n<p><strong>pom.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo-2&lt;/name&gt;\n    &lt;description&gt;Sample&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.29.2-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --add-opens java.base/java.lang=ALL-UNNAMED\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This should work. I have tested on my local, it's working.</p>\n<p>Sample codebase example for testing <a href=\"https://github.com/anishb266/demo-2-1\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5004770,"reputation":418,"user_id":4814658,"accept_rate":75,"display_name":"KuldeeP ChoudharY"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77263297,"answer_count":1,"score":2,"last_activity_date":1697636028,"creation_date":1696485395,"question_id":77234542,"body_markdown":"I&#39;m migrating an enterprise product. The things I have migrated are as follows: \r\n\r\n- JDK 1.8 to JDK 17\r\n\r\n- Spring 5.2.2.RELEASE to Spring 6.0.0 \r\n\r\nNow, in the process of migration, some tests have started to fail.\r\n\r\n \r\nI have the below dependencies which are in older versions. I have tried to upgrade the versions but it&#39;s somehow not working. \r\n\r\nCan someone please advise on which version needs to be there to resolve the test cases failures?\r\n\r\n**pom.xml**:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.10.19&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.6.6&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.6.6&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**Test Failure Log:**\r\n\r\n    ClassATest.initializationError &#187; Objenesis java.lang...\r\n    ClassBTest.initializationError &#187; Objenesis java.lang.refl...\r\n    \r\n    Running com.util.SupportMonitoringUtilTest\r\n    Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0 sec &lt;&lt;&lt; FAILURE! - in com.util.SupportMonitoringUtilTest\r\n    initializationError(com.util.SupportMonitoringUtilTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\r\n    org.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    Caused by: java.lang.IllegalAccessError: class jdk.internal.reflect.ConstructorAccessorImpl loaded by org.powermock.core.classloader.MockClassLoader @752573df cannot access jdk/internal/reflect superclass jdk.internal.reflect.MagicAccessorImpl\r\n\r\n","title":"Migration from Java 8 to Java 17 And Spring 6 JUnit4 failing due to version mismatch","body":"<p>I'm migrating an enterprise product. The things I have migrated are as follows:</p>\n<ul>\n<li><p>JDK 1.8 to JDK 17</p>\n</li>\n<li><p>Spring 5.2.2.RELEASE to Spring 6.0.0</p>\n</li>\n</ul>\n<p>Now, in the process of migration, some tests have started to fail.</p>\n<p>I have the below dependencies which are in older versions. I have tried to upgrade the versions but it's somehow not working.</p>\n<p>Can someone please advise on which version needs to be there to resolve the test cases failures?</p>\n<p><strong>pom.xml</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;${junit.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.10.19&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n    &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n    &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Test Failure Log:</strong></p>\n<pre><code>ClassATest.initializationError » Objenesis java.lang...\nClassBTest.initializationError » Objenesis java.lang.refl...\n\nRunning com.util.SupportMonitoringUtilTest\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0 sec &lt;&lt;&lt; FAILURE! - in com.util.SupportMonitoringUtilTest\ninitializationError(com.util.SupportMonitoringUtilTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\norg.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException\nCaused by: java.lang.reflect.InvocationTargetException\nCaused by: java.lang.IllegalAccessError: class jdk.internal.reflect.ConstructorAccessorImpl loaded by org.powermock.core.classloader.MockClassLoader @752573df cannot access jdk/internal/reflect superclass jdk.internal.reflect.MagicAccessorImpl\n</code></pre>\n"},{"tags":["java","delimiter"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1697634856,"post_id":77316628,"comment_id":136304527,"body_markdown":"Hello. Please don&#39;t post text/code as image/link ([more info](https://meta.stackoverflow.com/a/285557)) but as formatted text. Use [edit] option to correct your post.","body":"Hello. Please don&#39;t post text/code as image/link (<a href=\"https://meta.stackoverflow.com/a/285557\">more info</a>) but as formatted text. Use <a href=\"https://stackoverflow.com/posts/77316628/edit\">edit</a> option to correct your post."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1697635048,"post_id":77316628,"comment_id":136304564,"body_markdown":"Related: [Difference between System.getProperty(&quot;line.separator&quot;); and &quot;\\n&quot;?](https://stackoverflow.com/q/36796136), [How do I get a platform-independent new line character?](https://stackoverflow.com/q/207947)","body":"Related: <a href=\"https://stackoverflow.com/q/36796136\">Difference between System.getProperty(&quot;line.separator&quot;); and &quot;\\n&quot;?</a>, <a href=\"https://stackoverflow.com/q/207947\">How do I get a platform-independent new line character?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697635794,"creation_date":1697635794,"answer_id":77316776,"question_id":77316628,"body_markdown":"From the [JavaDocs of `Scanner`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#default-delimiter):\r\n\r\n&gt; The default whitespace delimiter used by a scanner is as recognized by `Character.isWhitespace()`.\r\n\r\nThis is the reason why your `sc.next()` without the expicitly set delimiter returns each word extra instead of the whole line. `Character.isWhitespace` recognizes also other characters than newline as whitespace, it&#39;s [documented](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isWhitespace(char)) well. ","title":"Using useDelimiter to scan multiple words in a line","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#default-delimiter\" rel=\"nofollow noreferrer\">JavaDocs of <code>Scanner</code></a>:</p>\n<blockquote>\n<p>The default whitespace delimiter used by a scanner is as recognized by <code>Character.isWhitespace()</code>.</p>\n</blockquote>\n<p>This is the reason why your <code>sc.next()</code> without the expicitly set delimiter returns each word extra instead of the whole line. <code>Character.isWhitespace</code> recognizes also other characters than newline as whitespace, it's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isWhitespace(char)\" rel=\"nofollow noreferrer\">documented</a> well.</p>\n"}],"owner":{"account_id":15038798,"reputation":80,"user_id":10854190,"display_name":"Hanu babbar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697635794,"creation_date":1697634591,"question_id":77316628,"body_markdown":"I am currently learning Java(beginner) and while using Scanner, specifically .next() property, I was reading an article that used this `sc.useDelimiter(System.getProperty(&quot;line.separator&quot;));`\r\nto scan multiple strings(words) in a single line separated by a space, I dont really get what the `System.getProperty(&quot;line.separator&quot;)` do(the input given was for example &quot;Hanu babbar&quot;,  here without that line it only printed out &quot;Hanu&quot; but with that it printed out whole &quot;Hanu Babbar&quot;). I read about useDelimiter and how its used to separate out content from a string but I dont really know the rest so would appreciate the help.\r\nHere&#39;s the code snippet from the article\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nsc.useDelimiter(System.getProperty(&quot;line.separator&quot;));\r\nSystem.out.println(&quot;Please enter your name&quot;);\r\nString name = sc.next();\r\nSystem.out.println(&quot;Hello &quot; + name);\r\nsc.close();\r\n```","title":"Using useDelimiter to scan multiple words in a line","body":"<p>I am currently learning Java(beginner) and while using Scanner, specifically .next() property, I was reading an article that used this <code>sc.useDelimiter(System.getProperty(&quot;line.separator&quot;));</code>\nto scan multiple strings(words) in a single line separated by a space, I dont really get what the <code>System.getProperty(&quot;line.separator&quot;)</code> do(the input given was for example &quot;Hanu babbar&quot;,  here without that line it only printed out &quot;Hanu&quot; but with that it printed out whole &quot;Hanu Babbar&quot;). I read about useDelimiter and how its used to separate out content from a string but I dont really know the rest so would appreciate the help.\nHere's the code snippet from the article</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nsc.useDelimiter(System.getProperty(&quot;line.separator&quot;));\nSystem.out.println(&quot;Please enter your name&quot;);\nString name = sc.next();\nSystem.out.println(&quot;Hello &quot; + name);\nsc.close();\n</code></pre>\n"},{"tags":["java","maven"],"owner":{"account_id":15777128,"reputation":1,"user_id":11384659,"display_name":"Sayem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697635502,"creation_date":1697635502,"question_id":77316742,"body_markdown":"My Framework stored in a server, there are two workspaces. I was working on my workspace and my framework I won&#39;t use Maven. Yesterday, I tried to convert into Maven project. Right clicked on project and choose to convert to maven project. Here happened,  No pom.xml file created and showing error, furthermore, the scripts of the framework disappear and copied the packages from 2nd workspace, workspace2. In case of this critical situation how can I get back my workspace and script as was it is Java Project? Please help me ..  ","title":"Selenium script disappear after converting Java to Maven project","body":"<p>My Framework stored in a server, there are two workspaces. I was working on my workspace and my framework I won't use Maven. Yesterday, I tried to convert into Maven project. Right clicked on project and choose to convert to maven project. Here happened,  No pom.xml file created and showing error, furthermore, the scripts of the framework disappear and copied the packages from 2nd workspace, workspace2. In case of this critical situation how can I get back my workspace and script as was it is Java Project? Please help me ..</p>\n"},{"tags":["java","spring-boot","microservices","apache-tika","file-extension"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1697627280,"post_id":77313553,"comment_id":136302888,"body_markdown":"How are you calling Apache Tika to do the detection? And why aren&#39;t you asking Tika for the file extension yourself?","body":"How are you calling Apache Tika to do the detection? And why aren&#39;t you asking Tika for the file extension yourself?"},{"owner":{"account_id":29276486,"reputation":1,"user_id":22430112,"display_name":"Esphi01"},"score":0,"creation_date":1697636790,"post_id":77313553,"comment_id":136304956,"body_markdown":"public final class FileTypeUtils {\n\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(FileTypeUtils.class);\n\t\n\tprivate FileTypeUtils() {\n\t}\n\n\tpublic static String getFileType(File inputFile) throws Exception {\n\n\t\tfinal Tika tika = new Tika();\n\t\ttry {\n\t\t\treturn tika.detect(inputFile);\n\t\t} catch (IOException e) {\n\t\t\tLOGGER.error(&quot;*** getFileTypeViaTika2 - Error message: &quot; + e.getMessage());\n\t\t\tLOGGER.error(&quot;*** getFileTypeViaTika2 - Error trace&quot;+e);\n\t\t\tthrow new Exception(&quot;File type unknown&quot;);\n\t\t}\n\t\t\n\t}","body":"public final class FileTypeUtils {  \tprivate static final Logger LOGGER = LoggerFactory.getLogger(FileTypeUtils.class); \t \tprivate FileTypeUtils() { \t}  \tpublic static String getFileType(File inputFile) throws Exception {  \t\tfinal Tika tika = new Tika(); \t\ttry { \t\t\treturn tika.detect(inputFile); \t\t} catch (IOException e) { \t\t\tLOGGER.error(&quot;*** getFileTypeViaTika2 - Error message: &quot; + e.getMessage()); \t\t\tLOGGER.error(&quot;*** getFileTypeViaTika2 - Error trace&quot;+e); \t\t\tthrow new Exception(&quot;File type unknown&quot;); \t\t} \t\t \t}"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1697644087,"post_id":77313553,"comment_id":136306678,"body_markdown":"If you want container-aware detection (as you&#39;d need to detect the OOXML subtype) then you need to include the Tika office parsers jar as well","body":"If you want container-aware detection (as you&#39;d need to detect the OOXML subtype) then you need to include the Tika office parsers jar as well"},{"owner":{"account_id":29276486,"reputation":1,"user_id":22430112,"display_name":"Esphi01"},"score":0,"creation_date":1697789377,"post_id":77313553,"comment_id":136326376,"body_markdown":"Thanks a lot; I am now able to send more file types. I added the parsers as you advised","body":"Thanks a lot; I am now able to send more file types. I added the parsers as you advised"}],"owner":{"account_id":29276486,"reputation":1,"user_id":22430112,"display_name":"Esphi01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697635316,"creation_date":1697604687,"question_id":77313553,"body_markdown":"I am using tika to detect media file types (extensions), but whenever I send a docx, doc, xls, they are detected as &quot;application/x-tika-ooxml&quot;. here is my method for determining fileExtensions\r\n\r\n\r\n```\r\nprivate static String determineFileExtension(String mimeType) {\r\n\t\tString fileExtension = &quot;&quot;;\r\n\t\tif (mimeType != null) {\r\n\t\t\tif (mimeType.equalsIgnoreCase(&quot;application/pdf&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.pdf&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;application/vnd.ms-excel&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.xls&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.xlsx&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;image/jpeg&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.jpg&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;video/mpeg&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.mpeg&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;video/mp4&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.mp4&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;application/x-tika-ooxml&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.xlsx&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;application/x-tika-msoffice&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.xls&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;text/plain&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.txt&quot;;\r\n\t\t\t} else if (mimeType\r\n\t\t\t\t\t.equalsIgnoreCase(&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.docx&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;application/vnd.ms-powerpoint&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.ppt&quot;;\r\n\t\t\t} else if (mimeType\r\n\t\t\t\t\t.equalsIgnoreCase(&quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.pptx&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;video/avi&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.avi&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;application/x-zip-compressed&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.zip&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;image/png&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.png&quot;;\r\n\t\t\t} else if (mimeType.equalsIgnoreCase(&quot;application/msword&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.doc&quot;;\r\n\t\t\t} else {\r\n\t\t\t\tLOGGER.error(&quot;Unknown mimeType  &quot; + mimeType);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn fileExtension;\r\n\t}\r\n```\r\n \r\n\r\nI tried changing the file extension for &quot;application/x-tika-ooxml&quot; \r\n\r\n```\r\n} else if (mimeType.equalsIgnoreCase(&quot;application/x-tika-ooxml&quot;)) {\r\n\t\t\t\tfileExtension = &quot;.xlsx&quot;;\r\n```\r\n\r\nto docx, doc, however, I still got the same results\r\n\r\n\r\nI am using this dependency\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nother file formats, such as .pdf .xml .mp4 .jpeg, .jpg .mp3 are working\r\n","title":"sending a docx but detected as application/x-tika-ooxml instead of &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;","body":"<p>I am using tika to detect media file types (extensions), but whenever I send a docx, doc, xls, they are detected as &quot;application/x-tika-ooxml&quot;. here is my method for determining fileExtensions</p>\n<pre><code>private static String determineFileExtension(String mimeType) {\n        String fileExtension = &quot;&quot;;\n        if (mimeType != null) {\n            if (mimeType.equalsIgnoreCase(&quot;application/pdf&quot;)) {\n                fileExtension = &quot;.pdf&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;application/vnd.ms-excel&quot;)) {\n                fileExtension = &quot;.xls&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)) {\n                fileExtension = &quot;.xlsx&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;image/jpeg&quot;)) {\n                fileExtension = &quot;.jpg&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;video/mpeg&quot;)) {\n                fileExtension = &quot;.mpeg&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;video/mp4&quot;)) {\n                fileExtension = &quot;.mp4&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;application/x-tika-ooxml&quot;)) {\n                fileExtension = &quot;.xlsx&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;application/x-tika-msoffice&quot;)) {\n                fileExtension = &quot;.xls&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;text/plain&quot;)) {\n                fileExtension = &quot;.txt&quot;;\n            } else if (mimeType\n                    .equalsIgnoreCase(&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;)) {\n                fileExtension = &quot;.docx&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;application/vnd.ms-powerpoint&quot;)) {\n                fileExtension = &quot;.ppt&quot;;\n            } else if (mimeType\n                    .equalsIgnoreCase(&quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;)) {\n                fileExtension = &quot;.pptx&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;video/avi&quot;)) {\n                fileExtension = &quot;.avi&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;application/x-zip-compressed&quot;)) {\n                fileExtension = &quot;.zip&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;image/png&quot;)) {\n                fileExtension = &quot;.png&quot;;\n            } else if (mimeType.equalsIgnoreCase(&quot;application/msword&quot;)) {\n                fileExtension = &quot;.doc&quot;;\n            } else {\n                LOGGER.error(&quot;Unknown mimeType  &quot; + mimeType);\n            }\n        }\n        return fileExtension;\n    }\n</code></pre>\n<p>I tried changing the file extension for &quot;application/x-tika-ooxml&quot;</p>\n<pre><code>} else if (mimeType.equalsIgnoreCase(&quot;application/x-tika-ooxml&quot;)) {\n                fileExtension = &quot;.xlsx&quot;;\n</code></pre>\n<p>to docx, doc, however, I still got the same results</p>\n<p>I am using this dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n    &lt;version&gt;2.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>other file formats, such as .pdf .xml .mp4 .jpeg, .jpg .mp3 are working</p>\n"},{"tags":["java","xml","sonarqube","owasp"],"comments":[{"owner":{"account_id":295440,"reputation":1210,"user_id":599851,"accept_rate":58,"display_name":"iCrus"},"score":0,"creation_date":1561567777,"post_id":56777287,"comment_id":100110519,"body_markdown":"Have you had a look at : https://stackoverflow.com/questions/40649152/how-to-prevent-xxe-attack\n\nand this rule from Sonar: https://sonarcloud.io/organizations/alexlittle-github/rules?open=squid%3AS2755&amp;rule_key=squid%3AS2755","body":"Have you had a look at : <a href=\"https://stackoverflow.com/questions/40649152/how-to-prevent-xxe-attack\" title=\"how to prevent xxe attack\">stackoverflow.com/questions/40649152/how-to-prevent-xxe-atta&zwnj;&#8203;ck</a>  and this rule from Sonar: <a href=\"https://sonarcloud.io/organizations/alexlittle-github/rules?open=squid%3AS2755&amp;rule_key=squid%3AS2755\" rel=\"nofollow noreferrer\">sonarcloud.io/organizations/alexlittle-github/&hellip;</a>"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1561569521,"post_id":56777287,"comment_id":100111279,"body_markdown":"Your code looks fine to me, perhaps the checker is just being stupid. Also, what people so often forget is that the XXE vulnerability only applies if you are processing untrusted XML. If you know where the XML came from and trust the code that generated it, XXE is not an issue. Unfortunately though the security people don&#39;t always understand that subtlety.","body":"Your code looks fine to me, perhaps the checker is just being stupid. Also, what people so often forget is that the XXE vulnerability only applies if you are processing untrusted XML. If you know where the XML came from and trust the code that generated it, XXE is not an issue. Unfortunately though the security people don&#39;t always understand that subtlety."},{"owner":{"account_id":16210013,"reputation":161,"user_id":11704276,"display_name":"cheetoo"},"score":0,"creation_date":1561570873,"post_id":56777287,"comment_id":100111927,"body_markdown":"Hi iCrus. I have tried all those possibilities from sonarqube but still I didn&#39;t fixed yet","body":"Hi iCrus. I have tried all those possibilities from sonarqube but still I didn&#39;t fixed yet"}],"answers":[{"tags":[],"owner":{"account_id":3246859,"reputation":1352,"user_id":2738155,"accept_rate":88,"display_name":"chomp"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1697634275,"creation_date":1579013328,"answer_id":59736162,"question_id":56777287,"body_markdown":"I end up adding all of the following attributes in order to avoid Sonar complaining about this vulnerability:\r\n```java\r\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\r\n//REDHAT\r\n//https://www.blackhat.com/docs/us-15/materials/us-15-Wang-FileCry-The-New-Age-Of-XXE-java-wp.pdf\r\nfactory.setAttribute(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n\r\n//OWASP\r\n//https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\r\nfactory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\nfactory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\r\nfactory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\r\n// Disable external DTDs as well\r\nfactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\r\n// and these as well, per Timothy Morgan&#39;s 2014 paper: &quot;XML Schema, DTD, and Entity Attacks&quot;\r\nfactory.setXIncludeAware(false);\r\nfactory.setExpandEntityReferences(false);\r\n\r\nDocumentBuilder builder = factory.newDocumentBuilder();\r\n```","title":"how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java","body":"<p>I end up adding all of the following attributes in order to avoid Sonar complaining about this vulnerability:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n\n//REDHAT\n//https://www.blackhat.com/docs/us-15/materials/us-15-Wang-FileCry-The-New-Age-Of-XXE-java-wp.pdf\nfactory.setAttribute(XMLConstants.FEATURE_SECURE_PROCESSING, true);\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n\n//OWASP\n//https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\nfactory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\nfactory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\nfactory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\n// Disable external DTDs as well\nfactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\n// and these as well, per Timothy Morgan's 2014 paper: &quot;XML Schema, DTD, and Entity Attacks&quot;\nfactory.setXIncludeAware(false);\nfactory.setExpandEntityReferences(false);\n\nDocumentBuilder builder = factory.newDocumentBuilder();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9853416,"reputation":103,"user_id":7298746,"display_name":"Michał S"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582881150,"creation_date":1582881150,"answer_id":60448479,"question_id":56777287,"body_markdown":"It should be enough to just set this two properties:\r\n\r\n    factory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n\tfactory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);","title":"how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java","body":"<p>It should be enough to just set this two properties:</p>\n\n<pre><code>factory.setFeature(\"http://apache.org/xml/features/disallow-doctype-decl\", true);\nfactory.setFeature(\"http://xml.org/sax/features/external-general-entities\", false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1594380802,"creation_date":1586265819,"answer_id":61081042,"question_id":56777287,"body_markdown":"*Java 9+ solution:*\r\n\r\nFor me changing `DocumentBuilderFactory.newInstance()` to `DocumentBuilderFactory.newDefaultInstance()` was enough to red rid of this warning.","title":"how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java","body":"<p><em>Java 9+ solution:</em></p>\n<p>For me changing <code>DocumentBuilderFactory.newInstance()</code> to <code>DocumentBuilderFactory.newDefaultInstance()</code> was enough to red rid of this warning.</p>\n"},{"tags":[],"owner":{"account_id":9276995,"reputation":57,"user_id":6889375,"display_name":"Theodore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610539284,"creation_date":1610530423,"answer_id":65699126,"question_id":56777287,"body_markdown":"I have fixed this issue by adding the below code snippet : \r\n```\r\nsaxParserFactory = SAXParserFactory.newInstance();\r\nsaxParserFactory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\nsaxParserFactory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\r\nsaxParserFactory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);    \r\nsaxParserFactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\r\nsaxParserFactory.setXIncludeAware(false);\r\n```\r\n","title":"how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java","body":"<p>I have fixed this issue by adding the below code snippet :</p>\n<pre><code>saxParserFactory = SAXParserFactory.newInstance();\nsaxParserFactory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\nsaxParserFactory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\nsaxParserFactory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);    \nsaxParserFactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\nsaxParserFactory.setXIncludeAware(false);\n</code></pre>\n"}],"owner":{"account_id":16210013,"reputation":161,"user_id":11704276,"display_name":"cheetoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36247,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1697634275,"creation_date":1561566329,"question_id":56777287,"body_markdown":"I ran my java code against sonarqube and I got &#39;Disable XML external entity (XXE) processing&#39; as vulnerability. I spend some time on google to resolve the issue. I have been trying alot of approach but nothing is working for me. I don&#39;t know what I&#39;m missing\r\n\r\nMy Code:\r\n\r\n            final DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();\r\n\t\t\tdocFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n\t\t\tdocFactory.setFeature(XMLInputFactory.IS_SUPPORTING_EXTERNAL_ENTITIES, false);\r\n\t\t\tdocFactory.setFeature(XMLInputFactory.SUPPORT_DTD, false);\r\n\r\n\t\t\tdocFactory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n\t\t\tdocFactory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\r\n\t\t\tdocFactory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\r\n\t\t\tdocFactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\r\n\r\n\t\t\tfinal DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\r\n\t\t\tfinal Document doc = docBuilder.parse(filepath);\r\n\r\n\r\nI&#39;m using java 1.8, Any help is appreciated. Thanks","title":"how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java","body":"<p>I ran my java code against sonarqube and I got 'Disable XML external entity (XXE) processing' as vulnerability. I spend some time on google to resolve the issue. I have been trying alot of approach but nothing is working for me. I don't know what I'm missing</p>\n\n<p>My Code:</p>\n\n<pre><code>        final DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();\n        docFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        docFactory.setFeature(XMLInputFactory.IS_SUPPORTING_EXTERNAL_ENTITIES, false);\n        docFactory.setFeature(XMLInputFactory.SUPPORT_DTD, false);\n\n        docFactory.setFeature(\"http://apache.org/xml/features/disallow-doctype-decl\", true);\n        docFactory.setFeature(\"http://xml.org/sax/features/external-general-entities\", false);\n        docFactory.setFeature(\"http://xml.org/sax/features/external-parameter-entities\", false);\n        docFactory.setFeature(\"http://apache.org/xml/features/nonvalidating/load-external-dtd\", false);\n\n        final DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\n        final Document doc = docBuilder.parse(filepath);\n</code></pre>\n\n<p>I'm using java 1.8, Any help is appreciated. Thanks</p>\n"},{"tags":["java","android","audio-streaming","audiotrack","audiorecord"],"comments":[{"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"score":2,"creation_date":1697618422,"post_id":77314488,"comment_id":136301158,"body_markdown":"I&#39;m not very familiar with the WAV format, but I would expect to have the header only at the beginning of the stream and not with every buffer.","body":"I&#39;m not very familiar with the WAV format, but I would expect to have the header only at the beginning of the stream and not with every buffer."},{"owner":{"account_id":19348945,"reputation":85,"user_id":14146796,"display_name":"someone"},"score":0,"creation_date":1697626849,"post_id":77314488,"comment_id":136302800,"body_markdown":"@dev.bmax I&#39;m also playing the data on web platform, and it seems like I can&#39;t play it without generating header.","body":"@dev.bmax I&#39;m also playing the data on web platform, and it seems like I can&#39;t play it without generating header."},{"owner":{"account_id":2255269,"reputation":2304,"user_id":1986583,"accept_rate":86,"display_name":"Hartmut Pfitzinger"},"score":0,"creation_date":1701113357,"post_id":77314488,"comment_id":136732521,"body_markdown":"you didn&#39;t get what @dev.bmax meant: you are saving the header again and again, with each little block of samples you read. So you&#39;re interrupting your written audio by yourself!","body":"you didn&#39;t get what @dev.bmax meant: you are saving the header again and again, with each little block of samples you read. So you&#39;re interrupting your written audio by yourself!"}],"answers":[{"tags":[],"owner":{"account_id":28297260,"reputation":758,"user_id":21636521,"display_name":"JanItor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697634212,"creation_date":1697633902,"answer_id":77316531,"question_id":77314488,"body_markdown":"You can write audio data without the header by specifying offset in the `audioBuffer`, something like\r\n```\r\nint audioOffset = wavHeaders.length;\r\nint audioLength = audioBuffer.length - wavHeaders.length;\r\nplayer.write(audioBuffer, audioOffset, audioLength, 0);\r\n```","title":"Android Java sound recorded with AudioRecord has noise when played","body":"<p>You can write audio data without the header by specifying offset in the <code>audioBuffer</code>, something like</p>\n<pre><code>int audioOffset = wavHeaders.length;\nint audioLength = audioBuffer.length - wavHeaders.length;\nplayer.write(audioBuffer, audioOffset, audioLength, 0);\n</code></pre>\n"}],"owner":{"account_id":19348945,"reputation":85,"user_id":14146796,"display_name":"someone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77316531,"answer_count":1,"score":0,"last_activity_date":1697634212,"creation_date":1697616313,"question_id":77314488,"body_markdown":"I&#39;m recording voice using `AudioRecord`, send it to server, receive it on both Android and Web. On Android, I&#39;m playing the audio using `AudioTrack`, and there&#39;s a &quot;tttttt&quot; noise. On web, such noise doesn&#39;t seem to exist, maybe web API changes it to another more comfortable noise. \r\n\r\nI&#39;m recording voice and sending it so server like this:\r\n\r\n```java\r\nrecorder = new AudioRecord(audioSource, sampleRateInHz, channelConfig, audioFormat, bufferSize);\r\nint audioSession = recorder.getAudioSessionId();\r\nNoiseSuppressor.create(audioSession);\r\nAutomaticGainControl.create(audioSession);\r\nAcousticEchoCanceler.create(audioSession);\r\n...\r\ntry {\r\n    int bytesRead;\r\n    int count = 0;\r\n    byte[] buffer = new byte[bufferSize];\r\n\r\n    while (isRecording) {\r\n        bytesRead = recorder.read(buffer, 0, buffer.length);\r\n\r\n        // skip first 2 buffers to eliminate &quot;click sound&quot;\r\n        if (bytesRead &gt; 0 &amp;&amp; ++count &gt; 2) {\r\n\r\n            // I&#39;m manually adding wav header to make it playable on web\r\n            byte[] combined = new byte[wavHeaders.length + buffer.length];\r\n            System.arraycopy(wavHeaders, 0, combined, 0, wavHeaders.length);\r\n            System.arraycopy(buffer, 0, combined, wavHeaders.length, buffer.length);\r\n\r\n            socket.emit(&quot;voice&quot;, combined);\r\n        }\r\n    }\r\n    recorder.stop();\r\n} catch (Exception e) {\r\n    // e.printStackTrace();\r\n}\r\n```\r\n\r\nAnd this is how I&#39;m playing the audio:\r\n\r\n```java\r\nplayer = new AudioTrack.Builder()\r\n        .setAudioAttributes(new AudioAttributes.Builder()\r\n                // .setUsage(AudioAttributes.USAGE_VOICE_COMMUNICATION)\r\n                .setUsage(AudioAttributes.USAGE_MEDIA)\r\n                .setContentType(AudioAttributes.CONTENT_TYPE_SPEECH)\r\n                .build())\r\n        .setAudioFormat(new AudioFormat.Builder()\r\n                .setEncoding(audioFormat)\r\n                .setSampleRate(sampleRateInHz)\r\n                .setChannelMask(outputChannelConfig)\r\n                .build())\r\n        .setBufferSizeInBytes(bufferSize)\r\n        .build();\r\n...\r\nplayer.play();\r\n...\r\npublic void addPlay(byte[] audioBuffer) {\r\n    player.write(audioBuffer, 0, audioBuffer.length, 0);\r\n}\r\n...\r\ntry {\r\n    addPlay((byte[]) args[0]);\r\n} catch (Exception e) {\r\n    // TODO: handle exception\r\n}\r\n```\r\n\r\n\r\n# Update:\r\n\r\nI noticed by removing the generated header, the &quot;ttttt&quot; noise goes away, but I need to in order to be playable on web.","title":"Android Java sound recorded with AudioRecord has noise when played","body":"<p>I'm recording voice using <code>AudioRecord</code>, send it to server, receive it on both Android and Web. On Android, I'm playing the audio using <code>AudioTrack</code>, and there's a &quot;tttttt&quot; noise. On web, such noise doesn't seem to exist, maybe web API changes it to another more comfortable noise.</p>\n<p>I'm recording voice and sending it so server like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>recorder = new AudioRecord(audioSource, sampleRateInHz, channelConfig, audioFormat, bufferSize);\nint audioSession = recorder.getAudioSessionId();\nNoiseSuppressor.create(audioSession);\nAutomaticGainControl.create(audioSession);\nAcousticEchoCanceler.create(audioSession);\n...\ntry {\n    int bytesRead;\n    int count = 0;\n    byte[] buffer = new byte[bufferSize];\n\n    while (isRecording) {\n        bytesRead = recorder.read(buffer, 0, buffer.length);\n\n        // skip first 2 buffers to eliminate &quot;click sound&quot;\n        if (bytesRead &gt; 0 &amp;&amp; ++count &gt; 2) {\n\n            // I'm manually adding wav header to make it playable on web\n            byte[] combined = new byte[wavHeaders.length + buffer.length];\n            System.arraycopy(wavHeaders, 0, combined, 0, wavHeaders.length);\n            System.arraycopy(buffer, 0, combined, wavHeaders.length, buffer.length);\n\n            socket.emit(&quot;voice&quot;, combined);\n        }\n    }\n    recorder.stop();\n} catch (Exception e) {\n    // e.printStackTrace();\n}\n</code></pre>\n<p>And this is how I'm playing the audio:</p>\n<pre class=\"lang-java prettyprint-override\"><code>player = new AudioTrack.Builder()\n        .setAudioAttributes(new AudioAttributes.Builder()\n                // .setUsage(AudioAttributes.USAGE_VOICE_COMMUNICATION)\n                .setUsage(AudioAttributes.USAGE_MEDIA)\n                .setContentType(AudioAttributes.CONTENT_TYPE_SPEECH)\n                .build())\n        .setAudioFormat(new AudioFormat.Builder()\n                .setEncoding(audioFormat)\n                .setSampleRate(sampleRateInHz)\n                .setChannelMask(outputChannelConfig)\n                .build())\n        .setBufferSizeInBytes(bufferSize)\n        .build();\n...\nplayer.play();\n...\npublic void addPlay(byte[] audioBuffer) {\n    player.write(audioBuffer, 0, audioBuffer.length, 0);\n}\n...\ntry {\n    addPlay((byte[]) args[0]);\n} catch (Exception e) {\n    // TODO: handle exception\n}\n</code></pre>\n<h1>Update:</h1>\n<p>I noticed by removing the generated header, the &quot;ttttt&quot; noise goes away, but I need to in order to be playable on web.</p>\n"},{"tags":["java","websphere"],"comments":[{"owner":{"account_id":13739626,"reputation":116,"user_id":9915084,"display_name":"Thomas Johnson"},"score":0,"creation_date":1697561200,"post_id":77305316,"comment_id":136294238,"body_markdown":"Is this traditional Websphere or WebSphere Liberty (i.e. What version of WebSphere are you on?) I ask because if it&#39;s WebSphere Liberty, you are using, it would help to see how you have you features configured in your sever.xml.","body":"Is this traditional Websphere or WebSphere Liberty (i.e. What version of WebSphere are you on?) I ask because if it&#39;s WebSphere Liberty, you are using, it would help to see how you have you features configured in your sever.xml."}],"answers":[{"tags":[],"owner":{"account_id":29700237,"reputation":1,"user_id":22762572,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697633749,"creation_date":1697633749,"answer_id":77316506,"question_id":77305316,"body_markdown":"\r\nIn WAS traditional, the SSL configurations that you define in the administrative console are applied at the runtime by a class called an SSLSocketFactory. WebSphere has its own custom SSLSocketFactory implementation (com.ibm.websphere.ssl.protocol.SSLSocketFactory) which it sets as the default for the IBM Java runtime that it sits on top of. When application code calls APIs that use this SSLSocketFactory for their connections, the WAS SSL settings are applied to the connection and any problems with the connection (for example protocol mismatches, cipher suite mismatches, or certificate trust issues) can be resolved by making changes to the SSL configurations in the WAS administrative console.\r\n\r\n[enter image description here][1]\r\nSuppose you explicitly use system properties within your code rather than relying on the default settings configured for the JVM (which, in typical scenarios, is the WebSphere Application Server (WAS) implementation). In that case, it may bypass the WAS SSL configuration, including settings such as keyStores, trustStores, cipher suites, and handshake protocols.\r\n\r\nif you choose to override the WAS SSL settings, please ensure that you include the system properties for the keystore type and truststore type, which are set as follows:\r\n\r\n    javax.net.ssl.trustStoreType\r\n    javax.net.ssl.keyStoreType\r\n\r\nBoth of these properties should be set to JKS.\r\n\r\nIf you have any further questions or need additional assistance from WAS SSL, please do not hesitate to contact IBM Websphere technical support.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fxET5.png","title":"The following WSDL exception occurred: WSDLException: faultCode=WSDL4JWrapper","body":"<p>In WAS traditional, the SSL configurations that you define in the administrative console are applied at the runtime by a class called an SSLSocketFactory. WebSphere has its own custom SSLSocketFactory implementation (com.ibm.websphere.ssl.protocol.SSLSocketFactory) which it sets as the default for the IBM Java runtime that it sits on top of. When application code calls APIs that use this SSLSocketFactory for their connections, the WAS SSL settings are applied to the connection and any problems with the connection (for example protocol mismatches, cipher suite mismatches, or certificate trust issues) can be resolved by making changes to the SSL configurations in the WAS administrative console.</p>\n<p><a href=\"https://i.stack.imgur.com/fxET5.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nSuppose you explicitly use system properties within your code rather than relying on the default settings configured for the JVM (which, in typical scenarios, is the WebSphere Application Server (WAS) implementation). In that case, it may bypass the WAS SSL configuration, including settings such as keyStores, trustStores, cipher suites, and handshake protocols.</p>\n<p>if you choose to override the WAS SSL settings, please ensure that you include the system properties for the keystore type and truststore type, which are set as follows:</p>\n<pre><code>javax.net.ssl.trustStoreType\njavax.net.ssl.keyStoreType\n</code></pre>\n<p>Both of these properties should be set to JKS.</p>\n<p>If you have any further questions or need additional assistance from WAS SSL, please do not hesitate to contact IBM Websphere technical support.</p>\n"}],"owner":{"account_id":29687114,"reputation":1,"user_id":22752380,"display_name":"Marco Bernal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697633749,"creation_date":1697496058,"question_id":77305316,"body_markdown":"I&#180;m trying to connect to a webService on a Java application. I create my own .jks file for the certificates.\r\nWhen I deploy the app in my local (is a tomcat server), the application is ok. But when I deploy it on a Websphere server I have this error:\r\n\r\n`The following WSDL exception occurred: WSDLException: faultCode=WSDL4JWrapper : : javax.wsdl.WSDLException: WSDLException: faultCode=WSDL4JWrapper : : javax.net.ssl.SSLException: SSLSocketFactory is null. This can occur if javax.net.ssl.SSLSocketFactory.getDefault() is called to create a socket and javax.net.ssl.* properties are not set.`\r\n\r\nI set the properties on this way:\r\n\r\n```\r\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, this.util.getPropertie(&quot;trustStore&quot;));\r\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, this.util.getPropertie(&quot;trustStorePassword&quot;));\r\nSystem.setProperty( &quot;javax.net.ssl.keyStore&quot;, this.util.getPropertie(&quot;keyStore&quot;));\r\nSystem.setProperty( &quot;javax.net.ssl.keyStorePassword&quot;, this.util.getPropertie(&quot;keyStorePassword&quot;));\r\n```\r\n\r\nAnd I take the properties from a .properties file.\r\n\r\nThanks in advance. I apologize if I didn&#180;t do my question correctly, but is my first time writing here.\r\n\r\nRegards.\r\n\r\nI&#180;m trying to connect my web application to a web service","title":"The following WSDL exception occurred: WSDLException: faultCode=WSDL4JWrapper","body":"<p>I´m trying to connect to a webService on a Java application. I create my own .jks file for the certificates.\nWhen I deploy the app in my local (is a tomcat server), the application is ok. But when I deploy it on a Websphere server I have this error:</p>\n<p><code>The following WSDL exception occurred: WSDLException: faultCode=WSDL4JWrapper : : javax.wsdl.WSDLException: WSDLException: faultCode=WSDL4JWrapper : : javax.net.ssl.SSLException: SSLSocketFactory is null. This can occur if javax.net.ssl.SSLSocketFactory.getDefault() is called to create a socket and javax.net.ssl.* properties are not set.</code></p>\n<p>I set the properties on this way:</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, this.util.getPropertie(&quot;trustStore&quot;));\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, this.util.getPropertie(&quot;trustStorePassword&quot;));\nSystem.setProperty( &quot;javax.net.ssl.keyStore&quot;, this.util.getPropertie(&quot;keyStore&quot;));\nSystem.setProperty( &quot;javax.net.ssl.keyStorePassword&quot;, this.util.getPropertie(&quot;keyStorePassword&quot;));\n</code></pre>\n<p>And I take the properties from a .properties file.</p>\n<p>Thanks in advance. I apologize if I didn´t do my question correctly, but is my first time writing here.</p>\n<p>Regards.</p>\n<p>I´m trying to connect my web application to a web service</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1697451153,"post_id":77301071,"comment_id":136277185,"body_markdown":"Can you explain where in your code you tried to check if the maximum number is twice as big as the next biggest number? To me it just looks like you iterate over the array and count how often the biggest number appears in the array with the `count` variable and if it appears twice you print it, otherwise you print -1. But that has little to do with the actual task description","body":"Can you explain where in your code you tried to check if the maximum number is twice as big as the next biggest number? To me it just looks like you iterate over the array and count how often the biggest number appears in the array with the <code>count</code> variable and if it appears twice you print it, otherwise you print -1. But that has little to do with the actual task description"},{"owner":{"account_id":29626176,"reputation":27,"user_id":22705841,"display_name":"user_program"},"score":0,"creation_date":1697451322,"post_id":77301071,"comment_id":136277214,"body_markdown":"if(max==x[i]) in this condition I am checking if the max element is occurring more than once then we will upgrade the count again for the maximum element.","body":"if(max==x[i]) in this condition I am checking if the max element is occurring more than once then we will upgrade the count again for the maximum element."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1697451483,"post_id":77301071,"comment_id":136277245,"body_markdown":"Yes I understand that. What I don&#39;t understand is why you are doing this. Why are you counting how often the maximum element appears? If I understand your task description correct the task is to check if the maximum element in the array is at least 2 times bigger than every other number in the array. That has nothing to do with how often the element appears. Or do i misunderstand the task?","body":"Yes I understand that. What I don&#39;t understand is why you are doing this. Why are you counting how often the maximum element appears? If I understand your task description correct the task is to check if the maximum element in the array is at least 2 times bigger than every other number in the array. That has nothing to do with how often the element appears. Or do i misunderstand the task?"}],"answers":[{"tags":[],"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697632917,"creation_date":1697488226,"answer_id":77304797,"question_id":77301071,"body_markdown":"Given your description, the element you are searching for can only be the maximum element in the array. Furthermore you only have to check whether this element is at least twice as big as second largest value. Ie find the indexes `x` and `y`  of the two largest elements in the array and check if `a[x] &gt;= 2*a[y]`\r\n\r\n    int x = a[0] &gt;= a[1] ? 0 : 1;\r\n    int y = a[0] &lt; a[1] ? 0 : 1;\r\n\r\n    for (int i = 2; i &lt; n; i++) {\r\n      if (a[i] &gt; a[x]) {\r\n        //The current element is larger than the current maximum.\r\n        //Thus, it becomes the new max, and the current max becomes second largest.\r\n        y = x; x = i;\r\n      } else if (a[i] &gt; a[y]) {\r\n        //The current element is larger than the second biggest but smaller than the maximum\r\n        //Thus only replace the second biggest element \r\n        y = i;\r\n      }\r\n    }\r\n    //Check if the maximum is at least twice as big as the second largest \r\n    return (a[x] &gt;= 2*a[y]) ? x : -1;","title":"code for finding the largest element in the array is at least twice as much as every other number in the array","body":"<p>Given your description, the element you are searching for can only be the maximum element in the array. Furthermore you only have to check whether this element is at least twice as big as second largest value. Ie find the indexes <code>x</code> and <code>y</code>  of the two largest elements in the array and check if <code>a[x] &gt;= 2*a[y]</code></p>\n<pre><code>int x = a[0] &gt;= a[1] ? 0 : 1;\nint y = a[0] &lt; a[1] ? 0 : 1;\n\nfor (int i = 2; i &lt; n; i++) {\n  if (a[i] &gt; a[x]) {\n    //The current element is larger than the current maximum.\n    //Thus, it becomes the new max, and the current max becomes second largest.\n    y = x; x = i;\n  } else if (a[i] &gt; a[y]) {\n    //The current element is larger than the second biggest but smaller than the maximum\n    //Thus only replace the second biggest element \n    y = i;\n  }\n}\n//Check if the maximum is at least twice as big as the second largest \nreturn (a[x] &gt;= 2*a[y]) ? x : -1;\n</code></pre>\n"}],"owner":{"account_id":29626176,"reputation":27,"user_id":22705841,"display_name":"user_program"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697632917,"creation_date":1697450886,"question_id":77301071,"body_markdown":"I was writing the code for finding the largest element in the array is at least twice as much as every other number in the array. \r\n\r\nOutput the index(0-based) of the largest element if the condition holds true or -1 otherwise.\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        int [] x = new int [n];\r\n        for(int i=0;i&lt;n;i++){\r\n            x[i]=sc.nextInt();\r\n        }\r\n        \r\n        \r\n        int max=Integer.MIN_VALUE;\r\n        int count=0;\r\n        int i;\r\n        for(i=0;i&lt;n;i++){\r\n            if(max&lt;x[i]){\r\n                max=x[i];\r\n                count=0;\r\n            }\r\n            if(max==x[i]){\r\n                count++;\r\n            }\r\n        }\r\n        if(count&gt;=2){\r\n            System.out.print(i);\r\n        }\r\n        else{\r\n            System.out.print(&quot;-1&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nIn my case the test cases from hackerrank are not passing can someone please guide me here so as to pass all the test cases.","title":"code for finding the largest element in the array is at least twice as much as every other number in the array","body":"<p>I was writing the code for finding the largest element in the array is at least twice as much as every other number in the array.</p>\n<p>Output the index(0-based) of the largest element if the condition holds true or -1 otherwise.</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int [] x = new int [n];\n        for(int i=0;i&lt;n;i++){\n            x[i]=sc.nextInt();\n        }\n        \n        \n        int max=Integer.MIN_VALUE;\n        int count=0;\n        int i;\n        for(i=0;i&lt;n;i++){\n            if(max&lt;x[i]){\n                max=x[i];\n                count=0;\n            }\n            if(max==x[i]){\n                count++;\n            }\n        }\n        if(count&gt;=2){\n            System.out.print(i);\n        }\n        else{\n            System.out.print(&quot;-1&quot;);\n        }\n    }\n}\n</code></pre>\n<p>In my case the test cases from hackerrank are not passing can someone please guide me here so as to pass all the test cases.</p>\n"},{"tags":["java","hibernate","gradle"],"answers":[{"tags":[],"owner":{"account_id":5263243,"reputation":1162,"user_id":4204127,"accept_rate":33,"display_name":"Ed Dunn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547233647,"creation_date":1547233647,"answer_id":54152613,"question_id":54150924,"body_markdown":"Seems like I fixed it by changing the following\r\n\r\n    destDir: &quot;build/classes&quot;,\r\n\r\nEverything seems to be working as expected","title":"Re writting gradle code to be compatible with 5.1","body":"<p>Seems like I fixed it by changing the following</p>\n\n<pre><code>destDir: \"build/classes\",\n</code></pre>\n\n<p>Everything seems to be working as expected</p>\n"},{"tags":[],"owner":{"account_id":8331833,"reputation":3563,"user_id":6259990,"display_name":"Sven Hakvoort"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697632854,"creation_date":1697632854,"answer_id":77316408,"question_id":54150924,"body_markdown":"For gradle 8.2 use the following:\r\n\r\n    sourceSets.main.java.classesDirectory.get()","title":"Re writting gradle code to be compatible with 5.1","body":"<p>For gradle 8.2 use the following:</p>\n<pre><code>sourceSets.main.java.classesDirectory.get()\n</code></pre>\n"}],"owner":{"account_id":5263243,"reputation":1162,"user_id":4204127,"accept_rate":33,"display_name":"Ed Dunn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697632854,"creation_date":1547225771,"question_id":54150924,"body_markdown":"I am stuck on trying to re work some code to be compatible with gradle 5.1.  I am currently using 4.10.  The following block of code is for hibernate that I copied (for the most part) so honestly I am not 100% sure of what it all does, still fairly new to gradle.  Here is the following code\r\n\r\n        doLast{\r\n            ant.taskdef( resource:&quot;org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties&quot;, classpath: configurations.ajc.asPath)\r\n            ant.iajc(\r\n                source: sourceCompatibility,\r\n                target: targetCompatibility,\r\n                Xlint: &quot;ignore&quot;,\r\n                destDir: sourceSets.main.output.classesDir.absolutePath, \r\n                maxmem: &quot;1024m&quot;,\r\n                fork: &quot;true&quot;,\r\n                aspectPath: configurations.aspects.asPath,\r\n                sourceRootCopyFilter: &quot;**/.svn/*,**/*.java&quot;,\r\n                classpath: configurations.compile.asPath\r\n            ){\r\n                sourceroots{\r\n                    sourceSets.main.java.srcDirs.each{\r\n                        pathelement(location:it.absolutePath)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nThe code in question is the following line\r\n\r\n    destDir: sourceSets.main.output.classesDir.absolutePath,\r\n\r\nas it throws the following error\r\n\r\n&gt; Could not get unknown property &#39;classesDir&#39; for main classes of type org.gradle.api.internal.tasks.DefaultSourceSetOutput.\r\n\r\nChanging the code to\r\n\r\n    destDir: sourceSets.main.output.classesDirs.absolutePath,\r\n\r\ncauses the following error\r\n\r\n&gt; No such property: absolutePath for class: org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection\r\n\r\nSo I am looking into alternatives (or syntax updates)\r\n","title":"Re writting gradle code to be compatible with 5.1","body":"<p>I am stuck on trying to re work some code to be compatible with gradle 5.1.  I am currently using 4.10.  The following block of code is for hibernate that I copied (for the most part) so honestly I am not 100% sure of what it all does, still fairly new to gradle.  Here is the following code</p>\n\n<pre><code>    doLast{\n        ant.taskdef( resource:\"org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties\", classpath: configurations.ajc.asPath)\n        ant.iajc(\n            source: sourceCompatibility,\n            target: targetCompatibility,\n            Xlint: \"ignore\",\n            destDir: sourceSets.main.output.classesDir.absolutePath, \n            maxmem: \"1024m\",\n            fork: \"true\",\n            aspectPath: configurations.aspects.asPath,\n            sourceRootCopyFilter: \"**/.svn/*,**/*.java\",\n            classpath: configurations.compile.asPath\n        ){\n            sourceroots{\n                sourceSets.main.java.srcDirs.each{\n                    pathelement(location:it.absolutePath)\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>The code in question is the following line</p>\n\n<pre><code>destDir: sourceSets.main.output.classesDir.absolutePath,\n</code></pre>\n\n<p>as it throws the following error</p>\n\n<blockquote>\n  <p>Could not get unknown property 'classesDir' for main classes of type org.gradle.api.internal.tasks.DefaultSourceSetOutput.</p>\n</blockquote>\n\n<p>Changing the code to</p>\n\n<pre><code>destDir: sourceSets.main.output.classesDirs.absolutePath,\n</code></pre>\n\n<p>causes the following error</p>\n\n<blockquote>\n  <p>No such property: absolutePath for class: org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection</p>\n</blockquote>\n\n<p>So I am looking into alternatives (or syntax updates)</p>\n"},{"tags":["java","spring-boot","heroku","jwt"],"answers":[{"tags":[],"owner":{"account_id":13923090,"reputation":5270,"user_id":10053052,"display_name":"Tin Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1614537327,"creation_date":1614537327,"answer_id":66412582,"question_id":66403244,"body_markdown":"It cannot find `org.springframework.security.oauth2.jwt.JwtDecoder` because you listed that dependency as `test scope`\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nChange the `scope` or just remove that entry. Default entry is `compile`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6IbQm.png","title":"Heroku deployment error &quot;required a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that could not be found.&quot;","body":"<p>It cannot find <code>org.springframework.security.oauth2.jwt.JwtDecoder</code> because you listed that dependency as <code>test scope</code></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6IbQm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6IbQm.png\" alt=\"enter image description here\" /></a></p>\n<p>Change the <code>scope</code> or just remove that entry. Default entry is <code>compile</code>.</p>\n"},{"tags":[],"owner":{"account_id":10786100,"reputation":2966,"user_id":7935057,"display_name":"Iceberg"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1646991474,"creation_date":1633766823,"answer_id":69504887,"question_id":66403244,"body_markdown":"Try to specify the **jwk-set-uri** configuration in application.yml:\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          jwk-set-uri: https://example.com/.well-known/jwks.json\r\n```\r\n\r\nFor application.properties:\r\n```\r\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://example.com/.well-known/jwks.json\r\n```\r\n","title":"Heroku deployment error &quot;required a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that could not be found.&quot;","body":"<p>Try to specify the <strong>jwk-set-uri</strong> configuration in application.yml:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          jwk-set-uri: https://example.com/.well-known/jwks.json\n</code></pre>\n<p>For application.properties:</p>\n<pre><code>spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://example.com/.well-known/jwks.json\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2218633,"reputation":21,"user_id":1958655,"display_name":"Krzysztof Walczewski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638492478,"creation_date":1638492373,"answer_id":70208191,"question_id":66403244,"body_markdown":"TL;DR\r\n```\r\n@SpringBootTest(\r\n\t\tproperties = {\r\n\t\t\t\t&quot;spring.security.oauth2.resourceserver.jwt.jwk-set-uri = http://&lt;host&gt;:&lt;port&gt;/auth/realms/your-realm/protocol/openid-connect/certs&quot;}\r\n)\r\n```\r\nexample with keycloak","title":"Heroku deployment error &quot;required a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that could not be found.&quot;","body":"<p>TL;DR</p>\n<pre><code>@SpringBootTest(\n        properties = {\n                &quot;spring.security.oauth2.resourceserver.jwt.jwk-set-uri = http://&lt;host&gt;:&lt;port&gt;/auth/realms/your-realm/protocol/openid-connect/certs&quot;}\n)\n</code></pre>\n<p>example with keycloak</p>\n"},{"tags":[],"owner":{"account_id":21331723,"reputation":31,"user_id":15703446,"display_name":"Arman Moniri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692340675,"creation_date":1692167165,"answer_id":76910993,"question_id":66403244,"body_markdown":"use `@SpringBootApplication(scanBasePackages = &quot;org.springframework.security.oauth2.jwt&quot;)` in your main application class.","title":"Heroku deployment error &quot;required a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that could not be found.&quot;","body":"<p>use <code>@SpringBootApplication(scanBasePackages = &quot;org.springframework.security.oauth2.jwt&quot;)</code> in your main application class.</p>\n"},{"tags":[],"owner":{"account_id":5608200,"reputation":95,"user_id":4441953,"display_name":"Ashwin Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692378671,"creation_date":1692378671,"answer_id":76931344,"question_id":66403244,"body_markdown":"Add the JwtDecoder @Bean like so, and check if it works\r\n    \r\n    @Configuration @EnableWebSecurity public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public JwtDecoder jwtDecoder() {\r\n            return JwtDecoders.fromIssuerLocation(&quot;your-issuer-uri&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception{\r\n            http.csrf().disable().cors().configurationSource(corsConfigurationSource())\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/*&quot;)\r\n                    .authenticated()\r\n                    .and()\r\n                    .oauth2ResourceServer()\r\n                    .jwt();\r\n        }","title":"Heroku deployment error &quot;required a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that could not be found.&quot;","body":"<p>Add the JwtDecoder @Bean like so, and check if it works</p>\n<pre><code>@Configuration @EnableWebSecurity public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        return JwtDecoders.fromIssuerLocation(&quot;your-issuer-uri&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n        http.csrf().disable().cors().configurationSource(corsConfigurationSource())\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/*&quot;)\n                .authenticated()\n                .and()\n                .oauth2ResourceServer()\n                .jwt();\n    }\n</code></pre>\n"}],"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66412582,"answer_count":5,"score":2,"last_activity_date":1697632535,"creation_date":1614458164,"question_id":66403244,"body_markdown":"I am trying to deploy my springboot app to heroku but I am getting an error that it cannot find a JwtDecoder bean. I have tried googling it a bit but can&#39;t find anything that helps. Everything works fine locally, just not when deployed to heroku.\r\n\r\nHere is my heroku log --tail:\r\n```\r\n2021-02-27T20:18:45.134160+00:00 app[web.1]: ***************************\r\n2021-02-27T20:18:45.134160+00:00 app[web.1]: APPLICATION FAILED TO START\r\n2021-02-27T20:18:45.134160+00:00 app[web.1]: ***************************\r\n2021-02-27T20:18:45.134161+00:00 app[web.1]:\r\n2021-02-27T20:18:45.134161+00:00 app[web.1]: Description:\r\n2021-02-27T20:18:45.134161+00:00 app[web.1]:\r\n2021-02-27T20:18:45.134179+00:00 app[web.1]: Method springSecurityFilterChain in\r\norg.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration \r\nrequired a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that \r\ncould not be found.\r\n2021-02-27T20:18:45.134179+00:00 app[web.1]: \r\n2021-02-27T20:18:45.134179+00:00 app[web.1]:\r\n2021-02-27T20:18:45.134180+00:00 app[web.1]: Action:\r\n2021-02-27T20:18:45.134180+00:00 app[web.1]:\r\n2021-02-27T20:18:45.134181+00:00 app[web.1]: Consider defining a bean of type \r\n&#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; in your configuration.\r\n```\r\n\r\nWebSecurityConfig:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n        http.csrf().disable().cors().configurationSource(corsConfigurationSource())\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/*&quot;)\r\n                .authenticated()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt();\r\n    }\r\n\r\n```\r\n\r\nI&#39;m not sure what else to include... Feel free to comment on what else I should add. Or, the repo is at https://github.com/AndreTheTallGuy/Kelp2\r\n\r\nThank you in advance for any help you may be able to provide!","title":"Heroku deployment error &quot;required a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that could not be found.&quot;","body":"<p>I am trying to deploy my springboot app to heroku but I am getting an error that it cannot find a JwtDecoder bean. I have tried googling it a bit but can't find anything that helps. Everything works fine locally, just not when deployed to heroku.</p>\n<p>Here is my heroku log --tail:</p>\n<pre><code>2021-02-27T20:18:45.134160+00:00 app[web.1]: ***************************\n2021-02-27T20:18:45.134160+00:00 app[web.1]: APPLICATION FAILED TO START\n2021-02-27T20:18:45.134160+00:00 app[web.1]: ***************************\n2021-02-27T20:18:45.134161+00:00 app[web.1]:\n2021-02-27T20:18:45.134161+00:00 app[web.1]: Description:\n2021-02-27T20:18:45.134161+00:00 app[web.1]:\n2021-02-27T20:18:45.134179+00:00 app[web.1]: Method springSecurityFilterChain in\norg.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration \nrequired a bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' that \ncould not be found.\n2021-02-27T20:18:45.134179+00:00 app[web.1]: \n2021-02-27T20:18:45.134179+00:00 app[web.1]:\n2021-02-27T20:18:45.134180+00:00 app[web.1]: Action:\n2021-02-27T20:18:45.134180+00:00 app[web.1]:\n2021-02-27T20:18:45.134181+00:00 app[web.1]: Consider defining a bean of type \n'org.springframework.security.oauth2.jwt.JwtDecoder' in your configuration.\n</code></pre>\n<p>WebSecurityConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n        http.csrf().disable().cors().configurationSource(corsConfigurationSource())\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/*&quot;)\n                .authenticated()\n                .and()\n                .oauth2ResourceServer()\n                .jwt();\n    }\n\n</code></pre>\n<p>I'm not sure what else to include... Feel free to comment on what else I should add. Or, the repo is at <a href=\"https://github.com/AndreTheTallGuy/Kelp2\" rel=\"nofollow noreferrer\">https://github.com/AndreTheTallGuy/Kelp2</a></p>\n<p>Thank you in advance for any help you may be able to provide!</p>\n"},{"tags":["java","command-line","compiler-construction","package","javac"],"answers":[{"tags":[],"owner":{"account_id":31967,"reputation":4142,"user_id":88159,"accept_rate":95,"display_name":"pavanlimo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1282138926,"creation_date":1282138412,"answer_id":3512633,"question_id":3512603,"body_markdown":"You should use build tools like [Maven][1] or [Ant][2] for such tasks.\r\n\r\nIn the initial stages, when the project is not very complex you can use the following line to compile, with appropriate classpath in place(as suggested by @Michael):\r\n\r\n`javac Support/*.java Me/*.java Wrapers/*.java`\r\n\r\n  [1]: http://maven.apache.org/\r\n  [2]: http://ant.apache.org/","title":"Compiling multiple packages using the command line in Java","body":"<p>You should use build tools like <a href=\"http://maven.apache.org/\" rel=\"noreferrer\">Maven</a> or <a href=\"http://ant.apache.org/\" rel=\"noreferrer\">Ant</a> for such tasks.</p>\n\n<p>In the initial stages, when the project is not very complex you can use the following line to compile, with appropriate classpath in place(as suggested by @Michael):</p>\n\n<p><code>javac Support/*.java Me/*.java Wrapers/*.java</code></p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1282138620,"creation_date":1282138620,"answer_id":3512661,"question_id":3512603,"body_markdown":"This should do it (may require additional classpath elements via the `-cp` command line switch):\r\n\r\n    javac Support/*.java Me/*.java Wrapers/*.java\r\n\r\nBut if your build process gets more complex (and it will!), you should look into using [Apache Ant][1] for build automation.\r\n\r\n\r\n  [1]: http://ant.apache.org/","title":"Compiling multiple packages using the command line in Java","body":"<p>This should do it (may require additional classpath elements via the <code>-cp</code> command line switch):</p>\n\n<pre><code>javac Support/*.java Me/*.java Wrapers/*.java\n</code></pre>\n\n<p>But if your build process gets more complex (and it will!), you should look into using <a href=\"http://ant.apache.org/\" rel=\"noreferrer\">Apache Ant</a> for build automation.</p>\n"},{"tags":[],"owner":{"account_id":67623,"reputation":57713,"user_id":197788,"accept_rate":96,"display_name":"Ken Bloom"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1282138658,"creation_date":1282138658,"answer_id":3512668,"question_id":3512603,"body_markdown":"    javac -d compiled $(find src -name *.java)","title":"Compiling multiple packages using the command line in Java","body":"<pre><code>javac -d compiled $(find src -name *.java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173271,"reputation":14144,"user_id":401835,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282139186,"creation_date":1282139186,"answer_id":3512751,"question_id":3512603,"body_markdown":"If you really need to just use javac and standard UNIX commands you could to this:\r\n\r\n    find src -name \\*.java -print0 | xargs -0 javac -d classes","title":"Compiling multiple packages using the command line in Java","body":"<p>If you really need to just use javac and standard UNIX commands you could to this:</p>\n\n<pre><code>find src -name \\*.java -print0 | xargs -0 javac -d classes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43306,"reputation":4745,"user_id":126541,"accept_rate":58,"display_name":"aepryus"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1282139490,"creation_date":1282139490,"answer_id":3512801,"question_id":3512603,"body_markdown":"In many cases Ant is overkill.  Just use a BAT file if you are in windows or a shell script (sh file) if you are in linux.  You can create a text file which includes all your javac commands and just run that file when you want to build.\r\n\r\nFor example, I use the following bat file to build one of my apps:\r\n\r\n    @echo off\r\n    echo Building Shazaam...\r\n    \r\n    del classes\\com\\aepryus\\shazaam\\*.* /q\r\n    del classes\\com\\aepryus\\shazaam\\engine\\*.* /q\r\n    del classes\\com\\aepryus\\shazaam\\domain\\*.* /q\r\n    del classes\\com\\aepryus\\shazaam\\persist\\*.* /q\r\n    del classes\\com\\aepryus\\shazaam\\view\\*.* /q\r\n    del classes\\com\\aepryus\\shazaam\\task\\*.* /q\r\n    del classes\\com\\aepryus\\shazaam\\action\\*.* /q\r\n    del classes\\com\\aepryus\\shazaam\\controller\\*.* /q\r\n    \r\n    javac src\\com\\aepryus\\shazaam\\*.java\t\t-classpath \\lib\\AepUtil.jar;\\lib\\AepXML.jar;\\lib\\AepLoom.jar; -d classes\r\n    javac src\\com\\aepryus\\shazaam\\engine\\*.java\t-classpath \\lib\\AepUtil.jar;\\lib\\AepXML.jar;\\lib\\AepLoom.jar;\\lib\\Sprout.jar;classes; -d classes\r\n    javac src\\com\\aepryus\\shazaam\\domain\\*.java\t-classpath \\lib\\AepUtil.jar;\\lib\\AepLoom.jar;\\lib\\Sprout.jar;classes; -d classes\r\n    javac src\\com\\aepryus\\shazaam\\persist\\*.java\t-classpath \\lib\\AepUtil.jar;\\lib\\AepLoom.jar;\\lib\\Sprout.jar;classes; -d classes\r\n    javac src\\com\\aepryus\\shazaam\\view\\*.java\t-classpath \\lib\\Servlet.jar;\\lib\\AepUtil.jar;\\lib\\AepXML.jar;\\lib\\AepLoom.jar;\\lib\\AepHTML.jar;\\lib\\Sprout.jar;classes; -d classes\r\n    javac src\\com\\aepryus\\shazaam\\task\\*.java\t-classpath \\lib\\AepUtil.jar;\\lib\\AepLoom.jar;\\lib\\AepHTML.jar;\\lib\\Sprout.jar;classes; -d classes\r\n    javac src\\com\\aepryus\\shazaam\\action\\*.java\t-classpath \\lib\\Servlet.jar;\\lib\\AepUtil.jar;\\lib\\AepLoom.jar;\\lib\\AepHTML.jar;\\lib\\Sprout.jar;classes; -d classes\r\n    javac src\\com\\aepryus\\shazaam\\controller\\*.java\t-classpath \\lib\\Servlet.jar;\\lib\\AepUtil.jar;\\lib\\AepXML.jar;\\lib\\AepRPC.jar;\\lib\\AepLoom.jar;\\lib\\AepHTML.jar;\\lib\\Sprout.jar;classes; -d classes\r\n    \r\n    cd classes\r\n    jar cf ..\\war\\WEB-INF\\lib\\Shazaam.jar .\r\n    cd..\r\n    \r\n    echo Complete\r\n\r\n","title":"Compiling multiple packages using the command line in Java","body":"<p>In many cases Ant is overkill.  Just use a BAT file if you are in windows or a shell script (sh file) if you are in linux.  You can create a text file which includes all your javac commands and just run that file when you want to build.</p>\n\n<p>For example, I use the following bat file to build one of my apps:</p>\n\n<pre><code>@echo off\necho Building Shazaam...\n\ndel classes\\com\\aepryus\\shazaam\\*.* /q\ndel classes\\com\\aepryus\\shazaam\\engine\\*.* /q\ndel classes\\com\\aepryus\\shazaam\\domain\\*.* /q\ndel classes\\com\\aepryus\\shazaam\\persist\\*.* /q\ndel classes\\com\\aepryus\\shazaam\\view\\*.* /q\ndel classes\\com\\aepryus\\shazaam\\task\\*.* /q\ndel classes\\com\\aepryus\\shazaam\\action\\*.* /q\ndel classes\\com\\aepryus\\shazaam\\controller\\*.* /q\n\njavac src\\com\\aepryus\\shazaam\\*.java        -classpath \\lib\\AepUtil.jar;\\lib\\AepXML.jar;\\lib\\AepLoom.jar; -d classes\njavac src\\com\\aepryus\\shazaam\\engine\\*.java -classpath \\lib\\AepUtil.jar;\\lib\\AepXML.jar;\\lib\\AepLoom.jar;\\lib\\Sprout.jar;classes; -d classes\njavac src\\com\\aepryus\\shazaam\\domain\\*.java -classpath \\lib\\AepUtil.jar;\\lib\\AepLoom.jar;\\lib\\Sprout.jar;classes; -d classes\njavac src\\com\\aepryus\\shazaam\\persist\\*.java    -classpath \\lib\\AepUtil.jar;\\lib\\AepLoom.jar;\\lib\\Sprout.jar;classes; -d classes\njavac src\\com\\aepryus\\shazaam\\view\\*.java   -classpath \\lib\\Servlet.jar;\\lib\\AepUtil.jar;\\lib\\AepXML.jar;\\lib\\AepLoom.jar;\\lib\\AepHTML.jar;\\lib\\Sprout.jar;classes; -d classes\njavac src\\com\\aepryus\\shazaam\\task\\*.java   -classpath \\lib\\AepUtil.jar;\\lib\\AepLoom.jar;\\lib\\AepHTML.jar;\\lib\\Sprout.jar;classes; -d classes\njavac src\\com\\aepryus\\shazaam\\action\\*.java -classpath \\lib\\Servlet.jar;\\lib\\AepUtil.jar;\\lib\\AepLoom.jar;\\lib\\AepHTML.jar;\\lib\\Sprout.jar;classes; -d classes\njavac src\\com\\aepryus\\shazaam\\controller\\*.java -classpath \\lib\\Servlet.jar;\\lib\\AepUtil.jar;\\lib\\AepXML.jar;\\lib\\AepRPC.jar;\\lib\\AepLoom.jar;\\lib\\AepHTML.jar;\\lib\\Sprout.jar;classes; -d classes\n\ncd classes\njar cf ..\\war\\WEB-INF\\lib\\Shazaam.jar .\ncd..\n\necho Complete\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7711537,"reputation":21,"user_id":5840645,"display_name":"pratyush"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453796082,"creation_date":1453795560,"answer_id":35009256,"question_id":3512603,"body_markdown":"The real answer is javac -d (places where classes to be built and placed) -sourcepath (source of the package at the root) -cp (classpath of the dependencies which can again be classes folder where the classes are build and kept) full qualified name of the java file.\r\n\r\nEx javac -d classes -sourcepath src -cp classes src\\com\\test\\FirstSample.java\r\n\r\nThe FirstSample.java contains the main method. Pacjage structure mentioned below.\r\n\r\n**Before compiling**\r\n&lt;br/&gt;HomeApp\r\n&lt;br/&gt;--src\r\n&lt;br/&gt;------com\\test\\FirstSample.java (First Sample using the FirstPojo.java)\r\n&lt;br/&gt;------com\\test\\FirstPojo.java\r\n&lt;br/&gt;--classes\r\n\r\n**After compiling**\r\n&lt;br/&gt;\r\nHomeApp\r\n&lt;br/&gt;--src\r\n&lt;br/&gt;------com\\test\\FirstSample.java (FirstSample.java using the FirstPojo.java)\r\n&lt;br/&gt;------com\\test\\FirstPojo.java\r\n&lt;br/&gt;--classes\r\n&lt;br/&gt;------com\\test\\FirstSample.class (FirstSample.class using the FirstPojo.class)\r\n&lt;br/&gt;------com\\test\\FirstPojo.class","title":"Compiling multiple packages using the command line in Java","body":"<p>The real answer is javac -d (places where classes to be built and placed) -sourcepath (source of the package at the root) -cp (classpath of the dependencies which can again be classes folder where the classes are build and kept) full qualified name of the java file.</p>\n\n<p>Ex javac -d classes -sourcepath src -cp classes src\\com\\test\\FirstSample.java</p>\n\n<p>The FirstSample.java contains the main method. Pacjage structure mentioned below.</p>\n\n<p><strong>Before compiling</strong>\n<br/>HomeApp\n<br/>--src\n<br/>------com\\test\\FirstSample.java (First Sample using the FirstPojo.java)\n<br/>------com\\test\\FirstPojo.java\n<br/>--classes</p>\n\n<p><strong>After compiling</strong>\n<br/>\nHomeApp\n<br/>--src\n<br/>------com\\test\\FirstSample.java (FirstSample.java using the FirstPojo.java)\n<br/>------com\\test\\FirstPojo.java\n<br/>--classes\n<br/>------com\\test\\FirstSample.class (FirstSample.class using the FirstPojo.class)\n<br/>------com\\test\\FirstPojo.class</p>\n"},{"tags":[],"owner":{"account_id":13086550,"reputation":733,"user_id":9455340,"display_name":"chetan mahajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617906215,"creation_date":1617906215,"answer_id":67009793,"question_id":3512603,"body_markdown":"1. To compile Run below command [it will store all class files in classes folder]\r\n\r\n   javac -d classes Support/\\*.java Me/\\*.java Wrapers/\\*.java\r\n\r\n **Note : classes folder should be created first\r\n\r\n2. To Run java application, run below command\r\n\r\n    java -cp classes {mainfile_name}\r\n\r\nReplace mainfile_name with your main file.","title":"Compiling multiple packages using the command line in Java","body":"<ol>\n<li><p>To compile Run below command [it will store all class files in classes folder]</p>\n<p>javac -d classes Support/*.java Me/*.java Wrapers/*.java</p>\n</li>\n</ol>\n<p>**Note : classes folder should be created first</p>\n<ol start=\"2\">\n<li><p>To Run java application, run below command</p>\n<p>java -cp classes {mainfile_name}</p>\n</li>\n</ol>\n<p>Replace mainfile_name with your main file.</p>\n"},{"tags":[],"owner":{"account_id":29689050,"reputation":1,"user_id":22753808,"display_name":"the great bj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697632423,"creation_date":1697632305,"answer_id":77316338,"question_id":3512603,"body_markdown":"to compile the java program as a whole package, you should execute the below command where the package is present (i.e your current location should have the folder which you are going to compile)\r\n\r\njavac -d &lt;destinaion&gt; &lt;package_name&gt;/*.java\r\n\r\n&lt;destination&gt; is where your compiled class files are stored \r\n&lt;package_name&gt; is either the package name or with its path\r\n\r\n\r\n&lt;package_name&gt;/*.java\r\n\r\nyou can add multiple packages at once ,with this syntax , seperated by a space.\r\n","title":"Compiling multiple packages using the command line in Java","body":"<p>to compile the java program as a whole package, you should execute the below command where the package is present (i.e your current location should have the folder which you are going to compile)</p>\n<p>javac -d  &lt;package_name&gt;/*.java</p>\n<p> is where your compiled class files are stored\n&lt;package_name&gt; is either the package name or with its path</p>\n<p>&lt;package_name&gt;/*.java</p>\n<p>you can add multiple packages at once ,with this syntax , seperated by a space.</p>\n"}],"owner":{"account_id":175019,"reputation":956,"user_id":404725,"accept_rate":57,"display_name":"Altober"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41241,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":3512661,"answer_count":8,"score":14,"last_activity_date":1697632423,"creation_date":1282138238,"question_id":3512603,"body_markdown":"Hi i have been using an IDE but now I need to run and compile from the command line. \r\n\r\nThe problem is that I have multiple packages and I have tried to find the answer but nothing has worked.  \r\n\r\nSo I have  \r\n\r\n    src/\r\n      Support/ (.java files)\r\n      Me/ (.java files) \r\n      Wrapers/ (.java files)  \r\n\r\nDo you know how to compile everything with javac?","title":"Compiling multiple packages using the command line in Java","body":"<p>Hi i have been using an IDE but now I need to run and compile from the command line. </p>\n\n<p>The problem is that I have multiple packages and I have tried to find the answer but nothing has worked.  </p>\n\n<p>So I have  </p>\n\n<pre><code>src/\n  Support/ (.java files)\n  Me/ (.java files) \n  Wrapers/ (.java files)  \n</code></pre>\n\n<p>Do you know how to compile everything with javac?</p>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697630783,"creation_date":1697629090,"answer_id":77315951,"question_id":77315863,"body_markdown":"By default Maven does not put any dependency in the jar of your application, so you have to specify them on the command line (not only in the pom.xml) with `-cp` or [in the manifest][1]; the manifest can be [written automatically][2] by Maven and it can also specify the [main class][3] so you can avoid putting it on the command line.\r\nIn both cases you need external jars to run the application, this means that you have to distribute them with the application.\r\n\r\nAn anternative is to use the [Maven Shade Plugin][4] that creates an &quot;uber-jar&quot; containing both the classes of your application and the ones of the libraries.\r\n\r\nYet another alternative, just for developers, is to use Maven also to run the application, through the [Exec Maven Plugin][5].\r\n\r\nFinally, just for completeness, in applications based on Spring Boot (not your case), you can create a &quot;fat jar&quot; (a jar containing other jars) using the [Spring Boot Maven Plugin][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html#JAR_Manifest\r\n  [2]: https://maven.apache.org/shared/maven-archiver/examples/classpath.html\r\n  [3]: https://maven.apache.org/shared/maven-archiver/examples/classpath.html#Make\r\n  [4]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [5]: https://stackoverflow.com/q/1089285/685806\r\n  [6]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/","title":"mvn fails to integrate dependency","body":"<p>By default Maven does not put any dependency in the jar of your application, so you have to specify them on the command line (not only in the pom.xml) with <code>-cp</code> or <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html#JAR_Manifest\" rel=\"nofollow noreferrer\">in the manifest</a>; the manifest can be <a href=\"https://maven.apache.org/shared/maven-archiver/examples/classpath.html\" rel=\"nofollow noreferrer\">written automatically</a> by Maven and it can also specify the <a href=\"https://maven.apache.org/shared/maven-archiver/examples/classpath.html#Make\" rel=\"nofollow noreferrer\">main class</a> so you can avoid putting it on the command line.\nIn both cases you need external jars to run the application, this means that you have to distribute them with the application.</p>\n<p>An anternative is to use the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a> that creates an &quot;uber-jar&quot; containing both the classes of your application and the ones of the libraries.</p>\n<p>Yet another alternative, just for developers, is to use Maven also to run the application, through the <a href=\"https://stackoverflow.com/q/1089285/685806\">Exec Maven Plugin</a>.</p>\n<p>Finally, just for completeness, in applications based on Spring Boot (not your case), you can create a &quot;fat jar&quot; (a jar containing other jars) using the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">Spring Boot Maven Plugin</a>.</p>\n"},{"tags":[],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697631978,"creation_date":1697629729,"answer_id":77316023,"question_id":77315863,"body_markdown":"Your error is that jackson is not in the classpath, so it&#39;s not known by the jvm, it&#39;s not directly related to maven, but maven will help you to solve the problem, by using plugins.\r\n\r\nYou could just manually add the jackson jar files in your directory, then inyour classpath, but maven is here to help you, there are many solutions:\r\n 1. You get the jackson jars with maven and add it to your classpath: use the [dependency][1] plugin\r\n 2. You make an executable jar that uses the manifest to load the other jar and you also get separately the jars: use the [maven-jar plugin][2] + the [assembly plugin][3]. You will have a directory with your jar and the dependencies jar\r\n 3. you can use a plugin that make an uberjar, Spring uses this technology: see [start.spring.io][4]: you will have only one standalone jar that repackage your code and your dependencies.\r\n\r\nMy preferred technique for a standalone java application (without any framework) is using an executable jar (the solution 2.) , you will then run your application with:\r\n\r\n    java -jar myApplication.jar\r\n\r\n\r\nHere is the pom configuration:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;yourapp&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;java.mainClass&gt;com.mycompany.app.App&lt;/java.mainClass&gt;\r\n        &lt;dest&gt;${project.basedir}&lt;/dest&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;${java.mainClass}&lt;/mainClass&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n                            &lt;classpathPrefix/&gt;\r\n                            &lt;useUniqueVersions&gt;true&lt;/useUniqueVersions&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Class-Path&gt;/conf&lt;/Class-Path&gt;\r\n                            &lt;Build-Time&gt;${maven.build.timestamp}&lt;/Build-Time&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                        &lt;manifestFile/&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;finalName&gt;${project.name}&lt;/finalName&gt;\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nand the file assembly.xml\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd&quot;&gt;\r\n    &lt;id&gt;dist&lt;/id&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    &lt;formats&gt;\r\n       &lt;format&gt;dir&lt;/format&gt;\r\n       &lt;format&gt;zip&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.build.directory}/classes&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;conf&lt;/outputDirectory&gt;\r\n            &lt;filtered&gt;true&lt;/filtered&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;conf.properties&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/fileSet&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;lib&lt;/outputDirectory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;*.jar&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/fileSet&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.basedir}/src/bin&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;bin&lt;/outputDirectory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;*&lt;/include&gt;\r\n                &lt;include&gt;**/*&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/fileSet&gt;\r\n    &lt;/fileSets&gt;\r\n\r\n    &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n            &lt;outputDirectory&gt;lib&lt;/outputDirectory&gt;\r\n            &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\r\n        &lt;/dependencySet&gt;\r\n    &lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;\r\n\r\n\r\nThe jar plugin permit to specify your main class and your dependencies lib on execution. the main class is configured in my pom.xml in the &quot;java.mainClass&quot; property.\r\n\r\nThe assembly plugin will get all the dependencies of your project, and even package your application as a zip for redistribution.\r\n\r\nYou go in target/...dist/lib directory you will have all your jars. you run java-jar yourapp.jar from this directory.\r\n\r\nThere is a little scaffhold to make it work from scratch because we don&#39;t use any framework, the TLDR solution would just be to use spring boot from start.spring.io, or other tool as proposed in the other answer.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-dependency-plugin/\r\n  [2]: https://maven.apache.org/plugins/maven-jar-plugin/examples/manifest-customization.html\r\n  [3]: https://maven.apache.org/plugins/maven-assembly-plugin/\r\n  [4]: https://start.spring.io\r\n","title":"mvn fails to integrate dependency","body":"<p>Your error is that jackson is not in the classpath, so it's not known by the jvm, it's not directly related to maven, but maven will help you to solve the problem, by using plugins.</p>\n<p>You could just manually add the jackson jar files in your directory, then inyour classpath, but maven is here to help you, there are many solutions:</p>\n<ol>\n<li>You get the jackson jars with maven and add it to your classpath: use the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"nofollow noreferrer\">dependency</a> plugin</li>\n<li>You make an executable jar that uses the manifest to load the other jar and you also get separately the jars: use the <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/manifest-customization.html\" rel=\"nofollow noreferrer\">maven-jar plugin</a> + the <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">assembly plugin</a>. You will have a directory with your jar and the dependencies jar</li>\n<li>you can use a plugin that make an uberjar, Spring uses this technology: see <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a>: you will have only one standalone jar that repackage your code and your dependencies.</li>\n</ol>\n<p>My preferred technique for a standalone java application (without any framework) is using an executable jar (the solution 2.) , you will then run your application with:</p>\n<pre><code>java -jar myApplication.jar\n</code></pre>\n<p>Here is the pom configuration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n&lt;artifactId&gt;yourapp&lt;/artifactId&gt;\n&lt;version&gt;0.0.0-SNAPSHOT&lt;/version&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;java.mainClass&gt;com.mycompany.app.App&lt;/java.mainClass&gt;\n    &lt;dest&gt;${project.basedir}&lt;/dest&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;${java.mainClass}&lt;/mainClass&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                        &lt;classpathPrefix/&gt;\n                        &lt;useUniqueVersions&gt;true&lt;/useUniqueVersions&gt;\n                    &lt;/manifest&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Class-Path&gt;/conf&lt;/Class-Path&gt;\n                        &lt;Build-Time&gt;${maven.build.timestamp}&lt;/Build-Time&gt;\n                    &lt;/manifestEntries&gt;\n                    &lt;manifestFile/&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;finalName&gt;${project.name}&lt;/finalName&gt;\n                &lt;descriptors&gt;\n                    &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\n                &lt;/descriptors&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and the file assembly.xml</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd&quot;&gt;\n&lt;id&gt;dist&lt;/id&gt;\n&lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n&lt;formats&gt;\n   &lt;format&gt;dir&lt;/format&gt;\n   &lt;format&gt;zip&lt;/format&gt;\n&lt;/formats&gt;\n&lt;fileSets&gt;\n    &lt;fileSet&gt;\n        &lt;directory&gt;${project.build.directory}/classes&lt;/directory&gt;\n        &lt;outputDirectory&gt;conf&lt;/outputDirectory&gt;\n        &lt;filtered&gt;true&lt;/filtered&gt;\n        &lt;includes&gt;\n            &lt;include&gt;conf.properties&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/fileSet&gt;\n    &lt;fileSet&gt;\n        &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\n        &lt;outputDirectory&gt;lib&lt;/outputDirectory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;*.jar&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/fileSet&gt;\n    &lt;fileSet&gt;\n        &lt;directory&gt;${project.basedir}/src/bin&lt;/directory&gt;\n        &lt;outputDirectory&gt;bin&lt;/outputDirectory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;*&lt;/include&gt;\n            &lt;include&gt;**/*&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/fileSet&gt;\n&lt;/fileSets&gt;\n\n&lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n        &lt;outputDirectory&gt;lib&lt;/outputDirectory&gt;\n        &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\n    &lt;/dependencySet&gt;\n&lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>The jar plugin permit to specify your main class and your dependencies lib on execution. the main class is configured in my pom.xml in the &quot;java.mainClass&quot; property.</p>\n<p>The assembly plugin will get all the dependencies of your project, and even package your application as a zip for redistribution.</p>\n<p>You go in target/...dist/lib directory you will have all your jars. you run java-jar yourapp.jar from this directory.</p>\n<p>There is a little scaffhold to make it work from scratch because we don't use any framework, the TLDR solution would just be to use spring boot from start.spring.io, or other tool as proposed in the other answer.</p>\n"}],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697631875,"accepted_answer_id":77315951,"answer_count":2,"score":0,"last_activity_date":1697631978,"creation_date":1697628341,"question_id":77315863,"body_markdown":"I have a minimal maven project using [fasterxml/jackson-databind][1]\r\n```java\r\npackage com.mycompany.app;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nclass MyValue { public String name; public int age; }\r\n\r\npublic class App {\r\n    public static void main( String[] args ) {\r\n        try {\r\n            // ObjectMapper mapper = new ObjectMapper();\r\n            // MyValue value = mapper.readValue(&quot;{\\&quot;name\\&quot;:\\&quot;Bob\\&quot;, \\&quot;age\\&quot;:13}&quot;, MyValue.class);\r\n            System.out.println( &quot;Hello&quot; );\r\n        }\r\n        catch (Exception e) {}\r\n    }\r\n}\r\n```\r\nWhen I compile and run *without* `jackson-databind` it&#39;s fine:\r\n```\r\n$ mvn package\r\n$ java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App\r\nHello\r\n```\r\nWhen I add the dependency to `pom.xml`, I *see* that relevant jars are downloaded\r\n```\r\n&lt; ... omitted for brevity ...&gt;\r\nDownloaded from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.13.0/jackson-databind-2.13.0.jar (1.5 MB at 3.0 MB/s)\r\n&lt; ... omitted for brevity ...&gt;\r\n```\r\nBut when I uncomment and try to use jackson-databind I get:\r\n```\r\n$ java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat com.mycompany.app.App.main(App.java:10)\r\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ObjectMapper\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n```\r\nHere is the `pom.xml` for completeness:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;my-app&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n    &lt;jackson.version&gt;2.13.0&lt;/jackson.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.15.0","title":"mvn fails to integrate dependency","body":"<p>I have a minimal maven project using <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.15.0\" rel=\"nofollow noreferrer\">fasterxml/jackson-databind</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany.app;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nclass MyValue { public String name; public int age; }\n\npublic class App {\n    public static void main( String[] args ) {\n        try {\n            // ObjectMapper mapper = new ObjectMapper();\n            // MyValue value = mapper.readValue(&quot;{\\&quot;name\\&quot;:\\&quot;Bob\\&quot;, \\&quot;age\\&quot;:13}&quot;, MyValue.class);\n            System.out.println( &quot;Hello&quot; );\n        }\n        catch (Exception e) {}\n    }\n}\n</code></pre>\n<p>When I compile and run <em>without</em> <code>jackson-databind</code> it's fine:</p>\n<pre><code>$ mvn package\n$ java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App\nHello\n</code></pre>\n<p>When I add the dependency to <code>pom.xml</code>, I <em>see</em> that relevant jars are downloaded</p>\n<pre><code>&lt; ... omitted for brevity ...&gt;\nDownloaded from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.13.0/jackson-databind-2.13.0.jar (1.5 MB at 3.0 MB/s)\n&lt; ... omitted for brevity ...&gt;\n</code></pre>\n<p>But when I uncomment and try to use jackson-databind I get:</p>\n<pre><code>$ java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\n    at com.mycompany.app.App.main(App.java:10)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ObjectMapper\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n</code></pre>\n<p>Here is the <code>pom.xml</code> for completeness:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;my-app&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;jackson.version&gt;2.13.0&lt;/jackson.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","maven","junit","junit5"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1613490994,"post_id":66227706,"comment_id":117087801,"body_markdown":"Do your tests classes have the `@Test` annotation?","body":"Do your tests classes have the <code>@Test</code> annotation?"},{"owner":{"account_id":11483871,"reputation":345,"user_id":8750902,"display_name":"farmlandbee"},"score":0,"creation_date":1613491078,"post_id":66227706,"comment_id":117087840,"body_markdown":"@hfontanez Yeah they do, I&#39;ll update question","body":"@hfontanez Yeah they do, I&#39;ll update question"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1613491121,"post_id":66227706,"comment_id":117087864,"body_markdown":"I found this https://stackoverflow.com/questions/59900637/error-testengine-with-id-junit-vintage-failed-to-discover-tests-with-spring. That should help you solve this issue.","body":"I found this <a href=\"https://stackoverflow.com/questions/59900637/error-testengine-with-id-junit-vintage-failed-to-discover-tests-with-spring\" title=\"error testengine with id junit vintage failed to discover tests with spring\">stackoverflow.com/questions/59900637/&hellip;</a>. That should help you solve this issue."},{"owner":{"account_id":11483871,"reputation":345,"user_id":8750902,"display_name":"farmlandbee"},"score":1,"creation_date":1613491190,"post_id":66227706,"comment_id":117087903,"body_markdown":"@hfontanez I&#39;ve looked at that already, that&#39;s a jackson error and for `junit-vintage`","body":"@hfontanez I&#39;ve looked at that already, that&#39;s a jackson error and for <code>junit-vintage</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1613491405,"post_id":66227706,"comment_id":117088024,"body_markdown":"Are you having this issue when launching your tests from an IDE like Eclipse or IntelliJ? There are configuration on the IDE you must do for JUnit.","body":"Are you having this issue when launching your tests from an IDE like Eclipse or IntelliJ? There are configuration on the IDE you must do for JUnit."},{"owner":{"account_id":11483871,"reputation":345,"user_id":8750902,"display_name":"farmlandbee"},"score":1,"creation_date":1613491461,"post_id":66227706,"comment_id":117088055,"body_markdown":"It works when running the test from Intellij and if I run `mvn failsafe:integration-test`","body":"It works when running the test from Intellij and if I run <code>mvn failsafe:integration-test</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1613491593,"post_id":66227706,"comment_id":117088123,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/228800/discussion-between-hfontanez-and-farmlandbee).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/228800/discussion-between-hfontanez-and-farmlandbee\">continue this discussion in chat</a>."},{"owner":{"account_id":11119792,"reputation":2581,"user_id":8163025,"display_name":"saver"},"score":0,"creation_date":1614730014,"post_id":66227706,"comment_id":117473176,"body_markdown":"@farmlandbee could you share the full pom.xml file?","body":"@farmlandbee could you share the full pom.xml file?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1614755264,"post_id":66227706,"comment_id":117478332,"body_markdown":"Please share an [MCVE](https://stackoverflow.com/help/mcve) on GitHub, just a minimal project reproducing the issue.","body":"Please share an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub, just a minimal project reproducing the issue."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1614758688,"post_id":66227706,"comment_id":117479515,"body_markdown":"@farmlandbee I found this and I don&#39;t know if you tried it already https://github.com/Microsoft/vscode-java-test/issues/625","body":"@farmlandbee I found this and I don&#39;t know if you tried it already <a href=\"https://github.com/Microsoft/vscode-java-test/issues/625\" rel=\"nofollow noreferrer\">github.com/Microsoft/vscode-java-test/issues/625</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1615747791,"post_id":66227706,"comment_id":117781468,"body_markdown":"You should really create and share a small example showing this behavior for others to examine if you want a good answer.  Right now this is pure guesswork.  Also you might be lucky that in the process of creating the small example you will find the solution yourself","body":"You should really create and share a small example showing this behavior for others to examine if you want a good answer.  Right now this is pure guesswork.  Also you might be lucky that in the process of creating the small example you will find the solution yourself"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1615749563,"post_id":66227706,"comment_id":117781989,"body_markdown":"@farmlandbee did you share your code on GitHub as suggested by kriegaex? I think that would be best.","body":"@farmlandbee did you share your code on GitHub as suggested by kriegaex? I think that would be best."},{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":0,"creation_date":1616155027,"post_id":66227706,"comment_id":117920193,"body_markdown":"Could you maven with -X parameter and trace where the exception happend. Additionally you can check in your `target/generated-test-sources/test-annotations/` the annotations classes are created.","body":"Could you maven with -X parameter and trace where the exception happend. Additionally you can check in your <code>target&#47;generated-test-sources&#47;test-annotations&#47;</code> the annotations classes are created."},{"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"score":0,"creation_date":1678755624,"post_id":66227706,"comment_id":133591679,"body_markdown":"I fixed this problem by changing the junit scope in my pom.xml from test to compile then re-running it.","body":"I fixed this problem by changing the junit scope in my pom.xml from test to compile then re-running it."}],"answers":[{"tags":[],"owner":{"account_id":2862565,"reputation":223,"user_id":2457521,"display_name":"Alejandro Venegas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615824571,"creation_date":1615824571,"answer_id":66641600,"question_id":66227706,"body_markdown":"Try to pass the profile via command like this : \r\n\r\n    mvn clean verify -Dspring.profiles.active=integration-test","title":"TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests - Caused by: org.junit.platform.commons.JUnitException: ClassSelector resolution failed","body":"<p>Try to pass the profile via command like this :</p>\n<pre><code>mvn clean verify -Dspring.profiles.active=integration-test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17474859,"reputation":2389,"user_id":12669945,"display_name":"Atmas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616178484,"creation_date":1616178484,"answer_id":66713799,"question_id":66227706,"body_markdown":"I believe the problem would lie in one of the following areas. I don&#39;t think there&#39;s enough information to nail it down, but I wanted to give you all the avenues to explore and it&#39;s too much to put in one big comment.\r\n\r\nI have listed them in order of complexity.\r\n\r\n1. You haven&#39;t set up your custom integration tests fully\r\n\r\nThere is information relevant that may help you configure your profiles and utilize them here: https://stackoverflow.com/questions/39690094/spring-boot-default-profile-for-integration-tests\r\n\r\n2. The @ActiveProfiles indicates a profile name of &quot;integration&quot; but your profile name is &quot;integration-test&quot;\r\n\r\nIf this is it, then just update the annotation to be integration-test and you&#39;re done.\r\n\r\n3. The configuration of one of your annotations is incorrect or the classpath is incorrectly setup to allow the annotation to be recognized.\r\n\r\nI am not familiar with how a display name generator is chosen, but there is one line that stands out to me as the closest complaining point to review. The line in the stack trace is:\r\n    org.junit.jupiter.engine.descriptor.DisplayNameUtils.determineDisplayName(DisplayNameUtils.java:68)\r\n\r\nI believe this is the correct code that backs this line: http://www.howsoftworks.net/junjupen/DisplayNameUtils#determineDisplayName-AnnotatedElement-Supplier\r\n\r\nIt appears to be evaluating the entire class for annotations to try to pull back this one. However, above you have no DisplayName annotation configured, so I don&#39;t think it&#39;s a problem with DisplayName, but with one of the others.\r\n\r\nLooking further in the stack, it looks like it&#39;s attempting to utilize/cache the Annotations of the class itself. This may lead to the annotations cache evaluating ALL entries on the class at this point and displayName is just the first one being requested.\r\n\r\nIn that case, it&#39;s possible it&#39;s tripping up on one of your OTHER annotations that you simply haven&#39;t configured correctly. ArrayStore exception makes me wonder if you&#39;ve put an element where an array should be or vice-versa.\r\n\r\nHowever, researching further, it looks like this error (line 724 in AnnotationParser) relates to a suite of JDK issues that were properly fixed in one of the JDK-11 releases. It is indicated in other places as a &quot;sun.reflect.annotation.TypeNotPresentExceptionProxy&quot;.\r\n\r\nhttps://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-7183985\r\n\r\nThe gist of these bugs have to do with an Annotation referencing a class that&#39;s not in the classpath (the Type is not present). This is probably what&#39;s going on with one of your annotations in your configuration but from the posted information it&#39;s unlikely we can advise which one.\r\n\r\nUpgrading to a JDK where this is fixed would likely help you better pinpoint the root problem by reporting a better error for you with specific missing type information. If that&#39;s an option, you can choose to do that, too.\r\n\r\nThe root problem is likely that your new profile environment leads to a misconfiguration that&#39;s accidentally excluding a class that you need for the annotations on your test to be coherent.\r\n","title":"TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests - Caused by: org.junit.platform.commons.JUnitException: ClassSelector resolution failed","body":"<p>I believe the problem would lie in one of the following areas. I don't think there's enough information to nail it down, but I wanted to give you all the avenues to explore and it's too much to put in one big comment.</p>\n<p>I have listed them in order of complexity.</p>\n<ol>\n<li>You haven't set up your custom integration tests fully</li>\n</ol>\n<p>There is information relevant that may help you configure your profiles and utilize them here: <a href=\"https://stackoverflow.com/questions/39690094/spring-boot-default-profile-for-integration-tests\">Spring-boot default profile for integration tests</a></p>\n<ol start=\"2\">\n<li>The @ActiveProfiles indicates a profile name of &quot;integration&quot; but your profile name is &quot;integration-test&quot;</li>\n</ol>\n<p>If this is it, then just update the annotation to be integration-test and you're done.</p>\n<ol start=\"3\">\n<li>The configuration of one of your annotations is incorrect or the classpath is incorrectly setup to allow the annotation to be recognized.</li>\n</ol>\n<p>I am not familiar with how a display name generator is chosen, but there is one line that stands out to me as the closest complaining point to review. The line in the stack trace is:\norg.junit.jupiter.engine.descriptor.DisplayNameUtils.determineDisplayName(DisplayNameUtils.java:68)</p>\n<p>I believe this is the correct code that backs this line: <a href=\"http://www.howsoftworks.net/junjupen/DisplayNameUtils#determineDisplayName-AnnotatedElement-Supplier\" rel=\"nofollow noreferrer\">http://www.howsoftworks.net/junjupen/DisplayNameUtils#determineDisplayName-AnnotatedElement-Supplier</a></p>\n<p>It appears to be evaluating the entire class for annotations to try to pull back this one. However, above you have no DisplayName annotation configured, so I don't think it's a problem with DisplayName, but with one of the others.</p>\n<p>Looking further in the stack, it looks like it's attempting to utilize/cache the Annotations of the class itself. This may lead to the annotations cache evaluating ALL entries on the class at this point and displayName is just the first one being requested.</p>\n<p>In that case, it's possible it's tripping up on one of your OTHER annotations that you simply haven't configured correctly. ArrayStore exception makes me wonder if you've put an element where an array should be or vice-versa.</p>\n<p>However, researching further, it looks like this error (line 724 in AnnotationParser) relates to a suite of JDK issues that were properly fixed in one of the JDK-11 releases. It is indicated in other places as a &quot;sun.reflect.annotation.TypeNotPresentExceptionProxy&quot;.</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-7183985\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-7183985</a></p>\n<p>The gist of these bugs have to do with an Annotation referencing a class that's not in the classpath (the Type is not present). This is probably what's going on with one of your annotations in your configuration but from the posted information it's unlikely we can advise which one.</p>\n<p>Upgrading to a JDK where this is fixed would likely help you better pinpoint the root problem by reporting a better error for you with specific missing type information. If that's an option, you can choose to do that, too.</p>\n<p>The root problem is likely that your new profile environment leads to a misconfiguration that's accidentally excluding a class that you need for the annotations on your test to be coherent.</p>\n"},{"tags":[],"owner":{"account_id":15013628,"reputation":1,"user_id":10837281,"display_name":"Yinlei Chai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639535311,"creation_date":1639535311,"answer_id":70357781,"question_id":66227706,"body_markdown":"i think the best way is  to click  File-&gt;InvalidateCaches/Restart...","title":"TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests - Caused by: org.junit.platform.commons.JUnitException: ClassSelector resolution failed","body":"<p>i think the best way is  to click  File-&gt;InvalidateCaches/Restart...</p>\n"},{"tags":[],"owner":{"account_id":9355,"reputation":6382,"user_id":17239,"accept_rate":76,"display_name":"Roger C S Wernersson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1697631871,"creation_date":1666948130,"answer_id":74233034,"question_id":66227706,"body_markdown":"I had this problem too. I solved it by removing all JUnit libraries from IntelliJ / Project Structure / Libraries, and then compiling the project, failing, having IntelliJ resolve this by importing the latest version of JUnit.\r\n\r\nI&#39;m now on JUnit 5.9.1\r\n\r\nI believe the culprit was junit-platform-commons which is now on 1.9.1\r\n\r\nI got the idea from this JUnit 5 issue: https://github.com/junit-team/junit5/issues/2881\r\n","title":"TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests - Caused by: org.junit.platform.commons.JUnitException: ClassSelector resolution failed","body":"<p>I had this problem too. I solved it by removing all JUnit libraries from IntelliJ / Project Structure / Libraries, and then compiling the project, failing, having IntelliJ resolve this by importing the latest version of JUnit.</p>\n<p>I'm now on JUnit 5.9.1</p>\n<p>I believe the culprit was junit-platform-commons which is now on 1.9.1</p>\n<p>I got the idea from this JUnit 5 issue: <a href=\"https://github.com/junit-team/junit5/issues/2881\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/2881</a></p>\n"},{"tags":[],"owner":{"account_id":6783548,"reputation":1,"user_id":5223040,"display_name":"nitzv26"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1669970239,"creation_date":1669970239,"answer_id":74652892,"question_id":66227706,"body_markdown":"Basically, you need to ensure that the dependency version that you are using is compatible with the Java version that you are using. I was getting the same error. I had updated the `junit-jupiter` to `5.9.0` but I was using Java 11 due to which I was getting this error. On changing Java version to Java 17, the tests started running.","title":"TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests - Caused by: org.junit.platform.commons.JUnitException: ClassSelector resolution failed","body":"<p>Basically, you need to ensure that the dependency version that you are using is compatible with the Java version that you are using. I was getting the same error. I had updated the <code>junit-jupiter</code> to <code>5.9.0</code> but I was using Java 11 due to which I was getting this error. On changing Java version to Java 17, the tests started running.</p>\n"}],"owner":{"account_id":11483871,"reputation":345,"user_id":8750902,"display_name":"farmlandbee"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29222,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":74233034,"answer_count":5,"score":14,"last_activity_date":1697631871,"creation_date":1613490677,"question_id":66227706,"body_markdown":"I am having an issue running my Integration Test.\r\n\r\nAs part of my Test, I use `exec-maven-plugin` to pull down other projects from source control and then run them locally so my Test can use that to perform against.\r\n\r\nMy Maven dependencies for JUnit are:\r\n\r\n```\r\n&lt;plugins&gt;\r\n\t&lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;useModulePath&gt;false&lt;/useModulePath&gt;\r\n\t\t\t&lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n\t\t\t&lt;skipTests&gt;false&lt;/skipTests&gt;\r\n\t\t\t&lt;includes&gt;\r\n\t\t\t\t&lt;include&gt;**/*IntegrationTest.java&lt;/include&gt;\r\n\t\t\t&lt;/includes&gt;\r\n\t    &lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;exclusions&gt;\r\n\t    &lt;exclusion&gt;\r\n\t\t    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t    &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have created a profile called `integration-test` so that I can choose when to enable integration testing and also added an argument to `maven-surefire-plugin` called `skipUTs` so I can skip Unit Tests.\r\n\r\nThe output of running: `mvn clean verify -Pintegration-test -DskipUTs=true`\r\n\r\n```\r\norg.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:111)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:67)\r\n\tat org.apache.maven.surefire.junitplatform.TestPlanScannerFilter.accept(TestPlanScannerFilter.java:56)\r\n\tat org.apache.maven.surefire.api.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.scanClasspath(JUnitPlatformProvider.java:147)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:128)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\r\nCaused by: org.junit.platform.commons.JUnitException: ClassSelector [className = &#39;com.farmlandbee.app.integration.IntegrationTest&#39;] resolution failed\r\n\tat org.junit.platform.launcher.listeners.discovery.AbortOnFailureLauncherDiscoveryListener.selectorProcessed(AbortOnFailureLauncherDiscoveryListener.java:39)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:102)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:82)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\r\n\tat org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:45)\r\n\tat org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:103)\r\n\t... 11 more\r\nCaused by: java.lang.ArrayStoreException\r\n\tat sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724)\r\n\tat sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531)\r\n\tat sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\r\n\tat java.lang.Class.getAnnotationCache(Class.java:2535)\r\n\tat java.lang.Class.getDeclaredAnnotation(Class.java:2221)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:128)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.DisplayNameUtils.determineDisplayName(DisplayNameUtils.java:68)\r\n\tat org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.&lt;init&gt;(JupiterTestDescriptor.java:69)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.&lt;init&gt;(ClassBasedTestDescriptor.java:94)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.&lt;init&gt;(ClassTestDescriptor.java:51)\r\n\tat org.junit.jupiter.engine.discovery.ClassSelectorResolver.newClassTestDescriptor(ClassSelectorResolver.java:119)\r\n\tat org.junit.jupiter.engine.discovery.ClassSelectorResolver.lambda$resolve$0(ClassSelectorResolver.java:71)\r\n\tat org.junit.jupiter.engine.discovery.ClassSelectorResolver$$Lambda$61/0000000000000000.apply(Unknown Source)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution$DefaultContext.createAndAdd(EngineDiscoveryRequestResolution.java:246)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution$DefaultContext.addToParent(EngineDiscoveryRequestResolution.java:209)\r\n\tat org.junit.jupiter.engine.discovery.ClassSelectorResolver.resolve(ClassSelectorResolver.java:71)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:134)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution$$Lambda$47/0000000000000000.apply(Unknown Source)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1359)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:514)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:501)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:487)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:241)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:531)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:185)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:125)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:91)\r\n\t... 16 more\r\n```\r\n\r\n\r\nTest Class is roughly:\r\n\r\n```\r\n@SpringBootTest(classes = Application.class,\r\n        webEnvironment = WebEnvironment.RANDOM_PORT)\r\n@Import({SSLRestTemplateConfig.class})\r\n@ExtendWith(SpringExtension.class)\r\n@ActiveProfiles(profiles = {&quot;integration&quot;})\r\npublic class IntegrationTest {\r\n\r\n    @LocalServerPort\r\n    private int port;\r\n\r\n    private final RestTemplate restTemplate;\r\n\r\n    @Spy\r\n    private final Service Service;\r\n\r\n    private final IQueue&lt;String&gt; queue;\r\n\r\n    @Captor\r\n    ArgumentCaptor&lt;String&gt; captor;\r\n\r\n    @Autowired\r\n    public IntegrationTest(RestTemplate restTemplate,\r\n                                Service service,\r\n                                HazelcastInstance hazelcastInstance) {\r\n        this.restTemplate = restTemplate;\r\n        this.service = accountingQueueService;\r\n        this.queue = hazelcastInstance.getQueue(&quot;queue&quot;);\r\n    }\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        queue.clear();\r\n    }\r\n\r\n    @Test\r\n    public void IntegrationTest() throws InterruptedException {\r\n        ...\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAny help would be greatly appreciated.","title":"TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests - Caused by: org.junit.platform.commons.JUnitException: ClassSelector resolution failed","body":"<p>I am having an issue running my Integration Test.</p>\n<p>As part of my Test, I use <code>exec-maven-plugin</code> to pull down other projects from source control and then run them locally so my Test can use that to perform against.</p>\n<p>My Maven dependencies for JUnit are:</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;useModulePath&gt;false&lt;/useModulePath&gt;\n            &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n            &lt;skipTests&gt;false&lt;/skipTests&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*IntegrationTest.java&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                    &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;version&gt;2.4.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have created a profile called <code>integration-test</code> so that I can choose when to enable integration testing and also added an argument to <code>maven-surefire-plugin</code> called <code>skipUTs</code> so I can skip Unit Tests.</p>\n<p>The output of running: <code>mvn clean verify -Pintegration-test -DskipUTs=true</code></p>\n<pre><code>org.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:111)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:67)\n    at org.apache.maven.surefire.junitplatform.TestPlanScannerFilter.accept(TestPlanScannerFilter.java:56)\n    at org.apache.maven.surefire.api.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.scanClasspath(JUnitPlatformProvider.java:147)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:128)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\nCaused by: org.junit.platform.commons.JUnitException: ClassSelector [className = 'com.farmlandbee.app.integration.IntegrationTest'] resolution failed\n    at org.junit.platform.launcher.listeners.discovery.AbortOnFailureLauncherDiscoveryListener.selectorProcessed(AbortOnFailureLauncherDiscoveryListener.java:39)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:102)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:82)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\n    at org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:45)\n    at org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:103)\n    ... 11 more\nCaused by: java.lang.ArrayStoreException\n    at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724)\n    at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531)\n    at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\n    at java.lang.Class.getAnnotationCache(Class.java:2535)\n    at java.lang.Class.getDeclaredAnnotation(Class.java:2221)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:128)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:115)\n    at org.junit.jupiter.engine.descriptor.DisplayNameUtils.determineDisplayName(DisplayNameUtils.java:68)\n    at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.&lt;init&gt;(JupiterTestDescriptor.java:69)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.&lt;init&gt;(ClassBasedTestDescriptor.java:94)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.&lt;init&gt;(ClassTestDescriptor.java:51)\n    at org.junit.jupiter.engine.discovery.ClassSelectorResolver.newClassTestDescriptor(ClassSelectorResolver.java:119)\n    at org.junit.jupiter.engine.discovery.ClassSelectorResolver.lambda$resolve$0(ClassSelectorResolver.java:71)\n    at org.junit.jupiter.engine.discovery.ClassSelectorResolver$$Lambda$61/0000000000000000.apply(Unknown Source)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution$DefaultContext.createAndAdd(EngineDiscoveryRequestResolution.java:246)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution$DefaultContext.addToParent(EngineDiscoveryRequestResolution.java:209)\n    at org.junit.jupiter.engine.discovery.ClassSelectorResolver.resolve(ClassSelectorResolver.java:71)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:134)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution$$Lambda$47/0000000000000000.apply(Unknown Source)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1359)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:514)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:501)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:487)\n    at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:241)\n    at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:531)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:185)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:125)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:91)\n    ... 16 more\n</code></pre>\n<p>Test Class is roughly:</p>\n<pre><code>@SpringBootTest(classes = Application.class,\n        webEnvironment = WebEnvironment.RANDOM_PORT)\n@Import({SSLRestTemplateConfig.class})\n@ExtendWith(SpringExtension.class)\n@ActiveProfiles(profiles = {&quot;integration&quot;})\npublic class IntegrationTest {\n\n    @LocalServerPort\n    private int port;\n\n    private final RestTemplate restTemplate;\n\n    @Spy\n    private final Service Service;\n\n    private final IQueue&lt;String&gt; queue;\n\n    @Captor\n    ArgumentCaptor&lt;String&gt; captor;\n\n    @Autowired\n    public IntegrationTest(RestTemplate restTemplate,\n                                Service service,\n                                HazelcastInstance hazelcastInstance) {\n        this.restTemplate = restTemplate;\n        this.service = accountingQueueService;\n        this.queue = hazelcastInstance.getQueue(&quot;queue&quot;);\n    }\n\n    @BeforeEach\n    public void setup() {\n        queue.clear();\n    }\n\n    @Test\n    public void IntegrationTest() throws InterruptedException {\n        ...\n    }\n\n}\n\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","spring-cloud","fallback","openfeign"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1697634518,"post_id":77316262,"comment_id":136304437,"body_markdown":"Ribbon is not compatible with that version of spring cloud. Please use spring cloud loadbalancer","body":"Ribbon is not compatible with that version of spring cloud. Please use spring cloud loadbalancer"}],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697631741,"creation_date":1697631741,"question_id":77316262,"body_markdown":"After Migrating the spring boot version from 2.0.8.RELEASE to 2.7.11 the feign fallback is not working. \r\n\r\nfacing below error \r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is feign.FeignException$InternalServerError: [500 Internal Server Error] during [GET] to [https://sampleurl/test] []: [&lt;html&gt;&lt;head&gt;&lt;title&gt;Apache Tomcat/7.0.39 - Error report&lt;/title&gt;&lt;style&gt;&lt;!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans... (1177 bytes)] \r\n\r\nI am using below code \r\n```\r\n@FeignClient(name = &quot;myFeign&quot;, fallbackFactory = MyFeignClientFallbackFactory.class)\r\npublic interface MyFeignClient {\r\n     @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET, consumes = MediaType.APPLICATION_ATOM_XML_VALUE,produces = MediaType.APPLICATION_XML_VALUE)\r\n    String getValue(@RequestParam(&quot;param1&quot;) String param1);\r\n}\r\n```\r\nfallback factory class\r\n```\r\n@Component\r\npublic class MyFeignClientFallbackFactory implements FallbackFactory&lt;MyFeignClientFallback&gt; {\r\n\r\n    @Override\r\n    public MyFeignClientFallback create(Throwable cause) {\r\n        return new MyFeignClientFallback(cause);\r\n    }\r\n\r\n}\r\n```\r\n\r\nFallback class \r\n\r\n```\r\n\r\n@Slf4j\r\npublic class MyFeignClientFallback implements MyFeignClient{\r\n\r\n    \r\n\tprivate final Throwable cause;\r\n\r\n    public MyFeignClientFallback(Throwable cause) {\r\n        this.cause = cause;\r\n    }\r\n\r\n    @Override\r\n    public String getValue(String param1) {\r\n    \tmapErrorResponse(&quot;param1&quot;);\r\n        return null;\r\n    }\r\n   private void mapErrorResponse(String methodName) {\r\n        log.error(&quot;Error while calling feign method &quot; + methodName);\r\n    }\r\n```\r\nI am using springboot 2.7.11 with java 11 and spring cloud 2021.0.1 version \r\n\r\ndependencies for feign client \r\n\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n &lt;version&gt;4.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\r\n  &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```","title":"Feign Fallback is not working with Springboot 2.7.11","body":"<p>After Migrating the spring boot version from 2.0.8.RELEASE to 2.7.11 the feign fallback is not working.</p>\n<p>facing below error\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is feign.FeignException$InternalServerError: [500 Internal Server Error] during [GET] to [https://sampleurl/test] []: [Apache Tomcat/7.0.39 - Error report&lt;!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans... (1177 bytes)]</p>\n<p>I am using below code</p>\n<pre><code>@FeignClient(name = &quot;myFeign&quot;, fallbackFactory = MyFeignClientFallbackFactory.class)\npublic interface MyFeignClient {\n     @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET, consumes = MediaType.APPLICATION_ATOM_XML_VALUE,produces = MediaType.APPLICATION_XML_VALUE)\n    String getValue(@RequestParam(&quot;param1&quot;) String param1);\n}\n</code></pre>\n<p>fallback factory class</p>\n<pre><code>@Component\npublic class MyFeignClientFallbackFactory implements FallbackFactory&lt;MyFeignClientFallback&gt; {\n\n    @Override\n    public MyFeignClientFallback create(Throwable cause) {\n        return new MyFeignClientFallback(cause);\n    }\n\n}\n</code></pre>\n<p>Fallback class</p>\n<pre><code>\n@Slf4j\npublic class MyFeignClientFallback implements MyFeignClient{\n\n    \n    private final Throwable cause;\n\n    public MyFeignClientFallback(Throwable cause) {\n        this.cause = cause;\n    }\n\n    @Override\n    public String getValue(String param1) {\n        mapErrorResponse(&quot;param1&quot;);\n        return null;\n    }\n   private void mapErrorResponse(String methodName) {\n        log.error(&quot;Error while calling feign method &quot; + methodName);\n    }\n</code></pre>\n<p>I am using springboot 2.7.11 with java 11 and spring cloud 2021.0.1 version</p>\n<p>dependencies for feign client</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\n  &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1697631097,"post_id":77316135,"comment_id":136303631,"body_markdown":"Why are you requesting so much memory? Although that doesn’t seem like a lot. What device is it, and what are its constraints?","body":"Why are you requesting so much memory? Although that doesn’t seem like a lot. What device is it, and what are its constraints?"},{"owner":{"account_id":29253731,"reputation":1,"user_id":22412520,"display_name":"martine"},"score":0,"creation_date":1697631616,"post_id":77316135,"comment_id":136303749,"body_markdown":"I used emulator Nexus 5 API 25 android studio but when i run application i have this error after login and pwd app has stopping","body":"I used emulator Nexus 5 API 25 android studio but when i run application i have this error after login and pwd app has stopping"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1697632777,"post_id":77316135,"comment_id":136304048,"body_markdown":"Apparently you load images from drawable resource and your images are much to big or you have too much images or you put bitmaps in a list or.... We do not know what you do only that you thank in advance.","body":"Apparently you load images from drawable resource and your images are much to big or you have too much images or you put bitmaps in a list or.... We do not know what you do only that you thank in advance."},{"owner":{"account_id":29253731,"reputation":1,"user_id":22412520,"display_name":"martine"},"score":0,"creation_date":1697632923,"post_id":77316135,"comment_id":136304082,"body_markdown":"so I don&#39;t know what can i do to work this app thanks in advance","body":"so I don&#39;t know what can i do to work this app thanks in advance"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":2,"creation_date":1697635859,"post_id":77316135,"comment_id":136304746,"body_markdown":"Is this bitmap specified in xml layout? If so - then you change it to load it in the code, and then while loading downsample it - you may use glide for it. See here for more info: https://developer.android.com/topic/performance/graphics/load-bitmap. Also it would be easier if you have shown more code.","body":"Is this bitmap specified in xml layout? If so - then you change it to load it in the code, and then while loading downsample it - you may use glide for it. See here for more info: <a href=\"https://developer.android.com/topic/performance/graphics/load-bitmap\" rel=\"nofollow noreferrer\">developer.android.com/topic/performance/graphics/load-bitmap</a>&zwnj;&#8203;. Also it would be easier if you have shown more code."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1697637205,"post_id":77316135,"comment_id":136305048,"body_markdown":"Perhaps you put a large bitmap in `res/drawable/` [instead of `res/drawable-nodpi/` or `res/drawable-anydpi/`](https://commonsware.com/blog/2015/12/21/nodpi-anydpi-wtf.html).","body":"Perhaps you put a large bitmap in <code>res&#47;drawable&#47;</code> <a href=\"https://commonsware.com/blog/2015/12/21/nodpi-anydpi-wtf.html\" rel=\"nofollow noreferrer\">instead of <code>res&#47;drawable-nodpi&#47;</code> or <code>res&#47;drawable-anydpi&#47;</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697630869,"creation_date":1697630869,"answer_id":77316170,"question_id":77316135,"body_markdown":"Using **Memory Profiler** will make it easier to detect the relevant problem.\r\n\r\n&gt; The Memory Profiler is a component in the Android Profiler that helps\r\n&gt; you identify memory leaks and memory churn that can lead to stutter,\r\n&gt; freezes, and even app crashes. It shows a realtime graph of your app&#39;s\r\n&gt; memory use and lets you capture a heap dump, force garbage\r\n&gt; collections, and track memory allocations.\r\n\r\n\r\nTo open the Memory Profiler, follow these steps:\r\n\r\n 1. Click **View &gt; Tool Windows &gt; Profiler** (you can also click Profile  in the toolbar).\r\n 2. Select the device and app process you want to profile from the Android Profiler toolbar. If you&#39;ve connected a device over USB but don&#39;t see it listed, ensure that you have enabled USB debugging.\r\n 3. Click anywhere in the MEMORY timeline to open the Memory Profiler.\r\n\r\n\r\n[Official Documentation][1]\r\n\r\n\r\n  [1]: https://developer.android.com/studio/profile/memory-profiler?hl=en","title":"java.lang.OutOfMemoryError: Failed to allocate a 399920016 byte allocation with 4194304 free bytes and 334MB until OOM","body":"<p>Using <strong>Memory Profiler</strong> will make it easier to detect the relevant problem.</p>\n<blockquote>\n<p>The Memory Profiler is a component in the Android Profiler that helps\nyou identify memory leaks and memory churn that can lead to stutter,\nfreezes, and even app crashes. It shows a realtime graph of your app's\nmemory use and lets you capture a heap dump, force garbage\ncollections, and track memory allocations.</p>\n</blockquote>\n<p>To open the Memory Profiler, follow these steps:</p>\n<ol>\n<li>Click <strong>View &gt; Tool Windows &gt; Profiler</strong> (you can also click Profile  in the toolbar).</li>\n<li>Select the device and app process you want to profile from the Android Profiler toolbar. If you've connected a device over USB but don't see it listed, ensure that you have enabled USB debugging.</li>\n<li>Click anywhere in the MEMORY timeline to open the Memory Profiler.</li>\n</ol>\n<p><a href=\"https://developer.android.com/studio/profile/memory-profiler?hl=en\" rel=\"nofollow noreferrer\">Official Documentation</a></p>\n"}],"owner":{"account_id":29253731,"reputation":1,"user_id":22412520,"display_name":"martine"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697631085,"creation_date":1697630599,"question_id":77316135,"body_markdown":"I have Project Android developed with java and xml when i run give me App has stopped and i get this error :\r\nThe error message you&#39;re seeing is an OutOfMemoryError, which occurs in Java when the Java Virtual Machine (JVM) runs out of memory. In this case, the error message indicates that there was an attempt to allocate 399,920,016 bytes of memory, but there were only 4,194,304 (4MB) free bytes left, and the total available memory was 343MB. This resulted in an &quot;Out of Memory&quot; situation\r\n\r\nI try this in your manifest file:\r\n\r\n```\r\n&gt; &lt;application\r\n&gt; android:allowBackup=&quot;true&quot;\r\n&gt; android:hardwareAccelerated=&quot;false&quot;\r\n&gt; android:icon=&quot;@mipmap/ic_launcher&quot;\r\n&gt; android:label=&quot;@string/app_name&quot;\r\n&gt; android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n&gt; android:largeHeap=&quot;true&quot;\r\n&gt; android:supportsRtl=&quot;true&quot;\r\n&gt; android:theme=&quot;@style/AppTheme&quot;&gt;\r\n```\r\n\r\nStack trace\r\n\r\n```\r\n2023-10-17 18:11:00.682 7647-7647/ma.chutta.appnutrition E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: ma.chutta.appnutrition, PID: 7647\r\n    java.lang.OutOfMemoryError: Failed to allocate a 399920016 byte allocation with 4194304 free     bytes and 334MB until OOM\r\n        at dalvik.system.VMRuntime.newNonMovableArray(Native Method)\r\n        at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\r\n        at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:620)\r\n        at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:455)\r\n        at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:1155)\r\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:720)\r\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:571)\r\n        at android.content.res.Resources.loadDrawable(Resources.java:858)\r\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:928)\r\n```\r\n\r\nHow can i resolve this issue \r\n\r\nThanks in advance \r\n\r\n\r\n\r\n","title":"java.lang.OutOfMemoryError: Failed to allocate a 399920016 byte allocation with 4194304 free bytes and 334MB until OOM","body":"<p>I have Project Android developed with java and xml when i run give me App has stopped and i get this error :\nThe error message you're seeing is an OutOfMemoryError, which occurs in Java when the Java Virtual Machine (JVM) runs out of memory. In this case, the error message indicates that there was an attempt to allocate 399,920,016 bytes of memory, but there were only 4,194,304 (4MB) free bytes left, and the total available memory was 343MB. This resulted in an &quot;Out of Memory&quot; situation</p>\n<p>I try this in your manifest file:</p>\n<pre><code>&gt; &lt;application\n&gt; android:allowBackup=&quot;true&quot;\n&gt; android:hardwareAccelerated=&quot;false&quot;\n&gt; android:icon=&quot;@mipmap/ic_launcher&quot;\n&gt; android:label=&quot;@string/app_name&quot;\n&gt; android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n&gt; android:largeHeap=&quot;true&quot;\n&gt; android:supportsRtl=&quot;true&quot;\n&gt; android:theme=&quot;@style/AppTheme&quot;&gt;\n</code></pre>\n<p>Stack trace</p>\n<pre><code>2023-10-17 18:11:00.682 7647-7647/ma.chutta.appnutrition E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: ma.chutta.appnutrition, PID: 7647\n    java.lang.OutOfMemoryError: Failed to allocate a 399920016 byte allocation with 4194304 free     bytes and 334MB until OOM\n        at dalvik.system.VMRuntime.newNonMovableArray(Native Method)\n        at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\n        at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:620)\n        at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:455)\n        at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:1155)\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:720)\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:571)\n        at android.content.res.Resources.loadDrawable(Resources.java:858)\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:928)\n</code></pre>\n<p>How can i resolve this issue</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","selenium-webdriver","cucumber","bdd"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1697313564,"post_id":77292371,"comment_id":136265243,"body_markdown":"You are getting an NPE because you did not set a value to `addToCartPages`. This will require that you share the Web Driver between your step definition files. To share the webdriver between step definitions look at https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer","body":"You are getting an NPE because you did not set a value to <code>addToCartPages</code>. This will require that you share the Web Driver between your step definition files. To share the webdriver between step definitions look at <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/&hellip;</a>"}],"owner":{"account_id":20800358,"reputation":11,"user_id":15276545,"display_name":"dody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697630834,"creation_date":1697277293,"question_id":77292371,"body_markdown":"Here my cucumber feature \r\n\r\n```\r\n@Regression\r\nFeature: Add to Cart Feature\r\n\r\n  Background: user successfully login to website saucedemo\r\n    Given [ui] user open web url &quot;https://www.saucedemo.com/&quot;\r\n    And [ui] user input username &quot;standard_user&quot; and password &quot;secret_sauce&quot;\r\n    When [ui] user click login button\r\n    Then [ui] user success login and redirected to homepage\r\n\r\n  @AddToCartTestCase-01\r\n  Scenario: user success add one product to cart\r\n    Given [ui] user click button add to cart on products page\r\n    Then [ui] user should see count of product is &quot;1&quot; in cart on products page\r\n```\r\n\r\nHere my step definition for user accses the website in LoginSteps.java\r\n\r\n```\r\npublic class LoginSteps {\r\n\r\n    WebDriver driver;\r\n\r\n    LoginPages loginPages;\r\n\r\n    @Given(&quot;[ui] user open web url {string}&quot;)\r\n    public void uiUserOpenWebUrl(String url) {\r\n        WebDriverManager.chromedriver().setup();\r\n        driver = new ChromeDriver();\r\n        driver.get(url);\r\n        driver.manage().window().maximize();\r\n        loginPages = PageFactory.initElements(driver, LoginPages.class);\r\n    }\r\n\r\n    @And(&quot;[ui] user input username {string} and password {string}&quot;)\r\n    public void uiUserInputUsernameAndPassword(String username, String password) {\r\n        loginPages.fillFormUsername(username);\r\n        loginPages.fillFormPassword(password);\r\n    }\r\n\r\n    @When(&quot;[ui] user click login button&quot;)\r\n    public void uiUserClickLoginButton() {\r\n        loginPages.clickLoginButton();\r\n    }\r\n\r\n    @Then(&quot;[ui] user success login and redirected to homepage&quot;)\r\n    public void uiUserSuccessLoginAndRedirectedToHomepage() {\r\n        assertThat(&quot;wrong homepage&quot;, driver.getCurrentUrl(), equalTo(&quot;https://www.saucedemo.com/inventory.html&quot;));\r\n    }\r\n\r\n    @Then(&quot;[ui] user should see error message {string}&quot;)\r\n    public void uiUserShouldSeeErrorMessage(String errorMessage) {\r\n        assertThat(&quot;wrong error message&quot;, loginPages.errorMessage(), equalTo(errorMessage));\r\n    }\r\n\r\n    @And(&quot;[ui] user close the browser&quot;)\r\n    public void uiUserCloseTheBrowser() {\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nHere my step definition for user add product to cart in AddToCartSteps.java\r\n\r\n```\r\npublic class AddToCartSteps {\r\n    AddToCartPages addToCartPages;\r\n\r\n    @Given(&quot;[ui] user click button add to cart on products page&quot;)\r\n    public void uiUserClickButtonAddToCartOnProductsPage() {\r\n        addToCartPages.clickAddToCartButton();\r\n    }\r\n\r\n    @Then(&quot;[ui] user should see count of product is {string} in cart on products page&quot;)\r\n    public void uiUserShouldSeeCountOfProductIsInCartOnProductsPage(String count) {\r\n        assertThat(&quot;number of products in the cart does not change&quot;, addToCartPages.getCountOfProduct(), equalTo(count));\r\n    }\r\n\r\n}\r\n\r\n```\r\nIf I run my `@AddToCartTestCase-01`, I get a `java.lang.NullPointerException` in step &quot;*Given [ui] user click button add to cart on products page*.&quot;\r\n\r\nCould someone to help me, so I can run my scenario? Thank you.\r\n\r\nHere my [Foldering Project](https://i.stack.imgur.com/YTbWM.png)","title":"Got Null Pointer in BDD Cucumber Selenium UI","body":"<p>Here my cucumber feature</p>\n<pre><code>@Regression\nFeature: Add to Cart Feature\n\n  Background: user successfully login to website saucedemo\n    Given [ui] user open web url &quot;https://www.saucedemo.com/&quot;\n    And [ui] user input username &quot;standard_user&quot; and password &quot;secret_sauce&quot;\n    When [ui] user click login button\n    Then [ui] user success login and redirected to homepage\n\n  @AddToCartTestCase-01\n  Scenario: user success add one product to cart\n    Given [ui] user click button add to cart on products page\n    Then [ui] user should see count of product is &quot;1&quot; in cart on products page\n</code></pre>\n<p>Here my step definition for user accses the website in LoginSteps.java</p>\n<pre><code>public class LoginSteps {\n\n    WebDriver driver;\n\n    LoginPages loginPages;\n\n    @Given(&quot;[ui] user open web url {string}&quot;)\n    public void uiUserOpenWebUrl(String url) {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        driver.get(url);\n        driver.manage().window().maximize();\n        loginPages = PageFactory.initElements(driver, LoginPages.class);\n    }\n\n    @And(&quot;[ui] user input username {string} and password {string}&quot;)\n    public void uiUserInputUsernameAndPassword(String username, String password) {\n        loginPages.fillFormUsername(username);\n        loginPages.fillFormPassword(password);\n    }\n\n    @When(&quot;[ui] user click login button&quot;)\n    public void uiUserClickLoginButton() {\n        loginPages.clickLoginButton();\n    }\n\n    @Then(&quot;[ui] user success login and redirected to homepage&quot;)\n    public void uiUserSuccessLoginAndRedirectedToHomepage() {\n        assertThat(&quot;wrong homepage&quot;, driver.getCurrentUrl(), equalTo(&quot;https://www.saucedemo.com/inventory.html&quot;));\n    }\n\n    @Then(&quot;[ui] user should see error message {string}&quot;)\n    public void uiUserShouldSeeErrorMessage(String errorMessage) {\n        assertThat(&quot;wrong error message&quot;, loginPages.errorMessage(), equalTo(errorMessage));\n    }\n\n    @And(&quot;[ui] user close the browser&quot;)\n    public void uiUserCloseTheBrowser() {\n        driver.close();\n        driver.quit();\n    }\n\n}\n\n</code></pre>\n<p>Here my step definition for user add product to cart in AddToCartSteps.java</p>\n<pre><code>public class AddToCartSteps {\n    AddToCartPages addToCartPages;\n\n    @Given(&quot;[ui] user click button add to cart on products page&quot;)\n    public void uiUserClickButtonAddToCartOnProductsPage() {\n        addToCartPages.clickAddToCartButton();\n    }\n\n    @Then(&quot;[ui] user should see count of product is {string} in cart on products page&quot;)\n    public void uiUserShouldSeeCountOfProductIsInCartOnProductsPage(String count) {\n        assertThat(&quot;number of products in the cart does not change&quot;, addToCartPages.getCountOfProduct(), equalTo(count));\n    }\n\n}\n\n</code></pre>\n<p>If I run my <code>@AddToCartTestCase-01</code>, I get a <code>java.lang.NullPointerException</code> in step &quot;<em>Given [ui] user click button add to cart on products page</em>.&quot;</p>\n<p>Could someone to help me, so I can run my scenario? Thank you.</p>\n<p>Here my <a href=\"https://i.stack.imgur.com/YTbWM.png\" rel=\"nofollow noreferrer\">Foldering Project</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2892786,"reputation":559,"user_id":2481159,"accept_rate":33,"display_name":"rainerfrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1522513555,"creation_date":1522513555,"answer_id":49589955,"question_id":49589389,"body_markdown":"Instead of creating your own `ContentNegotiationManagerFactoryBean` you could use a `ContentNegotiationConfigurer` to set up the default content type.\r\n\r\nIn your `WebMvcConfigurerAdapter`, override the method `configureContentNegotiation()` and call the method `defaultContentType()` on the supplied `ContentNegotiationConfigurer`. That way, the auto configured `ContentNegotiationManager` will have that option set.","title":"XML as a default response for Spring Rest","body":"<p>Instead of creating your own <code>ContentNegotiationManagerFactoryBean</code> you could use a <code>ContentNegotiationConfigurer</code> to set up the default content type.</p>\n\n<p>In your <code>WebMvcConfigurerAdapter</code>, override the method <code>configureContentNegotiation()</code> and call the method <code>defaultContentType()</code> on the supplied <code>ContentNegotiationConfigurer</code>. That way, the auto configured <code>ContentNegotiationManager</code> will have that option set.</p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697630637,"creation_date":1697630637,"answer_id":77316140,"question_id":49589389,"body_markdown":"Simply using `RestTemplateBuilder` instead of `RestTemplate` solves this problem without any additional configuration.\r\n\r\nThis is hinted at in the [Spring Boot documentation](https://stackoverflow.com/a/58316756/1246547), although one may not realize immediately its importance:\r\n\r\n&gt;  The auto-configured `RestTemplateBuilder` ensures that **sensible `HttpMessageConverters` are applied to `RestTemplate` instances**.","title":"XML as a default response for Spring Rest","body":"<p>Simply using <code>RestTemplateBuilder</code> instead of <code>RestTemplate</code> solves this problem without any additional configuration.</p>\n<p>This is hinted at in the <a href=\"https://stackoverflow.com/a/58316756/1246547\">Spring Boot documentation</a>, although one may not realize immediately its importance:</p>\n<blockquote>\n<p>The auto-configured <code>RestTemplateBuilder</code> ensures that <strong>sensible <code>HttpMessageConverters</code> are applied to <code>RestTemplate</code> instances</strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49589955,"answer_count":2,"score":1,"last_activity_date":1697630637,"creation_date":1522510110,"question_id":49589389,"body_markdown":"I am using Spring Boot to create REST service which has to return by default application/XML as a response when no Accept header from the client is received. Unfortunately, Spring has as default JSON. How can I switch this default behaviour?\r\n\r\nSo far I have tried :\r\n\r\nAdding this dependency helped to produce XML (but only with Accept header set  from client - so no default):\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTrying to set the default for `ContentNegotiationManagerFactoryBean` in my @SpringBoot class\r\n\r\n     @Bean\r\n      ContentNegotiationManagerFactoryBean contentNegotiationManagerFactoryBean() {\r\n        val myBean = new ContentNegotiationManagerFactoryBean();\r\n        myBean.setDefaultContentType(MediaType.APPLICATION_XML);\r\n        return myBean;\r\n      }\r\n\r\nresulted in error :\r\n\r\n&gt;   Method viewResolver in org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter required a single bean, but 2 were found\r\n\r\nTrying to exclude it via: \r\n\r\n    @SpringBootApplication(exclude = { ContentNegotiationManagerFactoryBean.class })\r\n\r\nonly gives another error:\r\n\r\n&gt;   The following classes could not be excluded because they are not auto-configuration classes\r\n\r\n","title":"XML as a default response for Spring Rest","body":"<p>I am using Spring Boot to create REST service which has to return by default application/XML as a response when no Accept header from the client is received. Unfortunately, Spring has as default JSON. How can I switch this default behaviour?</p>\n\n<p>So far I have tried :</p>\n\n<p>Adding this dependency helped to produce XML (but only with Accept header set  from client - so no default):</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Trying to set the default for <code>ContentNegotiationManagerFactoryBean</code> in my @SpringBoot class</p>\n\n<pre><code> @Bean\n  ContentNegotiationManagerFactoryBean contentNegotiationManagerFactoryBean() {\n    val myBean = new ContentNegotiationManagerFactoryBean();\n    myBean.setDefaultContentType(MediaType.APPLICATION_XML);\n    return myBean;\n  }\n</code></pre>\n\n<p>resulted in error :</p>\n\n<blockquote>\n  <p>Method viewResolver in org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter required a single bean, but 2 were found</p>\n</blockquote>\n\n<p>Trying to exclude it via: </p>\n\n<pre><code>@SpringBootApplication(exclude = { ContentNegotiationManagerFactoryBean.class })\n</code></pre>\n\n<p>only gives another error:</p>\n\n<blockquote>\n  <p>The following classes could not be excluded because they are not auto-configuration classes</p>\n</blockquote>\n"},{"tags":["java","gradle","build.gradle","javadoc","gradle-plugin"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697636760,"post_id":77315355,"comment_id":136304950,"body_markdown":"Wrong:  `&lt;font color=&quot;red&quot;&gt;`  Right:  `&lt;span style=&quot;color: red&quot;&gt;`  As aled pointed out, `&lt;font&gt;` is no longer a valid HTML element.","body":"Wrong:  <code>&lt;font color=&quot;red&quot;&gt;</code>  Right:  <code>&lt;span style=&quot;color: red&quot;&gt;</code>  As aled pointed out, <code>&lt;font&gt;</code> is no longer a valid HTML element."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697630246,"creation_date":1697630246,"answer_id":77316094,"question_id":77315355,"body_markdown":"It is probable that your version of Javadoc is using already using HTML5 which deprecated the `&lt;font&gt;` tag. You should use CSS for styling.","title":"Font tag not supported in javadoc","body":"<p>It is probable that your version of Javadoc is using already using HTML5 which deprecated the <code>&lt;font&gt;</code> tag. You should use CSS for styling.</p>\n"}],"owner":{"account_id":21237617,"reputation":133,"user_id":15621590,"display_name":"Zonko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697630246,"creation_date":1697623618,"question_id":77315355,"body_markdown":"Im using Java 16 and build my project with gradle.\r\nI want to use ```gradle javadoc``` to generate a javadoc from my comments. But when i executed the command, I got following error: \r\n\r\n&gt; error: tag not supported in the generated HTML version: font\r\n\r\nThe class comment this error refers to looks something like this:\r\n```\r\n/**\r\n * Websocket to handle changes.&lt;br&gt;\r\n * &lt;font color=&quot;red&quot;&gt;A RED COMMENT &lt;/font&gt;&lt;br&gt;\r\n * &lt;font color=&quot;orange&quot;&gt;AN ORANGE COMMENT&lt;/font&gt;\r\n **/\r\n```\r\n\r\nIntellij shows me the comment exactly like i want, but I get this error while generating javadoc.\r\n\r\nI did not configure the javadoc generation in the build.gradle or anywhere else. The only solution i found was to set the html version inside the javadoc step in build.gradle (https://stackoverflow.com/questions/50222047/enable-html5-javadoc-in-gradle) but this didn&#39;t change anything\r\n\r\nAny idea?","title":"Font tag not supported in javadoc","body":"<p>Im using Java 16 and build my project with gradle.\nI want to use <code>gradle javadoc</code> to generate a javadoc from my comments. But when i executed the command, I got following error:</p>\n<blockquote>\n<p>error: tag not supported in the generated HTML version: font</p>\n</blockquote>\n<p>The class comment this error refers to looks something like this:</p>\n<pre><code>/**\n * Websocket to handle changes.&lt;br&gt;\n * &lt;font color=&quot;red&quot;&gt;A RED COMMENT &lt;/font&gt;&lt;br&gt;\n * &lt;font color=&quot;orange&quot;&gt;AN ORANGE COMMENT&lt;/font&gt;\n **/\n</code></pre>\n<p>Intellij shows me the comment exactly like i want, but I get this error while generating javadoc.</p>\n<p>I did not configure the javadoc generation in the build.gradle or anywhere else. The only solution i found was to set the html version inside the javadoc step in build.gradle (<a href=\"https://stackoverflow.com/questions/50222047/enable-html5-javadoc-in-gradle\">Enable HTML5 Javadoc in Gradle</a>) but this didn't change anything</p>\n<p>Any idea?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697636178,"post_id":77316088,"comment_id":136304812,"body_markdown":"What&#39;s the content of your module-info.java?","body":"What&#39;s the content of your module-info.java?"},{"owner":{"account_id":29699750,"reputation":1,"user_id":22762193,"display_name":"Martian"},"score":0,"creation_date":1697640383,"post_id":77316088,"comment_id":136305827,"body_markdown":"just like \nmodule Test{\n       requires hadoop.common;\n}","body":"just like  module Test{        requires hadoop.common; }"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697640862,"post_id":77316088,"comment_id":136305931,"body_markdown":"List all your dependencies in that file or just delete it.","body":"List all your dependencies in that file or just delete it."}],"owner":{"account_id":29699750,"reputation":1,"user_id":22762193,"display_name":"Martian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698058313,"answer_count":0,"score":0,"last_activity_date":1697630230,"creation_date":1697630230,"question_id":77316088,"body_markdown":"I want to use all the functions under org.apache.hadoop.fs, but I keep getting errors when I try to import it. The error message is in the image.\r\n[enter image description here](https://i.stack.imgur.com/ZjMuX.png)\r\n\r\n\r\nI hope to be able to reference it correctly. thanks","title":"In Eclipse, I&#39;ve already imported a JAR library for Java, but why do I get errors when I use the import statement?","body":"<p>I want to use all the functions under org.apache.hadoop.fs, but I keep getting errors when I try to import it. The error message is in the image.\n<a href=\"https://i.stack.imgur.com/ZjMuX.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I hope to be able to reference it correctly. thanks</p>\n"},{"tags":["java","hibernate","hibernate-tools","jboss-tools"],"answers":[{"tags":[],"owner":{"account_id":9428979,"reputation":622,"user_id":7013109,"accept_rate":86,"display_name":"RMagen"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1528955233,"creation_date":1528955233,"answer_id":50850406,"question_id":50837574,"body_markdown":"After spending two days on it , I found the problem..\r\nmy hibernate version is 5.3 and still after changing the hibernate version to 5.2 (in the hibernate configuration window ) - it worked !!","title":"Annotation not created when generating Hibernate mapping files","body":"<p>After spending two days on it , I found the problem..\nmy hibernate version is 5.3 and still after changing the hibernate version to 5.2 (in the hibernate configuration window ) - it worked !!</p>\n"},{"tags":[],"owner":{"account_id":14203528,"reputation":49,"user_id":10260793,"display_name":"Rezak_tizi"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1534955377,"creation_date":1534955377,"answer_id":51971337,"question_id":50837574,"body_markdown":"After changing different possibilities in the configuration and connection, I changed the hibernate version from **5.3 to 5.2** and it works now ! (Tested on Photon and Oxygen versions of Eclipse)","title":"Annotation not created when generating Hibernate mapping files","body":"<p>After changing different possibilities in the configuration and connection, I changed the hibernate version from <strong>5.3 to 5.2</strong> and it works now ! (Tested on Photon and Oxygen versions of Eclipse)</p>\n"},{"tags":[],"owner":{"account_id":3977648,"reputation":76,"user_id":3280440,"display_name":"oury.ba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594632072,"creation_date":1594631693,"answer_id":62872765,"question_id":50837574,"body_markdown":"In my case I have to  check the checkboxe **&quot;Generate EJB3 annotations&quot;** with hibernate version 5.2 to make it work fine !\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ziYU0.png","title":"Annotation not created when generating Hibernate mapping files","body":"<p>In my case I have to  check the checkboxe <strong>&quot;Generate EJB3 annotations&quot;</strong> with hibernate version 5.2 to make it work fine !</p>\n<p><a href=\"https://i.stack.imgur.com/ziYU0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ziYU0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":29698172,"reputation":1,"user_id":22760927,"display_name":"janvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697630063,"creation_date":1697630063,"answer_id":77316064,"question_id":50837574,"body_markdown":"In hibernate Code Generation change the version to 4.3. In case you want to use a version greater than 4.3 change it later after generating classes.","title":"Annotation not created when generating Hibernate mapping files","body":"<p>In hibernate Code Generation change the version to 4.3. In case you want to use a version greater than 4.3 change it later after generating classes.</p>\n"}],"owner":{"account_id":9428979,"reputation":622,"user_id":7013109,"accept_rate":86,"display_name":"RMagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3951,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":50850406,"answer_count":4,"score":5,"last_activity_date":1697630063,"creation_date":1528893705,"question_id":50837574,"body_markdown":"I am following this link to generate hibernate file \r\n\r\nhttps://www.mkyong.com/hibernate/how-to-generate-code-with-hibernate-tools/\r\n\r\nthe files are generated but without annotation.\r\nI checked the &quot;generate EJB3 annotation &quot; but still it is not working\r\nthe DB is Postgres.\r\nI use to do it the same way and it was working fine..\r\nfew weeks ago I upgrade to eclipse to oxygen and change my workplace \r\nsince then it is not working.. \r\ndoes any body know if there is a log file for the activity ? maybe I can find some thing there ? \r\n\r\nthis is my hibernate.cfg.xml file \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\r\n\t\t&lt;property name=&quot;hibernate.bytecode.use_reflection_optimizer&quot;&gt;false&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://xxxxx/yyy&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;user&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\r\n\t\t&lt;!-- &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;false&lt;/property&gt; --&gt;\r\n\t\t&lt;property name=&quot;hibernate.search.autoregister_listeners&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.validator.apply_to_ddl&quot;&gt;false&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/property&gt;\r\n\t\r\n\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;","title":"Annotation not created when generating Hibernate mapping files","body":"<p>I am following this link to generate hibernate file </p>\n\n<p><a href=\"https://www.mkyong.com/hibernate/how-to-generate-code-with-hibernate-tools/\" rel=\"noreferrer\">https://www.mkyong.com/hibernate/how-to-generate-code-with-hibernate-tools/</a></p>\n\n<p>the files are generated but without annotation.\nI checked the \"generate EJB3 annotation \" but still it is not working\nthe DB is Postgres.\nI use to do it the same way and it was working fine..\nfew weeks ago I upgrade to eclipse to oxygen and change my workplace \nsince then it is not working.. \ndoes any body know if there is a log file for the activity ? maybe I can find some thing there ? </p>\n\n<p>this is my hibernate.cfg.xml file </p>\n\n<p>\n\n\n    </p>\n\n<pre><code>    &lt;property name=\"hibernate.bytecode.use_reflection_optimizer\"&gt;false&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;org.postgresql.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;password&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:postgresql://xxxxx/yyy&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.username\"&gt;user&lt;/property&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\n    &lt;!-- &lt;property name=\"hibernate.enable_lazy_load_no_trans\"&gt;false&lt;/property&gt; --&gt;\n    &lt;property name=\"hibernate.search.autoregister_listeners\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hibernate.validator.apply_to_ddl\"&gt;false&lt;/property&gt;\n    &lt;property name=\"hibernate.temp.use_jdbc_metadata_defaults\"&gt;false&lt;/property&gt;\n    &lt;property name=\"hibernate.enable_lazy_load_no_trans\"&gt;true&lt;/property&gt;\n\n\n&lt;/session-factory&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","spring","spring-boot","logging"],"comments":[{"owner":{"account_id":4767709,"reputation":1245,"user_id":3853405,"accept_rate":25,"display_name":"Jaspreet Jolly"},"score":0,"creation_date":1563780780,"post_id":57140132,"comment_id":100797509,"body_markdown":"I have a similar problem in past, CommonsRequestLoggingFilter does not provides any out of box option to log payload in before request as the request body is in InputStream which can be read only once. But I remember there are solutions where people have written there own filters in which they use ContentCachingRequestWrapper so that request body can be read twice.","body":"I have a similar problem in past, CommonsRequestLoggingFilter does not provides any out of box option to log payload in before request as the request body is in InputStream which can be read only once. But I remember there are solutions where people have written there own filters in which they use ContentCachingRequestWrapper so that request body can be read twice."},{"owner":{"account_id":4767709,"reputation":1245,"user_id":3853405,"accept_rate":25,"display_name":"Jaspreet Jolly"},"score":1,"creation_date":1563781438,"post_id":57140132,"comment_id":100797861,"body_markdown":"Here are the few examples for reference:- http://www.programmergirl.com/spring-http-request-logging/ ,  https://github.com/yuhuachang/java-spring-boot-samples/blob/master/spring-rest-logging/src/main/java/com/example/restlogging/logging/HttpRequestResponseLoggingFilter.java","body":"Here are the few examples for reference:- <a href=\"http://www.programmergirl.com/spring-http-request-logging/\" rel=\"nofollow noreferrer\">programmergirl.com/spring-http-request-logging</a> ,  <a href=\"https://github.com/yuhuachang/java-spring-boot-samples/blob/master/spring-rest-logging/src/main/java/com/example/restlogging/logging/HttpRequestResponseLoggingFilter.java\" rel=\"nofollow noreferrer\">github.com/yuhuachang/java-spring-boot-samples/blob/master/&hellip;</a>"},{"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"score":1,"creation_date":1563785340,"post_id":57140132,"comment_id":100799700,"body_markdown":"`ContentCachingRequestWrapper#getContentAsByteArray` method returns an empty array, if the InputStream or Reader has not already been called. I tried to write a similar thing but the content array was always empty.","body":"<code>ContentCachingRequestWrapper#getContentAsByteArray</code> method returns an empty array, if the InputStream or Reader has not already been called. I tried to write a similar thing but the content array was always empty."},{"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"score":0,"creation_date":1563787988,"post_id":57140132,"comment_id":100801163,"body_markdown":"@JaspreetJolly, thanks I used the example in Github link. It worked.","body":"@JaspreetJolly, thanks I used the example in Github link. It worked."}],"answers":[{"tags":[],"owner":{"account_id":16364283,"reputation":23,"user_id":11819144,"display_name":"user11819144"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563798466,"creation_date":1563798466,"answer_id":57146057,"question_id":57140132,"body_markdown":"You can log both before and after interceptor&#39;s execute() method like below.\r\n\r\n    public class LoggingInterceptor implements ClientHttpRequestInterceptor {\r\n    \r\n      private final Logger log = LoggerFactory.getLogger(LoggingInterceptor.class);\r\n    \r\n      @Override\r\n      public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\r\n          throws IOException {\r\n        logRequest(request, body);\r\n        ClientHttpResponse response = execution.execute(request, body);\r\n        logResponse(response);\r\n        return response;\r\n      }\r\n    \r\n      private void logRequest(HttpRequest request, byte[] body) throws IOException {\r\n        if (log.isDebugEnabled()) {\r\n          log.debug(&quot;URI         : {}&quot;, request.getURI());\r\n          log.debug(&quot;Method      : {}&quot;, request.getMethod());\r\n          log.debug(&quot;Headers     : {}&quot;, request.getHeaders());\r\n          log.debug(&quot;Request body: {}&quot;, new String(body, &quot;UTF-8&quot;));\r\n        }\r\n      }\r\n    \r\n      private void logResponse(ClientHttpResponse response) throws IOException {\r\n        if (log.isDebugEnabled()) {\r\n          log.debug(&quot;Status code  : {}&quot;, response.getStatusCode());\r\n          log.debug(&quot;Status text  : {}&quot;, response.getStatusText());\r\n          log.debug(&quot;Headers      : {}&quot;, response.getHeaders());\r\n          log.debug(&quot;Response body: {}&quot;, StreamUtils.copyToString(response.getBody(), Charset.defaultCharset()));\r\n        }\r\n      }\r\n    }","title":"How to log request body before it is processed using CommonsRequestLoggingFilter?","body":"<p>You can log both before and after interceptor's execute() method like below.</p>\n\n<pre><code>public class LoggingInterceptor implements ClientHttpRequestInterceptor {\n\n  private final Logger log = LoggerFactory.getLogger(LoggingInterceptor.class);\n\n  @Override\n  public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\n      throws IOException {\n    logRequest(request, body);\n    ClientHttpResponse response = execution.execute(request, body);\n    logResponse(response);\n    return response;\n  }\n\n  private void logRequest(HttpRequest request, byte[] body) throws IOException {\n    if (log.isDebugEnabled()) {\n      log.debug(\"URI         : {}\", request.getURI());\n      log.debug(\"Method      : {}\", request.getMethod());\n      log.debug(\"Headers     : {}\", request.getHeaders());\n      log.debug(\"Request body: {}\", new String(body, \"UTF-8\"));\n    }\n  }\n\n  private void logResponse(ClientHttpResponse response) throws IOException {\n    if (log.isDebugEnabled()) {\n      log.debug(\"Status code  : {}\", response.getStatusCode());\n      log.debug(\"Status text  : {}\", response.getStatusText());\n      log.debug(\"Headers      : {}\", response.getHeaders());\n      log.debug(\"Response body: {}\", StreamUtils.copyToString(response.getBody(), Charset.defaultCharset()));\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389722,"reputation":102,"user_id":749337,"display_name":"matthenry87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605149066,"creation_date":1605149066,"answer_id":64797151,"question_id":57140132,"body_markdown":"I&#39;ve been researching this an I&#39;ve determined that it&#39;s probably not best practice to log the request/response bodies.\r\n\r\nStarting with Spring Boot 2.0 it&#39;s not (and really hasn&#39;t officially been) supported.\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/12953#issuecomment-383830749","title":"How to log request body before it is processed using CommonsRequestLoggingFilter?","body":"<p>I've been researching this an I've determined that it's probably not best practice to log the request/response bodies.</p>\n<p>Starting with Spring Boot 2.0 it's not (and really hasn't officially been) supported.</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/12953#issuecomment-383830749\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/12953#issuecomment-383830749</a></p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46100,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697629489,"creation_date":1697629489,"answer_id":77316000,"question_id":57140132,"body_markdown":"IDK how to trigger flushing of request stream. I had to read body after `filterChain.doFilter()`:\r\n\r\n```\r\npublic class RequestResponseLogFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\r\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\r\n\r\n        try {\r\n            filterChain.doFilter(requestWrapper, responseWrapper);\r\n        } finally {\r\n            // Log request after filter chain completed - so req body stream flushed and non-empty.\r\n            logReq(requestWrapper);\r\n\r\n            logRsp(responseWrapper);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to log request body before it is processed using CommonsRequestLoggingFilter?","body":"<p>IDK how to trigger flushing of request stream. I had to read body after <code>filterChain.doFilter()</code>:</p>\n<pre><code>public class RequestResponseLogFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\n\n        try {\n            filterChain.doFilter(requestWrapper, responseWrapper);\n        } finally {\n            // Log request after filter chain completed - so req body stream flushed and non-empty.\n            logReq(requestWrapper);\n\n            logRsp(responseWrapper);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697629489,"creation_date":1563776309,"question_id":57140132,"body_markdown":"`CommonsRequestLoggingFilter` is working fine when logging the incoming request bodies. However, it only logs them after the processing is done. So, when I log the response body, it precedes the request body. I would like to know if there&#39;s a way to log the request before it is even processed.\r\n\r\nAnother thing I would like to mention is that `CommonsRequestLoggingFilter` actually is aware when the request is received, it logs message like `Request received at...`. However, that log doesn&#39;t contain the request body. After the message is processed, it logs almost exact thing with payload in it.\r\n\r\nMy configuration is the following for the `CommonsRequestLoggingFilter`. It has nothing special.\r\n```java\r\n@Bean\r\npublic CommonsRequestLoggingFilter requestLoggingFilter() {\r\n    CommonsRequestLoggingFilter loggingFilter = new CommonsRequestLoggingFilter();\r\n    loggingFilter.setIncludeClientInfo(true);\r\n    loggingFilter.setIncludeQueryString(true);\r\n    loggingFilter.setIncludePayload(true);\r\n    return loggingFilter;\r\n}\r\n```\r\n\r\n**Note**. Apparently there&#39;s a reason for the behavior mentioned above. It is said that `getContentAsByteArray` cannot be called until either `getInputStream` or `getReader` is called. This method is called inside the logger. I don&#39;t know what to do with this. Does it mean there&#39;s no way of logging request before?","title":"How to log request body before it is processed using CommonsRequestLoggingFilter?","body":"<p><code>CommonsRequestLoggingFilter</code> is working fine when logging the incoming request bodies. However, it only logs them after the processing is done. So, when I log the response body, it precedes the request body. I would like to know if there's a way to log the request before it is even processed.</p>\n\n<p>Another thing I would like to mention is that <code>CommonsRequestLoggingFilter</code> actually is aware when the request is received, it logs message like <code>Request received at...</code>. However, that log doesn't contain the request body. After the message is processed, it logs almost exact thing with payload in it.</p>\n\n<p>My configuration is the following for the <code>CommonsRequestLoggingFilter</code>. It has nothing special.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic CommonsRequestLoggingFilter requestLoggingFilter() {\n    CommonsRequestLoggingFilter loggingFilter = new CommonsRequestLoggingFilter();\n    loggingFilter.setIncludeClientInfo(true);\n    loggingFilter.setIncludeQueryString(true);\n    loggingFilter.setIncludePayload(true);\n    return loggingFilter;\n}\n</code></pre>\n\n<p><strong>Note</strong>. Apparently there's a reason for the behavior mentioned above. It is said that <code>getContentAsByteArray</code> cannot be called until either <code>getInputStream</code> or <code>getReader</code> is called. This method is called inside the logger. I don't know what to do with this. Does it mean there's no way of logging request before?</p>\n"},{"tags":["java","spring","rest","spring-mvc","spring-test"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697629483,"post_id":77315964,"comment_id":136303296,"body_markdown":"Which version of Java are you using?","body":"Which version of Java are you using?"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1697630251,"post_id":77315964,"comment_id":136303463,"body_markdown":"@MaksimEliseev 1.8","body":"@MaksimEliseev 1.8"}],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697629181,"creation_date":1697629181,"question_id":77315964,"body_markdown":"I would like to create a Unit Test for a class which has dependency on RestTemplate and is doing REST calls:\r\n\r\n    public class SOClient { \r\n    \r\n        private final RestTemplate restTemplate;\r\n        ... // constructor etc\r\n        public Questions getQuestions() {\r\n            ResponseEntity&lt;Questions[]&gt; entity = restTemplate.getForEntity(&quot;http://some-api.com&quot;, Questions[].class);\r\n            ...\r\n    } \r\n\r\nI have followed this tutorial: https://www.baeldung.com/restclienttest-in-spring-boot.\r\nI have created a test which looks like:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @RestClientTest({SOClient.class})\r\n    public class SOClientTest {\r\n     \r\n       public void test(){}\r\n    }\r\n\r\n\r\n\r\nSo I followed exactly the example from the tutorial, but I am getting an error:\r\n\r\n&gt; java.lang.IllegalStateException: Unable to find a\r\n&gt; @SpringBootConfiguration, you need to use @ContextConfiguration or\r\n&gt; @SpringBootTest(classes=...) with your test\r\n\r\n I do not want to add @SpringBootTest annotation because I do not want to load database-layer etc. I would like to only setup the basics needed for my specific test not the whole Spring Context.","title":"Creating @RestClientTest test without @SpringBootTest gives error : &quot;java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration&quot;","body":"<p>I would like to create a Unit Test for a class which has dependency on RestTemplate and is doing REST calls:</p>\n<pre><code>public class SOClient { \n\n    private final RestTemplate restTemplate;\n    ... // constructor etc\n    public Questions getQuestions() {\n        ResponseEntity&lt;Questions[]&gt; entity = restTemplate.getForEntity(&quot;http://some-api.com&quot;, Questions[].class);\n        ...\n} \n</code></pre>\n<p>I have followed this tutorial: <a href=\"https://www.baeldung.com/restclienttest-in-spring-boot\" rel=\"nofollow noreferrer\">https://www.baeldung.com/restclienttest-in-spring-boot</a>.\nI have created a test which looks like:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@RestClientTest({SOClient.class})\npublic class SOClientTest {\n \n   public void test(){}\n}\n</code></pre>\n<p>So I followed exactly the example from the tutorial, but I am getting an error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Unable to find a\n@SpringBootConfiguration, you need to use @ContextConfiguration or\n@SpringBootTest(classes=...) with your test</p>\n</blockquote>\n<p>I do not want to add @SpringBootTest annotation because I do not want to load database-layer etc. I would like to only setup the basics needed for my specific test not the whole Spring Context.</p>\n"},{"tags":["java","spring-boot","jackson-databind","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":1317509,"reputation":5663,"user_id":1264058,"accept_rate":50,"display_name":"Johnny Lim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570689077,"creation_date":1570689077,"answer_id":58316756,"question_id":57706610,"body_markdown":"[Creating a `RestTemplate` bean from the auto-configured `RestTemplateBuilder` bean][1] and using it doesn&#39;t manifest the situation. This is [a test to demonstrate the situation][2].\r\n\r\n\r\n  [1]: https://github.com/izeye/spring-boot-throwaway-branches/blob/a6e2ae49c13a6c3f9daff39d0a785badda3a71ee/src/main/java/com/izeye/throwaway/WebConfig.java#L16-L19\r\n  [2]: https://github.com/izeye/spring-boot-throwaway-branches/blob/a6e2ae49c13a6c3f9daff39d0a785badda3a71ee/src/test/java/com/izeye/throwaway/RestTemplateTests.java#L34-L41","title":"How to set default MessageConverter to JSON with jackson-dataformat-xml added?","body":"<p><a href=\"https://github.com/izeye/spring-boot-throwaway-branches/blob/a6e2ae49c13a6c3f9daff39d0a785badda3a71ee/src/main/java/com/izeye/throwaway/WebConfig.java#L16-L19\" rel=\"nofollow noreferrer\">Creating a <code>RestTemplate</code> bean from the auto-configured <code>RestTemplateBuilder</code> bean</a> and using it doesn't manifest the situation. This is <a href=\"https://github.com/izeye/spring-boot-throwaway-branches/blob/a6e2ae49c13a6c3f9daff39d0a785badda3a71ee/src/test/java/com/izeye/throwaway/RestTemplateTests.java#L34-L41\" rel=\"nofollow noreferrer\">a test to demonstrate the situation</a>.</p>\n"},{"tags":[],"owner":{"account_id":2221939,"reputation":423,"user_id":1961122,"display_name":"Cliff Pereira"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1571054634,"creation_date":1571054634,"answer_id":58376392,"question_id":57706610,"body_markdown":"What we ultimately found out, is that the the order of the message converters is highly important. Jackson seems to place the XML message converter before the JSON message converter. So we moved the XML message convert to the end and it worked. \r\n\r\n        \r\n        @Bean\r\n        RestTemplate restTemplate() {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        // move XML converter to the end of list\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = restTemplate.getMessageConverters();\r\n        for (int i = 0; i &lt; messageConverters.size() -1 ; i++) {\r\n            if (messageConverters.get(i) instanceof MappingJackson2XmlHttpMessageConverter) {\r\n                Collections.swap(messageConverters, i,messageConverters.size() - 1);\r\n            }\r\n        }\r\n\r\n        restTemplate.setMessageConverters(messageConverters);\r\n\r\n        // add interceptors if necessary\r\n        restTemplate.setInterceptors(Collections.singletonList(catalogInterceptior()));\r\n        return restTemplate;\r\n    }","title":"How to set default MessageConverter to JSON with jackson-dataformat-xml added?","body":"<p>What we ultimately found out, is that the the order of the message converters is highly important. Jackson seems to place the XML message converter before the JSON message converter. So we moved the XML message convert to the end and it worked. </p>\n\n<pre><code>    @Bean\n    RestTemplate restTemplate() {\n    RestTemplate restTemplate = new RestTemplate();\n    // move XML converter to the end of list\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = restTemplate.getMessageConverters();\n    for (int i = 0; i &lt; messageConverters.size() -1 ; i++) {\n        if (messageConverters.get(i) instanceof MappingJackson2XmlHttpMessageConverter) {\n            Collections.swap(messageConverters, i,messageConverters.size() - 1);\n        }\n    }\n\n    restTemplate.setMessageConverters(messageConverters);\n\n    // add interceptors if necessary\n    restTemplate.setInterceptors(Collections.singletonList(catalogInterceptior()));\n    return restTemplate;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6980681,"reputation":2774,"user_id":5353734,"display_name":"Nima Ajdari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646317660,"creation_date":1646317660,"answer_id":71338805,"question_id":57706610,"body_markdown":"You could change the order of message converters as suggested by the accepted answer and that works perfectly fine. Jackson picks up the message converter with the highest priority, if there is no `Content-Type` header present for the request. \r\n\r\nSo if you don&#39;t want to change the config of `RestTemplate`, you could set the   `Content-Type` to `application/json` and that will instruct Jackson to use the correct message converter on your requests:\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\r\n    headers.add(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n\r\n    var httpEntity = new HttpEntity&lt;&gt;(requestBody, headers);\r\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(\r\n        tenantConfig.getTokenUri(), HttpMethod.POST, httpEntity, String.class);","title":"How to set default MessageConverter to JSON with jackson-dataformat-xml added?","body":"<p>You could change the order of message converters as suggested by the accepted answer and that works perfectly fine. Jackson picks up the message converter with the highest priority, if there is no <code>Content-Type</code> header present for the request.</p>\n<p>So if you don't want to change the config of <code>RestTemplate</code>, you could set the   <code>Content-Type</code> to <code>application/json</code> and that will instruct Jackson to use the correct message converter on your requests:</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\nheaders.add(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\n\nvar httpEntity = new HttpEntity&lt;&gt;(requestBody, headers);\nResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(\n    tenantConfig.getTokenUri(), HttpMethod.POST, httpEntity, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12361927,"reputation":11,"user_id":9015791,"display_name":"Jason Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647971165,"creation_date":1647970166,"answer_id":71576485,"question_id":57706610,"body_markdown":"The order is controlled by Spring. If you look at the default constructor for RestTemplate, the MessageConverters are added to the list based on the booleans determined from the static block directly above (there is one Spring property that is consulted--spring.xml.ignore--and that controls whether or not to exclude loading all the XML-related infrastructure). The order of the list does not seem modify-able during instatiation. This does seem like a limitation although there is a constructor that takes in a list of MessageConverters and uses that instead. ","title":"How to set default MessageConverter to JSON with jackson-dataformat-xml added?","body":"<p>The order is controlled by Spring. If you look at the default constructor for RestTemplate, the MessageConverters are added to the list based on the booleans determined from the static block directly above (there is one Spring property that is consulted--spring.xml.ignore--and that controls whether or not to exclude loading all the XML-related infrastructure). The order of the list does not seem modify-able during instatiation. This does seem like a limitation although there is a constructor that takes in a list of MessageConverters and uses that instead.</p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697629093,"creation_date":1697629093,"answer_id":77315954,"question_id":57706610,"body_markdown":"As [Johnny Lim&#39;s answer](https://stackoverflow.com/a/58316756/1246547) very nicely outlined (backed up with a test), simply using `RestTemplateBuilder` instead of `RestTemplate` circumvents this problem.\r\n\r\nWell hidden in the [Spring Boot documentation](https://stackoverflow.com/a/58316756/1246547) it actually hints at this desired default behavior:\r\n\r\n&gt;  The auto-configured `RestTemplateBuilder` ensures that **sensible `HttpMessageConverters` are applied to `RestTemplate` instances**.\r\n\r\nWhen we encountered this problem in our applications, we solved it by adding a  bean like this to our Config:\r\n\r\n```java\r\n@Bean\r\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n    return builder.build();\r\n}\r\n```\r\n\r\nand then simply reusing that in all our Services:\r\n\r\n```java\r\n@Autowired\r\nprivate RestTemplate restTemplate;\r\n```\r\n\r\nOf course, one could as well replace all occurences of `new RestTemplate()` with `new RestTemplateBuilder.build()` instead as it also provides a convenient fluent API to configure any kind of request.","title":"How to set default MessageConverter to JSON with jackson-dataformat-xml added?","body":"<p>As <a href=\"https://stackoverflow.com/a/58316756/1246547\">Johnny Lim's answer</a> very nicely outlined (backed up with a test), simply using <code>RestTemplateBuilder</code> instead of <code>RestTemplate</code> circumvents this problem.</p>\n<p>Well hidden in the <a href=\"https://stackoverflow.com/a/58316756/1246547\">Spring Boot documentation</a> it actually hints at this desired default behavior:</p>\n<blockquote>\n<p>The auto-configured <code>RestTemplateBuilder</code> ensures that <strong>sensible <code>HttpMessageConverters</code> are applied to <code>RestTemplate</code> instances</strong>.</p>\n</blockquote>\n<p>When we encountered this problem in our applications, we solved it by adding a  bean like this to our Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\n    return builder.build();\n}\n</code></pre>\n<p>and then simply reusing that in all our Services:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate RestTemplate restTemplate;\n</code></pre>\n<p>Of course, one could as well replace all occurences of <code>new RestTemplate()</code> with <code>new RestTemplateBuilder.build()</code> instead as it also provides a convenient fluent API to configure any kind of request.</p>\n"}],"owner":{"account_id":2221939,"reputation":423,"user_id":1961122,"display_name":"Cliff Pereira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4385,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":58376392,"answer_count":5,"score":9,"last_activity_date":1697629093,"creation_date":1567069176,"question_id":57706610,"body_markdown":"I have a working spring boot application that uses JSON as exchange data format. Now I had to add a service that sends their data only in xml. I added `jackson-dataformat-xml` to my pom and it worked perfectly. \r\n\r\n````java\r\n@Service\r\npublic class TemplateService {\r\n\r\n    private final RestTemplate restTemplate;\r\n    private final String serviceUri;\r\n\r\n    public TemplateService (RestTemplate restTemplate, @Value(&quot;${service.url_templates}&quot;) String serviceUri) {\r\n        this.restTemplate = restTemplate;\r\n        this.serviceUri = serviceUri;\r\n    }\r\n\r\n    public boolean createTemplate(Template template) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_XML));\r\n        headers.setContentType(MediaType.APPLICATION_XML);\r\n        HttpEntity entity = new HttpEntity&lt;&gt;(template, headers);\r\n        ResponseEntity&lt;Template&gt; response = restTemplate.exchange(serviceUri, HttpMethod.POST, entity, Template.class);\r\n        if (response.getStatusCode().is2xxSuccessful()) {\r\n            // do some stuff\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n````\r\n\r\n\r\nNow unfortunately after adding the dependency all my other POST methods send XML by default. Or the `Content` is set to `application/xml`.But I&#39;d like to have JSON here. \r\n\r\n````java\r\n@Service\r\npublic class SomeOtherService{\r\n\r\n    private final RestTemplate restTemplate;\r\n    private final String anotherUri;\r\n\r\n    public SomeOtherService(RestTemplate restTemplate, @Value(&quot;${anotherUri.url}&quot;) String anotherUri) {\r\n        this.restTemplate = restTemplate;\r\n        this.anotherUri = anotherUri;\r\n    }\r\n\r\n    public ComponentEntity doSomething(String projectId, MyNewComponent newComponent) {\r\n        ResponseEntity&lt;MyNewComponent&gt; result = this.restTemplate.exchange(anotherUri ,HttpMethod.POST, new HttpEntity&lt;&gt;(newComponent), MyNewComponent.class);\r\n    //...\r\n    }\r\n}\r\n\r\n````\r\n\r\nI did not set the headers explicitly as there are lots of POST requests and I don&#39;t want to alter them all. Is there a way to set the **default** `Content` to JSON? \r\n\r\nSo far I tried \r\n\r\n1. adding an interceptor. But sometimes I need to have XML. \r\n2. Overriding content negotiation\r\n````java\r\n    @Override\r\n\tpublic void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n\t\tconfigurer.defaultContentType(MediaType.APPLICATION_JSON);\r\n\t}\r\n````\r\n3. setting\r\n````java\r\nrestTemplate.setMessageConverters(Collections.singletonList(new MappingJackson2HttpMessageConverter()));\r\n````\r\nand using a `new RestTemplate()` in the service where I want to have XML. \r\n\r\n==&gt; Number 3 actually works, but feels kind of wrong.\r\n\r\n\r\nI was expecting to set the default `Content` type somewhere so that JSON is used in normal cases where nothing is set and XML where I explicitly set the `Content` to XML.\r\n\r\nThanks for any help.","title":"How to set default MessageConverter to JSON with jackson-dataformat-xml added?","body":"<p>I have a working spring boot application that uses JSON as exchange data format. Now I had to add a service that sends their data only in xml. I added <code>jackson-dataformat-xml</code> to my pom and it worked perfectly. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TemplateService {\n\n    private final RestTemplate restTemplate;\n    private final String serviceUri;\n\n    public TemplateService (RestTemplate restTemplate, @Value(\"${service.url_templates}\") String serviceUri) {\n        this.restTemplate = restTemplate;\n        this.serviceUri = serviceUri;\n    }\n\n    public boolean createTemplate(Template template) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_XML));\n        headers.setContentType(MediaType.APPLICATION_XML);\n        HttpEntity entity = new HttpEntity&lt;&gt;(template, headers);\n        ResponseEntity&lt;Template&gt; response = restTemplate.exchange(serviceUri, HttpMethod.POST, entity, Template.class);\n        if (response.getStatusCode().is2xxSuccessful()) {\n            // do some stuff\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>Now unfortunately after adding the dependency all my other POST methods send XML by default. Or the <code>Content</code> is set to <code>application/xml</code>.But I'd like to have JSON here. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class SomeOtherService{\n\n    private final RestTemplate restTemplate;\n    private final String anotherUri;\n\n    public SomeOtherService(RestTemplate restTemplate, @Value(\"${anotherUri.url}\") String anotherUri) {\n        this.restTemplate = restTemplate;\n        this.anotherUri = anotherUri;\n    }\n\n    public ComponentEntity doSomething(String projectId, MyNewComponent newComponent) {\n        ResponseEntity&lt;MyNewComponent&gt; result = this.restTemplate.exchange(anotherUri ,HttpMethod.POST, new HttpEntity&lt;&gt;(newComponent), MyNewComponent.class);\n    //...\n    }\n}\n\n</code></pre>\n\n<p>I did not set the headers explicitly as there are lots of POST requests and I don't want to alter them all. Is there a way to set the <strong>default</strong> <code>Content</code> to JSON? </p>\n\n<p>So far I tried </p>\n\n<ol>\n<li>adding an interceptor. But sometimes I need to have XML. </li>\n<li>Overriding content negotiation</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n        configurer.defaultContentType(MediaType.APPLICATION_JSON);\n    }\n</code></pre>\n\n<ol start=\"3\">\n<li>setting</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>restTemplate.setMessageConverters(Collections.singletonList(new MappingJackson2HttpMessageConverter()));\n</code></pre>\n\n<p>and using a <code>new RestTemplate()</code> in the service where I want to have XML. </p>\n\n<p>==> Number 3 actually works, but feels kind of wrong.</p>\n\n<p>I was expecting to set the default <code>Content</code> type somewhere so that JSON is used in normal cases where nothing is set and XML where I explicitly set the <code>Content</code> to XML.</p>\n\n<p>Thanks for any help.</p>\n"},{"tags":["java","java-native-interface","classloader"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1697117417,"post_id":77280991,"comment_id":136241397,"body_markdown":"You ClassLoader needs to know where to find that class. In your case, you should write a custom classloader, which grabs the bytes and loads them as a class.","body":"You ClassLoader needs to know where to find that class. In your case, you should write a custom classloader, which grabs the bytes and loads them as a class."},{"owner":{"account_id":28971563,"reputation":11,"user_id":22729136,"display_name":"HomaPlus"},"score":0,"creation_date":1697118491,"post_id":77280991,"comment_id":136241643,"body_markdown":"According to the documentation, https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#DefineClass this method defines a class from an array of bytes. I also tried to pass an empty or corrupted array, as expected - there was a class format error","body":"According to the documentation, <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#DefineClass\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/&hellip;</a> this method defines a class from an array of bytes. I also tried to pass an empty or corrupted array, as expected - there was a class format error"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1697137827,"post_id":77280991,"comment_id":136245579,"body_markdown":"The JVM uses slashes to separate packages and class names, not dots. Pass `plus/launch/Test` as name instead.","body":"The JVM uses slashes to separate packages and class names, not dots. Pass <code>plus&#47;launch&#47;Test</code> as name instead."},{"owner":{"account_id":28971563,"reputation":11,"user_id":22729136,"display_name":"HomaPlus"},"score":0,"creation_date":1697312153,"post_id":77280991,"comment_id":136265121,"body_markdown":"it worked, thanks","body":"it worked, thanks"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697469738,"post_id":77280991,"comment_id":136280725,"body_markdown":"You don’t need JNI for this.","body":"You don’t need JNI for this."},{"owner":{"account_id":28971563,"reputation":11,"user_id":22729136,"display_name":"HomaPlus"},"score":0,"creation_date":1697472180,"post_id":77280991,"comment_id":136281185,"body_markdown":"I know that there is a ClassLoader#defineClass, but it did not suit me for a number of reasons","body":"I know that there is a ClassLoader#defineClass, but it did not suit me for a number of reasons"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697578480,"post_id":77280991,"comment_id":136296864,"body_markdown":"Such as? The pain of engaging in JNI would outweigh them all to me, whatever they were, and I’ve written a lot of JNI.","body":"Such as? The pain of engaging in JNI would outweigh them all to me, whatever they were, and I’ve written a lot of JNI."}],"owner":{"account_id":28971563,"reputation":11,"user_id":22729136,"display_name":"HomaPlus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697628367,"creation_date":1697116906,"question_id":77280991,"body_markdown":"I&#39;m trying to load java class from bytes using JNI.\r\n\r\nThis java class\r\n```java\r\npackage plus.launch;\r\n\r\npublic class Test {\r\n    static {\r\n        System.out.println(&quot;Test defined!&quot;);\r\n    }\r\n}\r\n```\r\nIn C++ I call this and get an error\r\n```c++\r\njclass DefClass(JNIEnv *env, const char *name, jobject loader, const jbyte *buf, jsize bufLen){\r\n//                   &quot;plus.launch.Test&quot; ^^\r\n\treturn (*env)-&gt;DefineClass(env, name, loader, buf, bufLen);\r\n}\r\n```\r\n\r\n&gt; java.lang.NoClassDefFoundError: plus/launch/Test (wrong name:\r\n&gt; plus.launch.Test)\r\n\r\nHow to fix it?\r\n\r\nAnd I get a strange error (I also tried putting the class name `Test`, `plus/launch/Test.class` and still get a similar error).","title":"Loading Java class from bytes using JNI","body":"<p>I'm trying to load java class from bytes using JNI.</p>\n<p>This java class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package plus.launch;\n\npublic class Test {\n    static {\n        System.out.println(&quot;Test defined!&quot;);\n    }\n}\n</code></pre>\n<p>In C++ I call this and get an error</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>jclass DefClass(JNIEnv *env, const char *name, jobject loader, const jbyte *buf, jsize bufLen){\n//                   &quot;plus.launch.Test&quot; ^^\n    return (*env)-&gt;DefineClass(env, name, loader, buf, bufLen);\n}\n</code></pre>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: plus/launch/Test (wrong name:\nplus.launch.Test)</p>\n</blockquote>\n<p>How to fix it?</p>\n<p>And I get a strange error (I also tried putting the class name <code>Test</code>, <code>plus/launch/Test.class</code> and still get a similar error).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1604316494,"post_id":64644670,"comment_id":114301354,"body_markdown":"Use `print` instead of `println`. The `ln` stands for &quot;line&quot; and means &quot;move to a new line after this&quot;.","body":"Use <code>print</code> instead of <code>println</code>. The <code>ln</code> stands for &quot;line&quot; and means &quot;move to a new line after this&quot;."}],"answers":[{"tags":[],"owner":{"account_id":15836212,"reputation":86,"user_id":11425994,"display_name":"Krayzzee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604317178,"creation_date":1604317178,"answer_id":64644873,"question_id":64644670,"body_markdown":"If you want to print everything in 1 line then you need to change from println to print.\r\nI added another for loop to print the numbers in one line and added the line break after this loop.\r\n\r\n    for (int reverse = 9; reverse &gt;= 1; reverse--) {\r\n      for (int i = 1; i &lt;= reverse; i++)\r\n        System.out.print(reverse);\r\n      System.out.println();  // Line break after each number.\r\n    }\r\n\r\nOutput for the code above:\r\n\r\n    999999999\r\n    88888888\r\n    7777777\r\n    666666\r\n    55555\r\n    4444\r\n    333\r\n    22\r\n    1\r\n\r\nI hope i understood clearly what you wanted.","title":"How do I print a single character multiple times on one line?","body":"<p>If you want to print everything in 1 line then you need to change from println to print.\nI added another for loop to print the numbers in one line and added the line break after this loop.</p>\n<pre><code>for (int reverse = 9; reverse &gt;= 1; reverse--) {\n  for (int i = 1; i &lt;= reverse; i++)\n    System.out.print(reverse);\n  System.out.println();  // Line break after each number.\n}\n</code></pre>\n<p>Output for the code above:</p>\n<pre><code>999999999\n88888888\n7777777\n666666\n55555\n4444\n333\n22\n1\n</code></pre>\n<p>I hope i understood clearly what you wanted.</p>\n"},{"tags":[],"owner":{"account_id":19479850,"reputation":722,"user_id":14250428,"display_name":"Michael S. Molina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604407743,"creation_date":1604317276,"answer_id":64644901,"question_id":64644670,"body_markdown":"This function accepts an integer and in reverse order, print out each integer the number of times as its magnitude. The first loop takes care of decrementing the number and the second loop resolves the magnitude. Each number is printed in a new line.\r\n\r\n    static void printReverse(int n) {\r\n       for (int i = n; i &gt; 0; i--) {\r\n           for (int j = 0; j &lt; i; j++) {\r\n               System.out.print(i + &quot; &quot;);\r\n           }\r\n           System.out.println();\r\n       }\r\n    }\r\n\r\nThis is the output:\r\n\r\n    n n n ... (n times)\r\n    n-1 n-1 ... (n-1 times)\r\n    n-2 n-2 ... (n-2 times)\r\n    ...\r\n    3 3 3\r\n    2 2\r\n    1","title":"How do I print a single character multiple times on one line?","body":"<p>This function accepts an integer and in reverse order, print out each integer the number of times as its magnitude. The first loop takes care of decrementing the number and the second loop resolves the magnitude. Each number is printed in a new line.</p>\n<pre><code>static void printReverse(int n) {\n   for (int i = n; i &gt; 0; i--) {\n       for (int j = 0; j &lt; i; j++) {\n           System.out.print(i + &quot; &quot;);\n       }\n       System.out.println();\n   }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>n n n ... (n times)\nn-1 n-1 ... (n-1 times)\nn-2 n-2 ... (n-2 times)\n...\n3 3 3\n2 2\n1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3901393,"reputation":386,"user_id":3229174,"display_name":"leldo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604318254,"creation_date":1604317867,"answer_id":64645067,"question_id":64644670,"body_markdown":"If you run Java 11 there&#39;s a [method &quot;repeat&quot;][1]  inherited from StringUtils I think : \r\n\r\n\r\n    static void printReverse(int n) {\r\n    \r\n    for (int reverse = n; reverse = 1; reverse--) {\r\n      System.out.println(String.valueOf(reverse).repeat(reverse));\r\n    }\r\n\r\nSince there&#39;s a type conversion it&#39;s not faster than the double loop proposed but it&#39;s a one-liner &#128522; \r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)","title":"How do I print a single character multiple times on one line?","body":"<p>If you run Java 11 there's a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\">method &quot;repeat&quot;</a>  inherited from StringUtils I think :</p>\n<pre><code>static void printReverse(int n) {\n\nfor (int reverse = n; reverse = 1; reverse--) {\n  System.out.println(String.valueOf(reverse).repeat(reverse));\n}\n</code></pre>\n<p>Since there's a type conversion it's not faster than the double loop proposed but it's a one-liner 😊</p>\n"},{"tags":[],"owner":{"account_id":16404664,"reputation":193,"user_id":11860534,"display_name":"Felipe Cristiano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697628069,"creation_date":1697628069,"answer_id":77315837,"question_id":64644670,"body_markdown":"Java has a repeat function to build copies of a source string:\r\n\r\n```\r\nString newString = &quot;a&quot;.repeat(N);\r\nassertEquals(EXPECTED_STRING, newString);\r\n```\r\n\r\n\r\nThis allows us to repeat single characters, or multi-character strings:\r\n```\r\nString newString = &quot;--&gt;&quot;.repeat(5);\r\nassertEquals(&quot;--&gt;--&gt;--&gt;--&gt;--&gt;&quot;, newString);\r\n```\r\n\r\nreference: [https://www.baeldung.com/java-string-of-repeated-characters][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-string-of-repeated-characters","title":"How do I print a single character multiple times on one line?","body":"<p>Java has a repeat function to build copies of a source string:</p>\n<pre><code>String newString = &quot;a&quot;.repeat(N);\nassertEquals(EXPECTED_STRING, newString);\n</code></pre>\n<p>This allows us to repeat single characters, or multi-character strings:</p>\n<pre><code>String newString = &quot;--&gt;&quot;.repeat(5);\nassertEquals(&quot;--&gt;--&gt;--&gt;--&gt;--&gt;&quot;, newString);\n</code></pre>\n<p>reference: <a href=\"https://www.baeldung.com/java-string-of-repeated-characters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-string-of-repeated-characters</a></p>\n"}],"owner":{"account_id":19767778,"reputation":147,"user_id":14475364,"display_name":"Tyler P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64644873,"answer_count":4,"score":1,"last_activity_date":1697628069,"creation_date":1604316417,"question_id":64644670,"body_markdown":"Here&#39;s what I need to do:\r\n&gt;In reverse order, print out the first num positive integers, with each integer being printed\r\nthe number of times as its magnitude.\r\n\r\nBasically, I&#39;ll use the number 9 as an example, I need to print 9 9&#39;s on one line, 8 8&#39;s on the second line, 7 7&#39;s, etc. all the way to 1.\r\n\r\nI got it to print in reversed order but I don&#39;t know how I can print its magnitude.\r\nHere&#39;s my code now:\r\n\r\n    static void printReverse(int n) {\r\n\r\n    for (int reverse = n; reverse = 1; reverse--) {\r\n      System.out.println(reverse);\r\n    }\r\n\r\n    System.out.println(); // Leaves space between the outputs\r\n    System.out.println();","title":"How do I print a single character multiple times on one line?","body":"<p>Here's what I need to do:</p>\n<blockquote>\n<p>In reverse order, print out the first num positive integers, with each integer being printed\nthe number of times as its magnitude.</p>\n</blockquote>\n<p>Basically, I'll use the number 9 as an example, I need to print 9 9's on one line, 8 8's on the second line, 7 7's, etc. all the way to 1.</p>\n<p>I got it to print in reversed order but I don't know how I can print its magnitude.\nHere's my code now:</p>\n<pre><code>static void printReverse(int n) {\n\nfor (int reverse = n; reverse = 1; reverse--) {\n  System.out.println(reverse);\n}\n\nSystem.out.println(); // Leaves space between the outputs\nSystem.out.println();\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9917,"page":115,"page_size":100}
