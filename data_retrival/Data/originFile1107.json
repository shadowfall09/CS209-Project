{"items":[{"tags":["java","spring-boot","caffeine","caffeine-cache"],"comments":[{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1608209110,"post_id":65227645,"comment_id":115516272,"body_markdown":"How to disable it entirely please?","body":"How to disable it entirely please?"},{"owner":{"account_id":4291079,"reputation":799,"user_id":3507435,"display_name":"Toparvion"},"score":1,"creation_date":1616490646,"post_id":65227645,"comment_id":118011578,"body_markdown":"@PatPatPat, just set `spring.cloud.loadbalancer.cache.enabled=false`.\nSee this reference chapter for details: \nhttps://docs.spring.io/spring-cloud-commons/docs/3.0.2/reference/html/index.html#loadbalancer-cache-configuration","body":"@PatPatPat, just set <code>spring.cloud.loadbalancer.cache.enabled=false</code>. See this reference chapter for details:  <a href=\"https://docs.spring.io/spring-cloud-commons/docs/3.0.2/reference/html/index.html#loadbalancer-cache-configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-commons/docs/3.0.2/reference/htm&zwnj;&#8203;l/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1607567087,"creation_date":1607567087,"answer_id":65227646,"question_id":65227645,"body_markdown":"Add the below library in your `pom.xml`\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.github.ben-manes.caffeine/caffeine --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n        &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nor in your `build.gradle`\r\n\r\n\t// https://mvnrepository.com/artifact/com.github.ben-manes.caffeine/caffeine\r\n\tcompile group: &#39;com.github.ben-manes.caffeine&#39;, name: &#39;caffeine&#39;, version: &#39;2.8.8&#39;\r\n\r\n\r\n\r\nYou can replace the suitable/latest version of `caffeine`.","title":"How to solve &quot;Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache&#39; warning?","body":"<p>Add the below library in your <code>pom.xml</code></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.github.ben-manes.caffeine/caffeine --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n    &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n    &lt;version&gt;2.8.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or in your <code>build.gradle</code></p>\n<pre><code>// https://mvnrepository.com/artifact/com.github.ben-manes.caffeine/caffeine\ncompile group: 'com.github.ben-manes.caffeine', name: 'caffeine', version: '2.8.8'\n</code></pre>\n<p>You can replace the suitable/latest version of <code>caffeine</code>.</p>\n"},{"tags":[],"owner":{"account_id":20276441,"reputation":1,"user_id":14871354,"display_name":"haiqiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652062348,"creation_date":1651892784,"answer_id":72149175,"question_id":65227645,"body_markdown":"Try to add the below library in your `pom.xml`. &lt;/br&gt;\r\n\r\n\r\n```\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.19&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n```","title":"How to solve &quot;Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache&#39; warning?","body":"<p>Try to add the below library in your <code>pom.xml</code>. </p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n    &lt;version&gt;5.3.19&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660649277,"creation_date":1660649277,"answer_id":73373252,"question_id":65227645,"body_markdown":"Spring Boot: Adding the following dependencies in the `pom.xml` will be adequate:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n        &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"How to solve &quot;Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache&#39; warning?","body":"<p>Spring Boot: Adding the following dependencies in the <code>pom.xml</code> will be adequate:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n    &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8731,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":65227646,"answer_count":3,"score":10,"last_activity_date":1660649277,"creation_date":1607567087,"question_id":65227645,"body_markdown":"How to solve `Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it to the classpath.` warning in spring boot?","title":"How to solve &quot;Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache&#39; warning?","body":"<p>How to solve <code>Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it to the classpath.</code> warning in spring boot?</p>\n"},{"tags":["java","rest","activiti"],"comments":[{"owner":{"account_id":2670456,"reputation":4156,"user_id":2307988,"accept_rate":100,"display_name":"Younes Regaieg"},"score":0,"creation_date":1483358427,"post_id":41383228,"comment_id":70058233,"body_markdown":"Can you provide bpmn definition to reproduce the error you are getting ?","body":"Can you provide bpmn definition to reproduce the error you are getting ?"},{"owner":{"account_id":5452953,"reputation":194,"user_id":4337226,"display_name":"Martin Grofƒç&#237;k"},"score":0,"creation_date":1483903093,"post_id":41383228,"comment_id":70278732,"body_markdown":"Even better reproduce the issue in the jUnit test. (template https://github.com/Activiti/activiti-unit-test-template)","body":"Even better reproduce the issue in the jUnit test. (template <a href=\"https://github.com/Activiti/activiti-unit-test-template\" rel=\"nofollow noreferrer\">github.com/Activiti/activiti-unit-test-template</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660649233,"creation_date":1660649233,"answer_id":73373241,"question_id":41383228,"body_markdown":"For an event gateway (https://www.activiti.org/userguide/#bpmnEventbasedGateway). The intermediate message/signal catching events are mutually exclusive. It will follow only one path from the gateway depending on which message is received. In your case, you have fired message 1 already, so the execution continues on message 1 path and other message subscriptions are deleted. Therefore you are getting the error.","title":"How to progress through event gateway using Activiti REST API","body":"<p>For an event gateway (<a href=\"https://www.activiti.org/userguide/#bpmnEventbasedGateway\" rel=\"nofollow noreferrer\">https://www.activiti.org/userguide/#bpmnEventbasedGateway</a>). The intermediate message/signal catching events are mutually exclusive. It will follow only one path from the gateway depending on which message is received. In your case, you have fired message 1 already, so the execution continues on message 1 path and other message subscriptions are deleted. Therefore you are getting the error.</p>\n"}],"owner":{"account_id":2805702,"reputation":516,"user_id":2412989,"accept_rate":42,"display_name":"Kamalen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660649233,"creation_date":1483027554,"question_id":41383228,"body_markdown":"I have a process where, at some point, two different kind of message can occurs, and if none appears after a time, the workflow goes timeout.\r\n\r\nBased on the documentation, I have modelised the process using a event gateway :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fYpRv.png\r\n\r\nTo progress my activiti workflow, I am using activiti REST API. However, I cannot find in the documentation how to send a message to the gateway in order to continue to either Message 1 or Message 2. I tried triggering message to all execution IDs linked to my process ID but to no avail.\r\n\r\nWhat is the right REST API command to progress in this workflow ?\r\n\r\nThanks for your support.\r\n\r\n**Edit 1 :**\r\n\r\nIt seems that the Event Gateway is subbed to only one event.\r\nIt react to :\r\n\r\n    POST http://localhost:8082/activiti-rest/service/runtime/executions/20178\r\n    {&quot;action&quot;:&quot;messageEventReceived&quot;,&quot;messageName&quot;:&quot;Message 1&quot;}\r\n\r\nand continue the process for the Message 1. However, with Message 2 defined exactly the same (but with another message), it returns the not found subscription error :\r\n\r\n    Execution with id &#39;20178&#39; does not have a subscription to a message event with name &#39;Message 2&#39;&quot;","title":"How to progress through event gateway using Activiti REST API","body":"<p>I have a process where, at some point, two different kind of message can occurs, and if none appears after a time, the workflow goes timeout.</p>\n\n<p>Based on the documentation, I have modelised the process using a event gateway :</p>\n\n<p><a href=\"https://i.stack.imgur.com/fYpRv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fYpRv.png\" alt=\"enter image description here\"></a></p>\n\n<p>To progress my activiti workflow, I am using activiti REST API. However, I cannot find in the documentation how to send a message to the gateway in order to continue to either Message 1 or Message 2. I tried triggering message to all execution IDs linked to my process ID but to no avail.</p>\n\n<p>What is the right REST API command to progress in this workflow ?</p>\n\n<p>Thanks for your support.</p>\n\n<p><strong>Edit 1 :</strong></p>\n\n<p>It seems that the Event Gateway is subbed to only one event.\nIt react to :</p>\n\n<pre><code>POST http://localhost:8082/activiti-rest/service/runtime/executions/20178\n{\"action\":\"messageEventReceived\",\"messageName\":\"Message 1\"}\n</code></pre>\n\n<p>and continue the process for the Message 1. However, with Message 2 defined exactly the same (but with another message), it returns the not found subscription error :</p>\n\n<pre><code>Execution with id '20178' does not have a subscription to a message event with name 'Message 2'\"\n</code></pre>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660649139,"creation_date":1660649139,"answer_id":73373214,"question_id":73370925,"body_markdown":"You must add those agents to a population and loop over that population.\r\n\r\nFirst, drag in the agent type to create an empty population (see the help).\r\n\r\nIn your source, tell it to add new agents to that population:\r\n[![enter image description here][1]][1]\r\n\r\nLast, loop over it, for example \r\n\r\n    for (Atype currAgent : myNewPopulationOfAType) {\r\n        // do cool things with currAgent\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5QMRP.png","title":"how to get different type of agent in Main in anylogic","body":"<p>You must add those agents to a population and loop over that population.</p>\n<p>First, drag in the agent type to create an empty population (see the help).</p>\n<p>In your source, tell it to add new agents to that population:\n<a href=\"https://i.stack.imgur.com/5QMRP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5QMRP.png\" alt=\"enter image description here\" /></a></p>\n<p>Last, loop over it, for example</p>\n<pre><code>for (Atype currAgent : myNewPopulationOfAType) {\n    // do cool things with currAgent\n}\n</code></pre>\n"}],"owner":{"account_id":21320234,"reputation":39,"user_id":15693533,"display_name":"ruby zou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73373214,"answer_count":1,"score":0,"last_activity_date":1660649139,"creation_date":1660638206,"question_id":73370925,"body_markdown":"Now I set two types of agents: Atype and Btype, and use the pedsource to let these two types of agents run between two target lines. \r\nI want to get an agent belonging to Atype, and another agent belonging to Btype, And then add some calculations. \r\nso I write this code: `for(Atype p : get_Main().Atype)` and `for(Btype b : get_Main().Btype)` but it didn&#39;t work well.\r\n\r\nHow can I solve this problem?\r\n\r\nThanks!","title":"how to get different type of agent in Main in anylogic","body":"<p>Now I set two types of agents: Atype and Btype, and use the pedsource to let these two types of agents run between two target lines.\nI want to get an agent belonging to Atype, and another agent belonging to Btype, And then add some calculations.\nso I write this code: <code>for(Atype p : get_Main().Atype)</code> and <code>for(Btype b : get_Main().Btype)</code> but it didn't work well.</p>\n<p>How can I solve this problem?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","docx4j"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1653976027,"post_id":72442685,"comment_id":127974797,"body_markdown":"Maybe you should try Apache POI","body":"Maybe you should try Apache POI"},{"owner":{"account_id":8352990,"reputation":37,"user_id":6274378,"display_name":"rohit saraf"},"score":0,"creation_date":1653976276,"post_id":72442685,"comment_id":127974857,"body_markdown":"I have tried apache POI and that is also not able to read","body":"I have tried apache POI and that is also not able to read"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1653978184,"post_id":72442685,"comment_id":127975303,"body_markdown":"Then it is better to join the POI community and help improve that rather than implementing from scratch.","body":"Then it is better to join the POI community and help improve that rather than implementing from scratch."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1653982623,"post_id":72442685,"comment_id":127976595,"body_markdown":"Does the document load and display properly in MS Word?","body":"Does the document load and display properly in MS Word?"},{"owner":{"account_id":8352990,"reputation":37,"user_id":6274378,"display_name":"rohit saraf"},"score":0,"creation_date":1653986819,"post_id":72442685,"comment_id":127978072,"body_markdown":"yes, when opened through word its readable but in compatibility mode","body":"yes, when opened through word its readable but in compatibility mode"}],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654123247,"creation_date":1654123247,"answer_id":72468758,"question_id":72442685,"body_markdown":"Your docx contains altChunks of type docx.\r\n\r\nIt contains those because that would&#39;ve been done explicitly when whoever created it did so using docx4j, using code such as https://github.com/plutext/docx4j/blob/VERSION_11_4_7/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/AltChunkAddOfTypeDocx.java  \r\n\r\nOrdinarily you wouldn&#39;t do that.\r\n\r\nGenerally, if you want to handle such a docx using approaches like XPath, you&#39;d first convert those altChunks into normal content.  Word can do this, as can Docx4j Enterprise.  \r\n\r\nBut if you control the generating application, the best approach would be to revisit it, changing it so it doesn&#39;t create altChunks.  At least understand why they wrote it that way.","title":"Read a word (.docx) file in java","body":"<p>Your docx contains altChunks of type docx.</p>\n<p>It contains those because that would've been done explicitly when whoever created it did so using docx4j, using code such as <a href=\"https://github.com/plutext/docx4j/blob/VERSION_11_4_7/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/AltChunkAddOfTypeDocx.java\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/VERSION_11_4_7/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/AltChunkAddOfTypeDocx.java</a></p>\n<p>Ordinarily you wouldn't do that.</p>\n<p>Generally, if you want to handle such a docx using approaches like XPath, you'd first convert those altChunks into normal content.  Word can do this, as can Docx4j Enterprise.</p>\n<p>But if you control the generating application, the best approach would be to revisit it, changing it so it doesn't create altChunks.  At least understand why they wrote it that way.</p>\n"}],"owner":{"account_id":8352990,"reputation":37,"user_id":6274378,"display_name":"rohit saraf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72468758,"answer_count":1,"score":0,"last_activity_date":1660648969,"creation_date":1653975317,"question_id":72442685,"body_markdown":"I have a word document which was generated with docx4j, when i unzip the docx file, the contents of folder is\r\n[![Contents of .docx folder][1]][1]\r\n\r\n\r\nthe contents of ./word/document.xml is as  below\r\n\r\n[![enter image description here][2]][2]\r\n\r\nthe relationship xml has below relationship\r\n\r\n    &lt;Relationship Target=&quot;../chunk.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId3&quot;/&gt;\r\n\r\nwhen we unzip chunk.docx it has below file contents\r\n\r\n[![enter image description here][3]][3]\r\n\r\nand the ./word/document.xml has below contents\r\n\r\n[![enter image description here][4]][4]\r\n\r\nrelationship document xml has below contents\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;Relationships xmlns=&quot;http://schemas.openxmlformats.org/package/2006/relationships&quot;&gt;\r\n    &lt;Relationship Target=&quot;styles.xml&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles&quot; Id=&quot;rId1&quot;/&gt;\r\n    &lt;Relationship Target=&quot;settings.xml&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings&quot; Id=&quot;rId2&quot;/&gt;\r\n    &lt;Relationship Target=&quot;../chunk.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId3&quot;/&gt;\r\n    &lt;Relationship Target=&quot;../chunk2.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId4&quot;/&gt;\r\n    &lt;Relationship Target=&quot;../chunk3.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId5&quot;/&gt;\r\n    &lt;Relationship Target=&quot;../chunk4.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId6&quot;/&gt;\r\n    &lt;Relationship Target=&quot;../chunk5.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId7&quot;/&gt;\r\n&lt;/Relationships&gt;\r\n\r\n\r\n\r\n\r\n\r\nsimilarly when i unzip the chunk.docx it has below file contents\r\n[![enter image description here][5]][5]\r\n\r\nand ./word/document.xml has below contents\r\n\r\n[![enter image description here][6]][6]\r\n\r\nHow to read the content of word document via java code \r\n\r\ni have tried below way\r\n\r\n    File docxFile = new File(filePath);\r\n\t\t\tWordprocessingMLPackage wordprocessingMLPackage = WordprocessingMLPackage.load(docxFile);\r\n\t\t\tMainDocumentPart mainDocumentPart = wordprocessingMLPackage.getMainDocumentPart();\r\n\t\t\tList&lt;Object&gt; textNodes = mainDocumentPart.getJAXBNodesViaXPath(TEXT_NODEX_XPATH, true);\r\n\r\nBut it is giving 0 textNodes, Can anyone help how can i read this type of word docx using java\r\n\t\t\t\r\n\r\n  [1]: https://i.stack.imgur.com/ady8V.png\r\n  [2]: https://i.stack.imgur.com/SB4oR.png\r\n  [3]: https://i.stack.imgur.com/roBns.png\r\n  [4]: https://i.stack.imgur.com/BShWa.png\r\n  [5]: https://i.stack.imgur.com/xEAIs.png\r\n  [6]: https://i.stack.imgur.com/rdTd1.png","title":"Read a word (.docx) file in java","body":"<p>I have a word document which was generated with docx4j, when i unzip the docx file, the contents of folder is\n<a href=\"https://i.stack.imgur.com/ady8V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ady8V.png\" alt=\"Contents of .docx folder\" /></a></p>\n<p>the contents of ./word/document.xml is as  below</p>\n<p><a href=\"https://i.stack.imgur.com/SB4oR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SB4oR.png\" alt=\"enter image description here\" /></a></p>\n<p>the relationship xml has below relationship</p>\n<pre><code>&lt;Relationship Target=&quot;../chunk.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId3&quot;/&gt;\n</code></pre>\n<p>when we unzip chunk.docx it has below file contents</p>\n<p><a href=\"https://i.stack.imgur.com/roBns.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/roBns.png\" alt=\"enter image description here\" /></a></p>\n<p>and the ./word/document.xml has below contents</p>\n<p><a href=\"https://i.stack.imgur.com/BShWa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BShWa.png\" alt=\"enter image description here\" /></a></p>\n<p>relationship document xml has below contents</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;Relationships xmlns=&quot;http://schemas.openxmlformats.org/package/2006/relationships&quot;&gt;\n&lt;Relationship Target=&quot;styles.xml&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles&quot; Id=&quot;rId1&quot;/&gt;\n&lt;Relationship Target=&quot;settings.xml&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings&quot; Id=&quot;rId2&quot;/&gt;\n&lt;Relationship Target=&quot;../chunk.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId3&quot;/&gt;\n&lt;Relationship Target=&quot;../chunk2.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId4&quot;/&gt;\n&lt;Relationship Target=&quot;../chunk3.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId5&quot;/&gt;\n&lt;Relationship Target=&quot;../chunk4.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId6&quot;/&gt;\n&lt;Relationship Target=&quot;../chunk5.docx&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk&quot; Id=&quot;rId7&quot;/&gt;\n</code></pre>\n\n<p>similarly when i unzip the chunk.docx it has below file contents\n<a href=\"https://i.stack.imgur.com/xEAIs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xEAIs.png\" alt=\"enter image description here\" /></a></p>\n<p>and ./word/document.xml has below contents</p>\n<p><a href=\"https://i.stack.imgur.com/rdTd1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rdTd1.png\" alt=\"enter image description here\" /></a></p>\n<p>How to read the content of word document via java code</p>\n<p>i have tried below way</p>\n<pre><code>File docxFile = new File(filePath);\n        WordprocessingMLPackage wordprocessingMLPackage = WordprocessingMLPackage.load(docxFile);\n        MainDocumentPart mainDocumentPart = wordprocessingMLPackage.getMainDocumentPart();\n        List&lt;Object&gt; textNodes = mainDocumentPart.getJAXBNodesViaXPath(TEXT_NODEX_XPATH, true);\n</code></pre>\n<p>But it is giving 0 textNodes, Can anyone help how can i read this type of word docx using java</p>\n"},{"tags":["java","spring-mvc","error-handling"],"comments":[{"owner":{"account_id":17582022,"reputation":138,"user_id":12755627,"display_name":"micartey"},"score":0,"creation_date":1660641684,"post_id":73371572,"comment_id":129574151,"body_markdown":"Foremost, you should fix your formatting.","body":"Foremost, you should fix your formatting."},{"owner":{"account_id":17582022,"reputation":138,"user_id":12755627,"display_name":"micartey"},"score":0,"creation_date":1660641756,"post_id":73371572,"comment_id":129574183,"body_markdown":"Secondly, you shout specify which request you are sending to your backend and maybe explain which result is being expected and what should trigger it","body":"Secondly, you shout specify which request you are sending to your backend and maybe explain which result is being expected and what should trigger it"},{"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"score":0,"creation_date":1660646197,"post_id":73371572,"comment_id":129575676,"body_markdown":"@micartey Firstly, thank you for telling me the fix my code. And it&#39;s just a test if it gives me my wanted result then I change the code. MY excepted answer is &quot;not working&quot;(because I give the wrong input for testing). And this request is &quot;add&quot; or &quot;update&quot; (it&#39;s just a test for the Binding result I&#39;m trying to learn)","body":"@micartey Firstly, thank you for telling me the fix my code. And it&#39;s just a test if it gives me my wanted result then I change the code. MY excepted answer is &quot;not working&quot;(because I give the wrong input for testing). And this request is &quot;add&quot; or &quot;update&quot; (it&#39;s just a test for the Binding result I&#39;m trying to learn)"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660647684,"creation_date":1660647684,"answer_id":73372934,"question_id":73371572,"body_markdown":"Looks like you missed `javax.validation.Valid` annotation for your request body :\r\n\r\n\r\n        public ResponseEntity&lt;?&gt; submit(@Valid @RequestBody Employee \r\n    employee,BindingResult bindingResult) throws EmployeeNotFoundException {\r\n\r\nOnce you have annotated your method with `Valid` annotation, your request body will get validated in controller layer &amp; any validation related errors can be seen in your else block of  `if (!bindingResult.hasErrors())`.\r\n\r\nTip : You can also throw `org.springframework.web.bind.MethodArgumentNotValidException` in absence of ` BindingResult` in your method argument.","title":"BindingResult haserror() not working and gives only same answer","body":"<p>Looks like you missed <code>javax.validation.Valid</code> annotation for your request body :</p>\n<pre><code>    public ResponseEntity&lt;?&gt; submit(@Valid @RequestBody Employee \nemployee,BindingResult bindingResult) throws EmployeeNotFoundException {\n</code></pre>\n<p>Once you have annotated your method with <code>Valid</code> annotation, your request body will get validated in controller layer &amp; any validation related errors can be seen in your else block of  <code>if (!bindingResult.hasErrors())</code>.</p>\n<p>Tip : You can also throw <code>org.springframework.web.bind.MethodArgumentNotValidException</code> in absence of <code> BindingResult</code> in your method argument.</p>\n"}],"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73372934,"answer_count":1,"score":0,"last_activity_date":1660648769,"creation_date":1660641344,"question_id":73371572,"body_markdown":"I want to write Binding result without JSP file and I wrote like this. But I get same result every time  \r\n\r\n\r\n      @RequestMapping(value = &quot;/submit&quot;, method = RequestMethod.POST)\r\n            public ResponseEntity&lt;?&gt; submit(@RequestBody Employee employee,BindingResult bindingResult) throws EmployeeNotFoundException {\r\n                if (!bindingResult.hasErrors())\r\n                   return new ResponseEntity&lt;&gt;(employeeRepository.save(employee), HttpStatus.CREATED);\r\n        \r\n            else{\r\n            return new ResponseEntity&lt;&gt;(&quot; not working&quot;, HttpStatus.CONFLICT);\r\n        }\r\n        }\r\n\r\n","title":"BindingResult haserror() not working and gives only same answer","body":"<p>I want to write Binding result without JSP file and I wrote like this. But I get same result every time</p>\n<pre><code>  @RequestMapping(value = &quot;/submit&quot;, method = RequestMethod.POST)\n        public ResponseEntity&lt;?&gt; submit(@RequestBody Employee employee,BindingResult bindingResult) throws EmployeeNotFoundException {\n            if (!bindingResult.hasErrors())\n               return new ResponseEntity&lt;&gt;(employeeRepository.save(employee), HttpStatus.CREATED);\n    \n        else{\n        return new ResponseEntity&lt;&gt;(&quot; not working&quot;, HttpStatus.CONFLICT);\n    }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1660648875,"post_id":73372900,"comment_id":129576567,"body_markdown":"Try with the `public` methods such as `notifyAll`","body":"Try with the <code>public</code> methods such as <code>notifyAll</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1660648354,"creation_date":1660648354,"answer_id":73373056,"question_id":73372900,"body_markdown":"It does. `clone()` and `finalize()` aren&#39;t public. This doesn&#39;t work either:\r\n\r\n```\r\nObject o = new Object();\r\no.clone(); // nope\r\no.finalize(); // nope\r\n```\r\n\r\nIt _may_ work on certain classes. For example, this DOES work:\r\n\r\n```\r\nArrayList&lt;String&gt; o = new ArrayList&lt;String&gt;();\r\no.clone();\r\n```\r\n\r\nThat&#39;s simply because `class ArrayList` itself has overridden the `clone()` method and made it `public`. You can override a method and make it more public (you can&#39;t make em less public).\r\n\r\nThe type def of an annotation doesn&#39;t make anything more public.\r\n","title":"Does an annotation object extend the Object class in java?","body":"<p>It does. <code>clone()</code> and <code>finalize()</code> aren't public. This doesn't work either:</p>\n<pre><code>Object o = new Object();\no.clone(); // nope\no.finalize(); // nope\n</code></pre>\n<p>It <em>may</em> work on certain classes. For example, this DOES work:</p>\n<pre><code>ArrayList&lt;String&gt; o = new ArrayList&lt;String&gt;();\no.clone();\n</code></pre>\n<p>That's simply because <code>class ArrayList</code> itself has overridden the <code>clone()</code> method and made it <code>public</code>. You can override a method and make it more public (you can't make em less public).</p>\n<p>The type def of an annotation doesn't make anything more public.</p>\n"}],"owner":{"account_id":9421334,"reputation":19,"user_id":7007648,"display_name":"Richie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1660648354,"creation_date":1660647508,"question_id":73372900,"body_markdown":"I know that an annotation object is created implicitly by the JVM. Also, I know that all objects in java inherit the superclass Object. However, if by reflection you retrieve an annotation object, it doesn&#39;t seem to have the methods ***finalise()*** and ***clone()*** which are defined by the **Object** class in java. Does an annotation object indeed inherit the Object class? Is there a reason why an annotation object doesn&#39;t define those methods?\r\n\r\nAn example code snippet here:\r\n\r\n    Class&lt;autobot&gt; jane = autobot.class;\r\n    about frank = jane.getAnnotation(about.class);\r\n    frank.clone();      // This generates an error\r\n    frank.finalize();  //  This generates an error\r\n\r\nWhere &quot;**autobot**&quot; is an annotated class and &quot;**about**&quot; is the annotation type.","title":"Does an annotation object extend the Object class in java?","body":"<p>I know that an annotation object is created implicitly by the JVM. Also, I know that all objects in java inherit the superclass Object. However, if by reflection you retrieve an annotation object, it doesn't seem to have the methods <em><strong>finalise()</strong></em> and <em><strong>clone()</strong></em> which are defined by the <strong>Object</strong> class in java. Does an annotation object indeed inherit the Object class? Is there a reason why an annotation object doesn't define those methods?</p>\n<p>An example code snippet here:</p>\n<pre><code>Class&lt;autobot&gt; jane = autobot.class;\nabout frank = jane.getAnnotation(about.class);\nfrank.clone();      // This generates an error\nfrank.finalize();  //  This generates an error\n</code></pre>\n<p>Where &quot;<strong>autobot</strong>&quot; is an annotated class and &quot;<strong>about</strong>&quot; is the annotation type.</p>\n"},{"tags":["java","excel","spring","database","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3406618,"reputation":1801,"user_id":2890157,"display_name":"Akshat Singhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388053405,"creation_date":1388051948,"answer_id":20782785,"question_id":20782740,"body_markdown":"You can make use of Apache&#39;s POI Library for that. [More help here on how to do it with example][1]\r\n\r\n\r\n  [1]: http://obscuredclarity.blogspot.in/2011/12/get-sheet-names-from-excel-file-using.html\r\n\r\nAlternatively, you can use the JXL library and use the following code :\r\n\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import jxl.Workbook;\r\n    import jxl.read.biff.BiffException;\r\n    \r\n    public class GetSheetNamesTest {\r\n    \r\n      /**\r\n       * @param args\r\n       * @throws IOException \r\n       * @throws BiffException \r\n       */\r\n      public static void main(String[] args) throws BiffException, IOException {\r\n        //Read the given XL sheet \r\n        Workbook workbook = Workbook.getWorkbook(new File(&quot;C:/JXL/Sheet-Names.xls&quot;));\r\n        System.out.println(&quot;Number of sheets in this workbook : &quot; + workbook.getNumberOfSheets());\r\n      \r\n        String [] sheetNames = workbook.getSheetNames();\r\n        \r\n        for (int i = 0 ; i &lt; sheetNames.length ; i ++ ) {\r\n          System.out.println(&quot;Sheet Name[&quot; + i + &quot;] = &quot; + sheetNames[i]);\r\n        }\r\n        \r\n        //Close and free allocated memory \r\n        workbook.close(); \r\n      }\r\n    \r\n    }\r\n\r\n","title":"query to get sheet names in excel (java)","body":"<p>You can make use of Apache's POI Library for that. <a href=\"http://obscuredclarity.blogspot.in/2011/12/get-sheet-names-from-excel-file-using.html\" rel=\"nofollow\">More help here on how to do it with example</a></p>\n\n<p>Alternatively, you can use the JXL library and use the following code :</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport jxl.Workbook;\nimport jxl.read.biff.BiffException;\n\npublic class GetSheetNamesTest {\n\n  /**\n   * @param args\n   * @throws IOException \n   * @throws BiffException \n   */\n  public static void main(String[] args) throws BiffException, IOException {\n    //Read the given XL sheet \n    Workbook workbook = Workbook.getWorkbook(new File(\"C:/JXL/Sheet-Names.xls\"));\n    System.out.println(\"Number of sheets in this workbook : \" + workbook.getNumberOfSheets());\n\n    String [] sheetNames = workbook.getSheetNames();\n\n    for (int i = 0 ; i &lt; sheetNames.length ; i ++ ) {\n      System.out.println(\"Sheet Name[\" + i + \"] = \" + sheetNames[i]);\n    }\n\n    //Close and free allocated memory \n    workbook.close(); \n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8898455,"reputation":6039,"user_id":6717572,"display_name":"Amit kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660648166,"creation_date":1660648166,"answer_id":73373024,"question_id":20782740,"body_markdown":"For Springboot, we can use getNumberOfSheets() and getSheetAt() functions of POI library. \r\n\r\nExample code below:\r\n\r\n\t  public static ArrayList&lt;String&gt; getSheetNames(InputStream is) {\r\n\t\t  ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n\t\t    try {\r\n\t\t    \tWorkbook workbook = new XSSFWorkbook(is);\r\n\t\t    \tfor(int i = 0; i&lt; workbook.getNumberOfSheets(); i++) {\r\n\t\t\t        Sheet firstSheet = workbook.getSheetAt(i);\r\n\t\t\t        names.add(firstSheet.getSheetName());   \r\n\t\t    \t}\r\n\t\t\t    workbook.close();\r\n\t\t\t    } catch (IOException e) {\r\n\t\t\t      throw new RuntimeException(&quot;fail to parse Excel file: &quot; + e.getMessage());\r\n\t\t\t    }\r\n\t\t  return names;\r\n\t  }\r\n\r\nCalling function:\r\n\r\n    List&lt;String&gt; listName = ExcelHelper2.getSheetNames(file.getInputStream());\r\n\r\n","title":"query to get sheet names in excel (java)","body":"<p>For Springboot, we can use getNumberOfSheets() and getSheetAt() functions of POI library.</p>\n<p>Example code below:</p>\n<pre><code>  public static ArrayList&lt;String&gt; getSheetNames(InputStream is) {\n      ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\n        try {\n            Workbook workbook = new XSSFWorkbook(is);\n            for(int i = 0; i&lt; workbook.getNumberOfSheets(); i++) {\n                Sheet firstSheet = workbook.getSheetAt(i);\n                names.add(firstSheet.getSheetName());   \n            }\n            workbook.close();\n            } catch (IOException e) {\n              throw new RuntimeException(&quot;fail to parse Excel file: &quot; + e.getMessage());\n            }\n      return names;\n  }\n</code></pre>\n<p>Calling function:</p>\n<pre><code>List&lt;String&gt; listName = ExcelHelper2.getSheetNames(file.getInputStream());\n</code></pre>\n"}],"owner":{"account_id":3713072,"reputation":209,"user_id":3089869,"accept_rate":40,"display_name":"user3089869"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8861,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660648252,"creation_date":1388051802,"question_id":20782740,"body_markdown":"I am trying to get the list of sheet names present in the excel file. Is there any query to get the sheet names? I am using \t\r\n\r\n    Class.forName(&quot;com.hxtt.sql.excel.ExcelDriver&quot;).newInstance();   ","title":"query to get sheet names in excel (java)","body":"<p>I am trying to get the list of sheet names present in the excel file. Is there any query to get the sheet names? I am using</p>\n<pre><code>Class.forName(&quot;com.hxtt.sql.excel.ExcelDriver&quot;).newInstance();   \n</code></pre>\n"},{"tags":["java","list","if-statement","java-stream","entryset"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660647328,"creation_date":1660643469,"answer_id":73372058,"question_id":73369172,"body_markdown":"We can achieve it using streams.\r\n\r\nFor that, we need to create a stream over the map-entries. Filter the entries that have values with matching `userId`. That transform the stream by extracting the value from each entry and collect them into a list.\r\n\r\n***Note:*** there&#39;s no way to throw an exception from inside the stream, hence `if`-statement responsible for that remains on its place.\r\n\r\nThat&#39;s how it can be implemented:\r\n\r\n    public List&lt;UserCourseEntity&gt; getUserCoursesByUserID(String userId) {\r\n    \r\n        List&lt;UserCourseEntity&gt; courses = userCourses.entrySet().stream()\r\n            .filter(entry -&gt; entry.getValue().getUserId().equalsIgnoreCase(userId))\r\n            .map(Map.Entry::getValue)\r\n            .collect(Collectors.toList()); // or .toList() for Java 16+\r\n        \r\n        if (courses.isEmpty()) {\r\n            logger.error(&quot;No data found&quot;);\r\n            throw new SpecificException(&quot;No data found with the given details&quot;);\r\n        }\r\n        \r\n        return courses;\r\n    }\r\n\r\n***Sidenote:*** from the perspective of *class design*, it would be cleaner if you had a *user object* responsible for storing and manipulate information (*retrieving and changing*) regarding their courses.\r\n\r\nAnd you can maintain a collection of user, for instance a `HashMap` associating *id* with a *user*. That would allow accessing a *list of courses* in a convenient way.\r\n\r\nIterating over the `HashMap`s entries ins&#39;t the best way of using it.","title":"Retrieving Values from having a particular property from a Map using Java 8 Stream","body":"<p>We can achieve it using streams.</p>\n<p>For that, we need to create a stream over the map-entries. Filter the entries that have values with matching <code>userId</code>. That transform the stream by extracting the value from each entry and collect them into a list.</p>\n<p><em><strong>Note:</strong></em> there's no way to throw an exception from inside the stream, hence <code>if</code>-statement responsible for that remains on its place.</p>\n<p>That's how it can be implemented:</p>\n<pre><code>public List&lt;UserCourseEntity&gt; getUserCoursesByUserID(String userId) {\n\n    List&lt;UserCourseEntity&gt; courses = userCourses.entrySet().stream()\n        .filter(entry -&gt; entry.getValue().getUserId().equalsIgnoreCase(userId))\n        .map(Map.Entry::getValue)\n        .collect(Collectors.toList()); // or .toList() for Java 16+\n    \n    if (courses.isEmpty()) {\n        logger.error(&quot;No data found&quot;);\n        throw new SpecificException(&quot;No data found with the given details&quot;);\n    }\n    \n    return courses;\n}\n</code></pre>\n<p><em><strong>Sidenote:</strong></em> from the perspective of <em>class design</em>, it would be cleaner if you had a <em>user object</em> responsible for storing and manipulate information (<em>retrieving and changing</em>) regarding their courses.</p>\n<p>And you can maintain a collection of user, for instance a <code>HashMap</code> associating <em>id</em> with a <em>user</em>. That would allow accessing a <em>list of courses</em> in a convenient way.</p>\n<p>Iterating over the <code>HashMap</code>s entries ins't the best way of using it.</p>\n"}],"owner":{"account_id":26037360,"reputation":11,"user_id":19742649,"display_name":"Yugandhar "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660647328,"creation_date":1660628013,"question_id":73369172,"body_markdown":"I have a class `UserCourseEntity` with a property `userId`\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @ToString\r\n    public static class UserCourseEntity {\r\n        private String userId;\r\n    }\r\n\r\n\r\nAnd I have a map with `UserCourseEntity` objects as values.\r\n\r\n```\r\npublic final Map&lt;String, UserCourseEntity&gt; userCourses;\r\n```\r\n\r\nMethod `getUserCoursesByUserID` receives `userId` property of the `UserCourseEntity` as a parameter.\r\n\r\nI want to check if there are values in the `userCourses` map having `userId` that matches the giving *id* in the case-insensitive manner (i.e. using `equalsIgnoreCase()`).\r\n\r\nIf there are such values, I need to store them into a list, and throw an exception otherwise.\r\n\r\nI&#39;m wonder is it possible to reimplement this code using streams?\r\n\r\n    public List&lt;UserCourseEntity&gt; getUserCoursesByUserID(String userId) {\r\n        List&lt;UserCourseEntity&gt; list = new ArrayList&lt;&gt;();\r\n        for (Map.Entry&lt;String, UserCourseEntity&gt; entry : userCourses.entrySet()) {\r\n            UserCourseEntity userCourseEntityValue = entry.getValue();\r\n            String key = entry.getKey();\r\n            boolean isExist = userCourseEntityValue.getUserId().equalsIgnoreCase(userId);\r\n            \r\n            if (!isExist) {\r\n                continue;\r\n            } else {\r\n                if (userCourseEntityValue.getUserId().equalsIgnoreCase(userId)) {\r\n                    list.add(userCourses.get(key));\r\n                }\r\n            }\r\n        }\r\n        if (list.isEmpty()) {\r\n            logger.error(&quot;No data found&quot;);\r\n            throw new SpecificException(&quot;No data found with the given details&quot;);\r\n        }\r\n        return list;\r\n    }","title":"Retrieving Values from having a particular property from a Map using Java 8 Stream","body":"<p>I have a class <code>UserCourseEntity</code> with a property <code>userId</code></p>\n<pre><code>@AllArgsConstructor\n@Getter\n@ToString\npublic static class UserCourseEntity {\n    private String userId;\n}\n</code></pre>\n<p>And I have a map with <code>UserCourseEntity</code> objects as values.</p>\n<pre><code>public final Map&lt;String, UserCourseEntity&gt; userCourses;\n</code></pre>\n<p>Method <code>getUserCoursesByUserID</code> receives <code>userId</code> property of the <code>UserCourseEntity</code> as a parameter.</p>\n<p>I want to check if there are values in the <code>userCourses</code> map having <code>userId</code> that matches the giving <em>id</em> in the case-insensitive manner (i.e. using <code>equalsIgnoreCase()</code>).</p>\n<p>If there are such values, I need to store them into a list, and throw an exception otherwise.</p>\n<p>I'm wonder is it possible to reimplement this code using streams?</p>\n<pre><code>public List&lt;UserCourseEntity&gt; getUserCoursesByUserID(String userId) {\n    List&lt;UserCourseEntity&gt; list = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;String, UserCourseEntity&gt; entry : userCourses.entrySet()) {\n        UserCourseEntity userCourseEntityValue = entry.getValue();\n        String key = entry.getKey();\n        boolean isExist = userCourseEntityValue.getUserId().equalsIgnoreCase(userId);\n        \n        if (!isExist) {\n            continue;\n        } else {\n            if (userCourseEntityValue.getUserId().equalsIgnoreCase(userId)) {\n                list.add(userCourses.get(key));\n            }\n        }\n    }\n    if (list.isEmpty()) {\n        logger.error(&quot;No data found&quot;);\n        throw new SpecificException(&quot;No data found with the given details&quot;);\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":["java","unboundid-ldap-sdk","unboundid"],"answers":[{"tags":[],"owner":{"account_id":25986825,"reputation":21,"user_id":19699689,"display_name":"nixon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660647323,"creation_date":1660647323,"answer_id":73372858,"question_id":73372763,"body_markdown":"Looked through the logs and my ldap connection was failing to connect due to a typo in the config. This method works as intended.","title":"UnboundID trying to add attribute getting an exception","body":"<p>Looked through the logs and my ldap connection was failing to connect due to a typo in the config. This method works as intended.</p>\n"}],"owner":{"account_id":25986825,"reputation":21,"user_id":19699689,"display_name":"nixon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660647323,"creation_date":1660646849,"question_id":73372763,"body_markdown":"Using an LDAP connecting I am trying to write a method that adds/replaces an attribute &quot;postalCode&quot; for a user in the database.\r\n\r\n    public void addPostcodeAttributeToUser(String postcode, String user, LDAPConnection conn) {\r\n        try {\r\n            Modification mod = new Modification(REPLACE, &quot;postalCode&quot;, postcode);\r\n            LDAPModification ldapMod = new LDAPModification(mod);\r\n            conn.modify(&quot;cn=&quot; + user + &quot;,ou=Users,dc=home&quot;, ldapMod);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Issue modifying ldap&quot;);\r\n        }\r\n    }\r\n\r\nCurrently I am getting the exception &quot;Issue modifying ldap&quot;? I have tried both ModificationType.REPLACE and ModificationType.ADD both giving the exception.","title":"UnboundID trying to add attribute getting an exception","body":"<p>Using an LDAP connecting I am trying to write a method that adds/replaces an attribute &quot;postalCode&quot; for a user in the database.</p>\n<pre><code>public void addPostcodeAttributeToUser(String postcode, String user, LDAPConnection conn) {\n    try {\n        Modification mod = new Modification(REPLACE, &quot;postalCode&quot;, postcode);\n        LDAPModification ldapMod = new LDAPModification(mod);\n        conn.modify(&quot;cn=&quot; + user + &quot;,ou=Users,dc=home&quot;, ldapMod);\n    } catch (Exception e) {\n        System.out.println(&quot;Issue modifying ldap&quot;);\n    }\n}\n</code></pre>\n<p>Currently I am getting the exception &quot;Issue modifying ldap&quot;? I have tried both ModificationType.REPLACE and ModificationType.ADD both giving the exception.</p>\n"},{"tags":["java","swing","jdialog"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1660586103,"post_id":73364183,"comment_id":129562367,"body_markdown":"You say your aim is to add more content. Then you get the exception not because of modifying content but the decoration. What happened to your content plans?","body":"You say your aim is to add more content. Then you get the exception not because of modifying content but the decoration. What happened to your content plans?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1660588755,"post_id":73364183,"comment_id":129563111,"body_markdown":"Notice the first line of the stack trace contains `java.awt.Dialog.setUndecorated`.  The first thing you should have done was look at [the documentation of Dialog.setUndecorated](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Dialog.html#setUndecorated(boolean)).","body":"Notice the first line of the stack trace contains <code>java.awt.Dialog.setUndecorated</code>.  The first thing you should have done was look at <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Dialog.html#setUndecorated(boolean)\" rel=\"nofollow noreferrer\">the documentation of Dialog.setUndecorated</a>."},{"owner":{"account_id":1271787,"reputation":706,"user_id":1227873,"accept_rate":83,"display_name":"Vikas"},"score":0,"creation_date":1660646811,"post_id":73364183,"comment_id":129575895,"body_markdown":"Yes I read that. Hence the question. How do I implement such a requirement where I need to modify the dialog after it is displayed.","body":"Yes I read that. Hence the question. How do I implement such a requirement where I need to modify the dialog after it is displayed."}],"owner":{"account_id":1271787,"reputation":706,"user_id":1227873,"accept_rate":83,"display_name":"Vikas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1660663803,"answer_count":0,"score":0,"last_activity_date":1660646863,"creation_date":1660582886,"question_id":73364183,"body_markdown":"I am working on a Java Swing application with JDK 11. I have a requirement that the dialog should always be on top, with minimal content when it is out of focus. But when the user interacts with the dialog, it should get more content.\r\n\r\nI tried to use a WindowFocusListener, add added a setUndecorated(false) when the dialog is in focus. But that throws an exception - &quot;The dialog is displayable.&quot;\r\n\r\nAs per the documentation, we can not modify a JDialog once it is on. Any suggestions on how I can implement this requirement?\r\n\r\n    public class DeveloperClient extends JDialog implements WindowFocusListener {\r\n    \r\n     ....\r\n    \r\n    \t@Override\r\n    \tpublic void windowGainedFocus(WindowEvent e) {\r\n    \t\tsetUndecorated(false);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void windowLostFocus(WindowEvent e) {\r\n    \t\tsetUndecorated(true);\r\n    \t}\r\n    }\r\n\r\n\r\nThis causes exception \r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.awt.IllegalComponentStateException: The dialog is displayable.\r\n    \tat java.desktop/java.awt.Dialog.setUndecorated(Dialog.java:1265)\r\n    \tat com.smartdeveloperhub.client.ui.DeveloperClient.windowGainedFocus(DeveloperClient.java:74)\r\n    \tat java.desktop/java.awt.Window.processWindowFocusEvent(Window.java:2125)\r\n    \tat java.desktop/java.awt.Window.processEvent(Window.java:2041)\r\n\r\n\r\n","title":"Java Swing JDialog - how to modify after it is displayed?","body":"<p>I am working on a Java Swing application with JDK 11. I have a requirement that the dialog should always be on top, with minimal content when it is out of focus. But when the user interacts with the dialog, it should get more content.</p>\n<p>I tried to use a WindowFocusListener, add added a setUndecorated(false) when the dialog is in focus. But that throws an exception - &quot;The dialog is displayable.&quot;</p>\n<p>As per the documentation, we can not modify a JDialog once it is on. Any suggestions on how I can implement this requirement?</p>\n<pre><code>public class DeveloperClient extends JDialog implements WindowFocusListener {\n\n ....\n\n    @Override\n    public void windowGainedFocus(WindowEvent e) {\n        setUndecorated(false);\n    }\n\n    @Override\n    public void windowLostFocus(WindowEvent e) {\n        setUndecorated(true);\n    }\n}\n</code></pre>\n<p>This causes exception</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.awt.IllegalComponentStateException: The dialog is displayable.\n    at java.desktop/java.awt.Dialog.setUndecorated(Dialog.java:1265)\n    at com.smartdeveloperhub.client.ui.DeveloperClient.windowGainedFocus(DeveloperClient.java:74)\n    at java.desktop/java.awt.Window.processWindowFocusEvent(Window.java:2125)\n    at java.desktop/java.awt.Window.processEvent(Window.java:2041)\n</code></pre>\n"},{"tags":["java","kill-process"],"comments":[{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1660643552,"post_id":73371899,"comment_id":129574819,"body_markdown":"You can just use that command in any OS you want and run it in Java with the Java process API Link: https://www.baeldung.com/java-process-api","body":"You can just use that command in any OS you want and run it in Java with the Java process API Link: <a href=\"https://www.baeldung.com/java-process-api\" rel=\"nofollow noreferrer\">baeldung.com/java-process-api</a>"},{"owner":{"account_id":25887820,"reputation":107,"user_id":19615643,"display_name":"Grimalkin"},"score":0,"creation_date":1660643949,"post_id":73371899,"comment_id":129574966,"body_markdown":"I suppose It is an option the thing is you have to use different command for different operating systems","body":"I suppose It is an option the thing is you have to use different command for different operating systems"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1660643949,"post_id":73371899,"comment_id":129574967,"body_markdown":"@NLxDoDge No you can&#39;t. `fuser` doesn&#39;t exist on all operating systems.","body":"@NLxDoDge No you can&#39;t. <code>fuser</code> doesn&#39;t exist on all operating systems."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1660645347,"post_id":73371899,"comment_id":129575408,"body_markdown":"Look how others are trying to get the running processes in java. None of these solutions can check whether a socket is in use. https://stackoverflow.com/questions/20472639/how-to-get-list-of-running-processes-with-java","body":"Look how others are trying to get the running processes in java. None of these solutions can check whether a socket is in use. <a href=\"https://stackoverflow.com/questions/20472639/how-to-get-list-of-running-processes-with-java\" title=\"how to get list of running processes with java\">stackoverflow.com/questions/20472639/&hellip;</a>"},{"owner":{"account_id":25887820,"reputation":107,"user_id":19615643,"display_name":"Grimalkin"},"score":0,"creation_date":1660646005,"post_id":73371899,"comment_id":129575628,"body_markdown":"@HiranChaudhuri I have decided to use `process.pid()` and save it into databaes since. It causes some other problems that is why I wanted to avoid that but it is the most universal one","body":"@HiranChaudhuri I have decided to use <code>process.pid()</code> and save it into databaes since. It causes some other problems that is why I wanted to avoid that but it is the most universal one"},{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1660726577,"post_id":73371899,"comment_id":129598252,"body_markdown":"The way we do it is by printing a nice error message saying the port is already in use and where to change the port number if required.","body":"The way we do it is by printing a nice error message saying the port is already in use and where to change the port number if required."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660644048,"creation_date":1660644048,"answer_id":73372155,"question_id":73371899,"body_markdown":"Call [netstat -p][1]. Netstat will print the pid if you have sufficient privileges.\r\nNext call [kill][2] to terminate the process.\r\n\r\nYou can do that manually, you can as well script it or code it in Java.\r\n\r\n\r\n  [1]: https://linux.die.net/man/8/netstat\r\n  [2]: https://www.man7.org/linux/man-pages/man1/kill.1.html","title":"Kill process that is running on certain port in java","body":"<p>Call <a href=\"https://linux.die.net/man/8/netstat\" rel=\"nofollow noreferrer\">netstat -p</a>. Netstat will print the pid if you have sufficient privileges.\nNext call <a href=\"https://www.man7.org/linux/man-pages/man1/kill.1.html\" rel=\"nofollow noreferrer\">kill</a> to terminate the process.</p>\n<p>You can do that manually, you can as well script it or code it in Java.</p>\n"},{"tags":[],"owner":{"account_id":25887820,"reputation":107,"user_id":19615643,"display_name":"Grimalkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660646769,"creation_date":1660646769,"answer_id":73372740,"question_id":73371899,"body_markdown":"I have decided to use KISS rule and just timeout process my program starts instead of performing dangerous OS commands ","title":"Kill process that is running on certain port in java","body":"<p>I have decided to use KISS rule and just timeout process my program starts instead of performing dangerous OS commands</p>\n"}],"owner":{"account_id":25887820,"reputation":107,"user_id":19615643,"display_name":"Grimalkin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73372740,"answer_count":2,"score":1,"last_activity_date":1660646769,"creation_date":1660642765,"question_id":73371899,"body_markdown":"Is it possible to kill a process using port that it is listening on in java? &lt;br&gt; I know on linux you can use `fuser` command but I would prefer to do it programatically and make it OS universal.","title":"Kill process that is running on certain port in java","body":"<p>Is it possible to kill a process using port that it is listening on in java? <br> I know on linux you can use <code>fuser</code> command but I would prefer to do it programatically and make it OS universal.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","methods"],"answers":[{"tags":[],"owner":{"account_id":15912488,"reputation":11,"user_id":11482071,"display_name":"Tuhin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660630699,"creation_date":1660630699,"answer_id":73369544,"question_id":73368062,"body_markdown":"\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n        public ResponseEntity&lt;ProductoDTO&gt; productoService(@PathVariable Long id, @RequestBody ProductoDTO productoDTO) {\r\n\r\n    //(1) Retrieve product object using id\r\n            Producto producto = productoRepository.findById(id).get();\r\n    //(2) get current stock value from producto object\r\n         Integer stock =  product.getStock();\r\n\r\n    //(3) stock +=  ProductoDTO.getCantidadProducto();[if stock increase]\r\n           OR\r\n           stock -=  ProductoDTO.getCantidadProducto(); [if stock reduce]\r\n\r\n    //(4) update the object with latest stock value\r\n            product.setStock(stock);\r\n\r\n    //(5) save product object\r\n          productoRepository.save(product);\r\n\r\n\r\n            return ResponseEntity.ok().body(productoDTOPeticion);\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"How can I implement a method to subtract and update stock when I pass the quantity I want of a certain product through @RequestBody in POST method?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    public ResponseEntity&lt;ProductoDTO&gt; productoService(@PathVariable Long id, @RequestBody ProductoDTO productoDTO) {\n\n//(1) Retrieve product object using id\n        Producto producto = productoRepository.findById(id).get();\n//(2) get current stock value from producto object\n     Integer stock =  product.getStock();\n\n//(3) stock +=  ProductoDTO.getCantidadProducto();[if stock increase]\n       OR\n       stock -=  ProductoDTO.getCantidadProducto(); [if stock reduce]\n\n//(4) update the object with latest stock value\n        product.setStock(stock);\n\n//(5) save product object\n      productoRepository.save(product);\n\n\n        return ResponseEntity.ok().body(productoDTOPeticion);\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660646665,"creation_date":1660639093,"answer_id":73371116,"question_id":73368062,"body_markdown":"For example, your service can accept `ProductoDTO` instead of a `Producto` object and work directly on DTO fields, thus you won&#39;t loose &quot;cantidadProducto&quot; variable value:\r\n\r\n    public Producto updateProduct(ProductoDTO productoDTO, Long id) {\r\n        Producto productoActual = productoRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Producto no encontrado&quot;));\r\n        productoActual.setNombreProducto(productoDTO.getNombreProducto());\r\n        productoActual.setPrecioProducto(productoDTO.getPrecioProducto());\r\n        productoActual.setDescripcion(productoDTO.getDescripcion());\r\n        if (productoActual.getStock() &lt; productoDTO.getCantidadProducto()) {\r\n            throw new RuntimeException(&quot;Not enough stock&quot;);\r\n        }\r\n        productoActual.setStock(productoActual.getStock() - productoDTO.getCantidadProducto());\r\n        return productoRepository.save(productoActual);\r\n    }\r\n\r\n\r\nAlso deliberate whether there&#39;s really a need for your `ProductoDTO` to have a &quot;cantidadProducto&quot; field, because you can pass it to a controller as a path variable:\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;ProductoDTO&gt; updateProduct(\r\n            @PathVariable Long id,\r\n            @RequestParam(required = false) Integer cantidadProducto,\r\n            @RequestBody ProductoDTO productoDTO) {\r\n        // calling service method here\r\n    }\r\n\r\nIn this case you will also need to change service method to accept Integer cantidadProducto argument.\r\nAnd a request to your API would look like this:\r\n\r\n    /api/productos/100?cantidadProducto=7\r\n\r\n\r\nAlso it might be simpler to decouple entity update logic (like change name, price, description) from reduce quantity (stock) logic, because the first one is more about product itself, and the second one is like the action lets say &quot;buy product&quot;.\r\nThen in a new controller method all you need is an ID and `cantidad` value, without any DTO objects, like this:\r\n\r\n\r\n    @PutMapping(&quot;/{id}/stock/buy&quot;)\r\n    public ResponseEntity&lt;ProductoDTO&gt; updateProduct(\r\n            @PathVariable Long id,\r\n            @RequestParam Integer cantidad) {\r\n        Producto producto = productoService.changeStock(id, cantidad, false);\r\n        ProductoDTO productoDTOPeticion = modelMapper.map(producto, ProductoDTO.class);\r\n        return ResponseEntity.ok().body(productoDTOPeticion);\r\n    }\r\n\r\nAnd a simple service method like this:\r\n\r\n    public Producto changeStock(Long id, Integer cantidad, boolean increase) {\r\n        Producto producto = productoRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Producto no encontrado&quot;));\r\n        Integer stock =  product.getStock();\r\n        if (!increase &amp;&amp; cantidad &gt; stock) {\r\n            throw new RuntimeException(&quot;Not enough stock&quot;);\r\n        }\r\n        stock = increase ? stock + cantidad : stock - cantidad ;\r\n        producto.setStock(stock);\r\n        return productoRepository.save(producto);\r\n    }\r\n\r\nIt might look like now it&#39;s not a RESTful API, but I think it would be easier to maintain this structure.","title":"How can I implement a method to subtract and update stock when I pass the quantity I want of a certain product through @RequestBody in POST method?","body":"<p>For example, your service can accept <code>ProductoDTO</code> instead of a <code>Producto</code> object and work directly on DTO fields, thus you won't loose &quot;cantidadProducto&quot; variable value:</p>\n<pre><code>public Producto updateProduct(ProductoDTO productoDTO, Long id) {\n    Producto productoActual = productoRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Producto no encontrado&quot;));\n    productoActual.setNombreProducto(productoDTO.getNombreProducto());\n    productoActual.setPrecioProducto(productoDTO.getPrecioProducto());\n    productoActual.setDescripcion(productoDTO.getDescripcion());\n    if (productoActual.getStock() &lt; productoDTO.getCantidadProducto()) {\n        throw new RuntimeException(&quot;Not enough stock&quot;);\n    }\n    productoActual.setStock(productoActual.getStock() - productoDTO.getCantidadProducto());\n    return productoRepository.save(productoActual);\n}\n</code></pre>\n<p>Also deliberate whether there's really a need for your <code>ProductoDTO</code> to have a &quot;cantidadProducto&quot; field, because you can pass it to a controller as a path variable:</p>\n<pre><code>@PutMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;ProductoDTO&gt; updateProduct(\n        @PathVariable Long id,\n        @RequestParam(required = false) Integer cantidadProducto,\n        @RequestBody ProductoDTO productoDTO) {\n    // calling service method here\n}\n</code></pre>\n<p>In this case you will also need to change service method to accept Integer cantidadProducto argument.\nAnd a request to your API would look like this:</p>\n<pre><code>/api/productos/100?cantidadProducto=7\n</code></pre>\n<p>Also it might be simpler to decouple entity update logic (like change name, price, description) from reduce quantity (stock) logic, because the first one is more about product itself, and the second one is like the action lets say &quot;buy product&quot;.\nThen in a new controller method all you need is an ID and <code>cantidad</code> value, without any DTO objects, like this:</p>\n<pre><code>@PutMapping(&quot;/{id}/stock/buy&quot;)\npublic ResponseEntity&lt;ProductoDTO&gt; updateProduct(\n        @PathVariable Long id,\n        @RequestParam Integer cantidad) {\n    Producto producto = productoService.changeStock(id, cantidad, false);\n    ProductoDTO productoDTOPeticion = modelMapper.map(producto, ProductoDTO.class);\n    return ResponseEntity.ok().body(productoDTOPeticion);\n}\n</code></pre>\n<p>And a simple service method like this:</p>\n<pre><code>public Producto changeStock(Long id, Integer cantidad, boolean increase) {\n    Producto producto = productoRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Producto no encontrado&quot;));\n    Integer stock =  product.getStock();\n    if (!increase &amp;&amp; cantidad &gt; stock) {\n        throw new RuntimeException(&quot;Not enough stock&quot;);\n    }\n    stock = increase ? stock + cantidad : stock - cantidad ;\n    producto.setStock(stock);\n    return productoRepository.save(producto);\n}\n</code></pre>\n<p>It might look like now it's not a RESTful API, but I think it would be easier to maintain this structure.</p>\n"}],"owner":{"account_id":24896426,"reputation":41,"user_id":18767624,"display_name":"Nacho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660646665,"creation_date":1660615626,"question_id":73368062,"body_markdown":"I am making a REST API by using Java + Spring Boot + Hibernate + JPA + H2 Database, I would need use PUT method for that, through the value of cantidadProducto in ProductoDTO inserted in the body, subtracts the stock value of my Producto entity. please help to solve this problem, I would greatly appreciate it\r\n\r\n\r\nProducto.java\r\n\r\n    package com.coder.billing.models;\r\n    \r\n    import lombok.*;\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;productos&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Producto  {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long idProducto;\r\n    \r\n        @Column(name = &quot;nombre&quot;)\r\n        private String nombreProducto;\r\n    \r\n        @Column(name = &quot;precio&quot;)\r\n        private Integer precioProducto;\r\n    \r\n        @Column(name = &quot;descripcion&quot;)\r\n        private String descripcion;\r\n    \r\n        @Column(name = &quot;stock&quot;)\r\n        private Integer stock;\r\n        \r\n    }\r\n\r\nProductoDTO.java\r\n\r\n    package com.coder.billing.dto;\r\n    \r\n    import lombok.*;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ProductoDTO {\r\n    \r\n        private Long idProducto;\r\n        private String nombreProducto;\r\n        private Integer precioProducto;\r\n        private String descripcion;\r\n        private Integer stock;\r\n        private Integer cantidadProducto;\r\n    }\r\n\r\nProductoRepository.java\r\n\r\n    package com.coder.billing.repositories.Producto;\r\n    \r\n    import com.coder.billing.models.Producto;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ProductoRepository extends JpaRepository&lt;Producto, Long&gt; {\r\n        \r\n    }\r\n\r\nProductoServiceImpl.java\r\n\r\n    package com.coder.billing.services.Producto;\r\n    \r\n    \r\n    import com.coder.billing.dto.ProductoDTO;\r\n    import com.coder.billing.models.Producto;\r\n    import com.coder.billing.repositories.Producto.ProductoRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    //        productoDTO.setTotalParcial(productoDTO.getPrecioProducto() * productoDTO.getCantidadProducto());\r\n    \r\n    \r\n    @Service\r\n    public class ProductoServiceImp implements ProductoService {\r\n    \r\n        @Autowired\r\n        ProductoRepository productoRepository;\r\n    \r\n        public List&lt;Producto&gt; getAllProductos() {\r\n            return productoRepository.findAll();\r\n        }\r\n    \r\n        public Producto getOneProduct(Long id) {\r\n            return productoRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Producto no encontrado&quot;));\r\n    \r\n        }\r\n        \r\n        public Producto createProduct(Producto producto) {\r\n    \r\n            return productoRepository.save(producto);\r\n        }\r\n    \r\n        public Producto updateProduct(Producto producto, Long id) {\r\n            Producto productoActual = productoRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Producto no encontrado&quot;));\r\n            productoActual.setIdProducto(id);\r\n            productoActual.setNombreProducto(producto.getNombreProducto());\r\n            productoActual.setPrecioProducto(producto.getPrecioProducto());\r\n            productoActual.setDescripcion(producto.getDescripcion());\r\n            productoActual.setStock(producto.getStock());\r\n            return productoRepository.save(productoActual);\r\n        }\r\n    \r\n        public void deleteProduct(Long id) {\r\n            productoRepository.deleteById(id);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nProductoService.java\r\n\r\n    package com.coder.billing.services.Producto;\r\n    \r\n    import com.coder.billing.models.Producto;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface ProductoService {\r\n    \r\n    \r\n        List&lt;Producto&gt; getAllProductos();\r\n    \r\n        Producto getOneProduct(Long id);\r\n    \r\n        Producto createProduct(Producto producto);\r\n    \r\n        Producto updateProduct(Producto producto, Long id);\r\n    \r\n        void deleteProduct(Long id);\r\n    \r\n    }\r\n\r\nProductoController.java\r\n\r\n    package com.coder.billing.controllers.Producto;\r\n    \r\n    \r\n    import com.coder.billing.dto.ProductoDTO;\r\n    import com.coder.billing.models.Producto;\r\n    import com.coder.billing.services.Producto.ProductoService;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n     \r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/productos&quot;)\r\n    public class ProductoController {\r\n    \r\n    \r\n        @Autowired\r\n        ModelMapper modelMapper;\r\n    \r\n        @Autowired\r\n        ProductoService productoService;\r\n    \r\n    \r\n        @GetMapping()\r\n        public List&lt;ProductoDTO&gt; getAllProductos() {\r\n            return productoService.getAllProductos().stream().map(producto -&gt; modelMapper.map(producto, ProductoDTO.class)).collect(Collectors.toList());\r\n    \r\n        }\r\n    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;ProductoDTO&gt; getProductoById(@PathVariable Long id) {\r\n            Producto producto = productoService.getOneProduct(id);\r\n            if (producto == null) {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n            }\r\n            ProductoDTO productoDTO = modelMapper.map(producto, ProductoDTO.class);\r\n            return ResponseEntity.ok().body(productoDTO);\r\n    \r\n        }\r\n    \r\n        @PostMapping()\r\n        public ResponseEntity&lt;ProductoDTO&gt; createProduct(@RequestBody ProductoDTO productoDTO) {\r\n            Producto producto = modelMapper.map(productoDTO, Producto.class);\r\n            Producto productoCreacion = productoService.createProduct(producto);\r\n            ProductoDTO conversion = modelMapper.map(productoCreacion, ProductoDTO.class);\r\n            return new ResponseEntity&lt;ProductoDTO&gt;(conversion, HttpStatus.CREATED);\r\n        }\r\n    \r\n    \r\n        @PutMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;ProductoDTO&gt; updateProduct(@PathVariable Long id, @RequestBody ProductoDTO productoDTO) {\r\n            Producto productoPeticion = modelMapper.map(productoDTO, Producto.class);\r\n    \r\n            Producto producto = productoService.updateProduct(productoPeticion, id);\r\n    \r\n            ProductoDTO productoDTOPeticion = modelMapper.map(producto, ProductoDTO.class);\r\n    \r\n            return ResponseEntity.ok().body(productoDTOPeticion);\r\n        }\r\n    \r\n     \r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;ProductoDTO&gt; deleteProduct(@PathVariable Long id) {\r\n            productoService.deleteProduct(id);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        }\r\n        \r\n    \r\n    }\r\n\r\n\r\n","title":"How can I implement a method to subtract and update stock when I pass the quantity I want of a certain product through @RequestBody in POST method?","body":"<p>I am making a REST API by using Java + Spring Boot + Hibernate + JPA + H2 Database, I would need use PUT method for that, through the value of cantidadProducto in ProductoDTO inserted in the body, subtracts the stock value of my Producto entity. please help to solve this problem, I would greatly appreciate it</p>\n<p>Producto.java</p>\n<pre><code>package com.coder.billing.models;\n\nimport lombok.*;\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;productos&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Producto  {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long idProducto;\n\n    @Column(name = &quot;nombre&quot;)\n    private String nombreProducto;\n\n    @Column(name = &quot;precio&quot;)\n    private Integer precioProducto;\n\n    @Column(name = &quot;descripcion&quot;)\n    private String descripcion;\n\n    @Column(name = &quot;stock&quot;)\n    private Integer stock;\n    \n}\n</code></pre>\n<p>ProductoDTO.java</p>\n<pre><code>package com.coder.billing.dto;\n\nimport lombok.*;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ProductoDTO {\n\n    private Long idProducto;\n    private String nombreProducto;\n    private Integer precioProducto;\n    private String descripcion;\n    private Integer stock;\n    private Integer cantidadProducto;\n}\n</code></pre>\n<p>ProductoRepository.java</p>\n<pre><code>package com.coder.billing.repositories.Producto;\n\nimport com.coder.billing.models.Producto;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ProductoRepository extends JpaRepository&lt;Producto, Long&gt; {\n    \n}\n</code></pre>\n<p>ProductoServiceImpl.java</p>\n<pre><code>package com.coder.billing.services.Producto;\n\n\nimport com.coder.billing.dto.ProductoDTO;\nimport com.coder.billing.models.Producto;\nimport com.coder.billing.repositories.Producto.ProductoRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n//        productoDTO.setTotalParcial(productoDTO.getPrecioProducto() * productoDTO.getCantidadProducto());\n\n\n@Service\npublic class ProductoServiceImp implements ProductoService {\n\n    @Autowired\n    ProductoRepository productoRepository;\n\n    public List&lt;Producto&gt; getAllProductos() {\n        return productoRepository.findAll();\n    }\n\n    public Producto getOneProduct(Long id) {\n        return productoRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Producto no encontrado&quot;));\n\n    }\n    \n    public Producto createProduct(Producto producto) {\n\n        return productoRepository.save(producto);\n    }\n\n    public Producto updateProduct(Producto producto, Long id) {\n        Producto productoActual = productoRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Producto no encontrado&quot;));\n        productoActual.setIdProducto(id);\n        productoActual.setNombreProducto(producto.getNombreProducto());\n        productoActual.setPrecioProducto(producto.getPrecioProducto());\n        productoActual.setDescripcion(producto.getDescripcion());\n        productoActual.setStock(producto.getStock());\n        return productoRepository.save(productoActual);\n    }\n\n    public void deleteProduct(Long id) {\n        productoRepository.deleteById(id);\n    }\n\n\n}\n</code></pre>\n<p>ProductoService.java</p>\n<pre><code>package com.coder.billing.services.Producto;\n\nimport com.coder.billing.models.Producto;\n\nimport java.util.List;\n\npublic interface ProductoService {\n\n\n    List&lt;Producto&gt; getAllProductos();\n\n    Producto getOneProduct(Long id);\n\n    Producto createProduct(Producto producto);\n\n    Producto updateProduct(Producto producto, Long id);\n\n    void deleteProduct(Long id);\n\n}\n</code></pre>\n<p>ProductoController.java</p>\n<pre><code>package com.coder.billing.controllers.Producto;\n\n\nimport com.coder.billing.dto.ProductoDTO;\nimport com.coder.billing.models.Producto;\nimport com.coder.billing.services.Producto.ProductoService;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n \nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(&quot;/api/productos&quot;)\npublic class ProductoController {\n\n\n    @Autowired\n    ModelMapper modelMapper;\n\n    @Autowired\n    ProductoService productoService;\n\n\n    @GetMapping()\n    public List&lt;ProductoDTO&gt; getAllProductos() {\n        return productoService.getAllProductos().stream().map(producto -&gt; modelMapper.map(producto, ProductoDTO.class)).collect(Collectors.toList());\n\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;ProductoDTO&gt; getProductoById(@PathVariable Long id) {\n        Producto producto = productoService.getOneProduct(id);\n        if (producto == null) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n        ProductoDTO productoDTO = modelMapper.map(producto, ProductoDTO.class);\n        return ResponseEntity.ok().body(productoDTO);\n\n    }\n\n    @PostMapping()\n    public ResponseEntity&lt;ProductoDTO&gt; createProduct(@RequestBody ProductoDTO productoDTO) {\n        Producto producto = modelMapper.map(productoDTO, Producto.class);\n        Producto productoCreacion = productoService.createProduct(producto);\n        ProductoDTO conversion = modelMapper.map(productoCreacion, ProductoDTO.class);\n        return new ResponseEntity&lt;ProductoDTO&gt;(conversion, HttpStatus.CREATED);\n    }\n\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;ProductoDTO&gt; updateProduct(@PathVariable Long id, @RequestBody ProductoDTO productoDTO) {\n        Producto productoPeticion = modelMapper.map(productoDTO, Producto.class);\n\n        Producto producto = productoService.updateProduct(productoPeticion, id);\n\n        ProductoDTO productoDTOPeticion = modelMapper.map(producto, ProductoDTO.class);\n\n        return ResponseEntity.ok().body(productoDTOPeticion);\n    }\n\n \n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;ProductoDTO&gt; deleteProduct(@PathVariable Long id) {\n        productoService.deleteProduct(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n    \n\n}\n</code></pre>\n"},{"tags":["python","java","pandas","pyspark","out-of-memory"],"comments":[{"owner":{"account_id":5907827,"reputation":1534,"user_id":4648969,"display_name":"bzu"},"score":3,"creation_date":1660298605,"post_id":73332336,"comment_id":129505115,"body_markdown":"Did you try any of the suggestions here? https://stackoverflow.com/questions/32336915/pyspark-java-lang-outofmemoryerror-java-heap-space","body":"Did you try any of the suggestions here? <a href=\"https://stackoverflow.com/questions/32336915/pyspark-java-lang-outofmemoryerror-java-heap-space\" title=\"pyspark java lang outofmemoryerror java heap space\">stackoverflow.com/questions/32336915/&hellip;</a>"},{"owner":{"account_id":100116,"reputation":14357,"user_id":270043,"accept_rate":60,"display_name":"Rayne"},"score":0,"creation_date":1660306287,"post_id":73332336,"comment_id":129507686,"body_markdown":"Thanks, I&#39;ll give them a try.","body":"Thanks, I&#39;ll give them a try."},{"owner":{"account_id":14460373,"reputation":1860,"user_id":10445333,"display_name":"Jonathan"},"score":0,"creation_date":1660630348,"post_id":73332336,"comment_id":129570549,"body_markdown":"@Rayne When you say you have 200GB memory, is it the total resource in your cluster? Also, which mode and what config are you using?","body":"@Rayne When you say you have 200GB memory, is it the total resource in your cluster? Also, which mode and what config are you using?"},{"owner":{"account_id":100116,"reputation":14357,"user_id":270043,"accept_rate":60,"display_name":"Rayne"},"score":0,"creation_date":1660645903,"post_id":73332336,"comment_id":129575595,"body_markdown":"@Jonathan Yes, this is the physical memory I have. Anyway, I have not encountered this problem after changing the `spark.driver.memory` setting to `32g`","body":"@Jonathan Yes, this is the physical memory I have. Anyway, I have not encountered this problem after changing the <code>spark.driver.memory</code> setting to <code>32g</code>"}],"answers":[{"tags":[],"owner":{"account_id":100116,"reputation":14357,"user_id":270043,"accept_rate":60,"display_name":"Rayne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660646029,"creation_date":1660646029,"answer_id":73372589,"question_id":73332336,"body_markdown":"As suggested by @bzu, the answer [here][1] solved my problem.\r\n\r\nI did have to manually create the `$SPARK_HOME/conf` folder and `spark-defaults.conf` file, though, as they did not exist. Also, I changed the setting to\r\n\r\n    spark.driver.memory 32g\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32336915/pyspark-java-lang-outofmemoryerror-java-heap-space","title":"Out of memory error when converting pandas dataframe to pyspark dataframe","body":"<p>As suggested by @bzu, the answer <a href=\"https://stackoverflow.com/questions/32336915/pyspark-java-lang-outofmemoryerror-java-heap-space\">here</a> solved my problem.</p>\n<p>I did have to manually create the <code>$SPARK_HOME/conf</code> folder and <code>spark-defaults.conf</code> file, though, as they did not exist. Also, I changed the setting to</p>\n<pre><code>spark.driver.memory 32g\n</code></pre>\n"}],"owner":{"account_id":100116,"reputation":14357,"user_id":270043,"accept_rate":60,"display_name":"Rayne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73372589,"answer_count":1,"score":0,"last_activity_date":1660646029,"creation_date":1660298151,"question_id":73332336,"body_markdown":"I have a pandas dataframe consisting of 180M rows and 4 columns (all integers). I saved it as a pickle file and the file is 5.8GB. I&#39;m trying to convert the pandas dataframe to pyspark dataframe using `spark_X = spark.createDataFrame(X)`, but keep getting a &quot;out of memory&quot; error.\r\n\r\nThe error snippet is\r\n\r\n    Py4JJavaError: An error occurred while calling z:org.apache.spark.api.python.PythonRDD.readRDDFromFile. : java.lang.OutOfMemoryError: Java heap space\r\n\r\nI have over 200GB of memory and I don&#39;t think a lack of physical memory is the issue. I read that there are multiple memory limitations, e.g. driver memory - could this be the cause?\r\n\r\nHow can I resolve or workaround this?\r\n ","title":"Out of memory error when converting pandas dataframe to pyspark dataframe","body":"<p>I have a pandas dataframe consisting of 180M rows and 4 columns (all integers). I saved it as a pickle file and the file is 5.8GB. I'm trying to convert the pandas dataframe to pyspark dataframe using <code>spark_X = spark.createDataFrame(X)</code>, but keep getting a &quot;out of memory&quot; error.</p>\n<p>The error snippet is</p>\n<pre><code>Py4JJavaError: An error occurred while calling z:org.apache.spark.api.python.PythonRDD.readRDDFromFile. : java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>I have over 200GB of memory and I don't think a lack of physical memory is the issue. I read that there are multiple memory limitations, e.g. driver memory - could this be the cause?</p>\n<p>How can I resolve or workaround this?</p>\n"},{"tags":["java","docker","gradlew","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":2828052,"reputation":33251,"user_id":2430241,"display_name":"Ben Whaley"},"score":0,"creation_date":1410892384,"post_id":25873971,"comment_id":40493992,"body_markdown":"Can you share the Dockerfile for both the base and the application images?","body":"Can you share the Dockerfile for both the base and the application images?"},{"owner":{"account_id":2782386,"reputation":1223,"user_id":2394661,"accept_rate":38,"display_name":"martin treurnicht"},"score":0,"creation_date":1410960194,"post_id":25873971,"comment_id":40522130,"body_markdown":"i&#39;ve added the docker file contents to the description","body":"i&#39;ve added the docker file contents to the description"},{"owner":{"account_id":155395,"reputation":3034,"user_id":372019,"display_name":"gesellix"},"score":0,"creation_date":1412588625,"post_id":25873971,"comment_id":41109208,"body_markdown":"do you need the project sources and the build artifacts (myapp.war) in one image?","body":"do you need the project sources and the build artifacts (myapp.war) in one image?"}],"answers":[{"tags":[],"owner":{"account_id":155395,"reputation":3034,"user_id":372019,"display_name":"gesellix"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1419786596,"creation_date":1412590206,"answer_id":26214051,"question_id":25873971,"body_markdown":"You might want to consider splitting your application image to two images: one for building the myapp.war and the other for running your application. That way, you can use docker volumes during the actual build and bind the host&#39;s `~/.gradle` folder into the container performing the build. Instead of only one step to run your application, you would have more steps, though. Example:\r\n\r\nbuilder image\r\n\r\n    FROM &lt;tag name here for base image including all build time dependencies&gt;\r\n\r\n    # Add project Source\r\n    # -&gt; you can use a project specific gradle.properties in your project root\r\n    # in order to override global/user gradle.properties\r\n    ADD . /var/app/myapp\r\n\r\n    RUN mkdir -p /root/.gradle\r\n    ENV HOME /root\r\n    # declare shared volume path\r\n    VOLUME /root/.gradle\r\n    WORKDIR /var/app/myapp/ \r\n\r\n    # Compile only\r\n    CMD [&quot;./gradlew&quot;, &quot;war&quot;]\r\n\r\napplication image\r\n\r\n    FROM &lt;tag name here for application base image&gt;\r\n\r\n    ADD ./ROOT.war /opt/tomcat/webapps/ROOT.war\r\n\r\n    # Start Tomcat\r\n    CMD [&quot;/opt/tomcat/bin/catalina.sh&quot;, &quot;run&quot;]\r\n\r\n\r\nHow to use in your project root, assuming the builder Dockerfile is located there and the application Dockerfile is located at the `webapp` subfolder (or any other path you prefer):\r\n\r\n    $ docker build -t builder .\r\n    $ docker run --name=build-result -v ~/.gradle/:/root/.gradle/ builder\r\n    $ docker cp build-result:/var/app/myapp/myapp.war webapp/ROOT.war\r\n    $ cd webapp\r\n    $ docker build -t application .\r\n    $ docker run -d -P application\r\n\r\nI haven&#39;t tested the shown code, but I hope you get the idea. The example might even be improved by using data volumes for the .gradle/ cache, see the Docker [user guide][1] for details.\r\n\r\n  [1]: https://docs.docker.com/userguide/dockervolumes/","title":"Docker cache gradle dependencies","body":"<p>You might want to consider splitting your application image to two images: one for building the myapp.war and the other for running your application. That way, you can use docker volumes during the actual build and bind the host's <code>~/.gradle</code> folder into the container performing the build. Instead of only one step to run your application, you would have more steps, though. Example:</p>\n\n<p>builder image</p>\n\n<pre><code>FROM &lt;tag name here for base image including all build time dependencies&gt;\n\n# Add project Source\n# -&gt; you can use a project specific gradle.properties in your project root\n# in order to override global/user gradle.properties\nADD . /var/app/myapp\n\nRUN mkdir -p /root/.gradle\nENV HOME /root\n# declare shared volume path\nVOLUME /root/.gradle\nWORKDIR /var/app/myapp/ \n\n# Compile only\nCMD [\"./gradlew\", \"war\"]\n</code></pre>\n\n<p>application image</p>\n\n<pre><code>FROM &lt;tag name here for application base image&gt;\n\nADD ./ROOT.war /opt/tomcat/webapps/ROOT.war\n\n# Start Tomcat\nCMD [\"/opt/tomcat/bin/catalina.sh\", \"run\"]\n</code></pre>\n\n<p>How to use in your project root, assuming the builder Dockerfile is located there and the application Dockerfile is located at the <code>webapp</code> subfolder (or any other path you prefer):</p>\n\n<pre><code>$ docker build -t builder .\n$ docker run --name=build-result -v ~/.gradle/:/root/.gradle/ builder\n$ docker cp build-result:/var/app/myapp/myapp.war webapp/ROOT.war\n$ cd webapp\n$ docker build -t application .\n$ docker run -d -P application\n</code></pre>\n\n<p>I haven't tested the shown code, but I hope you get the idea. The example might even be improved by using data volumes for the .gradle/ cache, see the Docker <a href=\"https://docs.docker.com/userguide/dockervolumes/\" rel=\"noreferrer\">user guide</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":4254382,"reputation":619,"user_id":3480445,"display_name":"Daniel Wei"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1492289984,"creation_date":1464191603,"answer_id":37442191,"question_id":25873971,"body_markdown":"## I\r\nAdd **resolveDependencies** task in build.gradle:\r\n\r\n    task resolveDependencies {\r\n        doLast {\r\n            project.rootProject.allprojects.each { subProject -&gt;\r\n                subProject.buildscript.configurations.each { configuration -&gt;\r\n                    configuration.resolve()\r\n                }\r\n                subProject.configurations.each { configuration -&gt;\r\n                    configuration.resolve()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nand update Dockerfile:\r\n\r\n    ADD build.gradle /opt/app/\r\n    WORKDIR /opt/app\r\n    RUN gradle resolveDependencies\r\n\r\n    ADD . .\r\n\r\n    RUN gradle build -x test --parallel &amp;&amp; \\\r\n        touch build/libs/api.jar\r\n\r\n---\r\n## II\r\nBellow is what I do now:\r\n\r\n*build.gradle*\r\n\r\n    ext {\r\n        speed = project.hasProperty(&#39;speed&#39;) ? project.getProperty(&#39;speed&#39;) : false\r\n        offlineCompile = new File(&quot;$buildDir/output/lib&quot;)\r\n    }\r\n\r\n    dependencies {\r\n        if (speed) {\r\n            compile fileTree(dir: offlineCompile, include: &#39;*.jar&#39;)\r\n        } else {\r\n            // ...dependencies\r\n        }\r\n    }\r\n\r\n    task downloadRepos(type: Copy) {\r\n        from configurations.all\r\n        into offlineCompile\r\n    }\r\n\r\n*Dockerfile*\r\n\r\n    ADD build.gradle /opt/app/\r\n    WORKDIR /opt/app\r\n\r\n    RUN gradle downloadRepos\r\n\r\n    ADD . /opt/app\r\n    RUN gradle build -Pspeed=true","title":"Docker cache gradle dependencies","body":"<h2>I</h2>\n\n<p>Add <strong>resolveDependencies</strong> task in build.gradle:</p>\n\n<pre><code>task resolveDependencies {\n    doLast {\n        project.rootProject.allprojects.each { subProject -&gt;\n            subProject.buildscript.configurations.each { configuration -&gt;\n                configuration.resolve()\n            }\n            subProject.configurations.each { configuration -&gt;\n                configuration.resolve()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and update Dockerfile:</p>\n\n<pre><code>ADD build.gradle /opt/app/\nWORKDIR /opt/app\nRUN gradle resolveDependencies\n\nADD . .\n\nRUN gradle build -x test --parallel &amp;&amp; \\\n    touch build/libs/api.jar\n</code></pre>\n\n<hr>\n\n<h2>II</h2>\n\n<p>Bellow is what I do now:</p>\n\n<p><em>build.gradle</em></p>\n\n<pre><code>ext {\n    speed = project.hasProperty('speed') ? project.getProperty('speed') : false\n    offlineCompile = new File(\"$buildDir/output/lib\")\n}\n\ndependencies {\n    if (speed) {\n        compile fileTree(dir: offlineCompile, include: '*.jar')\n    } else {\n        // ...dependencies\n    }\n}\n\ntask downloadRepos(type: Copy) {\n    from configurations.all\n    into offlineCompile\n}\n</code></pre>\n\n<p><em>Dockerfile</em></p>\n\n<pre><code>ADD build.gradle /opt/app/\nWORKDIR /opt/app\n\nRUN gradle downloadRepos\n\nADD . /opt/app\nRUN gradle build -Pspeed=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9600765,"reputation":1,"user_id":7128389,"display_name":"Tibor Koch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1478550699,"creation_date":1478550699,"answer_id":40474052,"question_id":25873971,"body_markdown":"try changing the gradle user home directory\r\n\r\nRUN mkdir -p /opt/gradle/.gradle  \r\nENV GRADLE_USER_HOME=/opt/gradle/.gradle\r\n","title":"Docker cache gradle dependencies","body":"<p>try changing the gradle user home directory</p>\n\n<p>RUN mkdir -p /opt/gradle/.gradle<br>\nENV GRADLE_USER_HOME=/opt/gradle/.gradle</p>\n"},{"tags":[],"owner":{"account_id":1356352,"reputation":10608,"user_id":1294667,"accept_rate":67,"display_name":"Sairam Krish"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1527768407,"creation_date":1526990629,"answer_id":50467205,"question_id":25873971,"body_markdown":"I faced this issue. As you might agree, it is a best practice to download dependencies alone as a separate step while building the docker image. It becomes little tricky with gradle, since there is no direct support for downloading just dependencies.\r\n\r\nOption 1 : Using docker-gradle Docker image\r\n\r\n-----\r\n\r\nWe can use pre-built gradle docker image to build the application. This ensures that it&#39;s not a local system build but a build done on a clean docker image.\r\n\r\n    docker volume create --name gradle-cache\r\n    docker run --rm -v gradle-cache:/home/gradle/.gradle -v &quot;$PWD&quot;:/home/gradle/project -w /home/gradle/project gradle:4.7.0-jdk8-alpine gradle build\r\n    ls -ltrh ./build/libs\r\n\r\n* gradle cache is loaded here as a volume. So subsequent builds will reuse the downloaded dependencies.\r\n* After this, we could have a Dockerfile to take this artifact and generate application specific image to run the application.\r\n* This way, the builder image is not required. Application build flow and Application run flow is separated out.\r\n* Since the gradle-cache volume is mounted, we could reuse the downloaded dependencies across different gradle projects.\r\n\r\nOption 2 : Multi-stage build\r\n\r\n---------\r\n\r\n----- Dockerfile -----\r\n\r\n    FROM openjdk:8 AS TEMP_BUILD_IMAGE\r\n    ENV APP_HOME=/usr/app/\r\n    WORKDIR $APP_HOME\r\n    COPY build.gradle settings.gradle gradlew $APP_HOME\r\n    COPY gradle $APP_HOME/gradle\r\n    RUN ./gradlew build || return 0 \r\n    COPY . .\r\n    RUN ./gradlew build\r\n    \r\n    FROM openjdk:8\r\n    ENV ARTIFACT_NAME=your-application.jar\r\n    ENV APP_HOME=/usr/app/\r\n    WORKDIR $APP_HOME\r\n    COPY --from=TEMP_BUILD_IMAGE $APP_HOME/build/libs/$ARTIFACT_NAME .\r\n    EXPOSE 8080\r\n    CMD [&quot;java&quot;,&quot;-jar&quot;,$ARTIFACT_NAME]\r\n\r\nIn the above Dockerfile\r\n\r\n - First we try to copy the project&#39;s gradle files alone, like\r\n   build.gradle, gradlew etc., \r\n - Then we copy the gradle directory itself\r\n - And then we try to run the build. At this point, there is no other\r\n   source code files exists in the directory. So build will fail. But\r\n   before that it will download the dependencies.&#160; \r\n - Since we expect the\r\n   build to fail, I have tried a simple technique to return 0 and allow\r\n   the docker to continue execution\r\n - this will speed up the subsequent build flows, since all the dependencies are downloaded and docker cached this layer. Comparatively, Volume mounting the gradle cache directory is still the best approach. \r\n - The above example also showcases [multi-stage docker image][1] building, which avoid multiple docker build files. \r\n\r\n\r\n\r\n  [1]: https://docs.docker.com/develop/develop-images/multistage-build/","title":"Docker cache gradle dependencies","body":"<p>I faced this issue. As you might agree, it is a best practice to download dependencies alone as a separate step while building the docker image. It becomes little tricky with gradle, since there is no direct support for downloading just dependencies.</p>\n\n<p>Option 1 : Using docker-gradle Docker image</p>\n\n<hr>\n\n<p>We can use pre-built gradle docker image to build the application. This ensures that it's not a local system build but a build done on a clean docker image.</p>\n\n<pre><code>docker volume create --name gradle-cache\ndocker run --rm -v gradle-cache:/home/gradle/.gradle -v \"$PWD\":/home/gradle/project -w /home/gradle/project gradle:4.7.0-jdk8-alpine gradle build\nls -ltrh ./build/libs\n</code></pre>\n\n<ul>\n<li>gradle cache is loaded here as a volume. So subsequent builds will reuse the downloaded dependencies.</li>\n<li>After this, we could have a Dockerfile to take this artifact and generate application specific image to run the application.</li>\n<li>This way, the builder image is not required. Application build flow and Application run flow is separated out.</li>\n<li>Since the gradle-cache volume is mounted, we could reuse the downloaded dependencies across different gradle projects.</li>\n</ul>\n\n<p>Option 2 : Multi-stage build</p>\n\n<hr>\n\n<p>----- Dockerfile -----</p>\n\n<pre><code>FROM openjdk:8 AS TEMP_BUILD_IMAGE\nENV APP_HOME=/usr/app/\nWORKDIR $APP_HOME\nCOPY build.gradle settings.gradle gradlew $APP_HOME\nCOPY gradle $APP_HOME/gradle\nRUN ./gradlew build || return 0 \nCOPY . .\nRUN ./gradlew build\n\nFROM openjdk:8\nENV ARTIFACT_NAME=your-application.jar\nENV APP_HOME=/usr/app/\nWORKDIR $APP_HOME\nCOPY --from=TEMP_BUILD_IMAGE $APP_HOME/build/libs/$ARTIFACT_NAME .\nEXPOSE 8080\nCMD [\"java\",\"-jar\",$ARTIFACT_NAME]\n</code></pre>\n\n<p>In the above Dockerfile</p>\n\n<ul>\n<li>First we try to copy the project's gradle files alone, like\nbuild.gradle, gradlew etc., </li>\n<li>Then we copy the gradle directory itself</li>\n<li>And then we try to run the build. At this point, there is no other\nsource code files exists in the directory. So build will fail. But\nbefore that it will download the dependencies.¬† </li>\n<li>Since we expect the\nbuild to fail, I have tried a simple technique to return 0 and allow\nthe docker to continue execution</li>\n<li>this will speed up the subsequent build flows, since all the dependencies are downloaded and docker cached this layer. Comparatively, Volume mounting the gradle cache directory is still the best approach. </li>\n<li>The above example also showcases <a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"noreferrer\">multi-stage docker image</a> building, which avoid multiple docker build files. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660645818,"creation_date":1660645818,"answer_id":73372544,"question_id":25873971,"body_markdown":"The current version of Docker supports mounting a &quot;cache&quot; and it&#39;s local to the Docker environment (so it&#39;s not shared with your OS which is both good and bad; good in that there&#39;s nothing about your system in the build process, bad in that you have to download again)\r\n\r\nThis code is from my Spring Docker Swarm integration rework\r\n\r\n```Dockerfile\r\nFROM gradle:7.4-jdk17 AS builder\r\nWORKDIR /w\r\nCOPY ./ /w\r\nRUN --mount=type=cache,target=/home/gradle/.gradle/caches gradle build --no-daemon -x test\r\n\r\nFROM openjdk:17-jdk as extractor\r\nWORKDIR /w\r\nCOPY bin/extract.sh /w/extract.sh\r\nCOPY --from=builder /w/*/build/libs/*.jar /w/\r\nRUN sh ./extract.sh\r\n\r\nFROM openjdk:17-jdk as sample-service\r\nWORKDIR /w\r\nCOPY --from=extractor /w/sample-service/* /w/\r\nENTRYPOINT [&quot;java&quot;, &quot;-XX:MaxRAMPercentage=80&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\nHEALTHCHECK --interval=5s --start-period=60s \\\r\n    CMD curl -sfo /dev/null http://localhost:8080/actuator/health\r\nUSER 5000\r\nEXPOSE 8080\r\n```\r\n\r\nWhat this does is from my current folder which is a multi-module gradle build I run the build.  `extractor` stage unbundles the JAR file using `extract.sh` script below.\r\n\r\nThen assembles the relevant component\r\n\r\nThe relevant contents of extract.sh\r\n```bash\r\n#!/bin/sh\r\nset -e\r\nset -x\r\n\r\n# Remove support projects that won&#39;t be a Spring Boot\r\n# rm buildSrc.jar\r\n# rm gateway-common-*.jar\r\n\r\nfor jar in *.jar\r\ndo\r\n  DIR=$(basename $jar -0.0.1-SNAPSHOT.jar)\r\n  mkdir $DIR\r\n  java -Djarmode=layertools -jar $jar extract --destination $DIR\r\ndone\r\n```","title":"Docker cache gradle dependencies","body":"<p>The current version of Docker supports mounting a &quot;cache&quot; and it's local to the Docker environment (so it's not shared with your OS which is both good and bad; good in that there's nothing about your system in the build process, bad in that you have to download again)</p>\n<p>This code is from my Spring Docker Swarm integration rework</p>\n<pre><code>FROM gradle:7.4-jdk17 AS builder\nWORKDIR /w\nCOPY ./ /w\nRUN --mount=type=cache,target=/home/gradle/.gradle/caches gradle build --no-daemon -x test\n\nFROM openjdk:17-jdk as extractor\nWORKDIR /w\nCOPY bin/extract.sh /w/extract.sh\nCOPY --from=builder /w/*/build/libs/*.jar /w/\nRUN sh ./extract.sh\n\nFROM openjdk:17-jdk as sample-service\nWORKDIR /w\nCOPY --from=extractor /w/sample-service/* /w/\nENTRYPOINT [&quot;java&quot;, &quot;-XX:MaxRAMPercentage=80&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\nHEALTHCHECK --interval=5s --start-period=60s \\\n    CMD curl -sfo /dev/null http://localhost:8080/actuator/health\nUSER 5000\nEXPOSE 8080\n</code></pre>\n<p>What this does is from my current folder which is a multi-module gradle build I run the build.  <code>extractor</code> stage unbundles the JAR file using <code>extract.sh</code> script below.</p>\n<p>Then assembles the relevant component</p>\n<p>The relevant contents of extract.sh</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/sh\nset -e\nset -x\n\n# Remove support projects that won't be a Spring Boot\n# rm buildSrc.jar\n# rm gateway-common-*.jar\n\nfor jar in *.jar\ndo\n  DIR=$(basename $jar -0.0.1-SNAPSHOT.jar)\n  mkdir $DIR\n  java -Djarmode=layertools -jar $jar extract --destination $DIR\ndone\n</code></pre>\n"}],"owner":{"account_id":2782386,"reputation":1223,"user_id":2394661,"accept_rate":38,"display_name":"martin treurnicht"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40471,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"answer_count":5,"score":51,"last_activity_date":1660645818,"creation_date":1410884966,"question_id":25873971,"body_markdown":"I&#39;m trying to deploy our java web application to aws elastic beanstalk using docker, the idea is to be able to run the container locally for development and testing and eventually push it up to production using git.\r\n\r\nI&#39;ve created a base image that has tomcat8 and java8 installed, the image that performs the gradle builds inherit from this base image, speeding up build process.\r\n\r\nAll works well, except for the fact that the inheriting application container that gets built using docker doesn&#39;t seem to cache the gradle dependencies, it downloads it every time, including gradlew. We build our web application using the following command:\r\n\r\n`./gradlew war`\r\n\r\nIs there some way that i can cache the files in `~/.gradle` this would speed my build up dramatically.\r\n\r\nThis isn&#39;t so much of an issue on beanstalk but is a big problem for devs trying to build and run locally as this does take a lot of time, as you can imagine.\r\n\r\nThe base image dockerfile:\r\n\r\n    FROM phusion/baseimage\r\n    EXPOSE 8080\r\n    RUN apt-get update\r\n    RUN add-apt-repository ppa:webupd8team/java\r\n    RUN apt-get update\r\n    RUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections\r\n    RUN apt-get -y install oracle-java8-installer\r\n    RUN java -version\r\n    ENV TOMCAT_VERSION 8.0.9\r\n    RUN wget --quiet --no-cookies http://archive.apache.org/dist/tomcat/tomcat-8/v${TOMCAT_VERSION}/bin/apache-tomcat-${TOMCAT_VERSION}.tar.gz -O /tmp/catalina.tar.gz\r\n    # Unpack\r\n    RUN tar xzf /tmp/catalina.tar.gz -C /opt\r\n    RUN mv /opt/apache-tomcat-${TOMCAT_VERSION} /opt/tomcat\r\n    RUN ln -s /opt/tomcat/logs /var/log/tomcat\r\n    RUN rm /tmp/catalina.tar.gz\r\n    # Remove unneeded apps\r\n    RUN rm -rf /opt/tomcat/webapps/examples\r\n    RUN rm -rf /opt/tomcat/webapps/docs\r\n    RUN rm -rf /opt/tomcat/webapps/ROOT\r\n    ENV CATALINA_HOME /opt/tomcat\r\n    ENV PATH $PATH:$CATALINA_HOME/bin\r\n    ENV CATALINA_OPTS $PARAM1\r\n    # Start Tomcat\r\n    CMD [&quot;/opt/tomcat/bin/catalina.sh&quot;, &quot;run&quot;]\r\n\r\nThe application dockerfile:\r\n\r\n    FROM &lt;tag name here for base image&gt;\r\n    RUN mkdir ~/.gradle\r\n    # run some extra stuff here to add things to gradle.properties file\r\n    # Add project Source\r\n    ADD . /var/app/myapp\r\n    # Compile and Deploy Application, this is what is downloading gradlew and all the maven dependencies every time, if only there was a way to take the changes it makes to ~/.gradle and persist it as a cache layer\r\n    RUN cd /var/app/myapp/ &amp;&amp; ./gradlew war\r\n    RUN mv /var/app/myapp/build/libs/myapp.war /opt/tomcat/webapps/ROOT.war\r\n    # Start Tomcat\r\n    CMD [&quot;/opt/tomcat/bin/catalina.sh&quot;, &quot;run&quot;]","title":"Docker cache gradle dependencies","body":"<p>I'm trying to deploy our java web application to aws elastic beanstalk using docker, the idea is to be able to run the container locally for development and testing and eventually push it up to production using git.</p>\n\n<p>I've created a base image that has tomcat8 and java8 installed, the image that performs the gradle builds inherit from this base image, speeding up build process.</p>\n\n<p>All works well, except for the fact that the inheriting application container that gets built using docker doesn't seem to cache the gradle dependencies, it downloads it every time, including gradlew. We build our web application using the following command:</p>\n\n<p><code>./gradlew war</code></p>\n\n<p>Is there some way that i can cache the files in <code>~/.gradle</code> this would speed my build up dramatically.</p>\n\n<p>This isn't so much of an issue on beanstalk but is a big problem for devs trying to build and run locally as this does take a lot of time, as you can imagine.</p>\n\n<p>The base image dockerfile:</p>\n\n<pre><code>FROM phusion/baseimage\nEXPOSE 8080\nRUN apt-get update\nRUN add-apt-repository ppa:webupd8team/java\nRUN apt-get update\nRUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections\nRUN apt-get -y install oracle-java8-installer\nRUN java -version\nENV TOMCAT_VERSION 8.0.9\nRUN wget --quiet --no-cookies http://archive.apache.org/dist/tomcat/tomcat-8/v${TOMCAT_VERSION}/bin/apache-tomcat-${TOMCAT_VERSION}.tar.gz -O /tmp/catalina.tar.gz\n# Unpack\nRUN tar xzf /tmp/catalina.tar.gz -C /opt\nRUN mv /opt/apache-tomcat-${TOMCAT_VERSION} /opt/tomcat\nRUN ln -s /opt/tomcat/logs /var/log/tomcat\nRUN rm /tmp/catalina.tar.gz\n# Remove unneeded apps\nRUN rm -rf /opt/tomcat/webapps/examples\nRUN rm -rf /opt/tomcat/webapps/docs\nRUN rm -rf /opt/tomcat/webapps/ROOT\nENV CATALINA_HOME /opt/tomcat\nENV PATH $PATH:$CATALINA_HOME/bin\nENV CATALINA_OPTS $PARAM1\n# Start Tomcat\nCMD [\"/opt/tomcat/bin/catalina.sh\", \"run\"]\n</code></pre>\n\n<p>The application dockerfile:</p>\n\n<pre><code>FROM &lt;tag name here for base image&gt;\nRUN mkdir ~/.gradle\n# run some extra stuff here to add things to gradle.properties file\n# Add project Source\nADD . /var/app/myapp\n# Compile and Deploy Application, this is what is downloading gradlew and all the maven dependencies every time, if only there was a way to take the changes it makes to ~/.gradle and persist it as a cache layer\nRUN cd /var/app/myapp/ &amp;&amp; ./gradlew war\nRUN mv /var/app/myapp/build/libs/myapp.war /opt/tomcat/webapps/ROOT.war\n# Start Tomcat\nCMD [\"/opt/tomcat/bin/catalina.sh\", \"run\"]\n</code></pre>\n"},{"tags":["java","kubernetes","yaml","fabric8","persistent-volume-claims"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660299587,"creation_date":1660299587,"answer_id":73332617,"question_id":73330768,"body_markdown":"As a workaround, I have switched to using a `StatefulSet` to manage my `Pod` which allows me to specify [volumeClaimTemplates](https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#volume-claim-templates)\r\n\r\neg the following yaml can be applied multiple times:\r\n```yaml\r\napiVersion: apps/v1\r\nkind: StatefulSet\r\nmetadata:\r\n  name: web\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      app: nginx\r\n  serviceName: &quot;nginx&quot;\r\n  replicas: 1\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: nginx\r\n    spec:\r\n      terminationGracePeriodSeconds: 10\r\n      containers:\r\n      - name: nginx\r\n        image: k8s.gcr.io/nginx-slim:0.8\r\n        ports:\r\n        - containerPort: 80\r\n          name: web\r\n        volumeMounts:\r\n        - name: www\r\n          mountPath: /usr/share/nginx/html\r\n  volumeClaimTemplates:\r\n  - metadata:\r\n      name: www\r\n    spec:\r\n      accessModes: [ &quot;ReadWriteOnce&quot; ]\r\n      storageClassName: &quot;my-storage-class&quot;\r\n      resources:\r\n        requests:\r\n          storage: 1Gi\r\n```","title":"Fabric8 KubernetesClient sends volumeName as empty string for PersistentVolumeClaim causing Forbidden: spec is immutable after creation","body":"<p>As a workaround, I have switched to using a <code>StatefulSet</code> to manage my <code>Pod</code> which allows me to specify <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#volume-claim-templates\" rel=\"nofollow noreferrer\">volumeClaimTemplates</a></p>\n<p>eg the following yaml can be applied multiple times:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: web\nspec:\n  selector:\n    matchLabels:\n      app: nginx\n  serviceName: &quot;nginx&quot;\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      terminationGracePeriodSeconds: 10\n      containers:\n      - name: nginx\n        image: k8s.gcr.io/nginx-slim:0.8\n        ports:\n        - containerPort: 80\n          name: web\n        volumeMounts:\n        - name: www\n          mountPath: /usr/share/nginx/html\n  volumeClaimTemplates:\n  - metadata:\n      name: www\n    spec:\n      accessModes: [ &quot;ReadWriteOnce&quot; ]\n      storageClassName: &quot;my-storage-class&quot;\n      resources:\n        requests:\n          storage: 1Gi\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11715657,"reputation":48,"user_id":8576257,"display_name":"abexamir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660530133,"creation_date":1660530133,"answer_id":73356393,"question_id":73330768,"body_markdown":"Kubernetes API doesn&#39;t allow you to change some fields for a certain resource type at a certain state. For a PVC, after its state is ```Bound```, the ```volumeName``` field in its spec is immutable; you can&#39;t change the volume your PVC is referencing.  \r\nWhen you apply a bare PersistentVolumeClaim manifest like the one in your question (a manifest that has no ```volumeName``` key or the value of its ```volumeName``` is nil), If the cluster has a default ```StorageClass```, it automatically creates a corresponding ```PersistentVolume``` object that&#39;s the abstraction of your volume in Kubernetes from the underlying storage provider, then assigns its name to your ```PersistentVolumeClaim``` with the ```volumeName``` key.\r\n\r\nAfter a ```PersistentVolumeClaim``` gets bound to a ```PersistentVolume``` and its ```volumeName``` field gets populated, you can not edit or patch its ```volumeName``` field anymore; that&#39;s the reason your ```kubectl apply``` command fails for the second time.  \r\nIt&#39;s now clear that a ```Replace``` verb is not gonna work for a PVC in ```Bound``` state. You can ```Create``` one and edit or ```Patch``` &#39;some&#39; of its fields (like increasing the size). I&#39;m not familiar with Java SDK, but it should include some APIs for creating, getting, patching, and deleting a PVC.\r\nYou can first check for the existence of your PVC using the ```GetNamespacedPersistentVolumeClaim``` API; then, if it&#39;s not in the cluster, create it using ```CreateNamespacedPersistentVolumeClaim``` API. Referencing the axiom: &quot;Explicit is better than Implicit.&quot;","title":"Fabric8 KubernetesClient sends volumeName as empty string for PersistentVolumeClaim causing Forbidden: spec is immutable after creation","body":"<p>Kubernetes API doesn't allow you to change some fields for a certain resource type at a certain state. For a PVC, after its state is <code>Bound</code>, the <code>volumeName</code> field in its spec is immutable; you can't change the volume your PVC is referencing.<br />\nWhen you apply a bare PersistentVolumeClaim manifest like the one in your question (a manifest that has no <code>volumeName</code> key or the value of its <code>volumeName</code> is nil), If the cluster has a default <code>StorageClass</code>, it automatically creates a corresponding <code>PersistentVolume</code> object that's the abstraction of your volume in Kubernetes from the underlying storage provider, then assigns its name to your <code>PersistentVolumeClaim</code> with the <code>volumeName</code> key.</p>\n<p>After a <code>PersistentVolumeClaim</code> gets bound to a <code>PersistentVolume</code> and its <code>volumeName</code> field gets populated, you can not edit or patch its <code>volumeName</code> field anymore; that's the reason your <code>kubectl apply</code> command fails for the second time.<br />\nIt's now clear that a <code>Replace</code> verb is not gonna work for a PVC in <code>Bound</code> state. You can <code>Create</code> one and edit or <code>Patch</code> 'some' of its fields (like increasing the size). I'm not familiar with Java SDK, but it should include some APIs for creating, getting, patching, and deleting a PVC.\nYou can first check for the existence of your PVC using the <code>GetNamespacedPersistentVolumeClaim</code> API; then, if it's not in the cluster, create it using <code>CreateNamespacedPersistentVolumeClaim</code> API. Referencing the axiom: &quot;Explicit is better than Implicit.&quot;</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660645726,"creation_date":1660645726,"answer_id":73372518,"question_id":73330768,"body_markdown":"I raised [this issue](https://github.com/fabric8io/kubernetes-client/issues/4332) on the facric8 kubernetes-client codebase and got an interesting response which may do what I want. Please note that I haven&#39;t tried yet since I have a workaround using StatefulSet and volumeClaimTemplates (see [my other answer](https://stackoverflow.com/a/73332617/1089967))\r\n\r\n&gt; The problem is the replace operation. It is not a substitute for apply / patch. Instead of createOrReplace you can use the new support for [server side apply](https://github.com/fabric8io/kubernetes-client/blob/master/doc/CHEATSHEET.md#server-side-apply)\r\n\r\nAnd the relevant section from the link\r\n\r\n&gt; Server Side Apply Basic usage of server side apply is available via\r\n&gt; Patchable. At it&#39;s simplest you just need to call:\r\n\r\n```java\r\nclient.services().withName(&quot;name&quot;).patch(PatchContext.of(PatchType.SERVER_SIDE_APPLY), service); \r\n```\r\n&gt; For any create or update. This can be a good alternative to\r\n&gt; using createOrReplace as it is always a single api call and does not\r\n&gt; issue a replace/PUT which can be problematic.\r\n&gt; \r\n&gt; If the resources may be created or modified by something other than a\r\n&gt; fabric8 patch, you will need to force your modifications:\r\n\r\n```java\r\nclient.services().withName(&quot;name&quot;).patch(new PatchContext.Builder().withPatchType(PatchType.SERVER_SIDE_APPLY).withForce(true).build(), service);\r\n```","title":"Fabric8 KubernetesClient sends volumeName as empty string for PersistentVolumeClaim causing Forbidden: spec is immutable after creation","body":"<p>I raised <a href=\"https://github.com/fabric8io/kubernetes-client/issues/4332\" rel=\"nofollow noreferrer\">this issue</a> on the facric8 kubernetes-client codebase and got an interesting response which may do what I want. Please note that I haven't tried yet since I have a workaround using StatefulSet and volumeClaimTemplates (see <a href=\"https://stackoverflow.com/a/73332617/1089967\">my other answer</a>)</p>\n<blockquote>\n<p>The problem is the replace operation. It is not a substitute for apply / patch. Instead of createOrReplace you can use the new support for <a href=\"https://github.com/fabric8io/kubernetes-client/blob/master/doc/CHEATSHEET.md#server-side-apply\" rel=\"nofollow noreferrer\">server side apply</a></p>\n</blockquote>\n<p>And the relevant section from the link</p>\n<blockquote>\n<p>Server Side Apply Basic usage of server side apply is available via\nPatchable. At it's simplest you just need to call:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>client.services().withName(&quot;name&quot;).patch(PatchContext.of(PatchType.SERVER_SIDE_APPLY), service); \n</code></pre>\n<blockquote>\n<p>For any create or update. This can be a good alternative to\nusing createOrReplace as it is always a single api call and does not\nissue a replace/PUT which can be problematic.</p>\n<p>If the resources may be created or modified by something other than a\nfabric8 patch, you will need to force your modifications:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>client.services().withName(&quot;name&quot;).patch(new PatchContext.Builder().withPatchType(PatchType.SERVER_SIDE_APPLY).withForce(true).build(), service);\n</code></pre>\n"}],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73332617,"answer_count":3,"score":0,"last_activity_date":1660645726,"creation_date":1660290106,"question_id":73330768,"body_markdown":"I want to apply the following yaml **multiple times** with the [fabric8 kubernetes-client](https://github.com/fabric8io/kubernetes-client)\r\n\r\n```yaml\r\napiVersion: v1\r\nkind: PersistentVolumeClaim\r\nmetadata:\r\n  name: my-pvc\r\nspec:\r\n  storageClassName: my-storage-class\r\n  accessModes:\r\n    - ReadWriteMany\r\n  resources:\r\n    requests:\r\n      storage: 1Gi\r\n```\r\n\r\nI apply the yaml using `createOrReplace()`\r\n```java\r\nConfig config = new ConfigBuilder()\r\n\t\t.withMasterUrl(&quot;https://my-kubernetes-root:6443&quot;)\r\n\t\t.withNamespace(&quot;my-namespace&quot;)\r\n\t\t.withOauthToken(token)\r\n\t\t.withTrustCerts(true)\r\n\t\t.build();\r\n\r\nKubernetesClient client = new DefaultKubernetesClient(config);\r\nClasspathResource resource = new ClasspathResource(&quot;my-pvc.yaml&quot;);\r\n\r\nclient.load(resource.getInputStream()).createOrReplace(); // this works\r\nTimeUnit.MINUTES.sleep(1); // volumeName is dynamically assigned during this period\r\nclient.load(resource.getInputStream()).createOrReplace(); // this fails\r\n```\r\n\r\n**This works the first time** (when the PVC does not exist in the namespace) **but fails the second time** that `createOrReplace()` is called for the same yaml with the following error\r\n```\r\nio.fabric8.kubernetes.client.KubernetesClientException: Failure executing: PUT at: https://my-kubernetes-root:6443/api/v1/namespaces/my-namespace/persistentvolumeclaims/my-pvc. Message: PersistentVolumeClaim &quot;my-pvc&quot; is invalid: spec: Forbidden: spec is immutable after creation except resources.requests for bound claims\r\n  core.PersistentVolumeClaimSpec{\r\n  \tAccessModes:      []core.PersistentVolumeAccessMode{&quot;ReadWriteMany&quot;},\r\n  \tSelector:         nil,\r\n  \tResources:        core.ResourceRequirements{Requests: core.ResourceList{s&quot;storage&quot;: {i: resource.int64Amount{value: 1073741824}, s: &quot;1Gi&quot;, Format: &quot;BinarySI&quot;}}},\r\n- \tVolumeName:       &quot;&quot;,\r\n+ \tVolumeName:       &quot;pvc-b79ebfcb-d5cb-4450-9f17-d69ec10b8712&quot;,\r\n  \tStorageClassName: &amp;&quot;my-storage-class&quot;,\r\n  \tVolumeMode:       &amp;&quot;Filesystem&quot;,\r\n  \tDataSource:       nil,\r\n  }\r\n```\r\n\r\nNotice how **&quot;volumeName&quot; is not present in the yaml** (nil) but in the error message **&quot;volumeName&quot; is changing from empty string** to the dynamically assigned volumeName.\r\n\r\n**I can reproduce this exact same behavior using kubectl and empty string for volumeName**\r\n\r\nI can `kubectl apply` the following yaml as **many times as I like**\r\n```yaml\r\napiVersion: v1\r\nkind: PersistentVolumeClaim\r\nmetadata:\r\n  name: my-pvc\r\nspec:\r\n  storageClassName: my-storage-class\r\n  accessModes:\r\n    - ReadWriteMany\r\n  resources:\r\n    requests:\r\n      storage: 1Gi\r\n```\r\n\r\nBut if I `kubectl apply` a yaml with volumeName of empty string **it works the first time and fails the second time** (The error message is the same as above)\r\n```yaml\r\napiVersion: v1\r\nkind: PersistentVolumeClaim\r\nmetadata:\r\n  name: my-pvc\r\nspec:\r\n  storageClassName: my-storage-class\r\n  volumeName: &quot;&quot;\r\n  accessModes:\r\n    - ReadWriteMany\r\n  resources:\r\n    requests:\r\n      storage: 1Gi\r\n```\r\n\r\nHow can I get `KubernetesClient` to behave the same as `kubectl apply`? Is there any way that I can apply the same PersistentVolumeClaim yaml multiple times with `KubernetesClient`?","title":"Fabric8 KubernetesClient sends volumeName as empty string for PersistentVolumeClaim causing Forbidden: spec is immutable after creation","body":"<p>I want to apply the following yaml <strong>multiple times</strong> with the <a href=\"https://github.com/fabric8io/kubernetes-client\" rel=\"nofollow noreferrer\">fabric8 kubernetes-client</a></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: my-pvc\nspec:\n  storageClassName: my-storage-class\n  accessModes:\n    - ReadWriteMany\n  resources:\n    requests:\n      storage: 1Gi\n</code></pre>\n<p>I apply the yaml using <code>createOrReplace()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Config config = new ConfigBuilder()\n        .withMasterUrl(&quot;https://my-kubernetes-root:6443&quot;)\n        .withNamespace(&quot;my-namespace&quot;)\n        .withOauthToken(token)\n        .withTrustCerts(true)\n        .build();\n\nKubernetesClient client = new DefaultKubernetesClient(config);\nClasspathResource resource = new ClasspathResource(&quot;my-pvc.yaml&quot;);\n\nclient.load(resource.getInputStream()).createOrReplace(); // this works\nTimeUnit.MINUTES.sleep(1); // volumeName is dynamically assigned during this period\nclient.load(resource.getInputStream()).createOrReplace(); // this fails\n</code></pre>\n<p><strong>This works the first time</strong> (when the PVC does not exist in the namespace) <strong>but fails the second time</strong> that <code>createOrReplace()</code> is called for the same yaml with the following error</p>\n<pre><code>io.fabric8.kubernetes.client.KubernetesClientException: Failure executing: PUT at: https://my-kubernetes-root:6443/api/v1/namespaces/my-namespace/persistentvolumeclaims/my-pvc. Message: PersistentVolumeClaim &quot;my-pvc&quot; is invalid: spec: Forbidden: spec is immutable after creation except resources.requests for bound claims\n  core.PersistentVolumeClaimSpec{\n    AccessModes:      []core.PersistentVolumeAccessMode{&quot;ReadWriteMany&quot;},\n    Selector:         nil,\n    Resources:        core.ResourceRequirements{Requests: core.ResourceList{s&quot;storage&quot;: {i: resource.int64Amount{value: 1073741824}, s: &quot;1Gi&quot;, Format: &quot;BinarySI&quot;}}},\n-   VolumeName:       &quot;&quot;,\n+   VolumeName:       &quot;pvc-b79ebfcb-d5cb-4450-9f17-d69ec10b8712&quot;,\n    StorageClassName: &amp;&quot;my-storage-class&quot;,\n    VolumeMode:       &amp;&quot;Filesystem&quot;,\n    DataSource:       nil,\n  }\n</code></pre>\n<p>Notice how <strong>&quot;volumeName&quot; is not present in the yaml</strong> (nil) but in the error message <strong>&quot;volumeName&quot; is changing from empty string</strong> to the dynamically assigned volumeName.</p>\n<p><strong>I can reproduce this exact same behavior using kubectl and empty string for volumeName</strong></p>\n<p>I can <code>kubectl apply</code> the following yaml as <strong>many times as I like</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: my-pvc\nspec:\n  storageClassName: my-storage-class\n  accessModes:\n    - ReadWriteMany\n  resources:\n    requests:\n      storage: 1Gi\n</code></pre>\n<p>But if I <code>kubectl apply</code> a yaml with volumeName of empty string <strong>it works the first time and fails the second time</strong> (The error message is the same as above)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: my-pvc\nspec:\n  storageClassName: my-storage-class\n  volumeName: &quot;&quot;\n  accessModes:\n    - ReadWriteMany\n  resources:\n    requests:\n      storage: 1Gi\n</code></pre>\n<p>How can I get <code>KubernetesClient</code> to behave the same as <code>kubectl apply</code>? Is there any way that I can apply the same PersistentVolumeClaim yaml multiple times with <code>KubernetesClient</code>?</p>\n"},{"tags":["java","netbeans","jframe"],"answers":[{"tags":[],"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660645268,"creation_date":1660645268,"answer_id":73372432,"question_id":73329225,"body_markdown":"In the &quot;Properties&quot;-window you need to open the &quot;Properties&quot;-tab and delete the values of &quot;model&quot;.","title":"Erroneously generated code in NetBeans for JFrames","body":"<p>In the &quot;Properties&quot;-window you need to open the &quot;Properties&quot;-tab and delete the values of &quot;model&quot;.</p>\n"}],"owner":{"account_id":22750169,"reputation":75,"user_id":16910436,"display_name":"Diego FC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73372432,"answer_count":1,"score":0,"last_activity_date":1660645268,"creation_date":1660277977,"question_id":73329225,"body_markdown":"I&#39;m doing a project in NetBeans that uses JFrames. To begin with, I had created the window in a package called &quot;uam.pvoe.form&quot; and among many other elements, I added a Combo Box called &quot;cmbUnit&quot;. For the purpose of my submission, it is necessary that this Combo Box accepts objects of type &quot;Unit&quot; instead of &quot;String&quot; which is the default value for &quot;Type parameters&quot;.\r\n\r\nNOTE: In the image it says &quot;Unidad&quot; instead of &quot;Unit&quot; because the project is in Spanish but I am translating it for you.\r\n\r\n[![Combo Box properties][1]][1]\r\n\r\n\r\nThe problem is that when I make this change, part of the code generated by NetBeans is not updated, specifically this part (that is where I get an error and it does not allow me to run the project):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lwme0.png\r\n  [2]: https://i.stack.imgur.com/SVTgN.png\r\n\r\nI have made this kind of changes before but this has never happened to me. I think the problem is that the type of objects is no longer of type &quot;String&quot; and that array is invalid but as it is part of the automatically generated code, it does not allow me to modify it. To look for a solution, I checked other projects where I made similar changes in the &quot;Type Parameters&quot; but that line does not even appear in the generated NetBeans code. Could anyone help me on any possible steps I am skipping or any way to fix this problem?","title":"Erroneously generated code in NetBeans for JFrames","body":"<p>I'm doing a project in NetBeans that uses JFrames. To begin with, I had created the window in a package called &quot;uam.pvoe.form&quot; and among many other elements, I added a Combo Box called &quot;cmbUnit&quot;. For the purpose of my submission, it is necessary that this Combo Box accepts objects of type &quot;Unit&quot; instead of &quot;String&quot; which is the default value for &quot;Type parameters&quot;.</p>\n<p>NOTE: In the image it says &quot;Unidad&quot; instead of &quot;Unit&quot; because the project is in Spanish but I am translating it for you.</p>\n<p><a href=\"https://i.stack.imgur.com/Lwme0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lwme0.png\" alt=\"Combo Box properties\" /></a></p>\n<p>The problem is that when I make this change, part of the code generated by NetBeans is not updated, specifically this part (that is where I get an error and it does not allow me to run the project):</p>\n<p><a href=\"https://i.stack.imgur.com/SVTgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SVTgN.png\" alt=\"enter image description here\" /></a></p>\n<p>I have made this kind of changes before but this has never happened to me. I think the problem is that the type of objects is no longer of type &quot;String&quot; and that array is invalid but as it is part of the automatically generated code, it does not allow me to modify it. To look for a solution, I checked other projects where I made similar changes in the &quot;Type Parameters&quot; but that line does not even appear in the generated NetBeans code. Could anyone help me on any possible steps I am skipping or any way to fix this problem?</p>\n"},{"tags":["java","type-conversion","byte","type-mismatch"],"comments":[{"owner":{"account_id":2288,"reputation":191195,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"score":1,"creation_date":1221643799,"post_id":81392,"comment_id":10155,"body_markdown":"IIRC the JVM stores bytes and shorts as ints so there usually very little benefit to using these two data types.  Of course, I realise you&#39;re doing something far more complex than your example and probably have a very good reason.","body":"IIRC the JVM stores bytes and shorts as ints so there usually very little benefit to using these two data types.  Of course, I realise you&#39;re doing something far more complex than your example and probably have a very good reason."}],"answers":[{"tags":[],"owner":{"account_id":4962,"reputation":1243,"user_id":7732,"accept_rate":83,"display_name":"Brad Richards"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1221828265,"creation_date":1221642998,"answer_id":81394,"question_id":81392,"body_markdown":"Although the arithmetic operators are defined to operate on any numeric type, according the Java language specification (5.6.2 Binary Numeric Promotion), operands of type byte and short are automatically promoted to int before being handed to the operators.\r\n\r\nTo perform arithmetic operations on variables of type byte or short, you must enclose the expression in parentheses (inside of which operations will be carried out as type int), and then cast the result back to the desired type.\r\n\r\n&lt;pre&gt;byte a = 23;\r\nbyte b = 34;\r\nbyte c = (byte) (a + b);&lt;/pre&gt;\r\n\r\nHere&#39;s a follow-on question to the real Java gurus: why? The types byte and short are perfectly fine numeric types. Why does Java not allow direct arithmetic operations on these types? (The answer is not &quot;loss of precision&quot;, as there is no apparent reason to convert to int in the first place.)\r\n\r\nUpdate: jrudolph suggests that this behavior is based on the operations available in the JVM, specifically, that only full- and double-word operators are implemented. Hence, to operator on bytes and shorts, they must be converted to int.","title":"Java: why do I receive the error message &quot;Type mismatch: cannot convert int to byte&quot;","body":"<p>Although the arithmetic operators are defined to operate on any numeric type, according the Java language specification (5.6.2 Binary Numeric Promotion), operands of type byte and short are automatically promoted to int before being handed to the operators.</p>\n\n<p>To perform arithmetic operations on variables of type byte or short, you must enclose the expression in parentheses (inside of which operations will be carried out as type int), and then cast the result back to the desired type.</p>\n\n<pre>byte a = 23;\nbyte b = 34;\nbyte c = (byte) (a + b);</pre>\n\n<p>Here's a follow-on question to the real Java gurus: why? The types byte and short are perfectly fine numeric types. Why does Java not allow direct arithmetic operations on these types? (The answer is not \"loss of precision\", as there is no apparent reason to convert to int in the first place.)</p>\n\n<p>Update: jrudolph suggests that this behavior is based on the operations available in the JVM, specifically, that only full- and double-word operators are implemented. Hence, to operator on bytes and shorts, they must be converted to int.</p>\n"},{"tags":[],"owner":{"account_id":2280,"reputation":7171,"user_id":3154,"accept_rate":80,"display_name":"David Sykes"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1221643609,"creation_date":1221643609,"answer_id":81446,"question_id":81392,"body_markdown":"The answer to your follow-up question is here: \r\n\r\n&gt; operands of type byte and short are automatically promoted to int before being handed to the operators\r\n\r\nSo, in your example, `a` and `b` are both converted to an `int` before being handed to the + operator. The result of adding two `int`s together is also an `int`. Trying to then assign that `int` to a `byte` value causes the error because there is a potential loss of precision. By explicitly casting the result you are telling the compiler &quot;I know what I am doing&quot;.\r\n\r\n","title":"Java: why do I receive the error message &quot;Type mismatch: cannot convert int to byte&quot;","body":"<p>The answer to your follow-up question is here: </p>\n\n<blockquote>\n  <p>operands of type byte and short are automatically promoted to int before being handed to the operators</p>\n</blockquote>\n\n<p>So, in your example, <code>a</code> and <code>b</code> are both converted to an <code>int</code> before being handed to the + operator. The result of adding two <code>int</code>s together is also an <code>int</code>. Trying to then assign that <code>int</code> to a <code>byte</code> value causes the error because there is a potential loss of precision. By explicitly casting the result you are telling the compiler \"I know what I am doing\".</p>\n"},{"tags":[],"owner":{"account_id":4925,"reputation":8327,"user_id":7647,"display_name":"jrudolph"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1221644040,"creation_date":1221644040,"answer_id":81490,"question_id":81392,"body_markdown":"I think, the matter is, that the JVM supports only two types of stack values: word sized and double word sized. \r\n\r\nThen they probably decided that they would need only one operation that works on word sized integers on the stack. So there&#39;s only iadd, imul and so on at bytecode level (and no operators for bytes and shorts).\r\n\r\nSo you get an int value as the result of these operations which Java can&#39;t safely convert back to the smaller byte and short data types. So they force you to cast to narrow the value back down to byte/short.\r\n\r\nBut in the end you are right: This behaviour is not consistent to the behaviour of ints, for example. You can without problem add two ints and get no error if the result overflows.","title":"Java: why do I receive the error message &quot;Type mismatch: cannot convert int to byte&quot;","body":"<p>I think, the matter is, that the JVM supports only two types of stack values: word sized and double word sized. </p>\n\n<p>Then they probably decided that they would need only one operation that works on word sized integers on the stack. So there's only iadd, imul and so on at bytecode level (and no operators for bytes and shorts).</p>\n\n<p>So you get an int value as the result of these operations which Java can't safely convert back to the smaller byte and short data types. So they force you to cast to narrow the value back down to byte/short.</p>\n\n<p>But in the end you are right: This behaviour is not consistent to the behaviour of ints, for example. You can without problem add two ints and get no error if the result overflows.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221646520,"creation_date":1221646520,"answer_id":81728,"question_id":81392,"body_markdown":"The Java language always promotes arguments of arithmetic operators to int, long, float or double. So take the expression:\r\n\r\n    a + b\r\n\r\nwhere a and b are of type byte. This is shorthand for:\r\n\r\n    (int)a + (int)b\r\n\r\nThis expression is of type int. It clearly makes sense to give an error when assigning an int value to a byte variable.\r\n\r\n\r\nWhy would the language be defined in this way? Suppose a was 60 and b was 70, then a+b is -126 - integer overflow. As part of a more complicated expression that was expected to result in an int, this may become a difficult bug. Restrict use of byte and short to array storage, constants for file formats/network protocols and puzzlers.\r\n\r\nThere is an interesting recording from JavaPolis 2007. James Gosling is giving an example about how complicated unsigned arithmetic is (and why it isn&#39;t in Java). Josh Bloch points out that his example gives the wrong example under normal signed arithmetic too. For understandable arithmetic, we need arbitrary precision.","title":"Java: why do I receive the error message &quot;Type mismatch: cannot convert int to byte&quot;","body":"<p>The Java language always promotes arguments of arithmetic operators to int, long, float or double. So take the expression:</p>\n\n<pre><code>a + b\n</code></pre>\n\n<p>where a and b are of type byte. This is shorthand for:</p>\n\n<pre><code>(int)a + (int)b\n</code></pre>\n\n<p>This expression is of type int. It clearly makes sense to give an error when assigning an int value to a byte variable.</p>\n\n<p>Why would the language be defined in this way? Suppose a was 60 and b was 70, then a+b is -126 - integer overflow. As part of a more complicated expression that was expected to result in an int, this may become a difficult bug. Restrict use of byte and short to array storage, constants for file formats/network protocols and puzzlers.</p>\n\n<p>There is an interesting recording from JavaPolis 2007. James Gosling is giving an example about how complicated unsigned arithmetic is (and why it isn't in Java). Josh Bloch points out that his example gives the wrong example under normal signed arithmetic too. For understandable arithmetic, we need arbitrary precision.</p>\n"},{"tags":[],"owner":{"account_id":11957791,"reputation":51,"user_id":8749628,"display_name":"Dean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660645135,"creation_date":1660645135,"answer_id":73372404,"question_id":81392,"body_markdown":"In Java Language Specification (5.6.2 Binary Numeric Promotion):\r\n\r\n&gt; 1 If any expression is of type double, then the promoted type is double, and other expressions that are not of type double undergo widening primitive conversion to double.\r\n&gt; \r\n&gt; 2 Otherwise, if any expression is of type float, then the promoted type is float, and other expressions that are not of type float undergo widening primitive conversion to float.\r\n&gt; \r\n&gt; 3 Otherwise, if any expression is of type long, then the promoted type is long, and other expressions that are not of type long undergo widening primitive conversion to long.\r\n&gt;\r\n&gt; 4 Otherwise, none of the expressions are of type double, float, or long. In this case, the promoted type is int, and any expressions that are not of type int undergo widening primitive conversion to int.\r\n\r\nYour code belongs to case 4. variables `a` and `b` are both converted to an `int` before being handed to the `+` operator. The result of `+` operation is also of type `int` not `byte`","title":"Java: why do I receive the error message &quot;Type mismatch: cannot convert int to byte&quot;","body":"<p>In Java Language Specification (5.6.2 Binary Numeric Promotion):</p>\n<blockquote>\n<p>1 If any expression is of type double, then the promoted type is double, and other expressions that are not of type double undergo widening primitive conversion to double.</p>\n<p>2 Otherwise, if any expression is of type float, then the promoted type is float, and other expressions that are not of type float undergo widening primitive conversion to float.</p>\n<p>3 Otherwise, if any expression is of type long, then the promoted type is long, and other expressions that are not of type long undergo widening primitive conversion to long.</p>\n<p>4 Otherwise, none of the expressions are of type double, float, or long. In this case, the promoted type is int, and any expressions that are not of type int undergo widening primitive conversion to int.</p>\n</blockquote>\n<p>Your code belongs to case 4. variables <code>a</code> and <code>b</code> are both converted to an <code>int</code> before being handed to the <code>+</code> operator. The result of <code>+</code> operation is also of type <code>int</code> not <code>byte</code></p>\n"}],"owner":{"account_id":4962,"reputation":1243,"user_id":7732,"accept_rate":83,"display_name":"Brad Richards"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25861,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":81394,"answer_count":5,"score":13,"last_activity_date":1660645135,"creation_date":1221642979,"question_id":81392,"body_markdown":"If you declare variables of type byte or short and attempt to perform arithmetic operations on these, you receive the error &quot;Type mismatch: cannot convert int to short&quot; (or correspondingly &quot;Type mismatch: cannot convert int to byte&quot;). \r\n\r\n    byte a = 23;\r\n    byte b = 34;\r\n    byte c = a + b;\r\n\r\nIn this example, the compile error is on the third line.","title":"Java: why do I receive the error message &quot;Type mismatch: cannot convert int to byte&quot;","body":"<p>If you declare variables of type byte or short and attempt to perform arithmetic operations on these, you receive the error \"Type mismatch: cannot convert int to short\" (or correspondingly \"Type mismatch: cannot convert int to byte\"). </p>\n\n<pre><code>byte a = 23;\nbyte b = 34;\nbyte c = a + b;\n</code></pre>\n\n<p>In this example, the compile error is on the third line.</p>\n"},{"tags":["java","spring-boot","bigdecimal"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1660637804,"post_id":73370136,"comment_id":129572777,"body_markdown":"So when you say &#39;keep zeroes after decimal point&#39; you really mean &#39;remove quotation marks&#39;? And do you realize that 10000 and 10000.00 are the same value?","body":"So when you say &#39;keep zeroes after decimal point&#39; you really mean &#39;remove quotation marks&#39;? And do you realize that 10000 and 10000.00 are the same value?"},{"owner":{"account_id":18443326,"reputation":7,"user_id":13435371,"display_name":"Durga"},"score":0,"creation_date":1660638328,"post_id":73370136,"comment_id":129572949,"body_markdown":"@user207421 i don&#39;t want remove the zeros, i need zeros in response","body":"@user207421 i don&#39;t want remove the zeros, i need zeros in response"}],"answers":[{"tags":[],"owner":{"account_id":10940745,"reputation":128,"user_id":8040692,"display_name":"Omeerfk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1660635889,"creation_date":1660635889,"answer_id":73370429,"question_id":73370136,"body_markdown":"You can set &quot;scale&quot; value of amount as 2. \r\n\r\nTry something like this; \r\n\r\ninstead of `responsedto.setAmount(amount)` use `responsedto.setAmount(amount.setScale(2))`\r\n\r\n\r\nWith this you don&#39;t need to use @JsonFormat annotation. ","title":"How to keep zeros after decimal for BigDecimal in Java Spring Boot?","body":"<p>You can set &quot;scale&quot; value of amount as 2.</p>\n<p>Try something like this;</p>\n<p>instead of <code>responsedto.setAmount(amount)</code> use <code>responsedto.setAmount(amount.setScale(2))</code></p>\n<p>With this you don't need to use @JsonFormat annotation.</p>\n"}],"owner":{"account_id":18443326,"reputation":7,"user_id":13435371,"display_name":"Durga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1584,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1660644551,"creation_date":1660634315,"question_id":73370136,"body_markdown":"I have some `BigDecimal` values in database, like 10000.00, 12357.87 etc.\r\n\r\nNow I&#39;m trying to get these values by using GET API REST in spring boot, but here the problem is\r\nin Swagger or Postman response I see like: \r\n\r\n    &quot;amount&quot;:&quot;10000.00&quot;\r\n\r\nbut I want value without quotes &quot;amount&quot;: 10000.00\r\n\r\nResponse class: \r\n\r\n    public class ResponseDTO{\r\n      @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n      private BigDecimal amount;\r\n    }\r\n\r\nIf I removed `@JsonFormat(shape = JsonFormat.Shape.STRING)` annotation it will shown as `&quot;amount&quot;:10000`\r\n\r\n","title":"How to keep zeros after decimal for BigDecimal in Java Spring Boot?","body":"<p>I have some <code>BigDecimal</code> values in database, like 10000.00, 12357.87 etc.</p>\n<p>Now I'm trying to get these values by using GET API REST in spring boot, but here the problem is\nin Swagger or Postman response I see like:</p>\n<pre><code>&quot;amount&quot;:&quot;10000.00&quot;\n</code></pre>\n<p>but I want value without quotes &quot;amount&quot;: 10000.00</p>\n<p>Response class:</p>\n<pre><code>public class ResponseDTO{\n  @JsonFormat(shape = JsonFormat.Shape.STRING)\n  private BigDecimal amount;\n}\n</code></pre>\n<p>If I removed <code>@JsonFormat(shape = JsonFormat.Shape.STRING)</code> annotation it will shown as <code>&quot;amount&quot;:10000</code></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1660288758,"post_id":73330478,"comment_id":129501800,"body_markdown":"What does the `price` field contain? a floating point? an integer? Because if you use some kind of numeric type you could make use of the `Stream.max()` method.","body":"What does the <code>price</code> field contain? a floating point? an integer? Because if you use some kind of numeric type you could make use of the <code>Stream.max()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660289094,"creation_date":1660289094,"answer_id":73330622,"question_id":73330478,"body_markdown":"You can flat map to pairs of (store, price) and select the max:\r\n\r\n    stores.stream()\r\n            .flatMap(store -&gt; store.getSales()\r\n                    .stream()\r\n                    .filter(sales -&gt; sales.getMonth().contains(&quot;Jan&quot;))\r\n                    .map(sales -&gt; Map.entry(store, sales.getPrice())))\r\n            .max(Entry.comparingByValue())\r\n            .map(Entry::getKey)\r\n","title":"Fetch max value in a list of objects which are inside list of objects by month using Java Stream","body":"<p>You can flat map to pairs of (store, price) and select the max:</p>\n<pre><code>stores.stream()\n        .flatMap(store -&gt; store.getSales()\n                .stream()\n                .filter(sales -&gt; sales.getMonth().contains(&quot;Jan&quot;))\n                .map(sales -&gt; Map.entry(store, sales.getPrice())))\n        .max(Entry.comparingByValue())\n        .map(Entry::getKey)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660290288,"creation_date":1660289915,"answer_id":73330741,"question_id":73330478,"body_markdown":"Firstly, I would advise to use appropriate data types:\r\n\r\n* `BigDecimal` for price instead of `String`.\r\n* [`YearMonth`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html) from `java.time` package instead of two `String` fields.\r\n```\r\npublic class Sales {\r\n    private YearMonth yearMonth;\r\n    private BigDecimal price;\r\n    \r\n    // getters\r\n}\r\n```\r\nThe method responsible for finding the `Store` having the highest price for a particular `YearMonth` might be implemented like that:\r\n\r\n    public static Store getMostExpensiveStoreByMonth(List&lt;Store&gt; stores,\r\n                                                     YearMonth yearMonth) {\r\n        \r\n        return stores.stream()\r\n            .collect(Collectors.groupingBy( // intermediate map Map&lt;Store, Optional&lt;BigDecimal&gt;&gt;\r\n                Function.identity(),\r\n                Collectors.flatMapping(store -&gt; store.getSales().stream()\r\n                        .filter(sales -&gt; sales.getYearMonth().equals(yearMonth))\r\n                        .map(Sales::getPrice),\r\n                    Collectors.maxBy(Comparator.naturalOrder()))\r\n            ))\r\n            .entrySet().stream()\r\n            .filter(entry -&gt; entry.getValue().isPresent()) // Optional would be empty if there was no sales during the given month in a particular store\r\n            .max(Comparator.comparing((Map.Entry&lt;Store, Optional&lt;BigDecimal&gt;&gt; entry) -&gt; entry.getValue().get()))\r\n            .map(Map.Entry::getKey)\r\n            .orElseThrow();\r\n    }","title":"Fetch max value in a list of objects which are inside list of objects by month using Java Stream","body":"<p>Firstly, I would advise to use appropriate data types:</p>\n<ul>\n<li><code>BigDecimal</code> for price instead of <code>String</code>.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a> from <code>java.time</code> package instead of two <code>String</code> fields.</li>\n</ul>\n<pre><code>public class Sales {\n    private YearMonth yearMonth;\n    private BigDecimal price;\n    \n    // getters\n}\n</code></pre>\n<p>The method responsible for finding the <code>Store</code> having the highest price for a particular <code>YearMonth</code> might be implemented like that:</p>\n<pre><code>public static Store getMostExpensiveStoreByMonth(List&lt;Store&gt; stores,\n                                                 YearMonth yearMonth) {\n    \n    return stores.stream()\n        .collect(Collectors.groupingBy( // intermediate map Map&lt;Store, Optional&lt;BigDecimal&gt;&gt;\n            Function.identity(),\n            Collectors.flatMapping(store -&gt; store.getSales().stream()\n                    .filter(sales -&gt; sales.getYearMonth().equals(yearMonth))\n                    .map(Sales::getPrice),\n                Collectors.maxBy(Comparator.naturalOrder()))\n        ))\n        .entrySet().stream()\n        .filter(entry -&gt; entry.getValue().isPresent()) // Optional would be empty if there was no sales during the given month in a particular store\n        .max(Comparator.comparing((Map.Entry&lt;Store, Optional&lt;BigDecimal&gt;&gt; entry) -&gt; entry.getValue().get()))\n        .map(Map.Entry::getKey)\n        .orElseThrow();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660295250,"creation_date":1660293341,"answer_id":73331410,"question_id":73330478,"body_markdown":"If your data source is a JSON string, it can be done by a JSON query language such as Josson directly.\r\n\r\nhttps://github.com/octomix/josson  \r\n\r\n    Josson josson = Josson.fromJsonString(\r\n            &quot;[&quot; +\r\n            &quot;   {&quot; +\r\n            &quot;      \\&quot;storeName\\&quot;: \\&quot;abc\\&quot;,&quot; +\r\n            &quot;      \\&quot;contactInfo\\&quot;: \\&quot;xcb\\&quot;,&quot; +\r\n            &quot;      \\&quot;sales\\&quot;: [{&quot; +\r\n            &quot;                  \\&quot;month\\&quot; : \\&quot;Jan\\&quot;,&quot; +\r\n            &quot;                  \\&quot;year\\&quot;: \\&quot;2022\\&quot;,&quot; +\r\n            &quot;                  \\&quot;price\\&quot;: 3000&quot; +\r\n            &quot;                },&quot; +\r\n            &quot;                {&quot; +\r\n            &quot;                  \\&quot;month\\&quot; : \\&quot;Feb\\&quot;,&quot; +\r\n            &quot;                  \\&quot;year\\&quot;: \\&quot;2022\\&quot;,&quot; +\r\n            &quot;                  \\&quot;price\\&quot;: 3300&quot; +\r\n            &quot;                }&quot; +\r\n            &quot;               ]&quot; +\r\n            &quot;   },&quot; +\r\n            &quot;   {&quot; +\r\n            &quot;      \\&quot;storeName\\&quot;: \\&quot;abcde\\&quot;,&quot; +\r\n            &quot;      \\&quot;contactInfo\\&quot;: \\&quot;xcbe\\&quot;,&quot; +\r\n            &quot;      \\&quot;sales\\&quot;: [{&quot; +\r\n            &quot;                  \\&quot;month\\&quot; : \\&quot;Jan\\&quot;,&quot; +\r\n            &quot;                  \\&quot;year\\&quot;: \\&quot;2022\\&quot;,&quot; +\r\n            &quot;                  \\&quot;price\\&quot;: 2000&quot; +\r\n            &quot;                },&quot; +\r\n            &quot;                {&quot; +\r\n            &quot;                  \\&quot;month\\&quot; : \\&quot;Feb\\&quot;,&quot; +\r\n            &quot;                  \\&quot;year\\&quot;: \\&quot;2022\\&quot;,&quot; +\r\n            &quot;                  \\&quot;price\\&quot;: 4000&quot; +\r\n            &quot;                }&quot; +\r\n            &quot;               ]&quot; +\r\n            &quot;   }&quot; +\r\n            &quot;] &quot;);\r\n    JsonNode node = josson.getNode(&quot;findByMax(sales[month=&#39;Jan&#39;].price)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;storeName&quot; : &quot;abc&quot;,\r\n      &quot;contactInfo&quot; : &quot;xcb&quot;,\r\n      &quot;sales&quot; : [ {\r\n        &quot;month&quot; : &quot;Jan&quot;,\r\n        &quot;year&quot; : &quot;2022&quot;,\r\n        &quot;price&quot; : 3000\r\n      }, {\r\n        &quot;month&quot; : &quot;Feb&quot;,\r\n        &quot;year&quot; : &quot;2022&quot;,\r\n        &quot;price&quot; : 3300\r\n      } ]\r\n    }","title":"Fetch max value in a list of objects which are inside list of objects by month using Java Stream","body":"<p>If your data source is a JSON string, it can be done by a JSON query language such as Josson directly.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n        &quot;[&quot; +\n        &quot;   {&quot; +\n        &quot;      \\&quot;storeName\\&quot;: \\&quot;abc\\&quot;,&quot; +\n        &quot;      \\&quot;contactInfo\\&quot;: \\&quot;xcb\\&quot;,&quot; +\n        &quot;      \\&quot;sales\\&quot;: [{&quot; +\n        &quot;                  \\&quot;month\\&quot; : \\&quot;Jan\\&quot;,&quot; +\n        &quot;                  \\&quot;year\\&quot;: \\&quot;2022\\&quot;,&quot; +\n        &quot;                  \\&quot;price\\&quot;: 3000&quot; +\n        &quot;                },&quot; +\n        &quot;                {&quot; +\n        &quot;                  \\&quot;month\\&quot; : \\&quot;Feb\\&quot;,&quot; +\n        &quot;                  \\&quot;year\\&quot;: \\&quot;2022\\&quot;,&quot; +\n        &quot;                  \\&quot;price\\&quot;: 3300&quot; +\n        &quot;                }&quot; +\n        &quot;               ]&quot; +\n        &quot;   },&quot; +\n        &quot;   {&quot; +\n        &quot;      \\&quot;storeName\\&quot;: \\&quot;abcde\\&quot;,&quot; +\n        &quot;      \\&quot;contactInfo\\&quot;: \\&quot;xcbe\\&quot;,&quot; +\n        &quot;      \\&quot;sales\\&quot;: [{&quot; +\n        &quot;                  \\&quot;month\\&quot; : \\&quot;Jan\\&quot;,&quot; +\n        &quot;                  \\&quot;year\\&quot;: \\&quot;2022\\&quot;,&quot; +\n        &quot;                  \\&quot;price\\&quot;: 2000&quot; +\n        &quot;                },&quot; +\n        &quot;                {&quot; +\n        &quot;                  \\&quot;month\\&quot; : \\&quot;Feb\\&quot;,&quot; +\n        &quot;                  \\&quot;year\\&quot;: \\&quot;2022\\&quot;,&quot; +\n        &quot;                  \\&quot;price\\&quot;: 4000&quot; +\n        &quot;                }&quot; +\n        &quot;               ]&quot; +\n        &quot;   }&quot; +\n        &quot;] &quot;);\nJsonNode node = josson.getNode(&quot;findByMax(sales[month='Jan'].price)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;storeName&quot; : &quot;abc&quot;,\n  &quot;contactInfo&quot; : &quot;xcb&quot;,\n  &quot;sales&quot; : [ {\n    &quot;month&quot; : &quot;Jan&quot;,\n    &quot;year&quot; : &quot;2022&quot;,\n    &quot;price&quot; : 3000\n  }, {\n    &quot;month&quot; : &quot;Feb&quot;,\n    &quot;year&quot; : &quot;2022&quot;,\n    &quot;price&quot; : 3300\n  } ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660644286,"creation_date":1660296443,"answer_id":73331998,"question_id":73330478,"body_markdown":"If you find a good comparator, then we don&#39;t need intermediate flatmap operations:\r\n\r\n    return stores.stream().max(Comparator.comparing(\r\n           store -&gt; store.getSales().stream()\r\n                         .findFirst(sales -&gt; sales.getMonth().contains(&quot;Jan&quot;))\r\n                         .map(sales -&gt; sales.getPrice())\r\n                         .orElse(0)\r\n    ));\r\n\r\nThis assumes the sales are already grouped, i.e. the sales price is the total per month.\r\n\r\nIf the sales are individual, you could do this by a nested max call:\r\n\r\n    return stores.stream().max(Comparator.comparing(\r\n           store -&gt; store.getSales().stream()\r\n                         .filter(sales -&gt; sales.getMonth().contains(&quot;Jan&quot;))\r\n                         .max(Comparator.comparing(Sales::getPrice)\r\n                         .orElse(0)\r\n    ));\r\n\r\nHowever, this has the downside that the value is not calculated once per store, but everytime two stores need to be compared, which is O(N * log N) instead of N.\r\n\r\nIIUC if you use the flatmap operation, the values that are being compared are only calculated once.","title":"Fetch max value in a list of objects which are inside list of objects by month using Java Stream","body":"<p>If you find a good comparator, then we don't need intermediate flatmap operations:</p>\n<pre><code>return stores.stream().max(Comparator.comparing(\n       store -&gt; store.getSales().stream()\n                     .findFirst(sales -&gt; sales.getMonth().contains(&quot;Jan&quot;))\n                     .map(sales -&gt; sales.getPrice())\n                     .orElse(0)\n));\n</code></pre>\n<p>This assumes the sales are already grouped, i.e. the sales price is the total per month.</p>\n<p>If the sales are individual, you could do this by a nested max call:</p>\n<pre><code>return stores.stream().max(Comparator.comparing(\n       store -&gt; store.getSales().stream()\n                     .filter(sales -&gt; sales.getMonth().contains(&quot;Jan&quot;))\n                     .max(Comparator.comparing(Sales::getPrice)\n                     .orElse(0)\n));\n</code></pre>\n<p>However, this has the downside that the value is not calculated once per store, but everytime two stores need to be compared, which is O(N * log N) instead of N.</p>\n<p>IIUC if you use the flatmap operation, the values that are being compared are only calculated once.</p>\n"}],"owner":{"account_id":26044327,"reputation":5,"user_id":19748553,"display_name":"Dt68"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73330622,"answer_count":4,"score":0,"last_activity_date":1660644286,"creation_date":1660288283,"question_id":73330478,"body_markdown":"I have list of Store objects and each Store object has a list of Sales objects. I want to fetch the Store object which has the highest sale for any item for a particular month.\r\n\r\n```\r\npublic class Store {\r\n private String storeName;\r\n private String contactInfo;\r\n private List&lt;Sales&gt; sales;\r\n\r\n//getter &amp; setter\r\n}\r\npublic class Sales {\r\n private String month;\r\n private String year;\r\n private BigInteger price;\r\n\r\n//getter &amp; setter\r\n}\r\n```\r\nAs of now I&#39;m able to filter the list of Store objects by month\r\n```\r\nList&lt;Store&gt; stores = list.stream()\r\n             .filter(s -&gt; s.getPrice().stream().anyMatch(t -&gt; t.getMonth().contains(&quot;Jan&quot;)))\r\n             .collect(Collections.toList());\r\n```\r\nBut I want to filter this list further to get a single store object which has the max price for the month of January.\r\n\r\nEDIT :\r\nsample list structure in JSON format\r\n```\r\n[\r\n   {\r\n      &quot;storeName&quot;: &quot;abc&quot;,\r\n      &quot;contactInfo&quot;: &quot;xcb&quot;,\r\n      &quot;sales&quot;: [{\r\n                  &quot;month&quot; : &quot;Jan&quot;,\r\n                  &quot;year&quot;: &quot;2022&quot;,\r\n                  &quot;price&quot;: 3000\r\n                },\r\n                {\r\n                  &quot;month&quot; : &quot;Feb&quot;,\r\n                  &quot;year&quot;: &quot;2022&quot;,\r\n                  &quot;price&quot;: 3300\r\n                }\r\n               ]\r\n   },\r\n   {\r\n      &quot;storeName&quot;: &quot;abcde&quot;,\r\n      &quot;contactInfo&quot;: &quot;xcbe&quot;,\r\n      &quot;sales&quot;: [{\r\n                  &quot;month&quot; : &quot;Jan&quot;,\r\n                  &quot;year&quot;: &quot;2022&quot;,\r\n                  &quot;price&quot;: 2000\r\n                },\r\n                {\r\n                  &quot;month&quot; : &quot;Feb&quot;,\r\n                  &quot;year&quot;: &quot;2022&quot;,\r\n                  &quot;price&quot;: 4000\r\n                }\r\n               ]\r\n   }\r\n] \r\n```\r\n\r\nThank you!\r\n\r\n","title":"Fetch max value in a list of objects which are inside list of objects by month using Java Stream","body":"<p>I have list of Store objects and each Store object has a list of Sales objects. I want to fetch the Store object which has the highest sale for any item for a particular month.</p>\n<pre><code>public class Store {\n private String storeName;\n private String contactInfo;\n private List&lt;Sales&gt; sales;\n\n//getter &amp; setter\n}\npublic class Sales {\n private String month;\n private String year;\n private BigInteger price;\n\n//getter &amp; setter\n}\n</code></pre>\n<p>As of now I'm able to filter the list of Store objects by month</p>\n<pre><code>List&lt;Store&gt; stores = list.stream()\n             .filter(s -&gt; s.getPrice().stream().anyMatch(t -&gt; t.getMonth().contains(&quot;Jan&quot;)))\n             .collect(Collections.toList());\n</code></pre>\n<p>But I want to filter this list further to get a single store object which has the max price for the month of January.</p>\n<p>EDIT :\nsample list structure in JSON format</p>\n<pre><code>[\n   {\n      &quot;storeName&quot;: &quot;abc&quot;,\n      &quot;contactInfo&quot;: &quot;xcb&quot;,\n      &quot;sales&quot;: [{\n                  &quot;month&quot; : &quot;Jan&quot;,\n                  &quot;year&quot;: &quot;2022&quot;,\n                  &quot;price&quot;: 3000\n                },\n                {\n                  &quot;month&quot; : &quot;Feb&quot;,\n                  &quot;year&quot;: &quot;2022&quot;,\n                  &quot;price&quot;: 3300\n                }\n               ]\n   },\n   {\n      &quot;storeName&quot;: &quot;abcde&quot;,\n      &quot;contactInfo&quot;: &quot;xcbe&quot;,\n      &quot;sales&quot;: [{\n                  &quot;month&quot; : &quot;Jan&quot;,\n                  &quot;year&quot;: &quot;2022&quot;,\n                  &quot;price&quot;: 2000\n                },\n                {\n                  &quot;month&quot; : &quot;Feb&quot;,\n                  &quot;year&quot;: &quot;2022&quot;,\n                  &quot;price&quot;: 4000\n                }\n               ]\n   }\n] \n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","reactor"],"answers":[{"tags":[],"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660643727,"creation_date":1660643727,"answer_id":73372092,"question_id":72238370,"body_markdown":"You can use the `onError()` operator to handle error cases, or the `doOnError()` operator if you e.g. want to log the exception.","title":"How to catch exceptions thrown from reactor?","body":"<p>You can use the <code>onError()</code> operator to handle error cases, or the <code>doOnError()</code> operator if you e.g. want to log the exception.</p>\n"}],"owner":{"account_id":25288032,"reputation":1,"user_id":19114620,"display_name":"YZ X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660643727,"creation_date":1652515336,"question_id":72238370,"body_markdown":"I want to catch exceptions thrown from a flux, my code is like this:\r\n```\r\n        try {\r\n            Flux.just(&quot;key1&quot;, &quot;key2&quot;, &quot;key3&quot;)\r\n                    .doOnNext(System.out::println)\r\n                    .map(k -&gt; {\r\n                        if (!k.equals(&quot;key1&quot;)) {\r\n                            throw new RuntimeException(&quot;Not key1&quot;); // 1\r\n                        }\r\n                        return &quot;External Value, key:&quot; + k;\r\n                    })\r\n                    .subscribe(System.out::println); // 2\r\n        } catch (Throwable e) {\r\n            System.out.println(&quot;Got exception&quot;); // 3\r\n        }\r\n```\r\nthe output is:\r\n```\r\nkey1\r\nExternal Value, key:key1\r\nkey2\r\n[ERROR] (main) Operator called default onErrorDropped - reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.RuntimeException: Not key1\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.RuntimeException: Not key1\r\nCaused by: java.lang.RuntimeException: Not key1\r\n\tat com.cxd.study.reactor.HandlingErrors.lambda$catchException$7(HandlingErrors.java:153)\r\n...\r\n```\r\nIt seems that my **catch** at step 3 is never reached.\r\n\r\nI know I can reach the exception at step 2 like this:`.subscribe(System.out::println, e -&gt; System.out.println(&quot;Got Exception&quot;))`.\r\n\r\nBut how can I catch the exception thrown at step 1 out of the flux?","title":"How to catch exceptions thrown from reactor?","body":"<p>I want to catch exceptions thrown from a flux, my code is like this:</p>\n<pre><code>        try {\n            Flux.just(&quot;key1&quot;, &quot;key2&quot;, &quot;key3&quot;)\n                    .doOnNext(System.out::println)\n                    .map(k -&gt; {\n                        if (!k.equals(&quot;key1&quot;)) {\n                            throw new RuntimeException(&quot;Not key1&quot;); // 1\n                        }\n                        return &quot;External Value, key:&quot; + k;\n                    })\n                    .subscribe(System.out::println); // 2\n        } catch (Throwable e) {\n            System.out.println(&quot;Got exception&quot;); // 3\n        }\n</code></pre>\n<p>the output is:</p>\n<pre><code>key1\nExternal Value, key:key1\nkey2\n[ERROR] (main) Operator called default onErrorDropped - reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.RuntimeException: Not key1\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.RuntimeException: Not key1\nCaused by: java.lang.RuntimeException: Not key1\n    at com.cxd.study.reactor.HandlingErrors.lambda$catchException$7(HandlingErrors.java:153)\n...\n</code></pre>\n<p>It seems that my <strong>catch</strong> at step 3 is never reached.</p>\n<p>I know I can reach the exception at step 2 like this:<code>.subscribe(System.out::println, e -&gt; System.out.println(&quot;Got Exception&quot;))</code>.</p>\n<p>But how can I catch the exception thrown at step 1 out of the flux?</p>\n"},{"tags":["java","swing","variables"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1660642932,"post_id":73371602,"comment_id":129574589,"body_markdown":"I cant compile your code. The method `aMethod` is declared as taking a String as parameter, but in the constructor you call it with `aMethod(age);` where `age` is declared as a `JTextField`?! And in `aMethod` you call `System.out.println(age);` - again with `age` being the `JTextField`.","body":"I cant compile your code. The method <code>aMethod</code> is declared as taking a String as parameter, but in the constructor you call it with <code>aMethod(age);</code> where <code>age</code> is declared as a <code>JTextField</code>?! And in <code>aMethod</code> you call <code>System.out.println(age);</code> - again with <code>age</code> being the <code>JTextField</code>."},{"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"score":0,"creation_date":1660644228,"post_id":73371602,"comment_id":129575051,"body_markdown":"Sounds about right. i made few changes and renamed the age to age1 inside the method and it worked. Thank you alot. I thought it would override the textfield value but didnt realize its different object.","body":"Sounds about right. i made few changes and renamed the age to age1 inside the method and it worked. Thank you alot. I thought it would override the textfield value but didnt realize its different object."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1660652789,"post_id":73371602,"comment_id":129578045,"body_markdown":"no random code snippets please (yours wouldn&#39;t even compile) - instead provide a [mcve] demonstrating what&#39;s not working as expected (if an error is thrown, also post the complete stacktrace formatted as code)","body":"no random code snippets please (yours wouldn&#39;t even compile) - instead provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what&#39;s not working as expected (if an error is thrown, also post the complete stacktrace formatted as code)"}],"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660643705,"creation_date":1660641452,"question_id":73371602,"body_markdown":"Following is the basic content of the code where inside the constructor class i have a java swing text field and all im trying to do is get the text from it and save it in a variable as a integer but it keeps printing the styling of the textfield I set then the value. If i say to print agestr in the method, it prints correct bit its a string. I used the string to int translator then it freaks out and prints all these other stuff.\r\n\r\n```\r\nConstructor(){\r\n   private JTextField age = new JTextField(&quot;12&quot;);\r\n   String agestr=age.getText().toString();\r\n   aMethod(agestr);\r\n}\r\nPublic void aMethod(String agestr){\r\n   try{\r\n      int age=Integer.parInt(agestr);\r\n   }catch(NumberFormatException ex){}\r\n   System.out.println(age);\r\n}\r\n```\r\nwhile running, i get:\r\n&gt;javax.swing.JTextField[,268,86,214x20,layout=javax.swing.plaf.basic.BasicTextUI$UpdateHandler,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.BorderUIResource$CompoundBorderUIResource@695bc558,flags=296,maximumSize=,minimumSize=,preferredSize=,caretColor=sun.swing.PrintColorUIResource[r=51,g=51,b=51],disabledTextColor=javax.swing.plaf.ColorUIResource[r=184,g=207,b=229],editable=true,margin=javax.swing.plaf.InsetsUIResource[top=0,left=0,bottom=0,right=0],selectedTextColor=sun.swing.PrintColorUIResource[r=51,g=51,b=51],selectionColor=javax.swing.plaf.ColorUIResource[r=184,g=207,b=229],columns=0,columnWidth=0,command=,horizontalAlignment=LEADING]\r\n\r\nits basically the swing code for a component somewhere.","title":"variable keeps printing properties if the swing content then the value itself","body":"<p>Following is the basic content of the code where inside the constructor class i have a java swing text field and all im trying to do is get the text from it and save it in a variable as a integer but it keeps printing the styling of the textfield I set then the value. If i say to print agestr in the method, it prints correct bit its a string. I used the string to int translator then it freaks out and prints all these other stuff.</p>\n<pre><code>Constructor(){\n   private JTextField age = new JTextField(&quot;12&quot;);\n   String agestr=age.getText().toString();\n   aMethod(agestr);\n}\nPublic void aMethod(String agestr){\n   try{\n      int age=Integer.parInt(agestr);\n   }catch(NumberFormatException ex){}\n   System.out.println(age);\n}\n</code></pre>\n<p>while running, i get:</p>\n<blockquote>\n<p>javax.swing.JTextField[,268,86,214x20,layout=javax.swing.plaf.basic.BasicTextUI$UpdateHandler,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.BorderUIResource$CompoundBorderUIResource@695bc558,flags=296,maximumSize=,minimumSize=,preferredSize=,caretColor=sun.swing.PrintColorUIResource[r=51,g=51,b=51],disabledTextColor=javax.swing.plaf.ColorUIResource[r=184,g=207,b=229],editable=true,margin=javax.swing.plaf.InsetsUIResource[top=0,left=0,bottom=0,right=0],selectedTextColor=sun.swing.PrintColorUIResource[r=51,g=51,b=51],selectionColor=javax.swing.plaf.ColorUIResource[r=184,g=207,b=229],columns=0,columnWidth=0,command=,horizontalAlignment=LEADING]</p>\n</blockquote>\n<p>its basically the swing code for a component somewhere.</p>\n"},{"tags":["java","maven","maven-plugin","maven-assembly-plugin"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1660310693,"post_id":73334584,"comment_id":129509322,"body_markdown":"You disabled the default deploy stuff, but did you try to use that instead? So that you just could do the `mvn deploy`. Instead of &quot;detaching&quot; the deploy plugin from any phase, you should try to attach the assembly plugin to the package phase. It has only one useful goal (`single`) so don&#39;t forget to specify that in the execution.\nIt&#39;s described quite useful on the &quot;Usage&quot; page of the plugin: https://maven.apache.org/plugins/maven-assembly-plugin/usage.html","body":"You disabled the default deploy stuff, but did you try to use that instead? So that you just could do the <code>mvn deploy</code>. Instead of &quot;detaching&quot; the deploy plugin from any phase, you should try to attach the assembly plugin to the package phase. It has only one useful goal (<code>single</code>) so don&#39;t forget to specify that in the execution. It&#39;s described quite useful on the &quot;Usage&quot; page of the plugin: <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-assembly-plugin/usage.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660643452,"creation_date":1660316253,"answer_id":73336084,"question_id":73334584,"body_markdown":"That is much simpler than you might think.\r\nThere are two kinds of artifacts, produced by maven project:\r\n- main: `${artifactId}-${version}.${packaging}` - this one you would like to not publish\r\n- supplemental: everything else produced by plugins (javadoc, sources, assembly, etc)\r\n\r\nIf project/module `packaging` is `pom`, that means following:\r\n- project/module may not have main artifact, only supplemental ones\r\n- some plugins are not enabled by default (https://maven.apache.org/ref/3.8.6/maven-core/default-bindings.html - compare default bindings for `pom` and `jar` packaging)\r\n\r\nThus, all what you need is:\r\n- switch module `packaging` from `jar` to `pom`\r\n- enable missing plugins: `maven-compiler-plugin`, `maven-resources-plugin`, `maven-jar-plugin`, etc\r\n- extra configuration of `maven-deploy-plugin` is not required","title":"Maven deploy:deploy-file publishes all files instead of one","body":"<p>That is much simpler than you might think.\nThere are two kinds of artifacts, produced by maven project:</p>\n<ul>\n<li>main: <code>${artifactId}-${version}.${packaging}</code> - this one you would like to not publish</li>\n<li>supplemental: everything else produced by plugins (javadoc, sources, assembly, etc)</li>\n</ul>\n<p>If project/module <code>packaging</code> is <code>pom</code>, that means following:</p>\n<ul>\n<li>project/module may not have main artifact, only supplemental ones</li>\n<li>some plugins are not enabled by default (<a href=\"https://maven.apache.org/ref/3.8.6/maven-core/default-bindings.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/ref/3.8.6/maven-core/default-bindings.html</a> - compare default bindings for <code>pom</code> and <code>jar</code> packaging)</li>\n</ul>\n<p>Thus, all what you need is:</p>\n<ul>\n<li>switch module <code>packaging</code> from <code>jar</code> to <code>pom</code></li>\n<li>enable missing plugins: <code>maven-compiler-plugin</code>, <code>maven-resources-plugin</code>, <code>maven-jar-plugin</code>, etc</li>\n<li>extra configuration of <code>maven-deploy-plugin</code> is not required</li>\n</ul>\n"}],"owner":{"account_id":19712172,"reputation":77,"user_id":14432451,"display_name":"AlexW00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1180,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73336084,"answer_count":1,"score":2,"last_activity_date":1660643452,"creation_date":1660309201,"question_id":73334584,"body_markdown":"I am building my Java application using Maven and the [Maven Assembly Plugin](https://maven.apache.org/plugins/maven-assembly-plugin/) to create an executable jar.\r\n\r\nAs a result, the target folder contains multiple jars and other files. However, I only want to deploy the executable jar file built via the Assembly Plugin.\r\n\r\nTo do this, I have tried to use `mvn deploy:deploy-file` and provided it with the following properties:\r\n- file\r\n- repositoryId\r\n- url\r\n- artifactId\r\n- groupId\r\n- version\r\n\r\nHowever, when I execute the command, Maven deploys *all* files instead of only the executable jar.\r\n\r\nI also tried disabling the default build step:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;!-- disable standard deploy --&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;default-deploy&lt;/id&gt;\r\n            &lt;phase&gt;none&lt;/phase&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\nThe build part of my pom.xml looks like this:\r\n\r\n```xml\r\n  &lt;build&gt;\r\n    &lt;!--suppress UnresolvedMavenProperty --&gt;\r\n    &lt;finalName&gt;${project.artifactId}-${BUILD_DATE}&lt;/finalName&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;src&lt;/directory&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;main.PAtrackMain&lt;/mainClass&gt;\r\n              &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n              &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;manifestEntries&gt;\r\n              &lt;!--suppress UnresolvedMavenProperty --&gt;\r\n              &lt;Implementation-Build&gt;${BUILD_DATE}&lt;/Implementation-Build&gt;\r\n            &lt;/manifestEntries&gt;\r\n          &lt;/archive&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n          &lt;appendAssemblyId&gt;true&lt;/appendAssemblyId&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;!-- disable standard deploy --&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-deploy&lt;/id&gt;\r\n            &lt;phase&gt;none&lt;/phase&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\nHow can I deploy **only** the executable jar without the other files?","title":"Maven deploy:deploy-file publishes all files instead of one","body":"<p>I am building my Java application using Maven and the <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">Maven Assembly Plugin</a> to create an executable jar.</p>\n<p>As a result, the target folder contains multiple jars and other files. However, I only want to deploy the executable jar file built via the Assembly Plugin.</p>\n<p>To do this, I have tried to use <code>mvn deploy:deploy-file</code> and provided it with the following properties:</p>\n<ul>\n<li>file</li>\n<li>repositoryId</li>\n<li>url</li>\n<li>artifactId</li>\n<li>groupId</li>\n<li>version</li>\n</ul>\n<p>However, when I execute the command, Maven deploys <em>all</em> files instead of only the executable jar.</p>\n<p>I also tried disabling the default build step:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;!-- disable standard deploy --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-deploy&lt;/id&gt;\n            &lt;phase&gt;none&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The build part of my pom.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;build&gt;\n    &lt;!--suppress UnresolvedMavenProperty --&gt;\n    &lt;finalName&gt;${project.artifactId}-${BUILD_DATE}&lt;/finalName&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;main.PAtrackMain&lt;/mainClass&gt;\n              &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n              &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n              &lt;!--suppress UnresolvedMavenProperty --&gt;\n              &lt;Implementation-Build&gt;${BUILD_DATE}&lt;/Implementation-Build&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n          &lt;appendAssemblyId&gt;true&lt;/appendAssemblyId&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;!-- disable standard deploy --&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-deploy&lt;/id&gt;\n            &lt;phase&gt;none&lt;/phase&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>How can I deploy <strong>only</strong> the executable jar without the other files?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2252907,"reputation":2755,"user_id":1984767,"accept_rate":50,"display_name":"Leviand"},"score":2,"creation_date":1539675210,"post_id":52830106,"comment_id":92576693,"body_markdown":"I don&#39;t think this `obj instanceof List&lt;String&gt;` or this `obj instanceof Map&lt;String, String&gt;` will compile","body":"I don&#39;t think this <code>obj instanceof List&lt;String&gt;</code> or this <code>obj instanceof Map&lt;String, String&gt;</code> will compile"},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":3,"creation_date":1539675238,"post_id":52830106,"comment_id":92576708,"body_markdown":"Of course I don&#39;t know how you want to use your method and what would be inside the method, but isn&#39;t it easier to just create multiple `put` methods each with a different parameter type? So an `public void put(Integer integer)` that does something with the integer, and a `public void put(String str)` that does something with the String, etc. Again, it really depends on what you want to use the method for.","body":"Of course I don&#39;t know how you want to use your method and what would be inside the method, but isn&#39;t it easier to just create multiple <code>put</code> methods each with a different parameter type? So an <code>public void put(Integer integer)</code> that does something with the integer, and a <code>public void put(String str)</code> that does something with the String, etc. Again, it really depends on what you want to use the method for."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1539675295,"post_id":52830106,"comment_id":92576737,"body_markdown":"@JoachimSauer or even better use generics","body":"@JoachimSauer or even better use generics"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1539675374,"post_id":52830106,"comment_id":92576783,"body_markdown":"@FedericoklezCulloca: I&#39;ve deleted my comment because Kevin basically said the same thing and explained in more detail. I fail to see how generics would help here, since presumably he won&#39;t be treating them all the same.","body":"@FedericoklezCulloca: I&#39;ve deleted my comment because Kevin basically said the same thing and explained in more detail. I fail to see how generics would help here, since presumably he won&#39;t be treating them all the same."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":5,"creation_date":1539675388,"post_id":52830106,"comment_id":92576791,"body_markdown":"This seems like a bit of an x y problem. If you describe the fuller problem you&#39;re trying to solve, there&#39;s almost certainly a better solution than this approach.","body":"This seems like a bit of an x y problem. If you describe the fuller problem you&#39;re trying to solve, there&#39;s almost certainly a better solution than this approach."},{"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"score":0,"creation_date":1539675391,"post_id":52830106,"comment_id":92576792,"body_markdown":"Note that solution suggested by @KevinCruijssen will *not* work in your case, because methods are overloaded statically and the actual method called will *not* depend on the runtime type of your object.","body":"Note that solution suggested by @KevinCruijssen will <i>not</i> work in your case, because methods are overloaded statically and the actual method called will <i>not</i> depend on the runtime type of your object."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1539675493,"post_id":52830106,"comment_id":92576855,"body_markdown":"@JoachimSauer since the method is called `put` I thought OP&#39;s trying to implement some sort of collection (a queue or a map)","body":"@JoachimSauer since the method is called <code>put</code> I thought OP&#39;s trying to implement some sort of collection (a queue or a map)"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1539675725,"post_id":52830106,"comment_id":92576986,"body_markdown":"@FedericoklezCulloca Always be careful about *guessing* the underlying intention of the OP. Far too often, even they dont know. They have an idea how to vaguely get from A to B, but as said: be careful about guessing.","body":"@FedericoklezCulloca Always be careful about <i>guessing</i> the underlying intention of the OP. Far too often, even they dont know. They have an idea how to vaguely get from A to B, but as said: be careful about guessing."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1539676481,"post_id":52830106,"comment_id":92577440,"body_markdown":"Is there a good reason not to provide 5 overloads, and push the burden onto the client to tell you the type?","body":"Is there a good reason not to provide 5 overloads, and push the burden onto the client to tell you the type?"},{"owner":{"account_id":9068292,"reputation":397,"user_id":7041558,"accept_rate":100,"display_name":"Bradley Gray"},"score":0,"creation_date":1539732631,"post_id":52830106,"comment_id":92606629,"body_markdown":"@GhostCat Sorry I posted this before I went to sleep last night. I&#39;ll try to just provide 5 overloads for the put method. Someone guessed before, but the put method isn&#39;t for a collection at all.","body":"@GhostCat Sorry I posted this before I went to sleep last night. I&#39;ll try to just provide 5 overloads for the put method. Someone guessed before, but the put method isn&#39;t for a collection at all."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1539739938,"post_id":52830106,"comment_id":92608229,"body_markdown":"No need to apologize! I appreciate the quick comeback!","body":"No need to apologize! I appreciate the quick comeback!"}],"answers":[{"tags":[],"owner":{"account_id":12203943,"reputation":493,"user_id":8907549,"display_name":"melanzane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539675333,"creation_date":1539675155,"answer_id":52830146,"question_id":52830106,"body_markdown":"Use [`Object.getClass()`][1]. It returns the runtime type of the object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#getClass%28%29","title":"Switch type of Object in Java","body":"<p>Use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#getClass%28%29\" rel=\"nofollow noreferrer\"><code>Object.getClass()</code></a>. It returns the runtime type of the object.</p>\n"},{"tags":[],"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1539675533,"creation_date":1539675306,"answer_id":52830189,"question_id":52830106,"body_markdown":"No, there&#39;s none built in. Switches can only switch on integers and strings, the only other structure is `if`.\r\n\r\nYou can try a map keyed with Class objects, because for each object you can perform a `getClass()` operation and get a &quot;token&quot; representing its class.\r\n\r\nMore bad news: you can never find out the generic part in runtime (so you can never tell `List&lt;String&gt;` from `List&lt;Integer&gt;`), that information is just not available.\r\n\r\n","title":"Switch type of Object in Java","body":"<p>No, there's none built in. Switches can only switch on integers and strings, the only other structure is <code>if</code>.</p>\n\n<p>You can try a map keyed with Class objects, because for each object you can perform a <code>getClass()</code> operation and get a \"token\" representing its class.</p>\n\n<p>More bad news: you can never find out the generic part in runtime (so you can never tell <code>List&lt;String&gt;</code> from <code>List&lt;Integer&gt;</code>), that information is just not available.</p>\n"},{"tags":[],"owner":{"account_id":5870718,"reputation":3152,"user_id":4623129,"display_name":"Khalid Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539675754,"creation_date":1539675741,"answer_id":52830306,"question_id":52830106,"body_markdown":"You can check in this way:\r\n\r\n    public void put(Object obj) {\r\n        if (obj instanceof Integer) {\r\n    \r\n        } else if (obj instanceof String) {\r\n    \r\n        } else if (obj instanceof Boolean) {\r\n    \r\n        } else if (obj instanceof List) {\r\n          List list = (List) obj;\r\n          if(!list.isEmpty()){\r\n            if(list.get(0) instanceof  String){\r\n              List&lt;String&gt; listString=(List&lt;String&gt;)obj;\r\n              //Do what  you want to do\r\n            }\r\n          }\r\n    \r\n        } else if (obj instanceof Map) {\r\n          Map map = (Map) obj;\r\n          if(!map.isEmpty()){\r\n            Map.Entry entry = (Entry) map.entrySet().iterator().next();\r\n            if(entry.getKey() instanceof String &amp;&amp; entry.getValue() instanceof String){\r\n              Map&lt;String,String&gt; mapStrind= (Map&lt;String,String&gt;)obj;\r\n              //Do what  you want to do\r\n            }\r\n          }\r\n    \r\n        }\r\n      }","title":"Switch type of Object in Java","body":"<p>You can check in this way:</p>\n\n<pre><code>public void put(Object obj) {\n    if (obj instanceof Integer) {\n\n    } else if (obj instanceof String) {\n\n    } else if (obj instanceof Boolean) {\n\n    } else if (obj instanceof List) {\n      List list = (List) obj;\n      if(!list.isEmpty()){\n        if(list.get(0) instanceof  String){\n          List&lt;String&gt; listString=(List&lt;String&gt;)obj;\n          //Do what  you want to do\n        }\n      }\n\n    } else if (obj instanceof Map) {\n      Map map = (Map) obj;\n      if(!map.isEmpty()){\n        Map.Entry entry = (Entry) map.entrySet().iterator().next();\n        if(entry.getKey() instanceof String &amp;&amp; entry.getValue() instanceof String){\n          Map&lt;String,String&gt; mapStrind= (Map&lt;String,String&gt;)obj;\n          //Do what  you want to do\n        }\n      }\n\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1539676756,"creation_date":1539676031,"answer_id":52830394,"question_id":52830106,"body_markdown":"The simply answer is: there is **no** switching on &quot;type&quot; in Java. In contrast to languages such as Scala, Java doesn&#39;t have an almost magic &quot;pattern matching&quot; feature. \r\n\r\nWhen you really need to do that: figure the specific type of an Object instance, to then do different things based on the true nature of the object, such an if/else cascade is one of few choices.\r\n\r\nOne alternative is to use a map, like `Map&lt;Class&lt;?&gt;, Consumer&lt;?&gt;)` or something alike. In other words: you (upfront) create a map that knows a **method** to call for different classes, and then do `obj.getClass()` to see if your map knows about that class. But that mechanism isn&#39;t very robust, as it only uses `equals()` for the class instances. \r\n\r\nBeyond that: there are only very few selected use cases where such kind of &quot;type switching&quot; makes sense. Typically, you approach this problem ... by stepping back, looking at the *real* underlying problem and designing a completely different solution. ","title":"Switch type of Object in Java","body":"<p>The simply answer is: there is <strong>no</strong> switching on \"type\" in Java. In contrast to languages such as Scala, Java doesn't have an almost magic \"pattern matching\" feature. </p>\n\n<p>When you really need to do that: figure the specific type of an Object instance, to then do different things based on the true nature of the object, such an if/else cascade is one of few choices.</p>\n\n<p>One alternative is to use a map, like <code>Map&lt;Class&lt;?&gt;, Consumer&lt;?&gt;)</code> or something alike. In other words: you (upfront) create a map that knows a <strong>method</strong> to call for different classes, and then do <code>obj.getClass()</code> to see if your map knows about that class. But that mechanism isn't very robust, as it only uses <code>equals()</code> for the class instances. </p>\n\n<p>Beyond that: there are only very few selected use cases where such kind of \"type switching\" makes sense. Typically, you approach this problem ... by stepping back, looking at the <em>real</em> underlying problem and designing a completely different solution. </p>\n"},{"tags":[],"owner":{"account_id":26075668,"reputation":21,"user_id":19774655,"display_name":"Michal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660642853,"creation_date":1660642853,"answer_id":73371926,"question_id":52830106,"body_markdown":"It is possible as of [Java 16 pattern matching for switch](https://blogs.oracle.com/javamagazine/post/java-pattern-matching-switch-preview)\r\n```java\r\nstatic String formatterPatternSwitch(Object o) {\r\n    return switch (o) {\r\n        case Integer i -&gt; String.format(&quot;int %d&quot;, i);\r\n        case Long l    -&gt; String.format(&quot;long %d&quot;, l);\r\n        case Double d  -&gt; String.format(&quot;double %f&quot;, d);\r\n        case String s  -&gt; String.format(&quot;String %s&quot;, s);\r\n        default        -&gt; o.toString();\r\n    };\r\n}\r\n```\r\n    ","title":"Switch type of Object in Java","body":"<p>It is possible as of <a href=\"https://blogs.oracle.com/javamagazine/post/java-pattern-matching-switch-preview\" rel=\"nofollow noreferrer\">Java 16 pattern matching for switch</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>static String formatterPatternSwitch(Object o) {\n    return switch (o) {\n        case Integer i -&gt; String.format(&quot;int %d&quot;, i);\n        case Long l    -&gt; String.format(&quot;long %d&quot;, l);\n        case Double d  -&gt; String.format(&quot;double %f&quot;, d);\n        case String s  -&gt; String.format(&quot;String %s&quot;, s);\n        default        -&gt; o.toString();\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":9068292,"reputation":397,"user_id":7041558,"accept_rate":100,"display_name":"Bradley Gray"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4962,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52830394,"answer_count":5,"score":4,"last_activity_date":1660642853,"creation_date":1539674981,"question_id":52830106,"body_markdown":"So I&#39;d like to know an easy way of switching over valid types in Java, such as below:\r\n\r\n(I know this doesn&#39;t compile, but I want this functionality)\r\n\r\n\r\n    public void put(Object obj) {\r\n        if (obj instanceof Integer) {\r\n\r\n        } else if (obj instanceof String) {\r\n\r\n        } else if (obj instanceof Boolean) {\r\n\r\n        } else if (obj instanceof List&lt;String&gt;) {\r\n\r\n        } else if (obj instanceof Map&lt;String, String&gt;) {\r\n\r\n        }\r\n    }","title":"Switch type of Object in Java","body":"<p>So I'd like to know an easy way of switching over valid types in Java, such as below:</p>\n\n<p>(I know this doesn't compile, but I want this functionality)</p>\n\n<pre><code>public void put(Object obj) {\n    if (obj instanceof Integer) {\n\n    } else if (obj instanceof String) {\n\n    } else if (obj instanceof Boolean) {\n\n    } else if (obj instanceof List&lt;String&gt;) {\n\n    } else if (obj instanceof Map&lt;String, String&gt;) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","listview"],"comments":[{"owner":{"account_id":4181181,"reputation":1746,"user_id":3426166,"display_name":"Gumbo"},"score":0,"creation_date":1407012260,"post_id":25099187,"comment_id":39056892,"body_markdown":"It cannot be that the integer just changes the value from one line to another. Are you really sure the songs are displayed in the right order?","body":"It cannot be that the integer just changes the value from one line to another. Are you really sure the songs are displayed in the right order?"},{"owner":{"account_id":2815248,"reputation":2172,"user_id":2420513,"accept_rate":45,"display_name":"Davlog"},"score":0,"creation_date":1407012383,"post_id":25099187,"comment_id":39056917,"body_markdown":"@Gumbo Yeah. I just scroll down and see what positions are shown in the LogCat. The listview shows me the correct songs but I only see 0-7 and again 0-7 in the LogCat output. That&#39;s why I am so confused!","body":"@Gumbo Yeah. I just scroll down and see what positions are shown in the LogCat. The listview shows me the correct songs but I only see 0-7 and again 0-7 in the LogCat output. That&#39;s why I am so confused!"},{"owner":{"account_id":2815248,"reputation":2172,"user_id":2420513,"accept_rate":45,"display_name":"Davlog"},"score":0,"creation_date":1407012530,"post_id":25099187,"comment_id":39056949,"body_markdown":"@Gumbo I just restarted my application and now WHILE I am scrolling it shows me the correct position but when I stop it shows me 0-7. Maybe I scrolled too slow before. But still, it is very strange and won&#39;t let me do what I need to do.","body":"@Gumbo I just restarted my application and now WHILE I am scrolling it shows me the correct position but when I stop it shows me 0-7. Maybe I scrolled too slow before. But still, it is very strange and won&#39;t let me do what I need to do."},{"owner":{"account_id":4181181,"reputation":1746,"user_id":3426166,"display_name":"Gumbo"},"score":0,"creation_date":1407013053,"post_id":25099187,"comment_id":39057070,"body_markdown":"Maybe ther&#39;s something wrong with the other methods of the Adapter. For example if `getCount()` returns 7, the list will only call position 0-7. Can you maybe post the rest of your adapter class?","body":"Maybe ther&#39;s something wrong with the other methods of the Adapter. For example if <code>getCount()</code> returns 7, the list will only call position 0-7. Can you maybe post the rest of your adapter class?"},{"owner":{"account_id":2815248,"reputation":2172,"user_id":2420513,"accept_rate":45,"display_name":"Davlog"},"score":0,"creation_date":1407013097,"post_id":25099187,"comment_id":39057085,"body_markdown":"@Gumbo well I posted the whole code now.","body":"@Gumbo well I posted the whole code now."}],"answers":[{"tags":[],"owner":{"account_id":1236102,"reputation":11483,"user_id":1199662,"accept_rate":69,"display_name":"Droidman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407012582,"creation_date":1407012582,"answer_id":25099284,"question_id":25099187,"body_markdown":"&gt; I ALWAYS get the correct song\r\n\r\nof course since the code is correct\r\n\r\n&gt; But the position(LogCat) is always from 0 up to 7...\r\n\r\nThis is due to how the ListView recycles its rows. 7 items are visible on the screen of your test device. See [this post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11945563/how-listviews-recycling-mechanism-works","title":"ArrayAdapter position is wrong","body":"<blockquote>\n  <p>I ALWAYS get the correct song</p>\n</blockquote>\n\n<p>of course since the code is correct</p>\n\n<blockquote>\n  <p>But the position(LogCat) is always from 0 up to 7...</p>\n</blockquote>\n\n<p>This is due to how the ListView recycles its rows. 7 items are visible on the screen of your test device. See <a href=\"https://stackoverflow.com/questions/11945563/how-listviews-recycling-mechanism-works\">this post</a></p>\n"},{"tags":[],"owner":{"account_id":4181181,"reputation":1746,"user_id":3426166,"display_name":"Gumbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407013706,"creation_date":1407013706,"answer_id":25099425,"question_id":25099187,"body_markdown":"You should override `getCount`:\r\n\r\n    @Override\r\n    public int getCount(){\r\n        return songs.size();\r\n    }\r\nBecause it is essential for correct displaying the list, but returns 0 b default.","title":"ArrayAdapter position is wrong","body":"<p>You should override <code>getCount</code>:</p>\n\n<pre><code>@Override\npublic int getCount(){\n    return songs.size();\n}\n</code></pre>\n\n<p>Because it is essential for correct displaying the list, but returns 0 b default.</p>\n"},{"tags":[],"owner":{"account_id":3930856,"reputation":43670,"user_id":3249477,"accept_rate":86,"display_name":"Simas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1407014315,"creation_date":1407014315,"answer_id":25099505,"question_id":25099187,"body_markdown":"It seems that you set the button click listener to print the position of the recyclable views thus you get 0-7. \n\nInstead set the listener outside the `if (convertview == null)` check.","title":"ArrayAdapter position is wrong","body":"<p>It seems that you set the button click listener to print the position of the recyclable views thus you get 0-7. </p>\n\n<p>Instead set the listener outside the <code>if (convertview == null)</code> check.</p>\n"},{"tags":[],"owner":{"account_id":14468811,"reputation":168,"user_id":10451429,"display_name":"Erkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660642556,"creation_date":1660642556,"answer_id":73371852,"question_id":25099187,"body_markdown":"When your view has wrong position ids or displays wrong items in your autocomplete dropdown view, then instantiate your view like this (Kotlin):\r\n\r\n` val view: View = convertView ?: LayoutInflater.from(context).inflate(resourceId, parent, false)`\r\n\r\n","title":"ArrayAdapter position is wrong","body":"<p>When your view has wrong position ids or displays wrong items in your autocomplete dropdown view, then instantiate your view like this (Kotlin):</p>\n<p><code> val view: View = convertView ?: LayoutInflater.from(context).inflate(resourceId, parent, false)</code></p>\n"}],"owner":{"account_id":2815248,"reputation":2172,"user_id":2420513,"accept_rate":45,"display_name":"Davlog"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25099505,"answer_count":4,"score":2,"last_activity_date":1660642556,"creation_date":1407011820,"question_id":25099187,"body_markdown":"public class SongListAdapter_AddMode extends ArrayAdapter&lt;Song&gt;{\r\n\r\n\tContext context;\r\n\tArrayList&lt;Song&gt; songs;\r\n\t\r\n\tpublic SongListAdapter_AddMode(Context context, ArrayList&lt;Song&gt; songs) {\r\n\t\tsuper(context, R.layout.list_item1_addmode, songs );\r\n\t\tthis.songs = songs;\r\n\t\tthis.context = context;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic View getView(int position, View convertView, ViewGroup parent){\r\n\t\t\r\n\t\tViewHolder holder;\r\n\t\tfinal int pos = position;\r\n\t\tLog.d(&quot;TAG&quot;, &quot;position :&quot; + position);\r\n\t\tSong currentSong = songs.get(position);\r\n\t\tLog.d(&quot;TAG&quot;, &quot;position : &quot; + position );\r\n\t\t\r\n\t\tif( convertView == null ){\r\n\t\t\tholder = new ViewHolder();\r\n\t\t\t\r\n\t\t\tconvertView = LayoutInflater.from(context).inflate( R.layout.list_item1_addmode, parent, false );\r\n\t\t\t\r\n\t\t\tholder.titleLabel = (TextView) convertView.findViewById( R.id.topLabel );\r\n\t\t\tholder.artistLabel = (TextView) convertView.findViewById( R.id.bottomLabel );\r\n\t\t\tholder.cover = (ImageView) convertView.findViewById( R.id.list_image );\r\n\t\t\tholder.button = (ImageView) convertView.findViewById(R.id.addButton);\r\n\t\t\tholder.button.setOnClickListener( new OnClickListener() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t\tLog.d(&quot;TAG&quot;, &quot;pos&quot; + pos );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconvertView.setTag(holder);\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\tholder = (ViewHolder) convertView.getTag();\r\n\t\t}\r\n\t\t\r\n\t\tUri coverPath = ContentUris.withAppendedId(Uri.parse(&quot;content://media/external/audio/albumart&quot;), currentSong.getID() );\r\n\t\t\r\n\t\tPicasso.with(context).load( coverPath ).error( R.drawable.untitled ).into( holder.cover );\r\n\t\tholder.titleLabel.setText( currentSong.getName() );\r\n\t\tholder.artistLabel.setText( currentSong.getArtistName() );\r\n\t\t\r\n\t\treturn convertView;\r\n\t}\r\n\t\r\n\tprivate class ViewHolder {\r\n\t\tTextView titleLabel;\r\n\t\tTextView artistLabel;\r\n\t\tImageView cover;\r\n\t\tImageView button;\r\n\t}\r\n}\r\n\r\nWell this is a small example of what an ArrayAdapter might look like. As you can see in the `getView()` method, I get the `currentSong` from a list which is actually very huge. It contains 1600~ Songs. When I print the position to the LogCat, it says 0 up to 7. How am I getting the correct position in the song list but when I print it, it is totally different?\r\n\r\nI ALWAYS get the correct song. Even in the 900~ and above. But the position(LogCat) is always from 0 up to 7...\r\n\r\n**I need to get the current row.** I want to add an `onClickListener()` to a button from the current `View` in this method and when I click it, I want to do something which I cannot do with an `onItemClickListener()` on the `ListView`.","title":"ArrayAdapter position is wrong","body":"<p>public class SongListAdapter_AddMode extends ArrayAdapter{</p>\n\n<pre><code>Context context;\nArrayList&lt;Song&gt; songs;\n\npublic SongListAdapter_AddMode(Context context, ArrayList&lt;Song&gt; songs) {\n    super(context, R.layout.list_item1_addmode, songs );\n    this.songs = songs;\n    this.context = context;\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent){\n\n    ViewHolder holder;\n    final int pos = position;\n    Log.d(\"TAG\", \"position :\" + position);\n    Song currentSong = songs.get(position);\n    Log.d(\"TAG\", \"position : \" + position );\n\n    if( convertView == null ){\n        holder = new ViewHolder();\n\n        convertView = LayoutInflater.from(context).inflate( R.layout.list_item1_addmode, parent, false );\n\n        holder.titleLabel = (TextView) convertView.findViewById( R.id.topLabel );\n        holder.artistLabel = (TextView) convertView.findViewById( R.id.bottomLabel );\n        holder.cover = (ImageView) convertView.findViewById( R.id.list_image );\n        holder.button = (ImageView) convertView.findViewById(R.id.addButton);\n        holder.button.setOnClickListener( new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                Log.d(\"TAG\", \"pos\" + pos );\n            }\n        });\n        convertView.setTag(holder);\n\n    }else{\n        holder = (ViewHolder) convertView.getTag();\n    }\n\n    Uri coverPath = ContentUris.withAppendedId(Uri.parse(\"content://media/external/audio/albumart\"), currentSong.getID() );\n\n    Picasso.with(context).load( coverPath ).error( R.drawable.untitled ).into( holder.cover );\n    holder.titleLabel.setText( currentSong.getName() );\n    holder.artistLabel.setText( currentSong.getArtistName() );\n\n    return convertView;\n}\n\nprivate class ViewHolder {\n    TextView titleLabel;\n    TextView artistLabel;\n    ImageView cover;\n    ImageView button;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Well this is a small example of what an ArrayAdapter might look like. As you can see in the <code>getView()</code> method, I get the <code>currentSong</code> from a list which is actually very huge. It contains 1600~ Songs. When I print the position to the LogCat, it says 0 up to 7. How am I getting the correct position in the song list but when I print it, it is totally different?</p>\n\n<p>I ALWAYS get the correct song. Even in the 900~ and above. But the position(LogCat) is always from 0 up to 7...</p>\n\n<p><strong>I need to get the current row.</strong> I want to add an <code>onClickListener()</code> to a button from the current <code>View</code> in this method and when I click it, I want to do something which I cannot do with an <code>onItemClickListener()</code> on the <code>ListView</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-repositories"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1660641626,"post_id":73371443,"comment_id":129574134,"body_markdown":"How are the entities defined? Is `Animal` an `@MappedSuperclass` or an `@Entity` itself? If the latter is the case, then the discriminator column and values should allow you to define a `ReactiveCrudRepository&lt;Animal, String&gt;`","body":"How are the entities defined? Is <code>Animal</code> an <code>@MappedSuperclass</code> or an <code>@Entity</code> itself? If the latter is the case, then the discriminator column and values should allow you to define a <code>ReactiveCrudRepository&lt;Animal, String&gt;</code>"},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1660641751,"post_id":73371443,"comment_id":129574180,"body_markdown":"I&#39;m using mongodb. So it is @Document.","body":"I&#39;m using mongodb. So it is @Document."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1660642761,"post_id":73371443,"comment_id":129574513,"body_markdown":"But the object hierarchy is not known to mongodb, right? A quick searched resulted in https://mongodb.github.io/mongo-csharp-driver/2.6/reference/bson/mapping/polymorphism/, did you try that?","body":"But the object hierarchy is not known to mongodb, right? A quick searched resulted in <a href=\"https://mongodb.github.io/mongo-csharp-driver/2.6/reference/bson/mapping/polymorphism/\" rel=\"nofollow noreferrer\">mongodb.github.io/mongo-csharp-driver/2.6/reference/bson/&hellip;</a>, did you try that?"},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":1,"creation_date":1660643769,"post_id":73371443,"comment_id":129574882,"body_markdown":"@RobSpoor Oh wait, your solution is actually working. Instead of using generic type, I use ReactiveCrudRepository&lt;Animal, String&gt; and it be able to find all Dog and Cat in the database. It returns abstract instance of animal which I have to cast it to concrete type (Dog, Cat), but it&#39;s fine I think?","body":"@RobSpoor Oh wait, your solution is actually working. Instead of using generic type, I use ReactiveCrudRepository&lt;Animal, String&gt; and it be able to find all Dog and Cat in the database. It returns abstract instance of animal which I have to cast it to concrete type (Dog, Cat), but it&#39;s fine I think?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1660662760,"post_id":73371443,"comment_id":129582380,"body_markdown":"you&#39;ll have no other choice if you have a `List&lt;Animal&gt;`. It doesn&#39;t matter where that comes from.","body":"you&#39;ll have no other choice if you have a <code>List&lt;Animal&gt;</code>. It doesn&#39;t matter where that comes from."}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660642362,"creation_date":1660640671,"question_id":73371443,"body_markdown":"I want to be able to create repository based on interface type. I did a little research and I got it work with this code:\r\n\r\n    interface Animal { }\r\n    @Document\r\n    class Dog extends Animal { }\r\n    @Document\r\n    class Cat extends Animal { }\r\n    \r\n    interface AnimalRepository&lt;A extends Animal&gt; extends ReactiveCrudRepository&lt;A, String&gt;\r\n    \r\n    interface DogRepository extends AnimalRepository&lt;Dog&gt;\r\n    \r\n    interface CatRepository extends AnimalRepository&lt;Cat&gt;\r\n\r\nNo errors were thrown, everything work just fine, but I want to be able to do this.\r\n\r\n    class Test {\r\n    \r\n      @Autowired\r\n      private AnimalRepository&lt;Animal&gt; animalRepository;\r\n\r\n      public static void main() {\r\n        // I want it to return both dog and cat from repository\r\n        List&lt;Animal&gt; animals = animalRepository.findAll();\r\n      }\r\n    }\r\n\r\nI want **AnimalRepository** to return all of animals in the database (dog, cat, etc..) when using **findAll** method. Is it possible to do so? I did try using the above code. it returns an empty list, but if I change generic type to **Dog or Cat** it will return a list of dog/cat respectively.\r\n","title":"Spring, How to use repository polymorphism to return all data","body":"<p>I want to be able to create repository based on interface type. I did a little research and I got it work with this code:</p>\n<pre><code>interface Animal { }\n@Document\nclass Dog extends Animal { }\n@Document\nclass Cat extends Animal { }\n\ninterface AnimalRepository&lt;A extends Animal&gt; extends ReactiveCrudRepository&lt;A, String&gt;\n\ninterface DogRepository extends AnimalRepository&lt;Dog&gt;\n\ninterface CatRepository extends AnimalRepository&lt;Cat&gt;\n</code></pre>\n<p>No errors were thrown, everything work just fine, but I want to be able to do this.</p>\n<pre><code>class Test {\n\n  @Autowired\n  private AnimalRepository&lt;Animal&gt; animalRepository;\n\n  public static void main() {\n    // I want it to return both dog and cat from repository\n    List&lt;Animal&gt; animals = animalRepository.findAll();\n  }\n}\n</code></pre>\n<p>I want <strong>AnimalRepository</strong> to return all of animals in the database (dog, cat, etc..) when using <strong>findAll</strong> method. Is it possible to do so? I did try using the above code. it returns an empty list, but if I change generic type to <strong>Dog or Cat</strong> it will return a list of dog/cat respectively.</p>\n"},{"tags":["java","intellij-idea","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1660639122,"post_id":73371009,"comment_id":129573246,"body_markdown":"Please share project structure in IntelliJ IDEA (like https://i.imgur.com/6FAw0Ih.png). What Java version is set there?","body":"Please share project structure in IntelliJ IDEA (like <a href=\"https://i.imgur.com/6FAw0Ih.png\" rel=\"nofollow noreferrer\">i.imgur.com/6FAw0Ih.png</a>). What Java version is set there?"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1660639214,"post_id":73371009,"comment_id":129573276,"body_markdown":"It seems your compiled java classes are not compatible with sonar lint, what is the version of sonar lint you are using?","body":"It seems your compiled java classes are not compatible with sonar lint, what is the version of sonar lint you are using?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":4,"creation_date":1660641143,"post_id":73371009,"comment_id":129573956,"body_markdown":"[Class file version 61](https://en.wikipedia.org/wiki/Java_class_file) is Java 17. It looks like you have compiled your class files using JDK 17, and not JDK 11 despite you saying you&#39;ve configured that. Is it a Maven or Gradle project? Is Maven or Gradle configured to use JDK 11 and not JDK 17? You&#39;ll have to dig deeper into why your code is compiled with JDK 17.","body":"<a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow noreferrer\">Class file version 61</a> is Java 17. It looks like you have compiled your class files using JDK 17, and not JDK 11 despite you saying you&#39;ve configured that. Is it a Maven or Gradle project? Is Maven or Gradle configured to use JDK 11 and not JDK 17? You&#39;ll have to dig deeper into why your code is compiled with JDK 17."}],"owner":{"account_id":26075011,"reputation":41,"user_id":19774070,"display_name":"Cris25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1566,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1660641942,"creation_date":1660638589,"question_id":73371009,"body_markdown":"I was trying to connect SonarLint to my project and when I try to analyze any file, the following error return: \r\n```\r\nUnable to create symbol table for : /Users/Documents/RoutingTest.java\r\njava.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:176)\r\n\tat org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:158)\r\n\tat org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:146)\r\n\tat org.sonar.java.resolve.BytecodeCompleter.loadClass(BytecodeCompleter.java:244)\r\n\tat org.sonar.java.resolve.Symbols.&lt;init&gt;(Symbols.java:176)\r\n\tat org.sonar.java.resolve.SemanticModel.createFor(SemanticModel.java:60)\r\n\tat org.sonar.java.model.VisitorsBridge.visitFile(VisitorsBridge.java:109)\r\n\tat org.sonar.java.ast.JavaAstScanner.simpleScan(JavaAstScanner.java:96)\r\n\tat org.sonar.java.ast.JavaAstScanner.scan(JavaAstScanner.java:68)\r\n\tat org.sonar.java.JavaSquid.scanTests(JavaSquid.java:122)\r\n\tat org.sonar.java.JavaSquid.scan(JavaSquid.java:111)\r\n\tat org.sonar.plugins.java.JavaSquidSensor.execute(JavaSquidSensor.java:93)\r\n\tat org.sonarsource.sonarlint.core.analyzer.sensor.SensorsExecutor.executeSensor(SensorsExecutor.java:80)\r\n\tat org.sonarsource.sonarlint.core.analyzer.sensor.SensorsExecutor.execute(SensorsExecutor.java:71)\r\n\tat org.sonarsource.sonarlint.core.container.analysis.AnalysisContainer.doAfterStart(AnalysisContainer.java:132)\r\n\tat org.sonarsource.sonarlint.core.container.ComponentContainer.startComponents(ComponentContainer.java:126)\r\n\tat org.sonarsource.sonarlint.core.container.ComponentContainer.execute(ComponentContainer.java:111)\r\n\tat org.sonarsource.sonarlint.core.container.storage.StorageAnalyzer.analyze(StorageAnalyzer.java:75)\r\n\tat org.sonarsource.sonarlint.core.container.storage.StorageContainerHandler.analyze(StorageContainerHandler.java:83)\r\n\tat org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.lambda$analyze$0(ConnectedSonarLintEngineImpl.java:153)\r\n\tat org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.withReadLock(ConnectedSonarLintEngineImpl.java:352)\r\n\tat org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.withReadLock(ConnectedSonarLintEngineImpl.java:342)\r\n\tat org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.analyze(ConnectedSonarLintEngineImpl.java:150)\r\n\tat org.sonarlint.intellij.core.ConnectedSonarLintFacade.analyze(ConnectedSonarLintFacade.java:73)\r\n\tat org.sonarlint.intellij.core.SonarLintFacade.startAnalysis(SonarLintFacade.java:62)\r\n\tat org.sonarlint.intellij.analysis.SonarLintAnalyzer.analyzeModule(SonarLintAnalyzer.java:89)\r\n\tat org.sonarlint.intellij.analysis.SonarLintTask.analyzePerModule(SonarLintTask.java:351)\r\n\tat org.sonarlint.intellij.analysis.SonarLintTask.run(SonarLintTask.java:139)\r\n\tat org.sonarlint.intellij.analysis.SonarLintUserTask.run(SonarLintUserTask.java:38)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:442)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsynchronously$5(CoreProgressManager.java:493)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:188)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$12(CoreProgressManager.java:608)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:683)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:639)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:607)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:175)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nIt seems to be something about jdk, but i&#39;m already using java 11. I have already uninstall all java versions and install just java 11 but still having the same error. \r\n\r\nI add the Intellij project structure:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hn5OY.png\r\n\r\nAlso, I&#39;m using version 4.16.0 of SonarLint (I can not update it because of the SonarQube). It&#39;s a maven project with the following version: \r\n```\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\r\nJava version: 11.0.16, vendor: Amazon.com Inc., runtime: /Users/.sdkman/candidates/java/11.0.16-amzn\r\nDefault locale: en_ES, platform encoding: UTF-8\r\n```\r\n\r\nAlso I have tried to see which version of java has my compiler use to generate the .class of one file in which the error occurs and the version is 55, java 11.","title":"SonarLint on Intellij: Unsupported class file major version 61 while using Java 11","body":"<p>I was trying to connect SonarLint to my project and when I try to analyze any file, the following error return:</p>\n<pre><code>Unable to create symbol table for : /Users/Documents/RoutingTest.java\njava.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:176)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:158)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:146)\n    at org.sonar.java.resolve.BytecodeCompleter.loadClass(BytecodeCompleter.java:244)\n    at org.sonar.java.resolve.Symbols.&lt;init&gt;(Symbols.java:176)\n    at org.sonar.java.resolve.SemanticModel.createFor(SemanticModel.java:60)\n    at org.sonar.java.model.VisitorsBridge.visitFile(VisitorsBridge.java:109)\n    at org.sonar.java.ast.JavaAstScanner.simpleScan(JavaAstScanner.java:96)\n    at org.sonar.java.ast.JavaAstScanner.scan(JavaAstScanner.java:68)\n    at org.sonar.java.JavaSquid.scanTests(JavaSquid.java:122)\n    at org.sonar.java.JavaSquid.scan(JavaSquid.java:111)\n    at org.sonar.plugins.java.JavaSquidSensor.execute(JavaSquidSensor.java:93)\n    at org.sonarsource.sonarlint.core.analyzer.sensor.SensorsExecutor.executeSensor(SensorsExecutor.java:80)\n    at org.sonarsource.sonarlint.core.analyzer.sensor.SensorsExecutor.execute(SensorsExecutor.java:71)\n    at org.sonarsource.sonarlint.core.container.analysis.AnalysisContainer.doAfterStart(AnalysisContainer.java:132)\n    at org.sonarsource.sonarlint.core.container.ComponentContainer.startComponents(ComponentContainer.java:126)\n    at org.sonarsource.sonarlint.core.container.ComponentContainer.execute(ComponentContainer.java:111)\n    at org.sonarsource.sonarlint.core.container.storage.StorageAnalyzer.analyze(StorageAnalyzer.java:75)\n    at org.sonarsource.sonarlint.core.container.storage.StorageContainerHandler.analyze(StorageContainerHandler.java:83)\n    at org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.lambda$analyze$0(ConnectedSonarLintEngineImpl.java:153)\n    at org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.withReadLock(ConnectedSonarLintEngineImpl.java:352)\n    at org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.withReadLock(ConnectedSonarLintEngineImpl.java:342)\n    at org.sonarsource.sonarlint.core.ConnectedSonarLintEngineImpl.analyze(ConnectedSonarLintEngineImpl.java:150)\n    at org.sonarlint.intellij.core.ConnectedSonarLintFacade.analyze(ConnectedSonarLintFacade.java:73)\n    at org.sonarlint.intellij.core.SonarLintFacade.startAnalysis(SonarLintFacade.java:62)\n    at org.sonarlint.intellij.analysis.SonarLintAnalyzer.analyzeModule(SonarLintAnalyzer.java:89)\n    at org.sonarlint.intellij.analysis.SonarLintTask.analyzePerModule(SonarLintTask.java:351)\n    at org.sonarlint.intellij.analysis.SonarLintTask.run(SonarLintTask.java:139)\n    at org.sonarlint.intellij.analysis.SonarLintUserTask.run(SonarLintUserTask.java:38)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:442)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsynchronously$5(CoreProgressManager.java:493)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:188)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$12(CoreProgressManager.java:608)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:683)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:639)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:607)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:175)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>It seems to be something about jdk, but i'm already using java 11. I have already uninstall all java versions and install just java 11 but still having the same error.</p>\n<p>I add the Intellij project structure:\n<a href=\"https://i.stack.imgur.com/Hn5OY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hn5OY.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, I'm using version 4.16.0 of SonarLint (I can not update it because of the SonarQube). It's a maven project with the following version:</p>\n<pre><code>Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\nJava version: 11.0.16, vendor: Amazon.com Inc., runtime: /Users/.sdkman/candidates/java/11.0.16-amzn\nDefault locale: en_ES, platform encoding: UTF-8\n</code></pre>\n<p>Also I have tried to see which version of java has my compiler use to generate the .class of one file in which the error occurs and the version is 55, java 11.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1660386557,"post_id":73342181,"comment_id":129524282,"body_markdown":"are you sure that the image is a String? Usually it&#39;s a byte[]","body":"are you sure that the image is a String? Usually it&#39;s a byte[]"},{"owner":{"account_id":25370820,"reputation":1,"user_id":19184648,"display_name":"Benjie Alcontin"},"score":0,"creation_date":1660404795,"post_id":73342181,"comment_id":129527809,"body_markdown":"So I change the string into a byte then what next after changing the string to byte?","body":"So I change the string into a byte then what next after changing the string to byte?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1660544269,"post_id":73342181,"comment_id":129549192,"body_markdown":"Do you still get an error?","body":"Do you still get an error?"}],"answers":[{"tags":[],"owner":{"account_id":25310865,"reputation":1,"user_id":19133626,"display_name":"Rion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660641927,"creation_date":1660641927,"answer_id":73371704,"question_id":73342181,"body_markdown":"Hope this could help you\r\n\r\nEntity : \r\n    \r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n\r\n     public class Attachment {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;increment&quot;)\r\n    @GenericGenerator(name = &quot;increment&quot;, strategy = &quot;increment&quot;)\r\n    private long id;\r\n\r\n    private String file_id;\r\n   \r\n    @Lob\r\n    private byte[] data2;\r\n    }\r\n\r\nRepository :\r\n\r\n     @Query(&quot;select u from Attachment u where u.file_id = :file_id&quot;)\r\n     List&lt;Attachment&gt; findByEmailAddress(@Param(&quot;file_id&quot;) String file_id);\r\n\r\n     @Modifying\r\n    @Transactional\r\n    @Query(&quot;update Attachment u set u.data2 = :data2 where u.file_id = :file_id&quot;)\r\n    void updatedata2(@Param(&quot;file_id&quot;) String file_id,@Param(&quot;data2&quot;) byte[] file);\r\n\r\n\r\nService : \r\n    \r\n     @Override\r\n    public void updateSimilar(String file_id, MultipartFile file) throws IOException {\r\n        attachmentRepository.updatedata2(file_id,file.getBytes());\r\n    }\r\n\r\nController :\r\n\r\n     @PostMapping(&quot;/match&quot;)\r\n      public ResponseResult matching(@RequestParam(&quot;file&quot;) MultipartFile file, @RequestParam String file_id ) throws Exception {\r\n  \r\n      attachmentservice.updateSimilar(file_id, file);\r\n    }","title":"How to update the Lob file in database","body":"<p>Hope this could help you</p>\n<p>Entity :</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n\n public class Attachment {\n\n@Id\n@GeneratedValue(generator = &quot;increment&quot;)\n@GenericGenerator(name = &quot;increment&quot;, strategy = &quot;increment&quot;)\nprivate long id;\n\nprivate String file_id;\n\n@Lob\nprivate byte[] data2;\n}\n</code></pre>\n<p>Repository :</p>\n<pre><code> @Query(&quot;select u from Attachment u where u.file_id = :file_id&quot;)\n List&lt;Attachment&gt; findByEmailAddress(@Param(&quot;file_id&quot;) String file_id);\n\n @Modifying\n@Transactional\n@Query(&quot;update Attachment u set u.data2 = :data2 where u.file_id = :file_id&quot;)\nvoid updatedata2(@Param(&quot;file_id&quot;) String file_id,@Param(&quot;data2&quot;) byte[] file);\n</code></pre>\n<p>Service :</p>\n<pre><code> @Override\npublic void updateSimilar(String file_id, MultipartFile file) throws IOException {\n    attachmentRepository.updatedata2(file_id,file.getBytes());\n}\n</code></pre>\n<p>Controller :</p>\n<pre><code> @PostMapping(&quot;/match&quot;)\n  public ResponseResult matching(@RequestParam(&quot;file&quot;) MultipartFile file, @RequestParam String file_id ) throws Exception {\n\n  attachmentservice.updateSimilar(file_id, file);\n}\n</code></pre>\n"}],"owner":{"account_id":25370820,"reputation":1,"user_id":19184648,"display_name":"Benjie Alcontin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660641927,"creation_date":1660373526,"question_id":73342181,"body_markdown":"I&#39;m successfully insert a image file in my database and now I want to change or update the image that I inserted please help me with it.\r\n\r\nand this is output:\r\n\r\n\n    Could not set field value [com.mysql.cj.jdbc.Blob@2ab0fa13] \n       value by reflection : [class com.operation.Model.Users.image] setter of com.operation.Model.Users.image; \n    nested exception is org.hibernate.PropertyAccessException: Could not set field value [com.mysql.cj.jdbc.Blob@2ab0fa13] \n       value by reflection : [class com.operation.Model.Users.image] setter of com.operation.Model.Users.image\n\n\r\n\r\n**Controller.class**\r\n\r\n\t@RequestMapping(&quot;/UpdateData&quot;)\r\n\t@ResponseBody\r\n\tpublic String Updatedata(@RequestParam(&quot;id&quot;)int id,@RequestParam(&quot;username&quot;)String username,@RequestParam(&quot;file&quot;)MultipartFile file) {\r\n\t\tUsers myUpdateData = service.getdataByid(id);\r\n\t\tmyUpdateData.setUsername(username);\r\n\t\tmyUpdateData.setImage(file);\r\n\t\tservice.Updatedata(myUpdateData);\r\n\t\treturn &quot;success&quot;;\r\n\t\t\r\n\t}\r\n\r\n**Service.class**\r\n\r\n\t//Update data\r\n\tpublic Users Updatedata(Users mod) {\r\n\t\tUsers existdata = repo.findByid(mod.getId());\r\n\t\texistdata.setUsername(mod.getUsername());;\r\n\t\texistdata.setImage(mod.getImage());\r\n\t\treturn repo.save(existdata);\r\n\t\t\r\n\t}\r\n\r\n\r\n**Repository**\r\n\r\n    public interface UsersRepo extends JpaRepository&lt;Users, Integer&gt;{\r\n    \r\n    \t\r\n    \tUsers findByid(int id);\r\n    }\r\n\r\n**Users.class**\r\n\r\n    @Entity\r\n    public class Users {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \tprivate String username;\r\n    \t\r\n    \t@Lob\r\n    \t@Column(columnDefinition = &quot;MEDIUMBLOB&quot;)\r\n    \tprivate String image;\r\n    \t\r\n    \t\r\n    \tpublic String getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \tpublic void setImage(String image) {\r\n    \t\tthis.image = image;\r\n    \t}\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \t    \t\r\n    }\r\n\r\n","title":"How to update the Lob file in database","body":"<p>I'm successfully insert a image file in my database and now I want to change or update the image that I inserted please help me with it.</p>\n<p>and this is output:</p>\n<pre><code>Could not set field value [com.mysql.cj.jdbc.Blob@2ab0fa13] \n   value by reflection : [class com.operation.Model.Users.image] setter of com.operation.Model.Users.image; \nnested exception is org.hibernate.PropertyAccessException: Could not set field value [com.mysql.cj.jdbc.Blob@2ab0fa13] \n   value by reflection : [class com.operation.Model.Users.image] setter of com.operation.Model.Users.image\n</code></pre>\n<p><strong>Controller.class</strong></p>\n<pre><code>@RequestMapping(&quot;/UpdateData&quot;)\n@ResponseBody\npublic String Updatedata(@RequestParam(&quot;id&quot;)int id,@RequestParam(&quot;username&quot;)String username,@RequestParam(&quot;file&quot;)MultipartFile file) {\n    Users myUpdateData = service.getdataByid(id);\n    myUpdateData.setUsername(username);\n    myUpdateData.setImage(file);\n    service.Updatedata(myUpdateData);\n    return &quot;success&quot;;\n    \n}\n</code></pre>\n<p><strong>Service.class</strong></p>\n<pre><code>//Update data\npublic Users Updatedata(Users mod) {\n    Users existdata = repo.findByid(mod.getId());\n    existdata.setUsername(mod.getUsername());;\n    existdata.setImage(mod.getImage());\n    return repo.save(existdata);\n    \n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>public interface UsersRepo extends JpaRepository&lt;Users, Integer&gt;{\n\n    \n    Users findByid(int id);\n}\n</code></pre>\n<p><strong>Users.class</strong></p>\n<pre><code>@Entity\npublic class Users {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String username;\n    \n    @Lob\n    @Column(columnDefinition = &quot;MEDIUMBLOB&quot;)\n    private String image;\n    \n    \n    public String getImage() {\n        return image;\n    }\n    public void setImage(String image) {\n        this.image = image;\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getUsername() {\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username;\n    }\n            \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1660196468,"post_id":73315726,"comment_id":129476678,"body_markdown":"What if you use `Comparator.&lt;List&lt;String&gt;&gt;comparing(x-&gt;x.get(0))`?","body":"What if you use <code>Comparator.&lt;List&lt;String&gt;&gt;comparing(x-&gt;x.get(0))</code>?"},{"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"score":0,"creation_date":1660196619,"post_id":73315726,"comment_id":129476705,"body_markdown":"I get `Wrong number of type arguments: 1; required: 2`","body":"I get <code>Wrong number of type arguments: 1; required: 2</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1660196895,"post_id":73315726,"comment_id":129476766,"body_markdown":"My fault. It should be `Comparator.&lt;List&lt;String&gt;, String&gt;comparing(x-&gt;x.get(0))`. Alternatively, you could try `Comparator.comparing((List&lt;String&gt; x)-&gt;x.get(0))`.","body":"My fault. It should be <code>Comparator.&lt;List&lt;String&gt;, String&gt;comparing(x-&gt;x.get(0))</code>. Alternatively, you could try <code>Comparator.comparing((List&lt;String&gt; x)-&gt;x.get(0))</code>."},{"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"score":0,"creation_date":1660196968,"post_id":73315726,"comment_id":129476782,"body_markdown":"yes it works, but can u let me know why?","body":"yes it works, but can u let me know why?"},{"owner":{"account_id":22905554,"reputation":673,"user_id":17043683,"display_name":"MMZK1526"},"score":0,"creation_date":1660197203,"post_id":73315726,"comment_id":129476845,"body_markdown":"@user3310115 Loosely speaking, in @dan1st&#39;s comment, `Comparator.&lt;List&lt;String&gt;, String&gt;comparing(x-&gt;x.get(0))`, the first `List&lt;String&gt;` refers to the element type your stream uses, and the second `String` is what&#39;s actually getting compared (since you take the first `String` from each `List&lt;String` and compare them)","body":"@user3310115 Loosely speaking, in @dan1st&#39;s comment, <code>Comparator.&lt;List&lt;String&gt;, String&gt;comparing(x-&gt;x.get(0))</code>, the first <code>List&lt;String&gt;</code> refers to the element type your stream uses, and the second <code>String</code> is what&#39;s actually getting compared (since you take the first <code>String</code> from each <code>List&lt;String</code> and compare them)"},{"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"score":0,"creation_date":1660197362,"post_id":73315726,"comment_id":129476882,"body_markdown":"but what is the need to specify it? Why doesn&#39;t the compiler know that its a List&lt;String&gt;. If it was an object, I don&#39;t need to specify it right? Like I could just use `Employee::getFirstName` or something like that","body":"but what is the need to specify it? Why doesn&#39;t the compiler know that its a List&lt;String&gt;. If it was an object, I don&#39;t need to specify it right? Like I could just use <code>Employee::getFirstName</code> or something like that"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660198278,"creation_date":1660197612,"answer_id":73315918,"question_id":73315726,"body_markdown":"Java&#39;s type inference fails here. When running `Comparator.comparing(x -&gt; x.get(0)).reversed()`, it is not able to infer the types of the `Comparator` from the return type because of the `.reversed()`. Since they cannot be inferred, Java just uses `Object`.\r\n\r\nIn order to fix that, you need to somehow specify the type that is compared.\r\n\r\nThis can be done explicitly with `Comparator.&lt;List&lt;String&gt;, String&gt;&gt; comparing(x-&gt;x.get(0)).reversed()`. Here, `List&lt;String&gt;, String&gt;` are type arguments for the `Comparator.comparing` call. This means they specify the values of the generic types at compile-time so they don&#39;t have to be inferred. The first type parameter (`List&lt;String&gt;`) is the type to compare and second parameter (`String`) is the `Comparable` that is extracted from the type to compare (the result of `List#get`).\r\n\r\nAlternatively, you could also specify it in the lambda expression&#39;s parameters and let Java infer it from that: `Comparator.comparing((List&lt;String&gt; x) -&gt; x.get(0)).reversed()`. Since Java knows that `x` is of the type `List&lt;String&gt;`, it is able to infer the type of the lambda (`Function&lt;List&lt;String&gt;,String&gt;`) and the `Comparator.comparing` method.\r\n\r\nWhen [Sequenced Collections](https://openjdk.org/jeps/8280836) are added to Java, you could also use use method references. If you use `Comparator.comparing(List::getFirst).reversed()`, Java knows that the type to compare is a `List` and is able to use the `get` method. Note that `List::getFirst` is not yet part of the JDK as of the time of writing this.\r\n\r\nAs [@Slaw](https://stackoverflow.com/users/6395627/slaw) [mentioned in the comments](https://stackoverflow.com/questions/73315726/cannot-resolve-method-get-in-object-using-streams/73315918?noredirect=1#comment129477002_73315918), you could also use an entirely different approach by getting rid of the `.reversed` and including it in the `Comparator.comparing` like this: `Comparator.comparing(x -&gt; x.get(0), Comparator.reverseOrder())`. The [second parameter is another `Comparator` that is used for comparing the values extracted from the lambda](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)) `x -&gt; x.get(0)`. ","title":"Cannot resolve method &#39;get&#39; in &#39;Object&#39; using streams","body":"<p>Java's type inference fails here. When running <code>Comparator.comparing(x -&gt; x.get(0)).reversed()</code>, it is not able to infer the types of the <code>Comparator</code> from the return type because of the <code>.reversed()</code>. Since they cannot be inferred, Java just uses <code>Object</code>.</p>\n<p>In order to fix that, you need to somehow specify the type that is compared.</p>\n<p>This can be done explicitly with <code>Comparator.&lt;List&lt;String&gt;, String&gt;&gt; comparing(x-&gt;x.get(0)).reversed()</code>. Here, <code>List&lt;String&gt;, String&gt;</code> are type arguments for the <code>Comparator.comparing</code> call. This means they specify the values of the generic types at compile-time so they don't have to be inferred. The first type parameter (<code>List&lt;String&gt;</code>) is the type to compare and second parameter (<code>String</code>) is the <code>Comparable</code> that is extracted from the type to compare (the result of <code>List#get</code>).</p>\n<p>Alternatively, you could also specify it in the lambda expression's parameters and let Java infer it from that: <code>Comparator.comparing((List&lt;String&gt; x) -&gt; x.get(0)).reversed()</code>. Since Java knows that <code>x</code> is of the type <code>List&lt;String&gt;</code>, it is able to infer the type of the lambda (<code>Function&lt;List&lt;String&gt;,String&gt;</code>) and the <code>Comparator.comparing</code> method.</p>\n<p>When <a href=\"https://openjdk.org/jeps/8280836\" rel=\"nofollow noreferrer\">Sequenced Collections</a> are added to Java, you could also use use method references. If you use <code>Comparator.comparing(List::getFirst).reversed()</code>, Java knows that the type to compare is a <code>List</code> and is able to use the <code>get</code> method. Note that <code>List::getFirst</code> is not yet part of the JDK as of the time of writing this.</p>\n<p>As <a href=\"https://stackoverflow.com/users/6395627/slaw\">@Slaw</a> <a href=\"https://stackoverflow.com/questions/73315726/cannot-resolve-method-get-in-object-using-streams/73315918?noredirect=1#comment129477002_73315918\">mentioned in the comments</a>, you could also use an entirely different approach by getting rid of the <code>.reversed</code> and including it in the <code>Comparator.comparing</code> like this: <code>Comparator.comparing(x -&gt; x.get(0), Comparator.reverseOrder())</code>. The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\">second parameter is another <code>Comparator</code> that is used for comparing the values extracted from the lambda</a> <code>x -&gt; x.get(0)</code>.</p>\n"},{"tags":[],"owner":{"account_id":17374836,"reputation":146,"user_id":12588118,"display_name":"Lokeshwar G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660641483,"creation_date":1660203526,"answer_id":73316965,"question_id":73315726,"body_markdown":"```java\r\nList&lt;List&lt;String&gt;&gt; sorted_list = items.stream()\r\n          .sorted(Comparator.comparing(x -&gt; x.get(0), Comparator.reverseOrder()))\r\n          .collect(Collectors.toList());\r\n```","title":"Cannot resolve method &#39;get&#39; in &#39;Object&#39; using streams","body":"<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; sorted_list = items.stream()\n          .sorted(Comparator.comparing(x -&gt; x.get(0), Comparator.reverseOrder()))\n          .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73315918,"answer_count":2,"score":0,"last_activity_date":1660641483,"creation_date":1660196298,"question_id":73315726,"body_markdown":"`items` is a `List&lt;List&lt;String&gt;&gt;`. When I add `reversed`, I see a compile error `Cannot resolve method &#39;get&#39; in &#39;Object&#39;`. I get this on `x.get(0)`. Why do I get this and how can I get the reverse order? I would just like to sort the list based on the item name.\r\n\r\n\r\n        List&lt;List&lt;String&gt;&gt; items = new ArrayList&lt;&gt;();\r\n     List&lt;String&gt; item2 = new ArrayList&lt;&gt;();\r\n            item2.add(&quot;item2&quot;);\r\n            item2.add(&quot;3&quot;);\r\n            item2.add(&quot;4&quot;);\r\n            List&lt;String&gt; item1 = new ArrayList&lt;&gt;();\r\n            item1.add(&quot;item1&quot;);\r\n            item1.add(&quot;10&quot;);\r\n            item1.add(&quot;15&quot;);\r\n            List&lt;String&gt; item3 = new ArrayList&lt;&gt;();\r\n            item3.add(&quot;item3&quot;);\r\n            item3.add(&quot;17&quot;);\r\n            item3.add(&quot;8&quot;);\r\n            items.add(item1);\r\n            items.add(item2);\r\n            items.add(item3);\r\n\r\n    items.stream().sorted(Comparator.comparing(x -&gt; x.get(0)).reversed()).collect(Collectors.toList())","title":"Cannot resolve method &#39;get&#39; in &#39;Object&#39; using streams","body":"<p><code>items</code> is a <code>List&lt;List&lt;String&gt;&gt;</code>. When I add <code>reversed</code>, I see a compile error <code>Cannot resolve method 'get' in 'Object'</code>. I get this on <code>x.get(0)</code>. Why do I get this and how can I get the reverse order? I would just like to sort the list based on the item name.</p>\n<pre><code>    List&lt;List&lt;String&gt;&gt; items = new ArrayList&lt;&gt;();\n List&lt;String&gt; item2 = new ArrayList&lt;&gt;();\n        item2.add(&quot;item2&quot;);\n        item2.add(&quot;3&quot;);\n        item2.add(&quot;4&quot;);\n        List&lt;String&gt; item1 = new ArrayList&lt;&gt;();\n        item1.add(&quot;item1&quot;);\n        item1.add(&quot;10&quot;);\n        item1.add(&quot;15&quot;);\n        List&lt;String&gt; item3 = new ArrayList&lt;&gt;();\n        item3.add(&quot;item3&quot;);\n        item3.add(&quot;17&quot;);\n        item3.add(&quot;8&quot;);\n        items.add(item1);\n        items.add(item2);\n        items.add(item3);\n\nitems.stream().sorted(Comparator.comparing(x -&gt; x.get(0)).reversed()).collect(Collectors.toList())\n</code></pre>\n"},{"tags":["java","spring-security"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387212594,"creation_date":1387212594,"answer_id":20616192,"question_id":20616065,"body_markdown":"You should be able (depending on your config) to use\r\n\r\n    LocaleContextHolder.getLocaleContext().getLocale();\r\n\r\n`LocaleContextHolder` stores a `static` `ThreadLocal` object that stores the `Locale` for your request.\r\n\r\nYou might have to register a `RequestContextListener` with your Servlet container.","title":"How to get HttpServletRequest information from UserDetailsService","body":"<p>You should be able (depending on your config) to use</p>\n\n<pre><code>LocaleContextHolder.getLocaleContext().getLocale();\n</code></pre>\n\n<p><code>LocaleContextHolder</code> stores a <code>static</code> <code>ThreadLocal</code> object that stores the <code>Locale</code> for your request.</p>\n\n<p>You might have to register a <code>RequestContextListener</code> with your Servlet container.</p>\n"},{"tags":[],"owner":{"account_id":208183,"reputation":7392,"user_id":458509,"accept_rate":71,"display_name":"storm_buster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387214882,"creation_date":1387214882,"answer_id":20616929,"question_id":20616065,"body_markdown":"You can pass it from the controller to your Service , adding a new parameter to your Service","title":"How to get HttpServletRequest information from UserDetailsService","body":"<p>You can pass it from the controller to your Service , adding a new parameter to your Service</p>\n"},{"tags":[],"owner":{"account_id":26075402,"reputation":1,"user_id":19774417,"display_name":"Four Queue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660641132,"creation_date":1660641132,"answer_id":73371528,"question_id":20616065,"body_markdown":"I&#39;m leaving this for others as I could not find the answer elsewhere.\r\nAfter some tinkering, I found that you can just add the request to the bean as such:\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n        @Bean\r\n        public UserDetailsService userDetailsService(MyRepository repository, HttpServletRequest request) {\r\n            return username -&gt; {\r\n                UserDetails userDetails = repository.findByEmail(username);\r\n                if (userDetails != null) {\r\n                    log.info(&quot;login.&quot; + userDetails);\r\n                    return userDetails;\r\n                }\r\n                String locale = request.getLocale().getDisplayName();\r\n                String message = &quot;not.found[&quot; + username + &quot;].locale[&quot; + locale + &quot;]&quot;;\r\n                log.error(message);\r\n                throw new UsernameNotFoundException(message);\r\n            };\r\n        }\r\n    }","title":"How to get HttpServletRequest information from UserDetailsService","body":"<p>I'm leaving this for others as I could not find the answer elsewhere.\nAfter some tinkering, I found that you can just add the request to the bean as such:</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n    @Bean\n    public UserDetailsService userDetailsService(MyRepository repository, HttpServletRequest request) {\n        return username -&gt; {\n            UserDetails userDetails = repository.findByEmail(username);\n            if (userDetails != null) {\n                log.info(&quot;login.&quot; + userDetails);\n                return userDetails;\n            }\n            String locale = request.getLocale().getDisplayName();\n            String message = &quot;not.found[&quot; + username + &quot;].locale[&quot; + locale + &quot;]&quot;;\n            log.error(message);\n            throw new UsernameNotFoundException(message);\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3501377,"reputation":1127,"user_id":2928064,"accept_rate":35,"display_name":"lior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1660641132,"creation_date":1387212138,"question_id":20616065,"body_markdown":"I&#39;m working with spring security and I have implemented my costume UserDetailsService.loadUserByUsername that returns a costume UserDetails. My problem is that I want in my UserDetailsService  implementation to get information from the HttpServletRequest, more specific I would like to get `request.getLocale();` How can i do this?\r\n","title":"How to get HttpServletRequest information from UserDetailsService","body":"<p>I'm working with spring security and I have implemented my costume UserDetailsService.loadUserByUsername that returns a costume UserDetails. My problem is that I want in my UserDetailsService  implementation to get information from the HttpServletRequest, more specific I would like to get <code>request.getLocale();</code> How can i do this?</p>\n"},{"tags":["java","android","opencv","mat","sift"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1660543049,"post_id":73357318,"comment_id":129548980,"body_markdown":"I am pretty sure that you can&#39;t just dump the mat object into a database. See this related question: [How to serialize/deserialize OpenCv Mat in Java?](https://stackoverflow.com/questions/53333710/how-to-serialize-deserialize-opencv-mat-in-java)","body":"I am pretty sure that you can&#39;t just dump the mat object into a database. See this related question: <a href=\"https://stackoverflow.com/questions/53333710/how-to-serialize-deserialize-opencv-mat-in-java\">How to serialize/deserialize OpenCv Mat in Java?</a>"},{"owner":{"account_id":17274393,"reputation":33,"user_id":12509319,"display_name":"Pawandeep"},"score":0,"creation_date":1660545046,"post_id":73357318,"comment_id":129549346,"body_markdown":"@sorifiend THANKS! it works... but now it is out of memory problem it works fine for small Mat matrix;\nERROR : \nCaused by: java.lang.OutOfMemoryError: Failed to allocate a 253488000 byte allocation with 25165824 free bytes and 163MB until OOM, target footprint 457461840, growth limit 603979776","body":"@sorifiend THANKS! it works... but now it is out of memory problem it works fine for small Mat matrix; ERROR :  Caused by: java.lang.OutOfMemoryError: Failed to allocate a 253488000 byte allocation with 25165824 free bytes and 163MB until OOM, target footprint 457461840, growth limit 603979776"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1660617508,"post_id":73357318,"comment_id":129568637,"body_markdown":"That is a different question, so let&#39;s close this one as solved. If you want to process a large file then you&#39;ll need to make sure that your device has enough free memory, and if not then you need to process the image in smaller chunks and save the individual parts separately. See [here for another solution that might work for you](https://stackoverflow.com/questions/32244851/androidjava-lang-outofmemoryerror-failed-to-allocate-a-23970828-byte-allocatio), although I still recommend checking the available memory and breaking the image into parts to process it.","body":"That is a different question, so let&#39;s close this one as solved. If you want to process a large file then you&#39;ll need to make sure that your device has enough free memory, and if not then you need to process the image in smaller chunks and save the individual parts separately. See <a href=\"https://stackoverflow.com/questions/32244851/androidjava-lang-outofmemoryerror-failed-to-allocate-a-23970828-byte-allocatio\">here for another solution that might work for you</a>, although I still recommend checking the available memory and breaking the image into parts to process it."},{"owner":{"account_id":17274393,"reputation":33,"user_id":12509319,"display_name":"Pawandeep"},"score":1,"creation_date":1660640375,"post_id":73357318,"comment_id":129573688,"body_markdown":"I would have closed it but the solution link you gave only works for MAT not for MatOfKeypoints, I found solution for matofkeypoint too I‚Äôll add it here and then close. Also splitting image in pieces worked I did that already. THANKS!","body":"I would have closed it but the solution link you gave only works for MAT not for MatOfKeypoints, I found solution for matofkeypoint too I‚Äôll add it here and then close. Also splitting image in pieces worked I did that already. THANKS!"}],"answers":[{"tags":[],"owner":{"account_id":17274393,"reputation":33,"user_id":12509319,"display_name":"Pawandeep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660641047,"creation_date":1660641047,"answer_id":73371506,"question_id":73357318,"body_markdown":"Thanks to @sorifiend I was able to store Mat via tinyDB.\r\n\r\n[how-to-serialize-deserialize-opencv-mat-in-java][1] :- It works for only for Mat\r\n\r\nI did more googling and found a solution on stack overflow for MatOfKeyPoint too but can not find link to it.\r\n\r\nSo below is the class I made after combining both the solutions : \r\n\r\n```\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\n\r\nimport org.opencv.core.KeyPoint;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.core.MatOfKeyPoint;\r\nimport org.opencv.core.Point;\r\n\r\nclass SerializeTheMat\r\n{\r\n    public static String keypointsToJson(MatOfKeyPoint mat){\r\n        if(mat!=null &amp;&amp; !mat.empty()){\r\n            Gson gson = new Gson();\r\n\r\n            JsonArray jsonArr = new JsonArray();\r\n\r\n            KeyPoint[] array = mat.toArray();\r\n            for(int i=0; i&lt;array.length; i++){\r\n                KeyPoint kp = array[i];\r\n\r\n                JsonObject obj = new JsonObject();\r\n\r\n                obj.addProperty(&quot;class_id&quot;, kp.class_id);\r\n                obj.addProperty(&quot;x&quot;,        kp.pt.x);\r\n                obj.addProperty(&quot;y&quot;,        kp.pt.y);\r\n                obj.addProperty(&quot;size&quot;,     kp.size);\r\n                obj.addProperty(&quot;angle&quot;,    kp.angle);\r\n                obj.addProperty(&quot;octave&quot;,   kp.octave);\r\n                obj.addProperty(&quot;response&quot;, kp.response);\r\n\r\n                jsonArr.add(obj);\r\n            }\r\n\r\n            String json = gson.toJson(jsonArr);\r\n\r\n            return json;\r\n        }\r\n        return &quot;{}&quot;;\r\n    }\r\n\r\n    public static MatOfKeyPoint keypointsFromJson(String json){\r\n        MatOfKeyPoint result = new MatOfKeyPoint();\r\n\r\n        JsonParser parser = new JsonParser();\r\n        JsonArray jsonArr = parser.parse(json).getAsJsonArray();\r\n\r\n        int size = jsonArr.size();\r\n\r\n        KeyPoint[] kpArray = new KeyPoint[size];\r\n\r\n        for(int i=0; i&lt;size; i++){\r\n            KeyPoint kp = new KeyPoint();\r\n\r\n            JsonObject obj = (JsonObject) jsonArr.get(i);\r\n\r\n            Point point = new Point(\r\n                    obj.get(&quot;x&quot;).getAsDouble(),\r\n                    obj.get(&quot;y&quot;).getAsDouble()\r\n            );\r\n\r\n            kp.pt       = point;\r\n            kp.class_id = obj.get(&quot;class_id&quot;).getAsInt();\r\n            kp.size     =     obj.get(&quot;size&quot;).getAsFloat();\r\n            kp.angle    =    obj.get(&quot;angle&quot;).getAsFloat();\r\n            kp.octave   =   obj.get(&quot;octave&quot;).getAsInt();\r\n            kp.response = obj.get(&quot;response&quot;).getAsFloat();\r\n\r\n            kpArray[i] = kp;\r\n        }\r\n\r\n        result.fromArray(kpArray);\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //  Serialization/deserialization utility\r\n    public static String SerializeFromMat(Mat mat)\r\n    {\r\n        SerializedMat serializedMat = new SerializedMat();\r\n        serializedMat.setType(mat.type());\r\n        serializedMat.setRows(mat.rows());\r\n        serializedMat.setCols(mat.cols());\r\n\r\n        if (serializedMat.getType()==0||\r\n                serializedMat.getType()==8||\r\n                serializedMat.getType()==16||\r\n                serializedMat.getType()==24)\r\n        {\r\n            serializedMat.setBytes(new byte[(int)(mat.total()*mat.elemSize())]);\r\n            mat.get(0,0,serializedMat.bytes);\r\n        }\r\n        else if (serializedMat.getType()==1||\r\n                serializedMat.getType()==9||\r\n                serializedMat.getType()==17||\r\n                serializedMat.getType()==25)\r\n        {\r\n            serializedMat.setBytes(new byte[(int)(mat.total()*mat.elemSize())]);\r\n            mat.get(0,0,serializedMat.bytes);\r\n        }\r\n        else if (serializedMat.getType()==2||\r\n                serializedMat.getType()==10||\r\n                serializedMat.getType()==18||\r\n                serializedMat.getType()==26)\r\n        {\r\n            serializedMat.setShorts(new short[(int)(mat.total()*mat.elemSize())]);\r\n            mat.get(0,0,serializedMat.shorts);\r\n        }\r\n        else if (serializedMat.getType()==3||\r\n                serializedMat.getType()==11||\r\n                serializedMat.getType()==19||\r\n                serializedMat.getType()==27)\r\n        {\r\n            serializedMat.setShorts(new short[(int)(mat.total()*mat.elemSize())]);\r\n            mat.get(0,0,serializedMat.shorts);\r\n        }\r\n        else if (serializedMat.getType()==4||\r\n                serializedMat.getType()==12||\r\n                serializedMat.getType()==20||\r\n                serializedMat.getType()==28)\r\n        {\r\n            serializedMat.setInts(new int[(int)(mat.total()*mat.elemSize())]);\r\n            mat.get(0,0,serializedMat.ints);\r\n        }\r\n        else if (serializedMat.getType()==5||\r\n                serializedMat.getType()==13||\r\n                serializedMat.getType()==21||\r\n                serializedMat.getType()==29)\r\n        {\r\n            serializedMat.setFloats(new float[(int)(mat.total()*mat.elemSize())]);\r\n            mat.get(0,0,serializedMat.floats);\r\n        }\r\n        else if (serializedMat.getType()==6||\r\n                serializedMat.getType()==14||\r\n                serializedMat.getType()==22||\r\n                serializedMat.getType()==30)\r\n        {\r\n            serializedMat.setDoubles(new double[(int)(mat.total()*mat.elemSize())]);\r\n            mat.get(0,0,serializedMat.doubles);\r\n        }\r\n\r\n//        return &quot;&quot;;\r\n        Gson gson = new Gson();\r\n        return gson.toJson(serializedMat);\r\n    }\r\n\r\n    public static Mat DeserializeToMat(String json)\r\n    {\r\n        Gson gson = new Gson();\r\n        SerializedMat serializedMat = gson.fromJson(json, SerializedMat.class);\r\n        Mat mat = new Mat(serializedMat.getRows(),serializedMat.getCols(),serializedMat.getType());\r\n\r\n        if (serializedMat.getType()==0||\r\n                serializedMat.getType()==8||\r\n                serializedMat.getType()==16||\r\n                serializedMat.getType()==24)\r\n        {\r\n            mat.put(0,0,serializedMat.getBytes());\r\n        }\r\n        else if (serializedMat.getType()==1||\r\n                serializedMat.getType()==9||\r\n                serializedMat.getType()==17||\r\n                serializedMat.getType()==25)\r\n        {\r\n            mat.put(0,0,serializedMat.getBytes());\r\n        }\r\n        else if (serializedMat.getType()==2||\r\n                serializedMat.getType()==10||\r\n                serializedMat.getType()==18||\r\n                serializedMat.getType()==26)\r\n        {\r\n            mat.put(0,0,serializedMat.getShorts());\r\n        }\r\n        else if (serializedMat.getType()==3||\r\n                serializedMat.getType()==11||\r\n                serializedMat.getType()==19||\r\n                serializedMat.getType()==27)\r\n        {\r\n            mat.put(0,0,serializedMat.getShorts());\r\n        }\r\n        else if (serializedMat.getType()==4||\r\n                serializedMat.getType()==12||\r\n                serializedMat.getType()==20||\r\n                serializedMat.getType()==28)\r\n        {\r\n            mat.put(0,0,serializedMat.getInts());\r\n        }\r\n        else if (serializedMat.getType()==5||\r\n                serializedMat.getType()==13||\r\n                serializedMat.getType()==21||\r\n                serializedMat.getType()==29)\r\n        {\r\n            mat.put(0,0,serializedMat.getFloats());\r\n        }\r\n        else if (serializedMat.getType()==6||\r\n                serializedMat.getType()==14||\r\n                serializedMat.getType()==22||\r\n                serializedMat.getType()==30)\r\n        {\r\n            mat.put(0,0,serializedMat.getDoubles());\r\n        }\r\n\r\n        return mat;\r\n    }\r\n\r\n    private static class SerializedMat\r\n    {\r\n        byte[] bytes;\r\n        short[] shorts;\r\n        int[] ints;\r\n        float[] floats;\r\n        double[] doubles;\r\n\r\n        int type;\r\n        int rows;\r\n        int cols;\r\n\r\n        byte[] getBytes()\r\n        {\r\n            return bytes;\r\n        }\r\n\r\n        void setBytes(byte[] bytes)\r\n        {\r\n            this.bytes = bytes;\r\n        }\r\n\r\n        short[] getShorts()\r\n        {\r\n            return shorts;\r\n        }\r\n\r\n        void setShorts(short[] shorts)\r\n        {\r\n            this.shorts = shorts;\r\n        }\r\n\r\n        int[] getInts()\r\n        {\r\n            return ints;\r\n        }\r\n\r\n        void setInts(int[] ints)\r\n        {\r\n            this.ints = ints;\r\n        }\r\n\r\n        float[] getFloats()\r\n        {\r\n            return floats;\r\n        }\r\n\r\n        void setFloats(float[] floats)\r\n        {\r\n            this.floats = floats;\r\n        }\r\n\r\n        double[] getDoubles()\r\n        {\r\n            return doubles;\r\n        }\r\n\r\n        void setDoubles(double[] doubles)\r\n        {\r\n            this.doubles = doubles;\r\n        }\r\n\r\n        int getType()\r\n        {\r\n            return type;\r\n        }\r\n\r\n        void setType(int type)\r\n        {\r\n            this.type = type;\r\n        }\r\n\r\n        int getRows()\r\n        {\r\n            return rows;\r\n        }\r\n\r\n        void setRows(int rows)\r\n        {\r\n            this.rows = rows;\r\n        }\r\n\r\n        int getCols()\r\n        {\r\n            return cols;\r\n        }\r\n\r\n        void setCols(int cols)\r\n        {\r\n            this.cols = cols;\r\n        }\r\n\r\n        SerializedMat()\r\n        {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd you can store using tinyDB like below\r\n```\r\nString kp_to_json=SerializeTheMat.keypointsToJson(kp_ref);\r\nString descriptors =  SerializeTheMat.SerializeFromMat(data);\r\n\r\ntinyDB.putString(&quot;DESC&quot;, descriptors);\r\ntinyDB.putString(&quot;KP&quot;, kp_to_json);\r\n```\r\n\r\nAnd get it back like follows:\r\n```\r\ndata = SerializeTheMat.DeserializeToMat(tinyDB.getString(&quot;DESC&quot;));\r\n\r\nkp_ref = SerializeTheMat.keypointsFromJson(tinyDB.getString(&quot;KP&quot;));\r\n```\r\n\r\nFor storing them locally you can write JSON file from those string and read those JSON files whenever needed.\r\n\r\nTHANKS\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53333710/how-to-serialize-deserialize-opencv-mat-in-java","title":"Saving opencv Mat and MatOfKeyPoint [ ANDROID JAVA ]","body":"<p>Thanks to @sorifiend I was able to store Mat via tinyDB.</p>\n<p><a href=\"https://stackoverflow.com/questions/53333710/how-to-serialize-deserialize-opencv-mat-in-java\">how-to-serialize-deserialize-opencv-mat-in-java</a> :- It works for only for Mat</p>\n<p>I did more googling and found a solution on stack overflow for MatOfKeyPoint too but can not find link to it.</p>\n<p>So below is the class I made after combining both the solutions :</p>\n<pre><code>\nimport com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\nimport org.opencv.core.KeyPoint;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfKeyPoint;\nimport org.opencv.core.Point;\n\nclass SerializeTheMat\n{\n    public static String keypointsToJson(MatOfKeyPoint mat){\n        if(mat!=null &amp;&amp; !mat.empty()){\n            Gson gson = new Gson();\n\n            JsonArray jsonArr = new JsonArray();\n\n            KeyPoint[] array = mat.toArray();\n            for(int i=0; i&lt;array.length; i++){\n                KeyPoint kp = array[i];\n\n                JsonObject obj = new JsonObject();\n\n                obj.addProperty(&quot;class_id&quot;, kp.class_id);\n                obj.addProperty(&quot;x&quot;,        kp.pt.x);\n                obj.addProperty(&quot;y&quot;,        kp.pt.y);\n                obj.addProperty(&quot;size&quot;,     kp.size);\n                obj.addProperty(&quot;angle&quot;,    kp.angle);\n                obj.addProperty(&quot;octave&quot;,   kp.octave);\n                obj.addProperty(&quot;response&quot;, kp.response);\n\n                jsonArr.add(obj);\n            }\n\n            String json = gson.toJson(jsonArr);\n\n            return json;\n        }\n        return &quot;{}&quot;;\n    }\n\n    public static MatOfKeyPoint keypointsFromJson(String json){\n        MatOfKeyPoint result = new MatOfKeyPoint();\n\n        JsonParser parser = new JsonParser();\n        JsonArray jsonArr = parser.parse(json).getAsJsonArray();\n\n        int size = jsonArr.size();\n\n        KeyPoint[] kpArray = new KeyPoint[size];\n\n        for(int i=0; i&lt;size; i++){\n            KeyPoint kp = new KeyPoint();\n\n            JsonObject obj = (JsonObject) jsonArr.get(i);\n\n            Point point = new Point(\n                    obj.get(&quot;x&quot;).getAsDouble(),\n                    obj.get(&quot;y&quot;).getAsDouble()\n            );\n\n            kp.pt       = point;\n            kp.class_id = obj.get(&quot;class_id&quot;).getAsInt();\n            kp.size     =     obj.get(&quot;size&quot;).getAsFloat();\n            kp.angle    =    obj.get(&quot;angle&quot;).getAsFloat();\n            kp.octave   =   obj.get(&quot;octave&quot;).getAsInt();\n            kp.response = obj.get(&quot;response&quot;).getAsFloat();\n\n            kpArray[i] = kp;\n        }\n\n        result.fromArray(kpArray);\n\n        return result;\n    }\n\n\n\n\n\n\n\n    //  Serialization/deserialization utility\n    public static String SerializeFromMat(Mat mat)\n    {\n        SerializedMat serializedMat = new SerializedMat();\n        serializedMat.setType(mat.type());\n        serializedMat.setRows(mat.rows());\n        serializedMat.setCols(mat.cols());\n\n        if (serializedMat.getType()==0||\n                serializedMat.getType()==8||\n                serializedMat.getType()==16||\n                serializedMat.getType()==24)\n        {\n            serializedMat.setBytes(new byte[(int)(mat.total()*mat.elemSize())]);\n            mat.get(0,0,serializedMat.bytes);\n        }\n        else if (serializedMat.getType()==1||\n                serializedMat.getType()==9||\n                serializedMat.getType()==17||\n                serializedMat.getType()==25)\n        {\n            serializedMat.setBytes(new byte[(int)(mat.total()*mat.elemSize())]);\n            mat.get(0,0,serializedMat.bytes);\n        }\n        else if (serializedMat.getType()==2||\n                serializedMat.getType()==10||\n                serializedMat.getType()==18||\n                serializedMat.getType()==26)\n        {\n            serializedMat.setShorts(new short[(int)(mat.total()*mat.elemSize())]);\n            mat.get(0,0,serializedMat.shorts);\n        }\n        else if (serializedMat.getType()==3||\n                serializedMat.getType()==11||\n                serializedMat.getType()==19||\n                serializedMat.getType()==27)\n        {\n            serializedMat.setShorts(new short[(int)(mat.total()*mat.elemSize())]);\n            mat.get(0,0,serializedMat.shorts);\n        }\n        else if (serializedMat.getType()==4||\n                serializedMat.getType()==12||\n                serializedMat.getType()==20||\n                serializedMat.getType()==28)\n        {\n            serializedMat.setInts(new int[(int)(mat.total()*mat.elemSize())]);\n            mat.get(0,0,serializedMat.ints);\n        }\n        else if (serializedMat.getType()==5||\n                serializedMat.getType()==13||\n                serializedMat.getType()==21||\n                serializedMat.getType()==29)\n        {\n            serializedMat.setFloats(new float[(int)(mat.total()*mat.elemSize())]);\n            mat.get(0,0,serializedMat.floats);\n        }\n        else if (serializedMat.getType()==6||\n                serializedMat.getType()==14||\n                serializedMat.getType()==22||\n                serializedMat.getType()==30)\n        {\n            serializedMat.setDoubles(new double[(int)(mat.total()*mat.elemSize())]);\n            mat.get(0,0,serializedMat.doubles);\n        }\n\n//        return &quot;&quot;;\n        Gson gson = new Gson();\n        return gson.toJson(serializedMat);\n    }\n\n    public static Mat DeserializeToMat(String json)\n    {\n        Gson gson = new Gson();\n        SerializedMat serializedMat = gson.fromJson(json, SerializedMat.class);\n        Mat mat = new Mat(serializedMat.getRows(),serializedMat.getCols(),serializedMat.getType());\n\n        if (serializedMat.getType()==0||\n                serializedMat.getType()==8||\n                serializedMat.getType()==16||\n                serializedMat.getType()==24)\n        {\n            mat.put(0,0,serializedMat.getBytes());\n        }\n        else if (serializedMat.getType()==1||\n                serializedMat.getType()==9||\n                serializedMat.getType()==17||\n                serializedMat.getType()==25)\n        {\n            mat.put(0,0,serializedMat.getBytes());\n        }\n        else if (serializedMat.getType()==2||\n                serializedMat.getType()==10||\n                serializedMat.getType()==18||\n                serializedMat.getType()==26)\n        {\n            mat.put(0,0,serializedMat.getShorts());\n        }\n        else if (serializedMat.getType()==3||\n                serializedMat.getType()==11||\n                serializedMat.getType()==19||\n                serializedMat.getType()==27)\n        {\n            mat.put(0,0,serializedMat.getShorts());\n        }\n        else if (serializedMat.getType()==4||\n                serializedMat.getType()==12||\n                serializedMat.getType()==20||\n                serializedMat.getType()==28)\n        {\n            mat.put(0,0,serializedMat.getInts());\n        }\n        else if (serializedMat.getType()==5||\n                serializedMat.getType()==13||\n                serializedMat.getType()==21||\n                serializedMat.getType()==29)\n        {\n            mat.put(0,0,serializedMat.getFloats());\n        }\n        else if (serializedMat.getType()==6||\n                serializedMat.getType()==14||\n                serializedMat.getType()==22||\n                serializedMat.getType()==30)\n        {\n            mat.put(0,0,serializedMat.getDoubles());\n        }\n\n        return mat;\n    }\n\n    private static class SerializedMat\n    {\n        byte[] bytes;\n        short[] shorts;\n        int[] ints;\n        float[] floats;\n        double[] doubles;\n\n        int type;\n        int rows;\n        int cols;\n\n        byte[] getBytes()\n        {\n            return bytes;\n        }\n\n        void setBytes(byte[] bytes)\n        {\n            this.bytes = bytes;\n        }\n\n        short[] getShorts()\n        {\n            return shorts;\n        }\n\n        void setShorts(short[] shorts)\n        {\n            this.shorts = shorts;\n        }\n\n        int[] getInts()\n        {\n            return ints;\n        }\n\n        void setInts(int[] ints)\n        {\n            this.ints = ints;\n        }\n\n        float[] getFloats()\n        {\n            return floats;\n        }\n\n        void setFloats(float[] floats)\n        {\n            this.floats = floats;\n        }\n\n        double[] getDoubles()\n        {\n            return doubles;\n        }\n\n        void setDoubles(double[] doubles)\n        {\n            this.doubles = doubles;\n        }\n\n        int getType()\n        {\n            return type;\n        }\n\n        void setType(int type)\n        {\n            this.type = type;\n        }\n\n        int getRows()\n        {\n            return rows;\n        }\n\n        void setRows(int rows)\n        {\n            this.rows = rows;\n        }\n\n        int getCols()\n        {\n            return cols;\n        }\n\n        void setCols(int cols)\n        {\n            this.cols = cols;\n        }\n\n        SerializedMat()\n        {\n        }\n    }\n}\n</code></pre>\n<p>And you can store using tinyDB like below</p>\n<pre><code>String kp_to_json=SerializeTheMat.keypointsToJson(kp_ref);\nString descriptors =  SerializeTheMat.SerializeFromMat(data);\n\ntinyDB.putString(&quot;DESC&quot;, descriptors);\ntinyDB.putString(&quot;KP&quot;, kp_to_json);\n</code></pre>\n<p>And get it back like follows:</p>\n<pre><code>data = SerializeTheMat.DeserializeToMat(tinyDB.getString(&quot;DESC&quot;));\n\nkp_ref = SerializeTheMat.keypointsFromJson(tinyDB.getString(&quot;KP&quot;));\n</code></pre>\n<p>For storing them locally you can write JSON file from those string and read those JSON files whenever needed.</p>\n<p>THANKS</p>\n"}],"owner":{"account_id":17274393,"reputation":33,"user_id":12509319,"display_name":"Pawandeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73371506,"answer_count":1,"score":0,"last_activity_date":1660641047,"creation_date":1660542572,"question_id":73357318,"body_markdown":"I am using SIFT by opencv in android studio JAVA language. I want to save the features of the image which are Mat and MatOfKeyPoint so that next for the same image I don&#39;t have to recalculate those features.\r\n\r\nSo far I have tried :\r\n1. TinyDB\r\n\r\nISSUE : It gets the data corrupted when app is restarted.\r\nBelow is the code I used to save for Mat, same I have applied for MatOfKeyPoint too\r\n\r\n```\r\ntinyDB.putObject(&quot;MAT_DATA&quot;, (Object) mat_descriptors);\r\n```\r\n\r\nfor reading I am using this\r\n```\r\nLog.d(&quot;TINYDB_&quot;, &quot;MAT : &quot;+tinyDB.getObject(&quot;MAT_DATA&quot;, Mat.class)+&quot;&quot;);\r\n```\r\n\r\nbelow are logs while I am reading object,\r\n1. When app is not restarted after putObject\r\n```\r\n2022-08-15 11:15:35.166 5143-5143/com.programminghut.opencv D/TINYDB_: MAT : Mat [ 59868*128*CV_32FC1, isCont=true, isSubmat=false, nativeObj=0xb4000071f399bcb0, dataAddr=0xb4000070f2d8e000 ]\r\n```\r\n\r\n2. When app is restarted and putObject is not called\r\n```\r\n2022-08-15 11:16:09.405 5268-5268/com.programminghut.opencv D/TINYDB_: MAT : Mat [ -1*-1*CV_8UC1, isCont=true, isSubmat=false, nativeObj=0xb4000071f399bcb0, dataAddr=0x0 ]\r\n``` \r\n\r\nNow I am looking either solution to the above tinyDB problem or If you think anything else could utilised to save Mat into local storage that would also be very helpful.","title":"Saving opencv Mat and MatOfKeyPoint [ ANDROID JAVA ]","body":"<p>I am using SIFT by opencv in android studio JAVA language. I want to save the features of the image which are Mat and MatOfKeyPoint so that next for the same image I don't have to recalculate those features.</p>\n<p>So far I have tried :</p>\n<ol>\n<li>TinyDB</li>\n</ol>\n<p>ISSUE : It gets the data corrupted when app is restarted.\nBelow is the code I used to save for Mat, same I have applied for MatOfKeyPoint too</p>\n<pre><code>tinyDB.putObject(&quot;MAT_DATA&quot;, (Object) mat_descriptors);\n</code></pre>\n<p>for reading I am using this</p>\n<pre><code>Log.d(&quot;TINYDB_&quot;, &quot;MAT : &quot;+tinyDB.getObject(&quot;MAT_DATA&quot;, Mat.class)+&quot;&quot;);\n</code></pre>\n<p>below are logs while I am reading object,</p>\n<ol>\n<li>When app is not restarted after putObject</li>\n</ol>\n<pre><code>2022-08-15 11:15:35.166 5143-5143/com.programminghut.opencv D/TINYDB_: MAT : Mat [ 59868*128*CV_32FC1, isCont=true, isSubmat=false, nativeObj=0xb4000071f399bcb0, dataAddr=0xb4000070f2d8e000 ]\n</code></pre>\n<ol start=\"2\">\n<li>When app is restarted and putObject is not called</li>\n</ol>\n<pre><code>2022-08-15 11:16:09.405 5268-5268/com.programminghut.opencv D/TINYDB_: MAT : Mat [ -1*-1*CV_8UC1, isCont=true, isSubmat=false, nativeObj=0xb4000071f399bcb0, dataAddr=0x0 ]\n</code></pre>\n<p>Now I am looking either solution to the above tinyDB problem or If you think anything else could utilised to save Mat into local storage that would also be very helpful.</p>\n"},{"tags":["java","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660640390,"creation_date":1660636686,"answer_id":73370592,"question_id":73369305,"body_markdown":"Unfortunately, this violates the Liskov Substitution Principle, but is compact and works.\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class MessageConverterImpl implements MessageConverter {\r\n    \r\n        private final ObjectMapper objectMapper;\r\n    \r\n        // set all message types here or get as bean from config class\r\n        private final List&lt;Class&lt;?&gt;&gt; messageTypes = List.of(\r\n                DealCreateDto.class,\r\n                DealUpdateDto.class\r\n        );\r\n    \r\n        private final Map&lt;Class&lt;?&gt;, Function&lt;Object, Boolean&gt;&gt; toMessageFunMap = new HashMap&lt;&gt;();\r\n    \r\n        private final Map&lt;String, Function&lt;Message, Object&gt;&gt; fromMessageFunMap = new HashMap&lt;&gt;();\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            messageTypes.forEach(clazz -&gt; {\r\n                toMessageFunMap.put(clazz, o -&gt; o.getClass().isAssignableFrom(clazz));\r\n                fromMessageFunMap.put(clazz.getName(), message -&gt; getMsg(message, clazz));\r\n            });\r\n        }\r\n    \r\n        @SneakyThrows\r\n        private Object getMsg(@NonNull Message message, @NonNull Class&lt;?&gt; clazz) {\r\n            return objectMapper.readValue(((TextMessage) message).getText(), clazz);\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        @SneakyThrows\r\n        public Message toMessage(@NonNull Object object, @NonNull Session session) {\r\n            Class&lt;?&gt; clazz = toMessageFunMap.keySet()\r\n                    .stream()\r\n                    .filter(cz -&gt; toMessageFunMap.get(cz).apply(object))\r\n                    .findFirst()\r\n                    .orElseThrow();\r\n            TextMessage message = session.createTextMessage();\r\n            message.setText(objectMapper.writeValueAsString(object));\r\n            message.setStringProperty(&quot;className&quot;, clazz.getName());\r\n            return message;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        @SneakyThrows\r\n        public Object fromMessage(@NonNull Message message) {\r\n            String type = message.getStringProperty(&quot;className&quot;);\r\n            return fromMessageFunMap.get(type).apply(message);\r\n        }\r\n    }","title":"Multiple message types with spring JMS","body":"<p>Unfortunately, this violates the Liskov Substitution Principle, but is compact and works.</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class MessageConverterImpl implements MessageConverter {\n\n    private final ObjectMapper objectMapper;\n\n    // set all message types here or get as bean from config class\n    private final List&lt;Class&lt;?&gt;&gt; messageTypes = List.of(\n            DealCreateDto.class,\n            DealUpdateDto.class\n    );\n\n    private final Map&lt;Class&lt;?&gt;, Function&lt;Object, Boolean&gt;&gt; toMessageFunMap = new HashMap&lt;&gt;();\n\n    private final Map&lt;String, Function&lt;Message, Object&gt;&gt; fromMessageFunMap = new HashMap&lt;&gt;();\n\n    @PostConstruct\n    public void init() {\n        messageTypes.forEach(clazz -&gt; {\n            toMessageFunMap.put(clazz, o -&gt; o.getClass().isAssignableFrom(clazz));\n            fromMessageFunMap.put(clazz.getName(), message -&gt; getMsg(message, clazz));\n        });\n    }\n\n    @SneakyThrows\n    private Object getMsg(@NonNull Message message, @NonNull Class&lt;?&gt; clazz) {\n        return objectMapper.readValue(((TextMessage) message).getText(), clazz);\n    }\n\n    @NonNull\n    @Override\n    @SneakyThrows\n    public Message toMessage(@NonNull Object object, @NonNull Session session) {\n        Class&lt;?&gt; clazz = toMessageFunMap.keySet()\n                .stream()\n                .filter(cz -&gt; toMessageFunMap.get(cz).apply(object))\n                .findFirst()\n                .orElseThrow();\n        TextMessage message = session.createTextMessage();\n        message.setText(objectMapper.writeValueAsString(object));\n        message.setStringProperty(&quot;className&quot;, clazz.getName());\n        return message;\n    }\n\n    @NonNull\n    @Override\n    @SneakyThrows\n    public Object fromMessage(@NonNull Message message) {\n        String type = message.getStringProperty(&quot;className&quot;);\n        return fromMessageFunMap.get(type).apply(message);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660640390,"creation_date":1660629031,"question_id":73369305,"body_markdown":"I have 2 message types `DealCreateDto` and `DealUpdateDto`.\r\n\r\nHow can I work with 2 different message data types in one spring application? Should I create 2 JmsTemplate instances for each message type or something else?\r\n\r\nFor JMS using embedded ActiveMQ and `MessageConverter` implementations:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class DealCreateDtoConverter implements MessageConverter {\r\n    \r\n        private final ObjectMapper objectMapper;\r\n    \r\n        @NonNull\r\n        @Override\r\n        @SneakyThrows\r\n        public Message toMessage(@NonNull Object object, @NonNull Session session) {\r\n            TextMessage message = session.createTextMessage();\r\n            message.setText(objectMapper.writeValueAsString(object));\r\n            return message;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        @SneakyThrows\r\n        public DealCreateDto fromMessage(@NonNull Message message) {\r\n            return objectMapper.readValue(((TextMessage) message).getText(), DealCreateDto.class);\r\n        }\r\n    }\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class DealUpdateDtoConverter implements MessageConverter {\r\n    \r\n        private final ObjectMapper objectMapper;\r\n    \r\n        @NonNull\r\n        @Override\r\n        @SneakyThrows\r\n        public Message toMessage(@NonNull Object object, @NonNull Session session) {\r\n            TextMessage message = session.createTextMessage();\r\n            message.setText(objectMapper.writeValueAsString(object));\r\n            return message;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        @SneakyThrows\r\n        public DealUpdateDto fromMessage(@NonNull Message message) {\r\n            return objectMapper.readValue(((TextMessage) message).getText(), DealUpdateDto.class);\r\n        }\r\n    }\r\n\r\nBut as I understood one `JmsTemplate` can contain only one message converter, and when I try to use both:\r\n\r\n\r\n    private final JmsTemplate jmsTemplate;\r\n\r\n    @Override\r\n    public void create(@NonNull DealCreateDto deal) {\r\n        jmsTemplate.convertAndSend(ActiveMqConfig.DEAL_CREATE_QUEUE, deal);\r\n    }\r\n\r\n    @JmsListener(destination = ActiveMqConfig.DEAL_CREATE_QUEUE, containerFactory = &quot;jmsFactory&quot;)\r\n    public void receiveCreate(@Payload @NonNull DealCreateDto dealDto) {\r\n    }\r\n\r\n    @Override\r\n    public void update(@NonNull DealUpdateDto deal) {\r\n        jmsTemplate.convertAndSend(ActiveMqConfig.DEAL_UPDATE_QUEUE, deal);\r\n    }\r\n\r\n    @JmsListener(destination = ActiveMqConfig.DEAL_UPDATE_QUEUE, containerFactory = &quot;jmsFactory&quot;)\r\n    public void receiveUpdate(@Payload @NonNull DealUpdateDto dealDto) {\r\n    }\r\n\r\nThrowing an exception:\r\n\r\n    2022-08-16 08:41:19:131 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jms.support.converter.MessageConversionException: Cannot convert object of type [ltd.mydomain.dto.deal.DealCreateDto] to JMS message. Supported message payloads are: String, byte array, Map&lt;String,?&gt;, Serializable object.] with root cause\r\n    org.springframework.jms.support.converter.MessageConversionException: Cannot convert object of type [ltd.mydomain.dto.deal.DealCreateDto] to JMS message. Supported message payloads are: String, byte array, Map&lt;String,?&gt;, Serializable object.\r\n    \tat org.springframework.jms.support.converter.SimpleMessageConverter.toMessage(SimpleMessageConverter.java:79)\r\n    \tat org.springframework.jms.core.JmsTemplate.lambda$convertAndSend$5(JmsTemplate.java:661)\r\n    \tat org.springframework.jms.core.JmsTemplate.doSend(JmsTemplate.java:604)\r\n    \tat org.springframework.jms.core.JmsTemplate.lambda$send$3(JmsTemplate.java:586)\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:504)\r\n    \tat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584)\r\n    \tat org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:661)\r\n    \tat ltd.mydomain.service.DealServiceImpl.create(DealServiceImpl.java:39)\r\n    \tat ltd.mydomain.service.DealServiceImpl$$FastClassBySpringCGLIB$$4deee829.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)\r\n    \tat org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)\r\n    \tat ltd.mydomain.service.DealServiceImpl$$EnhancerBySpringCGLIB$$b58a53c.create(&lt;generated&gt;)\r\n    \tat ltd.mydomain.controller.DealController.create(DealController.java:30)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nJms configuration:\r\n\r\n    @EnableJms\r\n    @Configuration\r\n    public class ActiveMqConfig {\r\n    \r\n        public static final String DEAL_CREATE_QUEUE = &quot;deal-create-queue&quot;;\r\n    \r\n        public static final String DEAL_UPDATE_QUEUE = &quot;deal-update-queue&quot;;\r\n    \r\n        @Bean\r\n        public JmsListenerContainerFactory&lt;?&gt; jmsFactory(\r\n                @NonNull ConnectionFactory connectionFactory,\r\n                @NonNull DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n            DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n            configurer.configure(factory, connectionFactory);\r\n            return factory;\r\n        }\r\n    }\r\n ","title":"Multiple message types with spring JMS","body":"<p>I have 2 message types <code>DealCreateDto</code> and <code>DealUpdateDto</code>.</p>\n<p>How can I work with 2 different message data types in one spring application? Should I create 2 JmsTemplate instances for each message type or something else?</p>\n<p>For JMS using embedded ActiveMQ and <code>MessageConverter</code> implementations:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class DealCreateDtoConverter implements MessageConverter {\n\n    private final ObjectMapper objectMapper;\n\n    @NonNull\n    @Override\n    @SneakyThrows\n    public Message toMessage(@NonNull Object object, @NonNull Session session) {\n        TextMessage message = session.createTextMessage();\n        message.setText(objectMapper.writeValueAsString(object));\n        return message;\n    }\n\n    @NonNull\n    @Override\n    @SneakyThrows\n    public DealCreateDto fromMessage(@NonNull Message message) {\n        return objectMapper.readValue(((TextMessage) message).getText(), DealCreateDto.class);\n    }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class DealUpdateDtoConverter implements MessageConverter {\n\n    private final ObjectMapper objectMapper;\n\n    @NonNull\n    @Override\n    @SneakyThrows\n    public Message toMessage(@NonNull Object object, @NonNull Session session) {\n        TextMessage message = session.createTextMessage();\n        message.setText(objectMapper.writeValueAsString(object));\n        return message;\n    }\n\n    @NonNull\n    @Override\n    @SneakyThrows\n    public DealUpdateDto fromMessage(@NonNull Message message) {\n        return objectMapper.readValue(((TextMessage) message).getText(), DealUpdateDto.class);\n    }\n}\n</code></pre>\n<p>But as I understood one <code>JmsTemplate</code> can contain only one message converter, and when I try to use both:</p>\n<pre><code>private final JmsTemplate jmsTemplate;\n\n@Override\npublic void create(@NonNull DealCreateDto deal) {\n    jmsTemplate.convertAndSend(ActiveMqConfig.DEAL_CREATE_QUEUE, deal);\n}\n\n@JmsListener(destination = ActiveMqConfig.DEAL_CREATE_QUEUE, containerFactory = &quot;jmsFactory&quot;)\npublic void receiveCreate(@Payload @NonNull DealCreateDto dealDto) {\n}\n\n@Override\npublic void update(@NonNull DealUpdateDto deal) {\n    jmsTemplate.convertAndSend(ActiveMqConfig.DEAL_UPDATE_QUEUE, deal);\n}\n\n@JmsListener(destination = ActiveMqConfig.DEAL_UPDATE_QUEUE, containerFactory = &quot;jmsFactory&quot;)\npublic void receiveUpdate(@Payload @NonNull DealUpdateDto dealDto) {\n}\n</code></pre>\n<p>Throwing an exception:</p>\n<pre><code>2022-08-16 08:41:19:131 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jms.support.converter.MessageConversionException: Cannot convert object of type [ltd.mydomain.dto.deal.DealCreateDto] to JMS message. Supported message payloads are: String, byte array, Map&lt;String,?&gt;, Serializable object.] with root cause\norg.springframework.jms.support.converter.MessageConversionException: Cannot convert object of type [ltd.mydomain.dto.deal.DealCreateDto] to JMS message. Supported message payloads are: String, byte array, Map&lt;String,?&gt;, Serializable object.\n    at org.springframework.jms.support.converter.SimpleMessageConverter.toMessage(SimpleMessageConverter.java:79)\n    at org.springframework.jms.core.JmsTemplate.lambda$convertAndSend$5(JmsTemplate.java:661)\n    at org.springframework.jms.core.JmsTemplate.doSend(JmsTemplate.java:604)\n    at org.springframework.jms.core.JmsTemplate.lambda$send$3(JmsTemplate.java:586)\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:504)\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584)\n    at org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:661)\n    at ltd.mydomain.service.DealServiceImpl.create(DealServiceImpl.java:39)\n    at ltd.mydomain.service.DealServiceImpl$$FastClassBySpringCGLIB$$4deee829.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)\n    at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)\n    at ltd.mydomain.service.DealServiceImpl$$EnhancerBySpringCGLIB$$b58a53c.create(&lt;generated&gt;)\n    at ltd.mydomain.controller.DealController.create(DealController.java:30)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Jms configuration:</p>\n<pre><code>@EnableJms\n@Configuration\npublic class ActiveMqConfig {\n\n    public static final String DEAL_CREATE_QUEUE = &quot;deal-create-queue&quot;;\n\n    public static final String DEAL_UPDATE_QUEUE = &quot;deal-update-queue&quot;;\n\n    @Bean\n    public JmsListenerContainerFactory&lt;?&gt; jmsFactory(\n            @NonNull ConnectionFactory connectionFactory,\n            @NonNull DefaultJmsListenerContainerFactoryConfigurer configurer) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        configurer.configure(factory, connectionFactory);\n        return factory;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","systemd","amazon-linux"],"answers":[{"tags":[],"owner":{"account_id":117989,"reputation":19157,"user_id":308679,"display_name":"J&#252;rgen H&#246;tzel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566364074,"creation_date":1566364074,"answer_id":57584757,"question_id":57481649,"body_markdown":"You use shell parameter expansion (`$`) in your Unit file Environment configuraton:\r\n\r\n    EnvironmentFile=/etc/sysconfig/my-microservice\r\n    Environment=&quot;JAVA_HOME=$(dirname $(dirname $(readlink $(readlink $(which java)))))&quot;\r\n    Environment=&quot;PATH=$PATH:$JAVA_HOME/bin&quot;\r\n    Environment=&quot;CLASSPATH=.:$JAVA_HOME/jre/lib:$JAVA_HOME/lib&quot;\r\n    Environment=&quot;SPRING_PROFILES_ACTIVE=pro&quot;\r\n    Environment=&quot;JAVA_OPTS=-Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=pro -server -d64 -Xms256m -Xmx2048m -Xss256m -XX:+UseParallelGC -XX:MaxHeapSize=2048m -XX:MaxMetaspaceSize=1024m -XX:MaxHeapFreeRatio=75 -XX:+HeapDumpOnOutOfMemoryError&quot;\r\n\r\n [Systemd doesn&#39;t support shell parameter expansion][1]:\r\n\r\n&gt; Environment= Sets environment variables for executed processes. Takes\r\n&gt; a space-separated list of variable assignments. This option may be\r\n&gt; specified more than once, in which case all listed variables will be\r\n&gt; set. If the same variable is set twice, the later setting will\r\n&gt; override the earlier setting. If the empty string is assigned to this\r\n&gt; option, the list of environment variables is reset, all prior\r\n&gt; assignments have no effect. Variable expansion is not performed inside\r\n&gt; the strings, however, specifier expansion is possible. **The $ character\r\n&gt; has no special meaning.** If you need to assign a value containing\r\n&gt; spaces or the equals sign to a variable, use double quotes (&quot;) for the\r\n&gt; assignment.\r\n\r\n\r\n  [1]: https://www.freedesktop.org/software/systemd/man/systemd.exec.html#Environment\r\n\r\nI would suggest to define the environment variables in a usual `setenv.sh` file of the application. ","title":"Spring Boot 2.1.6 can&#39;t start as a SystemD service","body":"<p>You use shell parameter expansion (<code>$</code>) in your Unit file Environment configuraton:</p>\n\n<pre><code>EnvironmentFile=/etc/sysconfig/my-microservice\nEnvironment=\"JAVA_HOME=$(dirname $(dirname $(readlink $(readlink $(which java)))))\"\nEnvironment=\"PATH=$PATH:$JAVA_HOME/bin\"\nEnvironment=\"CLASSPATH=.:$JAVA_HOME/jre/lib:$JAVA_HOME/lib\"\nEnvironment=\"SPRING_PROFILES_ACTIVE=pro\"\nEnvironment=\"JAVA_OPTS=-Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=pro -server -d64 -Xms256m -Xmx2048m -Xss256m -XX:+UseParallelGC -XX:MaxHeapSize=2048m -XX:MaxMetaspaceSize=1024m -XX:MaxHeapFreeRatio=75 -XX:+HeapDumpOnOutOfMemoryError\"\n</code></pre>\n\n<p><a href=\"https://www.freedesktop.org/software/systemd/man/systemd.exec.html#Environment\" rel=\"nofollow noreferrer\">Systemd doesn't support shell parameter expansion</a>:</p>\n\n<blockquote>\n  <p>Environment= Sets environment variables for executed processes. Takes\n  a space-separated list of variable assignments. This option may be\n  specified more than once, in which case all listed variables will be\n  set. If the same variable is set twice, the later setting will\n  override the earlier setting. If the empty string is assigned to this\n  option, the list of environment variables is reset, all prior\n  assignments have no effect. Variable expansion is not performed inside\n  the strings, however, specifier expansion is possible. <strong>The $ character\n  has no special meaning.</strong> If you need to assign a value containing\n  spaces or the equals sign to a variable, use double quotes (\") for the\n  assignment.</p>\n</blockquote>\n\n<p>I would suggest to define the environment variables in a usual <code>setenv.sh</code> file of the application. </p>\n"}],"owner":{"account_id":988034,"reputation":325,"user_id":1006079,"display_name":"Lenin Meza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57584757,"answer_count":1,"score":0,"last_activity_date":1660640378,"creation_date":1565712756,"question_id":57481649,"body_markdown":"I&#39;m trying to start a Spring Boot application as a Service on a Amazon Linux EC2 instance.\r\n\r\nI&#39;m packaging the service with:\r\n\r\n    $ mvn clean package spring-boot:repackage -Dstart-class=com.acme.MyMicroserviceApplication\r\n\r\nWhen i start the service manually(without the service) it runs correclty:\r\n\r\n    $ /usr/bin/java -Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=pro -server -d64 -Xms256m -Xmx2048m -Xss256m -XX:+UseParallelGC -XX:MaxHeapSize=2048m -XX:MaxMetaspaceSize=1024m -XX:MaxHeapFreeRatio=75 -XX:+HeapDumpOnOutOfMemoryError -jar /home/ec2-user/jars/my-microservice-1.0.0-RELEASE.jar\r\n\r\n&gt; INFO  [main]\r\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat\r\n&gt; started on port(s): 8080 (http) with context path &#39;&#39; INFO  [main]\r\n&gt; org.springframework.boot.StartupInfoLogger: Started\r\n&gt; FacebookServiceApplication in 12.17 seconds (JVM running for 12.861)\r\n&gt; INFO  [http-nio-8080-exec-1] org.apache.juli.logging.DirectJDKLog:\r\n&gt; Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39; INFO \r\n&gt; [http-nio-8080-exec-1]\r\n&gt; org.springframework.web.servlet.FrameworkServlet: Initializing Servlet\r\n&gt; &#39;dispatcherServlet&#39; INFO  [http-nio-8080-exec-1]\r\n&gt; org.springframework.web.servlet.FrameworkServlet: Completed\r\n&gt; initialization in 23 ms\r\n\r\nBut when i start the service, Spring Boot can not find the class:\r\n\r\n - org.springframework.boot.loader.JarLauncher\r\n\r\nThe error is:\r\n\r\n    my-microservice[27205]: Error: Could not find or load main class org.springframework.boot.loader.JarLauncher\r\n    systemd[1]: squint-facebook.service: main process exited, code=exited, status=1/FAILURE\r\n    systemd[1]: Unit my-micro.service entered failed state.\r\n    systemd[1]: my-micro.service failed.\r\n    systemd[1]: Stopped my-microservice.\r\n\r\nMy service file is:\r\n\r\n - /etc/systemd/system/my-micro.service\r\n\r\n___________________________\r\n\r\n    [Unit]\r\n    Description=my-microservice\r\n    After=syslog.target network.target\r\n    Wants=redis.service\r\n    \r\n    [Service]\r\n    Type=simple\r\n    EnvironmentFile=/etc/sysconfig/my-microservice\r\n    Environment=&quot;JAVA_HOME=$(dirname $(dirname $(readlink $(readlink $(which java)))))&quot;\r\n    Environment=&quot;PATH=$PATH:$JAVA_HOME/bin&quot;\r\n    Environment=&quot;CLASSPATH=.:$JAVA_HOME/jre/lib:$JAVA_HOME/lib&quot;\r\n    Environment=&quot;SPRING_PROFILES_ACTIVE=pro&quot;\r\n    Environment=&quot;JAVA_OPTS=-Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=pro -server -d64 -Xms256m -Xmx2048m -Xss256m -XX:+UseParallelGC -XX:MaxHeapSize=2048m -XX:MaxMetaspaceSize=1024m -XX:MaxHeapFreeRatio=75 -XX:+HeapDumpOnOutOfMemoryError&quot;\r\n    User=springboot\r\n    # The configuration file application.properties should be here:\r\n    WorkingDirectory=/home/ec2-user/jars\r\n    # Run ExecStartPre with root-permissions\r\n    PermissionsStartOnly=true\r\n    ExecStartPre=/bin/mkdir -p /var/log/my-microservice\r\n    ExecStartPre=/bin/chown -R springboot:syslog /var/log/my-microservice\r\n    ExecStartPre=/bin/chmod -R 775 /var/log/my-microservice\r\n    ExecStart=/usr/bin/java \\\r\n            -Djava.security.egd=file:/dev/./urandom \\\r\n            -Dspring.profiles.active=pro \\\r\n            -server \\\r\n            -d64 \\\r\n            -Xms256m \\\r\n            -Xmx2048m \\\r\n            -Xss256m \\\r\n            -XX:+UseParallelGC \\\r\n            -XX:MaxHeapSize=2048m \\\r\n            -XX:MaxMetaspaceSize=1024m \\\r\n            -XX:MaxHeapFreeRatio=75 \\\r\n            -XX:+HeapDumpOnOutOfMemoryError \\\r\n            -jar my-microservice-1.0.0-RELEASE.jar\r\n    SuccessExitStatus=143\r\n    StandardOutput=journal\r\n    StandardError=journal\r\n    KillSignal=SIGINT\r\n    TimeoutStopSec=20\r\n    Restart=always\r\n    RestartSec=5\r\n    StartLimitInterval=0\r\n    StartLimitBurst=10\r\n    SyslogIdentifier=my-microservice\r\n    \r\n    [Install]\r\n    WantedBy=multi-user.target\r\n________________________________\r\nThe pom.xml file of my project is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.teamknowlogy.squint&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;my-microservice&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\r\n    \t&lt;name&gt;my-microservice&lt;/name&gt;\r\n    \t&lt;description&gt;...&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Greenwich.SR1&lt;/spring-cloud.version&gt;\r\n    \t\t&lt;spring-session.version&gt;1.3.5.RELEASE&lt;/spring-session.version&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;!-- The main class to start by executing &quot;java -jar&quot; --&gt;\r\n    \t\t&lt;start-class&gt;com.acme.MyMicroserviceApplication&lt;/start-class&gt;\r\n    \t\t&lt;spring.boot.mainclass&gt;com.acme.MyMicroserviceApplication&lt;/spring.boot.mainclass&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-aws&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-loader --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;artifactId&gt;auth&lt;/artifactId&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;23.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.12.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-pool2 --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/bom --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6.5&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;!-- https://spring.io/projects/spring-session --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-session-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;Bean-SR3&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n    \t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n    \t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t&lt;filtering&gt;false&lt;/filtering&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t\t&lt;!-- &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt; --&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;skipTests&gt;true&lt;/skipTests&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;mainClass&gt;${spring.boot.mainclass}&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;${spring.boot.mainclass}&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n________________________\r\n\r\nVersion of Java:\r\n\r\n    $ /usr/bin/java -version\r\n    openjdk version &quot;1.8.0_201&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_201-b09)\r\n    OpenJDK 64-Bit Server VM (build 25.201-b09, mixed mode)\r\n\r\nVersion of the Amazon Linux instance:\r\n\r\n    $ cat /etc/*release\r\n    NAME=&quot;Amazon Linux&quot;\r\n    VERSION=&quot;2&quot;\r\n    ID=&quot;amzn&quot;\r\n    ID_LIKE=&quot;centos rhel fedora&quot;\r\n    VERSION_ID=&quot;2&quot;\r\n    PRETTY_NAME=&quot;Amazon Linux 2&quot;\r\n    ANSI_COLOR=&quot;0;33&quot;\r\n    CPE_NAME=&quot;cpe:2.3:o:amazon:amazon_linux:2&quot;\r\n    HOME_URL=&quot;https://amazonlinux.com/&quot;\r\n    Amazon Linux release 2 (Karoo)","title":"Spring Boot 2.1.6 can&#39;t start as a SystemD service","body":"<p>I'm trying to start a Spring Boot application as a Service on a Amazon Linux EC2 instance.</p>\n\n<p>I'm packaging the service with:</p>\n\n<pre><code>$ mvn clean package spring-boot:repackage -Dstart-class=com.acme.MyMicroserviceApplication\n</code></pre>\n\n<p>When i start the service manually(without the service) it runs correclty:</p>\n\n<pre><code>$ /usr/bin/java -Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=pro -server -d64 -Xms256m -Xmx2048m -Xss256m -XX:+UseParallelGC -XX:MaxHeapSize=2048m -XX:MaxMetaspaceSize=1024m -XX:MaxHeapFreeRatio=75 -XX:+HeapDumpOnOutOfMemoryError -jar /home/ec2-user/jars/my-microservice-1.0.0-RELEASE.jar\n</code></pre>\n\n<blockquote>\n  <p>INFO  [main]\n  org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat\n  started on port(s): 8080 (http) with context path '' INFO  [main]\n  org.springframework.boot.StartupInfoLogger: Started\n  FacebookServiceApplication in 12.17 seconds (JVM running for 12.861)\n  INFO  [http-nio-8080-exec-1] org.apache.juli.logging.DirectJDKLog:\n  Initializing Spring DispatcherServlet 'dispatcherServlet' INFO \n  [http-nio-8080-exec-1]\n  org.springframework.web.servlet.FrameworkServlet: Initializing Servlet\n  'dispatcherServlet' INFO  [http-nio-8080-exec-1]\n  org.springframework.web.servlet.FrameworkServlet: Completed\n  initialization in 23 ms</p>\n</blockquote>\n\n<p>But when i start the service, Spring Boot can not find the class:</p>\n\n<ul>\n<li>org.springframework.boot.loader.JarLauncher</li>\n</ul>\n\n<p>The error is:</p>\n\n<pre><code>my-microservice[27205]: Error: Could not find or load main class org.springframework.boot.loader.JarLauncher\nsystemd[1]: squint-facebook.service: main process exited, code=exited, status=1/FAILURE\nsystemd[1]: Unit my-micro.service entered failed state.\nsystemd[1]: my-micro.service failed.\nsystemd[1]: Stopped my-microservice.\n</code></pre>\n\n<p>My service file is:</p>\n\n<ul>\n<li>/etc/systemd/system/my-micro.service</li>\n</ul>\n\n<hr>\n\n<pre><code>[Unit]\nDescription=my-microservice\nAfter=syslog.target network.target\nWants=redis.service\n\n[Service]\nType=simple\nEnvironmentFile=/etc/sysconfig/my-microservice\nEnvironment=\"JAVA_HOME=$(dirname $(dirname $(readlink $(readlink $(which java)))))\"\nEnvironment=\"PATH=$PATH:$JAVA_HOME/bin\"\nEnvironment=\"CLASSPATH=.:$JAVA_HOME/jre/lib:$JAVA_HOME/lib\"\nEnvironment=\"SPRING_PROFILES_ACTIVE=pro\"\nEnvironment=\"JAVA_OPTS=-Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=pro -server -d64 -Xms256m -Xmx2048m -Xss256m -XX:+UseParallelGC -XX:MaxHeapSize=2048m -XX:MaxMetaspaceSize=1024m -XX:MaxHeapFreeRatio=75 -XX:+HeapDumpOnOutOfMemoryError\"\nUser=springboot\n# The configuration file application.properties should be here:\nWorkingDirectory=/home/ec2-user/jars\n# Run ExecStartPre with root-permissions\nPermissionsStartOnly=true\nExecStartPre=/bin/mkdir -p /var/log/my-microservice\nExecStartPre=/bin/chown -R springboot:syslog /var/log/my-microservice\nExecStartPre=/bin/chmod -R 775 /var/log/my-microservice\nExecStart=/usr/bin/java \\\n        -Djava.security.egd=file:/dev/./urandom \\\n        -Dspring.profiles.active=pro \\\n        -server \\\n        -d64 \\\n        -Xms256m \\\n        -Xmx2048m \\\n        -Xss256m \\\n        -XX:+UseParallelGC \\\n        -XX:MaxHeapSize=2048m \\\n        -XX:MaxMetaspaceSize=1024m \\\n        -XX:MaxHeapFreeRatio=75 \\\n        -XX:+HeapDumpOnOutOfMemoryError \\\n        -jar my-microservice-1.0.0-RELEASE.jar\nSuccessExitStatus=143\nStandardOutput=journal\nStandardError=journal\nKillSignal=SIGINT\nTimeoutStopSec=20\nRestart=always\nRestartSec=5\nStartLimitInterval=0\nStartLimitBurst=10\nSyslogIdentifier=my-microservice\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n\n<hr>\n\n<p>The pom.xml file of my project is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.teamknowlogy.squint&lt;/groupId&gt;\n    &lt;artifactId&gt;my-microservice&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\n    &lt;name&gt;my-microservice&lt;/name&gt;\n    &lt;description&gt;...&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Greenwich.SR1&lt;/spring-cloud.version&gt;\n        &lt;spring-session.version&gt;1.3.5.RELEASE&lt;/spring-session.version&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;!-- The main class to start by executing \"java -jar\" --&gt;\n        &lt;start-class&gt;com.acme.MyMicroserviceApplication&lt;/start-class&gt;\n        &lt;spring.boot.mainclass&gt;com.acme.MyMicroserviceApplication&lt;/spring.boot.mainclass&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-aws&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-loader --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;artifactId&gt;auth&lt;/artifactId&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;artifactId&gt;aws-core&lt;/artifactId&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;artifactId&gt;s3&lt;/artifactId&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n            &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-pool2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/bom --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;2.6.5&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://spring.io/projects/spring-session --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-session-bom&lt;/artifactId&gt;\n                &lt;version&gt;Bean-SR3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;!-- &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt; --&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                    &lt;mainClass&gt;${spring.boot.mainclass}&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;${spring.boot.mainclass}&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<hr>\n\n<p>Version of Java:</p>\n\n<pre><code>$ /usr/bin/java -version\nopenjdk version \"1.8.0_201\"\nOpenJDK Runtime Environment (build 1.8.0_201-b09)\nOpenJDK 64-Bit Server VM (build 25.201-b09, mixed mode)\n</code></pre>\n\n<p>Version of the Amazon Linux instance:</p>\n\n<pre><code>$ cat /etc/*release\nNAME=\"Amazon Linux\"\nVERSION=\"2\"\nID=\"amzn\"\nID_LIKE=\"centos rhel fedora\"\nVERSION_ID=\"2\"\nPRETTY_NAME=\"Amazon Linux 2\"\nANSI_COLOR=\"0;33\"\nCPE_NAME=\"cpe:2.3:o:amazon:amazon_linux:2\"\nHOME_URL=\"https://amazonlinux.com/\"\nAmazon Linux release 2 (Karoo)\n</code></pre>\n"},{"tags":["java","apache-poi","xlsx"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1590577600,"post_id":62039794,"comment_id":109730242,"body_markdown":"Where is the problem file coming from? What system / tool / etc is generating it?","body":"Where is the problem file coming from? What system / tool / etc is generating it?"},{"owner":{"account_id":10913270,"reputation":91,"user_id":9409421,"display_name":"berek"},"score":0,"creation_date":1590579464,"post_id":62039794,"comment_id":109731170,"body_markdown":"This is a good question,but I do not have reliable information about this, although this of course could simplify everything","body":"This is a good question,but I do not have reliable information about this, although this of course could simplify everything"},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1631893551,"post_id":62039794,"comment_id":122355172,"body_markdown":"Hi Berek, I am facing the same issue like you. Were you able to resolve this? I was getting this with apache-poi_4.2.2. I downloaded the latest 5.0.0 and this error comes there as well. I am not sure how to overcome this issue","body":"Hi Berek, I am facing the same issue like you. Were you able to resolve this? I was getting this with apache-poi_4.2.2. I downloaded the latest 5.0.0 and this error comes there as well. I am not sure how to overcome this issue"}],"answers":[{"tags":[],"owner":{"account_id":24034689,"reputation":1,"user_id":18015097,"display_name":"walle lyu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660640171,"creation_date":1660640171,"answer_id":73371332,"question_id":62039794,"body_markdown":"This error also happened in my program when I want to create multiple sheets in a workbook with a multi-thread pool. I guess the reason is that when two sheets has the same name, this error occurs. I solved this program by creating sheets in advance, then in the multi-thread pool I got the sheet by its index.\r\n","title":"Contents of the unpacked xlsx file and apache poi","body":"<p>This error also happened in my program when I want to create multiple sheets in a workbook with a multi-thread pool. I guess the reason is that when two sheets has the same name, this error occurs. I solved this program by creating sheets in advance, then in the multi-thread pool I got the sheet by its index.</p>\n"}],"owner":{"account_id":10913270,"reputation":91,"user_id":9409421,"display_name":"berek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660640171,"creation_date":1590571667,"question_id":62039794,"body_markdown":"The initial problem is the inability to open the xlsx file through poi, while in Excel it opens.\r\n\r\nA detailed study of the poi showed that the problem lies in the contents of the file.\r\nIf you unzip xslx file, then in the xl folder, in addition to all other files there will be two due to which there is a problem\r\n\r\n    xl/metadata\r\n    xl/metadata.xml\r\n\r\nwhen using poi method OPCPackage.open(fileName, PackageAccess.READ) this leads to an error:\r\n\r\n    org.apache.poi.openxml4j.exceptions.InvalidFormatException: You can&#39;t add a part with a part name derived from another part ! [M1.11]\r\n\r\nwhich occurs due to the same file names.\r\n\r\nIf I just copy the contents of the entire xlsx file to a new created xlsx file and save it, then the xl/metadata file will not be there and it will open through poi well.\r\nBut I don‚Äôt have the task of just fixing the file, I need to figure out why this problem could arise.\r\nIs there any idea about the occurrence of xl/metadata in the contents of the xlsx?","title":"Contents of the unpacked xlsx file and apache poi","body":"<p>The initial problem is the inability to open the xlsx file through poi, while in Excel it opens.</p>\n\n<p>A detailed study of the poi showed that the problem lies in the contents of the file.\nIf you unzip xslx file, then in the xl folder, in addition to all other files there will be two due to which there is a problem</p>\n\n<pre><code>xl/metadata\nxl/metadata.xml\n</code></pre>\n\n<p>when using poi method OPCPackage.open(fileName, PackageAccess.READ) this leads to an error:</p>\n\n<pre><code>org.apache.poi.openxml4j.exceptions.InvalidFormatException: You can't add a part with a part name derived from another part ! [M1.11]\n</code></pre>\n\n<p>which occurs due to the same file names.</p>\n\n<p>If I just copy the contents of the entire xlsx file to a new created xlsx file and save it, then the xl/metadata file will not be there and it will open through poi well.\nBut I don‚Äôt have the task of just fixing the file, I need to figure out why this problem could arise.\nIs there any idea about the occurrence of xl/metadata in the contents of the xlsx?</p>\n"},{"tags":["java","spring","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":23134322,"reputation":107,"user_id":17238746,"display_name":"Ankit Srivastava"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635428607,"creation_date":1635428607,"answer_id":69755231,"question_id":69754771,"body_markdown":"First, you need to add the dependencies required to do the job.\r\nThen you should create DTO class for currency,\r\n\r\n    @Entity\r\n    public class Currency {\r\n        @Id\r\n        private int id;\r\n        private String title;\r\n    }\r\n\r\n\r\n    public enum CurrencyName {\r\n        C1, C2, C3, C4;\r\n    }\r\nnow by using this class you can set the currency name and can fetch the data from the database.\r\n\r\n","title":"How to create an ENUM array column with JPA?","body":"<p>First, you need to add the dependencies required to do the job.\nThen you should create DTO class for currency,</p>\n<pre><code>@Entity\npublic class Currency {\n    @Id\n    private int id;\n    private String title;\n}\n\n\npublic enum CurrencyName {\n    C1, C2, C3, C4;\n}\n</code></pre>\n<p>now by using this class you can set the currency name and can fetch the data from the database.</p>\n"},{"tags":[],"owner":{"account_id":26035930,"reputation":1,"user_id":19741378,"display_name":"–§–µ–¥–æ—Ä –ì—Ä–µ—á–∞–Ω—ã–π"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660640147,"creation_date":1660205274,"answer_id":73317312,"question_id":69754771,"body_markdown":" 1. entity should be like\r\n```\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;entity_name&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n    public class EntityName {\r\n    \r\n       @Builder.Default\r\n       @Enumerated(EnumType.STRING)\r\n       @Type(type = &quot;json&quot;)\r\n       private Set&lt;CurrencyDto&gt; currencyOptions = new HashSet&lt;&gt;();\r\n    }\r\n```\r\n\r\n 2. migration for &quot;EntityName&quot; table\r\n```\r\ncurrency_options JSONB NOT NULL DEFAULT &#39;[]&#39;::jsonb\r\n```","title":"How to create an ENUM array column with JPA?","body":"<ol>\n<li>entity should be like</li>\n</ol>\n<pre><code>    @Builder\n    @Entity\n    @Table(name = &quot;entity_name&quot;)\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\n    public class EntityName {\n    \n       @Builder.Default\n       @Enumerated(EnumType.STRING)\n       @Type(type = &quot;json&quot;)\n       private Set&lt;CurrencyDto&gt; currencyOptions = new HashSet&lt;&gt;();\n    }\n</code></pre>\n<ol start=\"2\">\n<li>migration for &quot;EntityName&quot; table</li>\n</ol>\n<pre><code>currency_options JSONB NOT NULL DEFAULT '[]'::jsonb\n</code></pre>\n"}],"owner":{"account_id":17824654,"reputation":11,"user_id":12946163,"display_name":"Midorina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660640147,"creation_date":1635426877,"question_id":69754771,"body_markdown":"I would like to have an array of strings in my PostgreSQL database, and have them be converted to a set of enum objects in my code. This is what I have:\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER, targetClass = CurrencyDto.class)\r\n    @Enumerated(EnumType.STRING)\r\n    private Set&lt;CurrencyDto&gt; currencyOptions;\r\n    \r\nBut, it tries to fetch it from another table with this error `relation &quot;theme_config_currency_options&quot; does not exist`\r\n\r\nI don&#39;t want JPA to fetch it from another table. The string representation of my enum objects should be in that column inside an array. My enum \r\nclass is `CurrencyDto`. \r\n\r\n    public enum CurrencyDto {\r\n        ALL, //Albania\r\n        AMD, //Armenia\r\n        AZN, //Azerbaijan\r\n        BYN, //Belarus\r\n        BAM, //Bosnia and Herzegovina\r\n        BGN, //Bulgaria\r\n        ...\r\n    }\r\n\r\nHow can achieve what I want properly?","title":"How to create an ENUM array column with JPA?","body":"<p>I would like to have an array of strings in my PostgreSQL database, and have them be converted to a set of enum objects in my code. This is what I have:</p>\n<pre><code>@ElementCollection(fetch = FetchType.EAGER, targetClass = CurrencyDto.class)\n@Enumerated(EnumType.STRING)\nprivate Set&lt;CurrencyDto&gt; currencyOptions;\n</code></pre>\n<p>But, it tries to fetch it from another table with this error <code>relation &quot;theme_config_currency_options&quot; does not exist</code></p>\n<p>I don't want JPA to fetch it from another table. The string representation of my enum objects should be in that column inside an array. My enum\nclass is <code>CurrencyDto</code>.</p>\n<pre><code>public enum CurrencyDto {\n    ALL, //Albania\n    AMD, //Armenia\n    AZN, //Azerbaijan\n    BYN, //Belarus\n    BAM, //Bosnia and Herzegovina\n    BGN, //Bulgaria\n    ...\n}\n</code></pre>\n<p>How can achieve what I want properly?</p>\n"},{"tags":["java","performance","debugging"],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308179864,"creation_date":1308179864,"answer_id":6365566,"question_id":6365542,"body_markdown":"There is nothing really specific to Java about something like this, with any language/framework/tool you should follow the same pattern:\r\n\r\n1. Measure the performance before you change a single thing\r\n2. Hypothesize about possible causes/fixes\r\n3. Implement the change\r\n4. Measure performance after the change to compare with #1\r\n5. Repeat until happy","title":"java debug perfomance issues - best practices","body":"<p>There is nothing really specific to Java about something like this, with any language/framework/tool you should follow the same pattern:</p>\n\n<ol>\n<li>Measure the performance before you change a single thing</li>\n<li>Hypothesize about possible causes/fixes</li>\n<li>Implement the change</li>\n<li>Measure performance after the change to compare with #1</li>\n<li>Repeat until happy</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5059,"reputation":8280,"user_id":7938,"display_name":"Bill Michell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1308180865,"creation_date":1308180865,"answer_id":6365652,"question_id":6365542,"body_markdown":" 1. Check the machine physically has enough RAM. Paging will kill applications.\r\n 1. Check what proportion of the application&#39;s time is spent in garbage collection. A high proportion means you&#39;ll benefit from heap or GC tuning.\r\n 1. Run the app in a profiler and put it through its paces, monitoring CPU usage. Look for those methods where the CPU spends all its time. A good profiler will let you roll up the time spent in third party code where you have no control, allowing you to identify the hot spots in your own code.\r\n 1. For the top hot spots in your application, work out where the time is being spent. Is it all I/O? Calculations? Multi-thread synchronisation? Object allocation/deallocation? A poor algorithm with n-squared or worse complexity? Something else?\r\n 1. Deal with the hot spots one at a time, and each time you change something, measure and work out whether you&#39;ve actually improved anything. Roll back the ineffective changes and work out where the problem has moved to if the change worked.\r\n","title":"java debug perfomance issues - best practices","body":"<ol>\n<li>Check the machine physically has enough RAM. Paging will kill applications.</li>\n<li>Check what proportion of the application's time is spent in garbage collection. A high proportion means you'll benefit from heap or GC tuning.</li>\n<li>Run the app in a profiler and put it through its paces, monitoring CPU usage. Look for those methods where the CPU spends all its time. A good profiler will let you roll up the time spent in third party code where you have no control, allowing you to identify the hot spots in your own code.</li>\n<li>For the top hot spots in your application, work out where the time is being spent. Is it all I/O? Calculations? Multi-thread synchronisation? Object allocation/deallocation? A poor algorithm with n-squared or worse complexity? Something else?</li>\n<li>Deal with the hot spots one at a time, and each time you change something, measure and work out whether you've actually improved anything. Roll back the ineffective changes and work out where the problem has moved to if the change worked.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308180997,"creation_date":1308180997,"answer_id":6365661,"question_id":6365542,"body_markdown":"The first and most important step in any kind of perfomance tuning is to identify what is slow, and measure just how slow it is. In most cases (particularly if the performance problem is easy to reproduce), a *profiler* is the most effective tool for that, as it will give you detailed statistics on execution time, breaking it down to single methods, without having to manually instrument your program.","title":"java debug perfomance issues - best practices","body":"<p>The first and most important step in any kind of perfomance tuning is to identify what is slow, and measure just how slow it is. In most cases (particularly if the performance problem is easy to reproduce), a <em>profiler</em> is the most effective tool for that, as it will give you detailed statistics on execution time, breaking it down to single methods, without having to manually instrument your program.</p>\n"},{"tags":[],"owner":{"account_id":251197,"reputation":14995,"user_id":528405,"accept_rate":88,"display_name":"nsfyn55"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308181926,"creation_date":1308181926,"answer_id":6365747,"question_id":6365542,"body_markdown":" 1. Measure\r\n 2. MEASURE!!!!!\r\n 3. Compare Apples to Apples. Don&#39;t run your tests on a busy subnet(especially don&#39;t try to justify this ludicrous practice by saying - &quot;I want the circumstances to be realistic&quot;)\r\n 4. Measure- Capture time stamps at each discrete step.\r\n 5. Note that although there is a relationship, throughput and response time are not the same thing\r\n 6. After you make a change... MEASURE!!!!! Never say to yourself, it seems better. You know how you know its better? compare measurement 1 to measurement 2\r\n 7. Test one thing at a time. Don&#39;t create one uber performance suite that attempts to simulate realistic conditions. Its too much and you are setting yourself up to be overwhelmed. Test for message size. Test for concurrency. Test in isolation\r\n\r\nOnce you start to isolate the bottlenecks then the next steps will start to feel more natural, fine tuning your tests will become easier, you may choose at that point to hook up a profiler to investigate GC/CPU perf and memory consumption(VisualVM is good and free).The point is treat performance issues like a binary search. Start by measuring everything and continually subdivide the problem to it reveals itself.\r\n\r\n","title":"java debug perfomance issues - best practices","body":"<ol>\n<li>Measure</li>\n<li>MEASURE!!!!!</li>\n<li>Compare Apples to Apples. Don't run your tests on a busy subnet(especially don't try to justify this ludicrous practice by saying - \"I want the circumstances to be realistic\")</li>\n<li>Measure- Capture time stamps at each discrete step.</li>\n<li>Note that although there is a relationship, throughput and response time are not the same thing</li>\n<li>After you make a change... MEASURE!!!!! Never say to yourself, it seems better. You know how you know its better? compare measurement 1 to measurement 2</li>\n<li>Test one thing at a time. Don't create one uber performance suite that attempts to simulate realistic conditions. Its too much and you are setting yourself up to be overwhelmed. Test for message size. Test for concurrency. Test in isolation</li>\n</ol>\n\n<p>Once you start to isolate the bottlenecks then the next steps will start to feel more natural, fine tuning your tests will become easier, you may choose at that point to hook up a profiler to investigate GC/CPU perf and memory consumption(VisualVM is good and free).The point is treat performance issues like a binary search. Start by measuring everything and continually subdivide the problem to it reveals itself.</p>\n"},{"tags":[],"owner":{"account_id":428239,"reputation":2242,"user_id":810435,"accept_rate":82,"display_name":"naeemgik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660639949,"creation_date":1660639949,"answer_id":73371292,"question_id":6365542,"body_markdown":"Check DB queries\r\n\r\nCheck Statements in loop, statement in loops make application slow instead use prepared statement/callable statements\r\n\r\nCapture time stamps at each discrete step\r\n\r\nIdentify hot spots area where time is being spent, like I/O, Calculations, \r\nmultithreaded synchronization, garbage collection and look for Poor algorithms.","title":"java debug perfomance issues - best practices","body":"<p>Check DB queries</p>\n<p>Check Statements in loop, statement in loops make application slow instead use prepared statement/callable statements</p>\n<p>Capture time stamps at each discrete step</p>\n<p>Identify hot spots area where time is being spent, like I/O, Calculations,\nmultithreaded synchronization, garbage collection and look for Poor algorithms.</p>\n"}],"owner":{"account_id":156115,"reputation":11095,"user_id":373201,"accept_rate":84,"display_name":"user373201"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3413,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":6365652,"answer_count":5,"score":1,"last_activity_date":1660639949,"creation_date":1308179682,"question_id":6365542,"body_markdown":"Just curious to know if there are a list of steps that I can use as guidelines to debug performance issues to pinpoint what is taking the most time. There are a myriad of tools starting with logging, timing methods, load test tools, timing database queries and so on....\r\n\r\nconsidering that there are so many different things, is there a list of things that are at the top of the list. \r\n\r\nif so please let me","title":"java debug perfomance issues - best practices","body":"<p>Just curious to know if there are a list of steps that I can use as guidelines to debug performance issues to pinpoint what is taking the most time. There are a myriad of tools starting with logging, timing methods, load test tools, timing database queries and so on....</p>\n\n<p>considering that there are so many different things, is there a list of things that are at the top of the list. </p>\n\n<p>if so please let me</p>\n"},{"tags":["java","jsonschema"],"comments":[{"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"score":0,"creation_date":1660638257,"post_id":72748476,"comment_id":129572928,"body_markdown":"Hi Jaap, since the generator is highly configurable, it‚Äôd help if you could share your configuration. But I can answer your question in general.","body":"Hi Jaap, since the generator is highly configurable, it‚Äôd help if you could share your configuration. But I can answer your question in general."}],"answers":[{"tags":[],"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660639853,"creation_date":1660638872,"answer_id":73371067,"question_id":72748476,"body_markdown":"The difference is due to the inner workings of the schema generator:\n- `Sub2-1` represents the ‚Äúraw‚Äù type if you will\n- `Sub2-2` represents `Sub2-1` with the additional ‚Äútype‚Äù property added by Jackson\n\nNormally, if `Sub2-1` is only referenced once, it should be inlined into the second schema and therefore allow that second schema to be labelled as just `Sub2`. At least for `Sub1` that appears to be working as intended.\n\nI suggest you provide a full reproducible example as ‚ÄúIssue‚Äù on the `victools` GitHub repository and I can take a look, whether this is a bug that can be easily fixed or at least explained by your specific setup.\n\n*Note: I‚Äôm the maintainer of that library.*","title":"Victools JSON schema generator creates two definitions for the same class","body":"<p>The difference is due to the inner workings of the schema generator:</p>\n<ul>\n<li><code>Sub2-1</code> represents the ‚Äúraw‚Äù type if you will</li>\n<li><code>Sub2-2</code> represents <code>Sub2-1</code> with the additional ‚Äútype‚Äù property added by Jackson</li>\n</ul>\n<p>Normally, if <code>Sub2-1</code> is only referenced once, it should be inlined into the second schema and therefore allow that second schema to be labelled as just <code>Sub2</code>. At least for <code>Sub1</code> that appears to be working as intended.</p>\n<p>I suggest you provide a full reproducible example as ‚ÄúIssue‚Äù on the <code>victools</code> GitHub repository and I can take a look, whether this is a bug that can be easily fixed or at least explained by your specific setup.</p>\n<p><em>Note: I‚Äôm the maintainer of that library.</em></p>\n"}],"owner":{"account_id":16048690,"reputation":11,"user_id":11583193,"display_name":"user11583193"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660639853,"creation_date":1656098056,"question_id":72748476,"body_markdown":"Using the JSON schema generator from victools (this generates a JSON schema based on Java classes), I get a strange result if I relate two classes with a common supertype, and `@JsonTypeName` is used.\r\n\r\nPlease consider the following code:\r\n\r\n```\r\n@JsonTypeName(&quot;Root&quot;)\r\npublic class Root {\r\n\tprivate String rootName;\r\n\t... \r\n\tprivate List&lt;SuperClass1&gt; superclass1 = new ArrayList&lt;SuperClass1&gt;();\r\n    ...\r\n}\r\n\r\n```\r\n\r\n```\r\n@JsonTypeName(&quot;SuperClass1&quot;)\r\n@JsonTypeInfo(\tuse = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({ @JsonSubTypes.Type(value = Sub1.class, name = &quot;Sub1&quot;),\r\n@JsonSubTypes.Type(value = Sub2.class, name = &quot;Sub2&quot;)})\r\npublic abstract class SuperClass1 {\r\n\tString name;\r\n\tint someThingElse;\r\n\t\r\n\tRoot root;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n```\r\n@JsonTypeName(&quot;Sub1&quot;)\r\npublic class Sub1 extends SuperClass1 {\r\n\tString sub1;\r\n\t...\r\n\tSub2 sub2;\r\n    ...\r\n}\r\n```\r\n\r\n```\r\n@JsonTypeName(&quot;Sub2&quot;)\r\npublic class Sub2 extends SuperClass1{\r\n\tString sub2;\r\n    ...\r\n}\r\n```\r\n\r\ngenerates the following JSON schema:\r\n```\r\n{\r\n  &quot;$schema&quot; : &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n  &quot;definitions&quot; : {\r\n    &quot;Sub1&quot; : {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;properties&quot; : {\r\n        &quot;root&quot; : {\r\n          &quot;$ref&quot; : &quot;#&quot;\r\n        },\r\n        &quot;sub1&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;\r\n        },\r\n        &quot;sub2&quot; : {\r\n          &quot;$ref&quot; : &quot;#/definitions/Sub2-2&quot;\r\n        }\r\n      }\r\n    },\r\n    &quot;Sub2-1&quot; : {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;properties&quot; : {\r\n        &quot;root&quot; : {\r\n          &quot;$ref&quot; : &quot;#&quot;\r\n        },\r\n        &quot;sub2&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;\r\n        }\r\n      }\r\n    },\r\n    &quot;Sub2-2&quot; : {\r\n      &quot;allOf&quot; : [ {\r\n        &quot;$ref&quot; : &quot;#/definitions/Sub2-1&quot;\r\n      }, {\r\n        &quot;type&quot; : &quot;object&quot;,\r\n        &quot;properties&quot; : {\r\n          &quot;type&quot; : {\r\n            &quot;const&quot; : &quot;json_test.Sub2&quot;\r\n          }\r\n        },\r\n        &quot;required&quot; : [ &quot;type&quot; ]\r\n      } ]\r\n    }\r\n  },\r\n  &quot;type&quot; : &quot;object&quot;,\r\n  &quot;properties&quot; : {\r\n    &quot;rootName&quot; : {\r\n      &quot;type&quot; : &quot;string&quot;\r\n    },\r\n    &quot;superclass1&quot; : {\r\n      &quot;type&quot; : &quot;array&quot;,\r\n      &quot;items&quot; : {\r\n        &quot;anyOf&quot; : [ {\r\n          &quot;allOf&quot; : [ {\r\n            &quot;$ref&quot; : &quot;#/definitions/Sub1&quot;\r\n          }, {\r\n            &quot;type&quot; : &quot;object&quot;,\r\n            &quot;properties&quot; : {\r\n              &quot;type&quot; : {\r\n                &quot;const&quot; : &quot;json_test.Sub1&quot;\r\n              }\r\n            },\r\n            &quot;required&quot; : [ &quot;type&quot; ]\r\n          } ]\r\n        }, {\r\n          &quot;$ref&quot; : &quot;#/definitions/Sub2-2&quot;\r\n        } ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis happens if a property of the `Sub1` class refers to the `Sub2` class, and `@JsonTypeInfo(\tuse = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)` is used. \r\n\r\nCan someone explain me why it generates `Sub2-1` and `Sub2-2`, and not just `Sub2` in the definitions section?\r\n\r\nThanks,\r\n\r\n-- Jaap","title":"Victools JSON schema generator creates two definitions for the same class","body":"<p>Using the JSON schema generator from victools (this generates a JSON schema based on Java classes), I get a strange result if I relate two classes with a common supertype, and <code>@JsonTypeName</code> is used.</p>\n<p>Please consider the following code:</p>\n<pre><code>@JsonTypeName(&quot;Root&quot;)\npublic class Root {\n    private String rootName;\n    ... \n    private List&lt;SuperClass1&gt; superclass1 = new ArrayList&lt;SuperClass1&gt;();\n    ...\n}\n\n</code></pre>\n<pre><code>@JsonTypeName(&quot;SuperClass1&quot;)\n@JsonTypeInfo(  use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({ @JsonSubTypes.Type(value = Sub1.class, name = &quot;Sub1&quot;),\n@JsonSubTypes.Type(value = Sub2.class, name = &quot;Sub2&quot;)})\npublic abstract class SuperClass1 {\n    String name;\n    int someThingElse;\n    \n    Root root;\n\n    ...\n}\n</code></pre>\n<pre><code>@JsonTypeName(&quot;Sub1&quot;)\npublic class Sub1 extends SuperClass1 {\n    String sub1;\n    ...\n    Sub2 sub2;\n    ...\n}\n</code></pre>\n<pre><code>@JsonTypeName(&quot;Sub2&quot;)\npublic class Sub2 extends SuperClass1{\n    String sub2;\n    ...\n}\n</code></pre>\n<p>generates the following JSON schema:</p>\n<pre><code>{\n  &quot;$schema&quot; : &quot;http://json-schema.org/draft-07/schema#&quot;,\n  &quot;definitions&quot; : {\n    &quot;Sub1&quot; : {\n      &quot;type&quot; : &quot;object&quot;,\n      &quot;properties&quot; : {\n        &quot;root&quot; : {\n          &quot;$ref&quot; : &quot;#&quot;\n        },\n        &quot;sub1&quot; : {\n          &quot;type&quot; : &quot;string&quot;\n        },\n        &quot;sub2&quot; : {\n          &quot;$ref&quot; : &quot;#/definitions/Sub2-2&quot;\n        }\n      }\n    },\n    &quot;Sub2-1&quot; : {\n      &quot;type&quot; : &quot;object&quot;,\n      &quot;properties&quot; : {\n        &quot;root&quot; : {\n          &quot;$ref&quot; : &quot;#&quot;\n        },\n        &quot;sub2&quot; : {\n          &quot;type&quot; : &quot;string&quot;\n        }\n      }\n    },\n    &quot;Sub2-2&quot; : {\n      &quot;allOf&quot; : [ {\n        &quot;$ref&quot; : &quot;#/definitions/Sub2-1&quot;\n      }, {\n        &quot;type&quot; : &quot;object&quot;,\n        &quot;properties&quot; : {\n          &quot;type&quot; : {\n            &quot;const&quot; : &quot;json_test.Sub2&quot;\n          }\n        },\n        &quot;required&quot; : [ &quot;type&quot; ]\n      } ]\n    }\n  },\n  &quot;type&quot; : &quot;object&quot;,\n  &quot;properties&quot; : {\n    &quot;rootName&quot; : {\n      &quot;type&quot; : &quot;string&quot;\n    },\n    &quot;superclass1&quot; : {\n      &quot;type&quot; : &quot;array&quot;,\n      &quot;items&quot; : {\n        &quot;anyOf&quot; : [ {\n          &quot;allOf&quot; : [ {\n            &quot;$ref&quot; : &quot;#/definitions/Sub1&quot;\n          }, {\n            &quot;type&quot; : &quot;object&quot;,\n            &quot;properties&quot; : {\n              &quot;type&quot; : {\n                &quot;const&quot; : &quot;json_test.Sub1&quot;\n              }\n            },\n            &quot;required&quot; : [ &quot;type&quot; ]\n          } ]\n        }, {\n          &quot;$ref&quot; : &quot;#/definitions/Sub2-2&quot;\n        } ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>This happens if a property of the <code>Sub1</code> class refers to the <code>Sub2</code> class, and <code>@JsonTypeInfo(  use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)</code> is used.</p>\n<p>Can someone explain me why it generates <code>Sub2-1</code> and <code>Sub2-2</code>, and not just <code>Sub2</code> in the definitions section?</p>\n<p>Thanks,</p>\n<p>-- Jaap</p>\n"},{"tags":["java","wsdl","oracle-adf","jdeveloper"],"comments":[{"owner":{"account_id":7319460,"reputation":31,"user_id":5575919,"display_name":"Mohammed"},"score":0,"creation_date":1660639717,"post_id":73181196,"comment_id":129573465,"body_markdown":"SOAP webservice was returning application/xml for some unhandled exception occurred in web service, exception raised as request payload header contains content-type=&quot;text/xml; charset:utf-8&quot; where as SOAP wsdl is accepting only &quot;text/xml&quot;. they did not handle this case in their webservice","body":"SOAP webservice was returning application/xml for some unhandled exception occurred in web service, exception raised as request payload header contains content-type=&quot;text/xml; charset:utf-8&quot; where as SOAP wsdl is accepting only &quot;text/xml&quot;. they did not handle this case in their webservice"}],"answers":[{"tags":[],"owner":{"account_id":7319460,"reputation":31,"user_id":5575919,"display_name":"Mohammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660639748,"creation_date":1660639748,"answer_id":73371248,"question_id":73181196,"body_markdown":"SOAP webservice was returning application/xml for some unhandled exception occurred in web service, exception raised as request payload header contains content-type=&quot;text/xml; charset:utf-8&quot; where as SOAP wsdl is accepting only &quot;text/xml&quot;. they did not handle this case in their webservice","title":"getting UnsupportedMediaException when consuming soap wsdl webservice in jdeveloper","body":"<p>SOAP webservice was returning application/xml for some unhandled exception occurred in web service, exception raised as request payload header contains content-type=&quot;text/xml; charset:utf-8&quot; where as SOAP wsdl is accepting only &quot;text/xml&quot;. they did not handle this case in their webservice</p>\n"}],"owner":{"account_id":7319460,"reputation":31,"user_id":5575919,"display_name":"Mohammed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660639748,"creation_date":1659249918,"question_id":73181196,"body_markdown":"The error:\r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; com.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported\r\n&gt; Content-Type: application/xml Supported ones are: [text/xml] \tat\r\n&gt; com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:220)\r\n&gt; \tat\r\n&gt; com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:151)\r\n&gt; \tat\r\n&gt; com.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:299)\r\n&gt; \tat\r\n&gt; com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:268)\r\n&gt; \tat\r\n&gt; com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:217)\r\n&gt; \tat\r\n&gt; com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:130)\r\n&gt; \tat\r\n&gt; com.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95)\r\n&gt; \tat com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:1121)\r\n&gt; \tat com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:1035) \tat\r\n&gt; com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:1004) \tat\r\n&gt; com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:862) \tat\r\n&gt; com.sun.xml.internal.ws.client.Stub.process(Stub.java:448) \tat\r\n&gt; com.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:178)\r\n&gt; \tat\r\n&gt; com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:93)\r\n&gt; \tat\r\n&gt; com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:77)\r\n&gt; \tat\r\n&gt; com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:147)\r\n&gt; \tat com.sun.proxy.$Proxy36.getService(Unknown Source) \tat\r\n&gt; someClient.SomeClient.main(WaselClient.java:23)\r\n\r\n\r\nI have created a custom application to consume wsdl and a client to execute webservice. but I am getting above error when running client.\r\n\r\n    public static void main(String[] args) {\r\n        WaselClient waselClient = new WaselClient();\r\n        \r\n        WaselAddressService waselAddressService = new WaselAddressService();\r\n        IWaselAddressService iWaselAddressService = waselAddressService.getBasicHttpBindingIWaselAddressService();\r\n        try {\r\n            \r\n            GetAddressResponseStructure address =\r\n                iWaselAddressService.getIndividualWaselAddress(ItemChoiceType.ID, &quot;999999&quot;);\r\n            \r\n            System.out.println(&quot;&quot; + address.getGetIndividualWaselAddressResponseDetailObject()\r\n                                           .getWaselAddress()\r\n                                           .get(1));\r\n        } catch (IWaselAddressServiceGetIndividualWaselAddressCommonErrorElementFaultMessage e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n        \r\n        \r\n    }\r\n\r\nI called the wsdl from SOAP UI and Postman, SOAP UI is returning result but Postman is returning 500-Internal Server Error. ","title":"getting UnsupportedMediaException when consuming soap wsdl webservice in jdeveloper","body":"<p>The error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\ncom.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported\nContent-Type: application/xml Supported ones are: [text/xml]  at\ncom.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:220)\nat\ncom.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:151)\nat\ncom.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:299)\nat\ncom.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:268)\nat\ncom.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:217)\nat\ncom.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:130)\nat\ncom.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95)\nat com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:1121)\nat com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:1035)   at\ncom.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:1004)     at\ncom.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:862)    at\ncom.sun.xml.internal.ws.client.Stub.process(Stub.java:448)    at\ncom.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:178)\nat\ncom.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:93)\nat\ncom.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:77)\nat\ncom.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:147)\nat com.sun.proxy.$Proxy36.getService(Unknown Source)    at\nsomeClient.SomeClient.main(WaselClient.java:23)</p>\n</blockquote>\n<p>I have created a custom application to consume wsdl and a client to execute webservice. but I am getting above error when running client.</p>\n<pre><code>public static void main(String[] args) {\n    WaselClient waselClient = new WaselClient();\n    \n    WaselAddressService waselAddressService = new WaselAddressService();\n    IWaselAddressService iWaselAddressService = waselAddressService.getBasicHttpBindingIWaselAddressService();\n    try {\n        \n        GetAddressResponseStructure address =\n            iWaselAddressService.getIndividualWaselAddress(ItemChoiceType.ID, &quot;999999&quot;);\n        \n        System.out.println(&quot;&quot; + address.getGetIndividualWaselAddressResponseDetailObject()\n                                       .getWaselAddress()\n                                       .get(1));\n    } catch (IWaselAddressServiceGetIndividualWaselAddressCommonErrorElementFaultMessage e) {\n        System.out.println(e.getMessage());\n    }\n    \n    \n}\n</code></pre>\n<p>I called the wsdl from SOAP UI and Postman, SOAP UI is returning result but Postman is returning 500-Internal Server Error.</p>\n"},{"tags":["java","android","firebase","search"],"comments":[{"owner":{"account_id":24587042,"reputation":27,"user_id":18491413,"display_name":"Wind"},"score":0,"creation_date":1660639780,"post_id":72610726,"comment_id":129573491,"body_markdown":"What I mean by update is just to modified the stuff number or price. But if I update, my data will be deleted and my app crashed.","body":"What I mean by update is just to modified the stuff number or price. But if I update, my data will be deleted and my app crashed."}],"answers":[{"tags":[],"owner":{"account_id":25540725,"reputation":11,"user_id":19326826,"display_name":"Chaithra R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655183843,"creation_date":1655183843,"answer_id":72611834,"question_id":72610726,"body_markdown":"whenever new expense data comes in add it to main expense data list and notify adapter.\r\n\r\n    expenseArrayList.add(new Data(new_item, new_notes, new_amount, new_date));\r\n    if (adapter == null) {\r\n    expense_recyclerView.setAdapter(adapter);\r\n    } else{\r\n    adapter.notifyItemInserted(expense_data_list.size()+1)\r\n    }\r\n\r\n","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.projects.inputData","body":"<p>whenever new expense data comes in add it to main expense data list and notify adapter.</p>\n<pre><code>expenseArrayList.add(new Data(new_item, new_notes, new_amount, new_date));\nif (adapter == null) {\nexpense_recyclerView.setAdapter(adapter);\n} else{\nadapter.notifyItemInserted(expense_data_list.size()+1)\n}\n</code></pre>\n"}],"owner":{"account_id":24587042,"reputation":27,"user_id":18491413,"display_name":"Wind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660639112,"creation_date":1655171674,"question_id":72610726,"body_markdown":"I encountered this error and tried to find some solutions but no clue yet. The problem is I am trying to search the item on my phone, once find it, I will click on the item and then update it. \r\n\r\nHowever I got &quot;com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.projects.inputData&quot; error.\r\n\r\nBEFORE I click update, my firebase looks like:\r\n\r\n[![enter image description here][1]][1] \r\n\r\nAFTER I updated item, it looks like this and all the old data has been automatically removed:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nCan someone help me out? Please. \r\n\r\n\r\n    package com.example.projects;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.transition.AutoTransition;\r\n    import android.transition.TransitionManager;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ImageView;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.Spinner;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.SearchView;\r\n    import androidx.cardview.widget.CardView;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    import com.firebase.ui.database.FirebaseRecyclerAdapter;\r\n    import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.GenericTypeIndicator;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    import java.util.MissingResourceException;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class mainActivity extends AppCompatActivity implements View.OnClickListener {\r\n        FirebaseDatabase firebaseDatabase;\r\n        DatabaseReference myRef;\r\n        private FloatingActionButton main_fab;\r\n    \r\n        private TextView total_amount, total_buy_price;\r\n        private RecyclerView mainRecyclerView;\r\n    \r\n        private String post_key = &quot;&quot;;\r\n        private String staff_name =&quot;&quot;;\r\n        private String size = &quot;&quot;;\r\n        private String material = &quot;&quot;;\r\n        private String colour = &quot;&quot;;\r\n        private String notes = &quot;&quot;;\r\n        private String type = &quot;&quot;;\r\n        private int money = 0;\r\n        private int number = 0;\r\n        public int soldNumber = 0;\r\n        public int soldPrice = 0;\r\n    \r\n        ArrayList&lt;inputData&gt; dataList;\r\n        SearchView searchView;\r\n    \r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main_activity);\r\n    \r\n            firebaseDatabase = FirebaseDatabase.getInstance(&quot;https://stuff-management-app-default-rtdb.asia-southeast1.firebasedatabase.app&quot;);\r\n            mainRecyclerView = findViewById(R.id.main_recyclerview);\r\n            searchView = findViewById(R.id.searchView);\r\n    \r\n            LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n            linearLayoutManager.setStackFromEnd(true);\r\n            linearLayoutManager.setReverseLayout(true);\r\n    \r\n            mainRecyclerView.setHasFixedSize(true);\r\n            mainRecyclerView.setLayoutManager(linearLayoutManager);\r\n    \r\n            total_buy_price = findViewById(R.id.totalBuyPrice);\r\n            total_amount = findViewById(R.id.main_total_records);\r\n            myRef = firebaseDatabase.getReference(&quot;stuff records&quot;);\r\n            myRef.addValueEventListener(new ValueEventListener() {\r\n                @SuppressLint(&quot;SetTextI18n&quot;)\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    int totalRecord = 0;\r\n                    int totalBuyPrice = 0;\r\n                    dataList = new ArrayList&lt;&gt;();\r\n                    for(DataSnapshot snap: snapshot.getChildren()){\r\n                        inputData data = snap.getValue(inputData.class);\r\n                        totalRecord += data.getNumber();\r\n                        total_amount.setText( totalRecord);\r\n                        totalBuyPrice += data.getMoney();\r\n                        total_buy_price.setText( totalBuyPrice);\r\n    \r\n                        dataList.add(snap.getValue(inputData.class));\r\n                    }\r\n                    AdapterClass adapterClass = new AdapterClass(dataList);\r\n                    mainRecyclerView.setAdapter(adapterClass);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                }\r\n            });\r\n            if (searchView != null) {\r\n                searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                    @Override\r\n                    public boolean onQueryTextSubmit(String query) {\r\n                        return false;\r\n                    }\r\n    \r\n                    @Override\r\n                    public boolean onQueryTextChange(String newText) {\r\n                        search(newText);\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n    \t}\r\n    \r\n        private void search(String str) {\r\n            ArrayList&lt;inputData&gt; myList = new ArrayList&lt;&gt;();\r\n            for(inputData object : dataList){\r\n                if (object.getStaff_name().toLowerCase().contains(str.toLowerCase())){\r\n                    myList.add(object);\r\n                }\r\n            }\r\n            AdapterClass adapterClass = new AdapterClass(myList);\r\n            mainRecyclerView.setAdapter(adapterClass);\r\n            adapterClass.notifyDataSetChanged();\r\n        }\r\n    \r\n        private int getIndex(Spinner spinner, String myString){\r\n            for (int i=0;i&lt;spinner.getCount();i++){\r\n                if (spinner.getItemAtPosition(i).toString().equalsIgnoreCase(myString)){\r\n                    return i;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        private void updateInfo() {\r\n            AlertDialog.Builder myDialog = new AlertDialog.Builder(this);\r\n            LayoutInflater inflater = LayoutInflater.from(this);\r\n            View mView = inflater.inflate(R.layout.update_page, null);\r\n    \r\n            myDialog.setView(mView);\r\n            final AlertDialog dialog = myDialog.create();\r\n    \r\n            final Spinner itemSpinner = mView.findViewById(R.id.input_size_spinner);\r\n            final TextView input_name = mView.findViewById(R.id.input_record);\r\n            final EditText input_price = mView.findViewById(R.id.input_price);\r\n            final EditText input_number = mView.findViewById(R.id.input_number);\r\n            final EditText input_description = mView.findViewById(R.id.input_description);\r\n            final EditText input_material = mView.findViewById(R.id.input_material);\r\n            final Spinner colourSpinner = mView.findViewById(R.id.input_colour_spinner);\r\n            final EditText input_types = mView.findViewById(R.id.input_type);\r\n            final Button delBtn = mView.findViewById(R.id.input_cancel);\r\n            final Button updateBtn = mView.findViewById(R.id.input_save);\r\n            final Button sellBtn = mView.findViewById(R.id.button2);\r\n    \r\n            input_price.setText(String.valueOf(money));\r\n            input_description.setText(notes);\r\n            input_name.setText(staff_name);\r\n            input_material.setText(material);\r\n            colourSpinner.setSelection(getIndex(colourSpinner, colour));\r\n            input_types.setText(type);\r\n            input_number.setText(String.valueOf(number));\r\n            itemSpinner.setSelection(getIndex(itemSpinner, size));\r\n    \r\n            //sold\r\n            final EditText sellNum = mView.findViewById(R.id.sellAmount);\r\n            final EditText sellPrice = mView.findViewById(R.id.sellMoney);\r\n    \r\n            sellNum.setText(String.valueOf(number - 1));\r\n            sellPrice.setText(String.valueOf(soldPrice));\r\n    \r\n            String sellNumber = sellNum.getText().toString();\r\n            String sellPri = sellPrice.getText().toString();\r\n    \r\n    \r\n            String[] colourr = new String[]{};\r\n            final List&lt;String&gt; colourList = new ArrayList&lt;String&gt;(Arrays.asList(colourr));\r\n            // Initializing an ArrayAdapter\r\n            final ArrayAdapter&lt;String&gt; spinnerArrayAdapter = new ArrayAdapter&lt;String&gt;(\r\n                    this, R.layout.spinner_item, colourList);\r\n            myRef = firebaseDatabase.getReference(&quot;user_define_colour&quot;);\r\n            // Attach a listener to read the data at our posts reference\r\n            myRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    colourList.clear();\r\n                    for (DataSnapshot child : dataSnapshot.getChildren()) {\r\n                        GenericTypeIndicator&lt;ArrayList&lt;String&gt;&gt; t = new GenericTypeIndicator&lt;ArrayList&lt;String&gt;&gt;() {\r\n                        };\r\n                        ArrayList&lt;String&gt; value = child.getValue(t);\r\n                        colourList.addAll(value);\r\n                        spinnerArrayAdapter.notifyDataSetChanged();\r\n                    }\r\n                }\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                    System.out.println(&quot;The read failed: &quot; + databaseError.getCode());\r\n                }\r\n            });\r\n            spinnerArrayAdapter.setDropDownViewResource(R.layout.spinner_item);\r\n            colourSpinner.setAdapter(spinnerArrayAdapter);\r\n            // ----- retrieve colour from firebase\r\n    \r\n            myRef = firebaseDatabase.getReference(&quot;stuff records&quot;);      \r\n            updateBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    number = Integer.parseInt(input_number.getText().toString());\r\n                    notes = input_description.getText().toString();\r\n                    money = Integer.parseInt(input_price.getText().toString());\r\n                    staff_name = input_name.getText().toString();\r\n                    material = input_material.getText().toString();\r\n                    colour = colourSpinner.getSelectedItem().toString();\r\n                    type = input_types.getText().toString();\r\n                    size = itemSpinner.getSelectedItem().toString();\r\n    \r\n                    if ( number == 0) {\r\n                        Toast.makeText(mainActivity.this, &quot;Finished&quot;, Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n                    inputData data = new inputData(staff_name, size, material, colour, notes, Integer.parseInt(String.valueOf(money)), Integer.parseInt(String.valueOf(number)), post_key, type);\r\n                    myRef.child(post_key).setValue(data).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if(task.isSuccessful()){\r\n                                Toast.makeText(mainActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                            }else{\r\n                                Toast.makeText(mainActivity.this, task.getException().toString(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n                    dialog.dismiss();\r\n                }\r\n            });      \r\n        }\r\n    \r\n    \r\n        public class AdapterClass extends RecyclerView.Adapter&lt;AdapterClass.myViewHolder&gt; {\r\n            ArrayList&lt;inputData&gt; dataList;\r\n    \r\n            public AdapterClass(ArrayList&lt;inputData&gt; dataList) {\r\n                this.dataList = dataList;\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public AdapterClass.myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.main_retrieve, parent, false);\r\n                return new AdapterClass.myViewHolder(view);\r\n            }\r\n    \r\n            FirebaseRecyclerOptions&lt;inputData&gt; options = new FirebaseRecyclerOptions.Builder&lt;inputData&gt;()\r\n                    .setQuery(myRef,inputData.class)\r\n                    .build();\r\n    \r\n            @Override\r\n            public void onBindViewHolder(@NonNull AdapterClass.myViewHolder holder, int position) {\r\n                holder.description.setText(dataList.get(position).getNotes());\r\n                holder.name.setText(dataList.get(position).getStaff_name());\r\n                holder.money.setText(String.valueOf(dataList.get(position).getMoney()));\r\n                holder.material.setText(dataList.get(position).getMaterial());\r\n                holder.size.setText(dataList.get(position).getSize());\r\n                holder.colour.setText(dataList.get(position).getColour());\r\n                holder.type.setText(dataList.get(position).getTypes());\r\n                holder.number.setText(String.valueOf(dataList.get(position).getNumber()));\r\n                holder.main_mView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {                \r\n                        updateInfo();\r\n                    }\r\n                });\r\n            }\r\n    \r\n            @Override\r\n            public int getItemCount() {\r\n                return dataList.size();\r\n            }\r\n    \r\n            public class myViewHolder extends RecyclerView.ViewHolder {\r\n                View main_mView;\r\n                TextView name, number, money, material, size, colour, description, type;\r\n                public myViewHolder(@NonNull View itemView) {\r\n                    super(itemView);\r\n                    main_mView = itemView;\r\n                    description = itemView.findViewById(R.id.notes);\r\n                    name = itemView.findViewById(R.id.staff_name);\r\n                    money = itemView.findViewById(R.id.money);\r\n                    number = itemView.findViewById(R.id.number);\r\n                    colour = itemView.findViewById(R.id.colour);\r\n                    material = itemView.findViewById(R.id.material);\r\n                    size = itemView.findViewById(R.id.size);\r\n                    type = itemView.findViewById(R.id.types);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n\r\nThe problem is shown \r\n\r\n    inputData data = snap.getValue(inputData.class);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0ySCB.png\r\n  [2]: https://i.stack.imgur.com/fQjzr.png","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.projects.inputData","body":"<p>I encountered this error and tried to find some solutions but no clue yet. The problem is I am trying to search the item on my phone, once find it, I will click on the item and then update it.</p>\n<p>However I got &quot;com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.projects.inputData&quot; error.</p>\n<p>BEFORE I click update, my firebase looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/0ySCB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ySCB.png\" alt=\"enter image description here\" /></a></p>\n<p>AFTER I updated item, it looks like this and all the old data has been automatically removed:</p>\n<p><a href=\"https://i.stack.imgur.com/fQjzr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fQjzr.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone help me out? Please.</p>\n<pre><code>package com.example.projects;\n\nimport android.annotation.SuppressLint;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.transition.AutoTransition;\nimport android.transition.TransitionManager;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.SearchView;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport com.firebase.ui.database.FirebaseRecyclerAdapter;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.GenericTypeIndicator;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.MissingResourceException;\nimport java.util.concurrent.TimeUnit;\n\npublic class mainActivity extends AppCompatActivity implements View.OnClickListener {\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference myRef;\n    private FloatingActionButton main_fab;\n\n    private TextView total_amount, total_buy_price;\n    private RecyclerView mainRecyclerView;\n\n    private String post_key = &quot;&quot;;\n    private String staff_name =&quot;&quot;;\n    private String size = &quot;&quot;;\n    private String material = &quot;&quot;;\n    private String colour = &quot;&quot;;\n    private String notes = &quot;&quot;;\n    private String type = &quot;&quot;;\n    private int money = 0;\n    private int number = 0;\n    public int soldNumber = 0;\n    public int soldPrice = 0;\n\n    ArrayList&lt;inputData&gt; dataList;\n    SearchView searchView;\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_activity);\n\n        firebaseDatabase = FirebaseDatabase.getInstance(&quot;https://stuff-management-app-default-rtdb.asia-southeast1.firebasedatabase.app&quot;);\n        mainRecyclerView = findViewById(R.id.main_recyclerview);\n        searchView = findViewById(R.id.searchView);\n\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n        linearLayoutManager.setStackFromEnd(true);\n        linearLayoutManager.setReverseLayout(true);\n\n        mainRecyclerView.setHasFixedSize(true);\n        mainRecyclerView.setLayoutManager(linearLayoutManager);\n\n        total_buy_price = findViewById(R.id.totalBuyPrice);\n        total_amount = findViewById(R.id.main_total_records);\n        myRef = firebaseDatabase.getReference(&quot;stuff records&quot;);\n        myRef.addValueEventListener(new ValueEventListener() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                int totalRecord = 0;\n                int totalBuyPrice = 0;\n                dataList = new ArrayList&lt;&gt;();\n                for(DataSnapshot snap: snapshot.getChildren()){\n                    inputData data = snap.getValue(inputData.class);\n                    totalRecord += data.getNumber();\n                    total_amount.setText( totalRecord);\n                    totalBuyPrice += data.getMoney();\n                    total_buy_price.setText( totalBuyPrice);\n\n                    dataList.add(snap.getValue(inputData.class));\n                }\n                AdapterClass adapterClass = new AdapterClass(dataList);\n                mainRecyclerView.setAdapter(adapterClass);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n            }\n        });\n        if (searchView != null) {\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n                @Override\n                public boolean onQueryTextSubmit(String query) {\n                    return false;\n                }\n\n                @Override\n                public boolean onQueryTextChange(String newText) {\n                    search(newText);\n                    return true;\n                }\n            });\n        }\n    }\n\n    private void search(String str) {\n        ArrayList&lt;inputData&gt; myList = new ArrayList&lt;&gt;();\n        for(inputData object : dataList){\n            if (object.getStaff_name().toLowerCase().contains(str.toLowerCase())){\n                myList.add(object);\n            }\n        }\n        AdapterClass adapterClass = new AdapterClass(myList);\n        mainRecyclerView.setAdapter(adapterClass);\n        adapterClass.notifyDataSetChanged();\n    }\n\n    private int getIndex(Spinner spinner, String myString){\n        for (int i=0;i&lt;spinner.getCount();i++){\n            if (spinner.getItemAtPosition(i).toString().equalsIgnoreCase(myString)){\n                return i;\n            }\n        }\n        return 0;\n    }\n\n    private void updateInfo() {\n        AlertDialog.Builder myDialog = new AlertDialog.Builder(this);\n        LayoutInflater inflater = LayoutInflater.from(this);\n        View mView = inflater.inflate(R.layout.update_page, null);\n\n        myDialog.setView(mView);\n        final AlertDialog dialog = myDialog.create();\n\n        final Spinner itemSpinner = mView.findViewById(R.id.input_size_spinner);\n        final TextView input_name = mView.findViewById(R.id.input_record);\n        final EditText input_price = mView.findViewById(R.id.input_price);\n        final EditText input_number = mView.findViewById(R.id.input_number);\n        final EditText input_description = mView.findViewById(R.id.input_description);\n        final EditText input_material = mView.findViewById(R.id.input_material);\n        final Spinner colourSpinner = mView.findViewById(R.id.input_colour_spinner);\n        final EditText input_types = mView.findViewById(R.id.input_type);\n        final Button delBtn = mView.findViewById(R.id.input_cancel);\n        final Button updateBtn = mView.findViewById(R.id.input_save);\n        final Button sellBtn = mView.findViewById(R.id.button2);\n\n        input_price.setText(String.valueOf(money));\n        input_description.setText(notes);\n        input_name.setText(staff_name);\n        input_material.setText(material);\n        colourSpinner.setSelection(getIndex(colourSpinner, colour));\n        input_types.setText(type);\n        input_number.setText(String.valueOf(number));\n        itemSpinner.setSelection(getIndex(itemSpinner, size));\n\n        //sold\n        final EditText sellNum = mView.findViewById(R.id.sellAmount);\n        final EditText sellPrice = mView.findViewById(R.id.sellMoney);\n\n        sellNum.setText(String.valueOf(number - 1));\n        sellPrice.setText(String.valueOf(soldPrice));\n\n        String sellNumber = sellNum.getText().toString();\n        String sellPri = sellPrice.getText().toString();\n\n\n        String[] colourr = new String[]{};\n        final List&lt;String&gt; colourList = new ArrayList&lt;String&gt;(Arrays.asList(colourr));\n        // Initializing an ArrayAdapter\n        final ArrayAdapter&lt;String&gt; spinnerArrayAdapter = new ArrayAdapter&lt;String&gt;(\n                this, R.layout.spinner_item, colourList);\n        myRef = firebaseDatabase.getReference(&quot;user_define_colour&quot;);\n        // Attach a listener to read the data at our posts reference\n        myRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                colourList.clear();\n                for (DataSnapshot child : dataSnapshot.getChildren()) {\n                    GenericTypeIndicator&lt;ArrayList&lt;String&gt;&gt; t = new GenericTypeIndicator&lt;ArrayList&lt;String&gt;&gt;() {\n                    };\n                    ArrayList&lt;String&gt; value = child.getValue(t);\n                    colourList.addAll(value);\n                    spinnerArrayAdapter.notifyDataSetChanged();\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                System.out.println(&quot;The read failed: &quot; + databaseError.getCode());\n            }\n        });\n        spinnerArrayAdapter.setDropDownViewResource(R.layout.spinner_item);\n        colourSpinner.setAdapter(spinnerArrayAdapter);\n        // ----- retrieve colour from firebase\n\n        myRef = firebaseDatabase.getReference(&quot;stuff records&quot;);      \n        updateBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                number = Integer.parseInt(input_number.getText().toString());\n                notes = input_description.getText().toString();\n                money = Integer.parseInt(input_price.getText().toString());\n                staff_name = input_name.getText().toString();\n                material = input_material.getText().toString();\n                colour = colourSpinner.getSelectedItem().toString();\n                type = input_types.getText().toString();\n                size = itemSpinner.getSelectedItem().toString();\n\n                if ( number == 0) {\n                    Toast.makeText(mainActivity.this, &quot;Finished&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n                inputData data = new inputData(staff_name, size, material, colour, notes, Integer.parseInt(String.valueOf(money)), Integer.parseInt(String.valueOf(number)), post_key, type);\n                myRef.child(post_key).setValue(data).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if(task.isSuccessful()){\n                            Toast.makeText(mainActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                        }else{\n                            Toast.makeText(mainActivity.this, task.getException().toString(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n                dialog.dismiss();\n            }\n        });      \n    }\n\n\n    public class AdapterClass extends RecyclerView.Adapter&lt;AdapterClass.myViewHolder&gt; {\n        ArrayList&lt;inputData&gt; dataList;\n\n        public AdapterClass(ArrayList&lt;inputData&gt; dataList) {\n            this.dataList = dataList;\n        }\n\n        @NonNull\n        @Override\n        public AdapterClass.myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.main_retrieve, parent, false);\n            return new AdapterClass.myViewHolder(view);\n        }\n\n        FirebaseRecyclerOptions&lt;inputData&gt; options = new FirebaseRecyclerOptions.Builder&lt;inputData&gt;()\n                .setQuery(myRef,inputData.class)\n                .build();\n\n        @Override\n        public void onBindViewHolder(@NonNull AdapterClass.myViewHolder holder, int position) {\n            holder.description.setText(dataList.get(position).getNotes());\n            holder.name.setText(dataList.get(position).getStaff_name());\n            holder.money.setText(String.valueOf(dataList.get(position).getMoney()));\n            holder.material.setText(dataList.get(position).getMaterial());\n            holder.size.setText(dataList.get(position).getSize());\n            holder.colour.setText(dataList.get(position).getColour());\n            holder.type.setText(dataList.get(position).getTypes());\n            holder.number.setText(String.valueOf(dataList.get(position).getNumber()));\n            holder.main_mView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {                \n                    updateInfo();\n                }\n            });\n        }\n\n        @Override\n        public int getItemCount() {\n            return dataList.size();\n        }\n\n        public class myViewHolder extends RecyclerView.ViewHolder {\n            View main_mView;\n            TextView name, number, money, material, size, colour, description, type;\n            public myViewHolder(@NonNull View itemView) {\n                super(itemView);\n                main_mView = itemView;\n                description = itemView.findViewById(R.id.notes);\n                name = itemView.findViewById(R.id.staff_name);\n                money = itemView.findViewById(R.id.money);\n                number = itemView.findViewById(R.id.number);\n                colour = itemView.findViewById(R.id.colour);\n                material = itemView.findViewById(R.id.material);\n                size = itemView.findViewById(R.id.size);\n                type = itemView.findViewById(R.id.types);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The problem is shown</p>\n<pre><code>inputData data = snap.getValue(inputData.class);\n</code></pre>\n"},{"tags":["java","java-memory-model"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1659711767,"post_id":73251592,"comment_id":129366985,"body_markdown":"Why not just use a `ReentrantLock` instead? one thread locks (or waits to lock), writes, unlocks, the other one locks (or waits to lock), reads, unlocks ? Sure, there is some ovearhead in the threads, in the form of waiting for the lock to free-up but whats the real issue? ... Other than ReaderThread obtaining the lock first and seeing no new values; if these are supposed to be a lock-step kind of thing then simply `synchronized` won&#39;t help there.","body":"Why not just use a <code>ReentrantLock</code> instead? one thread locks (or waits to lock), writes, unlocks, the other one locks (or waits to lock), reads, unlocks ? Sure, there is some ovearhead in the threads, in the form of waiting for the lock to free-up but whats the real issue? ... Other than ReaderThread obtaining the lock first and seeing no new values; if these are supposed to be a lock-step kind of thing then simply <code>synchronized</code> won&#39;t help there."},{"owner":{"account_id":11634171,"reputation":410,"user_id":8521177,"display_name":"TwITe"},"score":0,"creation_date":1659711939,"post_id":73251592,"comment_id":129367065,"body_markdown":"@Shark it&#39;s a barely practical question but more theoretical. I&#39;m just trying to understand jmm better. So let&#39;s stick with these basic synchronization primitives","body":"@Shark it&#39;s a barely practical question but more theoretical. I&#39;m just trying to understand jmm better. So let&#39;s stick with these basic synchronization primitives"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1659711953,"post_id":73251592,"comment_id":129367072,"body_markdown":"&quot;I&#39;ve put `sync` variable to forbid the compiler/JVM to remove otherwise empty `synchronized` block&quot; I don&#39;t think an empty synchronized block can be optimized away, because of the change to the memory model semantics.","body":"&quot;I&#39;ve put <code>sync</code> variable to forbid the compiler/JVM to remove otherwise empty <code>synchronized</code> block&quot; I don&#39;t think an empty synchronized block can be optimized away, because of the change to the memory model semantics."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1659714075,"post_id":73251592,"comment_id":129367867,"body_markdown":"ok, then to answer your question - due to the `synchronized` writer block, `a` will most certainly be 5 due to the happens-before. however, since the code is procedural, `b` will either be 0 (due to it not being initialized to anything) or 7, and i&#39;m gonna guess it&#39;s most likely going to be 7, because it&#39;s preceded by a `synchronized` block. If you however first read `b` then read `a` in a `synchronized` block, then `b` will be either 0 or 7, no guarantees, due to an implicit and obvious data-race.","body":"ok, then to answer your question - due to the <code>synchronized</code> writer block, <code>a</code> will most certainly be 5 due to the happens-before. however, since the code is procedural, <code>b</code> will either be 0 (due to it not being initialized to anything) or 7, and i&#39;m gonna guess it&#39;s most likely going to be 7, because it&#39;s preceded by a <code>synchronized</code> block. If you however first read <code>b</code> then read <code>a</code> in a <code>synchronized</code> block, then <code>b</code> will be either 0 or 7, no guarantees, due to an implicit and obvious data-race."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1659714254,"post_id":73251592,"comment_id":129367934,"body_markdown":"However, since there is no code that illustrates or demonstrates how the `reader()` and `writer()` code is being called (with different threads or not), i can&#39;t really give you a unified answer that covers both examples, since in the first sample, `a` is specifically non-volatile, so it&#39;s prone to LTS (local thread caching) and it&#39;s going to be different for all threads unless made `volatile`. The second sample doesn&#39;t specify what `a` and `b` are, and we can only guess that they share the same declaration as in the first block.","body":"However, since there is no code that illustrates or demonstrates how the <code>reader()</code> and <code>writer()</code> code is being called (with different threads or not), i can&#39;t really give you a unified answer that covers both examples, since in the first sample, <code>a</code> is specifically non-volatile, so it&#39;s prone to LTS (local thread caching) and it&#39;s going to be different for all threads unless made <code>volatile</code>. The second sample doesn&#39;t specify what <code>a</code> and <code>b</code> are, and we can only guess that they share the same declaration as in the first block."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1659714442,"post_id":73251592,"comment_id":129368004,"body_markdown":"Either way, i&#39;d either suggest usage of a doubly-locked block (doubly checked locking is what you wanna read on, or [this answer](https://stackoverflow.com/questions/1625118/java-double-checked-locking#1625180)), or think about your usecase, and redesign it to not rely on just JVM but actual real `Lock`s. And you&#39;ll most likely want to use a `ReentrantLock` in that case, because it&#39; can be a shared, reusable lock.","body":"Either way, i&#39;d either suggest usage of a doubly-locked block (doubly checked locking is what you wanna read on, or <a href=\"https://stackoverflow.com/questions/1625118/java-double-checked-locking#1625180\">this answer</a>), or think about your usecase, and redesign it to not rely on just JVM but actual real <code>Lock</code>s. And you&#39;ll most likely want to use a <code>ReentrantLock</code> in that case, because it&#39; can be a shared, reusable lock."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1659714684,"post_id":73251592,"comment_id":129368096,"body_markdown":"And i&#39;m not even going to touch the fact that &quot;double-checked locking is an antipattern&quot; with a 10 foot stick here, because it&#39;s outside of the scope of your question or this &quot;purely rhetorical/theoretical question&quot;.  I personally don&#39;t think it&#39;s an antipattern or consider it one, but if it really is - it&#39;s not a horrible one, the benefits outweight it&#39;s cost.","body":"And i&#39;m not even going to touch the fact that &quot;double-checked locking is an antipattern&quot; with a 10 foot stick here, because it&#39;s outside of the scope of your question or this &quot;purely rhetorical/theoretical question&quot;.  I personally don&#39;t think it&#39;s an antipattern or consider it one, but if it really is - it&#39;s not a horrible one, the benefits outweight it&#39;s cost."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659744306,"post_id":73251592,"comment_id":129375110,"body_markdown":"... and then he kicks the &quot;fact&quot; hard.  Nah ... not biting :-)","body":"... and then he kicks the &quot;fact&quot; hard.  Nah ... not biting :-)"}],"answers":[{"tags":[],"owner":{"account_id":25990889,"reputation":11,"user_id":19703086,"display_name":"user19703086"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659741655,"creation_date":1659741582,"answer_id":73256072,"question_id":73251592,"body_markdown":"&gt; Does JMM guarantee the visibility of a `synchronized` write to the variable that is read in the other thread after a `synchronized` block?\r\n\r\n&gt; Can I use a synchronized happens-before guarantee the same way?\r\n\r\nYes and yes.\r\n\r\n`synchronized` and `volatile` give the same visibility guarantees.\r\n\r\nIn fact, a `volatile` variable behaves as if each read and write of this variable happens in its own tiny `synchronized` block.\r\n\r\nIn the [JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5) terms:\r\n* the visibility is guaranteed by the _happens-before_ relation:\r\n  &gt; Informally, a read _r_ is allowed to see the result of a write _w_ if there is no happens-before ordering to prevent that read.\r\n* `volatile` and `synchronized` are some of the ways to establish the _happens-before_ relation:\r\n  &gt; * An unlock on a monitor _happens-before_ every subsequent lock on that monitor.\r\n  &gt; * A write to a volatile field (&#167;8.3.1.4) _happens-before_ every subsequent read of that field.\r\n  &gt; * ...\r\n\r\n---\r\n\r\nThe quote from [Safe Publication and Safe Initialization in Java](https://shipilev.net/blog/2014/safe-public-construction/#_arm) describes the case when:\r\n* an object is initialized in a `synchronized` block in one thread\r\n* the object and is read **without** `synchronized` blocks in another thread.\r\n\r\nIn this situation the reader thread might see the object in the middle of initialization.","title":"Visibility of a read after synchronized block","body":"<blockquote>\n<p>Does JMM guarantee the visibility of a <code>synchronized</code> write to the variable that is read in the other thread after a <code>synchronized</code> block?</p>\n</blockquote>\n<blockquote>\n<p>Can I use a synchronized happens-before guarantee the same way?</p>\n</blockquote>\n<p>Yes and yes.</p>\n<p><code>synchronized</code> and <code>volatile</code> give the same visibility guarantees.</p>\n<p>In fact, a <code>volatile</code> variable behaves as if each read and write of this variable happens in its own tiny <code>synchronized</code> block.</p>\n<p>In the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">JLS</a> terms:</p>\n<ul>\n<li>the visibility is guaranteed by the <em>happens-before</em> relation:\n<blockquote>\n<p>Informally, a read <em>r</em> is allowed to see the result of a write <em>w</em> if there is no happens-before ordering to prevent that read.</p>\n</blockquote>\n</li>\n<li><code>volatile</code> and <code>synchronized</code> are some of the ways to establish the <em>happens-before</em> relation:\n<blockquote>\n<ul>\n<li>An unlock on a monitor <em>happens-before</em> every subsequent lock on that monitor.</li>\n<li>A write to a volatile field (¬ß8.3.1.4) <em>happens-before</em> every subsequent read of that field.</li>\n<li>...</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<hr />\n<p>The quote from <a href=\"https://shipilev.net/blog/2014/safe-public-construction/#_arm\" rel=\"nofollow noreferrer\">Safe Publication and Safe Initialization in Java</a> describes the case when:</p>\n<ul>\n<li>an object is initialized in a <code>synchronized</code> block in one thread</li>\n<li>the object and is read <strong>without</strong> <code>synchronized</code> blocks in another thread.</li>\n</ul>\n<p>In this situation the reader thread might see the object in the middle of initialization.</p>\n"},{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659750765,"creation_date":1659750765,"answer_id":73256660,"question_id":73251592,"body_markdown":"What&#39;s important to note here is that *happens-before* is a **transitive** relation. So if `A` happens-before `B` and `B` happens-before `C`, we can safely conclude that `A` happens-before `C`.\r\n\r\nNow let&#39;s look at the code in question (I&#39;ve added comments for clarity):\r\n\r\n    public void writer() {\r\n        a = 5; //1\r\n        b = 7; //2\r\n        synchronized (this) { \r\n            sync = 1;\r\n        } //3\r\n    }\r\n\r\n    public void reader() {\r\n        synchronized (this) { //4\r\n            int r = sync;\r\n        }\r\n        int r1 = a; //5 \r\n        int r2 = b; //6\r\n    }\r\n\r\nWe know that `1` happens-before `2` and `2` before `3` since they&#39;re executed by the same thread:\r\n\r\n&gt; If x and y are actions of the same thread and x comes before y in program order, then hb(x, y).\r\n\r\nWe also know that `3` happens before `4`:\r\n\r\n&gt;  An unlock action on monitor m synchronizes-with all subsequent lock actions on m (where &quot;subsequent&quot; is defined according to the synchronization order).\r\n\r\n\r\n&gt; If an action x synchronizes-with a following action y, then we also have hb(x, y).\r\n\r\nLastly, we know that `4` happens-before `5` and `5` before `6` since they&#39;re executed in the same thread.\r\n\r\n&gt; If x and y are actions of the same thread and x comes before y in program order, then hb(x, y).\r\n\r\nSo we end up with a chain of happens-before relationships from 1 to 6. Consequently, `1` happens-before `6`.","title":"Visibility of a read after synchronized block","body":"<p>What's important to note here is that <em>happens-before</em> is a <strong>transitive</strong> relation. So if <code>A</code> happens-before <code>B</code> and <code>B</code> happens-before <code>C</code>, we can safely conclude that <code>A</code> happens-before <code>C</code>.</p>\n<p>Now let's look at the code in question (I've added comments for clarity):</p>\n<pre><code>public void writer() {\n    a = 5; //1\n    b = 7; //2\n    synchronized (this) { \n        sync = 1;\n    } //3\n}\n\npublic void reader() {\n    synchronized (this) { //4\n        int r = sync;\n    }\n    int r1 = a; //5 \n    int r2 = b; //6\n}\n</code></pre>\n<p>We know that <code>1</code> happens-before <code>2</code> and <code>2</code> before <code>3</code> since they're executed by the same thread:</p>\n<blockquote>\n<p>If x and y are actions of the same thread and x comes before y in program order, then hb(x, y).</p>\n</blockquote>\n<p>We also know that <code>3</code> happens before <code>4</code>:</p>\n<blockquote>\n<p>An unlock action on monitor m synchronizes-with all subsequent lock actions on m (where &quot;subsequent&quot; is defined according to the synchronization order).</p>\n</blockquote>\n<blockquote>\n<p>If an action x synchronizes-with a following action y, then we also have hb(x, y).</p>\n</blockquote>\n<p>Lastly, we know that <code>4</code> happens-before <code>5</code> and <code>5</code> before <code>6</code> since they're executed in the same thread.</p>\n<blockquote>\n<p>If x and y are actions of the same thread and x comes before y in program order, then hb(x, y).</p>\n</blockquote>\n<p>So we end up with a chain of happens-before relationships from 1 to 6. Consequently, <code>1</code> happens-before <code>6</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659827461,"creation_date":1659782787,"answer_id":73259089,"question_id":73251592,"body_markdown":"&gt; Does JMM guarantee the visibility of a synchronized write to the variable that is read in the other thread after a synchronized block?\r\n\r\nYes, for the reasons given in the other answers.\r\n\r\nBut there is a catch.\r\n\r\nLet us assume that the `reader` call follows the `writer` call so that there is a *happens before* between the `writer` exiting its synchronized block and reader entering its block ... and transitively it exiting the block and reading `b`.  \r\n\r\nThe catch is when `reader` exits its block, there is no longer a guarantee of mutual exclusion on `b`.  So suppose that another thread immediately acquires the mutex and modifies `b`.  Since there is no HB chain connecting *that* write to `b` with the read in `reader`, there are no guarantees what the `reader` code will actually see *that* update ... or the value that `writer` wrote previously.\r\n\r\nIn short, you need to consider **more** than HB relationships when reasoning about concurrent algorithms.\r\n","title":"Visibility of a read after synchronized block","body":"<blockquote>\n<p>Does JMM guarantee the visibility of a synchronized write to the variable that is read in the other thread after a synchronized block?</p>\n</blockquote>\n<p>Yes, for the reasons given in the other answers.</p>\n<p>But there is a catch.</p>\n<p>Let us assume that the <code>reader</code> call follows the <code>writer</code> call so that there is a <em>happens before</em> between the <code>writer</code> exiting its synchronized block and reader entering its block ... and transitively it exiting the block and reading <code>b</code>.</p>\n<p>The catch is when <code>reader</code> exits its block, there is no longer a guarantee of mutual exclusion on <code>b</code>.  So suppose that another thread immediately acquires the mutex and modifies <code>b</code>.  Since there is no HB chain connecting <em>that</em> write to <code>b</code> with the read in <code>reader</code>, there are no guarantees what the <code>reader</code> code will actually see <em>that</em> update ... or the value that <code>writer</code> wrote previously.</p>\n<p>In short, you need to consider <strong>more</strong> than HB relationships when reasoning about concurrent algorithms.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660638865,"creation_date":1660635740,"answer_id":73370398,"question_id":73251592,"body_markdown":"You got your answer by now, and to be fair, everyone here is correct, I just want to add one important rule. It&#39;s called &quot;happens-before consistency&quot;, which goes like this:\r\n\r\n - reads either see the latest write in happens-before order, or _any other_ write not tied in happens-before order, thus a data-race. \r\n\r\n\r\nSo while the accepted answer is indeed correct, it should mention that in order for a happens-before edge to be created between `(3)` and `(4)`, `(4)` has to _observe_ the write that `(3)` did.   \r\n\r\nIn your example:\r\n\r\n\r\n```\r\npublic void reader() {\r\n   synchronized (this) {\r\n      int r = sync;\r\n   }\r\n   int r1 = a; /* ? */\r\n   int r2 = b; /* ? */\r\n\r\n}\r\n```\r\n\r\nit means that `int r = sync;` is not correct, you need to assert that you actually saw `sync` to be `1` (you have observed the write). For example, this would create the needed edge:\r\n\r\n    if (sync == 1) {\r\n        // guaranteed that r1=5 and r2=7\r\n        int r1 = a;\r\n        int r2 = b;\r\n    }","title":"Visibility of a read after synchronized block","body":"<p>You got your answer by now, and to be fair, everyone here is correct, I just want to add one important rule. It's called &quot;happens-before consistency&quot;, which goes like this:</p>\n<ul>\n<li>reads either see the latest write in happens-before order, or <em>any other</em> write not tied in happens-before order, thus a data-race.</li>\n</ul>\n<p>So while the accepted answer is indeed correct, it should mention that in order for a happens-before edge to be created between <code>(3)</code> and <code>(4)</code>, <code>(4)</code> has to <em>observe</em> the write that <code>(3)</code> did.</p>\n<p>In your example:</p>\n<pre><code>public void reader() {\n   synchronized (this) {\n      int r = sync;\n   }\n   int r1 = a; /* ? */\n   int r2 = b; /* ? */\n\n}\n</code></pre>\n<p>it means that <code>int r = sync;</code> is not correct, you need to assert that you actually saw <code>sync</code> to be <code>1</code> (you have observed the write). For example, this would create the needed edge:</p>\n<pre><code>if (sync == 1) {\n    // guaranteed that r1=5 and r2=7\n    int r1 = a;\n    int r2 = b;\n}\n</code></pre>\n"}],"owner":{"account_id":11634171,"reputation":410,"user_id":8521177,"display_name":"TwITe"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73256660,"answer_count":4,"score":1,"last_activity_date":1660638865,"creation_date":1659710910,"question_id":73251592,"body_markdown":"Does JMM guarantee the visibility of a `synchronized` write to the variable that is read in the other thread after a `synchronized` block? Here&#39;s what I mean:\r\n```java\r\npublic class SynchronizedWriteRead {\r\n\r\n    private int a;\r\n    private int b;\r\n\r\n    public void writer() {\r\n        synchronized (this) {\r\n            a = 5;\r\n            b = 7;\r\n        }\r\n    }\r\n\r\n    public void reader() {\r\n        synchronized (this) {\r\n            int r1 = a; /* 5 */\r\n        }\r\n        int r2 = b; /* ? */\r\n    }\r\n}\r\n```\r\n\r\nJMM guarantees that an unlock on a monitor happens-before every subsequent lock on that monitor. But I&#39;m not sure if it relates only to the `synchronized` block body or not.\r\n\r\nRecently I&#39;m encountered this post from Aleksey Shipil&#235;v - [Safe Publication and Safe Initialization in Java][1]. It says:\r\n\r\n&gt; Notice how doing `synchronized` in **Unsafe DCL** store does not help,\r\n&gt; contrary to layman belief it somehow magically &quot;flushes the caches&quot; or\r\n&gt; whatnot. Without a paired lock when reading the protected state, you\r\n&gt; are not guaranteed to see the writes preceding the lock-protected\r\n&gt; write.\r\n\r\nSo this is why I asked myself this question. I couldn&#39;t find an answer in the [JLS][2].\r\n\r\nLet&#39;s put it another way. Sometimes you&#39;re piggybacking on a `volatile` *happens-before* guarantee like this:\r\n```java\r\npublic class VolatileHappensBefore {\r\n\r\n    private int a; /* specifically non-volatile */\r\n    private volatile int b;\r\n\r\n    public void writer() {\r\n        a = 5;\r\n        b = 7;\r\n    }\r\n\r\n    public void reader() {\r\n        int r1 = b; /* 7 */\r\n        int r2 = a; /* 5 */\r\n    }\r\n}\r\n```\r\n\r\nYou&#39;re guaranteed to see both writes because sequential actions in the same thread are backed by happens-before, and happens-before itself is transitive.\r\n\r\nCan I use a `synchronized` *happens-before* guarantee the same way? Maybe even like this (I&#39;ve put `sync` variable to forbid the compiler/JVM to remove otherwise empty `synchronized` block):\r\n```java\r\n    public void writer() {\r\n        a = 5;\r\n        b = 7;\r\n        synchronized (this) {\r\n            sync = 1;\r\n        }\r\n    }\r\n\r\n    public void reader() {\r\n        synchronized (this) {\r\n            int r = sync;\r\n        }\r\n        int r1 = a; /* ? */\r\n        int r2 = b; /* ? */\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://shipilev.net/blog/2014/safe-public-construction/#_arm\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5","title":"Visibility of a read after synchronized block","body":"<p>Does JMM guarantee the visibility of a <code>synchronized</code> write to the variable that is read in the other thread after a <code>synchronized</code> block? Here's what I mean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SynchronizedWriteRead {\n\n    private int a;\n    private int b;\n\n    public void writer() {\n        synchronized (this) {\n            a = 5;\n            b = 7;\n        }\n    }\n\n    public void reader() {\n        synchronized (this) {\n            int r1 = a; /* 5 */\n        }\n        int r2 = b; /* ? */\n    }\n}\n</code></pre>\n<p>JMM guarantees that an unlock on a monitor happens-before every subsequent lock on that monitor. But I'm not sure if it relates only to the <code>synchronized</code> block body or not.</p>\n<p>Recently I'm encountered this post from Aleksey Shipil√´v - <a href=\"https://shipilev.net/blog/2014/safe-public-construction/#_arm\" rel=\"nofollow noreferrer\">Safe Publication and Safe Initialization in Java</a>. It says:</p>\n<blockquote>\n<p>Notice how doing <code>synchronized</code> in <strong>Unsafe DCL</strong> store does not help,\ncontrary to layman belief it somehow magically &quot;flushes the caches&quot; or\nwhatnot. Without a paired lock when reading the protected state, you\nare not guaranteed to see the writes preceding the lock-protected\nwrite.</p>\n</blockquote>\n<p>So this is why I asked myself this question. I couldn't find an answer in the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">JLS</a>.</p>\n<p>Let's put it another way. Sometimes you're piggybacking on a <code>volatile</code> <em>happens-before</em> guarantee like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class VolatileHappensBefore {\n\n    private int a; /* specifically non-volatile */\n    private volatile int b;\n\n    public void writer() {\n        a = 5;\n        b = 7;\n    }\n\n    public void reader() {\n        int r1 = b; /* 7 */\n        int r2 = a; /* 5 */\n    }\n}\n</code></pre>\n<p>You're guaranteed to see both writes because sequential actions in the same thread are backed by happens-before, and happens-before itself is transitive.</p>\n<p>Can I use a <code>synchronized</code> <em>happens-before</em> guarantee the same way? Maybe even like this (I've put <code>sync</code> variable to forbid the compiler/JVM to remove otherwise empty <code>synchronized</code> block):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void writer() {\n        a = 5;\n        b = 7;\n        synchronized (this) {\n            sync = 1;\n        }\n    }\n\n    public void reader() {\n        synchronized (this) {\n            int r = sync;\n        }\n        int r1 = a; /* ? */\n        int r2 = b; /* ? */\n    }\n</code></pre>\n"},{"tags":["java","pdf","itext7"],"answers":[{"tags":[],"owner":{"account_id":2443490,"reputation":360,"user_id":2131390,"display_name":"Tobias Hochg&#252;rtel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1484312268,"creation_date":1484312268,"answer_id":41635192,"question_id":41631355,"body_markdown":"I found the solution.\r\n\r\nThe Rectancle calculation:  \r\nx: `annotation.x`  \r\ny: `annotation.y`  \r\nwidth: `annotation.width - annotation.x`  \r\nheight: `annotation.height - annotation.y`\r\n\r\n**What I get now:**\r\n\r\nVisual Debug (if LOG_LEVEL &gt;= 100):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Extracted Content:**\r\n\r\n    13:50:01.323 [main] INFO  b.h.AppIText - Annotation contents: q(7.1).explain(1)\r\n    13:50:01.323 [main] INFO  b.h.AppIText - rectangleArray: x=90.0338, y=438.245, w=468.33, h=489.749\r\n    13:50:01.323 [main] INFO  b.h.AppIText - pageSizeWithRotation: x=0.0, y=0.0, w=531.0, h=666.0, top=666.0, bottom=0.0, left=0.0, right=531.0\r\n    13:50:01.337 [main] INFO  b.h.AppIText - str: Purpose: A finally block can‚Äôt be placed before the catch blocks. &lt;cut here because the book is not free, but I get the complete marked text..&gt;\r\n\r\n**My fixed code looks now:**\r\n\r\n    package biz.hochguertel;\r\n    \r\n    import com.itextpdf.kernel.color.DeviceCmyk;\r\n    import com.itextpdf.kernel.geom.Rectangle;\r\n    import com.itextpdf.kernel.pdf.*;\r\n    import com.itextpdf.kernel.pdf.annot.PdfAnnotation;\r\n    import com.itextpdf.kernel.pdf.annot.PdfTextMarkupAnnotation;\r\n    import com.itextpdf.kernel.pdf.canvas.PdfCanvas;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.PdfTextExtractor;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.filter.TextRegionEventFilter;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.listener.FilteredTextEventListener;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.listener.ITextExtractionStrategy;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.listener.LocationTextExtractionStrategy;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    \r\n    /**\r\n     * With the help of the following documentations:\r\n     * - http://developers.itextpdf.com/content/best-itext-questions-stackoverview/content-parsing-extraction-and-redaction-text/itext7-how-read-text-specific-position\r\n     */\r\n    public class AppIText {\r\n        \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(AppIText.class);\r\n        private static int LOG_LEVEL = 0;\r\n        private final static int VISUAL_DEBUG = 100;\r\n        \r\n        private String filePath = getClass().getClassLoader().getResource(&quot;itext/OCA/393-394,549-550_OCA_Java_SE_7_Programmer_I_Certification.pdf&quot;).getFile();\r\n        private static String DEST = &quot;demo-output/393-394,549-550_OCA_Java_SE_7_Programmer_I_Certification.pdf&quot;;\r\n        private PdfDocument pdfDocument;\r\n        private PdfDocument pdfWriteDoc;\r\n        \r\n        \r\n        public void before() throws IOException {\r\n            File file = new File(DEST);\r\n            file.getParentFile().mkdir();\r\n            if (file.exists()) {\r\n                file.delete();\r\n            }\r\n            pdfDocument = new PdfDocument(new PdfReader(filePath));\r\n            pdfWriteDoc = new PdfDocument(new PdfWriter(DEST));\r\n        }\r\n        \r\n        public static void main(String[] args) throws IOException {\r\n            AppIText appIText = new AppIText();\r\n            appIText.before();\r\n            appIText.process();\r\n        }\r\n        \r\n        private void process() {\r\n            for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\r\n                PdfPage page = pdfDocument.getPage(i);\r\n                \r\n                List&lt;PdfPage&gt; newPdfPages = pdfDocument.copyPagesTo(i, i, pdfWriteDoc);\r\n                PdfPage newPage = null;\r\n                if (newPdfPages.size() &gt; 0) {\r\n                    newPage = newPdfPages.get(0);\r\n                }\r\n                \r\n                List&lt;PdfAnnotation&gt; annotations = page.getAnnotations();\r\n                for (PdfAnnotation annotation : annotations) {\r\n                    if (annotation.getContents() != null) {\r\n                        System.out.println();\r\n                        LOGGER.info(&quot;Annotation contents: {}&quot;, annotation.getContents());\r\n                        if (annotation instanceof PdfTextMarkupAnnotation) {\r\n                            PdfArray rectangleArray = annotation.getRectangle();\r\n                            LOGGER.info(&quot;rectangleArray: x={}, y={}, w={}, h={}&quot;,\r\n                                    rectangleArray.get(0),\r\n                                    rectangleArray.get(1),\r\n                                    rectangleArray.get(2),\r\n                                    rectangleArray.get(3)\r\n                            );\r\n                            Rectangle pageSizeWithRotation = page.getCropBox();\r\n                            LOGGER.info(&quot;pageSizeWithRotation: x={}, y={}, w={}, h={}, top={}, bottom={}, left={}, right={}&quot;,\r\n                                    pageSizeWithRotation.getX(),\r\n                                    pageSizeWithRotation.getY(),\r\n                                    pageSizeWithRotation.getWidth(),\r\n                                    pageSizeWithRotation.getHeight(),\r\n                                    pageSizeWithRotation.getTop(),\r\n                                    pageSizeWithRotation.getBottom(),\r\n                                    pageSizeWithRotation.getLeft(),\r\n                                    pageSizeWithRotation.getRight()\r\n                            );\r\n                            float x = ((PdfNumber) rectangleArray.get(0)).floatValue();\r\n                            float y = ((PdfNumber) rectangleArray.get(1)).floatValue();\r\n                            float width = ((PdfNumber) rectangleArray.get(2)).floatValue() - x;\r\n                            float height = ((PdfNumber) rectangleArray.get(3)).floatValue() - y;\r\n                            Rectangle rectangle = new Rectangle(\r\n                                                                       x,\r\n                                                                       y,\r\n                                                                       width,\r\n                                                                       height\r\n                            );\r\n                            //13:10:33.097 [main] INFO  b.h.AppIText - Annotation contents: q(7.1).explain(1)\r\n                            //13:10:33.107 [main] INFO  b.h.AppIText - rectangleArray: x=90.0338, y=438.245, w=468.33, h=489.749\r\n                            //13:10:33.107 [main] INFO  b.h.AppIText - pageSizeWithRotation: x=0.0, y=0.0, w=531.0, h=666.0, top=666.0, bottom=0.0, left=0.0, right=531.0\r\n                            //width:  468.33f - 90.0388f,\r\n                            //height: 489.749f - 438.245f\r\n                            \r\n                            if (LOG_LEVEL &gt;= VISUAL_DEBUG) {\r\n                                PdfCanvas canvas = new PdfCanvas(newPage);\r\n                                canvas.setFillColor(new DeviceCmyk(1, 0, 0, 0))\r\n                                        .rectangle(rectangle)\r\n                                        .fillStroke();\r\n                            }\r\n                            \r\n                            TextRegionEventFilter regionFilter = new TextRegionEventFilter(rectangle);\r\n                            ITextExtractionStrategy strategy = new FilteredTextEventListener(new LocationTextExtractionStrategy(), regionFilter);\r\n                            String str = PdfTextExtractor.getTextFromPage(page, strategy) + &quot;\\n&quot;;\r\n                            LOGGER.info(&quot;str: {}&quot;, str);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            pdfDocument.close();\r\n            pdfWriteDoc.close();\r\n        }\r\n        \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/s9CY9.png","title":"Create an Rectangle from an Annotation (PdfTextMarkupAnnotation) to extract highlighted content?","body":"<p>I found the solution.</p>\n\n<p>The Rectancle calculation:<br>\nx: <code>annotation.x</code><br>\ny: <code>annotation.y</code><br>\nwidth: <code>annotation.width - annotation.x</code><br>\nheight: <code>annotation.height - annotation.y</code></p>\n\n<p><strong>What I get now:</strong></p>\n\n<p>Visual Debug (if LOG_LEVEL >= 100):</p>\n\n<p><a href=\"https://i.stack.imgur.com/s9CY9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s9CY9.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Extracted Content:</strong></p>\n\n<pre><code>13:50:01.323 [main] INFO  b.h.AppIText - Annotation contents: q(7.1).explain(1)\n13:50:01.323 [main] INFO  b.h.AppIText - rectangleArray: x=90.0338, y=438.245, w=468.33, h=489.749\n13:50:01.323 [main] INFO  b.h.AppIText - pageSizeWithRotation: x=0.0, y=0.0, w=531.0, h=666.0, top=666.0, bottom=0.0, left=0.0, right=531.0\n13:50:01.337 [main] INFO  b.h.AppIText - str: Purpose: A finally block can‚Äôt be placed before the catch blocks. &lt;cut here because the book is not free, but I get the complete marked text..&gt;\n</code></pre>\n\n<p><strong>My fixed code looks now:</strong></p>\n\n<pre><code>package biz.hochguertel;\n\nimport com.itextpdf.kernel.color.DeviceCmyk;\nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.*;\nimport com.itextpdf.kernel.pdf.annot.PdfAnnotation;\nimport com.itextpdf.kernel.pdf.annot.PdfTextMarkupAnnotation;\nimport com.itextpdf.kernel.pdf.canvas.PdfCanvas;\nimport com.itextpdf.kernel.pdf.canvas.parser.PdfTextExtractor;\nimport com.itextpdf.kernel.pdf.canvas.parser.filter.TextRegionEventFilter;\nimport com.itextpdf.kernel.pdf.canvas.parser.listener.FilteredTextEventListener;\nimport com.itextpdf.kernel.pdf.canvas.parser.listener.ITextExtractionStrategy;\nimport com.itextpdf.kernel.pdf.canvas.parser.listener.LocationTextExtractionStrategy;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.List;\n\n\n/**\n * With the help of the following documentations:\n * - http://developers.itextpdf.com/content/best-itext-questions-stackoverview/content-parsing-extraction-and-redaction-text/itext7-how-read-text-specific-position\n */\npublic class AppIText {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AppIText.class);\n    private static int LOG_LEVEL = 0;\n    private final static int VISUAL_DEBUG = 100;\n\n    private String filePath = getClass().getClassLoader().getResource(\"itext/OCA/393-394,549-550_OCA_Java_SE_7_Programmer_I_Certification.pdf\").getFile();\n    private static String DEST = \"demo-output/393-394,549-550_OCA_Java_SE_7_Programmer_I_Certification.pdf\";\n    private PdfDocument pdfDocument;\n    private PdfDocument pdfWriteDoc;\n\n\n    public void before() throws IOException {\n        File file = new File(DEST);\n        file.getParentFile().mkdir();\n        if (file.exists()) {\n            file.delete();\n        }\n        pdfDocument = new PdfDocument(new PdfReader(filePath));\n        pdfWriteDoc = new PdfDocument(new PdfWriter(DEST));\n    }\n\n    public static void main(String[] args) throws IOException {\n        AppIText appIText = new AppIText();\n        appIText.before();\n        appIText.process();\n    }\n\n    private void process() {\n        for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\n            PdfPage page = pdfDocument.getPage(i);\n\n            List&lt;PdfPage&gt; newPdfPages = pdfDocument.copyPagesTo(i, i, pdfWriteDoc);\n            PdfPage newPage = null;\n            if (newPdfPages.size() &gt; 0) {\n                newPage = newPdfPages.get(0);\n            }\n\n            List&lt;PdfAnnotation&gt; annotations = page.getAnnotations();\n            for (PdfAnnotation annotation : annotations) {\n                if (annotation.getContents() != null) {\n                    System.out.println();\n                    LOGGER.info(\"Annotation contents: {}\", annotation.getContents());\n                    if (annotation instanceof PdfTextMarkupAnnotation) {\n                        PdfArray rectangleArray = annotation.getRectangle();\n                        LOGGER.info(\"rectangleArray: x={}, y={}, w={}, h={}\",\n                                rectangleArray.get(0),\n                                rectangleArray.get(1),\n                                rectangleArray.get(2),\n                                rectangleArray.get(3)\n                        );\n                        Rectangle pageSizeWithRotation = page.getCropBox();\n                        LOGGER.info(\"pageSizeWithRotation: x={}, y={}, w={}, h={}, top={}, bottom={}, left={}, right={}\",\n                                pageSizeWithRotation.getX(),\n                                pageSizeWithRotation.getY(),\n                                pageSizeWithRotation.getWidth(),\n                                pageSizeWithRotation.getHeight(),\n                                pageSizeWithRotation.getTop(),\n                                pageSizeWithRotation.getBottom(),\n                                pageSizeWithRotation.getLeft(),\n                                pageSizeWithRotation.getRight()\n                        );\n                        float x = ((PdfNumber) rectangleArray.get(0)).floatValue();\n                        float y = ((PdfNumber) rectangleArray.get(1)).floatValue();\n                        float width = ((PdfNumber) rectangleArray.get(2)).floatValue() - x;\n                        float height = ((PdfNumber) rectangleArray.get(3)).floatValue() - y;\n                        Rectangle rectangle = new Rectangle(\n                                                                   x,\n                                                                   y,\n                                                                   width,\n                                                                   height\n                        );\n                        //13:10:33.097 [main] INFO  b.h.AppIText - Annotation contents: q(7.1).explain(1)\n                        //13:10:33.107 [main] INFO  b.h.AppIText - rectangleArray: x=90.0338, y=438.245, w=468.33, h=489.749\n                        //13:10:33.107 [main] INFO  b.h.AppIText - pageSizeWithRotation: x=0.0, y=0.0, w=531.0, h=666.0, top=666.0, bottom=0.0, left=0.0, right=531.0\n                        //width:  468.33f - 90.0388f,\n                        //height: 489.749f - 438.245f\n\n                        if (LOG_LEVEL &gt;= VISUAL_DEBUG) {\n                            PdfCanvas canvas = new PdfCanvas(newPage);\n                            canvas.setFillColor(new DeviceCmyk(1, 0, 0, 0))\n                                    .rectangle(rectangle)\n                                    .fillStroke();\n                        }\n\n                        TextRegionEventFilter regionFilter = new TextRegionEventFilter(rectangle);\n                        ITextExtractionStrategy strategy = new FilteredTextEventListener(new LocationTextExtractionStrategy(), regionFilter);\n                        String str = PdfTextExtractor.getTextFromPage(page, strategy) + \"\\n\";\n                        LOGGER.info(\"str: {}\", str);\n                    }\n                }\n            }\n        }\n        pdfDocument.close();\n        pdfWriteDoc.close();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2443490,"reputation":360,"user_id":2131390,"display_name":"Tobias Hochg&#252;rtel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41635192,"answer_count":1,"score":0,"last_activity_date":1660638787,"creation_date":1484299975,"question_id":41631355,"body_markdown":"I want to get the text which I have marked in my pdf file. I iterate over the `PdfAnnotation` of the `PdfPage`. The annoation has a method `getRectangle()` which return a `PdfArray`. I can&#39;t create from the PdfArray an `Rectangle` runtime-class (object/instance) which has the position and overlays over the marked text of the annotation.\r\n\r\nWith the `Rectangle` from annotation I wanto to filter via LocationtextExtratctionStrategy the marked content.\r\n\r\n[![Marked text in PDF document][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tezti.png\r\n\r\nI written the following code to get it with iText:\r\n\r\n    package biz.hochguertel;\r\n    \r\n    import com.itextpdf.kernel.color.DeviceCmyk;\r\n    import com.itextpdf.kernel.events.Event;\r\n    import com.itextpdf.kernel.events.IEventHandler;\r\n    import com.itextpdf.kernel.events.PdfDocumentEvent;\r\n    import com.itextpdf.kernel.font.PdfFont;\r\n    import com.itextpdf.kernel.geom.Rectangle;\r\n    import com.itextpdf.kernel.pdf.*;\r\n    import com.itextpdf.kernel.pdf.annot.PdfAnnotation;\r\n    import com.itextpdf.kernel.pdf.annot.PdfTextMarkupAnnotation;\r\n    import com.itextpdf.kernel.pdf.canvas.PdfCanvas;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.EventType;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.PdfCanvasProcessor;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.data.IEventData;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.data.TextRenderInfo;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.filter.TextRegionEventFilter;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.listener.FilteredEventListener;\r\n    import com.itextpdf.kernel.pdf.canvas.parser.listener.LocationTextExtractionStrategy;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    public class AppIText {\r\n        \r\n        private String filePath = getClass().getClassLoader().getResource(&quot;itext/OCA/549_OCA_Java_SE_7_Programmer_I_Certification.pdf&quot;).getFile();\r\n        private static String DEST = &quot;demo-output/549_OCA_Java_SE_7_Programmer_I_Certification.pdf&quot;;\r\n        private PdfDocument pdfDocument;\r\n        private PdfDocument pdfWriteDoc;\r\n        \r\n        public void before() throws IOException {\r\n            File file = new File(DEST);\r\n            file.getParentFile().mkdir();\r\n            if (file.exists()) {\r\n                file.delete();\r\n            }\r\n            pdfDocument = new PdfDocument(new PdfReader(filePath));\r\n            pdfWriteDoc = new PdfDocument(new PdfWriter(DEST));\r\n        }\r\n        \r\n        public static void main(String[] args) throws IOException {\r\n            AppIText appIText = new AppIText();\r\n            appIText.before();\r\n            appIText.process();\r\n            appIText.close();\r\n        }\r\n        \r\n        private void close() {\r\n            pdfDocument.close();\r\n            pdfWriteDoc.close();\r\n        }\r\n        \r\n        private void process() {\r\n            for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\r\n                PdfPage page = pdfDocument.getPage(i);\r\n                \r\n                List&lt;PdfPage&gt; newPdfPages = pdfDocument.copyPagesTo(i, i, pdfWriteDoc);\r\n                PdfPage newPage = null;\r\n                if (newPdfPages.size() &gt; 0) {\r\n                    newPage = newPdfPages.get(0);\r\n                }\r\n                \r\n                List&lt;PdfAnnotation&gt; annotations = page.getAnnotations();\r\n                for (PdfAnnotation annotation : annotations) {\r\n                    if (annotation.getContents() != null) {\r\n                        System.out.println(annotation.getContents());\r\n                        if (annotation instanceof PdfTextMarkupAnnotation) {\r\n                            PdfArray rectangleArray = annotation.getRectangle();\r\n                            double x = ((PdfNumber) rectangleArray.get(0)).getValue();\r\n                            double y = ((PdfNumber) rectangleArray.get(1)).getValue();\r\n                            double xWidth = ((PdfNumber) rectangleArray.get(2)).getValue();\r\n                            double yWidth = ((PdfNumber) rectangleArray.get(3)).getValue();\r\n                            System.out.println(String.format(&quot;x=%s,y=%s,w=%s,h=%s&quot;, x, y, xWidth, yWidth));\r\n                            Rectangle rectangle = new Rectangle((float) x, (float) y, (float) xWidth, (float) yWidth);\r\n                            \r\n                            PdfCanvas canvas = new PdfCanvas(newPage);\r\n                            canvas.setFillColor(new DeviceCmyk(1, 0, 0, 0))\r\n                                    .rectangle(rectangle)\r\n                                    .fillStroke()\r\n                            ;\r\n    \r\n                            FontFilter fontFilter = new FontFilter(rectangle);\r\n                            FilteredEventListener listener = new FilteredEventListener();\r\n                            LocationTextExtractionStrategy extractionStrategy = listener.attachEventListener(new LocationTextExtractionStrategy(), fontFilter);\r\n                            new PdfCanvasProcessor(listener).processPageContent(page);\r\n                            String actualText = extractionStrategy.getResultantText();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n       \r\n    }\r\n    \r\n    class RectangleEventHandler implements IEventHandler {\r\n        @Override\r\n        public void handleEvent(Event event) {\r\n            PdfDocumentEvent docEvent = (PdfDocumentEvent) event;\r\n            PdfDocument pdfDoc = docEvent.getDocument();\r\n            PdfPage page = docEvent.getPage();\r\n            PdfCanvas canvas = new PdfCanvas(page.getLastContentStream(), page.getResources(), pdfDoc);\r\n            canvas.setFillColor(new DeviceCmyk(1, 0, 0, 0))\r\n                    .rectangle(new Rectangle(20, 10, 10, 820))\r\n                    .fillStroke();\r\n        }\r\n    }\r\n    \r\n    class FontFilter extends TextRegionEventFilter {\r\n        public FontFilter(Rectangle filterRect) {\r\n            super(filterRect);\r\n        }\r\n        \r\n        @Override\r\n        public boolean accept(IEventData data, EventType type) {\r\n            if (type.equals(EventType.RENDER_TEXT)) {\r\n                TextRenderInfo renderInfo = (TextRenderInfo) data;\r\n                \r\n                PdfFont font = renderInfo.getFont();\r\n                if (null != font) {\r\n                    String fontName = font.getFontProgram().getFontNames().getFontName();\r\n                    return fontName.endsWith(&quot;Bold&quot;) || fontName.endsWith(&quot;Oblique&quot;);\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n- How to create an rectangle which matches the marked area to extract only the marked (highlighted) text from the pdf?\r\n- Or is there an different way to get the marked text ov an annotation from an pdf?\r\n\r\nThe following main part of the code above is to apply:\r\n\r\n`Rectangle rectangle = new Rectangle((float) x, (float) y, (float) xWidth, (float) yWidth);`\r\n\r\n\r\n\r\n","title":"Create an Rectangle from an Annotation (PdfTextMarkupAnnotation) to extract highlighted content?","body":"<p>I want to get the text which I have marked in my pdf file. I iterate over the <code>PdfAnnotation</code> of the <code>PdfPage</code>. The annoation has a method <code>getRectangle()</code> which return a <code>PdfArray</code>. I can't create from the PdfArray an <code>Rectangle</code> runtime-class (object/instance) which has the position and overlays over the marked text of the annotation.</p>\n\n<p>With the <code>Rectangle</code> from annotation I wanto to filter via LocationtextExtratctionStrategy the marked content.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Tezti.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tezti.png\" alt=\"Marked text in PDF document\"></a></p>\n\n<p>I written the following code to get it with iText:</p>\n\n<pre><code>package biz.hochguertel;\n\nimport com.itextpdf.kernel.color.DeviceCmyk;\nimport com.itextpdf.kernel.events.Event;\nimport com.itextpdf.kernel.events.IEventHandler;\nimport com.itextpdf.kernel.events.PdfDocumentEvent;\nimport com.itextpdf.kernel.font.PdfFont;\nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.*;\nimport com.itextpdf.kernel.pdf.annot.PdfAnnotation;\nimport com.itextpdf.kernel.pdf.annot.PdfTextMarkupAnnotation;\nimport com.itextpdf.kernel.pdf.canvas.PdfCanvas;\nimport com.itextpdf.kernel.pdf.canvas.parser.EventType;\nimport com.itextpdf.kernel.pdf.canvas.parser.PdfCanvasProcessor;\nimport com.itextpdf.kernel.pdf.canvas.parser.data.IEventData;\nimport com.itextpdf.kernel.pdf.canvas.parser.data.TextRenderInfo;\nimport com.itextpdf.kernel.pdf.canvas.parser.filter.TextRegionEventFilter;\nimport com.itextpdf.kernel.pdf.canvas.parser.listener.FilteredEventListener;\nimport com.itextpdf.kernel.pdf.canvas.parser.listener.LocationTextExtractionStrategy;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.List;\n\npublic class AppIText {\n\n    private String filePath = getClass().getClassLoader().getResource(\"itext/OCA/549_OCA_Java_SE_7_Programmer_I_Certification.pdf\").getFile();\n    private static String DEST = \"demo-output/549_OCA_Java_SE_7_Programmer_I_Certification.pdf\";\n    private PdfDocument pdfDocument;\n    private PdfDocument pdfWriteDoc;\n\n    public void before() throws IOException {\n        File file = new File(DEST);\n        file.getParentFile().mkdir();\n        if (file.exists()) {\n            file.delete();\n        }\n        pdfDocument = new PdfDocument(new PdfReader(filePath));\n        pdfWriteDoc = new PdfDocument(new PdfWriter(DEST));\n    }\n\n    public static void main(String[] args) throws IOException {\n        AppIText appIText = new AppIText();\n        appIText.before();\n        appIText.process();\n        appIText.close();\n    }\n\n    private void close() {\n        pdfDocument.close();\n        pdfWriteDoc.close();\n    }\n\n    private void process() {\n        for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\n            PdfPage page = pdfDocument.getPage(i);\n\n            List&lt;PdfPage&gt; newPdfPages = pdfDocument.copyPagesTo(i, i, pdfWriteDoc);\n            PdfPage newPage = null;\n            if (newPdfPages.size() &gt; 0) {\n                newPage = newPdfPages.get(0);\n            }\n\n            List&lt;PdfAnnotation&gt; annotations = page.getAnnotations();\n            for (PdfAnnotation annotation : annotations) {\n                if (annotation.getContents() != null) {\n                    System.out.println(annotation.getContents());\n                    if (annotation instanceof PdfTextMarkupAnnotation) {\n                        PdfArray rectangleArray = annotation.getRectangle();\n                        double x = ((PdfNumber) rectangleArray.get(0)).getValue();\n                        double y = ((PdfNumber) rectangleArray.get(1)).getValue();\n                        double xWidth = ((PdfNumber) rectangleArray.get(2)).getValue();\n                        double yWidth = ((PdfNumber) rectangleArray.get(3)).getValue();\n                        System.out.println(String.format(\"x=%s,y=%s,w=%s,h=%s\", x, y, xWidth, yWidth));\n                        Rectangle rectangle = new Rectangle((float) x, (float) y, (float) xWidth, (float) yWidth);\n\n                        PdfCanvas canvas = new PdfCanvas(newPage);\n                        canvas.setFillColor(new DeviceCmyk(1, 0, 0, 0))\n                                .rectangle(rectangle)\n                                .fillStroke()\n                        ;\n\n                        FontFilter fontFilter = new FontFilter(rectangle);\n                        FilteredEventListener listener = new FilteredEventListener();\n                        LocationTextExtractionStrategy extractionStrategy = listener.attachEventListener(new LocationTextExtractionStrategy(), fontFilter);\n                        new PdfCanvasProcessor(listener).processPageContent(page);\n                        String actualText = extractionStrategy.getResultantText();\n                    }\n                }\n            }\n        }\n    }\n\n}\n\nclass RectangleEventHandler implements IEventHandler {\n    @Override\n    public void handleEvent(Event event) {\n        PdfDocumentEvent docEvent = (PdfDocumentEvent) event;\n        PdfDocument pdfDoc = docEvent.getDocument();\n        PdfPage page = docEvent.getPage();\n        PdfCanvas canvas = new PdfCanvas(page.getLastContentStream(), page.getResources(), pdfDoc);\n        canvas.setFillColor(new DeviceCmyk(1, 0, 0, 0))\n                .rectangle(new Rectangle(20, 10, 10, 820))\n                .fillStroke();\n    }\n}\n\nclass FontFilter extends TextRegionEventFilter {\n    public FontFilter(Rectangle filterRect) {\n        super(filterRect);\n    }\n\n    @Override\n    public boolean accept(IEventData data, EventType type) {\n        if (type.equals(EventType.RENDER_TEXT)) {\n            TextRenderInfo renderInfo = (TextRenderInfo) data;\n\n            PdfFont font = renderInfo.getFont();\n            if (null != font) {\n                String fontName = font.getFontProgram().getFontNames().getFontName();\n                return fontName.endsWith(\"Bold\") || fontName.endsWith(\"Oblique\");\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<ul>\n<li>How to create an rectangle which matches the marked area to extract only the marked (highlighted) text from the pdf?</li>\n<li>Or is there an different way to get the marked text ov an annotation from an pdf?</li>\n</ul>\n\n<p>The following main part of the code above is to apply:</p>\n\n<p><code>Rectangle rectangle = new Rectangle((float) x, (float) y, (float) xWidth, (float) yWidth);</code></p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1660587240,"post_id":73363732,"comment_id":129562706,"body_markdown":"You can use cliptopadding bottom.","body":"You can use cliptopadding bottom."},{"owner":{"account_id":14376519,"reputation":26,"user_id":10384840,"display_name":"Andrei Bichir"},"score":0,"creation_date":1660588726,"post_id":73363732,"comment_id":129563108,"body_markdown":"I mentioned in the question that I can not use that. I also have android:requiresFadingEdge=&quot;vertical&quot; which doesn&#39;t work well  with clipToPadding.","body":"I mentioned in the question that I can not use that. I also have android:requiresFadingEdge=&quot;vertical&quot; which doesn&#39;t work well  with clipToPadding."},{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1660591004,"post_id":73363732,"comment_id":129563797,"body_markdown":"Put these lines in else block \n super.getItemOffsets(outRect, view, parent, state) .. I don&#39;t know if it solves your query but it bothered me :P","body":"Put these lines in else block   super.getItemOffsets(outRect, view, parent, state) .. I don&#39;t know if it solves your query but it bothered me :P"},{"owner":{"account_id":14376519,"reputation":26,"user_id":10384840,"display_name":"Andrei Bichir"},"score":0,"creation_date":1660645504,"post_id":73363732,"comment_id":129575460,"body_markdown":"The super has to be at the top of the method. But I managed to solve it eventually, so I posted my solution as an answer. Thanks anyway :P","body":"The super has to be at the top of the method. But I managed to solve it eventually, so I posted my solution as an answer. Thanks anyway :P"}],"answers":[{"tags":[],"owner":{"account_id":14376519,"reputation":26,"user_id":10384840,"display_name":"Andrei Bichir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660638148,"creation_date":1660638148,"answer_id":73370911,"question_id":73363732,"body_markdown":"So, for anyone else coming across this problem, here is how I solved it.\r\n\r\nYou need to call invalidateItemDecorations() **after** ListAdapter applied the changes to the list.\r\n\r\nIn my case I used `submitList(list, commitCallback)`, like below inside my BindingAdapter method:\r\n\r\n     (adapter as PlayerListAdapter).submitList(listCopy) {\r\n        post {\r\n            //remove decoration from other elements so the bottom offset is added to only the last element inserted\r\n            invalidateItemDecorations()\r\n        }\r\n    }\r\n\r\n\r\nI also updated my `getItemOffset()`, this was not part of the problem, but I like this code more:\r\n\r\n     override fun getItemOffsets(\r\n        outRect: Rect,\r\n        view: View,\r\n        parent: RecyclerView,\r\n        state: RecyclerView.State\r\n    ) {\r\n        super.getItemOffsets(outRect, view, parent, state)\r\n        val bottomOffset = view.context.resources.getDimension(R.dimen.player_list_offset).toInt()\r\n\r\n        val adapter = parent.adapter\r\n        if (adapter == null || adapter.itemCount == 0) {\r\n            return\r\n        }\r\n\r\n        if (parent.getChildAdapterPosition(view) == adapter.itemCount - 1) {\r\n            outRect.bottom = bottomOffset\r\n        } else {\r\n            outRect.bottom = 0\r\n        }\r\n    }\r\n\r\nHappy coding!\r\n\r\n","title":"Recylerview add space below last item added in list ( ItemDecoration not updating)","body":"<p>So, for anyone else coming across this problem, here is how I solved it.</p>\n<p>You need to call invalidateItemDecorations() <strong>after</strong> ListAdapter applied the changes to the list.</p>\n<p>In my case I used <code>submitList(list, commitCallback)</code>, like below inside my BindingAdapter method:</p>\n<pre><code> (adapter as PlayerListAdapter).submitList(listCopy) {\n    post {\n        //remove decoration from other elements so the bottom offset is added to only the last element inserted\n        invalidateItemDecorations()\n    }\n}\n</code></pre>\n<p>I also updated my <code>getItemOffset()</code>, this was not part of the problem, but I like this code more:</p>\n<pre><code> override fun getItemOffsets(\n    outRect: Rect,\n    view: View,\n    parent: RecyclerView,\n    state: RecyclerView.State\n) {\n    super.getItemOffsets(outRect, view, parent, state)\n    val bottomOffset = view.context.resources.getDimension(R.dimen.player_list_offset).toInt()\n\n    val adapter = parent.adapter\n    if (adapter == null || adapter.itemCount == 0) {\n        return\n    }\n\n    if (parent.getChildAdapterPosition(view) == adapter.itemCount - 1) {\n        outRect.bottom = bottomOffset\n    } else {\n        outRect.bottom = 0\n    }\n}\n</code></pre>\n<p>Happy coding!</p>\n"}],"owner":{"account_id":14376519,"reputation":26,"user_id":10384840,"display_name":"Andrei Bichir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73370911,"answer_count":1,"score":0,"last_activity_date":1660638459,"creation_date":1660580415,"question_id":73363732,"body_markdown":"I&#39;m trying to have a space at the end of the last item in a RecyclerView. \r\n\r\nFor this I am using a ItemDecoration, but when adding a new item, both the previos item, and the new item will have the Bottom Offset. If I add a 3rd Item, the first item will no longer have offset, but the 2nd  and newly added 3rd will have.\r\n\r\nBelow is my ItemDecoration class\r\n\r\n    class BottomOffsetDecoration : RecyclerView.ItemDecoration() {\r\n    \r\n    override fun getItemOffsets(\r\n        outRect: Rect,\r\n        view: View,\r\n        parent: RecyclerView,\r\n        state: RecyclerView.State\r\n    ) {\r\n        super.getItemOffsets(outRect, view, parent, state)\r\n        //dimension of offset\r\n        val bottomOffset = view.context.resources.getDimension(R.dimen.player_list_offset).toInt()\r\n        \r\n        val dataSize = state.itemCount\r\n        val position = parent.getChildAdapterPosition(view)\r\n        \r\n        //Logic of showing space or not\r\n        if (dataSize &gt; 0 &amp;&amp; position == dataSize - 1) {\r\n            outRect.set(0, 0, 0, bottomOffset)\r\n        } else {\r\n            outRect.setEmpty()\r\n        }\r\n    }  \r\n    }\r\n\r\nThis gets added to my Recyclerview with Databinding like this:\r\n\r\n    @BindingAdapter(value = [&quot;adapterListener&quot;, &quot;itemList&quot;])\r\n      fun RecyclerView.bindList(adapterListener: PlayerListItemListener, itemList: List&lt;PlayerListItem&gt;) {\r\n    var adapter = this.adapter\r\n    //copy the list as DiffUtils will ignore it if it is the same list every call\r\n    val listCopy = ArrayList(itemList)\r\n\r\n    if (adapter == null) {\r\n        adapter = PlayerListAdapter(adapterListener)\r\n        this.apply {\r\n            setAdapter(adapter)\r\n            \r\n            //DECORATION\r\n            addItemDecoration(BottomOffsetDecoration())\r\n            \r\n            setHasFixedSize(true)\r\n        }\r\n    }\r\n\r\n    (adapter as PlayerListAdapter).submitList(listCopy)\r\n    }\r\n\r\nAs for Recylerview Adapter I am using the ListAdapter with DiffUtils, not the RecyclerView.Adapter&lt;VH&gt;\r\n\r\nQuestion is: how do I remove the offset from the last item once a new Item is added?\r\n\r\nDISCLAIMER: I can not use the below for my case:\r\n\r\n          android:paddingBottom=&quot;50dp&quot;\r\n          android:clipToPadding=&quot;false&quot;\r\n\r\nThank you in advance!","title":"Recylerview add space below last item added in list ( ItemDecoration not updating)","body":"<p>I'm trying to have a space at the end of the last item in a RecyclerView.</p>\n<p>For this I am using a ItemDecoration, but when adding a new item, both the previos item, and the new item will have the Bottom Offset. If I add a 3rd Item, the first item will no longer have offset, but the 2nd  and newly added 3rd will have.</p>\n<p>Below is my ItemDecoration class</p>\n<pre><code>class BottomOffsetDecoration : RecyclerView.ItemDecoration() {\n\noverride fun getItemOffsets(\n    outRect: Rect,\n    view: View,\n    parent: RecyclerView,\n    state: RecyclerView.State\n) {\n    super.getItemOffsets(outRect, view, parent, state)\n    //dimension of offset\n    val bottomOffset = view.context.resources.getDimension(R.dimen.player_list_offset).toInt()\n    \n    val dataSize = state.itemCount\n    val position = parent.getChildAdapterPosition(view)\n    \n    //Logic of showing space or not\n    if (dataSize &gt; 0 &amp;&amp; position == dataSize - 1) {\n        outRect.set(0, 0, 0, bottomOffset)\n    } else {\n        outRect.setEmpty()\n    }\n}  \n}\n</code></pre>\n<p>This gets added to my Recyclerview with Databinding like this:</p>\n<pre><code>@BindingAdapter(value = [&quot;adapterListener&quot;, &quot;itemList&quot;])\n  fun RecyclerView.bindList(adapterListener: PlayerListItemListener, itemList: List&lt;PlayerListItem&gt;) {\nvar adapter = this.adapter\n//copy the list as DiffUtils will ignore it if it is the same list every call\nval listCopy = ArrayList(itemList)\n\nif (adapter == null) {\n    adapter = PlayerListAdapter(adapterListener)\n    this.apply {\n        setAdapter(adapter)\n        \n        //DECORATION\n        addItemDecoration(BottomOffsetDecoration())\n        \n        setHasFixedSize(true)\n    }\n}\n\n(adapter as PlayerListAdapter).submitList(listCopy)\n}\n</code></pre>\n<p>As for Recylerview Adapter I am using the ListAdapter with DiffUtils, not the RecyclerView.Adapter</p>\n<p>Question is: how do I remove the offset from the last item once a new Item is added?</p>\n<p>DISCLAIMER: I can not use the below for my case:</p>\n<pre><code>      android:paddingBottom=&quot;50dp&quot;\n      android:clipToPadding=&quot;false&quot;\n</code></pre>\n<p>Thank you in advance!</p>\n"},{"tags":["java","quartz-scheduler"],"comments":[{"owner":{"account_id":3356749,"reputation":472,"user_id":2819501,"display_name":"ccu"},"score":0,"creation_date":1437147446,"post_id":8560559,"comment_id":50924347,"body_markdown":"I&#39;ve answered this question here: http://stackoverflow.com/a/31479434/2819501","body":"I&#39;ve answered this question here: <a href=\"http://stackoverflow.com/a/31479434/2819501\">stackoverflow.com/a/31479434/2819501</a>"}],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1324294373,"creation_date":1324294241,"answer_id":8560655,"question_id":8560559,"body_markdown":"You can use [`scheduler.getCurrentlyExecutingJobs()`][1] to get a list of all jobs which are currently running.\r\n\r\n[1]: http://quartz-scheduler.org/api/2.1.0/org/quartz/core/QuartzScheduler.html#getCurrentlyExecutingJobs()","title":"How to check if a job is running in Quartz Framework","body":"<p>You can use <a href=\"http://quartz-scheduler.org/api/2.1.0/org/quartz/core/QuartzScheduler.html#getCurrentlyExecutingJobs()\" rel=\"noreferrer\"><code>scheduler.getCurrentlyExecutingJobs()</code></a> to get a list of all jobs which are currently running.</p>\n"},{"tags":[],"owner":{"account_id":2819484,"reputation":1324,"user_id":2423557,"display_name":"arganzheng"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660638262,"creation_date":1423127318,"answer_id":28339968,"question_id":8560559,"body_markdown":"Please note that `scheduler.getCurrentlyExecutingJobs()` just checks for the current scheduler instanceÔºånot the whole cluster.","title":"How to check if a job is running in Quartz Framework","body":"<p>Please note that <code>scheduler.getCurrentlyExecutingJobs()</code> just checks for the current scheduler instanceÔºånot the whole cluster.</p>\n"}],"owner":{"account_id":336157,"reputation":5090,"user_id":663660,"accept_rate":89,"display_name":"Anand Soni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23997,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":8560655,"answer_count":2,"score":25,"last_activity_date":1660638262,"creation_date":1324293635,"question_id":8560559,"body_markdown":"I want to use [Quartz Framework][1] in my application. There are two jobs in the scheduler. Now I want to check if job1 is running. How can I check? I have tried to Google it but failed to find the solution.  \r\n\r\nI am following the first of example from Quartz distribution. \r\n\r\n\r\n  [1]: http://quartz-scheduler.org/","title":"How to check if a job is running in Quartz Framework","body":"<p>I want to use <a href=\"http://quartz-scheduler.org/\" rel=\"noreferrer\">Quartz Framework</a> in my application. There are two jobs in the scheduler. Now I want to check if job1 is running. How can I check? I have tried to Google it but failed to find the solution.  </p>\n\n<p>I am following the first of example from Quartz distribution. </p>\n"},{"tags":["java","sql-server","mssql-jdbc"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660637247,"creation_date":1660637247,"answer_id":73370721,"question_id":73370674,"body_markdown":"You could run two separate statements, but inside a single _transaction_, set to whatever isolation level you want.  This would be one way to go here, keeping both statements atomic, meaning that either both complete without error, or else everything would be rolled back.\r\n\r\nYou commented:\r\n\r\n&gt; since the normal preparedstatement only support single query per execution?\r\n\r\nThis may be the case for SQL Server, but some databases actually expose JDBC driver interfaces which do support multiple statements within a single JDBC call.  However, this is not considered best practice, as it might expose a security hole of some kind.  The transaction suggestion above is a better way to go.","title":"Run multiples queries in single statement under java","body":"<p>You could run two separate statements, but inside a single <em>transaction</em>, set to whatever isolation level you want.  This would be one way to go here, keeping both statements atomic, meaning that either both complete without error, or else everything would be rolled back.</p>\n<p>You commented:</p>\n<blockquote>\n<p>since the normal preparedstatement only support single query per execution?</p>\n</blockquote>\n<p>This may be the case for SQL Server, but some databases actually expose JDBC driver interfaces which do support multiple statements within a single JDBC call.  However, this is not considered best practice, as it might expose a security hole of some kind.  The transaction suggestion above is a better way to go.</p>\n"}],"owner":{"account_id":19803536,"reputation":25,"user_id":14503948,"display_name":"lancelot _sin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73370721,"answer_count":1,"score":0,"last_activity_date":1660637247,"creation_date":1660637064,"question_id":73370674,"body_markdown":"I would like to select sqlquery from SQLColumn in table1 &amp; then execute the sqlquery in java. However, the query column from table1 contain multiple queries which separated by semicolon. \r\n\r\n    Table1\r\n    Name         SQLColumn\r\n    -------      ------------------------------------\r\n    Query1       set nocount on;select * from table2;\r\n    Query2       declare item nvarchar(10); select item=data from table2;\r\n\r\n    Connection conn = ....\r\n    PreparedStatement ps = conn.prepareStatement(SQLColumn);\r\n    ps.execute();\r\n\r\nAny solution on how to run multiple queries in single statement under java other than stored procedure since the normal preparedstatement only support single query per execution?\r\n","title":"Run multiples queries in single statement under java","body":"<p>I would like to select sqlquery from SQLColumn in table1 &amp; then execute the sqlquery in java. However, the query column from table1 contain multiple queries which separated by semicolon.</p>\n<pre><code>Table1\nName         SQLColumn\n-------      ------------------------------------\nQuery1       set nocount on;select * from table2;\nQuery2       declare item nvarchar(10); select item=data from table2;\n\nConnection conn = ....\nPreparedStatement ps = conn.prepareStatement(SQLColumn);\nps.execute();\n</code></pre>\n<p>Any solution on how to run multiple queries in single statement under java other than stored procedure since the normal preparedstatement only support single query per execution?</p>\n"},{"tags":["java","jsp","character-encoding"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1537180997,"post_id":52361821,"comment_id":91676018,"body_markdown":"In your code `&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; `,you have missing `&gt;` at the end of it","body":"In your code <code>&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text&#47;html; charset=utf-8&quot; </code>,you have missing <code>&gt;</code> at the end of it"}],"answers":[{"tags":[],"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565170578,"creation_date":1565170578,"answer_id":57391304,"question_id":52361821,"body_markdown":"As mentioned by @lucumt you have a syntax error in your code. the meta tag is not ending correctly in `/&gt;` - also I corrected the lower case of `utf-8` to uppercase:\r\n\r\n    &lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n      &lt;/head&gt;\r\n","title":"character encoding of the plain text document was not declared","body":"<p>As mentioned by @lucumt you have a syntax error in your code. the meta tag is not ending correctly in <code>/&gt;</code> - also I corrected the lower case of <code>utf-8</code> to uppercase:</p>\n\n<pre><code>&lt;%@ page contentType=\"text/html; charset=UTF-8\" language=\"java\" %&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" /&gt;\n  &lt;/head&gt;\n</code></pre>\n"}],"owner":{"account_id":13950883,"reputation":31,"user_id":10074411,"display_name":"bugz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1660637055,"creation_date":1537165361,"question_id":52361821,"body_markdown":"I am getting **&quot;The character encoding of the plain text document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the file needs to be declared in the transfer protocol or file needs to use a byte order mark as an encoding signature&quot;** on hitting my REST endpoint \r\n\r\nmy jsp header\r\n\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; \r\n    &lt;/head&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n&lt;form action=&quot;http://127.0.0.1:8080/construction management system/cm/clientops/create&quot; method=&quot;post&quot;&gt;\r\n   \r\n\r\nmy endpoint\r\n\r\n    \r\n    @Path(&quot;/create&quot;)\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\r\n   ","title":"character encoding of the plain text document was not declared","body":"<p>I am getting <strong>\"The character encoding of the plain text document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the file needs to be declared in the transfer protocol or file needs to use a byte order mark as an encoding signature\"</strong> on hitting my REST endpoint </p>\n\n<p>my jsp header</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\r\n\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\" \r\n&lt;/head&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p></p>\n\n<p>my endpoint</p>\n\n<pre><code>@Path(\"/create\")\n@POST\n@Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n</code></pre>\n"},{"tags":["java","menu","console-application"],"answers":[{"tags":[],"owner":{"account_id":44216,"reputation":45489,"user_id":129655,"accept_rate":86,"display_name":"Platinum Azure"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1300324247,"creation_date":1300324247,"answer_id":5333729,"question_id":5333629,"body_markdown":"Make all your menus either extend an &lt;a href=&quot;http://download.oracle.com/javase/tutorial/java/IandI/abstract.html&quot;&gt;abstract class&lt;/a&gt; (okay) or implement an &lt;a href=&quot;http://download.oracle.com/javase/tutorial/java/IandI/interfaceDef.html&quot;&gt;interface&lt;/a&gt; (better), if you&#39;re not already doing that.\r\n\r\nAs for how to get to the menus, you can just store one of each type of menu in a menu array or some other collection (for example, a `Map` if you want to be able to look them up using a string or other object). Have that collection be globally accessible (`static` in some `public` class) and then you can display the same instance of a menu each time you need it.","title":"How to go about display multiple &quot;Menu&quot; classes in java","body":"<p>Make all your menus either extend an <a href=\"http://download.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow\">abstract class</a> (okay) or implement an <a href=\"http://download.oracle.com/javase/tutorial/java/IandI/interfaceDef.html\" rel=\"nofollow\">interface</a> (better), if you're not already doing that.</p>\n\n<p>As for how to get to the menus, you can just store one of each type of menu in a menu array or some other collection (for example, a <code>Map</code> if you want to be able to look them up using a string or other object). Have that collection be globally accessible (<code>static</code> in some <code>public</code> class) and then you can display the same instance of a menu each time you need it.</p>\n"},{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300324285,"creation_date":1300324285,"answer_id":5333738,"question_id":5333629,"body_markdown":"First of all, garbage collection problems happen when you have *thousands* of objects floating around, not... three. So don&#39;t even worry about that.\r\n\r\nBut in general, your thesis that you need to recreate all those objects is flawed. You only need one of each, and they simply need to be able to get access to references to one another. For example, each &quot;displayMenu&quot; method might take a Menu as an argument; that displayMenu() method would set things up so that the &quot;return to previous menu&quot; option invokes the Menu that was passed as an argument.","title":"How to go about display multiple &quot;Menu&quot; classes in java","body":"<p>First of all, garbage collection problems happen when you have <em>thousands</em> of objects floating around, not... three. So don't even worry about that.</p>\n\n<p>But in general, your thesis that you need to recreate all those objects is flawed. You only need one of each, and they simply need to be able to get access to references to one another. For example, each \"displayMenu\" method might take a Menu as an argument; that displayMenu() method would set things up so that the \"return to previous menu\" option invokes the Menu that was passed as an argument.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660636966,"creation_date":1300330346,"answer_id":5334374,"question_id":5333629,"body_markdown":"As discussed in [*How to Use Actions*][1], the [`Action`][2] class is a convenient way &quot;to separate functionality and state from a component.&quot; This [example][3] creates a menu of recent files using instances of the `RecentFile` class. A similar class for each of your `MainMenu`, `FoodMenu`, `DrinkMenu` might be a way to encapsulate related menu items.\r\n\r\n[1]:https://docs.oracle.com/javase/6/docs/api/javax/swing/Action.html\r\n[2]:https://docs.oracle.com/javase/6/docs/api/javax/swing/Action.html\r\n[3]:https://stackoverflow.com/questions/4038605/swing-link-toggle-buttons-together-with-a-button-group-along-with-correspondin/4039359#4039359","title":"How to go about display multiple &quot;Menu&quot; classes in java","body":"<p>As discussed in <a href=\"https://docs.oracle.com/javase/6/docs/api/javax/swing/Action.html\" rel=\"nofollow noreferrer\"><em>How to Use Actions</em></a>, the <a href=\"https://docs.oracle.com/javase/6/docs/api/javax/swing/Action.html\" rel=\"nofollow noreferrer\"><code>Action</code></a> class is a convenient way &quot;to separate functionality and state from a component.&quot; This <a href=\"https://stackoverflow.com/questions/4038605/swing-link-toggle-buttons-together-with-a-button-group-along-with-correspondin/4039359#4039359\">example</a> creates a menu of recent files using instances of the <code>RecentFile</code> class. A similar class for each of your <code>MainMenu</code>, <code>FoodMenu</code>, <code>DrinkMenu</code> might be a way to encapsulate related menu items.</p>\n"}],"owner":{"account_id":726022,"reputation":1,"user_id":663503,"display_name":"Hamlyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1660636966,"creation_date":1300323453,"question_id":5333629,"body_markdown":"Hi all I am relatively new to OOD and Java hence am not sure how to do this properly.\r\n\r\nCurrently I need to create an application (console/command prompt based) that involves going through a series of so called &quot;menus&quot; where the application will display your choices and you enter 1/2/3/4 etc. My professor told me to break up my boundary class (the class where all the display of choices is in) because it&#39;s too long (400+ lines). \r\n\r\nNow comes the problem. If i were to break it up, I would have to keep creating new object classes to call on the different menu in different classes. For example:\r\n\r\nLet say I have MainMenu, FoodMenu, DrinkMenu. So my main method will create a MainMenu object to call displayMenu(). From there, if I want to navigate to the food menu, I have to create another FoodMenu object and call displayMenu() under it again. Further along the codes, if i want to navigate back to the main menu, I would then again have to create the MainMenu object again and call displayMenu. \r\n\r\nThe above method would have so many variables waiting to be garbage collected and a total waste of memory. Is there another solution around this? Thank you very much in advance.\r\n\r\nHamlyn","title":"How to go about display multiple &quot;Menu&quot; classes in java","body":"<p>Hi all I am relatively new to OOD and Java hence am not sure how to do this properly.</p>\n\n<p>Currently I need to create an application (console/command prompt based) that involves going through a series of so called \"menus\" where the application will display your choices and you enter 1/2/3/4 etc. My professor told me to break up my boundary class (the class where all the display of choices is in) because it's too long (400+ lines). </p>\n\n<p>Now comes the problem. If i were to break it up, I would have to keep creating new object classes to call on the different menu in different classes. For example:</p>\n\n<p>Let say I have MainMenu, FoodMenu, DrinkMenu. So my main method will create a MainMenu object to call displayMenu(). From there, if I want to navigate to the food menu, I have to create another FoodMenu object and call displayMenu() under it again. Further along the codes, if i want to navigate back to the main menu, I would then again have to create the MainMenu object again and call displayMenu. </p>\n\n<p>The above method would have so many variables waiting to be garbage collected and a total waste of memory. Is there another solution around this? Thank you very much in advance.</p>\n\n<p>Hamlyn</p>\n"},{"tags":["java","html","parameters","jsoup"],"comments":[{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":3,"creation_date":1451905573,"post_id":34589649,"comment_id":56924294,"body_markdown":"`I am not getting proper output.` Post your out put and what problem is with the output?","body":"<code>I am not getting proper output.</code> Post your out put and what problem is with the output?"},{"owner":{"account_id":343052,"reputation":9003,"user_id":674530,"accept_rate":37,"display_name":"Android"},"score":0,"creation_date":1451905648,"post_id":34589649,"comment_id":56924341,"body_markdown":"actually after post success of my PASSCODE will display user detail but it not display mean not posting properly data.... so i want to post my PASSCODE","body":"actually after post success of my PASSCODE will display user detail but it not display mean not posting properly data.... so i want to post my PASSCODE"},{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1451905696,"post_id":34589649,"comment_id":56924362,"body_markdown":"Post your logcat here.","body":"Post your logcat here."},{"owner":{"account_id":343052,"reputation":9003,"user_id":674530,"accept_rate":37,"display_name":"Android"},"score":0,"creation_date":1451905781,"post_id":34589649,"comment_id":56924400,"body_markdown":"it display all data properly but without userdata... i want just check whether it is poosting my PASSCODE or not?","body":"it display all data properly but without userdata... i want just check whether it is poosting my PASSCODE or not?"},{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1451905853,"post_id":34589649,"comment_id":56924442,"body_markdown":"That is depend on your response, If you pass data successfully then result will be ok other wise some exception will raised.","body":"That is depend on your response, If you pass data successfully then result will be ok other wise some exception will raised."},{"owner":{"account_id":343052,"reputation":9003,"user_id":674530,"accept_rate":37,"display_name":"Android"},"score":0,"creation_date":1451905895,"post_id":34589649,"comment_id":56924476,"body_markdown":"no i am not getting any error just nt getting my data","body":"no i am not getting any error just nt getting my data"},{"owner":{"account_id":2263322,"reputation":8698,"user_id":1992780,"accept_rate":100,"display_name":"Davide Pastore"},"score":0,"creation_date":1451906792,"post_id":34589649,"comment_id":56925006,"body_markdown":"Try to check if it contains a `Location` header. Maybe you get redirected after a successful request.","body":"Try to check if it contains a <code>Location</code> header. Maybe you get redirected after a successful request."},{"owner":{"account_id":5588540,"reputation":12118,"user_id":4428462,"accept_rate":86,"display_name":"Jonas Czech"},"score":1,"creation_date":1451907123,"post_id":34589649,"comment_id":56925192,"body_markdown":"Make sure you are actually sending all the data which website needs. Some forms have hidden fields, which you may need to send too, or maybe you need to send the cookies also.","body":"Make sure you are actually sending all the data which website needs. Some forms have hidden fields, which you may need to send too, or maybe you need to send the cookies also."},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1452120757,"post_id":34589649,"comment_id":57034608,"body_markdown":"Possible duplicate of [How to POST Data into website using Jsoup](http://stackoverflow.com/questions/10012399/how-to-post-data-into-website-using-jsoup)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/10012399/how-to-post-data-into-website-using-jsoup\">How to POST Data into website using Jsoup</a>"}],"answers":[{"tags":[],"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451983507,"creation_date":1451939175,"answer_id":34599247,"question_id":34589649,"body_markdown":"Usually login into a web site requires two steps:\r\n\r\n1. You send a get request to get the page, and you extract from there some values like session ID etc, and the cookies.\r\n2. You send a post request with the values from step 1, and your user name and password.\r\n\r\nTo know which values you need to send, use your browser in the developer mode (by pressing F12) and examine the traffic.\r\n\r\nIf you want to write an android app, change the user agent string to match your browser, since some sites send different pages to different clients.\r\n\r\nYou can see an example [HERE][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31871801/problems-submitting-a-login-form-with-jsoup","title":"android jsoup post data to URL","body":"<p>Usually login into a web site requires two steps:</p>\n\n<ol>\n<li>You send a get request to get the page, and you extract from there some values like session ID etc, and the cookies.</li>\n<li>You send a post request with the values from step 1, and your user name and password.</li>\n</ol>\n\n<p>To know which values you need to send, use your browser in the developer mode (by pressing F12) and examine the traffic.</p>\n\n<p>If you want to write an android app, change the user agent string to match your browser, since some sites send different pages to different clients.</p>\n\n<p>You can see an example <a href=\"https://stackoverflow.com/questions/31871801/problems-submitting-a-login-form-with-jsoup\">HERE</a>.</p>\n"}],"owner":{"account_id":343052,"reputation":9003,"user_id":674530,"accept_rate":37,"display_name":"Android"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660636851,"creation_date":1451905352,"question_id":34589649,"body_markdown":"I need to pass data to my URL to get the data.\r\n\r\n I have done like this...\r\n\r\n\r\n    document= Jsoup.connect(&quot;MYURL&quot;).data(&quot;PASSCODE&quot;, &quot;001100&quot;).post();\r\n    System.out.println(document);\r\n\r\nbut I am not getting proper output\r\n\r\nNeed help. I have check this Links also\r\n[This][1] and [this also][2].\r\n\r\n  [1]: https://stackoverflow.com/questions/14975399/using-jsoup-post-method-in-android\r\n  [2]: https://stackoverflow.com/questions/23326812/sending-data-to-server-using-jsoup-android","title":"android jsoup post data to URL","body":"<p>I need to pass data to my URL to get the data.</p>\n<p>I have done like this...</p>\n<pre><code>document= Jsoup.connect(&quot;MYURL&quot;).data(&quot;PASSCODE&quot;, &quot;001100&quot;).post();\nSystem.out.println(document);\n</code></pre>\n<p>but I am not getting proper output</p>\n<p>Need help. I have check this Links also\n<a href=\"https://stackoverflow.com/questions/14975399/using-jsoup-post-method-in-android\">This</a> and <a href=\"https://stackoverflow.com/questions/23326812/sending-data-to-server-using-jsoup-android\">this also</a>.</p>\n"},{"tags":["java","arrays","audio","oscilloscope"],"answers":[{"tags":[],"owner":{"account_id":295399,"reputation":19908,"user_id":599792,"accept_rate":75,"display_name":"Gareth McCaughan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1300659366,"creation_date":1300659366,"answer_id":5371915,"question_id":5371743,"body_markdown":"Looking at the code in http://jflac.cvs.sourceforge.net/viewvc/jflac/jFLAC/src/java/org/kc7bfi/jflac/FLACDecoder.java?revision=1.13&amp;view=markup it appears that the contents of the byte array are: a series of samples, each of which is: a series of channels, each of which is: a series of bytes representing one sample on one channel, least significant byte first. The value of `getLen()` is the number of valid bytes in it; there may be more data than that because the same `ByteData` object is reused, it may be overallocated to avoid repeated reallocation, etc.\r\n\r\nSo, you&#39;ll want something like:\r\n\r\n    byte[] data = pcm.getData();\r\n    int n_bytes = pcm.getLen();\r\n    int n_samples = n_bytes / (n_channels*bytes_per_sample);\r\n    int k=0;\r\n    for (int i=0; i&lt;n_samples; ++i) {\r\n      for (int j=0; j&lt;n_channels; ++j) {\r\n        output[j][i] = data[k] + (data[k+1)&lt;&lt;8);\r\n        k += 2;\r\n      }\r\n    }\r\n\r\n(warning: code has not been tested and may consist entirely of syntax errors and bugs, but hopefully the idea is clear enough).","title":"Java: Plotting Left and Right channels of a .flac audio file on an X-Y grid. (Oscilloscope)","body":"<p>Looking at the code in <a href=\"http://jflac.cvs.sourceforge.net/viewvc/jflac/jFLAC/src/java/org/kc7bfi/jflac/FLACDecoder.java?revision=1.13&amp;view=markup\" rel=\"nofollow\">http://jflac.cvs.sourceforge.net/viewvc/jflac/jFLAC/src/java/org/kc7bfi/jflac/FLACDecoder.java?revision=1.13&amp;view=markup</a> it appears that the contents of the byte array are: a series of samples, each of which is: a series of channels, each of which is: a series of bytes representing one sample on one channel, least significant byte first. The value of <code>getLen()</code> is the number of valid bytes in it; there may be more data than that because the same <code>ByteData</code> object is reused, it may be overallocated to avoid repeated reallocation, etc.</p>\n\n<p>So, you'll want something like:</p>\n\n<pre><code>byte[] data = pcm.getData();\nint n_bytes = pcm.getLen();\nint n_samples = n_bytes / (n_channels*bytes_per_sample);\nint k=0;\nfor (int i=0; i&lt;n_samples; ++i) {\n  for (int j=0; j&lt;n_channels; ++j) {\n    output[j][i] = data[k] + (data[k+1)&lt;&lt;8);\n    k += 2;\n  }\n}\n</code></pre>\n\n<p>(warning: code has not been tested and may consist entirely of syntax errors and bugs, but hopefully the idea is clear enough).</p>\n"}],"owner":{"account_id":339240,"reputation":124,"user_id":668594,"accept_rate":100,"display_name":"kieve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5371915,"answer_count":1,"score":1,"last_activity_date":1660636838,"creation_date":1300657656,"question_id":5371743,"body_markdown":"I am trying to create an X-Y Oscilloscope in Java and I have gotten stuck. I have read through all the documentation for jFlac, the library i am using to decode my .flac audio file and the free lossless audio codec documentation [here][1]. I cannot seem to find the answer to the problem i am having. Please consider the following.\r\n\r\n    public void processPCM(ByteData pcm) {\r\n\t\tbyte[] temp = pcm.getData();\r\n\t\tline.write(temp, 0, pcm.getLen());\r\n\t\tleftAndRight = new int[pcm.getData().length];\r\n\t\tfor(int i = 0; i &lt; temp.length; i+=2){\r\n\t\t\tleftAndRight[i/2] = (temp[i + 1]&lt;&lt;8) + (temp[i] &amp; 0xff);\r\n\t\t}\r\n\t}\r\n\r\nThis is where the sample data from my file is put into the SourceDataLine and is played. After i write the data to the line, i wish to convert the left and right audio into separate integer array variables x[] and y[], respectively.\r\n\r\nThis is the StreamInfo for the file i am using:\r\n&gt;PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, little-endian\r\n\r\nfrom the code above, pcm.getLen() returns a value of 16384 and pcm.getData() returns a byte array of length 90112. It&#39;s the data in this byte array, if I&#39;m not mistaken, that i need to separate the left and right channels from, and then convert into integer arrays. This is the part that I do not understand how to accomplish.\r\n\r\nEdit: I changed the above code to something i came across that i think might be how to get the byte array into an integer array, but i am still clueless to how the left and right channels are arranged.\n\n [1]: https://xiph.org/flac/","title":"Java: Plotting Left and Right channels of a .flac audio file on an X-Y grid. (Oscilloscope)","body":"<p>I am trying to create an X-Y Oscilloscope in Java and I have gotten stuck. I have read through all the documentation for jFlac, the library i am using to decode my .flac audio file and the free lossless audio codec documentation <a href=\"https://xiph.org/flac/\" rel=\"nofollow noreferrer\">here</a>. I cannot seem to find the answer to the problem i am having. Please consider the following.</p>\n<pre><code>public void processPCM(ByteData pcm) {\n    byte[] temp = pcm.getData();\n    line.write(temp, 0, pcm.getLen());\n    leftAndRight = new int[pcm.getData().length];\n    for(int i = 0; i &lt; temp.length; i+=2){\n        leftAndRight[i/2] = (temp[i + 1]&lt;&lt;8) + (temp[i] &amp; 0xff);\n    }\n}\n</code></pre>\n<p>This is where the sample data from my file is put into the SourceDataLine and is played. After i write the data to the line, i wish to convert the left and right audio into separate integer array variables x[] and y[], respectively.</p>\n<p>This is the StreamInfo for the file i am using:</p>\n<blockquote>\n<p>PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, little-endian</p>\n</blockquote>\n<p>from the code above, pcm.getLen() returns a value of 16384 and pcm.getData() returns a byte array of length 90112. It's the data in this byte array, if I'm not mistaken, that i need to separate the left and right channels from, and then convert into integer arrays. This is the part that I do not understand how to accomplish.</p>\n<p>Edit: I changed the above code to something i came across that i think might be how to get the byte array into an integer array, but i am still clueless to how the left and right channels are arranged.</p>\n"},{"tags":["java","functional-programming","frege"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1660635016,"post_id":73370197,"comment_id":129571849,"body_markdown":"Why do you need to generate source files?","body":"Why do you need to generate source files?"},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1660635162,"post_id":73370197,"comment_id":129571899,"body_markdown":"@Olivier I want to be independent of class files. The generated Java files will get checked in into CVS.","body":"@Olivier I want to be independent of class files. The generated Java files will get checked in into CVS."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1660635272,"post_id":73370197,"comment_id":129571931,"body_markdown":"Well, the page you linked says &quot;This code will compile to Hello.class and Hello.java&quot;.","body":"Well, the page you linked says &quot;This code will compile to Hello.class and Hello.java&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660635547,"post_id":73370197,"comment_id":129572028,"body_markdown":"The other way to determine what it does is to look at the source code of Frege itself.","body":"The other way to determine what it does is to look at the source code of Frege itself."},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1660635572,"post_id":73370197,"comment_id":129572036,"body_markdown":"@Olivier Yes, that&#39;s exactly the unclear part: Is the hello.java complete or does it need a additional hello.class file? I would like input from Frege users here.","body":"@Olivier Yes, that&#39;s exactly the unclear part: Is the hello.java complete or does it need a additional hello.class file? I would like input from Frege users here."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1660635985,"post_id":73370197,"comment_id":129572190,"body_markdown":"It would make little sense to generate a .java source that is not compilable. Anyway, you should just do a test yourself and see what you get exactly, instead of waiting for &quot;Frege users&quot; who will probably never come (the previous question with the `frege` tag was asked in 2019!).","body":"It would make little sense to generate a .java source that is not compilable. Anyway, you should just do a test yourself and see what you get exactly, instead of waiting for &quot;Frege users&quot; who will probably never come (the previous question with the <code>frege</code> tag was asked in 2019!)."},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1660636335,"post_id":73370197,"comment_id":129572314,"body_markdown":"@StephenC Agreed - and question updated. (As an aside: Do you know a Stack Exchange site for these open &quot;Bonus&quot; questions like &quot;Other FPLs transpiling to Java source files&quot;?)","body":"@StephenC Agreed - and question updated. (As an aside: Do you know a Stack Exchange site for these open &quot;Bonus&quot; questions like &quot;Other FPLs transpiling to Java source files&quot;?)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1660636346,"post_id":73370197,"comment_id":129572318,"body_markdown":"Looking at the code, I see code to generate `.java` files and to call `javac` programatically.  I don&#39;t see code (or dependencies) to generate bytecodes directly.","body":"Looking at the code, I see code to generate <code>.java</code> files and to call <code>javac</code> programatically.  I don&#39;t see code (or dependencies) to generate bytecodes directly."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1660636978,"post_id":73370197,"comment_id":129572543,"body_markdown":"Well I don&#39;t think your bonus question was a good question for StackOverflow. It is a borderline &quot;find me a resource&quot; question. And I don&#39;t think it was a good fit for Software Recommendations either. So basically, no I don&#39;t know of one.","body":"Well I don&#39;t think your bonus question was a good question for StackOverflow. It is a borderline &quot;find me a resource&quot; question. And I don&#39;t think it was a good fit for Software Recommendations either. So basically, no I don&#39;t know of one."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660637199,"post_id":73370197,"comment_id":129572604,"body_markdown":"what do you mean: does it &quot;need&quot; a .class file? Do you understand the relationship between a .java and a .class file?","body":"what do you mean: does it &quot;need&quot; a .class file? Do you understand the relationship between a .java and a .class file?"},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1660650331,"post_id":73370197,"comment_id":129577105,"body_markdown":"@Stultuske I think I generally do, but I was not sure whether in this case the class file is really a direct compilation of the java file (I thought: Maybe Java has stub source files?). -- Anyway, after [Stephen C&#39;s extremely helpful comment about what Frege *does*](https://stackoverflow.com/questions/73370197/does-frege-transpiles-directly-to-java-source-code#comment129572318_73370197), I&#39;m pretty confident that the source file is all what there is to it.","body":"@Stultuske I think I generally do, but I was not sure whether in this case the class file is really a direct compilation of the java file (I thought: Maybe Java has stub source files?). -- Anyway, after <a href=\"https://stackoverflow.com/questions/73370197/does-frege-transpiles-directly-to-java-source-code#comment129572318_73370197\">Stephen C&#39;s extremely helpful comment about what Frege <i>does</i></a>, I&#39;m pretty confident that the source file is all what there is to it."},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1660650529,"post_id":73370197,"comment_id":129577192,"body_markdown":"BTW, @StephenC, thanks for [your convincing comment](https://stackoverflow.com/questions/73370197/does-frege-transpiles-directly-to-java-source-code#comment129572318_73370197). Would make a reasonable answer, I think.","body":"BTW, @StephenC, thanks for <a href=\"https://stackoverflow.com/questions/73370197/does-frege-transpiles-directly-to-java-source-code#comment129572318_73370197\">your convincing comment</a>. Would make a reasonable answer, I think."},{"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"score":0,"creation_date":1666258303,"post_id":73370197,"comment_id":130895375,"body_markdown":"@halloleo Why do you want to save generated code to git? That&#39;s exactly what people try to avoid by versioning the source for the generation instead of generated sources. Normally you should version your code, i.e. your work, instead of some intermediate product which is likely to be of different standards than rest of your code.","body":"@halloleo Why do you want to save generated code to git? That&#39;s exactly what people try to avoid by versioning the source for the generation instead of generated sources. Normally you should version your code, i.e. your work, instead of some intermediate product which is likely to be of different standards than rest of your code."}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660636188,"creation_date":1660634590,"question_id":73370197,"body_markdown":"I am thinking of using [Frege](https://github.com/Frege/frege) in a Java project. I need that the compiler **generates plain Java *source* files, not *class* files**.\r\n-- I looked at the Frege wiki, but could not determine whether this is the case.\r\n\r\n","title":"Does Frege transpiles directly to Java source code?","body":"<p>I am thinking of using <a href=\"https://github.com/Frege/frege\" rel=\"nofollow noreferrer\">Frege</a> in a Java project. I need that the compiler <strong>generates plain Java <em>source</em> files, not <em>class</em> files</strong>.\n-- I looked at the Frege wiki, but could not determine whether this is the case.</p>\n"},{"tags":["java","spring-boot","docker","http","spring-resttemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660636184,"post_id":73370381,"comment_id":129572267,"body_markdown":"What does your `RestClientUtils` do? Looks like a static call that creates things that should be singletons. You should also set some connection- and read timeouts on the http connections to prevent this hanging.","body":"What does your <code>RestClientUtils</code> do? Looks like a static call that creates things that should be singletons. You should also set some connection- and read timeouts on the http connections to prevent this hanging."},{"owner":{"account_id":14431041,"reputation":13,"user_id":10424405,"display_name":"Atalay AKILLI"},"score":0,"creation_date":1660636600,"post_id":73370381,"comment_id":129572407,"body_markdown":"RestClientUtils just using org.springframework.web.client.RestTemplate.execute() function. I was running this services without docker and there was no problem. When i published to docker container i faced this problem.","body":"RestClientUtils just using org.springframework.web.client.RestTemplate.execute() function. I was running this services without docker and there was no problem. When i published to docker container i faced this problem."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660637021,"post_id":73370381,"comment_id":129572552,"body_markdown":"Regardless you shouldn&#39;t construct a `RestTemplate` each time you need it and you really need to set a connection- and readtime to prevent hangs.","body":"Regardless you shouldn&#39;t construct a <code>RestTemplate</code> each time you need it and you really need to set a connection- and readtime to prevent hangs."}],"owner":{"account_id":14431041,"reputation":13,"user_id":10424405,"display_name":"Atalay AKILLI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660635614,"creation_date":1660635614,"question_id":73370381,"body_markdown":"I have 2 springboot services a-service and b-service. They are communicating with eachother. And theese services working on docker different containers. When i send request from a-service to b-service if request time more than 15 minutes a-service cannot get response from b-service. Its not throwing error or timeout exception but process stucks in the row which i send request and does not going. a-service request code is below.\r\n\r\n    logger.info(&quot;Test 18 started...&quot;);\r\n\t\ttry {\r\n            //b-service url\r\n\t\t\tString url = ServiceModuleConstant.Menu.SYNCPOSMENU_URL + &quot;/test18&quot;;\r\n\t\t\tlogger.info(&quot;Scheduled system test URL : &quot; + url);\r\n\t\t\tResultModel control = RestClientUtils.postForObject(url,ResultModel.class,null);\r\n            //does not come here anytime\r\n\t\t\tlogger.info(&quot;Test 18 result : &quot; + control.isSuccess());\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Test 18 error : &quot; + e.toString());\r\n\t\t}\r\n\t\tlogger.info(&quot;Test 18 finished...&quot;);\r\n\r\nby the way b-service complete request succesfully.\r\n\r\nIs there any configuration setting for docker container about request timeouts.","title":"Springboot service which working on docker container does not respond after 15 minutes","body":"<p>I have 2 springboot services a-service and b-service. They are communicating with eachother. And theese services working on docker different containers. When i send request from a-service to b-service if request time more than 15 minutes a-service cannot get response from b-service. Its not throwing error or timeout exception but process stucks in the row which i send request and does not going. a-service request code is below.</p>\n<pre><code>logger.info(&quot;Test 18 started...&quot;);\n    try {\n        //b-service url\n        String url = ServiceModuleConstant.Menu.SYNCPOSMENU_URL + &quot;/test18&quot;;\n        logger.info(&quot;Scheduled system test URL : &quot; + url);\n        ResultModel control = RestClientUtils.postForObject(url,ResultModel.class,null);\n        //does not come here anytime\n        logger.info(&quot;Test 18 result : &quot; + control.isSuccess());\n    } catch (Exception e) {\n        logger.error(&quot;Test 18 error : &quot; + e.toString());\n    }\n    logger.info(&quot;Test 18 finished...&quot;);\n</code></pre>\n<p>by the way b-service complete request succesfully.</p>\n<p>Is there any configuration setting for docker container about request timeouts.</p>\n"},{"tags":["java","android","arraylist","android-intent","nullpointerexception"],"comments":[{"owner":{"account_id":5732567,"reputation":337,"user_id":4527638,"accept_rate":100,"display_name":"The Dongster"},"score":0,"creation_date":1648407231,"post_id":71638769,"comment_id":126610568,"body_markdown":"final ArrayList&lt;File&gt; mySongs = findSong(Environment.getExternalStorageDirectory());, the arraylist seem to be null! Check whether your mySongs ArrayList is not null. if(mySongs != null)","body":"final ArrayList&lt;File&gt; mySongs = findSong(Environment.getExternalStorageDirectory());, the arraylist seem to be null! Check whether your mySongs ArrayList is not null. if(mySongs != null)"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1648468324,"post_id":71638769,"comment_id":126623614,"body_markdown":"`MainActivity` is getting started with an `Intent` that does not contain &quot;extras&quot;. Is `MainActivity` started when you launch your app? Please edit your question and add your manifest to the post.","body":"<code>MainActivity</code> is getting started with an <code>Intent</code> that does not contain &quot;extras&quot;. Is <code>MainActivity</code> started when you launch your app? Please edit your question and add your manifest to the post."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1648468420,"post_id":71638769,"comment_id":126623645,"body_markdown":"@TheDongster No. The NPE says that the `Bundle` is `null`. Not that the &quot;extra&quot; in the `Bundle` is null.","body":"@TheDongster No. The NPE says that the <code>Bundle</code> is <code>null</code>. Not that the &quot;extra&quot; in the <code>Bundle</code> is null."},{"owner":{"account_id":5732567,"reputation":337,"user_id":4527638,"accept_rate":100,"display_name":"The Dongster"},"score":0,"creation_date":1648477809,"post_id":71638769,"comment_id":126627427,"body_markdown":"@DavidWasser No well what i think is that since the arraylist is null or the type of arraylist is not parcelable, it will produce nullpointerexception since intent cannot pass the arraylist.","body":"@DavidWasser No well what i think is that since the arraylist is null or the type of arraylist is not parcelable, it will produce nullpointerexception since intent cannot pass the arraylist."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":1,"creation_date":1648489118,"post_id":71638769,"comment_id":126631547,"body_markdown":"@TheDongster Nope. OP posted the exception. It clearly states that he is trying to call `getParcelableArrayList()` on a `null` reference. If you look at the code, he is calling `getParcelableArrayList()` on a variable of type `Bundle` which was returned from the call to `Intent.getExtras()`. So clearly, the `Bundle` is `null`. If the problem was occuring while trying to add the `ArrayList` to the `Intent`, the exception would have been thrown in a different place.","body":"@TheDongster Nope. OP posted the exception. It clearly states that he is trying to call <code>getParcelableArrayList()</code> on a <code>null</code> reference. If you look at the code, he is calling <code>getParcelableArrayList()</code> on a variable of type <code>Bundle</code> which was returned from the call to <code>Intent.getExtras()</code>. So clearly, the <code>Bundle</code> is <code>null</code>. If the problem was occuring while trying to add the <code>ArrayList</code> to the <code>Intent</code>, the exception would have been thrown in a different place."},{"owner":{"account_id":5732567,"reputation":337,"user_id":4527638,"accept_rate":100,"display_name":"The Dongster"},"score":0,"creation_date":1648490911,"post_id":71638769,"comment_id":126632134,"body_markdown":"@DavidWasser You were right. Sorry. Your&#39; &quot;MainActivity is getting started with an Intent that does not contain &quot;extras&quot;&quot; is the correct answer!  :-)","body":"@DavidWasser You were right. Sorry. Your&#39; &quot;MainActivity is getting started with an Intent that does not contain &quot;extras&quot;&quot; is the correct answer!  :-)"},{"owner":{"account_id":5732567,"reputation":337,"user_id":4527638,"accept_rate":100,"display_name":"The Dongster"},"score":0,"creation_date":1648490997,"post_id":71638769,"comment_id":126632159,"body_markdown":"So the possible solution in that situation can be checking null for the bundle. if(bundle!=null).","body":"So the possible solution in that situation can be checking null for the bundle. if(bundle!=null)."}],"owner":{"account_id":24709065,"reputation":63,"user_id":18599484,"display_name":"devman3211"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660635577,"creation_date":1648402952,"question_id":71638769,"body_markdown":"I am trying to create an intent with bundle extras but I am getting null pointer exception error on the Array List.\r\n\r\nHere is the error:\r\n\r\n```\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.ArrayList android.os.Bundle.getParcelableArrayList(java.lang.String)&#39; on a null object reference\r\n```\r\n\r\nAm I implementing intents wrong?\r\n\r\nHere is my application below for MP3 Player:\r\n\r\nPlaylistSelector:\r\n\r\n```\r\npublic class PlaylistSelector extends AppCompatActivity {\r\n    ListView listview;\r\n    String[] items;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.playlist);\r\n\r\n        listview = findViewById(R.id.listViewSong);\r\n\r\n        runtimePermission();\r\n    }\r\n\r\n    public void runtimePermission()\r\n    {\r\n        Dexter.withContext(this).withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                .withListener(new PermissionListener() {\r\n                                  @Override\r\n                                  public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                                      displaySongs();\r\n\r\n\r\n                                  }\r\n\r\n                                  @Override\r\n                                  public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n\r\n                                  }\r\n\r\n                                  @Override\r\n                                  public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                                      permissionToken.continuePermissionRequest();\r\n\r\n                                  }\r\n                }).check();\r\n    }\r\n\r\n    public ArrayList&lt;File&gt; findSong (File file)\r\n    {\r\n        ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\r\n        File[] files = file.listFiles();\r\n\r\n        for (File singlefile: files)\r\n        {\r\n            if (singlefile.isDirectory() &amp;&amp; !singlefile.isHidden())\r\n            {\r\n                arrayList.addAll(findSong(singlefile));\r\n            }\r\n            else\r\n            {\r\n                if (singlefile.getName().endsWith(&quot;.mp3&quot;) || singlefile.getName().endsWith(&quot;.wav&quot;))\r\n                {\r\n                    arrayList.add(singlefile);\r\n                }\r\n            }\r\n        }\r\n        return arrayList;\r\n    }\r\n\r\n    void displaySongs()\r\n    {\r\n        final ArrayList&lt;File&gt; mySongs = findSong(Environment.getExternalStorageDirectory());\r\n        items = new String[mySongs.size()];\r\n        for(int i = 0; i&lt;mySongs.size(); i++)\r\n        {\r\n            items[i] = mySongs.get(i).getName().toString().replace(&quot;.mp3&quot;,&quot;&quot;).replace(&quot;.wav&quot;,&quot;&quot;);\r\n\r\n        }\r\n        /*ArrayAdapter&lt;String&gt; myAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1,songs);\r\n        listview.setAdapter(myAdapter);*/\r\n\r\n        customAdapter customAdapter = new customAdapter();\r\n        listview.setAdapter(customAdapter);\r\n\r\n\r\n        listview.setOnItemClickListener(new AdapterView.OnItemClickListener(){\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                String songName = (String) listview.getItemAtPosition(i);\r\n                startActivity(new Intent(getApplicationContext(), MainActivity.class)\r\n                        .putExtra(&quot;songs&quot;, mySongs)\r\n                        .putExtra(&quot;songname&quot;, songName)\r\n                        .putExtra(&quot;pos&quot;, i));\r\n            }\r\n            });\r\n    }\r\n\r\n\r\n    class customAdapter extends BaseAdapter{\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return items.length;\r\n        }\r\n\r\n        @Override\r\n        public Object getItem(int i) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public long getItemId(int i) {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public View getView(int i, View view, ViewGroup viewGroup) {\r\n            View myView = getLayoutInflater().inflate(R.layout.list_item, null);\r\n            TextView textsong = myView.findViewById(R.id.txtsongname);\r\n            textsong.setSelected(true);\r\n            textsong.setText(items[i]);\r\n\r\n            return myView;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMainActivity:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity  {\r\n  private static final String TAG = &quot;MainActivity&quot;;\r\n\r\n  private InputSource inputSource;\r\n\r\n\r\n\r\n\r\n  \r\n\r\n  Button playbtn, btnnext,btnprev,btnff,btnrw;\r\n  TextView txtsn, txtsstop,txtsstart;\r\n  SeekBar seekmusic;\r\n  BarVisualizer visualizer;\r\n\r\n  String sname;\r\n\r\n  public static final String EXTRA_NAME = &quot;song_name&quot;;\r\n  static MediaPlayer mediaPlayer;\r\n  int position;\r\n  ArrayList&lt;File&gt; mySongs;\r\n\r\n  @Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    View frameLayoutMP = findViewById(R.id.preview_mp3_layout);\r\n    btnprev = findViewById(R.id.btnprev);\r\n    playbtn = findViewById(R.id.playbtn);\r\n    btnnext = findViewById(R.id.btnnext);\r\n    btnrw = findViewById(R.id.btnrw);\r\n    btnff = findViewById(R.id.btnff);\r\n    txtsn = findViewById(R.id.txtsn);\r\n    txtsstop = findViewById(R.id.txtsstop);\r\n    txtsstart = findViewById(R.id.txtsstart);\r\n    seekmusic = findViewById(R.id.seekbar);\r\n    visualizer = findViewById(R.id.blast);\r\n\r\n    if (mediaPlayer != null)\r\n    {\r\n      mediaPlayer.stop();\r\n      mediaPlayer.release();\r\n    }\r\n\r\n    Intent i = getIntent();\r\n    Bundle bundle = i.getExtras();\r\n\r\n    mySongs = (ArrayList) bundle.getParcelableArrayList(&quot;songs&quot;);\r\n    String songName = i.getStringExtra(&quot;songname&quot;);\r\n    position = bundle.getInt(&quot;pos&quot;,0);\r\n    txtsn.setSelected(true);\r\n    Uri uri = Uri.parse(mySongs.get(position).toString());\r\n    sname = mySongs.get(position).getName();\r\n    txtsn.setText(sname);\r\n\r\n    mediaPlayer = MediaPlayer.create(getApplicationContext(),uri);\r\n    mediaPlayer.start();\r\n\r\n    playbtn.setOnClickListener(new View.OnClickListener() {\r\n      @Override\r\n      public void onClick(View view) {\r\n        if(mediaPlayer.isPlaying())\r\n        {\r\n          playbtn.setBackgroundResource(R.drawable.ic_play);\r\n          mediaPlayer.pause();\r\n        }\r\n        else\r\n        {\r\n          playbtn.setBackgroundResource(R.drawable.ic_pause);\r\n          mediaPlayer.start();\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n}\r\n\r\n\r\n}\r\n```\r\n\r\nI am trying to get this intent to grab song lists from playlists and put it into the player","title":"Android Studio Null Pointer Exception on ArrayList using Intent","body":"<p>I am trying to create an intent with bundle extras but I am getting null pointer exception error on the Array List.</p>\n<p>Here is the error:</p>\n<pre><code>     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.util.ArrayList android.os.Bundle.getParcelableArrayList(java.lang.String)' on a null object reference\n</code></pre>\n<p>Am I implementing intents wrong?</p>\n<p>Here is my application below for MP3 Player:</p>\n<p>PlaylistSelector:</p>\n<pre><code>public class PlaylistSelector extends AppCompatActivity {\n    ListView listview;\n    String[] items;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.playlist);\n\n        listview = findViewById(R.id.listViewSong);\n\n        runtimePermission();\n    }\n\n    public void runtimePermission()\n    {\n        Dexter.withContext(this).withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n                .withListener(new PermissionListener() {\n                                  @Override\n                                  public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                                      displaySongs();\n\n\n                                  }\n\n                                  @Override\n                                  public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n\n                                  }\n\n                                  @Override\n                                  public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                                      permissionToken.continuePermissionRequest();\n\n                                  }\n                }).check();\n    }\n\n    public ArrayList&lt;File&gt; findSong (File file)\n    {\n        ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\n        File[] files = file.listFiles();\n\n        for (File singlefile: files)\n        {\n            if (singlefile.isDirectory() &amp;&amp; !singlefile.isHidden())\n            {\n                arrayList.addAll(findSong(singlefile));\n            }\n            else\n            {\n                if (singlefile.getName().endsWith(&quot;.mp3&quot;) || singlefile.getName().endsWith(&quot;.wav&quot;))\n                {\n                    arrayList.add(singlefile);\n                }\n            }\n        }\n        return arrayList;\n    }\n\n    void displaySongs()\n    {\n        final ArrayList&lt;File&gt; mySongs = findSong(Environment.getExternalStorageDirectory());\n        items = new String[mySongs.size()];\n        for(int i = 0; i&lt;mySongs.size(); i++)\n        {\n            items[i] = mySongs.get(i).getName().toString().replace(&quot;.mp3&quot;,&quot;&quot;).replace(&quot;.wav&quot;,&quot;&quot;);\n\n        }\n        /*ArrayAdapter&lt;String&gt; myAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1,songs);\n        listview.setAdapter(myAdapter);*/\n\n        customAdapter customAdapter = new customAdapter();\n        listview.setAdapter(customAdapter);\n\n\n        listview.setOnItemClickListener(new AdapterView.OnItemClickListener(){\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                String songName = (String) listview.getItemAtPosition(i);\n                startActivity(new Intent(getApplicationContext(), MainActivity.class)\n                        .putExtra(&quot;songs&quot;, mySongs)\n                        .putExtra(&quot;songname&quot;, songName)\n                        .putExtra(&quot;pos&quot;, i));\n            }\n            });\n    }\n\n\n    class customAdapter extends BaseAdapter{\n\n        @Override\n        public int getCount() {\n            return items.length;\n        }\n\n        @Override\n        public Object getItem(int i) {\n            return null;\n        }\n\n        @Override\n        public long getItemId(int i) {\n            return 0;\n        }\n\n        @Override\n        public View getView(int i, View view, ViewGroup viewGroup) {\n            View myView = getLayoutInflater().inflate(R.layout.list_item, null);\n            TextView textsong = myView.findViewById(R.id.txtsongname);\n            textsong.setSelected(true);\n            textsong.setText(items[i]);\n\n            return myView;\n        }\n    }\n}\n</code></pre>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity  {\n  private static final String TAG = &quot;MainActivity&quot;;\n\n  private InputSource inputSource;\n\n\n\n\n  \n\n  Button playbtn, btnnext,btnprev,btnff,btnrw;\n  TextView txtsn, txtsstop,txtsstart;\n  SeekBar seekmusic;\n  BarVisualizer visualizer;\n\n  String sname;\n\n  public static final String EXTRA_NAME = &quot;song_name&quot;;\n  static MediaPlayer mediaPlayer;\n  int position;\n  ArrayList&lt;File&gt; mySongs;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    View frameLayoutMP = findViewById(R.id.preview_mp3_layout);\n    btnprev = findViewById(R.id.btnprev);\n    playbtn = findViewById(R.id.playbtn);\n    btnnext = findViewById(R.id.btnnext);\n    btnrw = findViewById(R.id.btnrw);\n    btnff = findViewById(R.id.btnff);\n    txtsn = findViewById(R.id.txtsn);\n    txtsstop = findViewById(R.id.txtsstop);\n    txtsstart = findViewById(R.id.txtsstart);\n    seekmusic = findViewById(R.id.seekbar);\n    visualizer = findViewById(R.id.blast);\n\n    if (mediaPlayer != null)\n    {\n      mediaPlayer.stop();\n      mediaPlayer.release();\n    }\n\n    Intent i = getIntent();\n    Bundle bundle = i.getExtras();\n\n    mySongs = (ArrayList) bundle.getParcelableArrayList(&quot;songs&quot;);\n    String songName = i.getStringExtra(&quot;songname&quot;);\n    position = bundle.getInt(&quot;pos&quot;,0);\n    txtsn.setSelected(true);\n    Uri uri = Uri.parse(mySongs.get(position).toString());\n    sname = mySongs.get(position).getName();\n    txtsn.setText(sname);\n\n    mediaPlayer = MediaPlayer.create(getApplicationContext(),uri);\n    mediaPlayer.start();\n\n    playbtn.setOnClickListener(new View.OnClickListener() {\n      @Override\n      public void onClick(View view) {\n        if(mediaPlayer.isPlaying())\n        {\n          playbtn.setBackgroundResource(R.drawable.ic_play);\n          mediaPlayer.pause();\n        }\n        else\n        {\n          playbtn.setBackgroundResource(R.drawable.ic_pause);\n          mediaPlayer.start();\n        }\n      }\n    });\n\n\n}\n\n\n}\n</code></pre>\n<p>I am trying to get this intent to grab song lists from playlists and put it into the player</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441562954,"creation_date":1441534146,"answer_id":32422354,"question_id":32422283,"body_markdown":"To find performance bottlenecks in your Java code, use a **profiler**.\r\n\r\nA profiler will measure the time spent in every method being profiled, both in the method itself, and the total of the method plus every call it makes. Usually, profiling it enabled at the class or package level, e.g. if your code is in the `com.example` package or subpackages, you specify that, and the profiler will monitor your code, without wasting time monitoring Spring code and the Java runtime library.\r\n\r\nDepending on your IDE, that may already be built in, or may be available as an extension/plugin.\r\n\r\n**Update**\r\n\r\nTo hook into the Spring containers bean instantiation process, a [BeanPostProcessor][1] may be the solution. The referenced description include the following:\r\n\r\n &gt; [...] for each bean instance that is created by the container, the post-processor gets a callback from the container both *before* container initialization methods (such as InitializingBean‚Äôs `afterPropertiesSet()` and any declared init method) are called as well as *after* any bean initialization callbacks. The post-processor can take any action with the bean instance, including ignoring the callback completely.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/beans.html#beans-factory-extension","title":"Getting spring beans initialization times","body":"<p>To find performance bottlenecks in your Java code, use a <strong>profiler</strong>.</p>\n\n<p>A profiler will measure the time spent in every method being profiled, both in the method itself, and the total of the method plus every call it makes. Usually, profiling it enabled at the class or package level, e.g. if your code is in the <code>com.example</code> package or subpackages, you specify that, and the profiler will monitor your code, without wasting time monitoring Spring code and the Java runtime library.</p>\n\n<p>Depending on your IDE, that may already be built in, or may be available as an extension/plugin.</p>\n\n<p><strong>Update</strong></p>\n\n<p>To hook into the Spring containers bean instantiation process, a <a href=\"http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/beans.html#beans-factory-extension\" rel=\"nofollow\">BeanPostProcessor</a> may be the solution. The referenced description include the following:</p>\n\n<blockquote>\n  <p>[...] for each bean instance that is created by the container, the post-processor gets a callback from the container both <em>before</em> container initialization methods (such as InitializingBean‚Äôs <code>afterPropertiesSet()</code> and any declared init method) are called as well as <em>after</em> any bean initialization callbacks. The post-processor can take any action with the bean instance, including ignoring the callback completely.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5578886,"reputation":345,"user_id":4421445,"display_name":"Ivan Perales M."},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1516335248,"creation_date":1516335248,"answer_id":48334033,"question_id":32422283,"body_markdown":"Dont know if my solution will help you, but this is what i did because i needed something similar.\r\n\r\nFirst, we need to log two things, instantiation time and initialization time. For the first thing i enable logging just for the package &quot;org.springframework.beans.factory&quot;, using %d{mm:ss,SSS} %m%n as a pattern (time and message only). Spring logs messages like: Creating instance of bean... and Finished creating instance of bean... For the second thing i created a LoggerBeanPostProcessor as recommended in [this answer][1] . The code is:\r\n\r\n    public class LoggerBeanPostProcessor implements BeanPostProcessor, Ordered {\r\n    \r\n    \tprotected Log logger = LogFactory.getLog(&quot;org.springframework.beans.factory.LoggerBeanPostProcessor&quot;);\r\n    \tprivate Map&lt;String, Long&gt; start;\r\n    \tprivate Map&lt;String, Long&gt; end;\r\n    \r\n    \tpublic LoggerBeanPostProcessor() {\r\n            start = new HashMap&lt;&gt;();\r\n            end = new HashMap&lt;&gt;();\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n    \t\tstart.put(beanName, System.currentTimeMillis());\r\n    \t\treturn bean;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n    \t\tend.put(beanName, System.currentTimeMillis());\r\n    \t\tlogger.debug(&quot;Init time for &quot; + beanName + &quot;: &quot; + initializationTime(beanName));\r\n    \t\treturn bean;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int getOrder() {\r\n    \t\treturn Integer.MAX_VALUE;\r\n    \t}\r\n    \r\n    \t// this method returns initialization time of the bean.\r\n    \tpublic long initializationTime(String beanName) {\r\n    \t\treturn end.get(beanName) - start.get(beanName);\r\n    \t}\r\n    }\r\n\r\nI use a file appender in the log4j config. Then i wrote a simple code to parse that info and gets milisecond of each thing and sum them:\r\n\r\n    public static void main(String[] argumentos) throws Exception{\r\n    \t\tFile file = new File(&quot;C:\\\\app\\\\daily.log&quot;);\r\n    \t\tList&lt;String&gt; lines = FileUtils.readLines(file);\r\n    \t\t\r\n    \t\tMap&lt;String,Long&gt; start = new HashMap();\r\n    \t\tMap&lt;String,Long&gt; end = new HashMap();\r\n    \t\tMap&lt;String,Long&gt; init = new HashMap();\r\n    \t\tList&lt;String&gt; beans = new ArrayList();\r\n    \t\tint max = 0;\r\n    \t\t\r\n    \t\tfor(String line :  lines) {\r\n    \t\t\tString time = StringUtils.substring(line, 0, 9);\r\n    \t\t\tString msg = StringUtils.substring(line, 10);\r\n    \t\t\t\r\n    \t\t\tif(msg.startsWith(&quot;Creating instance&quot;)) {\r\n    \t\t\t\tint fi = StringUtils.indexOf(msg, &#39;\\&#39;&#39;) + 1;\r\n    \t\t\t\tint li = StringUtils.lastIndexOf(msg, &#39;\\&#39;&#39;);\r\n    \t\t\t\tString bean = StringUtils.substring(msg, fi, li);\r\n    \t\t\t\tif(start.containsKey(bean)) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\tstart.put(bean, parseTime(time));\r\n    \t\t\t\tbeans.add(bean);\r\n    \t\t\t\tmax = Math.max(max, bean.length());\r\n    \t\t\t\t\r\n    \t\t\t} else if(msg.startsWith(&quot;Finished creating&quot;)) {\r\n    \t\t\t\tint fi = StringUtils.indexOf(msg, &#39;\\&#39;&#39;) + 1;\r\n    \t\t\t\tint li = StringUtils.lastIndexOf(msg, &#39;\\&#39;&#39;);\r\n    \t\t\t\tString bean = StringUtils.substring(msg, fi, li);\r\n    \t\t\t\tif(end.containsKey(bean)) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\tend.put(bean, parseTime(time));\r\n    \t\t\t\t\r\n    \t\t\t} else if(msg.startsWith(&quot;Init time for&quot;)) {\r\n    \t\t\t\tint li = StringUtils.lastIndexOf(msg, &#39;:&#39;);\r\n    \t\t\t\tString bean = StringUtils.substring(msg, 14, li);\r\n    \t\t\t\tif(init.containsKey(bean)) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\tinit.put(bean, Long.parseLong(StringUtils.substring(msg, li+2)));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(String bean : beans) {\r\n    \t\t\tlong s = start.get(bean);\r\n    \t\t\tlong e = end.get(bean);\r\n    \t\t\tlong i = init.containsKey(bean) ? init.get(bean) : -1;\r\n    \t\t\tSystem.out.println(StringUtils.leftPad(bean, max) + &quot;: &quot; + StringUtils.leftPad(Long.toString((e-s)+i), 6, &#39; &#39;));\r\n    \t\t}\r\n    \t}\r\n\r\nResulting in this:\r\n\r\n                                               splashScreen:    172\r\n    org.springframework.aop.config.internalAutoProxyCreator:     31\r\n                                    loggerBeanPostProcessor:   1137\r\n                                                 appContext:   1122\r\n\r\nHope this helps you as much as it helped me.\r\n\r\n  [1]: https://stackoverflow.com/questions/38701285/can-we-calculate-spring-bean-intialization-time","title":"Getting spring beans initialization times","body":"<p>Dont know if my solution will help you, but this is what i did because i needed something similar.</p>\n\n<p>First, we need to log two things, instantiation time and initialization time. For the first thing i enable logging just for the package \"org.springframework.beans.factory\", using %d{mm:ss,SSS} %m%n as a pattern (time and message only). Spring logs messages like: Creating instance of bean... and Finished creating instance of bean... For the second thing i created a LoggerBeanPostProcessor as recommended in <a href=\"https://stackoverflow.com/questions/38701285/can-we-calculate-spring-bean-intialization-time\">this answer</a> . The code is:</p>\n\n<pre><code>public class LoggerBeanPostProcessor implements BeanPostProcessor, Ordered {\n\n    protected Log logger = LogFactory.getLog(\"org.springframework.beans.factory.LoggerBeanPostProcessor\");\n    private Map&lt;String, Long&gt; start;\n    private Map&lt;String, Long&gt; end;\n\n    public LoggerBeanPostProcessor() {\n        start = new HashMap&lt;&gt;();\n        end = new HashMap&lt;&gt;();\n    }\n\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        start.put(beanName, System.currentTimeMillis());\n        return bean;\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        end.put(beanName, System.currentTimeMillis());\n        logger.debug(\"Init time for \" + beanName + \": \" + initializationTime(beanName));\n        return bean;\n    }\n\n    @Override\n    public int getOrder() {\n        return Integer.MAX_VALUE;\n    }\n\n    // this method returns initialization time of the bean.\n    public long initializationTime(String beanName) {\n        return end.get(beanName) - start.get(beanName);\n    }\n}\n</code></pre>\n\n<p>I use a file appender in the log4j config. Then i wrote a simple code to parse that info and gets milisecond of each thing and sum them:</p>\n\n<pre><code>public static void main(String[] argumentos) throws Exception{\n        File file = new File(\"C:\\\\app\\\\daily.log\");\n        List&lt;String&gt; lines = FileUtils.readLines(file);\n\n        Map&lt;String,Long&gt; start = new HashMap();\n        Map&lt;String,Long&gt; end = new HashMap();\n        Map&lt;String,Long&gt; init = new HashMap();\n        List&lt;String&gt; beans = new ArrayList();\n        int max = 0;\n\n        for(String line :  lines) {\n            String time = StringUtils.substring(line, 0, 9);\n            String msg = StringUtils.substring(line, 10);\n\n            if(msg.startsWith(\"Creating instance\")) {\n                int fi = StringUtils.indexOf(msg, '\\'') + 1;\n                int li = StringUtils.lastIndexOf(msg, '\\'');\n                String bean = StringUtils.substring(msg, fi, li);\n                if(start.containsKey(bean)) {\n                    continue;\n                }\n                start.put(bean, parseTime(time));\n                beans.add(bean);\n                max = Math.max(max, bean.length());\n\n            } else if(msg.startsWith(\"Finished creating\")) {\n                int fi = StringUtils.indexOf(msg, '\\'') + 1;\n                int li = StringUtils.lastIndexOf(msg, '\\'');\n                String bean = StringUtils.substring(msg, fi, li);\n                if(end.containsKey(bean)) {\n                    continue;\n                }\n                end.put(bean, parseTime(time));\n\n            } else if(msg.startsWith(\"Init time for\")) {\n                int li = StringUtils.lastIndexOf(msg, ':');\n                String bean = StringUtils.substring(msg, 14, li);\n                if(init.containsKey(bean)) {\n                    continue;\n                }\n                init.put(bean, Long.parseLong(StringUtils.substring(msg, li+2)));\n            }\n        }\n\n        for(String bean : beans) {\n            long s = start.get(bean);\n            long e = end.get(bean);\n            long i = init.containsKey(bean) ? init.get(bean) : -1;\n            System.out.println(StringUtils.leftPad(bean, max) + \": \" + StringUtils.leftPad(Long.toString((e-s)+i), 6, ' '));\n        }\n    }\n</code></pre>\n\n<p>Resulting in this:</p>\n\n<pre><code>                                           splashScreen:    172\norg.springframework.aop.config.internalAutoProxyCreator:     31\n                                loggerBeanPostProcessor:   1137\n                                             appContext:   1122\n</code></pre>\n\n<p>Hope this helps you as much as it helped me.</p>\n"},{"tags":[],"owner":{"account_id":4628451,"reputation":2085,"user_id":3751590,"accept_rate":57,"display_name":"singe3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660635567,"creation_date":1660635567,"answer_id":73370374,"question_id":32422283,"body_markdown":"For Spring Boot the documented method to get a report of bean initialization times without the need for an external profiling tool is to use the provided implementation of `ApplicationStartup`: `BufferingApplicationStartup`\r\n\r\nIt is to be used in your main class: \r\n\r\n```\r\n@SpringBootApplication()\r\npublic class MyApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication application = new SpringApplication(MyApplication.class);\r\n        application.setApplicationStartup(new BufferingApplicationStartup(2048));\r\n        application.run(args);\r\n    }\r\n}\r\n```\r\n\r\nThen when it has started, go the actuator startup endpoint: \r\nhttp://localhost:8080/actuator/startup\r\n\r\nYou&#39;ll get a full JSON report of execution times spent in each initialization step.\r\n\r\n```\r\nHTTP/1.1 200 OK\r\nContent-Type: application/vnd.spring-boot.actuator.v3+json\r\nContent-Length: 839\r\n\r\n{\r\n  &quot;springBootVersion&quot; : &quot;2.7.2&quot;,\r\n  &quot;timeline&quot; : {\r\n    &quot;startTime&quot; : &quot;2022-07-21T08:44:07.649Z&quot;,\r\n    &quot;events&quot; : [ {\r\n      &quot;endTime&quot; : &quot;2022-07-21T08:44:07.808Z&quot;,\r\n      &quot;duration&quot; : &quot;PT0S&quot;,\r\n      &quot;startupStep&quot; : {\r\n        &quot;name&quot; : &quot;spring.beans.instantiate&quot;,\r\n        &quot;id&quot; : 3,\r\n        &quot;tags&quot; : [ {\r\n          &quot;key&quot; : &quot;beanName&quot;,\r\n          &quot;value&quot; : &quot;homeController&quot;\r\n        } ],\r\n        &quot;parentId&quot; : 2\r\n      },\r\n      &quot;startTime&quot; : &quot;2022-07-21T08:44:07.808Z&quot;\r\n    }, {\r\n      &quot;endTime&quot; : &quot;2022-07-21T08:44:07.808Z&quot;,\r\n      &quot;duration&quot; : &quot;PT0S&quot;,\r\n      &quot;startupStep&quot; : {\r\n        &quot;name&quot; : &quot;spring.boot.application.starting&quot;,\r\n        &quot;id&quot; : 2,\r\n        &quot;tags&quot; : [ {\r\n          &quot;key&quot; : &quot;mainApplicationClass&quot;,\r\n          &quot;value&quot; : &quot;com.example.startup.StartupApplication&quot;\r\n        } ]\r\n      },\r\n      &quot;startTime&quot; : &quot;2022-07-21T08:44:07.808Z&quot;\r\n    } ]\r\n  }\r\n}\r\n```\r\n\r\nOf course, it is a high/mid level starting point for investigating. If you need more fine grained details, you will still need to profile the application using external tools.\r\n\r\nSource: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.startup-tracking\r\n\r\n","title":"Getting spring beans initialization times","body":"<p>For Spring Boot the documented method to get a report of bean initialization times without the need for an external profiling tool is to use the provided implementation of <code>ApplicationStartup</code>: <code>BufferingApplicationStartup</code></p>\n<p>It is to be used in your main class:</p>\n<pre><code>@SpringBootApplication()\npublic class MyApplication {\n    public static void main(String[] args) {\n        SpringApplication application = new SpringApplication(MyApplication.class);\n        application.setApplicationStartup(new BufferingApplicationStartup(2048));\n        application.run(args);\n    }\n}\n</code></pre>\n<p>Then when it has started, go the actuator startup endpoint:\nhttp://localhost:8080/actuator/startup</p>\n<p>You'll get a full JSON report of execution times spent in each initialization step.</p>\n<pre><code>HTTP/1.1 200 OK\nContent-Type: application/vnd.spring-boot.actuator.v3+json\nContent-Length: 839\n\n{\n  &quot;springBootVersion&quot; : &quot;2.7.2&quot;,\n  &quot;timeline&quot; : {\n    &quot;startTime&quot; : &quot;2022-07-21T08:44:07.649Z&quot;,\n    &quot;events&quot; : [ {\n      &quot;endTime&quot; : &quot;2022-07-21T08:44:07.808Z&quot;,\n      &quot;duration&quot; : &quot;PT0S&quot;,\n      &quot;startupStep&quot; : {\n        &quot;name&quot; : &quot;spring.beans.instantiate&quot;,\n        &quot;id&quot; : 3,\n        &quot;tags&quot; : [ {\n          &quot;key&quot; : &quot;beanName&quot;,\n          &quot;value&quot; : &quot;homeController&quot;\n        } ],\n        &quot;parentId&quot; : 2\n      },\n      &quot;startTime&quot; : &quot;2022-07-21T08:44:07.808Z&quot;\n    }, {\n      &quot;endTime&quot; : &quot;2022-07-21T08:44:07.808Z&quot;,\n      &quot;duration&quot; : &quot;PT0S&quot;,\n      &quot;startupStep&quot; : {\n        &quot;name&quot; : &quot;spring.boot.application.starting&quot;,\n        &quot;id&quot; : 2,\n        &quot;tags&quot; : [ {\n          &quot;key&quot; : &quot;mainApplicationClass&quot;,\n          &quot;value&quot; : &quot;com.example.startup.StartupApplication&quot;\n        } ]\n      },\n      &quot;startTime&quot; : &quot;2022-07-21T08:44:07.808Z&quot;\n    } ]\n  }\n}\n</code></pre>\n<p>Of course, it is a high/mid level starting point for investigating. If you need more fine grained details, you will still need to profile the application using external tools.</p>\n<p>Source: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.startup-tracking\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.startup-tracking</a></p>\n"}],"owner":{"account_id":888697,"reputation":6671,"user_id":927477,"accept_rate":77,"display_name":"Avner Levy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4717,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48334033,"answer_count":3,"score":8,"last_activity_date":1660635567,"creation_date":1441533628,"question_id":32422283,"body_markdown":"I have an application with a large spring context which loads lots of beans written by lots of developers.  \r\nSome of the beans may do some significant processing on their initialization code which may take a long time.  \r\nI&#39;m looking for a simple way to get the loading time of each bean.  \r\nSince the software is running on a large number of customers&#39; machines I need a way to find the bottlenecks beans easily in the log.  \r\nIf I could register to events such as &quot;Before loading bean&quot; and after it would be great.  \r\nSo if I can get this data problematically I can write something like: \r\n\r\n    if (beanLoadingTime &gt; 2 seconds) \r\n        print bean details and loading time to log file\r\nThat&#39;s why enabling the logging or profilng isn&#39;t enough.","title":"Getting spring beans initialization times","body":"<p>I have an application with a large spring context which loads lots of beans written by lots of developers.<br>\nSome of the beans may do some significant processing on their initialization code which may take a long time.<br>\nI'm looking for a simple way to get the loading time of each bean.<br>\nSince the software is running on a large number of customers' machines I need a way to find the bottlenecks beans easily in the log.<br>\nIf I could register to events such as \"Before loading bean\" and after it would be great.<br>\nSo if I can get this data problematically I can write something like: </p>\n\n<pre><code>if (beanLoadingTime &gt; 2 seconds) \n    print bean details and loading time to log file\n</code></pre>\n\n<p>That's why enabling the logging or profilng isn't enough.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1660635374,"post_id":73370301,"comment_id":129571965,"body_markdown":"Does this answer your question? [JPA Map&lt;String,String&gt; mapping](https://stackoverflow.com/questions/853076/jpa-mapstring-string-mapping)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/853076/jpa-mapstring-string-mapping\">JPA Map&lt;String,String&gt; mapping</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1660635429,"post_id":73370301,"comment_id":129571985,"body_markdown":"Or this? [Could not determine type for: java.util.List, at table: College](https://stackoverflow.com/a/3774245/507738)","body":"Or this? <a href=\"https://stackoverflow.com/a/3774245/507738\">Could not determine type for: java.util.List, at table: College</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1660635522,"post_id":73370301,"comment_id":129572020,"body_markdown":"PS: `regisseurs` is a string array, but I suggest you use a `List&lt;String&gt;` instead, as it&#39;s more flexible.","body":"PS: <code>regisseurs</code> is a string array, but I suggest you use a <code>List&lt;String&gt;</code> instead, as it&#39;s more flexible."},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1660635833,"post_id":73370301,"comment_id":129572137,"body_markdown":"Your error is self-explanatory. The type Map is a collection in Java and is not mapped to a specific data type in the database. Consider changing your map into an entity consisting of a an id and a list, then you can persist the list with the id and retrieve it using a Map","body":"Your error is self-explanatory. The type Map is a collection in Java and is not mapped to a specific data type in the database. Consider changing your map into an entity consisting of a an id and a list, then you can persist the list with the id and retrieve it using a Map"},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1660635982,"post_id":73370301,"comment_id":129572189,"body_markdown":"I suggest you to read [this](https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/) to understand saving collections in the database","body":"I suggest you to read <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">this</a> to understand saving collections in the database"},{"owner":{"account_id":25407842,"reputation":1,"user_id":19216225,"display_name":"Seppe Everaet"},"score":0,"creation_date":1660635994,"post_id":73370301,"comment_id":129572195,"body_markdown":"how do I need to name the JoinColumn? I keep following error &quot;The value for annotation attribute JoinTable.joinColumns must be some @javax.persistence.JoinColumn annotation &quot;","body":"how do I need to name the JoinColumn? I keep following error &quot;The value for annotation attribute JoinTable.joinColumns must be some @javax.persistence.JoinColumn annotation &quot;"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1660636918,"post_id":73370301,"comment_id":129572517,"body_markdown":"@SeppeEveraet where and how are you using `JoinColumn`?","body":"@SeppeEveraet where and how are you using <code>JoinColumn</code>?"},{"owner":{"account_id":25407842,"reputation":1,"user_id":19216225,"display_name":"Seppe Everaet"},"score":1,"creation_date":1660640119,"post_id":73370301,"comment_id":129573602,"body_markdown":"@Pawan.Java thanks for the advice, I made a List of Score elements (Score had a String user and int rating) instead of the map and now it works.","body":"@Pawan.Java thanks for the advice, I made a List of Score elements (Score had a String user and int rating) instead of the map and now it works."},{"owner":{"account_id":25407842,"reputation":1,"user_id":19216225,"display_name":"Seppe Everaet"},"score":0,"creation_date":1660640173,"post_id":73370301,"comment_id":129573622,"body_markdown":"@MCEmperor Yeah I know but after the creation of a movie, the movies can&#39;t be changed afterwards so that is why I didn&#39;t bother changing that to a List","body":"@MCEmperor Yeah I know but after the creation of a movie, the movies can&#39;t be changed afterwards so that is why I didn&#39;t bother changing that to a List"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1660642740,"post_id":73370301,"comment_id":129574507,"body_markdown":"@SeppeEveraet Well, if the movies shouldn&#39;t be changed, then you *should* be using a `List` rather than an array. While the size of an array cannot change, all elements are publicly accessible, and worse, rewritable. For instance, `regisseurs[0] = &quot;Seppe Everaet&quot;` is always possible (for arrays with size &gt; 0), whereas `List` implementations can control whenever it&#39;s possible to change the list.","body":"@SeppeEveraet Well, if the movies shouldn&#39;t be changed, then you <i>should</i> be using a <code>List</code> rather than an array. While the size of an array cannot change, all elements are publicly accessible, and worse, rewritable. For instance, <code>regisseurs[0] = &quot;Seppe Everaet&quot;</code> is always possible (for arrays with size &gt; 0), whereas <code>List</code> implementations can control whenever it&#39;s possible to change the list."}],"owner":{"account_id":25407842,"reputation":1,"user_id":19216225,"display_name":"Seppe Everaet"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660635145,"creation_date":1660635145,"question_id":73370301,"body_markdown":"I made an application/website were you can rate movies and see the ranking of the movies based on the ratings given by the users.\r\n\r\nI first made the application without a connection with the database and had a class with some mock data for testing the application. Now I want to start connecting with my MySQL database and I got the following error. I am making this app for a school project so I only have examples where we connect an easy class with only Strings or Integers with the database but I don&#39;t know what to do to solve this error.\r\n\r\nThe map contains names of users and the rating they gave to the movie.\r\n\r\nFilm class\r\n\r\n``` \r\npackage domain;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Film implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String naam;\r\n\t\r\n\tprivate String[] regisseurs;\r\n\t\r\n\tprivate Map&lt;String, Integer&gt; ratings;\r\n\t\r\n\tprivate int totaleRating;\r\n\t\r\n\tprivate String code;\r\n\t\r\n\tpublic Film(String naam, String[] regisseurs, Map&lt;String, Integer&gt; ratings, String code) {\r\n\t\tthis.naam = naam;\r\n\t\tthis.regisseurs = regisseurs;\r\n\t\tthis.ratings = ratings;\r\n\t\tthis.totaleRating = 0;\r\n\t\tthis.code = code;\r\n\t}\r\n\t\r\n\tprotected Film() {\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(naam);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tFilm other = (Film) obj;\r\n\t\treturn Objects.equals(naam, other.naam);\r\n\t}\r\n\r\n\tpublic String getNaam() {\r\n\t\treturn naam;\r\n\t}\r\n\r\n\tpublic void setName(String naam) {\r\n\t\tthis.naam = naam;\r\n\t}\r\n\t\r\n\tpublic Map&lt;String, Integer&gt; getRatings() {\r\n\t\treturn ratings;\r\n\t}\r\n\t\r\n\tpublic String[] getRegisseurs() {\r\n\t\treturn regisseurs;\r\n\t}\r\n\t\r\n\tpublic void addRatings(String user, int rating) {\r\n\t\tthis.ratings.put(user, rating);\r\n\t}\r\n\t\r\n\tpublic Integer returnTotaleRating() {\r\n\t\tint sum = 0;\r\n\t\tif (ratings != null) {\r\n\t\t\tif (!ratings.isEmpty()) {\r\n\t\t\t\tsum = ratings.values().stream().mapToInt(Integer::intValue).sum();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n\r\n\tpublic void setRegisseurs(String[] regisseurs) {\r\n\t\tthis.regisseurs = regisseurs;\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic int getTotaleRating() {\r\n\t\treturn returnTotaleRating();\r\n\t}\r\n\r\n\tpublic String getCode() {\r\n\t\treturn code;\r\n\t}\r\n\r\n\tpublic void setCode(String code) {\r\n\t\tthis.code = code;\r\n\t}\r\n}\r\n```\r\n\r\nFilmDao\r\n``` \r\npackage service;\r\n\r\nimport java.util.List;\r\n\r\nimport domain.Film;\r\n\r\npublic interface FilmDao {\r\n\r\n\tpublic List&lt;Film&gt; findAll();\r\n}\r\n\r\n```\r\nJpaFilmDao\r\n```\r\npackage service;\r\n\r\nimport java.util.List;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.PersistenceContext;\r\nimport javax.persistence.TypedQuery;\r\n\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport domain.Film;\r\n\r\n@Repository(&quot;filmDao&quot;)\r\npublic class JpaFilmDao implements FilmDao{\r\n\r\n\t@PersistenceContext\r\n\tprivate EntityManager em;\r\n\t\r\n\t@Override\r\n\t@Transactional(readOnly=true)\r\n\tpublic List&lt;Film&gt; findAll() {\r\n\t\tTypedQuery&lt;Film&gt; query = em.createQuery(\r\n\t\t&quot;SELECT f FROM Film f ORDER BY f.id&quot;, Film.class);\r\n\t\treturn query.getResultList();\r\n\t}\r\n}\r\n```\r\n\r\nPersistenceJPAConfig\r\n```\r\npackage com.springBoot.Filmfestival_JPA;\r\n\r\nimport java.util.Properties;\r\n\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.JpaVendorAdapter;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class PersistenceJPAConfig {\r\n\r\n\t@Bean\r\n\t   public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\t      LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n\t      em.setDataSource(dataSource());\r\n\t      em.setPackagesToScan(new String[] { &quot;domain&quot; });//hier moet hij kijken\r\n\r\n\t      JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t      em.setJpaVendorAdapter(vendorAdapter);\r\n\t      em.setJpaProperties(additionalProperties());\r\n\r\n\t      return em;\r\n\t   }\r\n\r\n\t   @Bean\r\n\t   public DataSource dataSource(){\r\n\t      DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t      dataSource.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n\t      dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/filmfestival?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;);\r\n\t      dataSource.setUsername( &quot;root&quot; );\r\n\t      dataSource.setPassword( &quot;root&quot; );\r\n\t      return dataSource;\r\n\t   }\r\n\r\n\t   @Bean\r\n\t   public PlatformTransactionManager transactionManager(EntityManagerFactory emf){\r\n\t      JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t      transactionManager.setEntityManagerFactory(emf);\r\n\t      return transactionManager;\r\n\t   }\r\n\r\n\t   @Bean\r\n\t   public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\r\n\t      return new PersistenceExceptionTranslationPostProcessor();\r\n\t   }\r\n\r\n\t   Properties additionalProperties() {\r\n\t      Properties properties = new Properties();\r\n\t      properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\r\n\t      //properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;validate&quot;);\r\n\t      return properties;\r\n\t   }\r\n}\r\n\r\n```\r\n\r\nError:\r\n```\r\n2022-08-16 09:17:46.463  INFO 13368 --- [           main] s.F.SpringBootFilmfestivalJpaApplication : Starting SpringBootFilmfestivalJpaApplication using Java 17.0.1 on LAPTOP-REPTMNPV with PID 13368 (C:\\Users\\Gebruiker\\Documents\\workspace3-spring\\Spring_Boot_Filmfestival-JPA\\target\\classes started by Gebruiker in C:\\Users\\Gebruiker\\Documents\\workspace3-spring\\Spring_Boot_Filmfestival-JPA)\r\n2022-08-16 09:17:46.465  INFO 13368 --- [           main] s.F.SpringBootFilmfestivalJpaApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-08-16 09:17:46.864  INFO 13368 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-08-16 09:17:46.875  INFO 13368 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.\r\n2022-08-16 09:17:47.008  INFO 13368 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;persistenceJPAConfig&#39; of type [com.springBoot.Filmfestival_JPA.PersistenceJPAConfig$$EnhancerBySpringCGLIB$$624e4fe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 09:17:47.044  INFO 13368 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.ws.config.annotation.DelegatingWsConfiguration&#39; of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$736b0246] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 09:17:47.079  INFO 13368 --- [           main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]\r\n2022-08-16 09:17:47.294  INFO 13368 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-08-16 09:17:47.300  INFO 13368 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-08-16 09:17:47.300  INFO 13368 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n2022-08-16 09:17:47.500  INFO 13368 --- [           main] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n2022-08-16 09:17:47.510  INFO 13368 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-08-16 09:17:47.510  INFO 13368 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1018 ms\r\n2022-08-16 09:17:47.575  INFO 13368 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-08-16 09:17:47.599  INFO 13368 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\r\n2022-08-16 09:17:47.694  INFO 13368 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-08-16 09:17:47.982  INFO 13368 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\n2022-08-16 09:17:48.133 ERROR 13368 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\r\n2022-08-16 09:17:48.134  WARN 13368 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [com/springBoot/Filmfestival_JPA/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\r\n2022-08-16 09:17:48.135  INFO 13368 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-08-16 09:17:48.142  INFO 13368 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-08-16 09:17:48.154 ERROR 13368 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [com/springBoot/Filmfestival_JPA/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat com.springBoot.Filmfestival_JPA.SpringBootFilmfestivalJpaApplication.main(SpringBootFilmfestivalJpaApplication.java:20) ~[classes/:na]\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 16 common frames omitted\r\nCaused by: org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\r\n\tat org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:515) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:482) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.mapping.Property.isValid(Property.java:231) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:627) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.mapping.RootClass.validate(RootClass.java:267) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:359) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\t... 20 common frames omitted\r\n\r\n\r\n```\r\n\r\n","title":"Could not determine type for: java.util.Map, at table: Film","body":"<p>I made an application/website were you can rate movies and see the ranking of the movies based on the ratings given by the users.</p>\n<p>I first made the application without a connection with the database and had a class with some mock data for testing the application. Now I want to start connecting with my MySQL database and I got the following error. I am making this app for a school project so I only have examples where we connect an easy class with only Strings or Integers with the database but I don't know what to do to solve this error.</p>\n<p>The map contains names of users and the rating they gave to the movie.</p>\n<p>Film class</p>\n<pre><code>package domain;\n\nimport java.io.Serializable;\nimport java.util.Map;\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Film implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private String naam;\n    \n    private String[] regisseurs;\n    \n    private Map&lt;String, Integer&gt; ratings;\n    \n    private int totaleRating;\n    \n    private String code;\n    \n    public Film(String naam, String[] regisseurs, Map&lt;String, Integer&gt; ratings, String code) {\n        this.naam = naam;\n        this.regisseurs = regisseurs;\n        this.ratings = ratings;\n        this.totaleRating = 0;\n        this.code = code;\n    }\n    \n    protected Film() {\n        \n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(naam);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Film other = (Film) obj;\n        return Objects.equals(naam, other.naam);\n    }\n\n    public String getNaam() {\n        return naam;\n    }\n\n    public void setName(String naam) {\n        this.naam = naam;\n    }\n    \n    public Map&lt;String, Integer&gt; getRatings() {\n        return ratings;\n    }\n    \n    public String[] getRegisseurs() {\n        return regisseurs;\n    }\n    \n    public void addRatings(String user, int rating) {\n        this.ratings.put(user, rating);\n    }\n    \n    public Integer returnTotaleRating() {\n        int sum = 0;\n        if (ratings != null) {\n            if (!ratings.isEmpty()) {\n                sum = ratings.values().stream().mapToInt(Integer::intValue).sum();\n            }\n        }\n        return sum;\n    }\n\n    public void setRegisseurs(String[] regisseurs) {\n        this.regisseurs = regisseurs;       \n    }\n    \n    \n    public int getTotaleRating() {\n        return returnTotaleRating();\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n}\n</code></pre>\n<p>FilmDao</p>\n<pre><code>package service;\n\nimport java.util.List;\n\nimport domain.Film;\n\npublic interface FilmDao {\n\n    public List&lt;Film&gt; findAll();\n}\n\n</code></pre>\n<p>JpaFilmDao</p>\n<pre><code>package service;\n\nimport java.util.List;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.TypedQuery;\n\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport domain.Film;\n\n@Repository(&quot;filmDao&quot;)\npublic class JpaFilmDao implements FilmDao{\n\n    @PersistenceContext\n    private EntityManager em;\n    \n    @Override\n    @Transactional(readOnly=true)\n    public List&lt;Film&gt; findAll() {\n        TypedQuery&lt;Film&gt; query = em.createQuery(\n        &quot;SELECT f FROM Film f ORDER BY f.id&quot;, Film.class);\n        return query.getResultList();\n    }\n}\n</code></pre>\n<p>PersistenceJPAConfig</p>\n<pre><code>package com.springBoot.Filmfestival_JPA;\n\nimport java.util.Properties;\n\nimport javax.persistence.EntityManagerFactory;\nimport javax.sql.DataSource;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.JpaVendorAdapter;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n\n@Configuration\n@EnableTransactionManagement\npublic class PersistenceJPAConfig {\n\n    @Bean\n       public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n          LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n          em.setDataSource(dataSource());\n          em.setPackagesToScan(new String[] { &quot;domain&quot; });//hier moet hij kijken\n\n          JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n          em.setJpaVendorAdapter(vendorAdapter);\n          em.setJpaProperties(additionalProperties());\n\n          return em;\n       }\n\n       @Bean\n       public DataSource dataSource(){\n          DriverManagerDataSource dataSource = new DriverManagerDataSource();\n          dataSource.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n          dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/filmfestival?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;);\n          dataSource.setUsername( &quot;root&quot; );\n          dataSource.setPassword( &quot;root&quot; );\n          return dataSource;\n       }\n\n       @Bean\n       public PlatformTransactionManager transactionManager(EntityManagerFactory emf){\n          JpaTransactionManager transactionManager = new JpaTransactionManager();\n          transactionManager.setEntityManagerFactory(emf);\n          return transactionManager;\n       }\n\n       @Bean\n       public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\n          return new PersistenceExceptionTranslationPostProcessor();\n       }\n\n       Properties additionalProperties() {\n          Properties properties = new Properties();\n          properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\n          //properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;validate&quot;);\n          return properties;\n       }\n}\n\n</code></pre>\n<p>Error:</p>\n<pre><code>2022-08-16 09:17:46.463  INFO 13368 --- [           main] s.F.SpringBootFilmfestivalJpaApplication : Starting SpringBootFilmfestivalJpaApplication using Java 17.0.1 on LAPTOP-REPTMNPV with PID 13368 (C:\\Users\\Gebruiker\\Documents\\workspace3-spring\\Spring_Boot_Filmfestival-JPA\\target\\classes started by Gebruiker in C:\\Users\\Gebruiker\\Documents\\workspace3-spring\\Spring_Boot_Filmfestival-JPA)\n2022-08-16 09:17:46.465  INFO 13368 --- [           main] s.F.SpringBootFilmfestivalJpaApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-08-16 09:17:46.864  INFO 13368 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-08-16 09:17:46.875  INFO 13368 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.\n2022-08-16 09:17:47.008  INFO 13368 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'persistenceJPAConfig' of type [com.springBoot.Filmfestival_JPA.PersistenceJPAConfig$$EnhancerBySpringCGLIB$$624e4fe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 09:17:47.044  INFO 13368 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$736b0246] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 09:17:47.079  INFO 13368 --- [           main] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]\n2022-08-16 09:17:47.294  INFO 13368 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-08-16 09:17:47.300  INFO 13368 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-08-16 09:17:47.300  INFO 13368 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-08-16 09:17:47.500  INFO 13368 --- [           main] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n2022-08-16 09:17:47.510  INFO 13368 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-08-16 09:17:47.510  INFO 13368 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1018 ms\n2022-08-16 09:17:47.575  INFO 13368 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-08-16 09:17:47.599  INFO 13368 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\n2022-08-16 09:17:47.694  INFO 13368 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-08-16 09:17:47.982  INFO 13368 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\n2022-08-16 09:17:48.133 ERROR 13368 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\n2022-08-16 09:17:48.134  WARN 13368 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [com/springBoot/Filmfestival_JPA/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\n2022-08-16 09:17:48.135  INFO 13368 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-08-16 09:17:48.142  INFO 13368 --- [           main] ConditionEvaluationReportLoggingListener : \n\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-08-16 09:17:48.154 ERROR 13368 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [com/springBoot/Filmfestival_JPA/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\n    at com.springBoot.Filmfestival_JPA.SpringBootFilmfestivalJpaApplication.main(SpringBootFilmfestivalJpaApplication.java:20) ~[classes/:na]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 16 common frames omitted\nCaused by: org.hibernate.MappingException: Could not determine type for: java.util.Map, at table: Film, for columns: [org.hibernate.mapping.Column(ratings)]\n    at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:515) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:482) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.mapping.Property.isValid(Property.java:231) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:627) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.mapping.RootClass.validate(RootClass.java:267) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:359) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\n    ... 20 common frames omitted\n\n\n</code></pre>\n"},{"tags":["java","mocking","mockito","specifications","pageable"],"answers":[{"tags":[],"owner":{"account_id":2165554,"reputation":1,"user_id":1918746,"display_name":"Sandeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660634697,"creation_date":1660634697,"answer_id":73370225,"question_id":73369525,"body_markdown":"    @InjectMocks\r\n    MySpecification  mySpecification;\r\n    \r\n    @Test\r\n    void test(){\r\n    \r\n    Predicate  predicate = mySpecification.toPredicate(pass arguments);\r\n    assertNotNull(predicate);\r\n    }","title":"some problem with mock test for specification class","body":"<pre><code>@InjectMocks\nMySpecification  mySpecification;\n\n@Test\nvoid test(){\n\nPredicate  predicate = mySpecification.toPredicate(pass arguments);\nassertNotNull(predicate);\n}\n</code></pre>\n"}],"owner":{"account_id":18078129,"reputation":47,"user_id":13573656,"display_name":"Marzepanio Tortus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660634697,"creation_date":1660630547,"question_id":73369525,"body_markdown":"I&#39;m new to programming, I want to make tests for my Specification class, but I can&#39;t figure out where I should start...how to approach this test?\r\n   \r\n     public class MySpecification implements Specification&lt;R&gt; {\r\n        \r\n            MyRequest request;\r\n        \r\n            public MySpecification (MyRequest request) {\r\n                this.request = request;\r\n            }\r\n        \r\n            @Override\r\n            public Predicate toPredicate(Root&lt;R&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\r\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        \r\n                if (StringUtils.isNotEmpty(request.getEvent())) {\r\n                    predicates.add(criteriaBuilder.equal(root.get(&quot;event&quot;), request.getEvent()));\r\n                }\r\n            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n        }\r\n    }\r\nI created mock objects that I will most likely have to work with\r\n\r\n        @Mock\r\n        Specification&lt;R&gt; spec;\r\n    \r\n        @Mock\r\n        Root&lt;R&gt; root;\r\n    \r\n        @Mock\r\n        CriteriaQuery&lt;?&gt; query;\r\n    \r\n        @Mock\r\n        CriteriaBuilder builder;\r\n    \r\n        @Mock\r\n        Predicate predicate;\r\n    \r\n        @Mock\r\n        MyRequest request;\r\n\r\n\r\n\r\nI would like to see one or two examples of test implementation for this case, thank you!\r\n","title":"some problem with mock test for specification class","body":"<p>I'm new to programming, I want to make tests for my Specification class, but I can't figure out where I should start...how to approach this test?</p>\n<pre><code> public class MySpecification implements Specification&lt;R&gt; {\n    \n        MyRequest request;\n    \n        public MySpecification (MyRequest request) {\n            this.request = request;\n        }\n    \n        @Override\n        public Predicate toPredicate(Root&lt;R&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n    \n            if (StringUtils.isNotEmpty(request.getEvent())) {\n                predicates.add(criteriaBuilder.equal(root.get(&quot;event&quot;), request.getEvent()));\n            }\n        return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n    }\n}\n</code></pre>\n<p>I created mock objects that I will most likely have to work with</p>\n<pre><code>    @Mock\n    Specification&lt;R&gt; spec;\n\n    @Mock\n    Root&lt;R&gt; root;\n\n    @Mock\n    CriteriaQuery&lt;?&gt; query;\n\n    @Mock\n    CriteriaBuilder builder;\n\n    @Mock\n    Predicate predicate;\n\n    @Mock\n    MyRequest request;\n</code></pre>\n<p>I would like to see one or two examples of test implementation for this case, thank you!</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660632975,"creation_date":1660632756,"answer_id":73369854,"question_id":73369810,"body_markdown":"You may use this regex with 2 negated character classes:\r\n\r\n```Java\r\n^[^A-Z]*[A-Z][^A-Z]*$\r\n```\r\n\r\nAbove regex will support ASCII upper case letters only. If you want to match unicode letters then use:\r\n\r\n    ^\\P{Lu}*\\p{Lu}\\P{Lu}*$\r\n\r\n[RegEx Demo 2][1]\r\n[RegEx Demo][2]\r\n\r\n\r\n  [1]: https://regex101.com/r/FFk4Ny/2\r\n  [2]: https://regex101.com/r/FFk4Ny/1\r\n\r\nHere:\r\n\r\n- `\\P{Lu}*`: Match 0 or more non-uppercase unicode letters\r\n- `\\p{Lu}`: Match an uppercase unicode letter","title":"Regex to check if string contains only one uppercase","body":"<p>You may use this regex with 2 negated character classes:</p>\n<pre><code>^[^A-Z]*[A-Z][^A-Z]*$\n</code></pre>\n<p>Above regex will support ASCII upper case letters only. If you want to match unicode letters then use:</p>\n<pre><code>^\\P{Lu}*\\p{Lu}\\P{Lu}*$\n</code></pre>\n<p><a href=\"https://regex101.com/r/FFk4Ny/2\" rel=\"nofollow noreferrer\">RegEx Demo 2</a>\n<a href=\"https://regex101.com/r/FFk4Ny/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p>Here:</p>\n<ul>\n<li><code>\\P{Lu}*</code>: Match 0 or more non-uppercase unicode letters</li>\n<li><code>\\p{Lu}</code>: Match an uppercase unicode letter</li>\n</ul>\n"}],"owner":{"account_id":21213090,"reputation":43,"user_id":15601277,"display_name":"R3bck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73369854,"answer_count":1,"score":0,"last_activity_date":1660634634,"creation_date":1660632432,"question_id":73369810,"body_markdown":"What is the regex to make sure that a given string contains exactly one uppercase letter? if the string contains more than one i dont want it to be matched.\r\n\r\n - `just 1 Uppercase character`\r\n\r\nI know the patterns for individual sets namely `[a-z]`, `[A-Z]`, `\\d` and `_|[^\\w]` (I got them correct, didn&#39;t I?).\r\n\r\nBut how do I make them to match only with strings (in java) that only contains 1 uppercase?","title":"Regex to check if string contains only one uppercase","body":"<p>What is the regex to make sure that a given string contains exactly one uppercase letter? if the string contains more than one i dont want it to be matched.</p>\n<ul>\n<li><code>just 1 Uppercase character</code></li>\n</ul>\n<p>I know the patterns for individual sets namely <code>[a-z]</code>, <code>[A-Z]</code>, <code>\\d</code> and <code>_|[^\\w]</code> (I got them correct, didn't I?).</p>\n<p>But how do I make them to match only with strings (in java) that only contains 1 uppercase?</p>\n"},{"tags":["java","android-studio","libgdx","game-development"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1660637047,"post_id":73370185,"comment_id":129572556,"body_markdown":"`nextInt(bound)` ranges from [0 .. bound) so when invoked on the second 5x5 `int j = rand.nextInt(i+1)` will range from [0..10) (i=9 on first iteration).  Is that really what you want?  Seems like on the 2nd call to `Shuffle` you&#39;d want images randomly selected from [5..10).","body":"<code>nextInt(bound)</code> ranges from [0 .. bound) so when invoked on the second 5x5 <code>int j = rand.nextInt(i+1)</code> will range from [0..10) (i=9 on first iteration).  Is that really what you want?  Seems like on the 2nd call to <code>Shuffle</code> you&#39;d want images randomly selected from [5..10)."},{"owner":{"account_id":22705733,"reputation":1,"user_id":16872484,"display_name":"Md Humza"},"score":0,"creation_date":1660643373,"post_id":73370185,"comment_id":129574755,"body_markdown":"yes.... exactly","body":"yes.... exactly"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1660679845,"post_id":73370185,"comment_id":129588325,"body_markdown":"Something like int j = rand.nextInt(5) + previousIndex would yield ranges such as [0,5) on the first invocation of Shuffle and [5,10) on the next invocation, etc.","body":"Something like int j = rand.nextInt(5) + previousIndex would yield ranges such as [0,5) on the first invocation of Shuffle and [5,10) on the next invocation, etc."},{"owner":{"account_id":22705733,"reputation":1,"user_id":16872484,"display_name":"Md Humza"},"score":0,"creation_date":1660729169,"post_id":73370185,"comment_id":129599142,"body_markdown":"No.. its not working.........","body":"No.. its not working........."}],"owner":{"account_id":22705733,"reputation":1,"user_id":16872484,"display_name":"Md Humza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660634534,"creation_date":1660634534,"question_id":73370185,"body_markdown":"I&#39;m trying to make a matching game. I have taken 2 arrays (size 26 both) in 1st array i have stored Alphabets from A-Z and in \r\n2nd array i have stored images of things that start with A-Z alphabets respectively . I draw the 5-5 images of both array (not all of them at once) parallel to each other. but before that i shuffled the both arrays.[enter image description here][1] in the Fisrt shuffle it goes perfectly, but when i shuffle the both array on 2nd time for further 5-5 array, then it shows some previous images too.[enter image description here][2] can anyone help me find a bug? \r\n\r\n   \r\n\r\n    Shuffle(alphabets, previousIndex +5,pictures,previousIndex + 5);\r\n\r\npublic void  Shuffle(Image[] firstCol, int sizeFirst, Image[] secondCol, int sizeSecond){\r\n        \r\n            for (int i = sizeFirst-1 ; i &gt;previousIndex; i--) {\r\n\r\n                int j = rand.nextInt(i+1);\r\n                Image temp = firstCol[i];\r\n                firstCol[i] = firstCol[j];\r\n                firstCol[j] = temp;\r\n                System.out.println(&quot;i=&quot;+i+&quot; j=&quot;+j);\r\n            }\r\n\r\n            for (int i = sizeSecond -1; i &gt;previousIndex; i--) {\r\n                int j = rand.nextInt(i+1);\r\n                Image temp = secondCol[i];\r\n                secondCol[i] = secondCol[j];\r\n                secondCol[j] = temp;\r\n            }\r\n            previousIndex += 5;\r\n\r\n        ShowAlphabets(firstCol,secondCol);\r\n\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/CxDXT.png\r\n  [2]: https://i.stack.imgur.com/pfklV.png","title":"Libgdx : how to shuffle small part of a big array","body":"<p>I'm trying to make a matching game. I have taken 2 arrays (size 26 both) in 1st array i have stored Alphabets from A-Z and in\n2nd array i have stored images of things that start with A-Z alphabets respectively . I draw the 5-5 images of both array (not all of them at once) parallel to each other. but before that i shuffled the both arrays.<a href=\"https://i.stack.imgur.com/CxDXT.png\" rel=\"nofollow noreferrer\">enter image description here</a> in the Fisrt shuffle it goes perfectly, but when i shuffle the both array on 2nd time for further 5-5 array, then it shows some previous images too.<a href=\"https://i.stack.imgur.com/pfklV.png\" rel=\"nofollow noreferrer\">enter image description here</a> can anyone help me find a bug?</p>\n<pre><code>Shuffle(alphabets, previousIndex +5,pictures,previousIndex + 5);\n</code></pre>\n<p>public void  Shuffle(Image[] firstCol, int sizeFirst, Image[] secondCol, int sizeSecond){</p>\n<pre><code>        for (int i = sizeFirst-1 ; i &gt;previousIndex; i--) {\n\n            int j = rand.nextInt(i+1);\n            Image temp = firstCol[i];\n            firstCol[i] = firstCol[j];\n            firstCol[j] = temp;\n            System.out.println(&quot;i=&quot;+i+&quot; j=&quot;+j);\n        }\n\n        for (int i = sizeSecond -1; i &gt;previousIndex; i--) {\n            int j = rand.nextInt(i+1);\n            Image temp = secondCol[i];\n            secondCol[i] = secondCol[j];\n            secondCol[j] = temp;\n        }\n        previousIndex += 5;\n\n    ShowAlphabets(firstCol,secondCol);\n\n}\n</code></pre>\n"},{"tags":["java","selenium-chromedriver","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":7913523,"reputation":76,"user_id":5976771,"display_name":"AlanB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580826450,"creation_date":1580826450,"answer_id":60059504,"question_id":60043333,"body_markdown":"A friend pointed out i was missing part of the argument.\r\ncorrect usage:\r\n\r\n    AppiumDriverLocalService service = AppiumDriverLocalService.buildService(new AppiumServiceBuilder().usingAnyFreePort().withArgument(() -&gt; &quot;--allow-insecure&quot;,&quot;chromedriver_autodownload&quot;));","title":"AppiumDriverLocalService auto download chrome","body":"<p>A friend pointed out i was missing part of the argument.\ncorrect usage:</p>\n\n<pre><code>AppiumDriverLocalService service = AppiumDriverLocalService.buildService(new AppiumServiceBuilder().usingAnyFreePort().withArgument(() -&gt; \"--allow-insecure\",\"chromedriver_autodownload\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18445632,"reputation":1,"user_id":13437020,"display_name":"drg407"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643991676,"creation_date":1643991167,"answer_id":70989496,"question_id":60043333,"body_markdown":"I had to use the specified default port to get this to work.\r\n\r\n    AppiumDriverLocalService service = AppiumDriverLocalService.buildService(new AppiumServiceBuilder().usingPort(4723).withArgument(() -&gt; &quot;--allow-insecure&quot;, &quot;chromedriver_autodownload&quot;));","title":"AppiumDriverLocalService auto download chrome","body":"<p>I had to use the specified default port to get this to work.</p>\n<pre><code>AppiumDriverLocalService service = AppiumDriverLocalService.buildService(new AppiumServiceBuilder().usingPort(4723).withArgument(() -&gt; &quot;--allow-insecure&quot;, &quot;chromedriver_autodownload&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19937055,"reputation":71,"user_id":14609500,"display_name":"Bhoomiputra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660634242,"creation_date":1660634242,"answer_id":73370123,"question_id":60043333,"body_markdown":"For context switching in Selenium, I have to start as shown below. \r\n \r\n\r\n appium --chromedriver-executable /Users/$User/Documents/chromeDrivers/103/chromedriver\r\n\r\n\r\n  Is it possible to run the above command by using &#39;AppiumDriverLocalService&#39; class and &#39;AppiumServiceBuilder&#39; \r\n  ? Or Runtime class is the only option?","title":"AppiumDriverLocalService auto download chrome","body":"<p>For context switching in Selenium, I have to start as shown below.</p>\n<p>appium --chromedriver-executable /Users/$User/Documents/chromeDrivers/103/chromedriver</p>\n<p>Is it possible to run the above command by using 'AppiumDriverLocalService' class and 'AppiumServiceBuilder'\n? Or Runtime class is the only option?</p>\n"}],"owner":{"account_id":7913523,"reputation":76,"user_id":5976771,"display_name":"AlanB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1660634242,"creation_date":1580747274,"question_id":60043333,"body_markdown":"I have been trying to get started with appium by integrating it into a bdd framework so i can test a hybrid web app.\r\nHowever I run into problems when switching the context to &quot;WEBVIEW_chrome&quot; because the correct chromedriver is not installed. \r\n\r\nhttp://appium.io/docs/en/writing-running-appium/web/chromedriver/ states that i should run my local appium instance with the argument &quot;chromedriver_autodownload&quot; so it will always get the correct driver. However when i try to run the AppiumDriverLocalService as \r\n\r\n    AppiumDriverLocalService service = AppiumDriverLocalService.buildService(new AppiumServiceBuilder().usingAnyFreePort().withArgument(() -&gt; &quot;chromedriver_autodownload&quot;));\r\n    service.start\r\nthe argument is refused.\r\n\r\nAll help to get this working is very much appreciated,\r\nOther solutions or pointers to appium services that can help me download the correct chromedrivers automatically are also much appreciated.\r\n\r\nI&#39;m running appium 7.3.0 pulled from Maven Central","title":"AppiumDriverLocalService auto download chrome","body":"<p>I have been trying to get started with appium by integrating it into a bdd framework so i can test a hybrid web app.\nHowever I run into problems when switching the context to \"WEBVIEW_chrome\" because the correct chromedriver is not installed. </p>\n\n<p><a href=\"http://appium.io/docs/en/writing-running-appium/web/chromedriver/\" rel=\"nofollow noreferrer\">http://appium.io/docs/en/writing-running-appium/web/chromedriver/</a> states that i should run my local appium instance with the argument \"chromedriver_autodownload\" so it will always get the correct driver. However when i try to run the AppiumDriverLocalService as </p>\n\n<pre><code>AppiumDriverLocalService service = AppiumDriverLocalService.buildService(new AppiumServiceBuilder().usingAnyFreePort().withArgument(() -&gt; \"chromedriver_autodownload\"));\nservice.start\n</code></pre>\n\n<p>the argument is refused.</p>\n\n<p>All help to get this working is very much appreciated,\nOther solutions or pointers to appium services that can help me download the correct chromedrivers automatically are also much appreciated.</p>\n\n<p>I'm running appium 7.3.0 pulled from Maven Central</p>\n"},{"tags":["java","android","android-layout","android-framelayout"],"comments":[{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1559668701,"post_id":56442320,"comment_id":99490567,"body_markdown":"Can you share your image/drawable file of the label?","body":"Can you share your image/drawable file of the label?"},{"owner":{"account_id":13418551,"reputation":250,"user_id":9682170,"display_name":"Vengat"},"score":0,"creation_date":1559700808,"post_id":56442320,"comment_id":99499739,"body_markdown":"i am using textview with background for yellow labels","body":"i am using textview with background for yellow labels"}],"answers":[{"tags":[],"owner":{"account_id":7419981,"reputation":2073,"user_id":5644761,"display_name":"JakeB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559645482,"creation_date":1559645482,"answer_id":56442397,"question_id":56442320,"body_markdown":"Have you tried using the Editor with the ConstraintLayout?\r\n\r\nFailing that, using a FrameLayout the z-index of elements is assigned by the order in which they are presented.\r\n\r\nYou may need to assign a layout-gravity to some of your elements e.g:\r\n\r\n`&quot;android:layout_gravity=&quot;top|left&quot;`","title":"Image with two ribbons in the upper left","body":"<p>Have you tried using the Editor with the ConstraintLayout?</p>\n\n<p>Failing that, using a FrameLayout the z-index of elements is assigned by the order in which they are presented.</p>\n\n<p>You may need to assign a layout-gravity to some of your elements e.g:</p>\n\n<p><code>\"android:layout_gravity=\"top|left\"</code></p>\n"},{"tags":[],"owner":{"account_id":9964739,"reputation":4503,"user_id":7372771,"accept_rate":50,"display_name":"akshay_shahane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559901723,"creation_date":1559901013,"answer_id":56491991,"question_id":56442320,"body_markdown":" make changes in your code as follows\r\n\r\n\r\n\r\n   \r\n\r\n &lt;FrameLayout\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_width=&quot;80dp&quot;\r\n        android:layout_height=&quot;80dp&quot;\r\n        android:id=&quot;@+id/fl_bg&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/iv_avatar&quot;\r\n            android:layout_width=&quot;80dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:contentDescription=&quot;@string/app_name&quot;\r\n            android:src=&quot;@mipmap/ic_launcher&quot;\r\n            android:scaleType=&quot;fitCenter&quot;/&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/ll_winner_label&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_marginTop=&quot;-20dp&quot;\r\n                android:layout_marginStart=&quot;-20dp&quot;\r\n                android:id=&quot;@+id/tv_rank&quot;\r\n                android:text=&quot;1&quot;\r\n               android:layout_alignParentTop=&quot;true&quot;\r\n                android:rotation=&quot;120&quot;\r\n                android:background=&quot;#000&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n\r\n            &lt;TextView\r\n                android:layout_below=&quot;@id/tv_rank&quot;\r\n                android:layout_marginTop=&quot;40dp&quot;\r\n             android:layout_marginStart=&quot;-30dp&quot;\r\n                android:layout_marginEnd=&quot;0dp&quot;\r\n                android:id=&quot;@+id/tv_earned_amount&quot;\r\n                android:text=&quot;5$&quot;\r\n                android:rotation=&quot;120&quot;\r\n                android:background=&quot;#000&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\nresult\r\n[![result of above layout][2]][2]\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/skydoves/AndroidRibbon\r\n  [2]: https://i.stack.imgur.com/HuSZl.png","title":"Image with two ribbons in the upper left","body":"<p>make changes in your code as follows</p>\n\n<p></p>\n\n<pre><code>    &lt;ImageView\n        android:layout_gravity=\"center\"\n        android:id=\"@+id/iv_avatar\"\n        android:layout_width=\"80dp\"\n        android:layout_height=\"80dp\"\n        android:contentDescription=\"@string/app_name\"\n        android:src=\"@mipmap/ic_launcher\"\n        android:scaleType=\"fitCenter\"/&gt;\n\n    &lt;LinearLayout\n        android:gravity=\"center\"\n        android:id=\"@+id/ll_winner_label\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:layout_marginTop=\"-20dp\"\n            android:layout_marginStart=\"-20dp\"\n            android:id=\"@+id/tv_rank\"\n            android:text=\"1\"\n           android:layout_alignParentTop=\"true\"\n            android:rotation=\"120\"\n            android:background=\"#000\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"/&gt;\n\n\n        &lt;TextView\n            android:layout_below=\"@id/tv_rank\"\n            android:layout_marginTop=\"40dp\"\n         android:layout_marginStart=\"-30dp\"\n            android:layout_marginEnd=\"0dp\"\n            android:id=\"@+id/tv_earned_amount\"\n            android:text=\"5$\"\n            android:rotation=\"120\"\n            android:background=\"#000\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\" /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>result\n<a href=\"https://i.stack.imgur.com/HuSZl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HuSZl.png\" alt=\"result of above layout\"></a></p>\n"}],"owner":{"account_id":13418551,"reputation":250,"user_id":9682170,"display_name":"Vengat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1660634213,"creation_date":1559645127,"question_id":56442320,"body_markdown":"[![r][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SjY6G.png\r\nI am creating an Android application. I am new to android. I want to create a label like in the image below. \r\nHere is the below code that I have tried.\r\nI have labels over the images.  Any help will be appreciated. Thanks\r\n\r\n\r\n\r\n\r\n       &lt;FrameLayout\r\n            android:layout_weight=&quot;1&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_width=&quot;80dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:id=&quot;@+id/fl_bg&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:id=&quot;@+id/iv_avatar&quot;\r\n                android:layout_width=&quot;80dp&quot;\r\n                android:layout_height=&quot;80dp&quot;\r\n                android:contentDescription=&quot;@string/app_name&quot;\r\n                android:src=&quot;@drawable/jouer&quot;\r\n                android:scaleType=&quot;fitCenter&quot;/&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:gravity=&quot;center&quot;\r\n                android:id=&quot;@+id/ll_winner_label&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:id=&quot;@+id/tv_rank&quot;\r\n                    android:text=&quot;1&quot;\r\n                    android:layout_gravity=&quot;top&quot;\r\n                    android:rotation=&quot;120&quot;\r\n                    android:background=&quot;@color/label_center&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n\r\n                &lt;TextView\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:id=&quot;@+id/tv_earned_amount&quot;\r\n                    android:text=&quot;5$&quot;\r\n                    android:rotation=&quot;120&quot;\r\n                    android:background=&quot;@color/label_center&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;/FrameLayout&gt;","title":"Image with two ribbons in the upper left","body":"<p><a href=\"https://i.stack.imgur.com/SjY6G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SjY6G.png\" alt=\"r\"></a></p>\n\n<p>I am creating an Android application. I am new to android. I want to create a label like in the image below. \nHere is the below code that I have tried.\nI have labels over the images.  Any help will be appreciated. Thanks</p>\n\n<pre><code>   &lt;FrameLayout\n        android:layout_weight=\"1\"\n        android:layout_gravity=\"center\"\n        android:layout_width=\"80dp\"\n        android:layout_height=\"80dp\"\n        android:id=\"@+id/fl_bg\"&gt;\n\n        &lt;ImageView\n            android:layout_gravity=\"center\"\n            android:id=\"@+id/iv_avatar\"\n            android:layout_width=\"80dp\"\n            android:layout_height=\"80dp\"\n            android:contentDescription=\"@string/app_name\"\n            android:src=\"@drawable/jouer\"\n            android:scaleType=\"fitCenter\"/&gt;\n\n        &lt;LinearLayout\n            android:gravity=\"center\"\n            android:id=\"@+id/ll_winner_label\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;TextView\n                android:layout_marginTop=\"20dp\"\n                android:id=\"@+id/tv_rank\"\n                android:text=\"1\"\n                android:layout_gravity=\"top\"\n                android:rotation=\"120\"\n                android:background=\"@color/label_center\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"/&gt;\n\n\n            &lt;TextView\n                android:layout_marginTop=\"20dp\"\n                android:id=\"@+id/tv_earned_amount\"\n                android:text=\"5$\"\n                android:rotation=\"120\"\n                android:background=\"@color/label_center\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\" /&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n\n    &lt;/FrameLayout&gt;\n</code></pre>\n"},{"tags":["java","ios","appium","automation-testing"],"answers":[{"tags":[],"owner":{"account_id":26059407,"reputation":76,"user_id":19761010,"display_name":"Javageddon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660634039,"creation_date":1660598539,"answer_id":73366555,"question_id":72824177,"body_markdown":"The scroll that you are using I think just does a swipe so isn&#39;t really controlled. Plus when you do a FindElementByXYZ I think there is a limit of 50 elements when searching for something off screen, so if you are looking for a country beginning with Z after the scroll it still might not find it.\r\n\r\nAs you have a search box could you just type in the country name you want or even just the first few characters and then select from the resulting shortened list?\r\n\r\nI do something similar in an app I test and this strategy works well.","title":"List of elements is shaking while scrolling in iOS","body":"<p>The scroll that you are using I think just does a swipe so isn't really controlled. Plus when you do a FindElementByXYZ I think there is a limit of 50 elements when searching for something off screen, so if you are looking for a country beginning with Z after the scroll it still might not find it.</p>\n<p>As you have a search box could you just type in the country name you want or even just the first few characters and then select from the resulting shortened list?</p>\n<p>I do something similar in an app I test and this strategy works well.</p>\n"}],"owner":{"account_id":14915043,"reputation":93,"user_id":10769117,"display_name":"J.Klimov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660634039,"creation_date":1656647163,"question_id":72824177,"body_markdown":"I‚Äôm trying to scroll my country list to find specific country and after first attempt list is shaking which provides error.\r\n\r\nVideo with app behaviour:\r\n\r\nhttps://youtube.com/shorts/6SOI4YQbJlk?feature=share 1\r\n\r\nCode:\r\n\r\n    public void tapOnElementByText(String element) {\r\n        HashMap&lt;String, Object&gt; scrollObject = new HashMap&lt;&gt;();\r\n        JavascriptExecutor js = driver;\r\n    \r\n        scrollObject.put(&quot;direction&quot;, &quot;down&quot;);\r\n        js.executeScript(&quot;mobile: scroll&quot;, scrollObject);\r\n        try {\r\n            driver.findElementByIosNsPredicate(&quot;label == \\&quot;&quot; + element + &quot;\\&quot;&quot;).click();\r\n        } catch (NoSuchElementException exception) {\r\n            System.out.println(&quot;Element not found&quot;);\r\n        }\r\n    }\r\n\r\nI tried all kind of stuff from stackoverflow and appium tutorial(http://appium.io/docs/en/writing-running-appium/tutorial/swipe-tutorial/), but it didn‚Äôt helped me","title":"List of elements is shaking while scrolling in iOS","body":"<p>I‚Äôm trying to scroll my country list to find specific country and after first attempt list is shaking which provides error.</p>\n<p>Video with app behaviour:</p>\n<p><a href=\"https://youtube.com/shorts/6SOI4YQbJlk?feature=share\" rel=\"nofollow noreferrer\">https://youtube.com/shorts/6SOI4YQbJlk?feature=share</a> 1</p>\n<p>Code:</p>\n<pre><code>public void tapOnElementByText(String element) {\n    HashMap&lt;String, Object&gt; scrollObject = new HashMap&lt;&gt;();\n    JavascriptExecutor js = driver;\n\n    scrollObject.put(&quot;direction&quot;, &quot;down&quot;);\n    js.executeScript(&quot;mobile: scroll&quot;, scrollObject);\n    try {\n        driver.findElementByIosNsPredicate(&quot;label == \\&quot;&quot; + element + &quot;\\&quot;&quot;).click();\n    } catch (NoSuchElementException exception) {\n        System.out.println(&quot;Element not found&quot;);\n    }\n}\n</code></pre>\n<p>I tried all kind of stuff from stackoverflow and appium tutorial(<a href=\"http://appium.io/docs/en/writing-running-appium/tutorial/swipe-tutorial/\" rel=\"nofollow noreferrer\">http://appium.io/docs/en/writing-running-appium/tutorial/swipe-tutorial/</a>), but it didn‚Äôt helped me</p>\n"},{"tags":["java","linux","multithreading","startup","weblogic12c"],"comments":[{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":0,"creation_date":1643016781,"post_id":70823331,"comment_id":125218901,"body_markdown":"Take several thread dumps during start up to detect long running thread(s)","body":"Take several thread dumps during start up to detect long running thread(s)"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1660276826,"post_id":70823331,"comment_id":129499366,"body_markdown":"what applications are deployed there? It seems it is trying to discover CDI beans, which probably could be disabled for particular application.","body":"what applications are deployed there? It seems it is trying to discover CDI beans, which probably could be disabled for particular application."}],"answers":[{"tags":[],"owner":{"account_id":24028805,"reputation":1,"user_id":18010076,"display_name":"SSD eQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660633815,"creation_date":1660633815,"answer_id":73370038,"question_id":70823331,"body_markdown":"After adding the JAVA OPTS parameter ‚Äú-Ddisable-implicit-bean-discovery=true‚Äù start-up came down to around 5mins ","title":"Weblogic 12.2.1.3 hangs for some time while starting on linux","body":"<p>After adding the JAVA OPTS parameter ‚Äú-Ddisable-implicit-bean-discovery=true‚Äù start-up came down to around 5mins</p>\n"}],"owner":{"account_id":24028805,"reputation":1,"user_id":18010076,"display_name":"SSD eQ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660633815,"creation_date":1642949852,"question_id":70823331,"body_markdown":"Attaching thread dump when it is stuck. Below is thread dump. I think there is some issue with muxer threads of weblogic as I can only see those thread which are waiting/locked on some glassfish methods.\r\n\r\nI have also tried below JAVA_OPTIONS suggested for random number generator .\r\n```\r\n-Djava.security.egd=file:/dev/./urandom\r\n```\r\nAlso check available entropy which did not go below 3000. Total is 4096\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &quot;weblogic.time.TimeEventGenerator&quot; #28 daemon prio=9 os_prio=0 tid=0x00007fb1d05db000 nid=0x59a8 in Object.wait() [0x00007fb22d87c000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \tat weblogic.time.common.internal.TimeTable.snooze(TimeTable.java:286)\r\n    \t- locked &lt;0x00000005c001ef40&gt; (a weblogic.time.common.internal.TimeTable)\r\n    \tat weblogic.time.common.internal.TimeEventGenerator.run(TimeEventGenerator.java:121)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n    &quot;[STANDBY] ExecuteThread: &#39;1&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&quot; #27 daemon prio=5 os_prio=0 tid=0x00007fb1d05c0000 nid=0x59a7 in Object.wait() [0x00007fb22d97c000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000005c0007a28&gt; (a org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext)\r\n    \tat java.lang.Object.wait(Object.java:502)\r\n    \tat org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:240)\r\n    \t- locked &lt;0x00000005c0007a28&gt; (a org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext)\r\n    \tat org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:85)\r\n    \tat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\r\n    \tat org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\r\n    \t- locked &lt;0x00000005c1e1deb8&gt; (a java.lang.Object)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:698)\r\n    \tat org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:78)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:212)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:235)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:358)\r\n    \tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\r\n    \tat org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:305)\r\n    \tat org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:85)\r\n    \tat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\r\n    \tat org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\r\n    \t- locked &lt;0x00000005da205758&gt; (a java.lang.Object)\r\n    \tat org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:90)\r\n    \tat org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1237)\r\n    \tat org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1168)\r\n    \tat org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$UpOneLevel.run(CurrentTaskFuture.java:786)\r\n    \tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:670)\r\n    \tat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\n    \tat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\n    \tat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\n    \tat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n    \tat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\r\n\r\n    &quot;[ACTIVE] ExecuteThread: &#39;0&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&quot; #26 daemon prio=5 os_prio=0 tid=0x00007fb1d05b9000 nid=0x59a6 runnable [0x00007fb22da7b000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.util.concurrent.ConcurrentSkipListMap.findPredecessor(ConcurrentSkipListMap.java:691)\r\n    \tat java.util.concurrent.ConcurrentSkipListMap.doGet(ConcurrentSkipListMap.java:781)\r\n    \tat java.util.concurrent.ConcurrentSkipListMap.get(ConcurrentSkipListMap.java:1546)\r\n    \tat weblogic.application.utils.annotation.ClassfinderClassInfos$Cache.getAnnotationsOfInterest(ClassfinderClassInfos.java:872)\r\n    \t- locked &lt;0x00000005dd08a630&gt; (a weblogic.application.utils.annotation.ClassfinderClassInfos$Cache)\r\n    \tat weblogic.application.utils.annotation.ClassfinderClassInfos$Cache.access$700(ClassfinderClassInfos.java:840)\r\n    \tat weblogic.application.utils.annotation.ClassfinderClassInfos.getAnnotatedClassesByTargetsAndSources(ClassfinderClassInfos.java:656)\r\n    \tat weblogic.application.utils.annotation.ClassfinderClassInfos.hasAnnotatedClasses(ClassfinderClassInfos.java:705)\r\n    \tat com.oracle.injection.integration.CDIUtils.hasCDIEnablingAnnotations(CDIUtils.java:782)\r\n    \tat com.oracle.injection.integration.CDIUtils.isVirtualJarCdiEnabled(CDIUtils.java:590)\r\n    \tat com.oracle.injection.integration.CDIUtils.areAnyEmbeddedJarsCdiEnabled(CDIUtils.java:463)\r\n    \tat com.oracle.injection.integration.CDIUtils.isWebModuleCDIEnabled(CDIUtils.java:409)\r\n    \tat com.oracle.injection.integration.CDIUtils.isModuleCdiEnabled(CDIUtils.java:651)\r\n    \tat com.oracle.injection.integration.CDIModuleExtensionFactory.create(CDIModuleExtensionFactory.java:39)\r\n    \tat weblogic.application.internal.ExtensibleModuleWrapper.createModuleExtensions(ExtensibleModuleWrapper.java:264)\r\n    \tat weblogic.application.internal.ExtensibleModuleWrapper.initDrivenObjectArray(ExtensibleModuleWrapper.java:232)\r\n    \tat weblogic.application.internal.ExtensibleModuleWrapper.prepare(ExtensibleModuleWrapper.java:107)\r\n    \tat weblogic.application.internal.flow.ModuleListenerInvoker.prepare(ModuleListenerInvoker.java:100)\r\n    \tat weblogic.application.internal.flow.ModuleStateDriver$1.next(ModuleStateDriver.java:192)\r\n    \tat weblogic.application.internal.flow.ModuleStateDriver$1.next(ModuleStateDriver.java:187)\r\n    \tat weblogic.application.utils.StateMachineDriver$ParallelChange.run(StateMachineDriver.java:83)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextStateInParallel(StateMachineDriver.java:144)\r\n    \tat weblogic.application.internal.flow.ModuleStateDriver.parallelPrepare(ModuleStateDriver.java:46)\r\n    \tat weblogic.application.internal.flow.DeploymentCallbackFlow.prepare(DeploymentCallbackFlow.java:75)\r\n    \tat weblogic.application.internal.flow.DeploymentCallbackFlow.prepare(DeploymentCallbackFlow.java:55)\r\n    \tat weblogic.application.internal.BaseDeployment$1.next(BaseDeployment.java:729)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n    \tat weblogic.application.internal.BaseDeployment.prepare(BaseDeployment.java:241)\r\n    \tat weblogic.application.internal.SingleModuleDeployment.prepare(SingleModuleDeployment.java:52)\r\n    \tat weblogic.application.internal.DeploymentStateChecker.prepare(DeploymentStateChecker.java:158)\r\n    \tat weblogic.deploy.internal.targetserver.AppContainerInvoker.prepare(AppContainerInvoker.java:65)\r\n    \tat weblogic.deploy.internal.targetserver.AppDeployment.prepare(AppDeployment.java:166)\r\n    \tat weblogic.management.deploy.internal.DeploymentAdapter$1.doPrepare(DeploymentAdapter.java:41)\r\n    \tat weblogic.management.deploy.internal.DeploymentAdapter.prepare(DeploymentAdapter.java:193)\r\n    \tat weblogic.management.deploy.internal.AppTransition$1.transitionApp(AppTransition.java:31)\r\n    \tat weblogic.management.deploy.internal.ConfiguredDeployments$2.doItem(ConfiguredDeployments.java:741)\r\n    \tat weblogic.management.deploy.internal.parallel.BucketInvoker.invoke(BucketInvoker.java:138)\r\n    \tat weblogic.management.deploy.internal.ConfiguredDeployments.transitionAppsParallel(ConfiguredDeployments.java:749)\r\n    \tat weblogic.management.deploy.internal.ConfiguredDeployments.prepare(ConfiguredDeployments.java:363)\r\n    \tat weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:232)\r\n    \tat weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:219)\r\n    \tat weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:133)\r\n    \tat weblogic.server.AbstractServerService.postConstruct(AbstractServerService.java:76)\r\n    \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.glassfish.hk2.utilities.reflection.ReflectionHelper.invoke(ReflectionHelper.java:1287)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:333)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:375)\r\n    \tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\r\n    \tat org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:305)\r\n    \tat org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:85)\r\n    \tat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\r\n    \tat org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\r\n    \t- locked &lt;0x00000005c1e1e9c8&gt; (a java.lang.Object)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:698)\r\n    \tat org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:78)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:212)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:235)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:358)\r\n    \tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\r\n    \tat org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:305)\r\n    \tat org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:85)\r\n    \tat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\r\n    \tat org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\r\n    \t- locked &lt;0x00000005da22d8d0&gt; (a java.lang.Object)\r\n    \tat org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:90)\r\n    \tat org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1237)\r\n    \tat org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1168)\r\n    \tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:670)\r\n    \tat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\n    \tat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\n    \tat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\n    \tat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n    \tat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\r\n\r\n    &quot;Timer-1&quot; #25 daemon prio=5 os_prio=0 tid=0x00007fb1d05b6800 nid=0x59a5 in Object.wait() [0x00007fb22db7f000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \tat java.util.TimerThread.mainLoop(Timer.java:552)\r\n    \t- locked &lt;0x00000005c000fe90&gt; (a java.util.TaskQueue)\r\n    \tat java.util.TimerThread.run(Timer.java:505)\r\n\r\n    &quot;Timer-0&quot; #14 daemon prio=5 os_prio=0 tid=0x00007fb25e2fc000 nid=0x598c in Object.wait() [0x00007fb22f9f5000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000005c00173c8&gt; (a java.util.TaskQueue)\r\n    \tat java.lang.Object.wait(Object.java:502)\r\n    \tat java.util.TimerThread.mainLoop(Timer.java:526)\r\n    \t- locked &lt;0x00000005c00173c8&gt; (a java.util.TaskQueue)\r\n    \tat java.util.TimerThread.run(Timer.java:505)\r\n\r\n    &quot;Service Thread&quot; #11 daemon prio=9 os_prio=0 tid=0x00007fb25df34000 nid=0x5983 runnable [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n\r\n    &quot;C1 CompilerThread3&quot; #10 daemon prio=9 os_prio=0 tid=0x00007fb25df28800 nid=0x5982 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n\r\n    &quot;C2 CompilerThread2&quot; #9 daemon prio=9 os_prio=0 tid=0x00007fb25df26000 nid=0x5981 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n\r\n    &quot;C2 CompilerThread1&quot; #8 daemon prio=9 os_prio=0 tid=0x00007fb25df24000 nid=0x5980 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n\r\n    &quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 tid=0x00007fb25df22800 nid=0x597f waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n\r\n    &quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 tid=0x00007fb25deea800 nid=0x597d runnable [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n\r\n    &quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 tid=0x00007fb25c1d6800 nid=0x596d in Object.wait() [0x00007fb23dde4000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\r\n    \t- locked &lt;0x00000005c0017e30&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)\r\n    \tat java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:216)\r\n\r\n    &quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 tid=0x00007fb25c1d3800 nid=0x596c in Object.wait() [0x00007fb23dee5000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \tat java.lang.Object.wait(Object.java:502)\r\n    \tat java.lang.ref.Reference.tryHandlePending(Reference.java:191)\r\n    \t- locked &lt;0x00000005c0017fe8&gt; (a java.lang.ref.Reference$Lock)\r\n    \tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    &quot;main&quot; #1 prio=5 os_prio=0 tid=0x00007fb25c00c000 nid=0x5956 in Object.wait() [0x00007fb26586f000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000005c0017ff8&gt; (a java.lang.Object)\r\n    \tat org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$UpAllTheWay.waitForResult(CurrentTaskFuture.java:518)\r\n    \t- locked &lt;0x00000005c0017ff8&gt; (a java.lang.Object)\r\n    \tat org.glassfish.hk2.runlevel.internal.CurrentTaskFuture.get(CurrentTaskFuture.java:338)\r\n    \tat org.glassfish.hk2.runlevel.internal.CurrentTaskFuture.get(CurrentTaskFuture.java:310)\r\n    \tat org.glassfish.hk2.runlevel.internal.CurrentTaskFutureWrapper.get(CurrentTaskFutureWrapper.java:76)\r\n    \tat weblogic.t3.srvr.T3Srvr.startup(T3Srvr.java:636)\r\n    \tat weblogic.t3.srvr.T3Srvr.run(T3Srvr.java:582)\r\n    \tat weblogic.Server.embeddedMain(Server.java:95)\r\n    \tat weblogic.Server.main(Server.java:138)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPlease let me know if I need to add more details.","title":"Weblogic 12.2.1.3 hangs for some time while starting on linux","body":"<p>Attaching thread dump when it is stuck. Below is thread dump. I think there is some issue with muxer threads of weblogic as I can only see those thread which are waiting/locked on some glassfish methods.</p>\n<p>I have also tried below JAVA_OPTIONS suggested for random number generator .</p>\n<pre><code>-Djava.security.egd=file:/dev/./urandom\n</code></pre>\n<p>Also check available entropy which did not go below 3000. Total is 4096</p>\n<pre class=\"lang-html prettyprint-override\"><code>&quot;weblogic.time.TimeEventGenerator&quot; #28 daemon prio=9 os_prio=0 tid=0x00007fb1d05db000 nid=0x59a8 in Object.wait() [0x00007fb22d87c000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at weblogic.time.common.internal.TimeTable.snooze(TimeTable.java:286)\n    - locked &lt;0x00000005c001ef40&gt; (a weblogic.time.common.internal.TimeTable)\n    at weblogic.time.common.internal.TimeEventGenerator.run(TimeEventGenerator.java:121)\n    at java.lang.Thread.run(Thread.java:748)\n\n&quot;[STANDBY] ExecuteThread: '1' for queue: 'weblogic.kernel.Default (self-tuning)'&quot; #27 daemon prio=5 os_prio=0 tid=0x00007fb1d05c0000 nid=0x59a7 in Object.wait() [0x00007fb22d97c000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000005c0007a28&gt; (a org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext)\n    at java.lang.Object.wait(Object.java:502)\n    at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:240)\n    - locked &lt;0x00000005c0007a28&gt; (a org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext)\n    at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:85)\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\n    at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\n    - locked &lt;0x00000005c1e1deb8&gt; (a java.lang.Object)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:698)\n    at org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:78)\n    at org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:212)\n    at org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:235)\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:358)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\n    at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:305)\n    at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:85)\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\n    at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\n    - locked &lt;0x00000005da205758&gt; (a java.lang.Object)\n    at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:90)\n    at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1237)\n    at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1168)\n    at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$UpOneLevel.run(CurrentTaskFuture.java:786)\n    at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:670)\n    at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n    at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n    at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n    at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n    at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\n\n&quot;[ACTIVE] ExecuteThread: '0' for queue: 'weblogic.kernel.Default (self-tuning)'&quot; #26 daemon prio=5 os_prio=0 tid=0x00007fb1d05b9000 nid=0x59a6 runnable [0x00007fb22da7b000]\n   java.lang.Thread.State: RUNNABLE\n    at java.util.concurrent.ConcurrentSkipListMap.findPredecessor(ConcurrentSkipListMap.java:691)\n    at java.util.concurrent.ConcurrentSkipListMap.doGet(ConcurrentSkipListMap.java:781)\n    at java.util.concurrent.ConcurrentSkipListMap.get(ConcurrentSkipListMap.java:1546)\n    at weblogic.application.utils.annotation.ClassfinderClassInfos$Cache.getAnnotationsOfInterest(ClassfinderClassInfos.java:872)\n    - locked &lt;0x00000005dd08a630&gt; (a weblogic.application.utils.annotation.ClassfinderClassInfos$Cache)\n    at weblogic.application.utils.annotation.ClassfinderClassInfos$Cache.access$700(ClassfinderClassInfos.java:840)\n    at weblogic.application.utils.annotation.ClassfinderClassInfos.getAnnotatedClassesByTargetsAndSources(ClassfinderClassInfos.java:656)\n    at weblogic.application.utils.annotation.ClassfinderClassInfos.hasAnnotatedClasses(ClassfinderClassInfos.java:705)\n    at com.oracle.injection.integration.CDIUtils.hasCDIEnablingAnnotations(CDIUtils.java:782)\n    at com.oracle.injection.integration.CDIUtils.isVirtualJarCdiEnabled(CDIUtils.java:590)\n    at com.oracle.injection.integration.CDIUtils.areAnyEmbeddedJarsCdiEnabled(CDIUtils.java:463)\n    at com.oracle.injection.integration.CDIUtils.isWebModuleCDIEnabled(CDIUtils.java:409)\n    at com.oracle.injection.integration.CDIUtils.isModuleCdiEnabled(CDIUtils.java:651)\n    at com.oracle.injection.integration.CDIModuleExtensionFactory.create(CDIModuleExtensionFactory.java:39)\n    at weblogic.application.internal.ExtensibleModuleWrapper.createModuleExtensions(ExtensibleModuleWrapper.java:264)\n    at weblogic.application.internal.ExtensibleModuleWrapper.initDrivenObjectArray(ExtensibleModuleWrapper.java:232)\n    at weblogic.application.internal.ExtensibleModuleWrapper.prepare(ExtensibleModuleWrapper.java:107)\n    at weblogic.application.internal.flow.ModuleListenerInvoker.prepare(ModuleListenerInvoker.java:100)\n    at weblogic.application.internal.flow.ModuleStateDriver$1.next(ModuleStateDriver.java:192)\n    at weblogic.application.internal.flow.ModuleStateDriver$1.next(ModuleStateDriver.java:187)\n    at weblogic.application.utils.StateMachineDriver$ParallelChange.run(StateMachineDriver.java:83)\n    at weblogic.application.utils.StateMachineDriver.nextStateInParallel(StateMachineDriver.java:144)\n    at weblogic.application.internal.flow.ModuleStateDriver.parallelPrepare(ModuleStateDriver.java:46)\n    at weblogic.application.internal.flow.DeploymentCallbackFlow.prepare(DeploymentCallbackFlow.java:75)\n    at weblogic.application.internal.flow.DeploymentCallbackFlow.prepare(DeploymentCallbackFlow.java:55)\n    at weblogic.application.internal.BaseDeployment$1.next(BaseDeployment.java:729)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n    at weblogic.application.internal.BaseDeployment.prepare(BaseDeployment.java:241)\n    at weblogic.application.internal.SingleModuleDeployment.prepare(SingleModuleDeployment.java:52)\n    at weblogic.application.internal.DeploymentStateChecker.prepare(DeploymentStateChecker.java:158)\n    at weblogic.deploy.internal.targetserver.AppContainerInvoker.prepare(AppContainerInvoker.java:65)\n    at weblogic.deploy.internal.targetserver.AppDeployment.prepare(AppDeployment.java:166)\n    at weblogic.management.deploy.internal.DeploymentAdapter$1.doPrepare(DeploymentAdapter.java:41)\n    at weblogic.management.deploy.internal.DeploymentAdapter.prepare(DeploymentAdapter.java:193)\n    at weblogic.management.deploy.internal.AppTransition$1.transitionApp(AppTransition.java:31)\n    at weblogic.management.deploy.internal.ConfiguredDeployments$2.doItem(ConfiguredDeployments.java:741)\n    at weblogic.management.deploy.internal.parallel.BucketInvoker.invoke(BucketInvoker.java:138)\n    at weblogic.management.deploy.internal.ConfiguredDeployments.transitionAppsParallel(ConfiguredDeployments.java:749)\n    at weblogic.management.deploy.internal.ConfiguredDeployments.prepare(ConfiguredDeployments.java:363)\n    at weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:232)\n    at weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:219)\n    at weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:133)\n    at weblogic.server.AbstractServerService.postConstruct(AbstractServerService.java:76)\n    at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.glassfish.hk2.utilities.reflection.ReflectionHelper.invoke(ReflectionHelper.java:1287)\n    at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:333)\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:375)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\n    at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:305)\n    at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:85)\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\n    at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\n    - locked &lt;0x00000005c1e1e9c8&gt; (a java.lang.Object)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:698)\n    at org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:78)\n    at org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:212)\n    at org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:235)\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:358)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\n    at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:305)\n    at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:85)\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\n    at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\n    - locked &lt;0x00000005da22d8d0&gt; (a java.lang.Object)\n    at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:90)\n    at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1237)\n    at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1168)\n    at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:670)\n    at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n    at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n    at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n    at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n    at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\n\n&quot;Timer-1&quot; #25 daemon prio=5 os_prio=0 tid=0x00007fb1d05b6800 nid=0x59a5 in Object.wait() [0x00007fb22db7f000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.util.TimerThread.mainLoop(Timer.java:552)\n    - locked &lt;0x00000005c000fe90&gt; (a java.util.TaskQueue)\n    at java.util.TimerThread.run(Timer.java:505)\n\n&quot;Timer-0&quot; #14 daemon prio=5 os_prio=0 tid=0x00007fb25e2fc000 nid=0x598c in Object.wait() [0x00007fb22f9f5000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000005c00173c8&gt; (a java.util.TaskQueue)\n    at java.lang.Object.wait(Object.java:502)\n    at java.util.TimerThread.mainLoop(Timer.java:526)\n    - locked &lt;0x00000005c00173c8&gt; (a java.util.TaskQueue)\n    at java.util.TimerThread.run(Timer.java:505)\n\n&quot;Service Thread&quot; #11 daemon prio=9 os_prio=0 tid=0x00007fb25df34000 nid=0x5983 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C1 CompilerThread3&quot; #10 daemon prio=9 os_prio=0 tid=0x00007fb25df28800 nid=0x5982 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread2&quot; #9 daemon prio=9 os_prio=0 tid=0x00007fb25df26000 nid=0x5981 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread1&quot; #8 daemon prio=9 os_prio=0 tid=0x00007fb25df24000 nid=0x5980 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 tid=0x00007fb25df22800 nid=0x597f waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 tid=0x00007fb25deea800 nid=0x597d runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 tid=0x00007fb25c1d6800 nid=0x596d in Object.wait() [0x00007fb23dde4000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\n    - locked &lt;0x00000005c0017e30&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)\n    at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:216)\n\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 tid=0x00007fb25c1d3800 nid=0x596c in Object.wait() [0x00007fb23dee5000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.lang.Object.wait(Object.java:502)\n    at java.lang.ref.Reference.tryHandlePending(Reference.java:191)\n    - locked &lt;0x00000005c0017fe8&gt; (a java.lang.ref.Reference$Lock)\n    at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\n</code></pre>\n\n<pre><code>&quot;main&quot; #1 prio=5 os_prio=0 tid=0x00007fb25c00c000 nid=0x5956 in Object.wait() [0x00007fb26586f000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000005c0017ff8&gt; (a java.lang.Object)\n    at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$UpAllTheWay.waitForResult(CurrentTaskFuture.java:518)\n    - locked &lt;0x00000005c0017ff8&gt; (a java.lang.Object)\n    at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture.get(CurrentTaskFuture.java:338)\n    at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture.get(CurrentTaskFuture.java:310)\n    at org.glassfish.hk2.runlevel.internal.CurrentTaskFutureWrapper.get(CurrentTaskFutureWrapper.java:76)\n    at weblogic.t3.srvr.T3Srvr.startup(T3Srvr.java:636)\n    at weblogic.t3.srvr.T3Srvr.run(T3Srvr.java:582)\n    at weblogic.Server.embeddedMain(Server.java:95)\n    at weblogic.Server.main(Server.java:138)\n</code></pre>\n\n<p>Please let me know if I need to add more details.</p>\n"},{"tags":["java","arrays","for-loop","console","println"],"answers":[{"tags":[],"owner":{"account_id":13570906,"reputation":432,"user_id":9789673,"display_name":"randypaq13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660628566,"creation_date":1660628566,"answer_id":73369238,"question_id":73368923,"body_markdown":"This looks like homework so I&#39;ll go at a high level. In general, you want to handle each of the 4 cases you have. Those cases are (+-*/) and maybe teh default case where you have invalid input. Then, based on what the value of `op[i]` you will perform the corresponding item instead of unconditionally adding like this: `ans[i] = numbers[i] + numbers[i+1];`","title":"Making a calculator that does operation of x number of numbers","body":"<p>This looks like homework so I'll go at a high level. In general, you want to handle each of the 4 cases you have. Those cases are (+-*/) and maybe teh default case where you have invalid input. Then, based on what the value of <code>op[i]</code> you will perform the corresponding item instead of unconditionally adding like this: <code>ans[i] = numbers[i] + numbers[i+1];</code></p>\n"}],"owner":{"account_id":26073430,"reputation":31,"user_id":19772690,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660632296,"creation_date":1660625626,"question_id":73368923,"body_markdown":"```\r\npackage com.company;\r\nimport java.util.*;\r\nimport java.lang.*;\r\n\r\npublic class ENCRYPTED {\r\n    public static void main (String args[]) {\r\n        //Declaring scanner\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        //Declaring Arrays\r\n        double[] numbers = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,};\r\n        String[] op = {&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,};\r\n        double[] ans = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,};\r\n\r\n        //Getting Number of Numbers\r\n        System.out.println(&quot; How many numbers to add/subtract ? : &quot;);\r\n        int nofns = sc.nextInt();\r\n\r\n        // for loop that executes to get the numbers\r\n        for (int i = 0; i &lt; nofns; i++) {\r\n            System.out.println(&quot;Enter Number &quot; + i + &quot; : &quot;);\r\n            numbers[i] = sc.nextDouble();\r\n            System.out.println(&quot;Enter Operator for number &quot; + i + &quot; : &quot;);\r\n            op[i] = sc.next();\r\n            ans[i] = numbers[i] + numbers[i+1];\r\n            System.out.println(ans[i]);\r\n            System.out.println(numbers[i]);\r\n            System.out.println(op[i]);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nthis is a program I made that takes in x numbers of numbers and stores them in the array (numbers) and operators (op). I want to store the operations done (-,+,*,/) on the ans array. I want to get a logic for this program that does the operations and stores them in the array. so these are my question.\r\n1) How do I write this \r\n      Write this : (This taken from numbers array:5) ((This taken from op array)-) (This taken from numbers array:4) = (Stored and printed in ans aray)1\r\n\r\nthanks for all for reading this\r\n\r\nEDIT: &quot;I just discovered the method for adding and substracting but I still want to find the multiplication and division, Sorry for not commenting the code&quot;\r\n\r\nTHIS IS THE IMPROVED CODE\r\n```\r\npackage com.company;\r\nimport java.util.*;\r\nimport java.lang.*;\r\n\r\npublic class ENCRYPTED {\r\n    public static void main (String args[]) {\r\n        //Declaring scanner\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        //Declaring Arrays\r\n        double[] numbers = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,};\r\n        String[] op = {&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,};\r\n        double[] ans = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,};\r\n        double sum=0;\r\n\r\n        //Getting Number of Numbers\r\n        System.out.println(&quot; How many numbers to add/subtract ? : &quot;);\r\n        int nofns = sc.nextInt();\r\n\r\n        // for loop that executes to get the numbers\r\n        for (int i = 0; i &lt; nofns; i++) {\r\n            System.out.println(&quot;Enter Number &quot; + i + &quot; : &quot;);\r\n            numbers[i] = sc.nextDouble();   //Ex : 5\r\n//            System.out.println(&quot;Enter Operator for number &quot; + i + &quot; : &quot;);\r\n//            op[i] = sc.next(); //Ex: +\r\n            System.out.println(&quot;Enter Number &quot; + i + &quot; : &quot;);\r\n            numbers[i+1] = sc.nextDouble();   //Ex : 6\r\n            ans[i] = numbers[i] + numbers[i+1];\r\n            System.out.println(&quot;Answer is &quot; + ans[i]);\r\n            if (i == nofns) {\r\n                break;\r\n            }\r\n        }\r\n        for(int i=0; i&lt;nofns; i++){\r\n            sum = sum + ans[i];\r\n        }\r\n        System.out.println(&quot;Elements of the sums are: &quot;+Arrays.toString(ans));\r\n        System.out.println(&quot;Sum of the numbers :: &quot;+sum);\r\n\r\n    }\r\n}\r\n```\r\nIF anyone can suggest the method for multiplication and division, thanks for the help \r\n&quot;OUTPUT:\r\n    Number one  : 4\r\n    Number Two : -2\r\n    and : 2&quot;\r\nNOTE: YOU NEED TO SUFFIX &quot;-&quot; SIGN BEFORE THE NUMBER TO SUBSTRACT IT\r\n","title":"Making a calculator that does operation of x number of numbers","body":"<pre><code>package com.company;\nimport java.util.*;\nimport java.lang.*;\n\npublic class ENCRYPTED {\n    public static void main (String args[]) {\n        //Declaring scanner\n        Scanner sc = new Scanner(System.in);\n\n        //Declaring Arrays\n        double[] numbers = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,};\n        String[] op = {&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,};\n        double[] ans = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,};\n\n        //Getting Number of Numbers\n        System.out.println(&quot; How many numbers to add/subtract ? : &quot;);\n        int nofns = sc.nextInt();\n\n        // for loop that executes to get the numbers\n        for (int i = 0; i &lt; nofns; i++) {\n            System.out.println(&quot;Enter Number &quot; + i + &quot; : &quot;);\n            numbers[i] = sc.nextDouble();\n            System.out.println(&quot;Enter Operator for number &quot; + i + &quot; : &quot;);\n            op[i] = sc.next();\n            ans[i] = numbers[i] + numbers[i+1];\n            System.out.println(ans[i]);\n            System.out.println(numbers[i]);\n            System.out.println(op[i]);\n        }\n\n    }\n}\n</code></pre>\n<p>this is a program I made that takes in x numbers of numbers and stores them in the array (numbers) and operators (op). I want to store the operations done (-,+,*,/) on the ans array. I want to get a logic for this program that does the operations and stores them in the array. so these are my question.</p>\n<ol>\n<li>How do I write this\nWrite this : (This taken from numbers array:5) ((This taken from op array)-) (This taken from numbers array:4) = (Stored and printed in ans aray)1</li>\n</ol>\n<p>thanks for all for reading this</p>\n<p>EDIT: &quot;I just discovered the method for adding and substracting but I still want to find the multiplication and division, Sorry for not commenting the code&quot;</p>\n<p>THIS IS THE IMPROVED CODE</p>\n<pre><code>package com.company;\nimport java.util.*;\nimport java.lang.*;\n\npublic class ENCRYPTED {\n    public static void main (String args[]) {\n        //Declaring scanner\n        Scanner sc = new Scanner(System.in);\n\n        //Declaring Arrays\n        double[] numbers = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,};\n        String[] op = {&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,};\n        double[] ans = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,};\n        double sum=0;\n\n        //Getting Number of Numbers\n        System.out.println(&quot; How many numbers to add/subtract ? : &quot;);\n        int nofns = sc.nextInt();\n\n        // for loop that executes to get the numbers\n        for (int i = 0; i &lt; nofns; i++) {\n            System.out.println(&quot;Enter Number &quot; + i + &quot; : &quot;);\n            numbers[i] = sc.nextDouble();   //Ex : 5\n//            System.out.println(&quot;Enter Operator for number &quot; + i + &quot; : &quot;);\n//            op[i] = sc.next(); //Ex: +\n            System.out.println(&quot;Enter Number &quot; + i + &quot; : &quot;);\n            numbers[i+1] = sc.nextDouble();   //Ex : 6\n            ans[i] = numbers[i] + numbers[i+1];\n            System.out.println(&quot;Answer is &quot; + ans[i]);\n            if (i == nofns) {\n                break;\n            }\n        }\n        for(int i=0; i&lt;nofns; i++){\n            sum = sum + ans[i];\n        }\n        System.out.println(&quot;Elements of the sums are: &quot;+Arrays.toString(ans));\n        System.out.println(&quot;Sum of the numbers :: &quot;+sum);\n\n    }\n}\n</code></pre>\n<p>IF anyone can suggest the method for multiplication and division, thanks for the help\n&quot;OUTPUT:\nNumber one  : 4\nNumber Two : -2\nand : 2&quot;\nNOTE: YOU NEED TO SUFFIX &quot;-&quot; SIGN BEFORE THE NUMBER TO SUBSTRACT IT</p>\n"},{"tags":["java","multithreading","threadpool"],"answers":[{"tags":[],"owner":{"account_id":25885887,"reputation":39,"user_id":19613998,"display_name":"omzz15"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660622902,"creation_date":1660622902,"answer_id":73368705,"question_id":73368616,"body_markdown":"Try checking out java [ExecutorService][1] to create a thread pool with a fixed number of threads.\r\n\r\n\r\n  [1]: https://www.javatpoint.com/java-executorservice","title":"Delaying or not executing function when too many threads","body":"<p>Try checking out java <a href=\"https://www.javatpoint.com/java-executorservice\" rel=\"nofollow noreferrer\">ExecutorService</a> to create a thread pool with a fixed number of threads.</p>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660623570,"creation_date":1660623570,"answer_id":73368755,"question_id":73368616,"body_markdown":"Your service, should **ideally never be creating** &quot;too many threads&quot;.\r\nOpt for a thread-pool using ExecutorService.\r\n\r\nNumber of threads you want to create a pool with, depends upon the kind of **underlying task** you have.\r\n\r\nFrom a general practice:\r\n\r\n1: For a CPU Intensive task your number of threads should be equal to \r\n```java\r\nExecutors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n```\r\n\r\n2: For an IO Intensive task you can create more number of threads than the number of available processors as most of your threads will be waiting if the IO task is taking long.","title":"Delaying or not executing function when too many threads","body":"<p>Your service, should <strong>ideally never be creating</strong> &quot;too many threads&quot;.\nOpt for a thread-pool using ExecutorService.</p>\n<p>Number of threads you want to create a pool with, depends upon the kind of <strong>underlying task</strong> you have.</p>\n<p>From a general practice:</p>\n<p>1: For a CPU Intensive task your number of threads should be equal to</p>\n<pre class=\"lang-java prettyprint-override\"><code>Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n</code></pre>\n<p>2: For an IO Intensive task you can create more number of threads than the number of available processors as most of your threads will be waiting if the IO task is taking long.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660631846,"creation_date":1660631846,"answer_id":73369721,"question_id":73368616,"body_markdown":"300 Java Threads does not sound like too much (compare with default settings for application servers like Wildfly). If your application is getting stuck but neither CPU nor RAM are the bottleneck, maybe try to figure out what is happening. You may be facing threads waiting for each other to finish as well.\r\n\r\nThus I recommend to look at the thread dump to see where the threads might be stuck. Check out https://stackoverflow.com/questions/12842344/generate-a-java-thread-dump-without-restarting","title":"Delaying or not executing function when too many threads","body":"<p>300 Java Threads does not sound like too much (compare with default settings for application servers like Wildfly). If your application is getting stuck but neither CPU nor RAM are the bottleneck, maybe try to figure out what is happening. You may be facing threads waiting for each other to finish as well.</p>\n<p>Thus I recommend to look at the thread dump to see where the threads might be stuck. Check out <a href=\"https://stackoverflow.com/questions/12842344/generate-a-java-thread-dump-without-restarting\">Generate a Java thread dump without restarting.</a></p>\n"}],"owner":{"account_id":23782648,"reputation":91,"user_id":17795136,"display_name":"Ch&#237;nh Nguy·ªÖn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1660631846,"creation_date":1660621890,"question_id":73368616,"body_markdown":"I&#39;m having a game server based on Java. \r\n1 user need to use 2 threads to send and receive data. But whenever the thread come to 200-300 threads, the function where execute data doesnt work anymore. CPU, RAM of the server is not full, just around 15-20%.\r\nI tried to use &quot;garbage collector&quot; when user disconnect, but this still happen. \r\nThanks for helping. Sorry with my bad English.","title":"Delaying or not executing function when too many threads","body":"<p>I'm having a game server based on Java.\n1 user need to use 2 threads to send and receive data. But whenever the thread come to 200-300 threads, the function where execute data doesnt work anymore. CPU, RAM of the server is not full, just around 15-20%.\nI tried to use &quot;garbage collector&quot; when user disconnect, but this still happen.\nThanks for helping. Sorry with my bad English.</p>\n"},{"tags":["java","android","android-activity","splash-screen"],"answers":[{"tags":[],"owner":{"account_id":5617891,"reputation":4182,"user_id":4448617,"display_name":"Ratilal Chopda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660629979,"creation_date":1660629979,"answer_id":73369437,"question_id":73369332,"body_markdown":"You can try this.\r\n\r\n    Intent intentname = new Intent(MainActivity.this , MainActivity2.class);\r\n    intentname.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(intentname);\r\n    finish()","title":"Splash Screen Problem on exiting from application when press exit button kindly help me plz","body":"<p>You can try this.</p>\n<pre><code>Intent intentname = new Intent(MainActivity.this , MainActivity2.class);\nintentname.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(intentname);\nfinish()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660631725,"creation_date":1660631725,"answer_id":73369701,"question_id":73369332,"body_markdown":"In your thread, try this : \r\n\r\n             Thread threadname = new Thread(){\r\n                public void run(){\r\n                    try {\r\n                        sleep(800);\r\n                    }\r\n                    catch (Exception e){\r\n                        e.printStackTrace();\r\n                    }\r\n                    finally {\r\n                        Intent intentname = new Intent(MainActivity.this , MainActivity2.class);\r\n                        startActivity(intentname);\r\n                        finish();\r\n                    }\r\n                }\r\n            };threadname.start();","title":"Splash Screen Problem on exiting from application when press exit button kindly help me plz","body":"<p>In your thread, try this :</p>\n<pre><code>         Thread threadname = new Thread(){\n            public void run(){\n                try {\n                    sleep(800);\n                }\n                catch (Exception e){\n                    e.printStackTrace();\n                }\n                finally {\n                    Intent intentname = new Intent(MainActivity.this , MainActivity2.class);\n                    startActivity(intentname);\n                    finish();\n                }\n            }\n        };threadname.start();\n</code></pre>\n"}],"owner":{"account_id":26073721,"reputation":11,"user_id":19772935,"display_name":"maliik_hassan_009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73369701,"answer_count":2,"score":-3,"last_activity_date":1660631725,"creation_date":1660629217,"question_id":73369332,"body_markdown":"**Hello Friends**\r\nactually, I am a beginner app developer\r\nand I am facing this problem this problem hasn&#39;t any solution on youtube\r\nActually when creating a splash screen for my app and making another activity\r\nfirst, the splash screen launched then the second activity(main page launched)\r\nbut when I press the back button my app comes from the main page to the Splash screen \r\nhave there any solution that when I press back I exit from the app and do not comes to the splash screen\r\n\r\n**Here is Splash screen Code**\r\n\r\n    package com.example.a009hassan;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            getSupportActionBar().hide();\r\n    \r\n            Thread threadname = new Thread(){\r\n                public void run(){\r\n                    try {\r\n                        sleep(800);\r\n                    }\r\n                    catch (Exception e){\r\n                        e.printStackTrace();\r\n                    }\r\n                    finally {\r\n                        Intent intentname = new Intent(MainActivity.this , MainActivity2.class);\r\n                        startActivity(intentname);\r\n                    }\r\n                }\r\n            };threadname.start();\r\n        }\r\n    }","title":"Splash Screen Problem on exiting from application when press exit button kindly help me plz","body":"<p><strong>Hello Friends</strong>\nactually, I am a beginner app developer\nand I am facing this problem this problem hasn't any solution on youtube\nActually when creating a splash screen for my app and making another activity\nfirst, the splash screen launched then the second activity(main page launched)\nbut when I press the back button my app comes from the main page to the Splash screen\nhave there any solution that when I press back I exit from the app and do not comes to the splash screen</p>\n<p><strong>Here is Splash screen Code</strong></p>\n<pre><code>package com.example.a009hassan;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getSupportActionBar().hide();\n\n        Thread threadname = new Thread(){\n            public void run(){\n                try {\n                    sleep(800);\n                }\n                catch (Exception e){\n                    e.printStackTrace();\n                }\n                finally {\n                    Intent intentname = new Intent(MainActivity.this , MainActivity2.class);\n                    startActivity(intentname);\n                }\n            }\n        };threadname.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","list","for-loop","datatable","hashmap"],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660631412,"creation_date":1660580371,"answer_id":73363723,"question_id":73362007,"body_markdown":"Example input\r\n```\r\nclass WebElement {\r\n\tprivate final String text;\r\n\t\r\n\tpublic WebElement(String text) {\r\n\t\tthis.text = text;\r\n\t}\r\n\r\n\tpublic String getText() {\r\n\t\treturn text;\r\n\t}\r\n}\r\nList&lt;WebElement&gt; header = List.of(\r\n    new WebElement(&quot;Last Name&quot;),\r\n    new WebElement(&quot;Name&quot;),\r\n\tnew WebElement(&quot;Email&quot;),\r\n\tnew WebElement(&quot;Due&quot;),\r\n\tnew WebElement(&quot;Web Site&quot;),\r\n\tnew WebElement(&quot;Action&quot;)\r\n);\r\nList&lt;WebElement&gt; dataTable = List.of(\r\n\tnew WebElement(&quot;Smith&quot;),\r\n\tnew WebElement(&quot;John&quot;),\r\n\tnew WebElement(&quot;jsmith@gmail.com&quot;),\r\n\tnew WebElement(&quot;$50.00&quot;),\r\n\tnew WebElement(&quot;http://www.jsmith.com&quot;),\r\n\tnew WebElement(&quot;edit delete&quot;),\r\n\tnew WebElement(&quot;Pippo&quot;),\r\n\tnew WebElement(&quot;Pluto&quot;),\r\n\tnew WebElement(&quot;pippo.pluto@gmail.com&quot;),\r\n\tnew WebElement(&quot;$40&quot;),\r\n\tnew WebElement(&quot;http:pippo.com&quot;),\r\n\tnew WebElement(&quot;edit&quot;),\r\n\tnew WebElement(&quot;Ciao&quot;),\r\n\tnew WebElement(&quot;Adam&quot;),\r\n\tnew WebElement(&quot;adam.ciao@gmail.com&quot;),\r\n\tnew WebElement(&quot;$60&quot;),\r\n\tnew WebElement(&quot;http://ciao.com&quot;),\r\n\tnew WebElement(&quot;delete&quot;)\r\n);\r\n\r\nList&lt;Map&lt;String, String&gt;&gt; listOfMaps = new ArrayList&lt;&gt;();\r\nfor(int i = 0; i &lt; dataTable.size(); i = i + header.size()) {\r\n    Map&lt;String, String&gt; mapa = new HashMap&lt;&gt;();\r\n    for(int j = 0; j &lt; header.size(); j++) {\r\n        mapa.put(header.get(j).getText(), dataTable.get(i + j).getText());\r\n    }\r\n    listOfMaps.add(mapa);\r\n}\r\n```\r\nExample output:\r\n```\r\nlistOfMaps.forEach(map -&gt; System.out.println(map));\r\n{Action=edit delete, Email=jsmith@gmail.com, Web Site=http://www.jsmith.com, Due=$50.00, Last Name=Smith, Name=John}\r\n{Action=edit, Email=pippo.pluto@gmail.com, Web Site=http:pippo.com, Due=$40, Last Name=Pippo, Name=Pluto}\r\n{Action=delete, Email=adam.ciao@gmail.com, Web Site=http://ciao.com, Due=$60, Last Name=Ciao, Name=Adam}\r\n\r\n```","title":"DataTable to list of maps","body":"<p>Example input</p>\n<pre><code>class WebElement {\n    private final String text;\n    \n    public WebElement(String text) {\n        this.text = text;\n    }\n\n    public String getText() {\n        return text;\n    }\n}\nList&lt;WebElement&gt; header = List.of(\n    new WebElement(&quot;Last Name&quot;),\n    new WebElement(&quot;Name&quot;),\n    new WebElement(&quot;Email&quot;),\n    new WebElement(&quot;Due&quot;),\n    new WebElement(&quot;Web Site&quot;),\n    new WebElement(&quot;Action&quot;)\n);\nList&lt;WebElement&gt; dataTable = List.of(\n    new WebElement(&quot;Smith&quot;),\n    new WebElement(&quot;John&quot;),\n    new WebElement(&quot;jsmith@gmail.com&quot;),\n    new WebElement(&quot;$50.00&quot;),\n    new WebElement(&quot;http://www.jsmith.com&quot;),\n    new WebElement(&quot;edit delete&quot;),\n    new WebElement(&quot;Pippo&quot;),\n    new WebElement(&quot;Pluto&quot;),\n    new WebElement(&quot;pippo.pluto@gmail.com&quot;),\n    new WebElement(&quot;$40&quot;),\n    new WebElement(&quot;http:pippo.com&quot;),\n    new WebElement(&quot;edit&quot;),\n    new WebElement(&quot;Ciao&quot;),\n    new WebElement(&quot;Adam&quot;),\n    new WebElement(&quot;adam.ciao@gmail.com&quot;),\n    new WebElement(&quot;$60&quot;),\n    new WebElement(&quot;http://ciao.com&quot;),\n    new WebElement(&quot;delete&quot;)\n);\n\nList&lt;Map&lt;String, String&gt;&gt; listOfMaps = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; dataTable.size(); i = i + header.size()) {\n    Map&lt;String, String&gt; mapa = new HashMap&lt;&gt;();\n    for(int j = 0; j &lt; header.size(); j++) {\n        mapa.put(header.get(j).getText(), dataTable.get(i + j).getText());\n    }\n    listOfMaps.add(mapa);\n}\n</code></pre>\n<p>Example output:</p>\n<pre><code>listOfMaps.forEach(map -&gt; System.out.println(map));\n{Action=edit delete, Email=jsmith@gmail.com, Web Site=http://www.jsmith.com, Due=$50.00, Last Name=Smith, Name=John}\n{Action=edit, Email=pippo.pluto@gmail.com, Web Site=http:pippo.com, Due=$40, Last Name=Pippo, Name=Pluto}\n{Action=delete, Email=adam.ciao@gmail.com, Web Site=http://ciao.com, Due=$60, Last Name=Ciao, Name=Adam}\n\n</code></pre>\n"}],"owner":{"account_id":8470319,"reputation":23,"user_id":18730109,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660631412,"creation_date":1660571761,"question_id":73362007,"body_markdown":"I have this kind of a table to deal with:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe path for the headers is: \r\n\r\n    List&lt;WebElement&gt; headers;\r\n           headers = driver.findElements(By.xpath(&quot;//*[@id=\\&quot;table1\\&quot;]/thead/tr/th&quot;));\r\n\r\nThe path for the table body is:\r\n\r\n     List&lt;WebElement&gt; dataTable;\r\n           dataTable = driver.findElements(By.xpath(&quot;//*[@id=\\&quot;table1\\&quot;]/tbody/tr/td&quot;));\r\n\r\n\r\nList of headers has size of 6, list of dataTable has size of 24. \r\n\r\nI am trying to put this to a list of maps \r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; listOfMaps = new ArrayList&lt;Map&lt;String,String&gt;&gt;();\r\n\r\nSo far I&#39;ve managed to add just the first entry:\r\n\r\n    for (int i = 0; i &lt; headers.size(); i++) {\r\n            mapa.put(headers.get(i).getText(), dataTable.get(i).getText());\r\n        }\r\n\r\nand the output is:\r\n\r\n    {Last Name=Smith, First Name=John, Email=jsmith@gmail.com, Due=$50.00, Web Site=http://www.jsmith.com, Action=edit delete}\r\n\r\nBut if I put it to the loop where row size = 4, it will give me a list of 4 same maps.\r\nWhat do I have to do to make it work? I would like to have that kind of format (list of maps) so I can send it as a JSON in API POST testing.\r\n\r\nThank you for your help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vwq7n.png","title":"DataTable to list of maps","body":"<p>I have this kind of a table to deal with:</p>\n<p><a href=\"https://i.stack.imgur.com/Vwq7n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vwq7n.png\" alt=\"enter image description here\" /></a></p>\n<p>The path for the headers is:</p>\n<pre><code>List&lt;WebElement&gt; headers;\n       headers = driver.findElements(By.xpath(&quot;//*[@id=\\&quot;table1\\&quot;]/thead/tr/th&quot;));\n</code></pre>\n<p>The path for the table body is:</p>\n<pre><code> List&lt;WebElement&gt; dataTable;\n       dataTable = driver.findElements(By.xpath(&quot;//*[@id=\\&quot;table1\\&quot;]/tbody/tr/td&quot;));\n</code></pre>\n<p>List of headers has size of 6, list of dataTable has size of 24.</p>\n<p>I am trying to put this to a list of maps</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; listOfMaps = new ArrayList&lt;Map&lt;String,String&gt;&gt;();\n</code></pre>\n<p>So far I've managed to add just the first entry:</p>\n<pre><code>for (int i = 0; i &lt; headers.size(); i++) {\n        mapa.put(headers.get(i).getText(), dataTable.get(i).getText());\n    }\n</code></pre>\n<p>and the output is:</p>\n<pre><code>{Last Name=Smith, First Name=John, Email=jsmith@gmail.com, Due=$50.00, Web Site=http://www.jsmith.com, Action=edit delete}\n</code></pre>\n<p>But if I put it to the loop where row size = 4, it will give me a list of 4 same maps.\nWhat do I have to do to make it work? I would like to have that kind of format (list of maps) so I can send it as a JSON in API POST testing.</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","multithreading","inputstream","executorservice"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1660631575,"post_id":73369543,"comment_id":129570866,"body_markdown":"By the way, &quot;resultSet&quot; is a poor choice of names as that word has a very specific and common meaning as part of database work. A second problem is that the object being named is a `List`, not a `Set`.","body":"By the way, &quot;resultSet&quot; is a poor choice of names as that word has a very specific and common meaning as part of database work. A second problem is that the object being named is a <code>List</code>, not a <code>Set</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662970351,"post_id":73369543,"comment_id":130120451,"body_markdown":"And there is no reason to declare `line` as an instance field. It should be a local variable, like all other variables in that method. Besides that, parallel processing of lines is tricky, but may be possible under certain circumstances. Use [`Files.lines(‚Ä¶)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)) and a recent JDK, and you‚Äôll get that capacity when the preconditions are fulfilled.","body":"And there is no reason to declare <code>line</code> as an instance field. It should be a local variable, like all other variables in that method. Besides that, parallel processing of lines is tricky, but may be possible under certain circumstances. Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.lines(‚Ä¶)</code></a> and a recent JDK, and you‚Äôll get that capacity when the preconditions are fulfilled."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660631272,"creation_date":1660631272,"answer_id":73369624,"question_id":73369543,"body_markdown":"- Reading from an input stream is a sequential task. Trying to do that via several threads is not feasible. \r\n- On the other hand, running the check via the API service might take comparatively long and low resources on your end. So you&#39;d like to parallelize that.\r\n- Finally writing the result to the output stream is sequential again.\r\n\r\nSo what you might want to do is:\r\n- have one thread that reads the input file and sends &#39;process line&#39; jobs into the executor service\r\n- have an executor service with whatever number of threads to process the queued jobs in parallel. Results will be written into some result buffer\r\n- have one thread to check the result buffer and write any result into the output stream\r\n\r\nWith that solution you can parallel process the records. But the resulting output file may have a different sequence of lines.","title":"Executor service with Inputstream, read txt file in multiple threads","body":"<ul>\n<li>Reading from an input stream is a sequential task. Trying to do that via several threads is not feasible.</li>\n<li>On the other hand, running the check via the API service might take comparatively long and low resources on your end. So you'd like to parallelize that.</li>\n<li>Finally writing the result to the output stream is sequential again.</li>\n</ul>\n<p>So what you might want to do is:</p>\n<ul>\n<li>have one thread that reads the input file and sends 'process line' jobs into the executor service</li>\n<li>have an executor service with whatever number of threads to process the queued jobs in parallel. Results will be written into some result buffer</li>\n<li>have one thread to check the result buffer and write any result into the output stream</li>\n</ul>\n<p>With that solution you can parallel process the records. But the resulting output file may have a different sequence of lines.</p>\n"}],"owner":{"display_name":"user19772950"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660631272,"creation_date":1660630696,"question_id":73369543,"body_markdown":"I have searched for this everywhere but could not find a suitable solution for my case.\r\n\r\nI have a program that takes txt file as program argument, create output txt file, check type of the file\r\n\r\n    -i /Users/me/test.txt -o /Users/me/output.txt -t TEST\r\n\r\nI have a processor to process/extract info from the txt file, check if the extracted data exists via api call to the service\r\n\r\nI have relatively large txt file to read and check line by line. I would like to read it with executor service.\r\n\r\nI have a processor to process the input file, extract data:\r\n\r\n    public class FileParser {\r\n      private String line;\r\n    \r\n      public List&lt;FileInfo&gt; processFile(InputStream inputStream) throws IOException {\r\n        List&lt;FileInfo&gt; resultSet = new ArrayList&lt;&gt;();\r\n        try (Scanner sc = new Scanner(inputStream, &quot;UTF_8&quot;)) {\r\n            line = sc.nextLine();\r\n            while (line != null) {\r\n                if (!line.trim().startWith(&quot;*&quot;) &amp;&amp; !line.isEmpty()) {\r\n                    String number = line.subString(1, 4);\r\n                    String id = line.subString(5, 10);\r\n    \r\n                    FileInfo fileInfo = new FileInfo(number, id);\r\n                    resultSet.add(fileInfo);\r\n                }\r\n                if (sc.hasNextLine()) {\r\n                    line = sc.nextLine();\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            if (sc.ioException() != null) {\r\n                throw sc.ioException();\r\n            }\r\n        }\r\n        return resultSet;\r\n      }\r\n    }\r\n\r\nIn main, I have:\r\n\r\n    public class ValidatorApplication {\r\n        public static void main(String[] args) {\r\n            ValidatorApplication validator = new ValidatorApplication();\r\n            // parse program argument like above -i, -o, -t\r\n            validator.parseArguments(arg);\r\n    \r\n            // output txt file model\r\n            Report report = new Report();\r\n            FileParser fileParser = new FileParser();\r\n            // service for API call\r\n            ApiService apiService = new ApiService();\r\n            // Output stream - how the output txt file look like\r\n            ReportGenerator reportGenerator = new ReportGenerator();\r\n            report.setFileName(validator.outputFilePath);\r\n    \r\n            try (InputStream inputStream = new FileInputStream(validator.inputFilePath)) {\r\n                if (validator.type.equalsIgnoreCase(&quot;TEST&quot;)) {\r\n                    List&lt;FileInfo&gt; fileInfoList = fileParser.processFile(inputStream);\r\n                    for(FileInfo fileInfo : fileInfoList) {\r\n                        if (!apiService.isDataExist(fileInfo)) {\r\n                            report.getUnmatched().add(fileInfo);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                reportGenerator.generator(report);\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThis program works fine. I am having trouble figuring out how to apply ExecutorService on top of what is here. I just want some basic thread pools to process the file.","title":"Executor service with Inputstream, read txt file in multiple threads","body":"<p>I have searched for this everywhere but could not find a suitable solution for my case.</p>\n<p>I have a program that takes txt file as program argument, create output txt file, check type of the file</p>\n<pre><code>-i /Users/me/test.txt -o /Users/me/output.txt -t TEST\n</code></pre>\n<p>I have a processor to process/extract info from the txt file, check if the extracted data exists via api call to the service</p>\n<p>I have relatively large txt file to read and check line by line. I would like to read it with executor service.</p>\n<p>I have a processor to process the input file, extract data:</p>\n<pre><code>public class FileParser {\n  private String line;\n\n  public List&lt;FileInfo&gt; processFile(InputStream inputStream) throws IOException {\n    List&lt;FileInfo&gt; resultSet = new ArrayList&lt;&gt;();\n    try (Scanner sc = new Scanner(inputStream, &quot;UTF_8&quot;)) {\n        line = sc.nextLine();\n        while (line != null) {\n            if (!line.trim().startWith(&quot;*&quot;) &amp;&amp; !line.isEmpty()) {\n                String number = line.subString(1, 4);\n                String id = line.subString(5, 10);\n\n                FileInfo fileInfo = new FileInfo(number, id);\n                resultSet.add(fileInfo);\n            }\n            if (sc.hasNextLine()) {\n                line = sc.nextLine();\n            } else {\n                break;\n            }\n        }\n        if (sc.ioException() != null) {\n            throw sc.ioException();\n        }\n    }\n    return resultSet;\n  }\n}\n</code></pre>\n<p>In main, I have:</p>\n<pre><code>public class ValidatorApplication {\n    public static void main(String[] args) {\n        ValidatorApplication validator = new ValidatorApplication();\n        // parse program argument like above -i, -o, -t\n        validator.parseArguments(arg);\n\n        // output txt file model\n        Report report = new Report();\n        FileParser fileParser = new FileParser();\n        // service for API call\n        ApiService apiService = new ApiService();\n        // Output stream - how the output txt file look like\n        ReportGenerator reportGenerator = new ReportGenerator();\n        report.setFileName(validator.outputFilePath);\n\n        try (InputStream inputStream = new FileInputStream(validator.inputFilePath)) {\n            if (validator.type.equalsIgnoreCase(&quot;TEST&quot;)) {\n                List&lt;FileInfo&gt; fileInfoList = fileParser.processFile(inputStream);\n                for(FileInfo fileInfo : fileInfoList) {\n                    if (!apiService.isDataExist(fileInfo)) {\n                        report.getUnmatched().add(fileInfo);\n                    }\n                }\n            }\n\n            reportGenerator.generator(report);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This program works fine. I am having trouble figuring out how to apply ExecutorService on top of what is here. I just want some basic thread pools to process the file.</p>\n"},{"tags":["java","jdbc","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":6104885,"reputation":26,"user_id":4762849,"display_name":"Mihai David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660564201,"creation_date":1660564201,"answer_id":73360625,"question_id":73358419,"body_markdown":"BeanPropertyRowMapper cannot map java.sql.Array to ArrayList\r\n\r\nCreate a RowMapper (implement also mapping of &#39;objects&#39; like i did for &quot;recipents&quot; And also &#39;create_date&#39;)\r\n```\r\npublic class NotificationMapper implements RowMapper&lt;Notification&gt; {\r\n    @Override\r\n    public Notification mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        Notification employee = new Notification();\r\n        employee.setId(rs.getInt(&quot;id&quot;));\r\n        String[] arr = (String[])rs.getArray(&quot;recipents&quot;).getArray();\r\n        Collections.addAll(employee.getRecipents(), arr);\r\n        return employee;\r\n    }\r\n}\r\n```\r\n\r\nAnd use it to map result set. (You can remove &#39;dto&#39; param.)\r\n```\r\njdbcTemplate.query(\r\n            sql,\r\n            args,\r\n            new NotificationMapper()\r\n    );\r\n```\r\n\r\nNote that your lists from the pojo need to be initialized\r\n```\r\npublic class SimpleDto{\r\n    private Integer id;\r\n    private Date createDate;\r\n            ...\r\n    private ArrayList&lt;String&gt; recipents = new ArrayList&lt;&gt;();\r\n    private ArrayList&lt;Integer&gt; objects = new ArrayList&lt;&gt;();\r\n            ...\r\n}\r\n``` ","title":"How can I deserialize row to DTO?","body":"<p>BeanPropertyRowMapper cannot map java.sql.Array to ArrayList</p>\n<p>Create a RowMapper (implement also mapping of 'objects' like i did for &quot;recipents&quot; And also 'create_date')</p>\n<pre><code>public class NotificationMapper implements RowMapper&lt;Notification&gt; {\n    @Override\n    public Notification mapRow(ResultSet rs, int rowNum) throws SQLException {\n        Notification employee = new Notification();\n        employee.setId(rs.getInt(&quot;id&quot;));\n        String[] arr = (String[])rs.getArray(&quot;recipents&quot;).getArray();\n        Collections.addAll(employee.getRecipents(), arr);\n        return employee;\n    }\n}\n</code></pre>\n<p>And use it to map result set. (You can remove 'dto' param.)</p>\n<pre><code>jdbcTemplate.query(\n            sql,\n            args,\n            new NotificationMapper()\n    );\n</code></pre>\n<p>Note that your lists from the pojo need to be initialized</p>\n<pre><code>public class SimpleDto{\n    private Integer id;\n    private Date createDate;\n            ...\n    private ArrayList&lt;String&gt; recipents = new ArrayList&lt;&gt;();\n    private ArrayList&lt;Integer&gt; objects = new ArrayList&lt;&gt;();\n            ...\n}\n</code></pre>\n"}],"owner":{"account_id":14339953,"reputation":295,"user_id":10358410,"display_name":"–°–µ–º–µ–Ω –ù–µ–º—ã—Ç–æ–≤"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73360625,"answer_count":1,"score":1,"last_activity_date":1660630938,"creation_date":1660551558,"question_id":73358419,"body_markdown":"I have created method where I can pass SQL string, arguments and DTO class. \r\n\r\n```java\r\npublic &lt;T&gt; List selectObjectList(String sql, Object[] args, Class&lt;T&gt; dto) {\r\n    return jdbcTemplate.query(\r\n            sql,\r\n            args,\r\n            new BeanPropertyRowMapper(dto)\r\n    );\r\n}\r\n```\r\n\r\nSo my DTO is \r\n```java\r\n@Data\r\n@NoArgsConstructor\r\npublic class SimpleDto{\r\n    private Integer id;\r\n    private Date createDate;\r\n            ...\r\n    private ArrayList&lt;String&gt; recipents;\r\n    private ArrayList&lt;Integer&gt; objects;\r\n            ...\r\n}\r\n```\r\nThen I pass SQL &quot;select * from simple_dto n where n.create_date &gt;= now()&quot;, no argsuments and \r\n\r\n```\r\nArrayList&lt;Notification&gt; notifications = \r\n        (ArrayList&lt;Notification&gt;) comDao.selectObjectList(sql, args, SimpleDto.class);\r\n```\r\nAnd I get exception: \r\n\r\n&gt; Caused by: org.springframework.beans.ConversionNotSupportedException:\r\n&gt; Failed to convert property value of type &#39;org.postgresql.jdbc.PgArray&#39;\r\n&gt; to required type &#39;java.util.ArrayList&#39; for property &#39;recipents&#39;;\r\n&gt; nested exception is java.lang.IllegalStateException: Cannot convert\r\n&gt; value of type &#39;org.postgresql.jdbc.PgArray&#39; to required type\r\n&gt; &#39;java.util.ArrayList&#39; for property &#39;recipents&#39;: no matching editors or\r\n&gt; conversion strategy found\r\n\r\nSQL script to create simple_dto table: \r\n```sql\r\ncreate table notification\r\n(\r\n    id          SERIAL PRIMARY KEY,\r\n    create_date  timestamp not null,\r\n    recipents          varchar ARRAY,\r\n    objects            integer ARRAY\r\n);\r\n```\r\nI know that problem in array. But how can I solve it ? \r\n\r\nUPD: \r\nMain purpose to make DRY code. BeanPropertyRowMapper really cant deserialize arrays to list. \r\nBut here method where you can put BeanPropertyRowMapper(DTO.class) and custom RowMapper&lt;DTO&gt; both. \r\n```\r\n@Override\r\n    public &lt;T&gt; List&lt;T&gt; selectObjectList(String sql, Object[] args, RowMapper&lt;T&gt; mapper) {\r\n        return jdbcTemplate.query(\r\n                sql,\r\n                args,\r\n                mapper\r\n        );\r\n    }\r\n```","title":"How can I deserialize row to DTO?","body":"<p>I have created method where I can pass SQL string, arguments and DTO class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; List selectObjectList(String sql, Object[] args, Class&lt;T&gt; dto) {\n    return jdbcTemplate.query(\n            sql,\n            args,\n            new BeanPropertyRowMapper(dto)\n    );\n}\n</code></pre>\n<p>So my DTO is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\npublic class SimpleDto{\n    private Integer id;\n    private Date createDate;\n            ...\n    private ArrayList&lt;String&gt; recipents;\n    private ArrayList&lt;Integer&gt; objects;\n            ...\n}\n</code></pre>\n<p>Then I pass SQL &quot;select * from simple_dto n where n.create_date &gt;= now()&quot;, no argsuments and</p>\n<pre><code>ArrayList&lt;Notification&gt; notifications = \n        (ArrayList&lt;Notification&gt;) comDao.selectObjectList(sql, args, SimpleDto.class);\n</code></pre>\n<p>And I get exception:</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.ConversionNotSupportedException:\nFailed to convert property value of type 'org.postgresql.jdbc.PgArray'\nto required type 'java.util.ArrayList' for property 'recipents';\nnested exception is java.lang.IllegalStateException: Cannot convert\nvalue of type 'org.postgresql.jdbc.PgArray' to required type\n'java.util.ArrayList' for property 'recipents': no matching editors or\nconversion strategy found</p>\n</blockquote>\n<p>SQL script to create simple_dto table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table notification\n(\n    id          SERIAL PRIMARY KEY,\n    create_date  timestamp not null,\n    recipents          varchar ARRAY,\n    objects            integer ARRAY\n);\n</code></pre>\n<p>I know that problem in array. But how can I solve it ?</p>\n<p>UPD:\nMain purpose to make DRY code. BeanPropertyRowMapper really cant deserialize arrays to list.\nBut here method where you can put BeanPropertyRowMapper(DTO.class) and custom RowMapper both.</p>\n<pre><code>@Override\n    public &lt;T&gt; List&lt;T&gt; selectObjectList(String sql, Object[] args, RowMapper&lt;T&gt; mapper) {\n        return jdbcTemplate.query(\n                sql,\n                args,\n                mapper\n        );\n    }\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660572803,"post_id":73359296,"comment_id":129557772,"body_markdown":"Well, where did you put the Postgres JDBC driver jar?","body":"Well, where did you put the Postgres JDBC driver jar?"},{"owner":{"account_id":12596232,"reputation":93,"user_id":9160757,"display_name":"Burhan Bilen"},"score":0,"creation_date":1660573009,"post_id":73359296,"comment_id":129557864,"body_markdown":"I am currently using Windows 10, that&#39;s why I have put JDBC driver jar in a set of folders, in my desktop (just for testing) and provided absolute path to the file called connect-standalone.properties .","body":"I am currently using Windows 10, that&#39;s why I have put JDBC driver jar in a set of folders, in my desktop (just for testing) and provided absolute path to the file called connect-standalone.properties ."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660574833,"post_id":73359296,"comment_id":129558515,"body_markdown":"The driver itself isn&#39;t a Connect &quot;plugin&quot; class, however, so you will need to add that JAR to the CLASSPATH environment variable before running connect-standalone","body":"The driver itself isn&#39;t a Connect &quot;plugin&quot; class, however, so you will need to add that JAR to the CLASSPATH environment variable before running connect-standalone"},{"owner":{"account_id":12596232,"reputation":93,"user_id":9160757,"display_name":"Burhan Bilen"},"score":0,"creation_date":1660630359,"post_id":73359296,"comment_id":129570552,"body_markdown":"@OneCricketeer Thank you for the quick reply. I could solve the error by changing my operating system.","body":"@OneCricketeer Thank you for the quick reply. I could solve the error by changing my operating system."},{"owner":{"account_id":175700,"reputation":167,"user_id":405889,"display_name":"themoah"},"score":0,"creation_date":1660647058,"post_id":73359296,"comment_id":129575968,"body_markdown":"Have you tried using official distro from confluent? You can run it in docker and install all plugins with CLI without headache of compatibility. For example, `confluent-hub install --no-prompt confluentinc/kafka-connect-jdbc:10.4.1`","body":"Have you tried using official distro from confluent? You can run it in docker and install all plugins with CLI without headache of compatibility. For example, <code>confluent-hub install --no-prompt confluentinc&#47;kafka-connect-jdbc:10.4.1</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660657582,"post_id":73359296,"comment_id":129580115,"body_markdown":"@themoah That doesn&#39;t download the driver, only the connector","body":"@themoah That doesn&#39;t download the driver, only the connector"},{"owner":{"account_id":175700,"reputation":167,"user_id":405889,"display_name":"themoah"},"score":0,"creation_date":1660659044,"post_id":73359296,"comment_id":129580795,"body_markdown":"@OneCricketeer are you sure about that? Based on connector info it connect to any DB that support jdbc-based connection. (Also we use it for both source and sink exactly this way). \n[https://www.confluent.io/hub/confluentinc/kafka-connect-jdbc](https://www.confluent.io/hub/confluentinc/kafka-connect-jdbc)\n\nAlso, based on their [pom](https://github.com/confluentinc/kafka-connect-jdbc/blob/master/pom.xml#L60) they already bundle with driver to Postgres, oracle and other DB engines.","body":"@OneCricketeer are you sure about that? Based on connector info it connect to any DB that support jdbc-based connection. (Also we use it for both source and sink exactly this way).  <a href=\"https://www.confluent.io/hub/confluentinc/kafka-connect-jdbc\" rel=\"nofollow noreferrer\">https://www.confluent.io/hub/confluentinc/kafka-connect-jdbc</a>  Also, based on their <a href=\"https://github.com/confluentinc/kafka-connect-jdbc/blob/master/pom.xml#L60\" rel=\"nofollow noreferrer\">pom</a> they already bundle with driver to Postgres, oracle and other DB engines."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660659235,"post_id":73359296,"comment_id":129580879,"body_markdown":"@themoah The pom doesn&#39;t package the JDBC drivers. Primarily for licensing restrictions. That&#39;s true for at least mysql and oracle. I&#39;m not sure about Postgres.","body":"@themoah The pom doesn&#39;t package the JDBC drivers. Primarily for licensing restrictions. That&#39;s true for at least mysql and oracle. I&#39;m not sure about Postgres."},{"owner":{"account_id":175700,"reputation":167,"user_id":405889,"display_name":"themoah"},"score":0,"creation_date":1660675267,"post_id":73359296,"comment_id":129586900,"body_markdown":"@OneCricketeer the jdbc drivers are listed in the pom on lines 59-62. Their scope is `runtime`","body":"@OneCricketeer the jdbc drivers are listed in the pom on lines 59-62. Their scope is <code>runtime</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660679946,"post_id":73359296,"comment_id":129588352,"body_markdown":"@themoah As mentioned, `runtime` scope does not include them in the Connector ZIP/JAR output. They need to be downloaded separately.","body":"@themoah As mentioned, <code>runtime</code> scope does not include them in the Connector ZIP/JAR output. They need to be downloaded separately."}],"answers":[{"tags":[],"owner":{"account_id":12596232,"reputation":93,"user_id":9160757,"display_name":"Burhan Bilen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660630647,"creation_date":1660630647,"answer_id":73369541,"question_id":73359296,"body_markdown":"Even though having an absolute path for drivers, kafka connect raised error in Windows. By writing the `plugin.path` properly and placing the drivers to the path, same kafka connect files that didn&#39;t work in Windows worked well in Linux Ubuntu 20.04. ","title":"Kafka Connect - No suitable driver found for jdbc:postgresql://127.0.0.1:5432/postgres","body":"<p>Even though having an absolute path for drivers, kafka connect raised error in Windows. By writing the <code>plugin.path</code> properly and placing the drivers to the path, same kafka connect files that didn't work in Windows worked well in Linux Ubuntu 20.04.</p>\n"}],"owner":{"account_id":12596232,"reputation":93,"user_id":9160757,"display_name":"Burhan Bilen"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73369541,"answer_count":1,"score":0,"last_activity_date":1660630647,"creation_date":1660556764,"question_id":73359296,"body_markdown":"I run my sink connector, also a new kafka topic is created as soon as the connector work. Until this point everything works fine. But, as soon as I enter a new value into kafka producer, it turns out the error `java.sql.SQLException: No suitable driver found for jdbc:postgresql://127.0.0.1:5432/postgres`.\r\n\r\nMy config files are as below:\r\n\r\nconnect-standalone.properties:\r\n```\r\nbootstrap.servers=localhost:9092\r\nkey.converter=org.apache.kafka.connect.json.JsonConverter\r\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\r\nkey.converter.schemas.enable=true\r\nvalue.converter.schemas.enable=true\r\noffset.storage.file.filename=/tmp/connect.offsets\r\noffset.flush.interval.ms=10000\r\nplugin.path=C:/Users/me/Desktop/connectors/share/java/kafka-connect-jdbc\r\n```\r\n\r\nconnect-sink-postgres.properties (my sink file):\r\n```\r\nname=psql-sink-connector\r\nconnector.class=io.confluent.connect.jdbc.JdbcSinkConnector\r\ntopics=test-topic\r\nconnection.url=jdbc:postgresql://127.0.0.1:5432/postgres\r\nconnection.user=postgres\r\nconnection.password=postgres\r\ntable.name.format=test\r\npk.fields=id\r\ninsert.mode=insert\r\ntasks.max=1\r\nvalue.converter.schemas.enable=true\r\nkey.converter.schemas.enable=true\r\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\r\nkey.converter=org.apache.kafka.connect.json.JsonConverter\r\nauto.create=true\r\n```\r\n\r\nconsumer.properties:\r\n```\r\nbootstrap.servers=localhost:9092\r\ngroup.id=connect-cluster\r\n```\r\n\r\nThe data in test-topic:\r\n```\r\n{&quot;schema&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;type&quot;:&quot;int32&quot;,&quot;optional&quot;:false,&quot;field&quot;:&quot;id&quot;},{&quot;type&quot;: &quot;string&quot;,&quot;optional&quot;:true,&quot;field&quot;:&quot;msg&quot;},{&quot;type&quot;:&quot;string&quot;,&quot;optional&quot;:true,&quot;field&quot;:&quot;importance&quot;}],&quot;optional&quot;:false,&quot;name&quot;:&quot;test&quot;},&quot;payload&quot;:{&quot;id&quot;:1,&quot;msg&quot;:&quot;test msg&quot;,&quot;importance&quot;:&quot;test imp&quot;}}\r\n```\r\nAlso, my DB name is `kafkatest` and the name of the only table in the database is `test`. It has `id (integer primary key)`, `msg (varchar)`, `importance (varchar)` as fields.\r\n\r\nWhy is that error occuring?","title":"Kafka Connect - No suitable driver found for jdbc:postgresql://127.0.0.1:5432/postgres","body":"<p>I run my sink connector, also a new kafka topic is created as soon as the connector work. Until this point everything works fine. But, as soon as I enter a new value into kafka producer, it turns out the error <code>java.sql.SQLException: No suitable driver found for jdbc:postgresql://127.0.0.1:5432/postgres</code>.</p>\n<p>My config files are as below:</p>\n<p>connect-standalone.properties:</p>\n<pre><code>bootstrap.servers=localhost:9092\nkey.converter=org.apache.kafka.connect.json.JsonConverter\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\nkey.converter.schemas.enable=true\nvalue.converter.schemas.enable=true\noffset.storage.file.filename=/tmp/connect.offsets\noffset.flush.interval.ms=10000\nplugin.path=C:/Users/me/Desktop/connectors/share/java/kafka-connect-jdbc\n</code></pre>\n<p>connect-sink-postgres.properties (my sink file):</p>\n<pre><code>name=psql-sink-connector\nconnector.class=io.confluent.connect.jdbc.JdbcSinkConnector\ntopics=test-topic\nconnection.url=jdbc:postgresql://127.0.0.1:5432/postgres\nconnection.user=postgres\nconnection.password=postgres\ntable.name.format=test\npk.fields=id\ninsert.mode=insert\ntasks.max=1\nvalue.converter.schemas.enable=true\nkey.converter.schemas.enable=true\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\nkey.converter=org.apache.kafka.connect.json.JsonConverter\nauto.create=true\n</code></pre>\n<p>consumer.properties:</p>\n<pre><code>bootstrap.servers=localhost:9092\ngroup.id=connect-cluster\n</code></pre>\n<p>The data in test-topic:</p>\n<pre><code>{&quot;schema&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;type&quot;:&quot;int32&quot;,&quot;optional&quot;:false,&quot;field&quot;:&quot;id&quot;},{&quot;type&quot;: &quot;string&quot;,&quot;optional&quot;:true,&quot;field&quot;:&quot;msg&quot;},{&quot;type&quot;:&quot;string&quot;,&quot;optional&quot;:true,&quot;field&quot;:&quot;importance&quot;}],&quot;optional&quot;:false,&quot;name&quot;:&quot;test&quot;},&quot;payload&quot;:{&quot;id&quot;:1,&quot;msg&quot;:&quot;test msg&quot;,&quot;importance&quot;:&quot;test imp&quot;}}\n</code></pre>\n<p>Also, my DB name is <code>kafkatest</code> and the name of the only table in the database is <code>test</code>. It has <code>id (integer primary key)</code>, <code>msg (varchar)</code>, <code>importance (varchar)</code> as fields.</p>\n<p>Why is that error occuring?</p>\n"},{"tags":["java","scope"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1660471383,"post_id":73350706,"comment_id":129536720,"body_markdown":"Where is `tryAgain` declared?","body":"Where is <code>tryAgain</code> declared?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1660471405,"post_id":73350706,"comment_id":129536725,"body_markdown":"Also, watch out: `tryAgain = true` will always be true. You probably meant `tryAgain == true`.","body":"Also, watch out: <code>tryAgain = true</code> will always be true. You probably meant <code>tryAgain == true</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1660471486,"post_id":73350706,"comment_id":129536732,"body_markdown":"Also, `tryAgain = againScanner.nextBoolean();` should be read inside the loop.","body":"Also, <code>tryAgain = againScanner.nextBoolean();</code> should be read inside the loop."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660471509,"post_id":73350706,"comment_id":129536736,"body_markdown":"You&#39;re trying to use that variable before you&#39;ve declared it.  You&#39;ll need to declare it earlier.  Also think hard about which lines should be inside the loop, and which should be outside.","body":"You&#39;re trying to use that variable before you&#39;ve declared it.  You&#39;ll need to declare it earlier.  Also think hard about which lines should be inside the loop, and which should be outside."}],"answers":[{"tags":[],"owner":{"account_id":23946271,"reputation":69,"user_id":17938577,"display_name":"DAHUANGGO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660630355,"creation_date":1660497748,"answer_id":73353650,"question_id":73350706,"body_markdown":"First of all, I must point out that the compilation of the java language is sequential, you must define before using any property or variable, and your tryAgain must be defined before using it.\r\nSecond, in java, any variable defined in the body of a loop is called a local variable, and it cannot be referenced by global code, so your code must be modified like this:\r\n\r\n        public class Simple{\r\n            public static void main(String[] Args){\r\n                Scanner againScanner = new Scanner(System.in);\r\n                Scanner numberScanner = new Scanner(System.in);\r\n                Boolean tryAgain=true;\r\n                do{\r\n                    System.out.println(&quot;Please type an integer and I will determine whether it is odd or even.&quot;);\r\n                    int number = numberScanner.nextInt();\r\n                    if(number % 2 == 0){\r\n                        System.out.println(number + &quot; is an even number.&quot;);\r\n                    }\r\n                    else{\r\n                        System.out.println(number + &quot; is an odd number.&quot;);\r\n                    }\r\n                    System.out.println(&quot;Would you like to try again (type True or False)?&quot;);\r\n                    tryAgain= againScanner.nextBoolean();\r\n                }\r\n                while (tryAgain);\r\n                againScanner.close();\r\n                numberScanner.close();\r\n            }\r\n        }\r\n\r\n","title":"Why is my code outputting &quot;tryAgain cannot be resolved to a variable&quot; in the context of a do-while loop?","body":"<p>First of all, I must point out that the compilation of the java language is sequential, you must define before using any property or variable, and your tryAgain must be defined before using it.\nSecond, in java, any variable defined in the body of a loop is called a local variable, and it cannot be referenced by global code, so your code must be modified like this:</p>\n<pre><code>    public class Simple{\n        public static void main(String[] Args){\n            Scanner againScanner = new Scanner(System.in);\n            Scanner numberScanner = new Scanner(System.in);\n            Boolean tryAgain=true;\n            do{\n                System.out.println(&quot;Please type an integer and I will determine whether it is odd or even.&quot;);\n                int number = numberScanner.nextInt();\n                if(number % 2 == 0){\n                    System.out.println(number + &quot; is an even number.&quot;);\n                }\n                else{\n                    System.out.println(number + &quot; is an odd number.&quot;);\n                }\n                System.out.println(&quot;Would you like to try again (type True or False)?&quot;);\n                tryAgain= againScanner.nextBoolean();\n            }\n            while (tryAgain);\n            againScanner.close();\n            numberScanner.close();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26059483,"reputation":3,"user_id":19761075,"display_name":"dodecahedronpigeon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73353650,"answer_count":1,"score":0,"last_activity_date":1660630355,"creation_date":1660471272,"question_id":73350706,"body_markdown":"I&#39;m new to Java and I&#39;m trying to add a way to loop an if-else statement by asking the user if they want to try again at the end of the program, which I have attempted with a do-while loop. However, when compiling the program it outputs a java error stating that tryAgain cannot be resolved to a variable. Any help would be appreciated.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Simple{\r\n        public static void main(String[] Args){\r\n        Scanner againScanner = new Scanner(System.in);\r\n        Scanner numberScanner = new Scanner(System.in);\r\n\r\n        do{\r\n        System.out.println(&quot;Please type an integer and I will determine whether it is odd or even.&quot;);\r\n        int number = numberScanner.nextInt();\r\n        if(number % 2 == 0){\r\n            System.out.println(number + &quot; is an even number.&quot;);\r\n        }\r\n        else{\r\n            System.out.println(number + &quot; is an odd number.&quot;);\r\n        }\r\n        numberScanner.close();\r\n        \r\n        }\r\n        while (tryAgain = true);\r\n    System.out.println(&quot;Would you like to try again (type True or False)?&quot;);\r\n    Boolean tryAgain = againScanner.nextBoolean();\r\n    againScanner.close();\r\n    }\r\n}\r\n       \r\n```","title":"Why is my code outputting &quot;tryAgain cannot be resolved to a variable&quot; in the context of a do-while loop?","body":"<p>I'm new to Java and I'm trying to add a way to loop an if-else statement by asking the user if they want to try again at the end of the program, which I have attempted with a do-while loop. However, when compiling the program it outputs a java error stating that tryAgain cannot be resolved to a variable. Any help would be appreciated.</p>\n<pre><code>import java.util.Scanner;\n\n\npublic class Simple{\n        public static void main(String[] Args){\n        Scanner againScanner = new Scanner(System.in);\n        Scanner numberScanner = new Scanner(System.in);\n\n        do{\n        System.out.println(&quot;Please type an integer and I will determine whether it is odd or even.&quot;);\n        int number = numberScanner.nextInt();\n        if(number % 2 == 0){\n            System.out.println(number + &quot; is an even number.&quot;);\n        }\n        else{\n            System.out.println(number + &quot; is an odd number.&quot;);\n        }\n        numberScanner.close();\n        \n        }\n        while (tryAgain = true);\n    System.out.println(&quot;Would you like to try again (type True or False)?&quot;);\n    Boolean tryAgain = againScanner.nextBoolean();\n    againScanner.close();\n    }\n}\n       \n</code></pre>\n"},{"tags":["java","swing","fonts","combobox","popup"],"comments":[{"owner":{"account_id":6245992,"reputation":4168,"user_id":4857909,"accept_rate":100,"display_name":"Lukas Rotter"},"score":0,"creation_date":1448396767,"post_id":33903093,"comment_id":55568896,"body_markdown":"[Java: Editable JCombobox in JOptionPane inputDialog?](http://stackoverflow.com/a/9522854/4857909), [To get all available fonts in your system](http://www.java2s.com/Tutorial/Java/0261__2D-Graphics/Togetallavailablefontsinyoursystem.htm), [How to Write an Action Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html). I hope these 3 links will help.","body":"<a href=\"http://stackoverflow.com/a/9522854/4857909\">Java: Editable JCombobox in JOptionPane inputDialog?</a>, <a href=\"http://www.java2s.com/Tutorial/Java/0261__2D-Graphics/Togetallavailablefontsinyoursystem.htm\" rel=\"nofollow noreferrer\">To get all available fonts in your system</a>, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">How to Write an Action Listener</a>. I hope these 3 links will help."}],"answers":[{"tags":[],"owner":{"account_id":1927754,"reputation":5883,"user_id":1737819,"accept_rate":89,"display_name":"Developer Marius ≈Ωilƒónas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448397665,"creation_date":1448396757,"answer_id":33903143,"question_id":33903093,"body_markdown":"You should get a list of system fonts available. Put that list to JComboBox and add listeners to that JComboBox.\r\n\r\nGet system fonts with this code\r\n\r\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    Font[] fonts = e.getAllFonts();\r\n\r\nTo show the JComboBox for the user with the pop-up use JOptionPane. See tutorial for this https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#input ","title":"Java Swing Popup Font Selection","body":"<p>You should get a list of system fonts available. Put that list to JComboBox and add listeners to that JComboBox.</p>\n\n<p>Get system fonts with this code</p>\n\n<pre><code>GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\nFont[] fonts = e.getAllFonts();\n</code></pre>\n\n<p>To show the JComboBox for the user with the pop-up use JOptionPane. See tutorial for this <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#input\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#input</a> </p>\n"},{"tags":[],"owner":{"account_id":6245992,"reputation":4168,"user_id":4857909,"accept_rate":100,"display_name":"Lukas Rotter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1448399032,"creation_date":1448397723,"answer_id":33903403,"question_id":33903093,"body_markdown":"Example based on the three links I posted (that&#39;s why this answer is a community wiki, so I can&#39;t gain reputation from it):\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Example {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew Example();\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t}\r\n    \r\n    \tpublic Example() {\r\n    \r\n    \t\tGraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    \t\tString[] array = ge.getAvailableFontFamilyNames();\r\n    \t\tJComboBox&lt;String&gt; box = new JComboBox&lt;String&gt;(array);\r\n    \t\tbox.setEditable(true);\r\n    \r\n    \t\tJFrame frame = new JFrame();\r\n    \r\n    \t\tJButton button = new JButton(&quot;Button&quot;);\r\n    \t\tbutton.addActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tJOptionPane.showMessageDialog(frame, box, &quot;...&quot;, JOptionPane.QUESTION_MESSAGE);\r\n    \t\t\t\tSystem.out.println(box.getSelectedItem());\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tframe.getContentPane().add(button);\r\n    \r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    }","title":"Java Swing Popup Font Selection","body":"<p>Example based on the three links I posted (that's why this answer is a community wiki, so I can't gain reputation from it):</p>\n\n<pre><code>import java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\n\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\n\npublic class Example {\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new Example();\n            }\n        });\n\n    }\n\n    public Example() {\n\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n        String[] array = ge.getAvailableFontFamilyNames();\n        JComboBox&lt;String&gt; box = new JComboBox&lt;String&gt;(array);\n        box.setEditable(true);\n\n        JFrame frame = new JFrame();\n\n        JButton button = new JButton(\"Button\");\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(frame, box, \"...\", JOptionPane.QUESTION_MESSAGE);\n                System.out.println(box.getSelectedItem());\n            }\n        });\n\n        frame.getContentPane().add(button);\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10599685,"reputation":199,"user_id":7807004,"display_name":"Daniel Heid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660629817,"creation_date":1660629817,"answer_id":73369411,"question_id":33903093,"body_markdown":"Or have a look at my library: https://github.com/dheid/fontchooser\r\n\r\nYou can include as a Maven dependency. It&#39;s very lightweight.","title":"Java Swing Popup Font Selection","body":"<p>Or have a look at my library: <a href=\"https://github.com/dheid/fontchooser\" rel=\"nofollow noreferrer\">https://github.com/dheid/fontchooser</a></p>\n<p>You can include as a Maven dependency. It's very lightweight.</p>\n"}],"owner":{"account_id":7082280,"reputation":164,"user_id":5420257,"accept_rate":50,"display_name":"Parvez M Robin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33903403,"answer_count":3,"score":0,"last_activity_date":1660629817,"creation_date":1448396562,"question_id":33903093,"body_markdown":"I want to design a action listener that will create a popup window that will have a combo box containing all the system fonts. To be more specific, I want to design a font selection option like a text editor using Java swing. \r\n\r\nHow can I do that?","title":"Java Swing Popup Font Selection","body":"<p>I want to design a action listener that will create a popup window that will have a combo box containing all the system fonts. To be more specific, I want to design a font selection option like a text editor using Java swing. </p>\n\n<p>How can I do that?</p>\n"},{"tags":["java","list","java-8","java-stream","flatmap"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660670237,"post_id":73369246,"comment_id":129585192,"body_markdown":"How did you end up with a design including those lists to begin with? It‚Äôs bad, and I very much understand your desire to convert them to something better.","body":"How did you end up with a design including those lists to begin with? It‚Äôs bad, and I very much understand your desire to convert them to something better."}],"answers":[{"tags":[],"owner":{"account_id":13570906,"reputation":432,"user_id":9789673,"display_name":"randypaq13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660628918,"creation_date":1660628918,"answer_id":73369290,"question_id":73369246,"body_markdown":"If you need to do this in one list, you can set up a class containing all your data. Then create a list of your custom objects and print each field in the `forEach` ","title":"printing the data of list in the order using stream in java","body":"<p>If you need to do this in one list, you can set up a class containing all your data. Then create a list of your custom objects and print each field in the <code>forEach</code></p>\n"},{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1660629230,"creation_date":1660629230,"answer_id":73369334,"question_id":73369246,"body_markdown":"Yes, it is _possible_ but I wouldn&#39;t recommend it:\r\n```\r\nList&lt;List&lt;?&gt;&gt; result = IntStream.range(0, sal.size())\r\n        .mapToObj(i -&gt; List.of(firstName.get(i), lastName.get(i), sal.get(i)))\r\n        .collect(Collectors.toList());\r\n```\r\nInstead, create some type to represent your objects. ","title":"printing the data of list in the order using stream in java","body":"<p>Yes, it is <em>possible</em> but I wouldn't recommend it:</p>\n<pre><code>List&lt;List&lt;?&gt;&gt; result = IntStream.range(0, sal.size())\n        .mapToObj(i -&gt; List.of(firstName.get(i), lastName.get(i), sal.get(i)))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Instead, create some type to represent your objects.</p>\n"}],"owner":{"account_id":26054015,"reputation":230,"user_id":19756689,"display_name":"rashmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660629634,"creation_date":1660628596,"question_id":73369246,"body_markdown":"I have below List.\r\n\r\n    List&lt;String&gt; firstName = List.of(&quot;Monika&quot;,&quot;Shweta&quot;, &quot;Shruti&quot;,&quot;Anuradha&quot;);\r\n    List&lt;String&gt; lastName = List.of(&quot;Mishra&quot;,&quot;Hariharno&quot;,&quot;Sharma&quot;,&quot;Mishra&quot;);\r\n    List&lt;Integer&gt; sal = List.of(5000000,50,500,100000);\r\n    \r\n    List&lt;List&lt;?&gt;&gt; finalList = List.of(firstName,lastName,sal);\r\n    finalList.stream().flatMap(s-&gt;s.stream()).forEach(System.out::println);\r\n\r\nWhen I am printing using `flatMap()` it is printing all `firstname`, `lastname`, and then `sal`.\r\n\r\nI want to print `firstName : lastName:sal` together for all of them in order.\r\nfor eg \r\n\r\n    Monika:Mishra:5000000\r\n\r\nis it possible using `flatMap` or any other `java8` feature?\r\n","title":"printing the data of list in the order using stream in java","body":"<p>I have below List.</p>\n<pre><code>List&lt;String&gt; firstName = List.of(&quot;Monika&quot;,&quot;Shweta&quot;, &quot;Shruti&quot;,&quot;Anuradha&quot;);\nList&lt;String&gt; lastName = List.of(&quot;Mishra&quot;,&quot;Hariharno&quot;,&quot;Sharma&quot;,&quot;Mishra&quot;);\nList&lt;Integer&gt; sal = List.of(5000000,50,500,100000);\n\nList&lt;List&lt;?&gt;&gt; finalList = List.of(firstName,lastName,sal);\nfinalList.stream().flatMap(s-&gt;s.stream()).forEach(System.out::println);\n</code></pre>\n<p>When I am printing using <code>flatMap()</code> it is printing all <code>firstname</code>, <code>lastname</code>, and then <code>sal</code>.</p>\n<p>I want to print <code>firstName : lastName:sal</code> together for all of them in order.\nfor eg</p>\n<pre><code>Monika:Mishra:5000000\n</code></pre>\n<p>is it possible using <code>flatMap</code> or any other <code>java8</code> feature?</p>\n"},{"tags":["java","exception","response","http-response-codes"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1660588379,"post_id":73364602,"comment_id":129563026,"body_markdown":"What do you mean, &quot; read error codes from exception class&quot;?  Please elaborate with a code example. Have you looked [here](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status)?","body":"What do you mean, &quot; read error codes from exception class&quot;?  Please elaborate with a code example. Have you looked <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":5748671,"reputation":347,"user_id":4539129,"accept_rate":44,"display_name":"Mehul Parmar"},"score":0,"creation_date":1660627125,"post_id":73364602,"comment_id":129569939,"body_markdown":"Hello, updated to answer your question. I can only capture exception and assign a response code. Is there any categorization for that - exception to response code mapping? @OldProgrammer","body":"Hello, updated to answer your question. I can only capture exception and assign a response code. Is there any categorization for that - exception to response code mapping? @OldProgrammer"}],"answers":[{"tags":[],"owner":{"account_id":320694,"reputation":1530,"user_id":639107,"accept_rate":84,"display_name":"kn_pavan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660629179,"creation_date":1660629179,"answer_id":73369327,"question_id":73364602,"body_markdown":"I believe you may have to add a method to identify the failure reason from e.getMessage() for one OR have a custom exception to help with your case.  \r\nAlso if it‚Äôs an HTTP request-related exception (from the error response code mentioned in the question details) or something, you may want to add a custom exception, instead of throwing the original exception. In the custom exception, you can add a custom field to get errorCode from the response code.\r\n\r\n    // MyCustomException.java\r\n    public class MyCustomException extends Exception {\r\n    \r\n      String errorReason;\r\n      int errorCode;\r\n      \r\n      public MyCustomException(Throwable throwable, String errorReason, int errorCode) {\r\n        super(errorReason, throwable);\r\n        this.errorReason = errorReason;\r\n        this.errorCode = errorCode;\r\n      }\r\n    }\r\n\r\nAnd in your request handler code:\r\n\r\n    try {\r\n      // otherCode which might cause IOException\r\n      // ...\r\n      Response response = myHttpRequest();\r\n      if (!response.isSuccessful()) {\r\n        // identify the error code and set corresponding errorCode to MyCustomException. errorCode\r\n        int errorCode = 0;\r\n    // parse response.getStatusCode() or equivalent of the library and reassign the value of errorCode\r\n        throw new MyCustomException(e, e.getMessage(), errorCode);\r\n      }\r\n      // ...\r\n      // otherCode which might cause IOException\r\n    } catch (Exception | IOException e) {\r\n      throw new MyCustomException(e, e.getMessage(), 0);\r\n    }","title":"Parse exception in try catch block to assign a response code - 2xx, 4xx or 5xx","body":"<p>I believe you may have to add a method to identify the failure reason from e.getMessage() for one OR have a custom exception to help with your case.<br />\nAlso if it‚Äôs an HTTP request-related exception (from the error response code mentioned in the question details) or something, you may want to add a custom exception, instead of throwing the original exception. In the custom exception, you can add a custom field to get errorCode from the response code.</p>\n<pre><code>// MyCustomException.java\npublic class MyCustomException extends Exception {\n\n  String errorReason;\n  int errorCode;\n  \n  public MyCustomException(Throwable throwable, String errorReason, int errorCode) {\n    super(errorReason, throwable);\n    this.errorReason = errorReason;\n    this.errorCode = errorCode;\n  }\n}\n</code></pre>\n<p>And in your request handler code:</p>\n<pre><code>try {\n  // otherCode which might cause IOException\n  // ...\n  Response response = myHttpRequest();\n  if (!response.isSuccessful()) {\n    // identify the error code and set corresponding errorCode to MyCustomException. errorCode\n    int errorCode = 0;\n// parse response.getStatusCode() or equivalent of the library and reassign the value of errorCode\n    throw new MyCustomException(e, e.getMessage(), errorCode);\n  }\n  // ...\n  // otherCode which might cause IOException\n} catch (Exception | IOException e) {\n  throw new MyCustomException(e, e.getMessage(), 0);\n}\n</code></pre>\n"}],"owner":{"account_id":5748671,"reputation":347,"user_id":4539129,"accept_rate":44,"display_name":"Mehul Parmar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73369327,"answer_count":1,"score":1,"last_activity_date":1660629179,"creation_date":1660585578,"question_id":73364602,"body_markdown":"I have Jenkins plugin written in Java. I am capturing all the workflows of execution of plugin in a integer variable in three ways **0(2xx workflows), 1(4xx workflows), 2(5xx workflows)** and sending them to SignalFX for metrics. Since this is not an API and errors will be mainly caught in try catch workflow. \r\nI wanted to ask how to read error codes from exception class and categorize them in 2xx, 4xx or 5xx. Are there some rules which I can follow by?\r\n\r\n```\r\n    try {\r\n            Thread.sleep(60 * 1000);\r\n        } catch (InterruptedException e) {\r\n            sendToSignalFX(0,data);    // 0 means successful state\r\n        }\r\n```\r\n\r\nSome of the exceptions classes I will be using are - \r\n```Exception, IOException, InterruptedException, ParserConfigurationException, SAXException```","title":"Parse exception in try catch block to assign a response code - 2xx, 4xx or 5xx","body":"<p>I have Jenkins plugin written in Java. I am capturing all the workflows of execution of plugin in a integer variable in three ways <strong>0(2xx workflows), 1(4xx workflows), 2(5xx workflows)</strong> and sending them to SignalFX for metrics. Since this is not an API and errors will be mainly caught in try catch workflow.\nI wanted to ask how to read error codes from exception class and categorize them in 2xx, 4xx or 5xx. Are there some rules which I can follow by?</p>\n<pre><code>    try {\n            Thread.sleep(60 * 1000);\n        } catch (InterruptedException e) {\n            sendToSignalFX(0,data);    // 0 means successful state\n        }\n</code></pre>\n<p>Some of the exceptions classes I will be using are -\n<code>Exception, IOException, InterruptedException, ParserConfigurationException, SAXException</code></p>\n"},{"tags":["java","guava","multimap"],"answers":[{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1277217964,"creation_date":1277215585,"answer_id":3093893,"question_id":3093863,"body_markdown":"UPDATE: For what you&#39;re asking, I think you&#39;re going to need to fall back to [`Multimap.putAll`][1].\r\n\r\n[1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html#putAll(K,%20java.lang.Iterable)","title":"How to create a Multimap&lt;K,V&gt; from a Map&lt;K, Collection&lt;V&gt;&gt;?","body":"<p>UPDATE: For what you're asking, I think you're going to need to fall back to <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html#putAll(K,%20java.lang.Iterable)\" rel=\"nofollow noreferrer\"><code>Multimap.putAll</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1432016670,"creation_date":1277304169,"answer_id":3102655,"question_id":3093863,"body_markdown":"Assuming you have\r\n\r\n    Map&lt;String, Collection&lt;String&gt;&gt; map = ...;\r\n    Multimap&lt;String, String&gt; multimap = ArrayListMultimap.create();\r\n\r\nThen I believe this is the best you can do\r\n\r\n    for (String key : map.keySet()) {\r\n      multimap.putAll(key, map.get(key));\r\n    }\r\n\r\nor the more optimal, but harder to read\r\n\r\n    for (Entry&lt;String, Collection&lt;String&gt;&gt; entry : map.entrySet()) {\r\n      multimap.putAll(entry.getKey(), entry.getValue());\r\n    }\r\n","title":"How to create a Multimap&lt;K,V&gt; from a Map&lt;K, Collection&lt;V&gt;&gt;?","body":"<p>Assuming you have</p>\n\n<pre><code>Map&lt;String, Collection&lt;String&gt;&gt; map = ...;\nMultimap&lt;String, String&gt; multimap = ArrayListMultimap.create();\n</code></pre>\n\n<p>Then I believe this is the best you can do</p>\n\n<pre><code>for (String key : map.keySet()) {\n  multimap.putAll(key, map.get(key));\n}\n</code></pre>\n\n<p>or the more optimal, but harder to read</p>\n\n<pre><code>for (Entry&lt;String, Collection&lt;String&gt;&gt; entry : map.entrySet()) {\n  multimap.putAll(entry.getKey(), entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16046,"reputation":13138,"user_id":34553,"accept_rate":100,"display_name":"Daniel Alexiuc"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1336110766,"creation_date":1336110766,"answer_id":10443359,"question_id":3093863,"body_markdown":"Here is a useful generic version that I wrote for my [StuffGuavaIsMissing][1] class.\r\n\r\n    /**\r\n     * Creates a Guava multimap using the input map.\r\n     */\r\n    public static &lt;K, V&gt; Multimap&lt;K, V&gt; createMultiMap(Map&lt;K, ? extends Iterable&lt;V&gt;&gt; input) {\r\n      Multimap&lt;K, V&gt; multimap = ArrayListMultimap.create();\r\n      for (Map.Entry&lt;K, ? extends Iterable&lt;V&gt;&gt; entry : input.entrySet()) {\r\n        multimap.putAll(entry.getKey(), entry.getValue());\r\n      }\r\n      return multimap;\r\n    }\r\n\r\nAnd an immutable version:\r\n\r\n    /**\r\n     * Creates an Immutable Guava multimap using the input map.\r\n     */\r\n    public static &lt;K, V&gt; ImmutableMultimap&lt;K, V&gt; createImmutableMultiMap(Map&lt;K, ? extends Iterable&lt;V&gt;&gt; input) {\r\n      ImmutableMultimap.Builder&lt;K, V&gt; builder = ImmutableMultimap.builder();\r\n      for (Map.Entry&lt;K, ? extends Iterable&lt;V&gt;&gt; entry : input.entrySet()) {\r\n        builder.putAll(entry.getKey(), entry.getValue());\r\n      }\r\n      return builder.build();\r\n    }\r\n\r\n\r\n  [1]: http://pastebin.com/wFmbw5FE","title":"How to create a Multimap&lt;K,V&gt; from a Map&lt;K, Collection&lt;V&gt;&gt;?","body":"<p>Here is a useful generic version that I wrote for my <a href=\"http://pastebin.com/wFmbw5FE\" rel=\"noreferrer\">StuffGuavaIsMissing</a> class.</p>\n\n<pre><code>/**\n * Creates a Guava multimap using the input map.\n */\npublic static &lt;K, V&gt; Multimap&lt;K, V&gt; createMultiMap(Map&lt;K, ? extends Iterable&lt;V&gt;&gt; input) {\n  Multimap&lt;K, V&gt; multimap = ArrayListMultimap.create();\n  for (Map.Entry&lt;K, ? extends Iterable&lt;V&gt;&gt; entry : input.entrySet()) {\n    multimap.putAll(entry.getKey(), entry.getValue());\n  }\n  return multimap;\n}\n</code></pre>\n\n<p>And an immutable version:</p>\n\n<pre><code>/**\n * Creates an Immutable Guava multimap using the input map.\n */\npublic static &lt;K, V&gt; ImmutableMultimap&lt;K, V&gt; createImmutableMultiMap(Map&lt;K, ? extends Iterable&lt;V&gt;&gt; input) {\n  ImmutableMultimap.Builder&lt;K, V&gt; builder = ImmutableMultimap.builder();\n  for (Map.Entry&lt;K, ? extends Iterable&lt;V&gt;&gt; entry : input.entrySet()) {\n    builder.putAll(entry.getKey(), entry.getValue());\n  }\n  return builder.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2128309,"reputation":6169,"user_id":1889825,"accept_rate":38,"display_name":"Somnath Kadam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360856853,"creation_date":1360854584,"answer_id":14877875,"question_id":3093863,"body_markdown":"Following  code without Google&#39;s Guava library. It is used for double value as key and sorted order\r\n\r\n    \r\n    Map&lt;Double,List&lt;Object&gt;&gt; multiMap = new TreeMap&lt;Double,List&lt;Object&gt;&gt;();\r\n    \r\n    for( int i= 0;i&lt;15;i++)\r\n    {\r\n    \tList&lt;Object&gt; myClassList = multiMap.get((double)i);\r\n    \tif(myClassList == null)\r\n    \t{\r\n    \t\tmyClassList = new ArrayList&lt;Object&gt;();\r\n    \t\tmultiMap.put((double) i,myClassList);\r\n    \t}\r\n    \tmyClassList.add(&quot;Value &quot;+ i);\r\n    }\r\n    \r\n    List&lt;Object&gt; myClassList = multiMap.get((double)0);\r\n    if(myClassList == null)\r\n    {\r\n    \tmyClassList = new ArrayList&lt;Object&gt;();\r\n    \tmultiMap.put( (double) 0,myClassList);\r\n    }\r\n    myClassList.add(&quot;Value Duplicate&quot;);\r\n    for (Map.Entry entry : multiMap.entrySet()) \r\n    {\r\n      System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; +entry.getValue());\r\n    }\r\n\r\n","title":"How to create a Multimap&lt;K,V&gt; from a Map&lt;K, Collection&lt;V&gt;&gt;?","body":"<p>Following  code without Google's Guava library. It is used for double value as key and sorted order</p>\n\n<pre><code>Map&lt;Double,List&lt;Object&gt;&gt; multiMap = new TreeMap&lt;Double,List&lt;Object&gt;&gt;();\n\nfor( int i= 0;i&lt;15;i++)\n{\n    List&lt;Object&gt; myClassList = multiMap.get((double)i);\n    if(myClassList == null)\n    {\n        myClassList = new ArrayList&lt;Object&gt;();\n        multiMap.put((double) i,myClassList);\n    }\n    myClassList.add(\"Value \"+ i);\n}\n\nList&lt;Object&gt; myClassList = multiMap.get((double)0);\nif(myClassList == null)\n{\n    myClassList = new ArrayList&lt;Object&gt;();\n    multiMap.put( (double) 0,myClassList);\n}\nmyClassList.add(\"Value Duplicate\");\nfor (Map.Entry entry : multiMap.entrySet()) \n{\n  System.out.println(\"Key = \" + entry.getKey() + \", Value = \" +entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1699613,"reputation":1233,"user_id":1560086,"display_name":"Dillon Ryan Redding"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1456334660,"creation_date":1456334660,"answer_id":35608910,"question_id":3093863,"body_markdown":"This question is a little old, but I thought I&#39;d give an updated answer. With Java 8 you could do something along the lines of\r\n\r\n    ListMultimap&lt;String, String&gt; multimap = ArrayListMultimap.create();\r\n    Map&lt;String, Collection&lt;String&gt;&gt; map = ImmutableMap.of(\r\n                               &quot;1&quot;, Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;));\r\n    map.forEach(multimap::putAll);\r\n    System.out.println(multimap);\r\n\r\nThis should give you `{1=[a, b, c, c]}`, as desired.","title":"How to create a Multimap&lt;K,V&gt; from a Map&lt;K, Collection&lt;V&gt;&gt;?","body":"<p>This question is a little old, but I thought I'd give an updated answer. With Java 8 you could do something along the lines of</p>\n\n<pre><code>ListMultimap&lt;String, String&gt; multimap = ArrayListMultimap.create();\nMap&lt;String, Collection&lt;String&gt;&gt; map = ImmutableMap.of(\n                           \"1\", Arrays.asList(\"a\", \"b\", \"c\", \"c\"));\nmap.forEach(multimap::putAll);\nSystem.out.println(multimap);\n</code></pre>\n\n<p>This should give you <code>{1=[a, b, c, c]}</code>, as desired.</p>\n"},{"tags":[],"owner":{"account_id":5409370,"reputation":11,"user_id":4306738,"display_name":"H&#233;ctor Mu&#241;oz Berzosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523519491,"creation_date":1523519491,"answer_id":49790867,"question_id":3093863,"body_markdown":"    LinkedListMultimap&lt;String, String&gt; mm = map.entrySet()\r\n        .stream()\r\n        .collect(\r\n            () -&gt; LinkedListMultimap.create(map.size()),\r\n            (m, e) -&gt; m.putAll(e.getKey(), e.getValue()),\r\n            (m1, m2) -&gt; m1.putAll(m2));","title":"How to create a Multimap&lt;K,V&gt; from a Map&lt;K, Collection&lt;V&gt;&gt;?","body":"<pre><code>LinkedListMultimap&lt;String, String&gt; mm = map.entrySet()\n    .stream()\n    .collect(\n        () -&gt; LinkedListMultimap.create(map.size()),\n        (m, e) -&gt; m.putAll(e.getKey(), e.getValue()),\n        (m1, m2) -&gt; m1.putAll(m2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8532978,"reputation":834,"user_id":7260220,"accept_rate":25,"display_name":"nathanfranke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660629123,"creation_date":1615844427,"answer_id":66646036,"question_id":3093863,"body_markdown":"There is another method one can use:\r\n[`Multimaps#newMultimap`](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimaps.html#newMultimap(java.util.Map,%20com.google.common.base.Supplier))\r\n\r\nIf you are using a collection extending `List` or `Set`, the docs recommend using the special methods [`Multimaps#newListMultimap`](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimaps.html#newListMultimap(java.util.Map,%20com.google.common.base.Supplier)) and [`Multimaps#newSetMultimap`](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimaps.html#newSetMultimap(java.util.Map,%20com.google.common.base.Supplier)).\r\n```java\r\nimport com.google.common.collect.Multimaps;\r\n\r\nMultimaps.newListMultimap(myMap, ArrayList::new);\r\nMultimaps.newSetMultimap(myMap, HashSet::new);\r\n```\r\n","title":"How to create a Multimap&lt;K,V&gt; from a Map&lt;K, Collection&lt;V&gt;&gt;?","body":"<p>There is another method one can use:\n<a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimaps.html#newMultimap(java.util.Map,%20com.google.common.base.Supplier)\" rel=\"nofollow noreferrer\"><code>Multimaps#newMultimap</code></a></p>\n<p>If you are using a collection extending <code>List</code> or <code>Set</code>, the docs recommend using the special methods <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimaps.html#newListMultimap(java.util.Map,%20com.google.common.base.Supplier)\" rel=\"nofollow noreferrer\"><code>Multimaps#newListMultimap</code></a> and <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimaps.html#newSetMultimap(java.util.Map,%20com.google.common.base.Supplier)\" rel=\"nofollow noreferrer\"><code>Multimaps#newSetMultimap</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.common.collect.Multimaps;\n\nMultimaps.newListMultimap(myMap, ArrayList::new);\nMultimaps.newSetMultimap(myMap, HashSet::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6830764,"reputation":467,"user_id":5254851,"accept_rate":50,"display_name":"Rados≈Çaw Panuszewski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616442301,"creation_date":1616442301,"answer_id":66752871,"question_id":3093863,"body_markdown":"You can use the `com.google.common.collect.Multimaps.flatteningToMultimap` as your stream collector. &lt;br /&gt; &lt;br /&gt;\r\nGiven map:\r\n```java\r\nMap&lt;Integer, Collection&lt;String&gt;&gt; map = Map.of(\r\n   1, List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\r\n   2, List.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;));\r\n```\r\nYou can do the following:\r\n```java\r\nMultimap&lt;Integer, String&gt; multimap = map.entrySet().stream()\r\n    .collect(flatteningToMultimap(Map.Entry::getKey, it -&gt; it.getValue().stream(), HashMultimap::create));\r\n```","title":"How to create a Multimap&lt;K,V&gt; from a Map&lt;K, Collection&lt;V&gt;&gt;?","body":"<p>You can use the <code>com.google.common.collect.Multimaps.flatteningToMultimap</code> as your stream collector. <br /> <br />\nGiven map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Collection&lt;String&gt;&gt; map = Map.of(\n   1, List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\n   2, List.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;));\n</code></pre>\n<p>You can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multimap&lt;Integer, String&gt; multimap = map.entrySet().stream()\n    .collect(flatteningToMultimap(Map.Entry::getKey, it -&gt; it.getValue().stream(), HashMultimap::create));\n</code></pre>\n"}],"owner":{"account_id":156145,"reputation":11981,"user_id":373254,"accept_rate":100,"display_name":"sly7_7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87862,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":3102655,"answer_count":8,"score":52,"last_activity_date":1660629123,"creation_date":1277215388,"question_id":3093863,"body_markdown":"I didn&#39;t find such a multimap construction... When I want to do this, I iterate over the map, and populate the multimap. Is there an other way?\r\n\r\n\r\n    final Map&lt;String, Collection&lt;String&gt;&gt; map = ImmutableMap.&lt;String, Collection&lt;String&gt;&gt;of(\r\n                &quot;1&quot;, Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;));\r\n    System.out.println(Multimaps.forMap(map));\r\n\r\n    final Multimap&lt;String, String&gt; expected = ArrayListMultimap.create();\r\n    for (Map.Entry&lt;String, Collection&lt;String&gt;&gt; entry : map.entrySet()) {\r\n        expected.putAll(entry.getKey(), entry.getValue());\r\n    }\r\n    System.out.println(expected);\r\n\r\nThe first result is `{1=[[a, b, c, c]]}` but I expect `{1=[a, b, c, c]}`\r\n\r\n","title":"How to create a Multimap&lt;K,V&gt; from a Map&lt;K, Collection&lt;V&gt;&gt;?","body":"<p>I didn't find such a multimap construction... When I want to do this, I iterate over the map, and populate the multimap. Is there an other way?</p>\n\n<pre><code>final Map&lt;String, Collection&lt;String&gt;&gt; map = ImmutableMap.&lt;String, Collection&lt;String&gt;&gt;of(\n            \"1\", Arrays.asList(\"a\", \"b\", \"c\", \"c\"));\nSystem.out.println(Multimaps.forMap(map));\n\nfinal Multimap&lt;String, String&gt; expected = ArrayListMultimap.create();\nfor (Map.Entry&lt;String, Collection&lt;String&gt;&gt; entry : map.entrySet()) {\n    expected.putAll(entry.getKey(), entry.getValue());\n}\nSystem.out.println(expected);\n</code></pre>\n\n<p>The first result is <code>{1=[[a, b, c, c]]}</code> but I expect <code>{1=[a, b, c, c]}</code></p>\n"},{"tags":["java","spring-boot","spring-cloud","netflix-eureka","api-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1660575795,"post_id":73361948,"comment_id":129558871,"body_markdown":"`/college/student/CLG01` will always match the college service, not the student service","body":"<code>&#47;college&#47;student&#47;CLG01</code> will always match the college service, not the student service"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1660586609,"post_id":73361948,"comment_id":129562506,"body_markdown":"@spencergibb What I want to do for match this url for college-service","body":"@spencergibb What I want to do for match this url for college-service"}],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660618623,"creation_date":1660618623,"answer_id":73368313,"question_id":73361948,"body_markdown":"Predicate for your `student-service` is to match all the requests that start with student(`Path=/student/**`). However you are you calling the `student-service` with the request that starts with college(`/college/student/CLG01`). This request will me matched to `college-service` since you set the predicate for this service as `Path=/college/**`. `/college/**` path matches `/college/student/CLG01` path. \r\n\r\nPossible solutions:\r\n\r\n1. Change your `StudentController` request mapping from `/college` to `/student`\r\n2. Use different predicate for your student service, such as `Host`\r\n3. Set specific path predicate and change the order of routes:\r\n\r\n```\r\n     routes:\r\n      - id: student-service\r\n        uri: lb://student-service\r\n        predicates:\r\n        - Path=/college/student/**\r\n      - id: college-service\r\n        uri: lb://college-service\r\n        predicates:\r\n        - Path=/college/**\r\n```","title":"Spring Cloud : API Gateway routing not working","body":"<p>Predicate for your <code>student-service</code> is to match all the requests that start with student(<code>Path=/student/**</code>). However you are you calling the <code>student-service</code> with the request that starts with college(<code>/college/student/CLG01</code>). This request will me matched to <code>college-service</code> since you set the predicate for this service as <code>Path=/college/**</code>. <code>/college/**</code> path matches <code>/college/student/CLG01</code> path.</p>\n<p>Possible solutions:</p>\n<ol>\n<li>Change your <code>StudentController</code> request mapping from <code>/college</code> to <code>/student</code></li>\n<li>Use different predicate for your student service, such as <code>Host</code></li>\n<li>Set specific path predicate and change the order of routes:</li>\n</ol>\n<pre><code>     routes:\n      - id: student-service\n        uri: lb://student-service\n        predicates:\n        - Path=/college/student/**\n      - id: college-service\n        uri: lb://college-service\n        predicates:\n        - Path=/college/**\n</code></pre>\n"}],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73368313,"answer_count":1,"score":0,"last_activity_date":1660627800,"creation_date":1660571542,"question_id":73361948,"body_markdown":"I am working with Spring Cloud. I have four services in my spring boot application `college-service`, `student-service`, `eureka-server` and `api-gateway`. I am trying to call `college-service` and `student-service` with API Gateway. While I&#39;m calling My `college-service` from API Gateway that&#39;s work fine but `student-service` is not working. While I am trying to get `student-serivice`, I get error `404` not found. I&#39;m new guy in Spring Cloud. Here down is my code.\r\n\r\n*Here down is my urls, Where in last url I get 404*\r\n\r\n|                          URL                                 |        Status        |\r\n|--------------------------------------------------------------|----------------------|\r\n|          http://localhost:9001/college/CLG01                 |         200 OK       |\r\n|          http://localhost:9002/college/student/CLG01         |         200 OK       |\r\n|          http://localhost:9003/college/CLG01                 |         200 OK       |\r\n|          http://localhost:9003/college/student/CLG01         |         400 Not Found|\r\n\r\n### Colleger Service\r\n\r\n*Entity*\r\n```\r\npublic class College {\r\n\tprivate String clgId;\r\n\tprivate String clgName;\r\n\tprivate String clgCity;\r\n\r\n\tList&lt;Student&gt; students;\r\n\r\n\tpublic College(String clgId, String clgName, String clgCity, List&lt;Student&gt; students) {\r\n\t\tthis.clgId = clgId;\r\n\t\tthis.clgName = clgName;\r\n\t\tthis.clgCity = clgCity;\r\n\t\tthis.students = students;\r\n\t}\r\n\r\n\tpublic College(String clgId, String clgName, String clgCity) {\r\n\t\tthis.clgId = clgId;\r\n\t\tthis.clgName = clgName;\r\n\t\tthis.clgCity = clgCity;\r\n\t}\r\n   \r\n    // getter and setter\r\n}\r\n\r\npublic class Student {\r\n\tprivate Long stId;\r\n\tprivate String stName;\r\n\tprivate String stEmail;\r\n\tprivate String clgId;\r\n\r\n\tpublic Student(Long stId, String stName, String stEmail, String clgId) {\r\n\t\tsuper();\r\n\t\tthis.stId = stId;\r\n\t\tthis.stName = stName;\r\n\t\tthis.stEmail = stEmail;\r\n\t\tthis.clgId = clgId;\r\n\t}\r\n\r\n    // getter and setter\r\n}\r\n```\r\n\r\n*College Controller*\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/college&quot;)\r\npublic class CollegeController {\r\n\t@Autowired\r\n\tprivate CollegeService collegeService;\r\n\r\n\t@Autowired\r\n\tprivate RestTemplate restTemplate;\r\n\r\n\t@RequestMapping(value = &quot;/{clgId}&quot;, method = RequestMethod.GET)\r\n\tpublic ResponseEntity&lt;College&gt; getColleges(@PathVariable(&quot;clgId&quot;) String clgId) {\r\n\t\tCollege college = collegeService.getCollege(clgId);\r\n\t\tList student = restTemplate.getForObject(&quot;http://student-service/college/student/&quot; + college.getClgId(),\r\n\t\t\t\tList.class);\r\n\t\tcollege.setStudents(student);\r\n\t\treturn ResponseEntity.ok(college);\r\n\t}\r\n}\r\n```\r\n\r\n*application.yml*\r\n```\r\nserver:\r\n  port: 9001\r\n  \r\nspring:\r\n  application:\r\n    name: college-service\r\n    \r\neureka:\r\n  instance:\r\n    hostname: localhost\r\n```\r\n\r\n### Student Service\r\n\r\n*Student Controller*\r\n*Entity*\r\n```\r\npublic class Student {\r\n\tprivate Long stId;\r\n\tprivate String stName;\r\n\tprivate String stEmail;\r\n\tprivate String clgId;\r\n\r\n\tpublic Student(Long stId, String stName, String stEmail, String clgId) {\r\n\t\tsuper();\r\n\t\tthis.stId = stId;\r\n\t\tthis.stName = stName;\r\n\t\tthis.stEmail = stEmail;\r\n\t\tthis.clgId = clgId;\r\n\t}\r\n\r\n    // getter and setter\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/college&quot;)\r\npublic class StudentCotroller {\r\n\r\n\t@Autowired\r\n\tprivate StudentService studentService;\r\n\r\n\t@RequestMapping(value = &quot;/student/{clgId}&quot;, method = RequestMethod.GET)\r\n\tpublic ResponseEntity&lt;List&lt;Student&gt;&gt; getStudents(@PathVariable(&quot;clgId&quot;) String clgId) {\r\n\t\treturn ResponseEntity.ok(studentService.getStudents(clgId));\r\n\t}\r\n\r\n}\r\n```\r\n\r\n*application.yml*\r\n```\r\nserver:\r\n  port: 9002\r\n  \r\nspring:\r\n  application:\r\n    name: student-service\r\n    \r\neureka:\r\n  instance:\r\n    hostname: localhost\r\n```\r\n\r\n### Eureka Server\r\n\r\n*application.yml*\r\n```\r\nserver:\r\n  port: 8761\r\n\r\neureka:\r\n  instance:\r\n    hostname: localhost\r\n  client:\r\n    registerWithEureka: false\r\n    fetchRegistry: false\r\n  server:\r\n    waitTimeInMsWhenSyncEmpty: 0\r\n```\r\n\r\n### API Gateway Service\r\n\r\n*application.yml*\r\n```\r\nserver:\r\n  port: 9003\r\n  \r\neureka:\r\n  instance:\r\n    hostname: localhost\r\n\r\nspring:\r\n  application:\r\n    name: api-gateway\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: college-service\r\n        uri: lb://college-service\r\n        predicates:\r\n        - Path=/college/**\r\n      - id: student-service\r\n        uri: lb://student-service\r\n        predicates:\r\n        - Path=/student/**\r\n```","title":"Spring Cloud : API Gateway routing not working","body":"<p>I am working with Spring Cloud. I have four services in my spring boot application <code>college-service</code>, <code>student-service</code>, <code>eureka-server</code> and <code>api-gateway</code>. I am trying to call <code>college-service</code> and <code>student-service</code> with API Gateway. While I'm calling My <code>college-service</code> from API Gateway that's work fine but <code>student-service</code> is not working. While I am trying to get <code>student-serivice</code>, I get error <code>404</code> not found. I'm new guy in Spring Cloud. Here down is my code.</p>\n<p><em>Here down is my urls, Where in last url I get 404</em></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>URL</th>\n<th>Status</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>http://localhost:9001/college/CLG01</td>\n<td>200 OK</td>\n</tr>\n<tr>\n<td>http://localhost:9002/college/student/CLG01</td>\n<td>200 OK</td>\n</tr>\n<tr>\n<td>http://localhost:9003/college/CLG01</td>\n<td>200 OK</td>\n</tr>\n<tr>\n<td>http://localhost:9003/college/student/CLG01</td>\n<td>400 Not Found</td>\n</tr>\n</tbody>\n</table>\n</div><h3>Colleger Service</h3>\n<p><em>Entity</em></p>\n<pre><code>public class College {\n    private String clgId;\n    private String clgName;\n    private String clgCity;\n\n    List&lt;Student&gt; students;\n\n    public College(String clgId, String clgName, String clgCity, List&lt;Student&gt; students) {\n        this.clgId = clgId;\n        this.clgName = clgName;\n        this.clgCity = clgCity;\n        this.students = students;\n    }\n\n    public College(String clgId, String clgName, String clgCity) {\n        this.clgId = clgId;\n        this.clgName = clgName;\n        this.clgCity = clgCity;\n    }\n   \n    // getter and setter\n}\n\npublic class Student {\n    private Long stId;\n    private String stName;\n    private String stEmail;\n    private String clgId;\n\n    public Student(Long stId, String stName, String stEmail, String clgId) {\n        super();\n        this.stId = stId;\n        this.stName = stName;\n        this.stEmail = stEmail;\n        this.clgId = clgId;\n    }\n\n    // getter and setter\n}\n</code></pre>\n<p><em>College Controller</em></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/college&quot;)\npublic class CollegeController {\n    @Autowired\n    private CollegeService collegeService;\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    @RequestMapping(value = &quot;/{clgId}&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;College&gt; getColleges(@PathVariable(&quot;clgId&quot;) String clgId) {\n        College college = collegeService.getCollege(clgId);\n        List student = restTemplate.getForObject(&quot;http://student-service/college/student/&quot; + college.getClgId(),\n                List.class);\n        college.setStudents(student);\n        return ResponseEntity.ok(college);\n    }\n}\n</code></pre>\n<p><em>application.yml</em></p>\n<pre><code>server:\n  port: 9001\n  \nspring:\n  application:\n    name: college-service\n    \neureka:\n  instance:\n    hostname: localhost\n</code></pre>\n<h3>Student Service</h3>\n<p><em>Student Controller</em>\n<em>Entity</em></p>\n<pre><code>public class Student {\n    private Long stId;\n    private String stName;\n    private String stEmail;\n    private String clgId;\n\n    public Student(Long stId, String stName, String stEmail, String clgId) {\n        super();\n        this.stId = stId;\n        this.stName = stName;\n        this.stEmail = stEmail;\n        this.clgId = clgId;\n    }\n\n    // getter and setter\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/college&quot;)\npublic class StudentCotroller {\n\n    @Autowired\n    private StudentService studentService;\n\n    @RequestMapping(value = &quot;/student/{clgId}&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;List&lt;Student&gt;&gt; getStudents(@PathVariable(&quot;clgId&quot;) String clgId) {\n        return ResponseEntity.ok(studentService.getStudents(clgId));\n    }\n\n}\n</code></pre>\n<p><em>application.yml</em></p>\n<pre><code>server:\n  port: 9002\n  \nspring:\n  application:\n    name: student-service\n    \neureka:\n  instance:\n    hostname: localhost\n</code></pre>\n<h3>Eureka Server</h3>\n<p><em>application.yml</em></p>\n<pre><code>server:\n  port: 8761\n\neureka:\n  instance:\n    hostname: localhost\n  client:\n    registerWithEureka: false\n    fetchRegistry: false\n  server:\n    waitTimeInMsWhenSyncEmpty: 0\n</code></pre>\n<h3>API Gateway Service</h3>\n<p><em>application.yml</em></p>\n<pre><code>server:\n  port: 9003\n  \neureka:\n  instance:\n    hostname: localhost\n\nspring:\n  application:\n    name: api-gateway\n  cloud:\n    gateway:\n      routes:\n      - id: college-service\n        uri: lb://college-service\n        predicates:\n        - Path=/college/**\n      - id: student-service\n        uri: lb://student-service\n        predicates:\n        - Path=/student/**\n</code></pre>\n"},{"tags":["java","android","firebase","push-notification"],"answers":[{"tags":[],"owner":{"account_id":2624262,"reputation":1566,"user_id":2271651,"display_name":"sergpetrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660569887,"creation_date":1660569887,"answer_id":73361649,"question_id":73360790,"body_markdown":"Try to use `setSound` method instead of `setDefaults`.\r\n\r\n\r\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION)\r\n    \r\n        val notification: Notification.Builder = Builder(this, CHANNEL_ID)\r\n            .setContentTitle(title)\r\n            .setContentText(text)\r\n            .setSmallIcon(R.drawable.demo)\r\n            .setAutoCancel(true)\r\n            .setVibrate(longArrayOf(0, 100, 300, 500, 800, 1000, 1000, 1000, 1000, 1000))\r\n            .setOngoing(true)\r\n            .setPriority(Notification.PRIORITY_MAX)\r\n        --&gt; .setSound(defaultSoundUri)\r\n            .setVisibility(Notification.VISIBILITY_PUBLIC)","title":"firebase push notification sound not working on android app in android studio","body":"<p>Try to use <code>setSound</code> method instead of <code>setDefaults</code>.</p>\n<pre><code>    Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION)\n\n    val notification: Notification.Builder = Builder(this, CHANNEL_ID)\n        .setContentTitle(title)\n        .setContentText(text)\n        .setSmallIcon(R.drawable.demo)\n        .setAutoCancel(true)\n        .setVibrate(longArrayOf(0, 100, 300, 500, 800, 1000, 1000, 1000, 1000, 1000))\n        .setOngoing(true)\n        .setPriority(Notification.PRIORITY_MAX)\n    --&gt; .setSound(defaultSoundUri)\n        .setVisibility(Notification.VISIBILITY_PUBLIC)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24644993,"reputation":104,"user_id":18542740,"display_name":"Shyam Sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660627728,"creation_date":1660627728,"answer_id":73369136,"question_id":73360790,"body_markdown":"First You have uninstall your app then try again.\r\n\r\nIf this does not work for then try using below code\r\n\r\n   \r\n\r\n    Intent intent = new Intent(this, MainActivity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\r\n                PendingIntent.FLAG_ONE_SHOT);\r\n    \r\n        String channelId = CommonUtill.random();\r\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        NotificationCompat.Builder notificationBuilder =\r\n                new NotificationCompat.Builder(this, channelId)\r\n                        .setSmallIcon(R.drawable.logo)\r\n                        .setContentTitle(getString(R.string.app_name))\r\n                        .setContentText(messageBody)\r\n                        .setAutoCancel(true)\r\n    \r\n                        .setSound(defaultSoundUri)\r\n                        .setStyle(new NotificationCompat.BigTextStyle()\r\n                                .bigText(messageBody).setBigContentTitle(getString(R.string.app_name)))\r\n                        .setContentIntent(pendingIntent);\r\n    \r\n        NotificationManager notificationManager =\r\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \r\n        // Since android Oreo notification channel is needed.\r\n        Uri sound = Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE + &quot;://&quot; + getPackageName() + &quot;/&quot; + R.raw.notification);\r\n    \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n    \r\n    \r\n            AudioAttributes attributes = new AudioAttributes.Builder()\r\n                    .setUsage(AudioAttributes.USAGE_NOTIFICATION)\r\n                    .build();\r\n    \r\n            NotificationChannel mChannel = new NotificationChannel(channelId,\r\n                    getString(R.string.app_name),\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n    \r\n            // Configure the notification channel.\r\n            mChannel.setDescription(&quot;desc&quot;);\r\n            mChannel.enableLights(true);\r\n            mChannel.enableVibration(true);\r\n            mChannel.setSound(sound, attributes); // This is IMPORTANT\r\n    \r\n    \r\n            if (notificationManager != null)\r\n                notificationManager.createNotificationChannel(mChannel);\r\n    \r\n        }\r\n        notificationManager.notify(943/* ID of notification */, notificationBuilder.build());\r\n\r\n\r\nThis is reference link\r\n[https://stackoverflow.com/questions/57882970/android-push-notification-sound-is-missing-not-working-background-and-foregro][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57882970/android-push-notification-sound-is-missing-not-working-background-and-foregro","title":"firebase push notification sound not working on android app in android studio","body":"<p>First You have uninstall your app then try again.</p>\n<p>If this does not work for then try using below code</p>\n<pre><code>Intent intent = new Intent(this, MainActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n            PendingIntent.FLAG_ONE_SHOT);\n\n    String channelId = CommonUtill.random();\n    Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n    NotificationCompat.Builder notificationBuilder =\n            new NotificationCompat.Builder(this, channelId)\n                    .setSmallIcon(R.drawable.logo)\n                    .setContentTitle(getString(R.string.app_name))\n                    .setContentText(messageBody)\n                    .setAutoCancel(true)\n\n                    .setSound(defaultSoundUri)\n                    .setStyle(new NotificationCompat.BigTextStyle()\n                            .bigText(messageBody).setBigContentTitle(getString(R.string.app_name)))\n                    .setContentIntent(pendingIntent);\n\n    NotificationManager notificationManager =\n            (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n    // Since android Oreo notification channel is needed.\n    Uri sound = Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE + &quot;://&quot; + getPackageName() + &quot;/&quot; + R.raw.notification);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n\n        AudioAttributes attributes = new AudioAttributes.Builder()\n                .setUsage(AudioAttributes.USAGE_NOTIFICATION)\n                .build();\n\n        NotificationChannel mChannel = new NotificationChannel(channelId,\n                getString(R.string.app_name),\n                NotificationManager.IMPORTANCE_HIGH);\n\n        // Configure the notification channel.\n        mChannel.setDescription(&quot;desc&quot;);\n        mChannel.enableLights(true);\n        mChannel.enableVibration(true);\n        mChannel.setSound(sound, attributes); // This is IMPORTANT\n\n\n        if (notificationManager != null)\n            notificationManager.createNotificationChannel(mChannel);\n\n    }\n    notificationManager.notify(943/* ID of notification */, notificationBuilder.build());\n</code></pre>\n<p>This is reference link\n<a href=\"https://stackoverflow.com/questions/57882970/android-push-notification-sound-is-missing-not-working-background-and-foregro\">Android Push Notification Sound is missing (Not Working ) background and foreground on android</a></p>\n"}],"owner":{"account_id":18463401,"reputation":81,"user_id":13450267,"display_name":"SHUBHAM SONI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660627728,"creation_date":1660565170,"question_id":73360790,"body_markdown":"I have implement Push notification firebase services class and add on my project and send notification API Request through so notification proper receive but notification sound work to app active condition only but it will be require all notification receive time.\r\n\r\nany one this type condition face and resolve please suggest changes.\r\n\r\n         String title = Objects.requireNonNull(remoteMessage.getNotification()).getTitle();\r\n            String text = remoteMessage.getNotification().getBody();\r\n            remoteMessage.getMessageType();\r\n    //       String channelId = remoteMessage.getNotification().getChannelId();\r\n    //        Log.d(&quot;channelId&quot;, &quot;onMessageReceived: &quot;+channelId);\r\n            final String CHANNEL_ID = &quot;HEADS_UP_NOTIFICATION&quot;;\r\n            NotificationChannel channel = new NotificationChannel(\r\n                     CHANNEL_ID,\r\n                    &quot;Heads Up notification&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH\r\n            );\r\n            getSystemService(NotificationManager.class).createNotificationChannel(channel);\r\n            Notification.Builder notification = new Notification.Builder(this,CHANNEL_ID)\r\n                    .setContentTitle(title)\r\n                    .setContentText(text)\r\n                    .setSmallIcon(R.drawable.demo)\r\n                    .setAutoCancel(true)\r\n                    .setVibrate(new long[] { 0,100,300,500,800,1000, 1000, 1000, 1000, 1000 })\r\n                    .setOngoing(true)\r\n                    .setPriority(Notification.PRIORITY_MAX)\r\n                    .setDefaults(Notification.DEFAULT_SOUND)\r\n                    .setVisibility(Notification.VISIBILITY_PUBLIC);\r\n            //  custom notification\r\n         /*   MediaPlayer mp;\r\n            mp = MediaPlayer.create(PushNotificationServices.this, R.raw.short_notification_sound);\r\n            mp.start();*/\r\n            @SuppressLint(&quot;UnspecifiedImmutableFlag&quot;) PendingIntent contentIntent = PendingIntent.getActivity(this, 0,\r\n                    new Intent(this, MainActivity.class),  PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n            notification.setContentIntent(contentIntent);\r\n            NotificationManagerCompat.from(this).notify(1,notification.build());\r\n            super.onMessageReceived(remoteMessage);\r\n\r\n \r\n","title":"firebase push notification sound not working on android app in android studio","body":"<p>I have implement Push notification firebase services class and add on my project and send notification API Request through so notification proper receive but notification sound work to app active condition only but it will be require all notification receive time.</p>\n<p>any one this type condition face and resolve please suggest changes.</p>\n<pre><code>     String title = Objects.requireNonNull(remoteMessage.getNotification()).getTitle();\n        String text = remoteMessage.getNotification().getBody();\n        remoteMessage.getMessageType();\n//       String channelId = remoteMessage.getNotification().getChannelId();\n//        Log.d(&quot;channelId&quot;, &quot;onMessageReceived: &quot;+channelId);\n        final String CHANNEL_ID = &quot;HEADS_UP_NOTIFICATION&quot;;\n        NotificationChannel channel = new NotificationChannel(\n                 CHANNEL_ID,\n                &quot;Heads Up notification&quot;,\n                NotificationManager.IMPORTANCE_HIGH\n        );\n        getSystemService(NotificationManager.class).createNotificationChannel(channel);\n        Notification.Builder notification = new Notification.Builder(this,CHANNEL_ID)\n                .setContentTitle(title)\n                .setContentText(text)\n                .setSmallIcon(R.drawable.demo)\n                .setAutoCancel(true)\n                .setVibrate(new long[] { 0,100,300,500,800,1000, 1000, 1000, 1000, 1000 })\n                .setOngoing(true)\n                .setPriority(Notification.PRIORITY_MAX)\n                .setDefaults(Notification.DEFAULT_SOUND)\n                .setVisibility(Notification.VISIBILITY_PUBLIC);\n        //  custom notification\n     /*   MediaPlayer mp;\n        mp = MediaPlayer.create(PushNotificationServices.this, R.raw.short_notification_sound);\n        mp.start();*/\n        @SuppressLint(&quot;UnspecifiedImmutableFlag&quot;) PendingIntent contentIntent = PendingIntent.getActivity(this, 0,\n                new Intent(this, MainActivity.class),  PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n        notification.setContentIntent(contentIntent);\n        NotificationManagerCompat.from(this).notify(1,notification.build());\n        super.onMessageReceived(remoteMessage);\n</code></pre>\n"},{"tags":["java","apache-kafka","avro","spring-cloud-stream","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660776813,"post_id":73357938,"comment_id":129615837,"body_markdown":"The `id` field in your logs are not the same. Should it be? Also consumer logs seem to be printing `GenericMessage`, not `Event` `toString` message ... Think you want `e.getPayload().toString()`","body":"The <code>id</code> field in your logs are not the same. Should it be? Also consumer logs seem to be printing <code>GenericMessage</code>, not <code>Event</code> <code>toString</code> message ... Think you want <code>e.getPayload().toString()</code>"}],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660610731,"creation_date":1660610731,"answer_id":73367690,"question_id":73357938,"body_markdown":"I believe, the issue is with your DTO, where the value of the evenId is not setting/getting correctly and it is always returning the default value of int, which is **0**.\r\n\r\nThis is how it looks the auto-generated class out of your .avsc. So, we need to set/get eventId in your event class appropriately.\r\n\r\n    /** Gets the value of the &#39;eventId&#39; field */\r\n    public java.lang.Integer getEventId() {\r\n      return eventId;\r\n    }\r\n    \r\n    /** Sets the value of the &#39;eventId&#39; field */\r\n    public com.example.schema.avro.Event.Builder setEventId(int value) {\r\n      validate(fields()[0], value);\r\n      this.eventId = value;\r\n      fieldSetFlags()[0] = true;\r\n      return this; \r\n    }\r\n\r\n    public Event build() {\r\n      try {\r\n        Event record = new Event();\r\n        record.eventId = fieldSetFlags()[0] ? this.eventId : (java.lang.Integer) defaultValue(fields()[0]);\r\n        return record;\r\n      } catch (Exception e) {\r\n        throw new org.apache.avro.AvroRuntimeException(e);\r\n      }\r\n    }","title":"Spring boot kafka with schema registry - payload is not matching at consumer end","body":"<p>I believe, the issue is with your DTO, where the value of the evenId is not setting/getting correctly and it is always returning the default value of int, which is <strong>0</strong>.</p>\n<p>This is how it looks the auto-generated class out of your .avsc. So, we need to set/get eventId in your event class appropriately.</p>\n<pre><code>/** Gets the value of the 'eventId' field */\npublic java.lang.Integer getEventId() {\n  return eventId;\n}\n\n/** Sets the value of the 'eventId' field */\npublic com.example.schema.avro.Event.Builder setEventId(int value) {\n  validate(fields()[0], value);\n  this.eventId = value;\n  fieldSetFlags()[0] = true;\n  return this; \n}\n\npublic Event build() {\n  try {\n    Event record = new Event();\n    record.eventId = fieldSetFlags()[0] ? this.eventId : (java.lang.Integer) defaultValue(fields()[0]);\n    return record;\n  } catch (Exception e) {\n    throw new org.apache.avro.AvroRuntimeException(e);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1361052,"reputation":3517,"user_id":1298426,"accept_rate":52,"display_name":"user1298426"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660627642,"creation_date":1660548246,"question_id":73357938,"body_markdown":"I have a producer with this configuration\r\n\r\n      kafka:\r\n        bootstrap-servers: localhost:9092\r\n      cloud:\r\n        stream:\r\n          binder:\r\n            consumer-properties:\r\n              key.deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n              value.deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n              schema.registry.url: http://localhost:8081\r\n              properties:\r\n                specific.avro.reader: true\r\n          schemaRegistryClient:\r\n            endpoint: http://localhost:8081\r\n          bindings:\r\n            event-in-0:\r\n              destination: event-details\r\n              contentType: application/*+avro\r\n              group: group1\r\n          function:\r\n            definition: event\r\n\r\nThis is my schema \r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;Event&quot;,\r\n      &quot;namespace&quot;: &quot;com.example.schema.avro&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;eventId&quot;,\r\n          &quot;type&quot;: &quot;int&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nand code to publish the message \r\n\r\n    public void sendEvent(final EventDto eventDto) {\r\n        final Event apply = event().apply(eventDto);\r\n        final Message&lt;Event&gt; build = MessageBuilder.withPayload(apply)\r\n                .setHeader(&quot;partitionKey&quot;, eventDto.eventId())\r\n                .setHeader(&quot;customHeader&quot;, &quot;test&quot;).build();\r\n        final boolean send = streamBridge.send(&quot;event-out-0&quot;, build);\r\n        log.info(String.valueOf(build));\r\n    }\r\n\r\nThis produces the correct event as seen in the logs \r\n\r\n    2022-08-15 09:12:23.988  INFO 25112 --- [nio-9090-exec-5] c.e.eventproducer.service.EventService   : GenericMessage [payload={&quot;eventId&quot;: 200}, headers={customHeader=test, id=70c3e52c-f419-cf0c-8fae-0ba07d8876da, partitionKey=200, timestamp=1660547543987}]\r\n\r\nNow at the consumer end, I expect the same eventId:200 but I always get 0 no matter what the event id is. This is my consumer configuration\r\n\r\n      kafka:\r\n        bootstrap-servers: localhost:9092\r\n      cloud:\r\n        stream:\r\n          binder:\r\n            consumer-properties:\r\n              key.deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n              value.deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n              schema.registry.url: http://localhost:8081\r\n              properties:\r\n                specific.avro.reader: true\r\n          schemaRegistryClient:\r\n            endpoint: http://localhost:8081\r\n          bindings:\r\n            event-in-0:\r\n              destination: event-details\r\n              contentType: application/*+avro\r\n              group: group1\r\n          function:\r\n            definition: event\r\n\r\nThis is to subscribe the message\r\n\r\n    @Bean\r\n    public Consumer&lt;Message&lt;Event&gt;&gt; event() {\r\n        return e -&gt; {\r\n            log.info(e.toString());\r\n            eventRepository.save(new com.example.eventconsumer.doamin.Event(e.getPayload().getEventId()));\r\n        };\r\n    }\r\n\r\nand the log shows \r\n\r\n    2022-08-15 09:12:23.992  INFO [,b19cd949219432acf232403bdcea45c2,1464ff27cfed8011] 24596 --- [container-0-C-1] c.e.eventconsumer.service.EventService   : GenericMessage [payload={&quot;eventId&quot;: 0}, headers={customHeader=test, deliveryAttempt=1, kafka_timestampType=CREATE_TIME, scst_partition=0, kafka_receivedTopic=event-details, kafka_offset=97, partitionKey=200, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@41d9d95, source-type=kafka, id=0762521f-069b-a91d-acc5-69e6bb2eb4eb, kafka_receivedPartitionId=0, contentType=application/vnd.event.v1+avro, kafka_receivedTimestamp=1660547543987, kafka_groupId=group1, timestamp=1660547543992}]\r\n\r\nHere is the auto-generated Event.java class from .avsc file\r\n\r\n\r\n        /**\r\n     * Autogenerated by Avro\r\n     *\r\n     * DO NOT EDIT DIRECTLY\r\n     */\r\n    package com.example.schema.avro;\r\n    \r\n    import org.apache.avro.specific.SpecificData;\r\n    import org.apache.avro.message.BinaryMessageEncoder;\r\n    import org.apache.avro.message.BinaryMessageDecoder;\r\n    import org.apache.avro.message.SchemaStore;\r\n    \r\n    @SuppressWarnings(&quot;all&quot;)\r\n    @org.apache.avro.specific.AvroGenerated\r\n    public class Event extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\r\n      private static final long serialVersionUID = -4520271777387293905L;\r\n      public static final org.apache.avro.Schema SCHEMA$ = new org.apache.avro.Schema.Parser().parse(&quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;Event\\&quot;,\\&quot;namespace\\&quot;:\\&quot;com.example.schema.avro\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;eventId\\&quot;,\\&quot;type\\&quot;:\\&quot;int\\&quot;}]}&quot;);\r\n      public static org.apache.avro.Schema getClassSchema() { return SCHEMA$; }\r\n    \r\n      private static SpecificData MODEL$ = new SpecificData();\r\n    \r\n      private static final BinaryMessageEncoder&lt;Event&gt; ENCODER =\r\n          new BinaryMessageEncoder&lt;Event&gt;(MODEL$, SCHEMA$);\r\n    \r\n      private static final BinaryMessageDecoder&lt;Event&gt; DECODER =\r\n          new BinaryMessageDecoder&lt;Event&gt;(MODEL$, SCHEMA$);\r\n    \r\n      /**\r\n       * Return the BinaryMessageDecoder instance used by this class.\r\n       */\r\n      public static BinaryMessageDecoder&lt;Event&gt; getDecoder() {\r\n        return DECODER;\r\n      }\r\n    \r\n      /**\r\n       * Create a new BinaryMessageDecoder instance for this class that uses the specified {@link SchemaStore}.\r\n       * @param resolver a {@link SchemaStore} used to find schemas by fingerprint\r\n       */\r\n      public static BinaryMessageDecoder&lt;Event&gt; createDecoder(SchemaStore resolver) {\r\n        return new BinaryMessageDecoder&lt;Event&gt;(MODEL$, SCHEMA$, resolver);\r\n      }\r\n    \r\n      /** Serializes this Event to a ByteBuffer. */\r\n      public java.nio.ByteBuffer toByteBuffer() throws java.io.IOException {\r\n        return ENCODER.encode(this);\r\n      }\r\n    \r\n      /** Deserializes a Event from a ByteBuffer. */\r\n      public static Event fromByteBuffer(\r\n          java.nio.ByteBuffer b) throws java.io.IOException {\r\n        return DECODER.decode(b);\r\n      }\r\n    \r\n      @Deprecated public int eventId;\r\n    \r\n      /**\r\n       * Default constructor.  Note that this does not initialize fields\r\n       * to their default values from the schema.  If that is desired then\r\n       * one should use &lt;code&gt;newBuilder()&lt;/code&gt;.\r\n       */\r\n      public Event() {}\r\n    \r\n      /**\r\n       * All-args constructor.\r\n       * @param eventId The new value for eventId\r\n       */\r\n      public Event(java.lang.Integer eventId) {\r\n        this.eventId = eventId;\r\n      }\r\n    \r\n      public org.apache.avro.Schema getSchema() { return SCHEMA$; }\r\n      // Used by DatumWriter.  Applications should not call.\r\n      public java.lang.Object get(int field$) {\r\n        switch (field$) {\r\n        case 0: return eventId;\r\n        default: throw new org.apache.avro.AvroRuntimeException(&quot;Bad index&quot;);\r\n        }\r\n      }\r\n    \r\n      // Used by DatumReader.  Applications should not call.\r\n      @SuppressWarnings(value=&quot;unchecked&quot;)\r\n      public void put(int field$, java.lang.Object value$) {\r\n        switch (field$) {\r\n        case 0: eventId = (java.lang.Integer)value$; break;\r\n        default: throw new org.apache.avro.AvroRuntimeException(&quot;Bad index&quot;);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Gets the value of the &#39;eventId&#39; field.\r\n       * @return The value of the &#39;eventId&#39; field.\r\n       */\r\n      public java.lang.Integer getEventId() {\r\n        return eventId;\r\n      }\r\n    \r\n      /**\r\n       * Sets the value of the &#39;eventId&#39; field.\r\n       * @param value the value to set.\r\n       */\r\n      public void setEventId(java.lang.Integer value) {\r\n        this.eventId = value;\r\n      }\r\n    \r\n      /**\r\n       * Creates a new Event RecordBuilder.\r\n       * @return A new Event RecordBuilder\r\n       */\r\n      public static com.example.schema.avro.Event.Builder newBuilder() {\r\n        return new com.example.schema.avro.Event.Builder();\r\n      }\r\n    \r\n      /**\r\n       * Creates a new Event RecordBuilder by copying an existing Builder.\r\n       * @param other The existing builder to copy.\r\n       * @return A new Event RecordBuilder\r\n       */\r\n      public static com.example.schema.avro.Event.Builder newBuilder(com.example.schema.avro.Event.Builder other) {\r\n        return new com.example.schema.avro.Event.Builder(other);\r\n      }\r\n    \r\n      /**\r\n       * Creates a new Event RecordBuilder by copying an existing Event instance.\r\n       * @param other The existing instance to copy.\r\n       * @return A new Event RecordBuilder\r\n       */\r\n      public static com.example.schema.avro.Event.Builder newBuilder(com.example.schema.avro.Event other) {\r\n        return new com.example.schema.avro.Event.Builder(other);\r\n      }\r\n    \r\n      /**\r\n       * RecordBuilder for Event instances.\r\n       */\r\n      public static class Builder extends org.apache.avro.specific.SpecificRecordBuilderBase&lt;Event&gt;\r\n        implements org.apache.avro.data.RecordBuilder&lt;Event&gt; {\r\n    \r\n        private int eventId;\r\n    \r\n        /** Creates a new Builder */\r\n        private Builder() {\r\n          super(SCHEMA$);\r\n        }\r\n    \r\n        /**\r\n         * Creates a Builder by copying an existing Builder.\r\n         * @param other The existing Builder to copy.\r\n         */\r\n        private Builder(com.example.schema.avro.Event.Builder other) {\r\n          super(other);\r\n          if (isValidValue(fields()[0], other.eventId)) {\r\n            this.eventId = data().deepCopy(fields()[0].schema(), other.eventId);\r\n            fieldSetFlags()[0] = true;\r\n          }\r\n        }\r\n    \r\n        /**\r\n         * Creates a Builder by copying an existing Event instance\r\n         * @param other The existing instance to copy.\r\n         */\r\n        private Builder(com.example.schema.avro.Event other) {\r\n                super(SCHEMA$);\r\n          if (isValidValue(fields()[0], other.eventId)) {\r\n            this.eventId = data().deepCopy(fields()[0].schema(), other.eventId);\r\n            fieldSetFlags()[0] = true;\r\n          }\r\n        }\r\n    \r\n        /**\r\n          * Gets the value of the &#39;eventId&#39; field.\r\n          * @return The value.\r\n          */\r\n        public java.lang.Integer getEventId() {\r\n          return eventId;\r\n        }\r\n    \r\n        /**\r\n          * Sets the value of the &#39;eventId&#39; field.\r\n          * @param value The value of &#39;eventId&#39;.\r\n          * @return This builder.\r\n          */\r\n        public com.example.schema.avro.Event.Builder setEventId(int value) {\r\n          validate(fields()[0], value);\r\n          this.eventId = value;\r\n          fieldSetFlags()[0] = true;\r\n          return this;\r\n        }\r\n    \r\n        /**\r\n          * Checks whether the &#39;eventId&#39; field has been set.\r\n          * @return True if the &#39;eventId&#39; field has been set, false otherwise.\r\n          */\r\n        public boolean hasEventId() {\r\n          return fieldSetFlags()[0];\r\n        }\r\n    \r\n    \r\n        /**\r\n          * Clears the value of the &#39;eventId&#39; field.\r\n          * @return This builder.\r\n          */\r\n        public com.example.schema.avro.Event.Builder clearEventId() {\r\n          fieldSetFlags()[0] = false;\r\n          return this;\r\n        }\r\n    \r\n        @Override\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public Event build() {\r\n          try {\r\n            Event record = new Event();\r\n            record.eventId = fieldSetFlags()[0] ? this.eventId : (java.lang.Integer) defaultValue(fields()[0]);\r\n            return record;\r\n          } catch (java.lang.Exception e) {\r\n            throw new org.apache.avro.AvroRuntimeException(e);\r\n          }\r\n        }\r\n      }\r\n    \r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      private static final org.apache.avro.io.DatumWriter&lt;Event&gt;\r\n        WRITER$ = (org.apache.avro.io.DatumWriter&lt;Event&gt;)MODEL$.createDatumWriter(SCHEMA$);\r\n    \r\n      @Override public void writeExternal(java.io.ObjectOutput out)\r\n        throws java.io.IOException {\r\n        WRITER$.write(this, SpecificData.getEncoder(out));\r\n      }\r\n    \r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      private static final org.apache.avro.io.DatumReader&lt;Event&gt;\r\n        READER$ = (org.apache.avro.io.DatumReader&lt;Event&gt;)MODEL$.createDatumReader(SCHEMA$);\r\n    \r\n      @Override public void readExternal(java.io.ObjectInput in)\r\n        throws java.io.IOException {\r\n        READER$.read(this, SpecificData.getDecoder(in));\r\n      }\r\n    \r\n    }\r\n\r\nInterestingly if I pass the partition key as event id then I fetch it correctly but not the payload itself.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring boot kafka with schema registry - payload is not matching at consumer end","body":"<p>I have a producer with this configuration</p>\n<pre><code>  kafka:\n    bootstrap-servers: localhost:9092\n  cloud:\n    stream:\n      binder:\n        consumer-properties:\n          key.deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n          value.deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n          schema.registry.url: http://localhost:8081\n          properties:\n            specific.avro.reader: true\n      schemaRegistryClient:\n        endpoint: http://localhost:8081\n      bindings:\n        event-in-0:\n          destination: event-details\n          contentType: application/*+avro\n          group: group1\n      function:\n        definition: event\n</code></pre>\n<p>This is my schema</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Event&quot;,\n  &quot;namespace&quot;: &quot;com.example.schema.avro&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;eventId&quot;,\n      &quot;type&quot;: &quot;int&quot;\n    }\n  ]\n}\n</code></pre>\n<p>and code to publish the message</p>\n<pre><code>public void sendEvent(final EventDto eventDto) {\n    final Event apply = event().apply(eventDto);\n    final Message&lt;Event&gt; build = MessageBuilder.withPayload(apply)\n            .setHeader(&quot;partitionKey&quot;, eventDto.eventId())\n            .setHeader(&quot;customHeader&quot;, &quot;test&quot;).build();\n    final boolean send = streamBridge.send(&quot;event-out-0&quot;, build);\n    log.info(String.valueOf(build));\n}\n</code></pre>\n<p>This produces the correct event as seen in the logs</p>\n<pre><code>2022-08-15 09:12:23.988  INFO 25112 --- [nio-9090-exec-5] c.e.eventproducer.service.EventService   : GenericMessage [payload={&quot;eventId&quot;: 200}, headers={customHeader=test, id=70c3e52c-f419-cf0c-8fae-0ba07d8876da, partitionKey=200, timestamp=1660547543987}]\n</code></pre>\n<p>Now at the consumer end, I expect the same eventId:200 but I always get 0 no matter what the event id is. This is my consumer configuration</p>\n<pre><code>  kafka:\n    bootstrap-servers: localhost:9092\n  cloud:\n    stream:\n      binder:\n        consumer-properties:\n          key.deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n          value.deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n          schema.registry.url: http://localhost:8081\n          properties:\n            specific.avro.reader: true\n      schemaRegistryClient:\n        endpoint: http://localhost:8081\n      bindings:\n        event-in-0:\n          destination: event-details\n          contentType: application/*+avro\n          group: group1\n      function:\n        definition: event\n</code></pre>\n<p>This is to subscribe the message</p>\n<pre><code>@Bean\npublic Consumer&lt;Message&lt;Event&gt;&gt; event() {\n    return e -&gt; {\n        log.info(e.toString());\n        eventRepository.save(new com.example.eventconsumer.doamin.Event(e.getPayload().getEventId()));\n    };\n}\n</code></pre>\n<p>and the log shows</p>\n<pre><code>2022-08-15 09:12:23.992  INFO [,b19cd949219432acf232403bdcea45c2,1464ff27cfed8011] 24596 --- [container-0-C-1] c.e.eventconsumer.service.EventService   : GenericMessage [payload={&quot;eventId&quot;: 0}, headers={customHeader=test, deliveryAttempt=1, kafka_timestampType=CREATE_TIME, scst_partition=0, kafka_receivedTopic=event-details, kafka_offset=97, partitionKey=200, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@41d9d95, source-type=kafka, id=0762521f-069b-a91d-acc5-69e6bb2eb4eb, kafka_receivedPartitionId=0, contentType=application/vnd.event.v1+avro, kafka_receivedTimestamp=1660547543987, kafka_groupId=group1, timestamp=1660547543992}]\n</code></pre>\n<p>Here is the auto-generated Event.java class from .avsc file</p>\n<pre><code>    /**\n * Autogenerated by Avro\n *\n * DO NOT EDIT DIRECTLY\n */\npackage com.example.schema.avro;\n\nimport org.apache.avro.specific.SpecificData;\nimport org.apache.avro.message.BinaryMessageEncoder;\nimport org.apache.avro.message.BinaryMessageDecoder;\nimport org.apache.avro.message.SchemaStore;\n\n@SuppressWarnings(&quot;all&quot;)\n@org.apache.avro.specific.AvroGenerated\npublic class Event extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\n  private static final long serialVersionUID = -4520271777387293905L;\n  public static final org.apache.avro.Schema SCHEMA$ = new org.apache.avro.Schema.Parser().parse(&quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;Event\\&quot;,\\&quot;namespace\\&quot;:\\&quot;com.example.schema.avro\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;eventId\\&quot;,\\&quot;type\\&quot;:\\&quot;int\\&quot;}]}&quot;);\n  public static org.apache.avro.Schema getClassSchema() { return SCHEMA$; }\n\n  private static SpecificData MODEL$ = new SpecificData();\n\n  private static final BinaryMessageEncoder&lt;Event&gt; ENCODER =\n      new BinaryMessageEncoder&lt;Event&gt;(MODEL$, SCHEMA$);\n\n  private static final BinaryMessageDecoder&lt;Event&gt; DECODER =\n      new BinaryMessageDecoder&lt;Event&gt;(MODEL$, SCHEMA$);\n\n  /**\n   * Return the BinaryMessageDecoder instance used by this class.\n   */\n  public static BinaryMessageDecoder&lt;Event&gt; getDecoder() {\n    return DECODER;\n  }\n\n  /**\n   * Create a new BinaryMessageDecoder instance for this class that uses the specified {@link SchemaStore}.\n   * @param resolver a {@link SchemaStore} used to find schemas by fingerprint\n   */\n  public static BinaryMessageDecoder&lt;Event&gt; createDecoder(SchemaStore resolver) {\n    return new BinaryMessageDecoder&lt;Event&gt;(MODEL$, SCHEMA$, resolver);\n  }\n\n  /** Serializes this Event to a ByteBuffer. */\n  public java.nio.ByteBuffer toByteBuffer() throws java.io.IOException {\n    return ENCODER.encode(this);\n  }\n\n  /** Deserializes a Event from a ByteBuffer. */\n  public static Event fromByteBuffer(\n      java.nio.ByteBuffer b) throws java.io.IOException {\n    return DECODER.decode(b);\n  }\n\n  @Deprecated public int eventId;\n\n  /**\n   * Default constructor.  Note that this does not initialize fields\n   * to their default values from the schema.  If that is desired then\n   * one should use &lt;code&gt;newBuilder()&lt;/code&gt;.\n   */\n  public Event() {}\n\n  /**\n   * All-args constructor.\n   * @param eventId The new value for eventId\n   */\n  public Event(java.lang.Integer eventId) {\n    this.eventId = eventId;\n  }\n\n  public org.apache.avro.Schema getSchema() { return SCHEMA$; }\n  // Used by DatumWriter.  Applications should not call.\n  public java.lang.Object get(int field$) {\n    switch (field$) {\n    case 0: return eventId;\n    default: throw new org.apache.avro.AvroRuntimeException(&quot;Bad index&quot;);\n    }\n  }\n\n  // Used by DatumReader.  Applications should not call.\n  @SuppressWarnings(value=&quot;unchecked&quot;)\n  public void put(int field$, java.lang.Object value$) {\n    switch (field$) {\n    case 0: eventId = (java.lang.Integer)value$; break;\n    default: throw new org.apache.avro.AvroRuntimeException(&quot;Bad index&quot;);\n    }\n  }\n\n  /**\n   * Gets the value of the 'eventId' field.\n   * @return The value of the 'eventId' field.\n   */\n  public java.lang.Integer getEventId() {\n    return eventId;\n  }\n\n  /**\n   * Sets the value of the 'eventId' field.\n   * @param value the value to set.\n   */\n  public void setEventId(java.lang.Integer value) {\n    this.eventId = value;\n  }\n\n  /**\n   * Creates a new Event RecordBuilder.\n   * @return A new Event RecordBuilder\n   */\n  public static com.example.schema.avro.Event.Builder newBuilder() {\n    return new com.example.schema.avro.Event.Builder();\n  }\n\n  /**\n   * Creates a new Event RecordBuilder by copying an existing Builder.\n   * @param other The existing builder to copy.\n   * @return A new Event RecordBuilder\n   */\n  public static com.example.schema.avro.Event.Builder newBuilder(com.example.schema.avro.Event.Builder other) {\n    return new com.example.schema.avro.Event.Builder(other);\n  }\n\n  /**\n   * Creates a new Event RecordBuilder by copying an existing Event instance.\n   * @param other The existing instance to copy.\n   * @return A new Event RecordBuilder\n   */\n  public static com.example.schema.avro.Event.Builder newBuilder(com.example.schema.avro.Event other) {\n    return new com.example.schema.avro.Event.Builder(other);\n  }\n\n  /**\n   * RecordBuilder for Event instances.\n   */\n  public static class Builder extends org.apache.avro.specific.SpecificRecordBuilderBase&lt;Event&gt;\n    implements org.apache.avro.data.RecordBuilder&lt;Event&gt; {\n\n    private int eventId;\n\n    /** Creates a new Builder */\n    private Builder() {\n      super(SCHEMA$);\n    }\n\n    /**\n     * Creates a Builder by copying an existing Builder.\n     * @param other The existing Builder to copy.\n     */\n    private Builder(com.example.schema.avro.Event.Builder other) {\n      super(other);\n      if (isValidValue(fields()[0], other.eventId)) {\n        this.eventId = data().deepCopy(fields()[0].schema(), other.eventId);\n        fieldSetFlags()[0] = true;\n      }\n    }\n\n    /**\n     * Creates a Builder by copying an existing Event instance\n     * @param other The existing instance to copy.\n     */\n    private Builder(com.example.schema.avro.Event other) {\n            super(SCHEMA$);\n      if (isValidValue(fields()[0], other.eventId)) {\n        this.eventId = data().deepCopy(fields()[0].schema(), other.eventId);\n        fieldSetFlags()[0] = true;\n      }\n    }\n\n    /**\n      * Gets the value of the 'eventId' field.\n      * @return The value.\n      */\n    public java.lang.Integer getEventId() {\n      return eventId;\n    }\n\n    /**\n      * Sets the value of the 'eventId' field.\n      * @param value The value of 'eventId'.\n      * @return This builder.\n      */\n    public com.example.schema.avro.Event.Builder setEventId(int value) {\n      validate(fields()[0], value);\n      this.eventId = value;\n      fieldSetFlags()[0] = true;\n      return this;\n    }\n\n    /**\n      * Checks whether the 'eventId' field has been set.\n      * @return True if the 'eventId' field has been set, false otherwise.\n      */\n    public boolean hasEventId() {\n      return fieldSetFlags()[0];\n    }\n\n\n    /**\n      * Clears the value of the 'eventId' field.\n      * @return This builder.\n      */\n    public com.example.schema.avro.Event.Builder clearEventId() {\n      fieldSetFlags()[0] = false;\n      return this;\n    }\n\n    @Override\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public Event build() {\n      try {\n        Event record = new Event();\n        record.eventId = fieldSetFlags()[0] ? this.eventId : (java.lang.Integer) defaultValue(fields()[0]);\n        return record;\n      } catch (java.lang.Exception e) {\n        throw new org.apache.avro.AvroRuntimeException(e);\n      }\n    }\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  private static final org.apache.avro.io.DatumWriter&lt;Event&gt;\n    WRITER$ = (org.apache.avro.io.DatumWriter&lt;Event&gt;)MODEL$.createDatumWriter(SCHEMA$);\n\n  @Override public void writeExternal(java.io.ObjectOutput out)\n    throws java.io.IOException {\n    WRITER$.write(this, SpecificData.getEncoder(out));\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  private static final org.apache.avro.io.DatumReader&lt;Event&gt;\n    READER$ = (org.apache.avro.io.DatumReader&lt;Event&gt;)MODEL$.createDatumReader(SCHEMA$);\n\n  @Override public void readExternal(java.io.ObjectInput in)\n    throws java.io.IOException {\n    READER$.read(this, SpecificData.getDecoder(in));\n  }\n\n}\n</code></pre>\n<p>Interestingly if I pass the partition key as event id then I fetch it correctly but not the payload itself.</p>\n"},{"tags":["java","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660627466,"creation_date":1660627466,"answer_id":73369100,"question_id":73365757,"body_markdown":"Have done some tests with you example. This will not work at the moment because some deficits of the current js support.\r\n\r\ntwo reasons\r\n\r\n* TypeError: redeclaration of formal parameter t. (https://cdn.ipinfo.io/_next/static/chunks/pages/_app-1b76d095f7792b77.js#1)\r\n* missing ( before function parameters. (https://cdn.ipinfo.io/_next/static/chunks/8374-d56693eab3444afc.js#1)\r\n\r\nBoth log messages are pointing to some js constructs used in the page code that are not supported at the moment.\r\nI have some plans to improve the support in the future.","title":"HtmlUnit: unable to get html code like in web page","body":"<p>Have done some tests with you example. This will not work at the moment because some deficits of the current js support.</p>\n<p>two reasons</p>\n<ul>\n<li>TypeError: redeclaration of formal parameter t. (<a href=\"https://cdn.ipinfo.io/_next/static/chunks/pages/_app-1b76d095f7792b77.js#1\" rel=\"nofollow noreferrer\">https://cdn.ipinfo.io/_next/static/chunks/pages/_app-1b76d095f7792b77.js#1</a>)</li>\n<li>missing ( before function parameters. (<a href=\"https://cdn.ipinfo.io/_next/static/chunks/8374-d56693eab3444afc.js#1\" rel=\"nofollow noreferrer\">https://cdn.ipinfo.io/_next/static/chunks/8374-d56693eab3444afc.js#1</a>)</li>\n</ul>\n<p>Both log messages are pointing to some js constructs used in the page code that are not supported at the moment.\nI have some plans to improve the support in the future.</p>\n"}],"owner":{"account_id":22626569,"reputation":1,"user_id":16821543,"display_name":"komla3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660627466,"creation_date":1660592756,"question_id":73365757,"body_markdown":"I just want to get a string from the ipinfo.io site, but when parsing the page using HtmlUnit, the list is returned empty for some reason, although the element code on the site shows that it is not empty.\r\nWhy is this happening and how to fix it?\r\n\r\nMy java code:\r\n```\r\nLogFactory.getFactory().setAttribute(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\r\n\r\n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(Level.OFF);\r\n        java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\r\n\r\n        final WebClient webClient = new WebClient(BrowserVersion.EDGE);\r\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n        webClient.getOptions().setAppletEnabled(true);\r\n        webClient.getOptions().setCssEnabled(true);\r\n        webClient.getOptions().setJavaScriptEnabled(false);\r\n        webClient.getOptions().setFetchPolyfillEnabled(true);\r\n        webClient.getCookieManager().setCookiesEnabled(true);\r\n        webClient.getOptions().setUseInsecureSSL(true);\r\n        final HtmlPage page1 = webClient.getPage(&quot;https://ipinfo.io/&quot;);\r\n        HtmlForm form = page1.getForms().get(0);\r\n        List&lt;DomElement&gt; elements = StreamSupport.stream(form.getChildElements().spliterator(), false).collect(Collectors.toList());\r\n        HtmlTextInput textField = form.getInputByValue(&quot;&quot;);\r\n        textField.setValueAttribute(&quot;8.8.4.4&quot;);\r\n        HtmlPage page2 = elements.get(1).click();\r\n        HtmlDivision div = (HtmlDivision) page2.getElementById(&quot;tryit-data&quot;);\r\n        HtmlUnorderedList list = (HtmlUnorderedList) StreamSupport.stream(div.getChildElements().spliterator(), false).collect(Collectors.toList()).get(0);\r\n        System.out.println(list.asXml());\r\n```\r\n\r\nthis is what I get when i run the code\r\n[enter image description here][1]\r\n\r\nHow it actually looks on the site\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3pEmc.png\r\n  [2]: https://i.stack.imgur.com/racuD.png","title":"HtmlUnit: unable to get html code like in web page","body":"<p>I just want to get a string from the ipinfo.io site, but when parsing the page using HtmlUnit, the list is returned empty for some reason, although the element code on the site shows that it is not empty.\nWhy is this happening and how to fix it?</p>\n<p>My java code:</p>\n<pre><code>LogFactory.getFactory().setAttribute(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\n\n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(Level.OFF);\n        java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\n\n        final WebClient webClient = new WebClient(BrowserVersion.EDGE);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setAppletEnabled(true);\n        webClient.getOptions().setCssEnabled(true);\n        webClient.getOptions().setJavaScriptEnabled(false);\n        webClient.getOptions().setFetchPolyfillEnabled(true);\n        webClient.getCookieManager().setCookiesEnabled(true);\n        webClient.getOptions().setUseInsecureSSL(true);\n        final HtmlPage page1 = webClient.getPage(&quot;https://ipinfo.io/&quot;);\n        HtmlForm form = page1.getForms().get(0);\n        List&lt;DomElement&gt; elements = StreamSupport.stream(form.getChildElements().spliterator(), false).collect(Collectors.toList());\n        HtmlTextInput textField = form.getInputByValue(&quot;&quot;);\n        textField.setValueAttribute(&quot;8.8.4.4&quot;);\n        HtmlPage page2 = elements.get(1).click();\n        HtmlDivision div = (HtmlDivision) page2.getElementById(&quot;tryit-data&quot;);\n        HtmlUnorderedList list = (HtmlUnorderedList) StreamSupport.stream(div.getChildElements().spliterator(), false).collect(Collectors.toList()).get(0);\n        System.out.println(list.asXml());\n</code></pre>\n<p>this is what I get when i run the code\n<a href=\"https://i.stack.imgur.com/3pEmc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How it actually looks on the site\n<a href=\"https://i.stack.imgur.com/racuD.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","json","visual-studio-code","launch"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1660581794,"post_id":73363185,"comment_id":129561024,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660627389,"creation_date":1660627389,"answer_id":73369092,"question_id":73363185,"body_markdown":"Follow this step to create a **launch.json** file\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mEHao.png\r\n  [2]: https://i.stack.imgur.com/bRFgE.png","title":"launch .json creating error in vscode for java. define the problem .what exactly is going on","body":"<p>Follow this step to create a <strong>launch.json</strong> file</p>\n<p><a href=\"https://i.stack.imgur.com/mEHao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mEHao.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bRFgE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bRFgE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26014652,"reputation":1,"user_id":19723128,"display_name":"Sakshi Jarial"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660627389,"creation_date":1660577510,"question_id":73363185,"body_markdown":"Windows PowerShell\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\nInstall the latest PowerShell for new features and improvements! https://aka.ms/PSWindows\r\n\r\nPS C:\\Users\\HP\\OneDrive\\Desktop\\java practice&gt;  &amp; &#39;C:\\Program Files\\Java\\jdk-18.0.2\\bin\\java.exe&#39; &#39;-agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:57786&#39; &#39;--enable-preview&#39; &#39;-XX:+ShowCodeDetailsInExceptionMessages&#39; &#39;-cp&#39; &#39;C:\\Users\\HP\\AppData\\Roaming\\Code\\User\\workspaceStorage\\7e23ce6c36a3d1de7ac32800a3c4efa3\\redhat.java\\jdt_ws\\java practice_d64fcd83\\bin&#39; &#39;loops_2&#39; \r\nERROR: transport error 202: connect failed: Connection refused\r\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [s\\open\\src\\jdk.jdwp.agent\\share\\native\\libjdwp\\debugInit.c:734]\r\nPS C:\\Users\\HP\\OneDrive\\Desktop\\java practice&gt; \r\n","title":"launch .json creating error in vscode for java. define the problem .what exactly is going on","body":"<p>Windows PowerShell\nCopyright (C) Microsoft Corporation. All rights reserved.</p>\n<p>Install the latest PowerShell for new features and improvements! <a href=\"https://aka.ms/PSWindows\" rel=\"nofollow noreferrer\">https://aka.ms/PSWindows</a></p>\n<p>PS C:\\Users\\HP\\OneDrive\\Desktop\\java practice&gt;  &amp; 'C:\\Program Files\\Java\\jdk-18.0.2\\bin\\java.exe' '-agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:57786' '--enable-preview' '-XX:+ShowCodeDetailsInExceptionMessages' '-cp' 'C:\\Users\\HP\\AppData\\Roaming\\Code\\User\\workspaceStorage\\7e23ce6c36a3d1de7ac32800a3c4efa3\\redhat.java\\jdt_ws\\java practice_d64fcd83\\bin' 'loops_2'\nERROR: transport error 202: connect failed: Connection refused\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [s\\open\\src\\jdk.jdwp.agent\\share\\native\\libjdwp\\debugInit.c:734]\nPS C:\\Users\\HP\\OneDrive\\Desktop\\java practice&gt;</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":25806864,"reputation":309,"user_id":19548278,"display_name":"Curious koala"},"score":2,"creation_date":1660630656,"post_id":73369090,"comment_id":129570630,"body_markdown":"For testing purpose DO NOT use JavascriptExecutor to interact with web-page since it won&#39;t simulate real-user behavior!","body":"For testing purpose DO NOT use JavascriptExecutor to interact with web-page since it won&#39;t simulate real-user behavior!"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1660634975,"post_id":73369090,"comment_id":129571838,"body_markdown":"Does this answer your question? [WebDriver click() vs JavaScript click()](https://stackoverflow.com/questions/34562061/webdriver-click-vs-javascript-click)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34562061/webdriver-click-vs-javascript-click\">WebDriver click() vs JavaScript click()</a>"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1660635025,"post_id":73369090,"comment_id":129571856,"body_markdown":"This question was asked several times and has been answered a long time ago with great explanations","body":"This question was asked several times and has been answered a long time ago with great explanations"},{"owner":{"account_id":20892574,"reputation":1,"user_id":15347640,"display_name":"suhail shaik"},"score":1,"creation_date":1660645644,"post_id":73369090,"comment_id":129575505,"body_markdown":"@Prophet this https://stackoverflow.com/a/62871182/15347640 answers my question.","body":"@Prophet this <a href=\"https://stackoverflow.com/a/62871182/15347640\">stackoverflow.com/a/62871182/15347640</a> answers my question."}],"owner":{"account_id":20892574,"reputation":1,"user_id":15347640,"display_name":"suhail shaik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660627382,"creation_date":1660627382,"question_id":73369090,"body_markdown":"I am trying to test our application which is in Angular. I wanted to know what is the difference between.\r\n`WebElement stateSelect = driver.findElement(By.id(&quot;name&quot;));\r\nstateSelect.sendKeys(&quot;Testing Angular&quot;);` and \r\n\r\n    WebElement stateSelect = driver.findElement(By.id(&quot;name&quot;)); ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].value=&#39;testing angular interpolation&#39;;arguments[0].click()&quot;, stateSelect);\r\n\r\nWhen i am testing with sendKeys interpolation on the particular webElement works, i.e it shows the updated value on interpolation while if i do the latter updating the value and try interpolation on that particular value it doesn&#39;t work. I would like to know how i could achieve sendKeys functionality using executeScript.","title":"difference between sendKeys() vs executeScript(&quot;arguments[0].value=&#39;testing&#39;)","body":"<p>I am trying to test our application which is in Angular. I wanted to know what is the difference between.\n<code>WebElement stateSelect = driver.findElement(By.id(&quot;name&quot;)); stateSelect.sendKeys(&quot;Testing Angular&quot;);</code> and</p>\n<pre><code>WebElement stateSelect = driver.findElement(By.id(&quot;name&quot;)); ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].value='testing angular interpolation';arguments[0].click()&quot;, stateSelect);\n</code></pre>\n<p>When i am testing with sendKeys interpolation on the particular webElement works, i.e it shows the updated value on interpolation while if i do the latter updating the value and try interpolation on that particular value it doesn't work. I would like to know how i could achieve sendKeys functionality using executeScript.</p>\n"},{"tags":["java","multithreading","completable-future"],"comments":[{"owner":{"account_id":23366081,"reputation":129,"user_id":17437705,"display_name":"rongfeiyue"},"score":0,"creation_date":1660615941,"post_id":73367982,"comment_id":129568441,"body_markdown":"try use method with given executor instead of method with default executor.\n\nCompletableFuture&lt;Void&gt; runAsync(Runnable runnable, Executor executor)","body":"try use method with given executor instead of method with default executor.  CompletableFuture&lt;Void&gt; runAsync(Runnable runnable, Executor executor)"},{"owner":{"account_id":26072500,"reputation":1,"user_id":19771916,"display_name":"Tejesh Chegondi"},"score":0,"creation_date":1660673524,"post_id":73367982,"comment_id":129586343,"body_markdown":"Thank you for the response. I tried using `Executor`, still it takes long time to respond. Am I missing something?","body":"Thank you for the response. I tried using <code>Executor</code>, still it takes long time to respond. Am I missing something?"}],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660626925,"creation_date":1660626925,"answer_id":73369033,"question_id":73367982,"body_markdown":"Two things.\r\n\r\n1: Looking at your snippet, the **underlying operation is IO intensive**.\r\n\r\nWhenever we work with IO intensive tasks with multiple thread the **thread pool size should be bigger than the number of available processors**.\r\n\r\nSo, first optimization would be using a custom dedicated thread pool.\r\n\r\n2: Avoid using **join()** try to refactor your code so that you don&#39;t wait upon the response and implement your &quot;after-logic&quot; using **thenApply/thenCompose/thenCombine call-back processing** methods provided by **CompletableFuture**.\r\n\r\nSomething like: \r\n```java\r\nCompletableFuture.allOf(...).thenApply(response -&gt; {\r\n      //handling\r\n});\r\n","title":"Using CompletableFuture.allOf(CompletableFuture1, CompletableFuture2), still response time is high","body":"<p>Two things.</p>\n<p>1: Looking at your snippet, the <strong>underlying operation is IO intensive</strong>.</p>\n<p>Whenever we work with IO intensive tasks with multiple thread the <strong>thread pool size should be bigger than the number of available processors</strong>.</p>\n<p>So, first optimization would be using a custom dedicated thread pool.</p>\n<p>2: Avoid using <strong>join()</strong> try to refactor your code so that you don't wait upon the response and implement your &quot;after-logic&quot; using <strong>thenApply/thenCompose/thenCombine call-back processing</strong> methods provided by <strong>CompletableFuture</strong>.</p>\n<p>Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture.allOf(...).thenApply(response -&gt; {\n      //handling\n});\n</code></pre>\n"}],"owner":{"account_id":26072500,"reputation":1,"user_id":19771916,"display_name":"Tejesh Chegondi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660626925,"creation_date":1660614800,"question_id":73367982,"body_markdown":"I have a list of elements(```List&lt;SummaryList&gt;```) which needs to be passed to two other services and those two services should run ```asynchronously``` using ```CompletableFuture```.\r\n    I have used below logic but still it takes lot of time to respond.\r\n    If ```list``` below is of 5-6 elements, response time is 2-3 sec, but when the ```list``` has 10-25 elements, the response time is &gt;10 sec in order to complete the two service calls.\r\n    Am I missing something as part of optimization/running asynchronously? Is there any other way to optimize these calls?\r\n    I have below class ```SummaryList``` which contains properties like ```id, account, name and type```\r\n\r\n        @Getter\r\n        @Setter\r\n        Class SummaryList {\r\n            private String id;\r\n            private String account;\r\n            private String name;\r\n            private String type;\r\n            public SummaryList() {}\r\n            public SummaryList(String id, String account, String name, \r\n            String type) {\r\n              this.id=id;\r\n              this.account=account;\r\n              this.name=name;\r\n              this.type=type;\r\n            }\r\n        }\r\n \r\nI have the values of ```id and account```.\r\n    Using ```account```, I need to call two other services(```invokeFirstService``` &amp; ```invokeSecondService```) asynchronously to populate ```name and type``` of ```SummaryList```. \r\n    And these two services use this ```account``` as input.\r\n    ```invokeFirstService``` &amp; ```invokeSecondService``` functions below return ```CompletableFuture&lt;Void&gt;```.\r\n    ```invokeFirstService``` populates ```name``` and ```invokeSecondService``` populates ```type```\r\n    \r\n  \r\n\r\n      SummaryList s1=new SummaryList(&quot;101&quot;,&quot;account1&quot;,&quot;&quot;,&quot;&quot;);\r\n      SummaryList s2=new SummaryList(&quot;102&quot;,&quot;account2&quot;,&quot;&quot;,&quot;&quot;);\r\n      SummaryList s3=new SummaryList(&quot;103&quot;,&quot;account3&quot;,&quot;&quot;,&quot;&quot;);\r\n      SummaryList s4=new SummaryList(&quot;104&quot;,&quot;account4&quot;,&quot;&quot;,&quot;&quot;);\r\n      SummaryList s5=new SummaryList(&quot;105&quot;,&quot;account5&quot;,&quot;&quot;,&quot;&quot;);\r\n      List&lt;SummaryList&gt; list=Arrays.asList(s1,s2,s3,s4,s5);\r\n    \r\n\r\n        for (SummaryList summary : list) {\r\n                    FirstRequestBean firstRequestBean = new FirstRequestBean();                                                      \r\n                    SecondRequestBean secondRequestBean = new SecondRequestBean();\r\n                    FirstResponseBean firstResponseBean = new FirstResponseBean();\r\n                    SecondResponseBean secondResponseBean = new SecondResponseBean();\r\n                    firstRequestBean.setAccount(summary.getAccount());                                                  \r\n                    secondRequestBean.setAccount(summary.getAccount());\r\n                    CompletableFuture.allOf(CompletableFuture.runAsync(() -&gt; {\r\n                    try {                          \r\n                    invokeFirstService(firstRequestBean,firstResponseBean).get();\r\n                    if (!CollectionUtils.isEmpty(firstResponseBean.getResponse())) {                                          \r\n                    summary.setName(firstResponseBean.getResponse().get(0).getName());\r\n                   }\r\n                    } catch (Exception e) {\r\n                         //throw e;\r\n                       }\r\n                    }), CompletableFuture.runAsync(() -&gt; {\r\n                   try {\r\n                   invokeSecondService(secondRequestBean, secondResponseBean).get();\r\n                   if (!CollectionUtils.isEmpty(secondResponseBean.getResponse())) {                                                   \r\n                   summary.setType(secondResponseBean.getResponse().get(0).getType());                                                                                                                                    \r\n                   }\r\n                       } catch (Exception e) {\r\n                            //throw e;\r\n                          }\r\n                    })).join();\r\n                }","title":"Using CompletableFuture.allOf(CompletableFuture1, CompletableFuture2), still response time is high","body":"<p>I have a list of elements(<code>List&lt;SummaryList&gt;</code>) which needs to be passed to two other services and those two services should run <code>asynchronously</code> using <code>CompletableFuture</code>.\nI have used below logic but still it takes lot of time to respond.\nIf <code>list</code> below is of 5-6 elements, response time is 2-3 sec, but when the <code>list</code> has 10-25 elements, the response time is &gt;10 sec in order to complete the two service calls.\nAm I missing something as part of optimization/running asynchronously? Is there any other way to optimize these calls?\nI have below class <code>SummaryList</code> which contains properties like <code>id, account, name and type</code></p>\n<pre><code>    @Getter\n    @Setter\n    Class SummaryList {\n        private String id;\n        private String account;\n        private String name;\n        private String type;\n        public SummaryList() {}\n        public SummaryList(String id, String account, String name, \n        String type) {\n          this.id=id;\n          this.account=account;\n          this.name=name;\n          this.type=type;\n        }\n    }\n</code></pre>\n<p>I have the values of <code>id and account</code>.\nUsing <code>account</code>, I need to call two other services(<code>invokeFirstService</code> &amp; <code>invokeSecondService</code>) asynchronously to populate <code>name and type</code> of <code>SummaryList</code>.\nAnd these two services use this <code>account</code> as input.\n<code>invokeFirstService</code> &amp; <code>invokeSecondService</code> functions below return <code>CompletableFuture&lt;Void&gt;</code>.\n<code>invokeFirstService</code> populates <code>name</code> and <code>invokeSecondService</code> populates <code>type</code></p>\n<pre><code>  SummaryList s1=new SummaryList(&quot;101&quot;,&quot;account1&quot;,&quot;&quot;,&quot;&quot;);\n  SummaryList s2=new SummaryList(&quot;102&quot;,&quot;account2&quot;,&quot;&quot;,&quot;&quot;);\n  SummaryList s3=new SummaryList(&quot;103&quot;,&quot;account3&quot;,&quot;&quot;,&quot;&quot;);\n  SummaryList s4=new SummaryList(&quot;104&quot;,&quot;account4&quot;,&quot;&quot;,&quot;&quot;);\n  SummaryList s5=new SummaryList(&quot;105&quot;,&quot;account5&quot;,&quot;&quot;,&quot;&quot;);\n  List&lt;SummaryList&gt; list=Arrays.asList(s1,s2,s3,s4,s5);\n\n\n    for (SummaryList summary : list) {\n                FirstRequestBean firstRequestBean = new FirstRequestBean();                                                      \n                SecondRequestBean secondRequestBean = new SecondRequestBean();\n                FirstResponseBean firstResponseBean = new FirstResponseBean();\n                SecondResponseBean secondResponseBean = new SecondResponseBean();\n                firstRequestBean.setAccount(summary.getAccount());                                                  \n                secondRequestBean.setAccount(summary.getAccount());\n                CompletableFuture.allOf(CompletableFuture.runAsync(() -&gt; {\n                try {                          \n                invokeFirstService(firstRequestBean,firstResponseBean).get();\n                if (!CollectionUtils.isEmpty(firstResponseBean.getResponse())) {                                          \n                summary.setName(firstResponseBean.getResponse().get(0).getName());\n               }\n                } catch (Exception e) {\n                     //throw e;\n                   }\n                }), CompletableFuture.runAsync(() -&gt; {\n               try {\n               invokeSecondService(secondRequestBean, secondResponseBean).get();\n               if (!CollectionUtils.isEmpty(secondResponseBean.getResponse())) {                                                   \n               summary.setType(secondResponseBean.getResponse().get(0).getType());                                                                                                                                    \n               }\n                   } catch (Exception e) {\n                        //throw e;\n                      }\n                })).join();\n            }\n</code></pre>\n"},{"tags":["java","json","spring","rest","httpresponse"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Micha≈Ç Krzywa≈Ñski"},"score":1,"creation_date":1585995687,"post_id":61026660,"comment_id":107965001,"body_markdown":"Create a new class that wraps instances of your class and has `message` property and return instances of it instead.","body":"Create a new class that wraps instances of your class and has <code>message</code> property and return instances of it instead."}],"answers":[{"tags":[],"owner":{"account_id":18021756,"reputation":125,"user_id":13098781,"display_name":"Tigran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585996044,"creation_date":1585996044,"answer_id":61026737,"question_id":61026660,"body_markdown":"Try to create new helper class(CustomUser) that have id, name, surname, city, message fields(getters and setters). And on sending you the user(new User with properties) on your controller, create new Instance of CustomUser class, set properties, and send customUser,\r\nLike this:\r\n\r\n    CustomUser customUser = new CustomUser();\r\n    customUser.setId(user.getId);\r\n    customUser.setName(user.getName);\r\n    customUser.setSurname(user.getSurname);\r\n    customUser.setCity(user.getCity);\r\n    customUser.setMessage(&quot;Custom message&quot;);","title":"Returning a message for the client in json format along with data - Java/Spring/REST","body":"<p>Try to create new helper class(CustomUser) that have id, name, surname, city, message fields(getters and setters). And on sending you the user(new User with properties) on your controller, create new Instance of CustomUser class, set properties, and send customUser,\nLike this:</p>\n\n<pre><code>CustomUser customUser = new CustomUser();\ncustomUser.setId(user.getId);\ncustomUser.setName(user.getName);\ncustomUser.setSurname(user.getSurname);\ncustomUser.setCity(user.getCity);\ncustomUser.setMessage(\"Custom message\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Micha≈Ç Krzywa≈Ñski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1586005591,"creation_date":1586005591,"answer_id":61028550,"question_id":61026660,"body_markdown":"You can create a generic class that you will return from your controllers which will enrich your models with `message` property :\r\n````\r\npublic class ServerResponse {\r\n    @JsonUnwrapped\r\n    private final Object wrapped;\r\n    private final String message;\r\n\r\n    public ServerResponse(Object wrapped, String message) {\r\n        this.wrapped = wrapped;\r\n        this.message = message;\r\n    }\r\n    //getters\r\n}\r\n````\r\nand then you can pass any object to this class in the constructor and let Jackson handle the serialization for you. This way you do not have to create a new class per your model :\r\n````\r\nUser user = new User(&quot;1&quot;, &quot;John&quot;, &quot;Jackson&quot;, &quot;Los Angeles&quot;);\r\nServerResponse serverResponse = new ServerResponse(user, &quot;There was only 1 person in chosen category&quot;);\r\n````\r\nand when you return `ServerResponse` from the controller it will be serialized to :\r\n````\r\n{\r\n   &quot;id&quot;:&quot;1&quot;,\r\n   &quot;name&quot;:&quot;John&quot;,\r\n   &quot;surname&quot;:&quot;Jackson&quot;,\r\n   &quot;city&quot;:&quot;Los Angeles&quot;,\r\n   &quot;message&quot;:&quot;message&quot;\r\n}\r\n````","title":"Returning a message for the client in json format along with data - Java/Spring/REST","body":"<p>You can create a generic class that you will return from your controllers which will enrich your models with <code>message</code> property :</p>\n\n<pre><code>public class ServerResponse {\n    @JsonUnwrapped\n    private final Object wrapped;\n    private final String message;\n\n    public ServerResponse(Object wrapped, String message) {\n        this.wrapped = wrapped;\n        this.message = message;\n    }\n    //getters\n}\n</code></pre>\n\n<p>and then you can pass any object to this class in the constructor and let Jackson handle the serialization for you. This way you do not have to create a new class per your model :</p>\n\n<pre><code>User user = new User(\"1\", \"John\", \"Jackson\", \"Los Angeles\");\nServerResponse serverResponse = new ServerResponse(user, \"There was only 1 person in chosen category\");\n</code></pre>\n\n<p>and when you return <code>ServerResponse</code> from the controller it will be serialized to :</p>\n\n<pre><code>{\n   \"id\":\"1\",\n   \"name\":\"John\",\n   \"surname\":\"Jackson\",\n   \"city\":\"Los Angeles\",\n   \"message\":\"message\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5878812,"reputation":482,"user_id":4628883,"display_name":"kleenxcoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586007682,"creation_date":1586007682,"answer_id":61028983,"question_id":61026660,"body_markdown":"You could use @MappedSuperclass and @Transient to solve your requirement.\r\n\r\nTherefore you would have a base class like this:\r\n\r\n    @MappedSuperclass\r\n    @Data\r\n    public class BaseEntity {\r\n\t\r\n    \t@Transient\r\n    \tprivate String message; \r\n    \r\n    }\r\n\r\nAnd your customer class would look like this:\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = false)\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer extends BaseEntity {\r\n    \r\n\t    @Id\r\n\t    private Integer id;\r\n\t    private String name;\r\n    \tprivate String surname;\r\n    \tprivate String city;\r\n    }\r\n\r\nThis way you can add this field to all of your entities. ","title":"Returning a message for the client in json format along with data - Java/Spring/REST","body":"<p>You could use @MappedSuperclass and @Transient to solve your requirement.</p>\n\n<p>Therefore you would have a base class like this:</p>\n\n<pre><code>@MappedSuperclass\n@Data\npublic class BaseEntity {\n\n    @Transient\n    private String message; \n\n}\n</code></pre>\n\n<p>And your customer class would look like this:</p>\n\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = false)\n@Entity\n@Table(name = \"customer\")\npublic class Customer extends BaseEntity {\n\n    @Id\n    private Integer id;\n    private String name;\n    private String surname;\n    private String city;\n}\n</code></pre>\n\n<p>This way you can add this field to all of your entities. </p>\n"}],"owner":{"account_id":11841807,"reputation":135,"user_id":8665450,"display_name":"T4under4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61028550,"answer_count":3,"score":1,"last_activity_date":1660626374,"creation_date":1585995575,"question_id":61026660,"body_markdown":"I would like to return a custom message along with data that my endpoint is supposed to return in `json` format. E.g:\r\n\r\n    {\r\n     &quot;id&quot;: &quot;1&quot;,\r\n     &quot;name&quot;: &quot;John&quot;,\r\n     &quot;surname&quot;: &quot;Jackson&quot;,\r\n     &quot;city&quot;: &quot;Los Angeles&quot;\r\n     &quot;message&quot;: &quot;There was only 1 person in chosen category&quot;\r\n    }  \r\n\r\nSo my POJO class of `person` has fields: `id`, `name`, `surname`, `city`. However I would like to return message too, so the client application can display the message on the front-end. I was looking for a solution. By default `Controller` endpoint can return the object as `json` no problem. But that just gives me data, `200` status and that&#39;s it. I found about returning `ResponseEntity`, but this doesn&#39;t solve the problem either since in response body it takes a POJO so I still can&#39;t send a custom message along with data. I need to send custom message, data and a proper status code.","title":"Returning a message for the client in json format along with data - Java/Spring/REST","body":"<p>I would like to return a custom message along with data that my endpoint is supposed to return in <code>json</code> format. E.g:</p>\n<pre><code>{\n &quot;id&quot;: &quot;1&quot;,\n &quot;name&quot;: &quot;John&quot;,\n &quot;surname&quot;: &quot;Jackson&quot;,\n &quot;city&quot;: &quot;Los Angeles&quot;\n &quot;message&quot;: &quot;There was only 1 person in chosen category&quot;\n}  \n</code></pre>\n<p>So my POJO class of <code>person</code> has fields: <code>id</code>, <code>name</code>, <code>surname</code>, <code>city</code>. However I would like to return message too, so the client application can display the message on the front-end. I was looking for a solution. By default <code>Controller</code> endpoint can return the object as <code>json</code> no problem. But that just gives me data, <code>200</code> status and that's it. I found about returning <code>ResponseEntity</code>, but this doesn't solve the problem either since in response body it takes a POJO so I still can't send a custom message along with data. I need to send custom message, data and a proper status code.</p>\n"},{"tags":["java","spring-boot","azure","azure-blob-storage","nosuchmethoderror"],"comments":[{"owner":{"account_id":18432270,"reputation":1955,"user_id":13427068,"display_name":"Faceless_GOD"},"score":0,"creation_date":1660165188,"post_id":73311455,"comment_id":129471504,"body_markdown":"https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.blobcontainerclient.listblobs?view=azure-java-stable","body":"<a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.blobcontainerclient.listblobs?view=azure-java-stable\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/java/api/&hellip;</a>"},{"owner":{"account_id":26031798,"reputation":1,"user_id":19737917,"display_name":"Vinicius Noriyuki"},"score":0,"creation_date":1660220036,"post_id":73311455,"comment_id":129484360,"body_markdown":"@MohitGanorkar I used all of this methods mentioned in documentation, but none of them worked. Is the same error.","body":"@MohitGanorkar I used all of this methods mentioned in documentation, but none of them worked. Is the same error."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661258722,"post_id":73311455,"comment_id":129724847,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":26031798,"reputation":1,"user_id":19737917,"display_name":"Vinicius Noriyuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660626263,"creation_date":1660246356,"answer_id":73326026,"question_id":73311455,"body_markdown":"I&#39;ll post it here in case anyone encounters the same problem.\r\n\r\nI found that the problem is the **version of my spring boot** because I&#39;m using *2.4.0* and when I updated from *2.7.2* this worked normally.","title":"Error Sping Boot list all files in Azure Blob Storage","body":"<p>I'll post it here in case anyone encounters the same problem.</p>\n<p>I found that the problem is the <strong>version of my spring boot</strong> because I'm using <em>2.4.0</em> and when I updated from <em>2.7.2</em> this worked normally.</p>\n"}],"owner":{"account_id":26031798,"reputation":1,"user_id":19737917,"display_name":"Vinicius Noriyuki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660626263,"creation_date":1660158130,"question_id":73311455,"body_markdown":"I&#39;m trying to list all my files in my Azure container, but when I use the method .listBlobs( ) I can&#39;t get my List of BlobItems.\r\n\r\nI received the error: *java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;*\r\n\r\nMy BlobContainerClient is getting correctly the Connection String and the Container Name.\r\n\r\n**Follow the code below:**\r\n\r\n    public List&lt;String&gt; listFiles() {\r\n        BlobContainerClient containerClient = containerClient();\r\n        PagedIterable&lt;BlobItem&gt; blobItems = containerClient.listBlobs();\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        for (BlobItem item : blobItems) {\r\n            list.add(item.getName());\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n**Stack Trace:**\r\n\r\njava.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;\r\n\tat com.azure.core.implementation.http.rest.AsyncRestProxy.handleBodyReturnType(AsyncRestProxy.java:176) ~[azure-core-1.30.0.jar:1.30.0]\r\n\tat com.azure.core.implementation.http.rest.AsyncRestProxy.handleRestResponseReturnType(AsyncRestProxy.java:133) ~[azure-core-1.30.0.jar:1.30.0]\r\n\tat com.azure.core.implementation.http.rest.AsyncRestProxy.lambda$handleRestReturnType$8(AsyncRestProxy.java:210) ~[azure-core-1.30.0.jar:1.30.0]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:136) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:136) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:188) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:179) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:178) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:150) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:145) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:150) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1785) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:212) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:269) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:383) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:396) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:452) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:664) ~[reactor-netty-http-1.0.1.jar:1.0.1]\r\n\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1533) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1294) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1331) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n2022-08-10 15:41:13.653  WARN 12444 --- [ctor-http-nio-1] i.n.c.AbstractChannelHandlerContext      : An exception &#39;java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;&#39; [enable DEBUG level for full stacktrace] was thrown by a user handler&#39;s exceptionCaught() method while handling the following exception:\r\n\r\njava.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;\r\n\tat com.azure.core.implementation.http.rest.AsyncRestProxy.handleBodyReturnType(AsyncRestProxy.java:176) ~[azure-core-1.30.0.jar:1.30.0]\r\n\tat com.azure.core.implementation.http.rest.AsyncRestProxy.handleRestResponseReturnType(AsyncRestProxy.java:133) ~[azure-core-1.30.0.jar:1.30.0]\r\n\tat com.azure.core.implementation.http.rest.AsyncRestProxy.lambda$handleRestReturnType$8(AsyncRestProxy.java:210) ~[azure-core-1.30.0.jar:1.30.0]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:136) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:136) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:188) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:179) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:178) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:150) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:145) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:150) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1785) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:212) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:269) ~[reactor-core-3.4.0.jar:3.4.0]\r\n\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:383) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:396) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:452) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:664) ~[reactor-netty-http-1.0.1.jar:1.0.1]\r\n\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1533) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1294) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1331) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]","title":"Error Sping Boot list all files in Azure Blob Storage","body":"<p>I'm trying to list all my files in my Azure container, but when I use the method .listBlobs( ) I can't get my List of BlobItems.</p>\n<p>I received the error: <em>java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;</em></p>\n<p>My BlobContainerClient is getting correctly the Connection String and the Container Name.</p>\n<p><strong>Follow the code below:</strong></p>\n<pre><code>public List&lt;String&gt; listFiles() {\n    BlobContainerClient containerClient = containerClient();\n    PagedIterable&lt;BlobItem&gt; blobItems = containerClient.listBlobs();\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    for (BlobItem item : blobItems) {\n        list.add(item.getName());\n    }\n\n    return list;\n}\n</code></pre>\n<p><strong>Stack Trace:</strong></p>\n<p>java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;\nat com.azure.core.implementation.http.rest.AsyncRestProxy.handleBodyReturnType(AsyncRestProxy.java:176) ~[azure-core-1.30.0.jar:1.30.0]\nat com.azure.core.implementation.http.rest.AsyncRestProxy.handleRestResponseReturnType(AsyncRestProxy.java:133) ~[azure-core-1.30.0.jar:1.30.0]\nat com.azure.core.implementation.http.rest.AsyncRestProxy.lambda$handleRestReturnType$8(AsyncRestProxy.java:210) ~[azure-core-1.30.0.jar:1.30.0]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:136) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:136) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:188) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:179) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:178) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:150) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:145) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:150) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1785) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:212) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:269) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:383) ~[reactor-netty-core-1.0.1.jar:1.0.1]\nat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:396) ~[reactor-netty-core-1.0.1.jar:1.0.1]\nat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:452) ~[reactor-netty-core-1.0.1.jar:1.0.1]\nat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:664) ~[reactor-netty-http-1.0.1.jar:1.0.1]\nat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94) ~[reactor-netty-core-1.0.1.jar:1.0.1]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1533) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1294) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1331) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]</p>\n<p>2022-08-10 15:41:13.653  WARN 12444 --- [ctor-http-nio-1] i.n.c.AbstractChannelHandlerContext      : An exception 'java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;' [enable DEBUG level for full stacktrace] was thrown by a user handler's exceptionCaught() method while handling the following exception:</p>\n<p>java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;\nat com.azure.core.implementation.http.rest.AsyncRestProxy.handleBodyReturnType(AsyncRestProxy.java:176) ~[azure-core-1.30.0.jar:1.30.0]\nat com.azure.core.implementation.http.rest.AsyncRestProxy.handleRestResponseReturnType(AsyncRestProxy.java:133) ~[azure-core-1.30.0.jar:1.30.0]\nat com.azure.core.implementation.http.rest.AsyncRestProxy.lambda$handleRestReturnType$8(AsyncRestProxy.java:210) ~[azure-core-1.30.0.jar:1.30.0]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:136) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:136) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:188) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:179) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:178) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:150) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:145) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:150) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1785) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:212) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:269) ~[reactor-core-3.4.0.jar:3.4.0]\nat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:383) ~[reactor-netty-core-1.0.1.jar:1.0.1]\nat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:396) ~[reactor-netty-core-1.0.1.jar:1.0.1]\nat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:452) ~[reactor-netty-core-1.0.1.jar:1.0.1]\nat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:664) ~[reactor-netty-http-1.0.1.jar:1.0.1]\nat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94) ~[reactor-netty-core-1.0.1.jar:1.0.1]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1533) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1294) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1331) ~[netty-handler-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1660316226,"post_id":73333337,"comment_id":129511407,"body_markdown":"Please avoid using words like *lakh* that are not globally understood","body":"Please avoid using words like <i>lakh</i> that are not globally understood"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660332527,"post_id":73333337,"comment_id":129516521,"body_markdown":"Clarify what you mean &quot;skip&quot;. Please show output from message offsets. When your app starts, it does not always start at the beginning of the topic, and Kafka can delete data from the beginning topic after some time. It is also unclear if your topic is compacted.","body":"Clarify what you mean &quot;skip&quot;. Please show output from message offsets. When your app starts, it does not always start at the beginning of the topic, and Kafka can delete data from the beginning topic after some time. It is also unclear if your topic is compacted."},{"owner":{"account_id":26045883,"reputation":1,"user_id":19749940,"display_name":"saurav"},"score":0,"creation_date":1660626234,"post_id":73333337,"comment_id":129569803,"body_markdown":"Example: i have 10 messages(1,2,3,4,5,6,7,8,9,10) in kafka queue , once start my spring boot application then kafka consumer reading some of messages like(1,2,3,6,8,10) that means 4,5,7,9 messages are skipped. why its happening any thing missing ?","body":"Example: i have 10 messages(1,2,3,4,5,6,7,8,9,10) in kafka queue , once start my spring boot application then kafka consumer reading some of messages like(1,2,3,6,8,10) that means 4,5,7,9 messages are skipped. why its happening any thing missing ?"},{"owner":{"account_id":11433301,"reputation":380,"user_id":8381420,"display_name":"saba"},"score":0,"creation_date":1669487811,"post_id":73333337,"comment_id":131653547,"body_markdown":"are these 10 messages in same partition?do you only have one consumer instance?","body":"are these 10 messages in same partition?do you only have one consumer instance?"}],"owner":{"account_id":26045883,"reputation":1,"user_id":19749940,"display_name":"saurav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660626145,"creation_date":1660303178,"question_id":73333337,"body_markdown":"I have a spring boot application which consume messages from kafka topic.  \r\nI have one topic called saurav-topic which have 4 partitions.  \r\nCurrently this topic have around 300 000 messages.  \r\nOnce consumer application started, it start consuming messages but some of the messages are skipping.  \r\nMy question here why its skipping some of the messages while consuming.\r\n\r\n\r\nKafkaConsumer.java:\r\n```java\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.kafka.annotation.KafkaListener;\r\n       \r\n@Service\r\npublic class KafkaConsumer {\r\n    @KafkaListener(topics = &quot;${kafka.topic.name}&quot;)\r\n    public void consume(ConsumerRecord&lt;String, String&gt; message) {\r\n        System.out.println(&quot;Consumed message: &quot; + message);\r\n    }\r\n}\r\n```\r\n\r\napplication.properties:\r\n```\r\nspring.kafka.consumer.bootstrap-servers=ip-adr:9094\r\nspring.kafka.consumer.group-id= group-id-dev-02\r\nspring.kafka.consumer.auto-offset-reset= earliest\r\nspring.kafka.consumer.key-deserializer= org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.consumer.max-poll-records= 10\r\nkafka.topic.name=saurav-topic\r\n```\r\n\r\nI have checked that the topic contains those messages which are skip while consuming.  \r\nAny ideas as to why this doesn&#39;t consume all messages from a kafka topic?\r\n\r\nExample: i have 10 messages(1,2,3,4,5,6,7,8,9,10) in kafka queue , once start my spring boot application then kafka consumer reading some of messages like(1,2,3,6,8,10) that means 4,5,7,9 messages are skipped. why its happening any thing missing ?","title":"Why kafka consumer skiping some of the message while consuming from kafka topic","body":"<p>I have a spring boot application which consume messages from kafka topic.<br />\nI have one topic called saurav-topic which have 4 partitions.<br />\nCurrently this topic have around 300 000 messages.<br />\nOnce consumer application started, it start consuming messages but some of the messages are skipping.<br />\nMy question here why its skipping some of the messages while consuming.</p>\n<p>KafkaConsumer.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.kafka.annotation.KafkaListener;\n       \n@Service\npublic class KafkaConsumer {\n    @KafkaListener(topics = &quot;${kafka.topic.name}&quot;)\n    public void consume(ConsumerRecord&lt;String, String&gt; message) {\n        System.out.println(&quot;Consumed message: &quot; + message);\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.kafka.consumer.bootstrap-servers=ip-adr:9094\nspring.kafka.consumer.group-id= group-id-dev-02\nspring.kafka.consumer.auto-offset-reset= earliest\nspring.kafka.consumer.key-deserializer= org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.max-poll-records= 10\nkafka.topic.name=saurav-topic\n</code></pre>\n<p>I have checked that the topic contains those messages which are skip while consuming.<br />\nAny ideas as to why this doesn't consume all messages from a kafka topic?</p>\n<p>Example: i have 10 messages(1,2,3,4,5,6,7,8,9,10) in kafka queue , once start my spring boot application then kafka consumer reading some of messages like(1,2,3,6,8,10) that means 4,5,7,9 messages are skipped. why its happening any thing missing ?</p>\n"},{"tags":["java","android","imageview"],"answers":[{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660381852,"creation_date":1660381852,"answer_id":73342954,"question_id":73245534,"body_markdown":"I figure out the problem. Instead of passing the drawable ID, I was passing the view id that is causing the error\r\n\r\n**Here I changed this to**\r\n```\r\nImageModel model = new ImageModel(&quot;karan&quot;, false, R.id.iv_image_thumbnail);\r\n```\r\n**this**\r\n```\r\nImageModel model = new ImageModel(&quot;karan&quot;, false, R.drawable.iv_image_thumbnail);\r\n```\r\n","title":"android.content.res.Resources$NotFoundException: Drawable com.sidharth.saveimage:id/iv_image_thumbnail with resource ID #0x7f09010a","body":"<p>I figure out the problem. Instead of passing the drawable ID, I was passing the view id that is causing the error</p>\n<p><strong>Here I changed this to</strong></p>\n<pre><code>ImageModel model = new ImageModel(&quot;karan&quot;, false, R.id.iv_image_thumbnail);\n</code></pre>\n<p><strong>this</strong></p>\n<pre><code>ImageModel model = new ImageModel(&quot;karan&quot;, false, R.drawable.iv_image_thumbnail);\n</code></pre>\n"}],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73342954,"answer_count":1,"score":0,"last_activity_date":1660626002,"creation_date":1659680918,"question_id":73245534,"body_markdown":"So, I want to set image resource to my ImageView but I&#39;m getting this error.\r\n\r\n```\r\nandroid.content.res.Resources$NotFoundException: Drawable com.sidharth.saveimage:id/iv_image_thumbnail with resource ID #0x7f09010a\r\n    Caused by: android.content.res.Resources$NotFoundException: Resource &quot;com.sidharth.saveimage:id/iv_image_thumbnail&quot; (7f09010a) is not a Drawable (color or path): TypedValue{t=0x12/d=0x0 a=15 r=0x7f09010a}\r\n```\r\nI&#39;m setting the image resource to the ImageView using ImageModel that returns resource id but it&#39;s throwing exception\r\n\r\nalready checked these answers [\\[1\\]][1], [\\[2\\]][2]\r\n\r\n**ImageModel object**\r\n```\r\nImageModel model = new ImageModel(&quot;karan&quot;, false, R.id.iv_image_thumbnail);\r\n```\r\n\r\n**Image Model**\r\n```\r\npublic class ImageModel {\r\n    private String name;\r\n    private boolean favorite;\r\n    private int id;\r\n\r\n    public ImageModel(String name, boolean favorite, int id) {\r\n        this.name = name;\r\n        this.favorite = favorite;\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public boolean isFavorite() {\r\n        return favorite;\r\n    }\r\n\r\n    public void setFavorite(boolean favorite) {\r\n        this.favorite = favorite;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n}\r\n\r\n```\r\n**image_item.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/iv_image_thumbnail&quot;\r\n        android:layout_width=&quot;@dimen/item_image_view_size&quot;\r\n        android:layout_height=&quot;@dimen/item_image_view_size&quot;\r\n        android:contentDescription=&quot;@string/item_description_image&quot;\r\n        android:scaleType=&quot;centerCrop&quot; /&gt;\r\n\r\n&lt;/com.google.android.material.card.MaterialCardView&gt;\r\n```\r\n**Logcat**\r\n```\r\n2022-08-05 11:50:59.558 19881-19881/com.sidharth.saveimage E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.sidharth.saveimage, PID: 19881\r\n    android.content.res.Resources$NotFoundException: Drawable com.sidharth.saveimage:id/iv_image_thumbnail with resource ID #0x7f09010a\r\n    Caused by: android.content.res.Resources$NotFoundException: Resource &quot;com.sidharth.saveimage:id/iv_image_thumbnail&quot; (7f09010a) is not a Drawable (color or path): TypedValue{t=0x12/d=0x0 a=15 r=0x7f09010a}\r\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:848)\r\n        at android.content.res.ResourcesImpl.originalLoadDrawable(ResourcesImpl.java:693)\r\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:600)\r\n        at android.content.res.MiuiResourcesImpl.loadDrawable(MiuiResourcesImpl.java:307)\r\n        at android.content.res.Resources.loadDrawable(Resources.java:1010)\r\n        at android.content.res.Resources.getDrawableForDensity(Resources.java:1000)\r\n        at android.content.res.Resources.getDrawable(Resources.java:939)\r\n        at android.content.Context.getDrawable(Context.java:702)\r\n        at androidx.core.content.ContextCompat$Api21Impl.getDrawable(ContextCompat.java:864)\r\n        at androidx.core.content.ContextCompat.getDrawable(ContextCompat.java:483)\r\n        at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:148)\r\n        at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:136)\r\n        at androidx.appcompat.content.res.AppCompatResources.getDrawable(AppCompatResources.java:66)\r\n        at androidx.appcompat.widget.AppCompatImageHelper.setImageResource(AppCompatImageHelper.java:91)\r\n        at androidx.appcompat.widget.AppCompatImageView.setImageResource(AppCompatImageView.java:102)\r\n        at com.sidharth.saveimage.tabview.image.ImageHolder.bind(ImageHolder.java:20)\r\n        at com.sidharth.saveimage.tabview.image.ImageAdapter.onBindViewHolder(ImageAdapter.java:32)\r\n        at com.sidharth.saveimage.tabview.image.ImageAdapter.onBindViewHolder(ImageAdapter.java:15)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\r\n        at androidx.recyclerview.widget.GridLayoutManager.layoutChunk(GridLayoutManager.java:561)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n        at androidx.recyclerview.widget.GridLayoutManager.onLayoutChildren(GridLayoutManager.java:170)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at android.view.View.measure(View.java:25777)\r\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.measureChildWithMargins(RecyclerView.java:9384)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1653)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n2022-08-05 11:50:59.559 19881-19881/com.sidharth.saveimage E/AndroidRuntime:     at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChild(ViewGroup.java:6988)\r\n        at androidx.viewpager2.widget.ViewPager2.onMeasure(ViewPager2.java:498)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at android.view.View.measure(View.java:25777)\r\n        at androidx.core.widget.NestedScrollView.measureChildWithMargins(NestedScrollView.java:1695)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at androidx.core.widget.NestedScrollView.onMeasure(NestedScrollView.java:604)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:760)\r\n        at com.google.android.material.appbar.HeaderScrollingViewBehavior.onMeasureChild(HeaderScrollingViewBehavior.java:99)\r\n        at com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior.onMeasureChild(AppBarLayout.java:2227)\r\n        at androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:831)\r\n        at android.view.View.measure(View.java:25777)\r\n        at androidx.drawerlayout.widget.DrawerLayout.onMeasure(DrawerLayout.java:1156)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at androidx.appcompat.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:145)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at com.android.internal.policy.DecorView.onMeasure(DecorView.java:760)\r\n        at android.view.View.measure(View.java:25777)\r\n        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3503)\r\n        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:2323)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2584)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2047)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8351)\r\n2022-08-05 11:50:59.559 19881-19881/com.sidharth.saveimage E/AndroidRuntime:     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1058)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:880)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:813)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1043)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:236)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7876)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9161435/getting-android-content-res-resourcesnotfoundexception-exception-even-when-the\r\n  [2]: https://stackoverflow.com/questions/29095063/resourcesnotfoundexception-resource-is-not-a-drawable-color-or-path","title":"android.content.res.Resources$NotFoundException: Drawable com.sidharth.saveimage:id/iv_image_thumbnail with resource ID #0x7f09010a","body":"<p>So, I want to set image resource to my ImageView but I'm getting this error.</p>\n<pre><code>android.content.res.Resources$NotFoundException: Drawable com.sidharth.saveimage:id/iv_image_thumbnail with resource ID #0x7f09010a\n    Caused by: android.content.res.Resources$NotFoundException: Resource &quot;com.sidharth.saveimage:id/iv_image_thumbnail&quot; (7f09010a) is not a Drawable (color or path): TypedValue{t=0x12/d=0x0 a=15 r=0x7f09010a}\n</code></pre>\n<p>I'm setting the image resource to the ImageView using ImageModel that returns resource id but it's throwing exception</p>\n<p>already checked these answers <a href=\"https://stackoverflow.com/questions/9161435/getting-android-content-res-resourcesnotfoundexception-exception-even-when-the\">[1]</a>, <a href=\"https://stackoverflow.com/questions/29095063/resourcesnotfoundexception-resource-is-not-a-drawable-color-or-path\">[2]</a></p>\n<p><strong>ImageModel object</strong></p>\n<pre><code>ImageModel model = new ImageModel(&quot;karan&quot;, false, R.id.iv_image_thumbnail);\n</code></pre>\n<p><strong>Image Model</strong></p>\n<pre><code>public class ImageModel {\n    private String name;\n    private boolean favorite;\n    private int id;\n\n    public ImageModel(String name, boolean favorite, int id) {\n        this.name = name;\n        this.favorite = favorite;\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public boolean isFavorite() {\n        return favorite;\n    }\n\n    public void setFavorite(boolean favorite) {\n        this.favorite = favorite;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n}\n\n</code></pre>\n<p><strong>image_item.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/iv_image_thumbnail&quot;\n        android:layout_width=&quot;@dimen/item_image_view_size&quot;\n        android:layout_height=&quot;@dimen/item_image_view_size&quot;\n        android:contentDescription=&quot;@string/item_description_image&quot;\n        android:scaleType=&quot;centerCrop&quot; /&gt;\n\n&lt;/com.google.android.material.card.MaterialCardView&gt;\n</code></pre>\n<p><strong>Logcat</strong></p>\n<pre><code>2022-08-05 11:50:59.558 19881-19881/com.sidharth.saveimage E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.sidharth.saveimage, PID: 19881\n    android.content.res.Resources$NotFoundException: Drawable com.sidharth.saveimage:id/iv_image_thumbnail with resource ID #0x7f09010a\n    Caused by: android.content.res.Resources$NotFoundException: Resource &quot;com.sidharth.saveimage:id/iv_image_thumbnail&quot; (7f09010a) is not a Drawable (color or path): TypedValue{t=0x12/d=0x0 a=15 r=0x7f09010a}\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:848)\n        at android.content.res.ResourcesImpl.originalLoadDrawable(ResourcesImpl.java:693)\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:600)\n        at android.content.res.MiuiResourcesImpl.loadDrawable(MiuiResourcesImpl.java:307)\n        at android.content.res.Resources.loadDrawable(Resources.java:1010)\n        at android.content.res.Resources.getDrawableForDensity(Resources.java:1000)\n        at android.content.res.Resources.getDrawable(Resources.java:939)\n        at android.content.Context.getDrawable(Context.java:702)\n        at androidx.core.content.ContextCompat$Api21Impl.getDrawable(ContextCompat.java:864)\n        at androidx.core.content.ContextCompat.getDrawable(ContextCompat.java:483)\n        at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:148)\n        at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:136)\n        at androidx.appcompat.content.res.AppCompatResources.getDrawable(AppCompatResources.java:66)\n        at androidx.appcompat.widget.AppCompatImageHelper.setImageResource(AppCompatImageHelper.java:91)\n        at androidx.appcompat.widget.AppCompatImageView.setImageResource(AppCompatImageView.java:102)\n        at com.sidharth.saveimage.tabview.image.ImageHolder.bind(ImageHolder.java:20)\n        at com.sidharth.saveimage.tabview.image.ImageAdapter.onBindViewHolder(ImageAdapter.java:32)\n        at com.sidharth.saveimage.tabview.image.ImageAdapter.onBindViewHolder(ImageAdapter.java:15)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\n        at androidx.recyclerview.widget.GridLayoutManager.layoutChunk(GridLayoutManager.java:561)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\n        at androidx.recyclerview.widget.GridLayoutManager.onLayoutChildren(GridLayoutManager.java:170)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25777)\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.measureChildWithMargins(RecyclerView.java:9384)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1653)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\n2022-08-05 11:50:59.559 19881-19881/com.sidharth.saveimage E/AndroidRuntime:     at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChild(ViewGroup.java:6988)\n        at androidx.viewpager2.widget.ViewPager2.onMeasure(ViewPager2.java:498)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25777)\n        at androidx.core.widget.NestedScrollView.measureChildWithMargins(NestedScrollView.java:1695)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at androidx.core.widget.NestedScrollView.onMeasure(NestedScrollView.java:604)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:760)\n        at com.google.android.material.appbar.HeaderScrollingViewBehavior.onMeasureChild(HeaderScrollingViewBehavior.java:99)\n        at com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior.onMeasureChild(AppBarLayout.java:2227)\n        at androidx.coordinatorlayout.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:831)\n        at android.view.View.measure(View.java:25777)\n        at androidx.drawerlayout.widget.DrawerLayout.onMeasure(DrawerLayout.java:1156)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at androidx.appcompat.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:145)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:7017)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at com.android.internal.policy.DecorView.onMeasure(DecorView.java:760)\n        at android.view.View.measure(View.java:25777)\n        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3503)\n        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:2323)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2584)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2047)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8351)\n2022-08-05 11:50:59.559 19881-19881/com.sidharth.saveimage E/AndroidRuntime:     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1058)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:880)\n        at android.view.Choreographer.doFrame(Choreographer.java:813)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1043)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:236)\n        at android.app.ActivityThread.main(ActivityThread.java:7876)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\n\n</code></pre>\n"},{"tags":["java","maven","heroku"],"comments":[{"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"score":0,"creation_date":1608590265,"post_id":65395942,"comment_id":115625841,"body_markdown":"Doesn&#39;t [this Q&amp;A](https://stackoverflow.com/q/53604111/2915423) help you solve the problem?","body":"Doesn&#39;t <a href=\"https://stackoverflow.com/q/53604111/2915423\">this Q&amp;A</a> help you solve the problem?"}],"answers":[{"tags":[],"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608757298,"creation_date":1608757298,"answer_id":65430901,"question_id":65395942,"body_markdown":"I would try focusing on why maven complains about invalid release 11 (`Fatal error compiling: invalid target release: 11`).\r\n\r\nAs seen in your `pom.xml` config you clearly intend to use version 15, so I would suggest to investigate why there is a problem with version 11.\r\n\r\nCheck `$JAVA_HOME` environment variable, `system.properties` file, etc. \r\n\r\nAlso try debug route suggested in [official docs](https://devcenter.heroku.com/articles/java-support#specifying-a-java-version) or a [Q&amp;A on a similar topic](https://stackoverflow.com/q/53604111/2915423).","title":"Fatal error compiling: invalid target release: 11 during pushing to heroku","body":"<p>I would try focusing on why maven complains about invalid release 11 (<code>Fatal error compiling: invalid target release: 11</code>).</p>\n<p>As seen in your <code>pom.xml</code> config you clearly intend to use version 15, so I would suggest to investigate why there is a problem with version 11.</p>\n<p>Check <code>$JAVA_HOME</code> environment variable, <code>system.properties</code> file, etc.</p>\n<p>Also try debug route suggested in <a href=\"https://devcenter.heroku.com/articles/java-support#specifying-a-java-version\" rel=\"nofollow noreferrer\">official docs</a> or a <a href=\"https://stackoverflow.com/q/53604111/2915423\">Q&amp;A on a similar topic</a>.</p>\n"},{"tags":[],"owner":{"account_id":17591164,"reputation":19,"user_id":12763002,"display_name":"Angel Quiroz Soriano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612634592,"creation_date":1612632989,"answer_id":66079897,"question_id":65395942,"body_markdown":"You must use the specific version of Java supported by Heroku. The following versions supported are:\r\n\r\n - Java 7 - 1.7.0_292\r\n - Java 8 - 1.8.0_282\r\n - Java 11 - 11.0.10\r\n - Java 13 - 13.0.6\r\n - Java 15 - 15.0.2\r\n\r\nSet a java.runtime.version property of the system.properties file, create a system.properties file if one does not already exist.\r\n\r\njava.runtime.version = SUPPORTED_VERSION\r\n\r\nRead more in [heroku-java-support][1]\r\n\r\n\r\n  [1]: https://devcenter.heroku.com/articles/java-support#supported-java-versions","title":"Fatal error compiling: invalid target release: 11 during pushing to heroku","body":"<p>You must use the specific version of Java supported by Heroku. The following versions supported are:</p>\n<ul>\n<li>Java 7 - 1.7.0_292</li>\n<li>Java 8 - 1.8.0_282</li>\n<li>Java 11 - 11.0.10</li>\n<li>Java 13 - 13.0.6</li>\n<li>Java 15 - 15.0.2</li>\n</ul>\n<p>Set a java.runtime.version property of the system.properties file, create a system.properties file if one does not already exist.</p>\n<p>java.runtime.version = SUPPORTED_VERSION</p>\n<p>Read more in <a href=\"https://devcenter.heroku.com/articles/java-support#supported-java-versions\" rel=\"nofollow noreferrer\">heroku-java-support</a></p>\n"},{"tags":[],"owner":{"account_id":15344798,"reputation":179,"user_id":12391466,"display_name":"Jason Huang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617639257,"creation_date":1617639257,"answer_id":66956074,"question_id":65395942,"body_markdown":"I solved this problem by adding a new file **system.properties** and the content added to the file is **java.runtime.version=11** (For me I am using JDK 11).\r\n```\r\njava.runtime.version=11\r\n```","title":"Fatal error compiling: invalid target release: 11 during pushing to heroku","body":"<p>I solved this problem by adding a new file <strong>system.properties</strong> and the content added to the file is <strong>java.runtime.version=11</strong> (For me I am using JDK 11).</p>\n<pre><code>java.runtime.version=11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1423405,"reputation":281,"user_id":1347537,"display_name":"chmin.seo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654607022,"creation_date":1654607022,"answer_id":72531704,"question_id":65395942,"body_markdown":"This is what I have experienced today.\r\n\r\nI have been using jdk 1.8, and then have to install jdk 1.11.\r\n\r\nBut, after running `mvnw` through my shell script file `dep.sh`, it failed to build jar.\r\n\r\n```sh\r\n#!/bin/bash\r\n\r\nMVN=$(pwd)/mvnw\r\necho &quot;[1/2] Building app.jar ...&quot;\r\n$MVN clean package -Dmaven.test.skip=true \r\n```\r\n* `dep.sh` calls mvnw script file with goal `clan package`\r\n\r\n#### Error\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile\r\n  (default-compile) on project dictation:\r\n  Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nMy `pom.xml` is configured with jdk 1.11. But it does not solve the build error.\r\n\r\n```xml\r\n&lt;project ...&gt;\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;&lt;!-- 1.11 not working --&gt;\r\n          &lt;target&gt;11&lt;/target&gt;&lt;!-- 1.11 not working --&gt;\r\n       &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n* build failure\r\n\r\nWhen I installed jdk 1.8, `JAVA_HOME` was set to `/my/jdk/1.8/dir`, which is used for bundling jar.\r\n\r\nI set `JAVA_HOME` to `/my/jdk/1.111/dir` in `dep.sh`, it works without error.\r\n\r\n```sh\r\n#!/bin/bash\r\n\r\nJAVA_HOME=&quot;/C/Program Files/Java/jdk-11.0.9&quot;\r\n\r\nMVN=$(pwd)/mvnw\r\necho &quot;[1/2] Building app.jar ...&quot;\r\n$MVN clean package -Dmaven.test.skip=true\r\n``` ","title":"Fatal error compiling: invalid target release: 11 during pushing to heroku","body":"<p>This is what I have experienced today.</p>\n<p>I have been using jdk 1.8, and then have to install jdk 1.11.</p>\n<p>But, after running <code>mvnw</code> through my shell script file <code>dep.sh</code>, it failed to build jar.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nMVN=$(pwd)/mvnw\necho &quot;[1/2] Building app.jar ...&quot;\n$MVN clean package -Dmaven.test.skip=true \n</code></pre>\n<ul>\n<li><code>dep.sh</code> calls mvnw script file with goal <code>clan package</code></li>\n</ul>\n<h4>Error</h4>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile\n  (default-compile) on project dictation:\n  Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>My <code>pom.xml</code> is configured with jdk 1.11. But it does not solve the build error.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project ...&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;/properties&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n       &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;&lt;!-- 1.11 not working --&gt;\n          &lt;target&gt;11&lt;/target&gt;&lt;!-- 1.11 not working --&gt;\n       &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<ul>\n<li>build failure</li>\n</ul>\n<p>When I installed jdk 1.8, <code>JAVA_HOME</code> was set to <code>/my/jdk/1.8/dir</code>, which is used for bundling jar.</p>\n<p>I set <code>JAVA_HOME</code> to <code>/my/jdk/1.111/dir</code> in <code>dep.sh</code>, it works without error.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nJAVA_HOME=&quot;/C/Program Files/Java/jdk-11.0.9&quot;\n\nMVN=$(pwd)/mvnw\necho &quot;[1/2] Building app.jar ...&quot;\n$MVN clean package -Dmaven.test.skip=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11524904,"reputation":333,"user_id":8477943,"display_name":"Shaminda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660625444,"creation_date":1660625444,"answer_id":73368907,"question_id":65395942,"body_markdown":"create system.properties file and Add java.runtime.version=11\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C5dUX.png","title":"Fatal error compiling: invalid target release: 11 during pushing to heroku","body":"<p>create system.properties file and Add java.runtime.version=11</p>\n<p><a href=\"https://i.stack.imgur.com/C5dUX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C5dUX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20269907,"reputation":31,"user_id":14866307,"display_name":"Toon De Hoop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14197,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1660625444,"creation_date":1608566328,"question_id":65395942,"body_markdown":"im trying to deploy my back end application to heroku\r\nbun when I run this command\r\n\r\n```\r\ngit push --force heroku-be-app splitting-staging-be:master\r\n```\r\n\r\nim getting this error\r\n\r\n```\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M9/qdox-2.0-M9.jar (317 kB at 7.6 MB/s)\r\n       [INFO] Changes detected - recompiling the module!\r\n       [INFO] Compiling 24 source files to /tmp/build_4e875976/target/classes\r\n       [INFO] ------------------------------------------------------------------------\r\n       [INFO] BUILD FAILURE\r\n       [INFO] ------------------------------------------------------------------------\r\n       [INFO] Total time:  12.593 s\r\n       [INFO] Finished at: 2020-12-21T15:28:14Z\r\n       [INFO] ------------------------------------------------------------------------\r\n       [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project backend: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\n       [ERROR] \r\n       [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n       [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n       [ERROR] \r\n       [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n       [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n !     ERROR: Failed to build app with Maven\r\n       We&#39;re sorry this build is failing! If you can&#39;t find the issue in application code,\r\n       please submit a ticket so we can help: https://help.heroku.com/\r\n !     Push rejected, failed to compile Java app.\r\n !     Push failed\r\n```\r\n\r\nThis is my pom file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;vs&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;backend&lt;/name&gt;\r\n\t&lt;description&gt;Main server voor van streek project&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;15&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;15&lt;/source&gt;   &lt;!-- maven.compiler.source  --&gt;\r\n\t\t\t\t\t&lt;target&gt;15&lt;/target&gt; &lt;!-- maven.compiler.target --&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Fatal error compiling: invalid target release: 11 during pushing to heroku","body":"<p>im trying to deploy my back end application to heroku\nbun when I run this command</p>\n<pre><code>git push --force heroku-be-app splitting-staging-be:master\n</code></pre>\n<p>im getting this error</p>\n<pre><code>       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M9/qdox-2.0-M9.jar (317 kB at 7.6 MB/s)\n       [INFO] Changes detected - recompiling the module!\n       [INFO] Compiling 24 source files to /tmp/build_4e875976/target/classes\n       [INFO] ------------------------------------------------------------------------\n       [INFO] BUILD FAILURE\n       [INFO] ------------------------------------------------------------------------\n       [INFO] Total time:  12.593 s\n       [INFO] Finished at: 2020-12-21T15:28:14Z\n       [INFO] ------------------------------------------------------------------------\n       [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project backend: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\n       [ERROR] \n       [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n       [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n       [ERROR] \n       [ERROR] For more information about the errors and possible solutions, please read the following articles:\n       [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n !     ERROR: Failed to build app with Maven\n       We're sorry this build is failing! If you can't find the issue in application code,\n       please submit a ticket so we can help: https://help.heroku.com/\n !     Push rejected, failed to compile Java app.\n !     Push failed\n</code></pre>\n<p>This is my pom file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;vs&lt;/groupId&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;backend&lt;/name&gt;\n    &lt;description&gt;Main server voor van streek project&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n      &lt;version&gt;5.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n      &lt;version&gt;5.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n      &lt;version&gt;1.6.5&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;15&lt;/source&gt;   &lt;!-- maven.compiler.source  --&gt;\n                    &lt;target&gt;15&lt;/target&gt; &lt;!-- maven.compiler.target --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1660687081,"post_id":73368858,"comment_id":129590417,"body_markdown":"[1] Problems associated with starting NetBeans are written to the NetBeans log file. That log is named **messages.log**, and it is a simple text file. It will reside in a directory named **var** under your _user_ directory. In my case, on Windows 10, its path is _C:\\Users\\johndoe\\AppData\\Roaming\\NetBeans\\10.0\\var\\log_, though obviously it will be different for you. Update your question (only) with any messages appended to the log when you attempt to start NetBeans, being sure to specify the version of Java being used....","body":"[1] Problems associated with starting NetBeans are written to the NetBeans log file. That log is named <b>messages.log</b>, and it is a simple text file. It will reside in a directory named <b>var</b> under your <i>user</i> directory. In my case, on Windows 10, its path is <i>C:\\Users\\johndoe\\AppData\\Roaming\\NetBeans\\10.0\\var\\log</i>, though obviously it will be different for you. Update your question (only) with any messages appended to the log when you attempt to start NetBeans, being sure to specify the version of Java being used...."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1660687355,"post_id":73368858,"comment_id":129590477,"body_markdown":"[2] You can explicitly specify the version of Java you want NetBeans to use in the file **netBeans.conf**. See [this answer](https://stackoverflow.com/a/54770359/2985643) for details on how to do that. I&#39;m not a Mac user, but my understanding is that Apple sometimes bundles Java with the O/S, so there may be a conflict between the Apple installed Java, and the version you want to use. Explicitly specifying the JDK path of choice in  **netBeans.conf** will resolve that potential issue. [Here&#39;s an (old) example](https://stackoverflow.com/a/40869130/2985643) of editing **netbeans.conf** on a Mac.","body":"[2] You can explicitly specify the version of Java you want NetBeans to use in the file <b>netBeans.conf</b>. See <a href=\"https://stackoverflow.com/a/54770359/2985643\">this answer</a> for details on how to do that. I&#39;m not a Mac user, but my understanding is that Apple sometimes bundles Java with the O/S, so there may be a conflict between the Apple installed Java, and the version you want to use. Explicitly specifying the JDK path of choice in  <b>netBeans.conf</b> will resolve that potential issue. <a href=\"https://stackoverflow.com/a/40869130/2985643\">Here&#39;s an (old) example</a> of editing <b>netbeans.conf</b> on a Mac."},{"owner":{"account_id":9501638,"reputation":11,"user_id":7062487,"display_name":"Dogz"},"score":0,"creation_date":1661120972,"post_id":73368858,"comment_id":129690153,"body_markdown":"I cannot find said messages. log. I have a folder named var but no file called messages. log and nothing pops up under finder either","body":"I cannot find said messages. log. I have a folder named var but no file called messages. log and nothing pops up under finder either"},{"owner":{"account_id":9501638,"reputation":11,"user_id":7062487,"display_name":"Dogz"},"score":0,"creation_date":1661121815,"post_id":73368858,"comment_id":129690264,"body_markdown":"I thought from reading around here that it was probably an issue with netbeans not finding java which is why I redownloaded it and I tried to specify it‚Äôs location via similar examples. It doesn‚Äôt do anything. Maybe because I am new to bash I am doing something wrong.  My version of JDK is jdk-18.02.jdk so I just change it to that version. I saw that these files from the path actually exist on my computer so it should be working.","body":"I thought from reading around here that it was probably an issue with netbeans not finding java which is why I redownloaded it and I tried to specify it‚Äôs location via similar examples. It doesn‚Äôt do anything. Maybe because I am new to bash I am doing something wrong.  My version of JDK is jdk-18.02.jdk so I just change it to that version. I saw that these files from the path actually exist on my computer so it should be working."},{"owner":{"account_id":9501638,"reputation":11,"user_id":7062487,"display_name":"Dogz"},"score":0,"creation_date":1661122215,"post_id":73368858,"comment_id":129690314,"body_markdown":"This what I tried based on the post you suggested (I tried some other variations as well also based on some other posts):   `$ vi /Applications/NetBeans/NetBeans\\ 14.app/Contents/Resources/NetBeans/etc/netbeans.conf\n[...]\n#netbeans_jdkhome=&quot;/Applications/NetBeans/NetBeans 14.app/Contents/Resources/NetBeans/bin/jre&quot;\nnetbeans_jdkhome=&quot;/Library/Java/JavaVirtualMachines/jdk18.0.2.jdk /Contents/Home/`","body":"This what I tried based on the post you suggested (I tried some other variations as well also based on some other posts):   <code>$ vi &#47;Applications&#47;NetBeans&#47;NetBeans\\ 14.app&#47;Contents&#47;Resources&#47;NetBeans&#47;etc&#47;netbeans.conf [...] #netbeans_jdkhome=&quot;&#47;Applications&#47;NetBeans&#47;NetBeans 14.app&#47;Contents&#47;Resources&#47;NetBeans&#47;bin&#47;jre&quot; netbeans_jdkhome=&quot;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk18.0.&zwnj;&#8203;2.jdk &#47;Contents&#47;Home&#47;</code>"},{"owner":{"account_id":9501638,"reputation":11,"user_id":7062487,"display_name":"Dogz"},"score":0,"creation_date":1661126065,"post_id":73368858,"comment_id":129690743,"body_markdown":"I also tried completely uninstalling and installing netbeans and clearing the cache. No effect. I don&#39;t know if any others have this much issue with netbeans. I am thinking it is just too glitchy and might need to try out another IDE.","body":"I also tried completely uninstalling and installing netbeans and clearing the cache. No effect. I don&#39;t know if any others have this much issue with netbeans. I am thinking it is just too glitchy and might need to try out another IDE."},{"owner":{"account_id":9501638,"reputation":11,"user_id":7062487,"display_name":"Dogz"},"score":0,"creation_date":1661126884,"post_id":73368858,"comment_id":129690822,"body_markdown":"worked using omniremover https://www.minicreo.com/mac-uninstaller/uninstall-netbeans-mac.html and reinstalling. Not sure why the first install didn&#39;t work well. I did exactly the same thing. These programs are as finicky as my cells.","body":"worked using omniremover <a href=\"https://www.minicreo.com/mac-uninstaller/uninstall-netbeans-mac.html\" rel=\"nofollow noreferrer\">minicreo.com/mac-uninstaller/uninstall-netbeans-mac.html</a> and reinstalling. Not sure why the first install didn&#39;t work well. I did exactly the same thing. These programs are as finicky as my cells."}],"owner":{"account_id":9501638,"reputation":11,"user_id":7062487,"display_name":"Dogz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660624827,"creation_date":1660624827,"question_id":73368858,"body_markdown":"I just purchased a new computer (mac) on mac os Monterrey.\r\nNeither my old netbeans 11.3 transferred from my old computer or the \r\nnewest version netbeans 14, I just installed, seems to work. I \r\nreinstalled java and JDK 17  and restarted and still the same issues.\r\nNetbeans 14 won&#39;t open at all; just starts opening and quits \r\nafter a few seconds. Netbeans 11 is stuck on initializing any project \r\nforever. Netbeans 14 opened briefly until I allowed it to load some \r\nmodules on netbeans 11 on to it. After restarting it no longer even \r\nopens!\r\nThis is so frustrating! How can I access all of my projects? I am just not an expert enough to figure this out and no one else seems to have problems with netbeans 14.\r\n","title":"Netbeans 14 won&#39;t open on mac","body":"<p>I just purchased a new computer (mac) on mac os Monterrey.\nNeither my old netbeans 11.3 transferred from my old computer or the\nnewest version netbeans 14, I just installed, seems to work. I\nreinstalled java and JDK 17  and restarted and still the same issues.\nNetbeans 14 won't open at all; just starts opening and quits\nafter a few seconds. Netbeans 11 is stuck on initializing any project\nforever. Netbeans 14 opened briefly until I allowed it to load some\nmodules on netbeans 11 on to it. After restarting it no longer even\nopens!\nThis is so frustrating! How can I access all of my projects? I am just not an expert enough to figure this out and no one else seems to have problems with netbeans 14.</p>\n"},{"tags":["java","intellij-idea","java-home"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660618784,"post_id":73368162,"comment_id":129568807,"body_markdown":"Presumably, the IDEA 2022.1 platform relies on features that are not available in Java 8.  Or maybe it is just the classfile version numbers.  But does it really matter why?  Just set JAVA_HOME to Java 11 when you launch IDEA.  Move on, nothing happening here :-)","body":"Presumably, the IDEA 2022.1 platform relies on features that are not available in Java 8.  Or maybe it is just the classfile version numbers.  But does it really matter why?  Just set JAVA_HOME to Java 11 when you launch IDEA.  Move on, nothing happening here :-)"},{"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"score":0,"creation_date":1660619309,"post_id":73368162,"comment_id":129568883,"body_markdown":"I just found out that IDEA 2022.1 requires JVM 11. That&#39;s why JDK 8 won&#39;t work. I downloaded Community Edition, and I was able to start idea64.exe. It uses its own JVM by default, which is in the &quot;jbr&quot; folder. For my Ultimate Edition, it was installed by my company&#39;s automated software request process, and somehow the installation does not come with its own JVM. In that case, it will find a JVM defined under JAVA_HOME.","body":"I just found out that IDEA 2022.1 requires JVM 11. That&#39;s why JDK 8 won&#39;t work. I downloaded Community Edition, and I was able to start idea64.exe. It uses its own JVM by default, which is in the &quot;jbr&quot; folder. For my Ultimate Edition, it was installed by my company&#39;s automated software request process, and somehow the installation does not come with its own JVM. In that case, it will find a JVM defined under JAVA_HOME."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660623482,"creation_date":1660623148,"answer_id":73368727,"question_id":73368162,"body_markdown":"According to the first paragraph of https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under Java 8 is no longer supported to run Intellij IDEA&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThe link also says that Java 11 is bundled with the standard installer.  Presumably, a standard install would ignore your `JAVA_HOME` setting if the user was launching IDEA in the recommended way.   There is no mention of `JAVA_HOME` in the main IDEA documentation.\r\n\r\nIt would seem that the `JAVA_HOME` sensitivity is due to something your company has done in their &quot;automated software request process&quot;.\r\n\r\nEither way, just setting `JAVA_HOME` to a Java 11 installation would be sufficient to make IDEA work for you.  (Alternatively, use the vendor&#39;s standard installer.)\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - Why?  I expect that they want / need to make use of Java 11 features in their product, and there is no compelling reason not to.   Either way, it is a business decision.&lt;/sup&gt;\r\n","title":"IntelliJ won&#39;t start with JAVA_HOME set to JDK8","body":"<p>According to the first paragraph of <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under</a> Java 8 is no longer supported to run Intellij IDEA<sup>1</sup>.</p>\n<p>The link also says that Java 11 is bundled with the standard installer.  Presumably, a standard install would ignore your <code>JAVA_HOME</code> setting if the user was launching IDEA in the recommended way.   There is no mention of <code>JAVA_HOME</code> in the main IDEA documentation.</p>\n<p>It would seem that the <code>JAVA_HOME</code> sensitivity is due to something your company has done in their &quot;automated software request process&quot;.</p>\n<p>Either way, just setting <code>JAVA_HOME</code> to a Java 11 installation would be sufficient to make IDEA work for you.  (Alternatively, use the vendor's standard installer.)</p>\n<hr />\n<p><sup>1 - Why?  I expect that they want / need to make use of Java 11 features in their product, and there is no compelling reason not to.   Either way, it is a business decision.</sup></p>\n"}],"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660623482,"creation_date":1660616886,"question_id":73368162,"body_markdown":"I have IntelliJ IDEA Ultimate Edition 2022.1 installed, but when I tried to launch idea64.exe, I got the following popup message:\r\n\r\nThe environment variable JAVA_HOME (with the value of C:\\Program Files\\Java\\jdk1.8.0_341) does not point to a valid JVM installation.\r\n\r\nI do have the JDK with the path C:\\Program Files\\Java\\jdk1.8.0_341. To verify, I went into the bin folder and was able to execute java.exe manually.\r\n\r\nNext, from the command window, I changed JAVA_HOME to C:\\Program Files\\Java\\jre-11.0_15.1. This time idea64.exe could be launched successfully.\r\n\r\nWhat is the reason that it cannot launch when JAVA_HOME points to a Java 8 JDK, but can launch when JAVA_HOME points to a Java 11 JRE?","title":"IntelliJ won&#39;t start with JAVA_HOME set to JDK8","body":"<p>I have IntelliJ IDEA Ultimate Edition 2022.1 installed, but when I tried to launch idea64.exe, I got the following popup message:</p>\n<p>The environment variable JAVA_HOME (with the value of C:\\Program Files\\Java\\jdk1.8.0_341) does not point to a valid JVM installation.</p>\n<p>I do have the JDK with the path C:\\Program Files\\Java\\jdk1.8.0_341. To verify, I went into the bin folder and was able to execute java.exe manually.</p>\n<p>Next, from the command window, I changed JAVA_HOME to C:\\Program Files\\Java\\jre-11.0_15.1. This time idea64.exe could be launched successfully.</p>\n<p>What is the reason that it cannot launch when JAVA_HOME points to a Java 8 JDK, but can launch when JAVA_HOME points to a Java 11 JRE?</p>\n"},{"tags":["java","json","parsing","json-simple"],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459532780,"creation_date":1459532780,"answer_id":36362668,"question_id":36362619,"body_markdown":"The object in your file has exactly one property, named `numbers`.  \r\nThere is no `natural` property.  \r\n\r\nYou probably want to examine the objects inside that array.","title":"Parsing a JSON file in Java using json-simple","body":"<p>The object in your file has exactly one property, named <code>numbers</code>.<br>\nThere is no <code>natural</code> property.  </p>\n\n<p>You probably want to examine the objects inside that array.</p>\n"},{"tags":[],"owner":{"account_id":4026896,"reputation":317,"user_id":3314735,"display_name":"Jeremy Hanlon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1459532874,"creation_date":1459532874,"answer_id":36362692,"question_id":36362619,"body_markdown":"You need to find the `JSONObject` in the array first. You are trying to find the field `natural` of the top-level `JSONObject`, which only contains the field `numbers` so it is returning `null` because it can&#39;t find `natural`.\r\n\r\nTo fix this you must first get the numbers array.\r\n\r\n\r\nTry this instead:\r\n\r\n    JSONParser parser = new JSONParser();\r\n    Object obj = parser.parse(new FileReader(&quot;...&quot;)); //the location of the file\r\n    JSONObject jsonObject = (JSONObject) obj;\r\n    JSONArray numbers = (JSONArray) jsonObject.get(&quot;numbers&quot;);\r\n    \r\n    for (Object number : numbers) {\r\n        JSONObject jsonNumber = (JSONObject) number;\r\n        String natural = (String) jsonNumber.get(&quot;natural&quot;);\r\n        System.out.println(natural);\r\n    }","title":"Parsing a JSON file in Java using json-simple","body":"<p>You need to find the <code>JSONObject</code> in the array first. You are trying to find the field <code>natural</code> of the top-level <code>JSONObject</code>, which only contains the field <code>numbers</code> so it is returning <code>null</code> because it can't find <code>natural</code>.</p>\n\n<p>To fix this you must first get the numbers array.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>JSONParser parser = new JSONParser();\nObject obj = parser.parse(new FileReader(\"...\")); //the location of the file\nJSONObject jsonObject = (JSONObject) obj;\nJSONArray numbers = (JSONArray) jsonObject.get(\"numbers\");\n\nfor (Object number : numbers) {\n    JSONObject jsonNumber = (JSONObject) number;\n    String natural = (String) jsonNumber.get(\"natural\");\n    System.out.println(natural);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19160778,"reputation":33,"user_id":15766544,"display_name":"DaVinziBoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660622842,"creation_date":1660622842,"answer_id":73368698,"question_id":36362619,"body_markdown":"Adding on to @Jermey Hanion&#39;s answer and comment, here is what I did to get &quot;imaginary&quot; and &quot;natural&quot;\r\n\r\n    JSONParser parser = new JSONParser();\r\n    Object obj = parser.parse(new FileReader(&quot;...&quot;)); //the location of the file\r\n    JSONObject jsonObject = (JSONObject) obj;\r\n    JSONArray numbers = (JSONArray) jsonObject.get(&quot;numbers&quot;);\r\n    \r\n    for (Object number : numbers) {\r\n        JSONObject jsonNumber = (JSONObject) number;\r\n        String natural = (String) jsonNumber.get(&quot;natural&quot;);\r\n        JSONObject complex = (JSONObject) jsonNumber.get(&quot;complex&quot;);\r\n        String imaginary = (String) complex.get(&quot;imaginary&quot;);\r\n        System.out.println(natural);\r\n    }\r\nJeremey&#39;s answer for getting imaginary is not correct, or maybe it *was* correct. The above snippet is to my knowledge working on my project.\r\n\r\n*PS. Sorry for reviving the thread but I thought it would be a useful resource for people looking to learn JSON.simple*","title":"Parsing a JSON file in Java using json-simple","body":"<p>Adding on to @Jermey Hanion's answer and comment, here is what I did to get &quot;imaginary&quot; and &quot;natural&quot;</p>\n<pre><code>JSONParser parser = new JSONParser();\nObject obj = parser.parse(new FileReader(&quot;...&quot;)); //the location of the file\nJSONObject jsonObject = (JSONObject) obj;\nJSONArray numbers = (JSONArray) jsonObject.get(&quot;numbers&quot;);\n\nfor (Object number : numbers) {\n    JSONObject jsonNumber = (JSONObject) number;\n    String natural = (String) jsonNumber.get(&quot;natural&quot;);\n    JSONObject complex = (JSONObject) jsonNumber.get(&quot;complex&quot;);\n    String imaginary = (String) complex.get(&quot;imaginary&quot;);\n    System.out.println(natural);\n}\n</code></pre>\n<p>Jeremey's answer for getting imaginary is not correct, or maybe it <em>was</em> correct. The above snippet is to my knowledge working on my project.</p>\n<p><em>PS. Sorry for reviving the thread but I thought it would be a useful resource for people looking to learn JSON.simple</em></p>\n"}],"owner":{"account_id":6241713,"reputation":194,"user_id":4855124,"accept_rate":60,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16385,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36362692,"answer_count":3,"score":3,"last_activity_date":1660622842,"creation_date":1459532595,"question_id":36362619,"body_markdown":"I have created a .json file:\r\n\r\n    {\r\n      &quot;numbers&quot;: [\r\n        {\r\n          &quot;natural&quot;: &quot;10&quot;,\r\n          &quot;integer&quot;: &quot;-1&quot;,\r\n          &quot;real&quot;: &quot;3.14159265&quot;,\r\n          &quot;complex&quot;: {\r\n            &quot;real&quot;: 10,\r\n            &quot;imaginary&quot;: 2\r\n          },\r\n          &quot;EOF&quot;: &quot;yes&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nand I want to parse it using Json Simple, in order to extract the content of the &quot;natural&quot; and the &quot;imaginary&quot;. \r\n\r\nThis is what I have written so far:\r\n\r\n    JSONParser parser = new JSONParser();\r\n    Object obj = parser.parse(new FileReader(&quot;...&quot;)); //the location of the file\r\n    JSONObject jsonObject = (JSONObject) obj;\r\n    String natural = (String) jsonObject.get(&quot;natural&quot;);\r\n    System.out.println(natural);\r\n\r\nThe problem is that the value of natural is &quot;null&quot; and not &quot;10&quot;. Same thing happens when I write jsonObject.get(&quot;imaginary&quot;).\r\n\r\nI have looked at many websites (including StackOverflow), I have followed the same way most people have written, but I am unable to fix this problem.\r\n","title":"Parsing a JSON file in Java using json-simple","body":"<p>I have created a .json file:</p>\n\n<pre><code>{\n  \"numbers\": [\n    {\n      \"natural\": \"10\",\n      \"integer\": \"-1\",\n      \"real\": \"3.14159265\",\n      \"complex\": {\n        \"real\": 10,\n        \"imaginary\": 2\n      },\n      \"EOF\": \"yes\"\n    }\n  ]\n}\n</code></pre>\n\n<p>and I want to parse it using Json Simple, in order to extract the content of the \"natural\" and the \"imaginary\". </p>\n\n<p>This is what I have written so far:</p>\n\n<pre><code>JSONParser parser = new JSONParser();\nObject obj = parser.parse(new FileReader(\"...\")); //the location of the file\nJSONObject jsonObject = (JSONObject) obj;\nString natural = (String) jsonObject.get(\"natural\");\nSystem.out.println(natural);\n</code></pre>\n\n<p>The problem is that the value of natural is \"null\" and not \"10\". Same thing happens when I write jsonObject.get(\"imaginary\").</p>\n\n<p>I have looked at many websites (including StackOverflow), I have followed the same way most people have written, but I am unable to fix this problem.</p>\n"},{"tags":["java","maven","intellij-idea","scikit-learn","pmml"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660622561,"creation_date":1660548729,"answer_id":73357994,"question_id":73356711,"body_markdown":"You used java 9 modules in your project and imported a library which was not converted to java 9 modules. Thus Java treats this library as an automatic module and derives module name from jar name. The jar name happens to be illegal.\r\n\r\nSee:\r\n- https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\r\n\r\nYou have 2 options:\r\n\r\n**Option 1: Dont use java9 modules**\r\n\r\nSee:\r\n- https://stackoverflow.com/questions/62950667/is-there-any-need-to-switch-to-modules-when-migrating-to-java-9-or-later\r\n\r\n\r\n**Option 2: Sanitize jar name**\r\n\r\nSee:\r\n - https://stackoverflow.com/questions/46501388/unable-to-derive-module-descriptor-for-auto-generated-module-names-in-java-9\r\n - [Scala Suffix Maven plugin](https://stackoverflow.com/a/67397446/1570854) looks like a tool designed precisely to solve your problem\r\n\r\nNote that you need to require the automatic module in this approach:\r\n- https://stackoverflow.com/questions/46713289/how-to-use-3rd-party-library-in-java9-module\r\n","title":"Package &#39;org.pmml4s.model&#39; is declared in module with an invalid name (&#39;pmml4s.2.10&#39;)","body":"<p>You used java 9 modules in your project and imported a library which was not converted to java 9 modules. Thus Java treats this library as an automatic module and derives module name from jar name. The jar name happens to be illegal.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">What is an automatic module?</a></li>\n</ul>\n<p>You have 2 options:</p>\n<p><strong>Option 1: Dont use java9 modules</strong></p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/62950667/is-there-any-need-to-switch-to-modules-when-migrating-to-java-9-or-later\">Is there any need to switch to modules when migrating to Java 9 or later?</a></li>\n</ul>\n<p><strong>Option 2: Sanitize jar name</strong></p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46501388/unable-to-derive-module-descriptor-for-auto-generated-module-names-in-java-9\">Unable to derive module descriptor for auto generated module names in Java 9?</a></li>\n<li><a href=\"https://stackoverflow.com/a/67397446/1570854\">Scala Suffix Maven plugin</a> looks like a tool designed precisely to solve your problem</li>\n</ul>\n<p>Note that you need to require the automatic module in this approach:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46713289/how-to-use-3rd-party-library-in-java9-module\">How to use 3rd party library in Java9 module?</a></li>\n</ul>\n"}],"owner":{"account_id":13282491,"reputation":33,"user_id":9589609,"display_name":"Hamza Kamran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660622561,"creation_date":1660534892,"question_id":73356711,"body_markdown":"I&#39;m trying to use [PMML4S][1] to make predictions from an imported model from sklearn. I have the model in an xml file that I am trying to load into java using pmml4s. I am trying to follow [this][2]. However, I am having issues getting it to work: specifically, &quot;**Package &#39;org.pmml4s.model&#39; is declared in module with an invalid name (&#39;pmml4s.2.10&#39;)**&quot; . I am using IntelliJ as my IDE. Please let me know if I can provide other information/code. Any help is appreciated!\r\n\r\nError is here: \r\n\r\n    import org.pmml4s.model.Model;\r\n\r\nDependencies: \r\n\r\n        &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.pmml4s&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pmml4s_2.10&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;doctor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.osgi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://github.com/autodeployai/pmml4s\r\n  [2]: https://medium.com/analytics-vidhya/using-scikit-learn-model-into-java-app-96d776b84c44","title":"Package &#39;org.pmml4s.model&#39; is declared in module with an invalid name (&#39;pmml4s.2.10&#39;)","body":"<p>I'm trying to use <a href=\"https://github.com/autodeployai/pmml4s\" rel=\"nofollow noreferrer\">PMML4S</a> to make predictions from an imported model from sklearn. I have the model in an xml file that I am trying to load into java using pmml4s. I am trying to follow <a href=\"https://medium.com/analytics-vidhya/using-scikit-learn-model-into-java-app-96d776b84c44\" rel=\"nofollow noreferrer\">this</a>. However, I am having issues getting it to work: specifically, &quot;<strong>Package 'org.pmml4s.model' is declared in module with an invalid name ('pmml4s.2.10')</strong>&quot; . I am using IntelliJ as my IDE. Please let me know if I can provide other information/code. Any help is appreciated!</p>\n<p>Error is here:</p>\n<pre><code>import org.pmml4s.model.Model;\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;18.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;18.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.pmml4s&lt;/groupId&gt;\n        &lt;artifactId&gt;pmml4s_2.10&lt;/artifactId&gt;\n        &lt;version&gt;0.9.16&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.36&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;doctor&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.osgi&lt;/groupId&gt;\n        &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1567672661,"creation_date":1567672661,"answer_id":57801559,"question_id":57799546,"body_markdown":"`ConsumerRecord` has a public constructor, so you can just create an instance yourself.\r\n\r\nFor example, modifying your code slightly:\r\n\r\nMain:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public JSONObject receiveTopic(ConsumerRecord&lt;?, ?&gt; consumerRecord) throws Exception {\r\n        JSONObject kafkaObject = new JSONObject(consumerRecord.value().toString());\r\n        return kafkaObject;\r\n    }\r\n    \r\nTest:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Test\r\n    public void testReceiveTopic() {\r\n        ConsumerRecord&lt;String, String&gt; record = new ConsumerRecord&lt;&gt;(&quot;topic&quot;, 0, 123L, &quot;key&quot;, &quot;value&quot;);\r\n        JSONObject expected = &lt;what you expected&gt;\r\n        assertEquals(expected, receiveTopic(record));\r\n    }","title":"Kafka - How to Mock Consumer Record?","body":"<p><code>ConsumerRecord</code> has a public constructor, so you can just create an instance yourself.</p>\n\n<p>For example, modifying your code slightly:</p>\n\n<p>Main:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public JSONObject receiveTopic(ConsumerRecord&lt;?, ?&gt; consumerRecord) throws Exception {\n    JSONObject kafkaObject = new JSONObject(consumerRecord.value().toString());\n    return kafkaObject;\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testReceiveTopic() {\n    ConsumerRecord&lt;String, String&gt; record = new ConsumerRecord&lt;&gt;(\"topic\", 0, 123L, \"key\", \"value\");\n    JSONObject expected = &lt;what you expected&gt;\n    assertEquals(expected, receiveTopic(record));\n}\n</code></pre>\n"}],"owner":{"account_id":16545621,"reputation":41,"user_id":11955200,"display_name":"R Anusha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7368,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1660621866,"creation_date":1567664832,"question_id":57799546,"body_markdown":"I need some help with building a Junit test case for my Java kafka consumer.\r\n\r\nMy Original source code has the method as below, and need to create a Unit test case for the same.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @KafkaListener(topics = &quot;${kafka-receiver-topic}&quot;)\r\n    public void receiveTopic(ConsumerRecord&lt;?, ?&gt; consumerRecord) throws Exception {\r\n    \tJSONObject kafkaObject = new JSONObject(consumerRecord.value().toString());\r\n    }","title":"Kafka - How to Mock Consumer Record?","body":"<p>I need some help with building a Junit test case for my Java kafka consumer.</p>\n\n<p>My Original source code has the method as below, and need to create a Unit test case for the same.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = \"${kafka-receiver-topic}\")\npublic void receiveTopic(ConsumerRecord&lt;?, ?&gt; consumerRecord) throws Exception {\n    JSONObject kafkaObject = new JSONObject(consumerRecord.value().toString());\n}\n</code></pre>\n"},{"tags":["java","android","android-lifecycle","application-lifecycle"],"answers":[{"tags":[],"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660621074,"creation_date":1660621074,"answer_id":73368537,"question_id":73359336,"body_markdown":"Unfortunately, this behavior is by design. When the user kills the app from the Recents menu, it&#39;s the same as force-stopping it from the phone&#39;s settings -- it&#39;s not meant to be graceful, and the usual lifecycle methods aren&#39;t called.\r\n\r\nBut on the broader subject of trying to detect if the app is actually running, you can just implement a &quot;heartbeat&quot; signal that the app sends out periodically (either to a web server, or to another app). And if that heartbeat signal stops being received, then the app has been shut down ","title":"How can I detect If my android application is Destroyed/Paused/Stopped without fail?","body":"<p>Unfortunately, this behavior is by design. When the user kills the app from the Recents menu, it's the same as force-stopping it from the phone's settings -- it's not meant to be graceful, and the usual lifecycle methods aren't called.</p>\n<p>But on the broader subject of trying to detect if the app is actually running, you can just implement a &quot;heartbeat&quot; signal that the app sends out periodically (either to a web server, or to another app). And if that heartbeat signal stops being received, then the app has been shut down</p>\n"}],"owner":{"account_id":19270963,"reputation":1,"user_id":14084886,"display_name":"Sagar Bharatbhai Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660621074,"creation_date":1660556982,"question_id":73359336,"body_markdown":"I want to update user activity status (Online/Offline) based on Application is running or not. To do so I have used **LifecycleEventObserver** to Observe the lifecycle inside the **Application file**. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Override\r\n    public void onStateChanged(@NonNull LifecycleOwner source, @NonNull Lifecycle.Event event) {\r\n        Log.e(&quot;onStateChanged&quot;, &quot;Lifecycle.Event : &quot; + event.name());\r\n        switch (event.name()) {\r\n            case &quot;ON_START&quot;:\r\n            case &quot;ON_RESUME&quot;:\r\n                setStatus(true);\r\n                break;\r\n            case &quot;ON_STOP&quot;:\r\n            case &quot;ON_PAUSE&quot;:\r\n                setStatus(false);\r\n                break;\r\n        }\r\n    }\r\n\r\nIt works fine in happy flow as shown in this [.Gif file][1](When switching to recent apps it logs Lifecycle events ON_PAUSE, ON_STOP inside **onStateChanged**). \r\n\r\n - Issue case:\r\n\r\nBut I have found one case in which **the application fails to observe when the application stops running**. \r\nAs shown in this [.Gif file][2] (When switching to recent apps and the user kills an application from recent apps rapidly, it does not get a chance to observe the lifecycle events. So here, **It is not able to log Lifecycle events** ON_PAUSE, ON_STOP inside **onStateChanged**).\r\n\r\nI have also tried **DefaultLifecycleObserver** but it also behaves the same way.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Override\r\n    public void onStart(@NonNull LifecycleOwner owner) {\r\n        Log.e(&quot;Globals&quot;, &quot;onStart&quot;);\r\n        setStatus(true);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@NonNull LifecycleOwner owner) {\r\n        Log.e(&quot;Globals&quot;, &quot;onCreate&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onResume(@NonNull LifecycleOwner owner) {\r\n        Log.e(&quot;Globals&quot;, &quot;onResume&quot;);\r\n        setStatus(true);\r\n    }\r\n\r\n    @Override\r\n    public void onPause(@NonNull LifecycleOwner owner) {\r\n        Log.e(&quot;Globals&quot;, &quot;onPause&quot;);\r\n        setStatus(false);\r\n    }\r\n\r\n    @Override\r\n    public void onStop(@NonNull LifecycleOwner owner) {\r\n        Log.e(&quot;Globals&quot;, &quot;onStop&quot;);\r\n        setStatus(false);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy(@NonNull LifecycleOwner owner) {\r\n        Log.e(&quot;Globals&quot;, &quot;onDestroy&quot;);\r\n        setStatus(false);\r\n    }\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jEVz1.gif\r\n  [2]: https://i.stack.imgur.com/4EZi1.gif","title":"How can I detect If my android application is Destroyed/Paused/Stopped without fail?","body":"<p>I want to update user activity status (Online/Offline) based on Application is running or not. To do so I have used <strong>LifecycleEventObserver</strong> to Observe the lifecycle inside the <strong>Application file</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onStateChanged(@NonNull LifecycleOwner source, @NonNull Lifecycle.Event event) {\n    Log.e(&quot;onStateChanged&quot;, &quot;Lifecycle.Event : &quot; + event.name());\n    switch (event.name()) {\n        case &quot;ON_START&quot;:\n        case &quot;ON_RESUME&quot;:\n            setStatus(true);\n            break;\n        case &quot;ON_STOP&quot;:\n        case &quot;ON_PAUSE&quot;:\n            setStatus(false);\n            break;\n    }\n}\n</code></pre>\n<p>It works fine in happy flow as shown in this <a href=\"https://i.stack.imgur.com/jEVz1.gif\" rel=\"nofollow noreferrer\">.Gif file</a>(When switching to recent apps it logs Lifecycle events ON_PAUSE, ON_STOP inside <strong>onStateChanged</strong>).</p>\n<ul>\n<li>Issue case:</li>\n</ul>\n<p>But I have found one case in which <strong>the application fails to observe when the application stops running</strong>.\nAs shown in this <a href=\"https://i.stack.imgur.com/4EZi1.gif\" rel=\"nofollow noreferrer\">.Gif file</a> (When switching to recent apps and the user kills an application from recent apps rapidly, it does not get a chance to observe the lifecycle events. So here, <strong>It is not able to log Lifecycle events</strong> ON_PAUSE, ON_STOP inside <strong>onStateChanged</strong>).</p>\n<p>I have also tried <strong>DefaultLifecycleObserver</strong> but it also behaves the same way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onStart(@NonNull LifecycleOwner owner) {\n    Log.e(&quot;Globals&quot;, &quot;onStart&quot;);\n    setStatus(true);\n}\n\n@Override\npublic void onCreate(@NonNull LifecycleOwner owner) {\n    Log.e(&quot;Globals&quot;, &quot;onCreate&quot;);\n}\n\n@Override\npublic void onResume(@NonNull LifecycleOwner owner) {\n    Log.e(&quot;Globals&quot;, &quot;onResume&quot;);\n    setStatus(true);\n}\n\n@Override\npublic void onPause(@NonNull LifecycleOwner owner) {\n    Log.e(&quot;Globals&quot;, &quot;onPause&quot;);\n    setStatus(false);\n}\n\n@Override\npublic void onStop(@NonNull LifecycleOwner owner) {\n    Log.e(&quot;Globals&quot;, &quot;onStop&quot;);\n    setStatus(false);\n}\n\n@Override\npublic void onDestroy(@NonNull LifecycleOwner owner) {\n    Log.e(&quot;Globals&quot;, &quot;onDestroy&quot;);\n    setStatus(false);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":2,"creation_date":1660616491,"post_id":73368124,"comment_id":129568507,"body_markdown":"What have you tried so far? What&#39;s not working about it _specifically_?","body":"What have you tried so far? What&#39;s not working about it <i>specifically</i>?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1660617029,"post_id":73368124,"comment_id":129568581,"body_markdown":"and what does your question have to do with Spring Boot?","body":"and what does your question have to do with Spring Boot?"},{"owner":{"account_id":18676668,"reputation":25,"user_id":13614189,"display_name":"David Anwar"},"score":0,"creation_date":1660617519,"post_id":73368124,"comment_id":129568640,"body_markdown":"sorry i have edit question. please help me","body":"sorry i have edit question. please help me"},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":1,"creation_date":1660617911,"post_id":73368124,"comment_id":129568696,"body_markdown":"Could you add some sample data (input &amp; expected output)? I&#39;m assuming you want to just kind of &quot;weave&quot; the array lists together, but I&#39;m confused by the code and thinking maybe I&#39;m not correct.","body":"Could you add some sample data (input &amp; expected output)? I&#39;m assuming you want to just kind of &quot;weave&quot; the array lists together, but I&#39;m confused by the code and thinking maybe I&#39;m not correct."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":4,"creation_date":1660617926,"post_id":73368124,"comment_id":129568700,"body_markdown":"What do you *want* to happen if the two lists have different lengths?","body":"What do you <i>want</i> to happen if the two lists have different lengths?"},{"owner":{"account_id":18676668,"reputation":25,"user_id":13614189,"display_name":"David Anwar"},"score":0,"creation_date":1660619080,"post_id":73368124,"comment_id":129568844,"body_markdown":"example i have 2 data1 and 3 data2. i loop 5, so data2 index 2 is not yet insert.","body":"example i have 2 data1 and 3 data2. i loop 5, so data2 index 2 is not yet insert."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1660620169,"post_id":73368124,"comment_id":129568987,"body_markdown":"If you want to only insert until data2 index 1, can you like get the smaller length, which is 2, and iterate int i like 2 times, and get one from data1, another one from data2, and append to the third list, and that\\`s it","body":"If you want to only insert until data2 index 1, can you like get the smaller length, which is 2, and iterate int i like 2 times, and get one from data1, another one from data2, and append to the third list, and that`s it"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660620949,"creation_date":1660620267,"answer_id":73368463,"question_id":73368124,"body_markdown":"You don&#39;t need to track even and odd indexes. Just copy one item from each non-empty list until you&#39;re out of items. If you were trying to clear the source lists as you merge them, you don&#39;t even need an index:\r\n\r\n    while (!data1.isEmpty() || !data2.isEmpty()) {\r\n        if (!data1.isEmpty()) combine.add(data1.remove(0));\r\n        if (!data2.isEmpty()) combine.add(data2.remove(0));\r\n    }\r\n\r\nYou can also use an iterator (optionally calling `remove()` after `next()`):\r\n\r\n    Iterator&lt;String&gt; iter1 = data1.iterator();\r\n    Iterator&lt;String&gt; iter2 = data2.iterator();\r\n    while (iter1.hasNext() || iter2.hasNext()) {\r\n        if (iter1.hasNext()) combine.add(iter1.next());\r\n        if (iter2.hasNext()) combine.add(iter2.next());\r\n    }","title":"Insert data to arraylist java as odd and even position","body":"<p>You don't need to track even and odd indexes. Just copy one item from each non-empty list until you're out of items. If you were trying to clear the source lists as you merge them, you don't even need an index:</p>\n<pre><code>while (!data1.isEmpty() || !data2.isEmpty()) {\n    if (!data1.isEmpty()) combine.add(data1.remove(0));\n    if (!data2.isEmpty()) combine.add(data2.remove(0));\n}\n</code></pre>\n<p>You can also use an iterator (optionally calling <code>remove()</code> after <code>next()</code>):</p>\n<pre><code>Iterator&lt;String&gt; iter1 = data1.iterator();\nIterator&lt;String&gt; iter2 = data2.iterator();\nwhile (iter1.hasNext() || iter2.hasNext()) {\n    if (iter1.hasNext()) combine.add(iter1.next());\n    if (iter2.hasNext()) combine.add(iter2.next());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660620362,"creation_date":1660620362,"answer_id":73368470,"question_id":73368124,"body_markdown":"You have two main issues, firstly you use `combine.add(data1.get(0));` and `combine.add(data2.get(0));` which will only ever add the first element of each list to the combine array. And the second issue is that after inserting an element you immediatly remove it again `combine.remove(0);`.\r\n\r\nConsider the following solution which simply inserts the elements in order (and also makes sure we don&#39;t get an out of bounds error):\r\n\r\n\tList&lt;String&gt; data1 = Arrays.asList(&quot;zero&quot;, &quot;two&quot;, &quot;four&quot;, &quot;six&quot;);\r\n\tList&lt;String&gt; data2 = Arrays.asList(&quot;one&quot;, &quot;three&quot;, &quot;five&quot;, &quot;seven&quot;);\r\n\t\r\n\tint longest = data1.size() &gt; data2.size() ? data1.size() : data2.size();\r\n\t\r\n\tList&lt;String&gt; combine = new ArrayList&lt;&gt;();\r\n\tfor (int i = 0; i &lt; longest; i++) {\r\n\t    //Add each item in order\r\n\t    if (data1.size() &gt; i) {\r\n\t\t    combine.add(data1.get(i));\r\n\t    }\r\n\t    if (data2.size() &gt; i) {\r\n\t\t    combine.add(data2.get(i));\r\n\t    }\r\n\t}\r\n\tSystem.out.println(combine.toString());\r\n\r\nAnd the output is as expected in alternating order:\r\n\r\n    [zero, one, two, three, four, five, six, seven]","title":"Insert data to arraylist java as odd and even position","body":"<p>You have two main issues, firstly you use <code>combine.add(data1.get(0));</code> and <code>combine.add(data2.get(0));</code> which will only ever add the first element of each list to the combine array. And the second issue is that after inserting an element you immediatly remove it again <code>combine.remove(0);</code>.</p>\n<p>Consider the following solution which simply inserts the elements in order (and also makes sure we don't get an out of bounds error):</p>\n<pre><code>List&lt;String&gt; data1 = Arrays.asList(&quot;zero&quot;, &quot;two&quot;, &quot;four&quot;, &quot;six&quot;);\nList&lt;String&gt; data2 = Arrays.asList(&quot;one&quot;, &quot;three&quot;, &quot;five&quot;, &quot;seven&quot;);\n\nint longest = data1.size() &gt; data2.size() ? data1.size() : data2.size();\n\nList&lt;String&gt; combine = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; longest; i++) {\n    //Add each item in order\n    if (data1.size() &gt; i) {\n        combine.add(data1.get(i));\n    }\n    if (data2.size() &gt; i) {\n        combine.add(data2.get(i));\n    }\n}\nSystem.out.println(combine.toString());\n</code></pre>\n<p>And the output is as expected in alternating order:</p>\n<pre><code>[zero, one, two, three, four, five, six, seven]\n</code></pre>\n"}],"owner":{"account_id":18676668,"reputation":25,"user_id":13614189,"display_name":"David Anwar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1660650097,"accepted_answer_id":73368470,"answer_count":2,"score":-2,"last_activity_date":1660620949,"creation_date":1660616408,"question_id":73368124,"body_markdown":"        // size data1 and data2 is different or same\r\n\t\tList&lt;String&gt; data1 = new ArrayList&lt;&gt;(); \r\n\t\tList&lt;String&gt; data2 = new ArrayList&lt;&gt;();\r\n\r\n        data1.add(&quot;home1&quot;);\r\n\t\tdata1.add(&quot;home2&quot;);\r\n\t\tdata2.add(&quot;car1&quot;);\r\n\t\tdata2.add(&quot;car2&quot;);\r\n\t\tdata2.add(&quot;car3&quot;);\t\r\n\t\r\n\t\t// this list combine data1 and data2 but data1 in odd index position and data2 in even position\r\n\t\tList&lt;String&gt; combine = new ArrayList&lt;&gt;();\r\n        int dataSize = data1.size() + data2.size();\r\n\t\tfor (int i = 1; i&lt; dataSize; i++) {\r\n\t\t\tif (i % 2 == 0) {\r\n\t\t\t\tif (!data1.isEmpty()) {\r\n\t\t\t\t\tcombine.add(data1.get(0));\r\n\t\t\t\t\tcombine.remove(0);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!data2.isEmpty()) {\r\n\t\t\t\t\tcombine.add(data2.get(0));\r\n\t\t\t\t\tcombine.remove(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    // i want to get data as bellow\r\n\t\t// combine.get(0) =&gt; home1\r\n\t\t// combine.get(1) =&gt; car1\r\n\t\t// combine.get(2) =&gt; home2\r\n\t\t// combine.get(3) =&gt; car2\r\n\t\t// combine.get(0) =&gt; car3\r\n\r\nhow i can insert data to combine list as odd and even position from data1 and data2. This code is not work beacause data size data1 and data2 sometimes is different.","title":"Insert data to arraylist java as odd and even position","body":"<pre><code>    // size data1 and data2 is different or same\n    List&lt;String&gt; data1 = new ArrayList&lt;&gt;(); \n    List&lt;String&gt; data2 = new ArrayList&lt;&gt;();\n\n    data1.add(&quot;home1&quot;);\n    data1.add(&quot;home2&quot;);\n    data2.add(&quot;car1&quot;);\n    data2.add(&quot;car2&quot;);\n    data2.add(&quot;car3&quot;);  \n\n    // this list combine data1 and data2 but data1 in odd index position and data2 in even position\n    List&lt;String&gt; combine = new ArrayList&lt;&gt;();\n    int dataSize = data1.size() + data2.size();\n    for (int i = 1; i&lt; dataSize; i++) {\n        if (i % 2 == 0) {\n            if (!data1.isEmpty()) {\n                combine.add(data1.get(0));\n                combine.remove(0);\n            }\n        } else {\n            if (!data2.isEmpty()) {\n                combine.add(data2.get(0));\n                combine.remove(0);\n            }\n        }\n    }\n// i want to get data as bellow\n    // combine.get(0) =&gt; home1\n    // combine.get(1) =&gt; car1\n    // combine.get(2) =&gt; home2\n    // combine.get(3) =&gt; car2\n    // combine.get(0) =&gt; car3\n</code></pre>\n<p>how i can insert data to combine list as odd and even position from data1 and data2. This code is not work beacause data size data1 and data2 sometimes is different.</p>\n"},{"tags":["java","iterator","set","subset","hashset"],"comments":[{"owner":{"account_id":1834196,"reputation":3360,"user_id":1664878,"accept_rate":67,"display_name":"Volodymyr Levytskyi"},"score":0,"creation_date":1375197904,"post_id":17824140,"comment_id":26234040,"body_markdown":"You need to know Set api before using Set. Please cover my tutorial [Internal life of HashSet](http://volodial.blogspot.com/2013/07/internal-life-of-hashset-in-java.html)","body":"You need to know Set api before using Set. Please cover my tutorial <a href=\"http://volodial.blogspot.com/2013/07/internal-life-of-hashset-in-java.html\" rel=\"nofollow noreferrer\">Internal life of HashSet</a>"},{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":0,"creation_date":1440026178,"post_id":17824140,"comment_id":52108616,"body_markdown":"@VolodymyrLevytskyi Your link is broken, is the article still available elsewhere?","body":"@VolodymyrLevytskyi Your link is broken, is the article still available elsewhere?"}],"answers":[{"tags":[],"owner":{"account_id":2485637,"reputation":17240,"user_id":2164109,"display_name":"morgano"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1374632963,"creation_date":1374632634,"answer_id":17824208,"question_id":17824140,"body_markdown":"Your problem is in this part:\r\n\r\n    set.contains(s)\r\n\r\nthat doesn&#39;t do what you think it does, it doesn&#39;t take as an argument another &lt;code&gt;Set&lt;/code&gt; to see if its members are contained in the first&lt;code&gt;set&lt;/code&gt;. It rather looks if the argument passed it is in the Set.\r\n\r\nYou need to iterate over the &quot;contained&quot; set and use &lt;code&gt;set.contains(element)&lt;/code&gt; for each element in the contained set.","title":"How Set.contains() decides whether it&#39;s a subset or not?","body":"<p>Your problem is in this part:</p>\n\n<pre><code>set.contains(s)\n</code></pre>\n\n<p>that doesn't do what you think it does, it doesn't take as an argument another <code>Set</code> to see if its members are contained in the first<code>set</code>. It rather looks if the argument passed it is in the Set.</p>\n\n<p>You need to iterate over the \"contained\" set and use <code>set.contains(element)</code> for each element in the contained set.</p>\n"},{"tags":[],"owner":{"account_id":1283802,"reputation":4468,"user_id":1237287,"accept_rate":52,"display_name":"gjain"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1400692134,"creation_date":1400692134,"answer_id":23789718,"question_id":17824140,"body_markdown":"You probably want to use `set.containsAll(Collection &lt;?&gt; C)` for checking if Collection(Set, in this case) is a subset of &#39;set&#39;. From the docs: http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#containsAll(java.util.Collection)\r\n\r\n&gt; boolean containsAll(Collection&lt;?&gt; c)\r\n&gt; \r\n&gt; Returns true if this set contains all of the elements of the specified\r\n&gt; collection. If the specified collection is also a set, this method\r\n&gt; returns true if it is a subset of this set.","title":"How Set.contains() decides whether it&#39;s a subset or not?","body":"<p>You probably want to use <code>set.containsAll(Collection &lt;?&gt; C)</code> for checking if Collection(Set, in this case) is a subset of 'set'. From the docs: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#containsAll%28java.util.Collection%29\">http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#containsAll(java.util.Collection)</a></p>\n\n<blockquote>\n  <p>boolean containsAll(Collection c)</p>\n  \n  <p>Returns true if this set contains all of the elements of the specified\n  collection. If the specified collection is also a set, this method\n  returns true if it is a subset of this set.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660620813,"creation_date":1660620813,"answer_id":73368513,"question_id":17824140,"body_markdown":"As an alternative, if you&#39;d like to use java streams, you can:\r\n\r\n    set.stream().allMatch(element -&gt; set.contains(element)); // untested","title":"How Set.contains() decides whether it&#39;s a subset or not?","body":"<p>As an alternative, if you'd like to use java streams, you can:</p>\n<pre><code>set.stream().allMatch(element -&gt; set.contains(element)); // untested\n</code></pre>\n"}],"owner":{"account_id":2939526,"reputation":1017,"user_id":2517746,"accept_rate":59,"display_name":"Zoe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26045,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":17824208,"answer_count":3,"score":12,"last_activity_date":1660620813,"creation_date":1374632013,"question_id":17824140,"body_markdown":"I expect the following code would give me a subset and a complementary set.\r\n\r\nBut actually, the result shows that &quot;Error: This is not a subset!&quot;\r\n\r\nWhat it.next() get and how to revise my code to get the result I want?\r\nThanks!\r\n\r\n\tpackage Chapter8;\r\n\t\r\n\timport java.util.HashSet;\r\n\timport java.util.Iterator;\r\n\timport java.util.Set;\r\n\t\r\n\tpublic class Three {\r\n\t\tint n;\r\n\t\tSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\t\t\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tThree three = new Three(10);\r\n\t\t\tthree.display(three.set);\r\n\t\t\tSet&lt;Integer&gt; test = new HashSet&lt;Integer&gt;();\r\n\t\t\tIterator&lt;Integer&gt; it = three.set.iterator();\r\n\t\t\twhile(it.hasNext()) {\r\n\t\t\t\ttest.add(it.next());\r\n\t\t\t\tthree.display(test);\r\n\t\t\t\tthree.display(three.complementarySet(test));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tboolean contains(Set&lt;Integer&gt; s) {\r\n\t\t\tif (this.set.contains(s))\r\n\t\t\t\treturn true;\r\n\t\t\telse \r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tSet&lt;Integer&gt; complementarySet(Set&lt;Integer&gt; s) {\r\n\t\t\tif(this.set.contains(s)){\r\n\t\t\t\tSet&lt;Integer&gt; result = this.set;\r\n\t\t\t\tresult.removeAll(s);\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Error: This is not a subset!&quot;);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tThree() {\r\n\t\t\tthis.n = 3;\r\n\t\t\tthis.randomSet();\r\n\t\t}\r\n\t\t\r\n\t\tThree(int n) {\r\n\t\t\tthis.n = n;\r\n\t\t\tthis.randomSet();\r\n\t\t}\r\n\t\t\r\n\t\tvoid randomSet() {\r\n\t\t\twhile(set.size() &lt; n) {\r\n\t\t\t\tset.add((int)(Math.random()*10));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvoid display(Set&lt;Integer&gt; s) {\r\n\t\t\tSystem.out.println(&quot;The set is &quot; + s.toString());\r\n\t\t}\r\n\t}","title":"How Set.contains() decides whether it&#39;s a subset or not?","body":"<p>I expect the following code would give me a subset and a complementary set.</p>\n\n<p>But actually, the result shows that \"Error: This is not a subset!\"</p>\n\n<p>What it.next() get and how to revise my code to get the result I want?\nThanks!</p>\n\n<pre><code>package Chapter8;\n\nimport java.util.HashSet;\nimport java.util.Iterator;\nimport java.util.Set;\n\npublic class Three {\n    int n;\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n\n    public static void main(String args[]) {\n        Three three = new Three(10);\n        three.display(three.set);\n        Set&lt;Integer&gt; test = new HashSet&lt;Integer&gt;();\n        Iterator&lt;Integer&gt; it = three.set.iterator();\n        while(it.hasNext()) {\n            test.add(it.next());\n            three.display(test);\n            three.display(three.complementarySet(test));\n        }\n\n    }\n\n    boolean contains(Set&lt;Integer&gt; s) {\n        if (this.set.contains(s))\n            return true;\n        else \n            return false;\n    }\n\n    Set&lt;Integer&gt; complementarySet(Set&lt;Integer&gt; s) {\n        if(this.set.contains(s)){\n            Set&lt;Integer&gt; result = this.set;\n            result.removeAll(s);\n            return result;\n        }\n        else {\n            System.out.println(\"Error: This is not a subset!\");\n            return null;\n        }\n    }\n\n    Three() {\n        this.n = 3;\n        this.randomSet();\n    }\n\n    Three(int n) {\n        this.n = n;\n        this.randomSet();\n    }\n\n    void randomSet() {\n        while(set.size() &lt; n) {\n            set.add((int)(Math.random()*10));\n        }\n    }\n\n    void display(Set&lt;Integer&gt; s) {\n        System.out.println(\"The set is \" + s.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660621153,"post_id":73368501,"comment_id":129569134,"body_markdown":"First step is to decide exactly what criteria your program should use to decide whether `-` means &quot;subtract two things&quot; or &quot;negative number&quot;.  Once you&#39;ve decided that, you should be able to write an appropriate regular expression to split on.  You&#39;ll want to learn about &quot;lookahead&quot; and &quot;lookbehind&quot; regular expressions, in order to work out how to do this.","body":"First step is to decide exactly what criteria your program should use to decide whether <code>-</code> means &quot;subtract two things&quot; or &quot;negative number&quot;.  Once you&#39;ve decided that, you should be able to write an appropriate regular expression to split on.  You&#39;ll want to learn about &quot;lookahead&quot; and &quot;lookbehind&quot; regular expressions, in order to work out how to do this."},{"owner":{"account_id":25319417,"reputation":11,"user_id":19140922,"display_name":"Jhay"},"score":0,"creation_date":1660623645,"post_id":73368501,"comment_id":129569450,"body_markdown":"@DawoodibnKareem thanks man. lookahead and lookbehind saves me.","body":"@DawoodibnKareem thanks man. lookahead and lookbehind saves me."}],"owner":{"account_id":25319417,"reputation":11,"user_id":19140922,"display_name":"Jhay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660620665,"creation_date":1660620665,"question_id":73368501,"body_markdown":"how can I possible split this string using **&quot;-&quot;** but also store the negative sign for **&quot;-5&quot;**. I&#39;m using \r\n\r\n    string = &quot;5*5--5&quot;;\r\n    \r\n    String[] sub = string.split(&quot;-&quot;);\r\n\r\n**Output :**\r\n\r\n    [5*5, , 5]\r\n\r\n**Output that I want:**\r\n\r\n    [5*5, -5]\r\n\r\n","title":"Splitting a String using Regex with Negative Number","body":"<p>how can I possible split this string using <strong>&quot;-&quot;</strong> but also store the negative sign for <strong>&quot;-5&quot;</strong>. I'm using</p>\n<pre><code>string = &quot;5*5--5&quot;;\n\nString[] sub = string.split(&quot;-&quot;);\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>[5*5, , 5]\n</code></pre>\n<p><strong>Output that I want:</strong></p>\n<pre><code>[5*5, -5]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","oop"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1660613095,"post_id":73367621,"comment_id":129568037,"body_markdown":"I guess you can write a custom comparator that compare these objects by `Date` then by `Time`. The problem is that your `Entity` classes cannot implement an interface. So, your &quot;list&quot; will have to accept generic &quot;objects&quot; and you will have to use `instanceof` to discriminate against everything else except for these entities. Sounds like a lot of work. Good luck!","body":"I guess you can write a custom comparator that compare these objects by <code>Date</code> then by <code>Time</code>. The problem is that your <code>Entity</code> classes cannot implement an interface. So, your &quot;list&quot; will have to accept generic &quot;objects&quot; and you will have to use <code>instanceof</code> to discriminate against everything else except for these entities. Sounds like a lot of work. Good luck!"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1660613233,"post_id":73367621,"comment_id":129568056,"body_markdown":"Come to think about it, you can create three lists (one for each type) that are already sorted. Then, you will need to merge these lists by `Date` and `Time`. This is probably your best bet.","body":"Come to think about it, you can create three lists (one for each type) that are already sorted. Then, you will need to merge these lists by <code>Date</code> and <code>Time</code>. This is probably your best bet."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1660613813,"post_id":73367621,"comment_id":129568125,"body_markdown":"from my perspective all those entities could be backed up by a single table in DB (in that case transfers must be represented by two rows - in and out)","body":"from my perspective all those entities could be backed up by a single table in DB (in that case transfers must be represented by two rows - in and out)"},{"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"score":0,"creation_date":1660615732,"post_id":73367621,"comment_id":129568400,"body_markdown":"@AndreyB.Panfilov could you expatiate better especially the in and out part. I already have a relationship but is unidirectional .","body":"@AndreyB.Panfilov could you expatiate better especially the in and out part. I already have a relationship but is unidirectional ."},{"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"score":0,"creation_date":1660615856,"post_id":73367621,"comment_id":129568426,"body_markdown":"@hfontanez i tried using java stream concat api but it kept missing the getter for  recipientAccount field in the transfer entity.","body":"@hfontanez i tried using java stream concat api but it kept missing the getter for  recipientAccount field in the transfer entity."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1660620267,"post_id":73367621,"comment_id":129569001,"body_markdown":"@ferrocene all your entities actually represent just different types of account-related transactions, so base entity type should be Transaction, next you need add a field which describes transaction type and, optionally, use that field as discriminator (if you want to manage different classes for different transaction types). Two DB records for transfers are required to avoid using `OR` or `UNION when querying transactions - both of them are very inconvenient and have performance impact.","body":"@ferrocene all your entities actually represent just different types of account-related transactions, so base entity type should be Transaction, next you need add a field which describes transaction type and, optionally, use that field as discriminator (if you want to manage different classes for different transaction types). Two DB records for transfers are required to avoid using <code>OR</code> or `UNION when querying transactions - both of them are very inconvenient and have performance impact."},{"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"score":0,"creation_date":1660620350,"post_id":73367621,"comment_id":129569019,"body_markdown":"@AndreyB.Panfilov I have updated my question. That is how my entity looked like but the issue is that i have no bidirectional mapping at transaction detail entity or there is problem with my schema model?","body":"@AndreyB.Panfilov I have updated my question. That is how my entity looked like but the issue is that i have no bidirectional mapping at transaction detail entity or there is problem with my schema model?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1660626135,"post_id":73367621,"comment_id":129569790,"body_markdown":"MappedSuperClass just tells HBN to use in as a source of information about attributes. In your case that should be full-functional entity, it that case you will able to query it, sort, filter, etc.","body":"MappedSuperClass just tells HBN to use in as a source of information about attributes. In your case that should be full-functional entity, it that case you will able to query it, sort, filter, etc."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1660634740,"post_id":73367621,"comment_id":129571760,"body_markdown":"@ferrocene Since they are all extending the same super-class, Compare them as `Transaction` and then sort by `Transaction.date` then by `Transaction.time`. I don&#39;t see why that would not work.","body":"@ferrocene Since they are all extending the same super-class, Compare them as <code>Transaction</code> and then sort by <code>Transaction.date</code> then by <code>Transaction.time</code>. I don&#39;t see why that would not work."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1660634924,"post_id":73367621,"comment_id":129571819,"body_markdown":"&quot;_i tried using java stream concat api but it kept missing the getter..._&quot; it would help tremendously if you add that code to your question. Not only it is relevant to the question, it is Stack Overflow &quot;policy&quot;, and it will help us help you figure out why your attempt didn&#39;t work and/or propose solution that might work.","body":"&quot;<i>i tried using java stream concat api but it kept missing the getter...</i>&quot; it would help tremendously if you add that code to your question. Not only it is relevant to the question, it is Stack Overflow &quot;policy&quot;, and it will help us help you figure out why your attempt didn&#39;t work and/or propose solution that might work."},{"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"score":1,"creation_date":1660695120,"post_id":73367621,"comment_id":129591733,"body_markdown":"@hfontanez thanks i have compared them and it worked","body":"@hfontanez thanks i have compared them and it worked"},{"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"score":0,"creation_date":1660695612,"post_id":73367621,"comment_id":129591793,"body_markdown":"@AndreyB.Panfilov Thanks i used the discriminator and it worked fine thanks but one more thing is there a way to avoid joins. should i merge  the transactional detail entity into the transaction entity?","body":"@AndreyB.Panfilov Thanks i used the discriminator and it worked fine thanks but one more thing is there a way to avoid joins. should i merge  the transactional detail entity into the transaction entity?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1660697421,"post_id":73367621,"comment_id":129592022,"body_markdown":"@ferrocene have you read this: https://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/ ? My own preference is to not use o2o associations","body":"@ferrocene have you read this: <a href=\"https://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/\" rel=\"nofollow noreferrer\">thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one</a> ? My own preference is to not use o2o associations"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1660741539,"post_id":73367621,"comment_id":129603944,"body_markdown":"@ferrocene Glad to hear that it worked. Good luck with your project.","body":"@ferrocene Glad to hear that it worked. Good luck with your project."}],"answers":[{"tags":[],"owner":{"account_id":23011234,"reputation":26,"user_id":17133755,"display_name":"Long Ngo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660613290,"creation_date":1660613290,"answer_id":73367872,"question_id":73367621,"body_markdown":"You can create a model like DTO (Data Transfer Object), then you get/set value for DTO and sort them before transfer it to front-end.\r\n\r\nAnother solution is using [Bazaarvoice Jolt](https://mvnrepository.com/artifact/com.bazaarvoice.jolt) instead of get/set manually","title":"How to combine different data types java","body":"<p>You can create a model like DTO (Data Transfer Object), then you get/set value for DTO and sort them before transfer it to front-end.</p>\n<p>Another solution is using <a href=\"https://mvnrepository.com/artifact/com.bazaarvoice.jolt\" rel=\"nofollow noreferrer\">Bazaarvoice Jolt</a> instead of get/set manually</p>\n"}],"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660619856,"creation_date":1660609681,"question_id":73367621,"body_markdown":"I have three different entities (Deposit,Withdraw and Transfer). Deposit and Withdraw have the same schema structure(so no need of me showing the entity) but transfer is slightly different. I have a requirement to fetch all user transactions and sort them without the front-end doing extra logic. How do i join them and sort since they are of different structure?\r\n\r\nBelow are my entities:\r\n\r\n    @MappedSuperclass\r\n    public class Transaction {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(nullable = false,updatable = false)\r\n        private Long id;\r\n        @Column(nullable = false,updatable = false)\r\n        private Long sourceAccount;\r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(nullable = false,name = &quot;transaction_detail_id&quot;)\r\n        private TransactionDetail transactionDetail;\r\n        @CreationTimestamp\r\n        @Column(nullable = false,updatable = false)\r\n        private Date transactionDate;\r\n        @CreationTimestamp\r\n        @Column(nullable = false,updatable = false)\r\n        private Time time;\r\n    \r\n    }\r\n\r\n    @Entity\r\n    public class Deposit extends Transaction {\r\n    \r\n        @Column(nullable = false,updatable = false)\r\n        @Positive\r\n        private BigDecimal amount;\r\n    }\r\n\r\n    @Entity\r\n    public class Deposit extends Transaction {\r\n    \r\n        @Column(nullable = false,updatable = false)\r\n        @Positive\r\n        private BigDecimal amount;\r\n    }\r\n\r\n    @Entity\r\n    public class Transfer extends Transaction{\r\n    \r\n    \r\n        @Column(nullable = false,updatable = false,name = &quot;desc_acct&quot;)\r\n        private Long recipientAccount;\r\n        @Column(nullable = false,updatable = false)\r\n        private BigDecimal amount;\r\n    \r\n    \r\n    \r\n    }\r\n\r\n    @Entity\r\n    public class TransactionDetail {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long transactionId;\r\n        @Enumerated(EnumType.STRING)\r\n        private TransactionStatus transactionStatus;\r\n        @Enumerated(EnumType.STRING)\r\n        private TransactionType transactionType;\r\n        @CreationTimestamp\r\n        @Column(nullable = false,updatable = false)\r\n        private Date transactionDate;\r\n        @CreationTimestamp\r\n        @Column(nullable = false,updatable = false)\r\n        private Time time;\r\n    \r\n    }\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"How to combine different data types java","body":"<p>I have three different entities (Deposit,Withdraw and Transfer). Deposit and Withdraw have the same schema structure(so no need of me showing the entity) but transfer is slightly different. I have a requirement to fetch all user transactions and sort them without the front-end doing extra logic. How do i join them and sort since they are of different structure?</p>\n<p>Below are my entities:</p>\n<pre><code>@MappedSuperclass\npublic class Transaction {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false,updatable = false)\n    private Long id;\n    @Column(nullable = false,updatable = false)\n    private Long sourceAccount;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(nullable = false,name = &quot;transaction_detail_id&quot;)\n    private TransactionDetail transactionDetail;\n    @CreationTimestamp\n    @Column(nullable = false,updatable = false)\n    private Date transactionDate;\n    @CreationTimestamp\n    @Column(nullable = false,updatable = false)\n    private Time time;\n\n}\n\n@Entity\npublic class Deposit extends Transaction {\n\n    @Column(nullable = false,updatable = false)\n    @Positive\n    private BigDecimal amount;\n}\n\n@Entity\npublic class Deposit extends Transaction {\n\n    @Column(nullable = false,updatable = false)\n    @Positive\n    private BigDecimal amount;\n}\n\n@Entity\npublic class Transfer extends Transaction{\n\n\n    @Column(nullable = false,updatable = false,name = &quot;desc_acct&quot;)\n    private Long recipientAccount;\n    @Column(nullable = false,updatable = false)\n    private BigDecimal amount;\n\n\n\n}\n\n@Entity\npublic class TransactionDetail {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long transactionId;\n    @Enumerated(EnumType.STRING)\n    private TransactionStatus transactionStatus;\n    @Enumerated(EnumType.STRING)\n    private TransactionType transactionType;\n    @CreationTimestamp\n    @Column(nullable = false,updatable = false)\n    private Date transactionDate;\n    @CreationTimestamp\n    @Column(nullable = false,updatable = false)\n    private Time time;\n\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","json","merge","gson"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1633943761,"post_id":69523718,"comment_id":122885617,"body_markdown":"merge how? like in one big list?","body":"merge how? like in one big list?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1633949466,"post_id":69523718,"comment_id":122887855,"body_markdown":"If you mean &quot;concatenate&quot;, then it&#39;s easy, but not out of box. But let me ask you: what did you try yourself and why doesn&#39;t it work for you?","body":"If you mean &quot;concatenate&quot;, then it&#39;s easy, but not out of box. But let me ask you: what did you try yourself and why doesn&#39;t it work for you?"},{"owner":{"account_id":19649272,"reputation":1,"user_id":14383487,"display_name":"Huidrom Punendrajit Singh"},"score":0,"creation_date":1634023619,"post_id":69523718,"comment_id":122908328,"body_markdown":"yes, Sir@RobAudenaerde in one list.","body":"yes, Sir@RobAudenaerde in one list."},{"owner":{"account_id":19649272,"reputation":1,"user_id":14383487,"display_name":"Huidrom Punendrajit Singh"},"score":0,"creation_date":1634023781,"post_id":69523718,"comment_id":122908390,"body_markdown":"Sir@fluffy I want to try to concatenate or merge in a single file as a list. I am preparing some JSON manipulation for my test/interview.","body":"Sir@fluffy I want to try to concatenate or merge in a single file as a list. I am preparing some JSON manipulation for my test/interview."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1634035702,"post_id":69523718,"comment_id":122912790,"body_markdown":"@HuidromPunendrajitSingh well, will we be with you at the interview? No, so this is why I was asking for providing the code that _does not work_ for you to see _how you_ see it. By the way, I can tell you that the currently only answer is far from being perfect: it&#39;s too ad-hoc, it violates resource management rules, it uses unnecessary deserialization (that is not guaranteed to make a perfect round-trip), it has mistakes in use of generics... Well, yeah, be aware.","body":"@HuidromPunendrajitSingh well, will we be with you at the interview? No, so this is why I was asking for providing the code that <i>does not work</i> for you to see <i>how you</i> see it. By the way, I can tell you that the currently only answer is far from being perfect: it&#39;s too ad-hoc, it violates resource management rules, it uses unnecessary deserialization (that is not guaranteed to make a perfect round-trip), it has mistakes in use of generics... Well, yeah, be aware."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634120000,"post_id":69523718,"comment_id":122938704,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":13014003,"reputation":129,"user_id":9405979,"display_name":"Jyotirmay Dash"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633966087,"creation_date":1633966087,"answer_id":69528763,"question_id":69523718,"body_markdown":"I&#39;m assuming that the output you require is a new file with a single array of objects. \r\n\r\nFollowing is the code required to achieve that :\r\n\r\n    Gson gson = new Gson();\r\n\t\r\n\tJsonReader reader1 = new JsonReader(new FileReader(new File(/path of &quot;file1.json&quot;/)));\r\n\t\r\n\tList&lt;String&gt; data1 = gson.fromJson(reader1 , List.class);\r\n\t\r\n\tJsonReader reader2 = new JsonReader(new FileReader(new File(/path of &quot;file2.json&quot;/)));\r\n\t\r\n\tList&lt;String&gt; data2 = gson.fromJson(reader2, List.class);\r\n\t\r\n\tdata1.addAll(data2);\r\n\t\r\n\tFileWriter fileWriter = new FileWriter(/path of the output file/);\r\n\t\r\n\tgson.toJson(data1 , fileWriter);\r\n\t\r\n\tfileWriter.flush();\r\n\t\r\n\tfileWriter.close();\r\n\r\n***JsonReader*** reads a JSON encoded value as a stream of tokens. The tokens are traversed in depth-first order, the same order that they appear in the JSON document.\r\n\r\n***fromJson*** reads the JSON value from the reader and converts it to the type given in the second argument i.e., ***java.util.List***\r\n\r\nAfter we get the list from both the JSON files, we merge them by using ***addAll*** method of ***java.util.List*** package. \r\n\r\nWe take the merged list and use ***toJson*** to serialize the specified list into its equivalent JSON representation. \r\n\r\nThe JSON in the new file is as follows : \r\n\r\n    [{&quot;name&quot;:&quot;Leonard&quot;,&quot;age&quot;:28.0,&quot;city&quot;:&quot;Pasadena&quot;},{&quot;name&quot;:&quot;joey&quot;,&quot;age&quot;:29.0,&quot;city&quot;:&quot;NewYork&quot;},{&quot;name&quot;:&quot;Shelly&quot;,&quot;age&quot;:28.0,&quot;city&quot;:&quot;LA&quot;},{&quot;name&quot;:&quot;Chandler&quot;,&quot;age&quot;:29.0,&quot;city&quot;:&quot;NewYork&quot;}]\r\n\r\n\r\n\r\n\r\n","title":"How to merge two json files using google GSON in java?","body":"<p>I'm assuming that the output you require is a new file with a single array of objects.</p>\n<p>Following is the code required to achieve that :</p>\n<pre><code>Gson gson = new Gson();\n\nJsonReader reader1 = new JsonReader(new FileReader(new File(/path of &quot;file1.json&quot;/)));\n\nList&lt;String&gt; data1 = gson.fromJson(reader1 , List.class);\n\nJsonReader reader2 = new JsonReader(new FileReader(new File(/path of &quot;file2.json&quot;/)));\n\nList&lt;String&gt; data2 = gson.fromJson(reader2, List.class);\n\ndata1.addAll(data2);\n\nFileWriter fileWriter = new FileWriter(/path of the output file/);\n\ngson.toJson(data1 , fileWriter);\n\nfileWriter.flush();\n\nfileWriter.close();\n</code></pre>\n<p><em><strong>JsonReader</strong></em> reads a JSON encoded value as a stream of tokens. The tokens are traversed in depth-first order, the same order that they appear in the JSON document.</p>\n<p><em><strong>fromJson</strong></em> reads the JSON value from the reader and converts it to the type given in the second argument i.e., <em><strong>java.util.List</strong></em></p>\n<p>After we get the list from both the JSON files, we merge them by using <em><strong>addAll</strong></em> method of <em><strong>java.util.List</strong></em> package.</p>\n<p>We take the merged list and use <em><strong>toJson</strong></em> to serialize the specified list into its equivalent JSON representation.</p>\n<p>The JSON in the new file is as follows :</p>\n<pre><code>[{&quot;name&quot;:&quot;Leonard&quot;,&quot;age&quot;:28.0,&quot;city&quot;:&quot;Pasadena&quot;},{&quot;name&quot;:&quot;joey&quot;,&quot;age&quot;:29.0,&quot;city&quot;:&quot;NewYork&quot;},{&quot;name&quot;:&quot;Shelly&quot;,&quot;age&quot;:28.0,&quot;city&quot;:&quot;LA&quot;},{&quot;name&quot;:&quot;Chandler&quot;,&quot;age&quot;:29.0,&quot;city&quot;:&quot;NewYork&quot;}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14857222,"reputation":126,"user_id":10729324,"display_name":"Oswaldo Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660618107,"creation_date":1660618107,"answer_id":73368273,"question_id":69523718,"body_markdown":"`List.addAll()` may solve the problem, partially. If the same object appears in both JSON files, you may end up with duplicated objects in the result. Say you want each object in the array to be considered &quot;distinct&quot; by a specific key (e.g.: &quot;name&quot;). Then you should take a look at [jsonmerge][1].\r\n\r\n  [1]: https://obvj.net/jsonmerge","title":"How to merge two json files using google GSON in java?","body":"<p><code>List.addAll()</code> may solve the problem, partially. If the same object appears in both JSON files, you may end up with duplicated objects in the result. Say you want each object in the array to be considered &quot;distinct&quot; by a specific key (e.g.: &quot;name&quot;). Then you should take a look at <a href=\"https://obvj.net/jsonmerge\" rel=\"nofollow noreferrer\">jsonmerge</a>.</p>\n"}],"owner":{"account_id":19649272,"reputation":1,"user_id":14383487,"display_name":"Huidrom Punendrajit Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1660618107,"creation_date":1633943577,"question_id":69523718,"body_markdown":"this is file1.json\r\n\r\n     [\r\n\t{\r\n\t&quot;name&quot;: &quot;Leonard&quot;,\r\n\t&quot;age&quot;: 28,\r\n  \t&quot;city&quot;: &quot;Pasadena&quot;\r\n\t},\r\n\t{\r\n\t&quot;name&quot;: &quot;joey&quot;,\r\n\t&quot;age&quot;: 29,\r\n  \t&quot;city&quot;: &quot;NewYork&quot;\r\n\t}]\r\n\r\nthis is file2.json\r\n\r\n     [\r\n\t{\r\n\t&quot;name&quot;: &quot;Shelly&quot;,\r\n\t&quot;age&quot;: 28,\r\n  \t&quot;city&quot;: &quot;LA&quot;\r\n\t},\r\n\t{\r\n\t&quot;name&quot;: &quot;Chandler&quot;,\r\n\t&quot;age&quot;: 29,\r\n  \t&quot;city&quot;: &quot;NewYork&quot;\r\n\t}]\r\n\r\nSo, how to merge these &#39;file1.json&#39; and &#39;file2.json&#39; into a single file by using the google GSON library in java?\r\n\r\n   \r\n","title":"How to merge two json files using google GSON in java?","body":"<p>this is file1.json</p>\n<pre><code> [\n{\n&quot;name&quot;: &quot;Leonard&quot;,\n&quot;age&quot;: 28,\n&quot;city&quot;: &quot;Pasadena&quot;\n},\n{\n&quot;name&quot;: &quot;joey&quot;,\n&quot;age&quot;: 29,\n&quot;city&quot;: &quot;NewYork&quot;\n}]\n</code></pre>\n<p>this is file2.json</p>\n<pre><code> [\n{\n&quot;name&quot;: &quot;Shelly&quot;,\n&quot;age&quot;: 28,\n&quot;city&quot;: &quot;LA&quot;\n},\n{\n&quot;name&quot;: &quot;Chandler&quot;,\n&quot;age&quot;: 29,\n&quot;city&quot;: &quot;NewYork&quot;\n}]\n</code></pre>\n<p>So, how to merge these 'file1.json' and 'file2.json' into a single file by using the google GSON library in java?</p>\n"},{"tags":["java","mysql","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1660620297,"post_id":73368236,"comment_id":129569005,"body_markdown":"From the point of view of your Spring application container, 127.0.0.1 is that same container, not anywhere else.  Does the setup in [Docker Compose + Spring Boot + Postgres connection](https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection) match your environment; or if not, can you [edit] the question to include a [mcve]?","body":"From the point of view of your Spring application container, 127.0.0.1 is that same container, not anywhere else.  Does the setup in <a href=\"https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection\">Docker Compose + Spring Boot + Postgres connection</a> match your environment; or if not, can you <a href=\"https://stackoverflow.com/posts/73368236/edit\">edit</a> the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":16937290,"reputation":1,"user_id":12249961,"display_name":"Jayden"},"score":0,"creation_date":1660715391,"post_id":73368236,"comment_id":129594826,"body_markdown":"I don&#39;t want to use Docker Compose. Is there any other way?","body":"I don&#39;t want to use Docker Compose. Is there any other way?"}],"owner":{"account_id":16937290,"reputation":1,"user_id":12249961,"display_name":"Jayden"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660617682,"creation_date":1660617682,"question_id":73368236,"body_markdown":"Preconditions:  \r\n1. I am using Mac OS system, Apple M1 chip;\r\n2. MySQL is installed using a docker image;\r\n3. I am not using the docker-compose.yaml file;\r\n4. My project is Spring Boot 2.x.\r\n\r\nDetail:  \r\nI can use MySQL Workbench to connect to the database through 127.0.0.1:3306, and the application can also connect to the database through 127.0.0.1:3306. However, after using docker to package the image, the application cannot connect to the database through 127.0.0.1:3306 after starting the application in the container.","title":"com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure (Docker, Spring Booot, Mac)","body":"<p>Preconditions:</p>\n<ol>\n<li>I am using Mac OS system, Apple M1 chip;</li>\n<li>MySQL is installed using a docker image;</li>\n<li>I am not using the docker-compose.yaml file;</li>\n<li>My project is Spring Boot 2.x.</li>\n</ol>\n<p>Detail:<br />\nI can use MySQL Workbench to connect to the database through 127.0.0.1:3306, and the application can also connect to the database through 127.0.0.1:3306. However, after using docker to package the image, the application cannot connect to the database through 127.0.0.1:3306 after starting the application in the container.</p>\n"},{"tags":["java","android","aide-ide","aide"],"comments":[{"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"score":0,"creation_date":1640335897,"post_id":70469125,"comment_id":124571738,"body_markdown":"Kindly add the full stack trace","body":"Kindly add the full stack trace"},{"owner":{"account_id":21459373,"reputation":13,"user_id":15810439,"display_name":"VGAPP "},"score":0,"creation_date":1640349123,"post_id":70469125,"comment_id":124574820,"body_markdown":"@Taranmeet Singh how i can make it?","body":"@Taranmeet Singh how i can make it?"},{"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"score":0,"creation_date":1640352740,"post_id":70469125,"comment_id":124575679,"body_markdown":"You can check for logs in logcat on Android studio then paste them in your question","body":"You can check for logs in logcat on Android studio then paste them in your question"}],"answers":[{"tags":[],"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660617588,"creation_date":1660617588,"answer_id":73368228,"question_id":70469125,"body_markdown":"Open your app build.gradle file (located inside app folder). You&#39;ll find something like this:\r\n\r\n\t...\r\n\tdefaultConfig {\r\n        applicationId ...\r\n        minSdkVersion ...\r\n        targetSdkVersion ...\r\n        versionCode ...\r\n        versionName ...\r\n    }\r\n\t...\r\n\r\nSo here, set the ```minSdkVersion``` to **26**. It will look like this after changed:\r\n\r\n\t...\r\n\tdefaultConfig {\r\n        applicationId ...\r\n        minSdkVersion 26\r\n        targetSdkVersion ...\r\n        versionCode ...\r\n        versionName ...\r\n    }\r\n\t...\r\n","title":"Error on compiling project with library (Aide)","body":"<p>Open your app build.gradle file (located inside app folder). You'll find something like this:</p>\n<pre><code>...\ndefaultConfig {\n    applicationId ...\n    minSdkVersion ...\n    targetSdkVersion ...\n    versionCode ...\n    versionName ...\n}\n...\n</code></pre>\n<p>So here, set the <code>minSdkVersion</code> to <strong>26</strong>. It will look like this after changed:</p>\n<pre><code>...\ndefaultConfig {\n    applicationId ...\n    minSdkVersion 26\n    targetSdkVersion ...\n    versionCode ...\n    versionName ...\n}\n...\n</code></pre>\n"}],"owner":{"account_id":21459373,"reputation":13,"user_id":15810439,"display_name":"VGAPP "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660617588,"creation_date":1640314123,"question_id":70469125,"body_markdown":"I&#39;m using aide to compile my projects on Android. I added the library as follows:\r\n\r\n```java\r\norg.apache.commons:commons-lang3:3.9\r\n```\r\n\r\nBut at compile time I get the following error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI already tried using the:\r\n\r\n```json\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n}\r\n```\r\n\r\nBut it didn&#39;t solve anything, I saw a question here on Stack Overflow saying to use `guava-android`, even so it didn&#39;t.\r\n\r\n  [1]: https://i.stack.imgur.com/SHDRo.png","title":"Error on compiling project with library (Aide)","body":"<p>I'm using aide to compile my projects on Android. I added the library as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.apache.commons:commons-lang3:3.9\n</code></pre>\n<p>But at compile time I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/SHDRo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SHDRo.png\" alt=\"enter image description here\" /></a></p>\n<p>I already tried using the:</p>\n<pre class=\"lang-json prettyprint-override\"><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>But it didn't solve anything, I saw a question here on Stack Overflow saying to use <code>guava-android</code>, even so it didn't.</p>\n"},{"tags":["java","postgresql","ip"],"comments":[{"owner":{"account_id":7801195,"reputation":479,"user_id":5900577,"accept_rate":75,"display_name":"FeaturedSpace"},"score":0,"creation_date":1559320568,"post_id":56398799,"comment_id":99396001,"body_markdown":"Does this work? https://stackoverflow.com/questions/29101458/postgresql-convert-column-from-inet-to-text","body":"Does this work? <a href=\"https://stackoverflow.com/questions/29101458/postgresql-convert-column-from-inet-to-text\" title=\"postgresql convert column from inet to text\">stackoverflow.com/questions/29101458/&hellip;</a>"},{"owner":{"account_id":79925,"reputation":2217,"user_id":226335,"accept_rate":74,"display_name":"aardbol"},"score":0,"creation_date":1559320701,"post_id":56398799,"comment_id":99396060,"body_markdown":"Maybe, but that&#39;s converting the inet datatype to something else. I&#39;d like to keep using inet and convert it properly to a datatype Java can handle and vice versa","body":"Maybe, but that&#39;s converting the inet datatype to something else. I&#39;d like to keep using inet and convert it properly to a datatype Java can handle and vice versa"}],"answers":[{"tags":[],"owner":{"account_id":7801195,"reputation":479,"user_id":5900577,"accept_rate":75,"display_name":"FeaturedSpace"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1559320999,"creation_date":1559320999,"answer_id":56398897,"question_id":56398799,"body_markdown":"**Simply call InetAddress.getByName(String host) passing in your textual IP address.**\n\nFrom the JavaDoc: The host name can either be a machine name, such as &quot;java.sun.com&quot;, or a textual representation of its IP address.\n\n~ InetAddress javadoc\n&lt;br&gt;&lt;Br&gt;\n\n**If you were asking about getting the string from the IP:**\n\n  String getHostAddress() \n          *Returns the IP address string in textual presentation.*\n\n String getHostName() \n          *Gets the host name for this IP address.*\n\n&lt;br&gt;&lt;br&gt;\n\n**Sorry I couldn&#39;t be of more help.**\n\n\n","title":"Java InetAddress to PostgreSQL inet and vice versa","body":"<p><strong>Simply call InetAddress.getByName(String host) passing in your textual IP address.</strong></p>\n<p>From the JavaDoc: The host name can either be a machine name, such as &quot;java.sun.com&quot;, or a textual representation of its IP address.</p>\n<p>~ InetAddress javadoc\n<br><Br></p>\n<p><strong>If you were asking about getting the string from the IP:</strong></p>\n<p>String getHostAddress()\n<em>Returns the IP address string in textual presentation.</em></p>\n<p>String getHostName()\n<em>Gets the host name for this IP address.</em></p>\n<p><br><br></p>\n<p><strong>Sorry I couldn't be of more help.</strong></p>\n"},{"tags":[],"owner":{"account_id":10048125,"reputation":11,"user_id":7428754,"display_name":"Shikhar Bhatia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625679248,"creation_date":1625641353,"answer_id":68281451,"question_id":56398799,"body_markdown":"Faced the same issue. I was able to read Inet Postgres Type using InetAddress but faced error when inserting the same InetAddress type to postgres that had inet type.\r\n\r\n**Solved it by defining custom hibernate type**\r\n\r\n***PgInet-&gt;*** \r\n\r\n        public class PgInet implements Serializable {\r\n    \r\n        private InetAddress address;\r\n    \r\n        public PgInet() {}\r\n    \r\n        public PgInet(InetAddress address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        public InetAddress getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            final int prime = 31;\r\n            int result = 1;\r\n            result = prime * result + ((address == null) ? 0 : address.hashCode());\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj) {\r\n                return true;\r\n            }\r\n            if (obj == null) {\r\n                return false;\r\n            }\r\n            if (!(obj instanceof PgInet)) {\r\n                return false;\r\n            }\r\n            PgInet other = (PgInet) obj;\r\n            if (address == null) {\r\n                if (other.address != null) {\r\n                    return false;\r\n                }\r\n            } else if (!address.equals(other.address)) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder builder = new StringBuilder();\r\n            builder.append(&quot;PgInet [address=&quot;);\r\n            builder.append(address);\r\n            builder.append(&quot;]&quot;);\r\n            return builder.toString();\r\n        }\r\n    \r\n    }\r\n\r\n***PGInetType -&gt;*** \r\n\r\n        public class PgInetType implements UserType {\r\n    \r\n        public PgInetType() {}\r\n    \r\n        @Override\r\n        public Object assemble(Serializable cached, Object owner) {\r\n            return deepCopy(cached);\r\n        }\r\n    \r\n        @Override\r\n        public Object deepCopy(Object value) {\r\n            if (value != null) {\r\n                return new PgInet(((PgInet) value).getAddress());\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Serializable disassemble(Object value) {\r\n            return (value != null) ? (Serializable) deepCopy(value) : null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object x, Object y) {\r\n            return x == y || ( x != null &amp;&amp; y != null &amp;&amp; x.equals( y ) );\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode(Object x) {\r\n            return (x != null) ? x.hashCode() : 0;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isMutable() {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public Object nullSafeGet(ResultSet rs, String[] names,\r\n                                  SharedSessionContractImplementor session, Object owner) throws SQLException {\r\n            PgInet address = null;\r\n    \r\n            String ipStr = rs.getString(names[0]);\r\n            if (ipStr != null) {\r\n                try {\r\n                    address = new PgInet(InetAddress.getByName(ipStr));\r\n                } catch (UnknownHostException e) {\r\n                    throw new HibernateException(e);\r\n                }\r\n            }\r\n    \r\n            return address;\r\n        }\r\n    \r\n        @Override\r\n        public void nullSafeSet(PreparedStatement st, Object value, int index,\r\n                                SharedSessionContractImplementor session) throws SQLException {\r\n            if (value == null) {\r\n                st.setNull(index, Types.VARCHAR);\r\n            }\r\n            else {\r\n                PGobject pgObj = new PGobject();\r\n                pgObj.setType(&quot;inet&quot;);\r\n                pgObj.setValue(((PgInet) value).getAddress().getHostAddress());\r\n                st.setObject(index, pgObj);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Object replace(Object original, Object target, Object owner) {\r\n            return deepCopy(original);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        @Override\r\n        public Class returnedClass() {\r\n            return PgInet.class;\r\n        }\r\n    \r\n        @Override\r\n        public int[] sqlTypes() {\r\n            return new int[] {Types.OTHER};\r\n        }\r\n    \r\n    }\r\n\r\n***Usage-&gt;***\r\n\r\n    @TypeDefs({\r\n            @TypeDef(name=&quot;pgInet&quot;, typeClass=PgInetType.class)\r\n    \r\n    })\r\n    public class Test{\r\n        @Column(name = &quot;ip&quot;)\r\n        @Type(type=&quot;pgInet&quot;)\r\n        private PgInet ip;\r\n    }\r\n\r\n\r\n\r\n","title":"Java InetAddress to PostgreSQL inet and vice versa","body":"<p>Faced the same issue. I was able to read Inet Postgres Type using InetAddress but faced error when inserting the same InetAddress type to postgres that had inet type.</p>\n<p><strong>Solved it by defining custom hibernate type</strong></p>\n<p><em><strong>PgInet-&gt;</strong></em></p>\n<pre><code>    public class PgInet implements Serializable {\n\n    private InetAddress address;\n\n    public PgInet() {}\n\n    public PgInet(InetAddress address) {\n        this.address = address;\n    }\n\n    public InetAddress getAddress() {\n        return address;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((address == null) ? 0 : address.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n        if (!(obj instanceof PgInet)) {\n            return false;\n        }\n        PgInet other = (PgInet) obj;\n        if (address == null) {\n            if (other.address != null) {\n                return false;\n            }\n        } else if (!address.equals(other.address)) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n        builder.append(&quot;PgInet [address=&quot;);\n        builder.append(address);\n        builder.append(&quot;]&quot;);\n        return builder.toString();\n    }\n\n}\n</code></pre>\n<p><em><strong>PGInetType -&gt;</strong></em></p>\n<pre><code>    public class PgInetType implements UserType {\n\n    public PgInetType() {}\n\n    @Override\n    public Object assemble(Serializable cached, Object owner) {\n        return deepCopy(cached);\n    }\n\n    @Override\n    public Object deepCopy(Object value) {\n        if (value != null) {\n            return new PgInet(((PgInet) value).getAddress());\n        }\n        return null;\n    }\n\n    @Override\n    public Serializable disassemble(Object value) {\n        return (value != null) ? (Serializable) deepCopy(value) : null;\n    }\n\n    @Override\n    public boolean equals(Object x, Object y) {\n        return x == y || ( x != null &amp;&amp; y != null &amp;&amp; x.equals( y ) );\n    }\n\n    @Override\n    public int hashCode(Object x) {\n        return (x != null) ? x.hashCode() : 0;\n    }\n\n    @Override\n    public boolean isMutable() {\n        return false;\n    }\n\n    @Override\n    public Object nullSafeGet(ResultSet rs, String[] names,\n                              SharedSessionContractImplementor session, Object owner) throws SQLException {\n        PgInet address = null;\n\n        String ipStr = rs.getString(names[0]);\n        if (ipStr != null) {\n            try {\n                address = new PgInet(InetAddress.getByName(ipStr));\n            } catch (UnknownHostException e) {\n                throw new HibernateException(e);\n            }\n        }\n\n        return address;\n    }\n\n    @Override\n    public void nullSafeSet(PreparedStatement st, Object value, int index,\n                            SharedSessionContractImplementor session) throws SQLException {\n        if (value == null) {\n            st.setNull(index, Types.VARCHAR);\n        }\n        else {\n            PGobject pgObj = new PGobject();\n            pgObj.setType(&quot;inet&quot;);\n            pgObj.setValue(((PgInet) value).getAddress().getHostAddress());\n            st.setObject(index, pgObj);\n        }\n    }\n\n    @Override\n    public Object replace(Object original, Object target, Object owner) {\n        return deepCopy(original);\n    }\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    @Override\n    public Class returnedClass() {\n        return PgInet.class;\n    }\n\n    @Override\n    public int[] sqlTypes() {\n        return new int[] {Types.OTHER};\n    }\n\n}\n</code></pre>\n<p><em><strong>Usage-&gt;</strong></em></p>\n<pre><code>@TypeDefs({\n        @TypeDef(name=&quot;pgInet&quot;, typeClass=PgInetType.class)\n\n})\npublic class Test{\n    @Column(name = &quot;ip&quot;)\n    @Type(type=&quot;pgInet&quot;)\n    private PgInet ip;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15176610,"reputation":132,"user_id":10951158,"display_name":"someone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660617504,"creation_date":1660617504,"answer_id":73368223,"question_id":56398799,"body_markdown":"I think this is the same question as https://stackoverflow.com/questions/42038341.\r\n\r\n---\r\nAfter few days research, I find out no need to reinvent the wheel in 2022.\r\n\r\nThere is a lib [vladmihalcea/hibernate-types][github] implement `Inet column type` &amp; `Inet Hibernate Type`.\r\n\r\n### resource\r\nmvn repos: https://search.maven.org/search?q=g:com.vladmihalcea\r\n\r\ntutorial: https://vladmihalcea.com/postgresql-inet-type-hibernate/\r\n\r\nGitHub: https://github.com/vladmihalcea/hibernate-types\r\n\r\n### Example from [tutorial]\r\n```Java\r\n@Entity(name = &quot;Event&quot;)\r\n@Table(name = &quot;event&quot;)\r\n@TypeDef(\r\n    name = &quot;ipv4&quot;,\r\n    typeClass = PostgreSQLInetType.class,\r\n    defaultForType = Inet.class\r\n)\r\n\r\npublic class Event {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n \r\n    @Column(\r\n        name = &quot;ip&quot;,\r\n        columnDefinition = &quot;inet&quot;\r\n    )\r\n    private Inet ip;\r\n \r\n    public Long getId() {\r\n        return id;\r\n    }\r\n \r\n    public Inet getIp() {\r\n        return ip;\r\n    }\r\n \r\n    public void setIp(String address) {\r\n        this.ip = new Inet(address);\r\n    }\r\n}\r\n```\r\n\r\nWork as expected in `spring-boot 2.7.1`, `hibernate 5.6.9`.\r\n\r\n[tutorial]:https://vladmihalcea.com/postgresql-inet-type-hibernate/\r\n[github]:https://github.com/vladmihalcea/hibernate-types","title":"Java InetAddress to PostgreSQL inet and vice versa","body":"<p>I think this is the same question as <a href=\"https://stackoverflow.com/questions/42038341\">How to get inet in entity class in spring using hibernate</a>.</p>\n<hr />\n<p>After few days research, I find out no need to reinvent the wheel in 2022.</p>\n<p>There is a lib <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">vladmihalcea/hibernate-types</a> implement <code>Inet column type</code> &amp; <code>Inet Hibernate Type</code>.</p>\n<h3>resource</h3>\n<p>mvn repos: <a href=\"https://search.maven.org/search?q=g:com.vladmihalcea\" rel=\"nofollow noreferrer\">https://search.maven.org/search?q=g:com.vladmihalcea</a></p>\n<p>tutorial: <a href=\"https://vladmihalcea.com/postgresql-inet-type-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/postgresql-inet-type-hibernate/</a></p>\n<p>GitHub: <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hibernate-types</a></p>\n<h3>Example from <a href=\"https://vladmihalcea.com/postgresql-inet-type-hibernate/\" rel=\"nofollow noreferrer\">tutorial</a></h3>\n<pre><code>@Entity(name = &quot;Event&quot;)\n@Table(name = &quot;event&quot;)\n@TypeDef(\n    name = &quot;ipv4&quot;,\n    typeClass = PostgreSQLInetType.class,\n    defaultForType = Inet.class\n)\n\npublic class Event {\n    @Id\n    @GeneratedValue\n    private Long id;\n \n    @Column(\n        name = &quot;ip&quot;,\n        columnDefinition = &quot;inet&quot;\n    )\n    private Inet ip;\n \n    public Long getId() {\n        return id;\n    }\n \n    public Inet getIp() {\n        return ip;\n    }\n \n    public void setIp(String address) {\n        this.ip = new Inet(address);\n    }\n}\n</code></pre>\n<p>Work as expected in <code>spring-boot 2.7.1</code>, <code>hibernate 5.6.9</code>.</p>\n"}],"owner":{"account_id":79925,"reputation":2217,"user_id":226335,"accept_rate":74,"display_name":"aardbol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1660617504,"creation_date":1559320516,"question_id":56398799,"body_markdown":"I&#39;d like to use the PSQL inet datatype, but it doesn&#39;t accept strings (getRemoteAddr()) or byte[] (InetAddress).\r\n\r\nIs there a way to convert it properly using Java?","title":"Java InetAddress to PostgreSQL inet and vice versa","body":"<p>I'd like to use the PSQL inet datatype, but it doesn't accept strings (getRemoteAddr()) or byte[] (InetAddress).</p>\n\n<p>Is there a way to convert it properly using Java?</p>\n"},{"tags":["java","pdf","itext"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1352937097,"creation_date":1352937097,"answer_id":13389424,"question_id":13388816,"body_markdown":"(BTW, it would have been great if you had tagged your question with *itext*, too.)\r\n\r\n`PdfCopy` used to close the `PdfReaders` it imported pages from whenever the source `PdfReader` for page imports switched or the `PdfCopy` was closed. This was due to the original intended use case to create **one** target PDF from **multiple** source PDFs in combination with the fact that many users forget to close their `PdfReaders`.\r\n\r\nThus, after you close the first target `PdfCopy`, the `PdfReader` is closed, too, and no further pages are extracted.\r\n\r\nIf I interpret the most recent checkins into the iText SVN repository correctly, this implicit closing of `PdfReaders` is in the process of being removed from the code. Therefore, with one of the next *iText* versions, your code may work as intended.","title":"Splitting one Pdf file to multiple according to the file-size","body":"<p>(BTW, it would have been great if you had tagged your question with <em>itext</em>, too.)</p>\n\n<p><code>PdfCopy</code> used to close the <code>PdfReaders</code> it imported pages from whenever the source <code>PdfReader</code> for page imports switched or the <code>PdfCopy</code> was closed. This was due to the original intended use case to create <strong>one</strong> target PDF from <strong>multiple</strong> source PDFs in combination with the fact that many users forget to close their <code>PdfReaders</code>.</p>\n\n<p>Thus, after you close the first target <code>PdfCopy</code>, the <code>PdfReader</code> is closed, too, and no further pages are extracted.</p>\n\n<p>If I interpret the most recent checkins into the iText SVN repository correctly, this implicit closing of <code>PdfReaders</code> is in the process of being removed from the code. Therefore, with one of the next <em>iText</em> versions, your code may work as intended.</p>\n"}],"owner":{"account_id":2044880,"reputation":25,"user_id":1825203,"display_name":"user1825203"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1520,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13389424,"answer_count":1,"score":2,"last_activity_date":1660616135,"creation_date":1352933783,"question_id":13388816,"body_markdown":"I have been trying to split one big PDF file to multiple pdf files based on its size. I was able to split it but it only creates one single file and rest of the file data is lost. Means it does not create more than one files to split it. Can anyone please help? Here is my code\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            PdfReader Split_PDF_By_Size = new PdfReader(&quot;C:\\\\Temp_Workspace\\\\TestZip\\\\input1.pdf&quot;);\r\n            Document document = new Document();\r\n            PdfCopy copy = new PdfCopy(document, new FileOutputStream(&quot;C:\\\\Temp_Workspace\\\\TestZip\\\\File1.pdf&quot;));\r\n            document.open();\r\n\r\n            int number_of_pages = Split_PDF_By_Size.getNumberOfPages();\r\n            int pagenumber = 1; /* To generate file name dynamically */\r\n            // int Find_PDF_Size; /* To get PDF size in bytes */\r\n            float combinedsize = 0; /* To convert this to Kilobytes and estimate new PDF size */\r\n            for (int i = 1; i &lt; number_of_pages; i++ ) {\r\n                float Find_PDF_Size;\r\n                if (combinedsize == 0 &amp;&amp; i != 1) {\r\n                    document = new Document();\r\n                    pagenumber++;\r\n                    String FileName = &quot;File&quot; + pagenumber + &quot;.pdf&quot;;\r\n                    copy = new PdfCopy(document, new FileOutputStream(FileName));\r\n                    document.open();\r\n                }\r\n\r\n                copy.addPage(copy.getImportedPage(Split_PDF_By_Size, i));\r\n                Find_PDF_Size = copy.getCurrentDocumentSize();\r\n                combinedsize = (float)Find_PDF_Size / 1024;\r\n                if (combinedsize &gt; 496 || i == number_of_pages) {\r\n                    document.close();\r\n                    combinedsize = 0;\r\n                }\r\n            }\r\n                                \r\n            System.out.println(&quot;PDF Split By Size Completed. Number of Documents Created:&quot; + pagenumber);                        \r\n        }\r\n        catch (Exception i)\r\n        {\r\n            System.out.println(i);\r\n        }\r\n    }\r\n}","title":"Splitting one Pdf file to multiple according to the file-size","body":"<p>I have been trying to split one big PDF file to multiple pdf files based on its size. I was able to split it but it only creates one single file and rest of the file data is lost. Means it does not create more than one files to split it. Can anyone please help? Here is my code</p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        PdfReader Split_PDF_By_Size = new PdfReader(\"C:\\\\Temp_Workspace\\\\TestZip\\\\input1.pdf\");\n        Document document = new Document();\n        PdfCopy copy = new PdfCopy(document, new FileOutputStream(\"C:\\\\Temp_Workspace\\\\TestZip\\\\File1.pdf\"));\n        document.open();\n\n        int number_of_pages = Split_PDF_By_Size.getNumberOfPages();\n        int pagenumber = 1; /* To generate file name dynamically */\n        // int Find_PDF_Size; /* To get PDF size in bytes */\n        float combinedsize = 0; /* To convert this to Kilobytes and estimate new PDF size */\n        for (int i = 1; i &lt; number_of_pages; i++ ) {\n            float Find_PDF_Size;\n            if (combinedsize == 0 &amp;&amp; i != 1) {\n                document = new Document();\n                pagenumber++;\n                String FileName = \"File\" + pagenumber + \".pdf\";\n                copy = new PdfCopy(document, new FileOutputStream(FileName));\n                document.open();\n            }\n\n            copy.addPage(copy.getImportedPage(Split_PDF_By_Size, i));\n            Find_PDF_Size = copy.getCurrentDocumentSize();\n            combinedsize = (float)Find_PDF_Size / 1024;\n            if (combinedsize &gt; 496 || i == number_of_pages) {\n                document.close();\n                combinedsize = 0;\n            }\n        }\n\n        System.out.println(\"PDF Split By Size Completed. Number of Documents Created:\" + pagenumber);                        \n    }\n    catch (Exception i)\n    {\n        System.out.println(i);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","scala","types","any"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1660119629,"post_id":73302928,"comment_id":129454866,"body_markdown":"Why don&#39;t you use `case &quot;class java.lang.Double&quot; =&gt;` instead of `case double =&gt;`?","body":"Why don&#39;t you use <code>case &quot;class java.lang.Double&quot; =&gt;</code> instead of <code>case double =&gt;</code>?"},{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":6,"creation_date":1660120399,"post_id":73302928,"comment_id":129455120,"body_markdown":"Putting aside the question why the input is `Any` in the first place - why don&#39;t you use normal pattern matching (`Value match { case _ : Int =&gt; &#39;i&#39;; ... }`)?","body":"Putting aside the question why the input is <code>Any</code> in the first place - why don&#39;t you use normal pattern matching (<code>Value match { case _ : Int =&gt; &#39;i&#39;; ... }</code>)?"},{"owner":{"account_id":25926402,"reputation":55,"user_id":19648218,"display_name":"Kiolimandars"},"score":0,"creation_date":1660122993,"post_id":73302928,"comment_id":129456089,"body_markdown":"@k314159 When I tested what would getClass of a double print, that is what it gave.","body":"@k314159 When I tested what would getClass of a double print, that is what it gave."},{"owner":{"account_id":25926402,"reputation":55,"user_id":19648218,"display_name":"Kiolimandars"},"score":0,"creation_date":1660122997,"post_id":73302928,"comment_id":129456091,"body_markdown":"@MateuszKubuszok I didn&#39;t know about that. But thank you for pointing it out","body":"@MateuszKubuszok I didn&#39;t know about that. But thank you for pointing it out"}],"answers":[{"tags":[],"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1660615915,"creation_date":1660121670,"answer_id":73303404,"question_id":73302928,"body_markdown":"I don&#39;t recommend using parameters of type `Any` or pattern matching for every type like this, but putting that aside, for your particular use case - you can use the type directly in the pattern match:\r\n\r\n    def getTypeChar(value: Any): Char = value match {\r\n        case _: Integer =&gt; &#39;i&#39;\r\n        case _: String  =&gt; &#39;s&#39;\r\n        case _: Double  =&gt; &#39;f&#39;\r\n        case _: Boolean =&gt; &#39;b&#39;\r\n        case _ :: _     =&gt; &#39;c&#39;\r\n        // etc.\r\n        case _ =&gt; // treat default case\r\n    }","title":"Get The Type of an Input Variable Declared as &quot;Any&quot; in Scala","body":"<p>I don't recommend using parameters of type <code>Any</code> or pattern matching for every type like this, but putting that aside, for your particular use case - you can use the type directly in the pattern match:</p>\n<pre><code>def getTypeChar(value: Any): Char = value match {\n    case _: Integer =&gt; 'i'\n    case _: String  =&gt; 's'\n    case _: Double  =&gt; 'f'\n    case _: Boolean =&gt; 'b'\n    case _ :: _     =&gt; 'c'\n    // etc.\n    case _ =&gt; // treat default case\n}\n</code></pre>\n"}],"owner":{"account_id":25926402,"reputation":55,"user_id":19648218,"display_name":"Kiolimandars"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73303404,"answer_count":1,"score":2,"last_activity_date":1660615915,"creation_date":1660119351,"question_id":73302928,"body_markdown":"I am trying to handle any type of input in my function arguments. For my application, I just need the first letter of the type to treat each scenario (i.e: s-&gt; String, i-&gt; Integer...). \r\n\r\nThis code works fine for Int and String but not for the other types:\r\n\r\n    def getTypeChar(Value: Any): Char = Value.getClass.toString match {\r\n    case &quot;class java.lang.Integer&quot; =&gt; &#39;i&#39;\r\n    case &quot;class java.lang.String&quot; =&gt; &#39;s&#39;\r\n    case &quot;double&quot; =&gt; &#39;f&#39;\r\n    case &quot;boolean&quot; =&gt; &#39;b&#39;\r\n    case &quot;class scala.collection.immutable.$colon$colon&quot; =&gt; &#39;c&#39;}\r\n  \r\n\r\nFor double, and booleans, it gives this error:\r\n\r\n**Exception in thread &quot;main&quot; scala.MatchError: class java.lang.Double (of class java.lang.String)**","title":"Get The Type of an Input Variable Declared as &quot;Any&quot; in Scala","body":"<p>I am trying to handle any type of input in my function arguments. For my application, I just need the first letter of the type to treat each scenario (i.e: s-&gt; String, i-&gt; Integer...).</p>\n<p>This code works fine for Int and String but not for the other types:</p>\n<pre><code>def getTypeChar(Value: Any): Char = Value.getClass.toString match {\ncase &quot;class java.lang.Integer&quot; =&gt; 'i'\ncase &quot;class java.lang.String&quot; =&gt; 's'\ncase &quot;double&quot; =&gt; 'f'\ncase &quot;boolean&quot; =&gt; 'b'\ncase &quot;class scala.collection.immutable.$colon$colon&quot; =&gt; 'c'}\n</code></pre>\n<p>For double, and booleans, it gives this error:</p>\n<p><strong>Exception in thread &quot;main&quot; scala.MatchError: class java.lang.Double (of class java.lang.String)</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1660611270,"post_id":73367575,"comment_id":129567788,"body_markdown":"How is the number of dots determined? How do you know 63 should have 1 dot and 68 should have 5?","body":"How is the number of dots determined? How do you know 63 should have 1 dot and 68 should have 5?"},{"owner":{"account_id":26072299,"reputation":23,"user_id":19771746,"display_name":"Johnny Rinaldo"},"score":0,"creation_date":1660613695,"post_id":73367575,"comment_id":129568103,"body_markdown":"@Bohemian I have an array of the numbers of each vote. If you voted for 68, then the integer &quot;68&quot; is added to an array that I&#39;m cycling through to count the votes. I can get it so spit out how many votes each number has numerically, but cannot get it to spit out the number of asterisks instead","body":"@Bohemian I have an array of the numbers of each vote. If you voted for 68, then the integer &quot;68&quot; is added to an array that I&#39;m cycling through to count the votes. I can get it so spit out how many votes each number has numerically, but cannot get it to spit out the number of asterisks instead"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1660614649,"post_id":73367575,"comment_id":129568239,"body_markdown":"In that case your data structure is incorrect.  Either you need some structure that can contain the temp and the count, or imply that that the array index is the temp e.g. `tempCounts[9]` is for 9 degrees.","body":"In that case your data structure is incorrect.  Either you need some structure that can contain the temp and the count, or imply that that the array index is the temp e.g. <code>tempCounts[9]</code> is for 9 degrees."},{"owner":{"account_id":26072299,"reputation":23,"user_id":19771746,"display_name":"Johnny Rinaldo"},"score":0,"creation_date":1660615149,"post_id":73367575,"comment_id":129568313,"body_markdown":"@ScaryWombat when I get rid of the dots and do \n&quot; System.out.println(numTemps + &quot;  : &quot; + tempCounts[numTemps]); &quot; \nIt counts the votes the way I would expect, I&#39;m just trying to get that number to become a number of asterics.","body":"@ScaryWombat when I get rid of the dots and do  &quot; System.out.println(numTemps + &quot;  : &quot; + tempCounts[numTemps]); &quot;  It counts the votes the way I would expect, I&#39;m just trying to get that number to become a number of asterics."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660612727,"creation_date":1660610192,"answer_id":73367657,"question_id":73367575,"body_markdown":"# tl;dr\r\n\r\nTo multiply text, call `String#repeat`. \r\n\r\n    System.out.println( temp + &quot; : &quot; + &quot;*&quot;.repeat( votes ) );\r\n\r\n\r\n# `String#repeat` to multiply text\r\n\r\nYour call to `+=` *adds* text, but does not *multiply* text.\r\n\r\nTo multiply, call [`String#repeat`][1] in Java 11+. \r\n\r\n    int votes = 5 ;\r\n    String stars = &quot;*&quot;.repeat( votes ) ;\r\n\r\nResult. \r\n\r\n```none\r\n*****\r\n```\r\n\r\n## Example app\r\n\r\nYou did not indicate how you represent your votes-per-temperature. So I created a [`NavigableMap`][2].\r\n\r\nFor simplicity I used the &quot;enhanced for loop&quot; (for-each). No need to keep an index counter in this case here.\r\n\r\nThe for-each is based on a [`NavigableSet`][3] of keys drawn from the map, via the call to `NavigableMap#navigableKeySet`. \r\n\r\n\r\n```java\r\npackage work.basil.example.stars;\r\n\r\nimport java.util.Map;\r\nimport java.util.NavigableMap;\r\nimport java.util.TreeMap;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n\r\n        NavigableMap &lt; Integer, Integer &gt; temperatureToVotes =\r\n                new TreeMap &lt;&gt;(\r\n                        Map.of(\r\n                                63 , 1 ,\r\n                                65 , 2 ,\r\n                                68 , 5 ,\r\n                                69 , 3 ,\r\n                                70 , 1 ,\r\n                                72 , 3 ,\r\n                                75 , 2\r\n                        )\r\n                );\r\n\r\n        for ( Integer temperature : temperatureToVotes.navigableKeySet() )\r\n        {\r\n            Integer votes = temperatureToVotes.get( temperature );\r\n            String message = temperature.toString().concat( &quot; : &quot; ).concat( &quot;*&quot;.repeat( votes ) );\r\n            System.out.println( message );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nResults:\r\n\r\n```none\r\n63 : *\r\n65 : **\r\n68 : *****\r\n69 : ***\r\n70 : *\r\n72 : ***\r\n75 : **\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#repeat(int)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html","title":"Count tallying in java","body":"<h1>tl;dr</h1>\n<p>To multiply text, call <code>String#repeat</code>.</p>\n<pre><code>System.out.println( temp + &quot; : &quot; + &quot;*&quot;.repeat( votes ) );\n</code></pre>\n<h1><code>String#repeat</code> to multiply text</h1>\n<p>Your call to <code>+=</code> <em>adds</em> text, but does not <em>multiply</em> text.</p>\n<p>To multiply, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\"><code>String#repeat</code></a> in Java 11+.</p>\n<pre><code>int votes = 5 ;\nString stars = &quot;*&quot;.repeat( votes ) ;\n</code></pre>\n<p>Result.</p>\n<pre class=\"lang-none prettyprint-override\"><code>*****\n</code></pre>\n<h2>Example app</h2>\n<p>You did not indicate how you represent your votes-per-temperature. So I created a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a>.</p>\n<p>For simplicity I used the &quot;enhanced for loop&quot; (for-each). No need to keep an index counter in this case here.</p>\n<p>The for-each is based on a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> of keys drawn from the map, via the call to <code>NavigableMap#navigableKeySet</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.stars;\n\nimport java.util.Map;\nimport java.util.NavigableMap;\nimport java.util.TreeMap;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n\n        NavigableMap &lt; Integer, Integer &gt; temperatureToVotes =\n                new TreeMap &lt;&gt;(\n                        Map.of(\n                                63 , 1 ,\n                                65 , 2 ,\n                                68 , 5 ,\n                                69 , 3 ,\n                                70 , 1 ,\n                                72 , 3 ,\n                                75 , 2\n                        )\n                );\n\n        for ( Integer temperature : temperatureToVotes.navigableKeySet() )\n        {\n            Integer votes = temperatureToVotes.get( temperature );\n            String message = temperature.toString().concat( &quot; : &quot; ).concat( &quot;*&quot;.repeat( votes ) );\n            System.out.println( message );\n        }\n    }\n}\n</code></pre>\n<p>Results:</p>\n<pre class=\"lang-none prettyprint-override\"><code>63 : *\n65 : **\n68 : *****\n69 : ***\n70 : *\n72 : ***\n75 : **\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660615826,"creation_date":1660615826,"answer_id":73368076,"question_id":73367575,"body_markdown":"Delete all references to `dots` from your code, and change:\r\n\r\n    System.out.println(numTemps + &quot;  : &quot; + dots);\r\n\r\nto:\r\n\r\n    System.out.println(numTemps + &quot;  : &quot; + &quot;*&quot;.repeat(tempCounts[numTemps]));      \r\n","title":"Count tallying in java","body":"<p>Delete all references to <code>dots</code> from your code, and change:</p>\n<pre><code>System.out.println(numTemps + &quot;  : &quot; + dots);\n</code></pre>\n<p>to:</p>\n<pre><code>System.out.println(numTemps + &quot;  : &quot; + &quot;*&quot;.repeat(tempCounts[numTemps]));      \n</code></pre>\n"}],"owner":{"account_id":26072299,"reputation":23,"user_id":19771746,"display_name":"Johnny Rinaldo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73368076,"answer_count":2,"score":-1,"last_activity_date":1660615826,"creation_date":1660609062,"question_id":73367575,"body_markdown":"I&#39;m trying to tally the number of votes for a particular ideal temperature but I&#39;m struggling with displaying the results. I can get it to give me a number of asterics equal to the temp, and I&#39;m able to get it to give me one asteric per result but not to tally all of the votes. My instinct tells me I&#39;m missing something super simple in displayData() but I&#39;m too fried to spot it.         \r\n\r\n    public void displayData() {\r\n        String dots = &quot;&quot;;\r\n        System.out.println(&quot;------------------ Ideal Temperature Data --------------------&quot;);\r\n        for (int numTemps = 0; numTemps &lt; tempCounts.length; numTemps++) {\r\n            if (tempCounts[numTemps] != 0) {\r\n                dots += &quot;*&quot;;\r\n                System.out.println(numTemps + &quot;  : &quot; + dots);\r\n            }\r\n            dots = &quot;&quot;;\r\n        }\r\n        System.out.println(&quot;---------------------------------------------------------------&quot;);\r\n    }\r\n\r\noutput is currently: \r\n         \r\n         ------------------ Ideal Temperature Data --------------------\r\n         63  : *\r\n         65  : *\r\n         68  : *\r\n         69  : *\r\n         70  : *\r\n         72  : *\r\n         75  : *\r\n         ---------------------------------------------------------------\r\n\r\noutput should be: \r\n         \r\n         ------------------ Ideal Temperature Data --------------------\r\n         63  : *\r\n         65  : **\r\n         68  : *****\r\n         69  : ***\r\n         70  : *\r\n         72  : ***\r\n         75  : **\r\n         ---------------------------------------------------------------","title":"Count tallying in java","body":"<p>I'm trying to tally the number of votes for a particular ideal temperature but I'm struggling with displaying the results. I can get it to give me a number of asterics equal to the temp, and I'm able to get it to give me one asteric per result but not to tally all of the votes. My instinct tells me I'm missing something super simple in displayData() but I'm too fried to spot it.</p>\n<pre><code>public void displayData() {\n    String dots = &quot;&quot;;\n    System.out.println(&quot;------------------ Ideal Temperature Data --------------------&quot;);\n    for (int numTemps = 0; numTemps &lt; tempCounts.length; numTemps++) {\n        if (tempCounts[numTemps] != 0) {\n            dots += &quot;*&quot;;\n            System.out.println(numTemps + &quot;  : &quot; + dots);\n        }\n        dots = &quot;&quot;;\n    }\n    System.out.println(&quot;---------------------------------------------------------------&quot;);\n}\n</code></pre>\n<p>output is currently:</p>\n<pre><code>     ------------------ Ideal Temperature Data --------------------\n     63  : *\n     65  : *\n     68  : *\n     69  : *\n     70  : *\n     72  : *\n     75  : *\n     ---------------------------------------------------------------\n</code></pre>\n<p>output should be:</p>\n<pre><code>     ------------------ Ideal Temperature Data --------------------\n     63  : *\n     65  : **\n     68  : *****\n     69  : ***\n     70  : *\n     72  : ***\n     75  : **\n     ---------------------------------------------------------------\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8885,"page":1107,"page_size":100}
