{"items":[{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635951228,"creation_date":1635951228,"answer_id":69827021,"question_id":69776321,"body_markdown":"`ServiceRequest` contains part of the data available in `RoutingContext`, because a `RoutingContext` object cannot be sent over the bus.\r\n\r\nIf you need extra data from the session, configure a `extraPayloadMapper`.\r\n\r\n\r\nSee [The ServiceRequest data object][1] section in docs.\r\n\r\n\r\n  [1]: https://vertx.io/docs/vertx-web-api-service/java/#_the_servicerequest_data_object","title":"How can I set/get Session if using vertx&#39;s WebApiServiceGen?","body":"<p><code>ServiceRequest</code> contains part of the data available in <code>RoutingContext</code>, because a <code>RoutingContext</code> object cannot be sent over the bus.</p>\n<p>If you need extra data from the session, configure a <code>extraPayloadMapper</code>.</p>\n<p>See <a href=\"https://vertx.io/docs/vertx-web-api-service/java/#_the_servicerequest_data_object\" rel=\"nofollow noreferrer\">The ServiceRequest data object</a> section in docs.</p>\n"}],"owner":{"account_id":17934783,"reputation":3,"user_id":13031318,"display_name":"IgaSeha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69827021,"answer_count":1,"score":0,"last_activity_date":1635951228,"creation_date":1635560396,"question_id":69776321,"body_markdown":"I&#39;m using vertx 4.2.0 and I have implemented @WebApiServiceGen successfully. However, I want to get/set Session but I see that there are ServiceRequest and ServiceResponse. Is there any way to customize or get/set Session ? ","title":"How can I set/get Session if using vertx&#39;s WebApiServiceGen?","body":"<p>I'm using vertx 4.2.0 and I have implemented @WebApiServiceGen successfully. However, I want to get/set Session but I see that there are ServiceRequest and ServiceResponse. Is there any way to customize or get/set Session ?</p>\n"},{"tags":["java","oracle","criteriaquery"],"comments":[{"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1635951537,"post_id":69826960,"comment_id":123429557,"body_markdown":"One option would be to pass the `IN` clause parameters via an [Java array/Oracle collection type](https://stackoverflow.com/a/51144013/1509264) and then use the `MEMBER OF` collection operator rather than `IN`. However, you would need to work out how to do that with a criteria query.","body":"One option would be to pass the <code>IN</code> clause parameters via an <a href=\"https://stackoverflow.com/a/51144013/1509264\">Java array/Oracle collection type</a> and then use the <code>MEMBER OF</code> collection operator rather than <code>IN</code>. However, you would need to work out how to do that with a criteria query."},{"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1635951713,"post_id":69826960,"comment_id":123429638,"body_markdown":"Another method would be to convert it to a [list of tuples](https://stackoverflow.com/q/4722220/1509264) as that is not limited to 1000 items.","body":"Another method would be to convert it to a <a href=\"https://stackoverflow.com/q/4722220/1509264\">list of tuples</a> as that is not limited to 1000 items."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1636014265,"post_id":69826960,"comment_id":123446025,"body_markdown":"How about 1000+ OR? I heard the limitation of any or/and is 65535","body":"How about 1000+ OR? I heard the limitation of any or/and is 65535"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635951010,"creation_date":1635951010,"question_id":69826960,"body_markdown":"I have a query for Oracle database, built with `CriteriaBuilder` of Hibernate. Now, it has a IN clause which already takes about 800+ params. \r\n\r\nTeam says this may surpass 1000 and hitting the hard upper limit of Oracle itself, which only allows 1000 param for an IN clause. We need to optimize that.\r\n\r\n```sql\r\nselect ih from ItemHistory as ih \r\n    where ih.number=:param0\r\n    and\r\n    ih.companyId in (\r\n        select c.id from Company as c \r\n        where (\r\n                ( c.organizationId in (:param1) ) \r\n                or \r\n                ( c.organizationId like :param2 )\r\n        ) and (\r\n                c.organizationId in (:param3, :param4, :param5, :param6, :param7, :param8, :param9, :param10, ..... :param818)\r\n        )\r\n    )\r\norder by ih.eventDate desc\r\n```\r\n\r\nSo, two solutions I can think of:\r\n\r\n1. The easy one, as now the list from `:param3` to `:param818` are below 1000, and in the future, we may hit 1000, we can separate the list if size &gt; 1000, into another IN clause, so it becomes:\r\n\r\n    c.organizationId in (:param3, :param4, :param5, :param6, :param7, :param8, :param9, :param10, ..... :param1002) or c.organizationId in (:param1003, ...)\r\n\r\n2. Both the original code and solution 1 are not very efficient already. Although it can fetch 40K records in 25 seconds, we should use a GTT(Global Temporary Table), as per what I can find on AskTom or other sites, by professional DBAs. But I can only find SQL examples, not Java code. \r\n\r\nWhat I can imagine is:\r\n - `createNativeQuery(&quot;create global temporary table GTT_COMPANIES if not exist (companyId varchar(32)) ON COMMIT DELETE ROWS;&quot;);` and execute(Do we need index here?)\r\n - `createNativeQuery(&quot;insert into GTT_COMPANIES (list)&quot;); query.bind(&quot;1&quot;, query.getCompanyIds());` and execute(can we bind a list and insert it?)\r\n - use CriteriaQuery to select from this table(but I doubt, as CriteriaQueryBuilder will require type safe meta model class to be generated beforehand, and here we don&#39;t have the entity; this is an ad-hoc table and no model entity is mapped to it)\r\n - and, do we need to create GTT even the list size is &lt; 1000? As often it is big, 700~800. \r\n\r\nSo, any suggestion? Someone got a working example of Hibernate CriteriaQuery + Oracle GTT?\r\n\r\nThe whole method is like this:\r\n\r\n```java\r\n    public List&lt;ItemHistory&gt; findByIdTypePermissionAndOrganizationIds(final Query&lt;String&gt; query, final ItemIdType idType) throws DataLookupException {\r\n        String id = query.getObjectId();\r\n        String type = idType.name();\r\n        Set&lt;String&gt; companyIds = query.getCompanyIds();\r\n        Set&lt;String&gt; allowedOrgIds = query.getAllowedOrganizationIds();\r\n        Set&lt;String&gt; excludedOrgIds = query.getExcludedOrganizationIds();\r\n        // if no orgs are allowed, we should return empty list\r\n        if (CollectionUtils.isEmpty(allowedOrgIds)) {\r\n            return Collections.emptyList();\r\n        }\r\n        try {\r\n            CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;ItemHistory&gt; criteriaQuery = builder.createQuery(ItemHistory.class);\r\n            Subquery&lt;String&gt; subQueryCompanyIds = filterByPermissionAndOrgIdsInSubquery(query, builder, criteriaQuery);\r\n\r\n\r\n            Subquery&lt;String&gt; subQueryCompanyIds = criteriaQuery.subquery(String.class);\r\n            Root&lt;Company&gt; companies = subQueryCompanyIds.from(Company.class);\r\n            companies.alias(COMPANY_ALIAS);\r\n            Path&lt;String&gt; orgIdColumn = companies.get(Company_.organizationId);\r\n            /* 1. get permission based restrictions */\r\n            // select COMPANY_ID where (ORG_ID in ... or like ...) and (ORG_ID not in ... and not like ...)\r\n            // actually query.getExcludedOrganizationIds() can also be very long list(1000+), but let&#39;s do it later\r\n            Predicate permissionPredicate = getCompanyIdRangeByPermission(\r\n                    builder, query.getAllowedOrganizationIds(), query.getExcludedOrganizationIds(), orgIdColumn\r\n            );\r\n            /* 2. get org id based restrictions, which was done on top of permission restrictions */\r\n            // ... and where (ORG_ID in ... or like ...)\r\n            // process companyIds with and without &quot;*&quot; by adding different predicates, like (xxx%, yyy%) vs in (xxx, yyy) \r\n            // here, query.getCompanyIds() could be very long, may be 1000+\r\n            Predicate orgIdPredicate = groupByWildcardsAndCombine(builder, query.getCompanyIds(), orgIdColumn, false);\r\n            /* 3. Join two predicates with AND, because originally filtering is done twice, 2nd is done on basis of 1st */\r\n            Predicate subqueryWhere = CriteriaQueryUtils.joinWith(builder, true, permissionPredicate, orgIdPredicate);  // join predicates with AND\r\n            subQueryCompanyIds.select(companies.get(Company_.id)); // id -&gt; COMPANY_ID\r\n            if (subqueryWhere != null) {\r\n                subQueryCompanyIds.where(subqueryWhere);\r\n            } else {\r\n                LOGGER.warn(&quot;Cannot build subquery of org id and permission. &quot; +\r\n                                &quot;Org ids: {}, allowed companies: {}, excluded companies: {}&quot;,\r\n                        query.getCompanyIds(), query.getAllowedOrganizationIds(), query.getExcludedOrganizationIds());\r\n            }\r\n            Root&lt;ItemHistory&gt; itemHistory = criteriaQuery.from(ItemHistory.class);\r\n            itemHistory.alias(ITEM_HISTORY_ALIAS);\r\n            criteriaQuery.select(itemHistory)\r\n                    .where(builder.and(\r\n                            builder.equal(getColumnByIdType(itemHistory, idType), id),\r\n                            builder.in(itemHistory.get(ItemHistory_.companyId)).value(subQueryCompanyIds)\r\n                    ))\r\n                    .orderBy(builder.desc(itemHistory.get(ItemHistory_.eventDate)));\r\n            TypedQuery&lt;ItemHistory&gt; finalQuery = entityManager.createQuery(criteriaQuery);\r\n            LOGGER.trace(LOG_MESSAGE_FINAL_QUERY, finalQuery.unwrap(org.hibernate.Query.class).getQueryString());\r\n            return finalQuery.setMaxResults(MAX_LIST_FETCH_SIZE).getResultList();\r\n        } catch (NoResultException e) {\r\n            LOGGER.info(&quot;No item history events found by permission and org ids with {}={}&quot;, type, id);\r\n            throw new DataLookupException(ErrorCode.DATA_LOOKUP_NO_RESULT);\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Error when fetching item history events by permission and org ids with {}={}&quot;, type, id, e);\r\n            throw new DataLookupException(ErrorCode.DATA_LOOKUP_ERROR,\r\n                    &quot;Error when fetching item history events by permission and org ids with &quot; + type + &quot;=&quot; + id);\r\n        }\r\n    }\r\n```","title":"Java EE + Oracle: how to use GTT(global temporary table) to avoid possible long(1000+) IN clause?","body":"<p>I have a query for Oracle database, built with <code>CriteriaBuilder</code> of Hibernate. Now, it has a IN clause which already takes about 800+ params.</p>\n<p>Team says this may surpass 1000 and hitting the hard upper limit of Oracle itself, which only allows 1000 param for an IN clause. We need to optimize that.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select ih from ItemHistory as ih \n    where ih.number=:param0\n    and\n    ih.companyId in (\n        select c.id from Company as c \n        where (\n                ( c.organizationId in (:param1) ) \n                or \n                ( c.organizationId like :param2 )\n        ) and (\n                c.organizationId in (:param3, :param4, :param5, :param6, :param7, :param8, :param9, :param10, ..... :param818)\n        )\n    )\norder by ih.eventDate desc\n</code></pre>\n<p>So, two solutions I can think of:</p>\n<ol>\n<li><p>The easy one, as now the list from <code>:param3</code> to <code>:param818</code> are below 1000, and in the future, we may hit 1000, we can separate the list if size &gt; 1000, into another IN clause, so it becomes:</p>\n<p>c.organizationId in (:param3, :param4, :param5, :param6, :param7, :param8, :param9, :param10, ..... :param1002) or c.organizationId in (:param1003, ...)</p>\n</li>\n<li><p>Both the original code and solution 1 are not very efficient already. Although it can fetch 40K records in 25 seconds, we should use a GTT(Global Temporary Table), as per what I can find on AskTom or other sites, by professional DBAs. But I can only find SQL examples, not Java code.</p>\n</li>\n</ol>\n<p>What I can imagine is:</p>\n<ul>\n<li><code>createNativeQuery(&quot;create global temporary table GTT_COMPANIES if not exist (companyId varchar(32)) ON COMMIT DELETE ROWS;&quot;);</code> and execute(Do we need index here?)</li>\n<li><code>createNativeQuery(&quot;insert into GTT_COMPANIES (list)&quot;); query.bind(&quot;1&quot;, query.getCompanyIds());</code> and execute(can we bind a list and insert it?)</li>\n<li>use CriteriaQuery to select from this table(but I doubt, as CriteriaQueryBuilder will require type safe meta model class to be generated beforehand, and here we don't have the entity; this is an ad-hoc table and no model entity is mapped to it)</li>\n<li>and, do we need to create GTT even the list size is &lt; 1000? As often it is big, 700~800.</li>\n</ul>\n<p>So, any suggestion? Someone got a working example of Hibernate CriteriaQuery + Oracle GTT?</p>\n<p>The whole method is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;ItemHistory&gt; findByIdTypePermissionAndOrganizationIds(final Query&lt;String&gt; query, final ItemIdType idType) throws DataLookupException {\n        String id = query.getObjectId();\n        String type = idType.name();\n        Set&lt;String&gt; companyIds = query.getCompanyIds();\n        Set&lt;String&gt; allowedOrgIds = query.getAllowedOrganizationIds();\n        Set&lt;String&gt; excludedOrgIds = query.getExcludedOrganizationIds();\n        // if no orgs are allowed, we should return empty list\n        if (CollectionUtils.isEmpty(allowedOrgIds)) {\n            return Collections.emptyList();\n        }\n        try {\n            CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n            CriteriaQuery&lt;ItemHistory&gt; criteriaQuery = builder.createQuery(ItemHistory.class);\n            Subquery&lt;String&gt; subQueryCompanyIds = filterByPermissionAndOrgIdsInSubquery(query, builder, criteriaQuery);\n\n\n            Subquery&lt;String&gt; subQueryCompanyIds = criteriaQuery.subquery(String.class);\n            Root&lt;Company&gt; companies = subQueryCompanyIds.from(Company.class);\n            companies.alias(COMPANY_ALIAS);\n            Path&lt;String&gt; orgIdColumn = companies.get(Company_.organizationId);\n            /* 1. get permission based restrictions */\n            // select COMPANY_ID where (ORG_ID in ... or like ...) and (ORG_ID not in ... and not like ...)\n            // actually query.getExcludedOrganizationIds() can also be very long list(1000+), but let's do it later\n            Predicate permissionPredicate = getCompanyIdRangeByPermission(\n                    builder, query.getAllowedOrganizationIds(), query.getExcludedOrganizationIds(), orgIdColumn\n            );\n            /* 2. get org id based restrictions, which was done on top of permission restrictions */\n            // ... and where (ORG_ID in ... or like ...)\n            // process companyIds with and without &quot;*&quot; by adding different predicates, like (xxx%, yyy%) vs in (xxx, yyy) \n            // here, query.getCompanyIds() could be very long, may be 1000+\n            Predicate orgIdPredicate = groupByWildcardsAndCombine(builder, query.getCompanyIds(), orgIdColumn, false);\n            /* 3. Join two predicates with AND, because originally filtering is done twice, 2nd is done on basis of 1st */\n            Predicate subqueryWhere = CriteriaQueryUtils.joinWith(builder, true, permissionPredicate, orgIdPredicate);  // join predicates with AND\n            subQueryCompanyIds.select(companies.get(Company_.id)); // id -&gt; COMPANY_ID\n            if (subqueryWhere != null) {\n                subQueryCompanyIds.where(subqueryWhere);\n            } else {\n                LOGGER.warn(&quot;Cannot build subquery of org id and permission. &quot; +\n                                &quot;Org ids: {}, allowed companies: {}, excluded companies: {}&quot;,\n                        query.getCompanyIds(), query.getAllowedOrganizationIds(), query.getExcludedOrganizationIds());\n            }\n            Root&lt;ItemHistory&gt; itemHistory = criteriaQuery.from(ItemHistory.class);\n            itemHistory.alias(ITEM_HISTORY_ALIAS);\n            criteriaQuery.select(itemHistory)\n                    .where(builder.and(\n                            builder.equal(getColumnByIdType(itemHistory, idType), id),\n                            builder.in(itemHistory.get(ItemHistory_.companyId)).value(subQueryCompanyIds)\n                    ))\n                    .orderBy(builder.desc(itemHistory.get(ItemHistory_.eventDate)));\n            TypedQuery&lt;ItemHistory&gt; finalQuery = entityManager.createQuery(criteriaQuery);\n            LOGGER.trace(LOG_MESSAGE_FINAL_QUERY, finalQuery.unwrap(org.hibernate.Query.class).getQueryString());\n            return finalQuery.setMaxResults(MAX_LIST_FETCH_SIZE).getResultList();\n        } catch (NoResultException e) {\n            LOGGER.info(&quot;No item history events found by permission and org ids with {}={}&quot;, type, id);\n            throw new DataLookupException(ErrorCode.DATA_LOOKUP_NO_RESULT);\n        } catch (Exception e) {\n            LOGGER.error(&quot;Error when fetching item history events by permission and org ids with {}={}&quot;, type, id, e);\n            throw new DataLookupException(ErrorCode.DATA_LOOKUP_ERROR,\n                    &quot;Error when fetching item history events by permission and org ids with &quot; + type + &quot;=&quot; + id);\n        }\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","interface","live-templates"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1636025216,"post_id":69826896,"comment_id":123450258,"body_markdown":"It seems there is no way to do that but you can create a live template that generates a method, and perform `Alt + Enter | Implement method &quot;name&quot;` on a method signature after applying the template.","body":"It seems there is no way to do that but you can create a live template that generates a method, and perform <code>Alt + Enter | Implement method &quot;name&quot;</code> on a method signature after applying the template."},{"owner":{"account_id":12055478,"reputation":41907,"user_id":8816585,"display_name":"kissu"},"score":0,"creation_date":1636123470,"post_id":69826896,"comment_id":123480268,"body_markdown":"What did you tried so far?","body":"What did you tried so far?"}],"owner":{"account_id":20164939,"reputation":19,"user_id":14789134,"display_name":"AmirHossein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635950722,"creation_date":1635950722,"question_id":69826896,"body_markdown":"I want to make a live template in intellij that write a method in an interface and implelemnt it in the implemention class of this interface. how can i do this?","title":"How can i make a live template that write a method in an interface and implement it in implemention of this interface in intellij","body":"<p>I want to make a live template in intellij that write a method in an interface and implelemnt it in the implemention class of this interface. how can i do this?</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1635950872,"post_id":69826824,"comment_id":123429244,"body_markdown":"It seems to do a lot of extra work. The underlying requirement is to keep track of `(`/`[` and make sure they&#39;re matching and balancing. To do that the only thing that&#39;s required is a stack of `(`/`[` and every time you see a `)`/`]` that stack can be popped to make sure there&#39;s a matching &quot;open&quot;. If you get to the end of input and there&#39;s anything on the &quot;opening&quot; stack it&#39;s an error.","body":"It seems to do a lot of extra work. The underlying requirement is to keep track of <code>(</code>/<code>[</code> and make sure they&#39;re matching and balancing. To do that the only thing that&#39;s required is a stack of <code>(</code>/<code>[</code> and every time you see a <code>)</code>/<code>]</code> that stack can be popped to make sure there&#39;s a matching &quot;open&quot;. If you get to the end of input and there&#39;s anything on the &quot;opening&quot; stack it&#39;s an error."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1635951811,"post_id":69826824,"comment_id":123429690,"body_markdown":"It&#39;s also not clear why you create a stack of the input characters and essentially iterate over the input in reverse--you already *have* a data structure containing the input characters; just iterate over that.","body":"It&#39;s also not clear why you create a stack of the input characters and essentially iterate over the input in reverse--you already <i>have</i> a data structure containing the input characters; just iterate over that."}],"owner":{"account_id":23228782,"reputation":1,"user_id":17319877,"display_name":"Fakutzki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635950473,"creation_date":1635950473,"question_id":69826824,"body_markdown":"I have to solve this exercise and I am pretty new to coding. The task is: \r\n\r\nIn this problem, the input to your program is an array of N characters, each of which is either (, ), [ or ], and your program must return true if the parentheses are properly matched, and false if they are not.  \r\n\r\nThe code works and solves all the tests correct, but it is to slow to pass overall and I can&#39;t figure out why. What can I do to improve the speed of the code? Thank in advance.  \r\n\r\n\r\n\r\n    public class Dyck {\r\n    public boolean checkParentheses(ArrayList&lt;Character&gt; input) {\r\n        Stack&lt;Character&gt; s = new Stack&lt;&gt;();\r\n        Stack&lt;Character&gt; s2 = new Stack&lt;&gt;();\r\n\r\n\r\n        for(var c : input){\r\n            s.add(0, c);\r\n        }\r\n\r\n        Character c2;\r\n        Character c = s.pop();\r\n\r\n        if (c != &#39;)&#39; &amp;&amp; c != &#39;]&#39;) {\r\n            s2.add(c);\r\n        }\r\n        var size = s.size();\r\n        for (int i = 0; i &lt; size; ++i) {\r\n            c = s.pop();\r\n            if (c == &#39;[&#39; || c == &#39;(&#39;) {\r\n                s2.add(c);\r\n            }\r\n\r\n            if (c == &#39;)&#39;) {\r\n                if (s2.isEmpty()) {\r\n                    return false;\r\n                }\r\n\r\n                c2 = s2.pop();\r\n                if (c2 != &#39;(&#39;) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            if (c == &#39;]&#39;) {\r\n                if (s2.isEmpty()) {\r\n                    return false;\r\n                }\r\n\r\n                c2 = s2.pop();\r\n                if (c2 != &#39;[&#39;) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        if (s.isEmpty() &amp;&amp; s2.isEmpty()) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }","title":"Code running to slow to pass . Can&#39;t figure out why","body":"<p>I have to solve this exercise and I am pretty new to coding. The task is:</p>\n<p>In this problem, the input to your program is an array of N characters, each of which is either (, ), [ or ], and your program must return true if the parentheses are properly matched, and false if they are not.</p>\n<p>The code works and solves all the tests correct, but it is to slow to pass overall and I can't figure out why. What can I do to improve the speed of the code? Thank in advance.</p>\n<pre><code>public class Dyck {\npublic boolean checkParentheses(ArrayList&lt;Character&gt; input) {\n    Stack&lt;Character&gt; s = new Stack&lt;&gt;();\n    Stack&lt;Character&gt; s2 = new Stack&lt;&gt;();\n\n\n    for(var c : input){\n        s.add(0, c);\n    }\n\n    Character c2;\n    Character c = s.pop();\n\n    if (c != ')' &amp;&amp; c != ']') {\n        s2.add(c);\n    }\n    var size = s.size();\n    for (int i = 0; i &lt; size; ++i) {\n        c = s.pop();\n        if (c == '[' || c == '(') {\n            s2.add(c);\n        }\n\n        if (c == ')') {\n            if (s2.isEmpty()) {\n                return false;\n            }\n\n            c2 = s2.pop();\n            if (c2 != '(') {\n                return false;\n            }\n        }\n\n        if (c == ']') {\n            if (s2.isEmpty()) {\n                return false;\n            }\n\n            c2 = s2.pop();\n            if (c2 != '[') {\n                return false;\n            }\n        }\n    }\n    if (s.isEmpty() &amp;&amp; s2.isEmpty()) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jersey","content-negotiation"],"answers":[{"tags":[],"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468934074,"creation_date":1468934074,"answer_id":38459724,"question_id":37038894,"body_markdown":"The &quot;defaultContentTypeStrategy&quot; allows to provide your own ContentNegotiationStrategy to use. It has access to the full request so you can make path based decisions possibly with the an AntPathMatcher to support patterns easily. ","title":"Can you specify preferred default media type for a single path in Spring MVC?","body":"<p>The \"defaultContentTypeStrategy\" allows to provide your own ContentNegotiationStrategy to use. It has access to the full request so you can make path based decisions possibly with the an AntPathMatcher to support patterns easily. </p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635950434,"creation_date":1469559960,"answer_id":38597985,"question_id":37038894,"body_markdown":"Spring issue [19050](https://github.com/spring-projects/spring-framework/issues/19050) requests this functionality.  Per the conversation there, it looks like there is no simple way to declaratively specify the default content type to use.  Furthermore, the Spring team has closed the issue with a decision not to implement this functionality.","title":"Can you specify preferred default media type for a single path in Spring MVC?","body":"<p>Spring issue <a href=\"https://github.com/spring-projects/spring-framework/issues/19050\" rel=\"nofollow noreferrer\">19050</a> requests this functionality.  Per the conversation there, it looks like there is no simple way to declaratively specify the default content type to use.  Furthermore, the Spring team has closed the issue with a decision not to implement this functionality.</p>\n"}],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38597985,"answer_count":2,"score":2,"last_activity_date":1635950434,"creation_date":1462399576,"question_id":37038894,"body_markdown":"I have a Jersey application which has been converted to Spring MVC.  One piece of functionality that I don&#39;t see a way to port directly over is the ability, per path, to specify the preferred media type if none is specified.  In Jersey, I could specify the &quot;qs&quot; property on the media type, and it would use that to determine which response type to send if none were specified (or if multiple options were specified in the Accept header, I believe this value was multiplied by the quality scores specified).\r\n\r\n```java\r\n@Produces(&quot;application/json&quot;)\r\n@GET\r\n@Path(&quot;/some/path&quot;)\r\npublic Response preferredResponseType() {\r\n  //Implementation goes here\r\n}\r\n\r\n@Produces({&quot;application/schema+json;qs=0.9&quot;})\r\n@GET\r\n@Path(&quot;/some/path&quot;)\r\npublic Response otherResponseType() {\r\n  //Implementation goes here\r\n}\r\n```\r\n\r\nIn this example, if I do a `GET` request against `/some/path` with no Accept header, it will return the `application/json` response.\r\n\r\nI don&#39;t see any easy way to do this in Spring MVC, particularly not if I want to restrict the default to applying to just that one endpoint (there are other endpoints in the app that should have a different preferred default).  I do see that there is a way to globally set a default content type (per the &quot;defaultContentType&quot; and &quot;defaultContentTypeStrategy&quot; methods in `ContentNegotiationConfigurer`), but that does not easily address the per-path use case.\r\n\r\nIs there an easy way to achieve per-path media type defaults different from the application global default?","title":"Can you specify preferred default media type for a single path in Spring MVC?","body":"<p>I have a Jersey application which has been converted to Spring MVC.  One piece of functionality that I don't see a way to port directly over is the ability, per path, to specify the preferred media type if none is specified.  In Jersey, I could specify the &quot;qs&quot; property on the media type, and it would use that to determine which response type to send if none were specified (or if multiple options were specified in the Accept header, I believe this value was multiplied by the quality scores specified).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Produces(&quot;application/json&quot;)\n@GET\n@Path(&quot;/some/path&quot;)\npublic Response preferredResponseType() {\n  //Implementation goes here\n}\n\n@Produces({&quot;application/schema+json;qs=0.9&quot;})\n@GET\n@Path(&quot;/some/path&quot;)\npublic Response otherResponseType() {\n  //Implementation goes here\n}\n</code></pre>\n<p>In this example, if I do a <code>GET</code> request against <code>/some/path</code> with no Accept header, it will return the <code>application/json</code> response.</p>\n<p>I don't see any easy way to do this in Spring MVC, particularly not if I want to restrict the default to applying to just that one endpoint (there are other endpoints in the app that should have a different preferred default).  I do see that there is a way to globally set a default content type (per the &quot;defaultContentType&quot; and &quot;defaultContentTypeStrategy&quot; methods in <code>ContentNegotiationConfigurer</code>), but that does not easily address the per-path use case.</p>\n<p>Is there an easy way to achieve per-path media type defaults different from the application global default?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635950384,"creation_date":1635950384,"answer_id":69826803,"question_id":69826734,"body_markdown":"Child nodes in the Firebase console are shown in alphabetical order. There is no way to change this.\r\n\r\nTo control the order of child nodes in your application code, you can use the `orderBy...` methods shown in the documentation on [sorting data](https://firebase.google.com/docs/database/android/lists-of-data#sort_data).","title":"How to stay on top child in Firebase Database Android Studio","body":"<p>Child nodes in the Firebase console are shown in alphabetical order. There is no way to change this.</p>\n<p>To control the order of child nodes in your application code, you can use the <code>orderBy...</code> methods shown in the documentation on <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#sort_data\" rel=\"nofollow noreferrer\">sorting data</a>.</p>\n"}],"owner":{"account_id":23090388,"reputation":53,"user_id":17201342,"display_name":"APTEMKA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69826803,"answer_count":1,"score":0,"last_activity_date":1635950384,"creation_date":1635950150,"question_id":69826734,"body_markdown":"I have some Database in Firebase: \r\n\r\n![My Firebase Database][1]\r\n\r\nI want to child &quot;bestresult&quot; in &quot;Test 1&quot; stay on top and new childs add after him. How I can do it?\r\n\r\n  [1]: https://i.stack.imgur.com/7n8K2.png","title":"How to stay on top child in Firebase Database Android Studio","body":"<p>I have some Database in Firebase:</p>\n<p><img src=\"https://i.stack.imgur.com/7n8K2.png\" alt=\"My Firebase Database\" /></p>\n<p>I want to child &quot;bestresult&quot; in &quot;Test 1&quot; stay on top and new childs add after him. How I can do it?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1635946711,"post_id":69825669,"comment_id":123427244,"body_markdown":"`@OneToMany` relationships are lazy by default. Use `fetch = FetchType.LAZY` only for `@ManyToOne`","body":"<code>@OneToMany</code> relationships are lazy by default. Use <code>fetch = FetchType.LAZY</code> only for <code>@ManyToOne</code>"}],"answers":[{"tags":[],"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635946357,"creation_date":1635946357,"answer_id":69825789,"question_id":69825669,"body_markdown":"You have two solutions :  \r\n\r\n1. Use @JsonIgnore on the @ManyToOne\r\n2. Do NOT serialize your entities. Use DTOs instead and take care while mapping to avoid circular dependencies\r\n","title":"Why bi-directional ManyToOne causes circular dependency in Hibernate?","body":"<p>You have two solutions :</p>\n<ol>\n<li>Use @JsonIgnore on the @ManyToOne</li>\n<li>Do NOT serialize your entities. Use DTOs instead and take care while mapping to avoid circular dependencies</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635950357,"creation_date":1635950357,"answer_id":69826795,"question_id":69825669,"body_markdown":"You can also use `@JsonManagedReference` and `@JsonBackReference` to solve this infinite recursion problem as follows:\r\n```java\r\n@Entity\r\n@Table(name = &quot;user_account&quot;)\r\npublic class UserAccount {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;username&quot;)\r\n    private String userName;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;birthday&quot;)\r\n    private LocalDateTime birthday;\r\n\r\n    @NotNull\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;role&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UserRole role;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;userAccount&quot;, cascade= CascadeType.ALL)\r\n    @JsonManagedReference\r\n    private Set&lt;RentInfo&gt; rents;\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;rent_info&quot;)\r\npublic class RentInfo {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @ManyToOne(cascade= CascadeType.ALL)\r\n    @JoinColumn(name=&quot;user_id&quot;)\r\n    @JsonBackReference\r\n    private UserAccount userAccount;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;start_date&quot;)\r\n    private LocalDateTime startDate;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;end_date&quot;)\r\n    private LocalDateTime endDate;\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    private int status;\r\n}\r\n```\r\n\r\nNevertheless, I would first map your entities to DTOs. However, you might as well need to use `@JsonManagedReference` and `@JsonBackReference` in these new DTO classes if you want all data to be available (one way to avoid this infinite recursion problem would be not mapping `userAccount` in `RentInfoDto` but you might not want that because you also want to serialize `UserAccountDto` data).","title":"Why bi-directional ManyToOne causes circular dependency in Hibernate?","body":"<p>You can also use <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> to solve this infinite recursion problem as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;user_account&quot;)\npublic class UserAccount {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @NotNull\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @NotNull\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @NotNull\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @CreationTimestamp\n    @Column(name = &quot;birthday&quot;)\n    private LocalDateTime birthday;\n\n    @NotNull\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;role&quot;, referencedColumnName = &quot;id&quot;)\n    private UserRole role;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;userAccount&quot;, cascade= CascadeType.ALL)\n    @JsonManagedReference\n    private Set&lt;RentInfo&gt; rents;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;rent_info&quot;)\npublic class RentInfo {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @NotNull\n    @ManyToOne(cascade= CascadeType.ALL)\n    @JoinColumn(name=&quot;user_id&quot;)\n    @JsonBackReference\n    private UserAccount userAccount;\n\n    @CreationTimestamp\n    @Column(name = &quot;start_date&quot;)\n    private LocalDateTime startDate;\n\n    @CreationTimestamp\n    @Column(name = &quot;end_date&quot;)\n    private LocalDateTime endDate;\n\n    @Column(name = &quot;status&quot;)\n    private int status;\n}\n</code></pre>\n<p>Nevertheless, I would first map your entities to DTOs. However, you might as well need to use <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> in these new DTO classes if you want all data to be available (one way to avoid this infinite recursion problem would be not mapping <code>userAccount</code> in <code>RentInfoDto</code> but you might not want that because you also want to serialize <code>UserAccountDto</code> data).</p>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3439,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69825789,"answer_count":2,"score":6,"last_activity_date":1635950357,"creation_date":1635945941,"question_id":69825669,"body_markdown":"I have entities in my project(based on `Spring-Boot` + `Hibernate`):\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_account&quot;)\r\n    public class UserAccount {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;username&quot;)\r\n        private String userName;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n    \r\n        @CreationTimestamp\r\n        @Column(name = &quot;birthday&quot;)\r\n        private LocalDateTime birthday;\r\n    \r\n        @NotNull\r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;role&quot;, referencedColumnName = &quot;id&quot;)\r\n        private UserRole role;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;userAccount&quot;, cascade= CascadeType.ALL)\r\n        private Set&lt;RentInfo&gt; rents;\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    @Table(name = &quot;rent_info&quot;)\r\n    public class RentInfo {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @ManyToOne(cascade= CascadeType.ALL)\r\n        @JoinColumn(name=&quot;user_id&quot;)\r\n        private UserAccount userAccount;\r\n    \r\n        @CreationTimestamp\r\n        @Column(name = &quot;start_date&quot;)\r\n        private LocalDateTime startDate;\r\n    \r\n        @CreationTimestamp\r\n        @Column(name = &quot;end_date&quot;)\r\n        private LocalDateTime endDate;\r\n    \r\n        @Column(name = &quot;status&quot;)\r\n        private int status;\r\n    }\r\n\r\nI want to create bi-directional one-to-many relation, when one user can have several rents and when we can select rents by concrete user_id, but something goes wrong\r\n\r\nIn response I get this:\r\n\r\n    {\r\n            &quot;id&quot;: 1,\r\n            &quot;userName&quot;: &quot;test@mail.loc&quot;,\r\n            &quot;firstName&quot;: &quot;fName&quot;,\r\n            &quot;lastName&quot;: &quot;lName&quot;,\r\n            &quot;password&quot;: &quot;test&quot;,\r\n            &quot;birthday&quot;: &quot;2001-11-03T14:28:14&quot;,\r\n            &quot;role&quot;: {\r\n                &quot;name&quot;: &quot;CLIENT&quot;\r\n            },\r\n            &quot;rents&quot;: [\r\n                {\r\n                    &quot;userAccount&quot;: {\r\n                        &quot;id&quot;: 1,\r\n                        &quot;userName&quot;: &quot;test@mail.loc&quot;,\r\n                        &quot;firstName&quot;: &quot;fName&quot;,\r\n                        &quot;lastName&quot;: &quot;lName&quot;,\r\n                        &quot;password&quot;: &quot;test&quot;,\r\n                        &quot;birthday&quot;: &quot;2001-11-03T14:28:14&quot;,\r\n                        &quot;role&quot;: {\r\n                            &quot;name&quot;: &quot;CLIENT&quot;\r\n                        },\r\n                        &quot;rents&quot;: [\r\n                            {\r\n                                &quot;userAccount&quot;: {\r\n                                    &quot;id&quot;: 1,\r\n                                    &quot;userName&quot;: &quot;test@mail.loc&quot;,\r\n                                    &quot;firstName&quot;: &quot;fName&quot;,\r\n                                    &quot;lastName&quot;: &quot;lName&quot;,\r\n                                    &quot;password&quot;: &quot;test&quot;,\r\n                                    &quot;birthday&quot;: &quot;2001-11-03T14:28:14&quot;,\r\n                                    &quot;role&quot;: {\r\n                                        &quot;name&quot;: &quot;CLIENT&quot;\r\n                                    }\r\n        .....\r\n\r\nAnd this is unlimited and logically I have out of memory error. How can I fix this? what I&#39;m doing wrong?","title":"Why bi-directional ManyToOne causes circular dependency in Hibernate?","body":"<p>I have entities in my project(based on <code>Spring-Boot</code> + <code>Hibernate</code>):</p>\n<pre><code>@Entity\n@Table(name = &quot;user_account&quot;)\npublic class UserAccount {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @NotNull\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @NotNull\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @NotNull\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @CreationTimestamp\n    @Column(name = &quot;birthday&quot;)\n    private LocalDateTime birthday;\n\n    @NotNull\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;role&quot;, referencedColumnName = &quot;id&quot;)\n    private UserRole role;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;userAccount&quot;, cascade= CascadeType.ALL)\n    private Set&lt;RentInfo&gt; rents;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Table(name = &quot;rent_info&quot;)\npublic class RentInfo {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @NotNull\n    @ManyToOne(cascade= CascadeType.ALL)\n    @JoinColumn(name=&quot;user_id&quot;)\n    private UserAccount userAccount;\n\n    @CreationTimestamp\n    @Column(name = &quot;start_date&quot;)\n    private LocalDateTime startDate;\n\n    @CreationTimestamp\n    @Column(name = &quot;end_date&quot;)\n    private LocalDateTime endDate;\n\n    @Column(name = &quot;status&quot;)\n    private int status;\n}\n</code></pre>\n<p>I want to create bi-directional one-to-many relation, when one user can have several rents and when we can select rents by concrete user_id, but something goes wrong</p>\n<p>In response I get this:</p>\n<pre><code>{\n        &quot;id&quot;: 1,\n        &quot;userName&quot;: &quot;test@mail.loc&quot;,\n        &quot;firstName&quot;: &quot;fName&quot;,\n        &quot;lastName&quot;: &quot;lName&quot;,\n        &quot;password&quot;: &quot;test&quot;,\n        &quot;birthday&quot;: &quot;2001-11-03T14:28:14&quot;,\n        &quot;role&quot;: {\n            &quot;name&quot;: &quot;CLIENT&quot;\n        },\n        &quot;rents&quot;: [\n            {\n                &quot;userAccount&quot;: {\n                    &quot;id&quot;: 1,\n                    &quot;userName&quot;: &quot;test@mail.loc&quot;,\n                    &quot;firstName&quot;: &quot;fName&quot;,\n                    &quot;lastName&quot;: &quot;lName&quot;,\n                    &quot;password&quot;: &quot;test&quot;,\n                    &quot;birthday&quot;: &quot;2001-11-03T14:28:14&quot;,\n                    &quot;role&quot;: {\n                        &quot;name&quot;: &quot;CLIENT&quot;\n                    },\n                    &quot;rents&quot;: [\n                        {\n                            &quot;userAccount&quot;: {\n                                &quot;id&quot;: 1,\n                                &quot;userName&quot;: &quot;test@mail.loc&quot;,\n                                &quot;firstName&quot;: &quot;fName&quot;,\n                                &quot;lastName&quot;: &quot;lName&quot;,\n                                &quot;password&quot;: &quot;test&quot;,\n                                &quot;birthday&quot;: &quot;2001-11-03T14:28:14&quot;,\n                                &quot;role&quot;: {\n                                    &quot;name&quot;: &quot;CLIENT&quot;\n                                }\n    .....\n</code></pre>\n<p>And this is unlimited and logically I have out of memory error. How can I fix this? what I'm doing wrong?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":2,"creation_date":1635940976,"post_id":69824386,"comment_id":123424635,"body_markdown":"Required output should be `Engineer=Software Engineer`","body":"Required output should be <code>Engineer=Software Engineer</code>"},{"owner":{"account_id":19519772,"reputation":47,"user_id":14281912,"display_name":"Vishal Ekkaldevi"},"score":0,"creation_date":1635941393,"post_id":69824386,"comment_id":123424830,"body_markdown":"@user16320675. Sorry typo.","body":"@user16320675. Sorry typo."},{"owner":{"display_name":"user2711811"},"score":1,"creation_date":1635941564,"post_id":69824386,"comment_id":123424901,"body_markdown":"You will likely need to define what is required when the key from `one` has no corresponding entry in `two`.  Is `null` acceptable for the value in `three`, for example.  Or for that matter, if the value from `one` is null.","body":"You will likely need to define what is required when the key from <code>one</code> has no corresponding entry in <code>two</code>.  Is <code>null</code> acceptable for the value in <code>three</code>, for example.  Or for that matter, if the value from <code>one</code> is null."},{"owner":{"account_id":19519772,"reputation":47,"user_id":14281912,"display_name":"Vishal Ekkaldevi"},"score":0,"creation_date":1635941746,"post_id":69824386,"comment_id":123424980,"body_markdown":"@Andy. Null is acceptable only when the value of second map is null for a key. But first map will alway have a key and a value.","body":"@Andy. Null is acceptable only when the value of second map is null for a key. But first map will alway have a key and a value."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1635949173,"post_id":69824386,"comment_id":123428434,"body_markdown":"Please don&#39;t add additional requirements after the question has been posted.  Just ask a new question.","body":"Please don&#39;t add additional requirements after the question has been posted.  Just ask a new question."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635941232,"creation_date":1635941003,"answer_id":69824497,"question_id":69824386,"body_markdown":"Maybe something like this ...\r\n\r\n```\r\n// Stream the first map \r\nMap&lt;String, String&gt; result = one.entrySet()\r\n.stream()\r\n.collect(\r\n   Collectors.toMap(\r\n     // The value from the first map becomes the key in the third map\r\n     Map.Entry::getValue,\r\n     // Use key from the first map to get the value from the second map \r\n     // and store it as value in the third map\r\n     e -&gt; two.get(e.getKey()))\r\n);\r\n```","title":"Create a map with values of one map as key and values of second map as values?","body":"<p>Maybe something like this ...</p>\n<pre><code>// Stream the first map \nMap&lt;String, String&gt; result = one.entrySet()\n.stream()\n.collect(\n   Collectors.toMap(\n     // The value from the first map becomes the key in the third map\n     Map.Entry::getValue,\n     // Use key from the first map to get the value from the second map \n     // and store it as value in the third map\n     e -&gt; two.get(e.getKey()))\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635941244,"creation_date":1635941244,"answer_id":69824553,"question_id":69824386,"body_markdown":"Example implementation using `keySet` from map `one`:\r\n```java\r\nMap&lt;String, String&gt; joined = one.keySet()\r\n    .stream()  // Stream&lt;String&gt; keys\r\n    .collect(Collectors.toMap(\r\n        one::get, // key   - value from map one\r\n        two::get, // value - value from map two\r\n        (v1, v2) -&gt; v1 // merge function to resolve possible conflicts\r\n    ));\r\n```","title":"Create a map with values of one map as key and values of second map as values?","body":"<p>Example implementation using <code>keySet</code> from map <code>one</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; joined = one.keySet()\n    .stream()  // Stream&lt;String&gt; keys\n    .collect(Collectors.toMap(\n        one::get, // key   - value from map one\n        two::get, // value - value from map two\n        (v1, v2) -&gt; v1 // merge function to resolve possible conflicts\n    ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635948372,"creation_date":1635948372,"answer_id":69826293,"question_id":69824386,"body_markdown":"I would suggest one of the following depending on your data.  The first is the simplest.\r\n```\r\n\r\nMap&lt;String, String&gt; one = new HashMap&lt;&gt;();\r\none.put(&quot;Medicine&quot;, &quot;Doctor&quot;);\r\none.put(&quot;Engineering&quot;, &quot;Engineer&quot;);\r\n\t\r\nMap&lt;String, String&gt; two = new HashMap&lt;&gt;();\r\ntwo.put(&quot;Medicine&quot;, &quot;MBBS&quot;);\r\ntwo.put(&quot;Engineering&quot;, &quot;Software Engineer&quot;);\r\n\t\r\n```\r\n- first I stream the keys\r\n- then I filter to ensure that the other map has mapped value.  Otherwise, the new map will have key mapping to a `null`.\r\n- then I just create the map using the values from the two maps as the key/value pair of the target map.\r\n```\r\nMap&lt;String, String&gt; map1 =\r\n\t\t\t\tone.keySet().stream().filter(two::containsKey)\r\n\t\t\t\t\t\t.collect(Collectors.toMap(one::get,\r\n\t\t\t\t\t\t\t\ttwo::get));\r\n\r\nmap1.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nEngineer=Software Engineer\r\nDoctor=MBBS\r\n```\r\nBut what if you have different keys in the maps that map to the same value?  You could end up trying to put duplicates in the final map and that would cause an error.  Here is an example to take care of that.\r\n\r\nTwo more values are added to maps `one` and `two` to demonstrate.\r\n```\r\none.put(&quot;Chemist&quot;, &quot;Doctor&quot;);  // Doctor would be a duplicate key.\r\ntwo.put(&quot;Chemist&quot;, &quot;Professor&quot;);\r\n```\r\n- as before, streams the keys and filter to avoid null values\r\n- the keys will be the values from map `one`\r\n- But the values will be placed in a list in case duplicate keys appear\r\n- the `mapping` state pulls the value from the second map and adds it to a list\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; map2 = one.keySet().stream()\r\n\t.filter(two::containsKey)\r\n\t\t.collect(Collectors.groupingBy(one::get,\r\n\t\t\t\tCollectors.mapping(\r\n\t\t\t\t\t\ttwo::get,\r\n\t\t\t\t\t\tCollectors.toList())));\r\n\r\nmap2.entrySet().forEach(System.out::println);\r\n```\r\nPrints\r\n```\r\nEngineer=[Software Engineer]\r\nDoctor=[MBBS, Professor]\r\n```\r\nOf course, the choice is yours based on your intimate knowledge of your data.","title":"Create a map with values of one map as key and values of second map as values?","body":"<p>I would suggest one of the following depending on your data.  The first is the simplest.</p>\n<pre><code>\nMap&lt;String, String&gt; one = new HashMap&lt;&gt;();\none.put(&quot;Medicine&quot;, &quot;Doctor&quot;);\none.put(&quot;Engineering&quot;, &quot;Engineer&quot;);\n    \nMap&lt;String, String&gt; two = new HashMap&lt;&gt;();\ntwo.put(&quot;Medicine&quot;, &quot;MBBS&quot;);\ntwo.put(&quot;Engineering&quot;, &quot;Software Engineer&quot;);\n    \n</code></pre>\n<ul>\n<li>first I stream the keys</li>\n<li>then I filter to ensure that the other map has mapped value.  Otherwise, the new map will have key mapping to a <code>null</code>.</li>\n<li>then I just create the map using the values from the two maps as the key/value pair of the target map.</li>\n</ul>\n<pre><code>Map&lt;String, String&gt; map1 =\n                one.keySet().stream().filter(two::containsKey)\n                        .collect(Collectors.toMap(one::get,\n                                two::get));\n\nmap1.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>Engineer=Software Engineer\nDoctor=MBBS\n</code></pre>\n<p>But what if you have different keys in the maps that map to the same value?  You could end up trying to put duplicates in the final map and that would cause an error.  Here is an example to take care of that.</p>\n<p>Two more values are added to maps <code>one</code> and <code>two</code> to demonstrate.</p>\n<pre><code>one.put(&quot;Chemist&quot;, &quot;Doctor&quot;);  // Doctor would be a duplicate key.\ntwo.put(&quot;Chemist&quot;, &quot;Professor&quot;);\n</code></pre>\n<ul>\n<li>as before, streams the keys and filter to avoid null values</li>\n<li>the keys will be the values from map <code>one</code></li>\n<li>But the values will be placed in a list in case duplicate keys appear</li>\n<li>the <code>mapping</code> state pulls the value from the second map and adds it to a list</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map2 = one.keySet().stream()\n    .filter(two::containsKey)\n        .collect(Collectors.groupingBy(one::get,\n                Collectors.mapping(\n                        two::get,\n                        Collectors.toList())));\n\nmap2.entrySet().forEach(System.out::println);\n</code></pre>\n<p>Prints</p>\n<pre><code>Engineer=[Software Engineer]\nDoctor=[MBBS, Professor]\n</code></pre>\n<p>Of course, the choice is yours based on your intimate knowledge of your data.</p>\n"}],"owner":{"account_id":19519772,"reputation":47,"user_id":14281912,"display_name":"Vishal Ekkaldevi"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1635948626,"accepted_answer_id":69826293,"answer_count":3,"score":-3,"last_activity_date":1635950338,"creation_date":1635940507,"question_id":69824386,"body_markdown":"I have below two . A List of Maps and a Map\r\n\r\n```\r\nMap&lt;String, String&gt; one = new HashMap&lt;&gt;();\r\none.put(&quot;Medicine&quot;,&quot;Doctor&quot;);\r\none.put(&quot;Engineering&quot;,&quot;Engineer&quot;);\r\n\r\nMap&lt;String, String&gt; two =new HashMap&lt;&gt;();\r\ntwo.put(&quot;Medicine&quot;,&quot;MBBS&quot;);\r\ntwo.put(&quot;Engineering&quot;,&quot;Software Engineer&quot;);\r\n\r\nMap&lt;String, String&gt; three = new HasMap&lt;&gt;();\r\nthree.put(&quot;Medicine&quot;,&quot;Ortho&quot;);\r\nthree.put(&quot;Engineering&quot;,&quot;Aerospace Engineer&quot;)\r\n\r\nList&lt;Map&lt;String, String&gt;&gt; four= new ArrayList&lt;&gt;();\r\nfor(Map&lt;String, String&gt; eachMap: four){\r\n     Map&lt;String, String&gt; singleMapFromList= new HashMap&lt;&gt;();\r\n     //help me here\r\n}\r\n```\r\nNow I want values of first map(one) as key to fourth map(four) for the values of second map(two) and third map(three).\r\n\r\nRequired output for reference\r\n```\r\n{ Doctor : MBBS, Engineering : Software Engineer }\r\n{ Doctor : Ortho, Engineering : Aerospace Engineer }\r\n```\r\nPlease help me finding a solution.\r\n\r\nThanks in advance","title":"Create a map with values of one map as key and values of second map as values?","body":"<p>I have below two . A List of Maps and a Map</p>\n<pre><code>Map&lt;String, String&gt; one = new HashMap&lt;&gt;();\none.put(&quot;Medicine&quot;,&quot;Doctor&quot;);\none.put(&quot;Engineering&quot;,&quot;Engineer&quot;);\n\nMap&lt;String, String&gt; two =new HashMap&lt;&gt;();\ntwo.put(&quot;Medicine&quot;,&quot;MBBS&quot;);\ntwo.put(&quot;Engineering&quot;,&quot;Software Engineer&quot;);\n\nMap&lt;String, String&gt; three = new HasMap&lt;&gt;();\nthree.put(&quot;Medicine&quot;,&quot;Ortho&quot;);\nthree.put(&quot;Engineering&quot;,&quot;Aerospace Engineer&quot;)\n\nList&lt;Map&lt;String, String&gt;&gt; four= new ArrayList&lt;&gt;();\nfor(Map&lt;String, String&gt; eachMap: four){\n     Map&lt;String, String&gt; singleMapFromList= new HashMap&lt;&gt;();\n     //help me here\n}\n</code></pre>\n<p>Now I want values of first map(one) as key to fourth map(four) for the values of second map(two) and third map(three).</p>\n<p>Required output for reference</p>\n<pre><code>{ Doctor : MBBS, Engineering : Software Engineer }\n{ Doctor : Ortho, Engineering : Aerospace Engineer }\n</code></pre>\n<p>Please help me finding a solution.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","maven","aem","java-11"],"comments":[{"owner":{"account_id":1869173,"reputation":991,"user_id":1691864,"accept_rate":57,"display_name":"Dawid Pura"},"score":0,"creation_date":1631034393,"post_id":68884968,"comment_id":122113041,"body_markdown":"This is a good question, why do people tend to -1 it?","body":"This is a good question, why do people tend to -1 it?"}],"answers":[{"tags":[],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629701631,"creation_date":1629701631,"answer_id":68888397,"question_id":68884968,"body_markdown":"```\r\n[WARNING] Rule 9: org.apache.maven.plugins.enforcer.RequireFileChecksum failed with message:\r\nThere have been changes detected in a file which is supposed to be immutable according to https://docs.adobe.com/content/help/en/experience-manager-cloud-service/implementing/content-delivery/disp-overview.html#file-structure: src/conf.dispatcher.d/renders/default_renders.any\r\n```\r\n\r\nThe [Maven Enforcer Plugin](https://maven.apache.org/enforcer/maven-enforcer-plugin/index.html) is checking for some files to have an specific `checksum` using [requireFileChecksum rule](https://maven.apache.org/enforcer/enforcer-rules/requireFileChecksum.html)\r\n\r\nSomewhere in your `pom.xml` the Enforcer Maven plugin should be declared, so  you will be able to see the rule and the hash it is applying. This xml snippet is from the maven plugin documentation.\r\n\r\n```xml\r\n&lt;requireTextFileChecksum&gt;\r\n  &lt;file&gt;E:\\java-workspace\\apache-maven-enforcer\\maven-enforcer\\target\\checkout\\enforcer-rules\\target\\classes/foo.txt&lt;/file&gt;\r\n  &lt;checksum&gt;d41d8cd98f00b204e9800998ecf8427e&lt;/checksum&gt;\r\n  &lt;type&gt;md5&lt;/type&gt;\r\n&lt;/requireTextFileChecksum&gt;\r\n```\r\n\r\nCheck that hash against the hash of the file of your filesystem. Maybe when you change `aem` version, you need to upgrade some of those files.","title":"Problem with Maven plugin :maven-enforcer-plugin:3.0.0-M3:enforce Some Enforcer rules have failed","body":"<pre><code>[WARNING] Rule 9: org.apache.maven.plugins.enforcer.RequireFileChecksum failed with message:\nThere have been changes detected in a file which is supposed to be immutable according to https://docs.adobe.com/content/help/en/experience-manager-cloud-service/implementing/content-delivery/disp-overview.html#file-structure: src/conf.dispatcher.d/renders/default_renders.any\n</code></pre>\n<p>The <a href=\"https://maven.apache.org/enforcer/maven-enforcer-plugin/index.html\" rel=\"nofollow noreferrer\">Maven Enforcer Plugin</a> is checking for some files to have an specific <code>checksum</code> using <a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireFileChecksum.html\" rel=\"nofollow noreferrer\">requireFileChecksum rule</a></p>\n<p>Somewhere in your <code>pom.xml</code> the Enforcer Maven plugin should be declared, so  you will be able to see the rule and the hash it is applying. This xml snippet is from the maven plugin documentation.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;requireTextFileChecksum&gt;\n  &lt;file&gt;E:\\java-workspace\\apache-maven-enforcer\\maven-enforcer\\target\\checkout\\enforcer-rules\\target\\classes/foo.txt&lt;/file&gt;\n  &lt;checksum&gt;d41d8cd98f00b204e9800998ecf8427e&lt;/checksum&gt;\n  &lt;type&gt;md5&lt;/type&gt;\n&lt;/requireTextFileChecksum&gt;\n</code></pre>\n<p>Check that hash against the hash of the file of your filesystem. Maybe when you change <code>aem</code> version, you need to upgrade some of those files.</p>\n"},{"tags":[],"owner":{"account_id":2976682,"reputation":1138,"user_id":2527604,"display_name":"Francesco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635949422,"creation_date":1635949422,"answer_id":69826565,"question_id":68884968,"body_markdown":"As discussed here: https://github.com/adobe/aem-guides-wknd/pull/202\r\n\r\nAdobe have reported the issue and the fix to Adobe AEM WKND project: \r\n\r\n*Some Windows users experience a Maven enforcer issue where it appears that default dispatcher files have been modified. Unclear if this is a result of differences between Mac and Windows or something that occurs during the checkout process. Most users simply want to install the code base to a local environment and this check is unnecessary. Removing the enforcement for windows builds.*\r\n\r\nso you can : \r\n\r\n*Skips Dispatcher enforcement plugin for users on windows environments.*\r\n\r\ndoing a change you dispatcher/pom.xml\r\nwith the commit reported here: \r\n\r\nhttps://github.com/adobe/aem-guides-wknd/pull/202/commits/bebcf5d2236c75a95055d5ff71ea58f66379f271\r\n\r\nreplacing the line: \r\n\r\n    &lt;goal&gt;enforce&lt;/goal&gt;\r\n\r\nwith: \r\n\r\n    &lt;goal&gt;display-info&lt;/goal&gt;\r\n\r\n","title":"Problem with Maven plugin :maven-enforcer-plugin:3.0.0-M3:enforce Some Enforcer rules have failed","body":"<p>As discussed here: <a href=\"https://github.com/adobe/aem-guides-wknd/pull/202\" rel=\"nofollow noreferrer\">https://github.com/adobe/aem-guides-wknd/pull/202</a></p>\n<p>Adobe have reported the issue and the fix to Adobe AEM WKND project:</p>\n<p><em>Some Windows users experience a Maven enforcer issue where it appears that default dispatcher files have been modified. Unclear if this is a result of differences between Mac and Windows or something that occurs during the checkout process. Most users simply want to install the code base to a local environment and this check is unnecessary. Removing the enforcement for windows builds.</em></p>\n<p>so you can :</p>\n<p><em>Skips Dispatcher enforcement plugin for users on windows environments.</em></p>\n<p>doing a change you dispatcher/pom.xml\nwith the commit reported here:</p>\n<p><a href=\"https://github.com/adobe/aem-guides-wknd/pull/202/commits/bebcf5d2236c75a95055d5ff71ea58f66379f271\" rel=\"nofollow noreferrer\">https://github.com/adobe/aem-guides-wknd/pull/202/commits/bebcf5d2236c75a95055d5ff71ea58f66379f271</a></p>\n<p>replacing the line:</p>\n<pre><code>&lt;goal&gt;enforce&lt;/goal&gt;\n</code></pre>\n<p>with:</p>\n<pre><code>&lt;goal&gt;display-info&lt;/goal&gt;\n</code></pre>\n"}],"owner":{"account_id":22537137,"reputation":31,"user_id":16728250,"display_name":"Hikaru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5124,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1635949422,"creation_date":1629664658,"question_id":68884968,"body_markdown":"A little bit of context: \r\nIm working as a FE developer for an AEM project. The project is a SPA AEM as cloud service. I am running the author instance from the command line.  \r\n\r\nMy pc specs are:\r\n\r\n - CPU: Intel(R) Core(TM) i5-7400 CPU @ 3.00GHz   3.00 GHz \r\n - RAM: 24.0 GB\r\n - SSD: 476 GB\r\n - OS: Windows 10 Pro\r\n\r\nFor the AEM Project we are using\r\n\r\n - Java sdk 11 \r\n - Maven 3.6.3\r\n\r\nI have already set up everything, the path variables, JAVA_HOME, mvn. All of them work fine, even trying to build other type of projects with &quot;older&quot; versions of AEM like 6.5 build perfectly. I don&#39;t have a problem with them. But with this version of AEM I am getting this error\r\n\r\n    [WARNING] Rule 9: org.apache.maven.plugins.enforcer.RequireFileChecksum failed with message:\r\n    There have been changes detected in a file which is supposed to be immutable according to https://docs.adobe.com/content/help/en/experience-manager-cloud-service/implementing/content-delivery/disp-overview.html#file-structure: src/conf.dispatcher.d/renders/default_renders.any\r\n    [WARNING] Rule 10: org.apache.maven.plugins.enforcer.RequireFileChecksum failed with message:\r\n    There have been changes detected in a file which is supposed to be immutable according to https://docs.adobe.com/content/help/en/experience-manager-cloud-service/implementing/content-delivery/disp-overview.html#file-structure: src/conf.dispatcher.d/virtualhosts/default_virtualhosts.any\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary for xxxxxx 1.0.0-SNAPSHOT:\r\n    [INFO]\r\n    [INFO] xxxxxx ................................. SUCCESS [  0.270 s]\r\n    [INFO] xxxxxx - Core .......................... SUCCESS [ 59.232 s]\r\n    [INFO] xxxxxx - UI Frontend ................... SUCCESS [ 19.876 s]\r\n    [INFO] xxxxxx - UI Frontend React ............. SUCCESS [ 39.613 s]\r\n    [INFO] xxxxxx - Repository Structure Package .. SUCCESS [  0.991 s]\r\n    [INFO] xxxxxx - UI apps ....................... SUCCESS [ 12.990 s]\r\n    [INFO] xxxxxx - UI content .................... SUCCESS [  4.178 s]\r\n    [INFO] xxxxxx - UI config ..................... SUCCESS [  0.314 s]\r\n    [INFO] xxxxxx - All ........................... SUCCESS [  1.052 s]\r\n    [INFO] xxxxxx - Integration Tests ............. SUCCESS [ 12.166 s]\r\n    [INFO] xxxxxx - Dispatcher .................... FAILURE [  0.030 s]\r\n    [INFO] xxxxxx - UI Tests ...................... SKIPPED\r\n    [INFO] xxxxxx - Project Analyser .............. SKIPPED\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  02:34 min\r\n    [INFO] Finished at: 2021-08-22T15:11:20-05:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.0.0-M3:enforce (enforce-checksum-of-immutable-files) on project xxxxxxx.dispatcher.cloud: Some Enforcer rules have failed. Look above for specific messages explaining why the rule failed. -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    [ERROR]\r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;args&gt; -rf :xxxxxx.dispatcher.cloud\r\n\r\nI&#39;ve been searching in sites, some of the answers for this problem haven&#39;t work for me. \r\n\r\n - I tried to run everything from the &quot;gitbash&quot;\r\n   command line and I had the same problem.  \r\n - I tried to change the version in the pom.xml, didnt work. \r\n - I tried to build the project using eclipse IDE and all the build-in tools, I get an error that **org.apache.maven.plugins:maven-enforcer-plugin:3.0.0-M3:enforce** is missing\r\n - Disable firewall and antivirus, nope\r\n - Use other versions of maven like 3.8.2\r\n - Delete the **.m2** directory and download again all the plugins, not working\r\n\r\nOne of many answers tell me to comment out the dispatcher module in the pom.xml and after I did that builds fine. Other is doing the same and upload the **ui.apps/target/*.zip** with the **crx package manager** I did it but im not sure if the result is the &quot;best&quot;. \r\nTo end, I installed the same project in a Mac Pro and i did without a problem. I hope someone can help me with this. Thanks for reading.","title":"Problem with Maven plugin :maven-enforcer-plugin:3.0.0-M3:enforce Some Enforcer rules have failed","body":"<p>A little bit of context:\nIm working as a FE developer for an AEM project. The project is a SPA AEM as cloud service. I am running the author instance from the command line.</p>\n<p>My pc specs are:</p>\n<ul>\n<li>CPU: Intel(R) Core(TM) i5-7400 CPU @ 3.00GHz   3.00 GHz</li>\n<li>RAM: 24.0 GB</li>\n<li>SSD: 476 GB</li>\n<li>OS: Windows 10 Pro</li>\n</ul>\n<p>For the AEM Project we are using</p>\n<ul>\n<li>Java sdk 11</li>\n<li>Maven 3.6.3</li>\n</ul>\n<p>I have already set up everything, the path variables, JAVA_HOME, mvn. All of them work fine, even trying to build other type of projects with &quot;older&quot; versions of AEM like 6.5 build perfectly. I don't have a problem with them. But with this version of AEM I am getting this error</p>\n<pre><code>[WARNING] Rule 9: org.apache.maven.plugins.enforcer.RequireFileChecksum failed with message:\nThere have been changes detected in a file which is supposed to be immutable according to https://docs.adobe.com/content/help/en/experience-manager-cloud-service/implementing/content-delivery/disp-overview.html#file-structure: src/conf.dispatcher.d/renders/default_renders.any\n[WARNING] Rule 10: org.apache.maven.plugins.enforcer.RequireFileChecksum failed with message:\nThere have been changes detected in a file which is supposed to be immutable according to https://docs.adobe.com/content/help/en/experience-manager-cloud-service/implementing/content-delivery/disp-overview.html#file-structure: src/conf.dispatcher.d/virtualhosts/default_virtualhosts.any\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for xxxxxx 1.0.0-SNAPSHOT:\n[INFO]\n[INFO] xxxxxx ................................. SUCCESS [  0.270 s]\n[INFO] xxxxxx - Core .......................... SUCCESS [ 59.232 s]\n[INFO] xxxxxx - UI Frontend ................... SUCCESS [ 19.876 s]\n[INFO] xxxxxx - UI Frontend React ............. SUCCESS [ 39.613 s]\n[INFO] xxxxxx - Repository Structure Package .. SUCCESS [  0.991 s]\n[INFO] xxxxxx - UI apps ....................... SUCCESS [ 12.990 s]\n[INFO] xxxxxx - UI content .................... SUCCESS [  4.178 s]\n[INFO] xxxxxx - UI config ..................... SUCCESS [  0.314 s]\n[INFO] xxxxxx - All ........................... SUCCESS [  1.052 s]\n[INFO] xxxxxx - Integration Tests ............. SUCCESS [ 12.166 s]\n[INFO] xxxxxx - Dispatcher .................... FAILURE [  0.030 s]\n[INFO] xxxxxx - UI Tests ...................... SKIPPED\n[INFO] xxxxxx - Project Analyser .............. SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  02:34 min\n[INFO] Finished at: 2021-08-22T15:11:20-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.0.0-M3:enforce (enforce-checksum-of-immutable-files) on project xxxxxxx.dispatcher.cloud: Some Enforcer rules have failed. Look above for specific messages explaining why the rule failed. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :xxxxxx.dispatcher.cloud\n</code></pre>\n<p>I've been searching in sites, some of the answers for this problem haven't work for me.</p>\n<ul>\n<li>I tried to run everything from the &quot;gitbash&quot;\ncommand line and I had the same problem.</li>\n<li>I tried to change the version in the pom.xml, didnt work.</li>\n<li>I tried to build the project using eclipse IDE and all the build-in tools, I get an error that <strong>org.apache.maven.plugins:maven-enforcer-plugin:3.0.0-M3:enforce</strong> is missing</li>\n<li>Disable firewall and antivirus, nope</li>\n<li>Use other versions of maven like 3.8.2</li>\n<li>Delete the <strong>.m2</strong> directory and download again all the plugins, not working</li>\n</ul>\n<p>One of many answers tell me to comment out the dispatcher module in the pom.xml and after I did that builds fine. Other is doing the same and upload the <strong>ui.apps/target/*.zip</strong> with the <strong>crx package manager</strong> I did it but im not sure if the result is the &quot;best&quot;.\nTo end, I installed the same project in a Mac Pro and i did without a problem. I hope someone can help me with this. Thanks for reading.</p>\n"},{"tags":["java","apache-kafka","junit","spring-boot-test"],"comments":[{"owner":{"account_id":120502,"reputation":2412,"user_id":312990,"accept_rate":100,"display_name":"Nick DeFazio"},"score":0,"creation_date":1635986318,"post_id":69826520,"comment_id":123440980,"body_markdown":"Can you post the error you are getting back?","body":"Can you post the error you are getting back?"},{"owner":{"account_id":12857769,"reputation":31,"user_id":9300595,"display_name":"Samade"},"score":0,"creation_date":1636075646,"post_id":69826520,"comment_id":123467247,"body_markdown":"myObject is unresolved when passed in to the ConsumerRecord","body":"myObject is unresolved when passed in to the ConsumerRecord"}],"owner":{"account_id":12857769,"reputation":31,"user_id":9300595,"display_name":"Samade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635949240,"creation_date":1635949240,"question_id":69826520,"body_markdown":"I&#39;m using the RecordFilterStrategy to filter out Kafka messages, but my JUnit test for the method is throwing an error; This is what the JUnit test looks like:\r\n\r\n    @Test\r\n    public void testFilter() {\r\n    MyObject myObject = new MyObject;\r\n    String key = &quot;any&quot;;\r\n    MyObject.filter(ConsumerRecord&lt;key, myObject&gt;);\r\n\r\nIt is not recognizing ConsumerRecord even though I imported it like so;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nIf I Mock the ConsumerRecord, and pass in myObject, I get error as well.\r\nHow can one create a JUnit test for this RecordFilterStrategy please?","title":"How can I JUnit test the RecordFilterStrategy from org.apache.springFramework.kafka.listener.adapter","body":"<p>I'm using the RecordFilterStrategy to filter out Kafka messages, but my JUnit test for the method is throwing an error; This is what the JUnit test looks like:</p>\n<pre><code>@Test\npublic void testFilter() {\nMyObject myObject = new MyObject;\nString key = &quot;any&quot;;\nMyObject.filter(ConsumerRecord&lt;key, myObject&gt;);\n</code></pre>\n<p>It is not recognizing ConsumerRecord even though I imported it like so;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nIf I Mock the ConsumerRecord, and pass in myObject, I get error as well.\nHow can one create a JUnit test for this RecordFilterStrategy please?</p>\n"},{"tags":["java","java-11","functional-interface","unary-operator"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601135974,"creation_date":1601128477,"answer_id":64078476,"question_id":64078391,"body_markdown":"You can compose the three `UnaryOperator`s into a single `Function` using [**andThen**](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#andThen-java.util.function.Function-) to form a pipeline of transformation.\r\n\r\n    Function&lt;String, String&gt; addABC = addA\r\n                .andThen(addB)\r\n                .andThen(addc);\r\n    System.out.println(addABC.apply(&quot;&quot;)); //Prints abc\r\n\r\nIf you have many `UnaryOperator`s to start with, see Nicholas&#39; answer on how to reduce them to a single `UnaryOperator`.","title":"Mapping an object using a List&lt;UnaryOperator&lt;...&gt;&gt;","body":"<p>You can compose the three <code>UnaryOperator</code>s into a single <code>Function</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#andThen-java.util.function.Function-\" rel=\"nofollow noreferrer\"><strong>andThen</strong></a> to form a pipeline of transformation.</p>\n<pre><code>Function&lt;String, String&gt; addABC = addA\n            .andThen(addB)\n            .andThen(addc);\nSystem.out.println(addABC.apply(&quot;&quot;)); //Prints abc\n</code></pre>\n<p>If you have many <code>UnaryOperator</code>s to start with, see Nicholas' answer on how to reduce them to a single <code>UnaryOperator</code>.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601130190,"creation_date":1601130190,"answer_id":64078775,"question_id":64078391,"body_markdown":"The `reduce` method uses the combiner to achieve parallelism. In a parallel stream, `reduce` can run many of your unary operators at once, and use the provided combiner to combine the results. The existence of `combiner` is by-design, and it is not at fault.\r\n\r\nThe problem with this code is not that you have expressed concatenation in two places in the source code, but rather that you are doing string concatenation a lot of times at runtime, which creates a lot of unnecessary strings.\r\n\r\nYou should use a string builder instead. Since `StringBuilder` is mutable, you won&#39;t be creating a lot of `StringBuilder`s (unless you use parallel streams, but that&#39;s another story), and you will be using `collect`, rather than `reduce`. Notice the other change from `UnaryOperator` to `Consumer` too:\r\n\r\n```\r\nConsumer&lt;StringBuilder&gt; addA = (startString) -&gt; startString.append(&quot;a&quot;);\r\nConsumer&lt;StringBuilder&gt; addB = (startString) -&gt; startString.append(&quot;b&quot;);\r\nConsumer&lt;StringBuilder&gt; addc = (startString) -&gt; startString.append(&quot;c&quot;);\r\nList&lt;Consumer&lt;StringBuilder&gt;&gt; operators = List.of(addA, addB, addc);\r\nStringBuilder concatenatedString =\r\n    operators\r\n        .stream()\r\n        .collect(\r\n            StringBuilder::new, // identity\r\n            (value, op) -&gt; op.accept(value), // accumulator\r\n            StringBuilder::append // combiner\r\n        );\r\nSystem.out.println(concatenatedString);\r\n```","title":"Mapping an object using a List&lt;UnaryOperator&lt;...&gt;&gt;","body":"<p>The <code>reduce</code> method uses the combiner to achieve parallelism. In a parallel stream, <code>reduce</code> can run many of your unary operators at once, and use the provided combiner to combine the results. The existence of <code>combiner</code> is by-design, and it is not at fault.</p>\n<p>The problem with this code is not that you have expressed concatenation in two places in the source code, but rather that you are doing string concatenation a lot of times at runtime, which creates a lot of unnecessary strings.</p>\n<p>You should use a string builder instead. Since <code>StringBuilder</code> is mutable, you won't be creating a lot of <code>StringBuilder</code>s (unless you use parallel streams, but that's another story), and you will be using <code>collect</code>, rather than <code>reduce</code>. Notice the other change from <code>UnaryOperator</code> to <code>Consumer</code> too:</p>\n<pre><code>Consumer&lt;StringBuilder&gt; addA = (startString) -&gt; startString.append(&quot;a&quot;);\nConsumer&lt;StringBuilder&gt; addB = (startString) -&gt; startString.append(&quot;b&quot;);\nConsumer&lt;StringBuilder&gt; addc = (startString) -&gt; startString.append(&quot;c&quot;);\nList&lt;Consumer&lt;StringBuilder&gt;&gt; operators = List.of(addA, addB, addc);\nStringBuilder concatenatedString =\n    operators\n        .stream()\n        .collect(\n            StringBuilder::new, // identity\n            (value, op) -&gt; op.accept(value), // accumulator\n            StringBuilder::append // combiner\n        );\nSystem.out.println(concatenatedString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17012688,"reputation":98,"user_id":14333396,"display_name":"ArmDuke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601130599,"creation_date":1601130599,"answer_id":64078854,"question_id":64078391,"body_markdown":"I can suggest another way to concatenate strings using the binary operator, but this proposal is unlikely to be an optimization in a snippet of your code.\r\n\r\n    String concatenatedString = operators\r\n                    .stream().reduce((op1, op2) -&gt; (val) -&gt; op1.apply(val) + op2.apply(val))\r\n                    .get().apply(&quot;&quot;);","title":"Mapping an object using a List&lt;UnaryOperator&lt;...&gt;&gt;","body":"<p>I can suggest another way to concatenate strings using the binary operator, but this proposal is unlikely to be an optimization in a snippet of your code.</p>\n<pre><code>String concatenatedString = operators\n                .stream().reduce((op1, op2) -&gt; (val) -&gt; op1.apply(val) + op2.apply(val))\n                .get().apply(&quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1601164701,"creation_date":1601131005,"answer_id":64078926,"question_id":64078391,"body_markdown":"You can use the advantage that `UnaryUperator&lt;T&gt; extends Function&lt;T, T&gt;` and chain multiple calls of [`Function::andThen`][1] to get a composed `UnaryOperator&lt;String&gt;` of all within the list:\r\n\r\n```\r\nUnaryOperator&lt;String&gt; mergedUnaryOperators = operators.stream()\r\n\t\t\t.reduce((l, r) -&gt; (string) -&gt; l.andThen(r).apply(string))\r\n\t\t\t.orElseGet(UnaryOperator::identity);\r\n\r\nString output = mergedUnaryOperators.apply(&quot;&quot;);      // results in &quot;abc&quot;\r\n```\r\nTo have a clearer picture how does it work, this is called inside the `reduce` method:\r\n```\r\nnew BinaryOperator&lt;UnaryOperator&lt;String&gt;&gt;() {\r\n  @Override\r\n  public UnaryOperator&lt;String&gt; apply(UnaryOperator&lt;String&gt; l, UnaryOperator&lt;String&gt; r) {\r\n     return string -&gt; l.andThen(r).apply(string);\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#andThen-java.util.function.Function-","title":"Mapping an object using a List&lt;UnaryOperator&lt;...&gt;&gt;","body":"<p>You can use the advantage that <code>UnaryUperator&lt;T&gt; extends Function&lt;T, T&gt;</code> and chain multiple calls of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#andThen-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Function::andThen</code></a> to get a composed <code>UnaryOperator&lt;String&gt;</code> of all within the list:</p>\n<pre><code>UnaryOperator&lt;String&gt; mergedUnaryOperators = operators.stream()\n            .reduce((l, r) -&gt; (string) -&gt; l.andThen(r).apply(string))\n            .orElseGet(UnaryOperator::identity);\n\nString output = mergedUnaryOperators.apply(&quot;&quot;);      // results in &quot;abc&quot;\n</code></pre>\n<p>To have a clearer picture how does it work, this is called inside the <code>reduce</code> method:</p>\n<pre><code>new BinaryOperator&lt;UnaryOperator&lt;String&gt;&gt;() {\n  @Override\n  public UnaryOperator&lt;String&gt; apply(UnaryOperator&lt;String&gt; l, UnaryOperator&lt;String&gt; r) {\n     return string -&gt; l.andThen(r).apply(string);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15778338,"reputation":11,"user_id":11385509,"display_name":"Michal V&#225;clavek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635948915,"creation_date":1635947034,"answer_id":69825961,"question_id":64078391,"body_markdown":"And what about this solution:\r\n```java\r\nFunction&lt;String, String&gt; combineF = operators.stream()\r\n    .reduce(UnaryOperator.identity(), (l, r) -&gt; (string) -&gt;  r.compose(l).apply(string));\r\nSystem.out.println(combineF.apply(&quot;&quot;));\r\n```","title":"Mapping an object using a List&lt;UnaryOperator&lt;...&gt;&gt;","body":"<p>And what about this solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;String, String&gt; combineF = operators.stream()\n    .reduce(UnaryOperator.identity(), (l, r) -&gt; (string) -&gt;  r.compose(l).apply(string));\nSystem.out.println(combineF.apply(&quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":5383905,"reputation":885,"user_id":4288430,"accept_rate":57,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64078926,"answer_count":5,"score":3,"last_activity_date":1635948915,"creation_date":1601128019,"question_id":64078391,"body_markdown":"I have a `List&lt;UnaryOperator&lt;String&gt;&gt;` and need to map/transform a String by passing it through the list of operators. I have the following functional Java 11 code:\r\n\r\n    UnaryOperator&lt;String&gt; addA = (startString) -&gt; startString + &quot;a&quot;;\r\n    UnaryOperator&lt;String&gt; addB = (startString) -&gt; startString + &quot;b&quot;;\r\n    UnaryOperator&lt;String&gt; addc = (startString) -&gt; startString + &quot;c&quot;;\r\n    List&lt;UnaryOperator&lt;String&gt;&gt; operators = List.of(addA, addB, addc);\r\n    String concatenatedString =\r\n        operators\r\n            .stream()\r\n            .reduce(\r\n                &quot;&quot;, // identity\r\n                (value, op) -&gt; op.apply(value), // accumulator\r\n                (value1, value2) -&gt; value1.concat(value2) // combiner\r\n            );\r\n    System.out.println(concatenatedString); // prints &quot;abc&quot; as expected.\r\n\r\n\r\nThe concern I have is the string concatenation is expressed in 2 places. First in each of the `UnaryOperator`s and second in the combiner argument. Makes me wonder if there is a better way to do this?\r\n","title":"Mapping an object using a List&lt;UnaryOperator&lt;...&gt;&gt;","body":"<p>I have a <code>List&lt;UnaryOperator&lt;String&gt;&gt;</code> and need to map/transform a String by passing it through the list of operators. I have the following functional Java 11 code:</p>\n<pre><code>UnaryOperator&lt;String&gt; addA = (startString) -&gt; startString + &quot;a&quot;;\nUnaryOperator&lt;String&gt; addB = (startString) -&gt; startString + &quot;b&quot;;\nUnaryOperator&lt;String&gt; addc = (startString) -&gt; startString + &quot;c&quot;;\nList&lt;UnaryOperator&lt;String&gt;&gt; operators = List.of(addA, addB, addc);\nString concatenatedString =\n    operators\n        .stream()\n        .reduce(\n            &quot;&quot;, // identity\n            (value, op) -&gt; op.apply(value), // accumulator\n            (value1, value2) -&gt; value1.concat(value2) // combiner\n        );\nSystem.out.println(concatenatedString); // prints &quot;abc&quot; as expected.\n</code></pre>\n<p>The concern I have is the string concatenation is expressed in 2 places. First in each of the <code>UnaryOperator</code>s and second in the combiner argument. Makes me wonder if there is a better way to do this?</p>\n"},{"tags":["java","serialization","notserializableexception"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1526867373,"post_id":50441006,"comment_id":87896362,"body_markdown":"You may be serialising the instance of `VentanaIngresoMedianteArchivo`, which may be causing the issue. Since you&#39;re not actually using it, I&#39;d remove the property. Personally, I&#39;d avoid seralisation, as you have little control over it, and might consider using something like [jaxb](https://docs.oracle.com/javase/tutorial/jaxb/intro/). If you don&#39;t like XML, there&#39;s probably even some JSON library which can do the same thing","body":"You may be serialising the instance of <code>VentanaIngresoMedianteArchivo</code>, which may be causing the issue. Since you&#39;re not actually using it, I&#39;d remove the property. Personally, I&#39;d avoid seralisation, as you have little control over it, and might consider using something like <a href=\"https://docs.oracle.com/javase/tutorial/jaxb/intro/\" rel=\"nofollow noreferrer\">jaxb</a>. If you don&#39;t like XML, there&#39;s probably even some JSON library which can do the same thing"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1526868514,"post_id":50441006,"comment_id":87896602,"body_markdown":"Why would you ever want to serialize a program&#39;s view to begin with? You will want to instead serialize the program&#39;s *model*, and then use it to reconstruct the view where needed.","body":"Why would you ever want to serialize a program&#39;s view to begin with? You will want to instead serialize the program&#39;s <i>model</i>, and then use it to reconstruct the view where needed."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1526876597,"post_id":50441006,"comment_id":87897960,"body_markdown":"@stdunbar Not really. The only solution suggested there is infeasible for an existing JDK class.","body":"@stdunbar Not really. The only solution suggested there is infeasible for an existing JDK class."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1527118845,"post_id":50441006,"comment_id":88010663,"body_markdown":"Reopened. None of duplicates answered the question with a usable recommendation. The only solution here is a redesign that doesn&#39;t rely on serializing the layout.","body":"Reopened. None of duplicates answered the question with a usable recommendation. The only solution here is a redesign that doesn&#39;t rely on serializing the layout."}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1527458009,"creation_date":1527458009,"answer_id":50556855,"question_id":50441006,"body_markdown":"As the exception message states, `javax.swing.GroupLayout` is not serialisable.\r\n\r\nWhat to do?\r\n\r\nYour favourite Java Serialisation reference should give you the options in this case. Briefly your choices are:\r\n\r\n - Use a serialisable `LayoutManager`. (I never liked `GroupLayout`.)\r\n - Subclass `GroupLayout` with a class that implements `Serializable`. The subclass should copy out all of the state from the superclass in a custom `writeObject` and copy in back in in a custom `readObject` (a variation is to use a serial proxy with `writeReplace` and `readResolve`, but that&#39;s even more complication).\r\n - &quot;Manually&quot; remove the layout before serialisation and either manually replace on deserialisation or insert a serial proxy (a `LayoutManager` with a `readResolve` method).\r\n - Use an alternative serialisation mechanism. Java Serialisation has now been seriously, publicly proposed for removal. However, alternative serialisation mechanisms are likely to be much worse.\r\n - Write a &quot;hand-rolled&quot; specific serialiser to JSON or similar.\r\n - Don&#39;t serialise UIs. This is the best choice.","title":"java.io.NotSerializableException: javax.swing.GroupLayout","body":"<p>As the exception message states, <code>javax.swing.GroupLayout</code> is not serialisable.</p>\n\n<p>What to do?</p>\n\n<p>Your favourite Java Serialisation reference should give you the options in this case. Briefly your choices are:</p>\n\n<ul>\n<li>Use a serialisable <code>LayoutManager</code>. (I never liked <code>GroupLayout</code>.)</li>\n<li>Subclass <code>GroupLayout</code> with a class that implements <code>Serializable</code>. The subclass should copy out all of the state from the superclass in a custom <code>writeObject</code> and copy in back in in a custom <code>readObject</code> (a variation is to use a serial proxy with <code>writeReplace</code> and <code>readResolve</code>, but that's even more complication).</li>\n<li>\"Manually\" remove the layout before serialisation and either manually replace on deserialisation or insert a serial proxy (a <code>LayoutManager</code> with a <code>readResolve</code> method).</li>\n<li>Use an alternative serialisation mechanism. Java Serialisation has now been seriously, publicly proposed for removal. However, alternative serialisation mechanisms are likely to be much worse.</li>\n<li>Write a \"hand-rolled\" specific serialiser to JSON or similar.</li>\n<li>Don't serialise UIs. This is the best choice.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21846600,"reputation":11,"user_id":16139337,"display_name":"Santiago Salinas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635948776,"creation_date":1635941762,"answer_id":69824664,"question_id":50441006,"body_markdown":"If you happen to be using Javax.swing and you have been using `PropertyChangeSupport` to keep your windows synced (or other purposes).\r\n\r\nYou may get `java.io.NotSerializableException: javax.swing.GroupLayout` while trying to serialize that specific class holding the `PropertyChangeSupport`. By changing `PropertyChangeSupport` to `transient private PropertyChangeSupport variableName;`,\r\n\r\n while initializing you may resolve this error.","title":"java.io.NotSerializableException: javax.swing.GroupLayout","body":"<p>If you happen to be using Javax.swing and you have been using <code>PropertyChangeSupport</code> to keep your windows synced (or other purposes).</p>\n<p>You may get <code>java.io.NotSerializableException: javax.swing.GroupLayout</code> while trying to serialize that specific class holding the <code>PropertyChangeSupport</code>. By changing <code>PropertyChangeSupport</code> to <code>transient private PropertyChangeSupport variableName;</code>,</p>\n<p>while initializing you may resolve this error.</p>\n"}],"owner":{"account_id":12891850,"reputation":11,"user_id":9669278,"display_name":"Kevin Fuentes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":50556855,"answer_count":2,"score":0,"last_activity_date":1635948776,"creation_date":1526867274,"question_id":50441006,"body_markdown":"I have this code and it throws the exception \r\n\r\n    java.io.NotSerializableException: javax.swing.GroupLayout\r\n\r\nThe code is the following\r\n\r\n    package basededatosmuebleria;\r\n    import FrontEnd.VentanaIngresoMedianteArchivo;\r\n    import java.io.*;\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class FileController implements Serializable {\r\n        public static void escribirObjetoPieza(String nombre, Pieza pieza){\r\n            try{\r\n                ObjectOutputStream fileOut = new ObjectOutputStream(\r\n            new FileOutputStream(nombre));\r\n            fileOut.writeObject(pieza);\r\n            fileOut.close();\r\n            }\r\n            catch (IOException e){ \r\n                JOptionPane.showMessageDialog(null, e);\r\n            }\r\n        }\r\n    }\r\n\r\nThe class that sends invokes the method is the following ...\r\n\r\n    package basededatosmuebleria;\r\n    import FrontEnd.VentanaIngresoMedianteArchivo;\r\n    import static java.lang.Double.parseDouble;\r\n    import java.util.StringTokenizer;\r\n    import java.io.*;\r\n\r\n    public class Pieza implements Serializable {\r\n        String tipo;\r\n        double costo;\r\n        VentanaIngresoMedianteArchivo comunicador = new                     \r\n        VentanaIngresoMedianteArchivo();\r\n        public Pieza(String tipo, double costo){\r\n            this.tipo=tipo;\r\n            this.costo=costo;\r\n        }\r\n        public Pieza(){}\r\n        public String getTipo(){\r\n            return this.tipo;\r\n        }\r\n        public double getCostoPieza(){\r\n            return this.costo;\r\n        }\r\n        public void evaluarLinea(String line) {\r\n                try{\r\n                StringTokenizer token = new StringTokenizer(line,&quot;,&quot;);\r\n                tipo=token.nextToken()\r\n                        .replaceAll(&quot;PIEZA&quot;, &quot;&quot;)\r\n                        .replace(&quot;(&quot;, &quot;&quot;)\r\n                        .replaceAll(&quot;\\&quot;&quot;,&quot;&quot;);\r\n                costo=parseDouble(token.nextToken()\r\n                        .replace(&quot;)&quot;,&quot;&quot;));\r\n                Pieza pieza = new Pieza (tipo, costo);\r\n                int contador = FileController.leerContadorPiezas(tipo);\r\n                String nombreDelObjeto=\r\n                        &quot;Pieza&quot;\r\n                        +tipo\r\n                        +String.valueOf(contador)\r\n                        +&quot;.dat&quot;;\r\n                FileController.escribirObjetoPieza(nombreDelObjeto, pieza);   \r\n            }\r\n            catch(NullPointerException e){\r\n                VentanaIngresoMedianteArchivo.cajaDeMensajes.append(&quot;No se ha ingresado un valor en el precio de la pieza&quot;);\r\n            }\r\n            catch(NumberFormatException e){\r\n                VentanaIngresoMedianteArchivo.cajaDeMensajes.append(&quot;El formato ingresado es incorrecto. no es un numero real&quot;);\r\n            }\r\n        }  \r\n    }\r\n\r\n","title":"java.io.NotSerializableException: javax.swing.GroupLayout","body":"<p>I have this code and it throws the exception </p>\n\n<pre><code>java.io.NotSerializableException: javax.swing.GroupLayout\n</code></pre>\n\n<p>The code is the following</p>\n\n<pre><code>package basededatosmuebleria;\nimport FrontEnd.VentanaIngresoMedianteArchivo;\nimport java.io.*;\nimport javax.swing.JOptionPane;\n\npublic class FileController implements Serializable {\n    public static void escribirObjetoPieza(String nombre, Pieza pieza){\n        try{\n            ObjectOutputStream fileOut = new ObjectOutputStream(\n        new FileOutputStream(nombre));\n        fileOut.writeObject(pieza);\n        fileOut.close();\n        }\n        catch (IOException e){ \n            JOptionPane.showMessageDialog(null, e);\n        }\n    }\n}\n</code></pre>\n\n<p>The class that sends invokes the method is the following ...</p>\n\n<pre><code>package basededatosmuebleria;\nimport FrontEnd.VentanaIngresoMedianteArchivo;\nimport static java.lang.Double.parseDouble;\nimport java.util.StringTokenizer;\nimport java.io.*;\n\npublic class Pieza implements Serializable {\n    String tipo;\n    double costo;\n    VentanaIngresoMedianteArchivo comunicador = new                     \n    VentanaIngresoMedianteArchivo();\n    public Pieza(String tipo, double costo){\n        this.tipo=tipo;\n        this.costo=costo;\n    }\n    public Pieza(){}\n    public String getTipo(){\n        return this.tipo;\n    }\n    public double getCostoPieza(){\n        return this.costo;\n    }\n    public void evaluarLinea(String line) {\n            try{\n            StringTokenizer token = new StringTokenizer(line,\",\");\n            tipo=token.nextToken()\n                    .replaceAll(\"PIEZA\", \"\")\n                    .replace(\"(\", \"\")\n                    .replaceAll(\"\\\"\",\"\");\n            costo=parseDouble(token.nextToken()\n                    .replace(\")\",\"\"));\n            Pieza pieza = new Pieza (tipo, costo);\n            int contador = FileController.leerContadorPiezas(tipo);\n            String nombreDelObjeto=\n                    \"Pieza\"\n                    +tipo\n                    +String.valueOf(contador)\n                    +\".dat\";\n            FileController.escribirObjetoPieza(nombreDelObjeto, pieza);   \n        }\n        catch(NullPointerException e){\n            VentanaIngresoMedianteArchivo.cajaDeMensajes.append(\"No se ha ingresado un valor en el precio de la pieza\");\n        }\n        catch(NumberFormatException e){\n            VentanaIngresoMedianteArchivo.cajaDeMensajes.append(\"El formato ingresado es incorrecto. no es un numero real\");\n        }\n    }  \n}\n</code></pre>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1635944403,"post_id":69825265,"comment_id":123426119,"body_markdown":"doubles are initialized as 0.0 when you don&#39;t assign a value yourself","body":"doubles are initialized as 0.0 when you don&#39;t assign a value yourself"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1635944569,"post_id":69825265,"comment_id":123426188,"body_markdown":"And your `volume` only exists in the **child** (not the **parent**) class.","body":"And your <code>volume</code> only exists in the <b>child</b> (not the <b>parent</b>) class."},{"owner":{"account_id":11529479,"reputation":5,"user_id":17318983,"display_name":"Angsu Sen"},"score":0,"creation_date":1635944797,"post_id":69825265,"comment_id":123426306,"body_markdown":"I edited it, sorry for the confusion","body":"I edited it, sorry for the confusion"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1635944909,"post_id":69825265,"comment_id":123426364,"body_markdown":"Unrelated. learn about java naming conventions. Class always start UpperCase. And method names go camelCase. And hint: a method that is named getX should **return** a value. PRINTING to the console is a side effect. Dont do it like that. Or call the method printX() when you really want to do it that way.","body":"Unrelated. learn about java naming conventions. Class always start UpperCase. And method names go camelCase. And hint: a method that is named getX should <b>return</b> a value. PRINTING to the console is a side effect. Dont do it like that. Or call the method printX() when you really want to do it that way."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1635944928,"post_id":69825265,"comment_id":123426368,"body_markdown":"@AngsuSen You are creating 2 objects and setting the radius in one getting the volume of another. You need to do `SetRadius()` on `obj1`. Your `circle2 obj` object is completely unnecessary.","body":"@AngsuSen You are creating 2 objects and setting the radius in one getting the volume of another. You need to do <code>SetRadius()</code> on <code>obj1</code>. Your <code>circle2 obj</code> object is completely unnecessary."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1635945119,"post_id":69825265,"comment_id":123426458,"body_markdown":"I think you are misunderstanding inheritance here. Both the variables `obj` and `obj1` have a different `radius` property. When you create an instance of `cylinder2` it has an underlying `circle2` - think of it like creating a specialised version of `circle2`.","body":"I think you are misunderstanding inheritance here. Both the variables <code>obj</code> and <code>obj1</code> have a different <code>radius</code> property. When you create an instance of <code>cylinder2</code> it has an underlying <code>circle2</code> - think of it like creating a specialised version of <code>circle2</code>."},{"owner":{"account_id":11529479,"reputation":5,"user_id":17318983,"display_name":"Angsu Sen"},"score":0,"creation_date":1635945230,"post_id":69825265,"comment_id":123426511,"body_markdown":"Thank you so much guys @OHGODSPIDERS  i got it now, i don&#39;t know how to choose answers or anything. so should i just delete the question?","body":"Thank you so much guys @OHGODSPIDERS  i got it now, i don&#39;t know how to choose answers or anything. so should i just delete the question?"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635948270,"creation_date":1635948270,"answer_id":69826271,"question_id":69825265,"body_markdown":"You are creating two objects, a circle and a cylinder. You are setting the radius of the circle. Then you are calculating the volume of the cylinder. Which result do you expect?\r\n\r\nThe solution is to set the radius of the cylinder:\r\n\r\n        cylinder2 obj1 = new cylinder2();\r\n        obj1.SetRadius();\r\n        obj1.GetVolume();\r\n\r\nSample session:\r\n\r\n    Enter Radius\r\n    3\r\n    Volume of cylinder : 141.3716694115407\r\n\r\nThe problem really had not got anything to do with what was in the parent class and what was in the child class. It all ends up in the same object when you create one.","title":"How can I access my parent class property without initializing it in the parent class?","body":"<p>You are creating two objects, a circle and a cylinder. You are setting the radius of the circle. Then you are calculating the volume of the cylinder. Which result do you expect?</p>\n<p>The solution is to set the radius of the cylinder:</p>\n<pre><code>    cylinder2 obj1 = new cylinder2();\n    obj1.SetRadius();\n    obj1.GetVolume();\n</code></pre>\n<p>Sample session:</p>\n<pre><code>Enter Radius\n3\nVolume of cylinder : 141.3716694115407\n</code></pre>\n<p>The problem really had not got anything to do with what was in the parent class and what was in the child class. It all ends up in the same object when you create one.</p>\n"}],"owner":{"account_id":11529479,"reputation":5,"user_id":17318983,"display_name":"Angsu Sen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69826271,"answer_count":1,"score":-2,"last_activity_date":1635948270,"creation_date":1635944253,"question_id":69825265,"body_markdown":"I am learning java for the last one week, sorry for the dumb question but if i just declare a variable in the parent class without storing any value in it, maybe use a setter or constructor for inputing its value then can I work with those values/properties of the parent class in a child class?\r\n```\r\nclass circle2 \r\n{\r\n    double radius;\r\n    double Area;\r\n    Scanner Sc = new Scanner(System.in);\r\n\r\n    void SetRadius() {\r\n        System.out.println(&quot;Enter Radius&quot;);\r\n        radius = Sc.nextDouble();\r\n    }\r\n}\r\nclass cylinder2 extends circle2\r\n    {\r\n    double height=5,volume;\r\n    void GetVolume(){\r\n\r\n        volume=Math.PI*radius*radius*height;\r\n        System.out.println(&quot;Volume of cylinder : &quot; + volume);\r\n    }\r\n}\r\n\r\npublic class Ch10Alternate_PS {\r\n    public static void main(String[] args) {\r\n        circle2 obj = new circle2();\r\n        obj.SetRadius();\r\n        cylinder2 obj1 = new cylinder2();\r\n        obj1.GetVolume();\r\n  }\r\n}\r\n```\r\nThis gives me a value of 0.0 for volume ","title":"How can I access my parent class property without initializing it in the parent class?","body":"<p>I am learning java for the last one week, sorry for the dumb question but if i just declare a variable in the parent class without storing any value in it, maybe use a setter or constructor for inputing its value then can I work with those values/properties of the parent class in a child class?</p>\n<pre><code>class circle2 \n{\n    double radius;\n    double Area;\n    Scanner Sc = new Scanner(System.in);\n\n    void SetRadius() {\n        System.out.println(&quot;Enter Radius&quot;);\n        radius = Sc.nextDouble();\n    }\n}\nclass cylinder2 extends circle2\n    {\n    double height=5,volume;\n    void GetVolume(){\n\n        volume=Math.PI*radius*radius*height;\n        System.out.println(&quot;Volume of cylinder : &quot; + volume);\n    }\n}\n\npublic class Ch10Alternate_PS {\n    public static void main(String[] args) {\n        circle2 obj = new circle2();\n        obj.SetRadius();\n        cylinder2 obj1 = new cylinder2();\n        obj1.GetVolume();\n  }\n}\n</code></pre>\n<p>This gives me a value of 0.0 for volume</p>\n"},{"tags":["java","spring","spring-boot","jpa","java-11"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1635936947,"post_id":69823565,"comment_id":123423166,"body_markdown":"How you call the constructor of `BarWrapper`? Show us the code there, it should be inside a Service method in which you load the `Bar` entity from database in order to make sure that calling `bar.getFoo()` will be in the same transaction.","body":"How you call the constructor of <code>BarWrapper</code>? Show us the code there, it should be inside a Service method in which you load the <code>Bar</code> entity from database in order to make sure that calling <code>bar.getFoo()</code> will be in the same transaction."},{"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"score":0,"creation_date":1635937242,"post_id":69823565,"comment_id":123423287,"body_markdown":"Why do you lazy initialise Foo object in Bar class?","body":"Why do you lazy initialise Foo object in Bar class?"},{"owner":{"account_id":9949128,"reputation":1376,"user_id":8286276,"accept_rate":77,"display_name":"Pelicer"},"score":0,"creation_date":1635937313,"post_id":69823565,"comment_id":123423308,"body_markdown":"@memoricab it is a rather large object that I don&#39;t actually use often.","body":"@memoricab it is a rather large object that I don&#39;t actually use often."},{"owner":{"account_id":9949128,"reputation":1376,"user_id":8286276,"accept_rate":77,"display_name":"Pelicer"},"score":0,"creation_date":1635937375,"post_id":69823565,"comment_id":123423333,"body_markdown":"@pleft added the code as requested.","body":"@pleft added the code as requested."},{"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"score":0,"creation_date":1635937420,"post_id":69823565,"comment_id":123423347,"body_markdown":"But if you lazy fetch that object, you don&#39;t see the content of it right? So is not it normal it throws an exception when you try to access which is not fetched yet?","body":"But if you lazy fetch that object, you don&#39;t see the content of it right? So is not it normal it throws an exception when you try to access which is not fetched yet?"},{"owner":{"account_id":9949128,"reputation":1376,"user_id":8286276,"accept_rate":77,"display_name":"Pelicer"},"score":0,"creation_date":1635937599,"post_id":69823565,"comment_id":123423408,"body_markdown":"Exactly. However, I cannot just change it to EAGER, since that could cause performance issues. I need to have a hibernate session opened in the moment I perform .getFoo() in order for it to be fetched. The problem is: @Transactional didn&#39;t work at all","body":"Exactly. However, I cannot just change it to EAGER, since that could cause performance issues. I need to have a hibernate session opened in the moment I perform .getFoo() in order for it to be fetched. The problem is: @Transactional didn&#39;t work at all"},{"owner":{"account_id":541020,"reputation":2142,"user_id":909414,"accept_rate":62,"display_name":"Rohit"},"score":0,"creation_date":1635942519,"post_id":69823565,"comment_id":123425299,"body_markdown":"@Transactional does not work if you annotate a private method. https://stackoverflow.com/questions/4396284/does-spring-transactional-attribute-work-on-a-private-method","body":"@Transactional does not work if you annotate a private method. <a href=\"https://stackoverflow.com/questions/4396284/does-spring-transactional-attribute-work-on-a-private-method\" title=\"does spring transactional attribute work on a private method\">stackoverflow.com/questions/4396284/&hellip;</a>"},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1635942583,"post_id":69823565,"comment_id":123425326,"body_markdown":"@Pelicer try annotating @Transactional your `public BarWrapper createBar(...)` method, however the last line of this method seems completely irrelevant: `return new SettlementWrapper(createdSettlement);`","body":"@Pelicer try annotating @Transactional your <code>public BarWrapper createBar(...)</code> method, however the last line of this method seems completely irrelevant: <code>return new SettlementWrapper(createdSettlement);</code>"},{"owner":{"account_id":9949128,"reputation":1376,"user_id":8286276,"accept_rate":77,"display_name":"Pelicer"},"score":0,"creation_date":1635948133,"post_id":69823565,"comment_id":123427947,"body_markdown":"@pleft I edited the question with the correct code. Also tried your solution and nothing changed.","body":"@pleft I edited the question with the correct code. Also tried your solution and nothing changed."},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1635951100,"post_id":69823565,"comment_id":123429345,"body_markdown":"@Pelicer you have to make sure that you call `createBar` from outside `BarApplicationServices`, from another Spring bean, it that the case?","body":"@Pelicer you have to make sure that you call <code>createBar</code> from outside <code>BarApplicationServices</code>, from another Spring bean, it that the case?"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635944814,"creation_date":1635944814,"answer_id":69825381,"question_id":69823565,"body_markdown":"Your `@Transactional` method is `private` which does not work. Make it `public`.\r\n\r\n\r\nIf this does not work, try the following [link][1]\r\n\r\n\r\n  [1]: https://thorben-janssen.com/lazyinitializationexception/","title":"LazyInitialization exception on ManyToOne relationship","body":"<p>Your <code>@Transactional</code> method is <code>private</code> which does not work. Make it <code>public</code>.</p>\n<p>If this does not work, try the following <a href=\"https://thorben-janssen.com/lazyinitializationexception/\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":9949128,"reputation":1376,"user_id":8286276,"accept_rate":77,"display_name":"Pelicer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635947678,"creation_date":1635936616,"question_id":69823565,"body_markdown":"I&#39;m having a lazy initialization exception using spring. I know this is a common error and I&#39;ve been through several stack questions, but none of the answers really did it for me. Here&#39;s my scenario: I have two classes that relate like such:\r\n\r\n    public class Foo implements Serializable {\r\n        @Id\r\n        @EqualsAndHashCode.Include\r\n        @Column(name = &quot;uuid&quot;)\r\n        private UUID uuid;\r\n    \r\n        @Column(name = attribute)\r\n        private String attribute;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = foo)\r\n        private Set&lt;Bar&gt; bar;\r\n    }\r\n\r\n    public class Bar implements Serializable {\r\n    \r\n        @Id\r\n        @Column(name = &quot;uuid&quot;)\r\n        private UUID uuid;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = foo_uuid&quot;)\r\n        private Foo foo;\r\n    }\r\n\r\nI have a rest endpoint that lists all Bar objects. In that specific endpoint, I need to return `attribute`, which is a Foo attribute. Since that is not required inside the application business logic, it seemed unnecessary to add `attribute` to Bar as well. So I have a `BarWrapper` class, which is a custom format of Bar, to be returned by the endpoint:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class BarWrapper {\r\n        \r\n        private String attribute;\r\n    \r\n        public BarWrapper(final Bar bar) {\r\n            //The next line throws lazy initialization exception.\r\n            this.attribute = bar.getFoo().getAttribute()\r\n    \r\n    }\r\n\r\n I have tried `@Transactional` on all classes, and didn&#39;t work. I tried to add `cascade = CascadeType.ALL`, which did work, but is not a good practice. I have also tried creating a custom function just for this, but didn&#39;t help either:\r\n\r\n    @Transactional\r\n        private String extractAttribute(final Bar bar){\r\n            final Foo foo = bar.getFoo();\r\n            return foo.getAttribute();\r\n        }\r\n\r\nHow can I overcome this Lazy initialization exception?\r\n\r\n**EDIT:**\r\n\r\nThis is how I&#39;m calling the BarWrapper constructor:\r\n\r\n    @AllArgsConstructor\r\n    @Service\r\n    @Slf4j\r\n    public class BarApplicationServices {\r\n    \r\n    \r\n    private final FooService fooService;\r\n    private final BarService barService;\r\n    \r\n    \r\n    public BarWrapper createBar(final CreateBarRequestBody requestBody) {\r\n        final Foo foo = fooService.findFooToBeSettled(requestBody.getFooUuid());\r\n        final Bar createdBar = barService\r\n                .createBar(new Bar(foo));\r\n        return new BarWrapper(createdBar);\r\n    }\r\n    \r\n    \r\n    }","title":"LazyInitialization exception on ManyToOne relationship","body":"<p>I'm having a lazy initialization exception using spring. I know this is a common error and I've been through several stack questions, but none of the answers really did it for me. Here's my scenario: I have two classes that relate like such:</p>\n<pre><code>public class Foo implements Serializable {\n    @Id\n    @EqualsAndHashCode.Include\n    @Column(name = &quot;uuid&quot;)\n    private UUID uuid;\n\n    @Column(name = attribute)\n    private String attribute;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = foo)\n    private Set&lt;Bar&gt; bar;\n}\n\npublic class Bar implements Serializable {\n\n    @Id\n    @Column(name = &quot;uuid&quot;)\n    private UUID uuid;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = foo_uuid&quot;)\n    private Foo foo;\n}\n</code></pre>\n<p>I have a rest endpoint that lists all Bar objects. In that specific endpoint, I need to return <code>attribute</code>, which is a Foo attribute. Since that is not required inside the application business logic, it seemed unnecessary to add <code>attribute</code> to Bar as well. So I have a <code>BarWrapper</code> class, which is a custom format of Bar, to be returned by the endpoint:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class BarWrapper {\n    \n    private String attribute;\n\n    public BarWrapper(final Bar bar) {\n        //The next line throws lazy initialization exception.\n        this.attribute = bar.getFoo().getAttribute()\n\n}\n</code></pre>\n<p>I have tried <code>@Transactional</code> on all classes, and didn't work. I tried to add <code>cascade = CascadeType.ALL</code>, which did work, but is not a good practice. I have also tried creating a custom function just for this, but didn't help either:</p>\n<pre><code>@Transactional\n    private String extractAttribute(final Bar bar){\n        final Foo foo = bar.getFoo();\n        return foo.getAttribute();\n    }\n</code></pre>\n<p>How can I overcome this Lazy initialization exception?</p>\n<p><strong>EDIT:</strong></p>\n<p>This is how I'm calling the BarWrapper constructor:</p>\n<pre><code>@AllArgsConstructor\n@Service\n@Slf4j\npublic class BarApplicationServices {\n\n\nprivate final FooService fooService;\nprivate final BarService barService;\n\n\npublic BarWrapper createBar(final CreateBarRequestBody requestBody) {\n    final Foo foo = fooService.findFooToBeSettled(requestBody.getFooUuid());\n    final Bar createdBar = barService\n            .createBar(new Bar(foo));\n    return new BarWrapper(createdBar);\n}\n\n\n}\n</code></pre>\n"},{"tags":["java","user-interface","javafx","textfield"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1450752562,"post_id":34407694,"comment_id":56557157,"body_markdown":"Take a look at this Q/A: http://stackoverflow.com/questions/15159988/javafx-2-2-textfield-maxlength","body":"Take a look at this Q/A: <a href=\"http://stackoverflow.com/questions/15159988/javafx-2-2-textfield-maxlength\" title=\"javafx 2 2 textfield maxlength\">stackoverflow.com/questions/15159988/&hellip;</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1450753421,"post_id":34407694,"comment_id":56557346,"body_markdown":"Note that using a listener for key presses will fail if the user uses the mouse and context menu for copy-and-paste. The accepted answer in the linked question has flaws too; the other answers will work but are outdated as JavaFX 8 has an API specifically for this use case.","body":"Note that using a listener for key presses will fail if the user uses the mouse and context menu for copy-and-paste. The accepted answer in the linked question has flaws too; the other answers will work but are outdated as JavaFX 8 has an API specifically for this use case."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635947295,"creation_date":1450752900,"answer_id":34407766,"question_id":34407694,"body_markdown":"You can use a [`TextFormatter`](http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextFormatter.html) to do this. The `TextFormatter` can modify the changes that are made to the text in the text field if it has a filter associated with it. The filter is a function that takes a `TextFormatter.Change` object and returns an object of the same type. It can return `null` to veto the change entirely, or modify it.\r\n\r\nSo you can do\r\n\r\n    TextField textField = new TextField();\r\n    textField.setTextFormatter(new TextFormatter&lt;String&gt;((Change change) -&gt; {\r\n        String newText = change.getControlNewText();\r\n        if (newText.length() &gt; 1) {\r\n            return null ;\r\n        } else {\r\n            return change ;\r\n        }\r\n    });\r\n\r\nNote though that the `TextFormatter` can also be used to convert the text to a value of any type you like. In your case, it would make sense to convert the text to an `Integer`, and also to only allow integer input. As a final addition to the user experience, you can modify the change so that if the user types a digit, it replaces the current content (instead of ignoring it if there are too many characters). The whole thing would look like this:\r\n\r\n\r\n        TextField textField = new TextField();\r\n\r\n        // converter that converts text to Integers, and vice-versa:\r\n        StringConverter&lt;Integer&gt; stringConverter = new StringConverter&lt;Integer&gt;() {\r\n\r\n            @Override\r\n            public String toString(Integer object) {\r\n                if (object == null || object.intValue() == 0) {\r\n                    return &quot;&quot;;\r\n                }\r\n                return object.toString() ;\r\n            }\r\n\r\n            @Override\r\n            public Integer fromString(String string) {\r\n                if (string == null || string.isEmpty()) {\r\n                    return 0 ;\r\n                }\r\n                return Integer.parseInt(string);\r\n            }\r\n            \r\n        };\r\n        \r\n        // filter only allows digits, and ensures only one digit the text field:\r\n        UnaryOperator&lt;Change&gt; textFilter = c -&gt; {\r\n        \r\n            // if text is a single digit, replace current text with it:            \r\n            if (c.getText().matches(&quot;[1-9]&quot;)) {\r\n                c.setRange(0, textField.getText().length());\r\n                return c ;\r\n            } else \r\n            // if not adding any text (delete or selection change), accept as is    \r\n            if (c.getText().isEmpty()) {\r\n                return c ;\r\n            }\r\n            // otherwise veto change\r\n            return null ;\r\n        };\r\n        \r\n        TextFormatter&lt;Integer&gt; formatter = new TextFormatter&lt;Integer&gt;(stringConverter, 0, textFilter);\r\n        \r\n        formatter.valueProperty().addListener((obs, oldValue, newValue) -&gt; {\r\n            // whatever you need to do here when the actual value changes:\r\n            int old = oldValue.intValue();\r\n            int updated = newValue.intValue();\r\n            System.out.println(&quot;Value changed from &quot; + old + &quot; to &quot; + updated);\r\n        });\r\n        \r\n        textField.setTextFormatter(formatter);","title":"JavaFX TextField - Allow only one letter to be typed","body":"<p>You can use a <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextFormatter.html\" rel=\"nofollow noreferrer\"><code>TextFormatter</code></a> to do this. The <code>TextFormatter</code> can modify the changes that are made to the text in the text field if it has a filter associated with it. The filter is a function that takes a <code>TextFormatter.Change</code> object and returns an object of the same type. It can return <code>null</code> to veto the change entirely, or modify it.</p>\n<p>So you can do</p>\n<pre><code>TextField textField = new TextField();\ntextField.setTextFormatter(new TextFormatter&lt;String&gt;((Change change) -&gt; {\n    String newText = change.getControlNewText();\n    if (newText.length() &gt; 1) {\n        return null ;\n    } else {\n        return change ;\n    }\n});\n</code></pre>\n<p>Note though that the <code>TextFormatter</code> can also be used to convert the text to a value of any type you like. In your case, it would make sense to convert the text to an <code>Integer</code>, and also to only allow integer input. As a final addition to the user experience, you can modify the change so that if the user types a digit, it replaces the current content (instead of ignoring it if there are too many characters). The whole thing would look like this:</p>\n<pre><code>    TextField textField = new TextField();\n\n    // converter that converts text to Integers, and vice-versa:\n    StringConverter&lt;Integer&gt; stringConverter = new StringConverter&lt;Integer&gt;() {\n\n        @Override\n        public String toString(Integer object) {\n            if (object == null || object.intValue() == 0) {\n                return &quot;&quot;;\n            }\n            return object.toString() ;\n        }\n\n        @Override\n        public Integer fromString(String string) {\n            if (string == null || string.isEmpty()) {\n                return 0 ;\n            }\n            return Integer.parseInt(string);\n        }\n        \n    };\n    \n    // filter only allows digits, and ensures only one digit the text field:\n    UnaryOperator&lt;Change&gt; textFilter = c -&gt; {\n    \n        // if text is a single digit, replace current text with it:            \n        if (c.getText().matches(&quot;[1-9]&quot;)) {\n            c.setRange(0, textField.getText().length());\n            return c ;\n        } else \n        // if not adding any text (delete or selection change), accept as is    \n        if (c.getText().isEmpty()) {\n            return c ;\n        }\n        // otherwise veto change\n        return null ;\n    };\n    \n    TextFormatter&lt;Integer&gt; formatter = new TextFormatter&lt;Integer&gt;(stringConverter, 0, textFilter);\n    \n    formatter.valueProperty().addListener((obs, oldValue, newValue) -&gt; {\n        // whatever you need to do here when the actual value changes:\n        int old = oldValue.intValue();\n        int updated = newValue.intValue();\n        System.out.println(&quot;Value changed from &quot; + old + &quot; to &quot; + updated);\n    });\n    \n    textField.setTextFormatter(formatter);\n</code></pre>\n"}],"owner":{"account_id":6006523,"reputation":3456,"user_id":4718288,"accept_rate":79,"display_name":"Hatefiend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4034,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":34407766,"answer_count":1,"score":5,"last_activity_date":1635947295,"creation_date":1450752396,"question_id":34407694,"body_markdown":"I&#39;m trying to make a Sudoku game in JavaFX but I can&#39;t figure out how to only allow one letter to be entered. Would the answer to this to be to call the textfield and do: \r\n\r\n```java\r\nmyTextField.setOnKeyPressed(e -&gt;\r\n{\r\n    if (!myTextField.getText().length().isEmpty())\r\n    {\r\n        // Somehow reject the key press?\r\n    }\r\n}\r\n```\r\n\r\nThe above way won&#39;t work with copy pasting... or tons of other things, etc. Using key press listeners like this seems like an AWFUL idea. There must be something better? Is there a property of text fields to allow only certain characters to be inputted, or only allow certain number of characters to be inputted? \r\n\r\n\r\nThank you!","title":"JavaFX TextField - Allow only one letter to be typed","body":"<p>I'm trying to make a Sudoku game in JavaFX but I can't figure out how to only allow one letter to be entered. Would the answer to this to be to call the textfield and do: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>myTextField.setOnKeyPressed(e -&gt;\n{\n    if (!myTextField.getText().length().isEmpty())\n    {\n        // Somehow reject the key press?\n    }\n}\n</code></pre>\n\n<p>The above way won't work with copy pasting... or tons of other things, etc. Using key press listeners like this seems like an AWFUL idea. There must be something better? Is there a property of text fields to allow only certain characters to be inputted, or only allow certain number of characters to be inputted? </p>\n\n<p>Thank you!</p>\n"},{"tags":["java","arrays","sum"],"comments":[{"owner":{"account_id":5433912,"reputation":150,"user_id":5845010,"display_name":"Ravi"},"score":0,"creation_date":1635931162,"post_id":69822268,"comment_id":123420896,"body_markdown":"you can add few test input and outputs to understand better.","body":"you can add few test input and outputs to understand better."},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1635935734,"post_id":69822268,"comment_id":123422731,"body_markdown":"You would like to add elements of two arrays or lists right?\n\nFirst Array: 5-&gt;6-&gt;3  \nSecond Array: 8-&gt;4-&gt;2 \n\nResultant Array: 1-&gt;4-&gt;0-&gt;5\n\nSomething like this?","body":"You would like to add elements of two arrays or lists right?  First Array: 5-&gt;6-&gt;3   Second Array: 8-&gt;4-&gt;2   Resultant Array: 1-&gt;4-&gt;0-&gt;5  Something like this?"}],"answers":[{"tags":[],"owner":{"account_id":11799679,"reputation":523,"user_id":8633659,"display_name":"Romain Pr&#233;vost"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635931496,"creation_date":1635931496,"answer_id":69822413,"question_id":69822268,"body_markdown":"It should be \r\n\r\n    for (int i = 0; i &lt; lengthB; i++)\r\n\r\nWhen you use \r\n\r\n    for (arrayB[i] = 0; i &lt; lengthB; i++)\r\n\r\nYou set the first element of your array to 0, not the i index variable like you probably want to.\r\n\r\nAlso, you should do something like finding which array is larger, then using a variable like bigArray = arrayA, smallArray = arrayB. Then, you only have to write a single for Loop.","title":"Arrays-Java, sum of the elements in same positions with the array","body":"<p>It should be</p>\n<pre><code>for (int i = 0; i &lt; lengthB; i++)\n</code></pre>\n<p>When you use</p>\n<pre><code>for (arrayB[i] = 0; i &lt; lengthB; i++)\n</code></pre>\n<p>You set the first element of your array to 0, not the i index variable like you probably want to.</p>\n<p>Also, you should do something like finding which array is larger, then using a variable like bigArray = arrayA, smallArray = arrayB. Then, you only have to write a single for Loop.</p>\n"},{"tags":[],"owner":{"account_id":23215698,"reputation":16,"user_id":17308637,"display_name":"LuckyLakshoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635931978,"creation_date":1635931978,"answer_id":69822523,"question_id":69822268,"body_markdown":"Try to check the condition of the first For-Loop again. If you try to access an array at a position, which is larger than the array length you will get a java.lang.ArrayIndexOutOfBoundsException. I suggest you should try to Debug this Code if you have trouble to understand it.","title":"Arrays-Java, sum of the elements in same positions with the array","body":"<p>Try to check the condition of the first For-Loop again. If you try to access an array at a position, which is larger than the array length you will get a java.lang.ArrayIndexOutOfBoundsException. I suggest you should try to Debug this Code if you have trouble to understand it.</p>\n"},{"tags":[],"owner":{"account_id":22417177,"reputation":129,"user_id":16625057,"display_name":"Akash R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635947153,"creation_date":1635935164,"answer_id":69823239,"question_id":69822268,"body_markdown":"There are few corrections in your code. \r\n\r\n1. The index value used for iteration should start from 0.\r\n2.  `arrayB[i] = arrayA[i] + arrayB[i];`  \r\n`arrayA[i] = arrayA[i] + arrayB[i];`\r\n\r\nIn the above lines, there are chances that JVM can throw ArrayIndexOutOfBoundsException if the index value(i) exceeds the length of lengthA orlengthB. So it should be checked on every iteration. Once the index value exceeds the lengthA or lengthB, zero can used as default value to be added with arrayB[i]. So I have used ternary operator to check the index value on each iteration.\r\n3. And No need of else if block. As we are using only 2 arrays just if and else who be sufficient in your case.\r\n\r\nModified code: \r\n\r\n```\r\npublic class TwoArrays {\r\n    public static void main(String[] args) {\r\n        int[] arrayA = {1, 5, 2, 6, 8};\r\n        int[] arrayB = {4, 5, 7, 10, 7, 9, 7};\r\n        int lengthA = arrayA.length;\r\n        int lengthB = arrayB.length;\r\n\r\n        if (lengthA &lt; lengthB) {\r\n            for (int i = 0; i &lt; lengthB; i++) {\r\n            \tint temp = i &lt; lengthA ? arrayA[i] : 0; // used ternary operator here\r\n                arrayB[i] = arrayB[i] +  temp;   \r\n                System.out.println(arrayB[i]);\r\n            }\r\n\r\n        } else {\r\n            for (int i = 0; i &lt; lengthA; i++) {\r\n            \tint temp = i &lt; lengthB ? arrayB[i] : 0; // used ternary operator here\r\n                arrayA[i] = arrayA[i] + temp;   \r\n                System.out.println(arrayA[i]);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Arrays-Java, sum of the elements in same positions with the array","body":"<p>There are few corrections in your code.</p>\n<ol>\n<li>The index value used for iteration should start from 0.</li>\n<li><code>arrayB[i] = arrayA[i] + arrayB[i];</code><br />\n<code>arrayA[i] = arrayA[i] + arrayB[i];</code></li>\n</ol>\n<p>In the above lines, there are chances that JVM can throw ArrayIndexOutOfBoundsException if the index value(i) exceeds the length of lengthA orlengthB. So it should be checked on every iteration. Once the index value exceeds the lengthA or lengthB, zero can used as default value to be added with arrayB[i]. So I have used ternary operator to check the index value on each iteration.\n3. And No need of else if block. As we are using only 2 arrays just if and else who be sufficient in your case.</p>\n<p>Modified code:</p>\n<pre><code>public class TwoArrays {\n    public static void main(String[] args) {\n        int[] arrayA = {1, 5, 2, 6, 8};\n        int[] arrayB = {4, 5, 7, 10, 7, 9, 7};\n        int lengthA = arrayA.length;\n        int lengthB = arrayB.length;\n\n        if (lengthA &lt; lengthB) {\n            for (int i = 0; i &lt; lengthB; i++) {\n                int temp = i &lt; lengthA ? arrayA[i] : 0; // used ternary operator here\n                arrayB[i] = arrayB[i] +  temp;   \n                System.out.println(arrayB[i]);\n            }\n\n        } else {\n            for (int i = 0; i &lt; lengthA; i++) {\n                int temp = i &lt; lengthB ? arrayB[i] : 0; // used ternary operator here\n                arrayA[i] = arrayA[i] + temp;   \n                System.out.println(arrayA[i]);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635935486,"creation_date":1635935486,"answer_id":69823304,"question_id":69822268,"body_markdown":"A bigger array should be selected (or the last one) and the elements should be added until the end of the shorter array.\r\n```java\r\npublic static int[] joinArrays(int[] a, int[] b) {\r\n    int[] shorter, bigger;\r\n    if (b.length &lt; a.length) {\r\n        shorter = b;\r\n        bigger = a;\r\n    } else {\r\n        shorter = a;\r\n        bigger = b;\r\n    }\r\n    for (int i = 0; i &lt; shorter.length; i++) {\r\n        bigger[i] += shorter[i];\r\n    }\r\n    return bigger;\r\n}\r\n```\r\nTest:\r\n```\r\nint[] arrayA = {1, 5, 2, 6, 8};\r\nint[] arrayB = {4, 5, 7, 10, 7, 9, 7};\r\nSystem.out.println(Arrays.toString(joinArrays(\r\n    new int[]{1, 5, 2,  6, 8}, \r\n    new int[]{4, 5, 7, 10, 7, 9, 7}\r\n)));\r\n```\r\nOutput:\r\n```\r\n[5, 10, 9, 16, 15, 9, 7]\r\n```","title":"Arrays-Java, sum of the elements in same positions with the array","body":"<p>A bigger array should be selected (or the last one) and the elements should be added until the end of the shorter array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] joinArrays(int[] a, int[] b) {\n    int[] shorter, bigger;\n    if (b.length &lt; a.length) {\n        shorter = b;\n        bigger = a;\n    } else {\n        shorter = a;\n        bigger = b;\n    }\n    for (int i = 0; i &lt; shorter.length; i++) {\n        bigger[i] += shorter[i];\n    }\n    return bigger;\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>int[] arrayA = {1, 5, 2, 6, 8};\nint[] arrayB = {4, 5, 7, 10, 7, 9, 7};\nSystem.out.println(Arrays.toString(joinArrays(\n    new int[]{1, 5, 2,  6, 8}, \n    new int[]{4, 5, 7, 10, 7, 9, 7}\n)));\n</code></pre>\n<p>Output:</p>\n<pre><code>[5, 10, 9, 16, 15, 9, 7]\n</code></pre>\n"}],"owner":{"account_id":23103652,"reputation":5,"user_id":17212689,"display_name":"sylvtronix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69823239,"answer_count":4,"score":0,"last_activity_date":1635947153,"creation_date":1635930780,"question_id":69822268,"body_markdown":"I have an exercise and find out what went wrong. I will be grateful for help :) \r\n\r\nWrite the code that will have two arrays of type int and the return array greater (if one of the two arrays is greater) and the sum of the elements in same positions with the array.\r\n\r\n    public class TwoArrays {\r\n        public static void main(String[] args) {\r\n            int[] arrayA = {1, 5, 2, 6, 8};\r\n            int[] arrayB = {4, 5, 7, 10, 7, 9, 7};\r\n            int lengthA = arrayA.length;\r\n            int lengthB = arrayB.length;\r\n            int i=0;\r\n            if (lengthA &lt; lengthB) {\r\n                for (arrayB[i] = 0; i &lt; lengthB; i++) {\r\n                    arrayB[i] = arrayA[i] + arrayB[i];\r\n                    System.out.println(arrayB[i]);\r\n                }\r\n    \r\n            } else if (lengthA &gt; lengthB) {\r\n                for (arrayA[i] = 0; i &lt; lengthA; i++) {\r\n                    arrayA[i] = arrayA[i] + arrayB[i];\r\n                    System.out.println(arrayA[i]);\r\n                }\r\n    \r\n            } else {\r\n                for (arrayB[i] = 0; i &lt; lengthB; i++) {\r\n                    arrayB[i] = arrayA[i] + arrayB[i];\r\n                    System.out.println(arrayB[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Arrays-Java, sum of the elements in same positions with the array","body":"<p>I have an exercise and find out what went wrong. I will be grateful for help :)</p>\n<p>Write the code that will have two arrays of type int and the return array greater (if one of the two arrays is greater) and the sum of the elements in same positions with the array.</p>\n<pre><code>public class TwoArrays {\n    public static void main(String[] args) {\n        int[] arrayA = {1, 5, 2, 6, 8};\n        int[] arrayB = {4, 5, 7, 10, 7, 9, 7};\n        int lengthA = arrayA.length;\n        int lengthB = arrayB.length;\n        int i=0;\n        if (lengthA &lt; lengthB) {\n            for (arrayB[i] = 0; i &lt; lengthB; i++) {\n                arrayB[i] = arrayA[i] + arrayB[i];\n                System.out.println(arrayB[i]);\n            }\n\n        } else if (lengthA &gt; lengthB) {\n            for (arrayA[i] = 0; i &lt; lengthA; i++) {\n                arrayA[i] = arrayA[i] + arrayB[i];\n                System.out.println(arrayA[i]);\n            }\n\n        } else {\n            for (arrayB[i] = 0; i &lt; lengthB; i++) {\n                arrayB[i] = arrayA[i] + arrayB[i];\n                System.out.println(arrayB[i]);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","java-11","nashorn"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1635864642,"post_id":69812339,"comment_id":123402928,"body_markdown":"(note that Nashorn is deprecated and got removed in Java 15)","body":"(note that Nashorn is deprecated and got removed in Java 15)"}],"answers":[{"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635947139,"creation_date":1635947139,"answer_id":69825990,"question_id":69812339,"body_markdown":"This sounds like it could be the [JDK-8261926][1] bug. The good news is that this is fixed, but only in the [standalone Nashorn][2], not the one integrated into Java 11. There&#39;s also a [page][3] describing how you can ensure that standalone Nashorn is used by your program instead of the integrated one on Java 11.\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8261926\r\n  [2]: https://github.com/openjdk/nashorn\r\n  [3]: https://github.com/szegedi/nashorn/wiki/Using-Nashorn-with-different-Java-versions","title":"JS script doesn&#39;t run with Java 11 but works with Java 8","body":"<p>This sounds like it could be the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8261926\" rel=\"nofollow noreferrer\">JDK-8261926</a> bug. The good news is that this is fixed, but only in the <a href=\"https://github.com/openjdk/nashorn\" rel=\"nofollow noreferrer\">standalone Nashorn</a>, not the one integrated into Java 11. There's also a <a href=\"https://github.com/szegedi/nashorn/wiki/Using-Nashorn-with-different-Java-versions\" rel=\"nofollow noreferrer\">page</a> describing how you can ensure that standalone Nashorn is used by your program instead of the integrated one on Java 11.</p>\n"}],"owner":{"account_id":1382967,"reputation":1730,"user_id":1315599,"accept_rate":56,"display_name":"yu.pitomets"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69825990,"answer_count":1,"score":0,"last_activity_date":1635947139,"creation_date":1635864408,"question_id":69812339,"body_markdown":"I have a JS script that works fine when run using JDK 8, but fails with the error on Java 11.\r\n\r\nThe error is:\r\n\r\n     unknown call type GET:PROPERTY|ELEMENT|METHOD:NODE_PATH(Object)int@jdk.nashorn.internal.scripts.Script$Recompilation$20$11678$\\^eval\\_\r\n     \r\n\r\nJava Code:\r\n  \r\n```java\r\nScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\r\nengine.eval(evalCode);\r\nInvocable invocable = (Invocable) engine;\r\ninvocable.invokeFunction(&quot;__toCall&quot;);   \r\n```\r\n\r\nJavascript code:\r\n\r\n```js\r\nfunction __toCall() {\r\n    return require(&#39;./src/main/resources/ontology/nashorn-invoker&#39;)(\r\n        function (require) {\r\n            print(&#39;in nashornInvoker: require=&#39; + require);\r\n            var Text = function Text() {\r\n                StringLeaf.call(this);\r\n            };\r\n            Text.prototype.ontologyType = function () {\r\n                return &#39;cmd.ontology.types.Text&#39;;\r\n            };\r\n\r\n            var BasicTest = function BasicTest() {\r\n                var _field = new Text();\r\n                _field._fieldName = &#39;field&#39;;\r\n                _field._name = &#39;Field&#39;;\r\n                _field._defaultValue = &#39;&#39;;\r\n\r\n                var curNode = this;\r\n                Structure.call(this, {\r\n                    field: _field\r\n                });\r\n            };\r\n            BasicTest.prototype.ontologyType = function () {\r\n                return &#39;cmd.ontology.test.BasicTest&#39;;\r\n            };\r\n            BasicTest.prototype._name = &#39;Basic Test&#39;;\r\n            return (function () {\r\n                var model = [];\r\n                var callbackFn = function (result) {\r\n                    if (result !== true) model.push.apply(model, result);\r\n                };\r\n                test.child(&#39;field&#39;).validate(vc, callbackFn);\r\n                var result = model.length === 0 ? true : model;\r\n                print(&#39;Callback function result: &#39; + JSON.stringify(result));\r\n                return result;\r\n            })();\r\n        }\r\n    );\r\n     }","title":"JS script doesn&#39;t run with Java 11 but works with Java 8","body":"<p>I have a JS script that works fine when run using JDK 8, but fails with the error on Java 11.</p>\n<p>The error is:</p>\n<pre><code> unknown call type GET:PROPERTY|ELEMENT|METHOD:NODE_PATH(Object)int@jdk.nashorn.internal.scripts.Script$Recompilation$20$11678$\\^eval\\_\n \n</code></pre>\n<p>Java Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\nengine.eval(evalCode);\nInvocable invocable = (Invocable) engine;\ninvocable.invokeFunction(&quot;__toCall&quot;);   \n</code></pre>\n<p>Javascript code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function __toCall() {\n    return require('./src/main/resources/ontology/nashorn-invoker')(\n        function (require) {\n            print('in nashornInvoker: require=' + require);\n            var Text = function Text() {\n                StringLeaf.call(this);\n            };\n            Text.prototype.ontologyType = function () {\n                return 'cmd.ontology.types.Text';\n            };\n\n            var BasicTest = function BasicTest() {\n                var _field = new Text();\n                _field._fieldName = 'field';\n                _field._name = 'Field';\n                _field._defaultValue = '';\n\n                var curNode = this;\n                Structure.call(this, {\n                    field: _field\n                });\n            };\n            BasicTest.prototype.ontologyType = function () {\n                return 'cmd.ontology.test.BasicTest';\n            };\n            BasicTest.prototype._name = 'Basic Test';\n            return (function () {\n                var model = [];\n                var callbackFn = function (result) {\n                    if (result !== true) model.push.apply(model, result);\n                };\n                test.child('field').validate(vc, callbackFn);\n                var result = model.length === 0 ? true : model;\n                print('Callback function result: ' + JSON.stringify(result));\n                return result;\n            })();\n        }\n    );\n     }\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":3005582,"reputation":145,"user_id":2550183,"accept_rate":20,"display_name":"RDD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635946775,"creation_date":1633347861,"answer_id":69435433,"question_id":69434961,"body_markdown":"Can you try\r\n\r\n    @Mapping(source = &quot;oneFrom&quot;, target = &quot;items&quot;, qualifiedByName = &quot;oneFromToList&quot;)\r\n    Header headerFromToHeader(HeaderFrom headerFrom);\r\n\r\n\r\nIn the same mapper class add a method\r\n\r\n    @Named(&quot;oneFromToList&quot;)\r\n    public static String oneFromToList(List&lt;&gt; input) {\r\n        // logic to map Item.oneTo = HeaderFrom.oneFrom\r\n    }","title":"MapStruct map parent field to child array of objects","body":"<p>Can you try</p>\n<pre><code>@Mapping(source = &quot;oneFrom&quot;, target = &quot;items&quot;, qualifiedByName = &quot;oneFromToList&quot;)\nHeader headerFromToHeader(HeaderFrom headerFrom);\n</code></pre>\n<p>In the same mapper class add a method</p>\n<pre><code>@Named(&quot;oneFromToList&quot;)\npublic static String oneFromToList(List&lt;&gt; input) {\n    // logic to map Item.oneTo = HeaderFrom.oneFrom\n}\n</code></pre>\n"}],"owner":{"account_id":5907685,"reputation":543,"user_id":4648867,"accept_rate":67,"display_name":"Hasith Magage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635946775,"creation_date":1633345698,"question_id":69434961,"body_markdown":"```\r\nclass Item {\r\n    String oneTo\r\n}\r\n\r\nclass Header {\r\n    String twoTo;\r\n\tList &lt;Item&gt; items;\r\n}\r\n\r\n\r\nclass HeaderFrom {\r\n\tString oneFrom;\r\n    String twoFrom;\r\n}\r\n```\r\nIn the above example, I need to map the following scenarios using MapStruct. What is the best way to get this done?\r\n\r\n`oneFrom -&gt; all the oneTo fields in the list`\r\n\r\n`twoFrom -&gt; twoTo`\r\n\r\nThank you.","title":"MapStruct map parent field to child array of objects","body":"<pre><code>class Item {\n    String oneTo\n}\n\nclass Header {\n    String twoTo;\n    List &lt;Item&gt; items;\n}\n\n\nclass HeaderFrom {\n    String oneFrom;\n    String twoFrom;\n}\n</code></pre>\n<p>In the above example, I need to map the following scenarios using MapStruct. What is the best way to get this done?</p>\n<p><code>oneFrom -&gt; all the oneTo fields in the list</code></p>\n<p><code>twoFrom -&gt; twoTo</code></p>\n<p>Thank you.</p>\n"},{"tags":["java","enums","combinations"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":1,"creation_date":1634833104,"post_id":69665330,"comment_id":123138964,"body_markdown":"What you have is a circular relationship. Rock beats Scissors beats Paper beats Rock, etc... So model it as a circle. If you hold an item it will win against the next one clockwise and lose against the one counter-clockwise. If you go to more choices the question is if the rules are the same or not ?","body":"What you have is a circular relationship. Rock beats Scissors beats Paper beats Rock, etc... So model it as a circle. If you hold an item it will win against the next one clockwise and lose against the one counter-clockwise. If you go to more choices the question is if the rules are the same or not ?"},{"owner":{"account_id":16089359,"reputation":429,"user_id":11613186,"display_name":"Timo"},"score":0,"creation_date":1634834222,"post_id":69665330,"comment_id":123139462,"body_markdown":"@RomainHippeau unfortunately if using 4 or more choices you do not have that circular relationship. I have updated the initial question, thanks!","body":"@RomainHippeau unfortunately if using 4 or more choices you do not have that circular relationship. I have updated the initial question, thanks!"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":1,"creation_date":1634834573,"post_id":69665330,"comment_id":123139619,"body_markdown":"look at the pattern, you have your circular relationship and you also have the relationship where it beats n - 2","body":"look at the pattern, you have your circular relationship and you also have the relationship where it beats n - 2"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1634834937,"post_id":69665330,"comment_id":123139761,"body_markdown":"What happens if you have 4 or 6 or more ?","body":"What happens if you have 4 or 6 or more ?"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":1,"creation_date":1634835157,"post_id":69665330,"comment_id":123139848,"body_markdown":"The solutions below will work, if you are looking for a generic solution you will need to understand the pattern and come up with an algorithm to calculate.","body":"The solutions below will work, if you are looking for a generic solution you will need to understand the pattern and come up with an algorithm to calculate."}],"answers":[{"tags":[],"owner":{"account_id":4501201,"reputation":4375,"user_id":3659670,"display_name":"Conffusion"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634834673,"creation_date":1634834673,"answer_id":69665807,"question_id":69665330,"body_markdown":"Something like this might work:\r\n\r\n\timport java.util.Arrays;\r\n\timport java.util.List;\r\n\t\r\n\tpublic class SymbolGame {\r\n\t\r\n\t\tpublic enum Result {\r\n\t\t\tWIN,TIE,LOOSE;\r\n\t\t}\r\n\t\tpublic enum Symbol {\r\n\t\t\tROCK,\r\n\t\t\tPAPER,\r\n\t\t\tSCISSORS;\r\n\t\t\tList&lt;Symbol&gt; winsFrom;\r\n\t\r\n\t\t\tpublic void setWinsFrom(Symbol... winsFrom) {\r\n\t\t\t\tthis.winsFrom = Arrays.asList(winsFrom);\r\n\t\t\t}\r\n\t\t\tpublic Result calculate(Symbol other) {\r\n\t\t\t\tif(this==other)\r\n\t\t\t\t\treturn Result.TIE;\r\n\t\t\t\tif (getWinsFrom().contains(other))\r\n\t\t\t\t\treturn Result.WIN;\r\n\t\t\t\treturn Result.LOOSE;\r\n\t\t\t}\r\n\t\t}\r\n        // somewhere you need to define the rules\r\n\t\tstatic {\r\n\t\t\tSymbol.ROCK.setWinsFrom(Symbol.SCISSORS);\r\n\t\t\tSymbol.PAPER.setWinsFrom(Symbol.ROCK);\r\n\t\t\tSymbol.SCISSORS.setWinsFrom(Symbol.PAPER);\r\n\t\t}\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(&quot;ROCK against PAPER:&quot;+Symbol.ROCK.calculate(Symbol.PAPER));\r\n\t\t\tSystem.out.println(&quot;PAPER against ROCK:&quot;+Symbol.PAPER.calculate(Symbol.ROCK));\r\n\t\t\tSystem.out.println(&quot;ROCK against ROCK:&quot;+Symbol.ROCK.calculate(Symbol.ROCK));\r\n\t\t}\r\n\t}\r\n","title":"Java store combinations of enums with result","body":"<p>Something like this might work:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic class SymbolGame {\n\n    public enum Result {\n        WIN,TIE,LOOSE;\n    }\n    public enum Symbol {\n        ROCK,\n        PAPER,\n        SCISSORS;\n        List&lt;Symbol&gt; winsFrom;\n\n        public void setWinsFrom(Symbol... winsFrom) {\n            this.winsFrom = Arrays.asList(winsFrom);\n        }\n        public Result calculate(Symbol other) {\n            if(this==other)\n                return Result.TIE;\n            if (getWinsFrom().contains(other))\n                return Result.WIN;\n            return Result.LOOSE;\n        }\n    }\n    // somewhere you need to define the rules\n    static {\n        Symbol.ROCK.setWinsFrom(Symbol.SCISSORS);\n        Symbol.PAPER.setWinsFrom(Symbol.ROCK);\n        Symbol.SCISSORS.setWinsFrom(Symbol.PAPER);\n    }\n    public static void main(String[] args) {\n        System.out.println(&quot;ROCK against PAPER:&quot;+Symbol.ROCK.calculate(Symbol.PAPER));\n        System.out.println(&quot;PAPER against ROCK:&quot;+Symbol.PAPER.calculate(Symbol.ROCK));\n        System.out.println(&quot;ROCK against ROCK:&quot;+Symbol.ROCK.calculate(Symbol.ROCK));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9096833,"reputation":598,"user_id":6770517,"display_name":"Hydes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634834943,"creation_date":1634834943,"answer_id":69665880,"question_id":69665330,"body_markdown":"Something like this could help\r\n\r\n```java\r\npublic enum Symbol {\r\n\tROCK,\r\n\tSCISSORS,\r\n\tPAPER;\r\n\r\n  private List&lt;Symbol&gt; beats;\r\n\r\n  static {\r\n    ROCK.beats = Arrays.asList(SCISSORS);\r\n    SCISSORS.beats = Arrays.asList(PAPER);\r\n    PAPER.beats = Arrays.asList(ROCK);\r\n  }\r\n\t\r\n\tpublic Result calculateResult(Symbol hand2) {\r\n\r\n\t\tif (this.beats.contains(hand2)) return Result.WIN;\r\n        if (hand2.beats.contains(this)) return Result.LOOSE;\r\n        return Result.TIE;\r\n\t}\r\n}\r\n```","title":"Java store combinations of enums with result","body":"<p>Something like this could help</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Symbol {\n    ROCK,\n    SCISSORS,\n    PAPER;\n\n  private List&lt;Symbol&gt; beats;\n\n  static {\n    ROCK.beats = Arrays.asList(SCISSORS);\n    SCISSORS.beats = Arrays.asList(PAPER);\n    PAPER.beats = Arrays.asList(ROCK);\n  }\n    \n    public Result calculateResult(Symbol hand2) {\n\n        if (this.beats.contains(hand2)) return Result.WIN;\n        if (hand2.beats.contains(this)) return Result.LOOSE;\n        return Result.TIE;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634905723,"creation_date":1634890972,"answer_id":69673641,"question_id":69665330,"body_markdown":"Enums have an ordinal associated with each value, so that makes a natural way to index into a 2-dimensional array. This is also nice because it is quite similar to how you might write down all the possibilities on a piece of paper. It&#39;s easy to extend by simply adding more columns and rows:\r\n\r\n    // @formatter:off\r\n    private static final Result[][] RESULTS = {\r\n        // v versus &gt;    ROCK  PAPER SCISSORS\r\n        /* ROCK.    */ { TIE,  LOSE, WIN  },\r\n        /* PAPER    */ { WIN,  TIE,  LOSE },\r\n        /* SCISSORS */ { LOSE, WIN,  TIE  },\r\n        }\r\n    // @formatter:on\r\n\r\n    public Result calculateResult(Symbol hand1, Symbol hand2) {\r\n        return RESULTS[hand1.ordinal()][hand2.ordinal()]\r\n    }\r\n\r\nMany IDEs support the `@formatter:on/off` comment to stop them reformatting your table.\r\n\r\n**IMPORTANT**: Effective Java and the Java API itself say not to use `ordinal()` because of the dangers of future changes (reording, inserting new values) causing subtle bugs. It is true here, too: if you just change the enum to be `ROCK,SCISSORS,PAPER`, then this table form will fail. At the very least, put this code inside `Symbol` so it&#39;s clear that it needs updating, and write good unit tests.","title":"Java store combinations of enums with result","body":"<p>Enums have an ordinal associated with each value, so that makes a natural way to index into a 2-dimensional array. This is also nice because it is quite similar to how you might write down all the possibilities on a piece of paper. It's easy to extend by simply adding more columns and rows:</p>\n<pre><code>// @formatter:off\nprivate static final Result[][] RESULTS = {\n    // v versus &gt;    ROCK  PAPER SCISSORS\n    /* ROCK.    */ { TIE,  LOSE, WIN  },\n    /* PAPER    */ { WIN,  TIE,  LOSE },\n    /* SCISSORS */ { LOSE, WIN,  TIE  },\n    }\n// @formatter:on\n\npublic Result calculateResult(Symbol hand1, Symbol hand2) {\n    return RESULTS[hand1.ordinal()][hand2.ordinal()]\n}\n</code></pre>\n<p>Many IDEs support the <code>@formatter:on/off</code> comment to stop them reformatting your table.</p>\n<p><strong>IMPORTANT</strong>: Effective Java and the Java API itself say not to use <code>ordinal()</code> because of the dangers of future changes (reording, inserting new values) causing subtle bugs. It is true here, too: if you just change the enum to be <code>ROCK,SCISSORS,PAPER</code>, then this table form will fail. At the very least, put this code inside <code>Symbol</code> so it's clear that it needs updating, and write good unit tests.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635412331,"creation_date":1634909141,"answer_id":69677718,"question_id":69665330,"body_markdown":"I would propose the following:\r\n\r\n```java\r\nenum Symbol {\r\n    ROCK,\r\n    PAPER,\r\n    SCISSORS;\r\n\r\n    private static final Map&lt;Symbol, Symbol&gt; ASSOCIATIONS = Map.of(\r\n        ROCK, SCISSORS,\r\n        SCISSORS, PAPER,\r\n        PAPER, ROCK\r\n    );\r\n\r\n    public Result against(Symbol other) {\r\n        if (ASSOCIATIONS.get(this) == other) {\r\n            return Result.WIN;\r\n        }\r\n        else if (ASSOCIATIONS.get(other) == this) {\r\n            return Result.LOSE;\r\n        }\r\n        else {\r\n            return Result.TIE;\r\n        }\r\n    }\r\n}\r\n\r\nenum Result {\r\n    WIN, LOSE, TIE;\r\n}\r\n```\r\n\r\nWhat happens here, is that we put all associations into a map. The key associated to the value means that the key *wins* from the value.\r\n\r\nSo the `against` method needs to do this:\r\n\r\n* Lookup `this` within the map, and of the contained value is `other`, then it&#39;s a win.\r\n* The other way around, lookup `other` within the map, and if the contained value is `this`, then it&#39;s a loss.\r\n* Otherwise, it&#39;s a tie.\r\n\r\nThis also works with more than three symbols. Just map a *key* to a *value*, in order to define that *key* wins from *value*.\r\n\r\n[&lt;kbd&gt;Online demo&lt;/kbd&gt;][1]\r\n\r\n[1]: https://ideone.com/ucVU9t","title":"Java store combinations of enums with result","body":"<p>I would propose the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Symbol {\n    ROCK,\n    PAPER,\n    SCISSORS;\n\n    private static final Map&lt;Symbol, Symbol&gt; ASSOCIATIONS = Map.of(\n        ROCK, SCISSORS,\n        SCISSORS, PAPER,\n        PAPER, ROCK\n    );\n\n    public Result against(Symbol other) {\n        if (ASSOCIATIONS.get(this) == other) {\n            return Result.WIN;\n        }\n        else if (ASSOCIATIONS.get(other) == this) {\n            return Result.LOSE;\n        }\n        else {\n            return Result.TIE;\n        }\n    }\n}\n\nenum Result {\n    WIN, LOSE, TIE;\n}\n</code></pre>\n<p>What happens here, is that we put all associations into a map. The key associated to the value means that the key <em>wins</em> from the value.</p>\n<p>So the <code>against</code> method needs to do this:</p>\n<ul>\n<li>Lookup <code>this</code> within the map, and of the contained value is <code>other</code>, then it's a win.</li>\n<li>The other way around, lookup <code>other</code> within the map, and if the contained value is <code>this</code>, then it's a loss.</li>\n<li>Otherwise, it's a tie.</li>\n</ul>\n<p>This also works with more than three symbols. Just map a <em>key</em> to a <em>value</em>, in order to define that <em>key</em> wins from <em>value</em>.</p>\n<p><a href=\"https://ideone.com/ucVU9t\" rel=\"nofollow noreferrer\"><kbd>Online demo</kbd></a></p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634935730,"creation_date":1634933351,"answer_id":69682569,"question_id":69665330,"body_markdown":"Enums can have properties, you can keep a list of who a `Symbol` loses to.\r\n\r\n\r\n    \tROCK(&quot;SCISSORS&quot;, &quot;LIZZARD&quot;)\r\n\r\nAnd then just check if a given symbol is in the list \r\n\r\n\r\n\tpublic Result calculateResult(Symbol hand2) {\r\n      return this == hand2 \r\n        ? Result.TIE\r\n        : beats.contains(hand2.toString()) ? Result.WIN : Result.LOOSE;\r\n    }\r\n\r\n\r\nFull running program below: \r\n\r\n\r\n    import java.util.*;\r\n    enum Result {\r\n      WIN,\r\n      TIE,\r\n      LOOSE;\r\n    }\r\n    \r\n    enum Symbol {\r\n    \r\n      ROCK(&quot;SCISSORS&quot;, &quot;LIZZARD&quot;),\r\n      SCISSORS(&quot;PAPER&quot;, &quot;LIZZARD&quot;),\r\n      PAPER(&quot;ROCK&quot;, &quot;SPOCK&quot;),\r\n      SPOCK(&quot;SCISSORS&quot;, &quot;ROCK&quot;),\r\n      LIZZARD(&quot;SPOCK&quot;, &quot;PAPER&quot;);\r\n    \r\n    \r\n      private List&lt;String&gt; beats;\r\n      \r\n      Symbol(String ... beats) {\r\n        this.beats = Arrays.asList(beats);\r\n      }\r\n    \t\r\n      public Result calculateResult(Symbol hand2) {\r\n        return this == hand2 \r\n          ? Result.TIE\r\n          : beats.contains(hand2.toString()) ? Result.WIN : Result.LOOSE;\r\n      }\r\n    }\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        var random = new Random();\r\n        var values = Symbol.values();\r\n        Symbol one = values[random.nextInt(values.length)];\r\n        Symbol two = values[random.nextInt(values.length)];\r\n        System.out.printf(&quot;%s vs %s  = %s%n&quot;, one, two, one.calculateResult(two));\r\n    \r\n      }\r\n    }\r\n\r\n\r\nYou may notice I&#39;m using the string value in the constructor, this is because apparently I cannot define a forward definition: \r\n\r\n\r\n    ROCK(SCISSORS,LIZZARD)\r\n\r\nWhile in general is not recommended to stringify your types, I think this is a very valid case. The strings are not exposed publicly and the users of the enum will not be aware of them\r\n\r\n\r\n    Result r = Symbol.ROCK.calculateResult(Symbol.PAPER);","title":"Java store combinations of enums with result","body":"<p>Enums can have properties, you can keep a list of who a <code>Symbol</code> loses to.</p>\n<pre><code>    ROCK(&quot;SCISSORS&quot;, &quot;LIZZARD&quot;)\n</code></pre>\n<p>And then just check if a given symbol is in the list</p>\n<pre><code>public Result calculateResult(Symbol hand2) {\n  return this == hand2 \n    ? Result.TIE\n    : beats.contains(hand2.toString()) ? Result.WIN : Result.LOOSE;\n}\n</code></pre>\n<p>Full running program below:</p>\n<pre><code>import java.util.*;\nenum Result {\n  WIN,\n  TIE,\n  LOOSE;\n}\n\nenum Symbol {\n\n  ROCK(&quot;SCISSORS&quot;, &quot;LIZZARD&quot;),\n  SCISSORS(&quot;PAPER&quot;, &quot;LIZZARD&quot;),\n  PAPER(&quot;ROCK&quot;, &quot;SPOCK&quot;),\n  SPOCK(&quot;SCISSORS&quot;, &quot;ROCK&quot;),\n  LIZZARD(&quot;SPOCK&quot;, &quot;PAPER&quot;);\n\n\n  private List&lt;String&gt; beats;\n  \n  Symbol(String ... beats) {\n    this.beats = Arrays.asList(beats);\n  }\n    \n  public Result calculateResult(Symbol hand2) {\n    return this == hand2 \n      ? Result.TIE\n      : beats.contains(hand2.toString()) ? Result.WIN : Result.LOOSE;\n  }\n}\nclass Main {\n  public static void main(String[] args) {\n    var random = new Random();\n    var values = Symbol.values();\n    Symbol one = values[random.nextInt(values.length)];\n    Symbol two = values[random.nextInt(values.length)];\n    System.out.printf(&quot;%s vs %s  = %s%n&quot;, one, two, one.calculateResult(two));\n\n  }\n}\n</code></pre>\n<p>You may notice I'm using the string value in the constructor, this is because apparently I cannot define a forward definition:</p>\n<pre><code>ROCK(SCISSORS,LIZZARD)\n</code></pre>\n<p>While in general is not recommended to stringify your types, I think this is a very valid case. The strings are not exposed publicly and the users of the enum will not be aware of them</p>\n<pre><code>Result r = Symbol.ROCK.calculateResult(Symbol.PAPER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635946749,"creation_date":1635946749,"answer_id":69825893,"question_id":69665330,"body_markdown":"An ideal solution would be to have each element know which other elements it is able to defeat. However, you can&#39;t always pass enum values in each other&#39;s constructors because when one enum is being constructed, the other enums might not yet be initialised. Here are some workarounds:\r\n\r\nYou can define an abstract method that will return all the symbols that each symbol will beat, then define a concrete implementation for each symbol:\r\n\r\n    enum Symbol {\r\n        ROCK {\r\n            protected Set&lt;Symbol&gt; beats() {\r\n                return EnumSet.of(SCISSORS);\r\n            }\r\n        },\r\n        PAPER {\r\n            protected Set&lt;Symbol&gt; beats() {\r\n                return EnumSet.of(ROCK);\r\n            }\r\n        },\r\n        SCISSORS {\r\n            protected Set&lt;Symbol&gt; beats() {\r\n                return EnumSet.of(PAPER);\r\n            }\r\n        },\r\n        LASER {\r\n            protected Symbol[] beats() {\r\n                return EnumSet.of(ROCK, PAPER, SCISSORS);\r\n            }\r\n        };\r\n\r\n        protected abstract Symbol[] beats();\r\n\r\n        public Result calculateResult(Symbol hand2) {\r\n            if (this.beats().contains(hand2)) {\r\n                return WIN;\r\n            } else if (hand2.beats().contains(this)) {\r\n                return LOSE;\r\n            } else {\r\n                return TIE;\r\n            }\r\n        }\r\n\r\nYou could extract each of those sets as a constant, if creating the sets each time is an proven performance issue.\r\n\r\nAlternatively, you could initialise each symbol with the symbols it can defeat with a static initialiser:\r\n\r\n    enum Symbol {\r\n        ROCK,\r\n        PAPER,\r\n        SCISSORS,\r\n        LASER;\r\n\r\n        static {\r\n            ROCK.beats = EnumSet.of(SCISSORS);\r\n            PAPER.beats = EnumSet.of(ROCK);\r\n            SCISSORS.beats = EnumSet.of(ROCK);\r\n            LASER.beats = EnumSet.of(ROCK, PAPER, SCISSORS);\r\n        }\r\n\r\n        private Set&lt;Symbol&gt; beats;\r\n\r\n        public Result calculateResult(Symbol hand2) {\r\n            if (this.beats.contains(hand2)) {\r\n                return WIN;\r\n            } else if (hand2.beats.contains(this)) {\r\n                return LOSE;\r\n            } else {\r\n                return TIE;\r\n            }\r\n        }","title":"Java store combinations of enums with result","body":"<p>An ideal solution would be to have each element know which other elements it is able to defeat. However, you can't always pass enum values in each other's constructors because when one enum is being constructed, the other enums might not yet be initialised. Here are some workarounds:</p>\n<p>You can define an abstract method that will return all the symbols that each symbol will beat, then define a concrete implementation for each symbol:</p>\n<pre><code>enum Symbol {\n    ROCK {\n        protected Set&lt;Symbol&gt; beats() {\n            return EnumSet.of(SCISSORS);\n        }\n    },\n    PAPER {\n        protected Set&lt;Symbol&gt; beats() {\n            return EnumSet.of(ROCK);\n        }\n    },\n    SCISSORS {\n        protected Set&lt;Symbol&gt; beats() {\n            return EnumSet.of(PAPER);\n        }\n    },\n    LASER {\n        protected Symbol[] beats() {\n            return EnumSet.of(ROCK, PAPER, SCISSORS);\n        }\n    };\n\n    protected abstract Symbol[] beats();\n\n    public Result calculateResult(Symbol hand2) {\n        if (this.beats().contains(hand2)) {\n            return WIN;\n        } else if (hand2.beats().contains(this)) {\n            return LOSE;\n        } else {\n            return TIE;\n        }\n    }\n</code></pre>\n<p>You could extract each of those sets as a constant, if creating the sets each time is an proven performance issue.</p>\n<p>Alternatively, you could initialise each symbol with the symbols it can defeat with a static initialiser:</p>\n<pre><code>enum Symbol {\n    ROCK,\n    PAPER,\n    SCISSORS,\n    LASER;\n\n    static {\n        ROCK.beats = EnumSet.of(SCISSORS);\n        PAPER.beats = EnumSet.of(ROCK);\n        SCISSORS.beats = EnumSet.of(ROCK);\n        LASER.beats = EnumSet.of(ROCK, PAPER, SCISSORS);\n    }\n\n    private Set&lt;Symbol&gt; beats;\n\n    public Result calculateResult(Symbol hand2) {\n        if (this.beats.contains(hand2)) {\n            return WIN;\n        } else if (hand2.beats.contains(this)) {\n            return LOSE;\n        } else {\n            return TIE;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":16089359,"reputation":429,"user_id":11613186,"display_name":"Timo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69665880,"answer_count":6,"score":5,"last_activity_date":1635946749,"creation_date":1634832435,"question_id":69665330,"body_markdown":"I have quite a tricky question where I currently cannot find an answer to:\r\n\r\nWhat I have is an enum with x variants like:\r\n\r\n    public enum Symbol {\r\n        ROCK,\r\n        PAPER,\r\n        SCISSORS;\r\n    }\r\n\r\nThis enum is supposed to be extended by one, two, ... variants (like Rock, Paper, Scissors, Spock, Lizard) and I am searching for an option to store the result of the combinations (in the example, who is winning). Like in Rock, Paper, Scissors I cannot assign a weight/value to the enum which then could be used for comparision. The result of the comparision is not based on logic. What I am currently doing is:\r\n\r\n    public Result calculateResult(Symbol hand2) {\r\n\r\n\t\t\t\tSymbol handP1 = this;\r\n\t\t\t\tSymbol handP2 = hand2;\r\n\r\n\t\t\t\tif (handP1 == Symbol.ROCK) {\r\n\t\t\t\t\tswitch (handP2) {\r\n\t\t\t\t\t\tcase SCISSORS:\r\n\t\t\t\t\t\t\treturn Result.WIN;\r\n\t\t\t\t\t\tcase ROCK:\r\n\t\t\t\t\t\t\treturn Result.TIE;\r\n\t\t\t\t\t\tcase PAPER:\r\n\t\t\t\t\t\t\treturn Result.LOOSE;\r\n\t\t\t\t\t} ....\r\n\r\nI do this for every possible option for the first element of the comparison (in the example hand1). With 3 enums this is quite easy and tidy, but with 4,5 or more it gets messy real quick. Using if and else if for comparison is not really suitable as well.Is there any better way to handle this issue?\r\n\r\nI have setup a repl if you want to try it out yourself: [REPL Link][1]\r\n\r\nUsing for or more choices break the circular relationship you might have with 3 choices. Please see here for an example:\r\n\r\n[![5 choices][2]][2]\r\n\r\nThanks for any tips and hints which might help me get a better solution\r\n\r\n\r\n  [1]: https://replit.com/@itsrootde/CorruptAutomaticBooleanalgebra#Main.java\r\n  [2]: https://i.stack.imgur.com/rLvAE.png","title":"Java store combinations of enums with result","body":"<p>I have quite a tricky question where I currently cannot find an answer to:</p>\n<p>What I have is an enum with x variants like:</p>\n<pre><code>public enum Symbol {\n    ROCK,\n    PAPER,\n    SCISSORS;\n}\n</code></pre>\n<p>This enum is supposed to be extended by one, two, ... variants (like Rock, Paper, Scissors, Spock, Lizard) and I am searching for an option to store the result of the combinations (in the example, who is winning). Like in Rock, Paper, Scissors I cannot assign a weight/value to the enum which then could be used for comparision. The result of the comparision is not based on logic. What I am currently doing is:</p>\n<pre><code>public Result calculateResult(Symbol hand2) {\n\n            Symbol handP1 = this;\n            Symbol handP2 = hand2;\n\n            if (handP1 == Symbol.ROCK) {\n                switch (handP2) {\n                    case SCISSORS:\n                        return Result.WIN;\n                    case ROCK:\n                        return Result.TIE;\n                    case PAPER:\n                        return Result.LOOSE;\n                } ....\n</code></pre>\n<p>I do this for every possible option for the first element of the comparison (in the example hand1). With 3 enums this is quite easy and tidy, but with 4,5 or more it gets messy real quick. Using if and else if for comparison is not really suitable as well.Is there any better way to handle this issue?</p>\n<p>I have setup a repl if you want to try it out yourself: <a href=\"https://replit.com/@itsrootde/CorruptAutomaticBooleanalgebra#Main.java\" rel=\"noreferrer\">REPL Link</a></p>\n<p>Using for or more choices break the circular relationship you might have with 3 choices. Please see here for an example:</p>\n<p><a href=\"https://i.stack.imgur.com/rLvAE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rLvAE.png\" alt=\"5 choices\" /></a></p>\n<p>Thanks for any tips and hints which might help me get a better solution</p>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":5278134,"reputation":71,"user_id":4214336,"display_name":"Ivan T"},"score":0,"creation_date":1422019653,"post_id":28110848,"comment_id":44595577,"body_markdown":"You can do both but none of them is recommended. If you want to sumbit so much information send some in json/xml format. So, for the answer to your question, use the first format - it is more readable from user perspective.","body":"You can do both but none of them is recommended. If you want to sumbit so much information send some in json/xml format. So, for the answer to your question, use the first format - it is more readable from user perspective."},{"owner":{"account_id":2123464,"reputation":77,"user_id":1886230,"display_name":"Amit"},"score":1,"creation_date":1422020161,"post_id":28110848,"comment_id":44595864,"body_markdown":"Same requirement is discussed on- \r\nhttp://stackoverflow.com/questions/2602043/rest-api-best-practice-how-to-accept-list-of-parameter-values-as-input","body":"Same requirement is discussed on-   <a href=\"http://stackoverflow.com/questions/2602043/rest-api-best-practice-how-to-accept-list-of-parameter-values-as-input\" title=\"rest api best practice how to accept list of parameter values as input\">stackoverflow.com/questions/2602043/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1422021537,"creation_date":1422021537,"answer_id":28111545,"question_id":28110848,"body_markdown":"Its better to use POST message with JSON or XML as request body.\r\nAs you never know how many id&#39;s will be passed.\r\n\r\n    @RestController\r\n    public class MyRest {\r\n       @RequestMapping(method = RequestMethod.POST)\r\n       public Object test(@RequestBody IDRequest request) {\r\n        Sysout(ids);\r\n      }\r\n      public static final class IDRequest {\r\n        List&lt;Integer&gt; ids;\r\n        &lt;!-- getter/setters---&gt;\r\n      }\r\n    }\r\n\r\nwhere the request will be some kind of a JSON or XML like this\r\n\r\n    {&quot;ids&quot;:[1,2,3,4,5,6,7,8,9]}\r\n\r\n","title":"How to provide a list of objects for a REST query in spring-mvc?","body":"<p>Its better to use POST message with JSON or XML as request body.\nAs you never know how many id's will be passed.</p>\n\n<pre><code>@RestController\npublic class MyRest {\n   @RequestMapping(method = RequestMethod.POST)\n   public Object test(@RequestBody IDRequest request) {\n    Sysout(ids);\n  }\n  public static final class IDRequest {\n    List&lt;Integer&gt; ids;\n    &lt;!-- getter/setters---&gt;\n  }\n}\n</code></pre>\n\n<p>where the request will be some kind of a JSON or XML like this</p>\n\n<pre><code>{\"ids\":[1,2,3,4,5,6,7,8,9]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3385608,"reputation":5527,"user_id":2841630,"accept_rate":24,"display_name":"Sunil Kumar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1450253046,"creation_date":1450253046,"answer_id":34306746,"question_id":28110848,"body_markdown":"You can provide list of objects to rest service as request param.Here is the example\r\n\r\n    @RequestMapping(value = &quot;/animals, method = RequestMethod.GET)\r\n       public void test(@RequestParam(value=&quot;animalsNames[]&quot;) String[] animalsNames) {\r\n        Sysout(animalsNames);\r\n      }\r\n\r\nAnd your request looks like\r\n\r\n    http://localhost:8080/appname/animals?animalsNames[]=dog,horse  \r\n    HTTP Method type : GET","title":"How to provide a list of objects for a REST query in spring-mvc?","body":"<p>You can provide list of objects to rest service as request param.Here is the example</p>\n\n<pre><code>@RequestMapping(value = \"/animals, method = RequestMethod.GET)\n   public void test(@RequestParam(value=\"animalsNames[]\") String[] animalsNames) {\n    Sysout(animalsNames);\n  }\n</code></pre>\n\n<p>And your request looks like</p>\n\n<pre><code>http://localhost:8080/appname/animals?animalsNames[]=dog,horse  \nHTTP Method type : GET\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635946086,"creation_date":1635946086,"answer_id":69825707,"question_id":28110848,"body_markdown":"Controller :\r\n \r\n  \r\n\r\n     public @ResponseBody String getInfos(HttpServletRequest request,\r\n        \t\t\t@RequestParam @DateTimeFormat( @RequestParam List&lt;Long&gt; ids) {...}\r\n\r\nRequest : \r\n\r\n    http://localhost:8080/test/api?ids=1,2,3\r\n\r\n","title":"How to provide a list of objects for a REST query in spring-mvc?","body":"<p>Controller :</p>\n<pre><code> public @ResponseBody String getInfos(HttpServletRequest request,\n                @RequestParam @DateTimeFormat( @RequestParam List&lt;Long&gt; ids) {...}\n</code></pre>\n<p>Request :</p>\n<pre><code>http://localhost:8080/test/api?ids=1,2,3\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10596,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1635946086,"creation_date":1422019207,"question_id":28110848,"body_markdown":"I want to create a REST-GET controller in `spring-mvc` that takes a list of objects, eg 10 ids as follows:\r\n\r\n    @RestController\r\n    public class MyRest {\r\n       @RequestMapping(method = RequestMethod.GET)\r\n       public Object test(@RequestParam value=&quot;id&quot; required=false) List&lt;Integer&gt; ids) {\r\n        Sysout(ids);\r\n      }\r\n    }\r\n\r\nAnyway when I call it, I have to repeat the id param multiple times:\r\n\r\n    localhost:8080/app?id=1&amp;id=2&amp;id=3&amp;...\r\n\r\nIt is possible to change the param to some kind of list? Eg\r\n\r\n     app?id=1,2,3,4,5\r\n\r\nAnd if yes, is this advisable? What&#39;s better from the client point of view?","title":"How to provide a list of objects for a REST query in spring-mvc?","body":"<p>I want to create a REST-GET controller in <code>spring-mvc</code> that takes a list of objects, eg 10 ids as follows:</p>\n\n<pre><code>@RestController\npublic class MyRest {\n   @RequestMapping(method = RequestMethod.GET)\n   public Object test(@RequestParam value=\"id\" required=false) List&lt;Integer&gt; ids) {\n    Sysout(ids);\n  }\n}\n</code></pre>\n\n<p>Anyway when I call it, I have to repeat the id param multiple times:</p>\n\n<pre><code>localhost:8080/app?id=1&amp;id=2&amp;id=3&amp;...\n</code></pre>\n\n<p>It is possible to change the param to some kind of list? Eg</p>\n\n<pre><code> app?id=1,2,3,4,5\n</code></pre>\n\n<p>And if yes, is this advisable? What's better from the client point of view?</p>\n"},{"tags":["java","spring","rest"],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1529878276,"creation_date":1529878276,"answer_id":51014378,"question_id":51014320,"body_markdown":"You&#39;ll need an empty constructor to allow for Jackson to perform it&#39;s deserialization actions correctly.\r\n\r\nMoreover though, using the entity model as a data transfer object is not a good idea. I would suggest to create a `PersonaDto` which will contain all the fields you&#39;ll require to construct for object and the use a Spring `converter` to convert it over to a `Persona` object.\r\n\r\nThis way you&#39;ll be more flexible and you&#39;ll not be binding you transfer objects to the actual entity models.","title":"Spring: Type definition error when posting a new object using a REST service","body":"<p>You'll need an empty constructor to allow for Jackson to perform it's deserialization actions correctly.</p>\n\n<p>Moreover though, using the entity model as a data transfer object is not a good idea. I would suggest to create a <code>PersonaDto</code> which will contain all the fields you'll require to construct for object and the use a Spring <code>converter</code> to convert it over to a <code>Persona</code> object.</p>\n\n<p>This way you'll be more flexible and you'll not be binding you transfer objects to the actual entity models.</p>\n"},{"tags":[],"owner":{"account_id":10958415,"reputation":1159,"user_id":8057127,"display_name":"Harsh Gundecha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627892897,"creation_date":1627892897,"answer_id":68618537,"question_id":51014320,"body_markdown":"This could also happen if you are using `@Builder` from **lombok** but haven&#39;t defined getter/setter neither explicitly nor by `@Data` as happened in my case, reason being builder uses empty constructor to first create an empty object and then uses setter to set the properties.","title":"Spring: Type definition error when posting a new object using a REST service","body":"<p>This could also happen if you are using <code>@Builder</code> from <strong>lombok</strong> but haven't defined getter/setter neither explicitly nor by <code>@Data</code> as happened in my case, reason being builder uses empty constructor to first create an empty object and then uses setter to set the properties.</p>\n"},{"tags":[],"owner":{"account_id":23147395,"reputation":11,"user_id":17249977,"display_name":"Sharon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635946052,"creation_date":1635937425,"answer_id":69823738,"question_id":51014320,"body_markdown":"When I experienced a similar exception, I added the default constructor to the entity the exception was no more.","title":"Spring: Type definition error when posting a new object using a REST service","body":"<p>When I experienced a similar exception, I added the default constructor to the entity the exception was no more.</p>\n"}],"owner":{"account_id":2565647,"reputation":1102,"user_id":2800956,"accept_rate":64,"display_name":"ffuentes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41526,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":51014378,"answer_count":3,"score":13,"last_activity_date":1635946052,"creation_date":1529877565,"question_id":51014320,"body_markdown":"I have an object which gets two parameters through a json POST request to create a new entry in the database and I get this error:\r\n\r\n&gt; &quot;Type definition error: [simple type, class\r\n&gt; ffuentese.rest_example.Persona]; nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\r\n&gt; construct instance of `ffuentese.rest_example.Persona` (no Creators,\r\n&gt; like default construct, exist): cannot deserialize from Object value\r\n&gt; (no delegate- or property-based Creator) at [Source:\r\n&gt; (PushbackInputStream); line: 2, column: 3]&quot;,\r\n\r\nThis is the object:\r\n\r\n    @Entity\r\n    public class Persona {\r\n      \t@Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        private Integer id;\r\n        private String nombre;\r\n        private String apellido;\r\n        \r\n        \r\n    \r\n    \tpublic Persona(String nombre, String apellido) {\r\n    \t\t\r\n    \t\tthis.nombre = nombre;\r\n    \t\tthis.apellido = apellido;\r\n    \t}\r\n    \tpublic Integer getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic String getNombre() {\r\n    \t\treturn nombre;\r\n    \t}\r\n    \tpublic void setNombre(String nombre) {\r\n    \t\tthis.nombre = nombre;\r\n    \t}\r\n    \tpublic String getApellido() {\r\n    \t\treturn apellido;\r\n    \t}\r\n    \tpublic void setApellido(String apellido) {\r\n    \t\tthis.apellido = apellido;\r\n    \t}\r\n    \r\n    \t\t\r\n    }\r\n\r\nThis is the controller method:\r\n\r\n    @PostMapping(path=&quot;/persona&quot;)\r\n    public @ResponseBody String addPersona(@RequestBody Persona p) {\r\n        personaRepository.save(p);\r\n    \treturn &quot;success&quot;;\r\n    \t\r\n    }","title":"Spring: Type definition error when posting a new object using a REST service","body":"<p>I have an object which gets two parameters through a json POST request to create a new entry in the database and I get this error:</p>\n\n<blockquote>\n  <p>\"Type definition error: [simple type, class\n  ffuentese.rest_example.Persona]; nested exception is\n  com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\n  construct instance of <code>ffuentese.rest_example.Persona</code> (no Creators,\n  like default construct, exist): cannot deserialize from Object value\n  (no delegate- or property-based Creator) at [Source:\n  (PushbackInputStream); line: 2, column: 3]\",</p>\n</blockquote>\n\n<p>This is the object:</p>\n\n<pre><code>@Entity\npublic class Persona {\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Integer id;\n    private String nombre;\n    private String apellido;\n\n\n\n    public Persona(String nombre, String apellido) {\n\n        this.nombre = nombre;\n        this.apellido = apellido;\n    }\n    public Integer getId() {\n        return id;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n    public String getApellido() {\n        return apellido;\n    }\n    public void setApellido(String apellido) {\n        this.apellido = apellido;\n    }\n\n\n}\n</code></pre>\n\n<p>This is the controller method:</p>\n\n<pre><code>@PostMapping(path=\"/persona\")\npublic @ResponseBody String addPersona(@RequestBody Persona p) {\n    personaRepository.save(p);\n    return \"success\";\n\n}\n</code></pre>\n"},{"tags":["java","swing","timer","jtable"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1408975204,"post_id":25487472,"comment_id":39779796,"body_markdown":"Do you mean like [this](http://stackoverflow.com/a/21355134/2587435)?","body":"Do you mean like <a href=\"http://stackoverflow.com/a/21355134/2587435\">this</a>?"},{"owner":{"account_id":4922997,"reputation":15,"user_id":3965052,"display_name":"sayit"},"score":0,"creation_date":1408976018,"post_id":25487472,"comment_id":39780336,"body_markdown":"very similar. So when I launched my GUI, the table should update as the time moves forward.... @peeskillet . Is that what the code is doing?","body":"very similar. So when I launched my GUI, the table should update as the time moves forward.... @peeskillet . Is that what the code is doing?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1408976239,"post_id":25487472,"comment_id":39780472,"body_markdown":"Yes, it is adding a new row every so many milliseconds. Use a Swing Timer for repeated events. See [How to Use Swing Timers](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details","body":"Yes, it is adding a new row every so many milliseconds. Use a Swing Timer for repeated events. See <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for more details"},{"owner":{"account_id":4922997,"reputation":15,"user_id":3965052,"display_name":"sayit"},"score":0,"creation_date":1408976732,"post_id":25487472,"comment_id":39780789,"body_markdown":"I don&#39;t want to add a new row. I want just the table to update/change when the time changes. @peeskillet Could you also provide a code snippet for this","body":"I don&#39;t want to add a new row. I want just the table to update/change when the time changes. @peeskillet Could you also provide a code snippet for this"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1408976873,"post_id":25487472,"comment_id":39780881,"body_markdown":"What exactly do you want to update? It&#39;s unclear. I understand the table, but what you change about the table model/view that you need updated at a certain time, and not instantly?","body":"What exactly do you want to update? It&#39;s unclear. I understand the table, but what you change about the table model/view that you need updated at a certain time, and not instantly?"},{"owner":{"account_id":4922997,"reputation":15,"user_id":3965052,"display_name":"sayit"},"score":0,"creation_date":1408977672,"post_id":25487472,"comment_id":39781376,"body_markdown":"I want to view the data that is based off of the current time. So the table data is being updated every time the time changes @peeskillet","body":"I want to view the data that is based off of the current time. So the table data is being updated every time the time changes @peeskillet"}],"answers":[{"tags":[],"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408975435,"creation_date":1408975435,"answer_id":25487734,"question_id":25487472,"body_markdown":"You can use [Timer][1]\r\n\r\n    import java.util.Timer;\r\n    ...\r\n    Timer timer = new Timer();\r\n    timer.schedule(new TimerTask() \r\n    {\r\n      @Override\r\n      public void run()\r\n      {\r\n        // Your code here\r\n      }\r\n    }, time);\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html","title":"Update JTable automically","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\" rel=\"nofollow\">Timer</a></p>\n\n<pre><code>import java.util.Timer;\n...\nTimer timer = new Timer();\ntimer.schedule(new TimerTask() \n{\n  @Override\n  public void run()\n  {\n    // Your code here\n  }\n}, time);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1408981686,"creation_date":1408979393,"answer_id":25488992,"question_id":25487472,"body_markdown":"Just use a Swing Timer, like I mention in the comment. You need to provide an `ActionListener` to the `Timer`, of which the `actionPerformed` will be called every so many milliseconds (whatever you provide as the first argument in the constructor). There you will update the table model with the new `Date` or formatted date (As I did in the example below), and change whatever data in the table based on that date.\r\n\r\nSee more at [How to Use Swing Timers](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)\r\n\r\n&lt;sub&gt;**Disclaimer: I&#39;m so out of it. Why the heck did I use `dd` in the format? That should not be there. It should be &quot;HH:mm:ss&quot;. I&#39;m too lazy to change it.**&lt;/sub&gt;\r\n\r\n![enter image description here][1]\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableModel;\r\n    \r\n    public class TableTimeChange {\r\n    \t\r\n    \tprivate SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm:dd:ss&quot;);\r\n    \tprivate JTable table = new JTable(getTableModel());\r\n    \t\r\n    \tpublic TableTimeChange() {\r\n    \t\ttable.setPreferredScrollableViewportSize(table.getPreferredSize());\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.add(new JScrollPane(table));\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n    \t\t\r\n    \t\tTimer timer = new Timer(1000, new TimerListener());\r\n    \t\ttimer.start();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate TableModel getTableModel() {\r\n    \t\tString[] cols = {&quot;Time&quot;, &quot;Is Seconds Even&quot;};\r\n    \t\tObject[][] data = { { getNewRow() }, { getNewRow() } };\r\n    \t\tDefaultTableModel model = new DefaultTableModel(data, cols);\r\n    \t\treturn model;\r\n    \t}\r\n    \t\r\n    \tprivate String getFormatDate(Date date) {\r\n    \t\treturn format.format(date);\r\n    \t}\r\n    \t\r\n    \tprivate Object[] getNewRow() {\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tint seconds = cal.get(Calendar.SECOND);\r\n    \t\tboolean isSecondsEven = (seconds % 2 == 0);\r\n    \t\treturn new Object[] { getFormatDate(cal.getTime()), isSecondsEven };\r\n    \t}\r\n    \t\r\n    \tprivate class TimerListener implements ActionListener {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tDefaultTableModel model = (DefaultTableModel)table.getModel();\r\n    \t\t\tfor (int i = model.getRowCount() -1; i &gt;= 0; i--) {\r\n    \t\t\t\tObject[] row = getNewRow();\r\n    \t\t\t\tmodel.setValueAt(row[0], i, 0);\r\n    \t\t\t\tmodel.setValueAt(row[1], i, 1);\r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew TableTimeChange();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5SdiJ.gif\r\n","title":"Update JTable automically","body":"<p>Just use a Swing Timer, like I mention in the comment. You need to provide an <code>ActionListener</code> to the <code>Timer</code>, of which the <code>actionPerformed</code> will be called every so many milliseconds (whatever you provide as the first argument in the constructor). There you will update the table model with the new <code>Date</code> or formatted date (As I did in the example below), and change whatever data in the table based on that date.</p>\n\n<p>See more at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a></p>\n\n<p><sub><strong>Disclaimer: I'm so out of it. Why the heck did I use <code>dd</code> in the format? That should not be there. It should be \"HH:mm:ss\". I'm too lazy to change it.</strong></sub></p>\n\n<p><img src=\"https://i.stack.imgur.com/5SdiJ.gif\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableModel;\n\npublic class TableTimeChange {\n\n    private SimpleDateFormat format = new SimpleDateFormat(\"HH:mm:dd:ss\");\n    private JTable table = new JTable(getTableModel());\n\n    public TableTimeChange() {\n        table.setPreferredScrollableViewportSize(table.getPreferredSize());\n        JFrame frame = new JFrame();\n        frame.add(new JScrollPane(table));\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n\n        Timer timer = new Timer(1000, new TimerListener());\n        timer.start();\n        frame.setVisible(true);\n    }\n\n    private TableModel getTableModel() {\n        String[] cols = {\"Time\", \"Is Seconds Even\"};\n        Object[][] data = { { getNewRow() }, { getNewRow() } };\n        DefaultTableModel model = new DefaultTableModel(data, cols);\n        return model;\n    }\n\n    private String getFormatDate(Date date) {\n        return format.format(date);\n    }\n\n    private Object[] getNewRow() {\n        Calendar cal = Calendar.getInstance();\n        int seconds = cal.get(Calendar.SECOND);\n        boolean isSecondsEven = (seconds % 2 == 0);\n        return new Object[] { getFormatDate(cal.getTime()), isSecondsEven };\n    }\n\n    private class TimerListener implements ActionListener {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            DefaultTableModel model = (DefaultTableModel)table.getModel();\n            for (int i = model.getRowCount() -1; i &gt;= 0; i--) {\n                Object[] row = getNewRow();\n                model.setValueAt(row[0], i, 0);\n                model.setValueAt(row[1], i, 1);\n            }   \n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                new TableTimeChange();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21589548,"reputation":1,"user_id":15919402,"display_name":"Vu Manh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635945749,"creation_date":1635945749,"answer_id":69825628,"question_id":25487472,"body_markdown":"\r\nTHIS:\r\n\r\n\r\n    Timer timer = new Timer(500,new ActionListener() {\r\n      @Override\r\n      public void actionPerformed(ActionEvent ae){\r\n        if (a == true){\r\n          System.out.println(&quot;Hello&quot;);\r\n          a = false;\r\n        }\r\n        if (a == false){\r\n          System.out.println(&quot;ByeBye&quot;);\r\n          a = true;\r\n        }\r\n      }\r\n    }\r\n    boolean a = true;\r\n    public MyFrame(){\r\n            initComponents();\r\n            a = true;\r\n            timer.start();\r\n    }\r\n\r\n\r\n","title":"Update JTable automically","body":"<p>THIS:</p>\n<pre><code>Timer timer = new Timer(500,new ActionListener() {\n  @Override\n  public void actionPerformed(ActionEvent ae){\n    if (a == true){\n      System.out.println(&quot;Hello&quot;);\n      a = false;\n    }\n    if (a == false){\n      System.out.println(&quot;ByeBye&quot;);\n      a = true;\n    }\n  }\n}\nboolean a = true;\npublic MyFrame(){\n        initComponents();\n        a = true;\n        timer.start();\n}\n</code></pre>\n"}],"owner":{"account_id":4922997,"reputation":15,"user_id":3965052,"display_name":"sayit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25488992,"answer_count":3,"score":0,"last_activity_date":1635945749,"creation_date":1408974736,"question_id":25487472,"body_markdown":"How would a JTable update automatically based off of time? So every time the current time changes, the table updates automatically. Could some provide a snippet of code of how this may work in Java? To have the Table update after the time changes. Please and thank you in advance. \r\n\r\n              package times;\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableModel;\r\n\r\n    public class TableTimeChange {\r\n\t\r\n\tDefaultTableModel model2 = new DefaultTableModel();\r\n\t\r\n\tString rowdata[] = new String[8];\r\n\tDate[] date123 = new Date[8];\r\n\r\n    private SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm:dd:ss&quot;);\r\n    private JTable table = new JTable(getTableModel());\r\n\r\n    public TableTimeChange() {\r\n        table.setPreferredScrollableViewportSize(table.getPreferredSize());\r\n        JFrame frame = new JFrame();\r\n        frame.add(new JScrollPane(table));\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n\r\n        Timer timer = new Timer(1000, new TimerListener());\r\n        timer.start();\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private TableModel getTableModel() {\r\n        String[] cols = {&quot;Time&quot;};\r\n        \r\n\r\n\t    String array1[] = { &quot;12-12-2001 10:18:30 PM&quot;, &quot;12-15-2001 10:18:54 PM&quot;};\r\n\t\tString array2[] = {&quot;01-19-1989 01:18:27 AM&quot;, &quot;01-19-2019 01:28:36 PM&quot;};\r\n\t\tString array3[] = {&quot;12-05-1989 05:18:57 PM&quot;, &quot;08-25-1989 09:18:27 PM&quot;};\r\n\t\tString array4[] = { &quot;10-15-1985 09:18:17 AM&quot;, &quot;10-25-1985 06:48:27 AM&quot;};\r\n\t\tString array5[] = {&quot;06-10-2001 03:09:19 AM&quot;, &quot;05-16-2011 03:29:10 AM&quot;};\r\n\t\tString array6[] = {&quot;01-12-2000 09:00:08 PM&quot;, &quot;11-22-2010 07:00:56 PM&quot;};\r\n\t\tString array7[] = { &quot;07-19-1969 12:18:47 PM&quot;, &quot;02-05-1969 01:18:17 AM&quot;};\r\n\t\tString array8[] = {&quot;01-09-2010 10:09:50 AM&quot;, &quot;12-09-2010 05:09:10 PM&quot;};\r\n\t\t\r\n\t\t\r\n \t\trowdata[0] = array1[0];\r\n \t\trowdata[1] = array2[0];\r\n \t\trowdata[2] = array3[0];\r\n \t\trowdata[3] = array4[0];\r\n \t\trowdata[4] = array5[0];\r\n \t\trowdata[5] = array6[0];\r\n \t\trowdata[6] = array7[0];\r\n \t\trowdata[7] = array8[0];\r\n \t\t\r\n \t\t\r\n \t\tfor(int t = 0; t&lt;rowdata.length; t++)\r\n \t\t{\r\n \t\t\t\r\n \t\t\tDateFormat sdf = new SimpleDateFormat(&quot;MM-dd-yyyy hh:mm:ss a&quot;);\r\n \t\t\tDateFormat sdf3 = new SimpleDateFormat(&quot;MM-dd-yyyy hh:mm:ss a&quot;);\r\n\r\n \t\t\t\r\n \t\t\ttry {\r\n \t\t\t\t\r\n\t\t\t\tdate123[t] = sdf.parse(rowdata[t]);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} catch (ParseException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n \t\t\t\r\n \t\t}\r\n        \r\n        for(int i = 0; i&lt;8; i++)\r\n        {\r\n        \t\r\n        \r\n\r\n        String[][] data = {{getFormatDate(date123[i])},{ getFormatDate(date123[i])}};\r\n        DefaultTableModel model = new DefaultTableModel(data, cols);\r\n        \r\n       model2 = model;\r\n        \r\n        \r\n        }\r\n        \r\n        \r\n        return model2;\r\n    }\r\n\r\n    private String getFormatDate(Date date) {\r\n        return format.format(date);\r\n    }\r\n\r\n    private class TimerListener implements ActionListener {\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            DefaultTableModel model = (DefaultTableModel)table.getModel();\r\n            for (int i = model.getRowCount() -1; i &gt;= 0; i--) {\r\n                model.setValueAt(getFormatDate(date123[i]), i, 0);\r\n            }   \r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new TableTimeChange();\r\n            }\r\n        });\r\n    }\r\n    }","title":"Update JTable automically","body":"<p>How would a JTable update automatically based off of time? So every time the current time changes, the table updates automatically. Could some provide a snippet of code of how this may work in Java? To have the Table update after the time changes. Please and thank you in advance. </p>\n\n<pre><code>          package times;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableModel;\n\npublic class TableTimeChange {\n\nDefaultTableModel model2 = new DefaultTableModel();\n\nString rowdata[] = new String[8];\nDate[] date123 = new Date[8];\n\nprivate SimpleDateFormat format = new SimpleDateFormat(\"HH:mm:dd:ss\");\nprivate JTable table = new JTable(getTableModel());\n\npublic TableTimeChange() {\n    table.setPreferredScrollableViewportSize(table.getPreferredSize());\n    JFrame frame = new JFrame();\n    frame.add(new JScrollPane(table));\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.pack();\n\n    Timer timer = new Timer(1000, new TimerListener());\n    timer.start();\n    frame.setVisible(true);\n}\n\nprivate TableModel getTableModel() {\n    String[] cols = {\"Time\"};\n\n\n    String array1[] = { \"12-12-2001 10:18:30 PM\", \"12-15-2001 10:18:54 PM\"};\n    String array2[] = {\"01-19-1989 01:18:27 AM\", \"01-19-2019 01:28:36 PM\"};\n    String array3[] = {\"12-05-1989 05:18:57 PM\", \"08-25-1989 09:18:27 PM\"};\n    String array4[] = { \"10-15-1985 09:18:17 AM\", \"10-25-1985 06:48:27 AM\"};\n    String array5[] = {\"06-10-2001 03:09:19 AM\", \"05-16-2011 03:29:10 AM\"};\n    String array6[] = {\"01-12-2000 09:00:08 PM\", \"11-22-2010 07:00:56 PM\"};\n    String array7[] = { \"07-19-1969 12:18:47 PM\", \"02-05-1969 01:18:17 AM\"};\n    String array8[] = {\"01-09-2010 10:09:50 AM\", \"12-09-2010 05:09:10 PM\"};\n\n\n    rowdata[0] = array1[0];\n    rowdata[1] = array2[0];\n    rowdata[2] = array3[0];\n    rowdata[3] = array4[0];\n    rowdata[4] = array5[0];\n    rowdata[5] = array6[0];\n    rowdata[6] = array7[0];\n    rowdata[7] = array8[0];\n\n\n    for(int t = 0; t&lt;rowdata.length; t++)\n    {\n\n        DateFormat sdf = new SimpleDateFormat(\"MM-dd-yyyy hh:mm:ss a\");\n        DateFormat sdf3 = new SimpleDateFormat(\"MM-dd-yyyy hh:mm:ss a\");\n\n\n        try {\n\n            date123[t] = sdf.parse(rowdata[t]);\n\n\n        } catch (ParseException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n\n    for(int i = 0; i&lt;8; i++)\n    {\n\n\n\n    String[][] data = {{getFormatDate(date123[i])},{ getFormatDate(date123[i])}};\n    DefaultTableModel model = new DefaultTableModel(data, cols);\n\n   model2 = model;\n\n\n    }\n\n\n    return model2;\n}\n\nprivate String getFormatDate(Date date) {\n    return format.format(date);\n}\n\nprivate class TimerListener implements ActionListener {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        DefaultTableModel model = (DefaultTableModel)table.getModel();\n        for (int i = model.getRowCount() -1; i &gt;= 0; i--) {\n            model.setValueAt(getFormatDate(date123[i]), i, 0);\n        }   \n    }\n}\n\npublic static void main(String[] args) {\n    SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            new TableTimeChange();\n        }\n    });\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caching"],"comments":[{"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"score":0,"creation_date":1635946213,"post_id":69825616,"comment_id":123426994,"body_markdown":"not fimillar with spring boot cache (I&#39;m using Hazelcast) but can&#39;t you iterate on cache.getNativeCache() ? - see https://stackoverflow.com/questions/11829383/how-to-iterate-on-a-cache-entries","body":"not fimillar with spring boot cache (I&#39;m using Hazelcast) but can&#39;t you iterate on cache.getNativeCache() ? - see <a href=\"https://stackoverflow.com/questions/11829383/how-to-iterate-on-a-cache-entries\" title=\"how to iterate on a cache entries\">stackoverflow.com/questions/11829383/&hellip;</a>"},{"owner":{"account_id":21620142,"reputation":31,"user_id":15945288,"display_name":"Umut"},"score":0,"creation_date":1635947824,"post_id":69825616,"comment_id":123427773,"body_markdown":"I looked your solition but it&#39;s not working for me\n\n    Cache cache = (Cache) cacheManager.getCache(&quot;yourCacheName&quot;).getNativeCache();\n    Iterator&lt;Cache.Entry&gt; iterator = cache.iterator();\n\n    while (iterator.hasNext()) {\n        String key = (String) iterator.next().getKey();\n        System.out.println(key);\n    } \n\nwhen i try the this solution iterator() method is not coming for me","body":"I looked your solition but it&#39;s not working for me      Cache cache = (Cache) cacheManager.getCache(&quot;yourCacheName&quot;).getNativeCache();     Iterator&lt;Cache.Entry&gt; iterator = cache.iterator();      while (iterator.hasNext()) {         String key = (String) iterator.next().getKey();         System.out.println(key);     }   when i try the this solution iterator() method is not coming for me"},{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1635957390,"post_id":69825616,"comment_id":123432295,"body_markdown":"What cache implementation are you using? You can find out with: .getNativeCache().getClass(). If its Guava or Caffeine you need to use the map view, for example: `getNativeCache().asMap().entrySet()`","body":"What cache implementation are you using? You can find out with: .getNativeCache().getClass(). If its Guava or Caffeine you need to use the map view, for example: <code>getNativeCache().asMap().entrySet()</code>"},{"owner":{"account_id":21620142,"reputation":31,"user_id":15945288,"display_name":"Umut"},"score":0,"creation_date":1635961628,"post_id":69825616,"comment_id":123433986,"body_markdown":"I&#39;am using rediscache but  dont want to specific solution to redis. I want to make cache ui to see cache names and values in application. So i need generic solution, is it possible?","body":"I&#39;am using rediscache but  dont want to specific solution to redis. I want to make cache ui to see cache names and values in application. So i need generic solution, is it possible?"},{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1636012402,"post_id":69825616,"comment_id":123445396,"body_markdown":"The Spring cach abstraction does not support this. One possibility is switching to JCache/JSR107. JCache is an API supported by many cache vendors, which also defines an iterator.","body":"The Spring cach abstraction does not support this. One possibility is switching to JCache/JSR107. JCache is an API supported by many cache vendors, which also defines an iterator."}],"owner":{"account_id":21620142,"reputation":31,"user_id":15945288,"display_name":"Umut"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8670,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1635945703,"creation_date":1635945703,"question_id":69825616,"body_markdown":"Hi i want to find all keys and values in my cache.\r\n\r\n    Cache cache = cacheManager.getCache(&quot;users&quot;);\r\n\r\nI just have cache name that is &quot;users&quot; and i can get cache with this name but i want to see my all cache keys and values how to get this.\r\nI just want to find this with cache name, i have no cache key.","title":"How to get all cache key and values with cache manager in java","body":"<p>Hi i want to find all keys and values in my cache.</p>\n<pre><code>Cache cache = cacheManager.getCache(&quot;users&quot;);\n</code></pre>\n<p>I just have cache name that is &quot;users&quot; and i can get cache with this name but i want to see my all cache keys and values how to get this.\nI just want to find this with cache name, i have no cache key.</p>\n"},{"tags":["java","spring","el","spring-el"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635936558,"post_id":69820458,"comment_id":123423045,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635945349,"creation_date":1635945349,"answer_id":69825521,"question_id":69820458,"body_markdown":"Use a `SimpleEvaluationContext` instead - it is specifically designed for this purpose.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-evaluation-context\r\n\r\n&gt;`SimpleEvaluationContext` is designed to support only a subset of the SpEL language syntax. It excludes Java type references, constructors, and bean references. It also requires you to explicitly choose the level of support for properties and methods in expressions. By default, the create() static factory method enables only read access to properties. You can also obtain a builder to configure the exact level of support needed, targeting one or some combination of the following:\r\n\r\n&gt; * Custom PropertyAccessor only (no reflection)\r\n\r\n&gt; * Data binding properties for read-only access\r\n\r\n&gt; * Data binding properties for read and write\r\n\r\n","title":"SPEL how to protect against injection attacks","body":"<p>Use a <code>SimpleEvaluationContext</code> instead - it is specifically designed for this purpose.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-evaluation-context\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-evaluation-context</a></p>\n<blockquote>\n<p><code>SimpleEvaluationContext</code> is designed to support only a subset of the SpEL language syntax. It excludes Java type references, constructors, and bean references. It also requires you to explicitly choose the level of support for properties and methods in expressions. By default, the create() static factory method enables only read access to properties. You can also obtain a builder to configure the exact level of support needed, targeting one or some combination of the following:</p>\n</blockquote>\n<blockquote>\n<ul>\n<li>Custom PropertyAccessor only (no reflection)</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>Data binding properties for read-only access</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>Data binding properties for read and write</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":11717336,"reputation":13,"user_id":8577377,"display_name":"ying"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635945349,"creation_date":1635920690,"question_id":69820458,"body_markdown":"some code like this\r\n\r\n        StandardEvaluationContext context = new StandardEvaluationContext();\r\n        context.addPropertyAccessor(new EmptyValueMapAccessor());\r\n        context.addPropertyAccessor(new MapAccessor());\r\n        context.addPropertyAccessor(DataBindingPropertyAccessor.forReadOnlyAccess());\r\n        ExpressionParser paser = new SpelExpressionParser();\r\n        Expression expression = paser.parseExpression(&quot;#{T(java.lang.System).exit(0)}&quot;, new TemplateParserContext());\r\n        expression.getValue(context,obj);\r\n\r\nIt will execute `exit` method.\r\n\r\n","title":"SPEL how to protect against injection attacks","body":"<p>some code like this</p>\n<pre><code>    StandardEvaluationContext context = new StandardEvaluationContext();\n    context.addPropertyAccessor(new EmptyValueMapAccessor());\n    context.addPropertyAccessor(new MapAccessor());\n    context.addPropertyAccessor(DataBindingPropertyAccessor.forReadOnlyAccess());\n    ExpressionParser paser = new SpelExpressionParser();\n    Expression expression = paser.parseExpression(&quot;#{T(java.lang.System).exit(0)}&quot;, new TemplateParserContext());\n    expression.getValue(context,obj);\n</code></pre>\n<p>It will execute <code>exit</code> method.</p>\n"},{"tags":["java","android","reactjs","react-native"],"comments":[{"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"score":0,"creation_date":1635945161,"post_id":69825411,"comment_id":123426478,"body_markdown":"Please upload the error as text and not as image.","body":"Please upload the error as text and not as image."},{"owner":{"account_id":15325587,"reputation":643,"user_id":11056835,"display_name":"dianaqqq"},"score":0,"creation_date":1635948683,"post_id":69825411,"comment_id":123428204,"body_markdown":"Are you using react-native-screens library?","body":"Are you using react-native-screens library?"},{"owner":{"account_id":23127262,"reputation":41,"user_id":17232882,"display_name":"Y E"},"score":0,"creation_date":1636550289,"post_id":69825411,"comment_id":123586184,"body_markdown":"yes i use react native screens","body":"yes i use react native screens"}],"owner":{"account_id":23127262,"reputation":41,"user_id":17232882,"display_name":"Y E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635945305,"creation_date":1635944934,"question_id":69825411,"body_markdown":"My app was working fine, until it crashed once and can&#39;t run again only on android. IOS is working fine. \r\nbuild doesn&#39;t catch any error, but when I start it on android studio I get these error log.\r\n\r\n[enter image description here][1]\r\n\r\n      E/unknown:ReactNative: ReactInstanceManager.createReactContext:            mJSIModulePackage not null\r\n    E/AndroidRuntime: FATAL EXCEPTION: mqt_js\r\n    Process: com.gamo, PID: 17096\r\n    java.lang.AssertionError: No source URL loaded, have you initialised the instance?\r\n        at com.facebook.infer.annotation.Assertions.assertNotNull(Assertions.java:35)\r\n        at com.facebook.react.modules.debug.SourceCodeModule.getTypedExportedConstants(SourceCodeModule.java:39)\r\n        at com.facebook.fbreact.specs.NativeSourceCodeSpec.getConstants(NativeSourceCodeSpec.java:35)\r\n        at com.facebook.react.bridge.JavaModuleWrapper.getConstants(JavaModuleWrapper.java:129)\r\n        at com.facebook.react.bridge.queue.NativeRunnable.run(Native Method)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(MessageQueueThreadHandler.java:27)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(MessageQueueThreadImpl.java:226)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n        I/Process: Sending signal. PID: 17096 SIG: 9\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z2cOl.png\r\n\r\nI already tried gradlew clean, cache clean, enable hermes = true","title":"Android crashes on start","body":"<p>My app was working fine, until it crashed once and can't run again only on android. IOS is working fine.\nbuild doesn't catch any error, but when I start it on android studio I get these error log.</p>\n<p><a href=\"https://i.stack.imgur.com/z2cOl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>  E/unknown:ReactNative: ReactInstanceManager.createReactContext:            mJSIModulePackage not null\nE/AndroidRuntime: FATAL EXCEPTION: mqt_js\nProcess: com.gamo, PID: 17096\njava.lang.AssertionError: No source URL loaded, have you initialised the instance?\n    at com.facebook.infer.annotation.Assertions.assertNotNull(Assertions.java:35)\n    at com.facebook.react.modules.debug.SourceCodeModule.getTypedExportedConstants(SourceCodeModule.java:39)\n    at com.facebook.fbreact.specs.NativeSourceCodeSpec.getConstants(NativeSourceCodeSpec.java:35)\n    at com.facebook.react.bridge.JavaModuleWrapper.getConstants(JavaModuleWrapper.java:129)\n    at com.facebook.react.bridge.queue.NativeRunnable.run(Native Method)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(MessageQueueThreadHandler.java:27)\n    at android.os.Looper.loop(Looper.java:223)\n    at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(MessageQueueThreadImpl.java:226)\n    at java.lang.Thread.run(Thread.java:923)\n    I/Process: Sending signal. PID: 17096 SIG: 9\n</code></pre>\n<p>I already tried gradlew clean, cache clean, enable hermes = true</p>\n"},{"tags":["java","spring-boot","mockito","junit4"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635875966,"post_id":69814674,"comment_id":123407986,"body_markdown":"Can you change `MyServiceImpl` so that it receives `GatewayProxyInvoker gatewayProxyInvoker` as a constructor parameter?","body":"Can you change <code>MyServiceImpl</code> so that it receives <code>GatewayProxyInvoker gatewayProxyInvoker</code> as a constructor parameter?"},{"owner":{"account_id":14280764,"reputation":57,"user_id":10315546,"display_name":"Ex."},"score":0,"creation_date":1635876140,"post_id":69814674,"comment_id":123408040,"body_markdown":"Hello @Jo&#227;oDias, unfortunately I can&#39;t change the code, I need to work on the specific Junit test.","body":"Hello @Jo&#227;oDias, unfortunately I can&#39;t change the code, I need to work on the specific Junit test."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1635876273,"post_id":69814674,"comment_id":123408096,"body_markdown":"You are injecting your mocks in the `transformer` while `myService` is defined as a mock itself, hence the null field when you are trying to call its actual method instead of specifying its mocked behaviour. If you are trying to test the `transformer` (as it seems you are), then you only need to mock its direct &quot;dependency&quot;, aka the service it is interacting with, define a behaviour for the mock service, and disregard the `gatewayProxyInvoker` which isn&#39;t really needed.","body":"You are injecting your mocks in the <code>transformer</code> while <code>myService</code> is defined as a mock itself, hence the null field when you are trying to call its actual method instead of specifying its mocked behaviour. If you are trying to test the <code>transformer</code> (as it seems you are), then you only need to mock its direct &quot;dependency&quot;, aka the service it is interacting with, define a behaviour for the mock service, and disregard the <code>gatewayProxyInvoker</code> which isn&#39;t really needed."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635876356,"post_id":69814674,"comment_id":123408125,"body_markdown":"Good point, that is true indeed.","body":"Good point, that is true indeed."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1635876528,"post_id":69814674,"comment_id":123408181,"body_markdown":"Also, no offense, but your current code makes little sense. How/where is the transformer output created? What happens to the response created in the service? Is there any connection between the 2?","body":"Also, no offense, but your current code makes little sense. How/where is the transformer output created? What happens to the response created in the service? Is there any connection between the 2?"},{"owner":{"account_id":14280764,"reputation":57,"user_id":10315546,"display_name":"Ex."},"score":0,"creation_date":1635876863,"post_id":69814674,"comment_id":123408318,"body_markdown":"I&#39;m trying to test the whole flow starting from the `transformer`, the need arises for business reasons. \nI already know how to test classes individually and it&#39;s not what I need.\nThe code shown is only an example, I don&#39;t need code review except for the junit test.","body":"I&#39;m trying to test the whole flow starting from the <code>transformer</code>, the need arises for business reasons.  I already know how to test classes individually and it&#39;s not what I need. The code shown is only an example, I don&#39;t need code review except for the junit test."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635876970,"post_id":69814674,"comment_id":123408359,"body_markdown":"But then you need an integration test and mocks should be avoided.","body":"But then you need an integration test and mocks should be avoided."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":1,"creation_date":1635880372,"post_id":69814674,"comment_id":123409517,"body_markdown":"Sorry if I offended you, not my intention. You mentioned mocks which usually indicate unit tests, hence my initial reply. If you think only your code is messy and requires review, which you gracefully rejected even if it wasn&#39;t one, then you should see how ugly mine is sometimes. However there is a difference, I thought about mine, I wrote it, I know the context, but I know little about yours, except what you posted, hence my second comment when I had doubts. So I&#39;d say both revealed you want an integration test as @Jo&#227;oDias said. Lastly, we&#39;re trying to help, not make fun of you or your code.","body":"Sorry if I offended you, not my intention. You mentioned mocks which usually indicate unit tests, hence my initial reply. If you think only your code is messy and requires review, which you gracefully rejected even if it wasn&#39;t one, then you should see how ugly mine is sometimes. However there is a difference, I thought about mine, I wrote it, I know the context, but I know little about yours, except what you posted, hence my second comment when I had doubts. So I&#39;d say both revealed you want an integration test as @Jo&#227;oDias said. Lastly, we&#39;re trying to help, not make fun of you or your code."}],"answers":[{"tags":[],"owner":{"account_id":14280764,"reputation":57,"user_id":10315546,"display_name":"Ex."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635945262,"creation_date":1635945262,"answer_id":69825497,"question_id":69814674,"body_markdown":"I&#39;ve found a solution here: https://stackoverflow.com/questions/43926636/mockito-inject-mock-into-spy-object/43942419\r\n\r\nThis example works well:\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class MyTransformerTest {\r\n    @InjectMocks\r\n    private MyTransformer transformer;\r\n\r\n    @InjectMocks\r\n    private MyServiceImpl myService;\r\n    \r\n    @Mock\r\n    private GatewayProxyInvoker gatewayProxyInvoker;\r\n\t\r\n\t@Before\r\n\tpublic void init() {\r\n\t\tmyService = Mockito.spy(new MyServiceImpl());\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t}\r\n    \r\n    @Test\r\n    public void myMethodTest() throws Exception {\r\n        Response myResponse = new Response();\r\n        when(gatewayProxyInvoker.invoke(any(Class.class), any(Context.class), any(Request.class))).thenReturn(myResponse);\r\n        transformer.myMethod(/*valid input params*/);\r\n    }\r\n}\r\n```","title":"Mockito can&#39;t mock a property of a third class when I&#39;m testing another one","body":"<p>I've found a solution here: <a href=\"https://stackoverflow.com/questions/43926636/mockito-inject-mock-into-spy-object/43942419\">Mockito Inject mock into Spy object</a></p>\n<p>This example works well:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MyTransformerTest {\n    @InjectMocks\n    private MyTransformer transformer;\n\n    @InjectMocks\n    private MyServiceImpl myService;\n    \n    @Mock\n    private GatewayProxyInvoker gatewayProxyInvoker;\n    \n    @Before\n    public void init() {\n        myService = Mockito.spy(new MyServiceImpl());\n        MockitoAnnotations.initMocks(this);\n    }\n    \n    @Test\n    public void myMethodTest() throws Exception {\n        Response myResponse = new Response();\n        when(gatewayProxyInvoker.invoke(any(Class.class), any(Context.class), any(Request.class))).thenReturn(myResponse);\n        transformer.myMethod(/*valid input params*/);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14280764,"reputation":57,"user_id":10315546,"display_name":"Ex."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69825497,"answer_count":1,"score":1,"last_activity_date":1635945262,"creation_date":1635874390,"question_id":69814674,"body_markdown":"I&#39;m having trouble with Mockito because I can&#39;t mock a property of a third class when I&#39;m testing another one.\r\n\r\nThe class I&#39;m testing:\r\n``` \r\n@Component\r\npublic class MyTransformer {\r\n    @Autowired\r\n    private MyService myService;\r\n\t\r\n\tpublic Output myMethod(Context context, Input input, Something something) throws Exception {\r\n\t\tServiceInput serviceInput = createServiceInput(something);\r\n        myService.doSomething(context, input, serviceInput);\r\n\t\treturn new Output(); \r\n\t}\r\n}\r\n```\r\nThe interface used in the previous class:\r\n```\r\npublic interface MyService {\r\n    public void doSomething(Context context, Input input, Something something) throws Exception;\r\n}\r\n```\r\nThe real implementation of the service:\r\n```\r\n@Service\r\npublic class MyServiceImpl implements MyService {\r\n\r\n    @CustomServiceAnnotation(serviceName = &quot;MyServiceName&quot;, apiPaths = {\r\n        ServiceApiPath.class\r\n    })\r\n    private GatewayProxyInvoker gatewayProxyInvoker; // this property is null\r\n\r\n    @Override\r\n    public void doSomething(Context context, Input input, Something something) throws Exception {\r\n    \tRequest request = MyServiceCommand.createRequest(context, input, something);\r\n    \tResponse response = Invoker.invoke(Response.class, gatewayProxyInvoker, context, request);\r\n    }\r\n}\r\n```\r\nThe class that throws a NullPointerException because the gatewayProxyInvoker property is null:\r\n```\r\npublic class Invoker {\r\n    public static T invoke(final Class&lt;T&gt; responseType, final GatewayProxyInvoker gatewayProxyInvoker, final Context context, S request) throws Exception {\r\n        return gatewayProxyInvoker.invoke(responseType, context, request);\r\n    }\r\n}\r\n```\r\nTest class:\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class MyTransformerTest {\r\n    @InjectMocks\r\n    private MyTransformer transformer;\r\n\r\n    @Mock\r\n    private MyServiceImpl myService;\r\n\t\r\n\t@Mock\r\n    private GatewayProxyInvoker gatewayProxyInvoker;\r\n\t\r\n    @Test\r\n    public void myMethodTest() throws Exception {\r\n\t    Response myResponse = new Response();\r\n\t\t\r\n\t\tdoCallRealMethod().when(myService).doSomething(any(Context.class), any(Input.class), any(Something.class));\r\n\t\t\r\n        when(gatewayProxyInvoker.invoke(any(Class.class), any(Context.class), any(Request.class))).thenReturn(myResponse);\r\n\t\t\r\n\t\ttransformer.myMethod(/*valid input params*/);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe property &quot;gatewayProxyInvoker&quot; is null so I&#39;m thinking I&#39;m doing something wrong in the process of mocking it.\r\n\r\nThe code works fine, it&#39;s my JUnit test that is not working.\r\n\r\nHow can I mock a property of a third class when I&#39;m testing another one?\r\nIn my example as you can see the method is void, the class I&#39;m testing use an interface.\r\n\r\nThank you all, guys!","title":"Mockito can&#39;t mock a property of a third class when I&#39;m testing another one","body":"<p>I'm having trouble with Mockito because I can't mock a property of a third class when I'm testing another one.</p>\n<p>The class I'm testing:</p>\n<pre><code>@Component\npublic class MyTransformer {\n    @Autowired\n    private MyService myService;\n    \n    public Output myMethod(Context context, Input input, Something something) throws Exception {\n        ServiceInput serviceInput = createServiceInput(something);\n        myService.doSomething(context, input, serviceInput);\n        return new Output(); \n    }\n}\n</code></pre>\n<p>The interface used in the previous class:</p>\n<pre><code>public interface MyService {\n    public void doSomething(Context context, Input input, Something something) throws Exception;\n}\n</code></pre>\n<p>The real implementation of the service:</p>\n<pre><code>@Service\npublic class MyServiceImpl implements MyService {\n\n    @CustomServiceAnnotation(serviceName = &quot;MyServiceName&quot;, apiPaths = {\n        ServiceApiPath.class\n    })\n    private GatewayProxyInvoker gatewayProxyInvoker; // this property is null\n\n    @Override\n    public void doSomething(Context context, Input input, Something something) throws Exception {\n        Request request = MyServiceCommand.createRequest(context, input, something);\n        Response response = Invoker.invoke(Response.class, gatewayProxyInvoker, context, request);\n    }\n}\n</code></pre>\n<p>The class that throws a NullPointerException because the gatewayProxyInvoker property is null:</p>\n<pre><code>public class Invoker {\n    public static T invoke(final Class&lt;T&gt; responseType, final GatewayProxyInvoker gatewayProxyInvoker, final Context context, S request) throws Exception {\n        return gatewayProxyInvoker.invoke(responseType, context, request);\n    }\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MyTransformerTest {\n    @InjectMocks\n    private MyTransformer transformer;\n\n    @Mock\n    private MyServiceImpl myService;\n    \n    @Mock\n    private GatewayProxyInvoker gatewayProxyInvoker;\n    \n    @Test\n    public void myMethodTest() throws Exception {\n        Response myResponse = new Response();\n        \n        doCallRealMethod().when(myService).doSomething(any(Context.class), any(Input.class), any(Something.class));\n        \n        when(gatewayProxyInvoker.invoke(any(Class.class), any(Context.class), any(Request.class))).thenReturn(myResponse);\n        \n        transformer.myMethod(/*valid input params*/);\n    }\n}\n\n</code></pre>\n<p>The property &quot;gatewayProxyInvoker&quot; is null so I'm thinking I'm doing something wrong in the process of mocking it.</p>\n<p>The code works fine, it's my JUnit test that is not working.</p>\n<p>How can I mock a property of a third class when I'm testing another one?\nIn my example as you can see the method is void, the class I'm testing use an interface.</p>\n<p>Thank you all, guys!</p>\n"},{"tags":["java","redis","lettuce"],"answers":[{"tags":[],"owner":{"account_id":99824,"reputation":14202,"user_id":269447,"accept_rate":70,"display_name":"Laurent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604668005,"creation_date":1604668005,"answer_id":64715230,"question_id":58274944,"body_markdown":"I was experiencing a similar need and end up writing the following codec:\r\n\r\n```java\r\nimport io.lettuce.core.codec.RedisCodec;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.CharBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class StringLongRedisCodec implements RedisCodec&lt;String, Long&gt; {\r\n\r\n    @Override\r\n    public String decodeKey(final ByteBuffer bytes) {\r\n        return StandardCharsets.US_ASCII.decode(bytes).toString();\r\n    }\r\n\r\n    @Override\r\n    public Long decodeValue(final ByteBuffer bytes) {\r\n        final CharBuffer charSequence = StandardCharsets.US_ASCII.decode(bytes);\r\n        return Long.parseLong(charSequence, 0, charSequence.length(), 10);\r\n    }\r\n\r\n    @Override\r\n    public ByteBuffer encodeKey(final String key) {\r\n        return StandardCharsets.US_ASCII.encode(key);\r\n    }\r\n\r\n    @Override\r\n    public ByteBuffer encodeValue(final Long value) {\r\n        return ByteBuffer.wrap(Long.toString(value).getBytes());\r\n    }\r\n\r\n}\r\n```","title":"Lettuce RedisCodec For Numbers","body":"<p>I was experiencing a similar need and end up writing the following codec:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.lettuce.core.codec.RedisCodec;\n\nimport java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\nimport java.nio.charset.StandardCharsets;\n\npublic class StringLongRedisCodec implements RedisCodec&lt;String, Long&gt; {\n\n    @Override\n    public String decodeKey(final ByteBuffer bytes) {\n        return StandardCharsets.US_ASCII.decode(bytes).toString();\n    }\n\n    @Override\n    public Long decodeValue(final ByteBuffer bytes) {\n        final CharBuffer charSequence = StandardCharsets.US_ASCII.decode(bytes);\n        return Long.parseLong(charSequence, 0, charSequence.length(), 10);\n    }\n\n    @Override\n    public ByteBuffer encodeKey(final String key) {\n        return StandardCharsets.US_ASCII.encode(key);\n    }\n\n    @Override\n    public ByteBuffer encodeValue(final Long value) {\n        return ByteBuffer.wrap(Long.toString(value).getBytes());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13784847,"reputation":1,"user_id":9949040,"display_name":"Proman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635939658,"creation_date":1635915015,"answer_id":69819816,"question_id":58274944,"body_markdown":"This [link][1] might be helpful.\r\n\r\nIt mentions\r\n\r\n&gt; Redis stores integers in their integer representation, so for string values that actually hold an integer, there is no overhead for storing the string representation of the integer.\r\n\r\nSo I think it would be safe to just save integers as strings.\r\n\r\nEdit: Just Tried using strings, it works!\r\n\r\n  [1]: https://redis.io/commands/INCR","title":"Lettuce RedisCodec For Numbers","body":"<p>This <a href=\"https://redis.io/commands/INCR\" rel=\"nofollow noreferrer\">link</a> might be helpful.</p>\n<p>It mentions</p>\n<blockquote>\n<p>Redis stores integers in their integer representation, so for string values that actually hold an integer, there is no overhead for storing the string representation of the integer.</p>\n</blockquote>\n<p>So I think it would be safe to just save integers as strings.</p>\n<p>Edit: Just Tried using strings, it works!</p>\n"},{"tags":[],"owner":{"account_id":23227968,"reputation":1,"user_id":17319209,"display_name":"Two4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635945229,"creation_date":1635945229,"answer_id":69825491,"question_id":58274944,"body_markdown":"Here is a more comprehensive `RedisCodec` for all native Number types:\r\n\r\n```java\r\nimport io.lettuce.core.codec.RedisCodec;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.HashMap;\r\nimport java.util.Objects;\r\n\r\nclass NumberRedisCodec implements RedisCodec&lt;String, Number&gt; {\r\n\r\n    @Override\r\n    public String decodeKey(ByteBuffer bytes) {\r\n        return new String(bytes.array(), StandardCharsets.UTF_8);\r\n    }\r\n\r\n    @Override\r\n    public Number decodeValue(ByteBuffer bytes) {\r\n        NumberClassEnum enumValue = NumberClassEnum.forID(bytes.get(0));\r\n        switch (enumValue) {\r\n            case BYTE:\r\n                return bytes.get(1);\r\n            case SHORT:\r\n                return bytes.getShort(1);\r\n            case INT:\r\n                return bytes.getInt(1);\r\n            case LONG:\r\n                return bytes.getLong(1);\r\n            case FLOAT:\r\n                return bytes.getFloat(1);\r\n            case DOUBLE:\r\n                return bytes.getDouble(1);\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Number type not supported&quot;); //should be unreachable\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public ByteBuffer encodeKey(String key) {\r\n        return ByteBuffer.wrap(key.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n\r\n    @Override\r\n    public ByteBuffer encodeValue(Number value) {\r\n        NumberClassEnum enumValue = NumberClassEnum.forClass(value.getClass());\r\n        if (Objects.isNull(enumValue)) {\r\n            throw new IllegalArgumentException(&quot;Number type not supported&quot;);\r\n        }\r\n        ByteBuffer byteBuffer = ByteBuffer.allocate(enumValue.numBytes + 1);\r\n        byteBuffer.put(0, enumValue.id);\r\n        switch (enumValue) {\r\n            case BYTE:\r\n                byteBuffer.put(value.byteValue());\r\n                break;\r\n            case SHORT:\r\n                byteBuffer.putShort(value.shortValue());\r\n                break;\r\n            case INT:\r\n                byteBuffer.putInt(value.intValue());\r\n                break;\r\n            case LONG:\r\n                byteBuffer.putLong(value.longValue());\r\n                break;\r\n            case FLOAT:\r\n                byteBuffer.putFloat(value.floatValue());\r\n                break;\r\n            case DOUBLE:\r\n                byteBuffer.putDouble(value.doubleValue());\r\n                break;\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Number type not supported&quot;); //should be unreachable\r\n        }\r\n        return byteBuffer;\r\n    }\r\n\r\n    private enum NumberClassEnum {\r\n        BYTE(Byte.class, 1, (byte) 1),\r\n        SHORT(Short.class, 2, (byte) 2),\r\n        INT(Integer.class, 4, (byte) 3),\r\n        LONG(Long.class, 8, (byte) 4),\r\n        FLOAT(Float.class, 4, (byte) 5),\r\n        DOUBLE(Double.class, 8, (byte) 6);\r\n\r\n        public final Class&lt;? extends Number&gt; numberClass;\r\n        public final int numBytes;\r\n        public final byte id;\r\n\r\n        private static final HashMap&lt;Byte, NumberClassEnum&gt; enumIDMap;\r\n        private static final HashMap&lt;Class&lt;? extends Number&gt;, NumberClassEnum&gt; enumClassMap;\r\n\r\n        static {\r\n            enumIDMap = new HashMap&lt;&gt;();\r\n            enumIDMap.put(BYTE.id, BYTE);\r\n            enumIDMap.put(SHORT.id, SHORT);\r\n            enumIDMap.put(INT.id, INT);\r\n            enumIDMap.put(LONG.id, LONG);\r\n            enumIDMap.put(FLOAT.id, FLOAT);\r\n            enumIDMap.put(DOUBLE.id, DOUBLE);\r\n\r\n            enumClassMap = new HashMap&lt;&gt;();\r\n            enumClassMap.put(BYTE.numberClass, BYTE);\r\n            enumClassMap.put(SHORT.numberClass, SHORT);\r\n            enumClassMap.put(INT.numberClass, INT);\r\n            enumClassMap.put(LONG.numberClass, LONG);\r\n            enumClassMap.put(FLOAT.numberClass, FLOAT);\r\n            enumClassMap.put(DOUBLE.numberClass, DOUBLE);\r\n        }\r\n\r\n        public static NumberClassEnum forID(byte id) {\r\n            return enumIDMap.get(id);\r\n        }\r\n\r\n        public static NumberClassEnum forClass(Class&lt;? extends Number&gt; clazz) {\r\n            return enumClassMap.get(clazz);\r\n        }\r\n\r\n        NumberClassEnum(Class&lt;? extends Number&gt; numberClass, int numBytes, byte id) {\r\n            this.numberClass = numberClass;\r\n            this.numBytes = numBytes;\r\n            this.id = id;\r\n        }\r\n    }\r\n}\r\n```","title":"Lettuce RedisCodec For Numbers","body":"<p>Here is a more comprehensive <code>RedisCodec</code> for all native Number types:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.lettuce.core.codec.RedisCodec;\n\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.Objects;\n\nclass NumberRedisCodec implements RedisCodec&lt;String, Number&gt; {\n\n    @Override\n    public String decodeKey(ByteBuffer bytes) {\n        return new String(bytes.array(), StandardCharsets.UTF_8);\n    }\n\n    @Override\n    public Number decodeValue(ByteBuffer bytes) {\n        NumberClassEnum enumValue = NumberClassEnum.forID(bytes.get(0));\n        switch (enumValue) {\n            case BYTE:\n                return bytes.get(1);\n            case SHORT:\n                return bytes.getShort(1);\n            case INT:\n                return bytes.getInt(1);\n            case LONG:\n                return bytes.getLong(1);\n            case FLOAT:\n                return bytes.getFloat(1);\n            case DOUBLE:\n                return bytes.getDouble(1);\n            default:\n                throw new IllegalArgumentException(&quot;Number type not supported&quot;); //should be unreachable\n        }\n    }\n\n    @Override\n    public ByteBuffer encodeKey(String key) {\n        return ByteBuffer.wrap(key.getBytes(StandardCharsets.UTF_8));\n    }\n\n    @Override\n    public ByteBuffer encodeValue(Number value) {\n        NumberClassEnum enumValue = NumberClassEnum.forClass(value.getClass());\n        if (Objects.isNull(enumValue)) {\n            throw new IllegalArgumentException(&quot;Number type not supported&quot;);\n        }\n        ByteBuffer byteBuffer = ByteBuffer.allocate(enumValue.numBytes + 1);\n        byteBuffer.put(0, enumValue.id);\n        switch (enumValue) {\n            case BYTE:\n                byteBuffer.put(value.byteValue());\n                break;\n            case SHORT:\n                byteBuffer.putShort(value.shortValue());\n                break;\n            case INT:\n                byteBuffer.putInt(value.intValue());\n                break;\n            case LONG:\n                byteBuffer.putLong(value.longValue());\n                break;\n            case FLOAT:\n                byteBuffer.putFloat(value.floatValue());\n                break;\n            case DOUBLE:\n                byteBuffer.putDouble(value.doubleValue());\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Number type not supported&quot;); //should be unreachable\n        }\n        return byteBuffer;\n    }\n\n    private enum NumberClassEnum {\n        BYTE(Byte.class, 1, (byte) 1),\n        SHORT(Short.class, 2, (byte) 2),\n        INT(Integer.class, 4, (byte) 3),\n        LONG(Long.class, 8, (byte) 4),\n        FLOAT(Float.class, 4, (byte) 5),\n        DOUBLE(Double.class, 8, (byte) 6);\n\n        public final Class&lt;? extends Number&gt; numberClass;\n        public final int numBytes;\n        public final byte id;\n\n        private static final HashMap&lt;Byte, NumberClassEnum&gt; enumIDMap;\n        private static final HashMap&lt;Class&lt;? extends Number&gt;, NumberClassEnum&gt; enumClassMap;\n\n        static {\n            enumIDMap = new HashMap&lt;&gt;();\n            enumIDMap.put(BYTE.id, BYTE);\n            enumIDMap.put(SHORT.id, SHORT);\n            enumIDMap.put(INT.id, INT);\n            enumIDMap.put(LONG.id, LONG);\n            enumIDMap.put(FLOAT.id, FLOAT);\n            enumIDMap.put(DOUBLE.id, DOUBLE);\n\n            enumClassMap = new HashMap&lt;&gt;();\n            enumClassMap.put(BYTE.numberClass, BYTE);\n            enumClassMap.put(SHORT.numberClass, SHORT);\n            enumClassMap.put(INT.numberClass, INT);\n            enumClassMap.put(LONG.numberClass, LONG);\n            enumClassMap.put(FLOAT.numberClass, FLOAT);\n            enumClassMap.put(DOUBLE.numberClass, DOUBLE);\n        }\n\n        public static NumberClassEnum forID(byte id) {\n            return enumIDMap.get(id);\n        }\n\n        public static NumberClassEnum forClass(Class&lt;? extends Number&gt; clazz) {\n            return enumClassMap.get(clazz);\n        }\n\n        NumberClassEnum(Class&lt;? extends Number&gt; numberClass, int numBytes, byte id) {\n            this.numberClass = numberClass;\n            this.numBytes = numBytes;\n            this.id = id;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1613240,"reputation":2365,"user_id":1491636,"accept_rate":46,"display_name":"user1491636"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1984,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1635945229,"creation_date":1570471649,"question_id":58274944,"body_markdown":"Using Lettuce 5 as a Redis client for the first time, I&#39;m finding it rather confusing to simply create a `RedisCommands&lt;String, Long&gt;` for getting/setting Redis values as a Long. \r\n\r\nIt&#39;s a little unclear to me how I can accomplish this. From what I gather, the simplest way is to use the `RedisClient` overloaded [constructor][1] which takes a `RedisCodec` and `RedisURI`, but it seems I also need to implement the codec decoding/encoding methods?\r\n\r\nSince storing numbers is a fairly common use case with Redis, I find this approach rather bloated and I&#39;m surprised there is no predefined codec for integer/long. Given this, I suspect there may be a simpler alternative that I have not come across. Is there an alternate approach?\r\n\r\n  [1]: https://lettuce.io/core/release/api/io/lettuce/core/RedisClient.html#connect-io.lettuce.core.codec.RedisCodec-io.lettuce.core.RedisURI-","title":"Lettuce RedisCodec For Numbers","body":"<p>Using Lettuce 5 as a Redis client for the first time, I'm finding it rather confusing to simply create a <code>RedisCommands&lt;String, Long&gt;</code> for getting/setting Redis values as a Long.</p>\n<p>It's a little unclear to me how I can accomplish this. From what I gather, the simplest way is to use the <code>RedisClient</code> overloaded <a href=\"https://lettuce.io/core/release/api/io/lettuce/core/RedisClient.html#connect-io.lettuce.core.codec.RedisCodec-io.lettuce.core.RedisURI-\" rel=\"noreferrer\">constructor</a> which takes a <code>RedisCodec</code> and <code>RedisURI</code>, but it seems I also need to implement the codec decoding/encoding methods?</p>\n<p>Since storing numbers is a fairly common use case with Redis, I find this approach rather bloated and I'm surprised there is no predefined codec for integer/long. Given this, I suspect there may be a simpler alternative that I have not come across. Is there an alternate approach?</p>\n"},{"tags":["java","jboss","wildfly","activemq-artemis"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1636096884,"post_id":69825061,"comment_id":123470564,"body_markdown":"Someone is trying to read an attribute on the runtime queue  &quot;b119be15-b3ad-4d07-bafc-224c1745020b&quot;. I don&#39;t know who or why. Also this queue seems to be generated so it feels strange to me.","body":"Someone is trying to read an attribute on the runtime queue  &quot;b119be15-b3ad-4d07-bafc-224c1745020b&quot;. I don&#39;t know who or why. Also this queue seems to be generated so it feels strange to me."},{"owner":{"account_id":1060002,"reputation":89,"user_id":1061835,"display_name":"gkatz"},"score":0,"creation_date":1636200769,"post_id":69825061,"comment_id":123495978,"body_markdown":"Thanks Justin, diving into this we found that the metrics url which retrieves the vendor and base causes this. Is there a know issue here? I. Reffering to microprofile metrics we use for Prometheus scrapping","body":"Thanks Justin, diving into this we found that the metrics url which retrieves the vendor and base causes this. Is there a know issue here? I. Reffering to microprofile metrics we use for Prometheus scrapping"},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1636381426,"post_id":69825061,"comment_id":123534299,"body_markdown":"This is currently being tracked by https://issues.redhat.com/browse/WFLY-14509","body":"This is currently being tracked by <a href=\"https://issues.redhat.com/browse/WFLY-14509\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/WFLY-14509</a>"}],"owner":{"account_id":1060002,"reputation":89,"user_id":1061835,"display_name":"gkatz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635945120,"creation_date":1635943415,"question_id":69825061,"body_markdown":"I am having a hard time undertanding how to solve this one. I keep getting errors on start up specifically on a containrized env - on regular env seems to work (which makes it stranger).\r\nyour help is very much appreciated.\r\nfrom the logs:\r\n```\r\n2021-11-02 08:55:20,783 INFO  [org.jboss.as] WFLYSRV0025: WildFly Full 23.0.0.Final (WildFly Core 15.0.0.Final) started in 54029ms - Started 7123 of 7329 services (563 services are lazy, passive or on-demand)\r\n2021-11-02 08:55:20,810 INFO  [org.jboss.as] WFLYSRV0060: Http management interface listening on http://0.0.0.0:9990/management\r\n2021-11-02 08:55:20,832 INFO  [org.jboss.as] WFLYSRV0051: Admin console listening on http://0.0.0.0:9990\r\n2021-11-03 01:00:03,891 ERROR [org.jboss.as.controller.management-operation] WFLYCTL0013: Operation (&quot;read-attribute&quot;) failed - address: ([\r\n    (&quot;subsystem&quot; =&gt; &quot;messaging-activemq&quot;),\r\n    (&quot;server&quot; =&gt; &quot;default&quot;),\r\n    (&quot;runtime-queue&quot; =&gt; &quot;b119be15-b3ad-4d07-bafc-224c1745020b&quot;)\r\n]) - failure description: &quot;WFLYCTL0216: Management resource &#39;[\r\n    (\\&quot;subsystem\\&quot; =&gt; \\&quot;messaging-activemq\\&quot;),\r\n    (\\&quot;server\\&quot; =&gt; \\&quot;default\\&quot;),\r\n    (\\&quot;runtime-queue\\&quot; =&gt; \\&quot;b119be15-b3ad-4d07-bafc-224c1745020b\\&quot;)\r\n]&#39; not found&quot;\r\n```","title":"wildfly 23 server failing to start (WFLYCTL0013 error)","body":"<p>I am having a hard time undertanding how to solve this one. I keep getting errors on start up specifically on a containrized env - on regular env seems to work (which makes it stranger).\nyour help is very much appreciated.\nfrom the logs:</p>\n<pre><code>2021-11-02 08:55:20,783 INFO  [org.jboss.as] WFLYSRV0025: WildFly Full 23.0.0.Final (WildFly Core 15.0.0.Final) started in 54029ms - Started 7123 of 7329 services (563 services are lazy, passive or on-demand)\n2021-11-02 08:55:20,810 INFO  [org.jboss.as] WFLYSRV0060: Http management interface listening on http://0.0.0.0:9990/management\n2021-11-02 08:55:20,832 INFO  [org.jboss.as] WFLYSRV0051: Admin console listening on http://0.0.0.0:9990\n2021-11-03 01:00:03,891 ERROR [org.jboss.as.controller.management-operation] WFLYCTL0013: Operation (&quot;read-attribute&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;messaging-activemq&quot;),\n    (&quot;server&quot; =&gt; &quot;default&quot;),\n    (&quot;runtime-queue&quot; =&gt; &quot;b119be15-b3ad-4d07-bafc-224c1745020b&quot;)\n]) - failure description: &quot;WFLYCTL0216: Management resource '[\n    (\\&quot;subsystem\\&quot; =&gt; \\&quot;messaging-activemq\\&quot;),\n    (\\&quot;server\\&quot; =&gt; \\&quot;default\\&quot;),\n    (\\&quot;runtime-queue\\&quot; =&gt; \\&quot;b119be15-b3ad-4d07-bafc-224c1745020b\\&quot;)\n]' not found&quot;\n</code></pre>\n"},{"tags":["java","jackson","geojson","json-deserialization","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635945044,"creation_date":1635944549,"answer_id":69825330,"question_id":69824381,"body_markdown":"You can read this JSON content by\r\n\r\n    GeoJsonObject object = objectMapper.readValue(json, GeoJsonObject.class);\r\n    if (object instanceof FeatureCollection) {\r\n        FeatureCollection featureCollection = (FeatureCollection) object;\r\n        ...\r\n    }\r\n\t\r\nJackson will automatically recognize your JSON example as a `FeatureCollection` object,\r\nbecause of the annotations on the `GeoJsonObject` class:\r\n\r\n    @JsonTypeInfo(property = &quot;type&quot;, use = Id.NAME)\r\n    @JsonSubTypes({ @Type(Feature.class), ...,  @Type(FeatureCollection.class), ... })\r\n    ...\r\n    public abstract class GeoJsonObject implements Serializable {\r\n\t    ...\r\n    }\r\n","title":"GeoJson Jackson - parse JSON to Java object fails","body":"<p>You can read this JSON content by</p>\n<pre><code>GeoJsonObject object = objectMapper.readValue(json, GeoJsonObject.class);\nif (object instanceof FeatureCollection) {\n    FeatureCollection featureCollection = (FeatureCollection) object;\n    ...\n}\n</code></pre>\n<p>Jackson will automatically recognize your JSON example as a <code>FeatureCollection</code> object,\nbecause of the annotations on the <code>GeoJsonObject</code> class:</p>\n<pre><code>@JsonTypeInfo(property = &quot;type&quot;, use = Id.NAME)\n@JsonSubTypes({ @Type(Feature.class), ...,  @Type(FeatureCollection.class), ... })\n...\npublic abstract class GeoJsonObject implements Serializable {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":13079250,"reputation":305,"user_id":9450301,"accept_rate":50,"display_name":"dorcsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635945044,"creation_date":1635940473,"question_id":69824381,"body_markdown":"I am working on parsing a GeoJSON file into Java POJO classes.\r\nI have found the GeoJSON Jackson library which seems to be exactly the same as I need.\r\n\r\nhttps://github.com/opendatalab-de/geojson-jackson\r\n\r\nI have a JSON like the following:\r\n\r\n        {\r\n      &quot;type&quot;: &quot;FeatureCollection&quot;,\r\n      &quot;features&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;Feature&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;lfdNr&quot;: 1,\r\n            &quot;betriebsNummer&quot;: 33,\r\n            &quot;nummer&quot;: 4,\r\n            &quot;bezeichnung&quot;: &quot;TERST&quot;,\r\n            &quot;kng&quot;: 61062323,\r\n            &quot;nArtCode&quot;: &quot;A&quot;,\r\n            &quot;nArtB&quot;: &quot;ACKERLAND&quot;,\r\n            &quot;flaeche&quot;: 4.0748\r\n          },\r\n          &quot;geometry&quot;: {\r\n            &quot;type&quot;: &quot;Polygon&quot;,\r\n            &quot;coordinates&quot;: [\r\n              [\r\n                [\r\n                  15.8867118536754,\r\n                  48.4004384452486\r\n                ],\r\n                [\r\n                  15.884483831836,\r\n                  48.3981983444393\r\n                ],\r\n                [\r\n                  15.8847389374202,\r\n                  48.3991957290405\r\n                ],\r\n                [\r\n                  15.8853143451339,\r\n                  48.3991585954555\r\n                ],\r\n                [\r\n                  15.8851662097189,\r\n                  48.398462039698\r\n                ],\r\n                ....\r\n              ]\r\n            ]\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nI wish to use it as a FeatureCollection java object:\r\n\r\n    objectMapper.readValue(json, FeatureCollection.class);\r\n\r\nI get the following:\r\n\r\n        com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct \r\n        instance of `org.geojson.GeoJsonObject` \r\n    (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, \r\n    have custom deserializer, or contain additional type information\r\n     at [Source: (String)&quot;{&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[{&quot;type&quot;:&quot;Feature&quot;,&quot;properties&quot;:{&quot;lfdNr&quot;:1,&quot;betriebsNummer&quot;:10086722,&quot;nummer&quot;:4,&quot;bezeichnung&quot;:&quot;TERST&quot;,&quot;fskennung&quot;:61062323,&quot;nutzungsArtCode&quot;:&quot;A&quot;,&quot;nutzungsArtBezeichnung&quot;:&quot;ACKERLAND&quot;,&quot;flaeche&quot;:4.0748},&quot;geometry&quot;:{&quot;type&quot;:&quot;Polygon&quot;,&quot;coordinates&quot;:[[[15.8867118536754,48.4004384452486],[15.8829132747878,48.4002081767679],[&quot;[truncated 2362 chars]; line: 1, column: 251] \r\n     (through reference chain: org.geojson.FeatureCollection[&quot;features&quot;]-&gt;java.util.ArrayList[0]-&gt;org.geojson.Feature[&quot;geometry&quot;])\r\n\r\nI assume it is because the class Geometry a generic type is:\r\n\r\n    public abstract class Geometry&lt;T&gt; extends GeoJsonObject\r\n\r\nI only operate with Polygons and Points.\r\n\r\nAny ides how can I get it working?\r\n\r\nThanks a lot!","title":"GeoJson Jackson - parse JSON to Java object fails","body":"<p>I am working on parsing a GeoJSON file into Java POJO classes.\nI have found the GeoJSON Jackson library which seems to be exactly the same as I need.</p>\n<p><a href=\"https://github.com/opendatalab-de/geojson-jackson\" rel=\"nofollow noreferrer\">https://github.com/opendatalab-de/geojson-jackson</a></p>\n<p>I have a JSON like the following:</p>\n<pre><code>    {\n  &quot;type&quot;: &quot;FeatureCollection&quot;,\n  &quot;features&quot;: [\n    {\n      &quot;type&quot;: &quot;Feature&quot;,\n      &quot;properties&quot;: {\n        &quot;lfdNr&quot;: 1,\n        &quot;betriebsNummer&quot;: 33,\n        &quot;nummer&quot;: 4,\n        &quot;bezeichnung&quot;: &quot;TERST&quot;,\n        &quot;kng&quot;: 61062323,\n        &quot;nArtCode&quot;: &quot;A&quot;,\n        &quot;nArtB&quot;: &quot;ACKERLAND&quot;,\n        &quot;flaeche&quot;: 4.0748\n      },\n      &quot;geometry&quot;: {\n        &quot;type&quot;: &quot;Polygon&quot;,\n        &quot;coordinates&quot;: [\n          [\n            [\n              15.8867118536754,\n              48.4004384452486\n            ],\n            [\n              15.884483831836,\n              48.3981983444393\n            ],\n            [\n              15.8847389374202,\n              48.3991957290405\n            ],\n            [\n              15.8853143451339,\n              48.3991585954555\n            ],\n            [\n              15.8851662097189,\n              48.398462039698\n            ],\n            ....\n          ]\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>I wish to use it as a FeatureCollection java object:</p>\n<pre><code>objectMapper.readValue(json, FeatureCollection.class);\n</code></pre>\n<p>I get the following:</p>\n<pre><code>    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct \n    instance of `org.geojson.GeoJsonObject` \n(no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, \nhave custom deserializer, or contain additional type information\n at [Source: (String)&quot;{&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[{&quot;type&quot;:&quot;Feature&quot;,&quot;properties&quot;:{&quot;lfdNr&quot;:1,&quot;betriebsNummer&quot;:10086722,&quot;nummer&quot;:4,&quot;bezeichnung&quot;:&quot;TERST&quot;,&quot;fskennung&quot;:61062323,&quot;nutzungsArtCode&quot;:&quot;A&quot;,&quot;nutzungsArtBezeichnung&quot;:&quot;ACKERLAND&quot;,&quot;flaeche&quot;:4.0748},&quot;geometry&quot;:{&quot;type&quot;:&quot;Polygon&quot;,&quot;coordinates&quot;:[[[15.8867118536754,48.4004384452486],[15.8829132747878,48.4002081767679],[&quot;[truncated 2362 chars]; line: 1, column: 251] \n (through reference chain: org.geojson.FeatureCollection[&quot;features&quot;]-&gt;java.util.ArrayList[0]-&gt;org.geojson.Feature[&quot;geometry&quot;])\n</code></pre>\n<p>I assume it is because the class Geometry a generic type is:</p>\n<pre><code>public abstract class Geometry&lt;T&gt; extends GeoJsonObject\n</code></pre>\n<p>I only operate with Polygons and Points.</p>\n<p>Any ides how can I get it working?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","collections","concurrency","volatile","java-memory-model"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1409339802,"post_id":25574797,"comment_id":39942618,"body_markdown":"Note that the `volatile` keyword applies to the list or array variable itself, not to the contents of the list or array.","body":"Note that the <code>volatile</code> keyword applies to the list or array variable itself, not to the contents of the list or array."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1409339825,"post_id":25574797,"comment_id":39942634,"body_markdown":"It&#39;s not clear what you&#39;re asking here.  For primitives, `volatile` refers to the primitive value itself.  For objects, the `volatile` keyword refers only to the reference, not the object referred to.  So for `list` and `array`, `volatile` does not have any effect on the contents of the list or array.  `volatile` does not do what what you seem to think it does.","body":"It&#39;s not clear what you&#39;re asking here.  For primitives, <code>volatile</code> refers to the primitive value itself.  For objects, the <code>volatile</code> keyword refers only to the reference, not the object referred to.  So for <code>list</code> and <code>array</code>, <code>volatile</code> does not have any effect on the contents of the list or array.  <code>volatile</code> does not do what what you seem to think it does."},{"owner":{"display_name":"user3458"},"score":1,"creation_date":1409340128,"post_id":25574797,"comment_id":39942788,"body_markdown":"@JimGarrison in Java 1.5 and newer, volatile guarantees visibility of all the changes made before the assignment to volatile, not just the changes in the vloatile itself. So it can be relevant.","body":"@JimGarrison in Java 1.5 and newer, volatile guarantees visibility of all the changes made before the assignment to volatile, not just the changes in the vloatile itself. So it can be relevant."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1409354941,"post_id":25574797,"comment_id":39947760,"body_markdown":"Note that you cannot add or remove elements from the `List` returned by `Arrays.asList`; you can only set elements without changing the size of the list. This is mostly irrelevant to the memory model issues you&#39;re asking about though.","body":"Note that you cannot add or remove elements from the <code>List</code> returned by <code>Arrays.asList</code>; you can only set elements without changing the size of the list. This is mostly irrelevant to the memory model issues you&#39;re asking about though."}],"answers":[{"tags":[],"owner":{"display_name":"user3458"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409340035,"creation_date":1409340035,"answer_id":25574896,"question_id":25574797,"body_markdown":"The &quot;publishing&quot; happens between the thread that sets the volatile value and teh thread that gets it.\r\n\r\nYou need to both \r\n\r\n    publisher = 1;\r\n\r\nin one thread and \r\n\r\n    int local = publisher;\r\n\r\nin the other.","title":"Using volatile collections and arrays in Java","body":"<p>The \"publishing\" happens between the thread that sets the volatile value and teh thread that gets it.</p>\n\n<p>You need to both </p>\n\n<pre><code>publisher = 1;\n</code></pre>\n\n<p>in one thread and </p>\n\n<pre><code>int local = publisher;\n</code></pre>\n\n<p>in the other.</p>\n"},{"tags":[],"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635945019,"creation_date":1409340140,"answer_id":25574912,"question_id":25574797,"body_markdown":"That is correct, but...\r\n\r\nThe `volatile` keyword on the list and array are irrelevant here - the fact that you write a value to the `volatile` `publisher` **after** you write the other values, and read back that value in your `if` condition **before** reading the other values in the second thread guarantees you memory consistency between those threads.\r\n\r\nIf you remove the `volatile` keyword from the list and array, your code will still be safe.\r\n\r\nIf you remove the `publisher` variable write/read, then the `add` operation\\* and array assignment are no longer safe.\r\n\r\nAnd yes, the initial assignment to the variables is also safe.\r\n\r\n\\* *which is actually invalid on that particular list anyway as pointed out by Stuart Marks, but let&#39;s assume it&#39;s e.g. an ArrayList*","title":"Using volatile collections and arrays in Java","body":"<p>That is correct, but...</p>\n<p>The <code>volatile</code> keyword on the list and array are irrelevant here - the fact that you write a value to the <code>volatile</code> <code>publisher</code> <strong>after</strong> you write the other values, and read back that value in your <code>if</code> condition <strong>before</strong> reading the other values in the second thread guarantees you memory consistency between those threads.</p>\n<p>If you remove the <code>volatile</code> keyword from the list and array, your code will still be safe.</p>\n<p>If you remove the <code>publisher</code> variable write/read, then the <code>add</code> operation* and array assignment are no longer safe.</p>\n<p>And yes, the initial assignment to the variables is also safe.</p>\n<p>* <em>which is actually invalid on that particular list anyway as pointed out by Stuart Marks, but let's assume it's e.g. an ArrayList</em></p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1409355572,"creation_date":1409355572,"answer_id":25577567,"question_id":25574797,"body_markdown":"Looking strictly at what the code is doing, and nothing more, and assessing it only in terms of the memory model, you are correct. The write to the volatile variable `publisher` in thread 1 and the read from the volatile variable in thread 2 establish a *happens-before* relationship, so all previous writes from thread 1 will be visible to subsequent reads from thread 2.\r\n\r\nAs CupawnTae noted, it&#39;s not necessary for the list and the array to be volatile in order for this to hold. Only `publisher` needs to be volatile.\r\n\r\nLooking at this from a broader perspective, it&#39;s very difficult to extend this code to do anything else. (Set aside the fact that the `List` returned by `Arrays.asList` cannot have elements added to it; assume it&#39;s an `ArrayList` instead.) Presumably thread 1, or some other thread, will want to continue to add elements to the list. If this happens to cause the `ArrayList` to reallocate its underlying array, this might occur while thread 2 is still reading results from the previous addition. Thus, inconsistent state might be visible to thread 2.\r\n\r\nSuppose further that thread 1 wants to do subsequent updates. It will have to set `publisher` to some other value, say 2. Now how do reading threads know what the correct value is to test for? Well, they can read the expected value from some other volatile variable....\r\n\r\nIt&#39;s undoubtedly possible to construct a scheme where thread 1 can write to a list (or array) at will, and thread 2 will never see anything but consistent snapshots, but you have to be exceptionally careful about memory visiblity at every step of the way. At a certain point it&#39;s easier just to use locks.\r\n","title":"Using volatile collections and arrays in Java","body":"<p>Looking strictly at what the code is doing, and nothing more, and assessing it only in terms of the memory model, you are correct. The write to the volatile variable <code>publisher</code> in thread 1 and the read from the volatile variable in thread 2 establish a <em>happens-before</em> relationship, so all previous writes from thread 1 will be visible to subsequent reads from thread 2.</p>\n\n<p>As CupawnTae noted, it's not necessary for the list and the array to be volatile in order for this to hold. Only <code>publisher</code> needs to be volatile.</p>\n\n<p>Looking at this from a broader perspective, it's very difficult to extend this code to do anything else. (Set aside the fact that the <code>List</code> returned by <code>Arrays.asList</code> cannot have elements added to it; assume it's an <code>ArrayList</code> instead.) Presumably thread 1, or some other thread, will want to continue to add elements to the list. If this happens to cause the <code>ArrayList</code> to reallocate its underlying array, this might occur while thread 2 is still reading results from the previous addition. Thus, inconsistent state might be visible to thread 2.</p>\n\n<p>Suppose further that thread 1 wants to do subsequent updates. It will have to set <code>publisher</code> to some other value, say 2. Now how do reading threads know what the correct value is to test for? Well, they can read the expected value from some other volatile variable....</p>\n\n<p>It's undoubtedly possible to construct a scheme where thread 1 can write to a list (or array) at will, and thread 2 will never see anything but consistent snapshots, but you have to be exceptionally careful about memory visiblity at every step of the way. At a certain point it's easier just to use locks.</p>\n"},{"tags":[],"owner":{"account_id":1841592,"reputation":141,"user_id":1670883,"accept_rate":0,"display_name":"dassimon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423588440,"creation_date":1423588440,"answer_id":28437726,"question_id":25574797,"body_markdown":"Have you considered using `synchronized` blocks to provide locking of the data structures that you&#39;re trying to read/write to/from?\r\n    \r\n    //in Thread 1\r\n    synchronized(someLockingMonitor) {\r\n        list.add(&quot;Safe City&quot;);\r\n        array[2] = &quot;Safe city&quot;;\r\n    }\r\n\r\n    //in Thread2\r\n    synchronized(someLockingMonitor) {\r\n        String city = list.get(3);\r\n        city = array[2];\r\n    }\r\n\r\nThis will however force any thread wishing to access one of the blocks, to wait until any other thread currently executing inside one of these block to leave the block.\r\n\r\nIf concurrency is important to you, i.e. you really want different threads reading and writing at the same time, have a look at the concurrent collections in `java.util.concurrent`.","title":"Using volatile collections and arrays in Java","body":"<p>Have you considered using <code>synchronized</code> blocks to provide locking of the data structures that you're trying to read/write to/from?</p>\n\n<pre><code>//in Thread 1\nsynchronized(someLockingMonitor) {\n    list.add(\"Safe City\");\n    array[2] = \"Safe city\";\n}\n\n//in Thread2\nsynchronized(someLockingMonitor) {\n    String city = list.get(3);\n    city = array[2];\n}\n</code></pre>\n\n<p>This will however force any thread wishing to access one of the blocks, to wait until any other thread currently executing inside one of these block to leave the block.</p>\n\n<p>If concurrency is important to you, i.e. you really want different threads reading and writing at the same time, have a look at the concurrent collections in <code>java.util.concurrent</code>.</p>\n"}],"owner":{"account_id":362912,"reputation":3281,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6214,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25574912,"answer_count":4,"score":3,"last_activity_date":1635945019,"creation_date":1409339600,"question_id":25574797,"body_markdown":"Imagine we have\r\n\r\n    volatile int publisher = 0;\r\n    volatile List&lt;String&gt; list = Arrays.asList(&quot;Buenos Aires&quot;, &quot;C&#243;rdoba&quot;, &quot;La Plata&quot;);\r\n    volatile String[] array = {&quot;Buenos Aires&quot;, &quot;C&#243;rdoba&quot;, &quot;La Plata&quot;};\r\n\r\nAs far as I understand.\r\n\r\nInitial values in list and array are published correctly and are visible to all the reading threads.\r\n\r\nAll values added after the initialization are not safe-published.\r\n\r\nStill we can read and publish them safely using \r\n\r\n    //in Thread 1\r\n    list.add(&quot;Safe City&quot;);\r\n    array[2] = &quot;Safe city&quot;;\r\n    publisher = 1;\r\n    \r\n    //in Thread2\r\n    \r\n    if(publisher == 1) {\r\n    String city = list.get(3);\r\n    city = array[2];\r\n    }\r\n\r\nAm I right?","title":"Using volatile collections and arrays in Java","body":"<p>Imagine we have</p>\n\n<pre><code>volatile int publisher = 0;\nvolatile List&lt;String&gt; list = Arrays.asList(\"Buenos Aires\", \"Crdoba\", \"La Plata\");\nvolatile String[] array = {\"Buenos Aires\", \"Crdoba\", \"La Plata\"};\n</code></pre>\n\n<p>As far as I understand.</p>\n\n<p>Initial values in list and array are published correctly and are visible to all the reading threads.</p>\n\n<p>All values added after the initialization are not safe-published.</p>\n\n<p>Still we can read and publish them safely using </p>\n\n<pre><code>//in Thread 1\nlist.add(\"Safe City\");\narray[2] = \"Safe city\";\npublisher = 1;\n\n//in Thread2\n\nif(publisher == 1) {\nString city = list.get(3);\ncity = array[2];\n}\n</code></pre>\n\n<p>Am I right?</p>\n"},{"tags":["java","apache-beam","avro"],"comments":[{"owner":{"account_id":898592,"reputation":8138,"user_id":935330,"accept_rate":62,"display_name":"danilo"},"score":0,"creation_date":1635911040,"post_id":69819306,"comment_id":123416161,"body_markdown":"https://stackoverflow.com/questions/13255589/how-to-serialize-a-date-using-avro-in-java","body":"<a href=\"https://stackoverflow.com/questions/13255589/how-to-serialize-a-date-using-avro-in-java\" title=\"how to serialize a date using avro in java\">stackoverflow.com/questions/13255589/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9492479,"reputation":45,"user_id":7056748,"display_name":"Ron Santis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635915075,"creation_date":1635911677,"answer_id":69819497,"question_id":69819306,"body_markdown":"Change the **date** schema type from **int** to **string**:\r\n\r\n\r\n\t{\r\n\t  &quot;type&quot; : &quot;record&quot;,\r\n\t  &quot;name&quot; : &quot;Entry&quot;,\r\n\t  &quot;namespace&quot; : &quot;transform&quot;,\r\n\t  &quot;fields&quot; : [  {\r\n\t\t&quot;name&quot; : &quot;ID&quot;,\r\n\t\t&quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\r\n\t  }, {\r\n\t\t&quot;name&quot; : &quot;date&quot;,\r\n\t\t&quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ],\r\n\t\t&quot;logicalType&quot;: &quot;date&quot;\r\n\t\t\r\n\t  }, {\r\n\t\t&quot;name&quot; : &quot;balance&quot;,\r\n\t\t&quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\r\n\t  } ]\r\n\t}","title":"Apache Beam: java.lang.NumberFormatException: For input string: &quot;1/31/2021&quot;","body":"<p>Change the <strong>date</strong> schema type from <strong>int</strong> to <strong>string</strong>:</p>\n<pre><code>{\n  &quot;type&quot; : &quot;record&quot;,\n  &quot;name&quot; : &quot;Entry&quot;,\n  &quot;namespace&quot; : &quot;transform&quot;,\n  &quot;fields&quot; : [  {\n    &quot;name&quot; : &quot;ID&quot;,\n    &quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\n  }, {\n    &quot;name&quot; : &quot;date&quot;,\n    &quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ],\n    &quot;logicalType&quot;: &quot;date&quot;\n    \n  }, {\n    &quot;name&quot; : &quot;balance&quot;,\n    &quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":9492479,"reputation":45,"user_id":7056748,"display_name":"Ron Santis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635945006,"creation_date":1635909676,"question_id":69819306,"body_markdown":"I want to read the below CSV file and read the date column. \r\nCSV File:\r\n\r\n|      ID      |     date |      balance      |\r\n|---------------------|------------------|------------------|\r\n|          01   | 31/01/2021       |         100      |\r\n|          02   | 28/02/2021       |         200      |\r\n|          01   | 31/05/2021       |         500      |\r\n|          02   | 30/06/2021       |         600      |\r\n\r\nSchema file :\r\n\r\n\r\n\t{\r\n\t  &quot;type&quot; : &quot;record&quot;,\r\n\t  &quot;name&quot; : &quot;Entry&quot;,\r\n\t  &quot;namespace&quot; : &quot;transform&quot;,\r\n\t  &quot;fields&quot; : [  {\r\n\t\t&quot;name&quot; : &quot;ID&quot;,\r\n\t\t&quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\r\n\t  }, {\r\n\t\t&quot;name&quot; : &quot;date&quot;,\r\n\t\t&quot;type&quot; : [ &quot;int&quot;, &quot;null&quot; ],\r\n\t\t&quot;logicalType&quot;: &quot;date&quot;\r\n\t\t\r\n\t  }, {\r\n\t\t&quot;name&quot; : &quot;balance&quot;,\r\n\t\t&quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\r\n\t  } ]\r\n\t}\r\n\r\n\r\ncode:\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tfinal File schemaFile = new File(&quot;src/main/resources/schema_ie_date.avsc&quot;);\r\n\r\n\t\tFile csvFile = new File(&quot;src/main/resources/CustomerRequestIE.csv&quot;);\r\n\r\n\t\tSchema schema = new Schema.Parser().parse(schemaFile);\r\n\r\n\t\tPipeline pipeline = Pipeline.create();\r\n\r\n\t\t// Reading schema\r\n\t\torg.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\r\n\r\n\t\tfinal PCollectionTuple tuples = pipeline\r\n\r\n\t\t\t\t// Reading csv input\r\n\t\t\t\t.apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\r\n\r\n\t\t\t\t// Reading files that matches conditions //PRashanth needs to be looked at\r\n\t\t\t\t.apply(&quot;2&quot;, FileIO.readMatches())\r\n\r\n\t\t\t\t// Reading schema and validating with schema and converts to row and returns\r\n\t\t\t\t// valid and invalid list\r\n\t\t\t\t.apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\r\n\t\t\t\t\t\tTupleTagList.of(invalidTag())));\r\n\r\n\t\t// Fetching only valid rows\r\n\r\n\t\tfinal PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\r\n\r\n\t\t\r\n\r\n\t}\r\n\r\n\r\nWhen I try to run the code, it throws number format exception.\r\n\r\n    Caused by: java.lang.NumberFormatException: For input string: &quot;1/31/2021&quot;","title":"Apache Beam: java.lang.NumberFormatException: For input string: &quot;1/31/2021&quot;","body":"<p>I want to read the below CSV file and read the date column.\nCSV File:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>date</th>\n<th>balance</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>01</td>\n<td>31/01/2021</td>\n<td>100</td>\n</tr>\n<tr>\n<td>02</td>\n<td>28/02/2021</td>\n<td>200</td>\n</tr>\n<tr>\n<td>01</td>\n<td>31/05/2021</td>\n<td>500</td>\n</tr>\n<tr>\n<td>02</td>\n<td>30/06/2021</td>\n<td>600</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Schema file :</p>\n<pre><code>{\n  &quot;type&quot; : &quot;record&quot;,\n  &quot;name&quot; : &quot;Entry&quot;,\n  &quot;namespace&quot; : &quot;transform&quot;,\n  &quot;fields&quot; : [  {\n    &quot;name&quot; : &quot;ID&quot;,\n    &quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\n  }, {\n    &quot;name&quot; : &quot;date&quot;,\n    &quot;type&quot; : [ &quot;int&quot;, &quot;null&quot; ],\n    &quot;logicalType&quot;: &quot;date&quot;\n    \n  }, {\n    &quot;name&quot; : &quot;balance&quot;,\n    &quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\n  } ]\n}\n</code></pre>\n<p>code:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    \n    final File schemaFile = new File(&quot;src/main/resources/schema_ie_date.avsc&quot;);\n\n    File csvFile = new File(&quot;src/main/resources/CustomerRequestIE.csv&quot;);\n\n    Schema schema = new Schema.Parser().parse(schemaFile);\n\n    Pipeline pipeline = Pipeline.create();\n\n    // Reading schema\n    org.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\n\n    final PCollectionTuple tuples = pipeline\n\n            // Reading csv input\n            .apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\n\n            // Reading files that matches conditions //PRashanth needs to be looked at\n            .apply(&quot;2&quot;, FileIO.readMatches())\n\n            // Reading schema and validating with schema and converts to row and returns\n            // valid and invalid list\n            .apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\n                    TupleTagList.of(invalidTag())));\n\n    // Fetching only valid rows\n\n    final PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\n\n    \n\n}\n</code></pre>\n<p>When I try to run the code, it throws number format exception.</p>\n<pre><code>Caused by: java.lang.NumberFormatException: For input string: &quot;1/31/2021&quot;\n</code></pre>\n"},{"tags":["java","overriding","inputstream","java-io"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1635945919,"post_id":69825429,"comment_id":123426847,"body_markdown":"You could solve this with a `for` or `while` loop, in which you call `read`.","body":"You could solve this with a <code>for</code> or <code>while</code> loop, in which you call <code>read</code>."},{"owner":{"account_id":23202479,"reputation":488,"user_id":17297108,"display_name":"Eric Movsessian"},"score":0,"creation_date":1635947779,"post_id":69825429,"comment_id":123427752,"body_markdown":"Thank you, it worked, but I really wanted to have a separate method for it.","body":"Thank you, it worked, but I really wanted to have a separate method for it."},{"owner":{"account_id":23202479,"reputation":488,"user_id":17297108,"display_name":"Eric Movsessian"},"score":0,"creation_date":1635976823,"post_id":69825429,"comment_id":123439137,"body_markdown":"Is there a way I could make a separate method for it?\nThis would be so helpful.","body":"Is there a way I could make a separate method for it? This would be so helpful."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1636017432,"post_id":69825429,"comment_id":123447247,"body_markdown":"What do you mean? You could define as much methods as you like.","body":"What do you mean? You could define as much methods as you like."}],"owner":{"account_id":23202479,"reputation":488,"user_id":17297108,"display_name":"Eric Movsessian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635944992,"creation_date":1635944992,"question_id":69825429,"body_markdown":"I have stumbled upon this problem:\r\n\r\nSo I have created a class for a custom filtered input stream and overridden the read() method.\r\nI also need to override the read(byte[] b) method in a way that it uses the criteria that i had defined for the read() method but it does not do. I have tried many ways.\r\n\r\n    public class CustomInput extends FilterInputStream{\r\n    \r\n    \tprotected CustomInput(InputStream in) {\r\n    \t\tsuper(in);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int read() throws IOException {\r\n    \t\tint y=super.read();\r\n    \t\tif(y==65) {\r\n    \t\t\treturn 194;\r\n    \t\t} else {\r\n    \t\t\treturn y;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \r\n    \t@Override\r\n    \tpublic int read(byte[] b) throws IOException{\r\n\r\n    \t}\r\n\r\n    }\r\n\r\nI do not know how to make each byte that the method reads whether it is a 65 and return a 194, and if it is not a 65 return whatever it reads just like I have defined in the read()  method.\r\n\r\n","title":"overriding methods for a custom Filter Input Stream in java","body":"<p>I have stumbled upon this problem:</p>\n<p>So I have created a class for a custom filtered input stream and overridden the read() method.\nI also need to override the read(byte[] b) method in a way that it uses the criteria that i had defined for the read() method but it does not do. I have tried many ways.</p>\n<pre><code>public class CustomInput extends FilterInputStream{\n\n    protected CustomInput(InputStream in) {\n        super(in);\n        \n    }\n    \n    @Override\n    public int read() throws IOException {\n        int y=super.read();\n        if(y==65) {\n            return 194;\n        } else {\n            return y;\n        }\n        \n        \n        \n    }\n    \n\n    @Override\n    public int read(byte[] b) throws IOException{\n\n    }\n\n}\n</code></pre>\n<p>I do not know how to make each byte that the method reads whether it is a 65 and return a 194, and if it is not a 65 return whatever it reads just like I have defined in the read()  method.</p>\n"},{"tags":["java","database-connection","tomcat6","jndi","connection-pooling"],"answers":[{"tags":[],"owner":{"account_id":1302561,"reputation":7519,"user_id":1252186,"display_name":"SimonSez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331433034,"creation_date":1331433034,"answer_id":9651914,"question_id":9635257,"body_markdown":"The exception says that the class `com.jolbox.bonecp.BoneCPDataSource` was not found. Have you made sure that the class is loaded either by the server or your application?\r\n\r\nIt should be located in one of those [jars.][1]\r\n\r\nHope this helped, have Fun!\r\n\r\n\r\n  [1]: http://www.jarvana.com/jarvana/search?search_type=class&amp;java_class=com.jolbox.bonecp.BoneCPDataSource","title":"Could not load the resource factory class java.lang.ClassNotFoundException: com.jolbox.bonecp.BoneCPDataSource","body":"<p>The exception says that the class <code>com.jolbox.bonecp.BoneCPDataSource</code> was not found. Have you made sure that the class is loaded either by the server or your application?</p>\n\n<p>It should be located in one of those <a href=\"http://www.jarvana.com/jarvana/search?search_type=class&amp;java_class=com.jolbox.bonecp.BoneCPDataSource\" rel=\"nofollow\">jars.</a></p>\n\n<p>Hope this helped, have Fun!</p>\n"},{"tags":[],"owner":{"account_id":3344954,"reputation":209,"user_id":2810283,"accept_rate":74,"display_name":"Artur Rem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382979482,"creation_date":1382969935,"answer_id":19637213,"question_id":9635257,"body_markdown":"You have to add this line:\r\n\r\n         &lt;pathelement location=&quot;/path/bonecp-0.7.1.RELEASE.jar&quot;/&gt;\r\ninto your classpath. Please correct the path if you want to use Netbeans.","title":"Could not load the resource factory class java.lang.ClassNotFoundException: com.jolbox.bonecp.BoneCPDataSource","body":"<p>You have to add this line:</p>\n\n<pre><code>     &lt;pathelement location=\"/path/bonecp-0.7.1.RELEASE.jar\"/&gt;\n</code></pre>\n\n<p>into your classpath. Please correct the path if you want to use Netbeans.</p>\n"},{"tags":[],"owner":{"account_id":429810,"reputation":1755,"user_id":812906,"accept_rate":96,"display_name":"Dragonborn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418100056,"creation_date":1418100056,"answer_id":27371546,"question_id":9635257,"body_markdown":"Sometimes the error can come due to mixed up jars. The connection pool uses a custom class loader and will not allow jars from different BoneCP/Datanucleus versions.","title":"Could not load the resource factory class java.lang.ClassNotFoundException: com.jolbox.bonecp.BoneCPDataSource","body":"<p>Sometimes the error can come due to mixed up jars. The connection pool uses a custom class loader and will not allow jars from different BoneCP/Datanucleus versions.</p>\n"}],"owner":{"account_id":1311527,"reputation":203,"user_id":1259438,"accept_rate":25,"display_name":"Hablu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1635944760,"creation_date":1331301680,"question_id":9635257,"body_markdown":"I want to do connection pooling using BoneCP. But i got a log of Could not load the resource factory class.\r\nI got a this error log on tomcat startup\r\n\r\n    SEVERE: Exception processing Global JNDI Resources\r\n    javax.naming.NamingException: Could not load resource factory class [Root exception is java.lang.ClassNotFoundException: com.jolbox.bonecp.BoneCPDataSource]\r\n    \tat org.apache.naming.factory.ResourceFactory.getObjectInstance(ResourceFactory.java:81)\r\n    \tat javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:304)\r\n    \tat org.apache.naming.NamingContext.lookup(NamingContext.java:793)\r\n    \tat org.apache.naming.NamingContext.lookup(NamingContext.java:140)\r\n    \tat org.apache.naming.NamingContextBindingsEnumeration.nextElementInternal(NamingContextBindingsEnumeration.java:113)\r\n    \tat org.apache.naming.NamingContextBindingsEnumeration.next(NamingContextBindingsEnumeration.java:71)\r\n    \tat org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:137)\r\n    \tat org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:109)\r\n    \tat org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.lifecycleEvent(GlobalResourcesLifecycleListener.java:81)\r\n    \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)\r\n    \tat org.apache.catalina.core.StandardServer.start(StandardServer.java:747)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:595)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\r\n    Caused by: java.lang.ClassNotFoundException: com.jolbox.bonecp.BoneCPDataSource\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:200)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:188)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:251)\r\n    \tat org.apache.naming.factory.ResourceFactory.getObjectInstance(ResourceFactory.java:79)\r\n    \t... 17 more\r\n\r\nI have added the resource to server.xml like this.\r\n\r\n    &lt;GlobalNamingResources&gt;\r\n        &lt;!-- Editable user database that can also be used by\r\n             UserDatabaseRealm to authenticate users\r\n        --&gt;\r\n        &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\r\n                  type=&quot;org.apache.catalina.UserDatabase&quot;\r\n                  description=&quot;User database that can be updated and saved&quot;\r\n                  factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\r\n                  pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\r\n    \r\n    \t    &lt;Resource type=&#39;javax.sql.DataSource&#39;\r\n                  name=&#39;demodb&#39;\r\n               factory=&#39;com.jolbox.bonecp.BoneCPDataSource&#39;\r\n       driverClassName=&#39;oracle.jdbc.driver.OracleDriver&#39;\r\n               jdbcUrl=&#39;jdbc:oracle:thin:@localhost:1521:XE&#39;\r\n              username=&#39;system&#39;\r\n              password=&#39;system&#39;\r\n            idleMaxAge=&#39;240&#39;\r\n         idleConnectionTestPeriod=&#39;60&#39;\r\n        partitionCount=&#39;3&#39;\r\n      acquireIncrement=&#39;5&#39;\r\n       maxConnectionsPerPartition=&#39;10&#39;\r\n       minConnectionsPerPartition=&#39;5&#39;\r\n              statementsCacheSize=&#39;50&#39;\r\n             releaseHelperThreads=&#39;5&#39;\r\n             /&gt;\r\n      &lt;/GlobalNamingResources&gt;\r\ncan anyone tell me what the problem is ?","title":"Could not load the resource factory class java.lang.ClassNotFoundException: com.jolbox.bonecp.BoneCPDataSource","body":"<p>I want to do connection pooling using BoneCP. But i got a log of Could not load the resource factory class.\nI got a this error log on tomcat startup</p>\n\n<pre><code>SEVERE: Exception processing Global JNDI Resources\njavax.naming.NamingException: Could not load resource factory class [Root exception is java.lang.ClassNotFoundException: com.jolbox.bonecp.BoneCPDataSource]\n    at org.apache.naming.factory.ResourceFactory.getObjectInstance(ResourceFactory.java:81)\n    at javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:304)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:793)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:140)\n    at org.apache.naming.NamingContextBindingsEnumeration.nextElementInternal(NamingContextBindingsEnumeration.java:113)\n    at org.apache.naming.NamingContextBindingsEnumeration.next(NamingContextBindingsEnumeration.java:71)\n    at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:137)\n    at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:109)\n    at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.lifecycleEvent(GlobalResourcesLifecycleListener.java:81)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)\n    at org.apache.catalina.core.StandardServer.start(StandardServer.java:747)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\nCaused by: java.lang.ClassNotFoundException: com.jolbox.bonecp.BoneCPDataSource\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:200)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n    at org.apache.naming.factory.ResourceFactory.getObjectInstance(ResourceFactory.java:79)\n    ... 17 more\n</code></pre>\n\n<p>I have added the resource to server.xml like this.</p>\n\n<pre><code>&lt;GlobalNamingResources&gt;\n    &lt;!-- Editable user database that can also be used by\n         UserDatabaseRealm to authenticate users\n    --&gt;\n    &lt;Resource name=\"UserDatabase\" auth=\"Container\"\n              type=\"org.apache.catalina.UserDatabase\"\n              description=\"User database that can be updated and saved\"\n              factory=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"\n              pathname=\"conf/tomcat-users.xml\" /&gt;\n\n        &lt;Resource type='javax.sql.DataSource'\n              name='demodb'\n           factory='com.jolbox.bonecp.BoneCPDataSource'\n   driverClassName='oracle.jdbc.driver.OracleDriver'\n           jdbcUrl='jdbc:oracle:thin:@localhost:1521:XE'\n          username='system'\n          password='system'\n        idleMaxAge='240'\n     idleConnectionTestPeriod='60'\n    partitionCount='3'\n  acquireIncrement='5'\n   maxConnectionsPerPartition='10'\n   minConnectionsPerPartition='5'\n          statementsCacheSize='50'\n         releaseHelperThreads='5'\n         /&gt;\n  &lt;/GlobalNamingResources&gt;\n</code></pre>\n\n<p>can anyone tell me what the problem is ?</p>\n"},{"tags":["java","web-services","apache-axis","axis","axis-labels"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1385455803,"post_id":20183151,"comment_id":30138763,"body_markdown":"Note that this is one of those pointless XML syntax rules that shows it wasn&#39;t designed by language designers.","body":"Note that this is one of those pointless XML syntax rules that shows it wasn&#39;t designed by language designers."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1385687068,"post_id":20183151,"comment_id":30249696,"body_markdown":"You&#39;ve already asked your question. Comments intended to &#39;bump&#39; it don&#39;t have that effect here. Please delete them.","body":"You&#39;ve already asked your question. Comments intended to &#39;bump&#39; it don&#39;t have that effect here. Please delete them."},{"owner":{"account_id":4370290,"reputation":1353,"user_id":3564874,"accept_rate":82,"display_name":"dev"},"score":0,"creation_date":1439463189,"post_id":20183151,"comment_id":51877012,"body_markdown":"I am also facing the same issue in production server. Tried the suggested options but still getting this error. Can any one tell me how to fix it.\nHere is the error message :\n\n`ERROR [stderr] (pool-1544-thread-1) Caused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\nERROR [stderr] (pool-1544-thread-1)  at [row,col,system-id]: [1,50,&quot;http://XXX.XXX.XX.XX:9080/meaweb/wsdl/web_WS_INCID_STATUS.wsdl&quot;]`","body":"I am also facing the same issue in production server. Tried the suggested options but still getting this error. Can any one tell me how to fix it. Here is the error message :  <code>ERROR [stderr] (pool-1544-thread-1) Caused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers ERROR [stderr] (pool-1544-thread-1)  at [row,col,system-id]: [1,50,&quot;http:&#47;&#47;XXX.XXX.XX.XX:9080&#47;meaweb&#47;wsdl&#47;web_WS_INCID_ST&zwnj;&#8203;ATUS.wsdl&quot;]</code>"},{"owner":{"account_id":57405,"reputation":3587,"user_id":171956,"accept_rate":19,"display_name":"99Sono"},"score":0,"creation_date":1484311342,"post_id":20183151,"comment_id":70469341,"body_markdown":"Similar issue.\n\nIn the case I experienced, this was a piece of code that had not been used in decades.\nThe problem was that the @WebServiceClient was completely stale. Target namespaces and all that were senseless in realation to the running WSDL generated by weblogic.\n\nA Quick wsimport to re-generate a sane webservice client, got rid of the exception.","body":"Similar issue.  In the case I experienced, this was a piece of code that had not been used in decades. The problem was that the @WebServiceClient was completely stale. Target namespaces and all that were senseless in realation to the running WSDL generated by weblogic.  A Quick wsimport to re-generate a sane webservice client, got rid of the exception."}],"answers":[{"tags":[],"owner":{"account_id":4204669,"reputation":121,"user_id":3443919,"display_name":"fred bear"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1395349103,"creation_date":1395349103,"answer_id":22544940,"question_id":20183151,"body_markdown":"Had a very similar issue. The WSDL file is delivered, but calls on the bind address fail with this bogus doctype error. In our prod environment, http requests coming from outside the corporate network are swapped across to https. The solution was to request the WSDL file using https, then everything worked.","title":"WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers","body":"<p>Had a very similar issue. The WSDL file is delivered, but calls on the bind address fail with this bogus doctype error. In our prod environment, http requests coming from outside the corporate network are swapped across to https. The solution was to request the WSDL file using https, then everything worked.</p>\n"},{"tags":[],"owner":{"account_id":6214038,"reputation":185,"user_id":4839442,"display_name":"Adrian Buciuman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457986822,"creation_date":1457986822,"answer_id":35997291,"question_id":20183151,"body_markdown":"I had a similar problem.\r\nYou should have a syntax error at line 46 in your wsdl file \r\n\r\n    [row,col {unknown-source}]:[1,46]","title":"WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers","body":"<p>I had a similar problem.\nYou should have a syntax error at line 46 in your wsdl file </p>\n\n<pre><code>[row,col {unknown-source}]:[1,46]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3087804,"reputation":453,"user_id":2614624,"display_name":"Clinton Murdoch"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1481862249,"creation_date":1481862249,"answer_id":41177255,"question_id":20183151,"body_markdown":"The problem is that the response is not XML, it is most likely a HTML page. In my case, the SOAP service I was requesting did not exist so I was getting a HTML error page, which starts like \r\n\r\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;\r\nThere error is referring to that second-last character, the double quote.","title":"WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers","body":"<p>The problem is that the response is not XML, it is most likely a HTML page. In my case, the SOAP service I was requesting did not exist so I was getting a HTML error page, which starts like </p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n</code></pre>\n\n<p>There error is referring to that second-last character, the double quote.</p>\n"},{"tags":[],"owner":{"account_id":8595299,"reputation":1772,"user_id":6438491,"accept_rate":100,"display_name":"bharat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567233018,"creation_date":1567233018,"answer_id":57735734,"question_id":20183151,"body_markdown":"I had the same error message, but that is also for XML attributes as..:\r\n\r\n    &lt;add&gt;\r\n      &lt;doc&gt;\r\n        &lt;field name=id&gt;48&lt;/field&gt; &lt;!-- Incorrect --&gt;\r\n        &lt;field name=&quot;id&quot;&gt;48&lt;/field&gt;&lt;!-- Correct --&gt;\r\n        .....\r\n      &lt;/doc&gt;\r\n    &lt;/add&gt;\r\n\r\n","title":"WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers","body":"<p>I had the same error message, but that is also for XML attributes as..:</p>\n\n<pre><code>&lt;add&gt;\n  &lt;doc&gt;\n    &lt;field name=id&gt;48&lt;/field&gt; &lt;!-- Incorrect --&gt;\n    &lt;field name=\"id\"&gt;48&lt;/field&gt;&lt;!-- Correct --&gt;\n    .....\n  &lt;/doc&gt;\n&lt;/add&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244512,"reputation":11445,"user_id":517381,"accept_rate":33,"display_name":"ViliusK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611921790,"creation_date":1611921790,"answer_id":65954107,"question_id":20183151,"body_markdown":"I had an ampersand symbol (&amp;) in a table, and then I used Jira&#39;s Page Properties Report macro to show that content from that cell, and it was failing with a similar error.","title":"WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers","body":"<p>I had an ampersand symbol (&amp;) in a table, and then I used Jira's Page Properties Report macro to show that content from that cell, and it was failing with a similar error.</p>\n"},{"tags":[],"owner":{"account_id":15589948,"reputation":341,"user_id":11247337,"display_name":"Aprendiendo Siempre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635944538,"creation_date":1635944538,"answer_id":69825325,"question_id":20183151,"body_markdown":"I had the same problem.\r\n\r\nI always receive this error when the response of my request is an unexpected HTML. I usually receive this response when I call to a request (URI) that the server doesn`t know and go back a 404 error code.\r\n","title":"WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers","body":"<p>I had the same problem.</p>\n<p>I always receive this error when the response of my request is an unexpected HTML. I usually receive this response when I call to a request (URI) that the server doesn`t know and go back a 404 error code.</p>\n"}],"owner":{"account_id":3417111,"reputation":445,"user_id":2865670,"accept_rate":8,"display_name":"Rohit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95169,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":6,"score":18,"last_activity_date":1635944538,"creation_date":1385340537,"question_id":20183151,"body_markdown":"I am trying to solve the below issue for last couple of days but still not able to resolve it. I have searched lots of forums but all in vain.\r\n    \r\n**Little bit of history:* My code was working well in the devp env but for accessing the production sever I received new URL and three new certificates after successfully including the certificates in new trust store file.I am facing below issue. Please help.\r\n    \r\n    2013-11-25 11:32:30,373 INFO[BuilderUtil] OMException in getSOAPBuilder \r\n    org.apache.axiom.om.OMException: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\r\n     at [row,col {unknown-source}]:[1,46]\r\n    \tat org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:296)\r\n    \tat org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.getSOAPEnvelope(StAXSOAPModelBuilder.java:198)\r\n    \tat org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.&lt;init&gt;(StAXSOAPModelBuilder.java:154)\r\n    \tat org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.&lt;init&gt;(StAXSOAPModelBuilder.java:140)\r\n    \tat org.apache.axis2.builder.BuilderUtil.getSOAPBuilder(BuilderUtil.java:686)\r\n    \tat org.apache.axis2.transport.TransportUtils.createDocumentElement(TransportUtils.java:197)\r\n    \tat org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:145)\r\n    \tat org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:108)\r\n    \tat org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:67)\r\n    \tat org.apache.axis2.description.OutInAxisOperationClient.handleResponse(OutInAxisOperation.java:354)\r\n    \tat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:421)\r\n    \tat org.apache.axis2.description.OutInAxisOperationClient$NonBlockingInvocationWorker.run(OutInAxisOperation.java:446)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\r\n     at [row,col {unknown-source}]: [1,46]\r\n    \tat com.ctc.wstx.sr.StreamScanner.throwUnexpectedChar(StreamScanner.java:648)\r\n    \tat com.ctc.wstx.sr.BasicStreamReader.startDTD(BasicStreamReader.java:2482)\r\n    \tat com.ctc.wstx.sr.BasicStreamReader.nextFromPrologBang(BasicStreamReader.java:2398)\r\n    \tat com.ctc.wstx.sr.BasicStreamReader.nextFromProlog(BasicStreamReader.java:2058)\r\n    \tat com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1069)\r\n    \tat org.apache.axiom.util.stax.wrapper.XMLStreamReaderWrapper.next(XMLStreamReaderWrapper.java:225)\r\n    \tat org.apache.axiom.om.impl.builder.StAXOMBuilder.parserNext(StAXOMBuilder.java:668)\r\n    \tat org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:214)\r\n    \t... 14 more\r\n    2013-11-25 11:32:30,378 INFO   [BuilderUtil] Remaining input stream :[] \r\n    2013-11-25 11:32:30,380 DEBUG  [AuditUtilities] Request Message Id: urn:uuid:5f75a15c-ad57-4d00-b277-75fe7b1e241d \r\n    2013-11-25 11:32:30,380 DEBUG  [AuditUtilities] Response Message Id: null \r\n    2013-11-25 11:32:30,380 DEBUG  [AuditUtilities] Response Message Data: null \r\n    \r\nMy SOAP request seems me correct:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;&lt;soapenv:Envelope xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;&lt;soapenv:Header xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;&lt;ns4:product xmlns:ns4=&quot;http://ns.electronichealth.net.au/hi/xsd/common/CommonCoreElements/3.0&quot; soapenv:mustUnderstand=&quot;false&quot;&gt;&lt;ns4:vendor&gt;&lt;ns1:qualifier xmlns:ns1=&quot;http://ns.electronichealth.net.au/hi/xsd/common/QualifiedIdentifier/3.0&quot;&gt;http://ns.electronichealth.net.au/id/hi/vendorid/1.0&lt;/ns1:qualifier&gt;&lt;ns1:id xmlns:ns1=&quot;http://ns.electronichealth.net.au/hi/xsd/common/QualifiedIdentifier/3.0&quot;&gt;SDS&lt;/ns1:id&gt;&lt;/ns4:vendor&gt;&lt;ns4:productName&gt;HI&lt;/ns4:productName&gt;&lt;ns4:productVersion&gt;10.1&lt;/ns4:productVersion&gt;&lt;ns4:platform&gt;LINUX&lt;/ns4:platform&gt;&lt;/ns4:product&gt;&lt;h:signature xmlns:h=&quot;http://ns.electronichealth.net.au/hi/xsd/common/CommonCoreElements/3.0&quot;&gt;&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;&lt;ds:Reference URI=&quot;#body-c3c18409-d0df-4aed-b294-87af248c61f0&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;&lt;ds:DigestValue&gt;3pGWeWvyYHDdsDTu0F7qATI3Jp4=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;ds:Reference URI=&quot;#timestamp-232e1ed9-f97a-4515-89bd-a3683fab0fce&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;&lt;ds:DigestValue&gt;dGJxcKsX+y4jb0ndH1RQDqeWnTw=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;ds:Reference URI=&quot;#user-69d4eead-8b69-4e0a-85d7-b2a58867aaa0&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;&lt;ds:DigestValue&gt;9ET9aqC4jkINuYY8OhKsAJPEwX8=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;W24rpxUgpbTzxvJUoj5WpBsEssdaaddd56464t4eyYCAa2q9J0izrWIuukvOovde5h+xxxd1+5h/7JREGERGERGEGEGEGRTH5YT34R3EHYJGBDSEFERHJNFGGFFWEBzj7Jj3wfGs3WOLwsvhCuVBRY79mXTAxyQZYiUl7+tk3Pdm5YcSM0ZKfQJyUChIL1mjxALhwdCJkHOneJenjTgFaGRP+0iPF51TDc7l5ruxw8NdsSuN7P8D6lax3Fa4lck2iW/+t43yJ6cqTjZztMPuyKcYUgFhCS4334534234ERFGWBqyZhgRGFREGREG4543645FGER34WEFW4TERSygB8Gj+nx+217qRFTXD8/vcr8/BA1zWDLR05QdyZSDfuOfWTXpgfDcPTqedteeaww5cetv8L5J0dpFvRUkVDFGFGERcTOzmQALQZ+2C81RaNidKeQz++Q==&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIF+zCCBOOgAwIBAgIDBWhPMA0GCSqGSIb3DQEBBQUAMH8xCzAJBgNVBAYTAkFVMQwwCgYDVQQKEwNHT1YxGzAZBgNVBAsTEk1lZGljYXJlIEF1c3RyYWxpYTFFMEMGA1UEAxM8VGVzdCBNZWRpY2FyZSBBdXN0cmFsaWEgT3JnYW5pc2F0aW9uIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDswdwsEWRWER435433dwdwqedTEyMDQzMDAxNDI0MloXDTE3MDQzMDAxNDI0MFowgbUxCzAJBgNVBAYTAkFVMQwwCgYDVQQIEwNBQ1QxFDASBgNVBAcTC1RVR0dFUkFOT05HMSYwJAYDVQQKEx1UZXN0IExvY2F0aW9uIENlcnRpZmljYXRlIDAxOTEmMCQGA1UECxMdVGVzdCBMb2NhdGlvbiBDZXJ0aWZpY2F0ZSAwMTkxMjAwBgNVBAMTKVRlc3QgTG9jYXRpb24gQ2VydGlmaWNhdGUgMDE5IDo1OTU0Mzg3NjU5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArnQbZd3dOT+mpZIYU5x/jsREa+FTxO5RBDyusuZshR5se95qt9jMgJ+/g/ewzNBNpmPTfQtqLqbPnbQ1NCSmnAyM7nznHcRB+v2QeIJtgFLsBnx2zt/Q+ljgNBr8eNEZll8z8eX1fgrGjOQ0utXOWZ21N7DR6tH23zKC36yv/zAhRw/zWX2+FAaUS0TBxBkcXI4dTiC+5X00IiU7C4gGMGesd89Y8/KCZVj8JVinQQHF3hzYon7f7MctL/dN6Bp5UxtWh1nX/AliJMCrvoNUDo7D4yhtIPhjE/AwBr3+MkEBLoB4vEwHIKX790+BpPzlgast+D510NY1/1bcz65gFQIDAQABo4ICRzCCAkMwDAYDVR0TAQH/BAIwADAwBgNVHREEKTAngSV0ZXN0LmxvY2F0aW9uMDE5QGh1bWFuc2VydmljZXMuZ292LmF1ME8GCCsGAQUFBwEBBEMwQTA/BggrBgEFBQcwAYYzaHR0cDovL29jc3AuY2VydGlmaWNhdGVzLWF1c3RyYWxpYS5jb20uYXUvbWFvY2EucGt4MIIBIQYDVR0gBIIBGDCCARQwggEQBgoqJNL+gHcBBgECMIIBADCBywYIKwYBBQUHAgIwgb4agbtDZXJ0aWZpY2F0ZXMgaXNzdWVkIHVuZGVyIHRoaXMgQ1AgbXVzdCBvbmx5IGJlIHJlbGllZCBvbiBieSBlbnRpdGllcyB3aXRoaW4gdGhlIENvbW11bml0eSBvZiBJbnRlcmVzdCwgdW5sZXNzIG90aGVyd2lzZSBhZ3JlZWQsIGFuZCBub3QgZm9yIHB1cnBvc2VzIG90aGVyIHRoYW4gdGhvc2UgcGVybWl0dGVkIGJ5IHRoaXMgQ1AuMDAGCCsGAQUFBwIBFiRodHRwOi8vd3d3Lm1lZGljYXJlYXVzdHJhbGlhLmdvdi5hdS8wGQYJKiSjkJUXAc4ZBAwWCjU5NTQzODc2NTkwDgYDVR0PAQH/BAQDAgeAMBMGA1UdIwQMMAqACECvQwoiM+vJMDgGA1UdHwQxMC8wLaAroCmGJ2h0dHA6Ly9tYS10ZXN0LXBraS9NQU9DQUNSTHMvbGF0ZXN0LmNybDARBgNVHQ4ECgQITn3Ed1kIvoEwDQYJKoZIhvcNAQEFBQADggEBABq+Kl821YVzW8DE0xxLhjiD1CUDeqyrANQ0fszI83zedC2imcfvFoxPlZCpRLCmy434be22Flc0PDRCQcuZHa3sXj3PGsjpE2zhPP1sojD6riVR1ivu8CMh5XM+xiCsKwxIuXMWGUUm3xzNXv4VJ2fwk7Tpy+zmJbaxwu9ehyAcQpvJoirjicZ1qiapPFq4Y9qHecNOHt8Qe1fMrfmHJ2LxPvvTfNpX+VMYQsDGnhZ9yZgCXmi7+YfIk33605ddJGfzFh8Yp7PVAQtxbbHhSr+IqJTdpK8Tp/nPUJlzWZ1JKvWXRSzOH7OiuQVVda3tFUzPCCZ0El/ByIwwMmfDPy4=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;/h:signature&gt;&lt;ns4:timestamp xmlns:ns4=&quot;http://ns.electronichealth.net.au/hi/xsd/common/CommonCoreElements/3.0&quot; xml:id=&quot;timestamp-232e1ed9-f97a-4515-89bd-a3683fab0fce&quot;&gt;&lt;ns4:created&gt;2013-11-25T11:32:27.296+11:00&lt;/ns4:created&gt;&lt;ns4:expires&gt;2013-11-25T12:32:27.296+11:00&lt;/ns4:expires&gt;&lt;/ns4:timestamp&gt;&lt;ns4:user xmlns:ns4=&quot;http://ns.electronichealth.net.au/hi/xsd/common/CommonCoreElements/3.0&quot; xml:id=&quot;user-69d4eead-8b69-4e0a-85d7-b2a58867aaa0&quot;&gt;&lt;ns1:qualifier xmlns:ns1=&quot;http://ns.electronichealth.net.au/hi/xsd/common/QualifiedIdentifier/3.0&quot;&gt;http://sdspathology.com.au/id/hi/userid/1.0&lt;/ns1:qualifier&gt;&lt;ns1:id xmlns:ns1=&quot;http://ns.electronichealth.net.au/hi/xsd/common/QualifiedIdentifier/3.0&quot;&gt;TEST_SDS_USER_ID&lt;/ns1:id&gt;&lt;/ns4:user&gt;&lt;wsa:To&gt;https://www3.medicareaustralia.gov.au/pcert/soap/services/&lt;/wsa:To&gt;&lt;wsa:MessageID&gt;urn:uuid:5f75a15c-ad57-4d00-b277-75fe7b1e241d&lt;/wsa:MessageID&gt;&lt;wsa:Action&gt;http://ns.electronichealth.net.au/hi/svc/ConsumerSearchIHIBatchAsync/3.0/ConsumerSearchIHIBatchAsyncPortType/submitSearchIHIBatchRequest&lt;/wsa:Action&gt;&lt;/soapenv:Header&gt;&lt;soapenv:Body xml:id=&quot;body-c3c18409-d0df-4aed-b294-87af248c61f0&quot;&gt;&lt;ns12:submitSearchIHIBatch xmlns:ns12=&quot;http://ns.electronichealth.net.au/hi/svc/ConsumerSearchIHIBatchAsync/3.0&quot;&gt;&lt;ns12:searchIHIBatchRequest&gt;&lt;searchIHI xmlns=&quot;http://ns.electronichealth.net.au/hi/xsd/consumermessages/SearchIHI/3.0&quot;&gt;&lt;s36:medicareCardNumber xmlns:s36=&quot;http://ns.electronichealth.net.au/hi/xsd/consumercore/ConsumerCoreElements/3.0&quot;&gt;2950249651&lt;/s36:medicareCardNumber&gt;&lt;/searchIHI&gt;&lt;ns11:requestIdentifier xmlns:ns11=&quot;http://ns.electronichealth.net.au/hi/xsd/consumermessages/SearchIHIBatch/3.0&quot;&gt;d1f21610-6cb9-4e60-9673-18f43a4500b5&lt;/ns11:requestIdentifier&gt;&lt;/ns12:searchIHIBatchRequest&gt;&lt;/ns12:submitSearchIHIBatch&gt;&lt;/soapenv:Body&gt;&lt;/soapenv:Envelope&gt;\r\n\r\nPlease suggest.\r\n","title":"WstxUnexpectedCharException: Unexpected character &#39;&quot;&#39; (code 34) in DOCTYPE declaration; expected a space between public and system identifiers","body":"<p>I am trying to solve the below issue for last couple of days but still not able to resolve it. I have searched lots of forums but all in vain.</p>\n\n<p>*<em>Little bit of history:</em> My code was working well in the devp env but for accessing the production sever I received new URL and three new certificates after successfully including the certificates in new trust store file.I am facing below issue. Please help.</p>\n\n<pre><code>2013-11-25 11:32:30,373 INFO[BuilderUtil] OMException in getSOAPBuilder \norg.apache.axiom.om.OMException: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character '\"' (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\n at [row,col {unknown-source}]:[1,46]\n    at org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:296)\n    at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.getSOAPEnvelope(StAXSOAPModelBuilder.java:198)\n    at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.&lt;init&gt;(StAXSOAPModelBuilder.java:154)\n    at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.&lt;init&gt;(StAXSOAPModelBuilder.java:140)\n    at org.apache.axis2.builder.BuilderUtil.getSOAPBuilder(BuilderUtil.java:686)\n    at org.apache.axis2.transport.TransportUtils.createDocumentElement(TransportUtils.java:197)\n    at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:145)\n    at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:108)\n    at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:67)\n    at org.apache.axis2.description.OutInAxisOperationClient.handleResponse(OutInAxisOperation.java:354)\n    at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:421)\n    at org.apache.axis2.description.OutInAxisOperationClient$NonBlockingInvocationWorker.run(OutInAxisOperation.java:446)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character '\"' (code 34) in DOCTYPE declaration; expected a space between public and system identifiers\n at [row,col {unknown-source}]: [1,46]\n    at com.ctc.wstx.sr.StreamScanner.throwUnexpectedChar(StreamScanner.java:648)\n    at com.ctc.wstx.sr.BasicStreamReader.startDTD(BasicStreamReader.java:2482)\n    at com.ctc.wstx.sr.BasicStreamReader.nextFromPrologBang(BasicStreamReader.java:2398)\n    at com.ctc.wstx.sr.BasicStreamReader.nextFromProlog(BasicStreamReader.java:2058)\n    at com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1069)\n    at org.apache.axiom.util.stax.wrapper.XMLStreamReaderWrapper.next(XMLStreamReaderWrapper.java:225)\n    at org.apache.axiom.om.impl.builder.StAXOMBuilder.parserNext(StAXOMBuilder.java:668)\n    at org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:214)\n    ... 14 more\n2013-11-25 11:32:30,378 INFO   [BuilderUtil] Remaining input stream :[] \n2013-11-25 11:32:30,380 DEBUG  [AuditUtilities] Request Message Id: urn:uuid:5f75a15c-ad57-4d00-b277-75fe7b1e241d \n2013-11-25 11:32:30,380 DEBUG  [AuditUtilities] Response Message Id: null \n2013-11-25 11:32:30,380 DEBUG  [AuditUtilities] Response Message Data: null \n</code></pre>\n\n<p>My SOAP request seems me correct:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;&lt;soapenv:Envelope xmlns:soapenv=\"http://www.w3.org/2003/05/soap-envelope\"&gt;&lt;soapenv:Header xmlns:wsa=\"http://www.w3.org/2005/08/addressing\"&gt;&lt;ns4:product xmlns:ns4=\"http://ns.electronichealth.net.au/hi/xsd/common/CommonCoreElements/3.0\" soapenv:mustUnderstand=\"false\"&gt;&lt;ns4:vendor&gt;&lt;ns1:qualifier xmlns:ns1=\"http://ns.electronichealth.net.au/hi/xsd/common/QualifiedIdentifier/3.0\"&gt;http://ns.electronichealth.net.au/id/hi/vendorid/1.0&lt;/ns1:qualifier&gt;&lt;ns1:id xmlns:ns1=\"http://ns.electronichealth.net.au/hi/xsd/common/QualifiedIdentifier/3.0\"&gt;SDS&lt;/ns1:id&gt;&lt;/ns4:vendor&gt;&lt;ns4:productName&gt;HI&lt;/ns4:productName&gt;&lt;ns4:productVersion&gt;10.1&lt;/ns4:productVersion&gt;&lt;ns4:platform&gt;LINUX&lt;/ns4:platform&gt;&lt;/ns4:product&gt;&lt;h:signature xmlns:h=\"http://ns.electronichealth.net.au/hi/xsd/common/CommonCoreElements/3.0\"&gt;&lt;ds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;&lt;ds:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt;&lt;ds:Reference URI=\"#body-c3c18409-d0df-4aed-b294-87af248c61f0\"&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;&lt;ds:DigestValue&gt;3pGWeWvyYHDdsDTu0F7qATI3Jp4=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;ds:Reference URI=\"#timestamp-232e1ed9-f97a-4515-89bd-a3683fab0fce\"&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;&lt;ds:DigestValue&gt;dGJxcKsX+y4jb0ndH1RQDqeWnTw=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;ds:Reference URI=\"#user-69d4eead-8b69-4e0a-85d7-b2a58867aaa0\"&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;&lt;ds:DigestValue&gt;9ET9aqC4jkINuYY8OhKsAJPEwX8=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;W24rpxUgpbTzxvJUoj5WpBsEssdaaddd56464t4eyYCAa2q9J0izrWIuukvOovde5h+xxxd1+5h/7JREGERGERGEGEGEGRTH5YT34R3EHYJGBDSEFERHJNFGGFFWEBzj7Jj3wfGs3WOLwsvhCuVBRY79mXTAxyQZYiUl7+tk3Pdm5YcSM0ZKfQJyUChIL1mjxALhwdCJkHOneJenjTgFaGRP+0iPF51TDc7l5ruxw8NdsSuN7P8D6lax3Fa4lck2iW/+t43yJ6cqTjZztMPuyKcYUgFhCS4334534234ERFGWBqyZhgRGFREGREG4543645FGER34WEFW4TERSygB8Gj+nx+217qRFTXD8/vcr8/BA1zWDLR05QdyZSDfuOfWTXpgfDcPTqedteeaww5cetv8L5J0dpFvRUkVDFGFGERcTOzmQALQZ+2C81RaNidKeQz++Q==&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIF+zCCBOOgAwIBAgIDBWhPMA0GCSqGSIb3DQEBBQUAMH8xCzAJBgNVBAYTAkFVMQwwCgYDVQQKEwNHT1YxGzAZBgNVBAsTEk1lZGljYXJlIEF1c3RyYWxpYTFFMEMGA1UEAxM8VGVzdCBNZWRpY2FyZSBBdXN0cmFsaWEgT3JnYW5pc2F0aW9uIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDswdwsEWRWER435433dwdwqedTEyMDQzMDAxNDI0MloXDTE3MDQzMDAxNDI0MFowgbUxCzAJBgNVBAYTAkFVMQwwCgYDVQQIEwNBQ1QxFDASBgNVBAcTC1RVR0dFUkFOT05HMSYwJAYDVQQKEx1UZXN0IExvY2F0aW9uIENlcnRpZmljYXRlIDAxOTEmMCQGA1UECxMdVGVzdCBMb2NhdGlvbiBDZXJ0aWZpY2F0ZSAwMTkxMjAwBgNVBAMTKVRlc3QgTG9jYXRpb24gQ2VydGlmaWNhdGUgMDE5IDo1OTU0Mzg3NjU5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArnQbZd3dOT+mpZIYU5x/jsREa+FTxO5RBDyusuZshR5se95qt9jMgJ+/g/ewzNBNpmPTfQtqLqbPnbQ1NCSmnAyM7nznHcRB+v2QeIJtgFLsBnx2zt/Q+ljgNBr8eNEZll8z8eX1fgrGjOQ0utXOWZ21N7DR6tH23zKC36yv/zAhRw/zWX2+FAaUS0TBxBkcXI4dTiC+5X00IiU7C4gGMGesd89Y8/KCZVj8JVinQQHF3hzYon7f7MctL/dN6Bp5UxtWh1nX/AliJMCrvoNUDo7D4yhtIPhjE/AwBr3+MkEBLoB4vEwHIKX790+BpPzlgast+D510NY1/1bcz65gFQIDAQABo4ICRzCCAkMwDAYDVR0TAQH/BAIwADAwBgNVHREEKTAngSV0ZXN0LmxvY2F0aW9uMDE5QGh1bWFuc2VydmljZXMuZ292LmF1ME8GCCsGAQUFBwEBBEMwQTA/BggrBgEFBQcwAYYzaHR0cDovL29jc3AuY2VydGlmaWNhdGVzLWF1c3RyYWxpYS5jb20uYXUvbWFvY2EucGt4MIIBIQYDVR0gBIIBGDCCARQwggEQBgoqJNL+gHcBBgECMIIBADCBywYIKwYBBQUHAgIwgb4agbtDZXJ0aWZpY2F0ZXMgaXNzdWVkIHVuZGVyIHRoaXMgQ1AgbXVzdCBvbmx5IGJlIHJlbGllZCBvbiBieSBlbnRpdGllcyB3aXRoaW4gdGhlIENvbW11bml0eSBvZiBJbnRlcmVzdCwgdW5sZXNzIG90aGVyd2lzZSBhZ3JlZWQsIGFuZCBub3QgZm9yIHB1cnBvc2VzIG90aGVyIHRoYW4gdGhvc2UgcGVybWl0dGVkIGJ5IHRoaXMgQ1AuMDAGCCsGAQUFBwIBFiRodHRwOi8vd3d3Lm1lZGljYXJlYXVzdHJhbGlhLmdvdi5hdS8wGQYJKiSjkJUXAc4ZBAwWCjU5NTQzODc2NTkwDgYDVR0PAQH/BAQDAgeAMBMGA1UdIwQMMAqACECvQwoiM+vJMDgGA1UdHwQxMC8wLaAroCmGJ2h0dHA6Ly9tYS10ZXN0LXBraS9NQU9DQUNSTHMvbGF0ZXN0LmNybDARBgNVHQ4ECgQITn3Ed1kIvoEwDQYJKoZIhvcNAQEFBQADggEBABq+Kl821YVzW8DE0xxLhjiD1CUDeqyrANQ0fszI83zedC2imcfvFoxPlZCpRLCmy434be22Flc0PDRCQcuZHa3sXj3PGsjpE2zhPP1sojD6riVR1ivu8CMh5XM+xiCsKwxIuXMWGUUm3xzNXv4VJ2fwk7Tpy+zmJbaxwu9ehyAcQpvJoirjicZ1qiapPFq4Y9qHecNOHt8Qe1fMrfmHJ2LxPvvTfNpX+VMYQsDGnhZ9yZgCXmi7+YfIk33605ddJGfzFh8Yp7PVAQtxbbHhSr+IqJTdpK8Tp/nPUJlzWZ1JKvWXRSzOH7OiuQVVda3tFUzPCCZ0El/ByIwwMmfDPy4=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;/h:signature&gt;&lt;ns4:timestamp xmlns:ns4=\"http://ns.electronichealth.net.au/hi/xsd/common/CommonCoreElements/3.0\" xml:id=\"timestamp-232e1ed9-f97a-4515-89bd-a3683fab0fce\"&gt;&lt;ns4:created&gt;2013-11-25T11:32:27.296+11:00&lt;/ns4:created&gt;&lt;ns4:expires&gt;2013-11-25T12:32:27.296+11:00&lt;/ns4:expires&gt;&lt;/ns4:timestamp&gt;&lt;ns4:user xmlns:ns4=\"http://ns.electronichealth.net.au/hi/xsd/common/CommonCoreElements/3.0\" xml:id=\"user-69d4eead-8b69-4e0a-85d7-b2a58867aaa0\"&gt;&lt;ns1:qualifier xmlns:ns1=\"http://ns.electronichealth.net.au/hi/xsd/common/QualifiedIdentifier/3.0\"&gt;http://sdspathology.com.au/id/hi/userid/1.0&lt;/ns1:qualifier&gt;&lt;ns1:id xmlns:ns1=\"http://ns.electronichealth.net.au/hi/xsd/common/QualifiedIdentifier/3.0\"&gt;TEST_SDS_USER_ID&lt;/ns1:id&gt;&lt;/ns4:user&gt;&lt;wsa:To&gt;https://www3.medicareaustralia.gov.au/pcert/soap/services/&lt;/wsa:To&gt;&lt;wsa:MessageID&gt;urn:uuid:5f75a15c-ad57-4d00-b277-75fe7b1e241d&lt;/wsa:MessageID&gt;&lt;wsa:Action&gt;http://ns.electronichealth.net.au/hi/svc/ConsumerSearchIHIBatchAsync/3.0/ConsumerSearchIHIBatchAsyncPortType/submitSearchIHIBatchRequest&lt;/wsa:Action&gt;&lt;/soapenv:Header&gt;&lt;soapenv:Body xml:id=\"body-c3c18409-d0df-4aed-b294-87af248c61f0\"&gt;&lt;ns12:submitSearchIHIBatch xmlns:ns12=\"http://ns.electronichealth.net.au/hi/svc/ConsumerSearchIHIBatchAsync/3.0\"&gt;&lt;ns12:searchIHIBatchRequest&gt;&lt;searchIHI xmlns=\"http://ns.electronichealth.net.au/hi/xsd/consumermessages/SearchIHI/3.0\"&gt;&lt;s36:medicareCardNumber xmlns:s36=\"http://ns.electronichealth.net.au/hi/xsd/consumercore/ConsumerCoreElements/3.0\"&gt;2950249651&lt;/s36:medicareCardNumber&gt;&lt;/searchIHI&gt;&lt;ns11:requestIdentifier xmlns:ns11=\"http://ns.electronichealth.net.au/hi/xsd/consumermessages/SearchIHIBatch/3.0\"&gt;d1f21610-6cb9-4e60-9673-18f43a4500b5&lt;/ns11:requestIdentifier&gt;&lt;/ns12:searchIHIBatchRequest&gt;&lt;/ns12:submitSearchIHIBatch&gt;&lt;/soapenv:Body&gt;&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>Please suggest.</p>\n"},{"tags":["java","maven","installation","netbeans","package"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635944673,"post_id":69825258,"comment_id":123426247,"body_markdown":"That package is 17 years old... I think you need to do it fully manual... Maybe you can find more up-to-date packages which are available via Central repository?","body":"That package is 17 years old... I think you need to do it fully manual... Maybe you can find more up-to-date packages which are available via Central repository?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1635944869,"post_id":69825258,"comment_id":123426341,"body_markdown":"@khmarbaise That software is 21 years old. The website is 17 years old. And it&#39;s some version of the programming language Simula. There is a more [recent](https://portablesimula.github.io/github.io/) effort.","body":"@khmarbaise That software is 21 years old. The website is 17 years old. And it&#39;s some version of the programming language Simula. There is a more <a href=\"https://portablesimula.github.io/github.io/\" rel=\"nofollow noreferrer\">recent</a> effort."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635945242,"post_id":69825258,"comment_id":123426517,"body_markdown":"@ElliottFrisch Then I would ask why are those artifacts not available via Central repository... apart from that: The site says: `Version 1.1 (March 2004)` ... which is linked on the site...","body":"@ElliottFrisch Then I would ask why are those artifacts not available via Central repository... apart from that: The site says: <code>Version 1.1 (March 2004)</code> ... which is linked on the site..."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1635945658,"post_id":69825258,"comment_id":123426708,"body_markdown":"@khmarbaise Because no one added it to maven. Also, *javaSimulation has been described in the report K. Helsgaun, &quot;Discrete Event Simulation in Java&quot;,\nDATALOGISKE SKRIFTER (Writings on Computer Science), 2000, Roskilde University.*  Here is [Professor Keld](http://webhotel4.ruc.dk/~keld/)&#39;s current site.","body":"@khmarbaise Because no one added it to maven. Also, <i>javaSimulation has been described in the report K. Helsgaun, &quot;Discrete Event Simulation in Java&quot;, DATALOGISKE SKRIFTER (Writings on Computer Science), 2000, Roskilde University.</i>  Here is <a href=\"http://webhotel4.ruc.dk/~keld/\" rel=\"nofollow noreferrer\">Professor Keld</a>&#39;s current site."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1636052360,"post_id":69825258,"comment_id":123461579,"body_markdown":"[1] Questions of the form _&quot;Please help me understand {something}&quot;_ are usually off topic on Stack Overflow. Please edit your question to ask about a _specific problem_ you are facing, rather than just seeking general help and advice. [2] With regard to using downloaded code in a Maven project, a search on SO using &quot;[maven] dependency&quot; may be helpful. [3] There is also the Maven documentation [Introduction to the Dependency Mechanism](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html), although that may be a bit overwhelming as a starting point.","body":"[1] Questions of the form <i>&quot;Please help me understand {something}&quot;</i> are usually off topic on Stack Overflow. Please edit your question to ask about a <i>specific problem</i> you are facing, rather than just seeking general help and advice. [2] With regard to using downloaded code in a Maven project, a search on SO using &quot;[maven] dependency&quot; may be helpful. [3] There is also the Maven documentation <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">Introduction to the Dependency Mechanism</a>, although that may be a bit overwhelming as a starting point."}],"owner":{"account_id":23227771,"reputation":1,"user_id":17319041,"display_name":"Rien Wallays"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635944208,"creation_date":1635944208,"question_id":69825258,"body_markdown":"this is probably a realy stupid question. I want to use a set of packages to build a simulation model. i downloaded the packages but i realy cant figure out how to install them. there is a realy short installation guide but it does not say much more than how to decompress the contents http://webhotel4.ruc.dk/~keld/research/JAVASIMULATION/ i dont know where to put the folders after i extracted them. \r\n\r\nbtw i am using netbeans. i learned how to code in java but i never learned to install packages ","title":"how do i install java packages?","body":"<p>this is probably a realy stupid question. I want to use a set of packages to build a simulation model. i downloaded the packages but i realy cant figure out how to install them. there is a realy short installation guide but it does not say much more than how to decompress the contents <a href=\"http://webhotel4.ruc.dk/%7Ekeld/research/JAVASIMULATION/\" rel=\"nofollow noreferrer\">http://webhotel4.ruc.dk/~keld/research/JAVASIMULATION/</a> i dont know where to put the folders after i extracted them.</p>\n<p>btw i am using netbeans. i learned how to code in java but i never learned to install packages</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1390228384,"creation_date":1390218733,"answer_id":21233331,"question_id":21233183,"body_markdown":"You should get the `entrySet` of the map and glue the entries to the calls of your binary function:\n\n    inputMap.entrySet().stream().map(e-&gt;myFun(e.getKey(),e.getValue()));\n\nThe result of the above is a stream of `T` instances.\n\n### Update\n\nYour additional example confirms what was discussed in the comments below: `group by` and `sort` are by their nature terminal operations. They must be performed *in full* to be able to produce even the first element of the output, so involving them as non-terminal operations doesn&#39;t buy anything in terms of performance/memory footprint. \n\nIt happens that Java 8 defines `sorted` as a non-terminal operation, however that decision could lead to deceptive code because the operation will block until it has received all upstream elements, and will have to retain them all while receiving.","title":"Java 8 stream Map&lt;K,V&gt; to List&lt;T&gt;","body":"<p>You should get the <code>entrySet</code> of the map and glue the entries to the calls of your binary function:</p>\n<pre><code>inputMap.entrySet().stream().map(e-&gt;myFun(e.getKey(),e.getValue()));\n</code></pre>\n<p>The result of the above is a stream of <code>T</code> instances.</p>\n<h3>Update</h3>\n<p>Your additional example confirms what was discussed in the comments below: <code>group by</code> and <code>sort</code> are by their nature terminal operations. They must be performed <em>in full</em> to be able to produce even the first element of the output, so involving them as non-terminal operations doesn't buy anything in terms of performance/memory footprint.</p>\n<p>It happens that Java 8 defines <code>sorted</code> as a non-terminal operation, however that decision could lead to deceptive code because the operation will block until it has received all upstream elements, and will have to retain them all while receiving.</p>\n"},{"tags":[],"owner":{"account_id":1666502,"reputation":1120,"user_id":1533783,"display_name":"Khalid Habib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635943912,"creation_date":1635935251,"answer_id":69823255,"question_id":21233183,"body_markdown":"You can also convert Hashmap entries into ArrayList by using following technique,\r\n\r\n```    \r\nArrayList list = hashMap.values();\r\n```","title":"Java 8 stream Map&lt;K,V&gt; to List&lt;T&gt;","body":"<p>You can also convert Hashmap entries into ArrayList by using following technique,</p>\n<pre><code>ArrayList list = hashMap.values();\n</code></pre>\n"}],"owner":{"account_id":3882833,"reputation":271,"user_id":3214944,"display_name":"JamesCherrill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55410,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":2,"score":27,"last_activity_date":1635943912,"creation_date":1390218319,"question_id":21233183,"body_markdown":"Given that I have some function that takes two parameters &lt;K,V&gt; and returns one value &lt;T&gt;, is it possible to convert a Map&lt;K,V&gt; to a List&lt;T&gt; in a Stream as a non-terminal operation?\r\nThe nearest I cam find is to use forEach on the map to create &lt;T&gt; instances and add them to a pre-defined List&lt;T&gt;, then start a new Stream from that List. Or did I just miss something?\r\n\r\nEg: The classic &quot;find the 3 most frequently occurring words in some long list of words&quot; \r\n\r\n    wordList.stream().collect(groupingBy(Function.identity, Collectors.counting))).\r\n\r\n(now I want to stream the entrySetof that map)\r\n\r\n    sorted((a,b) -&gt; a.getValue().compareTo(b.getValue))).limit(3).forEach(print...","title":"Java 8 stream Map&lt;K,V&gt; to List&lt;T&gt;","body":"<p>Given that I have some function that takes two parameters  and returns one value , is it possible to convert a Map to a List in a Stream as a non-terminal operation?\nThe nearest I cam find is to use forEach on the map to create  instances and add them to a pre-defined List, then start a new Stream from that List. Or did I just miss something?</p>\n\n<p>Eg: The classic \"find the 3 most frequently occurring words in some long list of words\" </p>\n\n<pre><code>wordList.stream().collect(groupingBy(Function.identity, Collectors.counting))).\n</code></pre>\n\n<p>(now I want to stream the entrySetof that map)</p>\n\n<pre><code>sorted((a,b) -&gt; a.getValue().compareTo(b.getValue))).limit(3).forEach(print...\n</code></pre>\n"},{"tags":["java","parsing","antlr","antlr4","lexer"],"answers":[{"tags":[],"owner":{"account_id":4646779,"reputation":50512,"user_id":3764814,"display_name":"Lucas Trzesniewski"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1410733333,"creation_date":1410733333,"answer_id":25838580,"question_id":25832429,"body_markdown":"Using ANTLR for CSV parsing is a nuclear option IMHO, but since you&#39;re at it...\r\n\r\n - Implement the interface `ANTLRErrorListener`. You may extend `BaseErrorListener` for that. Collect the errors and append them to a list.\r\n - Call `parser.removeErrorListeners()` to remove the default listeners\r\n - Call `parser.addErrorListener(yourListenerInstance)` to add your own listener\r\n - Parse your input\r\n\r\nNow, for the lexer, you may either do the same thing `removeErrorListeners`/`addErrorListener`, or add the following rule at the end:\r\n\r\n    UNKNOWN_CHAR : . ;\r\n\r\nWith this rule, the lexer will never fail (it will generate `UNKNOWN_CHAR` tokens when it can&#39;t do anything else) and all errors will be generated by the parser (because it won&#39;t know what to do with these `UNKNOWN_CHAR` tokens). I recommend this approach.","title":"How Get error messages of antlr parsing?","body":"<p>Using ANTLR for CSV parsing is a nuclear option IMHO, but since you're at it...</p>\n\n<ul>\n<li>Implement the interface <code>ANTLRErrorListener</code>. You may extend <code>BaseErrorListener</code> for that. Collect the errors and append them to a list.</li>\n<li>Call <code>parser.removeErrorListeners()</code> to remove the default listeners</li>\n<li>Call <code>parser.addErrorListener(yourListenerInstance)</code> to add your own listener</li>\n<li>Parse your input</li>\n</ul>\n\n<p>Now, for the lexer, you may either do the same thing <code>removeErrorListeners</code>/<code>addErrorListener</code>, or add the following rule at the end:</p>\n\n<pre><code>UNKNOWN_CHAR : . ;\n</code></pre>\n\n<p>With this rule, the lexer will never fail (it will generate <code>UNKNOWN_CHAR</code> tokens when it can't do anything else) and all errors will be generated by the parser (because it won't know what to do with these <code>UNKNOWN_CHAR</code> tokens). I recommend this approach.</p>\n"}],"owner":{"account_id":4189388,"reputation":800,"user_id":3432343,"accept_rate":53,"display_name":"Hamed F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4400,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25838580,"answer_count":1,"score":6,"last_activity_date":1635943875,"creation_date":1410691471,"question_id":25832429,"body_markdown":"I wrote a grammar with antlr 4.4 like this :\r\n\r\n    grammar CSV;\r\n    \r\n    file\r\n      :  row+ EOF\r\n      ;\r\n    \r\n    row\r\n      :  value (Comma value)* (LineBreak | EOF)\r\n      ;\r\n    \r\n    value\r\n      :  SimpleValueA\r\n      |  QuotedValue\r\n      ;\r\n    \r\n    Comma\r\n      :  &#39;,&#39;\r\n      ;\r\n    \r\n    LineBreak\r\n      :  &#39;\\r&#39;? &#39;\\n&#39;\r\n      |  &#39;\\r&#39;\r\n      ;\r\n    \r\n    SimpleValue\r\n      :  ~(&#39;,&#39; | &#39;\\r&#39; | &#39;\\n&#39; | &#39;&quot;&#39;)+\r\n      ;\r\n    \r\n    QuotedValue\r\n      :  &#39;&quot;&#39; (&#39;&quot;&quot;&#39; | ~&#39;&quot;&#39;)* &#39;&quot;&#39;\r\n      ;\r\n\r\nthen I use antlr 4.4 for generating parser &amp; lexer,\r\nthis process is successful\r\n\r\nafter generate classes I wrote some java code for using grammar\r\n\r\n    import org.antlr.v4.runtime.ANTLRInputStream;\r\n    import org.antlr.v4.runtime.CommonTokenStream;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            String source =  &quot;\\&quot;a\\&quot;,\\&quot;b\\&quot;,\\&quot;c&quot;;\r\n            CSVLexer lex = new CSVLexer(new ANTLRInputStream(source));\r\n            CommonTokenStream tokens = new CommonTokenStream(lex);\r\n            tokens.fill();\r\n            CSVParser parser = new CSVParser(tokens);\r\n            CSVParser.FileContext file = parser.file();\r\n        }\r\n    }\r\n\r\nall of above code is a parser for CSV strings\r\nfor example :  &quot;&quot;a&quot;,&quot;b&quot;,c&quot;\r\n\r\n**Window Output :**\r\n\r\n    line 1:8 token recognition error at: &#39;&quot;c&#39;\r\n    line 1:10 missing {SimpleValue, QuotedValue} at &#39;&lt;EOF&gt;&#39;\r\n\r\n\r\nI want to know How I can get this errors from a method (getErrors() or ...) in code-behind not as result of output window\r\n\r\nCan anyone help me ?","title":"How Get error messages of antlr parsing?","body":"<p>I wrote a grammar with antlr 4.4 like this :</p>\n\n<pre><code>grammar CSV;\n\nfile\n  :  row+ EOF\n  ;\n\nrow\n  :  value (Comma value)* (LineBreak | EOF)\n  ;\n\nvalue\n  :  SimpleValueA\n  |  QuotedValue\n  ;\n\nComma\n  :  ','\n  ;\n\nLineBreak\n  :  '\\r'? '\\n'\n  |  '\\r'\n  ;\n\nSimpleValue\n  :  ~(',' | '\\r' | '\\n' | '\"')+\n  ;\n\nQuotedValue\n  :  '\"' ('\"\"' | ~'\"')* '\"'\n  ;\n</code></pre>\n\n<p>then I use antlr 4.4 for generating parser &amp; lexer,\nthis process is successful</p>\n\n<p>after generate classes I wrote some java code for using grammar</p>\n\n<pre><code>import org.antlr.v4.runtime.ANTLRInputStream;\nimport org.antlr.v4.runtime.CommonTokenStream;\n\npublic class Main {\n\n    public static void main(String[] args)\n    {\n        String source =  \"\\\"a\\\",\\\"b\\\",\\\"c\";\n        CSVLexer lex = new CSVLexer(new ANTLRInputStream(source));\n        CommonTokenStream tokens = new CommonTokenStream(lex);\n        tokens.fill();\n        CSVParser parser = new CSVParser(tokens);\n        CSVParser.FileContext file = parser.file();\n    }\n}\n</code></pre>\n\n<p>all of above code is a parser for CSV strings\nfor example :  \"\"a\",\"b\",c\"</p>\n\n<p><strong>Window Output :</strong></p>\n\n<pre><code>line 1:8 token recognition error at: '\"c'\nline 1:10 missing {SimpleValue, QuotedValue} at '&lt;EOF&gt;'\n</code></pre>\n\n<p>I want to know How I can get this errors from a method (getErrors() or ...) in code-behind not as result of output window</p>\n\n<p>Can anyone help me ?</p>\n"},{"tags":["java","spring-boot","google-cloud-platform"],"comments":[{"owner":{"account_id":5012020,"reputation":2682,"user_id":4028009,"display_name":"Evgeny  Bovykin"},"score":0,"creation_date":1635842689,"post_id":69799741,"comment_id":123393923,"body_markdown":"Please provide more information. What plugin causes the issue? Does the issue appear on the application startup? What else is in the application log?","body":"Please provide more information. What plugin causes the issue? Does the issue appear on the application startup? What else is in the application log?"},{"owner":{"account_id":23203407,"reputation":1,"user_id":17297956,"display_name":"shuzi"},"score":0,"creation_date":1635943505,"post_id":69799741,"comment_id":123425701,"body_markdown":"Hi @EvgenyBovykin - I&#39;m not sure about the culprit plugin. But I&#39;m sharing the logs.","body":"Hi @EvgenyBovykin - I&#39;m not sure about the culprit plugin. But I&#39;m sharing the logs."}],"owner":{"account_id":23203407,"reputation":1,"user_id":17297956,"display_name":"shuzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635943715,"creation_date":1635783590,"question_id":69799741,"body_markdown":" I&#39;m trying to deploy my spring boot web application to google cloud. I&#39;ve followed the steps specified in the below document - \r\n\r\nhttps://codelabs.developers.google.com/codelabs/cloud-app-engine-springboot#1.\r\n\r\nBut every time I deploy my application to the google cloud I get **com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1** \r\n\r\n\r\nBut it doesn&#39;t give any specific error message even in debug mode.\r\n\r\nI tried to troubleshoot it taking reference from other questions but none worked for me.\r\n\r\nI&#39;ll appreciate any help.\r\n\r\nRun Logs - \r\n```[INFO] GCLOUD: Start command: java -showversion -Djava.io.tmpdir=/tmp/jetty -agentpath:/opt/cdbg/cdbg_java_agent.so=--log_dir=/var/log/app_engine,--alsologtostderr=true,--cdbg_extra_class_path=/var/lib/jetty/webapps/root/WEB-INF/classes:/var/lib/jetty/webapps/root/WEB-INF/lib -Xms491M -Xmx491M -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:+PrintCommandLineFlags -Djetty.home=/opt/jetty-home -Djetty.base=/var/lib/jetty -Djava.util.logging.config.file=/var/lib/jetty/etc/java-util-logging.properties -Dorg.eclipse.jetty.util.log.class=org.eclipse.jetty.util.log.Slf4jLog -cp /opt/jetty-home/lib/mail/javax.mail.glassfish-1.4.1.v201005082020.jar:/var/lib/jetty/lib/slf4j/slf4j-api-1.7.30.jar:/var/lib/jetty/lib/slf4j/slf4j-jdk14-1.7.30.jar:/var/lib/jetty/resources:/opt/jetty-home/lib/servlet-api-3.1.jar:/opt/jetty-home/lib/jetty-schemas-3.1.jar:/opt/jetty-home/lib/jetty-http-9.4.35.v20201120.jar:/opt/jetty-home/lib/jetty-server-9.4.35.v20201120.jar:/opt/jetty-home/lib/jetty-xml-9.4.35.v20201120.jar:/opt/jetty-home/lib/jetty-util-9.4.35.v20201120.jar:/opt/jetty-home/lib/jetty-io-9.4.35.v20201120.jar:/opt/jetty-home/lib/jetty-jndi-9.4.35.v20201120.jar:/opt/jetty-home/lib/jetty-security-9.4.35.v20201120.jar:/opt/jetty-home/lib/transactions/javax.transaction-api-1.3.jar:/opt/jetty-home/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/jetty-home/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/jetty-home/lib/jetty-plus-9.4.35.v20201120.jar:/opt/jetty-home/lib/jetty-annotations-9.4.35.v20201120.jar:/opt/jetty-home/lib/annotations/asm-9.0.jar:/opt/jetty-home/lib/annotations/asm-analysis-9.0.jar:/opt/jetty-home/lib/annotations/asm-commons-9.0.jar:/opt/jetty-home/lib/annotations/asm-tree-9.0.jar:/opt/jetty-home/lib/annotations/javax.annotation-api-1.3.2.jar:/opt/jetty-home/lib/apache-jsp/org.eclipse.jdt.ecj-3.19.0.jar:/opt/jetty-home/lib/apache-jsp/org.eclipse.jetty.apache-jsp-9.4.35.v20201120.jar:/opt/jetty-home/lib/apache-jsp/org.mortbay.jasper.apache-el-8.5.54.jar:/opt/jetty-home/lib/apache-jsp/org.mortbay.jasper.apache-jsp-8.5.54.jar:/opt/jetty-home/lib/apache-jstl/org.apache.taglibs.taglibs-standard-impl-1.2.5.jar:/opt/jetty-home/lib/apache-jstl/org.apache.taglibs.taglibs-standard-spec-1.2.5.jar:/opt/jetty-home/lib/jetty-deploy-9.4.35.v20201120.jar:/var/lib/jetty/lib/gcloud/animal-sniffer-annotations-1.18.jar:/var/lib/jetty/lib/gcloud/annotations-4.1.1.4.jar:/var/lib/jetty/lib/gcloud/api-common-1.10.0.jar:/var/lib/jetty/lib/gcloud/auto-value-annotations-1.7.2.jar:/var/lib/jetty/lib/gcloud/checker-compat-qual-2.5.5.jar:/var/lib/jetty/lib/gcloud/commons-codec-1.11.jar:/var/lib/jetty/lib/gcloud/commons-lang3-3.5.jar:/var/lib/jetty/lib/gcloud/commons-logging-1.2.jar:/var/lib/jetty/lib/gcloud/conscrypt-openjdk-uber-2.2.1.jar:/var/lib/jetty/lib/gcloud/datastore-v1-proto-client-1.6.3.jar:/var/lib/jetty/lib/gcloud/error_prone_annotations-2.3.4.jar:/var/lib/jetty/lib/gcloud/failureaccess-1.0.1.jar:/var/lib/jetty/lib/gcloud/gax-1.58.2.jar:/var/lib/jetty/lib/gcloud/gax-grpc-1.58.2.jar:/var/lib/jetty/lib/gcloud/gax-httpjson-0.75.2.jar:/var/lib/jetty/lib/gcloud/google-api-client-1.30.9.jar:/var/lib/jetty/lib/gcloud/google-auth-library-credentials-0.21.1.jar:/var/lib/jetty/lib/gcloud/google-auth-library-oauth2-http-0.21.1.jar:/var/lib/jetty/lib/gcloud/google-cloud-core-1.93.8.jar:/var/lib/jetty/lib/gcloud/google-cloud-core-grpc-1.93.8.jar:/var/lib/jetty/lib/gcloud/google-cloud-core-http-1.93.8.jar:/var/lib/jetty/lib/gcloud/google-cloud-datastore-1.104.0.jar:/var/lib/jetty/lib/gcloud/google-cloud-logging-1.101.2.jar:/var/lib/jetty/lib/gcloud/google-http-client-1.35.0.jar:/var/lib/jetty/lib/gcloud/google-http-client-appengine-1.35.0.jar:/var/lib/jetty/lib/gcloud/google-http-client-jackson2-1.35.0.jar:/var/lib/jetty/lib/gcloud/google-http-client-protobuf-1.35.0.jar:/var/lib/jetty/lib/gcloud/google-oauth-client-1.30.6.jar:/var/lib/jetty/lib/gcloud/grpc-alts-1.30.0.jar:/var/lib/jetty/lib/gcloud/grpc-api-1.30.0.jar:/var/lib/jetty/lib/gcloud/grpc-auth-1.30.0.jar:/var/lib/jetty/lib/gcloud/grpc-context-1.30.0.jar:/var/lib/jetty/lib/gcloud/grpc-core-1.30.0.jar:/var/lib/jetty/lib/gcloud/grpc-grpclb-1.30.0.jar:/var/lib/jetty/lib/gcloud/grpc-netty-shaded-1.30.0.jar:/var/lib/jetty/lib/gcloud/grpc-protobuf-1.29.0.jar:/var/lib/jetty/lib/gcloud/grpc-protobuf-lite-1.29.0.jar:/var/lib/jetty/lib/gcloud/grpc-stub-1.29.0.jar:/var/lib/jetty/lib/gcloud/gson-2.8.6.jar:/var/lib/jetty/lib/gcloud/guava-29.0-android.jar:/var/lib/jetty/lib/gcloud/httpclient-4.5.12.jar:/var/lib/jetty/lib/gcloud/httpcore-4.4.13.jar:/var/lib/jetty/lib/gcloud/j2objc-annotations-1.3.jar:/var/lib/jetty/lib/gcloud/jackson-core-2.11.0.jar:/var/lib/jetty/lib/gcloud/javax.annotation-api-1.3.2.jar:/var/lib/jetty/lib/gcloud/jsr305-3.0.2.jar:/var/lib/jetty/lib/gcloud/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/var/lib/jetty/lib/gcloud/opencensus-api-0.24.0.jar:/var/lib/jetty/lib/gcloud/opencensus-contrib-http-util-0.24.0.jar:/var/lib/jetty/lib/gcloud/perfmark-api-0.19.0.jar:/var/lib/jetty/lib/gcloud/protobuf-java-3.12.0.jar:/var/lib/jetty/lib/gcloud/protobuf-java-util-3.12.2.jar:/var/lib/jetty/lib/gcloud/proto-google-cloud-datastore-v1-0.87.0.jar:/var/lib/jetty/lib/gcloud/proto-google-cloud-logging-v2-0.84.2.jar:/var/lib/jetty/lib/gcloud/proto-google-common-protos-1.18.1.jar:/var/lib/jetty/lib/gcloud/proto-google-iam-v1-1.0.0.jar:/var/lib/jetty/lib/gcloud/slf4j-api-1.7.5.jar:/var/lib/jetty/lib/gcloud/threetenbp-1.4.4.jar:/var/lib/jetty/lib/gcloud/xmemcached-2.0.0.jar:/var/lib/jetty/lib/slf4j/jcl-over-slf4j-1.7.30.jar:/opt/jetty-home/lib/setuid/jetty-setuid-java-1.0.4.jar:/var/lib/jetty/lib/gcp/jetty9-base-0.1.0-SNAPSHOT.jar org.eclipse.jetty.xml.XmlConfiguration /jetty-start.properties /opt/jetty-home/etc/jetty-bytebufferpool.xml /opt/jetty-home/etc/jetty-threadpool.xml /opt/jetty-home/etc/jetty.xml /opt/jetty-home/etc/jetty-webapp.xml /opt/jetty-home/etc/jetty-plus.xml /opt/jetty-home/etc/jetty-annotations.xml /opt/jetty-home/etc/jetty-deploy.xml /opt/jetty-home/etc/jetty-http.xml /opt/jetty-home/etc/jetty-http-forwarded.xml /opt/jetty-home/etc/jetty-setuid.xml /var/lib/jetty/etc/gcp.xml\r\n[INFO] GCLOUD: -XX:InitialHeapSize=514850816 -XX:MaxHeapSize=514850816 -XX:+ParallelRefProcEnabled -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC \r\n[INFO] GCLOUD: I1030 15:32:39.799994    58 jvmti_globals.cc:331] Build time: Sep 14 2020 08:10:39\r\n[INFO] GCLOUD: I1030 15:32:39.803900    58 jvmti_agent.cc:159] Java debuglet initialization started\r\n[INFO] GCLOUD: I1030 15:32:39.804445    58 jvmti_agent.cc:193] Java debuglet initialization completed\r\n[INFO] GCLOUD: I1030 15:32:39.863389    58 jvmti_agent.cc:204] Java VM started\r\n[INFO] GCLOUD: I1030 15:32:39.890007    58 jvmti_agent.cc:214] JvmtiAgent::JvmtiOnVMInit initialization time: 26614 microseconds\r\n[INFO] GCLOUD: I1030 15:32:39.890761    69 jvmti_agent_thread.cc:95] Agent thread started: CloudDebugger_main_worker_thread\r\n[INFO] GCLOUD: I1030 15:32:39.891149    69 jvm_internals.cc:370] Loading internals from /opt/cdbg/cdbg_java_agent_internals.jar\r\n[INFO] GCLOUD: openjdk version &quot;1.8.0_275&quot;\r\n[INFO] GCLOUD: OpenJDK Runtime Environment (build 1.8.0_275-8u275-b01-1~deb9u1-b01)\r\n[INFO] GCLOUD: OpenJDK 64-Bit Server VM (build 25.275-b01, mixed mode)\r\n[INFO] GCLOUD: \r\n[INFO] GCLOUD: I1030 15:32:40.435465    69 jvmti_agent.cc:365] Initializing Cloud Debugger Java agent version: 2.26\r\n[INFO] GCLOUD: I1030 15:32:40.438211    69 jni_logger.cc:31] Initializing ClassPathLookup, default classpath: true, extra classpath: [/var/lib/jetty/webapps/root/WEB-INF/classes, /var/lib/jetty/webapps/root/WEB-INF/lib]\r\n[INFO] GCLOUD: org.eclipse.jetty.util.log: Logging initialized @763ms to org.eclipse.jetty.util.log.Slf4jLog\r\n[INFO] GCLOUD: I1030 15:32:41.660717    69 jni_logger.cc:31] Total size of indexed resources database: 413931 bytes\r\n[INFO] GCLOUD: I1030 15:32:41.926803    69 jvm_internals.cc:131] ClassPathLookup constructor time: 1489881 microseconds\r\n[INFO] GCLOUD: I1030 15:32:41.932482    69 yaml_data_visibility_config_reader.cc:35] debugger-blacklist.yaml was not found.  Using default settings.\r\n[INFO] GCLOUD: org.eclipse.jetty.setuid.SetUIDListener: Setting umask=02\r\n[INFO] GCLOUD: org.eclipse.jetty.setuid.SetUIDListener: Opened ServerConnector@4e9ba398{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}\r\n[INFO] GCLOUD: org.eclipse.jetty.setuid.SetUIDListener: Setting GID=999\r\n[INFO] GCLOUD: org.eclipse.jetty.setuid.SetUIDListener: Setting UID=999\r\n[INFO] GCLOUD: org.eclipse.jetty.server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_275-8u275-b01-1~deb9u1-b01\r\n[INFO] GCLOUD: org.eclipse.jetty.deploy.providers.ScanningAppProvider: Deployment monitor [file:///var/lib/jetty/webapps/] at interval 0\r\n[INFO] GCLOUD: I1030 15:32:44.060986    69 jni_logger.cc:31] Debuggee gcp:946572402541:6b9924bd764d618d, agentId 61787602-0000-20a6-9801-240588747bcc, registered: {&quot;debuggee&quot;:{&quot;id&quot;:&quot;gcp:946572402541:6b9924bd764d618d&quot;,&quot;project&quot;:&quot;946572402541&quot;,&quot;uniquifier&quot;:&quot;DA39A3EE5E6B4B0D3255BFEF95601890AFD80709&quot;,&quot;description&quot;:&quot;my-project-329416-1-439050277135501998&quot;,&quot;agentVersion&quot;:&quot;google.com/java-gcp/@2&quot;,&quot;labels&quot;:{&quot;version&quot;:&quot;1&quot;,&quot;minorversion&quot;:&quot;439050277135501998&quot;}},&quot;agentId&quot;:&quot;61787602-0000-20a6-9801-240588747bcc&quot;}, agent version: 2.26\r\n[INFO] GCLOUD: I1030 15:32:44.061256    69 jvmti_agent.cc:436] Attaching Java debuglet\r\n[INFO] GCLOUD: I1030 15:32:44.065299    69 rate_limit.cc:139] CPU count: 1\r\n[INFO] GCLOUD: I1030 15:32:44.065712    69 rate_limit.cc:147] Adjusted CPU count: 1\r\n[INFO] GCLOUD: I1030 15:32:44.065822    69 debugger.cc:99] Initializing Java debuglet\r\n[INFO] GCLOUD: I1030 15:32:44.090178    69 debugger.cc:108] Debugger::Initialize initialization time: 24 ms\r\n[INFO] GCLOUD: \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  17:12 min\r\n[INFO] Finished at: 2021-10-31T16:07:59+05:30\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.4.1:deploy (default-cli) on project mygoogleapp: App Engine application deployment failed: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1 -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.4.1:deploy (default-cli) on project mygoogleapp: App Engine application deployment failed\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:956)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:192)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: App Engine application deployment failed\r\n\tat com.google.cloud.tools.maven.deploy.AppDeployer.deploy(AppDeployer.java:59)\r\n\tat com.google.cloud.tools.maven.deploy.DeployMojo.execute(DeployMojo.java:35)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n\t... 20 more\r\nCaused by: com.google.cloud.tools.appengine.AppEngineException: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n\tat com.google.cloud.tools.appengine.operations.Deployment.deploy(Deployment.java:98)\r\n\tat com.google.cloud.tools.maven.deploy.AppDeployer.deploy(AppDeployer.java:57)\r\n\t... 23 more\r\nCaused by: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n\tat com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess(LegacyProcessHandler.java:87)\r\n\tat com.google.cloud.tools.appengine.operations.GcloudRunner.run(GcloudRunner.java:117)\r\n\tat com.google.cloud.tools.appengine.operations.Deployment.deploy(Deployment.java:96)\r\n\t... 24 more\r\nCaused by: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n\tat com.google.cloud.tools.appengine.operations.cloudsdk.process.NonZeroExceptionExitListener.onExit(NonZeroExceptionExitListener.java:28)\r\n\tat com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.syncRun(LegacyProcessHandler.java:144)\r\n\tat com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess(LegacyProcessHandler.java:83)\r\n\t... 26 more\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\n\r\n\r\nBelow is my pom.xml file -\r\n\r\n```  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.props&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;arti&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;MyGoogleApp&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n      \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      \t\t &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n      \t\t &lt;appengine.maven.plugin&gt;1.3.2&lt;/appengine.maven.plugin&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;     \r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;     \r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;          \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t            &lt;exclusion&gt;\r\n    \t                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t           &lt;/exclusion&gt;\r\n    \t        &lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t   &lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t     &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;  \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;2.4.1&lt;/version&gt;\r\n    \t\t\t    &lt;configuration&gt;\r\n    \t\t\t    &lt;version&gt;1&lt;/version&gt;\r\n    \t\t\t        &lt;deploy.projectId&gt;my-project-329416&lt;/deploy.projectId&gt;\r\n    \t\t\t    &lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt; ```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring boot throws &quot;com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException&quot;","body":"<p>I'm trying to deploy my spring boot web application to google cloud. I've followed the steps specified in the below document -</p>\n<p><a href=\"https://codelabs.developers.google.com/codelabs/cloud-app-engine-springboot#1\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/cloud-app-engine-springboot#1</a>.</p>\n<p>But every time I deploy my application to the google cloud I get <strong>com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1</strong></p>\n<p>But it doesn't give any specific error message even in debug mode.</p>\n<p>I tried to troubleshoot it taking reference from other questions but none worked for me.</p>\n<p>I'll appreciate any help.</p>\n<p>Run Logs -</p>\n<pre><code>[INFO] GCLOUD: -XX:InitialHeapSize=514850816 -XX:MaxHeapSize=514850816 -XX:+ParallelRefProcEnabled -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC \n[INFO] GCLOUD: I1030 15:32:39.799994    58 jvmti_globals.cc:331] Build time: Sep 14 2020 08:10:39\n[INFO] GCLOUD: I1030 15:32:39.803900    58 jvmti_agent.cc:159] Java debuglet initialization started\n[INFO] GCLOUD: I1030 15:32:39.804445    58 jvmti_agent.cc:193] Java debuglet initialization completed\n[INFO] GCLOUD: I1030 15:32:39.863389    58 jvmti_agent.cc:204] Java VM started\n[INFO] GCLOUD: I1030 15:32:39.890007    58 jvmti_agent.cc:214] JvmtiAgent::JvmtiOnVMInit initialization time: 26614 microseconds\n[INFO] GCLOUD: I1030 15:32:39.890761    69 jvmti_agent_thread.cc:95] Agent thread started: CloudDebugger_main_worker_thread\n[INFO] GCLOUD: I1030 15:32:39.891149    69 jvm_internals.cc:370] Loading internals from /opt/cdbg/cdbg_java_agent_internals.jar\n[INFO] GCLOUD: openjdk version &quot;1.8.0_275&quot;\n[INFO] GCLOUD: OpenJDK Runtime Environment (build 1.8.0_275-8u275-b01-1~deb9u1-b01)\n[INFO] GCLOUD: OpenJDK 64-Bit Server VM (build 25.275-b01, mixed mode)\n[INFO] GCLOUD: \n[INFO] GCLOUD: I1030 15:32:40.435465    69 jvmti_agent.cc:365] Initializing Cloud Debugger Java agent version: 2.26\n[INFO] GCLOUD: I1030 15:32:40.438211    69 jni_logger.cc:31] Initializing ClassPathLookup, default classpath: true, extra classpath: [/var/lib/jetty/webapps/root/WEB-INF/classes, /var/lib/jetty/webapps/root/WEB-INF/lib]\n[INFO] GCLOUD: org.eclipse.jetty.util.log: Logging initialized @763ms to org.eclipse.jetty.util.log.Slf4jLog\n[INFO] GCLOUD: I1030 15:32:41.660717    69 jni_logger.cc:31] Total size of indexed resources database: 413931 bytes\n[INFO] GCLOUD: I1030 15:32:41.926803    69 jvm_internals.cc:131] ClassPathLookup constructor time: 1489881 microseconds\n[INFO] GCLOUD: I1030 15:32:41.932482    69 yaml_data_visibility_config_reader.cc:35] debugger-blacklist.yaml was not found.  Using default settings.\n[INFO] GCLOUD: org.eclipse.jetty.setuid.SetUIDListener: Setting umask=02\n[INFO] GCLOUD: org.eclipse.jetty.setuid.SetUIDListener: Opened ServerConnector@4e9ba398{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}\n[INFO] GCLOUD: org.eclipse.jetty.setuid.SetUIDListener: Setting GID=999\n[INFO] GCLOUD: org.eclipse.jetty.setuid.SetUIDListener: Setting UID=999\n[INFO] GCLOUD: org.eclipse.jetty.server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_275-8u275-b01-1~deb9u1-b01\n[INFO] GCLOUD: org.eclipse.jetty.deploy.providers.ScanningAppProvider: Deployment monitor [file:///var/lib/jetty/webapps/] at interval 0\n[INFO] GCLOUD: I1030 15:32:44.060986    69 jni_logger.cc:31] Debuggee gcp:946572402541:6b9924bd764d618d, agentId 61787602-0000-20a6-9801-240588747bcc, registered: {&quot;debuggee&quot;:{&quot;id&quot;:&quot;gcp:946572402541:6b9924bd764d618d&quot;,&quot;project&quot;:&quot;946572402541&quot;,&quot;uniquifier&quot;:&quot;DA39A3EE5E6B4B0D3255BFEF95601890AFD80709&quot;,&quot;description&quot;:&quot;my-project-329416-1-439050277135501998&quot;,&quot;agentVersion&quot;:&quot;google.com/java-gcp/@2&quot;,&quot;labels&quot;:{&quot;version&quot;:&quot;1&quot;,&quot;minorversion&quot;:&quot;439050277135501998&quot;}},&quot;agentId&quot;:&quot;61787602-0000-20a6-9801-240588747bcc&quot;}, agent version: 2.26\n[INFO] GCLOUD: I1030 15:32:44.061256    69 jvmti_agent.cc:436] Attaching Java debuglet\n[INFO] GCLOUD: I1030 15:32:44.065299    69 rate_limit.cc:139] CPU count: 1\n[INFO] GCLOUD: I1030 15:32:44.065712    69 rate_limit.cc:147] Adjusted CPU count: 1\n[INFO] GCLOUD: I1030 15:32:44.065822    69 debugger.cc:99] Initializing Java debuglet\n[INFO] GCLOUD: I1030 15:32:44.090178    69 debugger.cc:108] Debugger::Initialize initialization time: 24 ms\n[INFO] GCLOUD: \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  17:12 min\n[INFO] Finished at: 2021-10-31T16:07:59+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.4.1:deploy (default-cli) on project mygoogleapp: App Engine application deployment failed: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.4.1:deploy (default-cli) on project mygoogleapp: App Engine application deployment failed\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:192)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: App Engine application deployment failed\n    at com.google.cloud.tools.maven.deploy.AppDeployer.deploy(AppDeployer.java:59)\n    at com.google.cloud.tools.maven.deploy.DeployMojo.execute(DeployMojo.java:35)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    ... 20 more\nCaused by: com.google.cloud.tools.appengine.AppEngineException: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n    at com.google.cloud.tools.appengine.operations.Deployment.deploy(Deployment.java:98)\n    at com.google.cloud.tools.maven.deploy.AppDeployer.deploy(AppDeployer.java:57)\n    ... 23 more\nCaused by: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess(LegacyProcessHandler.java:87)\n    at com.google.cloud.tools.appengine.operations.GcloudRunner.run(GcloudRunner.java:117)\n    at com.google.cloud.tools.appengine.operations.Deployment.deploy(Deployment.java:96)\n    ... 24 more\nCaused by: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.NonZeroExceptionExitListener.onExit(NonZeroExceptionExitListener.java:28)\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.syncRun(LegacyProcessHandler.java:144)\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess(LegacyProcessHandler.java:83)\n    ... 26 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Below is my pom.xml file -</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.5.6&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.props&lt;/groupId&gt;\n        &lt;artifactId&gt;arti&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;war&lt;/packaging&gt;\n        &lt;name&gt;MyGoogleApp&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n             &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n             &lt;appengine.maven.plugin&gt;1.3.2&lt;/appengine.maven.plugin&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n              &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;     \n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;     \n                &lt;artifactId&gt;gson&lt;/artifactId&gt;          \n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                   &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n             &lt;dependency&gt;\n               &lt;groupId&gt;jstl&lt;/groupId&gt;\n               &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n               &lt;version&gt;1.2&lt;/version&gt;\n            &lt;/dependency&gt; \n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n                &lt;version&gt;1.4&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n             &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;/dependency&gt;  \n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                    &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.4.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                    &lt;version&gt;1&lt;/version&gt;\n                        &lt;deploy.projectId&gt;my-project-329416&lt;/deploy.projectId&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    \n    &lt;/project&gt; ```\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","struts"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1635945873,"post_id":69825059,"comment_id":123426813,"body_markdown":"You can&#39;t do both. If you search for &quot;http download file and redirect&quot; (or similar) you&#39;ll find a number of possible workarounds. This is just the way HTTP works.","body":"You can&#39;t do both. If you search for &quot;http download file and redirect&quot; (or similar) you&#39;ll find a number of possible workarounds. This is just the way HTTP works."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1636041533,"post_id":69825059,"comment_id":123457251,"body_markdown":"FYI: The server side is different than a client side. Theyalso use different programming languages. What you do in one is different in another. You should explore both for reasonable opportunity. [This](https://stackoverflow.com/a/18165136/573032) answer must read.","body":"FYI: The server side is different than a client side. Theyalso use different programming languages. What you do in one is different in another. You should explore both for reasonable opportunity. <a href=\"https://stackoverflow.com/a/18165136/573032\">This</a> answer must read."}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635943407,"creation_date":1635943407,"question_id":69825059,"body_markdown":"I am working on a Java1.7 Struts1 application.\r\n\r\nIt can successfully download a file by doing the following:\r\n\r\n            response.setContentType(&quot;text/html&quot;);\r\n            response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\r\n            BufferedOutputStream fos = null;\r\n            try {\r\n                OutputStream output = response.getOutputStream();\r\n                fos = new BufferedOutputStream(output);\r\n                fos.write(bytes);\r\n                fos.flush();\r\n                fos.close();\r\n            } catch (IOException e) {\r\n                logger.error(&quot;Error trying to download the BAS file. &quot;+e.getMessage());\r\n            }\r\n\r\nHowever, when when it does this, it changes the `HttpServletResponse` object. This means that when the Action class performs the following:\r\n\r\n    return mapping.findForward(forwards.success.toString());\r\n\r\nIt does not forward to that location (it just stays on the current page, i.e. does the download and nothing else).\r\n\r\nIf it does not do the download, i.e. does not change the `HttpServletResponse` object, then it does the forward successfully.\r\n\r\n**Question**\r\n\r\nHow can I make it download the file (i.e. write to the `HttpServletResponse`, and then do the forward succesfully?\r\n","title":"How to forward after writing to an ourputstream","body":"<p>I am working on a Java1.7 Struts1 application.</p>\n<p>It can successfully download a file by doing the following:</p>\n<pre><code>        response.setContentType(&quot;text/html&quot;);\n        response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\n        BufferedOutputStream fos = null;\n        try {\n            OutputStream output = response.getOutputStream();\n            fos = new BufferedOutputStream(output);\n            fos.write(bytes);\n            fos.flush();\n            fos.close();\n        } catch (IOException e) {\n            logger.error(&quot;Error trying to download the BAS file. &quot;+e.getMessage());\n        }\n</code></pre>\n<p>However, when when it does this, it changes the <code>HttpServletResponse</code> object. This means that when the Action class performs the following:</p>\n<pre><code>return mapping.findForward(forwards.success.toString());\n</code></pre>\n<p>It does not forward to that location (it just stays on the current page, i.e. does the download and nothing else).</p>\n<p>If it does not do the download, i.e. does not change the <code>HttpServletResponse</code> object, then it does the forward successfully.</p>\n<p><strong>Question</strong></p>\n<p>How can I make it download the file (i.e. write to the <code>HttpServletResponse</code>, and then do the forward succesfully?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2508157,"reputation":3256,"user_id":2181225,"accept_rate":76,"display_name":"Jibran Khan"},"score":0,"creation_date":1370412948,"post_id":16932701,"comment_id":24445702,"body_markdown":"You cannot reduce the time of the application taking to launch after the boot. The OS of the phones prepares the storage and executes the services and processes including the application set on the boot completion. It will take some time, as it also depends on the memory (RAM) of the phone. Higher the RAM quickly the applications and services will launch.","body":"You cannot reduce the time of the application taking to launch after the boot. The OS of the phones prepares the storage and executes the services and processes including the application set on the boot completion. It will take some time, as it also depends on the memory (RAM) of the phone. Higher the RAM quickly the applications and services will launch."}],"answers":[{"tags":[],"owner":{"account_id":2696874,"reputation":3675,"user_id":2407931,"accept_rate":67,"display_name":"blganesh101"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370412919,"creation_date":1370412919,"answer_id":16932790,"question_id":16932701,"body_markdown":"Android system does lot of work on boot completed. \r\nhence the intent might be delayed. Depending on the phone capabilities, the intent delay times will vary. ","title":"Need to start app immediately after the boot completed","body":"<p>Android system does lot of work on boot completed. \nhence the intent might be delayed. Depending on the phone capabilities, the intent delay times will vary. </p>\n"},{"tags":[],"owner":{"account_id":2219343,"reputation":3989,"user_id":1959180,"accept_rate":50,"display_name":"Ayush"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1370414911,"creation_date":1370413507,"answer_id":16932925,"question_id":16932701,"body_markdown":"This can increase you **priority** but still there would be some delay. Since android first load its OS and the all the other activity starts.\r\n\r\n    &lt;receiver\r\n    \tandroid:name=&quot;.AutoStart&quot;\r\n    \tandroid:enabled=&quot;true&quot;\r\n    \tandroid:exported=&quot;true&quot;\r\n    \t&lt;intent-filter android:priority=&quot;1000&quot;&gt;\r\n    \t\t&lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n    \t&lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;","title":"Need to start app immediately after the boot completed","body":"<p>This can increase you <strong>priority</strong> but still there would be some delay. Since android first load its OS and the all the other activity starts.</p>\n\n<pre><code>&lt;receiver\n    android:name=\".AutoStart\"\n    android:enabled=\"true\"\n    android:exported=\"true\"\n    &lt;intent-filter android:priority=\"1000\"&gt;\n        &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16002605,"reputation":31,"user_id":11548852,"display_name":"Krzysztof Winiewski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599419470,"creation_date":1599419470,"answer_id":63767961,"question_id":16932701,"body_markdown":"I run through this problem too. To anyone still searching for solution:\r\n\r\n&gt; I want to run my app immediately. I Don&#39;t want to allow user to access the phone.\r\n\r\nConsider turning your app into home launcher. Make changes in the manifest:\r\n\r\nAdd to your activity\r\n\r\n    android:launchMode=&quot;singleTask&quot;\r\n\r\nAdd to intent filter in activity\r\n\r\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\r\n\r\nAfter that it will launch immediately with system, not showing to user anything else.","title":"Need to start app immediately after the boot completed","body":"<p>I run through this problem too. To anyone still searching for solution:</p>\n<blockquote>\n<p>I want to run my app immediately. I Don't want to allow user to access the phone.</p>\n</blockquote>\n<p>Consider turning your app into home launcher. Make changes in the manifest:</p>\n<p>Add to your activity</p>\n<pre><code>android:launchMode=&quot;singleTask&quot;\n</code></pre>\n<p>Add to intent filter in activity</p>\n<pre><code>&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n&lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\n</code></pre>\n<p>After that it will launch immediately with system, not showing to user anything else.</p>\n"}],"owner":{"account_id":2824443,"reputation":1042,"user_id":2427367,"accept_rate":50,"display_name":"Karan Mavadhiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8177,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":16932925,"answer_count":3,"score":9,"last_activity_date":1635943327,"creation_date":1370412564,"question_id":16932701,"body_markdown":"I need to know why my app didn&#39;t run immediately after booting in android real phone? My app runs but after a few second of booting.\r\n\r\nMy Code is \r\n\r\n\r\n    public class AutoStart extends BroadcastReceiver{\r\n    \r\n    \t@Override\r\n    \tpublic void onReceive(Context context, Intent intent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t if (intent.getAction().equals(Intent.ACTION_BOOT_COMPLETED)){\r\n    \t\t        Intent i = new Intent(context, MyActivity.class);\r\n    \t\t        i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \t\t        context.startActivity(i);\r\n    \t\t    }\r\n    \t}\r\n    \r\n    }\r\n\r\nMy activity is running, but after few Seconds of the boot completed. Is it Possible to reduce this few second?\r\n\r\nI want to run my app immediately. I Don&#39;t want to allow user to access the phone. \r\n","title":"Need to start app immediately after the boot completed","body":"<p>I need to know why my app didn't run immediately after booting in android real phone? My app runs but after a few second of booting.</p>\n\n<p>My Code is </p>\n\n<pre><code>public class AutoStart extends BroadcastReceiver{\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        // TODO Auto-generated method stub\n         if (intent.getAction().equals(Intent.ACTION_BOOT_COMPLETED)){\n                Intent i = new Intent(context, MyActivity.class);\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                context.startActivity(i);\n            }\n    }\n\n}\n</code></pre>\n\n<p>My activity is running, but after few Seconds of the boot completed. Is it Possible to reduce this few second?</p>\n\n<p>I want to run my app immediately. I Don't want to allow user to access the phone. </p>\n"},{"tags":["java","spring","database","spring-boot"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1635933934,"post_id":69821638,"comment_id":123422023,"body_markdown":"Hi, the failure seems to come from this line: `Optional&lt;TokenRegistryEntity&gt; tokenRegistryEntity = tokenRegistryService.getTokenByStatusAndUserId(Status.ACTIVE, UserPrincipal.getLoggedInUserId());`. Have you checked this `TokenRegistryServiceImpl#getTokenByStatusAndUserId` method if it works correctly? Please also share `TokenRegistryServiceImpl` code","body":"Hi, the failure seems to come from this line: <code>Optional&lt;TokenRegistryEntity&gt; tokenRegistryEntity = tokenRegistryService.getTokenByStatusAndUserId(Status.ACTIVE&zwnj;&#8203;, UserPrincipal.getLoggedInUserId());</code>. Have you checked this <code>TokenRegistryServiceImpl#getTokenByStatusAndUserId</code> method if it works correctly? Please also share <code>TokenRegistryServiceImpl</code> code"},{"owner":{"account_id":18964942,"reputation":21,"user_id":13839629,"display_name":"Koshila"},"score":0,"creation_date":1635939334,"post_id":69821638,"comment_id":123424019,"body_markdown":"@pleft   TokenRegistryServiceImp code  `    @Override\n    public Optional&lt;TokenRegistryEntity&gt; getTokenByStatusAndUserId(Status status, Long userId) {\n        Optional&lt;TokenRegistryEntity&gt; tokenRegistryEntity=tokenRegistryRepository.findByUserIdAndStatus(userId,status);\n        if (tokenRegistryEntity.isPresent()) {\n            return tokenRegistryEntity;\n        }\n        return Optional.empty();\n    }`","body":"@pleft   TokenRegistryServiceImp code  `    @Override     public Optional&lt;TokenRegistryEntity&gt; getTokenByStatusAndUserId(Status status, Long userId) {         Optional&lt;TokenRegistryEntity&gt; tokenRegistryEntity=tokenRegistryRepository.findByUserIdAndS&zwnj;&#8203;tatus(userId,status)&zwnj;&#8203;;         if (tokenRegistryEntity.isPresent()) {             return tokenRegistryEntity;         }         return Optional.empty();     }`"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635953034,"post_id":69821638,"comment_id":123430257,"body_markdown":"@Koshila, are you sure that `UserPrincipal.getLoggedInUserId()` is not `null`?","body":"@Koshila, are you sure that <code>UserPrincipal.getLoggedInUserId()</code> is not <code>null</code>?"},{"owner":{"account_id":18964942,"reputation":21,"user_id":13839629,"display_name":"Koshila"},"score":0,"creation_date":1635955547,"post_id":69821638,"comment_id":123431436,"body_markdown":"@Jo&#227;oDias yes it has a value","body":"@Jo&#227;oDias yes it has a value"}],"owner":{"account_id":18964942,"reputation":21,"user_id":13839629,"display_name":"Koshila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635942944,"creation_date":1635927844,"question_id":69821638,"body_markdown":"I am getting a stackoverflow exception whenerver I am trying to use the @PreUpdate annotation on entity, which uses the Embedded Auditable Entity and @EntityListeners.\r\n\r\nIn my code i am trying to fetch a user detail using static method, in order to update relevant field,\r\n\r\nbelow mentioned my code\r\n\r\n**Entity class** - Auditable \r\n\r\n   \r\n\r\n     /*specify the date which modified*/\r\n    @Column(name = &quot;is_belongs&quot;)\r\n    private boolean isBelongs=false;\r\n    \r\n    @PrePersist\r\n    protected final void  belongTo(){\r\n        this.isBelongs= TaxAdminSessionServiceHelper.checkAdminSesstion();\r\n    }\r\n    \r\n    \r\n    @PreUpdate\r\n    protected final void  belongToUpdated(){\r\n        this.isBelongs=TaxAdminSessionServiceHelper.checkAdminSesstion();\r\n    }\r\n\r\n**Static method**\r\n\r\n   \r\n\r\n     public static boolean checkAdminSesstion(){\r\n    \r\n            HttpServletRequest curRequest =\r\n                    ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes())\r\n                            .getRequest();\r\n            Optional&lt;TokenRegistryEntity&gt; tokenRegistryEntity = tokenRegistryService.getTokenByStatusAndUserId(Status.ACTIVE, UserPrincipal.getLoggedInUserId());\r\n    \r\n            if (tokenRegistryEntity.isPresent() &amp;&amp; curRequest.getAttribute(&quot;adminId&quot;) != null) {\r\n                Long adminId= Long.valueOf(request.getParameter(&quot;adminId&quot;));\r\n                Optional&lt;TaxAdminSessionEntity&gt; taxAdminSessionEntity = taxAdminSessionRepository\r\n                        .findByTokenAndUserIdAndAdminIdAndStatus(tokenRegistryEntity.get().getToken(),\r\n                                UserPrincipal.getLoggedInUserId(),\r\n                                adminId  , SessionStatus.ACTIVE);\r\n                return taxAdminSessionEntity.isPresent();\r\n            }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n**TokenRegistryServiceImpl**\r\n\r\n       @Override\r\n        public Optional&lt;TokenRegistryEntity&gt; getTokenByStatusAndUserId(Status status, Long userId) {\r\n            Optional&lt;TokenRegistryEntity&gt; tokenRegistryEntity=tokenRegistryRepository.findByUserIdAndStatus(userId,status);\r\n            if (tokenRegistryEntity.isPresent()) {\r\n                return tokenRegistryEntity;\r\n            }\r\n            return Optional.empty();\r\n        }\r\n**TokenRegistryEntity** \r\n\r\n    @Entity(name = &quot;um_token_registry&quot;)\r\n    @Data\r\n    public class TokenRegistryEntity extends UserBaseEntity {\r\n    \r\n        /*specify the serial version uid*/\r\n      private static final long serialVersionUID = -5035686189848426777L;\r\n    \r\n        /*specify the unique id*/\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n    \r\n        /*specify the user token*/\r\n        @Column(name = &quot;token&quot;)\r\n        private String token;\r\n    \r\n        /*specify the username*/\r\n        @Column(name = &quot;user_id&quot;)\r\n        private long userId;\r\n    \r\n        /*specify the token status*/\r\n        @Column(name = &quot;status&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private Status status;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nAny ideas?\r\n\r\nHere&#39;s stacktrace:\r\n\r\n    java.lang.StackOverflowError: null\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:195)\r\n    \tat org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.getService(SessionFactoryServiceRegistryImpl.java:98)\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:63)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:735)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:109)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor167.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:368)\r\n    \tat com.sun.proxy.$Proxy170.createQuery(Unknown Source)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor167.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314)\r\n    \tat com.sun.proxy.$Proxy170.createQuery(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:288)\r\n    \tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:241)\r\n    \tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.doCreateQuery(PartTreeJpaQuery.java:106)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:226)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:154)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:142)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:618)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat com.sun.proxy.$Proxy195.findByUserIdAndStatus(Unknown Source)\r\n    \tat com.kts.user.management.service.impl.TokenRegistryServiceImpl.getTokenByStatusAndUserId(TokenRegistryServiceImpl.java:120)\r\n    \tat com.kts.user.management.service.helper.TaxAdminSessionServiceHelper.checkAdminSesstion(TaxAdminSessionServiceHelper.java:40)\r\n    \tat com.kts.tax.service.common.entity.EmployerEntity.belongToUpdated(EmployerEntity.java:95)\r\n\r\n\r\n**Purpose :**\r\n\r\ni need to update that field in order to result of the other table if it has a record i need to pass true (boolean value), if not then false, \r\n\r\ni am looking for answer for this matter\r\n\r\n ","title":"Stackoverflow on @PreUpdate in Entity","body":"<p>I am getting a stackoverflow exception whenerver I am trying to use the @PreUpdate annotation on entity, which uses the Embedded Auditable Entity and @EntityListeners.</p>\n<p>In my code i am trying to fetch a user detail using static method, in order to update relevant field,</p>\n<p>below mentioned my code</p>\n<p><strong>Entity class</strong> - Auditable</p>\n<pre><code> /*specify the date which modified*/\n@Column(name = &quot;is_belongs&quot;)\nprivate boolean isBelongs=false;\n\n@PrePersist\nprotected final void  belongTo(){\n    this.isBelongs= TaxAdminSessionServiceHelper.checkAdminSesstion();\n}\n\n\n@PreUpdate\nprotected final void  belongToUpdated(){\n    this.isBelongs=TaxAdminSessionServiceHelper.checkAdminSesstion();\n}\n</code></pre>\n<p><strong>Static method</strong></p>\n<pre><code> public static boolean checkAdminSesstion(){\n\n        HttpServletRequest curRequest =\n                ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes())\n                        .getRequest();\n        Optional&lt;TokenRegistryEntity&gt; tokenRegistryEntity = tokenRegistryService.getTokenByStatusAndUserId(Status.ACTIVE, UserPrincipal.getLoggedInUserId());\n\n        if (tokenRegistryEntity.isPresent() &amp;&amp; curRequest.getAttribute(&quot;adminId&quot;) != null) {\n            Long adminId= Long.valueOf(request.getParameter(&quot;adminId&quot;));\n            Optional&lt;TaxAdminSessionEntity&gt; taxAdminSessionEntity = taxAdminSessionRepository\n                    .findByTokenAndUserIdAndAdminIdAndStatus(tokenRegistryEntity.get().getToken(),\n                            UserPrincipal.getLoggedInUserId(),\n                            adminId  , SessionStatus.ACTIVE);\n            return taxAdminSessionEntity.isPresent();\n        }\n\n    return false;\n}\n</code></pre>\n<p><strong>TokenRegistryServiceImpl</strong></p>\n<pre><code>   @Override\n    public Optional&lt;TokenRegistryEntity&gt; getTokenByStatusAndUserId(Status status, Long userId) {\n        Optional&lt;TokenRegistryEntity&gt; tokenRegistryEntity=tokenRegistryRepository.findByUserIdAndStatus(userId,status);\n        if (tokenRegistryEntity.isPresent()) {\n            return tokenRegistryEntity;\n        }\n        return Optional.empty();\n    }\n</code></pre>\n<p><strong>TokenRegistryEntity</strong></p>\n<pre><code>@Entity(name = &quot;um_token_registry&quot;)\n@Data\npublic class TokenRegistryEntity extends UserBaseEntity {\n\n    /*specify the serial version uid*/\n  private static final long serialVersionUID = -5035686189848426777L;\n\n    /*specify the unique id*/\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    /*specify the user token*/\n    @Column(name = &quot;token&quot;)\n    private String token;\n\n    /*specify the username*/\n    @Column(name = &quot;user_id&quot;)\n    private long userId;\n\n    /*specify the token status*/\n    @Column(name = &quot;status&quot;)\n    @Enumerated(EnumType.STRING)\n    private Status status;\n}\n</code></pre>\n<p>Any ideas?</p>\n<p>Here's stacktrace:</p>\n<pre><code>java.lang.StackOverflowError: null\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:195)\n    at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.getService(SessionFactoryServiceRegistryImpl.java:98)\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:63)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:735)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:109)\n    at jdk.internal.reflect.GeneratedMethodAccessor167.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:368)\n    at com.sun.proxy.$Proxy170.createQuery(Unknown Source)\n    at jdk.internal.reflect.GeneratedMethodAccessor167.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314)\n    at com.sun.proxy.$Proxy170.createQuery(Unknown Source)\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:288)\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:241)\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.doCreateQuery(PartTreeJpaQuery.java:106)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:226)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:154)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:142)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:618)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy195.findByUserIdAndStatus(Unknown Source)\n    at com.kts.user.management.service.impl.TokenRegistryServiceImpl.getTokenByStatusAndUserId(TokenRegistryServiceImpl.java:120)\n    at com.kts.user.management.service.helper.TaxAdminSessionServiceHelper.checkAdminSesstion(TaxAdminSessionServiceHelper.java:40)\n    at com.kts.tax.service.common.entity.EmployerEntity.belongToUpdated(EmployerEntity.java:95)\n</code></pre>\n<p><strong>Purpose :</strong></p>\n<p>i need to update that field in order to result of the other table if it has a record i need to pass true (boolean value), if not then false,</p>\n<p>i am looking for answer for this matter</p>\n"},{"tags":["java","sql","javafx"],"comments":[{"owner":{"account_id":9920419,"reputation":11,"user_id":7343746,"display_name":"Jordan"},"score":0,"creation_date":1635911524,"post_id":69819295,"comment_id":123416219,"body_markdown":"Found a post and got it to work. Here is the link that helped me: https://stackoverflow.com/questions/13368572/rendering-a-pojo-with-javafx-2s-combo-box-without-overriding-the-tostring-met","body":"Found a post and got it to work. Here is the link that helped me: <a href=\"https://stackoverflow.com/questions/13368572/rendering-a-pojo-with-javafx-2s-combo-box-without-overriding-the-tostring-met\" title=\"rendering a pojo with javafx 2s combo box without overriding the tostring met\">stackoverflow.com/questions/13368572/&hellip;</a>"}],"owner":{"account_id":9920419,"reputation":11,"user_id":7343746,"display_name":"Jordan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635929676,"answer_count":0,"score":1,"last_activity_date":1635942912,"creation_date":1635909601,"question_id":69819295,"body_markdown":"So I have an application that I am building on the side for experience which is like a Personal Health Record. I am using Java and Java FX to complete this task. Essentially I have a method in a database helper class to get all of the Medical Providers as Provider objects into an ArrayList&lt;Provider&gt; instance. Instead of it showing all of the attributes of the Object it is referencing, how do I customize this to just show their name and credentials. Keep in mind that this is connected to a MySQL database instance, and each Provider object has a variable called dbID, which is how the queriers are run. So I will need to get the dbID value when the option in the combobox is selected. \r\n\r\n\r\nCode to get Information from DB: \r\n\r\n``` \r\npublic ArrayList&lt;Provider&gt; getAllProvidersByPatientID(int patientID) throws SQLException\r\n    {\r\n\r\n        ArrayList&lt;Provider&gt; providerArrayList = new ArrayList&lt;&gt;();\r\n\r\n        connect = ConnectionManager.getConnection();\r\n        statement = connect.createStatement();\r\n        resultSet = statement.executeQuery(&quot;SELECT * FROM PROVIDER WHERE patientID = &quot; + patientID);\r\n\r\n\r\n        while(resultSet.next())\r\n        {\r\n            Provider p = new Provider();\r\n            p.setDbID(resultSet.getInt(&quot;idPROVIDER&quot;));\r\n            p.setFirstName(resultSet.getString(&quot;firstName&quot;));\r\n            p.setLastName(resultSet.getString(&quot;lastName&quot;));\r\n            p.setCredentials(resultSet.getString(&quot;credentials&quot;));\r\n            p.setSpecialty(resultSet.getString(&quot;specialty&quot;));\r\n            p.setNpiNumber(resultSet.getString(&quot;NPI_Number&quot;));\r\n            p.setStartedSeeing(resultSet.getDate(&quot;startDate&quot;));\r\n            p.setStoppedSeeing(resultSet.getDate(&quot;endDate&quot;));\r\n            p.setPhoneNumber(resultSet.getString(&quot;phoneNumber&quot;));\r\n            p.setFaxNumber(resultSet.getString(&quot;faxNumber&quot;));\r\n            p.setNotes(resultSet.getString(&quot;notes&quot;));\r\n\r\n            boolean isActive;\r\n\r\n            if(resultSet.getInt(&quot;active&quot;) == 1)\r\n                isActive = true;\r\n            else\r\n                isActive = false;\r\n\r\n            p.setActive(isActive);\r\n\r\n            providerArrayList.add(p);\r\n        }\r\n        return providerArrayList;\r\n\r\n    }\r\n```\r\n\r\nVariables of the Provider Class: \r\n```\r\npublic class Provider {\r\n    private String firstName;\r\n    private int dbID;\r\n    private String lastName;\r\n    private String credentials;\r\n    private String organization;\r\n    private String specialty;\r\n    private String npiNumber;\r\n    private Date startedSeeing;\r\n    private Date stoppedSeeing;\r\n    private String phoneNumber;\r\n    private String faxNumber;\r\n    private String address;\r\n    private String notes;\r\n    private boolean active;\r\n\r\n   //All variables here have getters and setters. \r\n\r\n}\r\n```\r\n\r\nThis is the code snippet that I used to fill the combobox: \r\n```\r\nproviderCB.getItems().addAll(providerDBHelper.getAllProvidersByPatientID(1));\r\n```\r\n\r\nWhich is almost like it calls the toString() method to fill in the combobox dropdowns. ","title":"Java FXML ComboBox Filled with Objects, shows entire string of attributes. How to customize what is shown?","body":"<p>So I have an application that I am building on the side for experience which is like a Personal Health Record. I am using Java and Java FX to complete this task. Essentially I have a method in a database helper class to get all of the Medical Providers as Provider objects into an ArrayList instance. Instead of it showing all of the attributes of the Object it is referencing, how do I customize this to just show their name and credentials. Keep in mind that this is connected to a MySQL database instance, and each Provider object has a variable called dbID, which is how the queriers are run. So I will need to get the dbID value when the option in the combobox is selected.</p>\n<p>Code to get Information from DB:</p>\n<pre><code>public ArrayList&lt;Provider&gt; getAllProvidersByPatientID(int patientID) throws SQLException\n    {\n\n        ArrayList&lt;Provider&gt; providerArrayList = new ArrayList&lt;&gt;();\n\n        connect = ConnectionManager.getConnection();\n        statement = connect.createStatement();\n        resultSet = statement.executeQuery(&quot;SELECT * FROM PROVIDER WHERE patientID = &quot; + patientID);\n\n\n        while(resultSet.next())\n        {\n            Provider p = new Provider();\n            p.setDbID(resultSet.getInt(&quot;idPROVIDER&quot;));\n            p.setFirstName(resultSet.getString(&quot;firstName&quot;));\n            p.setLastName(resultSet.getString(&quot;lastName&quot;));\n            p.setCredentials(resultSet.getString(&quot;credentials&quot;));\n            p.setSpecialty(resultSet.getString(&quot;specialty&quot;));\n            p.setNpiNumber(resultSet.getString(&quot;NPI_Number&quot;));\n            p.setStartedSeeing(resultSet.getDate(&quot;startDate&quot;));\n            p.setStoppedSeeing(resultSet.getDate(&quot;endDate&quot;));\n            p.setPhoneNumber(resultSet.getString(&quot;phoneNumber&quot;));\n            p.setFaxNumber(resultSet.getString(&quot;faxNumber&quot;));\n            p.setNotes(resultSet.getString(&quot;notes&quot;));\n\n            boolean isActive;\n\n            if(resultSet.getInt(&quot;active&quot;) == 1)\n                isActive = true;\n            else\n                isActive = false;\n\n            p.setActive(isActive);\n\n            providerArrayList.add(p);\n        }\n        return providerArrayList;\n\n    }\n</code></pre>\n<p>Variables of the Provider Class:</p>\n<pre><code>public class Provider {\n    private String firstName;\n    private int dbID;\n    private String lastName;\n    private String credentials;\n    private String organization;\n    private String specialty;\n    private String npiNumber;\n    private Date startedSeeing;\n    private Date stoppedSeeing;\n    private String phoneNumber;\n    private String faxNumber;\n    private String address;\n    private String notes;\n    private boolean active;\n\n   //All variables here have getters and setters. \n\n}\n</code></pre>\n<p>This is the code snippet that I used to fill the combobox:</p>\n<pre><code>providerCB.getItems().addAll(providerDBHelper.getAllProvidersByPatientID(1));\n</code></pre>\n<p>Which is almost like it calls the toString() method to fill in the combobox dropdowns.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1460303218,"post_id":36531479,"comment_id":60667533,"body_markdown":"I don&#39;t think you wanted to ask whether *&quot;[it is] OK to write my own ChaCha20/Poly1305 encrypt-then-MAC mode of operation?&quot;*. Generally, we recommend not to roll your own encryption, so the answer would be **no**. Questions that can be answered with a simple yes or no are not very interesting. It seems to me, the proper question would be, *how can I combine ChaCha20 and Poly1305 in BouncyCastle for general purpose encryption?*","body":"I don&#39;t think you wanted to ask whether <i>&quot;[it is] OK to write my own ChaCha20/Poly1305 encrypt-then-MAC mode of operation?&quot;</i>. Generally, we recommend not to roll your own encryption, so the answer would be <b>no</b>. Questions that can be answered with a simple yes or no are not very interesting. It seems to me, the proper question would be, <i>how can I combine ChaCha20 and Poly1305 in BouncyCastle for general purpose encryption?</i>"},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1460303542,"post_id":36531479,"comment_id":60667672,"body_markdown":"BouncyCastle is under MIT license, so you can easily take that class and throw away all the references to TLS.","body":"BouncyCastle is under MIT license, so you can easily take that class and throw away all the references to TLS."},{"owner":{"account_id":3368917,"reputation":181,"user_id":2828700,"accept_rate":60,"display_name":"Dreadlockyx"},"score":0,"creation_date":1460315035,"post_id":36531479,"comment_id":60672055,"body_markdown":"But then if I modify the class to make it general purpose, wouldn&#39;t that be equal to rolling my own crypto ?","body":"But then if I modify the class to make it general purpose, wouldn&#39;t that be equal to rolling my own crypto ?"},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1460316429,"post_id":36531479,"comment_id":60672583,"body_markdown":"Sure, but it is less error prone (security-wise) if you remove some functionality instead of building it from scratch. The border between *rolling your own crypto* and *using existing crypto* is a moving target and there is no real consensus where the border actually is. You can hire a security consultant to look over the code if you&#39;re not sure.","body":"Sure, but it is less error prone (security-wise) if you remove some functionality instead of building it from scratch. The border between <i>rolling your own crypto</i> and <i>using existing crypto</i> is a moving target and there is no real consensus where the border actually is. You can hire a security consultant to look over the code if you&#39;re not sure."},{"owner":{"account_id":3368917,"reputation":181,"user_id":2828700,"accept_rate":60,"display_name":"Dreadlockyx"},"score":0,"creation_date":1460325887,"post_id":36531479,"comment_id":60675750,"body_markdown":"That is true. However, the modified class takes an input as a whole and then processes it. This renders input streaming impossible.","body":"That is true. However, the modified class takes an input as a whole and then processes it. This renders input streaming impossible."},{"owner":{"account_id":3368917,"reputation":181,"user_id":2828700,"accept_rate":60,"display_name":"Dreadlockyx"},"score":1,"creation_date":1460405116,"post_id":36531479,"comment_id":60716843,"body_markdown":"Nevermind, I sorted it out. You can check the class I&#39;ve come up with [here](https://github.com/Serphentas/CryptoClient/blob/master/src/internal/crypto/CPCipher.java).","body":"Nevermind, I sorted it out. You can check the class I&#39;ve come up with <a href=\"https://github.com/Serphentas/CryptoClient/blob/master/src/internal/crypto/CPCipher.java\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1460407628,"post_id":36531479,"comment_id":60718297,"body_markdown":"That looks fine to me. You might want to post a proper answer with that code.","body":"That looks fine to me. You might want to post a proper answer with that code."},{"owner":{"account_id":3368917,"reputation":181,"user_id":2828700,"accept_rate":60,"display_name":"Dreadlockyx"},"score":0,"creation_date":1460446682,"post_id":36531479,"comment_id":60732678,"body_markdown":"I have to make it pass test vectors first, then I will update this question with the appropriate answer.","body":"I have to make it pass test vectors first, then I will update this question with the appropriate answer."}],"answers":[{"tags":[],"owner":{"account_id":16757727,"reputation":54,"user_id":12113305,"display_name":"Philipp Ensinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635942873,"creation_date":1569330802,"answer_id":58081145,"question_id":36531479,"body_markdown":"**Java 11** adds a &quot;ChaCha20-Poly1305/None/NoPadding Cipher\r\nIt is now possible to use without any third party libraries or some other magic --&gt;\r\n \r\nHere&#180;s a reference **Implementation** \r\n\r\n**ATTENTION this Implementation uses a non-random Nonce and should NOT be used except for Testing purposes**:\r\n\r\n    package chaCha20Poly1305Encryption;\r\n\r\n    import javax.crypto.*;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.spec.AlgorithmParameterSpec;\r\n    import java.util.Base64;\r\n\r\n    public class ChaCha20Poly1305 {\r\n\r\n    public static byte[] encrypt(byte[] data, SecretKey key) throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n            InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n        if(key == null) throw new InvalidKeyException(&quot;SecretKey must NOT be NULL&quot;);\r\n\r\n        byte[] nonceBytes = new byte[12];\r\n\r\n        // Get Cipher Instance\r\n        Cipher cipher = Cipher.getInstance(&quot;ChaCha20-Poly1305/None/NoPadding&quot;);\r\n\r\n        // Create IvParamterSpec\r\n        AlgorithmParameterSpec ivParameterSpec = new IvParameterSpec(nonceBytes);\r\n\r\n        // Create SecretKeySpec\r\n        SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), &quot;ChaCha20&quot;);\r\n\r\n        // Initialize Cipher for ENCRYPT_MODE\r\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivParameterSpec);\r\n\r\n        // Perform Encryption\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] decrypt(byte[] cipherText, SecretKey key) throws Exception {\r\n        if(key == null) throw new InvalidKeyException(&quot;SecretKey must NOT be NULL&quot;);\r\n        byte[] nonceBytes = new byte[12];\r\n\r\n        // Get Cipher Instance\r\n        Cipher cipher = Cipher.getInstance(&quot;ChaCha20-Poly1305/None/NoPadding&quot;);\r\n\r\n        // Create IvParamterSpec\r\n        AlgorithmParameterSpec ivParameterSpec = new IvParameterSpec(nonceBytes);\r\n\r\n        // Create SecretKeySpec\r\n        SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), &quot;ChaCha20&quot;);\r\n\r\n        // Initialize Cipher for DECRYPT_MODE\r\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, ivParameterSpec);\r\n\r\n        // Perform Decryption\r\n        return cipher.doFinal(cipherText);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        SecretKey key = ChaCha20Poly1305KeyGenerator.generateKey();\r\n\r\n        String testMessage = &quot;hallo!&quot;;\r\n        byte[] encryptedBytes = encrypt(testMessage.getBytes(), key);\r\n        String decryptedMessage = new String(decrypt(encryptedBytes,key));\r\n        System.out.println(&quot;testMessage: &quot; + testMessage);\r\n        System.out.println(key.getAlgorithm() + &quot; SecretKey: &quot; + Base64.getEncoder().encodeToString(key.getEncoded()));\r\n        System.out.println(&quot;encryptedBytes: &quot; + Base64.getEncoder().encodeToString(encryptedBytes));\r\n        System.out.println(&quot;decryptedMessage: &quot;+ decryptedMessage);\r\n\r\n    }\r\n    }\r\n\r\nAnd the corresponding Key-Generator:\r\n\r\n    package chaCha20Poly1305Encryption;\r\n    \r\n    import javax.crypto.KeyGenerator;\r\n    import javax.crypto.SecretKey;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Base64;\r\n    \r\n    public class ChaCha20Poly1305KeyGenerator {\r\n        public static SecretKey generateKey() throws NoSuchAlgorithmException {\r\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;ChaCha20&quot;);\r\n            //Keysize MUST be 256 bit - as of Java11 only 256Bit is supported\r\n            keyGenerator.init(256);\r\n            return keyGenerator.generateKey();\r\n        }\r\n        public static void main(String[] args) throws NoSuchAlgorithmException {\r\n            SecretKey key = generateKey();\r\n            System.out.println(key.getAlgorithm() + &quot; SecretKey: &quot; + Base64.getEncoder().encodeToString(key.getEncoded()));\r\n        }\r\n    }\r\n\r\nCode used from my Github GIST:\r\nhttps://gist.github.com/eXspir3/7a0821a6cfdb0495ccc3e69b475a61b9","title":"Java: ChaCha20 w/ Poly1305 as MAC for general purpose file encryption","body":"<p><strong>Java 11</strong> adds a &quot;ChaCha20-Poly1305/None/NoPadding Cipher\nIt is now possible to use without any third party libraries or some other magic --&gt;</p>\n<p>Heres a reference <strong>Implementation</strong></p>\n<p><strong>ATTENTION this Implementation uses a non-random Nonce and should NOT be used except for Testing purposes</strong>:</p>\n<pre><code>package chaCha20Poly1305Encryption;\n\nimport javax.crypto.*;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.AlgorithmParameterSpec;\nimport java.util.Base64;\n\npublic class ChaCha20Poly1305 {\n\npublic static byte[] encrypt(byte[] data, SecretKey key) throws NoSuchPaddingException, NoSuchAlgorithmException,\n        InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n    if(key == null) throw new InvalidKeyException(&quot;SecretKey must NOT be NULL&quot;);\n\n    byte[] nonceBytes = new byte[12];\n\n    // Get Cipher Instance\n    Cipher cipher = Cipher.getInstance(&quot;ChaCha20-Poly1305/None/NoPadding&quot;);\n\n    // Create IvParamterSpec\n    AlgorithmParameterSpec ivParameterSpec = new IvParameterSpec(nonceBytes);\n\n    // Create SecretKeySpec\n    SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), &quot;ChaCha20&quot;);\n\n    // Initialize Cipher for ENCRYPT_MODE\n    cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivParameterSpec);\n\n    // Perform Encryption\n    return cipher.doFinal(data);\n}\n\npublic static byte[] decrypt(byte[] cipherText, SecretKey key) throws Exception {\n    if(key == null) throw new InvalidKeyException(&quot;SecretKey must NOT be NULL&quot;);\n    byte[] nonceBytes = new byte[12];\n\n    // Get Cipher Instance\n    Cipher cipher = Cipher.getInstance(&quot;ChaCha20-Poly1305/None/NoPadding&quot;);\n\n    // Create IvParamterSpec\n    AlgorithmParameterSpec ivParameterSpec = new IvParameterSpec(nonceBytes);\n\n    // Create SecretKeySpec\n    SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), &quot;ChaCha20&quot;);\n\n    // Initialize Cipher for DECRYPT_MODE\n    cipher.init(Cipher.DECRYPT_MODE, keySpec, ivParameterSpec);\n\n    // Perform Decryption\n    return cipher.doFinal(cipherText);\n}\n\npublic static void main(String[] args) throws Exception {\n    SecretKey key = ChaCha20Poly1305KeyGenerator.generateKey();\n\n    String testMessage = &quot;hallo!&quot;;\n    byte[] encryptedBytes = encrypt(testMessage.getBytes(), key);\n    String decryptedMessage = new String(decrypt(encryptedBytes,key));\n    System.out.println(&quot;testMessage: &quot; + testMessage);\n    System.out.println(key.getAlgorithm() + &quot; SecretKey: &quot; + Base64.getEncoder().encodeToString(key.getEncoded()));\n    System.out.println(&quot;encryptedBytes: &quot; + Base64.getEncoder().encodeToString(encryptedBytes));\n    System.out.println(&quot;decryptedMessage: &quot;+ decryptedMessage);\n\n}\n}\n</code></pre>\n<p>And the corresponding Key-Generator:</p>\n<pre><code>package chaCha20Poly1305Encryption;\n\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.SecretKey;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Base64;\n\npublic class ChaCha20Poly1305KeyGenerator {\n    public static SecretKey generateKey() throws NoSuchAlgorithmException {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;ChaCha20&quot;);\n        //Keysize MUST be 256 bit - as of Java11 only 256Bit is supported\n        keyGenerator.init(256);\n        return keyGenerator.generateKey();\n    }\n    public static void main(String[] args) throws NoSuchAlgorithmException {\n        SecretKey key = generateKey();\n        System.out.println(key.getAlgorithm() + &quot; SecretKey: &quot; + Base64.getEncoder().encodeToString(key.getEncoded()));\n    }\n}\n</code></pre>\n<p>Code used from my Github GIST:\n<a href=\"https://gist.github.com/eXspir3/7a0821a6cfdb0495ccc3e69b475a61b9\" rel=\"nofollow noreferrer\">https://gist.github.com/eXspir3/7a0821a6cfdb0495ccc3e69b475a61b9</a></p>\n"}],"owner":{"account_id":3368917,"reputation":181,"user_id":2828700,"accept_rate":60,"display_name":"Dreadlockyx"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58081145,"answer_count":1,"score":3,"last_activity_date":1635942873,"creation_date":1460301163,"question_id":36531479,"body_markdown":"I need to use ChaCha20/Poly1305 for general purpose encryption and decryption of any data from any source (the same way we use I/O streams, ex. CipherInputStream).\r\n\r\n[This question][1] already asks if it&#39;s possible to use Bouncy Castle&#39;s ChaCha20Poly1305 class to process data but only TLS transactions seem to be supported.\r\n\r\nSo now I&#39;m left with pure ChaCha20 (ChaCha20Engine). I would like to know if writing my own encrypt-then-MAC scheme is a good idea or not, so that I get exactly what I need.\r\n\r\ntl;dr Is it OK to write my own ChaCha20/Poly1305 encrypt-then-MAC mode of operation ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32672241/using-bouncycastles-chacha-for-file-encryption","title":"Java: ChaCha20 w/ Poly1305 as MAC for general purpose file encryption","body":"<p>I need to use ChaCha20/Poly1305 for general purpose encryption and decryption of any data from any source (the same way we use I/O streams, ex. CipherInputStream).</p>\n\n<p><a href=\"https://stackoverflow.com/questions/32672241/using-bouncycastles-chacha-for-file-encryption\">This question</a> already asks if it's possible to use Bouncy Castle's ChaCha20Poly1305 class to process data but only TLS transactions seem to be supported.</p>\n\n<p>So now I'm left with pure ChaCha20 (ChaCha20Engine). I would like to know if writing my own encrypt-then-MAC scheme is a good idea or not, so that I get exactly what I need.</p>\n\n<p>tl;dr Is it OK to write my own ChaCha20/Poly1305 encrypt-then-MAC mode of operation ?</p>\n"},{"tags":["java","node.js","encryption","cryptography","rsa"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1635865992,"post_id":69812053,"comment_id":123403512,"body_markdown":"Turning arbitary bytes into a &quot;string&quot; only produces a corrupted version of the data, so don&#39;t waste your time with that. For the base64 stuff, I believe the problem is that the nodejs crypto defaults to OAEP padding. You&#39;ll need to explicitly specify OAEP padding on the Java side. You should **always** specify the full transformation string in `Cipher.getInstance()` anyways.","body":"Turning arbitary bytes into a &quot;string&quot; only produces a corrupted version of the data, so don&#39;t waste your time with that. For the base64 stuff, I believe the problem is that the nodejs crypto defaults to OAEP padding. You&#39;ll need to explicitly specify OAEP padding on the Java side. You should <b>always</b> specify the full transformation string in <code>Cipher.getInstance()</code> anyways."},{"owner":{"account_id":5776348,"reputation":2162,"user_id":4558302,"accept_rate":67,"display_name":"Bopsi"},"score":0,"creation_date":1635919200,"post_id":69812053,"comment_id":123417388,"body_markdown":"What is the correct transform string for OAEP padding? I used `Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);` . It still give me same error. I have updated my java code for reference","body":"What is the correct transform string for OAEP padding? I used <code>Cipher.getInstance(&quot;RSA&#47;ECB&#47;OAEPWithSHA1AndMGF1Padding&quot;);</code> . It still give me same error. I have updated my java code for reference"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1635925300,"post_id":69812053,"comment_id":123418915,"body_markdown":"The default padding of [`crypto.publicEncrypt()`](https://nodejs.org/api/crypto.html#cryptopublicencryptkey-buffer) is OAEP with SHA1 for _both_ digests. This is applied in your NodeJS code. The counterpart in Java for the SunJCE provider is `RSA/ECB/OAEPPadding` or `RSA/ECB/OAEPWithSHA1AndMGF1Padding`. Alternatively you can pass the parameters explicitly with `OAEPParameterSpec`. Since you are using `RSA/ECB/OAEPWithSHA1AndMGF1Padding`, your code should work as it does online: https://www.jdoodle.com/iembed/v0/j32 with _hello world_ as decrypted data. If not, check code and provider.","body":"The default padding of <a href=\"https://nodejs.org/api/crypto.html#cryptopublicencryptkey-buffer\" rel=\"nofollow noreferrer\"><code>crypto.publicEncrypt()</code></a> is OAEP with SHA1 for <i>both</i> digests. This is applied in your NodeJS code. The counterpart in Java for the SunJCE provider is <code>RSA&#47;ECB&#47;OAEPPadding</code> or <code>RSA&#47;ECB&#47;OAEPWithSHA1AndMGF1Padding</code>. Alternatively you can pass the parameters explicitly with <code>OAEPParameterSpec</code>. Since you are using <code>RSA&#47;ECB&#47;OAEPWithSHA1AndMGF1Padding</code>, your code should work as it does online: <a href=\"https://www.jdoodle.com/iembed/v0/j32\" rel=\"nofollow noreferrer\">jdoodle.com/iembed/v0/j32</a> with <i>hello world</i> as decrypted data. If not, check code and provider."}],"answers":[{"tags":[],"owner":{"account_id":5776348,"reputation":2162,"user_id":4558302,"accept_rate":67,"display_name":"Bopsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635941886,"creation_date":1635941886,"answer_id":69824707,"question_id":69812053,"body_markdown":"The problem was clearly described in the first comment and the solution is in second comment. \r\n\r\nCorrect transformation string for Cipher instance that worked for me is `RSA/ECB/OAEPWithSHA-1AndMGF1Padding`\r\n\r\nSo below instantiation for decryption Cipher works perfectly.\r\n\r\n```java\r\nCipher decryptCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-1AndMGF1Padding&quot;);\r\n```","title":"How do I encrypt string in nodejs with public generated by java","body":"<p>The problem was clearly described in the first comment and the solution is in second comment.</p>\n<p>Correct transformation string for Cipher instance that worked for me is <code>RSA/ECB/OAEPWithSHA-1AndMGF1Padding</code></p>\n<p>So below instantiation for decryption Cipher works perfectly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cipher decryptCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-1AndMGF1Padding&quot;);\n</code></pre>\n"}],"owner":{"account_id":5776348,"reputation":2162,"user_id":4558302,"accept_rate":67,"display_name":"Bopsi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69824707,"answer_count":1,"score":0,"last_activity_date":1635941886,"creation_date":1635863220,"question_id":69812053,"body_markdown":"I want to encrypt my password in angular side before sending it to Springboot API. My idea is to do:-\r\n\r\n 1. Generate public key and private key in java \r\n 2. Do a base64 encoding on both public key and private key \r\n 3. Use encoded public key in node (angular) side, this will be used for encryption\r\n 4. Use encoded private key in springboot rest api, this will be used for decryption\r\n\r\nBelow is my java code which generates, encrypts and decrypts password\r\n\r\n**RSAKeyPairGenerator.java**\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.KeyFactory;\r\nimport java.security.KeyPair;\r\nimport java.security.KeyPairGenerator;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.util.Base64;\r\n\r\nimport javax.crypto.BadPaddingException;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.IllegalBlockSizeException;\r\nimport javax.crypto.NoSuchPaddingException;\r\n\r\npublic class RSAKeyPairGenerator {\r\n\tprivate static String privateKeyString = &quot;MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBALyR1WRqVBuvdmXmgrcZ4VMY4hIFTYt63NGEN9atlgnngNliMasvzBofnjRtk5mukezUKujtON6mPnAjKJoEDdiaw3Rk0hKvgW5MszyUBE5bLThexVLbi+nQYSf2GSvd0fjdZn6KjhgVOdbYe+JduU/iPD3/Ti5p+w3MewgZpy2RAgMBAAECgYAqWdqCXfsb6LF/u2C6PN7Faf5EK9q5q9NyXu6nkX70JIFk0U/0cZy2dUlz3vRafMGbXh9xBu5R2yaEyvCwfp6ZF26A8MbS/IaI53LMKmyclhES2f3tZLKUPkg6fntz+e6e/6oSDdQPHP3J2QrpuwzyW+UZJQmmYYj7f9sq/+dawQJBAOnkHWkLuIZNIgLzV0TuHA6fcOXrqrSlS1/Q0qLyaQEZOObocXDvWaCSP+8RXiqZSwAnMJbrGHQA5ULXLWI4GjkCQQDOZP6bfn2VV3m8JSlYL9Uz4TrRYb8Qe3/mohhMsyDB7Ua/6d9BV7JZgbYiXP0utobKVWLxD49OFMkgEs20qY4ZAkB4dJsQ9pBZ2m+hxWE0hsy8WzDxuKV504c2GX3hnaamgi7j/OIvn5UxNSDoJrGwjrIpqgVENF+rnqpz+g3Nf8dBAkBV/op+6yMUGFBmbe1eCwAAD7XcC6f6DBrsU1lgi7n4Uw6JY75bkViEJqFmi+wJjI94uj7xRZRl6g8qx+rhfUvxAkEArD1we6ZLTWz73D8z+4Boj7Su7b5LhfgvXVL5V4Zdog3X58pHK+dYppapDh5KjZZdor+y/6uz1PqIs2dmFy/xtQ==&quot;;\r\n\tprivate static String publicKeyString = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC8kdVkalQbr3Zl5oK3GeFTGOISBU2LetzRhDfWrZYJ54DZYjGrL8waH540bZOZrpHs1Cro7Tjepj5wIyiaBA3YmsN0ZNISr4FuTLM8lAROWy04XsVS24vp0GEn9hkr3dH43WZ+io4YFTnW2HviXblP4jw9/04uafsNzHsIGactkQIDAQAB&quot;;\r\n\tprivate static PrivateKey privateKey;\r\n\tprivate static PublicKey publicKey;\r\n\t\r\n\tpublic void generateKeys() throws NoSuchAlgorithmException {\r\n\t\tKeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n\t\tkeyGen.initialize(1024);\r\n\t\tKeyPair pair = keyGen.generateKeyPair();\r\n\t\tRSAKeyPairGenerator.privateKey = pair.getPrivate();\r\n\t\tRSAKeyPairGenerator.publicKey = pair.getPublic();\r\n\t}\r\n\t\r\n\tpublic void readKeys() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n\t\tbyte [] encoded = Base64.getDecoder().decode(privateKeyString);\r\n\t\tPKCS8EncodedKeySpec keySpec1 = new PKCS8EncodedKeySpec(encoded);\r\n        RSAKeyPairGenerator.privateKey = kf.generatePrivate(keySpec1);\r\n        \r\n        encoded = Base64.getDecoder().decode(publicKeyString);\r\n        X509EncodedKeySpec keySpec2 = new X509EncodedKeySpec(encoded);\r\n        RSAKeyPairGenerator.publicKey = kf.generatePublic(keySpec2);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws NoSuchAlgorithmException, IOException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, InvalidKeySpecException {\r\n\t\tRSAKeyPairGenerator keyPairGenerator = new RSAKeyPairGenerator();\r\n\t\t// Next line is for testing with encrypted text generated by nodejs code with genrated keys\r\n\t\t// keyPairGenerator.generateKeys();\r\n\t\tkeyPairGenerator.readKeys();\r\n\t\t\r\n\t\tSystem.out.println(&quot;-----Private----------&quot;);\r\n\t\tSystem.out.println(Base64.getEncoder().encodeToString(privateKey.getEncoded()));\r\n\t\tSystem.out.println(&quot;Encoding : &quot;+ privateKey.getFormat());\r\n\t\tSystem.out.println(&quot;----------------------&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;-----Public----------&quot;);\r\n\t\tSystem.out.println(Base64.getEncoder().encodeToString(publicKey.getEncoded()));\r\n\t\tSystem.out.println(&quot;Encoding : &quot;+ publicKey.getFormat());\r\n\t\tSystem.out.println(&quot;----------------------&quot;);\r\n\t\t\r\n\t\tString secretMessage = &quot;Test&quot;;\r\n\t\tSystem.out.println(secretMessage);\r\n\t\t\r\n\t\tCipher encryptCipher = Cipher.getInstance(&quot;RSA&quot;);\r\n\t\tencryptCipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n\t\t\r\n\t\tbyte[] secretMessageBytes = secretMessage.getBytes(StandardCharsets.UTF_8);\r\n\t\tbyte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\r\n\t\t// Next lines are for testing decryption with encrypted text generated by nodejs code with generated keys\r\n\t\t// byte[] encryptedMessageBytes = &quot;Bu&lt;lm0W1%EN7ll&lt;k;G9D8ZIOP&#39;&#167;{k+-}?rZ&quot;.getBytes();\r\n\t\t// byte[] encryptedMessageBytes =  Base64.getDecoder().decode(&quot;woboAUytDXJLlKm7zbqNdxVORG+kio9kZxvMPOHruQfxwNEx7SVFTsw3oeETqbRs4NZskjzO2Nzjyms73vv758Dcy0fEpjlEOKmrWuG62knOT8m6DqGDGlAn1hXpe2u6yYorLX0/6fhyWg1C/JR1sbaKPH/Xt+Fsx5ptMONX0uw=&quot;);\r\n\t\tSystem.out.println(new String(encryptedMessageBytes));\r\n\t\t\t\t\r\n\t\tCipher decryptCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\r\n\t\tdecryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\t\t\r\n\t\tbyte[] decryptedMessageBytes = decryptCipher.doFinal(encryptedMessageBytes);\r\n\t\tString decryptedMessage = new String(decryptedMessageBytes, StandardCharsets.UTF_8);\r\n\t\tSystem.out.println(decryptedMessage);\r\n\t}\r\n}\r\n```\r\nThis gives me following output\r\n```\r\n-----Private----------\r\nMIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAMv+t+D6/7ZY6m+CjD97NB989P2YjmGcE2yHUokyjmxVi/SxIu9MboiVNewR+mFjTFYPGgMWHz1/XeVGlinjN/5+0fdiO/JEvEUilFmkkIF3My11I09b9NZ9RJmpCNCbqOg7NSt6VD8IC/w19N25xwcofc3qbgfEjKSs0CgxfahrAgMBAAECgYEAiyLlEBKiryDeZchJGFNULdXw07dmBbWKmg+CgAl3kvSWTQM0rLsY+Rese6OXfy1XN6t9NnW0QSHKTUNj0JYl7btKEblVHERbjwavUe83tcNIc3o0xrGoBAzma14ZicPYm70JWixTO778lm5AXKl504+oOQyVYmfgXcevPXwdIkECQQDvO3DBuu6wp5nbwR4t0736HOH9jVIjJOS8oABUARDhNt1fkb8uEptDr5EomVRMqarJMAjSMpYxrUCpvgtf4nZ5AkEA2ksDr8pbbFvZPaAe0F43LmJtFM3PvCz87S93p20YjwVMmGV17sJ5t7a26HtubgRLEWq4z6rxq2oXPv4y1lstAwJAbj9cVUtKWIrEcutqdwAPmsXYt7p60ctcxjiOLihXmRJprnNCQX89olG0eZs/qBzAofrK9eNuJ/KJzC/SmhuJMQJAAz9gc6oQCCGprrgGHVV5frAqLUgOkh8dOC4fmpcN6XrLs+y2f3HXO7t1JypG704TC9RJoZVKeSFf7Sj8+qFqnwJBALRiQc9SG5Ht5TLo12W4l3bRaxpbo597BgKRjz3hqiySdqjZA9Qe84qmEKveZ9eWehbfqwzKmCbW43I1ZEFZ95o=\r\nEncoding : PKCS#8\r\n----------------------\r\n-----Public----------\r\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDL/rfg+v+2WOpvgow/ezQffPT9mI5hnBNsh1KJMo5sVYv0sSLvTG6IlTXsEfphY0xWDxoDFh89f13lRpYp4zf+ftH3YjvyRLxFIpRZpJCBdzMtdSNPW/TWfUSZqQjQm6joOzUrelQ/CAv8NfTduccHKH3N6m4HxIykrNAoMX2oawIDAQAB\r\nEncoding : X.509\r\n----------------------\r\nTest\r\nN::`\\A~5s\r\n0ICux2Z&amp;K&quot;C$\r\nqKh^&lt;5E0BZ{EDbDH.#:eh~jqcR\r\nTest\r\n```\r\n\r\nIn the Nodejs side I am using the above public to encrypt my text. \r\n\r\n**index.js**\r\n```js\r\nconst crypto = require(&quot;crypto&quot;);\r\n\r\nvar pubkey = &quot;-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDL/rfg+v+2WOpvgow/ezQffPT9mI5hnBNsh1KJMo5sVYv0sSLvTG6IlTXsEfphY0xWDxoDFh89f13lRpYp4zf+ftH3YjvyRLxFIpRZpJCBdzMtdSNPW/TWfUSZqQjQm6joOzUrelQ/CAv8NfTduccHKH3N6m4HxIykrNAoMX2oawIDAQAB\\n-----END PUBLIC KEY-----&quot;;\r\n\r\nvar plaintext = &quot;Test&quot;\r\nvar buffer = new Buffer.from(plaintext, &quot;utf8&quot;);\r\nvar enc = crypto.publicEncrypt(pubkey, buffer);\r\nvar bs64 = enc.toString(&#39;base64&#39;);\r\n\r\nconsole.log(enc.toString());\r\nconsole.log(enc.toString(&#39;base64&#39;));\r\n```\r\nthis gives me following output\r\n```\r\nBu&lt;lm0W1%EN7ll&lt;k;G9D8ZIOP&#39;&#167;{k+-}?rZ\r\nwoboAUytDXJLlKm7zbqNdxVORG+kio9kZxvMPOHruQfxwNEx7SVFTsw3oeETqbRs4NZskjzO2Nzjyms73vv758Dcy0fEpjlEOKmrWuG62knOT8m6DqGDGlAn1hXpe2u6yYorLX0/6fhyWg1C/JR1sbaKPH/Xt+Fsx5ptMONX0uw=\r\n```\r\n\r\nNow I tried using both the strings in java side for decryption.\r\n\r\nWhen I try decoding the string, it gives me following error\r\n```\r\nException in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Data must not be longer than 128 bytes\r\n\tat com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:346)\r\n\tat com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:391)\r\n\tat javax.crypto.Cipher.doFinal(Cipher.java:2168)\r\n\tat com.mindtree.starr.wsr.RSAKeyPairGenerator.main(RSAKeyPairGenerator.java:90)\r\n```\r\n\r\nAnd, when I try decoding the base64 string, it gie me following error\r\n```\r\nException in thread &quot;main&quot; javax.crypto.BadPaddingException: Decryption error\r\n\tat sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:379)\r\n\tat sun.security.rsa.RSAPadding.unpad(RSAPadding.java:290)\r\n\tat com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:365)\r\n\tat com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:391)\r\n\tat javax.crypto.Cipher.doFinal(Cipher.java:2168)\r\n\tat com.mindtree.starr.wsr.RSAKeyPairGenerator.main(RSAKeyPairGenerator.java:90)\r\n```\r\nWhat am I doing wrong?","title":"How do I encrypt string in nodejs with public generated by java","body":"<p>I want to encrypt my password in angular side before sending it to Springboot API. My idea is to do:-</p>\n<ol>\n<li>Generate public key and private key in java</li>\n<li>Do a base64 encoding on both public key and private key</li>\n<li>Use encoded public key in node (angular) side, this will be used for encryption</li>\n<li>Use encoded private key in springboot rest api, this will be used for decryption</li>\n</ol>\n<p>Below is my java code which generates, encrypts and decrypts password</p>\n<p><strong>RSAKeyPairGenerator.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.InvalidKeyException;\nimport java.security.KeyFactory;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.util.Base64;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\n\npublic class RSAKeyPairGenerator {\n    private static String privateKeyString = &quot;MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBALyR1WRqVBuvdmXmgrcZ4VMY4hIFTYt63NGEN9atlgnngNliMasvzBofnjRtk5mukezUKujtON6mPnAjKJoEDdiaw3Rk0hKvgW5MszyUBE5bLThexVLbi+nQYSf2GSvd0fjdZn6KjhgVOdbYe+JduU/iPD3/Ti5p+w3MewgZpy2RAgMBAAECgYAqWdqCXfsb6LF/u2C6PN7Faf5EK9q5q9NyXu6nkX70JIFk0U/0cZy2dUlz3vRafMGbXh9xBu5R2yaEyvCwfp6ZF26A8MbS/IaI53LMKmyclhES2f3tZLKUPkg6fntz+e6e/6oSDdQPHP3J2QrpuwzyW+UZJQmmYYj7f9sq/+dawQJBAOnkHWkLuIZNIgLzV0TuHA6fcOXrqrSlS1/Q0qLyaQEZOObocXDvWaCSP+8RXiqZSwAnMJbrGHQA5ULXLWI4GjkCQQDOZP6bfn2VV3m8JSlYL9Uz4TrRYb8Qe3/mohhMsyDB7Ua/6d9BV7JZgbYiXP0utobKVWLxD49OFMkgEs20qY4ZAkB4dJsQ9pBZ2m+hxWE0hsy8WzDxuKV504c2GX3hnaamgi7j/OIvn5UxNSDoJrGwjrIpqgVENF+rnqpz+g3Nf8dBAkBV/op+6yMUGFBmbe1eCwAAD7XcC6f6DBrsU1lgi7n4Uw6JY75bkViEJqFmi+wJjI94uj7xRZRl6g8qx+rhfUvxAkEArD1we6ZLTWz73D8z+4Boj7Su7b5LhfgvXVL5V4Zdog3X58pHK+dYppapDh5KjZZdor+y/6uz1PqIs2dmFy/xtQ==&quot;;\n    private static String publicKeyString = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC8kdVkalQbr3Zl5oK3GeFTGOISBU2LetzRhDfWrZYJ54DZYjGrL8waH540bZOZrpHs1Cro7Tjepj5wIyiaBA3YmsN0ZNISr4FuTLM8lAROWy04XsVS24vp0GEn9hkr3dH43WZ+io4YFTnW2HviXblP4jw9/04uafsNzHsIGactkQIDAQAB&quot;;\n    private static PrivateKey privateKey;\n    private static PublicKey publicKey;\n    \n    public void generateKeys() throws NoSuchAlgorithmException {\n        KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n        keyGen.initialize(1024);\n        KeyPair pair = keyGen.generateKeyPair();\n        RSAKeyPairGenerator.privateKey = pair.getPrivate();\n        RSAKeyPairGenerator.publicKey = pair.getPublic();\n    }\n    \n    public void readKeys() throws NoSuchAlgorithmException, InvalidKeySpecException {\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n        byte [] encoded = Base64.getDecoder().decode(privateKeyString);\n        PKCS8EncodedKeySpec keySpec1 = new PKCS8EncodedKeySpec(encoded);\n        RSAKeyPairGenerator.privateKey = kf.generatePrivate(keySpec1);\n        \n        encoded = Base64.getDecoder().decode(publicKeyString);\n        X509EncodedKeySpec keySpec2 = new X509EncodedKeySpec(encoded);\n        RSAKeyPairGenerator.publicKey = kf.generatePublic(keySpec2);\n    }\n\n    public static void main(String[] args) throws NoSuchAlgorithmException, IOException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, InvalidKeySpecException {\n        RSAKeyPairGenerator keyPairGenerator = new RSAKeyPairGenerator();\n        // Next line is for testing with encrypted text generated by nodejs code with genrated keys\n        // keyPairGenerator.generateKeys();\n        keyPairGenerator.readKeys();\n        \n        System.out.println(&quot;-----Private----------&quot;);\n        System.out.println(Base64.getEncoder().encodeToString(privateKey.getEncoded()));\n        System.out.println(&quot;Encoding : &quot;+ privateKey.getFormat());\n        System.out.println(&quot;----------------------&quot;);\n        \n        System.out.println(&quot;-----Public----------&quot;);\n        System.out.println(Base64.getEncoder().encodeToString(publicKey.getEncoded()));\n        System.out.println(&quot;Encoding : &quot;+ publicKey.getFormat());\n        System.out.println(&quot;----------------------&quot;);\n        \n        String secretMessage = &quot;Test&quot;;\n        System.out.println(secretMessage);\n        \n        Cipher encryptCipher = Cipher.getInstance(&quot;RSA&quot;);\n        encryptCipher.init(Cipher.ENCRYPT_MODE, publicKey);\n        \n        byte[] secretMessageBytes = secretMessage.getBytes(StandardCharsets.UTF_8);\n        byte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\n        // Next lines are for testing decryption with encrypted text generated by nodejs code with generated keys\n        // byte[] encryptedMessageBytes = &quot;Bu&lt;lm0W1%EN7ll&lt;k;G9D8ZIOP'{k+-}?rZ&quot;.getBytes();\n        // byte[] encryptedMessageBytes =  Base64.getDecoder().decode(&quot;woboAUytDXJLlKm7zbqNdxVORG+kio9kZxvMPOHruQfxwNEx7SVFTsw3oeETqbRs4NZskjzO2Nzjyms73vv758Dcy0fEpjlEOKmrWuG62knOT8m6DqGDGlAn1hXpe2u6yYorLX0/6fhyWg1C/JR1sbaKPH/Xt+Fsx5ptMONX0uw=&quot;);\n        System.out.println(new String(encryptedMessageBytes));\n                \n        Cipher decryptCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\n        decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\n        \n        byte[] decryptedMessageBytes = decryptCipher.doFinal(encryptedMessageBytes);\n        String decryptedMessage = new String(decryptedMessageBytes, StandardCharsets.UTF_8);\n        System.out.println(decryptedMessage);\n    }\n}\n</code></pre>\n<p>This gives me following output</p>\n<pre><code>-----Private----------\nMIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAMv+t+D6/7ZY6m+CjD97NB989P2YjmGcE2yHUokyjmxVi/SxIu9MboiVNewR+mFjTFYPGgMWHz1/XeVGlinjN/5+0fdiO/JEvEUilFmkkIF3My11I09b9NZ9RJmpCNCbqOg7NSt6VD8IC/w19N25xwcofc3qbgfEjKSs0CgxfahrAgMBAAECgYEAiyLlEBKiryDeZchJGFNULdXw07dmBbWKmg+CgAl3kvSWTQM0rLsY+Rese6OXfy1XN6t9NnW0QSHKTUNj0JYl7btKEblVHERbjwavUe83tcNIc3o0xrGoBAzma14ZicPYm70JWixTO778lm5AXKl504+oOQyVYmfgXcevPXwdIkECQQDvO3DBuu6wp5nbwR4t0736HOH9jVIjJOS8oABUARDhNt1fkb8uEptDr5EomVRMqarJMAjSMpYxrUCpvgtf4nZ5AkEA2ksDr8pbbFvZPaAe0F43LmJtFM3PvCz87S93p20YjwVMmGV17sJ5t7a26HtubgRLEWq4z6rxq2oXPv4y1lstAwJAbj9cVUtKWIrEcutqdwAPmsXYt7p60ctcxjiOLihXmRJprnNCQX89olG0eZs/qBzAofrK9eNuJ/KJzC/SmhuJMQJAAz9gc6oQCCGprrgGHVV5frAqLUgOkh8dOC4fmpcN6XrLs+y2f3HXO7t1JypG704TC9RJoZVKeSFf7Sj8+qFqnwJBALRiQc9SG5Ht5TLo12W4l3bRaxpbo597BgKRjz3hqiySdqjZA9Qe84qmEKveZ9eWehbfqwzKmCbW43I1ZEFZ95o=\nEncoding : PKCS#8\n----------------------\n-----Public----------\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDL/rfg+v+2WOpvgow/ezQffPT9mI5hnBNsh1KJMo5sVYv0sSLvTG6IlTXsEfphY0xWDxoDFh89f13lRpYp4zf+ftH3YjvyRLxFIpRZpJCBdzMtdSNPW/TWfUSZqQjQm6joOzUrelQ/CAv8NfTduccHKH3N6m4HxIykrNAoMX2oawIDAQAB\nEncoding : X.509\n----------------------\nTest\nN::`\\A~5s\n0ICux2Z&amp;K&quot;C$\nqKh^&lt;5E0BZ{EDbDH.#:eh~jqcR\nTest\n</code></pre>\n<p>In the Nodejs side I am using the above public to encrypt my text.</p>\n<p><strong>index.js</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>const crypto = require(&quot;crypto&quot;);\n\nvar pubkey = &quot;-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDL/rfg+v+2WOpvgow/ezQffPT9mI5hnBNsh1KJMo5sVYv0sSLvTG6IlTXsEfphY0xWDxoDFh89f13lRpYp4zf+ftH3YjvyRLxFIpRZpJCBdzMtdSNPW/TWfUSZqQjQm6joOzUrelQ/CAv8NfTduccHKH3N6m4HxIykrNAoMX2oawIDAQAB\\n-----END PUBLIC KEY-----&quot;;\n\nvar plaintext = &quot;Test&quot;\nvar buffer = new Buffer.from(plaintext, &quot;utf8&quot;);\nvar enc = crypto.publicEncrypt(pubkey, buffer);\nvar bs64 = enc.toString('base64');\n\nconsole.log(enc.toString());\nconsole.log(enc.toString('base64'));\n</code></pre>\n<p>this gives me following output</p>\n<pre><code>Bu&lt;lm0W1%EN7ll&lt;k;G9D8ZIOP'{k+-}?rZ\nwoboAUytDXJLlKm7zbqNdxVORG+kio9kZxvMPOHruQfxwNEx7SVFTsw3oeETqbRs4NZskjzO2Nzjyms73vv758Dcy0fEpjlEOKmrWuG62knOT8m6DqGDGlAn1hXpe2u6yYorLX0/6fhyWg1C/JR1sbaKPH/Xt+Fsx5ptMONX0uw=\n</code></pre>\n<p>Now I tried using both the strings in java side for decryption.</p>\n<p>When I try decoding the string, it gives me following error</p>\n<pre><code>Exception in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Data must not be longer than 128 bytes\n    at com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:346)\n    at com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:391)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2168)\n    at com.mindtree.starr.wsr.RSAKeyPairGenerator.main(RSAKeyPairGenerator.java:90)\n</code></pre>\n<p>And, when I try decoding the base64 string, it gie me following error</p>\n<pre><code>Exception in thread &quot;main&quot; javax.crypto.BadPaddingException: Decryption error\n    at sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:379)\n    at sun.security.rsa.RSAPadding.unpad(RSAPadding.java:290)\n    at com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:365)\n    at com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:391)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2168)\n    at com.mindtree.starr.wsr.RSAKeyPairGenerator.main(RSAKeyPairGenerator.java:90)\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1635915123,"post_id":69819814,"comment_id":123416743,"body_markdown":"You haven&#39;t shown a stream anywhere in this, just iterators.","body":"You haven&#39;t shown a stream anywhere in this, just iterators."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":5,"creation_date":1635915810,"post_id":69819814,"comment_id":123416842,"body_markdown":"Have you tried looking at the source code of `Collection.forEach`? That would be the first place to start.","body":"Have you tried looking at the source code of <code>Collection.forEach</code>? That would be the first place to start."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1635917995,"post_id":69819814,"comment_id":123417169,"body_markdown":"Here&#39;s a link to the source that ernest_k talks about: [Iterable.forEach(Consumer)](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Iterable.java#L72). That&#39;s the default implementation; some implementations of `Iterable` may do something a little differently.","body":"Here&#39;s a link to the source that ernest_k talks about: <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Iterable.java#L72\" rel=\"nofollow noreferrer\">Iterable.forEach(Consumer)</a>. That&#39;s the default implementation; some implementations of <code>Iterable</code> may do something a little differently."},{"owner":{"account_id":16200410,"reputation":691,"user_id":13569065,"display_name":"Dan"},"score":0,"creation_date":1635927860,"post_id":69819814,"comment_id":123419733,"body_markdown":"my bad @chrylis,","body":"my bad @chrylis,"},{"owner":{"account_id":16200410,"reputation":691,"user_id":13569065,"display_name":"Dan"},"score":0,"creation_date":1635927899,"post_id":69819814,"comment_id":123419743,"body_markdown":"Hi @ernest_k, do you mean that internal iteration is done with Spliterator by streams?","body":"Hi @ernest_k, do you mean that internal iteration is done with Spliterator by streams?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1635941855,"creation_date":1635941855,"answer_id":69824694,"question_id":69819814,"body_markdown":"The whole point of internal iteration is that the iteration logic can be implemented in different ways.\r\n\r\nThe default implementation of `Iterable` looks like\r\n\r\n```java\r\ndefault void forEach(Consumer&lt;? super T&gt; action) {\r\n    Objects.requireNonNull(action);\r\n    for (T t : this) {\r\n        action.accept(t);\r\n    }\r\n}\r\n```\r\n\r\nSo when an iterable, e.g. a collection, doesnt provide a `forEach` implementation, this inherited implementation does the same as the external iteration.\r\n\r\nThere are different reasons to override this default implementation. For example, the wrappers returned by one of the `Collections.synchronized()` methods have an implementation that looks like this:\r\n\r\n```java\r\n@Override\r\npublic void forEach(Consumer&lt;? super E&gt; consumer) {\r\n    synchronized (mutex) {c.forEach(consumer);}\r\n}\r\n```\r\n\r\nIt delegates to the original collections `forEach` implementation, to do whatever it does, but performs the entire operation while holding the mutex. In other words, unlike external iteration, where the code has to care about locking itself, this implementation provides the synchronization for free.\r\n\r\nAnother interesting example is in the `Collections.unmodifiable()` wrappers.\r\n\r\n```java\r\n@Override\r\npublic void forEach(Consumer&lt;? super E&gt; action) {\r\n    c.forEach(action);\r\n}\r\n```\r\n\r\nThe advantage is not obvious at the first glance. But, as youve shown in the question, an external iteration is done using an `Iterator`, even when using the for-each syntax. An `Iterator` has a `remove` method, so each time you perform an external iteration over an unmodifiable wrapper, the original collections iterator must be wrapped in another iterator preventing callers from using `remove()`.\r\n\r\nIn contrast, the internal iteration is not modifying the collection by contract. So the wrapper can delegate to the original collections `forEach` method which will do the right thing. No wrapper around the iterator is required, if the target method uses an iterator at all.\r\n\r\nE.g. this is `ArrayList`s `forEach` method:\r\n\r\n```java\r\n@Override\r\npublic void forEach(Consumer&lt;? super E&gt; action) {\r\n    Objects.requireNonNull(action);\r\n    final int expectedModCount = modCount;\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    final E[] elementData = (E[]) this.elementData;\r\n    final int size = this.size;\r\n    for (int i=0; modCount == expectedModCount &amp;&amp; i &lt; size; i++) {\r\n        action.accept(elementData[i]);\r\n    }\r\n    if (modCount != expectedModCount) {\r\n        throw new ConcurrentModificationException();\r\n    }\r\n}\r\n```\r\n\r\nSo instead of an iterator based loop, it iterates over the indices and accesses its array directly.\r\n\r\nNote that calling `forEach` on an iterable like a `Collection` is different to calling `forEach` on a `Stream`. A stream allows to chain various intermediate operations affecting what will happen when the terminal operation is commenced. When you dont chain intermediate operations but just call `forEach()`, the call may perform the equivalent to `collection.spliterator() .forEachRemaining()` at the stream implementations discretion.\r\n\r\nThis ends up at a different code path than calling `forEach` on the collection, but for reasonable collection implementations, these code paths will do basically the same. [This answer] compares the different variants for `ArrayList` and while there are minor differences, the fundamental way of iterating (using an index into the array) is the same.\r\n\r\n[This answer]: https://stackoverflow.com/a/31211358/2711488","title":"How Internal iteration looks like for java 8 streams","body":"<p>The whole point of internal iteration is that the iteration logic can be implemented in different ways.</p>\n<p>The default implementation of <code>Iterable</code> looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>default void forEach(Consumer&lt;? super T&gt; action) {\n    Objects.requireNonNull(action);\n    for (T t : this) {\n        action.accept(t);\n    }\n}\n</code></pre>\n<p>So when an iterable, e.g. a collection, doesnt provide a <code>forEach</code> implementation, this inherited implementation does the same as the external iteration.</p>\n<p>There are different reasons to override this default implementation. For example, the wrappers returned by one of the <code>Collections.synchronized()</code> methods have an implementation that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void forEach(Consumer&lt;? super E&gt; consumer) {\n    synchronized (mutex) {c.forEach(consumer);}\n}\n</code></pre>\n<p>It delegates to the original collections <code>forEach</code> implementation, to do whatever it does, but performs the entire operation while holding the mutex. In other words, unlike external iteration, where the code has to care about locking itself, this implementation provides the synchronization for free.</p>\n<p>Another interesting example is in the <code>Collections.unmodifiable()</code> wrappers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void forEach(Consumer&lt;? super E&gt; action) {\n    c.forEach(action);\n}\n</code></pre>\n<p>The advantage is not obvious at the first glance. But, as youve shown in the question, an external iteration is done using an <code>Iterator</code>, even when using the for-each syntax. An <code>Iterator</code> has a <code>remove</code> method, so each time you perform an external iteration over an unmodifiable wrapper, the original collections iterator must be wrapped in another iterator preventing callers from using <code>remove()</code>.</p>\n<p>In contrast, the internal iteration is not modifying the collection by contract. So the wrapper can delegate to the original collections <code>forEach</code> method which will do the right thing. No wrapper around the iterator is required, if the target method uses an iterator at all.</p>\n<p>E.g. this is <code>ArrayList</code>s <code>forEach</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void forEach(Consumer&lt;? super E&gt; action) {\n    Objects.requireNonNull(action);\n    final int expectedModCount = modCount;\n    @SuppressWarnings(&quot;unchecked&quot;)\n    final E[] elementData = (E[]) this.elementData;\n    final int size = this.size;\n    for (int i=0; modCount == expectedModCount &amp;&amp; i &lt; size; i++) {\n        action.accept(elementData[i]);\n    }\n    if (modCount != expectedModCount) {\n        throw new ConcurrentModificationException();\n    }\n}\n</code></pre>\n<p>So instead of an iterator based loop, it iterates over the indices and accesses its array directly.</p>\n<p>Note that calling <code>forEach</code> on an iterable like a <code>Collection</code> is different to calling <code>forEach</code> on a <code>Stream</code>. A stream allows to chain various intermediate operations affecting what will happen when the terminal operation is commenced. When you dont chain intermediate operations but just call <code>forEach()</code>, the call may perform the equivalent to <code>collection.spliterator() .forEachRemaining()</code> at the stream implementations discretion.</p>\n<p>This ends up at a different code path than calling <code>forEach</code> on the collection, but for reasonable collection implementations, these code paths will do basically the same. <a href=\"https://stackoverflow.com/a/31211358/2711488\">This answer</a> compares the different variants for <code>ArrayList</code> and while there are minor differences, the fundamental way of iterating (using an index into the array) is the same.</p>\n"}],"owner":{"account_id":16200410,"reputation":691,"user_id":13569065,"display_name":"Dan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69824694,"answer_count":1,"score":0,"last_activity_date":1635941855,"creation_date":1635915006,"question_id":69819814,"body_markdown":"I was trying to understand the difference between external vs internal iterator where external iterator uses Iterator to enumerate its elements \r\n```java\r\nList&lt;String&gt; alphabets = Arrays.asList(new String[]{&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;d&quot;});\r\n         \r\nfor(String letter: alphabets){\r\n   System.out.println(letter.toUpperCase());\r\n}\r\n```\r\nAbove code in the background does something like below\r\n```java\r\nList&lt;String&gt; alphabets = Arrays.asList(new String[]{&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;d&quot;});    \r\nIterator&lt;String&gt; iterator = alphabets.listIterator();\r\nwhile(iterator.hasNext()){\r\n     System.out.println(iterator.next().toUpperCase());\r\n}\r\n```\r\n\r\nBut for internal iteration, everything is done in the background which is a black box to me and I want to get deep dive into it.\r\n\r\nLike for below code, iteration is happening in the background but exactly what is happening and how it is different when compare with foreach loop?\r\n```java\r\nList&lt;String&gt; alphabets = Arrays.asList(new String[]{&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;d&quot;});\r\nalphabets.stream().forEach(l -&gt; l.toUpperCase());\r\n```\r\n\r\nThis is my understanding of external and internal iteration. Please correct me if I am wrong. ","title":"How Internal iteration looks like for java 8 streams","body":"<p>I was trying to understand the difference between external vs internal iterator where external iterator uses Iterator to enumerate its elements</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; alphabets = Arrays.asList(new String[]{&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;d&quot;});\n         \nfor(String letter: alphabets){\n   System.out.println(letter.toUpperCase());\n}\n</code></pre>\n<p>Above code in the background does something like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; alphabets = Arrays.asList(new String[]{&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;d&quot;});    \nIterator&lt;String&gt; iterator = alphabets.listIterator();\nwhile(iterator.hasNext()){\n     System.out.println(iterator.next().toUpperCase());\n}\n</code></pre>\n<p>But for internal iteration, everything is done in the background which is a black box to me and I want to get deep dive into it.</p>\n<p>Like for below code, iteration is happening in the background but exactly what is happening and how it is different when compare with foreach loop?</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; alphabets = Arrays.asList(new String[]{&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;d&quot;});\nalphabets.stream().forEach(l -&gt; l.toUpperCase());\n</code></pre>\n<p>This is my understanding of external and internal iteration. Please correct me if I am wrong.</p>\n"},{"tags":["java","android","json","gson"],"comments":[{"owner":{"account_id":8740577,"reputation":447,"user_id":6537787,"display_name":"Mithat Konuk"},"score":0,"creation_date":1538143875,"post_id":52557030,"comment_id":92052935,"body_markdown":"according your values its just object array not list string","body":"according your values its just object array not list string"},{"owner":{"account_id":10975944,"reputation":447,"user_id":8064640,"display_name":"Bayar ahintekin"},"score":0,"creation_date":1538145379,"post_id":52557030,"comment_id":92053746,"body_markdown":"using the object as a list has caused the error . this is the right: = Type collectionType = new TypeToken&lt;TestClass&gt;(){}.getType(); . also your son is wrong","body":"using the object as a list has caused the error . this is the right: = Type collectionType = new TypeToken&lt;TestClass&gt;(){}.getType(); . also your son is wrong"}],"answers":[{"tags":[],"owner":{"account_id":7616268,"reputation":897,"user_id":5775589,"display_name":"Koustuv Ganguly"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1538143764,"creation_date":1538143764,"answer_id":52557162,"question_id":52557030,"body_markdown":"Change your server response json from :\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;one&quot;,\r\n            &quot;values&quot;: {\r\n                &quot;name&quot;: &quot;John&quot;,\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;two&quot;,\r\n            &quot;values&quot;: {\r\n                &quot;name&quot;: &quot;Bob&quot;,\r\n            }\r\n        }\r\n    ]\r\n\r\nTo : \r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;one&quot;,\r\n            &quot;values&quot;: [\r\n                {&quot;name&quot;: &quot;John&quot;}\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;two&quot;,\r\n            &quot;values&quot;: [\r\n                {&quot;name&quot;: &quot;Bob&quot;}\r\n            ]\r\n        }\r\n    ]","title":"Converting JSON string to object returns &quot;Expected BEGIN_ARRAY but was STRING&quot;","body":"<p>Change your server response json from :</p>\n\n<pre><code>[\n    {\n        \"id\": \"one\",\n        \"values\": {\n            \"name\": \"John\",\n        }\n    },\n    {\n        \"id\": \"two\",\n        \"values\": {\n            \"name\": \"Bob\",\n        }\n    }\n]\n</code></pre>\n\n<p>To : </p>\n\n<pre><code>[\n    {\n        \"id\": \"one\",\n        \"values\": [\n            {\"name\": \"John\"}\n        ]\n    },\n    {\n        \"id\": \"two\",\n        \"values\": [\n            {\"name\": \"Bob\"}\n        ]\n    }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1538145609,"creation_date":1538145152,"answer_id":52557556,"question_id":52557030,"body_markdown":"You&#39;re taking your JSON response content\r\n\r\n    String response = serverResponseHere;\r\n\r\nand converting it to JSON \r\n\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(response);\r\n\r\nThis produces a JSON string containing your content. That looks like\r\n\r\n    &quot;[\\n    {\\n        \\&quot;id\\&quot;: \\&quot;one\\&quot;,\\n        \\&quot;values\\&quot;: {\\n            \\&quot;name\\&quot;: \\&quot;John\\&quot;,\\n        }\\n    },\\n    {\\n        \\&quot;id\\&quot;: \\&quot;two\\&quot;,\\n        \\&quot;values\\&quot;: {\\n            \\&quot;name\\&quot;: \\&quot;Bob\\&quot;,\\n        }\\n    }\\n]\\n&quot;\r\n\r\nWhen you try to deserialize that as a `List&lt;TestClass&gt;`, it obviously fails because it&#39;s a JSON String instead of a JSON Array.\r\n\r\nDon&#39;t serialize your content to JSON before deserializing it, it&#39;s already JSON.\r\n\r\n----------\r\n\r\nOthers have mentioned this, your `values` field doesn&#39;t match what your JSON content. See here for how to fix that:\r\n\r\n- https://stackoverflow.com/questions/33621808/why-does-gson-fromjson-throw-a-jsonsyntaxexception-expected-begin-object-but-wa","title":"Converting JSON string to object returns &quot;Expected BEGIN_ARRAY but was STRING&quot;","body":"<p>You're taking your JSON response content</p>\n\n<pre><code>String response = serverResponseHere;\n</code></pre>\n\n<p>and converting it to JSON </p>\n\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(response);\n</code></pre>\n\n<p>This produces a JSON string containing your content. That looks like</p>\n\n<pre><code>\"[\\n    {\\n        \\\"id\\\": \\\"one\\\",\\n        \\\"values\\\": {\\n            \\\"name\\\": \\\"John\\\",\\n        }\\n    },\\n    {\\n        \\\"id\\\": \\\"two\\\",\\n        \\\"values\\\": {\\n            \\\"name\\\": \\\"Bob\\\",\\n        }\\n    }\\n]\\n\"\n</code></pre>\n\n<p>When you try to deserialize that as a <code>List&lt;TestClass&gt;</code>, it obviously fails because it's a JSON String instead of a JSON Array.</p>\n\n<p>Don't serialize your content to JSON before deserializing it, it's already JSON.</p>\n\n<hr>\n\n<p>Others have mentioned this, your <code>values</code> field doesn't match what your JSON content. See here for how to fix that:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/33621808/why-does-gson-fromjson-throw-a-jsonsyntaxexception-expected-begin-object-but-wa\">Why does Gson fromJson throw a JsonSyntaxException: Expected BEGIN_OBJECT but was BEGIN_ARRAY?</a></li>\n</ul>\n"}],"owner":{"account_id":13904381,"reputation":71,"user_id":10039165,"display_name":"user984648"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1538200814,"answer_count":2,"score":0,"last_activity_date":1635941567,"creation_date":1538143287,"question_id":52557030,"body_markdown":"I have a JSON response coming back from my server in the format:\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;one&quot;,\r\n            &quot;values&quot;: {\r\n                &quot;name&quot;: &quot;John&quot;,\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;two&quot;,\r\n            &quot;values&quot;: {\r\n                &quot;name&quot;: &quot;Bob&quot;,\r\n            }\r\n        }\r\n    ]\r\n\r\nHere is the class I&#39;ve set up:\r\n\r\n    public class TestClass implements Serializable {\r\n    \r\n        @SerializedName(&quot;id&quot;)\r\n        private String id;\r\n    \r\n        @SerializedName(&quot;values&quot;)\r\n        private List&lt;String&gt; values;\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public List&lt;String&gt; getValues() {\r\n            return values;\r\n        }\r\n    \r\n        public void setValues(List&lt;String&gt; values) {\r\n            this.values = values;\r\n        }\r\n    }\r\n\r\nHere is my code to parse the JSON into a list of objects:\r\n\r\n    String response = serverResponseHere;\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(response);\r\n\r\n    Type collectionType = new TypeToken&lt;List&lt;TestClass&gt;&gt;(){}.getType();\r\n    List&lt;TestClass&gt; values = gson.fromJson(json, collectionType);\r\n\r\nHowever, I get the following error:\r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING\r\n\r\nWhat&#39;s going on here?","title":"Converting JSON string to object returns &quot;Expected BEGIN_ARRAY but was STRING&quot;","body":"<p>I have a JSON response coming back from my server in the format:</p>\n\n<pre><code>[\n    {\n        \"id\": \"one\",\n        \"values\": {\n            \"name\": \"John\",\n        }\n    },\n    {\n        \"id\": \"two\",\n        \"values\": {\n            \"name\": \"Bob\",\n        }\n    }\n]\n</code></pre>\n\n<p>Here is the class I've set up:</p>\n\n<pre><code>public class TestClass implements Serializable {\n\n    @SerializedName(\"id\")\n    private String id;\n\n    @SerializedName(\"values\")\n    private List&lt;String&gt; values;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public List&lt;String&gt; getValues() {\n        return values;\n    }\n\n    public void setValues(List&lt;String&gt; values) {\n        this.values = values;\n    }\n}\n</code></pre>\n\n<p>Here is my code to parse the JSON into a list of objects:</p>\n\n<pre><code>String response = serverResponseHere;\nGson gson = new Gson();\nString json = gson.toJson(response);\n\nType collectionType = new TypeToken&lt;List&lt;TestClass&gt;&gt;(){}.getType();\nList&lt;TestClass&gt; values = gson.fromJson(json, collectionType);\n</code></pre>\n\n<p>However, I get the following error:</p>\n\n<blockquote>\n  <p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING</p>\n</blockquote>\n\n<p>What's going on here?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":1,"creation_date":1635934502,"post_id":69823077,"comment_id":123422228,"body_markdown":"Does this answer your question? [Java - removeIf example](https://stackoverflow.com/questions/43246613/java-removeif-example)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43246613/java-removeif-example\">Java - removeIf example</a>"},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1635934855,"post_id":69823077,"comment_id":123422380,"body_markdown":"Is it a list of students or just a list of subjects that you are dealing with here?","body":"Is it a list of students or just a list of subjects that you are dealing with here?"},{"owner":{"account_id":15895874,"reputation":492,"user_id":11469682,"display_name":"Manonandan S K"},"score":0,"creation_date":1635935236,"post_id":69823077,"comment_id":123422538,"body_markdown":"@Turamarth It doesn&#39;t answer this question.","body":"@Turamarth It doesn&#39;t answer this question."},{"owner":{"account_id":15895874,"reputation":492,"user_id":11469682,"display_name":"Manonandan S K"},"score":0,"creation_date":1635935311,"post_id":69823077,"comment_id":123422579,"body_markdown":"@mang4521 It is not a list of Student. There is one student having list of subject and marks.","body":"@mang4521 It is not a list of Student. There is one student having list of subject and marks."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635934690,"creation_date":1635934540,"answer_id":69823111,"question_id":69823077,"body_markdown":"Here&#39;s how you do it:\r\n\r\n```\r\nList&lt;Student&gt; studentsWithTrueStatus = students\r\n  .stream()\r\n  .filter( s -&gt; s.status )\r\n  .collect(Collectors.toList());\r\n```\r\n","title":"How to remove object if one variable is false in list using java streams","body":"<p>Here's how you do it:</p>\n<pre><code>List&lt;Student&gt; studentsWithTrueStatus = students\n  .stream()\n  .filter( s -&gt; s.status )\n  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10277103,"reputation":91,"user_id":7583633,"display_name":"Joseph Kohilan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635935510,"creation_date":1635935510,"answer_id":69823307,"question_id":69823077,"body_markdown":"To remove objects, you can directly use removeIf method in java 8.\r\n\r\n`student.getSubjects().removeIf(subject -&gt; !subject.isStatus());`","title":"How to remove object if one variable is false in list using java streams","body":"<p>To remove objects, you can directly use removeIf method in java 8.</p>\n<p><code>student.getSubjects().removeIf(subject -&gt; !subject.isStatus());</code></p>\n"},{"tags":[],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635936789,"creation_date":1635936789,"answer_id":69823597,"question_id":69823077,"body_markdown":"First ensure the list of subjects is not null or empty. Then utilise **removeIf()** method.\r\n\r\n```\r\nList&lt;Subject&gt; subjectList = student.getSubjects();\r\n\r\nif((null != subjectList) &amp;&amp; (subjectList.size() &gt; 0)) {\r\n  subjectList.removeIf(sub -&gt; !(sub.isStatus()));\r\n}\r\n```","title":"How to remove object if one variable is false in list using java streams","body":"<p>First ensure the list of subjects is not null or empty. Then utilise <strong>removeIf()</strong> method.</p>\n<pre><code>List&lt;Subject&gt; subjectList = student.getSubjects();\n\nif((null != subjectList) &amp;&amp; (subjectList.size() &gt; 0)) {\n  subjectList.removeIf(sub -&gt; !(sub.isStatus()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635940818,"creation_date":1635940406,"answer_id":69824365,"question_id":69823077,"body_markdown":"If there are multiple lists of `Subject` in `Student` class, they may be joined using `Stream.of` and then applying `removeIf` in `forEach`:\r\n```java\r\n// Some utility class MyClass\r\npublic static void removeSubjects(Student student) {\r\n    Stream.of(student.getSubjects1(), student.getSubjects2(), student.getSubjects3())\r\n        .filter(Objects::nonNull) // filter out null lists if any\r\n        .forEach(subjects -&gt; subjects.removeIf(sub -&gt; !sub.isStatus()));\r\n}\r\n```\r\n----\r\nIf there is a list of students, then the reference to the above implemented method may be used for each student:\r\n```java\r\nList&lt;Students&gt; students = Arrays.asList(...); // setup students list\r\n\r\nstudents.forEach(MyClass::removeSubjects);\r\n```","title":"How to remove object if one variable is false in list using java streams","body":"<p>If there are multiple lists of <code>Subject</code> in <code>Student</code> class, they may be joined using <code>Stream.of</code> and then applying <code>removeIf</code> in <code>forEach</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Some utility class MyClass\npublic static void removeSubjects(Student student) {\n    Stream.of(student.getSubjects1(), student.getSubjects2(), student.getSubjects3())\n        .filter(Objects::nonNull) // filter out null lists if any\n        .forEach(subjects -&gt; subjects.removeIf(sub -&gt; !sub.isStatus()));\n}\n</code></pre>\n<hr />\n<p>If there is a list of students, then the reference to the above implemented method may be used for each student:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Students&gt; students = Arrays.asList(...); // setup students list\n\nstudents.forEach(MyClass::removeSubjects);\n</code></pre>\n"}],"owner":{"account_id":15895874,"reputation":492,"user_id":11469682,"display_name":"Manonandan S K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2338,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1635941459,"accepted_answer_id":69823307,"answer_count":4,"score":0,"last_activity_date":1635941480,"creation_date":1635934346,"question_id":69823077,"body_markdown":"I am using java 8\\\r\nI have a model class like\r\n\r\n    class Student{\r\n        String name;\r\n        List&lt;Subject&gt; subjects1;\r\n        List&lt;Subject&gt; subjects2;\r\n        List&lt;Subject&gt; subjects3;\r\n        // getters &amp; setters\r\n    }\r\n    \r\n    class Subject{\r\n        String sub;\r\n        Integer marks;\r\n        boolean status;\r\n        // getters &amp; setters\r\n    }\r\n\r\n \r\n\r\n`status` may be true or false.\\\r\nNow if the status is false then I have to remove those objects from the subjects list\\\r\nHow to do it in Streams?\\\r\nThanks in advance.","title":"How to remove object if one variable is false in list using java streams","body":"<p>I am using java 8<br />\nI have a model class like</p>\n<pre><code>class Student{\n    String name;\n    List&lt;Subject&gt; subjects1;\n    List&lt;Subject&gt; subjects2;\n    List&lt;Subject&gt; subjects3;\n    // getters &amp; setters\n}\n\nclass Subject{\n    String sub;\n    Integer marks;\n    boolean status;\n    // getters &amp; setters\n}\n</code></pre>\n<p><code>status</code> may be true or false.<br />\nNow if the status is false then I have to remove those objects from the subjects list<br />\nHow to do it in Streams?<br />\nThanks in advance.</p>\n"},{"tags":["java","stream","short-circuiting","parallelstream"],"comments":[{"owner":{"account_id":4237332,"reputation":1500,"user_id":3468135,"accept_rate":50,"display_name":"stuck"},"score":2,"creation_date":1634790287,"post_id":69655827,"comment_id":123121614,"body_markdown":"What did you try so far? If you can provide some code, guys/gals here can help you better. By the way, Java Stream API&#39;s map, filter and collect methods can help you I guess. You can check the official documentation of Stream API (https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) or you can check some examples online.","body":"What did you try so far? If you can provide some code, guys/gals here can help you better. By the way, Java Stream API&#39;s map, filter and collect methods can help you I guess. You can check the official documentation of Stream API (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.h&zwnj;&#8203;tml</a>) or you can check some examples online."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634793635,"post_id":69655827,"comment_id":123122168,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635941406,"creation_date":1635941406,"answer_id":69824588,"question_id":69655827,"body_markdown":"What you are looking for is the `takeWhile` operator ... \r\n\r\n```\r\nStream.of(&quot;cat&quot;, &quot;dog&quot;, &quot;elephant&quot;, &quot;fox&quot;, &quot;rabbit&quot;, &quot;duck&quot;)\r\n  .takeWhile(n -&gt; n.length() % 2 != 0)\r\n  .forEach(System.out::println);\r\n```\r\n\r\nMore info in this [article][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-break-stream-foreach","title":"Terminate stream when value matches criteria, otherwise collect into a collection","body":"<p>What you are looking for is the <code>takeWhile</code> operator ...</p>\n<pre><code>Stream.of(&quot;cat&quot;, &quot;dog&quot;, &quot;elephant&quot;, &quot;fox&quot;, &quot;rabbit&quot;, &quot;duck&quot;)\n  .takeWhile(n -&gt; n.length() % 2 != 0)\n  .forEach(System.out::println);\n</code></pre>\n<p>More info in this <a href=\"https://www.baeldung.com/java-break-stream-foreach\" rel=\"nofollow noreferrer\">article</a></p>\n"}],"owner":{"account_id":23096984,"reputation":13,"user_id":17206925,"display_name":"Allen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69824588,"answer_count":1,"score":0,"last_activity_date":1635941406,"creation_date":1634789831,"question_id":69655827,"body_markdown":"I am using Java parallel streams for a chess engine. The stream is used to evaluate each chess Move in a given List of Moves. Each Move is mapped to an Integer representing the Move&#39;s value, then I collect all the Integers into a List and return the largest Integer in the List.\r\n\r\nThis seems easy enough, but I want to design my stream to also immediately terminate if an Integer that passes through the stream matches certain criteria. \r\n\r\nFor example, if I have a list of 100 Moves to be converted into a stream, I want my stream to immediately terminate if any of those Moves is mapped to an Integer that is less than 4, otherwise I want to collect those Integers into a List (this is just an example to help clarify).\r\n\r\nI am not sure how to go about doing this (I have thought about short-circuiting operations, but I do not know how to use short-circuiting operations in conjunction with collectors in the event that the stream isn&#39;t short-circuited). I am happy to clarify anything also. Thanks!","title":"Terminate stream when value matches criteria, otherwise collect into a collection","body":"<p>I am using Java parallel streams for a chess engine. The stream is used to evaluate each chess Move in a given List of Moves. Each Move is mapped to an Integer representing the Move's value, then I collect all the Integers into a List and return the largest Integer in the List.</p>\n<p>This seems easy enough, but I want to design my stream to also immediately terminate if an Integer that passes through the stream matches certain criteria.</p>\n<p>For example, if I have a list of 100 Moves to be converted into a stream, I want my stream to immediately terminate if any of those Moves is mapped to an Integer that is less than 4, otherwise I want to collect those Integers into a List (this is just an example to help clarify).</p>\n<p>I am not sure how to go about doing this (I have thought about short-circuiting operations, but I do not know how to use short-circuiting operations in conjunction with collectors in the event that the stream isn't short-circuited). I am happy to clarify anything also. Thanks!</p>\n"},{"tags":["java","open-closed-principle"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1635843989,"post_id":69807740,"comment_id":123394499,"body_markdown":"*&quot;But I cannot do so.&quot;* Why not? `u1.adminFaculty(new MedFac());`","body":"<i>&quot;But I cannot do so.&quot;</i> Why not? <code>u1.adminFaculty(new MedFac());</code>"},{"owner":{"account_id":23214466,"reputation":25,"user_id":17307531,"display_name":"ShamaliF"},"score":0,"creation_date":1635844582,"post_id":69807740,"comment_id":123394746,"body_markdown":"Is it possible to pass IFaculty object , not MedFac object. May be what I am asking is silly. but thank you for your reply.","body":"Is it possible to pass IFaculty object , not MedFac object. May be what I am asking is silly. but thank you for your reply."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1635844715,"post_id":69807740,"comment_id":123394799,"body_markdown":"There&#39;s no such thing as an `IFaculty` object. It&#39;s only an interface, and you can&#39;t instantiate an interface.","body":"There&#39;s no such thing as an <code>IFaculty</code> object. It&#39;s only an interface, and you can&#39;t instantiate an interface."},{"owner":{"account_id":23214466,"reputation":25,"user_id":17307531,"display_name":"ShamaliF"},"score":0,"creation_date":1635847204,"post_id":69807740,"comment_id":123395819,"body_markdown":"I do understand @RobbyCornelissen . Thank you for the comment.","body":"I do understand @RobbyCornelissen . Thank you for the comment."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635941330,"creation_date":1635844932,"answer_id":69808006,"question_id":69807740,"body_markdown":"From your question I assume you want to be able to call `adminFaculty()` and always use the same faculty. For that, don&#39;t pass the faculty to the method but keep a reference in `University`. You can also add a default faculty.\r\n\r\n    class University {\r\n      private IFaculty faculty;\r\n\r\n      //default configuration of the university: it has a medical faculty\r\n      public University() {\r\n        this(new MedFac());\r\n      }\r\n\r\n      //allows to create a university with another faculty type\r\n      public University( IFaculty faculty) {\r\n        this.faculty = faculty;\r\n      }\r\n\r\n      public void adminFaculty(){\r\n        faculty.admin();\r\n      }\r\n    }\r\n\r\nNow you can use it like this: \r\n\r\n    University medicalUni = new University();\r\n    medicalUni.adminFaculty();\r\n\r\n    University anotherMedicalUni = new University(new MedFac());\r\n    anotherMedicalUni.adminFaculty();\r\n\r\n    University itUni = new University(new ITFac());\r\n    itUni.adminFaculty();\r\n\r\nNote that you _always_ need an implementation of `IFaculty` like `MedFac` or `ITFac`. Of course I now could add a new faculty without having to change `University`:\r\n\r\n\r\n    class TechFac implements IFaculty{\r\n      @Override\r\n      public void admin() {\r\n        System.out.println(&quot;Tech Fac Admin&quot;);\r\n      }\r\n    }\r\n\r\n    University techUni = new University(new TechFac());","title":"Testing Open-Close principle in Java","body":"<p>From your question I assume you want to be able to call <code>adminFaculty()</code> and always use the same faculty. For that, don't pass the faculty to the method but keep a reference in <code>University</code>. You can also add a default faculty.</p>\n<pre><code>class University {\n  private IFaculty faculty;\n\n  //default configuration of the university: it has a medical faculty\n  public University() {\n    this(new MedFac());\n  }\n\n  //allows to create a university with another faculty type\n  public University( IFaculty faculty) {\n    this.faculty = faculty;\n  }\n\n  public void adminFaculty(){\n    faculty.admin();\n  }\n}\n</code></pre>\n<p>Now you can use it like this:</p>\n<pre><code>University medicalUni = new University();\nmedicalUni.adminFaculty();\n\nUniversity anotherMedicalUni = new University(new MedFac());\nanotherMedicalUni.adminFaculty();\n\nUniversity itUni = new University(new ITFac());\nitUni.adminFaculty();\n</code></pre>\n<p>Note that you <em>always</em> need an implementation of <code>IFaculty</code> like <code>MedFac</code> or <code>ITFac</code>. Of course I now could add a new faculty without having to change <code>University</code>:</p>\n<pre><code>class TechFac implements IFaculty{\n  @Override\n  public void admin() {\n    System.out.println(&quot;Tech Fac Admin&quot;);\n  }\n}\n\nUniversity techUni = new University(new TechFac());\n</code></pre>\n"}],"owner":{"account_id":23214466,"reputation":25,"user_id":17307531,"display_name":"ShamaliF"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69808006,"answer_count":1,"score":2,"last_activity_date":1635941330,"creation_date":1635843844,"question_id":69807740,"body_markdown":"To demonstrate Open/Closed principle of SOLID principle, I implemented the following code.\r\n\r\n**Code:**\r\n\r\n    interface IFaculty{\r\n        void admin();\r\n    }\r\n\r\n    class ITFac implements IFaculty{\r\n        @Override\r\n        public void admin() {\r\n            System.out.println(&quot;IT Fac Admin&quot;);\r\n        }\r\n    }\r\n\r\n    class MedFac implements IFaculty{\r\n        @Override\r\n        public void admin(){\r\n            System.out.println(&quot;Med Fac Admin&quot;);\r\n        }\r\n    }\r\n\r\n    class University{\r\n        public void adminFaculty(IFaculty iFaculty){\r\n            iFaculty.admin();\r\n        }\r\n    }\r\n\r\n\r\nTo test the above code, I tried to call the adminFaculty() method in the main method of main class as follows.\r\n\r\n**Code:**\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            University u1 = new University();\r\n            u1.adminFaculty();   // cannot call this method without passing parameters\r\n        }\r\n    }\r\n\r\nBut I cannot call the method without passing the relevant parameter: an object of IFaculty. But I cannot do so. Does anybody knows how to call the adminFaculty(), from the main method? or any way to call the adminFaculty() and run the code to give relavent output.?\r\n\r\nThank you.","title":"Testing Open-Close principle in Java","body":"<p>To demonstrate Open/Closed principle of SOLID principle, I implemented the following code.</p>\n<p><strong>Code:</strong></p>\n<pre><code>interface IFaculty{\n    void admin();\n}\n\nclass ITFac implements IFaculty{\n    @Override\n    public void admin() {\n        System.out.println(&quot;IT Fac Admin&quot;);\n    }\n}\n\nclass MedFac implements IFaculty{\n    @Override\n    public void admin(){\n        System.out.println(&quot;Med Fac Admin&quot;);\n    }\n}\n\nclass University{\n    public void adminFaculty(IFaculty iFaculty){\n        iFaculty.admin();\n    }\n}\n</code></pre>\n<p>To test the above code, I tried to call the adminFaculty() method in the main method of main class as follows.</p>\n<p><strong>Code:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        University u1 = new University();\n        u1.adminFaculty();   // cannot call this method without passing parameters\n    }\n}\n</code></pre>\n<p>But I cannot call the method without passing the relevant parameter: an object of IFaculty. But I cannot do so. Does anybody knows how to call the adminFaculty(), from the main method? or any way to call the adminFaculty() and run the code to give relavent output.?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1635857562,"post_id":69810174,"comment_id":123399762,"body_markdown":"Paginating 100k is a bad idea. Also instead of lazily loading dynamically, you can initialize that data on the loading of context/service/controller. Share your code snippets of the controller/service/view so that you can get some suggestions.","body":"Paginating 100k is a bad idea. Also instead of lazily loading dynamically, you can initialize that data on the loading of context/service/controller. Share your code snippets of the controller/service/view so that you can get some suggestions."},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1635958606,"post_id":69810174,"comment_id":123432828,"body_markdown":"Okay. You can try few options here and share the outcome -https://stackoverflow.com/questions/15359306/how-to-fetch-fetchtype-lazy-associations-with-jpa-and-hibernate-in-a-spring-cont","body":"Okay. You can try few options here and share the outcome -<a href=\"https://stackoverflow.com/questions/15359306/how-to-fetch-fetchtype-lazy-associations-with-jpa-and-hibernate-in-a-spring-cont\" title=\"how to fetch fetchtype lazy associations with jpa and hibernate in a spring cont\">stackoverflow.com/questions/15359306/&hellip;</a>"}],"owner":{"account_id":23215779,"reputation":11,"user_id":17308716,"display_name":"pithas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635941197,"creation_date":1635854922,"question_id":69810174,"body_markdown":"I have been trying to fetch 2.5M rows from oracledb. I use pagination of 100k. My table is a view table so there are no references to other tables.\r\nSpring boot uses by default open-in-view = true. \r\nWhen I use the default after the first 800k records the app crashes with &quot;java.lang.OutOfMemoryError: Java heap space&quot; \r\nI have tried to increase the memory that my app uses but still get the same error.\r\nIf I set open-in-view = false then all the data are fetched but then every entity in my app that uses FetchType.Lazy does not work (LazyInitializationException).\r\n\r\nIs there any way to enable open-in-view only in specific controllers? \r\nAny suggestions?\r\n\r\nSpring Boot: v2.5.3 \r\nOracle: 12c\r\nDatasource-type: oracle.ucp.jdbc.PoolDataSource\r\n\r\n\r\n    \r\n    @RequestMapping\r\n    @RestController\r\n    @AllArgsConstructor(onConstructor_ ={@Autowired})    \r\n    public class ExportRestApi(){\r\n     private ExportServiceImpl exportServiceImpl\r\n    \r\n    @PostMapping\r\n    public exportDto exportData(){\r\n    return this.exportServiceImpl.export()\r\n    }\r\n    }\r\n\r\nMy Service\r\n\r\n   \r\n\r\n     @Service\r\n        @Transactional\r\n        @AllArgsConstructor(onConstructor_ ={@Autowired})    \r\n        public class ExportServiceImpl(){\r\n         private ExportRepository exportRepository\r\n        \r\n        @Transactional\r\n        public exportDto export(){//iterate here per page\r\n        return this.exportRepository.findAll(page,size)).getContent()\r\n        }}\r\n    \r\n        @Repository\r\n        public interface ExportRepository extends JpaRepository&lt;ExportEntity,String){\r\n        @Query(value = &quot;select * from {table} offset :page rows fetch next :size rows only)\r\n    List&lt;ExportEntity&gt; findAll(page,size)\r\n        }\r\n        ","title":"Spring Boot-OracleDB fetch large amount of data, memory issue or lazyinitializationexception","body":"<p>I have been trying to fetch 2.5M rows from oracledb. I use pagination of 100k. My table is a view table so there are no references to other tables.\nSpring boot uses by default open-in-view = true.\nWhen I use the default after the first 800k records the app crashes with &quot;java.lang.OutOfMemoryError: Java heap space&quot;\nI have tried to increase the memory that my app uses but still get the same error.\nIf I set open-in-view = false then all the data are fetched but then every entity in my app that uses FetchType.Lazy does not work (LazyInitializationException).</p>\n<p>Is there any way to enable open-in-view only in specific controllers?\nAny suggestions?</p>\n<p>Spring Boot: v2.5.3\nOracle: 12c\nDatasource-type: oracle.ucp.jdbc.PoolDataSource</p>\n<pre><code>@RequestMapping\n@RestController\n@AllArgsConstructor(onConstructor_ ={@Autowired})    \npublic class ExportRestApi(){\n private ExportServiceImpl exportServiceImpl\n\n@PostMapping\npublic exportDto exportData(){\nreturn this.exportServiceImpl.export()\n}\n}\n</code></pre>\n<p>My Service</p>\n<pre><code> @Service\n    @Transactional\n    @AllArgsConstructor(onConstructor_ ={@Autowired})    \n    public class ExportServiceImpl(){\n     private ExportRepository exportRepository\n    \n    @Transactional\n    public exportDto export(){//iterate here per page\n    return this.exportRepository.findAll(page,size)).getContent()\n    }}\n\n    @Repository\n    public interface ExportRepository extends JpaRepository&lt;ExportEntity,String){\n    @Query(value = &quot;select * from {table} offset :page rows fetch next :size rows only)\nList&lt;ExportEntity&gt; findAll(page,size)\n    }\n    \n</code></pre>\n"},{"tags":["java","list","collections","cartesian-product"],"comments":[{"owner":{"account_id":6168842,"reputation":6596,"user_id":4807777,"accept_rate":100,"display_name":"Laurentiu L."},"score":1,"creation_date":1431942380,"post_id":30299815,"comment_id":48695596,"body_markdown":"Something along the lines of cartesianProduct in http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Sets.html may be useful to you","body":"Something along the lines of cartesianProduct in <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Sets.html\" rel=\"nofollow noreferrer\">docs.guava-libraries.googlecode.com/git/javadoc/com/google/&hellip;</a> may be useful to you"},{"owner":{"account_id":5843757,"reputation":613,"user_id":4604453,"display_name":"Balkrishan Aggarwal"},"score":0,"creation_date":1431942417,"post_id":30299815,"comment_id":48695627,"body_markdown":"Kindly Refer for a similar solution:\r\n[Cartesian product of List of Lists in Java][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/9591561/java-cartesian-product-of-a-list-of-lists","body":"Kindly Refer for a similar solution:  [Cartesian product of List of Lists in Java][1]        [1]: <a href=\"http://stackoverflow.com/questions/9591561/java-cartesian-product-of-a-list-of-lists\" title=\"java cartesian product of a list of lists\">stackoverflow.com/questions/9591561/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635929533,"creation_date":1431942380,"answer_id":30299906,"question_id":30299815,"body_markdown":"There is a [github code][1]. You can look into it. It basically runs, `for-loop` based on number of list and list count. It will reduce your coding effort, but basics remain the same.\r\n\r\nor\r\n\r\nUse the following code\r\n\r\n    for (int i = 0; i &lt; partnerIdList.size(); i++)\r\n        for (int j = 0; j &lt; platformIdList.size(); j++)\r\n            partnerPlatformPairList.add(new Pair&lt;Integer, Integer&gt;(partnerIdList.get(i), platformIdList.get(j)));\r\n\r\n\r\n  [1]: https://gist.github.com/jmkristian/1911614","title":"How do I get a Cartesian product of two lists?","body":"<p>There is a <a href=\"https://gist.github.com/jmkristian/1911614\" rel=\"nofollow noreferrer\">github code</a>. You can look into it. It basically runs, <code>for-loop</code> based on number of list and list count. It will reduce your coding effort, but basics remain the same.</p>\n<p>or</p>\n<p>Use the following code</p>\n<pre><code>for (int i = 0; i &lt; partnerIdList.size(); i++)\n    for (int j = 0; j &lt; platformIdList.size(); j++)\n        partnerPlatformPairList.add(new Pair&lt;Integer, Integer&gt;(partnerIdList.get(i), platformIdList.get(j)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2049682,"reputation":7411,"user_id":1828937,"accept_rate":56,"display_name":"Dmitry Ginzburg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1431942850,"creation_date":1431942850,"answer_id":30300082,"question_id":30299815,"body_markdown":"If you don&#39;t want to use the external solutions, libraries, you may write your own version in code:\r\n\r\n    public static &lt;T, U&gt; List&lt;Pair&lt;T, U&gt;&gt; cartesianProduct(List&lt;T&gt; list1, List&lt;U&gt; list2) {\r\n        List&lt;Pair&lt;T, U&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        for (T el1: list1) {\r\n            for (U el2 : list2) {\r\n                result.add(Pair.of(el1, el2));\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"How do I get a Cartesian product of two lists?","body":"<p>If you don't want to use the external solutions, libraries, you may write your own version in code:</p>\n\n<pre><code>public static &lt;T, U&gt; List&lt;Pair&lt;T, U&gt;&gt; cartesianProduct(List&lt;T&gt; list1, List&lt;U&gt; list2) {\n    List&lt;Pair&lt;T, U&gt;&gt; result = new ArrayList&lt;&gt;();\n    for (T el1: list1) {\n        for (U el2 : list2) {\n            result.add(Pair.of(el1, el2));\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5920076,"reputation":2135,"user_id":4657645,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431942956,"creation_date":1431942956,"answer_id":30300122,"question_id":30299815,"body_markdown":"\tpublic void cartesian() {\r\n\r\n\t\tList&lt;Integer&gt; array1 = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\tList&lt;Integer&gt; array2 = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\tList&lt;Pair&lt;Integer, Integer&gt;&gt; partnerPlatformPairList = new ArrayList&lt;Pair&lt;Integer, Integer&gt;&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; array1.size(); i++)\r\n\t\t\tfor (int j = 0; j &lt; array2.size(); j++)\r\n\t\t\t\tpartnerPlatformPairList.add(new Pair&lt;Integer, Integer&gt;(array1.get(i), array2\r\n\t\t\t\t\t\t.get(j)));\r\n\r\n\t}","title":"How do I get a Cartesian product of two lists?","body":"<pre><code>public void cartesian() {\n\n    List&lt;Integer&gt; array1 = new ArrayList&lt;Integer&gt;();\n\n    List&lt;Integer&gt; array2 = new ArrayList&lt;Integer&gt;();\n\n    List&lt;Pair&lt;Integer, Integer&gt;&gt; partnerPlatformPairList = new ArrayList&lt;Pair&lt;Integer, Integer&gt;&gt;();\n\n    for (int i = 0; i &lt; array1.size(); i++)\n        for (int j = 0; j &lt; array2.size(); j++)\n            partnerPlatformPairList.add(new Pair&lt;Integer, Integer&gt;(array1.get(i), array2\n                    .get(j)));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4768611"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635941131,"creation_date":1431943536,"answer_id":30300316,"question_id":30299815,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Track {\r\n      public static void main(String x[]) {\r\n        List&lt;Integer&gt; partnerIdList = new ArrayList&lt;Integer&gt;();\r\n        List&lt;Integer&gt; platformIdList = new ArrayList&lt;Integer&gt;();\r\n\r\n        for (int i = 2; i &lt; 5; i++) {\r\n          partnerIdList.add(i);\r\n          platformIdList.add(i * i);\r\n        }\r\n        List&lt;Pair&lt;Integer, Integer&gt;&gt; partnerPlatformPairList = new ArrayList&lt;Pair&lt;Integer, Integer&gt;&gt;();\r\n\r\n        for (Integer partnerId : partnerIdList) {\r\n          for (Integer platformId : platformIdList) {\r\n            partnerPlatformPairList.add(new Pair(partnerId, platformId));\r\n          }\r\n        }\r\n\r\n        for (Pair pair : partnerPlatformPairList) {\r\n          System.out.println(pair);\r\n        }\r\n      }\r\n    }\r\n\r\n    class Pair&lt;Integer1, Integer2&gt; {\r\n      Integer partnerId;\r\n      Integer platformId;\r\n\r\n      Pair(Integer partnerId, Integer platformId) {\r\n        this.partnerId = partnerId;\r\n        this.platformId = platformId;\r\n      }\r\n\r\n      @Override\r\n      public String toString() {\r\n        return partnerId + &quot; -  &quot; + platformId;\r\n      }\r\n    }","title":"How do I get a Cartesian product of two lists?","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Track {\n  public static void main(String x[]) {\n    List&lt;Integer&gt; partnerIdList = new ArrayList&lt;Integer&gt;();\n    List&lt;Integer&gt; platformIdList = new ArrayList&lt;Integer&gt;();\n\n    for (int i = 2; i &lt; 5; i++) {\n      partnerIdList.add(i);\n      platformIdList.add(i * i);\n    }\n    List&lt;Pair&lt;Integer, Integer&gt;&gt; partnerPlatformPairList = new ArrayList&lt;Pair&lt;Integer, Integer&gt;&gt;();\n\n    for (Integer partnerId : partnerIdList) {\n      for (Integer platformId : platformIdList) {\n        partnerPlatformPairList.add(new Pair(partnerId, platformId));\n      }\n    }\n\n    for (Pair pair : partnerPlatformPairList) {\n      System.out.println(pair);\n    }\n  }\n}\n\nclass Pair&lt;Integer1, Integer2&gt; {\n  Integer partnerId;\n  Integer platformId;\n\n  Pair(Integer partnerId, Integer platformId) {\n    this.partnerId = partnerId;\n    this.platformId = platformId;\n  }\n\n  @Override\n  public String toString() {\n    return partnerId + &quot; -  &quot; + platformId;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30300082,"answer_count":4,"score":2,"last_activity_date":1635941131,"creation_date":1431942138,"question_id":30299815,"body_markdown":"I have two lists:\r\n\r\n    List&lt;Integer&gt; partnerIdList;\r\n    List&lt;Integer&gt; platformIdList;\r\n\r\nI need to get a Cartesian product of those list as follows:\r\n\r\n    List&lt;Pair&lt;Integer, Integer&gt; &gt; partnerPlatformPairList;\r\n\r\nWhere `Pair` is a class from the `org.apache.commons.lang3.tuple.Pair` package.\r\n\r\nHow can I easily do that? Is there some in the apache-commons library?","title":"How do I get a Cartesian product of two lists?","body":"<p>I have two lists:</p>\n\n<pre><code>List&lt;Integer&gt; partnerIdList;\nList&lt;Integer&gt; platformIdList;\n</code></pre>\n\n<p>I need to get a Cartesian product of those list as follows:</p>\n\n<pre><code>List&lt;Pair&lt;Integer, Integer&gt; &gt; partnerPlatformPairList;\n</code></pre>\n\n<p>Where <code>Pair</code> is a class from the <code>org.apache.commons.lang3.tuple.Pair</code> package.</p>\n\n<p>How can I easily do that? Is there some in the apache-commons library?</p>\n"},{"tags":["java","spring-boot","rabbitmq"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1635566886,"post_id":69776621,"comment_id":123339100,"body_markdown":"What do you want to say by `whenever necessary`? You want to call it from an external service?","body":"What do you want to say by <code>whenever necessary</code>? You want to call it from an external service?"},{"owner":{"account_id":21621986,"reputation":110,"user_id":15946869,"display_name":"Sujit Sharma"},"score":0,"creation_date":1635571061,"post_id":69776621,"comment_id":123339622,"body_markdown":"@HarryCoder No I will call from internal service","body":"@HarryCoder No I will call from internal service"}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635585174,"creation_date":1635585174,"answer_id":69778244,"question_id":69776621,"body_markdown":"The `Queue` object must be a bean in the context and managed by Spring. To create queues dynamically at runtime, define the bean with scope `prototype`:\r\n\r\n\r\n    @Bean\r\n    @Scope(&quot;prototype&quot;)\r\n    public Queue productQueue(final String queueName) {\r\n        return new Queue(queueName);\r\n    } \r\n\r\nand create queues at runtime using `ObjectProvider`:\r\n\r\n    @Autowired\r\n    private ObjectProvider&lt;Queue&gt; queueProvider;\r\n\r\n    Queue queue1 = queueProvider.getObject(&quot;queueName1&quot;);\r\n    Queue queue2 = queueProvider.getObject(&quot;queueName2&quot;);\r\n","title":"How to create a rabbitmq Queue in Spring Boot but without using @Bean","body":"<p>The <code>Queue</code> object must be a bean in the context and managed by Spring. To create queues dynamically at runtime, define the bean with scope <code>prototype</code>:</p>\n<pre><code>@Bean\n@Scope(&quot;prototype&quot;)\npublic Queue productQueue(final String queueName) {\n    return new Queue(queueName);\n} \n</code></pre>\n<p>and create queues at runtime using <code>ObjectProvider</code>:</p>\n<pre><code>@Autowired\nprivate ObjectProvider&lt;Queue&gt; queueProvider;\n\nQueue queue1 = queueProvider.getObject(&quot;queueName1&quot;);\nQueue queue2 = queueProvider.getObject(&quot;queueName2&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22904348,"reputation":44,"user_id":17042627,"display_name":"Ravan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635941019,"creation_date":1635941019,"answer_id":69824505,"question_id":69776621,"body_markdown":"To create rabbitmq queue Dynamically I used following approach and this is best approach if you also want to create exchanges and bind to queue.\r\n\r\n    @Autowired\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    @Bean\r\n    public AmqpAdmin amqpAdmin() {\r\n     return new RabbitAdmin(connectionFactory);\r\n    }\r\nNow you can define a class that creates queue, exchange and bind them\r\n\r\n    public class rabbitHelper {\r\n      @Autowired\r\n      private RabbitAdmin rabbitAdmin;\r\n      \r\n      public Queue createQueue(String queueName) {\r\n        Queue q  = new Queue(queueName);\r\n        rabbitAdmin.declareQueue(q);\r\n        return q;\r\n      }\r\n     \r\n     public Exchange createExchange(String exchangeName) {\r\n        Exchange exchange  = new DirectExchange(exchangeName);\r\n        rabbitAdmin.declareExchange(exchange);\r\n        return exchange;\r\n      }\r\n\r\n    public void createBinding(String queueName, String exchangeName, String routingKey) {\r\n        Binding binding = new Binding(queueName, Binding.DestinationType.QUEUE, queueName, routingKey, null);\r\n            rabbitAdmin().declareBinding(binding);\r\n      \r\n      }\r\n    }","title":"How to create a rabbitmq Queue in Spring Boot but without using @Bean","body":"<p>To create rabbitmq queue Dynamically I used following approach and this is best approach if you also want to create exchanges and bind to queue.</p>\n<pre><code>@Autowired\nprivate ConnectionFactory connectionFactory;\n\n@Bean\npublic AmqpAdmin amqpAdmin() {\n return new RabbitAdmin(connectionFactory);\n}\n</code></pre>\n<p>Now you can define a class that creates queue, exchange and bind them</p>\n<pre><code>public class rabbitHelper {\n  @Autowired\n  private RabbitAdmin rabbitAdmin;\n  \n  public Queue createQueue(String queueName) {\n    Queue q  = new Queue(queueName);\n    rabbitAdmin.declareQueue(q);\n    return q;\n  }\n \n public Exchange createExchange(String exchangeName) {\n    Exchange exchange  = new DirectExchange(exchangeName);\n    rabbitAdmin.declareExchange(exchange);\n    return exchange;\n  }\n\npublic void createBinding(String queueName, String exchangeName, String routingKey) {\n    Binding binding = new Binding(queueName, Binding.DestinationType.QUEUE, queueName, routingKey, null);\n        rabbitAdmin().declareBinding(binding);\n  \n  }\n}\n</code></pre>\n"}],"owner":{"account_id":21621986,"reputation":110,"user_id":15946869,"display_name":"Sujit Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69824505,"answer_count":2,"score":0,"last_activity_date":1635941019,"creation_date":1635565500,"question_id":69776621,"body_markdown":"In My Scenario I need to create a lots of queues dynamically at run time that is why I don&#39;t want to use @Bean instead want to write a function that create queue and I will call it whenever necessary.\r\nHere When i use @bean annotation it creates queue on rabbitmq server.\r\n\r\n    @Bean\r\n    public Queue productQueue(final String queueName) {\r\n        return new Queue(queueName);\r\n    } \r\n\r\nBut with the same code without @Bean\r\n \r\n\r\n    public Queue productQueue(final String queueName) {\r\n        return new Queue(queueName);\r\n    }\r\n\r\nwhen call this function doesn&#39;t create queue on rabbitmq server\r\n\r\n    Queue queue = &lt;Object&gt;.productQueue(&quot;product-queue&quot;);","title":"How to create a rabbitmq Queue in Spring Boot but without using @Bean","body":"<p>In My Scenario I need to create a lots of queues dynamically at run time that is why I don't want to use @Bean instead want to write a function that create queue and I will call it whenever necessary.\nHere When i use @bean annotation it creates queue on rabbitmq server.</p>\n<pre><code>@Bean\npublic Queue productQueue(final String queueName) {\n    return new Queue(queueName);\n} \n</code></pre>\n<p>But with the same code without @Bean</p>\n<pre><code>public Queue productQueue(final String queueName) {\n    return new Queue(queueName);\n}\n</code></pre>\n<p>when call this function doesn't create queue on rabbitmq server</p>\n<pre><code>Queue queue = &lt;Object&gt;.productQueue(&quot;product-queue&quot;);\n</code></pre>\n"},{"tags":["java","rx-java"],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635940986,"creation_date":1635940986,"answer_id":69824490,"question_id":69812607,"body_markdown":"Check the documentation of [`onExceptionResumeNext()`](https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators#onerrorresumenext):\r\n\r\n&gt; Instructs a reactive type to continue emitting items after it encounters an `java.lang.Exception`. Unlike `onErrorResumeNext`, this one lets other types of `Throwable` continue through.\r\n\r\nSo `onExceptionResumeNext()` only &quot;catches&quot; exceptions, the `onErrorResumeNext()` will &quot;catch&quot; any `Throwable` instances.","title":"What is the difference between rx.Observable onErrorResumeNext and onExceptionResumeNext","body":"<p>Check the documentation of <a href=\"https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators#onerrorresumenext\" rel=\"nofollow noreferrer\"><code>onExceptionResumeNext()</code></a>:</p>\n<blockquote>\n<p>Instructs a reactive type to continue emitting items after it encounters an <code>java.lang.Exception</code>. Unlike <code>onErrorResumeNext</code>, this one lets other types of <code>Throwable</code> continue through.</p>\n</blockquote>\n<p>So <code>onExceptionResumeNext()</code> only &quot;catches&quot; exceptions, the <code>onErrorResumeNext()</code> will &quot;catch&quot; any <code>Throwable</code> instances.</p>\n"}],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69824490,"answer_count":1,"score":3,"last_activity_date":1635940986,"creation_date":1635865570,"question_id":69812607,"body_markdown":"What is the difference between `rx.Observable.onErrorResumeNext` and `rx.Observable.onExceptionResumeNext`?\r\n\r\n\r\nAs far as I understand: \r\n\r\n`onErrorResumeNext` triggered by `Throwable`.\r\n\r\n`onExceptionResumeNext` triggered by `Exception` only. \r\n\r\nAny other details I&#39;ve missed?","title":"What is the difference between rx.Observable onErrorResumeNext and onExceptionResumeNext","body":"<p>What is the difference between <code>rx.Observable.onErrorResumeNext</code> and <code>rx.Observable.onExceptionResumeNext</code>?</p>\n<p>As far as I understand:</p>\n<p><code>onErrorResumeNext</code> triggered by <code>Throwable</code>.</p>\n<p><code>onExceptionResumeNext</code> triggered by <code>Exception</code> only.</p>\n<p>Any other details I've missed?</p>\n"},{"tags":["java","rest","web-services","soap"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1516872428,"post_id":48439389,"comment_id":83870077,"body_markdown":"google might not be new to you , you should try searching these things there , you will get all your answers and if then you face any problem you can come to this portal for getting clarification.","body":"google might not be new to you , you should try searching these things there , you will get all your answers and if then you face any problem you can come to this portal for getting clarification."},{"owner":{"account_id":12264364,"reputation":29,"user_id":8951270,"accept_rate":0,"display_name":"cks"},"score":0,"creation_date":1516872815,"post_id":48439389,"comment_id":83870314,"body_markdown":"In soap the request and response format is only in XML format whereas in restful it supports both XML and Json  so any project having XML as I/o is soap and the counterpart is rest is my understanding correct","body":"In soap the request and response format is only in XML format whereas in restful it supports both XML and Json  so any project having XML as I/o is soap and the counterpart is rest is my understanding correct"}],"answers":[{"tags":[],"owner":{"account_id":18553680,"reputation":31,"user_id":13519340,"display_name":"Rupa Dosapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635940960,"creation_date":1635940960,"answer_id":69824485,"question_id":48439389,"body_markdown":"You can identify by checking wsdl in the project if it has wsdl it means they are using SOAP based webservices.\r\n\r\nWhere as restful webservices is just a uri mapping in yaml files .\r\n\r\nyes you can create a restful webservices using spring framework.\r\n\r\nHere you can find \r\n\r\nhttps://spring.io/guides/tutorials/rest/\r\n\r\nhttps://dzone.com/articles/restful-web-service-1\r\n\r\n\r\nPlease check the above links","title":"How to determine which type of web service(soap or rest) by looking project","body":"<p>You can identify by checking wsdl in the project if it has wsdl it means they are using SOAP based webservices.</p>\n<p>Where as restful webservices is just a uri mapping in yaml files .</p>\n<p>yes you can create a restful webservices using spring framework.</p>\n<p>Here you can find</p>\n<p><a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/rest/</a></p>\n<p><a href=\"https://dzone.com/articles/restful-web-service-1\" rel=\"nofollow noreferrer\">https://dzone.com/articles/restful-web-service-1</a></p>\n<p>Please check the above links</p>\n"}],"owner":{"account_id":12264364,"reputation":29,"user_id":8951270,"accept_rate":0,"display_name":"cks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635940960,"creation_date":1516872109,"question_id":48439389,"body_markdown":"I am a newbie to Java and started learning webservices,my question is how one determines whether the project is written using soap or rest ?? Can we use spring framework to write webservices ??  Can anyone Provide online resources link for real world example of each (soap and rest) to improve my understanding of those each.","title":"How to determine which type of web service(soap or rest) by looking project","body":"<p>I am a newbie to Java and started learning webservices,my question is how one determines whether the project is written using soap or rest ?? Can we use spring framework to write webservices ??  Can anyone Provide online resources link for real world example of each (soap and rest) to improve my understanding of those each.</p>\n"},{"tags":["java","apache-poi","docx"],"comments":[{"owner":{"account_id":12984311,"reputation":422,"user_id":9386625,"display_name":"Andr&#233; Rodrigues de Sousa"},"score":0,"creation_date":1688643595,"post_id":69808943,"comment_id":135103035,"body_markdown":"this code helped me immensely. thank you my friend.","body":"this code helped me immensely. thank you my friend."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635940723,"creation_date":1635940723,"answer_id":69824434,"question_id":69808943,"body_markdown":"The page number start value is set in section properties. If there is only one section, then this are the section properties of the document body. \r\n\r\nApache POI does not provide any methods to set section properties in it&#39;s hig level classes. So one would need using the underlying low level classes of `ooxml`.\r\n\r\nFollowing method should do what you had asked for. It sets start of page numbering type to page given in `start`.\r\n\r\n     private void setPageNumberStart(XWPFDocument doc, java.math.BigInteger start) {\r\n      if(doc.getDocument().getBody().isSetSectPr()) {\r\n       if (doc.getDocument().getBody().getSectPr().isSetPgNumType()) {\r\n    \tdoc.getDocument().getBody().getSectPr().getPgNumType().setStart(start);\r\n       } else {\r\n    \tdoc.getDocument().getBody().getSectPr().addNewPgNumType().setStart(start);\r\n       }\r\n      } else {\r\n       doc.getDocument().getBody().addNewSectPr().addNewPgNumType().setStart(start);\r\n      }  \r\n     }\r\n\r\nWhen called like:\r\n\r\n    ...\r\n    XWPFDocument doc = ...\r\n    ...\r\n    setPageNumberStart(doc, java.math.BigInteger.valueOf(5));\r\n    ...\r\n\r\nit sets start of page numbering type to page 5.\r\n","title":"Add page number with offset to docx using Apache POI","body":"<p>The page number start value is set in section properties. If there is only one section, then this are the section properties of the document body.</p>\n<p>Apache POI does not provide any methods to set section properties in it's hig level classes. So one would need using the underlying low level classes of <code>ooxml</code>.</p>\n<p>Following method should do what you had asked for. It sets start of page numbering type to page given in <code>start</code>.</p>\n<pre><code> private void setPageNumberStart(XWPFDocument doc, java.math.BigInteger start) {\n  if(doc.getDocument().getBody().isSetSectPr()) {\n   if (doc.getDocument().getBody().getSectPr().isSetPgNumType()) {\n    doc.getDocument().getBody().getSectPr().getPgNumType().setStart(start);\n   } else {\n    doc.getDocument().getBody().getSectPr().addNewPgNumType().setStart(start);\n   }\n  } else {\n   doc.getDocument().getBody().addNewSectPr().addNewPgNumType().setStart(start);\n  }  \n }\n</code></pre>\n<p>When called like:</p>\n<pre><code>...\nXWPFDocument doc = ...\n...\nsetPageNumberStart(doc, java.math.BigInteger.valueOf(5));\n...\n</code></pre>\n<p>it sets start of page numbering type to page 5.</p>\n"}],"owner":{"account_id":1385390,"reputation":537,"user_id":1317578,"display_name":"anlar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69824434,"answer_count":1,"score":1,"last_activity_date":1635940723,"creation_date":1635849322,"question_id":69808943,"body_markdown":"I&#39;m using Apache POI to generate docx document. With the following code I could add automatically generated number to the footer:\r\n\r\n    private void createDocFooter(XWPFDocument docx) {\r\n\r\n        XWPFFooter footer = docx.createFooter(HeaderFooterType.DEFAULT);\r\n\r\n        XWPFParagraph paragraph = footer.getParagraphArray(0);\r\n        if (paragraph == null) {\r\n            paragraph = footer.createParagraph();\r\n        }\r\n\r\n        paragraph.setAlignment(ParagraphAlignment.CENTER);\r\n\r\n        paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE&quot;);\r\n    }\r\n\r\nProblem is that it always starts from 1. How could provide offset to that instruction to start numbering from e.g. 5?","title":"Add page number with offset to docx using Apache POI","body":"<p>I'm using Apache POI to generate docx document. With the following code I could add automatically generated number to the footer:</p>\n<pre><code>private void createDocFooter(XWPFDocument docx) {\n\n    XWPFFooter footer = docx.createFooter(HeaderFooterType.DEFAULT);\n\n    XWPFParagraph paragraph = footer.getParagraphArray(0);\n    if (paragraph == null) {\n        paragraph = footer.createParagraph();\n    }\n\n    paragraph.setAlignment(ParagraphAlignment.CENTER);\n\n    paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE&quot;);\n}\n</code></pre>\n<p>Problem is that it always starts from 1. How could provide offset to that instruction to start numbering from e.g. 5?</p>\n"},{"tags":["java","multithreading","list","thread-safety","synchronizedcollection"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635937812,"post_id":69823727,"comment_id":123423486,"body_markdown":"From the code you have shown perhaps `menuDTOList` shouldn&#39;t be a field of `Demo`. Instead, create it in `getData` and pass it to `methodA` and `methodB`?","body":"From the code you have shown perhaps <code>menuDTOList</code> shouldn&#39;t be a field of <code>Demo</code>. Instead, create it in <code>getData</code> and pass it to <code>methodA</code> and <code>methodB</code>?"},{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635939460,"post_id":69823727,"comment_id":123424060,"body_markdown":"@tgdavies Thanks a lot for your valuable helps, yes when create my list value to the `getData()` method, it seems to be fixed. **However**, I think when there is concurrent requests, then a new instance is created that is not wanted our singleton approach. So, how can I test this? And how can I fix that problem (maybe I need to use local variables for this list instead of global one). Any idea?","body":"@tgdavies Thanks a lot for your valuable helps, yes when create my list value to the <code>getData()</code> method, it seems to be fixed. <b>However</b>, I think when there is concurrent requests, then a new instance is created that is not wanted our singleton approach. So, how can I test this? And how can I fix that problem (maybe I need to use local variables for this list instead of global one). Any idea?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635940041,"post_id":69823727,"comment_id":123424267,"body_markdown":"I don&#39;t understand the semantics of your class -- are you saying that there can be two concurrent calls to `getData` that you *want* to use the same `menuDTOList` instance?","body":"I don&#39;t understand the semantics of your class -- are you saying that there can be two concurrent calls to <code>getData</code> that you <i>want</i> to use the same <code>menuDTOList</code> instance?"},{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635941137,"post_id":69823727,"comment_id":123424702,"body_markdown":"yes, something like that.","body":"yes, something like that."}],"answers":[{"tags":[],"owner":{"account_id":4202153,"reputation":901,"user_id":3442031,"display_name":"Kiran A B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635939312,"creation_date":1635939312,"answer_id":69824131,"question_id":69823727,"body_markdown":"Could you please add more details, what is the condition of `for` loops?\r\n\r\nIn the current state, I see 2 different problems here.\r\n 1. methodA and methodB are calling each other, seems like the infinite loop problem\r\n 2. Also if you want to make the list just thread-safe for setters, you can create a plain volatile list. Something like `volatile List&lt;MenuDTO&gt; menuDTOList = new ArrayList&lt;&gt;()` or if you&#39;re looking for out of the box data structure, you could use `ConcurrentLinkedQueue`. Or best of all, provide list as method param and avoid class level variable altogether\r\n\r\n","title":"Why Java keeps List values for each request even using concurrent list?","body":"<p>Could you please add more details, what is the condition of <code>for</code> loops?</p>\n<p>In the current state, I see 2 different problems here.</p>\n<ol>\n<li>methodA and methodB are calling each other, seems like the infinite loop problem</li>\n<li>Also if you want to make the list just thread-safe for setters, you can create a plain volatile list. Something like <code>volatile List&lt;MenuDTO&gt; menuDTOList = new ArrayList&lt;&gt;()</code> or if you're looking for out of the box data structure, you could use <code>ConcurrentLinkedQueue</code>. Or best of all, provide list as method param and avoid class level variable altogether</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635940449,"creation_date":1635940449,"answer_id":69824374,"question_id":69823727,"body_markdown":"If you do:\r\n```java\r\npublic class Demo {\r\n\r\n    protected Iterable&lt;MenuDTO&gt; getData() {\r\n        List&lt;MenuDTO&gt; menuDTOList = new ArrayList&lt;&gt;();\r\n        for (...) {\r\n            methodA(menuDTOList);\r\n        }\r\n                \r\n        return menuDTOList;\r\n    }\r\n\r\n    private void methodA(final MenuItemExpandedDTO menuItemExpandedDTO, final List&lt;MenuDTO&gt; menuDTOList) {\r\n            \r\n        menuDTOList.add(dto);\r\n\r\n        for (...) {\r\n            methodB(menuDTOList);\r\n        }\r\n    }\r\n\r\n    private void methodB(List&lt;MenuDTO&gt; menuDTOList) {\r\n        for (...) {\r\n            methodA(dto, menuDTOList);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen each list instance is only used by a single thread, and the list will be available to be garbage collected as soon as the caller of `getData` discards the reference.","title":"Why Java keeps List values for each request even using concurrent list?","body":"<p>If you do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo {\n\n    protected Iterable&lt;MenuDTO&gt; getData() {\n        List&lt;MenuDTO&gt; menuDTOList = new ArrayList&lt;&gt;();\n        for (...) {\n            methodA(menuDTOList);\n        }\n                \n        return menuDTOList;\n    }\n\n    private void methodA(final MenuItemExpandedDTO menuItemExpandedDTO, final List&lt;MenuDTO&gt; menuDTOList) {\n            \n        menuDTOList.add(dto);\n\n        for (...) {\n            methodB(menuDTOList);\n        }\n    }\n\n    private void methodB(List&lt;MenuDTO&gt; menuDTOList) {\n        for (...) {\n            methodA(dto, menuDTOList);\n        }\n    }\n}\n</code></pre>\n<p>Then each list instance is only used by a single thread, and the list will be available to be garbage collected as soon as the caller of <code>getData</code> discards the reference.</p>\n"}],"owner":{"display_name":"user17188729"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69824374,"answer_count":2,"score":0,"last_activity_date":1635940449,"creation_date":1635937383,"question_id":69823727,"body_markdown":"In the following methods, I have a list to keep the data and I can populate all the data into this `menuDTOList`. However, when a send a new request after getting all the data from the first request, the `menuDTOList` still keeps the data of the first request.\r\n\r\nAs there are 2 methods recursively calls each other, I cannot make the list to be cleared properly. I tried `Collections.synchronizedList()` for `thread-safety`, but it does not make any sense. Also tried to clear the list at different steps, but due to recursive method calls, it did not work correctly. \r\n\r\nSo, how can I clear the list values on each request while keeping them recursive calls between `methodA` and `methodB`? \r\n\r\n\r\n```\r\npublic class Demo {\r\n\r\n    // private List&lt;MenuDTO&gt; menuDTOList  = new ArrayList&lt;&gt;();\r\n    List&lt;MenuDTO&gt; menuDTOList = \r\n        Collections.synchronizedList(new ArrayList&lt;MenuDTO&gt;());\r\n\r\n    protected Iterable&lt;MenuDTO&gt; getData() {\r\n        for (...) {\r\n            methodA();\r\n        }\r\n\t\t\t\t\r\n        return menuDTOList;\r\n    }\r\n\r\n    private void methodA(final MenuItemExpandedDTO menuItemExpandedDTO) {\r\n\t\t\t\r\n        menuDTOList.add(dto);\r\n\r\n        for (...) {\r\n            methodB();\r\n        }\r\n    }\r\n\r\n    private void methodB() {\r\n        for (...) {\r\n            methodA(dto);\r\n        }\r\n    }\r\n}\r\n```","title":"Why Java keeps List values for each request even using concurrent list?","body":"<p>In the following methods, I have a list to keep the data and I can populate all the data into this <code>menuDTOList</code>. However, when a send a new request after getting all the data from the first request, the <code>menuDTOList</code> still keeps the data of the first request.</p>\n<p>As there are 2 methods recursively calls each other, I cannot make the list to be cleared properly. I tried <code>Collections.synchronizedList()</code> for <code>thread-safety</code>, but it does not make any sense. Also tried to clear the list at different steps, but due to recursive method calls, it did not work correctly.</p>\n<p>So, how can I clear the list values on each request while keeping them recursive calls between <code>methodA</code> and <code>methodB</code>?</p>\n<pre><code>public class Demo {\n\n    // private List&lt;MenuDTO&gt; menuDTOList  = new ArrayList&lt;&gt;();\n    List&lt;MenuDTO&gt; menuDTOList = \n        Collections.synchronizedList(new ArrayList&lt;MenuDTO&gt;());\n\n    protected Iterable&lt;MenuDTO&gt; getData() {\n        for (...) {\n            methodA();\n        }\n                \n        return menuDTOList;\n    }\n\n    private void methodA(final MenuItemExpandedDTO menuItemExpandedDTO) {\n            \n        menuDTOList.add(dto);\n\n        for (...) {\n            methodB();\n        }\n    }\n\n    private void methodB() {\n        for (...) {\n            methodA(dto);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","http","jetty"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1635930413,"post_id":69820786,"comment_id":123420589,"body_markdown":"How are you starting Jetty?","body":"How are you starting Jetty?"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1635930460,"post_id":69820786,"comment_id":123420610,"body_markdown":"&quot;We also tried to navigate around the problem by setting the number of Server Connectors (to one)&quot; ??  Can you explain this a bit more, how did you do that? (there&#39;s no such setting in Jetty)","body":"&quot;We also tried to navigate around the problem by setting the number of Server Connectors (to one)&quot; ??  Can you explain this a bit more, how did you do that? (there&#39;s no such setting in Jetty)"},{"owner":{"account_id":22102699,"reputation":21,"user_id":16358901,"display_name":"defect_analyst"},"score":0,"creation_date":1635939304,"post_id":69820786,"comment_id":123424006,"body_markdown":"start() is called on an Instance of org.eclipse.jetty.server.Server","body":"start() is called on an Instance of org.eclipse.jetty.server.Server"},{"owner":{"account_id":22102699,"reputation":21,"user_id":16358901,"display_name":"defect_analyst"},"score":0,"creation_date":1635939648,"post_id":69820786,"comment_id":123424116,"body_markdown":"My understanding of Jetty&#39;s implementation was, it will take care of Connector unless you set a connector for the Server explicitly. That is what I did, I created a ServerConnector with exactly 1 acceptor and selector and assigned this Connector to the server.","body":"My understanding of Jetty&#39;s implementation was, it will take care of Connector unless you set a connector for the Server explicitly. That is what I did, I created a ServerConnector with exactly 1 acceptor and selector and assigned this Connector to the server."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1635939676,"post_id":69820786,"comment_id":123424133,"body_markdown":"Jetty has only 1 self created connector scenario, the `new Server(int port)` constructor, there&#39;s no other mechanism for Jetty itself to create a connector.  If you have 200 connectors, then your code specifically added 200 connectors.","body":"Jetty has only 1 self created connector scenario, the <code>new Server(int port)</code> constructor, there&#39;s no other mechanism for Jetty itself to create a connector.  If you have 200 connectors, then your code specifically added 200 connectors."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1635939855,"post_id":69820786,"comment_id":123424198,"body_markdown":"Edit your question and include the INFO logging output from `org.eclipse.jetty.util.thread.ThreadPoolBudget` (it should explain what the budget / leases are specifically for)","body":"Edit your question and include the INFO logging output from <code>org.eclipse.jetty.util.thread.ThreadPoolBudget</code> (it should explain what the budget / leases are specifically for)"},{"owner":{"account_id":22102699,"reputation":21,"user_id":16358901,"display_name":"defect_analyst"},"score":0,"creation_date":1635939864,"post_id":69820786,"comment_id":123424203,"body_markdown":"Well I suspected but thanks for confirming, will need to find where this happens then.","body":"Well I suspected but thanks for confirming, will need to find where this happens then."}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635940051,"creation_date":1635940051,"answer_id":69824296,"question_id":69820786,"body_markdown":"The `ThreadPoolBudget` being reported is indicating that you have some combination of technologies and/or components that are requiring a thread load of 200 threads, but your max threads is exactly 200.\r\n\r\nThe output from INFO logging of the named logger `org.eclipse.jetty.util.thread.ThreadPoolBudget` will report the lease / budget of the various components you have.\r\n\r\nOutput will have a format indicating ...\r\n\r\n```\r\nINFO: &lt;component&gt; requires &lt;num&gt; threads from &lt;thread-pool&gt;\r\n```\r\n\r\nThat will tell you what components are requesting that amount of threads.\r\n\r\nThe `&lt;component&gt;` will include the hashcode / object identity of the component, if you see the same one repeated (eg: `Foo@1234` and `Foo@789` would be different object instances, but `Bar@575` and `Bar@575` would be the same object instance), then you have a bad initialization of your Server. (likely not using the `LifeCycle` properly)","title":"Jetty maxes out number of Connectors","body":"<p>The <code>ThreadPoolBudget</code> being reported is indicating that you have some combination of technologies and/or components that are requiring a thread load of 200 threads, but your max threads is exactly 200.</p>\n<p>The output from INFO logging of the named logger <code>org.eclipse.jetty.util.thread.ThreadPoolBudget</code> will report the lease / budget of the various components you have.</p>\n<p>Output will have a format indicating ...</p>\n<pre><code>INFO: &lt;component&gt; requires &lt;num&gt; threads from &lt;thread-pool&gt;\n</code></pre>\n<p>That will tell you what components are requesting that amount of threads.</p>\n<p>The <code>&lt;component&gt;</code> will include the hashcode / object identity of the component, if you see the same one repeated (eg: <code>Foo@1234</code> and <code>Foo@789</code> would be different object instances, but <code>Bar@575</code> and <code>Bar@575</code> would be the same object instance), then you have a bad initialization of your Server. (likely not using the <code>LifeCycle</code> properly)</p>\n"}],"owner":{"account_id":22102699,"reputation":21,"user_id":16358901,"display_name":"defect_analyst"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635940051,"creation_date":1635922752,"question_id":69820786,"body_markdown":"We start the Jetty Server in Java and have a pretty straight forward process for that: API gets called, server starts. There will be no magic happening while starting Jetty, its a static process that shouldn&#39;t depend on anyhting. However we experience issues with some startups, where Jetty will try to open (presumably endlessly many) Connectors and maxes out the ThreadPool&#39;s size. OK-Runs will have exactly one Server Connector, as I would expect with a 4-core CPU and no Server Connector count set. \r\nWe also tried to navigate around the problem by setting the number of Server Connectors (to one), still Jetty would ramp up the count and fail to start, because there would be not enough threads available.\r\nEven more curious, another API-User (different application) never had this issue once. This has all been tested on the same machine, same OS, often the same day even. \r\nWe use Jetty 9.4.38. This is what the Exception says: \r\n\r\ncould not subscribe connector\r\njava.lang.IllegalStateException: Insufficient configured threads: required=200 &lt; max=200 for QueuedThreadPool[qtp370296980]@16124894{STARTED,8&lt;=144&lt;=200,i=0,r=-1,q=0}[ReservedThreadExecutor@3825f21{s=0/6,p=0}]\r\n\tat org.eclipse.jetty.util.thread.ThreadPoolBudget.check(ThreadPoolBudget.java:165)\r\n\tat org.eclipse.jetty.util.thread.ThreadPoolBudget.leaseTo(ThreadPoolBudget.java:141)\r\n\tat org.eclipse.jetty.util.thread.ThreadPoolBudget.leaseFrom(ThreadPoolBudget.java:191)\r\n\tat org.eclipse.jetty.server.AbstractConnector.doStart(AbstractConnector.java:320)\r\n\tat org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:81)\r\n\tat org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:234)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)","title":"Jetty maxes out number of Connectors","body":"<p>We start the Jetty Server in Java and have a pretty straight forward process for that: API gets called, server starts. There will be no magic happening while starting Jetty, its a static process that shouldn't depend on anyhting. However we experience issues with some startups, where Jetty will try to open (presumably endlessly many) Connectors and maxes out the ThreadPool's size. OK-Runs will have exactly one Server Connector, as I would expect with a 4-core CPU and no Server Connector count set.\nWe also tried to navigate around the problem by setting the number of Server Connectors (to one), still Jetty would ramp up the count and fail to start, because there would be not enough threads available.\nEven more curious, another API-User (different application) never had this issue once. This has all been tested on the same machine, same OS, often the same day even.\nWe use Jetty 9.4.38. This is what the Exception says:</p>\n<p>could not subscribe connector\njava.lang.IllegalStateException: Insufficient configured threads: required=200 &lt; max=200 for QueuedThreadPool[qtp370296980]@16124894{STARTED,8&lt;=144&lt;=200,i=0,r=-1,q=0}[ReservedThreadExecutor@3825f21{s=0/6,p=0}]\nat org.eclipse.jetty.util.thread.ThreadPoolBudget.check(ThreadPoolBudget.java:165)\nat org.eclipse.jetty.util.thread.ThreadPoolBudget.leaseTo(ThreadPoolBudget.java:141)\nat org.eclipse.jetty.util.thread.ThreadPoolBudget.leaseFrom(ThreadPoolBudget.java:191)\nat org.eclipse.jetty.server.AbstractConnector.doStart(AbstractConnector.java:320)\nat org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:81)\nat org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:234)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1557151288,"post_id":56005869,"comment_id":98659104,"body_markdown":"You could add Product entity mapping.","body":"You could add Product entity mapping."},{"owner":{"account_id":10857017,"reputation":41,"user_id":7983051,"display_name":"Drakker"},"score":0,"creation_date":1557151348,"post_id":56005869,"comment_id":98659132,"body_markdown":"I have it. It works if i have @JsonIgnore above productCategory","body":"I have it. It works if i have @JsonIgnore above productCategory"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1557176168,"post_id":56005869,"comment_id":98669604,"body_markdown":"Show the piece of code where you are returning the list and are trying to display/use it. Very highly likely chances are, you are not populating the list properly.","body":"Show the piece of code where you are returning the list and are trying to display/use it. Very highly likely chances are, you are not populating the list properly."},{"owner":{"account_id":10857017,"reputation":41,"user_id":7983051,"display_name":"Drakker"},"score":0,"creation_date":1557217032,"post_id":56005869,"comment_id":98680414,"body_markdown":"@Autowired\n        private ProductCategoryRepository productCategoryRepository;\n    \n    \n    @GetMapping(&quot;/categs&quot;)\n        List&lt;ProductCategory&gt; findCategs(){\n            return productCategoryRepository.findAll();\n        }","body":"@Autowired         private ProductCategoryRepository productCategoryRepository;               @GetMapping(&quot;/categs&quot;)         List&lt;ProductCategory&gt; findCategs(){             return productCategoryRepository.findAll();         }"}],"answers":[{"tags":[],"owner":{"account_id":17045684,"reputation":1,"user_id":12332597,"display_name":"Jeremias Medrano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635916329,"creation_date":1635916329,"answer_id":69819944,"question_id":56005869,"body_markdown":"I had the same problem I solved generating the getters &amp; setters because I didn&#39;t have configured my lombok","title":"JPA Repository findAll returns empty list","body":"<p>I had the same problem I solved generating the getters &amp; setters because I didn't have configured my lombok</p>\n"}],"owner":{"account_id":10857017,"reputation":41,"user_id":7983051,"display_name":"Drakker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2238,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635939876,"creation_date":1557147930,"question_id":56005869,"body_markdown":"I am trying to fetch a list from database and findAll() returns empty list.\r\nI have multiple jpa repositories but only one does not work. This is the code:\r\n\r\n    @Repository\r\n    public interface ProductCategoryRepository extends JpaRepository&lt;ProductCategory,Integer&gt; {\r\n    }\r\n\r\nand this is the entity:\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ProductCategory {\r\n        @Id\r\n        private Integer id;\r\n        private String name;\r\n        private String description;\r\n    \r\n        @OneToMany(fetch = FetchType.EAGER,mappedBy = &quot;productCategory&quot;, cascade = CascadeType.ALL)\r\n        @JsonIgnore\r\n        private List&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nWhen I call productCategoryRepository.findAll() it returns empty list thus I have many entries in the database.\r\nThanks for your help!\r\n","title":"JPA Repository findAll returns empty list","body":"<p>I am trying to fetch a list from database and findAll() returns empty list.\nI have multiple jpa repositories but only one does not work. This is the code:</p>\n\n<pre><code>@Repository\npublic interface ProductCategoryRepository extends JpaRepository&lt;ProductCategory,Integer&gt; {\n}\n</code></pre>\n\n<p>and this is the entity:</p>\n\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ProductCategory {\n    @Id\n    private Integer id;\n    private String name;\n    private String description;\n\n    @OneToMany(fetch = FetchType.EAGER,mappedBy = \"productCategory\", cascade = CascadeType.ALL)\n    @JsonIgnore\n    private List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n}\n</code></pre>\n\n<p>When I call productCategoryRepository.findAll() it returns empty list thus I have many entries in the database.\nThanks for your help!</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":1,"creation_date":1635939802,"post_id":69824209,"comment_id":123424182,"body_markdown":"Start your activity as a child activity or you can use viewmodel.","body":"Start your activity as a child activity or you can use viewmodel."},{"owner":{"account_id":21279218,"reputation":11,"user_id":15657869,"display_name":"Simran Inamdar"},"score":0,"creation_date":1636123575,"post_id":69824209,"comment_id":123480312,"body_markdown":"@Piyush Thanks for the reply..can you please explain a little bit more?","body":"@Piyush Thanks for the reply..can you please explain a little bit more?"},{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1636432464,"post_id":69824209,"comment_id":123548860,"body_markdown":"Yes sure !.....","body":"Yes sure !....."}],"owner":{"account_id":21279218,"reputation":11,"user_id":15657869,"display_name":"Simran Inamdar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635939585,"creation_date":1635939585,"question_id":69824209,"body_markdown":"Steps :\r\n 1. created an activity in that activity using tab layout and viewPager.\r\n 2. Created adapter to display the dynamic tabs there are a total of 5 tabs.\r\n 3. used one fragment to load tabs data. In that tab, there is a list of items on click of a single item navigate to another activity and set data to model and back to the previous activity.\r\n\r\nHow to refresh parent activity? or recall the parent activity?","title":"From fragment navigate to another activity fill data and back to previous activity. How to refresh parent activity or recall parent activity","body":"<p>Steps :</p>\n<ol>\n<li>created an activity in that activity using tab layout and viewPager.</li>\n<li>Created adapter to display the dynamic tabs there are a total of 5 tabs.</li>\n<li>used one fragment to load tabs data. In that tab, there is a list of items on click of a single item navigate to another activity and set data to model and back to the previous activity.</li>\n</ol>\n<p>How to refresh parent activity? or recall the parent activity?</p>\n"},{"tags":["java","swing","copy-paste"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":0,"creation_date":1635939754,"post_id":69824125,"comment_id":123424164,"body_markdown":"No idea about your actual question, sorry. But still, are you aware that this exists? https://stackoverflow.com/questions/6710350/copying-text-to-the-clipboard-using-java","body":"No idea about your actual question, sorry. But still, are you aware that this exists? <a href=\"https://stackoverflow.com/questions/6710350/copying-text-to-the-clipboard-using-java\" title=\"copying text to the clipboard using java\">stackoverflow.com/questions/6710350/&hellip;</a>"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":1,"creation_date":1635941153,"post_id":69824125,"comment_id":123424712,"body_markdown":"yeah but that seems to be reimplementing copy paste , it seemed cleaner if i could just link the popupmenu to the existing copy/paste implnentation for JTextfield","body":"yeah but that seems to be reimplementing copy paste , it seemed cleaner if i could just link the popupmenu to the existing copy/paste implnentation for JTextfield"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":0,"creation_date":1635944983,"post_id":69824125,"comment_id":123426390,"body_markdown":"Aha, only now I can properly see what you&#39;re doing. Nice. Um, looks like you should be fine according to the docs: https://docs.oracle.com/en/java/javase/17/docs/api/constant-values.html#javax.swing.text.DefaultEditorKit.copyAction, found via https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/text/DefaultEditorKit.html#copyAction and https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/text/DefaultEditorKit.CopyAction.html. Good luck!","body":"Aha, only now I can properly see what you&#39;re doing. Nice. Um, looks like you should be fine according to the docs: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/constant-values.html#javax.swing.text.DefaultEditorKit.copyAction\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/&hellip;</a>, found via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/text/DefaultEditorKit.html#copyAction\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java&zwnj;&#8203;x/&hellip;</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/text/DefaultEditorKit.CopyAction.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java&zwnj;&#8203;x/&hellip;</a>. Good luck!"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635939268,"creation_date":1635939268,"question_id":69824125,"body_markdown":"JTextArea by default has Copy/Paste functionality, but you need to use shortcut keys (e.g Cntl-C/V on Windows) to access. I need to add popupup to access functionality for more niave users.\r\n\r\nDone this and it works on Windows, but is this portable, are the actions copy-to-clipboard/paste-from-clipboard available on all platforms ?\r\n\r\n    public class CopyPastePopup extends JPopupMenu\r\n    {\r\n        public CopyPastePopup(JTextComponent ta)\r\n        {\r\n            Action copy  = ta.getActionMap().get(&quot;copy-to-clipboard&quot;);\r\n            copy.putValue(NAME, TextLabel.COPYBUTTON.getMsg());\r\n            copy.putValue(ACCELERATOR_KEY, KeyStroke.getKeyStroke(KeyEvent.VK_C, Toolkit.getDefaultToolkit().getMenuShortcutKeyMaskEx()));\r\n    \r\n            Action paste = ta.getActionMap().get(&quot;paste-from-clipboard&quot;);\r\n            paste.putValue(NAME, TextLabel.PASTEBUTTON.getMsg());\r\n            paste.putValue(ACCELERATOR_KEY, KeyStroke.getKeyStroke(KeyEvent.VK_V, Toolkit.getDefaultToolkit().getMenuShortcutKeyMaskEx()));\r\n    \r\n            add(copy);\r\n            add(paste);\r\n        }\r\n    }\r\n\r\nUse as\r\n\r\n    mask.setComponentPopupMenu(new CopyPastePopup(mask));","title":"In Java is action copy-to-clipboard portable on all platforms","body":"<p>JTextArea by default has Copy/Paste functionality, but you need to use shortcut keys (e.g Cntl-C/V on Windows) to access. I need to add popupup to access functionality for more niave users.</p>\n<p>Done this and it works on Windows, but is this portable, are the actions copy-to-clipboard/paste-from-clipboard available on all platforms ?</p>\n<pre><code>public class CopyPastePopup extends JPopupMenu\n{\n    public CopyPastePopup(JTextComponent ta)\n    {\n        Action copy  = ta.getActionMap().get(&quot;copy-to-clipboard&quot;);\n        copy.putValue(NAME, TextLabel.COPYBUTTON.getMsg());\n        copy.putValue(ACCELERATOR_KEY, KeyStroke.getKeyStroke(KeyEvent.VK_C, Toolkit.getDefaultToolkit().getMenuShortcutKeyMaskEx()));\n\n        Action paste = ta.getActionMap().get(&quot;paste-from-clipboard&quot;);\n        paste.putValue(NAME, TextLabel.PASTEBUTTON.getMsg());\n        paste.putValue(ACCELERATOR_KEY, KeyStroke.getKeyStroke(KeyEvent.VK_V, Toolkit.getDefaultToolkit().getMenuShortcutKeyMaskEx()));\n\n        add(copy);\n        add(paste);\n    }\n}\n</code></pre>\n<p>Use as</p>\n<pre><code>mask.setComponentPopupMenu(new CopyPastePopup(mask));\n</code></pre>\n"},{"tags":["java","spring-boot","file","multipartform-data","resttemplate"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635936566,"post_id":69823429,"comment_id":123423048,"body_markdown":"Try to just print new FileSystemResource(imageFile) and see if it picks up the image file correctly on linux or not.","body":"Try to just print new FileSystemResource(imageFile) and see if it picks up the image file correctly on linux or not."},{"owner":{"account_id":14391734,"reputation":26,"user_id":10396172,"display_name":"Adefisola Adigun"},"score":0,"creation_date":1635936983,"post_id":69823429,"comment_id":123423187,"body_markdown":"@SusanMustafa Yes it picks up the image correctly on linux","body":"@SusanMustafa Yes it picks up the image correctly on linux"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635938093,"post_id":69823429,"comment_id":123423583,"body_markdown":"Curious, could you try to setContentType(&quot;multipart/form-data;charset=UTF-8&quot;); instead.  Lets see how it reacts.","body":"Curious, could you try to setContentType(&quot;multipart/form-data;charset=UTF-8&quot;); instead.  Lets see how it reacts."},{"owner":{"account_id":14391734,"reputation":26,"user_id":10396172,"display_name":"Adefisola Adigun"},"score":0,"creation_date":1635938231,"post_id":69823429,"comment_id":123423631,"body_markdown":"Okay I&#39;ll try this","body":"Okay I&#39;ll try this"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635939019,"creation_date":1635938662,"answer_id":69824004,"question_id":69823429,"body_markdown":"The solution to this seems to be to update your ObjectMapper to ignore CTRL characters, which Linux might be inferring\r\n\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n\r\n    private void patchRestTemplate() {\r\n\r\n        objectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n\r\n        restTemplate.getMessageConverters().forEach(httpMessageConverter -&gt; {\r\n\r\n            if (httpMessageConverter instanceof MappingJackson2HttpMessageConverter) {\r\n\r\n                ((MappingJackson2HttpMessageConverter) httpMessageConverter).setObjectMapper(objectMapper);\r\n            }\r\n        });\r\n    }\r\n\r\nReference: https://stackoverflow.com/questions/31537153/jsonparseexception-illegal-unquoted-character-ctrl-char-code-10\r\n","title":"Uploading multipart form-data linux file using Rest template : I/O error on POST request for Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>The solution to this seems to be to update your ObjectMapper to ignore CTRL characters, which Linux might be inferring</p>\n<pre><code>@Autowired\nprivate ObjectMapper objectMapper;\n\n@Autowired\nprivate RestTemplate restTemplate;\n\nprivate void patchRestTemplate() {\n\n    objectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n\n    restTemplate.getMessageConverters().forEach(httpMessageConverter -&gt; {\n\n        if (httpMessageConverter instanceof MappingJackson2HttpMessageConverter) {\n\n            ((MappingJackson2HttpMessageConverter) httpMessageConverter).setObjectMapper(objectMapper);\n        }\n    });\n}\n</code></pre>\n<p>Reference: <a href=\"https://stackoverflow.com/questions/31537153/jsonparseexception-illegal-unquoted-character-ctrl-char-code-10\">JsonParseException : Illegal unquoted character ((CTRL-CHAR, code 10)</a></p>\n"}],"owner":{"account_id":14391734,"reputation":26,"user_id":10396172,"display_name":"Adefisola Adigun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635939019,"creation_date":1635936079,"question_id":69823429,"body_markdown":"I&#39;m having issues uploading a file via resttemplate client on linux\r\n\r\nHere&#39;s what I have currently\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n        MultiValueMap&lt;String, Object&gt; form = new LinkedMultiValueMap&lt;&gt;();\r\n        form.add(&quot;image&quot;, new FileSystemResource(imageFile));\r\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; httpEntity = new HttpEntity&lt;&gt;(form, headers);\r\n        UploadResponse response = restTemplate.postForEntity(uploadUrl,httpEntity, UploadResponse.class).getBody();\r\n\r\nCode works fine on windows but returns this error on linux:\r\n\r\n     I/O error on POST request for &quot;https://baseurl/api/v1/upload&quot;: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n     at [Source: (StringReader); line: 1, column: 47]; nested exception is com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n\r\nAnyone has an idea what might be wrong?\r\n\r\n\r\n","title":"Uploading multipart form-data linux file using Rest template : I/O error on POST request for Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>I'm having issues uploading a file via resttemplate client on linux</p>\n<p>Here's what I have currently</p>\n<pre><code>    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    MultiValueMap&lt;String, Object&gt; form = new LinkedMultiValueMap&lt;&gt;();\n    form.add(&quot;image&quot;, new FileSystemResource(imageFile));\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; httpEntity = new HttpEntity&lt;&gt;(form, headers);\n    UploadResponse response = restTemplate.postForEntity(uploadUrl,httpEntity, UploadResponse.class).getBody();\n</code></pre>\n<p>Code works fine on windows but returns this error on linux:</p>\n<pre><code> I/O error on POST request for &quot;https://baseurl/api/v1/upload&quot;: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n at [Source: (StringReader); line: 1, column: 47]; nested exception is com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n</code></pre>\n<p>Anyone has an idea what might be wrong?</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1635911667,"post_id":69813767,"comment_id":123416237,"body_markdown":"Did you take a look at `CookieFilter`. No need to keep track cookies every request.","body":"Did you take a look at <code>CookieFilter</code>. No need to keep track cookies every request."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635939013,"creation_date":1635939013,"answer_id":69824073,"question_id":69813767,"body_markdown":"You can use `CookieFilter` to satify your need.\r\n\r\n&gt; The cookie filter can be used to keep track of all the cookies sent by\r\n&gt; the server and use them in subsequent requests\r\n\r\nYou can use this class in 2 ways:\r\n\r\n1. Static setting:\r\n```\r\nRestAssured.filters(new CookieFilter());\r\n```\r\n\r\n2. Specify for request you want:\r\n```\r\nCookieFilter cookieFilter = new CookieFilter();\r\n\r\n//Request 1  \r\ngiven().filter(cookieFilter).get(&quot;/x&quot;);\r\n\r\n//Request 2\r\ngiven().filter(cookieFilter).get(&quot;/y&quot;);\r\n```\r\n\r\nFor more information:\r\n- CookieFilter [class][1]\r\n- CookieFilter [test class][2]\r\n\r\n\r\n  [1]: https://github.com/rest-assured/rest-assured/blob/master/rest-assured/src/main/java/io/restassured/filter/cookie/CookieFilter.java\r\n  [2]: https://github.com/rest-assured/rest-assured/blob/master/rest-assured/src/test/java/io/restassured/filter/cookie/CookieFilterTest.java","title":"How to extract cookies from a REST Assured response using common code","body":"<p>You can use <code>CookieFilter</code> to satify your need.</p>\n<blockquote>\n<p>The cookie filter can be used to keep track of all the cookies sent by\nthe server and use them in subsequent requests</p>\n</blockquote>\n<p>You can use this class in 2 ways:</p>\n<ol>\n<li>Static setting:</li>\n</ol>\n<pre><code>RestAssured.filters(new CookieFilter());\n</code></pre>\n<ol start=\"2\">\n<li>Specify for request you want:</li>\n</ol>\n<pre><code>CookieFilter cookieFilter = new CookieFilter();\n\n//Request 1  \ngiven().filter(cookieFilter).get(&quot;/x&quot;);\n\n//Request 2\ngiven().filter(cookieFilter).get(&quot;/y&quot;);\n</code></pre>\n<p>For more information:</p>\n<ul>\n<li>CookieFilter <a href=\"https://github.com/rest-assured/rest-assured/blob/master/rest-assured/src/main/java/io/restassured/filter/cookie/CookieFilter.java\" rel=\"nofollow noreferrer\">class</a></li>\n<li>CookieFilter <a href=\"https://github.com/rest-assured/rest-assured/blob/master/rest-assured/src/test/java/io/restassured/filter/cookie/CookieFilterTest.java\" rel=\"nofollow noreferrer\">test class</a></li>\n</ul>\n"}],"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69824073,"answer_count":1,"score":0,"last_activity_date":1635939013,"creation_date":1635870169,"question_id":69813767,"body_markdown":"Using REST Assured (4.3.3, from Java) I can freely manipulate request and response specification objects in a base test class, so that when the actual test needs a request specification to execute the actual call, it&#39;s &quot;pre-configured&quot; with certain common statements. For example:\r\n\r\n```java\r\npublic abstract class TestBase\r\n    protected RequestSpecification request() {\r\n        return given()\r\n                .cookies(globalCookies)\r\n                .port(serverPort)\r\n                .log().ifValidationFails()\r\n                .then()\r\n                .log().ifValidationFails()\r\n                .given();\r\n    }\r\n}\r\npublic class ActualTest extends TestBase {\r\n  @Test\r\n  public void test1() {\r\n    String content = request().get(&quot;/some&quot;).then()\r\n           .statusCode(200)\r\n           .extract()\r\n           .body().asString();\r\n  }\r\n}\r\n```\r\n\r\nWhat I&#39;d like to do now is to &quot;pre-configure&quot; the specifications to preserve cookies between the requests. I am feeding the list of cookies to send using `RequestSpecification.cookies(Cookies)`, but I can&#39;t find any way to instruct the specifications to extract the returned cookies before obtaining the instance of `Response`. However, such instance is only available after calling one of the `RequestSender` methods, which I can&#39;t do in the base code.\r\n\r\nThe methods I&#39;ve considered to solve this are outlined below, but the first two are quite clunky, and the third is probably just outright wrong as it meddles with classes in &quot;internal&quot; sub-packages. Is there a &quot;right&quot; way of doing this?\r\n\r\n 1. Add a base method `saveCookies()` that takes in an instance of `ValidatableResponse`, on which it can call `extract()`, and get the cookies. Then each test will have to use the method.\r\n\r\n```java\r\npublic abstract class TestBase\r\n  // ...\r\n  protected ValidatableResponse saveCookies(ValidatableResponse r) {\r\n    saveGlobalCookies(r.extract().detailedCookies());\r\n    return r;\r\n  }\r\n}\r\npublic class ActualTest extends TestBase {\r\n  @Test\r\n  public void test1() {\r\n    String content = saveCookies(request().get(&quot;/some&quot;).then())\r\n           .statusCode(200)\r\n           .extract()\r\n           .body().asString();\r\n  }\r\n}\r\n```\r\n\r\n 2. Use a base method that takes in lambdas so that the potentially intermediate `ValidatableResponse` can be intercepted, and the final result (if needed) returned to the invoker.\r\n\r\n```java\r\npublic abstract class TestBase\r\n  // ...\r\n  &lt;T&gt; T cookieRequest(Function&lt;RequestSender, ValidatableResponse&gt; exec, Function&lt;ValidatableResponse, T&gt; post) {\r\n\r\n        ValidatableResponse vr = exec.apply(request());\r\n        saveGlobalCookies(vr.extract().detailedCookies());\r\n        return post.apply(vr);\r\n\r\n    }\r\n}\r\npublic class ActualTest extends TestBase {\r\n  @Test\r\n  public void test1() {\r\n    String content = cookieRequest(r-&gt;r.get(&quot;/some&quot;).then(),\r\n       r-&gt;r.extract().body().asString());\r\n  }\r\n}\r\n```\r\n\r\n 3. Instantiate extended instances of `ResponseSpecificationImpl` (dragging in `RequestSpecificationImpl` and `TestSpecificationImpl`).\r\n\r\n","title":"How to extract cookies from a REST Assured response using common code","body":"<p>Using REST Assured (4.3.3, from Java) I can freely manipulate request and response specification objects in a base test class, so that when the actual test needs a request specification to execute the actual call, it's &quot;pre-configured&quot; with certain common statements. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class TestBase\n    protected RequestSpecification request() {\n        return given()\n                .cookies(globalCookies)\n                .port(serverPort)\n                .log().ifValidationFails()\n                .then()\n                .log().ifValidationFails()\n                .given();\n    }\n}\npublic class ActualTest extends TestBase {\n  @Test\n  public void test1() {\n    String content = request().get(&quot;/some&quot;).then()\n           .statusCode(200)\n           .extract()\n           .body().asString();\n  }\n}\n</code></pre>\n<p>What I'd like to do now is to &quot;pre-configure&quot; the specifications to preserve cookies between the requests. I am feeding the list of cookies to send using <code>RequestSpecification.cookies(Cookies)</code>, but I can't find any way to instruct the specifications to extract the returned cookies before obtaining the instance of <code>Response</code>. However, such instance is only available after calling one of the <code>RequestSender</code> methods, which I can't do in the base code.</p>\n<p>The methods I've considered to solve this are outlined below, but the first two are quite clunky, and the third is probably just outright wrong as it meddles with classes in &quot;internal&quot; sub-packages. Is there a &quot;right&quot; way of doing this?</p>\n<ol>\n<li>Add a base method <code>saveCookies()</code> that takes in an instance of <code>ValidatableResponse</code>, on which it can call <code>extract()</code>, and get the cookies. Then each test will have to use the method.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class TestBase\n  // ...\n  protected ValidatableResponse saveCookies(ValidatableResponse r) {\n    saveGlobalCookies(r.extract().detailedCookies());\n    return r;\n  }\n}\npublic class ActualTest extends TestBase {\n  @Test\n  public void test1() {\n    String content = saveCookies(request().get(&quot;/some&quot;).then())\n           .statusCode(200)\n           .extract()\n           .body().asString();\n  }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Use a base method that takes in lambdas so that the potentially intermediate <code>ValidatableResponse</code> can be intercepted, and the final result (if needed) returned to the invoker.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class TestBase\n  // ...\n  &lt;T&gt; T cookieRequest(Function&lt;RequestSender, ValidatableResponse&gt; exec, Function&lt;ValidatableResponse, T&gt; post) {\n\n        ValidatableResponse vr = exec.apply(request());\n        saveGlobalCookies(vr.extract().detailedCookies());\n        return post.apply(vr);\n\n    }\n}\npublic class ActualTest extends TestBase {\n  @Test\n  public void test1() {\n    String content = cookieRequest(r-&gt;r.get(&quot;/some&quot;).then(),\n       r-&gt;r.extract().body().asString());\n  }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Instantiate extended instances of <code>ResponseSpecificationImpl</code> (dragging in <code>RequestSpecificationImpl</code> and <code>TestSpecificationImpl</code>).</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-cloud-config","hashicorp-vault"],"comments":[{"owner":{"account_id":8435313,"reputation":111,"user_id":10874504,"display_name":"sherybedrock"},"score":0,"creation_date":1600252908,"post_id":61883034,"comment_id":113027145,"body_markdown":"did you find solution?","body":"did you find solution?"},{"owner":{"account_id":2374267,"reputation":563,"user_id":2078080,"accept_rate":60,"display_name":"mac"},"score":0,"creation_date":1601455131,"post_id":61883034,"comment_id":113410472,"body_markdown":"Sorry not yet.. As a workaround I have bypassed spring cloud config server and connected to vault directly","body":"Sorry not yet.. As a workaround I have bypassed spring cloud config server and connected to vault directly"},{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":0,"creation_date":1619780024,"post_id":61883034,"comment_id":119013778,"body_markdown":"@sherybedrock I found a solution, if your issue is still present.","body":"@sherybedrock I found a solution, if your issue is still present."}],"answers":[{"tags":[],"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619779783,"creation_date":1619779783,"answer_id":67332645,"question_id":61883034,"body_markdown":"I had the same issue when using a Spring Cloud Config Server as a central configuration broker. \r\n\r\nI found the following [GitHub issue][1] which provided a solution. In short you have to add the spring-vault-core dependency to your dependencies in order to add a valid token resolver for the AppRole authentication:\r\n\r\n**Maven:**\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**Gradle:**\r\n\r\n    implementation &quot;org.springframework.vault:spring-vault-core&quot;\r\n\r\n\r\nThis should fix the issue directly. \r\nOf course the following [configuration][2] has to bet set then:\r\n\r\n    spring:\r\n      cloud:\r\n        config:\r\n          server:\r\n            vault:\r\n              port: 443\r\n              host: myvault.domain.com\r\n              scheme: https\r\n              backend: mybackend\r\n              kv-version: 2 #required if secrets engine version is v2 (default: v1/1)\r\n              timeout: 5 #seconds\r\n              authentication: APPROLE\r\n              app-role:\r\n                secret-id: 1234567-234567-23456-12341\r\n                role-id: 987654-3456-9865-1235\r\n                role: my-role-name #optional\r\n                app-role-path: approle #optional if non default (default: approle)\r\n\r\nAfter adding the dependency, configuring and starting the service, the following log message appears:\r\n\r\n&gt; 2021-04-30 12:40:31.211  INFO 53327 --- [nio-8888-exec-2] o.s.v.a.LifecycleAwareSessionManager     : Scheduling Token renewal\r\n\r\nThe `X-Config-Token` header is then not required anymore.\r\n\r\nFor more information regardin the Vault setup, visit: \r\n\r\n 1. [AppRole Auth Method][3]\r\n 2. [Setting up the AppRole auth method for a service][4]\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-config/issues/1589\r\n  [2]: https://cloud.spring.io/spring-cloud-vault/2.1.x/multi/multi_vault.config.authentication.html\r\n  [3]: https://www.vaultproject.io/docs/auth/approle\r\n  [4]: https://learn.hashicorp.com/tutorials/vault/approle","title":"Using Microservice AppRole to Spring Cloud Config Server and Vault integration","body":"<p>I had the same issue when using a Spring Cloud Config Server as a central configuration broker.</p>\n<p>I found the following <a href=\"https://github.com/spring-cloud/spring-cloud-config/issues/1589\" rel=\"nofollow noreferrer\">GitHub issue</a> which provided a solution. In short you have to add the spring-vault-core dependency to your dependencies in order to add a valid token resolver for the AppRole authentication:</p>\n<p><strong>Maven:</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Gradle:</strong></p>\n<pre><code>implementation &quot;org.springframework.vault:spring-vault-core&quot;\n</code></pre>\n<p>This should fix the issue directly.\nOf course the following <a href=\"https://cloud.spring.io/spring-cloud-vault/2.1.x/multi/multi_vault.config.authentication.html\" rel=\"nofollow noreferrer\">configuration</a> has to bet set then:</p>\n<pre><code>spring:\n  cloud:\n    config:\n      server:\n        vault:\n          port: 443\n          host: myvault.domain.com\n          scheme: https\n          backend: mybackend\n          kv-version: 2 #required if secrets engine version is v2 (default: v1/1)\n          timeout: 5 #seconds\n          authentication: APPROLE\n          app-role:\n            secret-id: 1234567-234567-23456-12341\n            role-id: 987654-3456-9865-1235\n            role: my-role-name #optional\n            app-role-path: approle #optional if non default (default: approle)\n</code></pre>\n<p>After adding the dependency, configuring and starting the service, the following log message appears:</p>\n<blockquote>\n<p>2021-04-30 12:40:31.211  INFO 53327 --- [nio-8888-exec-2] o.s.v.a.LifecycleAwareSessionManager     : Scheduling Token renewal</p>\n</blockquote>\n<p>The <code>X-Config-Token</code> header is then not required anymore.</p>\n<p>For more information regardin the Vault setup, visit:</p>\n<ol>\n<li><a href=\"https://www.vaultproject.io/docs/auth/approle\" rel=\"nofollow noreferrer\">AppRole Auth Method</a></li>\n<li><a href=\"https://learn.hashicorp.com/tutorials/vault/approle\" rel=\"nofollow noreferrer\">Setting up the AppRole auth method for a service</a></li>\n</ol>\n"}],"owner":{"account_id":2374267,"reputation":563,"user_id":2078080,"accept_rate":60,"display_name":"mac"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635938865,"creation_date":1589860952,"question_id":61883034,"body_markdown":"How to connect a Microservice with AppRole[in vault] to Spring Cloud Config Server with Vault backend.\r\n\r\nI can see examples using the root token like curl -X GET http://localhost:8888/my-service/default -H &quot;X-Config-Token: s.TmqaRA2lASdNhJZqqZy7y8pX&quot;. But I could not find any example that use approle to connect spring cloud config service.\r\n\r\nBut I do not want pass root token from micro services to spring cloud config server, instead each service will have app role defined which should be able to connect the spring cloud config which in turn connect to Vault and get data.","title":"Using Microservice AppRole to Spring Cloud Config Server and Vault integration","body":"<p>How to connect a Microservice with AppRole[in vault] to Spring Cloud Config Server with Vault backend.</p>\n\n<p>I can see examples using the root token like curl -X GET <a href=\"http://localhost:8888/my-service/default\" rel=\"nofollow noreferrer\">http://localhost:8888/my-service/default</a> -H \"X-Config-Token: s.TmqaRA2lASdNhJZqqZy7y8pX\". But I could not find any example that use approle to connect spring cloud config service.</p>\n\n<p>But I do not want pass root token from micro services to spring cloud config server, instead each service will have app role defined which should be able to connect the spring cloud config which in turn connect to Vault and get data.</p>\n"},{"tags":["java","stream","reduce"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1632730999,"post_id":69342873,"comment_id":122562330,"body_markdown":"Whatever you liike, if it works.","body":"Whatever you liike, if it works."},{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1632731387,"post_id":69342873,"comment_id":122562490,"body_markdown":"Usually a reduce operation is immutable. On the other hand a collector can have side effect and mutate your data.","body":"Usually a reduce operation is immutable. On the other hand a collector can have side effect and mutate your data."},{"owner":{"account_id":1801284,"reputation":326,"user_id":1639574,"display_name":"Samuel Teixeira"},"score":0,"creation_date":1634764118,"post_id":69342873,"comment_id":123116740,"body_markdown":"What is the type of `myCol`?","body":"What is the type of <code>myCol</code>?"},{"owner":{"account_id":10882670,"reputation":31,"user_id":8001062,"display_name":"betterchen"},"score":0,"creation_date":1635417244,"post_id":69342873,"comment_id":123295070,"body_markdown":"@SamuelTeixeira For simplicity, let&#39;s assume type of myCol is also Map&lt;String, Double&gt; here.","body":"@SamuelTeixeira For simplicity, let&#39;s assume type of myCol is also Map&lt;String, Double&gt; here."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635937824,"creation_date":1635937824,"answer_id":69823822,"question_id":69342873,"body_markdown":"&gt; Is there any drawback or issue with the reducing method?\r\nNot really from a technical point of view on small data loads.\r\n\r\nHowever, for most people it would be harder to read the version, which uses reduce (much less used stream operation).\r\n\r\nThis will make reading, understand and changing the code somewhat harder.\r\nOther than this no difference unless the data load you are processing is HUGE ! \r\n\r\nThen, it can turn out that one of the implementations is more performant than the other. You need to cover both implementation by a load test using JUnit and look at the performance.","title":"Why not use reduce in Stream API to merge multiple maps?","body":"<blockquote>\n<p>Is there any drawback or issue with the reducing method?\nNot really from a technical point of view on small data loads.</p>\n</blockquote>\n<p>However, for most people it would be harder to read the version, which uses reduce (much less used stream operation).</p>\n<p>This will make reading, understand and changing the code somewhat harder.\nOther than this no difference unless the data load you are processing is HUGE !</p>\n<p>Then, it can turn out that one of the implementations is more performant than the other. You need to cover both implementation by a load test using JUnit and look at the performance.</p>\n"}],"owner":{"account_id":10882670,"reputation":31,"user_id":8001062,"display_name":"betterchen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635937824,"creation_date":1632728452,"question_id":69342873,"body_markdown":"After looking several answers on how to merge maps in stream, it seems that all answers so far suggest the &quot;flatten and collect&quot; method:\r\n\r\n    Map&lt;String, Double&gt; outMap = \r\n    myCol.stream()\r\n         .flatMap(m -&gt; m.entrySet().stream())\r\n         .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, Double::sum));\r\n\r\nBut why not use reducing to merge:\r\n\r\n    Map&lt;String, Double&gt; outMap =\r\n    myCol.stream()\r\n         .reduce((r, r1) -&gt; {\r\n           r1.forEach((k, v) -&gt; r.merge(k, v, Double::sum))\r\n         }\r\n         .orElseThrow(()-&gt;Exception());\r\n\r\nIs there any drawback or issue with the reducing method?\r\n\r\n","title":"Why not use reduce in Stream API to merge multiple maps?","body":"<p>After looking several answers on how to merge maps in stream, it seems that all answers so far suggest the &quot;flatten and collect&quot; method:</p>\n<pre><code>Map&lt;String, Double&gt; outMap = \nmyCol.stream()\n     .flatMap(m -&gt; m.entrySet().stream())\n     .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, Double::sum));\n</code></pre>\n<p>But why not use reducing to merge:</p>\n<pre><code>Map&lt;String, Double&gt; outMap =\nmyCol.stream()\n     .reduce((r, r1) -&gt; {\n       r1.forEach((k, v) -&gt; r.merge(k, v, Double::sum))\n     }\n     .orElseThrow(()-&gt;Exception());\n</code></pre>\n<p>Is there any drawback or issue with the reducing method?</p>\n"},{"tags":["java","jmh"],"owner":{"account_id":23178077,"reputation":31,"user_id":17276279,"display_name":"Luffy Choi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635937761,"creation_date":1635926283,"question_id":69821375,"body_markdown":"I would like to proceed with the performance test using JMH.\r\nIf 5000 users are going to perform performance verification that repeats 100 actions, is it correct to set the annotation option as follows?\r\n\r\n    @State(Scope.Thread)\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    @Fork(value = 1, jvmArgs = {&quot;-Xms8G&quot;, &quot;-Xmx8G&quot;})\r\n    @Threads(value = 5000)\r\n    @Warmup(iterations = 0)\r\n    @Measurement(iterations = 100, time = 3, timeUnit = TimeUnit.SECONDS)    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n            Options option = new OptionsBuilder()\r\n                     .include(AlgorandTest.class.getSimpleName())\r\n                     .resultFormat(ResultFormatType.CSV)\r\n                     .build();\r\n    \r\n             new Runner(option).run(); // start benchmarking\r\n         }\r\n         @BenchMark\r\n         public void A() {\r\n             ....\r\n         }\r\n    }\r\n\r\nPlease help. Thank you.","title":"JMH Setting Inquiry","body":"<p>I would like to proceed with the performance test using JMH.\nIf 5000 users are going to perform performance verification that repeats 100 actions, is it correct to set the annotation option as follows?</p>\n<pre><code>@State(Scope.Thread)\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@Fork(value = 1, jvmArgs = {&quot;-Xms8G&quot;, &quot;-Xmx8G&quot;})\n@Threads(value = 5000)\n@Warmup(iterations = 0)\n@Measurement(iterations = 100, time = 3, timeUnit = TimeUnit.SECONDS)    \npublic class Test {\n    public static void main(String[] args) throws Exception {\n        Options option = new OptionsBuilder()\n                 .include(AlgorandTest.class.getSimpleName())\n                 .resultFormat(ResultFormatType.CSV)\n                 .build();\n\n         new Runner(option).run(); // start benchmarking\n     }\n     @BenchMark\n     public void A() {\n         ....\n     }\n}\n</code></pre>\n<p>Please help. Thank you.</p>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635900728,"post_id":69818416,"comment_id":123414534,"body_markdown":"It&#39;s hard to answer your question without seeing how `task` is created, but if another thread has a copy of the reference whose value is in `task` in your code, and that other thread modifies the object that the reference refers to, the object being used by the executor will be modified.","body":"It&#39;s hard to answer your question without seeing how <code>task</code> is created, but if another thread has a copy of the reference whose value is in <code>task</code> in your code, and that other thread modifies the object that the reference refers to, the object being used by the executor will be modified."},{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":0,"creation_date":1635900975,"post_id":69818416,"comment_id":123414565,"body_markdown":"But whether executor thread will see those changes or not depends on proper synchronization of `task` properties.","body":"But whether executor thread will see those changes or not depends on proper synchronization of <code>task</code> properties."},{"owner":{"account_id":21644716,"reputation":27,"user_id":15966276,"display_name":"MicD"},"score":0,"creation_date":1635913673,"post_id":69818416,"comment_id":123416510,"body_markdown":"Oh very good point! The task being passed, has an ArrayList of objects to be processed (in order). There is no problem with other scan processes hitting the same objects at the same time as they are immutable. The only requirement I have is that the task needs to be swapped out without interrupting the scheduledExecution cadence. So if what is read is correct, the scanTask would receive the new task reference when the local variable has been changed (and if it misses the change due to race condition, it will pick it up on the next scheduled execution... Do I have that right?","body":"Oh very good point! The task being passed, has an ArrayList of objects to be processed (in order). There is no problem with other scan processes hitting the same objects at the same time as they are immutable. The only requirement I have is that the task needs to be swapped out without interrupting the scheduledExecution cadence. So if what is read is correct, the scanTask would receive the new task reference when the local variable has been changed (and if it misses the change due to race condition, it will pick it up on the next scheduled execution... Do I have that right?"},{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":0,"creation_date":1635958385,"post_id":69818416,"comment_id":123432729,"body_markdown":"@MicHD **(and if it misses the change due to race condition, it will pick it up on the next scheduled execution**. Not true, Java Memory model doesn&#39;t guarantee anything here if there is no synchronization. Depending on your particular JVM implementation it may or may not see the change. \n**the scanTask would receive the new task reference when the local variable has been changed** The reference will still be the same, but the contents of the object is changed.","body":"@MicHD <b>(and if it misses the change due to race condition, it will pick it up on the next scheduled execution</b>. Not true, Java Memory model doesn&#39;t guarantee anything here if there is no synchronization. Depending on your particular JVM implementation it may or may not see the change.  <b>the scanTask would receive the new task reference when the local variable has been changed</b> The reference will still be the same, but the contents of the object is changed."},{"owner":{"account_id":21644716,"reputation":27,"user_id":15966276,"display_name":"MicD"},"score":0,"creation_date":1636389946,"post_id":69818416,"comment_id":123537976,"body_markdown":"@Ivan Thank you. That&#39;s a good point... Task needs to be volatile... and maybe even encapsulate it in another class (which is volatile) so that changing the task (not just the contents of its ArrayList member) will make its way to the next thread.","body":"@Ivan Thank you. That&#39;s a good point... Task needs to be volatile... and maybe even encapsulate it in another class (which is volatile) so that changing the task (not just the contents of its ArrayList member) will make its way to the next thread."}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635937291,"creation_date":1635937291,"answer_id":69823714,"question_id":69818416,"body_markdown":"Since the code is using Lambda expression, the variable `task` will have to be effectively a constant.  I.e. it does not have to be a final variable, but its value should only be set once before the lambda, and then should never change.  And that same `task` object will be processed again and again in the threads.\r\n\r\nNow, if the `task` object itself is a list or has a list inside, and if that keeps changing, then when the thread is triggered, whatever values are there in the list, those will be processed.","title":"Are parameters cached for executor.scheduleAtFixedRate()?","body":"<p>Since the code is using Lambda expression, the variable <code>task</code> will have to be effectively a constant.  I.e. it does not have to be a final variable, but its value should only be set once before the lambda, and then should never change.  And that same <code>task</code> object will be processed again and again in the threads.</p>\n<p>Now, if the <code>task</code> object itself is a list or has a list inside, and if that keeps changing, then when the thread is triggered, whatever values are there in the list, those will be processed.</p>\n"}],"owner":{"account_id":21644716,"reputation":27,"user_id":15966276,"display_name":"MicD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69823714,"answer_count":1,"score":0,"last_activity_date":1635937291,"creation_date":1635899797,"question_id":69818416,"body_markdown":"I have a line that runs a task repeatedly on a schedule:\r\n\r\n    executor.scheduleAtFixedRate(() -&gt; Task.scanTask(task), 0, scanEvery, unit);\r\n\r\nMy question is, does that &quot;task&quot; parameter from the local variable get passed on every execution? or is it cached by the executor, so that changes to the local variable never make it to scanTask on next scheduled execution?\r\n\r\nAnd is it bad practice to depend on each threads access to the current local value (not thread safe)?","title":"Are parameters cached for executor.scheduleAtFixedRate()?","body":"<p>I have a line that runs a task repeatedly on a schedule:</p>\n<pre><code>executor.scheduleAtFixedRate(() -&gt; Task.scanTask(task), 0, scanEvery, unit);\n</code></pre>\n<p>My question is, does that &quot;task&quot; parameter from the local variable get passed on every execution? or is it cached by the executor, so that changes to the local variable never make it to scanTask on next scheduled execution?</p>\n<p>And is it bad practice to depend on each threads access to the current local value (not thread safe)?</p>\n"},{"tags":["java","struts","servlet-filters","struts-1","weblogic11g"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1379338516,"post_id":18828366,"comment_id":27775514,"body_markdown":"You should post at least `web.xml`.","body":"You should post at least <code>web.xml</code>."}],"answers":[{"tags":[],"owner":{"account_id":480008,"reputation":3745,"user_id":892994,"accept_rate":71,"display_name":"erencan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635937186,"creation_date":1379405559,"answer_id":18844610,"question_id":18828366,"body_markdown":"You try to access index 6 in a `LinkedList` whose size is already 6. List collection indexes start with 0, so if you want to access last item in the a `List`, `List#get(List#size()-1)` can be used. `5` is last index in your case.\r\n\r\nAs you say that exception is in weblogic. The list may be populated with server information. It may be a header entry which is added and it does not exists in web logic, so your code may has dependency to Oracle IAS.\r\n\r\nPossible candidates are\r\n\r\n - XSSFilter.java:16\r\n - SetCharacterEncodingFilter.java:176\r\n - OHMLoggerFilter.java:75\r\n - WebLoginFilter.java:257\r\n - WebSecurityFilter.java:97\r\n - TMHDispatchAction.java:224\r\n - ModalPopupAction.java:32\r\n - OHMLoggerFilter.java:81\r\n\r\n**See also**\r\n\r\n[List Interface][2]\r\n\r\n[Java Collections][3]\r\n\r\n[Servlet Filters][5]\r\n       \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/collections/\r\n  [5]: https://stackoverflow.com/tags/servlet-filters/info","title":"Weblogic - FilterChainImpl IndexOutOfBoundsException on Struts2","body":"<p>You try to access index 6 in a <code>LinkedList</code> whose size is already 6. List collection indexes start with 0, so if you want to access last item in the a <code>List</code>, <code>List#get(List#size()-1)</code> can be used. <code>5</code> is last index in your case.</p>\n<p>As you say that exception is in weblogic. The list may be populated with server information. It may be a header entry which is added and it does not exists in web logic, so your code may has dependency to Oracle IAS.</p>\n<p>Possible candidates are</p>\n<ul>\n<li>XSSFilter.java:16</li>\n<li>SetCharacterEncodingFilter.java:176</li>\n<li>OHMLoggerFilter.java:75</li>\n<li>WebLoginFilter.java:257</li>\n<li>WebSecurityFilter.java:97</li>\n<li>TMHDispatchAction.java:224</li>\n<li>ModalPopupAction.java:32</li>\n<li>OHMLoggerFilter.java:81</li>\n</ul>\n<p><strong>See also</strong></p>\n<p><a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">List Interface</a></p>\n<p><a href=\"http://docs.oracle.com/javase/tutorial/collections/\" rel=\"nofollow noreferrer\">Java Collections</a></p>\n<p><a href=\"https://stackoverflow.com/tags/servlet-filters/info\">Servlet Filters</a></p>\n"}],"owner":{"account_id":1543453,"reputation":992,"user_id":1437558,"accept_rate":86,"display_name":"Emre T&#252;rki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635937186,"creation_date":1379335309,"question_id":18828366,"body_markdown":"we have recently upgraded to weblogic and started getting this error. While on Oracle IAS, there was nothing erroneous and the code hasn&#39;t changed a bit. but now, while the execution is in one of my filters, i got this error. I found out that it maybe a bug on the weblogic server but i couldn&#39;t find any solutions or workarounds. does anybody know why is this happening?\r\n\r\nthanks in advance.\r\n\r\nhere&#39;s the log of the error\r\n\r\n\tjava.lang.IndexOutOfBoundsException: Index: 6, Size: 6\r\n\t\tat java.util.LinkedList.entry(LinkedList.java:365)\r\n\t\tat java.util.LinkedList.get(LinkedList.java:315)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:55)\r\n\t\tat tr.com.innova.tmh.web.surecLog.filter.OHMLoggerFilter.doFilter(OHMLoggerFilter.java:81)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n\t\tat tr.com.innova.common.web.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:176)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n\t\tat tr.com.innova.tmh.web.utils.filters.XSSFilter.doFilter(XSSFilter.java:16)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n\t\tat weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:527)\r\n\t\tat weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:253)\r\n\t\tat tr.com.innova.tmh.web.popup.actions.ModalPopupAction.setFieldsAndRedirect(ModalPopupAction.java:32)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\t\tat org.apache.struts.actions.DispatchAction.dispatchMethod(DispatchAction.java:280)\r\n\t\tat org.apache.struts.actions.DispatchAction.execute(DispatchAction.java:216)\r\n\t\tat tr.com.innova.tmh.web.utils.actions.TMHDispatchAction.execute(TMHDispatchAction.java:224)\r\n\t\tat org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:484)\r\n\t\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:274)\r\n\t\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1482)\r\n\t\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:507)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\t\tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\r\n\t\tat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\r\n\t\tat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:301)\r\n\t\tat weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n\t\tat tr.com.innova.tmh.web.ss.filters.WebSecurityFilter.doFilter(WebSecurityFilter.java:97)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n\t\tat tr.com.innova.tmh.web.ss.filters.WebLoginFilter.doFilter(WebLoginFilter.java:257)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n\t\tat tr.com.innova.tmh.web.surecLog.filter.OHMLoggerFilter.doFilter(OHMLoggerFilter.java:75)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n\t\tat tr.com.innova.common.web.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:176)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n\t\tat tr.com.innova.tmh.web.utils.filters.XSSFilter.doFilter(XSSFilter.java:16)\r\n\t\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n\t\tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3730)\r\n\t\tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3696)\r\n\t\tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n\t\tat weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\r\n\t\tat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2273)\r\n\t\tat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2179)\r\n\t\tat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1490)\r\n\t\tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:256)\r\n\t\tat weblogic.work.ExecuteThread.run(ExecuteThread.java:221)\r\n","title":"Weblogic - FilterChainImpl IndexOutOfBoundsException on Struts2","body":"<p>we have recently upgraded to weblogic and started getting this error. While on Oracle IAS, there was nothing erroneous and the code hasn't changed a bit. but now, while the execution is in one of my filters, i got this error. I found out that it maybe a bug on the weblogic server but i couldn't find any solutions or workarounds. does anybody know why is this happening?</p>\n\n<p>thanks in advance.</p>\n\n<p>here's the log of the error</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 6, Size: 6\n    at java.util.LinkedList.entry(LinkedList.java:365)\n    at java.util.LinkedList.get(LinkedList.java:315)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:55)\n    at tr.com.innova.tmh.web.surecLog.filter.OHMLoggerFilter.doFilter(OHMLoggerFilter.java:81)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at tr.com.innova.common.web.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:176)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at tr.com.innova.tmh.web.utils.filters.XSSFilter.doFilter(XSSFilter.java:16)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:527)\n    at weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:253)\n    at tr.com.innova.tmh.web.popup.actions.ModalPopupAction.setFieldsAndRedirect(ModalPopupAction.java:32)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.struts.actions.DispatchAction.dispatchMethod(DispatchAction.java:280)\n    at org.apache.struts.actions.DispatchAction.execute(DispatchAction.java:216)\n    at tr.com.innova.tmh.web.utils.actions.TMHDispatchAction.execute(TMHDispatchAction.java:224)\n    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:484)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:274)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1482)\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:507)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:301)\n    at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at tr.com.innova.tmh.web.ss.filters.WebSecurityFilter.doFilter(WebSecurityFilter.java:97)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at tr.com.innova.tmh.web.ss.filters.WebLoginFilter.doFilter(WebLoginFilter.java:257)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at tr.com.innova.tmh.web.surecLog.filter.OHMLoggerFilter.doFilter(OHMLoggerFilter.java:75)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at tr.com.innova.common.web.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:176)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at tr.com.innova.tmh.web.utils.filters.XSSFilter.doFilter(XSSFilter.java:16)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3730)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3696)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2273)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2179)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1490)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:256)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:221)\n</code></pre>\n"},{"tags":["java","arrays","random"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1372878114,"post_id":17456090,"comment_id":25362593,"body_markdown":"Use a List a remove an element at a random index.","body":"Use a List a remove an element at a random index."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1372878616,"post_id":17456090,"comment_id":25362858,"body_markdown":"Yeah, just remove each element as you use it.","body":"Yeah, just remove each element as you use it."},{"owner":{"account_id":2841865,"reputation":979,"user_id":2441317,"accept_rate":58,"display_name":"Jony Kale"},"score":0,"creation_date":1372878651,"post_id":17456090,"comment_id":25362875,"body_markdown":"Do you mean arrayList?","body":"Do you mean arrayList?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1372878776,"post_id":17456090,"comment_id":25362928,"body_markdown":"That won&#39;t compile as it appears now...","body":"That won&#39;t compile as it appears now..."},{"owner":{"account_id":2841865,"reputation":979,"user_id":2441317,"accept_rate":58,"display_name":"Jony Kale"},"score":0,"creation_date":1372878868,"post_id":17456090,"comment_id":25362973,"body_markdown":"@Jim Garrison changed it.","body":"@Jim Garrison changed it."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1372878880,"post_id":17456090,"comment_id":25362984,"body_markdown":"Still broken... need [][]","body":"Still broken... need [][]"},{"owner":{"account_id":2841865,"reputation":979,"user_id":2441317,"accept_rate":58,"display_name":"Jony Kale"},"score":0,"creation_date":1372879143,"post_id":17456090,"comment_id":25363125,"body_markdown":"Oh, cause two way arrays, I always forget that, thanks. But all the methods above, I want the system to know the correct answer, without duplicating the array.","body":"Oh, cause two way arrays, I always forget that, thanks. But all the methods above, I want the system to know the correct answer, without duplicating the array."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372878131,"creation_date":1372878131,"answer_id":17456111,"question_id":17456090,"body_markdown":"See [`Random`][1] class javadoc and checkout  `Set&lt;Integer&gt;`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Random.html","title":"Java select a random item from a multi array &amp; not over use it again?","body":"<p>See <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Random.html\" rel=\"nofollow\"><code>Random</code></a> class javadoc and checkout  <code>Set&lt;Integer&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":2914290,"reputation":812,"user_id":2497852,"display_name":"Marco Corona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372880819,"creation_date":1372878487,"answer_id":17456214,"question_id":17456090,"body_markdown":"You could create an arrayList that indexes the question and has a boolean value, that points to if it has been asked or not. And to see when the game ends, just create a variable that is equal to questions.length and iterate that many times.\r\n\r\nIf you are against using an arrayList you could just add a 3rd row to your array:\r\n\r\n    private String[][] questions = \r\n    {\r\n        {&quot;Sky&#39;s color is black&quot;, &quot;false&quot;, &quot;false&quot;},\r\n        {&quot;The earth is round.&quot;, &quot;true&quot;, &quot;false&quot;}, \r\n        {&quot;Google is written in PHP&quot;, &quot;false&quot;, &quot;false&quot;},\r\n        {&quot;This program is written in JAVA&quot;, &quot;true&quot;, &quot;false&quot;}, \r\n        {&quot;Daniel is white&quot;, &quot;true&quot;, &quot;false&quot;}\r\n    };\r\n\r\nThe last row can point to if the question was accessed. Just to clear things up for the first question &quot;Sky&#39;s color is black&quot;:\r\n\r\n    questionAsked = questions[0][0]\r\n    answer = questions[0][1]\r\n    ifAsked = questions[0][2]","title":"Java select a random item from a multi array &amp; not over use it again?","body":"<p>You could create an arrayList that indexes the question and has a boolean value, that points to if it has been asked or not. And to see when the game ends, just create a variable that is equal to questions.length and iterate that many times.</p>\n\n<p>If you are against using an arrayList you could just add a 3rd row to your array:</p>\n\n<pre><code>private String[][] questions = \n{\n    {\"Sky's color is black\", \"false\", \"false\"},\n    {\"The earth is round.\", \"true\", \"false\"}, \n    {\"Google is written in PHP\", \"false\", \"false\"},\n    {\"This program is written in JAVA\", \"true\", \"false\"}, \n    {\"Daniel is white\", \"true\", \"false\"}\n};\n</code></pre>\n\n<p>The last row can point to if the question was accessed. Just to clear things up for the first question \"Sky's color is black\":</p>\n\n<pre><code>questionAsked = questions[0][0]\nanswer = questions[0][1]\nifAsked = questions[0][2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1372881523,"creation_date":1372878831,"answer_id":17456313,"question_id":17456090,"body_markdown":"By far the simplest way to achieve this (but not what I recommend) is to use an `Arraylist` of `String`s and then remove the used questions as you go\r\n\r\n    public class Test { \r\n        public static void main(String[] args) { \r\n            \r\n            Random rnd=new Random();\r\n            ArrayList&lt;String&gt; questions = new ArrayList&lt;String&gt;();\r\n            ArrayList&lt;Boolean&gt; answers = new ArrayList&lt;Boolean&gt;();\r\n\r\n            questions.add(&quot;Question 1&quot;);\r\n            answers.add(true);\r\n            \r\n            questions.add(&quot;Question 2&quot;);\r\n            answers.add(false);\r\n            \r\n            while (array.isEmpty()==false){\r\n                int index=rnd.nextInt(questions.size());\r\n                \r\n                String question=questions.get(index);\r\n                boolean answer=answers.get(index);\r\n\r\n                questions.remove(index);\r\n                answer.remove(index);\r\n\r\n                //do whatever with the question\r\n            }\r\n            \r\n      \r\n        }\r\n    \r\n    }\r\n\r\n&lt;br&gt;\r\n\r\n**Object orientated alternative**  \r\nA nicer object orientated way to do this, however, would be to create an object to hold the question and answer together\r\n\r\n    public class QAndA {\r\n        public final String question; \r\n        public final boolean answer;\r\n    \r\n        public QAndA(String question, boolean answer) {\r\n            this.question = question;\r\n            this.answer = answer;\r\n        }\r\n        \r\n        \r\n    }\r\n\r\nAnd then hold those objects in an `Arraylist`\r\n\r\n    public class Test { \r\n        public static void main(String[] args) { \r\n            \r\n            Random rnd=new Random();\r\n            \r\n            ArrayList&lt;QAndA&gt; array = new ArrayList&lt;QAndA&gt;();\r\n            \r\n            array.add(new QAndA(&quot;Question 1&quot;,true));\r\n            array.add(new QAndA(&quot;Question 2&quot;,true));\r\n            \r\n            \r\n            while (array.isEmpty()==false){\r\n                int index=rnd.nextInt(array.size());\r\n                \r\n                QAndA question=array.get(index);\r\n                array.remove(index);\r\n                \r\n                //do whatever with the question\r\n            }\r\n            \r\n      \r\n        }\r\n    \r\n    }\r\n\r\nRemoving objects from an `Arraylist` is not a very quick option but given that the `Arraylist` is probably short this is unlikely to be an important factor. If it is consider some of the other collections. The fields in `QAndA` are declared `public` as the `QAndA` class is a glorified struct, again consider whether this is appropriate dependant on your usage.","title":"Java select a random item from a multi array &amp; not over use it again?","body":"<p>By far the simplest way to achieve this (but not what I recommend) is to use an <code>Arraylist</code> of <code>String</code>s and then remove the used questions as you go</p>\n\n<pre><code>public class Test { \n    public static void main(String[] args) { \n\n        Random rnd=new Random();\n        ArrayList&lt;String&gt; questions = new ArrayList&lt;String&gt;();\n        ArrayList&lt;Boolean&gt; answers = new ArrayList&lt;Boolean&gt;();\n\n        questions.add(\"Question 1\");\n        answers.add(true);\n\n        questions.add(\"Question 2\");\n        answers.add(false);\n\n        while (array.isEmpty()==false){\n            int index=rnd.nextInt(questions.size());\n\n            String question=questions.get(index);\n            boolean answer=answers.get(index);\n\n            questions.remove(index);\n            answer.remove(index);\n\n            //do whatever with the question\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p><br></p>\n\n<p><strong>Object orientated alternative</strong><br>\nA nicer object orientated way to do this, however, would be to create an object to hold the question and answer together</p>\n\n<pre><code>public class QAndA {\n    public final String question; \n    public final boolean answer;\n\n    public QAndA(String question, boolean answer) {\n        this.question = question;\n        this.answer = answer;\n    }\n\n\n}\n</code></pre>\n\n<p>And then hold those objects in an <code>Arraylist</code></p>\n\n<pre><code>public class Test { \n    public static void main(String[] args) { \n\n        Random rnd=new Random();\n\n        ArrayList&lt;QAndA&gt; array = new ArrayList&lt;QAndA&gt;();\n\n        array.add(new QAndA(\"Question 1\",true));\n        array.add(new QAndA(\"Question 2\",true));\n\n\n        while (array.isEmpty()==false){\n            int index=rnd.nextInt(array.size());\n\n            QAndA question=array.get(index);\n            array.remove(index);\n\n            //do whatever with the question\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>Removing objects from an <code>Arraylist</code> is not a very quick option but given that the <code>Arraylist</code> is probably short this is unlikely to be an important factor. If it is consider some of the other collections. The fields in <code>QAndA</code> are declared <code>public</code> as the <code>QAndA</code> class is a glorified struct, again consider whether this is appropriate dependant on your usage.</p>\n"},{"tags":[],"owner":{"account_id":480008,"reputation":3745,"user_id":892994,"accept_rate":71,"display_name":"erencan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635937171,"creation_date":1372879424,"answer_id":17456478,"question_id":17456090,"body_markdown":"You can insert Objects to a Set, it can be [HashSet][1]. A Set will maintain list of unique items. HashSet will maintain unique set of question objects. I also override equals method since it is called by HashSet fo uniqueness. \r\n\r\n          public class Test { \r\n            public static void main(String[] args)\r\n          { \r\n    \r\n         HashSet&lt;Question&gt; setOfItems = new HashSet&lt;String&gt;();\r\n            setOfItems.add(new Question(&quot;Sky&#39;s color is black&quot;,true));\r\n            setOfItems.add(new Question(&quot;The earth is round.&quot;,false));\r\n            setOfItems.add(new Question(&quot;Google is written in PHP&quot;,false));\r\n            setOfItems.add(new Question(&quot;This program is written in JAVA&quot;,true));\r\n            setOfItems.add(new Question(&quot;Daniel is white&quot;,false));\r\n            \r\n           while(!setOfItems.isEmpty())\r\n           {\r\n                Question selectedQuestion = selectRandomQuestion(setOfItems);\r\n                //DO whatever needed.\r\n           }\r\n         public Question selectRandomQuestion(HashSet&lt;Question&gt; setOfItems) {\r\n            String result = null;\r\n            if(setOfItems.size() &gt;0)\r\n            {\r\n                Random generator = new Random( );\r\n                int index = generator.nextInt( setOfItems.size() );\r\n                Iterator&lt;Question&gt; i = setOfItems.iterator(); \r\n                \r\n                while(index&lt;0)\r\n                {\r\n                     result = i.next();\r\n                     index--;\r\n                }\r\n                setOfItems.remove(result); //Remove from Set\r\n                \r\n             }\r\n             return current;\r\n         }\r\n       }\r\n    }\r\n \r\n\r\n    public class Question\r\n            {\r\n                  private String question;\r\n                  private boolean answer;\r\n                  public Question(String question, boolean answer)\r\n                  {\r\n                       this.question = question;\r\n                       this.answer = answer;\r\n                  }\r\n                  @Override\r\n                  public boolean equals(Question q)\r\n                  {\r\n                       return this.question.equals(q.getQuestion());\r\n                  }\r\n                  //Getter Setters\r\n            }\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html\r\n","title":"Java select a random item from a multi array &amp; not over use it again?","body":"<p>You can insert Objects to a Set, it can be <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\">HashSet</a>. A Set will maintain list of unique items. HashSet will maintain unique set of question objects. I also override equals method since it is called by HashSet fo uniqueness.</p>\n<pre><code>      public class Test { \n        public static void main(String[] args)\n      { \n\n     HashSet&lt;Question&gt; setOfItems = new HashSet&lt;String&gt;();\n        setOfItems.add(new Question(&quot;Sky's color is black&quot;,true));\n        setOfItems.add(new Question(&quot;The earth is round.&quot;,false));\n        setOfItems.add(new Question(&quot;Google is written in PHP&quot;,false));\n        setOfItems.add(new Question(&quot;This program is written in JAVA&quot;,true));\n        setOfItems.add(new Question(&quot;Daniel is white&quot;,false));\n        \n       while(!setOfItems.isEmpty())\n       {\n            Question selectedQuestion = selectRandomQuestion(setOfItems);\n            //DO whatever needed.\n       }\n     public Question selectRandomQuestion(HashSet&lt;Question&gt; setOfItems) {\n        String result = null;\n        if(setOfItems.size() &gt;0)\n        {\n            Random generator = new Random( );\n            int index = generator.nextInt( setOfItems.size() );\n            Iterator&lt;Question&gt; i = setOfItems.iterator(); \n            \n            while(index&lt;0)\n            {\n                 result = i.next();\n                 index--;\n            }\n            setOfItems.remove(result); //Remove from Set\n            \n         }\n         return current;\n     }\n   }\n}\n\n\npublic class Question\n        {\n              private String question;\n              private boolean answer;\n              public Question(String question, boolean answer)\n              {\n                   this.question = question;\n                   this.answer = answer;\n              }\n              @Override\n              public boolean equals(Question q)\n              {\n                   return this.question.equals(q.getQuestion());\n              }\n              //Getter Setters\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2552324,"reputation":1621,"user_id":2215858,"display_name":"Wisienkas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372880072,"creation_date":1372880072,"answer_id":17456660,"question_id":17456090,"body_markdown":"You could make it somewhat object oriented by making a class representing each question and a class to draw random questions.\r\n\r\n\r\nThe class representing the question\r\n    public class Question{\r\n\t\r\n\tprivate boolean notShown = true;\r\n\tprivate String question;\r\n\t\r\n\tpublic Question(String s){\r\n\t\t\r\n\t\tthis.question = s;\r\n\t}\r\n\tpublic boolean isNotShown(){\r\n\t\t\r\n\t\treturn notShown;\r\n\t}\r\n\tpublic String GetQuestion(){\r\n\t\t\r\n\t\t\r\n\t\tnotShown = false;\r\n\t\treturn question;\r\n\t}\r\n\t\r\n\tpublic void setQuestionNotSeen(){\r\n\t\t\r\n\t\tnotShown = true;\r\n\t}\r\n    }\r\n\r\nThe class representing the draw\r\n\r\n    public class QuestionLister {\r\n\t\r\n\t\r\n\tprivate ArrayList&lt;Question&gt; listOfQuestions;\r\n\t\r\n\tpublic QuestionLister() {\r\n\t\t\r\n\t\tlistOfQuestions = new ArrayList&lt;&gt;(0);\r\n\t\t\r\n\t}\r\n\tpublic QuestionLister(String s) {\r\n\t\t\r\n\t\tlistOfQuestions = new ArrayList&lt;&gt;(0);\r\n\t\tlistOfQuestions.add(new Question(s));\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void addQuestion(String s){\r\n\t\t\r\n\t\tlistOfQuestions.add(new Question(s));\r\n\t}\r\n\t\r\n\tpublic String getRandomQuestion(){\r\n\t\tint r;\r\n\t\tboolean allSeen = true;\r\n\t\t\r\n\t\tfor (Question question : listOfQuestions) {\r\n\t\t\t\r\n\t\t\tif(question.isNotShown()){\r\n\t\t\t\t\r\n\t\t\t\tallSeen = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(!allSeen){\r\n\t\t\tdo{\r\n\t\t\t\tr = (int) Math.random() * listOfQuestions.size();\r\n\t\t\t\t\r\n\t\t\t} while(!listOfQuestions.get(r).isNotShown());\r\n\t\t\t\r\n\t\t\treturn(listOfQuestions.get(r).GetQuestion());\r\n\t\t}\r\n\r\n\t\treturn &quot;All questions shown&quot;;\r\n\t}\r\n\t\r\n\tpublic void setAllQuestionsNotSeen(){\r\n\t\r\n\t\tfor (Question question : listOfQuestions) {\r\n\t\t\tquestion.setQuestionNotSeen();\r\n\t\t}\r\n\t}\r\n    }","title":"Java select a random item from a multi array &amp; not over use it again?","body":"<p>You could make it somewhat object oriented by making a class representing each question and a class to draw random questions.</p>\n\n<p>The class representing the question\n    public class Question{</p>\n\n<pre><code>private boolean notShown = true;\nprivate String question;\n\npublic Question(String s){\n\n    this.question = s;\n}\npublic boolean isNotShown(){\n\n    return notShown;\n}\npublic String GetQuestion(){\n\n\n    notShown = false;\n    return question;\n}\n\npublic void setQuestionNotSeen(){\n\n    notShown = true;\n}\n}\n</code></pre>\n\n<p>The class representing the draw</p>\n\n<pre><code>public class QuestionLister {\n\n\nprivate ArrayList&lt;Question&gt; listOfQuestions;\n\npublic QuestionLister() {\n\n    listOfQuestions = new ArrayList&lt;&gt;(0);\n\n}\npublic QuestionLister(String s) {\n\n    listOfQuestions = new ArrayList&lt;&gt;(0);\n    listOfQuestions.add(new Question(s));\n\n}\n\n\npublic void addQuestion(String s){\n\n    listOfQuestions.add(new Question(s));\n}\n\npublic String getRandomQuestion(){\n    int r;\n    boolean allSeen = true;\n\n    for (Question question : listOfQuestions) {\n\n        if(question.isNotShown()){\n\n            allSeen = false;\n        }\n    }\n\n    if(!allSeen){\n        do{\n            r = (int) Math.random() * listOfQuestions.size();\n\n        } while(!listOfQuestions.get(r).isNotShown());\n\n        return(listOfQuestions.get(r).GetQuestion());\n    }\n\n    return \"All questions shown\";\n}\n\npublic void setAllQuestionsNotSeen(){\n\n    for (Question question : listOfQuestions) {\n        question.setQuestionNotSeen();\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372887703,"creation_date":1372887703,"answer_id":17458586,"question_id":17456090,"body_markdown":"Removing previously selected items from ArrayLists, as suggested by others, could work.  An alternate solution is to shuffle your Array, and then just iterate through it.  Once you get to the end, you&#39;ll have touched each question once and in a random order. ","title":"Java select a random item from a multi array &amp; not over use it again?","body":"<p>Removing previously selected items from ArrayLists, as suggested by others, could work.  An alternate solution is to shuffle your Array, and then just iterate through it.  Once you get to the end, you'll have touched each question once and in a random order. </p>\n"}],"owner":{"account_id":2841865,"reputation":979,"user_id":2441317,"accept_rate":58,"display_name":"Jony Kale"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":17456313,"answer_count":6,"score":3,"last_activity_date":1635937171,"creation_date":1372878039,"question_id":17456090,"body_markdown":"\t\tprivate String[][] questions = \r\n\t\t{\r\n\t\t\t{&quot;Sky&#39;s color is black&quot;, &quot;false&quot;},\r\n\t\t\t{&quot;The earth is round.&quot;, &quot;true&quot;}, \r\n\t\t\t{&quot;Google is written in PHP&quot;, &quot;false&quot;},\r\n\t\t\t{&quot;This program is written in JAVA&quot;, &quot;true&quot;}, \r\n\t\t\t{&quot;Daniel is white&quot;, &quot;true&quot;}\r\n\t\t};\r\n\t\t\r\n\t\tpublic void selectRandomQuestion() {\r\n\t\t\t\r\n\t\t}\r\n\r\nI want the system to select a random question from the array, and after it&#39;s selected, I want to print it + make the system remember that this question already was printed, so the system won&#39;t select that question again.\r\n\r\nExample:\r\n\r\n*I got the question &quot;Google is written in PHP&quot;, answered it, now I can not get this question anymore.\r\nAfter I run out of questions, system will turn `boolean game to false`, so the game will end.*\r\n\r\n***How can I do this?***","title":"Java select a random item from a multi array &amp; not over use it again?","body":"<pre><code>    private String[][] questions = \n    {\n        {\"Sky's color is black\", \"false\"},\n        {\"The earth is round.\", \"true\"}, \n        {\"Google is written in PHP\", \"false\"},\n        {\"This program is written in JAVA\", \"true\"}, \n        {\"Daniel is white\", \"true\"}\n    };\n\n    public void selectRandomQuestion() {\n\n    }\n</code></pre>\n\n<p>I want the system to select a random question from the array, and after it's selected, I want to print it + make the system remember that this question already was printed, so the system won't select that question again.</p>\n\n<p>Example:</p>\n\n<p><em>I got the question \"Google is written in PHP\", answered it, now I can not get this question anymore.\nAfter I run out of questions, system will turn <code>boolean game to false</code>, so the game will end.</em></p>\n\n<p><em><strong>How can I do this?</em></strong></p>\n"},{"tags":["java","hibernate","orm","jpql"],"comments":[{"owner":{"account_id":441399,"reputation":2957,"user_id":831472,"accept_rate":76,"display_name":"Jack"},"score":0,"creation_date":1384965204,"post_id":20098496,"comment_id":29951018,"body_markdown":"Maybe selecting the whole objects with a simple &quot;FROM Super s&quot; query is an option for you. You could then handle the different cases in your java code.","body":"Maybe selecting the whole objects with a simple &quot;FROM Super s&quot; query is an option for you. You could then handle the different cases in your java code."}],"answers":[{"tags":[],"owner":{"account_id":480008,"reputation":3745,"user_id":892994,"accept_rate":71,"display_name":"erencan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635937151,"creation_date":1384957807,"answer_id":20098637,"question_id":20098496,"body_markdown":"Mapping strategies should be defined if hibernate inheritance mapping wanted to be used.\r\n\r\nThere are 3 inheritance strategies\r\n\r\n - The Table per Concrete Class Strategy\r\n - The Joined Subclass Strategy\r\n - Single Table Strategy\r\n\r\n\r\nYou should add `@Inheritance` annotation and select one of inheritance strategies above according to your needs and database structure.\r\n\r\n**See also**\r\n\r\n[Entity inheritance][5] \r\n\r\n[Hibernate inheritance mapping][6]\r\n\r\n\r\n\r\n  [5]: http://docs.oracle.com/javaee/6/tutorial/doc/bnbqn.html\r\n  [6]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/inheritance.html","title":"When accessing attribute of subtype, Hibernate skips instances of supertype","body":"<p>Mapping strategies should be defined if hibernate inheritance mapping wanted to be used.</p>\n<p>There are 3 inheritance strategies</p>\n<ul>\n<li>The Table per Concrete Class Strategy</li>\n<li>The Joined Subclass Strategy</li>\n<li>Single Table Strategy</li>\n</ul>\n<p>You should add <code>@Inheritance</code> annotation and select one of inheritance strategies above according to your needs and database structure.</p>\n<p><strong>See also</strong></p>\n<p><a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnbqn.html\" rel=\"nofollow noreferrer\">Entity inheritance</a></p>\n<p><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/inheritance.html\" rel=\"nofollow noreferrer\">Hibernate inheritance mapping</a></p>\n"}],"owner":{"account_id":341021,"reputation":1878,"user_id":671373,"display_name":"maosmurf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635937151,"creation_date":1384957470,"question_id":20098496,"body_markdown":"Given the following model\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class Super {\r\n        private int id;\r\n        private String general;\r\n        //...\r\n    }\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @PrimaryKeyJoinColumn(name=&quot;ID&quot;)\r\n    public class Sub extends Super {\r\n        private String special;\r\n        //...\r\n    }\r\n\r\nAnd the following data\r\n\r\n    +----+----------+\r\n    |  Super        |\r\n    +---------------+\r\n    | id | general  |\r\n    +---------------+\r\n    |  1 | General1 |\r\n    |  2 | General2 |\r\n    +----+----------+\r\n    \r\n    +----+----------+\r\n    |  Sub          |\r\n    +---------------+\r\n    | id | special  |\r\n    +---------------+\r\n    |  2 | Special2 |\r\n    +----+----------+\r\n\r\nUsing Hibernate 3.6.5, I want to achieve the following:\r\n\r\nReturn Sub.special, if available, otherwise Super.general.\r\n\r\nSo I wrote\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT \r\n      s.id,\r\n      CASE TYPE(s)\r\n        WHEN Sub THEN s.special\r\n        ELSE s.general\r\n      END\r\n    FROM Super s\r\n\r\nMy expected result was\r\n\r\n    +---------------+\r\n    |  1 | General1 |\r\n    |  2 | Special2 |\r\n    +----+----------+\r\n\r\nBut what was actually returned was only\r\n\r\n    +---------------+\r\n    |  2 | Special2 |\r\n    +----+----------+\r\n\r\nSo instances of supertype are not included in the result.\r\nApparently, this is because an attribute of the subtype is used somewhere in the SELECT clause.\r\n\r\nAny ideas, how to get the expected result as above, without using a subquery or an outer join?\r\n\r\nEDIT3 / clarification:\r\n\r\nWhen using CASE TYPE and selecting something that is not bound to the subtype, all works perfectly.\r\n\r\n    SELECT \r\n      s.id,\r\n      CASE TYPE(s)\r\n        WHEN Sub THEN  &#39;Hooray, I&#39;m a sub-instance&#39;\r\n        ELSE &#39;Shoot, I&#39;m no sub-instance&#39;\r\n      END\r\n    FROM Super s \r\n\r\nleads to\r\n\r\n    +----------------+\r\n    |  1 | Shoot...  |\r\n    |  2 | Hooray... |\r\n    +----+-----------+\r\n\r\nI do not need static text but the value of a property of subclass here.\r\n\r\n* EDIT1: added @Inheritance to super- and subclass.\r\n* EDIT2: added @PrimaryKeyJoinColumn\r\n* EDIT3: added SELECT that does not use property of subclass, s.t. both tuples are returned.\r\n","title":"When accessing attribute of subtype, Hibernate skips instances of supertype","body":"<p>Given the following model</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Super {\n    private int id;\n    private String general;\n    //...\n}\n\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\n@PrimaryKeyJoinColumn(name=\"ID\")\npublic class Sub extends Super {\n    private String special;\n    //...\n}\n</code></pre>\n\n<p>And the following data</p>\n\n<pre><code>+----+----------+\n|  Super        |\n+---------------+\n| id | general  |\n+---------------+\n|  1 | General1 |\n|  2 | General2 |\n+----+----------+\n\n+----+----------+\n|  Sub          |\n+---------------+\n| id | special  |\n+---------------+\n|  2 | Special2 |\n+----+----------+\n</code></pre>\n\n<p>Using Hibernate 3.6.5, I want to achieve the following:</p>\n\n<p>Return Sub.special, if available, otherwise Super.general.</p>\n\n<p>So I wrote</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \n  s.id,\n  CASE TYPE(s)\n    WHEN Sub THEN s.special\n    ELSE s.general\n  END\nFROM Super s\n</code></pre>\n\n<p>My expected result was</p>\n\n<pre><code>+---------------+\n|  1 | General1 |\n|  2 | Special2 |\n+----+----------+\n</code></pre>\n\n<p>But what was actually returned was only</p>\n\n<pre><code>+---------------+\n|  2 | Special2 |\n+----+----------+\n</code></pre>\n\n<p>So instances of supertype are not included in the result.\nApparently, this is because an attribute of the subtype is used somewhere in the SELECT clause.</p>\n\n<p>Any ideas, how to get the expected result as above, without using a subquery or an outer join?</p>\n\n<p>EDIT3 / clarification:</p>\n\n<p>When using CASE TYPE and selecting something that is not bound to the subtype, all works perfectly.</p>\n\n<pre><code>SELECT \n  s.id,\n  CASE TYPE(s)\n    WHEN Sub THEN  'Hooray, I'm a sub-instance'\n    ELSE 'Shoot, I'm no sub-instance'\n  END\nFROM Super s \n</code></pre>\n\n<p>leads to</p>\n\n<pre><code>+----------------+\n|  1 | Shoot...  |\n|  2 | Hooray... |\n+----+-----------+\n</code></pre>\n\n<p>I do not need static text but the value of a property of subclass here.</p>\n\n<ul>\n<li>EDIT1: added @Inheritance to super- and subclass.</li>\n<li>EDIT2: added @PrimaryKeyJoinColumn</li>\n<li>EDIT3: added SELECT that does not use property of subclass, s.t. both tuples are returned.</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23208168,"reputation":3,"user_id":17302060,"display_name":"Robert Wilson"},"score":0,"creation_date":1635866232,"post_id":69812705,"comment_id":123403651,"body_markdown":"[This question](https://stackoverflow.com/questions/29706653/morse-code-translatorsimple) is of a similar vain and should help you along the way!","body":"<a href=\"https://stackoverflow.com/questions/29706653/morse-code-translatorsimple\">This question</a> is of a similar vain and should help you along the way!"}],"answers":[{"tags":[],"owner":{"account_id":16124089,"reputation":46,"user_id":11639311,"display_name":"WBoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635937040,"creation_date":1635867245,"answer_id":69813031,"question_id":69812705,"body_markdown":"Okay so,\r\n\r\nYou don&#39;t actually have to loop through both arrays. \r\nIts enough to loop through the first one (containing the letters)\r\nlike here: \r\n```\r\nfor(int i = 0; i &lt; tLettre.length(); i++){\r\n   // Here the other code\r\n}\r\n```\r\nInside there you should compare the given letter (from the user) with the one in your Array at the index i (tLettre[i]). \r\nIf it is the correct/matching letter then you got the correct index (since both arrays are sorted the same way). \r\n\r\nThen you can access the morse String by writing tMorse[i]\r\nand print it to the console like System.out.println(tMorse[i]).\r\n\r\nSince that&#39;s and assignment, i didn&#39;t wrote the complete code.\r\nI hope that still helps.\r\n\r\nJust say if there are any further questions.\r\n\r\nhave much success and fun","title":"Letter to morse code translator (programs that ask for a letter and then gives the corresponding morse code)","body":"<p>Okay so,</p>\n<p>You don't actually have to loop through both arrays.\nIts enough to loop through the first one (containing the letters)\nlike here:</p>\n<pre><code>for(int i = 0; i &lt; tLettre.length(); i++){\n   // Here the other code\n}\n</code></pre>\n<p>Inside there you should compare the given letter (from the user) with the one in your Array at the index i (tLettre[i]).\nIf it is the correct/matching letter then you got the correct index (since both arrays are sorted the same way).</p>\n<p>Then you can access the morse String by writing tMorse[i]\nand print it to the console like System.out.println(tMorse[i]).</p>\n<p>Since that's and assignment, i didn't wrote the complete code.\nI hope that still helps.</p>\n<p>Just say if there are any further questions.</p>\n<p>have much success and fun</p>\n"}],"owner":{"account_id":23218159,"reputation":7,"user_id":17310804,"display_name":"Alex d&#39;Astous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69813031,"answer_count":1,"score":0,"last_activity_date":1635937040,"creation_date":1635865990,"question_id":69812705,"body_markdown":"i&#39;m kinda new to Java so and currently studying it at school, but yeah on one of our assignments they asked us to create a program that reads a letter given by a user and then gives the corresponding morse code. They also specified that we have to use 2 arrays, one with the 26 letters of the alphabet and one with their corresponding morse codes for that assignment. Where i&#39;m stuck is I dunno how to make the program look through 2 arrays and make it understand that the first index of the first array equals the first index of the second array, and etc. \r\n\r\nHeere&#39;s my code so far (and yes its in french because i&#39;m in a french speaking province and school so if you need clarification on my code, just lemme know):\r\n```\r\nimport javax.swing.JOptionPane;\r\n\r\n/**\r\n *\r\n * @author alex_\r\n */\r\npublic class Morse {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        \r\n        char lettre = &#39; &#39;;\r\n        \r\n        char tLettre[] = {&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,\r\n            &#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;};\r\n        String tMorse[] = {&quot;.-&quot;,&quot;-...&quot;,&quot;-.-.&quot;,&quot;-..&quot;,&quot;.&quot;,&quot;..-.&quot;,&quot;--.&quot;,&quot;....&quot;,&quot;..&quot;,\r\n               &quot;.---&quot;,&quot;-.-&quot;,&quot;.-..&quot;,&quot;--&quot;,&quot;-.&quot;,&quot;---&quot;,&quot;.--.&quot;,&quot;--.-&quot;,&quot;.-.&quot;,&quot;...&quot;,&quot;-&quot;,\r\n               &quot;..-&quot;,&quot;...-&quot;,&quot;.--&quot;,&quot;-..-&quot;,&quot;-.--&quot;,&quot;--..&quot;};\r\n        \r\n        lettre = JOptionPane.showInputDialog(&quot;Entrez la lettre que vous voulez traduire: &quot;).charAt(0);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nSo yeah sorry for my english if it&#39;s not that good","title":"Letter to morse code translator (programs that ask for a letter and then gives the corresponding morse code)","body":"<p>i'm kinda new to Java so and currently studying it at school, but yeah on one of our assignments they asked us to create a program that reads a letter given by a user and then gives the corresponding morse code. They also specified that we have to use 2 arrays, one with the 26 letters of the alphabet and one with their corresponding morse codes for that assignment. Where i'm stuck is I dunno how to make the program look through 2 arrays and make it understand that the first index of the first array equals the first index of the second array, and etc.</p>\n<p>Heere's my code so far (and yes its in french because i'm in a french speaking province and school so if you need clarification on my code, just lemme know):</p>\n<pre><code>import javax.swing.JOptionPane;\n\n/**\n *\n * @author alex_\n */\npublic class Morse {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        \n        char lettre = ' ';\n        \n        char tLettre[] = {'A','B','C','D','E','F','G','H','I','J','K','L','M','N',\n            'O','P','Q','R','S','T','U','V','W','X','Y','Z'};\n        String tMorse[] = {&quot;.-&quot;,&quot;-...&quot;,&quot;-.-.&quot;,&quot;-..&quot;,&quot;.&quot;,&quot;..-.&quot;,&quot;--.&quot;,&quot;....&quot;,&quot;..&quot;,\n               &quot;.---&quot;,&quot;-.-&quot;,&quot;.-..&quot;,&quot;--&quot;,&quot;-.&quot;,&quot;---&quot;,&quot;.--.&quot;,&quot;--.-&quot;,&quot;.-.&quot;,&quot;...&quot;,&quot;-&quot;,\n               &quot;..-&quot;,&quot;...-&quot;,&quot;.--&quot;,&quot;-..-&quot;,&quot;-.--&quot;,&quot;--..&quot;};\n        \n        lettre = JOptionPane.showInputDialog(&quot;Entrez la lettre que vous voulez traduire: &quot;).charAt(0);\n    }\n    \n}\n</code></pre>\n<p>So yeah sorry for my english if it's not that good</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1635924715,"post_id":69818300,"comment_id":123418732,"body_markdown":"you use `setContentView(R.layout.home_screen);` and then you use `beginTransaction` to swap out fragments. findViewById will try to find the view on on the activity, not on the fragment.","body":"you use <code>setContentView(R.layout.home_screen);</code> and then you use <code>beginTransaction</code> to swap out fragments. findViewById will try to find the view on on the activity, not on the fragment."},{"owner":{"account_id":21730523,"reputation":97,"user_id":16039337,"display_name":"noobieCoder"},"score":0,"creation_date":1635927658,"post_id":69818300,"comment_id":123419673,"body_markdown":"should i just begin the transaction after the cardviews listeners? or should i just declare these cardviews inside the HomeFragment instead?","body":"should i just begin the transaction after the cardviews listeners? or should i just declare these cardviews inside the HomeFragment instead?"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1635927741,"post_id":69818300,"comment_id":123419699,"body_markdown":"`should i just begin the transaction after the cardviews listeners?` that would make no difference, the view you&#39;re trying to find _wont be found_  because you&#39;re not looking for it in the right place. if it&#39;s on the fragment, trying to find it on the activity won&#39;t work, regardless of order","body":"<code>should i just begin the transaction after the cardviews listeners?</code> that would make no difference, the view you&#39;re trying to find <i>wont be found</i>  because you&#39;re not looking for it in the right place. if it&#39;s on the fragment, trying to find it on the activity won&#39;t work, regardless of order"}],"answers":[{"tags":[],"owner":{"account_id":15112930,"reputation":11,"user_id":10906357,"display_name":"Richard Joel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635902314,"creation_date":1635902314,"answer_id":69818639,"question_id":69818300,"body_markdown":"I am almost certain what error is in the reference of your xml:\r\n\r\n    tools:context=&quot;.HomeFragment&quot;\r\n\r\nShould to be:\r\n\r\n    tools:context=&quot;.HomeScreen&quot;\r\n\r\nAre you sure this xml belongs to your activity HomeScreen?\r\n\r\nThe java code belongs to an activity and its xml belongs to a Fragment.","title":"CardView onClick java.lang.NullPointerException","body":"<p>I am almost certain what error is in the reference of your xml:</p>\n<pre><code>tools:context=&quot;.HomeFragment&quot;\n</code></pre>\n<p>Should to be:</p>\n<pre><code>tools:context=&quot;.HomeScreen&quot;\n</code></pre>\n<p>Are you sure this xml belongs to your activity HomeScreen?</p>\n<p>The java code belongs to an activity and its xml belongs to a Fragment.</p>\n"},{"tags":[],"owner":{"account_id":21730523,"reputation":97,"user_id":16039337,"display_name":"noobieCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635936950,"creation_date":1635934794,"answer_id":69823159,"question_id":69818300,"body_markdown":"I just declared the cardviews in my HomeFragment.\r\n\r\n    @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view = inflater.inflate(R.layout.fragment_home, container, false);\r\n            //Card views.\r\n            satList = (CardView) view.findViewById(R.id.crdList);\r\n            addSat = (CardView) view.findViewById(R.id.crdForm);\r\n            satType = (CardView) view.findViewById(R.id.crdSatTypes);\r\n            satCountries = (CardView) view.findViewById(R.id.crdCountries);\r\n            aboutMe = (CardView) view.findViewById(R.id.crdAboutMe);\r\n            goCrazy = (CardView) view.findViewById(R.id.crdGoCrayCraaaaay);\r\n            //listeners\r\n            satList.setOnClickListener(this::onClick);\r\n            //addSat.setOnClickListener(this);\r\n            //satType.setOnClickListener(this);\r\n            //satCountries.setOnClickListener(this);\r\n            //aboutMe.setOnClickListener(this);\r\n            //goCrazy.setOnClickListener(this);\r\n            return view;\r\n        }\r\n        @Override\r\n        public void onClick(View v){\r\n            switch (v.getId()){\r\n                case R.id.crdList: getParentFragmentManager().beginTransaction().replace(R.id.homeFragment, new ListFragment(dbHelper, db)).commit();\r\n                    break;\r\n            }\r\n        }","title":"CardView onClick java.lang.NullPointerException","body":"<p>I just declared the cardviews in my HomeFragment.</p>\n<pre><code>@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\n        //Card views.\n        satList = (CardView) view.findViewById(R.id.crdList);\n        addSat = (CardView) view.findViewById(R.id.crdForm);\n        satType = (CardView) view.findViewById(R.id.crdSatTypes);\n        satCountries = (CardView) view.findViewById(R.id.crdCountries);\n        aboutMe = (CardView) view.findViewById(R.id.crdAboutMe);\n        goCrazy = (CardView) view.findViewById(R.id.crdGoCrayCraaaaay);\n        //listeners\n        satList.setOnClickListener(this::onClick);\n        //addSat.setOnClickListener(this);\n        //satType.setOnClickListener(this);\n        //satCountries.setOnClickListener(this);\n        //aboutMe.setOnClickListener(this);\n        //goCrazy.setOnClickListener(this);\n        return view;\n    }\n    @Override\n    public void onClick(View v){\n        switch (v.getId()){\n            case R.id.crdList: getParentFragmentManager().beginTransaction().replace(R.id.homeFragment, new ListFragment(dbHelper, db)).commit();\n                break;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21730523,"reputation":97,"user_id":16039337,"display_name":"noobieCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1636214098,"accepted_answer_id":69823159,"answer_count":2,"score":0,"last_activity_date":1635936950,"creation_date":1635898465,"question_id":69818300,"body_markdown":"I am trying to add a click listener for each cardview in a grid layout, but I get the following error.\r\n\r\n&gt; java.lang.RuntimeException: Unable to start activity\r\n&gt; ComponentInfo{com.example.uspherejda/com.example.uspherejda.HomeScreen}:\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method &#39;void\r\n&gt; androidx.cardview.widget.CardView.setOnClickListener(android.view.View$OnClickListener)&#39;\r\n&gt; on a null object reference\r\n&gt; \r\n&gt; \r\n&gt; Caused by: java.lang.NullPointerException: Attempt to invoke virtual\r\n&gt; method &#39;void\r\n&gt; androidx.cardview.widget.CardView.setOnClickListener(android.view.View$OnClickListener)&#39;\r\n&gt; on a null object reference\r\n\r\n\r\n\r\n    \r\n    public class HomeScreen extends AppCompatActivity implements View.OnClickListener{\r\n        //SQL\r\n        private SatFromHelper dbHelper;\r\n        private SQLiteDatabase db;\r\n    \r\n        private CardView satList, addSat, satType, satCountries, aboutMe, goCrazy;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.home_screen);\r\n    \r\n            dbHelper = new SatFromHelper(this);\r\n            db = dbHelper.getWritableDatabase();\r\n            //call the Home fragment\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new HomeFragment()).commit();\r\n            //Set up a custom bar using a custom\r\n            ActionBar actionBar = getSupportActionBar();\r\n            getSupportActionBar().setBackgroundDrawable(new ColorDrawable(getResources().getColor(R.color.start_dark_blue)));\r\n            actionBar.setDisplayShowCustomEnabled(true);\r\n            LayoutInflater layoutInflater = (LayoutInflater) this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            View view = layoutInflater.inflate(R.layout.custom_bar_image, null);\r\n            actionBar.setCustomView(view);\r\n            //Card views.\r\n            satList = (CardView) findViewById(R.id.crdList);\r\n            addSat = (CardView) findViewById(R.id.crdForm);\r\n            satType = (CardView) findViewById(R.id.crdSatTypes);\r\n            satCountries = (CardView) findViewById(R.id.crdCountries);\r\n            aboutMe = (CardView) findViewById(R.id.crdAboutMe);\r\n            goCrazy = (CardView) findViewById(R.id.crdGoCrayCraaaaay);\r\n    \r\n             satList.setOnClickListener(this);\r\n             addSat.setOnClickListener(this);\r\n             satType.setOnClickListener(this);\r\n             satCountries.setOnClickListener(this);\r\n             aboutMe.setOnClickListener(this);\r\n             goCrazy.setOnClickListener(this);\r\n    \r\n            //Bottom Navigation\r\n            BottomNavigationView bottomNav = findViewById(R.id.nav_menu);\r\n            //Item listener when one of hte items below from the nav_bar is selected\r\n            bottomNav.setOnItemSelectedListener(item -&gt; {\r\n                Fragment selectedFragment = null;\r\n                switch(item.getItemId()){\r\n                    case R.id.nav_home:\r\n                        selectedFragment = new HomeFragment();\r\n                        break;\r\n                    case R.id.nav_list:\r\n                        selectedFragment = new ListFragment(dbHelper, db);\r\n                        break;\r\n                    case R.id.nav_add:\r\n                        selectedFragment = new AddFragment(dbHelper, db);\r\n                        break;\r\n                }\r\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, selectedFragment).commit();\r\n                return true;\r\n            });\r\n        }\r\n        @Override\r\n        public void onClick(View v){\r\n            switch (v.getId()){\r\n                case R.id.crdList: startActivity(new Intent(getApplicationContext(), ListFragment.class));\r\n                break;\r\n            }\r\n    \r\n        }\r\n        //Close the db when the activity onDestroy\r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            dbHelper.close();\r\n            db.close();\r\n        }\r\n    }\r\n\r\n\r\nXML code:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/frameLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.HomeFragment&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;My Dashboard&quot;\r\n                        android:textSize=&quot;40sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textColor=&quot;@color/white&quot;\r\n                        android:layout_margin=&quot;20dp&quot; /&gt;\r\n                    &lt;GridLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:rowCount=&quot;4&quot;\r\n                        android:columnCount=&quot;2&quot;\r\n                        android:layout_margin=&quot;5dp&quot;\r\n                        android:alignmentMode=&quot;alignMargins&quot;\r\n                        android:layout_gravity=&quot;center_horizontal&quot;\r\n                        android:columnOrderPreserved=&quot;false&quot;&gt;\r\n                            &lt;androidx.cardview.widget.CardView\r\n                                    android:id=&quot;@+id/crdList&quot;\r\n                                    android:layout_width=&quot;170dp&quot;\r\n                                    android:layout_height=&quot;170dp&quot;\r\n                                    app:cardCornerRadius=&quot;12dp&quot;\r\n                                    app:cardElevation=&quot;5dp&quot;\r\n                                    app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\r\n                                    android:layout_margin=&quot;10dp&quot;&gt;\r\n                            &lt;LinearLayout\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;match_parent&quot;\r\n                                android:orientation=&quot;vertical&quot;\r\n                                android:gravity=&quot;center&quot;&gt;\r\n                                    &lt;ImageView\r\n                                        android:layout_width=&quot;84dp&quot;\r\n                                        android:layout_height=&quot;84dp&quot;\r\n                                        android:src=&quot;@drawable/satdashboard&quot;/&gt;\r\n    \r\n                                    &lt;TextView\r\n                                        android:layout_width=&quot;wrap_content&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        android:text=&quot;Satellite List&quot;\r\n                                        android:textSize=&quot;16sp&quot;\r\n                                        android:layout_marginTop=&quot;20dp&quot;\r\n                                        android:textColor=&quot;@color/white&quot;/&gt;\r\n                            &lt;/LinearLayout&gt;\r\n                            &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                            &lt;androidx.cardview.widget.CardView\r\n                                android:id=&quot;@+id/crdForm&quot;\r\n                                android:layout_width=&quot;170dp&quot;\r\n                                android:layout_height=&quot;170dp&quot;\r\n                                app:cardCornerRadius=&quot;12dp&quot;\r\n                                app:cardElevation=&quot;5dp&quot;\r\n                                app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\r\n                                android:layout_margin=&quot;10dp&quot;&gt;\r\n                                    &lt;LinearLayout\r\n                                        android:layout_width=&quot;match_parent&quot;\r\n                                        android:layout_height=&quot;match_parent&quot;\r\n                                        android:orientation=&quot;vertical&quot;\r\n                                        android:gravity=&quot;center&quot;&gt;\r\n                                            &lt;ImageView\r\n                                                android:layout_marginLeft=&quot;10dp&quot;\r\n                                                android:layout_width=&quot;84dp&quot;\r\n                                                android:layout_height=&quot;84dp&quot;\r\n                                                android:src=&quot;@drawable/formdashboard&quot;/&gt;\r\n    \r\n                                            &lt;TextView\r\n                                                android:layout_width=&quot;wrap_content&quot;\r\n                                                android:layout_height=&quot;wrap_content&quot;\r\n                                                android:text=&quot;Add a Satellite&quot;\r\n                                                android:textSize=&quot;16sp&quot;\r\n                                                android:layout_marginTop=&quot;20dp&quot;\r\n                                                android:textColor=&quot;@color/white&quot;/&gt;\r\n                                    &lt;/LinearLayout&gt;\r\n                            &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                            &lt;androidx.cardview.widget.CardView\r\n                                android:id=&quot;@+id/crdSatTypes&quot;\r\n                                android:layout_width=&quot;170dp&quot;\r\n                                android:layout_height=&quot;170dp&quot;\r\n                                app:cardCornerRadius=&quot;12dp&quot;\r\n                                app:cardElevation=&quot;5dp&quot;\r\n                                app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\r\n                                android:layout_margin=&quot;10dp&quot;&gt;\r\n                            &lt;LinearLayout\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;match_parent&quot;\r\n                                android:orientation=&quot;vertical&quot;\r\n                                android:gravity=&quot;center&quot;&gt;\r\n                                    &lt;ImageView\r\n                                        android:layout_width=&quot;84dp&quot;\r\n                                        android:layout_height=&quot;84dp&quot;\r\n                                        android:src=&quot;@drawable/sattypes&quot;/&gt;\r\n    \r\n                                    &lt;TextView\r\n                                        android:layout_width=&quot;wrap_content&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        android:text=&quot;Types of Satellites&quot;\r\n                                        android:textSize=&quot;16sp&quot;\r\n                                        android:layout_marginTop=&quot;20dp&quot;\r\n                                        android:textColor=&quot;@color/white&quot;/&gt;\r\n                            &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                            &lt;androidx.cardview.widget.CardView\r\n                                android:id=&quot;@+id/crdCountries&quot;\r\n                                android:layout_width=&quot;170dp&quot;\r\n                                android:layout_height=&quot;170dp&quot;\r\n                                android:layout_margin=&quot;10dp&quot;\r\n                                app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\r\n                                app:cardCornerRadius=&quot;12dp&quot;\r\n                                app:cardElevation=&quot;5dp&quot;&gt;\r\n    \r\n                                    &lt;LinearLayout\r\n                                        android:layout_width=&quot;match_parent&quot;\r\n                                        android:layout_height=&quot;match_parent&quot;\r\n                                        android:gravity=&quot;center&quot;\r\n                                        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                                            &lt;ImageView\r\n                                                android:layout_width=&quot;84dp&quot;\r\n                                                android:layout_height=&quot;84dp&quot;\r\n                                                android:src=&quot;@drawable/countrysats&quot; /&gt;\r\n    \r\n                                            &lt;TextView\r\n                                                android:layout_width=&quot;wrap_content&quot;\r\n                                                android:layout_height=&quot;wrap_content&quot;\r\n                                                android:layout_marginTop=&quot;20dp&quot;\r\n                                                android:text=&quot;Satellite Countries&quot;\r\n                                                android:textColor=&quot;@color/white&quot;\r\n                                                android:textSize=&quot;16sp&quot; /&gt;\r\n                                    &lt;/LinearLayout&gt;\r\n    \r\n                            &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                            &lt;androidx.cardview.widget.CardView\r\n                                android:id=&quot;@+id/crdAboutMe&quot;\r\n                                android:layout_width=&quot;170dp&quot;\r\n                                android:layout_height=&quot;170dp&quot;\r\n                                android:layout_margin=&quot;10dp&quot;\r\n                                app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\r\n                                app:cardCornerRadius=&quot;12dp&quot;\r\n                                app:cardElevation=&quot;5dp&quot;&gt;\r\n    \r\n                                    &lt;LinearLayout\r\n                                        android:layout_width=&quot;match_parent&quot;\r\n                                        android:layout_height=&quot;match_parent&quot;\r\n                                        android:gravity=&quot;center&quot;\r\n                                        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                                            &lt;ImageView\r\n                                                android:layout_width=&quot;84dp&quot;\r\n                                                android:layout_height=&quot;84dp&quot;\r\n                                                android:src=&quot;@drawable/aboutme&quot; /&gt;\r\n    \r\n                                            &lt;TextView\r\n                                                android:layout_width=&quot;wrap_content&quot;\r\n                                                android:layout_height=&quot;wrap_content&quot;\r\n                                                android:layout_marginTop=&quot;20dp&quot;\r\n                                                android:text=&quot;About Me&quot;\r\n                                                android:textColor=&quot;@color/white&quot;\r\n                                                android:textSize=&quot;16sp&quot; /&gt;\r\n                                    &lt;/LinearLayout&gt;\r\n    \r\n                            &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                            &lt;androidx.cardview.widget.CardView\r\n                                android:id=&quot;@+id/crdGoCrayCraaaaay&quot;\r\n                                android:layout_width=&quot;170dp&quot;\r\n                                android:layout_height=&quot;170dp&quot;\r\n                                android:layout_margin=&quot;10dp&quot;\r\n                                app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\r\n                                app:cardCornerRadius=&quot;12dp&quot;\r\n                                app:cardElevation=&quot;5dp&quot;&gt;\r\n    \r\n                                    &lt;LinearLayout\r\n                                        android:layout_width=&quot;match_parent&quot;\r\n                                        android:layout_height=&quot;match_parent&quot;\r\n                                        android:gravity=&quot;center&quot;\r\n                                        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                                            &lt;ImageView\r\n                                                android:layout_width=&quot;84dp&quot;\r\n                                                android:layout_height=&quot;84dp&quot;\r\n                                                android:src=&quot;@drawable/gocrazy&quot; /&gt;\r\n    \r\n                                            &lt;TextView\r\n                                                android:layout_width=&quot;wrap_content&quot;\r\n                                                android:layout_height=&quot;wrap_content&quot;\r\n                                                android:layout_marginTop=&quot;20dp&quot;\r\n                                                android:text=&quot;Go Crazy!&quot;\r\n                                                android:textColor=&quot;@color/white&quot;\r\n                                                android:textSize=&quot;16sp&quot; /&gt;\r\n                                    &lt;/LinearLayout&gt;\r\n    \r\n                            &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                    &lt;/GridLayout&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/ScrollView&gt;","title":"CardView onClick java.lang.NullPointerException","body":"<p>I am trying to add a click listener for each cardview in a grid layout, but I get the following error.</p>\n<blockquote>\n<p>java.lang.RuntimeException: Unable to start activity\nComponentInfo{com.example.uspherejda/com.example.uspherejda.HomeScreen}:\njava.lang.NullPointerException: Attempt to invoke virtual method 'void\nandroidx.cardview.widget.CardView.setOnClickListener(android.view.View$OnClickListener)'\non a null object reference</p>\n<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual\nmethod 'void\nandroidx.cardview.widget.CardView.setOnClickListener(android.view.View$OnClickListener)'\non a null object reference</p>\n</blockquote>\n<pre><code>public class HomeScreen extends AppCompatActivity implements View.OnClickListener{\n    //SQL\n    private SatFromHelper dbHelper;\n    private SQLiteDatabase db;\n\n    private CardView satList, addSat, satType, satCountries, aboutMe, goCrazy;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.home_screen);\n\n        dbHelper = new SatFromHelper(this);\n        db = dbHelper.getWritableDatabase();\n        //call the Home fragment\n        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new HomeFragment()).commit();\n        //Set up a custom bar using a custom\n        ActionBar actionBar = getSupportActionBar();\n        getSupportActionBar().setBackgroundDrawable(new ColorDrawable(getResources().getColor(R.color.start_dark_blue)));\n        actionBar.setDisplayShowCustomEnabled(true);\n        LayoutInflater layoutInflater = (LayoutInflater) this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        View view = layoutInflater.inflate(R.layout.custom_bar_image, null);\n        actionBar.setCustomView(view);\n        //Card views.\n        satList = (CardView) findViewById(R.id.crdList);\n        addSat = (CardView) findViewById(R.id.crdForm);\n        satType = (CardView) findViewById(R.id.crdSatTypes);\n        satCountries = (CardView) findViewById(R.id.crdCountries);\n        aboutMe = (CardView) findViewById(R.id.crdAboutMe);\n        goCrazy = (CardView) findViewById(R.id.crdGoCrayCraaaaay);\n\n         satList.setOnClickListener(this);\n         addSat.setOnClickListener(this);\n         satType.setOnClickListener(this);\n         satCountries.setOnClickListener(this);\n         aboutMe.setOnClickListener(this);\n         goCrazy.setOnClickListener(this);\n\n        //Bottom Navigation\n        BottomNavigationView bottomNav = findViewById(R.id.nav_menu);\n        //Item listener when one of hte items below from the nav_bar is selected\n        bottomNav.setOnItemSelectedListener(item -&gt; {\n            Fragment selectedFragment = null;\n            switch(item.getItemId()){\n                case R.id.nav_home:\n                    selectedFragment = new HomeFragment();\n                    break;\n                case R.id.nav_list:\n                    selectedFragment = new ListFragment(dbHelper, db);\n                    break;\n                case R.id.nav_add:\n                    selectedFragment = new AddFragment(dbHelper, db);\n                    break;\n            }\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, selectedFragment).commit();\n            return true;\n        });\n    }\n    @Override\n    public void onClick(View v){\n        switch (v.getId()){\n            case R.id.crdList: startActivity(new Intent(getApplicationContext(), ListFragment.class));\n            break;\n        }\n\n    }\n    //Close the db when the activity onDestroy\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        dbHelper.close();\n        db.close();\n    }\n}\n</code></pre>\n<p>XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/frameLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.HomeFragment&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;My Dashboard&quot;\n                    android:textSize=&quot;40sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:textColor=&quot;@color/white&quot;\n                    android:layout_margin=&quot;20dp&quot; /&gt;\n                &lt;GridLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:rowCount=&quot;4&quot;\n                    android:columnCount=&quot;2&quot;\n                    android:layout_margin=&quot;5dp&quot;\n                    android:alignmentMode=&quot;alignMargins&quot;\n                    android:layout_gravity=&quot;center_horizontal&quot;\n                    android:columnOrderPreserved=&quot;false&quot;&gt;\n                        &lt;androidx.cardview.widget.CardView\n                                android:id=&quot;@+id/crdList&quot;\n                                android:layout_width=&quot;170dp&quot;\n                                android:layout_height=&quot;170dp&quot;\n                                app:cardCornerRadius=&quot;12dp&quot;\n                                app:cardElevation=&quot;5dp&quot;\n                                app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\n                                android:layout_margin=&quot;10dp&quot;&gt;\n                        &lt;LinearLayout\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;match_parent&quot;\n                            android:orientation=&quot;vertical&quot;\n                            android:gravity=&quot;center&quot;&gt;\n                                &lt;ImageView\n                                    android:layout_width=&quot;84dp&quot;\n                                    android:layout_height=&quot;84dp&quot;\n                                    android:src=&quot;@drawable/satdashboard&quot;/&gt;\n\n                                &lt;TextView\n                                    android:layout_width=&quot;wrap_content&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:text=&quot;Satellite List&quot;\n                                    android:textSize=&quot;16sp&quot;\n                                    android:layout_marginTop=&quot;20dp&quot;\n                                    android:textColor=&quot;@color/white&quot;/&gt;\n                        &lt;/LinearLayout&gt;\n                        &lt;/androidx.cardview.widget.CardView&gt;\n\n                        &lt;androidx.cardview.widget.CardView\n                            android:id=&quot;@+id/crdForm&quot;\n                            android:layout_width=&quot;170dp&quot;\n                            android:layout_height=&quot;170dp&quot;\n                            app:cardCornerRadius=&quot;12dp&quot;\n                            app:cardElevation=&quot;5dp&quot;\n                            app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\n                            android:layout_margin=&quot;10dp&quot;&gt;\n                                &lt;LinearLayout\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;match_parent&quot;\n                                    android:orientation=&quot;vertical&quot;\n                                    android:gravity=&quot;center&quot;&gt;\n                                        &lt;ImageView\n                                            android:layout_marginLeft=&quot;10dp&quot;\n                                            android:layout_width=&quot;84dp&quot;\n                                            android:layout_height=&quot;84dp&quot;\n                                            android:src=&quot;@drawable/formdashboard&quot;/&gt;\n\n                                        &lt;TextView\n                                            android:layout_width=&quot;wrap_content&quot;\n                                            android:layout_height=&quot;wrap_content&quot;\n                                            android:text=&quot;Add a Satellite&quot;\n                                            android:textSize=&quot;16sp&quot;\n                                            android:layout_marginTop=&quot;20dp&quot;\n                                            android:textColor=&quot;@color/white&quot;/&gt;\n                                &lt;/LinearLayout&gt;\n                        &lt;/androidx.cardview.widget.CardView&gt;\n\n                        &lt;androidx.cardview.widget.CardView\n                            android:id=&quot;@+id/crdSatTypes&quot;\n                            android:layout_width=&quot;170dp&quot;\n                            android:layout_height=&quot;170dp&quot;\n                            app:cardCornerRadius=&quot;12dp&quot;\n                            app:cardElevation=&quot;5dp&quot;\n                            app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\n                            android:layout_margin=&quot;10dp&quot;&gt;\n                        &lt;LinearLayout\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;match_parent&quot;\n                            android:orientation=&quot;vertical&quot;\n                            android:gravity=&quot;center&quot;&gt;\n                                &lt;ImageView\n                                    android:layout_width=&quot;84dp&quot;\n                                    android:layout_height=&quot;84dp&quot;\n                                    android:src=&quot;@drawable/sattypes&quot;/&gt;\n\n                                &lt;TextView\n                                    android:layout_width=&quot;wrap_content&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:text=&quot;Types of Satellites&quot;\n                                    android:textSize=&quot;16sp&quot;\n                                    android:layout_marginTop=&quot;20dp&quot;\n                                    android:textColor=&quot;@color/white&quot;/&gt;\n                        &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n                        &lt;androidx.cardview.widget.CardView\n                            android:id=&quot;@+id/crdCountries&quot;\n                            android:layout_width=&quot;170dp&quot;\n                            android:layout_height=&quot;170dp&quot;\n                            android:layout_margin=&quot;10dp&quot;\n                            app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\n                            app:cardCornerRadius=&quot;12dp&quot;\n                            app:cardElevation=&quot;5dp&quot;&gt;\n\n                                &lt;LinearLayout\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;match_parent&quot;\n                                    android:gravity=&quot;center&quot;\n                                    android:orientation=&quot;vertical&quot;&gt;\n\n                                        &lt;ImageView\n                                            android:layout_width=&quot;84dp&quot;\n                                            android:layout_height=&quot;84dp&quot;\n                                            android:src=&quot;@drawable/countrysats&quot; /&gt;\n\n                                        &lt;TextView\n                                            android:layout_width=&quot;wrap_content&quot;\n                                            android:layout_height=&quot;wrap_content&quot;\n                                            android:layout_marginTop=&quot;20dp&quot;\n                                            android:text=&quot;Satellite Countries&quot;\n                                            android:textColor=&quot;@color/white&quot;\n                                            android:textSize=&quot;16sp&quot; /&gt;\n                                &lt;/LinearLayout&gt;\n\n                        &lt;/androidx.cardview.widget.CardView&gt;\n\n                        &lt;androidx.cardview.widget.CardView\n                            android:id=&quot;@+id/crdAboutMe&quot;\n                            android:layout_width=&quot;170dp&quot;\n                            android:layout_height=&quot;170dp&quot;\n                            android:layout_margin=&quot;10dp&quot;\n                            app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\n                            app:cardCornerRadius=&quot;12dp&quot;\n                            app:cardElevation=&quot;5dp&quot;&gt;\n\n                                &lt;LinearLayout\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;match_parent&quot;\n                                    android:gravity=&quot;center&quot;\n                                    android:orientation=&quot;vertical&quot;&gt;\n\n                                        &lt;ImageView\n                                            android:layout_width=&quot;84dp&quot;\n                                            android:layout_height=&quot;84dp&quot;\n                                            android:src=&quot;@drawable/aboutme&quot; /&gt;\n\n                                        &lt;TextView\n                                            android:layout_width=&quot;wrap_content&quot;\n                                            android:layout_height=&quot;wrap_content&quot;\n                                            android:layout_marginTop=&quot;20dp&quot;\n                                            android:text=&quot;About Me&quot;\n                                            android:textColor=&quot;@color/white&quot;\n                                            android:textSize=&quot;16sp&quot; /&gt;\n                                &lt;/LinearLayout&gt;\n\n                        &lt;/androidx.cardview.widget.CardView&gt;\n\n                        &lt;androidx.cardview.widget.CardView\n                            android:id=&quot;@+id/crdGoCrayCraaaaay&quot;\n                            android:layout_width=&quot;170dp&quot;\n                            android:layout_height=&quot;170dp&quot;\n                            android:layout_margin=&quot;10dp&quot;\n                            app:cardBackgroundColor=&quot;@color/center_light_blue&quot;\n                            app:cardCornerRadius=&quot;12dp&quot;\n                            app:cardElevation=&quot;5dp&quot;&gt;\n\n                                &lt;LinearLayout\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;match_parent&quot;\n                                    android:gravity=&quot;center&quot;\n                                    android:orientation=&quot;vertical&quot;&gt;\n\n                                        &lt;ImageView\n                                            android:layout_width=&quot;84dp&quot;\n                                            android:layout_height=&quot;84dp&quot;\n                                            android:src=&quot;@drawable/gocrazy&quot; /&gt;\n\n                                        &lt;TextView\n                                            android:layout_width=&quot;wrap_content&quot;\n                                            android:layout_height=&quot;wrap_content&quot;\n                                            android:layout_marginTop=&quot;20dp&quot;\n                                            android:text=&quot;Go Crazy!&quot;\n                                            android:textColor=&quot;@color/white&quot;\n                                            android:textSize=&quot;16sp&quot; /&gt;\n                                &lt;/LinearLayout&gt;\n\n                        &lt;/androidx.cardview.widget.CardView&gt;\n\n                &lt;/GridLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":["java","hash","hashcode"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1409189591,"post_id":25539351,"comment_id":39875873,"body_markdown":"`because hashcodes are generated calculating memory adresses` Please link to where you read this.","body":"<code>because hashcodes are generated calculating memory adresses</code> Please link to where you read this."},{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":0,"creation_date":1409189813,"post_id":25539351,"comment_id":39875929,"body_markdown":"possible duplicate of [What is the default implementation of \\`hashCode\\`?](http://stackoverflow.com/questions/15130764/what-is-the-default-implementation-of-hashcode)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/15130764/what-is-the-default-implementation-of-hashcode\">What is the default implementation of `hashCode`?</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1409189834,"post_id":25539351,"comment_id":39875933,"body_markdown":"@SotiriosDelimanolis [`Object.hashCode()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode%28%29) javadoc, *This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language*.","body":"@SotiriosDelimanolis <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode%28%29\" rel=\"nofollow noreferrer\"><code>Object.hashCode()</code></a> javadoc, <i>This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language</i>."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1409190361,"creation_date":1409189600,"answer_id":25539398,"question_id":25539351,"body_markdown":"If two objects have the same hashcode and are of the same class - the second will replace the first if both are added to a Hashtable/HashMap.","title":"if two objects have same hashcode then what about their memory addresses","body":"<p>If two objects have the same hashcode and are of the same class - the second will replace the first if both are added to a Hashtable/HashMap.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409189642,"creation_date":1409189642,"answer_id":25539402,"question_id":25539351,"body_markdown":"The default object version of `hashCode()` is based on a memory address. When you override the `hashCode()` method and return a different value it does not change the Object&#39;s memory address. Nor does returning a constant 1 break `HashMap`, but it does severely effect performance.","title":"if two objects have same hashcode then what about their memory addresses","body":"<p>The default object version of <code>hashCode()</code> is based on a memory address. When you override the <code>hashCode()</code> method and return a different value it does not change the Object's memory address. Nor does returning a constant 1 break <code>HashMap</code>, but it does severely effect performance.</p>\n"},{"tags":[],"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1409190827,"creation_date":1409190018,"answer_id":25539446,"question_id":25539351,"body_markdown":"**No two objects (that exist at the same time) can have the same memory address.**\r\n\r\nThey *can* have the same hash code, though `hashCode` implementations try to avoid that.  And the default implementation of `hashCode` doesn&#39;t have to be based on the object&#39;s memory address (though it *can* be).\r\n\r\nSo if two objects have the same hash code, you can&#39;t assume that they have the same memory address.  In fact, if two variables refer to different objects (i.e. comparing them with `==` returns `false`), they definitely do *not* have the same address.\r\n\r\nThe article you read about hash codes being based on memory addresses was referring to the *default* implementation of the `hashCode` method in the `Object` class.  If you override `hashCode` in a subclass, you&#39;re not using that default implementation anymore.  Your `return 1` has nothing to do with memory addresses.","title":"if two objects have same hashcode then what about their memory addresses","body":"<p><strong>No two objects (that exist at the same time) can have the same memory address.</strong></p>\n\n<p>They <em>can</em> have the same hash code, though <code>hashCode</code> implementations try to avoid that.  And the default implementation of <code>hashCode</code> doesn't have to be based on the object's memory address (though it <em>can</em> be).</p>\n\n<p>So if two objects have the same hash code, you can't assume that they have the same memory address.  In fact, if two variables refer to different objects (i.e. comparing them with <code>==</code> returns <code>false</code>), they definitely do <em>not</em> have the same address.</p>\n\n<p>The article you read about hash codes being based on memory addresses was referring to the <em>default</em> implementation of the <code>hashCode</code> method in the <code>Object</code> class.  If you override <code>hashCode</code> in a subclass, you're not using that default implementation anymore.  Your <code>return 1</code> has nothing to do with memory addresses.</p>\n"},{"tags":[],"owner":{"account_id":1508989,"reputation":123,"user_id":1411577,"display_name":"Willen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409190055,"creation_date":1409190055,"answer_id":25539451,"question_id":25539351,"body_markdown":"System.out.println(a1==a2);\r\nThe Result is false.","title":"if two objects have same hashcode then what about their memory addresses","body":"<p>System.out.println(a1==a2);\nThe Result is false.</p>\n"},{"tags":[],"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409190060,"creation_date":1409190060,"answer_id":25539455,"question_id":25539351,"body_markdown":"Note that since objects commonly define their own implementation of hashcode and equals, based on their contents/value rather than object identity, hashcode is NOT reliably related to the object&#39;s address.\r\n\r\nThe identity hashcode -- which is also the default hashcode implementation provided by java.lang.Object -- may or may not be related to the object address, depending on how this JRE&#39;s garbage collector manages memory.","title":"if two objects have same hashcode then what about their memory addresses","body":"<p>Note that since objects commonly define their own implementation of hashcode and equals, based on their contents/value rather than object identity, hashcode is NOT reliably related to the object's address.</p>\n\n<p>The identity hashcode -- which is also the default hashcode implementation provided by java.lang.Object -- may or may not be related to the object address, depending on how this JRE's garbage collector manages memory.</p>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409190708,"creation_date":1409190190,"answer_id":25539475,"question_id":25539351,"body_markdown":"Hashcode and memory addresses are two different things. Hashcode is used to identify the bucket position in the memory to store the key. But two non equal objects with the same hashcode will reside in the same bucket but at a different memory address. \r\n\r\n\r\n&gt; how would they be stored in a HashMap / HashTable?Hashcode does not reside in the memory anywhere.\r\n\r\nAny hashed collection uses hashed buckets architecture to decide where to store the object. This helps in the quick retrieval of objects. This is the saving mechanism:\r\n\r\n- Objects with different hashcode and non equal(`equals()` return false on two object) : Will be saved in different hashed buckets\r\n\r\n- Objects with different hashcode and equal: Will be saved at the same hashed bucket but in a linked list\r\n\r\n- Object with same hashcode and equal: Will overwrite each other when saved\r\n\r\n\r\nWhat is the actual architecture for hashcode and memory address. \r\n\r\n&gt; Where does hashCode reside in memory?\r\n\r\n It is always calculated when you try to put/retrieve an element in a hashed collection. And hashcode method provides the logic.","title":"if two objects have same hashcode then what about their memory addresses","body":"<p>Hashcode and memory addresses are two different things. Hashcode is used to identify the bucket position in the memory to store the key. But two non equal objects with the same hashcode will reside in the same bucket but at a different memory address. </p>\n\n<blockquote>\n  <p>how would they be stored in a HashMap / HashTable?Hashcode does not reside in the memory anywhere.</p>\n</blockquote>\n\n<p>Any hashed collection uses hashed buckets architecture to decide where to store the object. This helps in the quick retrieval of objects. This is the saving mechanism:</p>\n\n<ul>\n<li><p>Objects with different hashcode and non equal(<code>equals()</code> return false on two object) : Will be saved in different hashed buckets</p></li>\n<li><p>Objects with different hashcode and equal: Will be saved at the same hashed bucket but in a linked list</p></li>\n<li><p>Object with same hashcode and equal: Will overwrite each other when saved</p></li>\n</ul>\n\n<p>What is the actual architecture for hashcode and memory address. </p>\n\n<blockquote>\n  <p>Where does hashCode reside in memory?</p>\n</blockquote>\n\n<p>It is always calculated when you try to put/retrieve an element in a hashed collection. And hashcode method provides the logic.</p>\n"},{"tags":[],"owner":{"account_id":1548429,"reputation":3528,"user_id":1441374,"accept_rate":68,"display_name":"Omkar Shetkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409676170,"creation_date":1409675228,"answer_id":25628091,"question_id":25539351,"body_markdown":"I think root of the question is to understand the relation between hash value and memory location.\r\nHash map/table use array for storing key and values.\r\nThe value obtained from hash(key) function is used to determine the index in the array.\r\nIf you go one more step deep in native side, memory address will be (memory address of first element of array + index). At this memory location, address of actual object will be stored.\r\n\r\nAs others have already answered, if two objects have same hash value then those objects will be in same bucket. Meaning, at the same index value of the array. But, in this case to avoid collision each element of array could be linked list. Thus, objects with same hash value will be added to a linked list.","title":"if two objects have same hashcode then what about their memory addresses","body":"<p>I think root of the question is to understand the relation between hash value and memory location.\nHash map/table use array for storing key and values.\nThe value obtained from hash(key) function is used to determine the index in the array.\nIf you go one more step deep in native side, memory address will be (memory address of first element of array + index). At this memory location, address of actual object will be stored.</p>\n\n<p>As others have already answered, if two objects have same hash value then those objects will be in same bucket. Meaning, at the same index value of the array. But, in this case to avoid collision each element of array could be linked list. Thus, objects with same hash value will be added to a linked list.</p>\n"},{"tags":[],"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635936910,"creation_date":1635768473,"answer_id":69796716,"question_id":25539351,"body_markdown":"I wanna make some supplementary instructions for the answer having most votes @Wyzard\r\n&gt; The article you read about hash codes being based on memory addresses was referring to the default implementation of the `hashCode` method in the `Object` class. \r\n\r\nIn fact, the default implementation of the `hashCode` is not only one, instead, there are almost 6 ways (according to OpenJDK). You can get this conclusion by refer to the method `get_next_hash` found in the [synchronizer.cpp](http://hg.openjdk.java.net/jdk7/jdk7/hotspot/file/9b0ca45cd756/src/share/vm/runtime/synchronizer.cpp), which is critical to calculate the `hash code`. For your convenience, I&#39;ve posted a screenshot below: [enter image description of the method here][1] \r\n\r\n\r\nWhat&#39;s more, different version of JDK just uses different way to calculate the hash code. For example, JDK1.8 product the result utilizing thread state combined with xorshift, seeing from [enter image description here][2].\r\n\r\nNow turn to the algorithm of generating a hash code base on the object memory address. Provided that it just simply cast the memory address to a hash code, what will happen if GC occurs during the Java running time? The address of the object may change, and then the original hash code will change too. Hence there are must more other extra operation to make sure the hash code will remain consistent using this kind of algorithm to implement the `hashCode()`. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tKBD7.png\r\n  [2]: https://i.stack.imgur.com/ubBwq.png","title":"if two objects have same hashcode then what about their memory addresses","body":"<p>I wanna make some supplementary instructions for the answer having most votes @Wyzard</p>\n<blockquote>\n<p>The article you read about hash codes being based on memory addresses was referring to the default implementation of the <code>hashCode</code> method in the <code>Object</code> class.</p>\n</blockquote>\n<p>In fact, the default implementation of the <code>hashCode</code> is not only one, instead, there are almost 6 ways (according to OpenJDK). You can get this conclusion by refer to the method <code>get_next_hash</code> found in the <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/hotspot/file/9b0ca45cd756/src/share/vm/runtime/synchronizer.cpp\" rel=\"nofollow noreferrer\">synchronizer.cpp</a>, which is critical to calculate the <code>hash code</code>. For your convenience, I've posted a screenshot below: <a href=\"https://i.stack.imgur.com/tKBD7.png\" rel=\"nofollow noreferrer\">enter image description of the method here</a></p>\n<p>What's more, different version of JDK just uses different way to calculate the hash code. For example, JDK1.8 product the result utilizing thread state combined with xorshift, seeing from <a href=\"https://i.stack.imgur.com/ubBwq.png\" rel=\"nofollow noreferrer\">enter image description here</a>.</p>\n<p>Now turn to the algorithm of generating a hash code base on the object memory address. Provided that it just simply cast the memory address to a hash code, what will happen if GC occurs during the Java running time? The address of the object may change, and then the original hash code will change too. Hence there are must more other extra operation to make sure the hash code will remain consistent using this kind of algorithm to implement the <code>hashCode()</code>.</p>\n"}],"owner":{"account_id":4945915,"reputation":545,"user_id":3981269,"accept_rate":31,"display_name":"Rahul Tripathi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":8,"score":1,"last_activity_date":1635936910,"creation_date":1409189172,"question_id":25539351,"body_markdown":"If two objects of the same class have the same hashCode in Java then how would they be stored in a `HashMap` / `HashTable`?  What is the actual architecture for hashcode and memory address. Where does hashCode reside in memory?\r\n\r\nExample: There is a class `A`.  when creating objects `a1` and `a2` then they will represent some memory address but I overrode hashcode every time same.  When I read an article then I found that hashcode functions generate a hashcode from the memory address. this means the memory address will same if hashcode is same. Please clear my doubt. \r\n\r\n\r\n\r\n    public class A {\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return 1;\r\n        }\r\n\r\n        public static void main(String args[]) {\r\n            A a1 = new A();\r\n            A a2 = new A();\r\n            System.out.println(a1.hashCode());\r\n            System.out.println(a2.hashCode());\r\n        }\r\n    }\r\n","title":"if two objects have same hashcode then what about their memory addresses","body":"<p>If two objects of the same class have the same hashCode in Java then how would they be stored in a <code>HashMap</code> / <code>HashTable</code>?  What is the actual architecture for hashcode and memory address. Where does hashCode reside in memory?</p>\n\n<p>Example: There is a class <code>A</code>.  when creating objects <code>a1</code> and <code>a2</code> then they will represent some memory address but I overrode hashcode every time same.  When I read an article then I found that hashcode functions generate a hashcode from the memory address. this means the memory address will same if hashcode is same. Please clear my doubt. </p>\n\n<pre><code>public class A {\n\n    @Override\n    public int hashCode() {\n        return 1;\n    }\n\n    public static void main(String args[]) {\n        A a1 = new A();\n        A a2 = new A();\n        System.out.println(a1.hashCode());\n        System.out.println(a2.hashCode());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","html","android-edittext","imageview"],"owner":{"account_id":22605510,"reputation":31,"user_id":16786465,"display_name":"Awais Gondal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635936403,"creation_date":1635936403,"question_id":69823509,"body_markdown":"I am creating a simple editor in which the user can perform the basic functionalities of a text editor. \r\nI was able to put the image in edit text with image span but the problem is to store all the data of the edit text in a pdf file. Whenever I save the pdf file it only contains the text.\r\nCan somebody guide me on this matter?\r\nI am placing image in edit text with following code.\r\n```\r\nprivate void setImage() {\r\n        Drawable drawable = insertImage.getDrawable();\r\n        drawable.setBounds(0, 0, drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight());\r\n        ImageSpan imageSpan = new ImageSpan(drawable);\r\n\r\n        SpannableStringBuilder builder = new SpannableStringBuilder();\r\n        builder.append(text.getText());\r\n\r\n// this is a string that will let you find a place, where the ImageSpan is.\r\n        String imgId = &quot;[img=1]&quot;;\r\n\r\n        int selStart = text.getSelectionStart();\r\n\r\n// current selection is replace with imageId\r\n        builder.replace(text.getSelectionStart(), text.getSelectionEnd(), imgId);\r\n\r\n        builder.setSpan(imageSpan, selStart, selStart + imgId.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        text.setText(builder);\r\n    }\r\n```","title":"How to create a pdf file containing text and inline images from edit text in android studio","body":"<p>I am creating a simple editor in which the user can perform the basic functionalities of a text editor.\nI was able to put the image in edit text with image span but the problem is to store all the data of the edit text in a pdf file. Whenever I save the pdf file it only contains the text.\nCan somebody guide me on this matter?\nI am placing image in edit text with following code.</p>\n<pre><code>private void setImage() {\n        Drawable drawable = insertImage.getDrawable();\n        drawable.setBounds(0, 0, drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight());\n        ImageSpan imageSpan = new ImageSpan(drawable);\n\n        SpannableStringBuilder builder = new SpannableStringBuilder();\n        builder.append(text.getText());\n\n// this is a string that will let you find a place, where the ImageSpan is.\n        String imgId = &quot;[img=1]&quot;;\n\n        int selStart = text.getSelectionStart();\n\n// current selection is replace with imageId\n        builder.replace(text.getSelectionStart(), text.getSelectionEnd(), imgId);\n\n        builder.setSpan(imageSpan, selStart, selStart + imgId.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n        text.setText(builder);\n    }\n</code></pre>\n"},{"tags":["java","jvm","out-of-memory","heap-dump","jtds"],"answers":[{"tags":[],"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635936399,"creation_date":1635890328,"answer_id":69817384,"question_id":69813763,"body_markdown":"According to https://sourceforge.net/p/jtds/bugs/562/ this was fixed in 2009?\r\n\r\nSee also e.g.:         https://github.com/milesibastos/jTDS/blob/master/src/main/net/sourceforge/jtds/util/BlobBuffer.java\r\n\r\n\r\nWhere this code is commented out to avoid this leak:\r\n  \r\n  // blobFile.deleteOnExit(); memory leak, see https://bugs.java.com/bugdatabase/view_bug?bug_id=6664633\r\n\r\nYou may also be able to tweak the size limit: https://answers.axonivy.com/questions/2007/how-to-improve-performance-of-mssql-system-database-with-jtds-driver-many-temporary-files or patch jTDS but you may also want to consider switching to the MSSQL Java driver: https://stackoverflow.com/questions/4393766/differences-between-ms-sql-microsofts-jdbc-drivers-and-jtdss-driver/4399254#4399254","title":"Java heap space analysis using MAT shows many references to JTDS temp files as cause of OutOfMemoryError","body":"<p>According to <a href=\"https://sourceforge.net/p/jtds/bugs/562/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/jtds/bugs/562/</a> this was fixed in 2009?</p>\n<p>See also e.g.:         <a href=\"https://github.com/milesibastos/jTDS/blob/master/src/main/net/sourceforge/jtds/util/BlobBuffer.java\" rel=\"nofollow noreferrer\">https://github.com/milesibastos/jTDS/blob/master/src/main/net/sourceforge/jtds/util/BlobBuffer.java</a></p>\n<p>Where this code is commented out to avoid this leak:</p>\n<p>// blobFile.deleteOnExit(); memory leak, see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6664633\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6664633</a></p>\n<p>You may also be able to tweak the size limit: <a href=\"https://answers.axonivy.com/questions/2007/how-to-improve-performance-of-mssql-system-database-with-jtds-driver-many-temporary-files\" rel=\"nofollow noreferrer\">https://answers.axonivy.com/questions/2007/how-to-improve-performance-of-mssql-system-database-with-jtds-driver-many-temporary-files</a> or patch jTDS but you may also want to consider switching to the MSSQL Java driver: <a href=\"https://stackoverflow.com/questions/4393766/differences-between-ms-sql-microsofts-jdbc-drivers-and-jtdss-driver/4399254#4399254\">differences between ms sql microsoft&#39;s jdbc drivers and jTDS&#39;s driver</a></p>\n"}],"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635936399,"creation_date":1635870154,"question_id":69813763,"body_markdown":"Please find below the dominator tree when analyzing the heap dump after an OOM error occured. 87% of the memory is consumed by a huge list of LinkedHashMap which is referencing the JTDS temp files. I do not understand why so many temp files are being created and they aren&#39;t being deleted due to possible references of the LinkedHashMap blocking garbage collection. But why can this happen? Is this a connection pooling related issue? Correct me if I am wrong regarding the analysis.\r\n\r\nI am using the following version of libraries :\r\n\r\n    java 1.8 v291\r\n    Tomcat v9.0.54\r\n    Spring v4.1.6\r\n    Hibernate v4.0\r\n    JTDS v1.2.2\r\n    C3P0 v0.9.1.2\r\n    JNDI v1.2.1\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yyQQ5.png\r\n","title":"Java heap space analysis using MAT shows many references to JTDS temp files as cause of OutOfMemoryError","body":"<p>Please find below the dominator tree when analyzing the heap dump after an OOM error occured. 87% of the memory is consumed by a huge list of LinkedHashMap which is referencing the JTDS temp files. I do not understand why so many temp files are being created and they aren't being deleted due to possible references of the LinkedHashMap blocking garbage collection. But why can this happen? Is this a connection pooling related issue? Correct me if I am wrong regarding the analysis.</p>\n<p>I am using the following version of libraries :</p>\n<pre><code>java 1.8 v291\nTomcat v9.0.54\nSpring v4.1.6\nHibernate v4.0\nJTDS v1.2.2\nC3P0 v0.9.1.2\nJNDI v1.2.1\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yyQQ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyQQ5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":1,"creation_date":1635933359,"post_id":69822710,"comment_id":123421802,"body_markdown":"If you&#39;re instantiating the object, it won&#39;t be a spring bean but a simple java object. It won&#39;t be managed by the spring container and you won&#39;t benefit from the advantages of spring. If you want to get a spring bean, you have to fetch it from the spring application context with `applicationContext.getBean(&quot;myBeanDefinition&quot;)`.\nThere are several ways to get access to the application context.\nSee [this](https://stackoverflow.com/a/21553322/7132739) question.","body":"If you&#39;re instantiating the object, it won&#39;t be a spring bean but a simple java object. It won&#39;t be managed by the spring container and you won&#39;t benefit from the advantages of spring. If you want to get a spring bean, you have to fetch it from the spring application context with <code>applicationContext.getBean(&quot;myBeanDefinition&quot;)</code>. There are several ways to get access to the application context. See <a href=\"https://stackoverflow.com/a/21553322/7132739\">this</a> question."}],"answers":[{"tags":[],"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635933280,"creation_date":1635933280,"answer_id":69822801,"question_id":69822710,"body_markdown":"When the object is instantiated manually, it acts like a normal Java object. \r\n\r\nSpring is not involved, so all the &quot;spring features&quot; (Inversion of control, dependency injection, etc..) not available.","title":"What will happen if I tried to instantiate spring bean manually","body":"<p>When the object is instantiated manually, it acts like a normal Java object.</p>\n<p>Spring is not involved, so all the &quot;spring features&quot; (Inversion of control, dependency injection, etc..) not available.</p>\n"}],"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69822801,"answer_count":1,"score":0,"last_activity_date":1635936089,"creation_date":1635932890,"question_id":69822710,"body_markdown":"Reading some source code and I stumbled upon this spring bean \r\n\r\n    @Service\r\n    public class ValidationService {...}\r\n\r\nWhich is instantiated manually using the `new()` operator in many places\r\n\r\nex: \r\n    `var validationService=new ValidationService();` \r\n\r\nNow I am thinking to refactor all of these instantiations and replace it with proper spring injection.\r\n\r\nIt made me think about what would happen if we instantiated a bean using the `new()` operator. Will it create a new instance of the bean or will it just retrieve the spring managed instance ?\r\n\r\n","title":"What will happen if I tried to instantiate spring bean manually","body":"<p>Reading some source code and I stumbled upon this spring bean</p>\n<pre><code>@Service\npublic class ValidationService {...}\n</code></pre>\n<p>Which is instantiated manually using the <code>new()</code> operator in many places</p>\n<p>ex:\n<code>var validationService=new ValidationService();</code></p>\n<p>Now I am thinking to refactor all of these instantiations and replace it with proper spring injection.</p>\n<p>It made me think about what would happen if we instantiated a bean using the <code>new()</code> operator. Will it create a new instance of the bean or will it just retrieve the spring managed instance ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8998349,"reputation":398,"user_id":6707816,"accept_rate":29,"display_name":"Ravi Teja"},"score":1,"creation_date":1565186618,"post_id":57396061,"comment_id":101274206,"body_markdown":"As per hamcrest signature your Typed parameter should inherit comparable interface. As per docs Number class is not inheriting from Comparable interface","body":"As per hamcrest signature your Typed parameter should inherit comparable interface. As per docs Number class is not inheriting from Comparable interface"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1635918402,"post_id":57396061,"comment_id":123417238,"body_markdown":"@dushkin You have a misconception about what `java.lang.Number` represents. It is not a generic number type, as the name would suggest. The name is misleading, as it only represents an *object that can be converted to any of the primitive numeric types*. That conversion is not lossless and that is the reason why it does not implement `Comparable`. And that is why it really cannot be used to represent a number as one would expect.","body":"@dushkin You have a misconception about what <code>java.lang.Number</code> represents. It is not a generic number type, as the name would suggest. The name is misleading, as it only represents an <i>object that can be converted to any of the primitive numeric types</i>. That conversion is not lossless and that is the reason why it does not implement <code>Comparable</code>. And that is why it really cannot be used to represent a number as one would expect."}],"answers":[{"tags":[],"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635936009,"creation_date":1565186199,"answer_id":57396125,"question_id":57396061,"body_markdown":"You need to add a bound to your generic version.\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; void isGreaterThan(T valueToValidate, T minExpectedVal) {\r\n        MatcherAssert.assertThat(valueToValidate, greaterThan(minExpectedVal));\r\n    }\r\n\r\nNote that `Number`s are _not_ comparable; for them you could do\r\n\r\n    public static void isGreaterThan(Number valueToValidate, Number minExpectedVal) {\r\n        MatcherAssert.assertThat(valueToValidate.doubleValue(), greaterThan(minExpectedVal.doubleValue()));\r\n    }\r\n\r\nEDIT: Torben is correct that `doubleValue()` is not necessarily lossless. However, the only standard `Number` subtypes for which it isn&#39;t are `Long`, `BigInteger` and `BigDecimal`, so you could check for them explicitly. But the generic version is better either way.","title":"Java - a generic numbers method","body":"<p>You need to add a bound to your generic version.</p>\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; void isGreaterThan(T valueToValidate, T minExpectedVal) {\n    MatcherAssert.assertThat(valueToValidate, greaterThan(minExpectedVal));\n}\n</code></pre>\n<p>Note that <code>Number</code>s are <em>not</em> comparable; for them you could do</p>\n<pre><code>public static void isGreaterThan(Number valueToValidate, Number minExpectedVal) {\n    MatcherAssert.assertThat(valueToValidate.doubleValue(), greaterThan(minExpectedVal.doubleValue()));\n}\n</code></pre>\n<p>EDIT: Torben is correct that <code>doubleValue()</code> is not necessarily lossless. However, the only standard <code>Number</code> subtypes for which it isn't are <code>Long</code>, <code>BigInteger</code> and <code>BigDecimal</code>, so you could check for them explicitly. But the generic version is better either way.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57396125,"answer_count":1,"score":1,"last_activity_date":1635936009,"creation_date":1565185970,"question_id":57396061,"body_markdown":"Although I use here Hamcrest library, it is probably not an Hamcrest issue but pure Java...\r\n\r\n I have the following method:\r\n\r\n    public static void isGreaterThan(int valueToValidate, int minExpectedVal) {\r\n        MatcherAssert.assertThat(valueToValidate, greaterThan(minExpectedVal));\r\n    }\r\n\r\nI&#39;d like to generalize it to something like:\r\n\r\n    public static &lt;T&gt; void isGreaterThan(T valueToValidate, T minExpectedVal) {\r\n        MatcherAssert.assertThat(valueToValidate, greaterThan(minExpectedVal));\r\n    }\r\n\r\nor\r\n\r\n    public static void isGreaterThan(Number valueToValidate, Number minExpectedVal) {\r\n        MatcherAssert.assertThat(valueToValidate, greaterThan(minExpectedVal));\r\n    }\r\n\r\nHamcrest greaterThan signature is:\r\n\r\n    &lt;T extends Comparable&lt;T&gt;&gt; Matcher&lt;T&gt; greaterThan(T value)\r\n\r\nand assertThat signature:\r\n\r\n    &lt;T&gt; void assertThat(T actual, Matcher&lt;? super T&gt; matcher)\r\n\r\nHowever, on both cases, I get an error on minExpectedVal saying that it cannot be applied as T.\r\n\r\nHow can I overcome this?","title":"Java - a generic numbers method","body":"<p>Although I use here Hamcrest library, it is probably not an Hamcrest issue but pure Java...</p>\n<p>I have the following method:</p>\n<pre><code>public static void isGreaterThan(int valueToValidate, int minExpectedVal) {\n    MatcherAssert.assertThat(valueToValidate, greaterThan(minExpectedVal));\n}\n</code></pre>\n<p>I'd like to generalize it to something like:</p>\n<pre><code>public static &lt;T&gt; void isGreaterThan(T valueToValidate, T minExpectedVal) {\n    MatcherAssert.assertThat(valueToValidate, greaterThan(minExpectedVal));\n}\n</code></pre>\n<p>or</p>\n<pre><code>public static void isGreaterThan(Number valueToValidate, Number minExpectedVal) {\n    MatcherAssert.assertThat(valueToValidate, greaterThan(minExpectedVal));\n}\n</code></pre>\n<p>Hamcrest greaterThan signature is:</p>\n<pre><code>&lt;T extends Comparable&lt;T&gt;&gt; Matcher&lt;T&gt; greaterThan(T value)\n</code></pre>\n<p>and assertThat signature:</p>\n<pre><code>&lt;T&gt; void assertThat(T actual, Matcher&lt;? super T&gt; matcher)\n</code></pre>\n<p>However, on both cases, I get an error on minExpectedVal saying that it cannot be applied as T.</p>\n<p>How can I overcome this?</p>\n"},{"tags":["java","mocking","mockito","powermockito"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635935859,"creation_date":1635935859,"answer_id":69823379,"question_id":69818667,"body_markdown":"You can do something like this:\r\n```java\r\npublic class Test {\r\n\r\n    @Mock\r\n    private A a;\r\n\r\n    @BeforeEach\r\n    public void setUp() throws Exception {\r\n        MockitoAnnotations.initMocks(this);\r\n\r\n        // Mock A behaviour\r\n        doReturn(&quot;your-string&quot;).when(this.a).methodB();\r\n    }\r\n\r\n    @Test\r\n    // Unit tests\r\n}\r\n```\r\n\r\nThe important part is `doReturn(&quot;your-string&quot;).when(this.a).methodB();`.","title":"How use mockito so that a call on any instance of an object returns something fixed","body":"<p>You can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    @Mock\n    private A a;\n\n    @BeforeEach\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n\n        // Mock A behaviour\n        doReturn(&quot;your-string&quot;).when(this.a).methodB();\n    }\n\n    @Test\n    // Unit tests\n}\n</code></pre>\n<p>The important part is <code>doReturn(&quot;your-string&quot;).when(this.a).methodB();</code>.</p>\n"}],"owner":{"account_id":6371336,"reputation":113,"user_id":4943652,"display_name":"Arnab Ghosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635935859,"creation_date":1635902608,"question_id":69818667,"body_markdown":"So I have a class like this:\r\n```\r\npublic class A\r\n{\r\n    public String methodB()\r\n    {\r\n      //do something\r\n     }\r\n}\r\n```\r\nNow suppose I have the following code:\r\n```\r\nA a1=new A();\r\nA a2=new A();\r\nString b=a1.methodB();\r\nString c=a2.methodB();\r\n```\r\nI want to mock using Mockito such that whenever this methodB() is called from any instance of class A, I get the same output, say &quot;fixedstring&quot;. ","title":"How use mockito so that a call on any instance of an object returns something fixed","body":"<p>So I have a class like this:</p>\n<pre><code>public class A\n{\n    public String methodB()\n    {\n      //do something\n     }\n}\n</code></pre>\n<p>Now suppose I have the following code:</p>\n<pre><code>A a1=new A();\nA a2=new A();\nString b=a1.methodB();\nString c=a2.methodB();\n</code></pre>\n<p>I want to mock using Mockito such that whenever this methodB() is called from any instance of class A, I get the same output, say &quot;fixedstring&quot;.</p>\n"},{"tags":["java","android","firebase","crashlytics"],"answers":[{"tags":[],"owner":{"account_id":20023905,"reputation":3036,"user_id":14678216,"display_name":"user14678216"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635935656,"creation_date":1607025048,"answer_id":65133098,"question_id":64945266,"body_markdown":"The solution to this problem was that `FirebaseInstanceId` was depreciated. This means that it was removed from the library.\r\n\r\nYou can find more information about it here: https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceId","title":"&quot;error: package com.google.firebase.iid does not exist&quot; After updating Firebase Crashlytics dependency","body":"<p>The solution to this problem was that <code>FirebaseInstanceId</code> was depreciated. This means that it was removed from the library.</p>\n<p>You can find more information about it here: <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceId\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceId</a></p>\n"}],"owner":{"account_id":20023905,"reputation":3036,"user_id":14678216,"display_name":"user14678216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2855,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65133098,"answer_count":1,"score":4,"last_activity_date":1635935656,"creation_date":1605975299,"question_id":64945266,"body_markdown":"I have updated my Firebase Crashlytics from\r\n\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:17.1.1&#39;\r\n\r\nto\r\n\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:17.3.0&#39;\r\n\r\nNow I am getting this error:\r\n\r\n    error: package com.google.firebase.iid does not exist\r\n\r\nWhen I try to import this:\r\n```\r\nimport com.google.firebase.iid.FirebaseInstanceId;\r\nimport com.google.firebase.iid.InstanceIdResult;\r\n```\r\nThis is my project level build.gradle file:\r\n```\r\nbuildscript {\r\n    ext {\r\n        kotlin_version = &#39;1.3.72&#39;\r\n    }\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.4&#39;\r\n        classpath &#39;com.google.firebase:perf-plugin:1.3.4&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.4.1&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.4.20&quot; }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nThis is my app level build.gradle file:\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;kotlin-android-extensions&#39;\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    defaultConfig {\r\n        applicationId &quot;...&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 30\r\n        versionCode ...\r\n        versionName &quot;...&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables.useSupportLibrary = true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            //shrinkResources true NOT SUPPORTED FOR DYNAMIC MODULES\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            multiDexEnabled true\r\n        }\r\n        debug {\r\n            multiDexEnabled true\r\n        }\r\n    }\r\n\r\n    dynamicFeatures = [&quot;:premium&quot;, &#39;:tutorial&#39;]\r\n    compileOptions {\r\n        sourceCompatibility = 1.8\r\n        targetCompatibility = 1.8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    api &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    api &#39;com.google.android.material:material:1.2.1&#39;\r\n    api &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    api &#39;com.google.android.play:core:1.8.3&#39;\r\n    api &#39;com.google.firebase:firebase-analytics:18.0.0&#39;\r\n    api &#39;com.google.firebase:firebase-perf:19.0.10&#39;\r\n    api &#39;com.google.firebase:firebase-invites:17.0.0&#39;\r\n    api &#39;com.google.firebase:firebase-firestore:22.0.0&#39;\r\n    api &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    api &#39;com.google.firebase:firebase-config:20.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-appindexing:19.1.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.3.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    api &#39;androidx.navigation:navigation-fragment:2.3.1&#39;\r\n    api &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    api &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n    api &#39;androidx.preference:preference:1.1.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:17.3.0&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.3.0&#39;\r\n    api &#39;com.google.firebase:firebase-auth:20.0.1&#39;\r\n    api &#39;com.google.zxing:core:3.3.3&#39;\r\n    api &#39;com.android.billingclient:billing:3.0.1&#39;\r\n    //api &#39;com.facebook.android:facebook-android-sdk:5.15.3&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads-lite:19.5.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;com.google.android.datatransport:transport-runtime:2.2.5&#39;\r\n}\r\n```\r\nThe error doesn&#39;t happen with firebase crashlytics dependency version 17.1.1 and below.\r\n\r\nI have already tried:\r\n- Rebuilding Project\r\n- Cleaning Project\r\n- Invalidating Cache and Restarting","title":"&quot;error: package com.google.firebase.iid does not exist&quot; After updating Firebase Crashlytics dependency","body":"<p>I have updated my Firebase Crashlytics from</p>\n<pre><code>implementation 'com.google.firebase:firebase-crashlytics:17.1.1'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'com.google.firebase:firebase-crashlytics:17.3.0'\n</code></pre>\n<p>Now I am getting this error:</p>\n<pre><code>error: package com.google.firebase.iid does not exist\n</code></pre>\n<p>When I try to import this:</p>\n<pre><code>import com.google.firebase.iid.FirebaseInstanceId;\nimport com.google.firebase.iid.InstanceIdResult;\n</code></pre>\n<p>This is my project level build.gradle file:</p>\n<pre><code>buildscript {\n    ext {\n        kotlin_version = '1.3.72'\n    }\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.1'\n        classpath 'com.google.gms:google-services:4.3.4'\n        classpath 'com.google.firebase:perf-plugin:1.3.4'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.4.1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.4.20&quot; }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>This is my app level build.gradle file:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.firebase-perf'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'com.google.firebase.crashlytics'\n\nandroid {\n    compileSdkVersion 30\n    defaultConfig {\n        applicationId &quot;...&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        versionCode ...\n        versionName &quot;...&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            //shrinkResources true NOT SUPPORTED FOR DYNAMIC MODULES\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            multiDexEnabled true\n        }\n        debug {\n            multiDexEnabled true\n        }\n    }\n\n    dynamicFeatures = [&quot;:premium&quot;, ':tutorial']\n    compileOptions {\n        sourceCompatibility = 1.8\n        targetCompatibility = 1.8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    api 'androidx.appcompat:appcompat:1.2.0'\n    api 'com.google.android.material:material:1.2.1'\n    api 'androidx.constraintlayout:constraintlayout:2.0.4'\n    api 'com.google.android.play:core:1.8.3'\n    api 'com.google.firebase:firebase-analytics:18.0.0'\n    api 'com.google.firebase:firebase-perf:19.0.10'\n    api 'com.google.firebase:firebase-invites:17.0.0'\n    api 'com.google.firebase:firebase-firestore:22.0.0'\n    api 'androidx.legacy:legacy-support-v4:1.0.0'\n    api 'com.google.firebase:firebase-config:20.0.1'\n    implementation 'com.google.firebase:firebase-appindexing:19.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.3.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    api 'androidx.navigation:navigation-fragment:2.3.1'\n    api 'androidx.cardview:cardview:1.0.0'\n    api 'androidx.recyclerview:recyclerview:1.1.0'\n    api 'androidx.preference:preference:1.1.1'\n    implementation 'com.google.firebase:firebase-crashlytics:17.3.0'\n    androidTestImplementation 'androidx.test:rules:1.3.0'\n    api 'com.google.firebase:firebase-auth:20.0.1'\n    api 'com.google.zxing:core:3.3.3'\n    api 'com.android.billingclient:billing:3.0.1'\n    //api 'com.facebook.android:facebook-android-sdk:5.15.3'\n    implementation 'com.google.android.gms:play-services-ads-lite:19.5.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'com.google.android.datatransport:transport-runtime:2.2.5'\n}\n</code></pre>\n<p>The error doesn't happen with firebase crashlytics dependency version 17.1.1 and below.</p>\n<p>I have already tried:</p>\n<ul>\n<li>Rebuilding Project</li>\n<li>Cleaning Project</li>\n<li>Invalidating Cache and Restarting</li>\n</ul>\n"},{"tags":["java","android","android-studio","floating-action-button","ripple-effect"],"answers":[{"tags":[],"owner":{"account_id":17104354,"reputation":26,"user_id":12376710,"display_name":"galaxyan12"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635935473,"creation_date":1635931358,"answer_id":69822387,"question_id":69821941,"body_markdown":"You can simply use `foreground` for your `View` to achieve clickable effect:\r\nIt should be like this:\r\n```\r\n&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n    android:id=&quot;@+id/fab&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:maxImageSize=&quot;@dimen/_130sdp&quot;\r\n    android:layout_gravity=&quot;center|bottom&quot;\r\n    android:contentDescription=&quot;@string/app_name&quot;\r\n    app:srcCompat=&quot;@drawable/ic_radial_gradient&quot;\r\n    app:backgroundTint=&quot;@color/white&quot;\r\n    app:elevation=&quot;0dp&quot;\r\n    app:layout_anchor=&quot;@id/bottomAppBar&quot;\r\n    app:tint=&quot;@null&quot;\r\n    android:foreground=&quot;?android:attr/selectableItemBackgroundBorderless&quot;\r\n/&gt;\r\n```\r\n\r\nWe just have to add this line to the `View` to show ripple effect when it is clicked.\r\n\r\n&gt; android:foreground=&quot;?android:attr/selectableItemBackgroundBorderless&quot;\r\n\r\n","title":"How to give ripple effect above Src image in FAB","body":"<p>You can simply use <code>foreground</code> for your <code>View</code> to achieve clickable effect:\nIt should be like this:</p>\n<pre><code>&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n    android:id=&quot;@+id/fab&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:maxImageSize=&quot;@dimen/_130sdp&quot;\n    android:layout_gravity=&quot;center|bottom&quot;\n    android:contentDescription=&quot;@string/app_name&quot;\n    app:srcCompat=&quot;@drawable/ic_radial_gradient&quot;\n    app:backgroundTint=&quot;@color/white&quot;\n    app:elevation=&quot;0dp&quot;\n    app:layout_anchor=&quot;@id/bottomAppBar&quot;\n    app:tint=&quot;@null&quot;\n    android:foreground=&quot;?android:attr/selectableItemBackgroundBorderless&quot;\n/&gt;\n</code></pre>\n<p>We just have to add this line to the <code>View</code> to show ripple effect when it is clicked.</p>\n<blockquote>\n<p>android:foreground=&quot;?android:attr/selectableItemBackgroundBorderless&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23225653,"reputation":11,"user_id":17317236,"display_name":"TURKI ALSUBAIE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635932126,"creation_date":1635932126,"answer_id":69822553,"question_id":69821941,"body_markdown":"try add this line to your XML\r\n\r\n    android:foreground=&quot;?android:attr/selectableItemBackgroundBorderless&quot;","title":"How to give ripple effect above Src image in FAB","body":"<p>try add this line to your XML</p>\n<pre><code>android:foreground=&quot;?android:attr/selectableItemBackgroundBorderless&quot;\n</code></pre>\n"}],"owner":{"account_id":14704114,"reputation":71,"user_id":10619360,"display_name":"mayra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69822387,"answer_count":2,"score":0,"last_activity_date":1635935473,"creation_date":1635929238,"question_id":69821941,"body_markdown":"I am working with FAB in android and I have increased the Src image size to cover the FAB but now whenever I click on FAB the ripple effect is shown behind the image instead of above it, which doesn&#39;t give a feel that FAB is clicked\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6NQpn.png\r\n\r\nMy FAB code\r\n\r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/fab&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:maxImageSize=&quot;@dimen/_130sdp&quot;\r\n        android:layout_gravity=&quot;center|bottom&quot;\r\n        android:contentDescription=&quot;@string/app_name&quot;\r\n        app:srcCompat=&quot;@drawable/ic_radial_gradient&quot;\r\n        app:backgroundTint=&quot;@color/white&quot;\r\n        app:elevation=&quot;0dp&quot;\r\n        app:layout_anchor=&quot;@id/bottomAppBar&quot;\r\n        app:tint=&quot;@null&quot;/&gt;","title":"How to give ripple effect above Src image in FAB","body":"<p>I am working with FAB in android and I have increased the Src image size to cover the FAB but now whenever I click on FAB the ripple effect is shown behind the image instead of above it, which doesn't give a feel that FAB is clicked</p>\n<p><a href=\"https://i.stack.imgur.com/6NQpn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6NQpn.png\" alt=\"enter image description here\" /></a></p>\n<p>My FAB code</p>\n<pre><code>    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n    android:id=&quot;@+id/fab&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:maxImageSize=&quot;@dimen/_130sdp&quot;\n    android:layout_gravity=&quot;center|bottom&quot;\n    android:contentDescription=&quot;@string/app_name&quot;\n    app:srcCompat=&quot;@drawable/ic_radial_gradient&quot;\n    app:backgroundTint=&quot;@color/white&quot;\n    app:elevation=&quot;0dp&quot;\n    app:layout_anchor=&quot;@id/bottomAppBar&quot;\n    app:tint=&quot;@null&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":1,"creation_date":1635910060,"post_id":69818696,"comment_id":123415979,"body_markdown":"You should also provide sample JSON data","body":"You should also provide sample JSON data"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":1,"creation_date":1635917272,"post_id":69818696,"comment_id":123417049,"body_markdown":"okay, I added a sample redacted json response including the actual object deserializer","body":"okay, I added a sample redacted json response including the actual object deserializer"}],"answers":[{"tags":[],"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635935429,"creation_date":1635935429,"answer_id":69823292,"question_id":69818696,"body_markdown":"You can just add the `@JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)` over your `private List&lt;CreditCardDetails&gt; details;` in `GetCreditCardInfo` class.\r\n\r\nThis way if there is only one value (`ns:return` is an object) in the json, it will be deserialized as one-element List in java.\r\n\r\nSo try changing `GetCreditCardInfo` to the following:\r\n\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\r\n    // @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public final class GetCreditCardInfo {\r\n    \r\n        @JsonAlias(&quot;ns:return&quot;)\r\n        @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n        private List&lt;CreditCardDetails&gt; details;    \r\n    }","title":"Cannot deserialize both object and list of objects","body":"<p>You can just add the <code>@JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)</code> over your <code>private List&lt;CreditCardDetails&gt; details;</code> in <code>GetCreditCardInfo</code> class.</p>\n<p>This way if there is only one value (<code>ns:return</code> is an object) in the json, it will be deserialized as one-element List in java.</p>\n<p>So try changing <code>GetCreditCardInfo</code> to the following:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\n// @JsonInclude(JsonInclude.Include.NON_NULL)\npublic final class GetCreditCardInfo {\n\n    @JsonAlias(&quot;ns:return&quot;)\n    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\n    private List&lt;CreditCardDetails&gt; details;    \n}\n</code></pre>\n"}],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69823292,"answer_count":1,"score":1,"last_activity_date":1635935429,"creation_date":1635902959,"question_id":69818696,"body_markdown":"I&#39;m trying to deserialize a response of either an Object or a List of Objects from our southbound API. Now, I tried just parsing an object or a List of Objects with this code just removing either of the two and it works. So I&#39;m sure either of the parsing I have below works, but when I am trying to combine both parsers into one, I get an error of\r\n\r\n&gt; Cannot deserialize instance of object out of START_ARRAY token \r\n\r\n\r\nThis is even though the payload with object is correctly formatted and this code below could convert a single object to a List of Object and vice versa.\r\n\r\n\r\nBelow is the code that I have.\r\n     \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\r\n    // @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public final class GetCreditCardInfo {\r\n\r\n        // Deserializer for List of Objects\r\n        @JsonAlias(&quot;ns:return&quot;)\r\n        private List&lt;CreditCardDetails&gt; details;\r\n        \r\n        // Deserializer for an Object\r\n        @JsonAlias(&quot;ns:return&quot;)\r\n        private CreditCardDetails detailsObject;\r\n    \r\n    \r\n          public List&lt;CreditCardDetails&gt; getDetails() {\r\n        // List&lt; CreditCardDetails &gt; list = List.of( detailsObject ) ;\r\n        if(details == null) {\r\n            details = List.of(detailsObject);\r\n        } else {\r\n\r\n        }\r\n        return details;\r\n    }\r\n    }\r\n\r\nWhat the code does above is that i tries to parse either an object or a list of object. If it cant get a list of object, it would then try to parse the object into a list of object, otherwise, it would retain the list of object it got from the southbound API.\r\n\r\n\r\nWhat do I do to make this work as I intended?. Thanks\r\n\r\n\r\nSample JSON List of Objects\r\n \r\n\r\n    {\r\n       &quot;soapenv:Envelope&quot;:{\r\n          &quot;soapenv:Body&quot;:{\r\n             &quot;ns:getCreditCardResponse&quot;:{\r\n                &quot;xmlns:ns&quot;:&quot;&quot;,\r\n                &quot;ns:return&quot;:[\r\n                   {\r\n                      &quot;ax21:cif&quot;:&quot;1&quot;\r\n                   },\r\n                   {\r\n                      &quot;ax21:cif&quot;:&quot;2&quot;\r\n                   }\r\n                ],\r\n                &quot;xmlns:ax21&quot;:&quot;&quot;,\r\n                &quot;xmlns:ax23&quot;:&quot;&quot;\r\n             }\r\n          },\r\n          &quot;xmlns:soapenv&quot;:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n       }\r\n    }\r\n\r\n\r\n\r\nSample JSON Object:  \r\n\r\n    {\r\n       &quot;soapenv:Envelope&quot;:{\r\n          &quot;soapenv:Body&quot;:{\r\n             &quot;ns:getCreditCardResponse&quot;:{\r\n                &quot;xmlns:ns&quot;:&quot;&quot;,\r\n                &quot;ns:return&quot;:{\r\n                   &quot;ax21:cif&quot;:&quot;1&quot;\r\n                },\r\n                &quot;xmlns:cif&quot;:&quot;&quot;\r\n             }\r\n          },\r\n          &quot;xmlns:soapenv&quot;:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n       }\r\n    }\r\n\r\n\r\n\r\nPS:\r\n- The Sample JSON Objects could already be deserialized by the two deserializers that I have in the code\r\n- I also tried annotating my class with \r\n\r\n&gt; @JsonInclude(JsonInclude.Include.NON_NULL)\r\n\r\n to ignore deserialization errors with non existent json field, but still the issue persist.\r\n\r\nSample: Object Deserializer\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\r\n    public final class CreditCardDetails {\r\n    \r\n        @JsonAlias(&quot;ax21:cif&quot;)\r\n        private String cif;\r\n\r\n    }\r\n\r\n","title":"Cannot deserialize both object and list of objects","body":"<p>I'm trying to deserialize a response of either an Object or a List of Objects from our southbound API. Now, I tried just parsing an object or a List of Objects with this code just removing either of the two and it works. So I'm sure either of the parsing I have below works, but when I am trying to combine both parsers into one, I get an error of</p>\n<blockquote>\n<p>Cannot deserialize instance of object out of START_ARRAY token</p>\n</blockquote>\n<p>This is even though the payload with object is correctly formatted and this code below could convert a single object to a List of Object and vice versa.</p>\n<p>Below is the code that I have.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\n// @JsonInclude(JsonInclude.Include.NON_NULL)\npublic final class GetCreditCardInfo {\n\n    // Deserializer for List of Objects\n    @JsonAlias(&quot;ns:return&quot;)\n    private List&lt;CreditCardDetails&gt; details;\n    \n    // Deserializer for an Object\n    @JsonAlias(&quot;ns:return&quot;)\n    private CreditCardDetails detailsObject;\n\n\n      public List&lt;CreditCardDetails&gt; getDetails() {\n    // List&lt; CreditCardDetails &gt; list = List.of( detailsObject ) ;\n    if(details == null) {\n        details = List.of(detailsObject);\n    } else {\n\n    }\n    return details;\n}\n}\n</code></pre>\n<p>What the code does above is that i tries to parse either an object or a list of object. If it cant get a list of object, it would then try to parse the object into a list of object, otherwise, it would retain the list of object it got from the southbound API.</p>\n<p>What do I do to make this work as I intended?. Thanks</p>\n<p>Sample JSON List of Objects</p>\n<pre><code>{\n   &quot;soapenv:Envelope&quot;:{\n      &quot;soapenv:Body&quot;:{\n         &quot;ns:getCreditCardResponse&quot;:{\n            &quot;xmlns:ns&quot;:&quot;&quot;,\n            &quot;ns:return&quot;:[\n               {\n                  &quot;ax21:cif&quot;:&quot;1&quot;\n               },\n               {\n                  &quot;ax21:cif&quot;:&quot;2&quot;\n               }\n            ],\n            &quot;xmlns:ax21&quot;:&quot;&quot;,\n            &quot;xmlns:ax23&quot;:&quot;&quot;\n         }\n      },\n      &quot;xmlns:soapenv&quot;:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n   }\n}\n</code></pre>\n<p>Sample JSON Object:</p>\n<pre><code>{\n   &quot;soapenv:Envelope&quot;:{\n      &quot;soapenv:Body&quot;:{\n         &quot;ns:getCreditCardResponse&quot;:{\n            &quot;xmlns:ns&quot;:&quot;&quot;,\n            &quot;ns:return&quot;:{\n               &quot;ax21:cif&quot;:&quot;1&quot;\n            },\n            &quot;xmlns:cif&quot;:&quot;&quot;\n         }\n      },\n      &quot;xmlns:soapenv&quot;:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n   }\n}\n</code></pre>\n<p>PS:</p>\n<ul>\n<li>The Sample JSON Objects could already be deserialized by the two deserializers that I have in the code</li>\n<li>I also tried annotating my class with</li>\n</ul>\n<blockquote>\n<p>@JsonInclude(JsonInclude.Include.NON_NULL)</p>\n</blockquote>\n<p>to ignore deserialization errors with non existent json field, but still the issue persist.</p>\n<p>Sample: Object Deserializer</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\npublic final class CreditCardDetails {\n\n    @JsonAlias(&quot;ax21:cif&quot;)\n    private String cif;\n\n}\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","selenium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635963888,"post_id":69823157,"comment_id":123434823,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1636538498,"post_id":69823157,"comment_id":123581477,"body_markdown":"**Note:** Changing the orientation of your mobile device can be done only before test execution starts, using a capability. The orientation cannot be changed in the middle of the test script. **Plus**, I&#39;m not 100% sure, but selenium.dev didn&#39;t fully implement the orientation capability, they started it but it has now been superseded by Chrome DevTools on Selenium 4.0.0","body":"<b>Note:</b> Changing the orientation of your mobile device can be done only before test execution starts, using a capability. The orientation cannot be changed in the middle of the test script. <b>Plus</b>, I&#39;m not 100% sure, but selenium.dev didn&#39;t fully implement the orientation capability, they started it but it has now been superseded by Chrome DevTools on Selenium 4.0.0"},{"owner":{"account_id":15268946,"reputation":1,"user_id":11016693,"display_name":"Rasika Thakare"},"score":0,"creation_date":1636629770,"post_id":69823157,"comment_id":123610902,"body_markdown":"I am able to use DevTools on selenium 4.0.0-rc-1  but  its giving error before driver initializes  :  Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError @djmonki","body":"I am able to use DevTools on selenium 4.0.0-rc-1  but  its giving error before driver initializes  :  Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError @djmonki"}],"owner":{"account_id":15268946,"reputation":1,"user_id":11016693,"display_name":"Rasika Thakare"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635934791,"creation_date":1635934791,"question_id":69823157,"body_markdown":"Map&lt;String, Object&gt; mobileEmulator = new HashMap&lt;String, Object&gt;();\r\n \r\n                mobileEmulator.put(&quot;deviceName&quot;, deviceName);\r\n\r\n                WebDriverManager.chromedriver().setup();\r\n\r\n                ChromeOptions chromeOption = new ChromeOptions();\r\n                chromeOption.setPageLoadStrategy(PageLoadStrategy.NONE);\r\n                chromeOption.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulator);\r\n\r\n                DesiredCapabilities caps = new DesiredCapabilities();\r\n                caps.setCapability(&quot;rotatable&quot;, true);\r\n                caps.setCapability(&quot;deviceOrientation&quot;, orientationMode);\r\n                caps.setCapability(ChromeOptions.CAPABILITY, chromeOption);\r\n \r\n                chromeOption.merge(caps);\r\n\r\n                driver = new ChromeDriver(chromeOption);","title":"How to rotate Mobile device while testing using JAVA to landscape and portrait . I tried to use DesiredCapabilities but it didn&#39;t worked","body":"<p>Map&lt;String, Object&gt; mobileEmulator = new HashMap&lt;String, Object&gt;();</p>\n<pre><code>            mobileEmulator.put(&quot;deviceName&quot;, deviceName);\n\n            WebDriverManager.chromedriver().setup();\n\n            ChromeOptions chromeOption = new ChromeOptions();\n            chromeOption.setPageLoadStrategy(PageLoadStrategy.NONE);\n            chromeOption.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulator);\n\n            DesiredCapabilities caps = new DesiredCapabilities();\n            caps.setCapability(&quot;rotatable&quot;, true);\n            caps.setCapability(&quot;deviceOrientation&quot;, orientationMode);\n            caps.setCapability(ChromeOptions.CAPABILITY, chromeOption);\n\n            chromeOption.merge(caps);\n\n            driver = new ChromeDriver(chromeOption);\n</code></pre>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1635932443,"post_id":69822499,"comment_id":123421420,"body_markdown":"Can you print the contents of `awesome.json` you mention in the code.","body":"Can you print the contents of <code>awesome.json</code> you mention in the code."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":3,"creation_date":1635932947,"post_id":69822499,"comment_id":123421617,"body_markdown":"The contents of the string `&quot;awesome.json&quot;` **is** `awesome.json`. The OP is confused with this overload: https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.5/com/google/gson/Gson.html#fromJson-java.lang.String-java.lang.Class- -- it **only** accepts JSONs as strings, and yeah `awesome.json` **it not** a valid JSON, it looks like a filename, resource name, whatever, but not a JSON at all. Read the contents of the file into a string, or better open a `java.io.InputStream`, wrap it in `java.io.Reader` and pass to the `fromJson` method overload.","body":"The contents of the string <code>&quot;awesome.json&quot;</code> <b>is</b> <code>awesome.json</code>. The OP is confused with this overload: <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.5/com/google/gson/Gson.html#fromJson-java.lang.String-java.lang.Class-\" rel=\"nofollow noreferrer\">javadoc.io/doc/com.google.code.gson/gson/2.8.5/com/google/gs&zwnj;&#8203;on/&hellip;</a> -- it <b>only</b> accepts JSONs as strings, and yeah <code>awesome.json</code> <b>it not</b> a valid JSON, it looks like a filename, resource name, whatever, but not a JSON at all. Read the contents of the file into a string, or better open a <code>java.io.InputStream</code>, wrap it in <code>java.io.Reader</code> and pass to the <code>fromJson</code> method overload."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1635932547,"creation_date":1635932547,"answer_id":69822648,"question_id":69822499,"body_markdown":"Let&#39;s look at the error code\r\n\r\n&gt; Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $\r\n\r\nSo, it seems that the library is expecting a `json array`, but you give it a String instead.\r\n\r\nIt most probably has to do with this like `new TypeToken&lt;Collection&lt;Event&gt;&gt;()` you are saying that your type is a `collection` of events, not a single event. \r\n\r\nTry changing it to `TypeToken&lt;Event&gt;` and see if this works.","title":"Manipulate JSON with Gson","body":"<p>Let's look at the error code</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $</p>\n</blockquote>\n<p>So, it seems that the library is expecting a <code>json array</code>, but you give it a String instead.</p>\n<p>It most probably has to do with this like <code>new TypeToken&lt;Collection&lt;Event&gt;&gt;()</code> you are saying that your type is a <code>collection</code> of events, not a single event.</p>\n<p>Try changing it to <code>TypeToken&lt;Event&gt;</code> and see if this works.</p>\n"}],"owner":{"account_id":19844569,"reputation":19,"user_id":14536508,"display_name":"user14536508"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635941807,"answer_count":1,"score":-2,"last_activity_date":1635934489,"creation_date":1635931886,"question_id":69822499,"body_markdown":"I have the following problem. I have a Writer class which writes me all objects I create into a JSON file via Gson. The output looks like that:\r\n\r\n        {\r\n      &quot;eventID&quot;: 1,\r\n      &quot;title&quot;: &quot;one&quot;,\r\n      &quot;timeCreated&quot;: &quot;Sep 23, 2007, 10:10:00 AM&quot;,\r\n      &quot;timeModified&quot;: &quot;Sep 23, 2007, 10:10:00 AM&quot;,\r\n      &quot;timeStart&quot;: &quot;Nov 11, 2999, 11:11:00 AM&quot;,\r\n      &quot;timeEnd&quot;: &quot;Nov 11, 3999, 11:11:00 AM&quot;,\r\n      &quot;alarmOn&quot;: true,\r\n      &quot;content&quot;: &quot;&quot;\r\n    }\r\n\r\neventID is a serialized integer created with AtomicInteger each time a new obj get created.\r\n\r\nI want to manipulate those object e.g., set a new title.\r\nSo in the first step I tried to get the JSON back into java via fromJson\r\n\r\n    Gson gson = new Gson();\r\n    Type myDataType = new TypeToken&lt;Collection&lt;Event&gt;&gt;() {\r\n    }.getType();\r\n    Collection&lt;Event&gt; myData = gson.fromJson(&quot;awesome.json&quot;, myDataType);\r\n    for (Event e : myData) {\r\n        System.out.println(&quot;value= &quot; + e.getTitle());\r\n    }\r\n\r\nHowever, this leads to an error \r\n\r\n&gt; Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $\r\n\r\nHow do I properly read my json back to my java class, apply some changes and write it after back again to json?\r\n\r\n","title":"Manipulate JSON with Gson","body":"<p>I have the following problem. I have a Writer class which writes me all objects I create into a JSON file via Gson. The output looks like that:</p>\n<pre><code>    {\n  &quot;eventID&quot;: 1,\n  &quot;title&quot;: &quot;one&quot;,\n  &quot;timeCreated&quot;: &quot;Sep 23, 2007, 10:10:00 AM&quot;,\n  &quot;timeModified&quot;: &quot;Sep 23, 2007, 10:10:00 AM&quot;,\n  &quot;timeStart&quot;: &quot;Nov 11, 2999, 11:11:00 AM&quot;,\n  &quot;timeEnd&quot;: &quot;Nov 11, 3999, 11:11:00 AM&quot;,\n  &quot;alarmOn&quot;: true,\n  &quot;content&quot;: &quot;&quot;\n}\n</code></pre>\n<p>eventID is a serialized integer created with AtomicInteger each time a new obj get created.</p>\n<p>I want to manipulate those object e.g., set a new title.\nSo in the first step I tried to get the JSON back into java via fromJson</p>\n<pre><code>Gson gson = new Gson();\nType myDataType = new TypeToken&lt;Collection&lt;Event&gt;&gt;() {\n}.getType();\nCollection&lt;Event&gt; myData = gson.fromJson(&quot;awesome.json&quot;, myDataType);\nfor (Event e : myData) {\n    System.out.println(&quot;value= &quot; + e.getTitle());\n}\n</code></pre>\n<p>However, this leads to an error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $</p>\n</blockquote>\n<p>How do I properly read my json back to my java class, apply some changes and write it after back again to json?</p>\n"},{"tags":["java","android","google-play-services"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1566372978,"post_id":57586642,"comment_id":101630983,"body_markdown":"not being compliant is not something that changes by adding libraries. not being compliant means you should change either the library that is not compliant, or the one that causes it to be not compliant","body":"not being compliant is not something that changes by adding libraries. not being compliant means you should change either the library that is not compliant, or the one that causes it to be not compliant"},{"owner":{"account_id":438563,"reputation":16902,"user_id":1511776,"accept_rate":92,"display_name":"hardartcore"},"score":0,"creation_date":1566373009,"post_id":57586642,"comment_id":101631001,"body_markdown":"Check &#39;com.writingminds:FFmpegAndroid&#39; if it has 64 bit version. I guess that&#39;s your problem","body":"Check &#39;com.writingminds:FFmpegAndroid&#39; if it has 64 bit version. I guess that&#39;s your problem"},{"owner":{"account_id":9019875,"reputation":133,"user_id":6721321,"display_name":"Osama"},"score":0,"creation_date":1566373558,"post_id":57586642,"comment_id":101631286,"body_markdown":"Yes the library is fine as I already uploaded an app with same lib before with 64bit code","body":"Yes the library is fine as I already uploaded an app with same lib before with 64bit code"},{"owner":{"account_id":16644406,"reputation":465,"user_id":12029044,"display_name":"Tomaz Mazej"},"score":0,"creation_date":1569317862,"post_id":57586642,"comment_id":102549223,"body_markdown":"Possible duplicate of [How to build app compliant with Google Play 64-bit requirement?](https://stackoverflow.com/questions/55982981/how-to-build-app-compliant-with-google-play-64-bit-requirement)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/55982981/how-to-build-app-compliant-with-google-play-64-bit-requirement\">How to build app compliant with Google Play 64-bit requirement?</a>"},{"owner":{"account_id":9019875,"reputation":133,"user_id":6721321,"display_name":"Osama"},"score":0,"creation_date":1569408026,"post_id":57586642,"comment_id":102585134,"body_markdown":"The problem with this was that the library had no support for x64 art. For anyone having same problem in future should find an alternate library that has support for x64 art. To check if any library has support for x64 check this.   https://developer.android.com/distribute/best-practices/develop/64-bit","body":"The problem with this was that the library had no support for x64 art. For anyone having same problem in future should find an alternate library that has support for x64 art. To check if any library has support for x64 check this.   <a href=\"https://developer.android.com/distribute/best-practices/develop/64-bit\" rel=\"nofollow noreferrer\">developer.android.com/distribute/best-practices/develop/64-b&zwnj;&#8203;it</a>"},{"owner":{"account_id":4478641,"reputation":1025,"user_id":3669814,"accept_rate":47,"display_name":"Informatheus"},"score":0,"creation_date":1592774495,"post_id":57586642,"comment_id":110538077,"body_markdown":"My app uses an old library that is not in x64. When I did it, there wasn&#39;t even an App Bundle yet. Can someone help me by telling me how to get around the x64 issue or how do I configure my app for the App Bundle? Thanks in advance.","body":"My app uses an old library that is not in x64. When I did it, there wasn&#39;t even an App Bundle yet. Can someone help me by telling me how to get around the x64 issue or how do I configure my app for the App Bundle? Thanks in advance."}],"answers":[{"tags":[],"owner":{"account_id":11389983,"reputation":66,"user_id":8350397,"display_name":"Linh Trn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1566383568,"creation_date":1566383568,"answer_id":57589665,"question_id":57586642,"body_markdown":"@Osama: First of all, please check if your apk file have library in 64 bit. There are many way to do this:\r\n- Use Analyze Apk function of Android Studio (for more detail, please refer: https://developer.android.com/distribute/best-practices/develop/64-bit)\r\n- Archive your apk file and check inside that folder.\r\nIf your app doesn&#39;t has folder &quot;arm64-v8a&quot; it mean your app still not versioned up to 64 bit.\r\n\r\nAbout your requirement, if you want your app is support 64 bit architecture, you must also version up your native library (.so file) to 64 bit.\r\n\r\nAbout your code: \r\n````\r\nndk.abiFilters &#39;armeabi-v7a&#39;,&#39;arm64-v8a&#39;,&#39;x86&#39;,&#39;x86_64&#39;&quot;\r\n````\r\nI don&#39;t recommend you add this unless you use AppBundle new feature of Android Studio.\r\nBecause when you use this, there will be 4 new apk file created for each architecture.\r\nAnd if you upload the file of arm64-v8a architecture, the error will disappear but it will announce you that your apk is support less device than previous release because it cannot support 32 bit device.\r\n\r\nThere are 2 possible solution for this problem:\r\n\r\n1. Put all library file to your apk file, it will make your app bigger but it will allow your app to support every device.\r\n\r\n2. Apply AppBundle for your project. For more detail about this, please check this link: https://android.jlelse.eu/a-practical-guide-to-android-app-bundle-for-beginners-7e8d93831828","title":"This release is not compliant with the Google Play 64-bit requirement error still after adding libraries","body":"<p>@Osama: First of all, please check if your apk file have library in 64 bit. There are many way to do this:\n- Use Analyze Apk function of Android Studio (for more detail, please refer: <a href=\"https://developer.android.com/distribute/best-practices/develop/64-bit\" rel=\"nofollow noreferrer\">https://developer.android.com/distribute/best-practices/develop/64-bit</a>)\n- Archive your apk file and check inside that folder.\nIf your app doesn't has folder \"arm64-v8a\" it mean your app still not versioned up to 64 bit.</p>\n\n<p>About your requirement, if you want your app is support 64 bit architecture, you must also version up your native library (.so file) to 64 bit.</p>\n\n<p>About your code: </p>\n\n<pre><code>ndk.abiFilters 'armeabi-v7a','arm64-v8a','x86','x86_64'\"\n</code></pre>\n\n<p>I don't recommend you add this unless you use AppBundle new feature of Android Studio.\nBecause when you use this, there will be 4 new apk file created for each architecture.\nAnd if you upload the file of arm64-v8a architecture, the error will disappear but it will announce you that your apk is support less device than previous release because it cannot support 32 bit device.</p>\n\n<p>There are 2 possible solution for this problem:</p>\n\n<ol>\n<li><p>Put all library file to your apk file, it will make your app bigger but it will allow your app to support every device.</p></li>\n<li><p>Apply AppBundle for your project. For more detail about this, please check this link: <a href=\"https://android.jlelse.eu/a-practical-guide-to-android-app-bundle-for-beginners-7e8d93831828\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/a-practical-guide-to-android-app-bundle-for-beginners-7e8d93831828</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17497499,"reputation":83,"user_id":12688457,"display_name":"Pritesh Parmar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1579529268,"creation_date":1579529268,"answer_id":59824986,"question_id":57586642,"body_markdown":"If you upload your apk on alpha version and this error will be show, so please check if any exiting apk is live or not if not live so please remove your old apk and upload your new apk.\r\n\r\nI think your problem is solve.","title":"This release is not compliant with the Google Play 64-bit requirement error still after adding libraries","body":"<p>If you upload your apk on alpha version and this error will be show, so please check if any exiting apk is live or not if not live so please remove your old apk and upload your new apk.</p>\n\n<p>I think your problem is solve.</p>\n"},{"tags":[],"owner":{"account_id":4366153,"reputation":2931,"user_id":3561889,"accept_rate":59,"display_name":"Ucdemir"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1613214966,"creation_date":1586516092,"answer_id":61138815,"question_id":57586642,"body_markdown":"I have faced with same situation... \r\nMy application wasnot game neither cross-platform  application...\r\nI have faced with this situation...\r\nSolutions was simple... One of my app dependecy(library that implemented by gradle) was using ndk...\r\nAfter I remove it, problem gone.\r\n","title":"This release is not compliant with the Google Play 64-bit requirement error still after adding libraries","body":"<p>I have faced with same situation...\nMy application wasnot game neither cross-platform  application...\nI have faced with this situation...\nSolutions was simple... One of my app dependecy(library that implemented by gradle) was using ndk...\nAfter I remove it, problem gone.</p>\n"},{"tags":[],"owner":{"account_id":18498230,"reputation":57,"user_id":13476144,"display_name":"Hemanths"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1588699312,"creation_date":1588699312,"answer_id":61619116,"question_id":57586642,"body_markdown":"    android {    \r\n        compileSdkVersion 29    \r\n        defaultConfig {    \r\n            -----    \r\n            -----    \r\n            ndk.abiFilters &#39;armeabi-v7a&#39;,&#39;arm64-v8a&#39;,&#39;x86&#39;,&#39;x86_64&#39;    \r\n            ndk {    \r\n                abiFilters &#39;armeabi-v7a&#39;,&#39;arm64-v8a&#39;,&#39;x86&#39;,&#39;x86_64&#39;    \r\n            }    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;    \r\n        }    \r\n       \r\n        packagingOptions {    \r\n                exclude &#39;lib/armeabi-v7a/libvudroid.so&#39;    \r\n                exclude &#39;lib/x86/libvudroid.so&#39;    \r\n                exclude &#39;lib/arm64-v8a/libvudroid.so&#39;    \r\n            }    \r\n    ","title":"This release is not compliant with the Google Play 64-bit requirement error still after adding libraries","body":"<pre><code>android {    \n    compileSdkVersion 29    \n    defaultConfig {    \n        -----    \n        -----    \n        ndk.abiFilters 'armeabi-v7a','arm64-v8a','x86','x86_64'    \n        ndk {    \n            abiFilters 'armeabi-v7a','arm64-v8a','x86','x86_64'    \n        }    \n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"    \n    }    \n\n    packagingOptions {    \n            exclude 'lib/armeabi-v7a/libvudroid.so'    \n            exclude 'lib/x86/libvudroid.so'    \n            exclude 'lib/arm64-v8a/libvudroid.so'    \n        }    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1169244,"reputation":11,"user_id":1146781,"display_name":"David Yee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608531309,"creation_date":1608530064,"answer_id":65388105,"question_id":57586642,"body_markdown":"From my case, what the google support team replied, it is due to an older (legacy) release build uploaded (which does not comply the 64-bit requirement) where it is being included at the &#39;previous release&#39; section while uploading the new application.","title":"This release is not compliant with the Google Play 64-bit requirement error still after adding libraries","body":"<p>From my case, what the google support team replied, it is due to an older (legacy) release build uploaded (which does not comply the 64-bit requirement) where it is being included at the 'previous release' section while uploading the new application.</p>\n"},{"tags":[],"owner":{"account_id":11275196,"reputation":2036,"user_id":8269427,"display_name":"Harshit Rastogi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624346382,"creation_date":1624344695,"answer_id":68078796,"question_id":57586642,"body_markdown":"You need to add the following to your android/app/build.gradle file:\r\n\r\n    android {    \r\n        defaultConfig {\r\n            ....\r\n            ....\r\n            ndk {\r\n                abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nadd the following to your android/build.gradle file:\r\n\r\n    subprojects {\r\n        afterEvaluate {project -&gt;\r\n            if (project.hasProperty(&quot;android&quot;)) {\r\n                android {\r\n                    .....\r\n                    .....\r\n    \r\n                    packagingOptions {\r\n                        pickFirst &#39;lib/x86/libc++_shared.so&#39;\r\n                        pickFirst &#39;lib/arm64-v8a/libc++_shared.so&#39;\r\n                        pickFirst &#39;lib/x86_64/libc++_shared.so&#39;\r\n                        pickFirst &#39;lib/armeabi-v7a/libc++_shared.so&#39;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis is to include the 64-bit architecture.\r\nIf not this, then you might need to create app bundle and then upload","title":"This release is not compliant with the Google Play 64-bit requirement error still after adding libraries","body":"<p>You need to add the following to your android/app/build.gradle file:</p>\n<pre><code>android {    \n    defaultConfig {\n        ....\n        ....\n        ndk {\n            abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\n        }\n    }\n}\n</code></pre>\n<p>add the following to your android/build.gradle file:</p>\n<pre><code>subprojects {\n    afterEvaluate {project -&gt;\n        if (project.hasProperty(&quot;android&quot;)) {\n            android {\n                .....\n                .....\n\n                packagingOptions {\n                    pickFirst 'lib/x86/libc++_shared.so'\n                    pickFirst 'lib/arm64-v8a/libc++_shared.so'\n                    pickFirst 'lib/x86_64/libc++_shared.so'\n                    pickFirst 'lib/armeabi-v7a/libc++_shared.so'\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is to include the 64-bit architecture.\nIf not this, then you might need to create app bundle and then upload</p>\n"}],"owner":{"account_id":9019875,"reputation":133,"user_id":6721321,"display_name":"Osama"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16476,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57589665,"answer_count":6,"score":6,"last_activity_date":1635933995,"creation_date":1566372910,"question_id":57586642,"body_markdown":"I am uploading a video editor app on play store that has libraries with some native code. So I made it compatible for 64bit by adding this to gradle.\r\n\r\n    ndk.abiFilters &#39;armeabi-v7a&#39;,&#39;arm64-v8a&#39;,&#39;x86&#39;,&#39;x86_64&#39;\r\n\r\nAdding it still problem is not solved . When I upload on playstore it still gives 64bit error. This is my gradle\r\n\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        defaultConfig {\r\n            applicationId &quot;com.maam.videoeditor&quot;\r\n            minSdkVersion 17\r\n            targetSdkVersion 28\r\n            versionCode 5\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            ndk.abiFilters &#39;armeabi-v7a&#39;,&#39;arm64-v8a&#39;,&#39;x86&#39;,&#39;x86_64&#39;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &quot;com.android.support:customtabs:28.0.0&quot;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n    \r\n        implementation &#39;com.writingminds:FFmpegAndroid:0.3.2&#39;\r\n      \r\n    }\r\n\r\n\r\nI have added 64bit line in gradle but on uploading 64bit not compliant error shows. Kindly guide on solving this problem.","title":"This release is not compliant with the Google Play 64-bit requirement error still after adding libraries","body":"<p>I am uploading a video editor app on play store that has libraries with some native code. So I made it compatible for 64bit by adding this to gradle.</p>\n\n<pre><code>ndk.abiFilters 'armeabi-v7a','arm64-v8a','x86','x86_64'\n</code></pre>\n\n<p>Adding it still problem is not solved . When I upload on playstore it still gives 64bit error. This is my gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.maam.videoeditor\"\n        minSdkVersion 17\n        targetSdkVersion 28\n        versionCode 5\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        ndk.abiFilters 'armeabi-v7a','arm64-v8a','x86','x86_64'\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation \"com.android.support:customtabs:28.0.0\"\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n\n    implementation 'com.writingminds:FFmpegAndroid:0.3.2'\n\n}\n</code></pre>\n\n<p>I have added 64bit line in gradle but on uploading 64bit not compliant error shows. Kindly guide on solving this problem.</p>\n"},{"tags":["java","querydsl"],"comments":[{"owner":{"account_id":92092,"reputation":21904,"user_id":252552,"accept_rate":81,"display_name":"Timo Westk&#228;mper"},"score":0,"creation_date":1403335946,"post_id":24334499,"comment_id":37627077,"body_markdown":"Are you talking about Querydsl JPA or SQL?","body":"Are you talking about Querydsl JPA or SQL?"},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1403398946,"post_id":24334499,"comment_id":37642571,"body_markdown":"QueryDSL JPA.  Sorry - forgot there was that distinction.","body":"QueryDSL JPA.  Sorry - forgot there was that distinction."},{"owner":{"account_id":3044540,"reputation":877,"user_id":2580580,"accept_rate":67,"display_name":"Sebastian"},"score":0,"creation_date":1484732325,"post_id":24334499,"comment_id":70626523,"body_markdown":"maybe you are looking for something like `QMyTable.myAttribute.path.getMetadata().getName()`?","body":"maybe you are looking for something like <code>QMyTable.myAttribute.path.getMetadata().getName()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":92092,"reputation":21904,"user_id":252552,"accept_rate":81,"display_name":"Timo Westk&#228;mper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1403449492,"creation_date":1403449492,"answer_id":24352513,"question_id":24334499,"body_markdown":"Querydsl does not know/care about the table names in Querydsl JPA. It serializes the queries into JPQL where classes and properties are used instead of tables and columns.\r\n\r\nIf you need the SQL model you can use Querydsl SQL instead or inspect the JPA metamodel via the JPA API.","title":"Retrieving table name and/or column name via QueryDSL?","body":"<p>Querydsl does not know/care about the table names in Querydsl JPA. It serializes the queries into JPQL where classes and properties are used instead of tables and columns.</p>\n\n<p>If you need the SQL model you can use Querydsl SQL instead or inspect the JPA metamodel via the JPA API.</p>\n"},{"tags":[],"owner":{"account_id":2498979,"reputation":111,"user_id":2174654,"display_name":"abdelali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635933946,"creation_date":1635933946,"answer_id":69822974,"question_id":24334499,"body_markdown":"Too late response, but might help someone else.\r\nYou can try the MetaDataExporter.\r\n\r\n    java.sql.Connection conn = ...;\r\n    MetaDataExporter exporter = new MetaDataExporter();\r\n    exporter.setPackageName(&quot;com.myproject.mydomain&quot;);\r\n    exporter.setTargetFolder(new File(&quot;target/generated-sources/java&quot;));\r\n    exporter.export(conn.getMetaData());\r\n\r\n","title":"Retrieving table name and/or column name via QueryDSL?","body":"<p>Too late response, but might help someone else.\nYou can try the MetaDataExporter.</p>\n<pre><code>java.sql.Connection conn = ...;\nMetaDataExporter exporter = new MetaDataExporter();\nexporter.setPackageName(&quot;com.myproject.mydomain&quot;);\nexporter.setTargetFolder(new File(&quot;target/generated-sources/java&quot;));\nexporter.export(conn.getMetaData());\n</code></pre>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2466,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24352513,"answer_count":2,"score":3,"last_activity_date":1635933946,"creation_date":1403293178,"question_id":24334499,"body_markdown":"Is there any way in QueryDSL to retrieve the table name and/or column name for an entity from the `Q` classes?  I&#39;ve looked through the classes and can&#39;t find anything offhand, but I figure there must be a way for QueryDSL to know the table names.\r\n","title":"Retrieving table name and/or column name via QueryDSL?","body":"<p>Is there any way in QueryDSL to retrieve the table name and/or column name for an entity from the <code>Q</code> classes?  I've looked through the classes and can't find anything offhand, but I figure there must be a way for QueryDSL to know the table names.</p>\n"},{"tags":["java","spring-boot","spring-mvc","swagger"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635933867,"creation_date":1635933498,"answer_id":69822863,"question_id":69822763,"body_markdown":"What you can do is make the version number a part of the tag like @Tag(&quot;v1/controller&quot;)\r\nThis will achieve a nice grouping.","title":"Group controllers in same tag swagger","body":"<p>What you can do is make the version number a part of the tag like @Tag(&quot;v1/controller&quot;)\nThis will achieve a nice grouping.</p>\n"}],"owner":{"account_id":22750426,"reputation":1,"user_id":16910662,"display_name":"Jornwer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635933867,"creation_date":1635933108,"question_id":69822763,"body_markdown":"I have 2 controllers with different api versions but same swagger tag\r\n```\r\n@RequestMapping(&quot;/v1&quot;)\r\n@Tag(name = &quot;controller&quot;)\r\npublic class ControllerV1 {\r\n    v1 GET/POST/PUT\r\n}\r\n```\r\n```\r\n@RequestMapping(&quot;/v2&quot;)\r\n@Tag(name = &quot;controller&quot;)\r\npublic class ControllerV2 {\r\n    v2 GET/POST/PUT\r\n}\r\n```\r\nIs there a way to group endpoints by controller in one tag but leaving order of http methods in each controller?\r\n\r\nI want something like:\r\n- v1 GET\r\n- v1 PUT\r\n- v2 GET\r\n- v2 PUT ","title":"Group controllers in same tag swagger","body":"<p>I have 2 controllers with different api versions but same swagger tag</p>\n<pre><code>@RequestMapping(&quot;/v1&quot;)\n@Tag(name = &quot;controller&quot;)\npublic class ControllerV1 {\n    v1 GET/POST/PUT\n}\n</code></pre>\n<pre><code>@RequestMapping(&quot;/v2&quot;)\n@Tag(name = &quot;controller&quot;)\npublic class ControllerV2 {\n    v2 GET/POST/PUT\n}\n</code></pre>\n<p>Is there a way to group endpoints by controller in one tag but leaving order of http methods in each controller?</p>\n<p>I want something like:</p>\n<ul>\n<li>v1 GET</li>\n<li>v1 PUT</li>\n<li>v2 GET</li>\n<li>v2 PUT</li>\n</ul>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1558425293,"post_id":56233631,"comment_id":99086119,"body_markdown":"Solution is to not use the same primary key value twice.","body":"Solution is to not use the same primary key value twice."},{"owner":{"account_id":13032623,"reputation":9,"user_id":9418562,"display_name":"Zamil Nugraha"},"score":0,"creation_date":1558425442,"post_id":56233631,"comment_id":99086195,"body_markdown":"can show for the example, please.?? thank you","body":"can show for the example, please.?? thank you"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1558425596,"post_id":56233631,"comment_id":99086263,"body_markdown":"What example? Just don&#39;t insert the same primary key twice.","body":"What example? Just don&#39;t insert the same primary key twice."},{"owner":{"account_id":13032623,"reputation":9,"user_id":9418562,"display_name":"Zamil Nugraha"},"score":0,"creation_date":1558428877,"post_id":56233631,"comment_id":99087982,"body_markdown":"that&#39;s just one same primary bro","body":"that&#39;s just one same primary bro"},{"owner":{"account_id":14064312,"reputation":81,"user_id":10159568,"display_name":"Raso"},"score":0,"creation_date":1558431386,"post_id":56233631,"comment_id":99089574,"body_markdown":"if you try add same primary key, you will end up wiht this error, Primary key is Unique entry, consider update instead of insert  https://stackoverflow.com/questions/36442307/insert-data-and-if-already-inserted-then-update-in-sql","body":"if you try add same primary key, you will end up wiht this error, Primary key is Unique entry, consider update instead of insert  <a href=\"https://stackoverflow.com/questions/36442307/insert-data-and-if-already-inserted-then-update-in-sql\" title=\"insert data and if already inserted then update in sql\">stackoverflow.com/questions/36442307/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11008075,"reputation":3079,"user_id":8086424,"accept_rate":20,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558425968,"creation_date":1558425968,"answer_id":56233837,"question_id":56233631,"body_markdown":"This error message tells you that you are trying to insert an entry in the database that has a primary key value equal to one of a previously inserted entry. This is the function of a primary key, is to be able to uniquely identify an entry, and prevent duplicate values of the field that is selected to be a primary key.\r\n\r\nExample: If you have a table with the following columns(&quot;id&quot;,&quot;age&quot;). If you choose &quot;id&quot; to be the primary key, then you cannot insert the following entries:\r\n\r\n*insert (1,20)\r\n\r\n*insert (1,25) --&gt;Here it will give you the above mentioned error in your question.\r\n\r\nInstead, you can insert the following:\r\n\r\n*insert (1,20)\r\n\r\n*insert (2,25) or insert (2,20)\r\n\r\n\r\n","title":"How to fix error jdbc4 duplicate entry when update/insert","body":"<p>This error message tells you that you are trying to insert an entry in the database that has a primary key value equal to one of a previously inserted entry. This is the function of a primary key, is to be able to uniquely identify an entry, and prevent duplicate values of the field that is selected to be a primary key.</p>\n\n<p>Example: If you have a table with the following columns(\"id\",\"age\"). If you choose \"id\" to be the primary key, then you cannot insert the following entries:</p>\n\n<p>*insert (1,20)</p>\n\n<p>*insert (1,25) -->Here it will give you the above mentioned error in your question.</p>\n\n<p>Instead, you can insert the following:</p>\n\n<p>*insert (1,20)</p>\n\n<p>*insert (2,25) or insert (2,20)</p>\n"},{"tags":[],"owner":{"account_id":7363444,"reputation":1,"user_id":5605975,"display_name":"Hemal Dahanayake"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1634858201,"creation_date":1634858201,"answer_id":69669757,"question_id":56233631,"body_markdown":"This happens on an update statement which has nothing to do with the Primary Key I believe. Kinda messy situation. When you execute the same SQL statements on sql prompt, it gives perfect result and if you add a delay to the same program and run it again it might work too. Think its something to do with the JDBC mysql connection when you run a considerable load at a stretch. ","title":"How to fix error jdbc4 duplicate entry when update/insert","body":"<p>This happens on an update statement which has nothing to do with the Primary Key I believe. Kinda messy situation. When you execute the same SQL statements on sql prompt, it gives perfect result and if you add a delay to the same program and run it again it might work too. Think its something to do with the JDBC mysql connection when you run a considerable load at a stretch.</p>\n"},{"tags":[],"owner":{"account_id":23225145,"reputation":1,"user_id":17316774,"display_name":"Shouchong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635933809,"creation_date":1635927044,"answer_id":69821487,"question_id":56233631,"body_markdown":"It seems like the check **[Skip Tests]** checkbox can be helpful. \r\n\r\nYou can find it through `Settings---Build, Execution, Deployment---Build Tools---Maven---Runner`(Intellij IDEA).","title":"How to fix error jdbc4 duplicate entry when update/insert","body":"<p>It seems like the check <strong>[Skip Tests]</strong> checkbox can be helpful.</p>\n<p>You can find it through <code>Settings---Build, Execution, Deployment---Build Tools---Maven---Runner</code>(Intellij IDEA).</p>\n"}],"owner":{"account_id":13032623,"reputation":9,"user_id":9418562,"display_name":"Zamil Nugraha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":683,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1635933809,"creation_date":1558425145,"question_id":56233631,"body_markdown":"When I update or insert in jbdc4 I got this error:\r\n\r\n\r\n&gt; com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException:\r\n&gt; Duplicate entry &#39;0006-0208-254-3491-254254-01774&#39; for key &#39;PRIMARY&#39;\r\n&gt; \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native\r\n&gt; Method) \tat\r\n&gt; sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n&gt; \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n&gt; \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409) \tat\r\n&gt; com.mysql.jdbc.Util.getInstance(Util.java:384)\r\n\r\nAny solution?","title":"How to fix error jdbc4 duplicate entry when update/insert","body":"<p>When I update or insert in jbdc4 I got this error:</p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException:\n  Duplicate entry '0006-0208-254-3491-254254-01774' for key 'PRIMARY'\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native\n  Method)   at\n  sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)     at\n  com.mysql.jdbc.Util.getInstance(Util.java:384)</p>\n</blockquote>\n\n<p>Any solution?</p>\n"},{"tags":["java","sql","h2"],"comments":[{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1575510501,"post_id":59186992,"comment_id":104594205,"body_markdown":"H2 1.4.200 accepts `SET MODE MySQL;\nCREATE TABLE PLAYERS(ID INT);\nCREATE TABLE bans (id INT NOT NULL AUTO_INCREMENT, player_id INT NOT NULL, operator_id INT NOT NULL, end DATETIME NULL, reason VARCHAR(1024) NOT NULL, PRIMARY KEY (id), INDEX (player_id), INDEX (end), FOREIGN KEY (player_id) REFERENCES players(id), FOREIGN KEY (operator_id) REFERENCES players(id));` without any exceptions. You need to provide a complete test case that illustrates your problem.","body":"H2 1.4.200 accepts <code>SET MODE MySQL; CREATE TABLE PLAYERS(ID INT); CREATE TABLE bans (id INT NOT NULL AUTO_INCREMENT, player_id INT NOT NULL, operator_id INT NOT NULL, end DATETIME NULL, reason VARCHAR(1024) NOT NULL, PRIMARY KEY (id), INDEX (player_id), INDEX (end), FOREIGN KEY (player_id) REFERENCES players(id), FOREIGN KEY (operator_id) REFERENCES players(id));</code> without any exceptions. You need to provide a complete test case that illustrates your problem."},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1575510571,"post_id":59186992,"comment_id":104594217,"body_markdown":"Perhaps you didn&#39;t set a compatibility mode for non-standard definition of an index.","body":"Perhaps you didn&#39;t set a compatibility mode for non-standard definition of an index."},{"owner":{"account_id":2267875,"reputation":3038,"user_id":1996022,"accept_rate":77,"display_name":"BrainStone"},"score":0,"creation_date":1575510622,"post_id":59186992,"comment_id":104594229,"body_markdown":"@EvgenijRyazanov I&#39;m not using MySQL mode though. Just `DATABASE_TO_UPPER=FALSE`.","body":"@EvgenijRyazanov I&#39;m not using MySQL mode though. Just <code>DATABASE_TO_UPPER=FALSE</code>."}],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1575511381,"creation_date":1575511381,"answer_id":59187158,"question_id":59186992,"body_markdown":"You cannot use non-standard `INDEX(player_id)` and `INDEX(end)` in H2 without a MySQL compatibility mode. (Actually database indexes aren&#39;t covered by the Standard.)\r\n\r\nEither use a MySQL compatibility mode, or use a separate `CREATE INDEX` command such as\r\n```lang-sql\r\nCREATE INDEX ON bans(end);\r\n```\r\n\r\nIndex on `player_id` column is not needed, because non-unique index will be created automatically by H2 for constraint `FOREIGN KEY (player_id) REFERENCES players(id)`.\r\n\r\nPlease also note that behavior of `DATABASE_TO_UPPER=FALSE` was changed since 1.4.198. With this setting all column names are case-sensitive. You may want to use `DATABASE_TO_LOWER=TRUE` instead.","title":"H2 Database - &quot;Unknown data type&quot; with empty data type","body":"<p>You cannot use non-standard <code>INDEX(player_id)</code> and <code>INDEX(end)</code> in H2 without a MySQL compatibility mode. (Actually database indexes aren't covered by the Standard.)</p>\n\n<p>Either use a MySQL compatibility mode, or use a separate <code>CREATE INDEX</code> command such as</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE INDEX ON bans(end);\n</code></pre>\n\n<p>Index on <code>player_id</code> column is not needed, because non-unique index will be created automatically by H2 for constraint <code>FOREIGN KEY (player_id) REFERENCES players(id)</code>.</p>\n\n<p>Please also note that behavior of <code>DATABASE_TO_UPPER=FALSE</code> was changed since 1.4.198. With this setting all column names are case-sensitive. You may want to use <code>DATABASE_TO_LOWER=TRUE</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604110736,"creation_date":1604110736,"answer_id":64617810,"question_id":59186992,"body_markdown":"Another thing to watch out for are **forbidden characters in column names**.\r\ne.g. if you use a column name such as `@Column(name=&quot;my-column&quot;)` then you&#39;ll actually see the exact same error message.\r\n\r\n    Unknown data type: ; SQL statement:\r\n\r\nWhen you&#39;re really stuck, connect to the console webpage of the database, and try to execute the query there. (There&#39;s usually a query in the exception message).\r\n\r\nIf you run an embedded H2 database, then you can enable the console webpage by setting the following properties:\r\n\r\n    \r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    \r\n    # view database on http://localhost:8080/h2-console\r\n    spring.h2.console.enabled=true\r\n\r\n\r\n\r\n","title":"H2 Database - &quot;Unknown data type&quot; with empty data type","body":"<p>Another thing to watch out for are <strong>forbidden characters in column names</strong>.\ne.g. if you use a column name such as <code>@Column(name=&quot;my-column&quot;)</code> then you'll actually see the exact same error message.</p>\n<pre><code>Unknown data type: ; SQL statement:\n</code></pre>\n<p>When you're really stuck, connect to the console webpage of the database, and try to execute the query there. (There's usually a query in the exception message).</p>\n<p>If you run an embedded H2 database, then you can enable the console webpage by setting the following properties:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\n# view database on http://localhost:8080/h2-console\nspring.h2.console.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16617516,"reputation":200,"user_id":12008736,"display_name":"polosoft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635933541,"creation_date":1635933223,"answer_id":69822781,"question_id":59186992,"body_markdown":"Sometimes you get this exception when you have the same function in H2 and in your dev DB, but the functionality is not the same:\r\n\r\nFor example CONVERT function in H2 and Orcacle.\r\n\r\nIn this case you can override the H2 function when you put this in your H2 URL: BUILTIN_ALIAS_OVERRIDE=1;\r\n\r\nThen you have to create an alias in your test resources sql:\r\n\r\nCREATE\r\nALIAS CONVERT FOR &quot;com.example.config.H2Functions.convert&quot;;\r\n\r\nThen create this class with the emethod in java:\r\n\r\n    public class H2Functions {\r\n\r\n    public static String convert(String param1, String param2) {\r\n        return StringUtils.stripAccents(param1);\r\n    }}\r\n\r\nIf you are using Junit5 you have to implement org.junit.jupiter.api.extension.BeforeEachCallback;\r\n\r\n        @Override\r\n        public void beforeEach(ExtensionContext context) throws Exception {\r\n             DataSource dataSource = getDataSource(context);\r\n             backupDatabase(dataSource);\r\n        }\r\n\r\n        private void backupDatabase(DataSource dataSource) {\r\n            try {\r\n                Connection connection = dataSource.getConnection();\r\n                Statement statement = connection.createStatement();\r\n                RunScript.execute(connection, IOUtils.getReader(H2Extension.class.getResourceAsStream(&quot;/h2_functions.sql&quot;)));\r\n                connection.close();\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\nAnd put these annotations on your test class:\r\n\r\n    @SpringBootTest\r\n    @ExtendWith({SpringExtension.class, H2Extension.class})","title":"H2 Database - &quot;Unknown data type&quot; with empty data type","body":"<p>Sometimes you get this exception when you have the same function in H2 and in your dev DB, but the functionality is not the same:</p>\n<p>For example CONVERT function in H2 and Orcacle.</p>\n<p>In this case you can override the H2 function when you put this in your H2 URL: BUILTIN_ALIAS_OVERRIDE=1;</p>\n<p>Then you have to create an alias in your test resources sql:</p>\n<p>CREATE\nALIAS CONVERT FOR &quot;com.example.config.H2Functions.convert&quot;;</p>\n<p>Then create this class with the emethod in java:</p>\n<pre><code>public class H2Functions {\n\npublic static String convert(String param1, String param2) {\n    return StringUtils.stripAccents(param1);\n}}\n</code></pre>\n<p>If you are using Junit5 you have to implement org.junit.jupiter.api.extension.BeforeEachCallback;</p>\n<pre><code>    @Override\n    public void beforeEach(ExtensionContext context) throws Exception {\n         DataSource dataSource = getDataSource(context);\n         backupDatabase(dataSource);\n    }\n\n    private void backupDatabase(DataSource dataSource) {\n        try {\n            Connection connection = dataSource.getConnection();\n            Statement statement = connection.createStatement();\n            RunScript.execute(connection, IOUtils.getReader(H2Extension.class.getResourceAsStream(&quot;/h2_functions.sql&quot;)));\n            connection.close();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>And put these annotations on your test class:</p>\n<pre><code>@SpringBootTest\n@ExtendWith({SpringExtension.class, H2Extension.class})\n</code></pre>\n"}],"owner":{"account_id":2267875,"reputation":3038,"user_id":1996022,"accept_rate":77,"display_name":"BrainStone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59187158,"answer_count":3,"score":1,"last_activity_date":1635933541,"creation_date":1575509936,"question_id":59186992,"body_markdown":"I&#39;m getting a very weird error from H2 where it tells me that it doesn&#39;t know a data type but doesn&#39;t tell me which one it is.\r\n\r\nThat&#39;s the error message:\r\n\r\n```\r\nUnknown data type: ; SQL statement:\r\nCREATE TABLE bans (id INT NOT NULL AUTO_INCREMENT, player_id INT NOT NULL, operator_id INT NOT NULL, end DATETIME NULL, reason VARCHAR(1024) NOT NULL, PRIMARY KEY (id), INDEX (player_id), INDEX (end), FOREIGN KEY (player_id) REFERENCES players(id), FOREIGN KEY (operator_id) REFERENCES players(id)) [50004-200]\r\n```\r\n\r\nand this is the SQL query in plain:\r\n\r\n```sql\r\nCREATE TABLE bans (id INT NOT NULL AUTO_INCREMENT, player_id INT NOT NULL, operator_id INT NOT NULL, end DATETIME NULL, reason VARCHAR(1024) NOT NULL, PRIMARY KEY (id), INDEX (player_id), INDEX (end), FOREIGN KEY (player_id) REFERENCES players(id), FOREIGN KEY (operator_id) REFERENCES players(id))\r\n```\r\n\r\nI neither understand what H2 is trying to tell me, nor do I see what&#39;s wrong with that query. I tried playing around with the spacing but to no avail.\r\n\r\n**Edit 1:**\r\n\r\nI&#39;m opening the database connection with this JDBC string:\r\n\r\n```\r\njdbc:h2:%s;AUTO_SERVER=%s;DATABASE_TO_UPPER=FALSE\r\n```\r\n\r\n(And using `String.format` to set the two appropriate values. First one naturally being the base file name and the second either `TRUE` or `FALSE` (either work).)\r\n\r\nI am not changing any other settings or enabling any other modes. The only thing I do is create 2 tables before and inserting a bit of data into them.","title":"H2 Database - &quot;Unknown data type&quot; with empty data type","body":"<p>I'm getting a very weird error from H2 where it tells me that it doesn't know a data type but doesn't tell me which one it is.</p>\n\n<p>That's the error message:</p>\n\n<pre><code>Unknown data type: ; SQL statement:\nCREATE TABLE bans (id INT NOT NULL AUTO_INCREMENT, player_id INT NOT NULL, operator_id INT NOT NULL, end DATETIME NULL, reason VARCHAR(1024) NOT NULL, PRIMARY KEY (id), INDEX (player_id), INDEX (end), FOREIGN KEY (player_id) REFERENCES players(id), FOREIGN KEY (operator_id) REFERENCES players(id)) [50004-200]\n</code></pre>\n\n<p>and this is the SQL query in plain:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE bans (id INT NOT NULL AUTO_INCREMENT, player_id INT NOT NULL, operator_id INT NOT NULL, end DATETIME NULL, reason VARCHAR(1024) NOT NULL, PRIMARY KEY (id), INDEX (player_id), INDEX (end), FOREIGN KEY (player_id) REFERENCES players(id), FOREIGN KEY (operator_id) REFERENCES players(id))\n</code></pre>\n\n<p>I neither understand what H2 is trying to tell me, nor do I see what's wrong with that query. I tried playing around with the spacing but to no avail.</p>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>I'm opening the database connection with this JDBC string:</p>\n\n<pre><code>jdbc:h2:%s;AUTO_SERVER=%s;DATABASE_TO_UPPER=FALSE\n</code></pre>\n\n<p>(And using <code>String.format</code> to set the two appropriate values. First one naturally being the base file name and the second either <code>TRUE</code> or <code>FALSE</code> (either work).)</p>\n\n<p>I am not changing any other settings or enabling any other modes. The only thing I do is create 2 tables before and inserting a bit of data into them.</p>\n"},{"tags":["java","json","string","gson"],"comments":[{"owner":{"account_id":5914573,"reputation":528,"user_id":4653764,"accept_rate":25,"display_name":"Pawan Tiwari"},"score":0,"creation_date":1635914280,"post_id":69819733,"comment_id":123416609,"body_markdown":"You can use this link : https://stackoverflow.com/questions/55533093/convert-json-string-to-json-objects/55533405#55533405","body":"You can use this link : <a href=\"https://stackoverflow.com/questions/55533093/convert-json-string-to-json-objects/55533405#55533405\" title=\"convert json string to json objects\">stackoverflow.com/questions/55533093/&hellip;</a>"},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1635916577,"post_id":69819733,"comment_id":123416956,"body_markdown":"Class must have the same variables as in the JSON that you want to map with it, and they are case-sensitive!","body":"Class must have the same variables as in the JSON that you want to map with it, and they are case-sensitive!"}],"answers":[{"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635933410,"creation_date":1635914827,"answer_id":69819798,"question_id":69819733,"body_markdown":"Your json key is **Sensors** and not **sensors**.\r\n\r\n\r\n**Solution 1**\r\n\r\nTry changing \r\n\r\n    public ArrayList&lt;Sensor&gt; sensors;\r\n\r\nto \r\n\r\n    public ArrayList&lt;Sensor&gt; Sensors;\r\n\r\n\r\n\r\n**Solution 2**\r\n\r\nYou can use [`@SerializedName`][1] annotation to map a json key to a java variable with a different name.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/28957285/3094731","title":"Unable to convert a json containing nested json arrays to an equivalent JAVA class using Gson","body":"<p>Your json key is <strong>Sensors</strong> and not <strong>sensors</strong>.</p>\n<p><strong>Solution 1</strong></p>\n<p>Try changing</p>\n<pre><code>public ArrayList&lt;Sensor&gt; sensors;\n</code></pre>\n<p>to</p>\n<pre><code>public ArrayList&lt;Sensor&gt; Sensors;\n</code></pre>\n<p><strong>Solution 2</strong></p>\n<p>You can use <a href=\"https://stackoverflow.com/q/28957285/3094731\"><code>@SerializedName</code></a> annotation to map a json key to a java variable with a different name.</p>\n"}],"owner":{"account_id":4999933,"reputation":95,"user_id":4019277,"display_name":"avaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635933410,"creation_date":1635914169,"question_id":69819733,"body_markdown":"JSON string used:\r\n\r\n```\r\n&#39;{&quot;Sensors&quot;:[{\\&quot;name\\&quot;:\\&quot;BLRB50CM_A\\&quot;,\\&quot;cameraId\\&quot;:\\&quot;Cam10\\&quot;,\\&quot;id\\&quot;:1,\\&quot;resolution\\&quot;:\\&quot;1280 x 720\\&quot;,\\&quot;officeLocation\\&quot;:\\&quot;Offshore Development Center\\&quot;,\\&quot;tags\\&quot;:\\&quot;Entrance Camera, Parking Lot\\&quot;,\\&quot;isActive\\&quot;:\\&quot;true\\&quot;,\\&quot;hls\\&quot;:\\&quot;https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8\\&quot;,\\&quot;rtsp\\&quot;:\\&quot;rtsp://10.66.102.66:32278/mystream/parking_lot\\&quot;,\\&quot;type\\&quot;:\\&quot;sensor\\&quot;,\\&quot;inputs\\&quot;:[],\\&quot;outputs\\&quot;:[2]}]}&#39;\r\n```\r\n\r\njava pojo class:\r\n\r\n```\r\npublic class ServiceFlowData {\r\n\r\n    public ArrayList&lt;Sensor&gt; sensors;\r\n    \r\n    public ArrayList&lt;Sensor&gt; getSensors() {\r\n        return sensors;\r\n    }\r\n\r\n    public void setSensors(ArrayList&lt;Sensor&gt; sensors) {\r\n        this.sensors = sensors;\r\n    }\r\n} \r\n```\r\ncode used for conversion to java object\r\n```\r\nGson gson = new Gson();\r\nServiceFlowData serviceFlowData = gson.fromJson(jsonString,ServiceFlowData.class);\r\nSystem.out.println(&quot;serviceFlowData&quot;+serviceFlowData.getSensors());\r\n```\r\niam getting get sensors as null. \r\n\r\nwhat is it iam mising here..?","title":"Unable to convert a json containing nested json arrays to an equivalent JAVA class using Gson","body":"<p>JSON string used:</p>\n<pre><code>'{&quot;Sensors&quot;:[{\\&quot;name\\&quot;:\\&quot;BLRB50CM_A\\&quot;,\\&quot;cameraId\\&quot;:\\&quot;Cam10\\&quot;,\\&quot;id\\&quot;:1,\\&quot;resolution\\&quot;:\\&quot;1280 x 720\\&quot;,\\&quot;officeLocation\\&quot;:\\&quot;Offshore Development Center\\&quot;,\\&quot;tags\\&quot;:\\&quot;Entrance Camera, Parking Lot\\&quot;,\\&quot;isActive\\&quot;:\\&quot;true\\&quot;,\\&quot;hls\\&quot;:\\&quot;https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8\\&quot;,\\&quot;rtsp\\&quot;:\\&quot;rtsp://10.66.102.66:32278/mystream/parking_lot\\&quot;,\\&quot;type\\&quot;:\\&quot;sensor\\&quot;,\\&quot;inputs\\&quot;:[],\\&quot;outputs\\&quot;:[2]}]}'\n</code></pre>\n<p>java pojo class:</p>\n<pre><code>public class ServiceFlowData {\n\n    public ArrayList&lt;Sensor&gt; sensors;\n    \n    public ArrayList&lt;Sensor&gt; getSensors() {\n        return sensors;\n    }\n\n    public void setSensors(ArrayList&lt;Sensor&gt; sensors) {\n        this.sensors = sensors;\n    }\n} \n</code></pre>\n<p>code used for conversion to java object</p>\n<pre><code>Gson gson = new Gson();\nServiceFlowData serviceFlowData = gson.fromJson(jsonString,ServiceFlowData.class);\nSystem.out.println(&quot;serviceFlowData&quot;+serviceFlowData.getSensors());\n</code></pre>\n<p>iam getting get sensors as null.</p>\n<p>what is it iam mising here..?</p>\n"},{"tags":["java","selenium","jsonslurper"],"answers":[{"tags":[],"owner":{"account_id":7232833,"reputation":639,"user_id":5519054,"accept_rate":50,"display_name":"Christiaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635487305,"creation_date":1635487305,"answer_id":69764288,"question_id":69762761,"body_markdown":"My guess is that your issue probably comes from this\r\n\r\n    try (Reader reader = new FileReader(&quot;src/test/resources/jsonPayload/response.json&quot;))\r\n\r\nSince you are trying to read a file that&#39;s in your `classpath` you need to specify where to find the file differently.\r\n\r\nTry doing \r\n\r\n    try (Reader reader = new FileReader(&quot;jsonPayload/response.json&quot;))\r\n\r\ninstead","title":"How to get value of temperature based on station given?","body":"<p>My guess is that your issue probably comes from this</p>\n<pre><code>try (Reader reader = new FileReader(&quot;src/test/resources/jsonPayload/response.json&quot;))\n</code></pre>\n<p>Since you are trying to read a file that's in your <code>classpath</code> you need to specify where to find the file differently.</p>\n<p>Try doing</p>\n<pre><code>try (Reader reader = new FileReader(&quot;jsonPayload/response.json&quot;))\n</code></pre>\n<p>instead</p>\n"},{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635932719,"creation_date":1635507864,"answer_id":69768306,"question_id":69762761,"body_markdown":"Your `JSON` is nested `Objects` within an `Array` so you can try like below to read the temperature value. I updated your `JSON` with multiple temperature values to be more clear.\r\n\r\n**Updated JSON**:\r\n\r\n    {\r\n    \t&quot;list&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;station&quot;: {\r\n    \t\t\t\t&quot;identity&quot;: {\r\n    \t\t\t\t\t&quot;station_name&quot;: &quot;station1&quot;\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;obs&quot;: {\r\n    \t\t\t\t&quot;temp&quot;: {\r\n    \t\t\t\t\t&quot;temprature&quot;: 13.2\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;station&quot;: {\r\n    \t\t\t\t&quot;identity&quot;: {\r\n    \t\t\t\t\t&quot;station_name&quot;: &quot;station2&quot;\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;obs&quot;: {\r\n    \t\t\t\t&quot;temp&quot;: {\r\n    \t\t\t\t\t&quot;temprature&quot;: 15.2\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t]\r\n    }\r\n**Code#1**: You can use `JsonPath` to read the data. `JsonPath` is an alternative to using XPath for easily getting values from a Object document.\r\n\r\n\r\n        File jsonFile = new File(&quot;Sample.json&quot;);\r\n\t\tJSONArray jsonArray = new JSONArray(JsonPath.parse(jsonFile).read(&quot;list&quot;).toString());\r\n\r\n\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\t\t\tString stationName = JsonPath.parse(jsonFile).read(&quot;list[&quot; + i + &quot;].station.identity.station_name&quot;)\r\n\t\t\t\t\t.toString();\r\n\t\t\tif (stationName.equalsIgnoreCase(&quot;station2&quot;)) {\r\n\t\t\t\tString temparature = JsonPath.parse(jsonFile).read(&quot;list[&quot; + i + &quot;].obs.temp.temprature&quot;).toString();\r\n\t\t\t\tSystem.out.println(&quot;Temparature: &quot;+temparature);\r\n\t\t\t}\r\n\t\t}\r\n\r\n**Output**:\r\n\r\n    Temparature: 15.2\r\n\r\n**Maven dependency for `JsonPath`**\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nBelow code snippets can be used to read data without any libraries. \r\n\r\n**Code#2**: To read all temperature values.\r\n```\r\n        String jsonDataAsString = new String(Files.readAllBytes(Paths.get(&quot;Sample.json&quot;)));\r\n\t\tJSONObject jsonObject = new JSONObject(jsonDataAsString);\r\n\t\tJSONArray jsonArray = new JSONArray(jsonObject.get(&quot;list&quot;).toString());\r\n\r\n\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\t\t\tjsonObject = new JSONObject(jsonArray.get(i).toString());\r\n\t\t\tjsonObject = new JSONObject(jsonObject.get(&quot;obs&quot;).toString());\r\n\t\t\tjsonObject = new JSONObject(jsonObject.get(&quot;temp&quot;).toString());\r\n\t\t\tSystem.out.println(&quot;Temparature&quot; + i + &quot;: &quot; + jsonObject.get(&quot;temprature&quot;));\r\n\t\t}\r\n```\r\n**Output**:\r\n\r\n    Temparature0: 13.2\r\n    Temparature1: 15.2\r\n\r\n**Code#3**: Get temperature value based on station name.\r\n\r\n```\r\n        String jsonDataAsString = new String(Files.readAllBytes(Paths.get(&quot;Sample.json&quot;)));\r\n\t\tJSONObject jsonTemparatureObject;\r\n\t\tJSONObject jsonObject = new JSONObject(jsonDataAsString);\r\n\t\tJSONArray jsonArray = new JSONArray(jsonObject.get(&quot;list&quot;).toString());\r\n\r\n\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\t\t\tjsonObject = new JSONObject(jsonArray.get(i).toString());\r\n\t\t\tjsonTemparatureObject = new JSONObject(jsonObject.get(&quot;obs&quot;).toString());\r\n\t\t\tjsonObject = new JSONObject(jsonObject.get(&quot;station&quot;).toString());\r\n\t\t\tjsonObject = new JSONObject(jsonObject.get(&quot;identity&quot;).toString());\r\n\r\n\t\t\tif (jsonObject.get(&quot;station_name&quot;).toString().equalsIgnoreCase(&quot;station2&quot;)) {\r\n\t\t\t\tjsonObject = new JSONObject(jsonTemparatureObject.get(&quot;temp&quot;).toString());\r\n\t\t\t\tSystem.out.println(&quot;Temparature: &quot; + jsonObject.get(&quot;temprature&quot;));\r\n\t\t\t}\r\n\t\t}\r\n```\r\n**Output**:\r\n\r\n    Temparature: 15.2","title":"How to get value of temperature based on station given?","body":"<p>Your <code>JSON</code> is nested <code>Objects</code> within an <code>Array</code> so you can try like below to read the temperature value. I updated your <code>JSON</code> with multiple temperature values to be more clear.</p>\n<p><strong>Updated JSON</strong>:</p>\n<pre><code>{\n    &quot;list&quot;: [\n        {\n            &quot;station&quot;: {\n                &quot;identity&quot;: {\n                    &quot;station_name&quot;: &quot;station1&quot;\n                }\n            },\n            &quot;obs&quot;: {\n                &quot;temp&quot;: {\n                    &quot;temprature&quot;: 13.2\n                }\n            }\n        },\n        {\n            &quot;station&quot;: {\n                &quot;identity&quot;: {\n                    &quot;station_name&quot;: &quot;station2&quot;\n                }\n            },\n            &quot;obs&quot;: {\n                &quot;temp&quot;: {\n                    &quot;temprature&quot;: 15.2\n                }\n            }\n        }\n    ]\n}\n</code></pre>\n<p><strong>Code#1</strong>: You can use <code>JsonPath</code> to read the data. <code>JsonPath</code> is an alternative to using XPath for easily getting values from a Object document.</p>\n<pre><code>    File jsonFile = new File(&quot;Sample.json&quot;);\n    JSONArray jsonArray = new JSONArray(JsonPath.parse(jsonFile).read(&quot;list&quot;).toString());\n\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\n        String stationName = JsonPath.parse(jsonFile).read(&quot;list[&quot; + i + &quot;].station.identity.station_name&quot;)\n                .toString();\n        if (stationName.equalsIgnoreCase(&quot;station2&quot;)) {\n            String temparature = JsonPath.parse(jsonFile).read(&quot;list[&quot; + i + &quot;].obs.temp.temprature&quot;).toString();\n            System.out.println(&quot;Temparature: &quot;+temparature);\n        }\n    }\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>Temparature: 15.2\n</code></pre>\n<p><strong>Maven dependency for <code>JsonPath</code></strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Below code snippets can be used to read data without any libraries.</p>\n<p><strong>Code#2</strong>: To read all temperature values.</p>\n<pre><code>        String jsonDataAsString = new String(Files.readAllBytes(Paths.get(&quot;Sample.json&quot;)));\n        JSONObject jsonObject = new JSONObject(jsonDataAsString);\n        JSONArray jsonArray = new JSONArray(jsonObject.get(&quot;list&quot;).toString());\n\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            jsonObject = new JSONObject(jsonArray.get(i).toString());\n            jsonObject = new JSONObject(jsonObject.get(&quot;obs&quot;).toString());\n            jsonObject = new JSONObject(jsonObject.get(&quot;temp&quot;).toString());\n            System.out.println(&quot;Temparature&quot; + i + &quot;: &quot; + jsonObject.get(&quot;temprature&quot;));\n        }\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>Temparature0: 13.2\nTemparature1: 15.2\n</code></pre>\n<p><strong>Code#3</strong>: Get temperature value based on station name.</p>\n<pre><code>        String jsonDataAsString = new String(Files.readAllBytes(Paths.get(&quot;Sample.json&quot;)));\n        JSONObject jsonTemparatureObject;\n        JSONObject jsonObject = new JSONObject(jsonDataAsString);\n        JSONArray jsonArray = new JSONArray(jsonObject.get(&quot;list&quot;).toString());\n\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            jsonObject = new JSONObject(jsonArray.get(i).toString());\n            jsonTemparatureObject = new JSONObject(jsonObject.get(&quot;obs&quot;).toString());\n            jsonObject = new JSONObject(jsonObject.get(&quot;station&quot;).toString());\n            jsonObject = new JSONObject(jsonObject.get(&quot;identity&quot;).toString());\n\n            if (jsonObject.get(&quot;station_name&quot;).toString().equalsIgnoreCase(&quot;station2&quot;)) {\n                jsonObject = new JSONObject(jsonTemparatureObject.get(&quot;temp&quot;).toString());\n                System.out.println(&quot;Temparature: &quot; + jsonObject.get(&quot;temprature&quot;));\n            }\n        }\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>Temparature: 15.2\n</code></pre>\n"}],"owner":{"account_id":22870341,"reputation":19,"user_id":17013455,"display_name":"meado1992"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69768306,"answer_count":2,"score":1,"last_activity_date":1635932719,"creation_date":1635472447,"question_id":69762761,"body_markdown":"I need to store value of temperature as **Temperature** from `json` payload based on station name &quot;station1&quot; but I always ended up with `null`.\r\n\r\nMy code :\r\n\r\n    JSONParser parser = new JSONParser()\r\n    \r\n    try (Reader reader = new FileReader(&quot;src/test/resources/jsonPayload/response.json&quot;)) {\r\n    \r\n    \r\n        JSONObject jsonObject = (JSONObject) parser.parse(reader);\r\n        String response = (String) jsonObject.get(&quot;response&quot;);\r\n        JsonPath js = new JsonPath(response);\r\n        int size = js.getInt(list.size()&quot;);\r\n    \r\n    \r\n    \r\n        List&lt;String&gt; station = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            station.add(js.getString(&quot;list[$i].station.station_name))\r\n      \r\n        def Temperature\r\n    Temperature = new JsonSlurper().parseText(response).list.station.station_name=[&quot;station1].obs.temp.temprature\r\n    }\r\n\r\njson payload:\r\n\r\n    {\r\n        &quot;list&quot;: [\r\n            {\r\n                &quot;station&quot;: {\r\n                    &quot;identity&quot;: {\r\n                        &quot;station_name&quot;: &quot;station1&quot;\r\n                    }\r\n                },\r\n                &quot;obs&quot;: {\r\n                    &quot;temp&quot;: {\r\n                        &quot;temprature&quot;: 13.2\r\n                    }\r\n                    \r\n                }\r\n            } ]\r\n    }","title":"How to get value of temperature based on station given?","body":"<p>I need to store value of temperature as <strong>Temperature</strong> from <code>json</code> payload based on station name &quot;station1&quot; but I always ended up with <code>null</code>.</p>\n<p>My code :</p>\n<pre><code>JSONParser parser = new JSONParser()\n\ntry (Reader reader = new FileReader(&quot;src/test/resources/jsonPayload/response.json&quot;)) {\n\n\n    JSONObject jsonObject = (JSONObject) parser.parse(reader);\n    String response = (String) jsonObject.get(&quot;response&quot;);\n    JsonPath js = new JsonPath(response);\n    int size = js.getInt(list.size()&quot;);\n\n\n\n    List&lt;String&gt; station = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; size; i++) {\n        station.add(js.getString(&quot;list[$i].station.station_name))\n  \n    def Temperature\nTemperature = new JsonSlurper().parseText(response).list.station.station_name=[&quot;station1].obs.temp.temprature\n}\n</code></pre>\n<p>json payload:</p>\n<pre><code>{\n    &quot;list&quot;: [\n        {\n            &quot;station&quot;: {\n                &quot;identity&quot;: {\n                    &quot;station_name&quot;: &quot;station1&quot;\n                }\n            },\n            &quot;obs&quot;: {\n                &quot;temp&quot;: {\n                    &quot;temprature&quot;: 13.2\n                }\n                \n            }\n        } ]\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1635932630,"post_id":69822641,"comment_id":123421494,"body_markdown":"&quot;I am using package for this is &quot;import com.google.type.TimeZone;&quot; - are you sure that&#39;s the one you should be using? I suspect you actually want to be using java.util.TimeZone. Ideally, you&#39;d actually use the java.time package instead.","body":"&quot;I am using package for this is &quot;import com.google.type.TimeZone;&quot; - are you sure that&#39;s the one you should be using? I suspect you actually want to be using java.util.TimeZone. Ideally, you&#39;d actually use the java.time package instead."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1635935071,"post_id":69822641,"comment_id":123422467,"body_markdown":"@Hulk: See https://github.com/googleapis/java-common-protos. It contains common protos used in Google APIs. See https://github.com/googleapis/googleapis/tree/master/google/type for the protos in google.type.","body":"@Hulk: See <a href=\"https://github.com/googleapis/java-common-protos\" rel=\"nofollow noreferrer\">github.com/googleapis/java-common-protos</a>. It contains common protos used in Google APIs. See <a href=\"https://github.com/googleapis/googleapis/tree/master/google/type\" rel=\"nofollow noreferrer\">github.com/googleapis/googleapis/tree/master/google/type</a> for the protos in google.type."}],"owner":{"account_id":23225917,"reputation":1,"user_id":17317470,"display_name":"Shubham Pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635932594,"creation_date":1635932492,"question_id":69822641,"body_markdown":"Need some help in this code. \r\n\r\n    SimpleDateFormat gmtDateFormat = new SimpleDateFormat(&quot;ddMMyy&quot;);\r\n    gmtDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;GMT+05:30&quot;));\r\n    String time = gmtDateFormat.format(new Date());\r\n    subject = subject+&quot; - &quot;+time;\r\n\r\n\r\nits showing error in getTimeZone as &quot;The method getTimeZone(String) is undefined for the type TimeZone&quot;. I am using package for this is &quot;import com.google.type.TimeZone;&quot;.\r\n\r\nPlease help me in rectifying this error.","title":"The method getTimeZone(String) is undefined for the type TimeZone","body":"<p>Need some help in this code.</p>\n<pre><code>SimpleDateFormat gmtDateFormat = new SimpleDateFormat(&quot;ddMMyy&quot;);\ngmtDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;GMT+05:30&quot;));\nString time = gmtDateFormat.format(new Date());\nsubject = subject+&quot; - &quot;+time;\n</code></pre>\n<p>its showing error in getTimeZone as &quot;The method getTimeZone(String) is undefined for the type TimeZone&quot;. I am using package for this is &quot;import com.google.type.TimeZone;&quot;.</p>\n<p>Please help me in rectifying this error.</p>\n"},{"tags":["java","https","proxy","httpclient","apache-httpclient-5.x"],"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635932176,"creation_date":1635930784,"question_id":69822269,"body_markdown":"It is necessary to execute REST requests through a proxy. Several HTTP proxy servers are available, protected with Basic Authentication. Java 16 is used.\r\n\r\nAn example of a fully working request when accessing HTTP resources: \r\n\r\n```\r\nvar proxySettings = new ProxySettings(&quot;http&quot;, &quot;proxy.ip.address&quot;, proxy.port, &quot;userName&quot;, &quot;password&quot;);\r\n\r\nvar request = HttpRequest.newBuilder(new URI(&quot;http://tv-games.ru&quot;)).build();\r\n\r\nHttpClient client = HttpClient.newBuilder()\r\n        .proxy(ProxySelector.of(new InetSocketAddress(proxySettings.getUri(), proxySettings.port())))\r\n        .authenticator(new Authenticator() {\r\n            @Override\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(proxySettings.userName(), proxySettings.getPasswordArray());\r\n            }\r\n        }).build();\r\nHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\nSystem.out.println(&quot;Body: &quot; + response.body());\r\nSystem.out.println(&quot;Code: &quot; + response.statusCode());\r\n```\r\n\r\nThis is an object that carries information about the proxy server: \r\n\r\n```\r\npublic record ProxySettings(String scheme, String hostname, int port, String userName, String password) {\r\n\r\n        public char[] getPasswordArray() {\r\n            return password.toCharArray();\r\n        }\r\n\r\n        public String getUri() {\r\n            return scheme + &quot;://&quot; + hostname;\r\n        }\r\n    }\r\n```\r\n\r\nWhen requesting an HTTPS resource, for example, https://yandex.ru, I get the error\r\n407 (Proxy Authentication Required).\r\n\r\nI am currently using an Apache HttpClient 5 based workaround:\r\n\r\n```\r\nHttpHost targetHost = new HttpHost(&quot;https&quot;, &quot;yandex.ru&quot;);\r\nHttpHost proxyHost = new HttpHost(proxySettings.scheme(), proxySettings.hostname(), proxySettings.port());\r\n\r\n//Create the HttpGet request object\r\nHttpGet httpget = new HttpGet(&quot;/&quot;);\r\nhttpget.setConfig(RequestConfig.custom().setProxy(proxyHost).build());\r\n\r\n//Create the CloseableHttpClient\r\nCredentialsStore credentialsProvider = new BasicCredentialsProvider();\r\ncredentialsProvider.setCredentials(new AuthScope(proxySettings.hostname(), proxySettings.port()),\r\n        new UsernamePasswordCredentials(proxySettings.userName(), proxySettings.getPasswordArray()));\r\n\r\nCloseableHttpClient client = HttpClients.custom().setDefaultCredentialsProvider(credentialsProvider).build();\r\n\r\n//Get the result\r\nCloseableHttpResponse closeableHttpResponse = client.execute(targetHost, httpget);\r\nSystem.out.println(&quot;Body: &quot; + EntityUtils.toString(closeableHttpResponse.getEntity()));\r\nSystem.out.println(&quot;Code: &quot; + httpResponse.code());\r\n\r\nEntityUtils.consume(closeableHttpResponse.getEntity());\r\n```\r\n\r\nHowever, Apache HttpClient dependencies are quite heavyweight, I really want to stay within the framework of pure Java.\r\n\r\nIs it possible to use the built-in HttpClient to access HTTPS resources through a proxy? ","title":"Java 11 HttpClient request to HTTPS resource via proxy","body":"<p>It is necessary to execute REST requests through a proxy. Several HTTP proxy servers are available, protected with Basic Authentication. Java 16 is used.</p>\n<p>An example of a fully working request when accessing HTTP resources:</p>\n<pre><code>var proxySettings = new ProxySettings(&quot;http&quot;, &quot;proxy.ip.address&quot;, proxy.port, &quot;userName&quot;, &quot;password&quot;);\n\nvar request = HttpRequest.newBuilder(new URI(&quot;http://tv-games.ru&quot;)).build();\n\nHttpClient client = HttpClient.newBuilder()\n        .proxy(ProxySelector.of(new InetSocketAddress(proxySettings.getUri(), proxySettings.port())))\n        .authenticator(new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(proxySettings.userName(), proxySettings.getPasswordArray());\n            }\n        }).build();\nHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n\nSystem.out.println(&quot;Body: &quot; + response.body());\nSystem.out.println(&quot;Code: &quot; + response.statusCode());\n</code></pre>\n<p>This is an object that carries information about the proxy server:</p>\n<pre><code>public record ProxySettings(String scheme, String hostname, int port, String userName, String password) {\n\n        public char[] getPasswordArray() {\n            return password.toCharArray();\n        }\n\n        public String getUri() {\n            return scheme + &quot;://&quot; + hostname;\n        }\n    }\n</code></pre>\n<p>When requesting an HTTPS resource, for example, <a href=\"https://yandex.ru\" rel=\"nofollow noreferrer\">https://yandex.ru</a>, I get the error\n407 (Proxy Authentication Required).</p>\n<p>I am currently using an Apache HttpClient 5 based workaround:</p>\n<pre><code>HttpHost targetHost = new HttpHost(&quot;https&quot;, &quot;yandex.ru&quot;);\nHttpHost proxyHost = new HttpHost(proxySettings.scheme(), proxySettings.hostname(), proxySettings.port());\n\n//Create the HttpGet request object\nHttpGet httpget = new HttpGet(&quot;/&quot;);\nhttpget.setConfig(RequestConfig.custom().setProxy(proxyHost).build());\n\n//Create the CloseableHttpClient\nCredentialsStore credentialsProvider = new BasicCredentialsProvider();\ncredentialsProvider.setCredentials(new AuthScope(proxySettings.hostname(), proxySettings.port()),\n        new UsernamePasswordCredentials(proxySettings.userName(), proxySettings.getPasswordArray()));\n\nCloseableHttpClient client = HttpClients.custom().setDefaultCredentialsProvider(credentialsProvider).build();\n\n//Get the result\nCloseableHttpResponse closeableHttpResponse = client.execute(targetHost, httpget);\nSystem.out.println(&quot;Body: &quot; + EntityUtils.toString(closeableHttpResponse.getEntity()));\nSystem.out.println(&quot;Code: &quot; + httpResponse.code());\n\nEntityUtils.consume(closeableHttpResponse.getEntity());\n</code></pre>\n<p>However, Apache HttpClient dependencies are quite heavyweight, I really want to stay within the framework of pure Java.</p>\n<p>Is it possible to use the built-in HttpClient to access HTTPS resources through a proxy?</p>\n"},{"tags":["javascript","java","encryption","aes"],"comments":[{"owner":{"account_id":5897554,"reputation":18457,"user_id":4642212,"display_name":"Sebastian Simon"},"score":0,"creation_date":1635874623,"post_id":69814692,"comment_id":123407498,"body_markdown":"Try `new Int8Array(``)` around the resulting `Uint8Array`. Reminds me of [JavaScript equivalent of Java&#39;s String.getBytes(StandardCharsets.UTF\\_8)](/q/69710627/4642212).","body":"Try <code>new Int8Array(</code><code>)</code> around the resulting <code>Uint8Array</code>. Reminds me of <a href=\"/q/69710627/4642212\">JavaScript equivalent of Java&#39;s String.getBytes(StandardCharsets.UTF_8)</a>."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1635878040,"post_id":69814692,"comment_id":123408741,"body_markdown":"The CTR mode doesn&#39;t use padding, i.e. the ciphertext should have the same length as the plaintext, so for `textToEncrypt` 13 bytes. Your ciphertext is much longer, so the data is inconsistent (maybe `textToEncrypt` is a dummy, then please share the plaintext belonging to the posted ciphertext).","body":"The CTR mode doesn&#39;t use padding, i.e. the ciphertext should have the same length as the plaintext, so for <code>textToEncrypt</code> 13 bytes. Your ciphertext is much longer, so the data is inconsistent (maybe <code>textToEncrypt</code> is a dummy, then please share the plaintext belonging to the posted ciphertext)."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1635878201,"post_id":69814692,"comment_id":123408785,"body_markdown":"Also, the IV applied in the Java code is incorrect. The IV corresponding to `new aesjs.Counter(16)` to be used in the Java code is `{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16}`. If I apply this IV, I can successfully decrypt the ciphertext from the JavaScript with the Java code.","body":"Also, the IV applied in the Java code is incorrect. The IV corresponding to <code>new aesjs.Counter(16)</code> to be used in the Java code is <code>{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16}</code>. If I apply this IV, I can successfully decrypt the ciphertext from the JavaScript with the Java code."},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1635914586,"post_id":69814692,"comment_id":123416665,"body_markdown":"@SebastianSimon, thanks for sharing the link. It will be helpful for me later when im trying to do the same in Javascript. To handle this in Java, what would you suggest me to process them in `byte[]`? As you may have notice, some value generated from Javascript is consider as `Int`. I can&#39;t accept this parameter directly as a `byte[]`, Java will change the value itself.","body":"@SebastianSimon, thanks for sharing the link. It will be helpful for me later when im trying to do the same in Javascript. To handle this in Java, what would you suggest me to process them in <code>byte[]</code>? As you may have notice, some value generated from Javascript is consider as <code>Int</code>. I can&#39;t accept this parameter directly as a <code>byte[]</code>, Java will change the value itself."},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1635914688,"post_id":69814692,"comment_id":123416678,"body_markdown":"@Topaco Sharp eye there. Yes, I was giving a dummy data as a sample. A 90&#39; degree bow to you Sir, you have corrected my IV counter as you pointed `{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16}`. I wasn&#39;t too sure how this could be done earlier. If you could post this as an answer, I would like to accept this :) Thanks!","body":"@Topaco Sharp eye there. Yes, I was giving a dummy data as a sample. A 90&#39; degree bow to you Sir, you have corrected my IV counter as you pointed <code>{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16}</code>. I wasn&#39;t too sure how this could be done earlier. If you could post this as an answer, I would like to accept this :) Thanks!"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1635931229,"post_id":69814692,"comment_id":123420924,"body_markdown":"You&#39; re welcome, I&#39; ve posted an answer.","body":"You&#39; re welcome, I&#39; ve posted an answer."},{"owner":{"account_id":5897554,"reputation":18457,"user_id":4642212,"display_name":"Sebastian Simon"},"score":0,"creation_date":1635945624,"post_id":69814692,"comment_id":123426688,"body_markdown":"@TommyLeong Im not a Java dev, so I cant answer your question, sorry.","body":"@TommyLeong Im not a Java dev, so I cant answer your question, sorry."}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635882699,"creation_date":1635876044,"answer_id":69814976,"question_id":69814692,"body_markdown":"The problem is due to the fact in java *the byte data type is an 8-bit signed two&#39;s complement integer. It has a minimum value of -128 and a maximum value of 127 (inclusive)*, as stated for example in the official [datatypes](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) tutorial. This implies that values like 193 are `int` and not `byte`, so the compiler complains about to find int values inside a byte array and you are obliged to cast them to byte with unpredictable results. You can consider to instead declare an *int* array or a *short* array or a *char* array instead of a byte array to solve your problem ","title":"Encrypted bytes is not recognized by Java from Javascript?","body":"<p>The problem is due to the fact in java <em>the byte data type is an 8-bit signed two's complement integer. It has a minimum value of -128 and a maximum value of 127 (inclusive)</em>, as stated for example in the official <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">datatypes</a> tutorial. This implies that values like 193 are <code>int</code> and not <code>byte</code>, so the compiler complains about to find int values inside a byte array and you are obliged to cast them to byte with unpredictable results. You can consider to instead declare an <em>int</em> array or a <em>short</em> array or a <em>char</em> array instead of a byte array to solve your problem</p>\n"},{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635932059,"creation_date":1635931041,"answer_id":69822321,"question_id":69814692,"body_markdown":"In the Java code the IV is specified incorrectly.\r\n\r\nThe [CTR Mode][1] increments the passed IV from block to block. `new aesjs.Counter(16)` in the JavaScript code sets the starting value of the IV to 16. \r\n\r\nTherefore, the counterpart in the Java code is:\r\n\r\n```java\r\nbyte[] ivBytes = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16};\r\n```\r\n\r\nWith this change, decryption with the Java code works.\r\n\r\n------------------\r\n\r\nNote that the security of CTR breaks down if key/IV pairs are used repeatedly. Since usually the key is fixed, this means that no fixed IV may be used (which however is the case in the posted code), see [here][2] for more details.\r\n\r\nAlso, CTR does not provide any authentication of the message. This can be corrected with a MAC, alternatively the [GCM][5] mode can be used. This is based on the CTR mode and _implicitly_ applies a MAC.\r\n\r\n------------------\r\n\r\nFor an explanation of the necessary adaptation of the binary data regarding the transfer from JavaScript to Java code, see the [other answer][7].\r\n\r\nAn alternative to the transfer of binary data would be to convert the data into a string using a [binary to text encoding][6] and to transfer this string. Typically Base64 or hex encoding is applied for this, e.g. with Base64:\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var key = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n    var textBytes = aesjs.utils.utf8.toBytes(&quot;The quick brown fox jumps over the lazy dog&quot;);\r\n    var aesCtr = new aesjs.ModeOfOperation.ctr(key, new aesjs.Counter(16));\r\n    var encryptedBytes = aesCtr.encrypt(textBytes);\r\n\r\n    document.getElementById(&quot;bin&quot;).innerHTML = encryptedBytes; // 12,218,38,59,177,203,183,97,62,47,34,81,230,30,130,88,98,127,198,220,167,147,249,59,26,253,111,11,142,145,186,233,212,59,4,153,120,222,196,212,28,222,190\r\n    document.getElementById(&quot;b64&quot;).innerHTML = ui8ToB64(encryptedBytes); // DNomO7HLt2E+LyJR5h6CWGJ/xtynk/k7Gv1vC46RuunUOwSZeN7E1Bzevg==\t\r\n\r\n    // from https://stackoverflow.com/a/11562550/9014097\r\n    function ui8ToB64( arr ) {\r\n        return btoa(String.fromCharCode.apply(null, arr));\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/aes-js/3.1.2/index.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;p style=&quot;font-family:&#39;Courier New&#39;, monospace;&quot; id=&quot;bin&quot;&gt;&lt;/p&gt;\r\n    &lt;p style=&quot;font-family:&#39;Courier New&#39;, monospace;&quot; id=&quot;b64&quot;&gt;&lt;/p&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nOn the Java side, the built-in [`Base64.Decoder#decode()`][4] can be used for the Base64 decoding. \r\n\r\n[1]: https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Counter_(CTR)\r\n[2]: https://stackoverflow.com/a/4626404/9014097\r\n[4]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Base64.Decoder.html#decode(byte%5B%5D)\r\n[5]: https://en.wikipedia.org/wiki/Galois/Counter_Mode\r\n[6]: https://en.wikipedia.org/wiki/Binary-to-text_encoding\r\n[7]: https://stackoverflow.com/a/69814976/9014097\r\n","title":"Encrypted bytes is not recognized by Java from Javascript?","body":"<p>In the Java code the IV is specified incorrectly.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Counter_(CTR)\" rel=\"nofollow noreferrer\">CTR Mode</a> increments the passed IV from block to block. <code>new aesjs.Counter(16)</code> in the JavaScript code sets the starting value of the IV to 16.</p>\n<p>Therefore, the counterpart in the Java code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] ivBytes = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16};\n</code></pre>\n<p>With this change, decryption with the Java code works.</p>\n<hr />\n<p>Note that the security of CTR breaks down if key/IV pairs are used repeatedly. Since usually the key is fixed, this means that no fixed IV may be used (which however is the case in the posted code), see <a href=\"https://stackoverflow.com/a/4626404/9014097\">here</a> for more details.</p>\n<p>Also, CTR does not provide any authentication of the message. This can be corrected with a MAC, alternatively the <a href=\"https://en.wikipedia.org/wiki/Galois/Counter_Mode\" rel=\"nofollow noreferrer\">GCM</a> mode can be used. This is based on the CTR mode and <em>implicitly</em> applies a MAC.</p>\n<hr />\n<p>For an explanation of the necessary adaptation of the binary data regarding the transfer from JavaScript to Java code, see the <a href=\"https://stackoverflow.com/a/69814976/9014097\">other answer</a>.</p>\n<p>An alternative to the transfer of binary data would be to convert the data into a string using a <a href=\"https://en.wikipedia.org/wiki/Binary-to-text_encoding\" rel=\"nofollow noreferrer\">binary to text encoding</a> and to transfer this string. Typically Base64 or hex encoding is applied for this, e.g. with Base64:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var key = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\nvar textBytes = aesjs.utils.utf8.toBytes(\"The quick brown fox jumps over the lazy dog\");\nvar aesCtr = new aesjs.ModeOfOperation.ctr(key, new aesjs.Counter(16));\nvar encryptedBytes = aesCtr.encrypt(textBytes);\n\ndocument.getElementById(\"bin\").innerHTML = encryptedBytes; // 12,218,38,59,177,203,183,97,62,47,34,81,230,30,130,88,98,127,198,220,167,147,249,59,26,253,111,11,142,145,186,233,212,59,4,153,120,222,196,212,28,222,190\ndocument.getElementById(\"b64\").innerHTML = ui8ToB64(encryptedBytes); // DNomO7HLt2E+LyJR5h6CWGJ/xtynk/k7Gv1vC46RuunUOwSZeN7E1Bzevg==    \n\n// from https://stackoverflow.com/a/11562550/9014097\nfunction ui8ToB64( arr ) {\n    return btoa(String.fromCharCode.apply(null, arr));\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/aes-js/3.1.2/index.min.js\"&gt;&lt;/script&gt;\n&lt;p style=\"font-family:'Courier New', monospace;\" id=\"bin\"&gt;&lt;/p&gt;\n&lt;p style=\"font-family:'Courier New', monospace;\" id=\"b64\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>On the Java side, the built-in <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Base64.Decoder.html#decode(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>Base64.Decoder#decode()</code></a> can be used for the Base64 decoding.</p>\n"}],"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69822321,"answer_count":2,"score":2,"last_activity_date":1635932059,"creation_date":1635874462,"question_id":69814692,"body_markdown":"I&#39;ve done the **AES CTR** implementation on Javascript. Now I&#39;m intended to share the encrypted bytes to Java for further processing. However I&#39;m unable to assign the value return from `JavaScript&#39;s Uint8Array` to `Java&#39;s byte[]`.\r\n\r\nBelow&#39;s a sample data in `Uint8Array` format (After AES CTR encryption)\r\n```\r\n[71, 193, 223, 190, 6, 104, 11, 235, 249, 96, 54, 192, 233, 41, 198, 188, 15, 218, 10, 0, 61, 95, 58, 122, 74, 169, 27, 228, 121, 224, 128, 124, 198, 183, 23, 36, 89, 105, 184, 59, 245, 115, 244, 22, 122, 207, 217, 219, 160, 2, 227, 175, 134, 66, 165, 73, 102, 52, 14, 150, 182, 187, 228, 173, 96, 68, 11, 35, 166, 247, 45, 18, 202, 99, 81, 185, 216, 240, 66, 10, 105, 122, 45, 83]\r\n```\r\n\r\nWhen I pass try hardcoding value received from `JavaScript` in `Java` under `byte[]` as show, I received following complain.\r\n```\r\nbyte[] resp = {71, 193, 223, 190, 6, 104, 11, 235, 249, 96, 54, 192, 233, 41, 198, 188, 15, 218, 10, 0, 61, 95, 58, 122, 74, 169, 27, 228, 121, 224, 128, 124, 198, 183, 23, 36, 89, 105, 184, 59, 245, 115, 244, 22, 122, 207, 217, 219, 160, 2, 227, 175, 134, 66, 165, 73, 102, 52, 14, 150, 182, 187, 228, 173, 96, 68, 11, 35, 166, 247, 45, 18, 202, 99, 81, 185, 216, 240, 66, 10, 105, 122, 45, 83};\r\n\r\n// The complain is as follow:\r\nRequired type: byte\r\nProvided: int\r\n```\r\n\r\nI did this for **resolving to the above issue**:\r\n```\r\nbyte[] resp = {71, (byte)193, (byte)223, (byte)190, 6, 104, 11, (byte)235, (byte)249, 96, 54, (byte)192, (byte)233, 41, (byte)198, (byte)188, 15, (byte)218, 10, 0, 61, 95, 58, 122, 74, (byte)169, 27, (byte)228, 121, (byte)224, (byte)128, 124, (byte)198, (byte)183, 23, 36, 89, 105, (byte)184, 59, (byte)245, 115, (byte)244, 22, 122, (byte)207, (byte)217, (byte)219, (byte)160, 2, (byte)227, (byte)175, (byte)134, 66, (byte)165, 73, 102, 52, 14, (byte)150, (byte)182, (byte)187, (byte)228, (byte)173, 96, 68, 11, 35, (byte)166, (byte)247, 45, 18, (byte)202, 99, 81, (byte)185, (byte)216, (byte)240, 66, 10, 105, 122, 45, 83};\r\n```\r\n\r\n\r\n### Below is to show some implemented of the code\r\n**JS**\r\n```\r\n    var key = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n    var textBytes = aesjs.utils.utf8.toBytes(&quot;textToEncrypt&quot;);\r\n    var aesCtr = new aesjs.ModeOfOperation.ctr(key, new aesjs.Counter(16));\r\n    var encryptedBytes = aesCtr.encrypt(textBytes);\r\n\r\n# Outcome of encryptedBytes\r\n[71, 193, 223, 190, 6, 104, 11, 235, 249, 96, 54, 192, 233, 41, 198, 188, 15, 218, 10, 0, 61, 95, 58, 122, 74, 169, 27, 228, 121, 224, 128, 124, 198, 183, 23, 36, 89, 105, 184, 59, 245, 115, 244, 22, 122, 207, 217, 219, 160, 2, 227, 175, 134, 66, 165, 73, 102, 52, 14, 150, 182, 187, 228, 173, 96, 68, 11, 35, 166, 247, 45, 18, 202, 99, 81, 185, 216, 240, 66, 10, 105, 122, 45, 83]\r\n```\r\n\r\n**Java**\r\n```\r\nbyte[] keyBytes = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\r\nbyte[] ivBytes = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16};\r\n\r\n# Here I assign the value I&#39;ve received from `Javascript` into `resp`\r\n\r\nbyte[] resp = {71, (byte)193, (byte)223, (byte)190, 6, 104, 11, (byte)235, (byte)249, 96, 54, (byte)192, (byte)233, 41, (byte)198, (byte)188, 15, (byte)218, 10, 0, 61, 95, 58, 122, 74, (byte)169, 27, (byte)228, 121, (byte)224, (byte)128, 124, (byte)198, (byte)183, 23, 36, 89, 105, (byte)184, 59, (byte)245, 115, (byte)244, 22, 122, (byte)207, (byte)217, (byte)219, (byte)160, 2, (byte)227, (byte)175, (byte)134, 66, (byte)165, 73, 102, 52, 14, (byte)150, (byte)182, (byte)187, (byte)228, (byte)173, 96, 68, 11, 35, (byte)166, (byte)247, 45, 18, (byte)202, 99, 81, (byte)185, (byte)216, (byte)240, 66, 10, 105, 122, 45, 83};\r\n\r\ncipher.init(Cipher.DECRYPT_MODE, key, ivSpec);\r\nbyte[] plaintext = cipher.doFinal(decoded);\r\nString plaintextString = new String(plaintext, StandardCharsets.UTF_8); \r\n\r\n# Here I expect the value `textToEncrypt` to be decrypted under variable `plaintextString`.\r\n\r\n```\r\n\r\nAm I doing something wrong? Eg, the way Im setting the counter(IV) in `Java`.\r\n\r\n\r\n**FYI info**\r\n- cipher.getAlgorithm() is SunJCE version 15","title":"Encrypted bytes is not recognized by Java from Javascript?","body":"<p>I've done the <strong>AES CTR</strong> implementation on Javascript. Now I'm intended to share the encrypted bytes to Java for further processing. However I'm unable to assign the value return from <code>JavaScript's Uint8Array</code> to <code>Java's byte[]</code>.</p>\n<p>Below's a sample data in <code>Uint8Array</code> format (After AES CTR encryption)</p>\n<pre><code>[71, 193, 223, 190, 6, 104, 11, 235, 249, 96, 54, 192, 233, 41, 198, 188, 15, 218, 10, 0, 61, 95, 58, 122, 74, 169, 27, 228, 121, 224, 128, 124, 198, 183, 23, 36, 89, 105, 184, 59, 245, 115, 244, 22, 122, 207, 217, 219, 160, 2, 227, 175, 134, 66, 165, 73, 102, 52, 14, 150, 182, 187, 228, 173, 96, 68, 11, 35, 166, 247, 45, 18, 202, 99, 81, 185, 216, 240, 66, 10, 105, 122, 45, 83]\n</code></pre>\n<p>When I pass try hardcoding value received from <code>JavaScript</code> in <code>Java</code> under <code>byte[]</code> as show, I received following complain.</p>\n<pre><code>byte[] resp = {71, 193, 223, 190, 6, 104, 11, 235, 249, 96, 54, 192, 233, 41, 198, 188, 15, 218, 10, 0, 61, 95, 58, 122, 74, 169, 27, 228, 121, 224, 128, 124, 198, 183, 23, 36, 89, 105, 184, 59, 245, 115, 244, 22, 122, 207, 217, 219, 160, 2, 227, 175, 134, 66, 165, 73, 102, 52, 14, 150, 182, 187, 228, 173, 96, 68, 11, 35, 166, 247, 45, 18, 202, 99, 81, 185, 216, 240, 66, 10, 105, 122, 45, 83};\n\n// The complain is as follow:\nRequired type: byte\nProvided: int\n</code></pre>\n<p>I did this for <strong>resolving to the above issue</strong>:</p>\n<pre><code>byte[] resp = {71, (byte)193, (byte)223, (byte)190, 6, 104, 11, (byte)235, (byte)249, 96, 54, (byte)192, (byte)233, 41, (byte)198, (byte)188, 15, (byte)218, 10, 0, 61, 95, 58, 122, 74, (byte)169, 27, (byte)228, 121, (byte)224, (byte)128, 124, (byte)198, (byte)183, 23, 36, 89, 105, (byte)184, 59, (byte)245, 115, (byte)244, 22, 122, (byte)207, (byte)217, (byte)219, (byte)160, 2, (byte)227, (byte)175, (byte)134, 66, (byte)165, 73, 102, 52, 14, (byte)150, (byte)182, (byte)187, (byte)228, (byte)173, 96, 68, 11, 35, (byte)166, (byte)247, 45, 18, (byte)202, 99, 81, (byte)185, (byte)216, (byte)240, 66, 10, 105, 122, 45, 83};\n</code></pre>\n<h3>Below is to show some implemented of the code</h3>\n<p><strong>JS</strong></p>\n<pre><code>    var key = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    var textBytes = aesjs.utils.utf8.toBytes(&quot;textToEncrypt&quot;);\n    var aesCtr = new aesjs.ModeOfOperation.ctr(key, new aesjs.Counter(16));\n    var encryptedBytes = aesCtr.encrypt(textBytes);\n\n# Outcome of encryptedBytes\n[71, 193, 223, 190, 6, 104, 11, 235, 249, 96, 54, 192, 233, 41, 198, 188, 15, 218, 10, 0, 61, 95, 58, 122, 74, 169, 27, 228, 121, 224, 128, 124, 198, 183, 23, 36, 89, 105, 184, 59, 245, 115, 244, 22, 122, 207, 217, 219, 160, 2, 227, 175, 134, 66, 165, 73, 102, 52, 14, 150, 182, 187, 228, 173, 96, 68, 11, 35, 166, 247, 45, 18, 202, 99, 81, 185, 216, 240, 66, 10, 105, 122, 45, 83]\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>byte[] keyBytes = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\nbyte[] ivBytes = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16};\n\n# Here I assign the value I've received from `Javascript` into `resp`\n\nbyte[] resp = {71, (byte)193, (byte)223, (byte)190, 6, 104, 11, (byte)235, (byte)249, 96, 54, (byte)192, (byte)233, 41, (byte)198, (byte)188, 15, (byte)218, 10, 0, 61, 95, 58, 122, 74, (byte)169, 27, (byte)228, 121, (byte)224, (byte)128, 124, (byte)198, (byte)183, 23, 36, 89, 105, (byte)184, 59, (byte)245, 115, (byte)244, 22, 122, (byte)207, (byte)217, (byte)219, (byte)160, 2, (byte)227, (byte)175, (byte)134, 66, (byte)165, 73, 102, 52, 14, (byte)150, (byte)182, (byte)187, (byte)228, (byte)173, 96, 68, 11, 35, (byte)166, (byte)247, 45, 18, (byte)202, 99, 81, (byte)185, (byte)216, (byte)240, 66, 10, 105, 122, 45, 83};\n\ncipher.init(Cipher.DECRYPT_MODE, key, ivSpec);\nbyte[] plaintext = cipher.doFinal(decoded);\nString plaintextString = new String(plaintext, StandardCharsets.UTF_8); \n\n# Here I expect the value `textToEncrypt` to be decrypted under variable `plaintextString`.\n\n</code></pre>\n<p>Am I doing something wrong? Eg, the way Im setting the counter(IV) in <code>Java</code>.</p>\n<p><strong>FYI info</strong></p>\n<ul>\n<li>cipher.getAlgorithm() is SunJCE version 15</li>\n</ul>\n"},{"tags":["java","jdbc","ignite"],"answers":[{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635931869,"creation_date":1635931869,"answer_id":69822491,"question_id":69822353,"body_markdown":"Ignite doesn&#39;t currently support SQL transactions.\r\n\r\nYou can _use_ the table using SQL/JDBC but if, for example, you do a big update or need to change two records atomically, it&#39;s possible that some, but not all, of the updates to be recorded.\r\n\r\nIf you need transactions, you would need to use the key-value API rather than SQL/JDBC.","title":"Does Apache Ignite thin JDBC driver work with a cache having Atomicity = TRANSACTIONAL","body":"<p>Ignite doesn't currently support SQL transactions.</p>\n<p>You can <em>use</em> the table using SQL/JDBC but if, for example, you do a big update or need to change two records atomically, it's possible that some, but not all, of the updates to be recorded.</p>\n<p>If you need transactions, you would need to use the key-value API rather than SQL/JDBC.</p>\n"}],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635931869,"creation_date":1635931167,"question_id":69822353,"body_markdown":"I have been reading the documentation for hours but I could not find a clear answer. \r\nApache Ignite and Grid Gain documentation states that for a Cache I can use ATOMIC or  TRANSACTIONAL or TRANSACTIONAL_SNAPSHOT [here][1]\r\nFor TRANSACTIONAL it states that \r\n\r\n&gt; &quot;In this mode, transactional consistency is guaranteed for key-value\r\n&gt; API operations only&quot;\r\n\r\nThere is no mentioning of JDBC anywhere. \r\n\r\nSo, I connect to GridGain cluster via JDBC and I **only** use INSERT/UPDATE/DELETE statements via JDBC connection on caches that are created by SQL statements like this. My cache is **TRANSACTIONAL**\r\n\r\n    CREATE TABLE IF NOT EXISTS FOO(\r\n    ID NUMBER(10,0),\r\n    NAME VARCHAR2(100),\r\n    PRIMARY KEY (ID)\r\n    ) WITH &quot;TEMPLATE=PARTITIONED,ATOMICITY=TRANSACTIONAL&quot;;\r\nMy JDBC usage is like this. Here I disable auto commit and run a few statements and then commit manually.\r\n\r\n    connect.setAutoCommit(false);\r\n\r\n    PreparedStatement st1.executeUpdate();  \r\n    PreparedStatement st2.executeQuery();\r\n    ...//other prepared statements executed\r\n    connect.commit();\r\n    \r\n\r\n\r\nI have performed some tests with two data nodes in a cluster and I don&#39;t see a problem. So by definition a JDBC connection must be using pessimistic locks just like Key-Value API. \r\n**Is my assumption correct ? And is my JDBC usage safe or not ?** \r\n\r\n  [1]: https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/cache/CacheAtomicityMode.html","title":"Does Apache Ignite thin JDBC driver work with a cache having Atomicity = TRANSACTIONAL","body":"<p>I have been reading the documentation for hours but I could not find a clear answer.\nApache Ignite and Grid Gain documentation states that for a Cache I can use ATOMIC or  TRANSACTIONAL or TRANSACTIONAL_SNAPSHOT <a href=\"https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/cache/CacheAtomicityMode.html\" rel=\"nofollow noreferrer\">here</a>\nFor TRANSACTIONAL it states that</p>\n<blockquote>\n<p>&quot;In this mode, transactional consistency is guaranteed for key-value\nAPI operations only&quot;</p>\n</blockquote>\n<p>There is no mentioning of JDBC anywhere.</p>\n<p>So, I connect to GridGain cluster via JDBC and I <strong>only</strong> use INSERT/UPDATE/DELETE statements via JDBC connection on caches that are created by SQL statements like this. My cache is <strong>TRANSACTIONAL</strong></p>\n<pre><code>CREATE TABLE IF NOT EXISTS FOO(\nID NUMBER(10,0),\nNAME VARCHAR2(100),\nPRIMARY KEY (ID)\n) WITH &quot;TEMPLATE=PARTITIONED,ATOMICITY=TRANSACTIONAL&quot;;\n</code></pre>\n<p>My JDBC usage is like this. Here I disable auto commit and run a few statements and then commit manually.</p>\n<pre><code>connect.setAutoCommit(false);\n\nPreparedStatement st1.executeUpdate();  \nPreparedStatement st2.executeQuery();\n...//other prepared statements executed\nconnect.commit();\n</code></pre>\n<p>I have performed some tests with two data nodes in a cluster and I don't see a problem. So by definition a JDBC connection must be using pessimistic locks just like Key-Value API.\n<strong>Is my assumption correct ? And is my JDBC usage safe or not ?</strong></p>\n"},{"tags":["java","garbage-collection","hook"],"comments":[{"owner":{"account_id":3467821,"reputation":8512,"user_id":2902950,"accept_rate":78,"display_name":"Prashant Shilimkar"},"score":0,"creation_date":1386578972,"post_id":20466446,"comment_id":30582985,"body_markdown":"Hooks are specified points, where the developer can specify methods or callbacks to be executed.","body":"Hooks are specified points, where the developer can specify methods or callbacks to be executed."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386578921,"creation_date":1386578921,"answer_id":20466541,"question_id":20466446,"body_markdown":"You do have [finalizers][1], but they&#39;re not guaranteed to run.\r\n\r\nFurther discussion about why finalizers may not run in this thread:\r\nhttps://stackoverflow.com/questions/2506488/java-finalize-method-call\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#finalize%28%29","title":"Is there any hook provided to register a thread with garbage collection in java?","body":"<p>You do have <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#finalize%28%29\" rel=\"nofollow noreferrer\">finalizers</a>, but they're not guaranteed to run.</p>\n\n<p>Further discussion about why finalizers may not run in this thread:\n<a href=\"https://stackoverflow.com/questions/2506488/java-finalize-method-call\">When is the finalize() method called in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1386580633,"creation_date":1386580633,"answer_id":20466998,"question_id":20466446,"body_markdown":"Not exactly a hook, but you can use a [WeakReference][1] to be notified that an object has become eligible to be garbage collected.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html","title":"Is there any hook provided to register a thread with garbage collection in java?","body":"<p>Not exactly a hook, but you can use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html\" rel=\"nofollow\">WeakReference</a> to be notified that an object has become eligible to be garbage collected.</p>\n"},{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386581296,"creation_date":1386581296,"answer_id":20467202,"question_id":20466446,"body_markdown":"There are WeakReferences as already mentioned but there are also [Phantom References][1]\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ref/PhantomReference.html &quot;Phantom References&quot;\r\n\r\nAll of these techniques just allow you to monitor garbage collection on specific objects though.\r\n\r\nThere is a good description of phantom references here: http://java.dzone.com/articles/finalization-and-phantom\r\n","title":"Is there any hook provided to register a thread with garbage collection in java?","body":"<p>There are WeakReferences as already mentioned but there are also <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ref/PhantomReference.html\" rel=\"nofollow\" title=\"Phantom References\">Phantom References</a></p>\n\n<p>All of these techniques just allow you to monitor garbage collection on specific objects though.</p>\n\n<p>There is a good description of phantom references here: <a href=\"http://java.dzone.com/articles/finalization-and-phantom\" rel=\"nofollow\">http://java.dzone.com/articles/finalization-and-phantom</a></p>\n"}],"owner":{"account_id":3467821,"reputation":8512,"user_id":2902950,"accept_rate":78,"display_name":"Prashant Shilimkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1579,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20466998,"answer_count":3,"score":2,"last_activity_date":1635931767,"creation_date":1386578509,"question_id":20466446,"body_markdown":"JVM provides you a hook to register a thread with the shutdown initiation sequence. Once a thread is registered, on every shutdown that thread is run.\r\n\r\nNow, is there any such a hook java provide to register a thread with JVM&#39;s Garbage collector?","title":"Is there any hook provided to register a thread with garbage collection in java?","body":"<p>JVM provides you a hook to register a thread with the shutdown initiation sequence. Once a thread is registered, on every shutdown that thread is run.</p>\n\n<p>Now, is there any such a hook java provide to register a thread with JVM's Garbage collector?</p>\n"},{"tags":["java","transparency","splash-screen","animated-gif"],"answers":[{"tags":[],"owner":{"account_id":2202476,"reputation":8325,"user_id":1946537,"accept_rate":57,"display_name":"initramfs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375384772,"creation_date":1375384772,"answer_id":18002714,"question_id":17995984,"body_markdown":"The problem with your code is that every given window has a particular defined shape. Without changing the shape every Window object has a rectangular canvas in which it draws upon. The transparency only applies if you draw a object behind your GIF image. If transparency is enabled the renderer merely draws the background colour (which is normally black or white or some light gray) if nothing else is present.\r\n\r\nSince the release of Java 7 a new method called setShape(Shape); appeared for Window objects. If your animated GIF has a fixed transparency &quot;zone&quot; I advise creating a custom java.awt.Shape object in which you pass to the win object via set shape.\r\n\r\nExample:\r\n\r\n    win = javax.swing.JWindow;\r\n    jl = javax.swing.JLabel(javax.swing.ImageIcon(&#39;C:\\Users\\ME\\Documents\\loader512-.gif&#39;));\r\n    win.getContentPane.add(jl);\r\n    Shape S = createCustomShape(); //Create your shape\r\n    win.setShape(S);\r\n    win.setAlwaysOnTop(true);\r\n    //{rest of code...}\r\n\r\nIf the animated GIF has a changing transparency background, you must create a complex implementation in which the Shape object updates on a frame by frame basis in response to the GIF. In my opinion, if this is the case, I wouldn&#39;t bother. :)\r\n\r\nRead more on the Shape object [here][1].\r\n\r\nN.B. The Shape &quot;object&quot; is actually a interface, either use one of the implementing subclasses or create your own.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Shape.html","title":"Java Animated transparent splash screen","body":"<p>The problem with your code is that every given window has a particular defined shape. Without changing the shape every Window object has a rectangular canvas in which it draws upon. The transparency only applies if you draw a object behind your GIF image. If transparency is enabled the renderer merely draws the background colour (which is normally black or white or some light gray) if nothing else is present.</p>\n\n<p>Since the release of Java 7 a new method called setShape(Shape); appeared for Window objects. If your animated GIF has a fixed transparency \"zone\" I advise creating a custom java.awt.Shape object in which you pass to the win object via set shape.</p>\n\n<p>Example:</p>\n\n<pre><code>win = javax.swing.JWindow;\njl = javax.swing.JLabel(javax.swing.ImageIcon('C:\\Users\\ME\\Documents\\loader512-.gif'));\nwin.getContentPane.add(jl);\nShape S = createCustomShape(); //Create your shape\nwin.setShape(S);\nwin.setAlwaysOnTop(true);\n//{rest of code...}\n</code></pre>\n\n<p>If the animated GIF has a changing transparency background, you must create a complex implementation in which the Shape object updates on a frame by frame basis in response to the GIF. In my opinion, if this is the case, I wouldn't bother. :)</p>\n\n<p>Read more on the Shape object <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Shape.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>N.B. The Shape \"object\" is actually a interface, either use one of the implementing subclasses or create your own.</p>\n"}],"owner":{"account_id":1162612,"reputation":3513,"user_id":1141818,"accept_rate":59,"display_name":"GuillaumeA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635931738,"creation_date":1375365109,"question_id":17995984,"body_markdown":"I&#39;d like to make a splash screen with an animated gif. My animated gif has a transparent background so I&#39;d like to display only the visible part of my gif as a splash screen.\r\nFirst of all, I must specify that I&#39;m using Matlab so it is not possible (or I haven&#39;t found how) to override components/functions.\r\nHere my sample code :\r\n\r\n     win = javax.swing.JWindow;\r\n     jl = javax.swing.JLabel(javax.swing.ImageIcon(&#39;C:\\Users\\ME\\Documents\\loader512-.gif&#39;));\r\n     win.getContentPane.add(jl);\r\n     win.setAlwaysOnTop(true);\r\n     win.pack;\r\n     %% set the splash image to the center of the screen\r\n     screenSize = win.getToolkit.getScreenSize;\r\n     screenHeight = screenSize.height;\r\n     screenWidth = screenSize.width;\r\n     % get the actual splashImage size\r\n     imgHeight = 512;\r\n     imgWidth = 512;\r\n     win.setLocation((screenWidth-imgWidth)/2,(screenHeight-imgHeight)/2);   \r\n     win.show\r\n\r\nIt works very well shwing the image, however its background is ether white or gray depending on the transparency of the window.\r\nI also tried to play with the background of the JLabel without success.\r\n\r\nPlease help !","title":"Java Animated transparent splash screen","body":"<p>I'd like to make a splash screen with an animated gif. My animated gif has a transparent background so I'd like to display only the visible part of my gif as a splash screen.\nFirst of all, I must specify that I'm using Matlab so it is not possible (or I haven't found how) to override components/functions.\nHere my sample code :</p>\n\n<pre><code> win = javax.swing.JWindow;\n jl = javax.swing.JLabel(javax.swing.ImageIcon('C:\\Users\\ME\\Documents\\loader512-.gif'));\n win.getContentPane.add(jl);\n win.setAlwaysOnTop(true);\n win.pack;\n %% set the splash image to the center of the screen\n screenSize = win.getToolkit.getScreenSize;\n screenHeight = screenSize.height;\n screenWidth = screenSize.width;\n % get the actual splashImage size\n imgHeight = 512;\n imgWidth = 512;\n win.setLocation((screenWidth-imgWidth)/2,(screenHeight-imgHeight)/2);   \n win.show\n</code></pre>\n\n<p>It works very well shwing the image, however its background is ether white or gray depending on the transparency of the window.\nI also tried to play with the background of the JLabel without success.</p>\n\n<p>Please help !</p>\n"},{"tags":["java","amazon-web-services","amazon-elastic-beanstalk","aws-cli"],"answers":[{"tags":[],"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626507346,"creation_date":1626507346,"answer_id":68418416,"question_id":68418035,"body_markdown":"There is **no automated migration** from EB platform based on `Amazon Linux 1` to  `Amazon Linux 2`. You have to do it **manually** in new EB platform, as explain in AWS docs:\r\n\r\n - [Migrating your Elastic Beanstalk Linux application to Amazon Linux 2](https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.migration-al.html)","title":"AWS Beanstalk application cant deploy because Python version within awscli-bundle deployer too old","body":"<p>There is <strong>no automated migration</strong> from EB platform based on <code>Amazon Linux 1</code> to  <code>Amazon Linux 2</code>. You have to do it <strong>manually</strong> in new EB platform, as explain in AWS docs:</p>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.migration-al.html\" rel=\"nofollow noreferrer\">Migrating your Elastic Beanstalk Linux application to Amazon Linux 2</a></li>\n</ul>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635931686,"creation_date":1626503753,"question_id":68418035,"body_markdown":"My AWS Elastic Beanstalk tomcat Java application that has been running quite happily for the last six months crashed yesterday, and when I try to redeploy using clone it fails \r\n\r\n  \r\n\r\n&gt;   Instance: i-0872ed7568a9820f5] Command failed on instance. Return\r\n&gt; code: 1 Output: (TRUNCATED)...detected: Python 2.7 To continue using\r\n&gt; this installer you must use Python 3.6 or later. For more information\r\n&gt; see the following blog post:\r\n&gt; https://aws.amazon.com/blogs/developer/announcing-end-of-support-for-python-2-7-in-aws-sdk-for-python-and-aws-cli-v1/.\r\n&gt; command 01_install_cli in .ebextensions/copyindexes.config failed. For\r\n&gt; more detail, check /var/log/eb-activity.log using console or EB CLI.\r\n\r\nI check the **eb_activity.log** and it seems the problem is with the version of awscli-bundle used, but I dont understand where I define this.\r\n \r\n  \r\n\r\n    Archive:  awscli-bundle.zip\r\n      inflating: awscli-bundle/install\r\n      inflating: awscli-bundle/packages/jmespath-0.10.0.tar.gz\r\n      inflating: awscli-bundle/packages/pyasn1-0.4.8.tar.gz\r\n      inflating: awscli-bundle/packages/docutils-0.15.2.tar.gz\r\n      inflating: awscli-bundle/packages/s3transfer-0.5.0.tar.gz\r\n      inflating: awscli-bundle/packages/virtualenv-16.7.8.tar.gz\r\n      inflating: awscli-bundle/packages/awscli-1.20.1.tar.gz\r\n      inflating: awscli-bundle/packages/six-1.16.0.tar.gz\r\n      inflating: awscli-bundle/packages/rsa-4.7.2.tar.gz\r\n      inflating: awscli-bundle/packages/colorama-0.4.3.tar.gz\r\n      inflating: awscli-bundle/packages/PyYAML-5.4.1.tar.gz\r\n      inflating: awscli-bundle/packages/urllib3-1.26.6.tar.gz\r\n      inflating: awscli-bundle/packages/botocore-1.21.1.tar.gz\r\n      inflating: awscli-bundle/packages/python-dateutil-2.8.2.tar.gz\r\n      inflating: awscli-bundle/packages/setup/setuptools_scm-3.3.3.tar.gz\r\n      inflating: awscli-bundle/packages/setup/wheel-0.33.6.tar.gz\r\n      Unsupported Python version detected: Python 2.7\r\n      To continue using this installer you must use Python 3.6 or later.\r\n      For more information see the following blog post: https://aws.amazon.com/blogs/developer/announcing-end-of-support-for-python-2-7-in-aws-sdk-for-python-and-aws-cli-v1/\r\n      \r\n       (ElasticBeanstalk::ExternalInvocationError)\r\n\r\nI have looked within the .ebextensions folder of my .war file and I cannot see a version number defined\r\n\r\nSo I tried creating a new environment using a newer platform so thinking the amazon cli tool is installed as part of the platform  instead of using *Tomcat 7 with Java 7* I tried *Tomcat 8.5 with Corretto 8 running on 64bit Amazon Linux 2/4.2.2*\r\n\r\nNow I get a different error in cfn-init.log of\r\n\r\n    2021-07-17 07:26:02,021 [INFO] -----------------------Starting build-----------------------\r\n    2021-07-17 07:26:02,028 [INFO] Running configSets: _OnInstanceBoot\r\n    2021-07-17 07:26:02,031 [INFO] Running configSet _OnInstanceBoot\r\n    2021-07-17 07:26:02,033 [INFO] Running config AWSEBBaseConfig\r\n    2021-07-17 07:26:02,228 [INFO] Command clearbackupfiles succeeded\r\n    2021-07-17 07:26:02,234 [INFO] Running config AWSEBCfnHupEndpointOverride\r\n    2021-07-17 07:26:02,237 [INFO] Command clearbackupfiles succeeded\r\n    2021-07-17 07:26:02,238 [INFO] ConfigSets completed\r\n    2021-07-17 07:26:02,238 [INFO] -----------------------Build complete-----------------------\r\n    2021-07-17 07:26:37,586 [INFO] -----------------------Starting build-----------------------\r\n    2021-07-17 07:26:37,592 [INFO] Running configSets: Infra-EmbeddedPreBuild\r\n    2021-07-17 07:26:37,596 [INFO] Running configSet Infra-EmbeddedPreBuild\r\n    2021-07-17 07:26:37,599 [INFO] Running config prebuild_0_jthinkws\r\n    2021-07-17 07:26:39,257 [ERROR] Command 01_install_cli (wget https://s3.amazonaws.com/aws-cli/awscli-bundle.zip; unzip awscli-bundle.zip;  ./awscli-bundle/install -b ~/bin/aws) failed\r\n    2021-07-17 07:26:39,257 [ERROR] Error encountered during build of prebuild_0_jthinkws: Command 01_install_cli failed\r\n    Traceback (most recent call last):\r\n      File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 573, in run_config\r\n        CloudFormationCarpenter(config, self._auth_config).build(worklog)\r\n      File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 273, in build\r\n        self._config.commands)\r\n      File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/command_tool.py&quot;, line 127, in apply\r\n        raise ToolError(u&quot;Command %s failed&quot; % name)\r\n    cfnbootstrap.construction_errors.ToolError: Command 01_install_cli failed\r\n    2021-07-17 07:26:39,260 [ERROR] -----------------------BUILD FAILED!------------------------\r\n    2021-07-17 07:26:39,260 [ERROR] Unhandled exception during build: Command 01_install_cli failed\r\n    Traceback (most recent call last):\r\n      File &quot;/opt/aws/bin/cfn-init&quot;, line 176, in &lt;module&gt;\r\n        worklog.build(metadata, configSets)\r\n      File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 135, in build\r\n        Contractor(metadata).build(configSets, self)\r\n      File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 561, in build\r\n        self.run_config(config, worklog)\r\n      File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 573, in run_config\r\n        CloudFormationCarpenter(config, self._auth_config).build(worklog)\r\n      File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 273, in build\r\n        self._config.commands)\r\n      File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/command_tool.py&quot;, line 127, in apply\r\n        raise ToolError(u&quot;Command %s failed&quot; % name)\r\n    cfnbootstrap.construction_errors.ToolError: Command 01_install_cli failed\r\n\r\nI dont understand how I am meant to get round this because **01_install_cli** is not a script that I have written, it is not part of war file it is an internal script used by Amazon !","title":"AWS Beanstalk application cant deploy because Python version within awscli-bundle deployer too old","body":"<p>My AWS Elastic Beanstalk tomcat Java application that has been running quite happily for the last six months crashed yesterday, and when I try to redeploy using clone it fails</p>\n<blockquote>\n<p>Instance: i-0872ed7568a9820f5] Command failed on instance. Return\ncode: 1 Output: (TRUNCATED)...detected: Python 2.7 To continue using\nthis installer you must use Python 3.6 or later. For more information\nsee the following blog post:\n<a href=\"https://aws.amazon.com/blogs/developer/announcing-end-of-support-for-python-2-7-in-aws-sdk-for-python-and-aws-cli-v1/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/announcing-end-of-support-for-python-2-7-in-aws-sdk-for-python-and-aws-cli-v1/</a>.\ncommand 01_install_cli in .ebextensions/copyindexes.config failed. For\nmore detail, check /var/log/eb-activity.log using console or EB CLI.</p>\n</blockquote>\n<p>I check the <strong>eb_activity.log</strong> and it seems the problem is with the version of awscli-bundle used, but I dont understand where I define this.</p>\n<pre><code>Archive:  awscli-bundle.zip\n  inflating: awscli-bundle/install\n  inflating: awscli-bundle/packages/jmespath-0.10.0.tar.gz\n  inflating: awscli-bundle/packages/pyasn1-0.4.8.tar.gz\n  inflating: awscli-bundle/packages/docutils-0.15.2.tar.gz\n  inflating: awscli-bundle/packages/s3transfer-0.5.0.tar.gz\n  inflating: awscli-bundle/packages/virtualenv-16.7.8.tar.gz\n  inflating: awscli-bundle/packages/awscli-1.20.1.tar.gz\n  inflating: awscli-bundle/packages/six-1.16.0.tar.gz\n  inflating: awscli-bundle/packages/rsa-4.7.2.tar.gz\n  inflating: awscli-bundle/packages/colorama-0.4.3.tar.gz\n  inflating: awscli-bundle/packages/PyYAML-5.4.1.tar.gz\n  inflating: awscli-bundle/packages/urllib3-1.26.6.tar.gz\n  inflating: awscli-bundle/packages/botocore-1.21.1.tar.gz\n  inflating: awscli-bundle/packages/python-dateutil-2.8.2.tar.gz\n  inflating: awscli-bundle/packages/setup/setuptools_scm-3.3.3.tar.gz\n  inflating: awscli-bundle/packages/setup/wheel-0.33.6.tar.gz\n  Unsupported Python version detected: Python 2.7\n  To continue using this installer you must use Python 3.6 or later.\n  For more information see the following blog post: https://aws.amazon.com/blogs/developer/announcing-end-of-support-for-python-2-7-in-aws-sdk-for-python-and-aws-cli-v1/\n  \n   (ElasticBeanstalk::ExternalInvocationError)\n</code></pre>\n<p>I have looked within the .ebextensions folder of my .war file and I cannot see a version number defined</p>\n<p>So I tried creating a new environment using a newer platform so thinking the amazon cli tool is installed as part of the platform  instead of using <em>Tomcat 7 with Java 7</em> I tried <em>Tomcat 8.5 with Corretto 8 running on 64bit Amazon Linux 2/4.2.2</em></p>\n<p>Now I get a different error in cfn-init.log of</p>\n<pre><code>2021-07-17 07:26:02,021 [INFO] -----------------------Starting build-----------------------\n2021-07-17 07:26:02,028 [INFO] Running configSets: _OnInstanceBoot\n2021-07-17 07:26:02,031 [INFO] Running configSet _OnInstanceBoot\n2021-07-17 07:26:02,033 [INFO] Running config AWSEBBaseConfig\n2021-07-17 07:26:02,228 [INFO] Command clearbackupfiles succeeded\n2021-07-17 07:26:02,234 [INFO] Running config AWSEBCfnHupEndpointOverride\n2021-07-17 07:26:02,237 [INFO] Command clearbackupfiles succeeded\n2021-07-17 07:26:02,238 [INFO] ConfigSets completed\n2021-07-17 07:26:02,238 [INFO] -----------------------Build complete-----------------------\n2021-07-17 07:26:37,586 [INFO] -----------------------Starting build-----------------------\n2021-07-17 07:26:37,592 [INFO] Running configSets: Infra-EmbeddedPreBuild\n2021-07-17 07:26:37,596 [INFO] Running configSet Infra-EmbeddedPreBuild\n2021-07-17 07:26:37,599 [INFO] Running config prebuild_0_jthinkws\n2021-07-17 07:26:39,257 [ERROR] Command 01_install_cli (wget https://s3.amazonaws.com/aws-cli/awscli-bundle.zip; unzip awscli-bundle.zip;  ./awscli-bundle/install -b ~/bin/aws) failed\n2021-07-17 07:26:39,257 [ERROR] Error encountered during build of prebuild_0_jthinkws: Command 01_install_cli failed\nTraceback (most recent call last):\n  File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 573, in run_config\n    CloudFormationCarpenter(config, self._auth_config).build(worklog)\n  File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 273, in build\n    self._config.commands)\n  File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/command_tool.py&quot;, line 127, in apply\n    raise ToolError(u&quot;Command %s failed&quot; % name)\ncfnbootstrap.construction_errors.ToolError: Command 01_install_cli failed\n2021-07-17 07:26:39,260 [ERROR] -----------------------BUILD FAILED!------------------------\n2021-07-17 07:26:39,260 [ERROR] Unhandled exception during build: Command 01_install_cli failed\nTraceback (most recent call last):\n  File &quot;/opt/aws/bin/cfn-init&quot;, line 176, in &lt;module&gt;\n    worklog.build(metadata, configSets)\n  File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 135, in build\n    Contractor(metadata).build(configSets, self)\n  File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 561, in build\n    self.run_config(config, worklog)\n  File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 573, in run_config\n    CloudFormationCarpenter(config, self._auth_config).build(worklog)\n  File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/construction.py&quot;, line 273, in build\n    self._config.commands)\n  File &quot;/usr/lib/python3.7/site-packages/cfnbootstrap/command_tool.py&quot;, line 127, in apply\n    raise ToolError(u&quot;Command %s failed&quot; % name)\ncfnbootstrap.construction_errors.ToolError: Command 01_install_cli failed\n</code></pre>\n<p>I dont understand how I am meant to get round this because <strong>01_install_cli</strong> is not a script that I have written, it is not part of war file it is an internal script used by Amazon !</p>\n"},{"tags":["java","spring","model-view-controller","web-applications"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1635910198,"post_id":69819335,"comment_id":123416002,"body_markdown":"Why are you using the legacy configuration system instead of using Spring Boot, which is much easier?","body":"Why are you using the legacy configuration system instead of using Spring Boot, which is much easier?"},{"owner":{"account_id":23223185,"reputation":1,"user_id":17315051,"display_name":"KayceKay"},"score":0,"creation_date":1635910531,"post_id":69819335,"comment_id":123416071,"body_markdown":"its what I first learned, so Im refreshing my memory with this and will be moving to spring boot after.","body":"its what I first learned, so Im refreshing my memory with this and will be moving to spring boot after."}],"answers":[{"tags":[],"owner":{"account_id":453190,"reputation":239,"user_id":850043,"accept_rate":0,"display_name":"mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635931575,"creation_date":1635910273,"answer_id":69819366,"question_id":69819335,"body_markdown":"PartRoom is not mapped anywhere. Your controller is mapped to `/user`. So please try `/users/all`.","title":"How do I configure my spring web app to run on my local server?","body":"<p>PartRoom is not mapped anywhere. Your controller is mapped to <code>/user</code>. So please try <code>/users/all</code>.</p>\n"}],"owner":{"account_id":23223185,"reputation":1,"user_id":17315051,"display_name":"KayceKay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635931575,"creation_date":1635909951,"question_id":69819335,"body_markdown":"so I am getting back into developing but I am having trouble getting my application to run and return my empty array so that I know my app is working and connected to my RDS. \r\n\r\nI have looked at many questions and resources but I am not finding a solution to my problem. \r\n\r\nI am able to run my application but I am receiving this error: \r\n\r\n**Error**\r\n\r\n\r\n    HTTP Status 404  Not Found\r\n    \r\n    Type Status Report\r\n    \r\n    Message The requested resource [/PartyRoom/users/all] is not available\r\n    \r\n    Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n    \r\n    Apache Tomcat/9.0.54\r\n\r\nSo here is my project \r\n\r\n**Model**\r\n\r\n    @Entity\r\n    @Table(name=&quot;Users&quot;)\r\n    public class Users implements Serializable {\r\n\t\r\n    private static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@Column(name=&quot;username&quot;, unique = true)\r\n\tprivate String username;\r\n\t\r\n\t@Column(name=&quot;first_name&quot;)\r\n\tprivate String fName;\r\n\t\r\n\t@Column(name=&quot;last_name&quot;)\r\n\tprivate String lName;\r\n\t\r\n\t@Column(name=&quot;password&quot;)\r\n\tprivate String password;\r\n\t\r\n\t@Pattern(regexp=&quot;\\\\w+@[a-zA-Z_]+?\\\\.[a-zA-Z]{2,6}&quot;)\r\n\t@Column(name=&quot;email&quot;)\r\n\tprivate String email;\r\n\t\r\n\tpublic Users() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic Users(String fName, String lName, String username, String password, String email) {\r\n\t\tthis.fName = fName;\r\n\t\tthis.lName = lName;\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.email = email;\r\n\t}\r\n\t\r\n\tpublic Users(String username, String password) {\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getfName() {\r\n\t\treturn fName;\r\n\t}\r\n\r\n\tpublic void setfName(String fName) {\r\n\t\tthis.fName = fName;\r\n\t}\r\n\r\n\tpublic String getlName() {\r\n\t\treturn lName;\r\n\t}\r\n\r\n\tpublic void setlName(String lName) {\r\n\t\tthis.lName = lName;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User [username=&quot; + username + &quot;, fName=&quot; + fName + &quot;, lName=&quot; + lName + &quot;, password=&quot; + password\r\n\t\t\t\t+ &quot;, email=&quot; + email + &quot;]&quot;;\r\n\t }\t\r\n\r\n    }\r\n\r\n**Repository**\r\n\r\n    @Transactional\r\n    @EnableTransactionManagement\r\n    @Repository\r\n    public class UserRepo {\r\n\t\r\n\t@Autowired\r\n\tSessionFactory sf;\r\n\t\r\n\tpublic List&lt;Users&gt; getUsers(){\r\n\t\tList&lt;Users&gt; users = new ArrayList&lt;&gt;();\r\n\t\tSession s = sf.getCurrentSession();\r\n\t\tCriteria cr = s.createCriteria(Users.class);\r\n\t\tusers = cr.list();\r\n\t\treturn users;\r\n\t}\r\n\t\r\n\tpublic void createNewUser(Users user) {\r\n\t\tSession s = sf.getCurrentSession();\r\n\t\ts.save(user);\r\n\t }\r\n    }\r\n\r\n**Service**\r\n\r\n    @Service\r\n    public class UserService {\r\n\t\r\n\t@Autowired\r\n\tUserRepo ur;\r\n\t\r\n\tpublic List&lt;Users&gt; getAllUsers()\r\n\t{\r\n\t\treturn ur.getUsers();\r\n\t}\r\n\t\r\n\tpublic void addUser(Users user)\r\n\t{\r\n\t\tur.createNewUser(user);\r\n\t\t\r\n\t}\r\n\r\n    }\r\n\r\n**Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    @CrossOrigin(origins= &quot;*&quot;, allowedHeaders = &quot;*&quot;, value = &quot;*&quot;)\r\n    public class UserController {\r\n\t\r\n\t@Autowired\r\n\tUserService us;\r\n\r\n\t@GetMapping(&quot;/all&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;Users&gt;&gt; getAllUsers() {\r\n\t\treturn new ResponseEntity&lt;&gt;(us.getAllUsers(), HttpStatus.OK);\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/add&quot;)\r\n\tpublic void insertAdministrator(@RequestBody Users user) {\r\n\t\tus.addUser(user);\r\n\t\t\r\n\t}\r\n\r\n    }\r\n\r\n**Hibernate Configuration**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration SYSTEM &quot;http://www.hibernate.org/dtd/hibernate- \r\n    configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;\r\n\t\t\t com.mysql.jdbc.Driver\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;property name = &quot;hibernate.dialect&quot;&gt;\r\n\t\t\torg.hibernate.dialect.MySQLDialect\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;\r\n\t\t\tjdbc:mysql://xxxxxxx.rds.amazonaws.com/3306/PartyRoom\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;\r\n\t\t\tusername\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;\r\n\t\t\tpassword\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;!-- Determines how many connections a single user is allowed to a database --&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;\r\n\t\t\t2\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;\r\n\t\t\ttrue\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;!-- This is what tells hibernate how to deal with the database --&gt;\r\n\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;\r\n\t\t\tupdate\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\n**Application Context**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/tx \r\n     http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\r\n        http://www.springframework.org/schema/mvc \r\n     http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd\r\n        http://www.springframework.org/schema/beans \r\n    http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/context \r\n    http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\r\n\r\n\t&lt;!-- Scan for Spring beans --&gt;\r\n\r\n\t&lt;context:component-scan base-package=&quot;repositories, models, services, controllers&quot;&gt;&lt;/context:component-scan&gt;\r\n\r\n\t&lt;!-- Use Annotations for MVC --&gt;\r\n\t&lt;mvc:annotation-driven /&gt;\r\n\r\n\t&lt;!-- Hibernate config Goes here --&gt;\r\n    &lt;!-- configure dataSource bean --&gt;\r\n\t&lt;bean name=&quot;dataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot;\r\n\t\t\tvalue=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot;\r\n\t\t\tvalue=&quot;jdbc:mysql://xxxxxxxx.rds.amazonaws.com/3306/PartyRoom&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;username&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;password&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- configure session factory bean --&gt;\r\n\r\n\t&lt;bean name=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;models&quot; /&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n\t\t\t\t&lt;!-- &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt; --&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;!--Transaction Manager (Hibernate) makes all session transactions --&gt;\r\n\r\n\t&lt;bean name=&quot;transactionManager&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n     &lt;/beans&gt;\r\n\r\n**Dispatcher Context**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/tx \r\n     http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\r\n        http://www.springframework.org/schema/mvc \r\n     http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd\r\n        http://www.springframework.org/schema/beans \r\n    http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/context \r\n    http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\r\n\r\n\t&lt;!-- Scan for Spring beans --&gt;\r\n\t&lt;context:component-scan base-package=&quot;repositories, model, services, controllers&quot;&gt;&lt;/context:component-scan&gt;\r\n\r\n\r\n\t&lt;!-- Use Annotations for MVC --&gt;\r\n\t&lt;mvc:annotation-driven /&gt;\r\n\t\r\n\t\r\n&lt;/beans&gt;\r\n\r\n**Web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\t\t xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \r\n\t\t xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; \r\n\t\t version=&quot;4.0&quot;&gt;\r\n\t\t \r\n      &lt;display-name&gt;Party-Room&lt;/display-name&gt;\r\n  \r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;ContextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;FCServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;ContextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/dispatcherContext.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;FCServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t\r\n&lt;/web-app&gt;\r\n\r\n**Result Im Looking For**\r\n\r\nWhen I go to the endpoint PartRoom/user/all I am looking for an empty array to be returned. \r\n\r\n","title":"How do I configure my spring web app to run on my local server?","body":"<p>so I am getting back into developing but I am having trouble getting my application to run and return my empty array so that I know my app is working and connected to my RDS.</p>\n<p>I have looked at many questions and resources but I am not finding a solution to my problem.</p>\n<p>I am able to run my application but I am receiving this error:</p>\n<p><strong>Error</strong></p>\n<pre><code>HTTP Status 404  Not Found\n\nType Status Report\n\nMessage The requested resource [/PartyRoom/users/all] is not available\n\nDescription The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\n\nApache Tomcat/9.0.54\n</code></pre>\n<p>So here is my project</p>\n<p><strong>Model</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;Users&quot;)\npublic class Users implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@Column(name=&quot;username&quot;, unique = true)\nprivate String username;\n\n@Column(name=&quot;first_name&quot;)\nprivate String fName;\n\n@Column(name=&quot;last_name&quot;)\nprivate String lName;\n\n@Column(name=&quot;password&quot;)\nprivate String password;\n\n@Pattern(regexp=&quot;\\\\w+@[a-zA-Z_]+?\\\\.[a-zA-Z]{2,6}&quot;)\n@Column(name=&quot;email&quot;)\nprivate String email;\n\npublic Users() {\n    super();\n}\n\npublic Users(String fName, String lName, String username, String password, String email) {\n    this.fName = fName;\n    this.lName = lName;\n    this.username = username;\n    this.password = password;\n    this.email = email;\n}\n\npublic Users(String username, String password) {\n    this.username = username;\n    this.password = password;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n\npublic String getfName() {\n    return fName;\n}\n\npublic void setfName(String fName) {\n    this.fName = fName;\n}\n\npublic String getlName() {\n    return lName;\n}\n\npublic void setlName(String lName) {\n    this.lName = lName;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\n@Override\npublic String toString() {\n    return &quot;User [username=&quot; + username + &quot;, fName=&quot; + fName + &quot;, lName=&quot; + lName + &quot;, password=&quot; + password\n            + &quot;, email=&quot; + email + &quot;]&quot;;\n }  \n\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@Transactional\n@EnableTransactionManagement\n@Repository\npublic class UserRepo {\n\n@Autowired\nSessionFactory sf;\n\npublic List&lt;Users&gt; getUsers(){\n    List&lt;Users&gt; users = new ArrayList&lt;&gt;();\n    Session s = sf.getCurrentSession();\n    Criteria cr = s.createCriteria(Users.class);\n    users = cr.list();\n    return users;\n}\n\npublic void createNewUser(Users user) {\n    Session s = sf.getCurrentSession();\n    s.save(user);\n }\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Service\npublic class UserService {\n\n@Autowired\nUserRepo ur;\n\npublic List&lt;Users&gt; getAllUsers()\n{\n    return ur.getUsers();\n}\n\npublic void addUser(Users user)\n{\n    ur.createNewUser(user);\n    \n}\n\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\n@CrossOrigin(origins= &quot;*&quot;, allowedHeaders = &quot;*&quot;, value = &quot;*&quot;)\npublic class UserController {\n\n@Autowired\nUserService us;\n\n@GetMapping(&quot;/all&quot;)\npublic ResponseEntity&lt;List&lt;Users&gt;&gt; getAllUsers() {\n    return new ResponseEntity&lt;&gt;(us.getAllUsers(), HttpStatus.OK);\n}\n\n@PostMapping(&quot;/add&quot;)\npublic void insertAdministrator(@RequestBody Users user) {\n    us.addUser(user);\n    \n}\n\n}\n</code></pre>\n<p><strong>Hibernate Configuration</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration SYSTEM &quot;http://www.hibernate.org/dtd/hibernate- \nconfiguration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;\n         com.mysql.jdbc.Driver\n    &lt;/property&gt;\n    \n    &lt;property name = &quot;hibernate.dialect&quot;&gt;\n        org.hibernate.dialect.MySQLDialect\n    &lt;/property&gt;\n    \n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;\n        jdbc:mysql://xxxxxxx.rds.amazonaws.com/3306/PartyRoom\n    &lt;/property&gt;\n    \n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;\n        username\n    &lt;/property&gt;\n    \n    &lt;property name=&quot;hibernate.connection.password&quot;&gt;\n        password\n    &lt;/property&gt;\n    \n    &lt;!-- Determines how many connections a single user is allowed to a database --&gt;\n    &lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;\n        2\n    &lt;/property&gt;\n    \n    &lt;property name=&quot;show_sql&quot;&gt;\n        true\n    &lt;/property&gt;\n    \n    &lt;!-- This is what tells hibernate how to deal with the database --&gt;\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;\n        update\n    &lt;/property&gt;\n    \n&lt;/session-factory&gt;\n</code></pre>\n\n<p><strong>Application Context</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxmlns:context=&quot;http://www.springframework.org/schema/context&quot;\nxmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\nxmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/tx \n http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\n    http://www.springframework.org/schema/mvc \n http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd\n    http://www.springframework.org/schema/beans \nhttp://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context \nhttp://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\n\n&lt;!-- Scan for Spring beans --&gt;\n\n&lt;context:component-scan base-package=&quot;repositories, models, services, controllers&quot;&gt;&lt;/context:component-scan&gt;\n\n&lt;!-- Use Annotations for MVC --&gt;\n&lt;mvc:annotation-driven /&gt;\n\n&lt;!-- Hibernate config Goes here --&gt;\n&lt;!-- configure dataSource bean --&gt;\n&lt;bean name=&quot;dataSource&quot;\n    class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot;\n        value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\n    &lt;property name=&quot;url&quot;\n        value=&quot;jdbc:mysql://xxxxxxxx.rds.amazonaws.com/3306/PartyRoom&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;username&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;password&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;!-- configure session factory bean --&gt;\n\n&lt;bean name=&quot;sessionFactory&quot;\n    class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;models&quot; /&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n            &lt;!-- &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt; --&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;!--Transaction Manager (Hibernate) makes all session transactions --&gt;\n\n&lt;bean name=&quot;transactionManager&quot;\n    class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\n&lt;/bean&gt;\n\n\n &lt;/beans&gt;\n</code></pre>\n<p><strong>Dispatcher Context</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxmlns:context=&quot;http://www.springframework.org/schema/context&quot;\nxmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\nxmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/tx \n http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\n    http://www.springframework.org/schema/mvc \n http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd\n    http://www.springframework.org/schema/beans \nhttp://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context \nhttp://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\n\n&lt;!-- Scan for Spring beans --&gt;\n&lt;context:component-scan base-package=&quot;repositories, model, services, controllers&quot;&gt;&lt;/context:component-scan&gt;\n\n\n&lt;!-- Use Annotations for MVC --&gt;\n&lt;mvc:annotation-driven /&gt;\n</code></pre>\n\n<p><strong>Web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n     xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \n     xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n     http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; \n     version=&quot;4.0&quot;&gt;\n     \n  &lt;display-name&gt;Party-Room&lt;/display-name&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;ContextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;FCServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;ContextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/dispatcherContext.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;FCServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n\n<p><strong>Result Im Looking For</strong></p>\n<p>When I go to the endpoint PartRoom/user/all I am looking for an empty array to be returned.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1635926498,"post_id":69821358,"comment_id":123419280,"body_markdown":"Welcome to SO. Please read [ask] and elaborate (add more context). In general, the service layer should deal with logic and not communication protocols which the controller layer is used for. Hence creating the actual http response in the service would be unclean design. Think about what it would mean if you&#39;d need to call that service from another part of your code that doesn&#39;t deal with http.","body":"Welcome to SO. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and elaborate (add more context). In general, the service layer should deal with logic and not communication protocols which the controller layer is used for. Hence creating the actual http response in the service would be unclean design. Think about what it would mean if you&#39;d need to call that service from another part of your code that doesn&#39;t deal with http."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1635927298,"post_id":69821358,"comment_id":123419573,"body_markdown":"Nothing &quot;happens&quot;, everything will work - but the services probably *should* not know / care about the fact that they are called via a http request.","body":"Nothing &quot;happens&quot;, everything will work - but the services probably <i>should</i> not know / care about the fact that they are called via a http request."},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":1,"creation_date":1635928899,"post_id":69821358,"comment_id":123420061,"body_markdown":"Using layers is only a good practice that relies on *separation of concern*. If your do not care for re-useability nor testability, you can even forget about it yet write correct code. The concern of the service layer should only be the *business rules*, and it should be possible to connect it transparently to any interface. That way you can write and test it with absolutely no web framework dependancy. If you create an HttpResponse in the service layer, you bind it to the web interface and can no longer test it without that dependency.","body":"Using layers is only a good practice that relies on <i>separation of concern</i>. If your do not care for re-useability nor testability, you can even forget about it yet write correct code. The concern of the service layer should only be the <i>business rules</i>, and it should be possible to connect it transparently to any interface. That way you can write and test it with absolutely no web framework dependancy. If you create an HttpResponse in the service layer, you bind it to the web interface and can no longer test it without that dependency."}],"answers":[{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635929232,"creation_date":1635929232,"answer_id":69821940,"question_id":69821358,"body_markdown":"**HttpResponse** should not be passed to the service layer.\r\n\r\nThe Controller layer is the conductor of operations for a request. It controls the transaction scope and manages the session related information for the request. The controller first dispatches to a command and then calls the appropriate view processing logic to render the response.\r\n\r\nalso Is a best practice.\r\n\r\n","title":"Which layer should create a HttpResponse?","body":"<p><strong>HttpResponse</strong> should not be passed to the service layer.</p>\n<p>The Controller layer is the conductor of operations for a request. It controls the transaction scope and manages the session related information for the request. The controller first dispatches to a command and then calls the appropriate view processing logic to render the response.</p>\n<p>also Is a best practice.</p>\n"}],"owner":{"account_id":18239822,"reputation":67,"user_id":13277069,"display_name":"Jingon Park"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635931543,"creation_date":1635926228,"question_id":69821358,"body_markdown":"Do you know why `HttpResponse` is created in the controller layer? And what will happen if `HttpResponse` is created in the service layer?","title":"Which layer should create a HttpResponse?","body":"<p>Do you know why <code>HttpResponse</code> is created in the controller layer? And what will happen if <code>HttpResponse</code> is created in the service layer?</p>\n"},{"tags":["java","mysql","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1523852519,"post_id":49846526,"comment_id":86713773,"body_markdown":"Are you sure you imported the iText `Image` class and not e.g. the awt class?","body":"Are you sure you imported the iText <code>Image</code> class and not e.g. the awt class?"},{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1523858231,"post_id":49846526,"comment_id":86715365,"body_markdown":"I usually ignore questions in which the OP claims &quot;I have tried everything.&quot; If *everything* was already tried, why would I bother? Especially when the OP calls himself &quot;Master&quot;. Moreover: you&#39;re using iText 5 or earlier. Why don&#39;t you try iText 7? Are you sure you visited the official iText web site (because I don&#39;t think you did).","body":"I usually ignore questions in which the OP claims &quot;I have tried everything.&quot; If <i>everything</i> was already tried, why would I bother? Especially when the OP calls himself &quot;Master&quot;. Moreover: you&#39;re using iText 5 or earlier. Why don&#39;t you try iText 7? Are you sure you visited the official iText web site (because I don&#39;t think you did)."},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":1,"creation_date":1523861523,"post_id":49846526,"comment_id":86716790,"body_markdown":"Your question is incomplete. You need to add everything you tried.","body":"Your question is incomplete. You need to add everything you tried."},{"owner":{"account_id":241321,"reputation":1567,"user_id":512061,"display_name":"Micha&#235;l Demey"},"score":0,"creation_date":1523955316,"post_id":49846526,"comment_id":86762729,"body_markdown":"Have you tried to write the image bytes through awt to your file system and see if the image isn&#39;t corrupted?","body":"Have you tried to write the image bytes through awt to your file system and see if the image isn&#39;t corrupted?"},{"owner":{"account_id":10256104,"reputation":1,"user_id":9439232,"display_name":"Stubborn Master"},"score":0,"creation_date":1523960965,"post_id":49846526,"comment_id":86766808,"body_markdown":"@mkl thanks buddy it was having some issue while importing the class.. Your suggestion worked... Thanks","body":"@mkl thanks buddy it was having some issue while importing the class.. Your suggestion worked... Thanks"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523965846,"creation_date":1523965846,"answer_id":49877336,"question_id":49846526,"body_markdown":"For\r\n\r\n    byte[] imageBytes = imageBlob.getBytes(1, (int) imageBlob.length());\r\n    Image image = Image.getInstance(imageBytes);\r\n\r\nyou get a &quot;getInstance() method not found&quot; error.\r\n\r\nAs the iText `Image` class clearly does have a static `getInstance` method with a single `byte[]` argument, this indicates that the `Image` class here does not refer to the iText `Image` class but instead to a different one, probably the awt `Image` class.\r\n\r\nThus, look at your imports, probably you import some whole packages which may contain their own `Image` class and so mask the iText `Image` class.","title":"Unable to add Image to pdf file from mysql database","body":"<p>For</p>\n\n<pre><code>byte[] imageBytes = imageBlob.getBytes(1, (int) imageBlob.length());\nImage image = Image.getInstance(imageBytes);\n</code></pre>\n\n<p>you get a \"getInstance() method not found\" error.</p>\n\n<p>As the iText <code>Image</code> class clearly does have a static <code>getInstance</code> method with a single <code>byte[]</code> argument, this indicates that the <code>Image</code> class here does not refer to the iText <code>Image</code> class but instead to a different one, probably the awt <code>Image</code> class.</p>\n\n<p>Thus, look at your imports, probably you import some whole packages which may contain their own <code>Image</code> class and so mask the iText <code>Image</code> class.</p>\n"},{"tags":[],"owner":{"account_id":10256104,"reputation":1,"user_id":9439232,"display_name":"Stubborn Master"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632211917,"creation_date":1524049887,"answer_id":49898240,"question_id":49846526,"body_markdown":"    Blob imageBlob1 = rs.getBlob(&quot;Image&quot;);\r\n    byte[] imageBytes1 = imageBlob1.getBytes(1, (int) imageBlob1.length());\r\n    com.itextpdf.text.Image image1 = com.itextpdf.text.Image.getInstance(imageBytes1);\r\n    image1.scaleToFit(80f, 350f);\r\n    image1.setAbsolutePosition(430,680);\r\n    image1.scaleAbsoluteWidth(70);\r\n    image1.scaleAbsoluteHeight(80);\r\n    myDocument.add(image1);\r\nThe above code worked for me.","title":"Unable to add Image to pdf file from mysql database","body":"<pre><code>Blob imageBlob1 = rs.getBlob(&quot;Image&quot;);\nbyte[] imageBytes1 = imageBlob1.getBytes(1, (int) imageBlob1.length());\ncom.itextpdf.text.Image image1 = com.itextpdf.text.Image.getInstance(imageBytes1);\nimage1.scaleToFit(80f, 350f);\nimage1.setAbsolutePosition(430,680);\nimage1.scaleAbsoluteWidth(70);\nimage1.scaleAbsoluteHeight(80);\nmyDocument.add(image1);\n</code></pre>\n<p>The above code worked for me.</p>\n"},{"tags":[],"owner":{"account_id":23225700,"reputation":1,"user_id":17317277,"display_name":"fofo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635931509,"creation_date":1635930522,"answer_id":69822202,"question_id":49846526,"body_markdown":"This code is working for me\r\n\r\n    try {\r\n        String sql1 = &quot; Select foto from ishirahamwe.abanywanyi where numero = \\&#39;&quot; + strId + &quot;\\&#39;&quot;;\r\n        Statement statement = conn.prepareStatement(sql1);\r\n        rs = statement.executeQuery(sql1);\r\n        if (rs.next()) {\r\n    \t\t\t\t\t\r\n            Blob imageBlob1 = rs.getBlob(&quot;foto&quot;);\r\n            byte[] imageBytes1 = imageBlob1.getBytes(1, (int) imageBlob1.length());\r\n            com.lowagie.text.Image image1 = com.lowagie.text.Image.getInstance(imageBytes1);\r\n            image1.scaleToFit(80f, 350f);\r\n            image1.setAbsolutePosition(430,680);\r\n            image1.scaleAbsoluteWidth(70);\r\n            image1.scaleAbsoluteHeight(80);\r\n            document.add(image1);\r\n    \r\n        }\r\n    \r\n    } catch (Exception e1) {\r\n        e1.printStackTrace();\r\n    }","title":"Unable to add Image to pdf file from mysql database","body":"<p>This code is working for me</p>\n<pre><code>try {\n    String sql1 = &quot; Select foto from ishirahamwe.abanywanyi where numero = \\'&quot; + strId + &quot;\\'&quot;;\n    Statement statement = conn.prepareStatement(sql1);\n    rs = statement.executeQuery(sql1);\n    if (rs.next()) {\n                    \n        Blob imageBlob1 = rs.getBlob(&quot;foto&quot;);\n        byte[] imageBytes1 = imageBlob1.getBytes(1, (int) imageBlob1.length());\n        com.lowagie.text.Image image1 = com.lowagie.text.Image.getInstance(imageBytes1);\n        image1.scaleToFit(80f, 350f);\n        image1.setAbsolutePosition(430,680);\n        image1.scaleAbsoluteWidth(70);\n        image1.scaleAbsoluteHeight(80);\n        document.add(image1);\n\n    }\n\n} catch (Exception e1) {\n    e1.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":10256104,"reputation":1,"user_id":9439232,"display_name":"Stubborn Master"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1635931509,"creation_date":1523824535,"question_id":49846526,"body_markdown":"    Document myDocument = new Document();\r\n                        PdfWriter myWriter = PdfWriter.getInstance(myDocument, \r\n    new FileOutputStream(filePath));\r\n                        myDocument.open();\r\n                        Blob imageBlob = rs.getBlob(&quot;Signature&quot;);\r\n                        byte[] imageBytes = imageBlob.getBytes(1, (int) \r\n    imageBlob.length());\r\n                        Image image = Image.getInstance(imageBytes);\r\n                        image.scaleAbsolute(300,300);\r\n                        myDocument.add(image);\r\nI am trying to get Image from the database stored in the data type of medium blob. I have tried everything and checked various codes on stackoverflow but not bale to resolve an error. Each time it is showing that getInstance() method not found.","title":"Unable to add Image to pdf file from mysql database","body":"<pre><code>Document myDocument = new Document();\n                    PdfWriter myWriter = PdfWriter.getInstance(myDocument, \nnew FileOutputStream(filePath));\n                    myDocument.open();\n                    Blob imageBlob = rs.getBlob(\"Signature\");\n                    byte[] imageBytes = imageBlob.getBytes(1, (int) \nimageBlob.length());\n                    Image image = Image.getInstance(imageBytes);\n                    image.scaleAbsolute(300,300);\n                    myDocument.add(image);\n</code></pre>\n\n<p>I am trying to get Image from the database stored in the data type of medium blob. I have tried everything and checked various codes on stackoverflow but not bale to resolve an error. Each time it is showing that getInstance() method not found.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1635921369,"post_id":69820549,"comment_id":123417801,"body_markdown":"this is more about code review, so SO may not be the best place to post this. Also, what makes you think this isn&#39;t an appropriate way?","body":"this is more about code review, so SO may not be the best place to post this. Also, what makes you think this isn&#39;t an appropriate way?"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":1,"creation_date":1635929033,"post_id":69820549,"comment_id":123420101,"body_markdown":"How did you figure out that there is performance deggradation occurs with multiple `if-else`?","body":"How did you figure out that there is performance deggradation occurs with multiple <code>if-else</code>?"}],"answers":[{"tags":[],"owner":{"account_id":378053,"reputation":4160,"user_id":730549,"accept_rate":68,"display_name":"Maulzey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635921794,"creation_date":1635921794,"answer_id":69820629,"question_id":69820549,"body_markdown":"Switch on disturbance1 can help.\r\n\r\nCheck out the new switch style from Java17. It makes code really lean.","title":"Better way to reduce if statements","body":"<p>Switch on disturbance1 can help.</p>\n<p>Check out the new switch style from Java17. It makes code really lean.</p>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635931480,"creation_date":1635923516,"answer_id":69820905,"question_id":69820549,"body_markdown":"You could change that to something like enums, new-style switches etc. This can certainly make the code more readable and maintainable. \r\n\r\nHowever, you were talking about enhancing *performance*. Changing this code most likely will have hardly any impact on performance, at least not in a positive way.\r\n\r\nIf you want to improve performance, measure and find the bottlenecks in the code and focus on those.","title":"Better way to reduce if statements","body":"<p>You could change that to something like enums, new-style switches etc. This can certainly make the code more readable and maintainable.</p>\n<p>However, you were talking about enhancing <em>performance</em>. Changing this code most likely will have hardly any impact on performance, at least not in a positive way.</p>\n<p>If you want to improve performance, measure and find the bottlenecks in the code and focus on those.</p>\n"},{"tags":[],"owner":{"account_id":12500928,"reputation":331,"user_id":9099412,"display_name":"D Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635926874,"creation_date":1635926540,"answer_id":69821405,"question_id":69820549,"body_markdown":" this might help !!\r\n  \r\n\r\n    if(disturbance2 == 0) {\r\n        \r\n        \tswitch (disturbance1){\r\n        \t\r\n        \t\tcase SPS1_20_PUFFER_EMPTY:\r\n        \t\t\r\n        \t\tcheckWarnings(bMessage, PLS_5_PUFFER_EMPTY);\r\n        \t\t\r\n        \t\tbreak;\r\n        \t\t\r\n        \t\tcase SPS1_30_STOPPERFL_LOCKED:\r\n        \t\t\r\n        \t\tcheckWarnings(bMessage, PLS_5_PUFFER_EMPTY);\r\n        \t\t\r\n        \t\tbreak;\r\n        \t\t\r\n        \t\tcase SPS1_40_DISTURBANCEFL:\r\n        \t\t\r\n        \t\t\tif (bMessage.getDisturbanceType().intValue() == DISTURBANCETYPE_SYSTEMDISTURBANCE_SHORT) {\r\n                        checkWarnings(bMessage, PLS_3_SHORTDISTURBANCE_FL);\r\n                    }\r\n                    else if (bMeldung.getStoerungsartMde().intValue() == DISTURBANCETYPE_SYSTEMDISTURBANCE_LONG) {\r\n                        checkWarnings(bMessage, PLS_4_SYSTEMMALFUNCTION_FL);\r\n                    }\r\n        \t\t\t\r\n        \t\tbreak;\r\n        \t\t\t\r\n        \t}\r\n        }\r\n\r\nalso you can write\r\n\r\n    if(disturbance2 != 0){\r\n      // return or exit if requires\r\n    }\r\n\r\n// then start switch() , you can remove one branch of block","title":"Better way to reduce if statements","body":"<p>this might help !!</p>\n<pre><code>if(disturbance2 == 0) {\n    \n        switch (disturbance1){\n        \n            case SPS1_20_PUFFER_EMPTY:\n            \n            checkWarnings(bMessage, PLS_5_PUFFER_EMPTY);\n            \n            break;\n            \n            case SPS1_30_STOPPERFL_LOCKED:\n            \n            checkWarnings(bMessage, PLS_5_PUFFER_EMPTY);\n            \n            break;\n            \n            case SPS1_40_DISTURBANCEFL:\n            \n                if (bMessage.getDisturbanceType().intValue() == DISTURBANCETYPE_SYSTEMDISTURBANCE_SHORT) {\n                    checkWarnings(bMessage, PLS_3_SHORTDISTURBANCE_FL);\n                }\n                else if (bMeldung.getStoerungsartMde().intValue() == DISTURBANCETYPE_SYSTEMDISTURBANCE_LONG) {\n                    checkWarnings(bMessage, PLS_4_SYSTEMMALFUNCTION_FL);\n                }\n                \n            break;\n                \n        }\n    }\n</code></pre>\n<p>also you can write</p>\n<pre><code>if(disturbance2 != 0){\n  // return or exit if requires\n}\n</code></pre>\n<p>// then start switch() , you can remove one branch of block</p>\n"}],"owner":{"account_id":22844650,"reputation":23,"user_id":16991153,"display_name":"Klaus Koziol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1635968772,"accepted_answer_id":69821405,"answer_count":3,"score":1,"last_activity_date":1635931480,"creation_date":1635921295,"question_id":69820549,"body_markdown":"So I have just gotten a bunch of old code where I should improve the performance of. After looking for a while I came accross this piece of code:\r\n\r\n    //Reference on how the global Variables look like:\r\n    private static final int PLS_4_SYSTEM_MALFUNCTION_FL = 4;\r\n    private static final int SPS1_20_PUFFER_EMPTY = 20;\r\n    private static final int SPS1_30_STOPPERFL_LOCKED = 30;\r\n    //...\r\n\r\n        int disturbance1 = bMessage.getDisturbanceSps1().intValue();\r\n        int disturbance2 = bMessage.getDisturbanceSps1().intValue();\r\n\r\n    if (disturbance1 == SPS1_20_PUFFER_EMPTY &amp;&amp; disturbance2 == 0) {\r\n                checkWarnings(bMessage, PLS_5_PUFFER_EMPTY);\r\n            }\r\n    \r\n    if (disturbance1 == SPS1_30_STOPPERFL_LOCKED &amp;&amp; disturbance2 == 0) {\r\n                checkWarnings(bMessage, PLS_6_STOPPERFL_LOCKED);\r\n            }\r\n    \r\n            if (disturbance1 == SPS1_40_DISTURBANCEFL &amp;&amp; disturbance2 == 0) {\r\n                if (bMessage.getDisturbanceType().intValue() == DISTURBANCETYPE_SYSTEMDISTURBANCE_SHORT) {\r\n                    checkWarnings(bMessage, PLS_3_SHORTDISTURBANCE_FL);\r\n                }\r\n                else if (bMeldung.getStoerungsartMde().intValue() == DISTURBANCETYPE_SYSTEMDISTURBANCE_LONG) {\r\n                    checkWarnings(bMessage, PLS_4_SYSTEMMALFUNCTION_FL);\r\n                }\r\n            }\r\n    //...\r\n\r\n\r\nThis is just a small example of the code. There are like 300+ more lines that goes on like this. \r\n\r\nNow I know that there are many answers on the web already, and I have looked at some of them, but I am unsure which answer would help me the best in this case.","title":"Better way to reduce if statements","body":"<p>So I have just gotten a bunch of old code where I should improve the performance of. After looking for a while I came accross this piece of code:</p>\n<pre><code>//Reference on how the global Variables look like:\nprivate static final int PLS_4_SYSTEM_MALFUNCTION_FL = 4;\nprivate static final int SPS1_20_PUFFER_EMPTY = 20;\nprivate static final int SPS1_30_STOPPERFL_LOCKED = 30;\n//...\n\n    int disturbance1 = bMessage.getDisturbanceSps1().intValue();\n    int disturbance2 = bMessage.getDisturbanceSps1().intValue();\n\nif (disturbance1 == SPS1_20_PUFFER_EMPTY &amp;&amp; disturbance2 == 0) {\n            checkWarnings(bMessage, PLS_5_PUFFER_EMPTY);\n        }\n\nif (disturbance1 == SPS1_30_STOPPERFL_LOCKED &amp;&amp; disturbance2 == 0) {\n            checkWarnings(bMessage, PLS_6_STOPPERFL_LOCKED);\n        }\n\n        if (disturbance1 == SPS1_40_DISTURBANCEFL &amp;&amp; disturbance2 == 0) {\n            if (bMessage.getDisturbanceType().intValue() == DISTURBANCETYPE_SYSTEMDISTURBANCE_SHORT) {\n                checkWarnings(bMessage, PLS_3_SHORTDISTURBANCE_FL);\n            }\n            else if (bMeldung.getStoerungsartMde().intValue() == DISTURBANCETYPE_SYSTEMDISTURBANCE_LONG) {\n                checkWarnings(bMessage, PLS_4_SYSTEMMALFUNCTION_FL);\n            }\n        }\n//...\n</code></pre>\n<p>This is just a small example of the code. There are like 300+ more lines that goes on like this.</p>\n<p>Now I know that there are many answers on the web already, and I have looked at some of them, but I am unsure which answer would help me the best in this case.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8106,"page":1886,"page_size":100}
