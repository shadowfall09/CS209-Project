{"items":[{"tags":["java","amazon-web-services","aws-lambda","micronaut","micronaut-aws"],"comments":[{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":1,"creation_date":1661915768,"post_id":73542694,"comment_id":129882932,"body_markdown":"In your tests, shouldn&#39;t you try as the input json an SQSEvent instead of an API Gateway event?","body":"In your tests, shouldn&#39;t you try as the input json an SQSEvent instead of an API Gateway event?"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":1,"creation_date":1661921124,"post_id":73542694,"comment_id":129883595,"body_markdown":"Yes I already tried that. But get an error. Will update the results in the question.","body":"Yes I already tried that. But get an error. Will update the results in the question."},{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":1,"creation_date":1661951735,"post_id":73542694,"comment_id":129893646,"body_markdown":"When you created your project, did you use these options?\n&quot;mn create-function-app domain.my-app-name \\\n    --features=aws-lambda,graalvm \\\n    --build=gradle --lang=java&quot;\n\ndid you use &quot;create-app&quot; or &quot;create-function-app&quot;?\n\nI think if you used &quot;create-app&quot; the lambda must be invoked by Api Gateway","body":"When you created your project, did you use these options? &quot;mn create-function-app domain.my-app-name \\     --features=aws-lambda,graalvm \\     --build=gradle --lang=java&quot;  did you use &quot;create-app&quot; or &quot;create-function-app&quot;?  I think if you used &quot;create-app&quot; the lambda must be invoked by Api Gateway"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":1,"creation_date":1661952660,"post_id":73542694,"comment_id":129894019,"body_markdown":"Yes @BrunoNegr&#227;oZica, but I finally made it working. See my answer.","body":"Yes @BrunoNegr&#227;oZica, but I finally made it working. See my answer."},{"owner":{"account_id":2429856,"reputation":576,"user_id":2121026,"accept_rate":74,"display_name":"Java Dude"},"score":0,"creation_date":1661970188,"post_id":73542694,"comment_id":129900506,"body_markdown":"same issue with lambda admin role","body":"same issue with lambda admin role"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1662007844,"post_id":73542694,"comment_id":129907722,"body_markdown":"What issue @JavaDude? Have you checked my answer below if that helps?","body":"What issue @JavaDude? Have you checked my answer below if that helps?"},{"owner":{"account_id":2429856,"reputation":576,"user_id":2121026,"accept_rate":74,"display_name":"Java Dude"},"score":1,"creation_date":1662026386,"post_id":73542694,"comment_id":129913096,"body_markdown":"yeap, that works and help me. But looks like its MN bug.","body":"yeap, that works and help me. But looks like its MN bug."}],"answers":[{"tags":[],"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661865182,"creation_date":1661865182,"answer_id":73543067,"question_id":73542694,"body_markdown":"If your AWS Lambda function is not generating entries in Amazon CloudWatch Logs, then it normally indicates that the Lambda function has **insufficient permissions** to use CloudWatch Logs.\r\n\r\nThis can be fixed by **adding permissions to the IAM Role** associated with the Lambda function. Assign it the `AWSLambdaBasicExecutionRole` managed policy, which grants permission to write to CloudWatch Logs.\r\n\r\nSee: [AWS managed policies for Lambda features](https://docs.aws.amazon.com/lambda/latest/dg/lambda-intro-execution-role.html#permissions-executionrole-features)","title":"Micronaut with AWS Lambda and SQS","body":"<p>If your AWS Lambda function is not generating entries in Amazon CloudWatch Logs, then it normally indicates that the Lambda function has <strong>insufficient permissions</strong> to use CloudWatch Logs.</p>\n<p>This can be fixed by <strong>adding permissions to the IAM Role</strong> associated with the Lambda function. Assign it the <code>AWSLambdaBasicExecutionRole</code> managed policy, which grants permission to write to CloudWatch Logs.</p>\n<p>See: <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/lambda-intro-execution-role.html#permissions-executionrole-features\" rel=\"nofollow noreferrer\">AWS managed policies for Lambda features</a></p>\n"},{"tags":[],"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661957756,"creation_date":1661952571,"answer_id":73556660,"question_id":73542694,"body_markdown":"Finally made it working, if anyone is looking for the solution:\r\n\r\n**build.gradle:**\r\n\r\n```\r\n.\r\n.\r\ndependencies {\r\n    annotationProcessor &#39;io.micronaut:micronaut-inject-java&#39;\r\n    annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\r\n    implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\r\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n    runtimeOnly(&quot;mysql:mysql-connector-java&quot;)\r\n    compileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;) &lt;--- IMP!!!\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;) &lt;--- IMP!!!\r\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\r\n    testImplementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n}\r\n.\r\n.\r\n```\r\n\r\n**Application.java:** (The starting point of the application)\r\n```\r\npublic class Application extends AbstractMicronautLambdaRuntime&lt;CustomSQSEvent, String, CustomSQSEvent, String&gt; {\r\n    public static void main(String[] args) throws MalformedURLException {\r\n//        Micronaut.run(Application.class, args); // We don&#39;t need this now\r\n        new Application().run(args);\r\n    }\r\n\r\n    @Override\r\n    @Nullable\r\n    protected RequestHandler&lt;CustomSQSEvent, String&gt; createRequestHandler(String... args) {\r\n        try {\r\n            return new SQSEventHandler(createApplicationContextBuilderWithArgs(args));\r\n        } catch (ContainerInitializationException e) {\r\n            throw new ConfigurationException(&quot;Exception thrown instantiating SQSEventHandler&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n**CustomSQSEvent.java:** (This is needed to handle the serialization/deserialization issues with the message. This is the exact copy of class `com.amazonaws.services.lambda.runtime.events.SQSEvent` with few annnotations.)\r\n```\r\n@Introspected &lt;--- Very IMP!!!\r\npublic class CustomSQSEvent implements Serializable {\r\n    \r\n    @JsonProperty(&quot;Records&quot;) &lt;--- Very IMP!!!\r\n    private List&lt;CustomSQSEvent.SQSMessage&gt; records;\r\n    \r\n    @Introspected &lt;--- Very IMP!!!\r\n    public static class SQSMessage implements Serializable, Cloneable {\r\n        ...\r\n    }\r\n\r\n     /**\r\n     * Default constructor\r\n     */\r\n     public CustomSQSEvent() {\r\n     }\r\n\r\n     .\r\n     .\r\n     .\r\n\r\n}\r\n``` \r\n\r\n**SQSEventHandler.java:** (The actual magic happens here)\r\n```\r\n@Introspected\r\npublic class SQSEventHandler implements RequestHandler&lt;CustomSQSEvent, String&gt;, ApplicationContextProvider, Closeable {\r\n\r\n\r\n    protected final MicronautLambdaContainerHandler handler;\r\n\r\n    public SQSEventHandler() throws ContainerInitializationException {\r\n        this.handler = new MicronautLambdaContainerHandler();\r\n    }\r\n\r\n    public SQSEventHandler(ApplicationContextBuilder applicationContextBuilder) throws ContainerInitializationException {\r\n        this.handler = new MicronautLambdaContainerHandler(applicationContextBuilder);\r\n    }\r\n\r\n    public SQSEventHandler(ApplicationContext applicationContext) throws ContainerInitializationException {\r\n        this.handler = new MicronautLambdaContainerHandler(applicationContext);\r\n    }\r\n\r\n    @Override\r\n    public String handleRequest(CustomSQSEvent input, Context context) {\r\n        System.out.println(&quot;EVENT PROCESSING STARTS ===&gt;&quot;);\r\n        TestService testService = this.getApplicationContext().getBean(TestService.class);\r\n        \r\n        List&lt;CustomSQSEvent.SQSMessage&gt; messages = input.getRecords();\r\n\r\n        for (CustomSQSEvent.SQSMessage single: messages) {\r\n            try {\r\n                System.out.println(&quot;Message body::: &quot; + single.getBody());\r\n                testService.handleRequest(single.getBody());\r\n            } catch (JsonProcessingException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        System.out.println(&quot;&lt;=== EVENT PROCESSING ENDS&quot;);\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    @Override\r\n    public ApplicationContext getApplicationContext() {\r\n        return this.handler.getApplicationContext();\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        this.getApplicationContext().close();\r\n    }\r\n}\r\n```\r\n\r\nRemoved `HomeController.java` (the class which has `@Controller`).\r\n\r\nAnd finally build the project using following command: `gradlew buildNativeLambda -Pmicronaut.runtime=lambda`\r\n\r\nUpload the created `zip` in the lambda and add the following as handler: `com.example.eventHandlers.SQSEventHandler`.\r\nThis is the path to our custom event handler.\r\n\r\nCompiled solution from below references:\r\n\r\n - https://docs.aws.amazon.com/lambda/latest/dg/lambda-java.html\r\n - https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.html\r\n - https://stackoverflow.com/questions/68416766/micronaut-lambda-native-image-not-reading-custom-handler\r\n - https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.zip","title":"Micronaut with AWS Lambda and SQS","body":"<p>Finally made it working, if anyone is looking for the solution:</p>\n<p><strong>build.gradle:</strong></p>\n<pre><code>.\n.\ndependencies {\n    annotationProcessor 'io.micronaut:micronaut-inject-java'\n    annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor&quot;)\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\n    implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    runtimeOnly(&quot;mysql:mysql-connector-java&quot;)\n    compileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;) &lt;--- IMP!!!\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;) &lt;--- IMP!!!\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\n    testImplementation(&quot;io.micronaut:micronaut-http-client&quot;)\n}\n.\n.\n</code></pre>\n<p><strong>Application.java:</strong> (The starting point of the application)</p>\n<pre><code>public class Application extends AbstractMicronautLambdaRuntime&lt;CustomSQSEvent, String, CustomSQSEvent, String&gt; {\n    public static void main(String[] args) throws MalformedURLException {\n//        Micronaut.run(Application.class, args); // We don't need this now\n        new Application().run(args);\n    }\n\n    @Override\n    @Nullable\n    protected RequestHandler&lt;CustomSQSEvent, String&gt; createRequestHandler(String... args) {\n        try {\n            return new SQSEventHandler(createApplicationContextBuilderWithArgs(args));\n        } catch (ContainerInitializationException e) {\n            throw new ConfigurationException(&quot;Exception thrown instantiating SQSEventHandler&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p><strong>CustomSQSEvent.java:</strong> (This is needed to handle the serialization/deserialization issues with the message. This is the exact copy of class <code>com.amazonaws.services.lambda.runtime.events.SQSEvent</code> with few annnotations.)</p>\n<pre><code>@Introspected &lt;--- Very IMP!!!\npublic class CustomSQSEvent implements Serializable {\n    \n    @JsonProperty(&quot;Records&quot;) &lt;--- Very IMP!!!\n    private List&lt;CustomSQSEvent.SQSMessage&gt; records;\n    \n    @Introspected &lt;--- Very IMP!!!\n    public static class SQSMessage implements Serializable, Cloneable {\n        ...\n    }\n\n     /**\n     * Default constructor\n     */\n     public CustomSQSEvent() {\n     }\n\n     .\n     .\n     .\n\n}\n</code></pre>\n<p><strong>SQSEventHandler.java:</strong> (The actual magic happens here)</p>\n<pre><code>@Introspected\npublic class SQSEventHandler implements RequestHandler&lt;CustomSQSEvent, String&gt;, ApplicationContextProvider, Closeable {\n\n\n    protected final MicronautLambdaContainerHandler handler;\n\n    public SQSEventHandler() throws ContainerInitializationException {\n        this.handler = new MicronautLambdaContainerHandler();\n    }\n\n    public SQSEventHandler(ApplicationContextBuilder applicationContextBuilder) throws ContainerInitializationException {\n        this.handler = new MicronautLambdaContainerHandler(applicationContextBuilder);\n    }\n\n    public SQSEventHandler(ApplicationContext applicationContext) throws ContainerInitializationException {\n        this.handler = new MicronautLambdaContainerHandler(applicationContext);\n    }\n\n    @Override\n    public String handleRequest(CustomSQSEvent input, Context context) {\n        System.out.println(&quot;EVENT PROCESSING STARTS ===&gt;&quot;);\n        TestService testService = this.getApplicationContext().getBean(TestService.class);\n        \n        List&lt;CustomSQSEvent.SQSMessage&gt; messages = input.getRecords();\n\n        for (CustomSQSEvent.SQSMessage single: messages) {\n            try {\n                System.out.println(&quot;Message body::: &quot; + single.getBody());\n                testService.handleRequest(single.getBody());\n            } catch (JsonProcessingException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(&quot;&lt;=== EVENT PROCESSING ENDS&quot;);\n        return &quot;&quot;;\n    }\n\n    @Override\n    public ApplicationContext getApplicationContext() {\n        return this.handler.getApplicationContext();\n    }\n\n    @Override\n    public void close() {\n        this.getApplicationContext().close();\n    }\n}\n</code></pre>\n<p>Removed <code>HomeController.java</code> (the class which has <code>@Controller</code>).</p>\n<p>And finally build the project using following command: <code>gradlew buildNativeLambda -Pmicronaut.runtime=lambda</code></p>\n<p>Upload the created <code>zip</code> in the lambda and add the following as handler: <code>com.example.eventHandlers.SQSEventHandler</code>.\nThis is the path to our custom event handler.</p>\n<p>Compiled solution from below references:</p>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/lambda/latest/dg/lambda-java.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/lambda-java.html</a></li>\n<li><a href=\"https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68416766/micronaut-lambda-native-image-not-reading-custom-handler\">Micronaut Lambda Native Image Not Reading Custom Handler</a></li>\n<li><a href=\"https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.zip\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.zip</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28877566,"reputation":1,"user_id":22117718,"display_name":"Oscar Oliver Molina Benitez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687490844,"creation_date":1687490607,"answer_id":76536908,"question_id":73542694,"body_markdown":"I setup a project with micronaut to handle an SQSEvent. I got a lot of problems for read the SQS event in my function.&lt;br&gt;\r\nI used the https://micronaut.io/launch to generate my project with the next params:&lt;br&gt;\r\nApplication Type: Function Application for Serverless&lt;br&gt;\r\nMicronaut Version: 3.9.3&lt;br&gt;\r\nJava Version: 17&lt;br&gt;\r\nBuild Tool: Gradle&lt;br&gt;\r\nTest Framework: JUnit&lt;br&gt;\r\nAdditional features: aws-lambda, graalvm&lt;br&gt;\r\nhttps://i.stack.imgur.com/MNoYc.png&lt;br&gt;\r\n\r\n**build.gradle**\r\n\r\n    dependencies {\r\n    annotationProcessor(&quot;io.micronaut:micronaut-http-validation&quot;)\r\n\r\n    implementation(&quot;com.amazonaws:aws-lambda-java-events:3.11.2&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;)\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;)\r\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\r\n    implementation(&quot;io.micronaut.data:micronaut-data-jdbc&quot;)\r\n\r\n    compileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n}\r\n&lt;br&gt;\r\n**FunctionLambdaRuntime.java**\r\n\r\n    public class FunctionLambdaRuntime extends AbstractMicronautLambdaRuntime&lt;SQSEvent, SQSBatchResponse, SQSEvent, SQSBatchResponse&gt;{\r\n    public static void main(String[] args) {\r\n        try {\r\n            new FunctionLambdaRuntime().run(args);\r\n\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    @Nullable\r\n    protected RequestHandler&lt;SQSEvent, SQSBatchResponse&gt; createRequestHandler(String... args) {\r\n        return new FunctionRequestHandler();\r\n    }\r\n}\r\n&lt;br&gt;\r\n**FunctionRequestHandler.java**&lt;br&gt;\r\nVery important to add the Introspected annotation to the SQS necessary classes for the request and response!! You&#39;ll get a serialization error if you dont do this!\r\n\r\n    @Introspected(classes = {SQSEvent.class, SQSEvent.SQSMessage.class, SQSBatchResponse.class, SQSEvent.MessageAttribute.class, SQSBatchResponse.BatchItemFailure.class})\r\n    public class FunctionRequestHandler extends MicronautRequestHandler&lt;SQSEvent, SQSBatchResponse&gt; {\r\n    @Inject\r\n    ObjectMapper objectMapper;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(FunctionRequestHandler.class);\r\n\r\n    @Override\r\n    public SQSBatchResponse execute(SQSEvent input) {\r\n        final List&lt;SQSBatchResponse.BatchItemFailure&gt; batchItemFailures = new ArrayList&lt;&gt;();\r\n        final SQSBatchResponse response = new SQSBatchResponse(batchItemFailures);\r\n        logger.info(&quot;SQS input: {}&quot;, input.toString());\r\n        if(input == null){\r\n            logger.error(&quot;SQSEvent input is null&quot;);\r\n            return response;\r\n        }\r\n        logger.info(&quot;records {}&quot;, input.getRecords());\r\n\r\n        for (SQSEvent.SQSMessage message : input.getRecords()) {\r\n            try {\r\n                MessagePaymentNotificationDto notification = this.objectMapper.readValue(message.getBody(), MessagePaymentNotificationDto.class);\r\n                logger.info(notification.toString());\r\n            } catch (Exception e) {\r\n                batchItemFailures.add(new SQSBatchResponse.BatchItemFailure(message.getMessageId()));\r\n            }\r\n\r\n        }\r\n        return response;\r\n    }\r\n}\r\n&lt;br&gt;\r\nBuild the native image: *./gradlew buildNativeLambda -Pmicronaut.runtime=lambda* &lt;br&gt;\r\nUpload the zip to your lambda function and configure com.example.eventHandlers.FunctionRequestHandler as handler.&lt;br&gt;\r\nIn the **Test** tab of your lambda function go to the **Template** section and search for SQS and select it, it will configure a test json with the structure of an SQSEvent:&lt;br&gt;\r\n**Important:** When slected the SQS template the **&quot;records&quot;** attribute will be displayed as **&quot;Records&quot;**, change it to lowercase before send the test\r\n\r\n    {\r\n      &quot;records&quot;: [\r\n    {\r\n      &quot;messageId&quot;: &quot;19dd0b57-b21e-4ac1-bd88-01bbb068cb78&quot;,\r\n      &quot;receiptHandle&quot;: &quot;MessageReceiptHandle&quot;,\r\n      &quot;body&quot;: &quot;Hello from SQS!&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;ApproximateReceiveCount&quot;: &quot;1&quot;,\r\n        &quot;SentTimestamp&quot;: &quot;1523232000000&quot;,\r\n        &quot;SenderId&quot;: &quot;123456789012&quot;,\r\n        &quot;ApproximateFirstReceiveTimestamp&quot;: &quot;1523232000001&quot;\r\n      },\r\n      &quot;messageAttributes&quot;: {},\r\n      &quot;md5OfBody&quot;: &quot;{{{md5_of_body}}}&quot;,\r\n      &quot;eventSource&quot;: &quot;aws:sqs&quot;,\r\n      &quot;eventSourceARN&quot;: &quot;arn:aws:sqs:us-east-1:123456789012:MyQueue&quot;,\r\n      &quot;awsRegion&quot;: &quot;us-east-1&quot;\r\n    }\r\n    ]\r\n    }\r\n&lt;br&gt;\r\nHope this help!\r\n\r\n","title":"Micronaut with AWS Lambda and SQS","body":"<p>I setup a project with micronaut to handle an SQSEvent. I got a lot of problems for read the SQS event in my function.<br>\nI used the <a href=\"https://micronaut.io/launch\" rel=\"nofollow noreferrer\">https://micronaut.io/launch</a> to generate my project with the next params:<br>\nApplication Type: Function Application for Serverless<br>\nMicronaut Version: 3.9.3<br>\nJava Version: 17<br>\nBuild Tool: Gradle<br>\nTest Framework: JUnit<br>\nAdditional features: aws-lambda, graalvm<br>\n<a href=\"https://i.stack.imgur.com/MNoYc.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/MNoYc.png</a><br></p>\n<p><strong>build.gradle</strong></p>\n<pre><code>dependencies {\nannotationProcessor(&quot;io.micronaut:micronaut-http-validation&quot;)\n\nimplementation(&quot;com.amazonaws:aws-lambda-java-events:3.11.2&quot;)\nimplementation(&quot;io.micronaut:micronaut-http-client&quot;)\nimplementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\nimplementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;)\nimplementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;)\nimplementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\nimplementation(&quot;io.micronaut.data:micronaut-data-jdbc&quot;)\n\ncompileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\nruntimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n</code></pre>\n<p>}\n<br>\n<strong>FunctionLambdaRuntime.java</strong></p>\n<pre><code>public class FunctionLambdaRuntime extends AbstractMicronautLambdaRuntime&lt;SQSEvent, SQSBatchResponse, SQSEvent, SQSBatchResponse&gt;{\npublic static void main(String[] args) {\n    try {\n        new FunctionLambdaRuntime().run(args);\n\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n}\n\n@Override\n@Nullable\nprotected RequestHandler&lt;SQSEvent, SQSBatchResponse&gt; createRequestHandler(String... args) {\n    return new FunctionRequestHandler();\n}\n</code></pre>\n<p>}\n<br>\n<strong>FunctionRequestHandler.java</strong><br>\nVery important to add the Introspected annotation to the SQS necessary classes for the request and response!! You'll get a serialization error if you dont do this!</p>\n<pre><code>@Introspected(classes = {SQSEvent.class, SQSEvent.SQSMessage.class, SQSBatchResponse.class, SQSEvent.MessageAttribute.class, SQSBatchResponse.BatchItemFailure.class})\npublic class FunctionRequestHandler extends MicronautRequestHandler&lt;SQSEvent, SQSBatchResponse&gt; {\n@Inject\nObjectMapper objectMapper;\n\nprivate static final Logger logger = LoggerFactory.getLogger(FunctionRequestHandler.class);\n\n@Override\npublic SQSBatchResponse execute(SQSEvent input) {\n    final List&lt;SQSBatchResponse.BatchItemFailure&gt; batchItemFailures = new ArrayList&lt;&gt;();\n    final SQSBatchResponse response = new SQSBatchResponse(batchItemFailures);\n    logger.info(&quot;SQS input: {}&quot;, input.toString());\n    if(input == null){\n        logger.error(&quot;SQSEvent input is null&quot;);\n        return response;\n    }\n    logger.info(&quot;records {}&quot;, input.getRecords());\n\n    for (SQSEvent.SQSMessage message : input.getRecords()) {\n        try {\n            MessagePaymentNotificationDto notification = this.objectMapper.readValue(message.getBody(), MessagePaymentNotificationDto.class);\n            logger.info(notification.toString());\n        } catch (Exception e) {\n            batchItemFailures.add(new SQSBatchResponse.BatchItemFailure(message.getMessageId()));\n        }\n\n    }\n    return response;\n}\n</code></pre>\n<p>}\n<br>\nBuild the native image: <em>./gradlew buildNativeLambda -Pmicronaut.runtime=lambda</em> <br>\nUpload the zip to your lambda function and configure com.example.eventHandlers.FunctionRequestHandler as handler.<br>\nIn the <strong>Test</strong> tab of your lambda function go to the <strong>Template</strong> section and search for SQS and select it, it will configure a test json with the structure of an SQSEvent:<br>\n<strong>Important:</strong> When slected the SQS template the <strong>&quot;records&quot;</strong> attribute will be displayed as <strong>&quot;Records&quot;</strong>, change it to lowercase before send the test</p>\n<pre><code>{\n  &quot;records&quot;: [\n{\n  &quot;messageId&quot;: &quot;19dd0b57-b21e-4ac1-bd88-01bbb068cb78&quot;,\n  &quot;receiptHandle&quot;: &quot;MessageReceiptHandle&quot;,\n  &quot;body&quot;: &quot;Hello from SQS!&quot;,\n  &quot;attributes&quot;: {\n    &quot;ApproximateReceiveCount&quot;: &quot;1&quot;,\n    &quot;SentTimestamp&quot;: &quot;1523232000000&quot;,\n    &quot;SenderId&quot;: &quot;123456789012&quot;,\n    &quot;ApproximateFirstReceiveTimestamp&quot;: &quot;1523232000001&quot;\n  },\n  &quot;messageAttributes&quot;: {},\n  &quot;md5OfBody&quot;: &quot;{{{md5_of_body}}}&quot;,\n  &quot;eventSource&quot;: &quot;aws:sqs&quot;,\n  &quot;eventSourceARN&quot;: &quot;arn:aws:sqs:us-east-1:123456789012:MyQueue&quot;,\n  &quot;awsRegion&quot;: &quot;us-east-1&quot;\n}\n]\n}\n</code></pre>\n<br>\nHope this help!\n"}],"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73556660,"answer_count":3,"score":2,"last_activity_date":1687490844,"creation_date":1661863559,"question_id":73542694,"body_markdown":"I have created simple application with Micronaut, and Graalvm and want to deploy it to the AWS Lambda and get it triggered from the SQS and process the messages. But somehow, it is not working as expected. \r\n\r\nTo build this application, I use command:\r\n`gradlew buildNativeLambda `\r\n\r\nBelow is my setup:\r\n\r\n**Micronaut application:**\r\n\r\n**Trial 1: (not working)**\r\n\r\n```\r\nimport com.example.services.TestService;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport io.micronaut.http.MediaType;\r\nimport io.micronaut.http.annotation.Body;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Get;\r\nimport io.micronaut.http.annotation.Post;\r\nimport jakarta.inject.Inject;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Controller\r\npublic class Controller {\r\n\r\n    @Inject\r\n    private TestService testService;\r\n\r\n    @Post(consumes = MediaType.APPLICATION_JSON, produces = MediaType.APPLICATION_JSON)\r\n    public Map&lt;String, Object&gt; indexPost(@Body List&lt;Map&lt;String, Object&gt;&gt; requestBody) throws JsonProcessingException {\r\n        return this.testService.handleRequest(requestBody.get(0));\r\n    }\r\n}\r\n```\r\n\r\nPrepare a build and upload it to Lambda and add the following handler: `io.micronaut.function.aws.proxy.MicronautLambdaHandler`\r\n\r\n**It just works fine when I try to trigger the lambda from &quot;Test&quot; tab on lambda management console**. However, when I add the SQS as trigger, and send the message to the SQS, the message does get disappeared from the queue (thus it is being read), but I see no logs in the lambda and the functionality is also not achieved. Thus it does not work with the SQS.\r\n\r\n**Trial 2: (not working)**\r\n\r\n```\r\nimport com.amazonaws.services.lambda.runtime.events.SQSEvent;\r\nimport com.example.services.TestService;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport io.micronaut.core.annotation.Introspected;\r\nimport io.micronaut.function.aws.MicronautRequestHandler;\r\nimport jakarta.inject.Inject;\r\n\r\nimport java.util.List;\r\n\r\n@Introspected\r\npublic class SQSEventHandler extends MicronautRequestHandler&lt;SQSEvent, Void&gt; {\r\n\r\n    @Inject\r\n    private TestService testService;\r\n\r\n    @Override\r\n    public Void execute(SQSEvent input) {\r\n        System.out.println(&quot;EVENT PROCESSING STARTS ===&gt;&quot;);\r\n        List&lt;SQSEvent.SQSMessage&gt; messages = input.getRecords();\r\n        System.out.println(&quot;Number of messages:::&quot; + messages.size());\r\n        for (SQSEvent.SQSMessage single: messages) {\r\n            try {\r\n                System.out.println(&quot;Message body::: &quot; + single.getBody());\r\n                this.testService.handleRequest(single.getBody());\r\n            } catch (JsonProcessingException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        System.out.println(&quot;&lt;=== EVENT PROCESSING ENDS&quot;);\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nPrepare a build and upload it to Lambda and add the following handler: `com.example.eventHandlers.SQSEventHandler`\r\n\r\nNow it does the same behavior with the SQS message as previous one, the message gets disappeared from the queue, but no effect in lambda.\r\n\r\n**Edit - 31-08-2022:**\r\n\r\nI use below body as an event to test from &quot;Test&quot; tab in lambda console, and \r\n this is to check the AWS Gateway event and **it does works fine** as we have `@Controller` class. Without `@Controller` it fails.\r\n\r\n**Event data:**\r\n```\r\n{\r\n  &quot;path&quot;: &quot;/&quot;,\r\n  &quot;httpMethod&quot;: &quot;POST&quot;,\r\n  &quot;headers&quot;: {\r\n    &quot;Accept&quot;: &quot;application/json&quot;\r\n  },\r\n  &quot;body&quot;: &quot;&lt;my req body&gt;&quot;\r\n}\r\n```\r\n\r\nBut when I try to test it with the SQS event, it fails. I have configured `com.example.eventHandlers.SQSEventHandler` as event handler in lambda for this test. Below is the event data which I used to test and the results:\r\n\r\n**Event data**:\r\n```\r\n{\r\n    &quot;Records&quot;: [\r\n        {\r\n            &quot;messageId&quot;: &quot;059f36b4-87a3-44ab-83d2-661975830a7d&quot;,\r\n            &quot;receiptHandle&quot;: &quot;AQEBwJnKyrHigUMZj6rYigCgxlaS3SLy0a...&quot;,\r\n            &quot;body&quot;: &quot;{\\&quot;action\\&quot;: \\&quot;READ_ALL\\&quot;}&quot;,\r\n            &quot;attributes&quot;: {\r\n                &quot;ApproximateReceiveCount&quot;: &quot;1&quot;,\r\n                &quot;SentTimestamp&quot;: &quot;1545082649183&quot;,\r\n                &quot;SenderId&quot;: &quot;AIDAIENQZJOLO23YVJ4VO&quot;,\r\n                &quot;ApproximateFirstReceiveTimestamp&quot;: &quot;1545082649185&quot;\r\n            },\r\n            &quot;messageAttributes&quot;: {},\r\n            &quot;md5OfBody&quot;: &quot;e4e68fb7bd0e697a0ae8f1bb342846b3&quot;,\r\n            &quot;eventSource&quot;: &quot;aws:sqs&quot;,\r\n            &quot;eventSourceARN&quot;: &quot;arn:aws:sqs:us-east-2:123456789012:my-queue&quot;,\r\n            &quot;awsRegion&quot;: &quot;us-east-2&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n**Results:**\r\n```\r\n{\r\n  &quot;statusCode&quot;: 405,\r\n  &quot;multiValueHeaders&quot;: {\r\n    &quot;Allow&quot;: [\r\n      &quot;POST&quot;\r\n    ],\r\n    &quot;Content-Type&quot;: [\r\n      &quot;application/json&quot;\r\n    ]\r\n  },\r\n  &quot;body&quot;: &quot;{\\&quot;message\\&quot;:\\&quot;Method Not Allowed\\&quot;,\\&quot;_links\\&quot;:{\\&quot;self\\&quot;:{\\&quot;href\\&quot;:\\&quot;https://nullnull\\&quot;,\\&quot;templated\\&quot;:false}},\\&quot;_embedded\\&quot;:{\\&quot;errors\\&quot;:[{\\&quot;message\\&quot;:\\&quot;Method [GET] not allowed for URI [https://nullnull]. Allowed methods: [POST]\\&quot;}]}}&quot;,\r\n  &quot;isBase64Encoded&quot;: false\r\n}\r\n```","title":"Micronaut with AWS Lambda and SQS","body":"<p>I have created simple application with Micronaut, and Graalvm and want to deploy it to the AWS Lambda and get it triggered from the SQS and process the messages. But somehow, it is not working as expected.</p>\n<p>To build this application, I use command:\n<code>gradlew buildNativeLambda </code></p>\n<p>Below is my setup:</p>\n<p><strong>Micronaut application:</strong></p>\n<p><strong>Trial 1: (not working)</strong></p>\n<pre><code>import com.example.services.TestService;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport io.micronaut.http.MediaType;\nimport io.micronaut.http.annotation.Body;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.micronaut.http.annotation.Post;\nimport jakarta.inject.Inject;\n\nimport java.util.List;\nimport java.util.Map;\n\n@Controller\npublic class Controller {\n\n    @Inject\n    private TestService testService;\n\n    @Post(consumes = MediaType.APPLICATION_JSON, produces = MediaType.APPLICATION_JSON)\n    public Map&lt;String, Object&gt; indexPost(@Body List&lt;Map&lt;String, Object&gt;&gt; requestBody) throws JsonProcessingException {\n        return this.testService.handleRequest(requestBody.get(0));\n    }\n}\n</code></pre>\n<p>Prepare a build and upload it to Lambda and add the following handler: <code>io.micronaut.function.aws.proxy.MicronautLambdaHandler</code></p>\n<p><strong>It just works fine when I try to trigger the lambda from &quot;Test&quot; tab on lambda management console</strong>. However, when I add the SQS as trigger, and send the message to the SQS, the message does get disappeared from the queue (thus it is being read), but I see no logs in the lambda and the functionality is also not achieved. Thus it does not work with the SQS.</p>\n<p><strong>Trial 2: (not working)</strong></p>\n<pre><code>import com.amazonaws.services.lambda.runtime.events.SQSEvent;\nimport com.example.services.TestService;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport io.micronaut.core.annotation.Introspected;\nimport io.micronaut.function.aws.MicronautRequestHandler;\nimport jakarta.inject.Inject;\n\nimport java.util.List;\n\n@Introspected\npublic class SQSEventHandler extends MicronautRequestHandler&lt;SQSEvent, Void&gt; {\n\n    @Inject\n    private TestService testService;\n\n    @Override\n    public Void execute(SQSEvent input) {\n        System.out.println(&quot;EVENT PROCESSING STARTS ===&gt;&quot;);\n        List&lt;SQSEvent.SQSMessage&gt; messages = input.getRecords();\n        System.out.println(&quot;Number of messages:::&quot; + messages.size());\n        for (SQSEvent.SQSMessage single: messages) {\n            try {\n                System.out.println(&quot;Message body::: &quot; + single.getBody());\n                this.testService.handleRequest(single.getBody());\n            } catch (JsonProcessingException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(&quot;&lt;=== EVENT PROCESSING ENDS&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p>Prepare a build and upload it to Lambda and add the following handler: <code>com.example.eventHandlers.SQSEventHandler</code></p>\n<p>Now it does the same behavior with the SQS message as previous one, the message gets disappeared from the queue, but no effect in lambda.</p>\n<p><strong>Edit - 31-08-2022:</strong></p>\n<p>I use below body as an event to test from &quot;Test&quot; tab in lambda console, and\nthis is to check the AWS Gateway event and <strong>it does works fine</strong> as we have <code>@Controller</code> class. Without <code>@Controller</code> it fails.</p>\n<p><strong>Event data:</strong></p>\n<pre><code>{\n  &quot;path&quot;: &quot;/&quot;,\n  &quot;httpMethod&quot;: &quot;POST&quot;,\n  &quot;headers&quot;: {\n    &quot;Accept&quot;: &quot;application/json&quot;\n  },\n  &quot;body&quot;: &quot;&lt;my req body&gt;&quot;\n}\n</code></pre>\n<p>But when I try to test it with the SQS event, it fails. I have configured <code>com.example.eventHandlers.SQSEventHandler</code> as event handler in lambda for this test. Below is the event data which I used to test and the results:</p>\n<p><strong>Event data</strong>:</p>\n<pre><code>{\n    &quot;Records&quot;: [\n        {\n            &quot;messageId&quot;: &quot;059f36b4-87a3-44ab-83d2-661975830a7d&quot;,\n            &quot;receiptHandle&quot;: &quot;AQEBwJnKyrHigUMZj6rYigCgxlaS3SLy0a...&quot;,\n            &quot;body&quot;: &quot;{\\&quot;action\\&quot;: \\&quot;READ_ALL\\&quot;}&quot;,\n            &quot;attributes&quot;: {\n                &quot;ApproximateReceiveCount&quot;: &quot;1&quot;,\n                &quot;SentTimestamp&quot;: &quot;1545082649183&quot;,\n                &quot;SenderId&quot;: &quot;AIDAIENQZJOLO23YVJ4VO&quot;,\n                &quot;ApproximateFirstReceiveTimestamp&quot;: &quot;1545082649185&quot;\n            },\n            &quot;messageAttributes&quot;: {},\n            &quot;md5OfBody&quot;: &quot;e4e68fb7bd0e697a0ae8f1bb342846b3&quot;,\n            &quot;eventSource&quot;: &quot;aws:sqs&quot;,\n            &quot;eventSourceARN&quot;: &quot;arn:aws:sqs:us-east-2:123456789012:my-queue&quot;,\n            &quot;awsRegion&quot;: &quot;us-east-2&quot;\n        }\n    ]\n}\n</code></pre>\n<p><strong>Results:</strong></p>\n<pre><code>{\n  &quot;statusCode&quot;: 405,\n  &quot;multiValueHeaders&quot;: {\n    &quot;Allow&quot;: [\n      &quot;POST&quot;\n    ],\n    &quot;Content-Type&quot;: [\n      &quot;application/json&quot;\n    ]\n  },\n  &quot;body&quot;: &quot;{\\&quot;message\\&quot;:\\&quot;Method Not Allowed\\&quot;,\\&quot;_links\\&quot;:{\\&quot;self\\&quot;:{\\&quot;href\\&quot;:\\&quot;https://nullnull\\&quot;,\\&quot;templated\\&quot;:false}},\\&quot;_embedded\\&quot;:{\\&quot;errors\\&quot;:[{\\&quot;message\\&quot;:\\&quot;Method [GET] not allowed for URI [https://nullnull]. Allowed methods: [POST]\\&quot;}]}}&quot;,\n  &quot;isBase64Encoded&quot;: false\n}\n</code></pre>\n"},{"tags":["java","spring-boot","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674817655,"creation_date":1674817655,"answer_id":75257286,"question_id":75254909,"body_markdown":"The `redirect_uri` that you are passing to the OAuth server is `https://www.accionmfb.com` which does not include the path `/redirect-url` so the redirect never hits your method.\r\n\r\nEither register and pass a callback uri like `redirect_uri=https://www.accionmfb.com/redirect-url`\r\n\r\nOr change `@GetMapping(&quot;/redirect-url&quot;)` to `@GetMapping(&quot;/&quot;)`","title":"How to pick values from a redirected_url using Springboot","body":"<p>The <code>redirect_uri</code> that you are passing to the OAuth server is <code>https://www.accionmfb.com</code> which does not include the path <code>/redirect-url</code> so the redirect never hits your method.</p>\n<p>Either register and pass a callback uri like <code>redirect_uri=https://www.accionmfb.com/redirect-url</code></p>\n<p>Or change <code>@GetMapping(&quot;/redirect-url&quot;)</code> to <code>@GetMapping(&quot;/&quot;)</code></p>\n"}],"owner":{"account_id":18398582,"reputation":71,"user_id":13402293,"display_name":"ojo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75257286,"answer_count":1,"score":0,"last_activity_date":1687490512,"creation_date":1674802780,"question_id":75254909,"body_markdown":"\r\n\r\nI want to be able to fetch a param from the redirect url whenever it is automated. I am having difficulties doing this as I am getting a bad request after I created another endpoint to effect this. \r\n\r\nI have an endpoint that works fine. The endpoint is a get method. Loading the endpoint takes a user to a page where they need to provide some necessary details. Once these details have been verified, the user is redirected to my redirecr_uri. The redirect_uri now contains important information like session_id, code, etc. The  most important thing I need is the code. I need to pass the code into yet another endpoint which will return an access token.\r\n\r\nI have manually done this process and it works but I want it to be done automatically because I can&#39;t keep doing that when I push the code to staging or production.\r\n\r\nHere is the endpoint that redirects as well as the method.\r\n\r\n    @GetMapping(&quot;/get-token&quot;)\r\n        public RedirectView getBvn() throws UnirestException {\r\n            return nibss.getAccessToken();\r\n        }\r\n\r\nThis is the method that the controller calls\r\n\r\n    public RedirectView getAccessToken() throws UnirestException {\r\n            String url = &quot;https://idsandbox.nibss-plc.com.ng/oxauth/authorize.htm?scope=profile&amp;acr_values=otp&amp;response&quot; +\r\n                    &quot;_type=code&amp;redirect_uri=https://www.accionmfb.com/&amp;client_id=0915cd00-67f2-4768-99ac-1b2ff9f1da2e&quot;;\r\n    \r\n            RedirectView redirectView = new RedirectView();\r\n            redirectView.setUrl(url);\r\n            return redirectView;\r\n        }\r\n\r\nWhen the user provides the right information they are redirected to something like this \r\n\r\n    https://www.accionmfb.com/?code=9ad91f13-4698-4030-8a8f-a857e6a9907e&amp;acr_values=otp&amp;scope=profile&amp;session_state=fa525cabc5b62854c73315d0322fd830c12a5941b89fd8e6e518da369e386572.b78a3d21-e98e-4e9a-8d60-afca779d9fad&amp;sid=fd60ab92-ef37-4a5b-99b9-f8f52321985d\r\n\r\nIt is important to state that this 3rd party API I am trying to consume uses oath2.0 client authentication. \r\n\r\nI created this endpoint to get the code from the redirected_uri\r\n\r\n    @GetMapping(&quot;/redirect-url&quot;)\r\n        public void handleRedirect(@RequestParam(&quot;code&quot;) String code) throws UnirestException {\r\n            if(Objects.nonNull(code) || !code.isEmpty()){\r\n                nibss.getToken(code);\r\n                log.info(&quot;Code is not being passed {}&quot;, code);\r\n    \r\n            } else {\r\n                log.info(&quot;Code is not being passed {}&quot;, code);\r\n            }\r\n    \r\n        }\r\n\r\n    public String getToken(String code) throws UnirestException {\r\n            log.info(&quot;This is the code here oooooooooo {}&quot;, code);\r\n            String url = &quot;https://idsandbox.nibss-plc.com.ng/oxauth/restv1/token&quot;;\r\n    \r\n            String parameters = &quot;client_id=0915cd00-67f2-4768-99ac-1b2ff9f1da2e&amp;code=&quot;+code+&quot;&amp;redirect_uri=https://www.accionmfb.com/&amp;grant_type=authorization_code&quot;;\r\n    \r\n            HttpResponse&lt;String&gt; apiResponse = Unirest.post(url)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                    .header(&quot;Authorization&quot;, &quot;Basic MDkxNWNkMDAtNjdmMi00NzY4LTk5YWMtMWIyZmY5ZjFkYTJlOlRVRnEwcGFBQXRzbzBZOEcxMkl2WFZHUmx6WG5zaERiaGt1dzI1YUM=&quot;)\r\n                    .body(parameters)\r\n                    .asString();\r\n            //JSONObject apiJson = apiResponse.getBody().getObject();\r\n            //return apiJson.getString(&quot;access_token&quot;);\r\n            JSONObject json = new JSONObject(apiResponse.getBody());\r\n            String accessToken = json.getString(&quot;access_token&quot;);\r\n            log.info(accessToken);\r\n            return accessToken;\r\n    \r\n        }\r\n\r\nBut this is not working, I get 400 whenever I hit the second endpoint. What am I doing wrong?\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to pick values from a redirected_url using Springboot","body":"<p>I want to be able to fetch a param from the redirect url whenever it is automated. I am having difficulties doing this as I am getting a bad request after I created another endpoint to effect this.</p>\n<p>I have an endpoint that works fine. The endpoint is a get method. Loading the endpoint takes a user to a page where they need to provide some necessary details. Once these details have been verified, the user is redirected to my redirecr_uri. The redirect_uri now contains important information like session_id, code, etc. The  most important thing I need is the code. I need to pass the code into yet another endpoint which will return an access token.</p>\n<p>I have manually done this process and it works but I want it to be done automatically because I can't keep doing that when I push the code to staging or production.</p>\n<p>Here is the endpoint that redirects as well as the method.</p>\n<pre><code>@GetMapping(&quot;/get-token&quot;)\n    public RedirectView getBvn() throws UnirestException {\n        return nibss.getAccessToken();\n    }\n</code></pre>\n<p>This is the method that the controller calls</p>\n<pre><code>public RedirectView getAccessToken() throws UnirestException {\n        String url = &quot;https://idsandbox.nibss-plc.com.ng/oxauth/authorize.htm?scope=profile&amp;acr_values=otp&amp;response&quot; +\n                &quot;_type=code&amp;redirect_uri=https://www.accionmfb.com/&amp;client_id=0915cd00-67f2-4768-99ac-1b2ff9f1da2e&quot;;\n\n        RedirectView redirectView = new RedirectView();\n        redirectView.setUrl(url);\n        return redirectView;\n    }\n</code></pre>\n<p>When the user provides the right information they are redirected to something like this</p>\n<pre><code>https://www.accionmfb.com/?code=9ad91f13-4698-4030-8a8f-a857e6a9907e&amp;acr_values=otp&amp;scope=profile&amp;session_state=fa525cabc5b62854c73315d0322fd830c12a5941b89fd8e6e518da369e386572.b78a3d21-e98e-4e9a-8d60-afca779d9fad&amp;sid=fd60ab92-ef37-4a5b-99b9-f8f52321985d\n</code></pre>\n<p>It is important to state that this 3rd party API I am trying to consume uses oath2.0 client authentication.</p>\n<p>I created this endpoint to get the code from the redirected_uri</p>\n<pre><code>@GetMapping(&quot;/redirect-url&quot;)\n    public void handleRedirect(@RequestParam(&quot;code&quot;) String code) throws UnirestException {\n        if(Objects.nonNull(code) || !code.isEmpty()){\n            nibss.getToken(code);\n            log.info(&quot;Code is not being passed {}&quot;, code);\n\n        } else {\n            log.info(&quot;Code is not being passed {}&quot;, code);\n        }\n\n    }\n\npublic String getToken(String code) throws UnirestException {\n        log.info(&quot;This is the code here oooooooooo {}&quot;, code);\n        String url = &quot;https://idsandbox.nibss-plc.com.ng/oxauth/restv1/token&quot;;\n\n        String parameters = &quot;client_id=0915cd00-67f2-4768-99ac-1b2ff9f1da2e&amp;code=&quot;+code+&quot;&amp;redirect_uri=https://www.accionmfb.com/&amp;grant_type=authorization_code&quot;;\n\n        HttpResponse&lt;String&gt; apiResponse = Unirest.post(url)\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .header(&quot;Authorization&quot;, &quot;Basic MDkxNWNkMDAtNjdmMi00NzY4LTk5YWMtMWIyZmY5ZjFkYTJlOlRVRnEwcGFBQXRzbzBZOEcxMkl2WFZHUmx6WG5zaERiaGt1dzI1YUM=&quot;)\n                .body(parameters)\n                .asString();\n        //JSONObject apiJson = apiResponse.getBody().getObject();\n        //return apiJson.getString(&quot;access_token&quot;);\n        JSONObject json = new JSONObject(apiResponse.getBody());\n        String accessToken = json.getString(&quot;access_token&quot;);\n        log.info(accessToken);\n        return accessToken;\n\n    }\n</code></pre>\n<p>But this is not working, I get 400 whenever I hit the second endpoint. What am I doing wrong?</p>\n"},{"tags":["java","grid","vaadin7","vaadin-grid"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1687341130,"post_id":76505634,"comment_id":134922162,"body_markdown":"You could add some code you&#39;re using, plus the specific versions that you are using for Vaadin and ComponentRenderer.","body":"You could add some code you&#39;re using, plus the specific versions that you are using for Vaadin and ComponentRenderer."},{"owner":{"account_id":13142077,"reputation":315,"user_id":9559371,"display_name":"Egor Vasilyev"},"score":0,"creation_date":1687489718,"post_id":76505634,"comment_id":134947256,"body_markdown":"It&#39;s difficult to give an example of the code, but I&#39;ll try. The question is supplemented.","body":"It&#39;s difficult to give an example of the code, but I&#39;ll try. The question is supplemented."}],"owner":{"account_id":13142077,"reputation":315,"user_id":9559371,"display_name":"Egor Vasilyev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687489687,"creation_date":1687169538,"question_id":76505634,"body_markdown":"I&#39;m trying to create a component to configure the grid (sorting, filtering, pinning columns, and so on).\r\nEverything works well for standard speakers. I specify the number of frozen columns and they remain in place in any scenario.\r\nFor columns that use Components Renderer, frozen columns are reset whenever the dataset changes (sorting by any column, filtering).\r\nIf you freeze a regular column together with a column of components, the problem does not manifest itself.\r\n\r\nI can&#39;t find any reasons for this behavior in my code. When the grid data is changed (for example, when sorting is set), the `transform: translate3d(...)` property of the element styles is simply reset for columns with the component.\r\n\r\nI will be glad of any help or indication of the direction of the search.\r\n\r\n[Video showing the problem][1]\r\n\r\n\r\nVaadin version 7.7.15, ComponentRenderer version 1.0.3.\r\n\r\nThe item SetChangeListener hangs on the container, which calls updateVisibleColumns (updates column data). The ComponentRenderer is installed here:\r\n\r\n    protected void updateVisibleColumns() {\r\n        if (dataSource == null) {\r\n            return;\r\n        }\r\n        final Collection&lt;DataSourceColumn&gt; visibleColumns = dataSource.getVisibleColumns();\r\n        setColumns(visibleColumns.toArray());\r\n\r\n        Map&lt;String, ArrayList&lt;Object&gt;&gt; groupMap = new HashMap&lt;&gt;();\r\n\r\n        for (final DataSourceColumn column : visibleColumns) {\r\n            if (column.getGroup() != null) {\r\n                if (!groupMap.containsKey(column.getGroup())) {\r\n                    groupMap.put(column.getGroup(), new ArrayList&lt;&gt;());\r\n                }\r\n                groupMap.get(column.getGroup()).add(column);\r\n            }\r\n\r\n            final Column gridColumn = getColumn(column);\r\n            gridColumn.setHeaderCaption(column.getCaption());\r\n            if (column.getFormat() != null &amp;&amp; !Component.class.isAssignableFrom(column.getType())) {\r\n                gridColumn.setConverter(new DataSourceColumnConverter(column));\r\n            }\r\n            if (Resource.class.isAssignableFrom(column.getType())) {\r\n                gridColumn.setRenderer(new ImageRenderer());\r\n            } else if (Component.class.isAssignableFrom(column.getType())) {\r\n                gridColumn.setRenderer(new ComponentRenderer());\r\n            }\r\n        }\r\n        recalculateColumnWidths();\r\n    }\r\n\r\nIn the example, a Label wrapped in VerticalLayout is used as a component to listen for clicks:\r\n\r\n    public class ClickableLabelField extends VerticalLayout implements Field&lt;String&gt;\r\n\r\nColumns are frozen in a separate class to which a grid instance is passed. The frozen columns are installed in the setSettings method:\r\n\r\n    private final CheckBoxWithCaption fixFirstColumn\r\n            = new CheckBoxWithCaption(&quot;Закрепить первую колонку&quot;);\r\n    private final CheckBoxWithCaption severalFixColumn\r\n            = new CheckBoxWithCaption(&quot;Закрепить несколько колонок&quot;);\r\n    private final CheckBoxWithCaption showStripeRow\r\n            = new CheckBoxWithCaption(&quot;Отображать \\&quot;зебру\\&quot;&quot;);\r\n\r\n    public void setSettings() {\r\n        if (grid == null || grid.getColumns().isEmpty()) {\r\n            return;\r\n        }\r\n        if (Boolean.TRUE.equals(fixFirstColumn.getValue())) {\r\n            grid.setFrozenColumnCount(1);\r\n        } else if (Boolean.TRUE.equals(severalFixColumn.getValue())) {\r\n            Long fixColumn = getNumberColumnValue(columnNumberField.getValue());\r\n            if (fixColumn != null) {\r\n                grid.setFrozenColumnCount(fixColumn.intValue());\r\n            }\r\n        }\r\n\r\n        if (Boolean.TRUE.equals(showStripeRow.getValue())) {\r\n            grid.removeStyleName(EKPTheme.GRID_NO_STRIPE);\r\n        } else {\r\n            grid.addStyleName(EKPTheme.GRID_NO_STRIPE);\r\n        }\r\n    }\r\n\r\n  [1]: https://drive.google.com/file/d/1F9LnLF8avpyKO4_9u67vSHQ9O8PsNyok/view?usp=drive_link","title":"Vaadin 7 grid freezing drops the column with componentRenderer","body":"<p>I'm trying to create a component to configure the grid (sorting, filtering, pinning columns, and so on).\nEverything works well for standard speakers. I specify the number of frozen columns and they remain in place in any scenario.\nFor columns that use Components Renderer, frozen columns are reset whenever the dataset changes (sorting by any column, filtering).\nIf you freeze a regular column together with a column of components, the problem does not manifest itself.</p>\n<p>I can't find any reasons for this behavior in my code. When the grid data is changed (for example, when sorting is set), the <code>transform: translate3d(...)</code> property of the element styles is simply reset for columns with the component.</p>\n<p>I will be glad of any help or indication of the direction of the search.</p>\n<p><a href=\"https://drive.google.com/file/d/1F9LnLF8avpyKO4_9u67vSHQ9O8PsNyok/view?usp=drive_link\" rel=\"nofollow noreferrer\">Video showing the problem</a></p>\n<p>Vaadin version 7.7.15, ComponentRenderer version 1.0.3.</p>\n<p>The item SetChangeListener hangs on the container, which calls updateVisibleColumns (updates column data). The ComponentRenderer is installed here:</p>\n<pre><code>protected void updateVisibleColumns() {\n    if (dataSource == null) {\n        return;\n    }\n    final Collection&lt;DataSourceColumn&gt; visibleColumns = dataSource.getVisibleColumns();\n    setColumns(visibleColumns.toArray());\n\n    Map&lt;String, ArrayList&lt;Object&gt;&gt; groupMap = new HashMap&lt;&gt;();\n\n    for (final DataSourceColumn column : visibleColumns) {\n        if (column.getGroup() != null) {\n            if (!groupMap.containsKey(column.getGroup())) {\n                groupMap.put(column.getGroup(), new ArrayList&lt;&gt;());\n            }\n            groupMap.get(column.getGroup()).add(column);\n        }\n\n        final Column gridColumn = getColumn(column);\n        gridColumn.setHeaderCaption(column.getCaption());\n        if (column.getFormat() != null &amp;&amp; !Component.class.isAssignableFrom(column.getType())) {\n            gridColumn.setConverter(new DataSourceColumnConverter(column));\n        }\n        if (Resource.class.isAssignableFrom(column.getType())) {\n            gridColumn.setRenderer(new ImageRenderer());\n        } else if (Component.class.isAssignableFrom(column.getType())) {\n            gridColumn.setRenderer(new ComponentRenderer());\n        }\n    }\n    recalculateColumnWidths();\n}\n</code></pre>\n<p>In the example, a Label wrapped in VerticalLayout is used as a component to listen for clicks:</p>\n<pre><code>public class ClickableLabelField extends VerticalLayout implements Field&lt;String&gt;\n</code></pre>\n<p>Columns are frozen in a separate class to which a grid instance is passed. The frozen columns are installed in the setSettings method:</p>\n<pre><code>private final CheckBoxWithCaption fixFirstColumn\n        = new CheckBoxWithCaption(&quot;Закрепить первую колонку&quot;);\nprivate final CheckBoxWithCaption severalFixColumn\n        = new CheckBoxWithCaption(&quot;Закрепить несколько колонок&quot;);\nprivate final CheckBoxWithCaption showStripeRow\n        = new CheckBoxWithCaption(&quot;Отображать \\&quot;зебру\\&quot;&quot;);\n\npublic void setSettings() {\n    if (grid == null || grid.getColumns().isEmpty()) {\n        return;\n    }\n    if (Boolean.TRUE.equals(fixFirstColumn.getValue())) {\n        grid.setFrozenColumnCount(1);\n    } else if (Boolean.TRUE.equals(severalFixColumn.getValue())) {\n        Long fixColumn = getNumberColumnValue(columnNumberField.getValue());\n        if (fixColumn != null) {\n            grid.setFrozenColumnCount(fixColumn.intValue());\n        }\n    }\n\n    if (Boolean.TRUE.equals(showStripeRow.getValue())) {\n        grid.removeStyleName(EKPTheme.GRID_NO_STRIPE);\n    } else {\n        grid.addStyleName(EKPTheme.GRID_NO_STRIPE);\n    }\n}\n</code></pre>\n"},{"tags":["java","ubuntu","audio"],"owner":{"account_id":2667931,"reputation":776,"user_id":2305886,"accept_rate":29,"display_name":"user2305886"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687489052,"creation_date":1687489052,"question_id":76536832,"body_markdown":"Sound works fine when I do test:\r\n\r\n&gt; aplay -D hw:1,0 /usr/share/sounds/alsa/audio.wav\r\n\r\nHowever when I try to `getSourceDataLine` and then open it, I am getting the exception:\r\n\r\n   javax.sound.sampled.LineUnavailableException: line with format PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, big-endian not supported.\r\n\tat java.desktop/com.sun.media.sound.DirectAudioDevice$DirectDL.implOpen(DirectAudioDevice.java:484)\r\n\tat java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:115)\r\n\tat java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:357)\r\n\tat photoorganizer.formats.M4A$MP4Player.playLoop(M4A.java:204)\r\n\tat photoorganizer.formats.SimpleMediaFormat$SimpleMediaPlayer.run(SimpleMediaFormat.java:323)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nThere is the code snippet:\r\n\r\n    //create audio format\r\n    fmt = new AudioFormat(track.getSampleRate(), track.getSampleSize(), track.getChannelCount(), true, true);\r\n    line = AudioSystem.getSourceDataLine(fmt);\r\n    line.open();\r\n    line.start();\r\n\r\nI use Oracle JVM 17.7. Linux details:\r\n\r\n&gt; NAME=&quot;Ubuntu&quot;\r\n&gt; VERSION=&quot;20.04.6 LTS (Focal Fossa)&quot;\r\n&gt; ID=ubuntu\r\n&gt; ID_LIKE=debian\r\n&gt; PRETTY_NAME=&quot;Orange Pi 1.1.6 Focal&quot;\r\n&gt; VERSION_ID=&quot;20.04&quot;\r\n&gt; HOME_URL=&quot;https://www.ubuntu.com/&quot;\r\n&gt; SUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\r\n&gt; BUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\r\n&gt; PRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\r\n&gt; VERSION_CODENAME=focal\r\n&gt; UBUNTU_CODENAME=focal\r\n\r\nJVM details:\r\n\r\n&gt; java.vm.specification.vendor\tOracle Corporation\r\n&gt; java.specification.name\tJava Platform API Specification\r\n&gt; sun.management.compiler\tHotSpot 64-Bit Tiered Compilers\r\n&gt; java.runtime.version\t17.0.7+8-LTS-224\r\n\r\n","title":"Can&#39;t play sound from Java on Orange Pi Ubuntu server","body":"<p>Sound works fine when I do test:</p>\n<blockquote>\n<p>aplay -D hw:1,0 /usr/share/sounds/alsa/audio.wav</p>\n</blockquote>\n<p>However when I try to <code>getSourceDataLine</code> and then open it, I am getting the exception:</p>\n<p>javax.sound.sampled.LineUnavailableException: line with format PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, big-endian not supported.\nat java.desktop/com.sun.media.sound.DirectAudioDevice$DirectDL.implOpen(DirectAudioDevice.java:484)\nat java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:115)\nat java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:357)\nat photoorganizer.formats.M4A$MP4Player.playLoop(M4A.java:204)\nat photoorganizer.formats.SimpleMediaFormat$SimpleMediaPlayer.run(SimpleMediaFormat.java:323)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>There is the code snippet:</p>\n<pre><code>//create audio format\nfmt = new AudioFormat(track.getSampleRate(), track.getSampleSize(), track.getChannelCount(), true, true);\nline = AudioSystem.getSourceDataLine(fmt);\nline.open();\nline.start();\n</code></pre>\n<p>I use Oracle JVM 17.7. Linux details:</p>\n<blockquote>\n<p>NAME=&quot;Ubuntu&quot;\nVERSION=&quot;20.04.6 LTS (Focal Fossa)&quot;\nID=ubuntu\nID_LIKE=debian\nPRETTY_NAME=&quot;Orange Pi 1.1.6 Focal&quot;\nVERSION_ID=&quot;20.04&quot;\nHOME_URL=&quot;https://www.ubuntu.com/&quot;\nSUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\nBUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\nPRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\nVERSION_CODENAME=focal\nUBUNTU_CODENAME=focal</p>\n</blockquote>\n<p>JVM details:</p>\n<blockquote>\n<p>java.vm.specification.vendor  Oracle Corporation\njava.specification.name   Java Platform API Specification\nsun.management.compiler   HotSpot 64-Bit Tiered Compilers\njava.runtime.version  17.0.7+8-LTS-224</p>\n</blockquote>\n"},{"tags":["java","android","startactivityforresult","android-mediaprojection"],"owner":{"account_id":28864258,"reputation":1,"user_id":22107358,"display_name":"Bekhzod Abduraufov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687486228,"creation_date":1687486153,"question_id":76536708,"body_markdown":"I am developing an android app that requires screen capturing. I am using [MediaProjectionManager](https://developer.android.com/reference/android/media/projection/MediaProjectionManager) to take screen shots. The problem is the permission dialog is being displayed for a sec and **closing immediately**.\r\n[Permission Dialog](https://i.stack.imgur.com/TE4q8.png)\r\n\r\nThis is how I am calling the `startActivityForResult`\r\n\r\n```\r\n          Intent intent = ((MediaProjectionManager)     activity.getSystemService(Context.MEDIA_PROJECTION_SERVICE)).createScreenCaptureIntent();\r\n            intent.setFlags(0);\r\n            activity.startActivityForResult(intent, RUN_TEST_CODE);\r\n```\r\n\r\n\r\nSo far I&#39;ve tried \r\n   - setting `standard` or `singleTop ` launch mode in Activity.\r\n   - setting `Intent.FLAG_ACTIVITY_NEW_TASK` in Intent\r\n   - setting `in.setFlags(0);` in Intent\r\n","title":"Recording and Casting permission dialog is getting canceled immediately","body":"<p>I am developing an android app that requires screen capturing. I am using <a href=\"https://developer.android.com/reference/android/media/projection/MediaProjectionManager\" rel=\"nofollow noreferrer\">MediaProjectionManager</a> to take screen shots. The problem is the permission dialog is being displayed for a sec and <strong>closing immediately</strong>.\n<a href=\"https://i.stack.imgur.com/TE4q8.png\" rel=\"nofollow noreferrer\">Permission Dialog</a></p>\n<p>This is how I am calling the <code>startActivityForResult</code></p>\n<pre><code>          Intent intent = ((MediaProjectionManager)     activity.getSystemService(Context.MEDIA_PROJECTION_SERVICE)).createScreenCaptureIntent();\n            intent.setFlags(0);\n            activity.startActivityForResult(intent, RUN_TEST_CODE);\n</code></pre>\n<p>So far I've tried</p>\n<ul>\n<li>setting <code>standard</code> or <code>singleTop </code> launch mode in Activity.</li>\n<li>setting <code>Intent.FLAG_ACTIVITY_NEW_TASK</code> in Intent</li>\n<li>setting <code>in.setFlags(0);</code> in Intent</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1687484868,"post_id":76536621,"comment_id":134946922,"body_markdown":"I suggest that you use a debugger and step through the code.","body":"I suggest that you use a debugger and step through the code."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687486700,"post_id":76536621,"comment_id":134947059,"body_markdown":"Each of those bracketed structures, `{ }`, are containers for data.  You can access the data of the containers, from other containers.","body":"Each of those bracketed structures, <code>{ }</code>, are containers for data.  You can access the data of the containers, from other containers."}],"answers":[{"tags":[],"owner":{"account_id":28658835,"reputation":46,"user_id":21944177,"display_name":"개구신"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687485389,"creation_date":1687485389,"answer_id":76536674,"question_id":76536621,"body_markdown":"call &quot;super constructor&quot;\r\n\r\nlike this....\r\n\r\n    class AquaticAnimal extends Animal {\r\n    \tpublic AquaticAnimal() {\r\n    \t\tSystem.out.println(&quot;AquaticAnimal!&quot;);\r\n    \t}\r\n    \tpublic AquaticAnimal(String name) {\r\n    \t\tthis(name, 0);\r\n    \t\tSystem.out.println(name);\r\n    \t}\r\n    \tpublic AquaticAnimal(String name, int legs) {\r\n            super(name, legs);\r\n    \t\tSystem.out.println(\r\n    \t\t\t\tname + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    \t}\r\n    }","title":"What is the flow of this program? I already know the output but I want to know how to get there","body":"<p>call &quot;super constructor&quot;</p>\n<p>like this....</p>\n<pre><code>class AquaticAnimal extends Animal {\n    public AquaticAnimal() {\n        System.out.println(&quot;AquaticAnimal!&quot;);\n    }\n    public AquaticAnimal(String name) {\n        this(name, 0);\n        System.out.println(name);\n    }\n    public AquaticAnimal(String name, int legs) {\n        super(name, legs);\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28876673,"reputation":21,"user_id":22117049,"display_name":"Jayden Morillo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687486101,"creation_date":1687484329,"question_id":76536621,"body_markdown":"```\r\npublic class MainClassInheritance {\r\n    public static void main(String[] args) {\r\n        Animal animal = new Animal(&quot;Animal&quot;);\r\n        Animal shark = new AquaticAnimal(&quot;Dolphin&quot;);\r\n        Animal horse = new TerrestialAnimal(&quot;Horse&quot;);\r\n        Animal lion = new WildAnimal(&quot;Tiger&quot;);\r\n        System.out.println(horse);\r\n    }\r\n}\r\nclass Animal {\r\n    public Animal() {\r\n        System.out.println(&quot;Animal!&quot;);\r\n    }\r\n    public Animal(String name) {\r\n        this(name, 0);\r\n    }\r\n    public Animal(String name, int legs) {\r\n        System.out.println(\r\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return &quot;I&#39;m an animal!&quot;;\r\n    }\r\n}\r\nclass AquaticAnimal extends Animal {\r\n    public AquaticAnimal() {\r\n        System.out.println(&quot;AquaticAnimal!&quot;);\r\n    }\r\n    public AquaticAnimal(String name) {\r\n        this(name, 0);\r\n        System.out.println(name);\r\n    }\r\n    public AquaticAnimal(String name, int legs) {\r\n        System.out.println(\r\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    }\r\n}\r\nclass TerrestialAnimal extends Animal {\r\n    public TerrestialAnimal() {\r\n        System.out.println(&quot;TerrestialAnimal!&quot;);\r\n    }\r\n    public TerrestialAnimal(String name) {\r\n        this(name, 4);\r\n        System.out.println(name);\r\n    }\r\n    public TerrestialAnimal(String name, int legs) {\r\n        super(name, legs);\r\n        System.out.println(\r\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    }\r\n}\r\nclass WildAnimal extends TerrestialAnimal {\r\n    public WildAnimal() {\r\n        System.out.println(&quot;WildAnimal!&quot;);\r\n    }\r\n    public WildAnimal(String name) {\r\n        this(name, 4);\r\n        System.out.println(name);\r\n    }\r\n    public WildAnimal(String name, int legs) {\r\n        System.out.println(\r\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am genuinely interested in grasping the concepts of computer science problem-solving. I have a strong desire to explore the fascinating world of algorithms, data structures, and programming languages.\r\nI also tried chatGPT but it gave me the wrong answer.\r\nI want to understand the output of the program.\r\nwhich is:\r\n\r\n    Animal has no legs\r\n    Animal!\r\n    Dolphin has no legs\r\n    Dolphin\r\n    Horse has 4 legs\r\n    Horse has 4 legs\r\n    Horse\r\n    Animal!\r\n    TerrestialAnimal!\r\n    Tiger has 4 legs\r\n    Tiger\r\n    I&#39;m an animal!\r\n\r\n","title":"What is the flow of this program? I already know the output but I want to know how to get there","body":"<pre><code>public class MainClassInheritance {\n    public static void main(String[] args) {\n        Animal animal = new Animal(&quot;Animal&quot;);\n        Animal shark = new AquaticAnimal(&quot;Dolphin&quot;);\n        Animal horse = new TerrestialAnimal(&quot;Horse&quot;);\n        Animal lion = new WildAnimal(&quot;Tiger&quot;);\n        System.out.println(horse);\n    }\n}\nclass Animal {\n    public Animal() {\n        System.out.println(&quot;Animal!&quot;);\n    }\n    public Animal(String name) {\n        this(name, 0);\n    }\n    public Animal(String name, int legs) {\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n    @Override\n    public String toString() {\n        return &quot;I'm an animal!&quot;;\n    }\n}\nclass AquaticAnimal extends Animal {\n    public AquaticAnimal() {\n        System.out.println(&quot;AquaticAnimal!&quot;);\n    }\n    public AquaticAnimal(String name) {\n        this(name, 0);\n        System.out.println(name);\n    }\n    public AquaticAnimal(String name, int legs) {\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n}\nclass TerrestialAnimal extends Animal {\n    public TerrestialAnimal() {\n        System.out.println(&quot;TerrestialAnimal!&quot;);\n    }\n    public TerrestialAnimal(String name) {\n        this(name, 4);\n        System.out.println(name);\n    }\n    public TerrestialAnimal(String name, int legs) {\n        super(name, legs);\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n}\nclass WildAnimal extends TerrestialAnimal {\n    public WildAnimal() {\n        System.out.println(&quot;WildAnimal!&quot;);\n    }\n    public WildAnimal(String name) {\n        this(name, 4);\n        System.out.println(name);\n    }\n    public WildAnimal(String name, int legs) {\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n}\n</code></pre>\n<p>I am genuinely interested in grasping the concepts of computer science problem-solving. I have a strong desire to explore the fascinating world of algorithms, data structures, and programming languages.\nI also tried chatGPT but it gave me the wrong answer.\nI want to understand the output of the program.\nwhich is:</p>\n<pre><code>Animal has no legs\nAnimal!\nDolphin has no legs\nDolphin\nHorse has 4 legs\nHorse has 4 legs\nHorse\nAnimal!\nTerrestialAnimal!\nTiger has 4 legs\nTiger\nI'm an animal!\n</code></pre>\n"},{"tags":["java","spring","spring-boot","cxml"],"owner":{"account_id":7036349,"reputation":451,"user_id":5390315,"accept_rate":77,"display_name":"Bert Alfred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687486097,"creation_date":1500494343,"question_id":45199946,"body_markdown":"I am attempting to write a service to accept punch out data and am required to accept the data as [cXML][1]. I attempted to generate some models via the psd and bind that to misprint boot app. However, it does not unmarshall the data:\r\n\r\n&gt; Failed to read HTTP message: \r\n&gt; org.springframework.http.converter.HttpMessageNotReadableException:\r\n&gt; Could  not unmarshal to [class com.a.internet.models.CXML]: null;\r\n&gt; nested exception is javax.xml.bind.UnmarshalException\r\n\r\nI&#39;m hoping I could fiddle with the binding but am unfamiliar with cXML or how to tweak this to accepts it. Any guidance is greatly appreciated.\r\n\r\n  [1]: http://xml.cxml.org/current/cXMLUsersGuide.pdf","title":"Spring boot to accepts cXML?","body":"<p>I am attempting to write a service to accept punch out data and am required to accept the data as <a href=\"http://xml.cxml.org/current/cXMLUsersGuide.pdf\" rel=\"nofollow noreferrer\">cXML</a>. I attempted to generate some models via the psd and bind that to misprint boot app. However, it does not unmarshall the data:</p>\n\n<blockquote>\n  <p>Failed to read HTTP message: \n  org.springframework.http.converter.HttpMessageNotReadableException:\n  Could  not unmarshal to [class com.a.internet.models.CXML]: null;\n  nested exception is javax.xml.bind.UnmarshalException</p>\n</blockquote>\n\n<p>I'm hoping I could fiddle with the binding but am unfamiliar with cXML or how to tweak this to accepts it. Any guidance is greatly appreciated.</p>\n"},{"tags":["java","regex","splunk"],"answers":[{"tags":[],"owner":{"account_id":1723011,"reputation":4272,"user_id":1578298,"accept_rate":47,"display_name":"Vijaya Pandey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687485173,"creation_date":1687485173,"answer_id":76536663,"question_id":76536628,"body_markdown":"Although your regular expression `&quot;statusCode&quot;:([\\d]*)` is correct to capture the statusCode, I think it would work if you put escape characters for `&quot;` and specify a named group.\r\n\r\nSo, the regex would be: `\\&quot;statusCode\\&quot;:(?&lt;statusCode&gt;[\\d]*)`\r\n\r\n\r\nSo, the final Splunk query would look like:\r\n\r\n    index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot; \r\n    | rex &quot;\\&quot;statusCode\\&quot;:(?&lt;statusCode&gt;[\\d]*)&quot; \r\n    | stats count by statusCode \r\n\r\n\r\nDemo for regex match and named capture group:\r\n[https://regex101.com/r/UWdib7/1][1] \r\n\r\n\r\n  [1]: https://regex101.com/r/UWdib7/1","title":"Extract http status code from the log result in Splunk","body":"<p>Although your regular expression <code>&quot;statusCode&quot;:([\\d]*)</code> is correct to capture the statusCode, I think it would work if you put escape characters for <code>&quot;</code> and specify a named group.</p>\n<p>So, the regex would be: <code>\\&quot;statusCode\\&quot;:(?&lt;statusCode&gt;[\\d]*)</code></p>\n<p>So, the final Splunk query would look like:</p>\n<pre><code>index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot; \n| rex &quot;\\&quot;statusCode\\&quot;:(?&lt;statusCode&gt;[\\d]*)&quot; \n| stats count by statusCode \n</code></pre>\n<p>Demo for regex match and named capture group:\n<a href=\"https://regex101.com/r/UWdib7/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/UWdib7/1</a></p>\n"}],"owner":{"account_id":28877335,"reputation":23,"user_id":22117554,"display_name":"schanjr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76536663,"answer_count":1,"score":2,"last_activity_date":1687485173,"creation_date":1687484557,"question_id":76536628,"body_markdown":"I am using the following Splunk query to get all the response content and their corresponding response status code.\r\n\r\n`index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot;`\r\n\r\nSample response log from the above Splunk query looks like:\r\n\t\r\n`||INFO||||Response:{&quot;requestId:&quot;369018b6-0fd4-11ee-be56-0242ac120002&quot;,&quot;headers&quot;:{&quot;Content-Type&quot;:[&quot;application/json&quot;]},&quot;url&quot;:&quot;https://sample-service.abcCompany.com&quot;,&quot;statusCode&quot;:200,&quot;method&quot;:&quot;POST&quot;,&quot;timeTaken&quot;:98,&quot;body&quot;:{&quot;..&quot;:&quot;..&quot;,&quot;...&quot;:&quot;...&quot;}}`\r\n\r\nI am trying to extract the `statusCode `as a field so that I can see the number of occurrences of each http statusCode from the service response.\r\n\r\n\r\n\r\nHere is the regular expression I tried to extract statusCode:\r\n`&quot;statusCode&quot;:([\\d]*)`\r\n\r\nI tried using above regular expression in the Splunk query:\r\n`index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot; | rex &quot;statusCode&quot;:([\\d]*)`\r\n\r\nBut got Error in the search parser:\r\n`Error in &#39;SearchParser&#39;: Missing a search command before &#39;\\&#39;.`\r\nNot sure how to implement this to extract the statusCode field so that I can visualize the number of occurrences of each statusCode.\r\n\r\nMy expected result sample is:\r\n\r\n| statusCode| count  |\r\n| --------  | -------|\r\n| 200       | 5000   |\r\n| 404       | 4      |\r\n\r\n\r\n\r\n","title":"Extract http status code from the log result in Splunk","body":"<p>I am using the following Splunk query to get all the response content and their corresponding response status code.</p>\n<p><code>index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot;</code></p>\n<p>Sample response log from the above Splunk query looks like:</p>\n<p><code>||INFO||||Response:{&quot;requestId:&quot;369018b6-0fd4-11ee-be56-0242ac120002&quot;,&quot;headers&quot;:{&quot;Content-Type&quot;:[&quot;application/json&quot;]},&quot;url&quot;:&quot;https://sample-service.abcCompany.com&quot;,&quot;statusCode&quot;:200,&quot;method&quot;:&quot;POST&quot;,&quot;timeTaken&quot;:98,&quot;body&quot;:{&quot;..&quot;:&quot;..&quot;,&quot;...&quot;:&quot;...&quot;}}</code></p>\n<p>I am trying to extract the <code>statusCode </code>as a field so that I can see the number of occurrences of each http statusCode from the service response.</p>\n<p>Here is the regular expression I tried to extract statusCode:\n<code>&quot;statusCode&quot;:([\\d]*)</code></p>\n<p>I tried using above regular expression in the Splunk query:\n<code>index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot; | rex &quot;statusCode&quot;:([\\d]*)</code></p>\n<p>But got Error in the search parser:\n<code>Error in 'SearchParser': Missing a search command before '\\'.</code>\nNot sure how to implement this to extract the statusCode field so that I can visualize the number of occurrences of each statusCode.</p>\n<p>My expected result sample is:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>statusCode</th>\n<th>count</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>200</td>\n<td>5000</td>\n</tr>\n<tr>\n<td>404</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1004640,"reputation":16474,"user_id":4560142,"display_name":"Vojtech Ruzicka"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1687485131,"creation_date":1464177794,"answer_id":37436540,"question_id":37431594,"body_markdown":"After &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;C&lt;/kbd&gt;, press this shortcut again, which shows dialog with more options.\r\n\r\nThere is a visibility section. If you select private here, it will be the new default when extracting constants the next time.\r\n\r\nSee the IntelliJ IDEA documentation: https://www.jetbrains.com/help/idea/extract-constant.html\r\n\r\n[![introduce constant dialogue][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/N75WA.png","title":"How can I default constants in IntelliJ to private?","body":"<p>After <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>C</kbd>, press this shortcut again, which shows dialog with more options.</p>\n<p>There is a visibility section. If you select private here, it will be the new default when extracting constants the next time.</p>\n<p>See the IntelliJ IDEA documentation: <a href=\"https://www.jetbrains.com/help/idea/extract-constant.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/extract-constant.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/N75WA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N75WA.png\" alt=\"introduce constant dialogue\" /></a></p>\n"}],"owner":{"account_id":3698,"reputation":36043,"user_id":5363,"accept_rate":71,"display_name":"Grzenio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1915,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":37436540,"answer_count":1,"score":14,"last_activity_date":1687485131,"creation_date":1464164639,"question_id":37431594,"body_markdown":"When I am creating a constant in IntelliJ (using Ctrl+Alt+C), by default it is `public static final`. How can I make it `private static final` instead?","title":"How can I default constants in IntelliJ to private?","body":"<p>When I am creating a constant in IntelliJ (using Ctrl+Alt+C), by default it is <code>public static final</code>. How can I make it <code>private static final</code> instead?</p>\n"},{"tags":["java","spring","spring-boot","integration-testing","spring-test"],"comments":[{"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"score":0,"creation_date":1459414248,"post_id":36328213,"comment_id":60279263,"body_markdown":"Assuming you are using JUnit, then the start and stop server actions can take place in the setup and teardown methods. All tests in the same class can then use the server instance.","body":"Assuming you are using JUnit, then the start and stop server actions can take place in the setup and teardown methods. All tests in the same class can then use the server instance."},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":1,"creation_date":1459414941,"post_id":36328213,"comment_id":60279804,"body_markdown":"You don&#39;t need setup or tear down, as Spring will do it for you. Question was about creating a set of classes under a single suite.","body":"You don&#39;t need setup or tear down, as Spring will do it for you. Question was about creating a set of classes under a single suite."},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1459417248,"post_id":36328213,"comment_id":60281547,"body_markdown":"http://stackoverflow.com/questions/6580670/testsuite-setup-in-junit-4","body":"<a href=\"http://stackoverflow.com/questions/6580670/testsuite-setup-in-junit-4\" title=\"testsuite setup in junit 4\">stackoverflow.com/questions/6580670/testsuite-setup-in-junit&zwnj;&#8203;-4</a>"},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":0,"creation_date":1459420697,"post_id":36328213,"comment_id":60284021,"body_markdown":"That a nice option, but it needs a different runner, and so we won&#39;t able to use spring runner. But its a good option if we want to run the test server manually.","body":"That a nice option, but it needs a different runner, and so we won&#39;t able to use spring runner. But its a good option if we want to run the test server manually."},{"owner":{"account_id":1126637,"reputation":24248,"user_id":1113772,"accept_rate":100,"display_name":"Paul Sweatte"},"score":1,"creation_date":1481129853,"post_id":36328213,"comment_id":69253354,"body_markdown":"Possible duplicate of [If a Java EE application is designed to run in a Tomcat container, should all integration tests run in a similar container?](http://stackoverflow.com/questions/9657249/if-a-java-ee-application-is-designed-to-run-in-a-tomcat-container-should-all-in)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/9657249/if-a-java-ee-application-is-designed-to-run-in-a-tomcat-container-should-all-in\">If a Java EE application is designed to run in a Tomcat container, should all integration tests run in a similar container?</a>"}],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1687484731,"creation_date":1459413434,"question_id":36328213,"body_markdown":"I am writing a set of integration tests and each test class start the server and stop the server, which takes long time. Is it possible to create a test suite, where a single instance of server can be used for a set of test classes?\r\n\r\nThanks,\r\nManish ","title":"Single server instance should run all the integration test in spring boot application","body":"<p>I am writing a set of integration tests and each test class start the server and stop the server, which takes long time. Is it possible to create a test suite, where a single instance of server can be used for a set of test classes?</p>\n\n<p>Thanks,\nManish </p>\n"},{"tags":["java","spring-boot","mybatis","typehandler"],"answers":[{"tags":[],"owner":{"account_id":432990,"reputation":1632,"user_id":818072,"accept_rate":82,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687484529,"creation_date":1687484529,"answer_id":76536625,"question_id":76526654,"body_markdown":"It looks like I ran into a MyBatis bug, where enums don&#39;t play nice if they override some method, like so\r\n\r\n```\r\npublic enum Foo {\r\n  VALUE_A(&quot;A&quot;),\r\n  VALUE_B(&quot;B&quot;) {\r\n    public String bar() {\r\n      return &quot;I am NOT a teapot&quot;;\r\n    }\r\n  };\r\n\r\n  String value;\r\n\r\n  public String bar() {\r\n    return &quot;I am a teapot&quot;;\r\n  }\r\n\r\n}\r\n```\r\n\r\nAfter much experimenting, I realized that `VALUE_A` works without issues, both reading from and writing to the database. I don&#39;t need the `@MappedJdbcTypes` annotation at all. `VALUE_B` on the other hand breaks everything.\r\nI refactored the enum and moved the method out to a utility class and life is good now.","title":"MyBatis enum type handler only works for either reads or writes, not both","body":"<p>It looks like I ran into a MyBatis bug, where enums don't play nice if they override some method, like so</p>\n<pre><code>public enum Foo {\n  VALUE_A(&quot;A&quot;),\n  VALUE_B(&quot;B&quot;) {\n    public String bar() {\n      return &quot;I am NOT a teapot&quot;;\n    }\n  };\n\n  String value;\n\n  public String bar() {\n    return &quot;I am a teapot&quot;;\n  }\n\n}\n</code></pre>\n<p>After much experimenting, I realized that <code>VALUE_A</code> works without issues, both reading from and writing to the database. I don't need the <code>@MappedJdbcTypes</code> annotation at all. <code>VALUE_B</code> on the other hand breaks everything.\nI refactored the enum and moved the method out to a utility class and life is good now.</p>\n"}],"owner":{"account_id":432990,"reputation":1632,"user_id":818072,"accept_rate":82,"display_name":"Egor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687484529,"creation_date":1687376749,"question_id":76526654,"body_markdown":"I have a spring boot project using mybatis 3.5.9 and I&#39;m trying to add a custom type handler for an enum that looks like\r\n```\r\npublic enum Foo {\r\n  VALUE_A(&quot;A&quot;),\r\n  VALUE_B(&quot;B&quot;);\r\n\r\n  String value;\r\n  //getters and such...\r\n}\r\n```\r\n\r\nI added `mybatis.type-handlers-package` to application properties\r\n\r\nThe handler is a pretty standard\r\n```\r\n@MappedTypes(Foo.class)\r\npublic class FooHandler implements TypeHandler&lt;Foo&gt; {\r\n//the usual setParameter and getResult overrides\r\n}\r\n```\r\nWhen reading data this works fine, I can put a breakpoint in the handler and I see that it&#39;s being used and I get my enum. When writing, however, the type handler isn&#39;t being used, mybatis is trying to write the full &quot;VALUE_A&quot; to the DB column. \r\n\r\nOn the other hand, if I annotate it with the mapped JDBC type like\r\n```\r\n@MappedTypes(Foo.class)\r\n@MappedJdbcTypes(JdbcType.VARCHAR)\r\npublic class FooHandler implements TypeHandler&lt;Foo&gt; {\r\n//the usual setParameter and getResult overrides\r\n}\r\n```\r\nThen writing works fine but reading doesn&#39;t. \r\nI can solve the problem by getting rid of the jdbc type annotation and sticking an explicit `typeHandler=com.example.FooHandler}` into every SQL statement, but I have a lot of mappers and really this should just work globally, shouldn&#39;t it?","title":"MyBatis enum type handler only works for either reads or writes, not both","body":"<p>I have a spring boot project using mybatis 3.5.9 and I'm trying to add a custom type handler for an enum that looks like</p>\n<pre><code>public enum Foo {\n  VALUE_A(&quot;A&quot;),\n  VALUE_B(&quot;B&quot;);\n\n  String value;\n  //getters and such...\n}\n</code></pre>\n<p>I added <code>mybatis.type-handlers-package</code> to application properties</p>\n<p>The handler is a pretty standard</p>\n<pre><code>@MappedTypes(Foo.class)\npublic class FooHandler implements TypeHandler&lt;Foo&gt; {\n//the usual setParameter and getResult overrides\n}\n</code></pre>\n<p>When reading data this works fine, I can put a breakpoint in the handler and I see that it's being used and I get my enum. When writing, however, the type handler isn't being used, mybatis is trying to write the full &quot;VALUE_A&quot; to the DB column.</p>\n<p>On the other hand, if I annotate it with the mapped JDBC type like</p>\n<pre><code>@MappedTypes(Foo.class)\n@MappedJdbcTypes(JdbcType.VARCHAR)\npublic class FooHandler implements TypeHandler&lt;Foo&gt; {\n//the usual setParameter and getResult overrides\n}\n</code></pre>\n<p>Then writing works fine but reading doesn't.\nI can solve the problem by getting rid of the jdbc type annotation and sticking an explicit <code>typeHandler=com.example.FooHandler}</code> into every SQL statement, but I have a lot of mappers and really this should just work globally, shouldn't it?</p>\n"},{"tags":["java","sql","postgresql","spring-boot","testing"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687494819,"post_id":76337511,"comment_id":134947655,"body_markdown":"What wrong with using env vars to set query params?","body":"What wrong with using env vars to set query params?"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1687497857,"post_id":76337511,"comment_id":134947911,"body_markdown":"@Bohemian I&#39;m not sure what you mean. You can use env variables to set query params, but I&#39;m talking SQL scripts","body":"@Bohemian I&#39;m not sure what you mean. You can use env variables to set query params, but I&#39;m talking SQL scripts"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687483816,"creation_date":1685072371,"question_id":76337511,"body_markdown":"Suppose, I have a script like this\r\n```sql\r\nINSERT INTO permissions(id, name, created_date, modified_date)\r\nVALUES (1, &#39;ADMIN&#39;, current_timestamp, current_timestamp),\r\n       (2, &#39;MODERATOR&#39;, current_timestamp, current_timestamp),\r\n       (3, &#39;USER&#39;, current_timestamp, current_timestamp);\r\n\r\nINSERT INTO accounts(id, username, password, enabled, created_date, modified_date)\r\nVALUES (1, &#39;mickey_m&#39;, &#39;$2y$10$ZdqfOo1vwdHJJGnkmGrw/OUelZcU9ZfRFaX/RMN3XniXH96eTkB1e&#39;, true, current_timestamp,\r\n        current_timestamp),\r\n    (2, &#39;minerva_m&#39;, &#39;$2y$10$PiZxGGi904rCLdTSGY1ycuQhcEtQrP1u74KvQ2IEuk5Jh18Ml.6xO&#39;, true, current_timestamp,\r\n     current_timestamp);\r\n\r\nINSERT INTO accounts_permissions(account_id, permission_id)\r\nVALUES (1, 3),\r\n       (2, 3);\r\n    &lt;!-- and so on --&gt;\r\n```\r\nI may then, for example, use it in an `@Sql` annotation\r\n```sql\r\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;CreateCommentTest/before.sql&quot;)\r\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;CreateCommentTest/after.sql&quot;)\r\n    @Test\r\n    public void createCommentTest() throws Exception {\r\n```\r\nThe values in the script are hard-coded, e.g. usernames, passwords. It&#39;s relatively straightforward to reference a properties file&#39;s keys in a Java file, though it&#39;s less clear to me how I can do the same thing in an SQL file. Perfunctory googling or searching on SO didn&#39;t help\r\n\r\n**How do I do it (if it&#39;s possible)?**","title":"Can I reference environment variables in my SQL script in a Spring Boot app? How?","body":"<p>Suppose, I have a script like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO permissions(id, name, created_date, modified_date)\nVALUES (1, 'ADMIN', current_timestamp, current_timestamp),\n       (2, 'MODERATOR', current_timestamp, current_timestamp),\n       (3, 'USER', current_timestamp, current_timestamp);\n\nINSERT INTO accounts(id, username, password, enabled, created_date, modified_date)\nVALUES (1, 'mickey_m', '$2y$10$ZdqfOo1vwdHJJGnkmGrw/OUelZcU9ZfRFaX/RMN3XniXH96eTkB1e', true, current_timestamp,\n        current_timestamp),\n    (2, 'minerva_m', '$2y$10$PiZxGGi904rCLdTSGY1ycuQhcEtQrP1u74KvQ2IEuk5Jh18Ml.6xO', true, current_timestamp,\n     current_timestamp);\n\nINSERT INTO accounts_permissions(account_id, permission_id)\nVALUES (1, 3),\n       (2, 3);\n    &lt;!-- and so on --&gt;\n</code></pre>\n<p>I may then, for example, use it in an <code>@Sql</code> annotation</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;CreateCommentTest/before.sql&quot;)\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;CreateCommentTest/after.sql&quot;)\n    @Test\n    public void createCommentTest() throws Exception {\n</code></pre>\n<p>The values in the script are hard-coded, e.g. usernames, passwords. It's relatively straightforward to reference a properties file's keys in a Java file, though it's less clear to me how I can do the same thing in an SQL file. Perfunctory googling or searching on SO didn't help</p>\n<p><strong>How do I do it (if it's possible)?</strong></p>\n"},{"tags":["java","spring-boot","jdbc","camunda"],"owner":{"account_id":28877219,"reputation":1,"user_id":22117476,"display_name":"nikobinev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687483476,"creation_date":1687482497,"question_id":76536550,"body_markdown":"Hello I am doing a camunda springboot project for my university coursework. I am currently trying to connect MySQL database to the project. When i try to do that i get the following error : \r\n\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-23 01:56:29.878 ERROR 1400 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat com.example.workflow.Application.main(Application.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\r\n\tat com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:164) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:131) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\t... 20 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried adding every dependency that might&#39;ve worked on older version, however with no success. I the Camunda documentation and downloaded the Nexus files that are required for creating the MySQL tables and checked the version multiple times.\r\n\r\nHere is my application.yaml file:\r\n\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/camunda\r\n    username: root\r\n    password: Gu8S6LNECEmCXRV\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n\r\ncamunda.bpm.admin-user:\r\n  id: demo\r\n  password: demo\r\n```\r\n\r\nHere is my pom.xml file dependencies that are important :\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.33&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n","title":"Camunda Spring Boot project","body":"<p>Hello I am doing a camunda springboot project for my university coursework. I am currently trying to connect MySQL database to the project. When i try to do that i get the following error :</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-06-23 01:56:29.878 ERROR 1400 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\n    at com.example.workflow.Application.main(Application.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.25.jar:5.3.25]\n    ... 19 common frames omitted\nCaused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\n    at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:164) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:131) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.25.jar:5.3.25]\n    ... 20 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I've tried adding every dependency that might've worked on older version, however with no success. I the Camunda documentation and downloaded the Nexus files that are required for creating the MySQL tables and checked the version multiple times.</p>\n<p>Here is my application.yaml file:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/camunda\n    username: root\n    password: Gu8S6LNECEmCXRV\n    driver-class-name: com.mysql.cj.jdbc.Driver\n\ncamunda.bpm.admin-user:\n  id: demo\n  password: demo\n</code></pre>\n<p>Here is my pom.xml file dependencies that are important :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n      &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1507560196,"post_id":46644570,"comment_id":80247313,"body_markdown":"Related: [No glyph for U+000D in font Helvetica](https://stackoverflow.com/questions/43738550/no-glyph-for-u000d-in-font-helvetica)","body":"Related: <a href=\"https://stackoverflow.com/questions/43738550/no-glyph-for-u000d-in-font-helvetica\">No glyph for U+000D in font Helvetica</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1512991992,"post_id":46644570,"comment_id":82464240,"body_markdown":"If you want to print INTO pdf, use the TextToPDF tool, or use its source code.","body":"If you want to print INTO pdf, use the TextToPDF tool, or use its source code."}],"answers":[{"tags":[],"owner":{"account_id":9816388,"reputation":1294,"user_id":7272763,"accept_rate":100,"display_name":"ibercode"},"down_vote_count":4,"up_vote_count":20,"is_accepted":true,"score":16,"last_activity_date":1507556964,"creation_date":1507545860,"answer_id":46644571,"question_id":46644570,"body_markdown":"[PROBLEM] The String you are trying to display contains a newline character.\r\n\r\n[SOLUTION] Replace the String with a new one and remove the newline:\r\n\r\n    text = text.replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot;\\r&quot;, &quot;&quot;);","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>[PROBLEM] The String you are trying to display contains a newline character.</p>\n\n<p>[SOLUTION] Replace the String with a new one and remove the newline:</p>\n\n<pre><code>text = text.replace(\"\\n\", \"\").replace(\"\\r\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512844960,"creation_date":1512844960,"answer_id":47731904,"question_id":46644570,"body_markdown":"if you are trying to set a new line using &quot;\\n&quot; in a string  . you can try         PDPageContentStream.newLineAtOffset(x,y)   to add a new line \r\n   \r\n      PDFont font =  PDType1Font.HELVETICA ; \r\n      \r\n      PDDocument doc    = new PDDocument();\r\n      PDPage page = new PDPage();\r\n      PDPageContentStream content = new PDPageContentStream(doc, page);\r\n      content.beginText();\r\n      content.moveTextPositionByAmount(10, 700);\r\n      content.setFont(font, 12);\r\n      content.drawString(&quot;start text   &quot;);\r\n      content.newLineAtOffset(0, -15);\r\n      content.drawString(&quot;text in new line  &quot;);        \r\n      content.endText();\r\n      content.close();\r\n      doc.addPage(page);\r\n      doc.save(&quot;file.pdf&quot;);\r\n\r\n\r\nand the pdf [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3xVf3.png","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>if you are trying to set a new line using \"\\n\" in a string  . you can try         PDPageContentStream.newLineAtOffset(x,y)   to add a new line </p>\n\n<pre><code>  PDFont font =  PDType1Font.HELVETICA ; \n\n  PDDocument doc    = new PDDocument();\n  PDPage page = new PDPage();\n  PDPageContentStream content = new PDPageContentStream(doc, page);\n  content.beginText();\n  content.moveTextPositionByAmount(10, 700);\n  content.setFont(font, 12);\n  content.drawString(\"start text   \");\n  content.newLineAtOffset(0, -15);\n  content.drawString(\"text in new line  \");        \n  content.endText();\n  content.close();\n  doc.addPage(page);\n  doc.save(\"file.pdf\");\n</code></pre>\n\n<p>and the pdf <a href=\"https://i.stack.imgur.com/3xVf3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3xVf3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7458958,"reputation":19,"user_id":5671206,"display_name":"What Dong"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562656497,"creation_date":1562656497,"answer_id":56947178,"question_id":46644570,"body_markdown":"Sometimes you have to change a font like :\r\n```\r\nPDFont font = PDType0Font.load(document, new File(&quot;C:\\\\Users\\\\dw\\\\Desktop\\\\FZLTXHJW.TTF&quot;));\r\n\r\n```\r\nReplace &quot;FZLTXHJW.TTF&quot; with the font you have and it should support your text encoding.","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>Sometimes you have to change a font like :</p>\n\n<pre><code>PDFont font = PDType0Font.load(document, new File(\"C:\\\\Users\\\\dw\\\\Desktop\\\\FZLTXHJW.TTF\"));\n\n</code></pre>\n\n<p>Replace \"FZLTXHJW.TTF\" with the font you have and it should support your text encoding.</p>\n"},{"tags":[],"owner":{"account_id":4954355,"reputation":276,"user_id":3987412,"display_name":"Abhinav Ganguly"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1567437940,"creation_date":1567437940,"answer_id":57759476,"question_id":46644570,"body_markdown":"If you&#39;d like to retain the newline addition, i.e you indeed want your text to split and appear the later part in new line, then you can simply replace the **\\n** with an HTML **break** tag, like below below .\r\n\r\n`        return text.replace(&quot;\\n&quot;,&quot;&lt;br&gt;&quot;);\r\n`\r\n\r\n:)\r\n","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>If you'd like to retain the newline addition, i.e you indeed want your text to split and appear the later part in new line, then you can simply replace the <strong>\\n</strong> with an HTML <strong>break</strong> tag, like below below .</p>\n\n<p><code>return text.replace(\"\\n\",\"&lt;br&gt;\");\n</code></p>\n\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1687482823,"creation_date":1568833523,"answer_id":57999336,"question_id":46644570,"body_markdown":"The answer selected for this post works, replacing all instances of \\n and \\r from your string, if you know that it&#39;s a \\n or \\r character that&#39;s causing your problem. I&#39;ve discovered that there are lots of different characters that will produce this error. Here&#39;s a sampling of those that I&#39;ve found:\r\n\r\n    U+2010 (&#39;hyphentwo&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+2033 (&#39;second&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+00A0 (&#39;nbspace&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+FFFD (&#39;.notdef&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+03BC (&#39;mugreek&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+039C (&#39;Mu&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+2212 (&#39;minus&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+0141 (&#39;Lslash&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+2103 (&#39;centigrade&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+25AA (&#39;H18543&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n\r\nIn my case, I&#39;ve simply chosen to remove any special character that&#39;s not included in my font. I used the solution from this page:\r\n\r\nhttps://stackoverflow.com/questions/42228567/remove-illegal-characters-from-string-with-pdfbox\r\n","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>The answer selected for this post works, replacing all instances of \\n and \\r from your string, if you know that it's a \\n or \\r character that's causing your problem. I've discovered that there are lots of different characters that will produce this error. Here's a sampling of those that I've found:</p>\n<pre><code>U+2010 ('hyphentwo') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+2033 ('second') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+00A0 ('nbspace') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+FFFD ('.notdef') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+03BC ('mugreek') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+039C ('Mu') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+2212 ('minus') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+0141 ('Lslash') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+2103 ('centigrade') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+25AA ('H18543') is not available in this font Helvetica encoding: WinAnsiEncoding\n</code></pre>\n<p>In my case, I've simply chosen to remove any special character that's not included in my font. I used the solution from this page:</p>\n<p><a href=\"https://stackoverflow.com/questions/42228567/remove-illegal-characters-from-string-with-pdfbox\">Remove illegal characters from string with PDFBox</a></p>\n"},{"tags":[],"owner":{"account_id":1548204,"reputation":1114,"user_id":1441210,"display_name":"andre"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600887648,"creation_date":1600887648,"answer_id":64034655,"question_id":46644570,"body_markdown":"I was running into a similar issue too (using pdfbox 2.0.11), my error was:\r\n```\r\nU+00A0 (&#39;nbspace&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n```\r\nWhich was strange because checking the WinAnsiEncoding for the char name (int value 160) returned `space`, but the internal classes of pdfbox was returning the name `nbspace`.\r\n\r\nThe solution for me was upgrading to pdfbox 2.0.21.","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>I was running into a similar issue too (using pdfbox 2.0.11), my error was:</p>\n<pre><code>U+00A0 ('nbspace') is not available in this font Helvetica encoding: WinAnsiEncoding\n</code></pre>\n<p>Which was strange because checking the WinAnsiEncoding for the char name (int value 160) returned <code>space</code>, but the internal classes of pdfbox was returning the name <code>nbspace</code>.</p>\n<p>The solution for me was upgrading to pdfbox 2.0.21.</p>\n"},{"tags":[],"owner":{"account_id":13758560,"reputation":13,"user_id":9928822,"display_name":"Peer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685088557,"creation_date":1684480758,"answer_id":76286842,"question_id":46644570,"body_markdown":"To remove all chars that can not be encoded by the font you use for PDF writing you can do something like:\r\n\r\n    \r\n\tPDType1Font font = PDType1Font.HELVETICA;    \r\n    public static void erasesControlCharacters(List&lt;String&gt; values) {\r\n\t\tString charSet = font.getFontDescriptor().getCharSet();\r\n\t\tfor (int i = 0; i &lt; values.size(); i++) {\r\n\r\n\t        StringBuilder b = new StringBuilder();\r\n\t        String test = values.get(i);\r\n\t\t\tfor (int charIndex = 0; charIndex &lt; test.length(); charIndex++) {\r\n\t            if (WinAnsiEncoding.INSTANCE.contains(test.charAt(charIndex)) &amp;&amp; charSet.contains(test.substring(charIndex, charIndex + 1))) {\r\n\t                b.append(test.charAt(charIndex));\r\n\t            }\r\n\t        }\r\n\t        values.set(i, b.toString());\r\n\t\t}\r\n\t}\r\n","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>To remove all chars that can not be encoded by the font you use for PDF writing you can do something like:</p>\n<pre><code>PDType1Font font = PDType1Font.HELVETICA;    \npublic static void erasesControlCharacters(List&lt;String&gt; values) {\n    String charSet = font.getFontDescriptor().getCharSet();\n    for (int i = 0; i &lt; values.size(); i++) {\n\n        StringBuilder b = new StringBuilder();\n        String test = values.get(i);\n        for (int charIndex = 0; charIndex &lt; test.length(); charIndex++) {\n            if (WinAnsiEncoding.INSTANCE.contains(test.charAt(charIndex)) &amp;&amp; charSet.contains(test.substring(charIndex, charIndex + 1))) {\n                b.append(test.charAt(charIndex));\n            }\n        }\n        values.set(i, b.toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1687471863,"creation_date":1687471863,"answer_id":76535960,"question_id":46644570,"body_markdown":"One of thing we found and helped is -- while you are making a HTTP call with this special encoding data to an external system - make sure you encode your JSON (if json) body to utf-8 charset before doing a API post. something like this below \r\n\r\n    httpPost.setEntity(new StringEntity(bodyJsonParams, &quot;UTF-8&quot;));\r\n\r\n","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>One of thing we found and helped is -- while you are making a HTTP call with this special encoding data to an external system - make sure you encode your JSON (if json) body to utf-8 charset before doing a API post. something like this below</p>\n<pre><code>httpPost.setEntity(new StringEntity(bodyJsonParams, &quot;UTF-8&quot;));\n</code></pre>\n"}],"owner":{"account_id":9816388,"reputation":1294,"user_id":7272763,"accept_rate":100,"display_name":"ibercode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29741,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":46644571,"answer_count":8,"score":18,"last_activity_date":1687482823,"creation_date":1507545860,"question_id":46644570,"body_markdown":"When trying to print a PDF page using Java and the `org.apache.pdfbox` library, I get this error:\r\n\r\n&gt; PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>When trying to print a PDF page using Java and the <code>org.apache.pdfbox</code> library, I get this error:</p>\n\n<blockquote>\n  <p>PDFBOX : U+000A ('controlLF') is not available in this font Helvetica encoding: WinAnsiEncoding</p>\n</blockquote>\n"},{"tags":["java","amazon-web-services","spring-boot","nginx","amazon-elastic-beanstalk"],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687481992,"creation_date":1687481992,"question_id":76536533,"body_markdown":"How can I configure NGINX to retry idempotent failed requests on a Spring Boot app deployed on AWS Elastic Beanstalk running Corretto 11 on 64-bit Amazon Linux 2?\r\n\r\nIf it is impossible to handle this with Nginx, can I handle it in the application?","title":"Configuring NGINX to Retry idempotent Failed Requests on AWS Elastic Beanstalk","body":"<p>How can I configure NGINX to retry idempotent failed requests on a Spring Boot app deployed on AWS Elastic Beanstalk running Corretto 11 on 64-bit Amazon Linux 2?</p>\n<p>If it is impossible to handle this with Nginx, can I handle it in the application?</p>\n"},{"tags":["java","arraylist","sub-array"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1554159115,"post_id":55464635,"comment_id":97641213,"body_markdown":"Java is an **Object-Oriented** language. Use it. Create classes, e.g. `Vehicle`, `Job`, and `Part`","body":"Java is an <b>Object-Oriented</b> language. Use it. Create classes, e.g. <code>Vehicle</code>, <code>Job</code>, and <code>Part</code>"},{"owner":{"account_id":3834329,"reputation":2561,"user_id":3179070,"display_name":"javapedia.net"},"score":1,"creation_date":1554159255,"post_id":55464635,"comment_id":97641255,"body_markdown":"class Vehicle { ArrayList&lt;job&gt; jobs =new ArrayList&lt;&gt;();} class Job { ArrayList&lt;Part&gt; jobSpecifics = new ArrayList&lt;&gt;();}","body":"class Vehicle { ArrayList&lt;job&gt; jobs =new ArrayList&lt;&gt;();} class Job { ArrayList&lt;Part&gt; jobSpecifics = new ArrayList&lt;&gt;();}"},{"owner":{"account_id":12622934,"reputation":1254,"user_id":9478327,"display_name":"David Alvarez"},"score":0,"creation_date":1554159506,"post_id":55464635,"comment_id":97641306,"body_markdown":"Maybe : `ArrayList&lt;ArrayList&lt;String&gt;&gt; mainArray = new ArrayList()` ?\nNot sure of what you really want","body":"Maybe : <code>ArrayList&lt;ArrayList&lt;String&gt;&gt; mainArray = new ArrayList()</code> ? Not sure of what you really want"},{"owner":{"account_id":14752876,"reputation":1,"user_id":10654446,"display_name":"Owen DeReus"},"score":0,"creation_date":1554159645,"post_id":55464635,"comment_id":97641343,"body_markdown":"I have the ArrayList to store the vehicle name.  I just don&#39;t know how to store the job and job specifics under a specific vehicle or specific job","body":"I have the ArrayList to store the vehicle name.  I just don&#39;t know how to store the job and job specifics under a specific vehicle or specific job"}],"answers":[{"tags":[],"owner":{"account_id":2744020,"reputation":5754,"user_id":2407870,"accept_rate":82,"display_name":"Chris Middleton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554159959,"creation_date":1554159179,"answer_id":55464661,"question_id":55464635,"body_markdown":"You could use a Map, specifically a HashMap to store the list of associations between keys and values, and use either a List or a Set, specifically a HashSet, to store the lists of values.\r\n\r\nBut as noted in the comments, it may be better to use a combination of that and classes.\r\n\r\nHere&#39;s one possible implementation. (You could make it shorter using utility classes for creating Sets and Maps, such as those from the Google Guava library or Apache Commons library.)\r\n\r\n\timport java.util.HashMap;\r\n\timport java.util.HashSet;\r\n\timport java.util.Map;\r\n\timport java.util.Set;\r\n\r\n\tclass Job {\r\n\t\tString model;\r\n\t\tMap&lt;String, Set&lt;String&gt;&gt; areas;\r\n\t\r\n\t\tpublic Job(String model, Map&lt;String, Set&lt;String&gt;&gt; areas) {\r\n\t\t\tthis.model = model;\r\n\t\t\tthis.areas = areas;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\tpublic class Example {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMap&lt;String, Set&lt;String&gt;&gt; areas = new HashMap&lt;&gt;();\r\n\t\t\tSet&lt;String&gt; sandingProblems = new HashSet&lt;&gt;();\r\n\t\t\tsandingProblems.add(&quot;Hood&quot;);\r\n\t\t\tsandingProblems.add(&quot;Doors&quot;);\r\n\t\t\tareas.put(&quot;Sanding&quot;, sandingProblems);\r\n\t\t\tSet&lt;String&gt; engineProblems = new HashSet&lt;&gt;();\r\n\t\t\tengineProblems.add(&quot;Oil panel seal&quot;);\r\n\t\t\tareas.put(&quot;Engine&quot;, engineProblems);\r\n\t\t\tSet&lt;String&gt; electricalProblems = new HashSet&lt;&gt;();\r\n\t\t\telectricalProblems.add(&quot;Oil pressure light&quot;);\r\n\t\t\telectricalProblems.add(&quot;Headlight switch&quot;);\r\n\t\t\tareas.put(&quot;Electrical&quot;, electricalProblems);\r\n\t\t\tJob job = new Job(&quot;Blue Spitfire&quot;, areas);\r\n\r\n\t\t\tSystem.out.println(job.model);\r\n\t\t\tfor (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry : areas.entrySet()) {\r\n\t\t\t\tSystem.out.println(&quot;\\t&quot; + entry.getKey());\r\n\t\t\t\tfor (String problem : entry.getValue()) {\r\n\t\t\t\t\tSystem.out.println(&quot;\\t\\t&quot; + problem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to I create a &quot;sub array-list&quot; for an element of a main array-list?","body":"<p>You could use a Map, specifically a HashMap to store the list of associations between keys and values, and use either a List or a Set, specifically a HashSet, to store the lists of values.</p>\n\n<p>But as noted in the comments, it may be better to use a combination of that and classes.</p>\n\n<p>Here's one possible implementation. (You could make it shorter using utility classes for creating Sets and Maps, such as those from the Google Guava library or Apache Commons library.)</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\nclass Job {\n    String model;\n    Map&lt;String, Set&lt;String&gt;&gt; areas;\n\n    public Job(String model, Map&lt;String, Set&lt;String&gt;&gt; areas) {\n        this.model = model;\n        this.areas = areas;\n    }\n\n}\n\npublic class Example {\n\n    public static void main(String[] args) {\n        Map&lt;String, Set&lt;String&gt;&gt; areas = new HashMap&lt;&gt;();\n        Set&lt;String&gt; sandingProblems = new HashSet&lt;&gt;();\n        sandingProblems.add(\"Hood\");\n        sandingProblems.add(\"Doors\");\n        areas.put(\"Sanding\", sandingProblems);\n        Set&lt;String&gt; engineProblems = new HashSet&lt;&gt;();\n        engineProblems.add(\"Oil panel seal\");\n        areas.put(\"Engine\", engineProblems);\n        Set&lt;String&gt; electricalProblems = new HashSet&lt;&gt;();\n        electricalProblems.add(\"Oil pressure light\");\n        electricalProblems.add(\"Headlight switch\");\n        areas.put(\"Electrical\", electricalProblems);\n        Job job = new Job(\"Blue Spitfire\", areas);\n\n        System.out.println(job.model);\n        for (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry : areas.entrySet()) {\n            System.out.println(\"\\t\" + entry.getKey());\n            for (String problem : entry.getValue()) {\n                System.out.println(\"\\t\\t\" + problem);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3834329,"reputation":2561,"user_id":3179070,"display_name":"javapedia.net"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687480588,"creation_date":1554160240,"answer_id":55464805,"question_id":55464635,"body_markdown":"Try this:\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    class Vehicle {\r\n    \t\r\n    \tVehicle(String vName) {\r\n    \t\tvehicleName= vName;\r\n    \t}\r\n    \tString vehicleName;\r\n    \tArrayList&lt;Job&gt; jobs = new ArrayList&lt;&gt;();\r\n    \r\n    \tvoid addJob(Job j) {\r\n    \t\tjobs.add(j);\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString returnString = vehicleName ;\r\n    \t\tfor (Job j: jobs) {\r\n    \t\t\treturnString = returnString+ &quot;\\r\\n\\t&quot;+ j.jobName;\r\n    \t\t\tfor (String jobSpecifics: j.jobsSpecifics) {\r\n    \t\t\t\treturnString = returnString+ &quot;\\r\\n\\t\\t&quot;+ jobSpecifics;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn returnString;\r\n    \t}\r\n    }\r\n    \r\n    class Job {\r\n    \tString jobName;\r\n    \tArrayList&lt;String&gt; jobsSpecifics = new ArrayList&lt;&gt;();\r\n    \tJob(String jobName) {\r\n    \t\tthis.jobName= jobName;\r\n    \t}\r\n    \tvoid addJobSpecifics(String s) {\r\n    \t\tjobsSpecifics.add (s);\r\n    \t}\r\n    }\r\n    \r\n    public class VehicleMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tVehicle v = new Vehicle(&quot;Blue Spitfire&quot;);\r\n    \t\tJob j= new Job(&quot;Sanding&quot;);\r\n    \t\tj.addJobSpecifics(&quot;Hood&quot;);\r\n    \t\tj.addJobSpecifics(&quot;Doors&quot;);\r\n    \t\tv.addJob(j);\r\n    \t\tSystem.out.println(v);\r\n    \t\t}\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p9NOa.png","title":"How to I create a &quot;sub array-list&quot; for an element of a main array-list?","body":"<p>Try this:</p>\n<pre><code>import java.util.ArrayList;\n\nclass Vehicle {\n    \n    Vehicle(String vName) {\n        vehicleName= vName;\n    }\n    String vehicleName;\n    ArrayList&lt;Job&gt; jobs = new ArrayList&lt;&gt;();\n\n    void addJob(Job j) {\n        jobs.add(j);\n    }\n    @Override\n    public String toString() {\n        // TODO Auto-generated method stub\n        String returnString = vehicleName ;\n        for (Job j: jobs) {\n            returnString = returnString+ &quot;\\r\\n\\t&quot;+ j.jobName;\n            for (String jobSpecifics: j.jobsSpecifics) {\n                returnString = returnString+ &quot;\\r\\n\\t\\t&quot;+ jobSpecifics;\n            }\n        }\n        return returnString;\n    }\n}\n\nclass Job {\n    String jobName;\n    ArrayList&lt;String&gt; jobsSpecifics = new ArrayList&lt;&gt;();\n    Job(String jobName) {\n        this.jobName= jobName;\n    }\n    void addJobSpecifics(String s) {\n        jobsSpecifics.add (s);\n    }\n}\n\npublic class VehicleMain {\n\n    public static void main(String[] args) {\n        \n        Vehicle v = new Vehicle(&quot;Blue Spitfire&quot;);\n        Job j= new Job(&quot;Sanding&quot;);\n        j.addJobSpecifics(&quot;Hood&quot;);\n        j.addJobSpecifics(&quot;Doors&quot;);\n        v.addJob(j);\n        System.out.println(v);\n        }\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/p9NOa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p9NOa.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14752876,"reputation":1,"user_id":10654446,"display_name":"Owen DeReus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1687480588,"creation_date":1554158992,"question_id":55464635,"body_markdown":"I am trying to create a program to display vehicle &quot;to-do&quot; lists.  Here is an example of what I would want the output to look like.\r\n\r\n     Blue Spitfire\r\n          Sanding\r\n               Hood\r\n               Doors\r\n          Engine\r\n               Oil pan seal\r\n          Electrical\r\n               Oil pressure light\r\n               Headlight switch\r\n\r\nRight now, I have one ArrayList to store the vehicle name (Blue Spitfire).  I am wondering how to store the job names (sanding, engine, electrical) and the specifics (hood, doors, oil pan seal etc) under each job number.\r\n\r\nTo summarize, the vehicle name stores the jobs, and the jobs store the specifics.  How do I do this?\r\n\r\nAny help is appreciated.","title":"How to I create a &quot;sub array-list&quot; for an element of a main array-list?","body":"<p>I am trying to create a program to display vehicle \"to-do\" lists.  Here is an example of what I would want the output to look like.</p>\n\n<pre><code> Blue Spitfire\n      Sanding\n           Hood\n           Doors\n      Engine\n           Oil pan seal\n      Electrical\n           Oil pressure light\n           Headlight switch\n</code></pre>\n\n<p>Right now, I have one ArrayList to store the vehicle name (Blue Spitfire).  I am wondering how to store the job names (sanding, engine, electrical) and the specifics (hood, doors, oil pan seal etc) under each job number.</p>\n\n<p>To summarize, the vehicle name stores the jobs, and the jobs store the specifics.  How do I do this?</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1684305600,"post_id":76267986,"comment_id":134496986,"body_markdown":"I&#39;d recommend you raise this issue at https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development to discuss it with the IDEA team directly.","body":"I&#39;d recommend you raise this issue at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/topics/&hellip;</a> to discuss it with the IDEA team directly."}],"answers":[{"tags":[],"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687480051,"creation_date":1687480051,"answer_id":76536438,"question_id":76267986,"body_markdown":"Eventually it was answered at intelij support: https://intellij-support.jetbrains.com/hc/en-us/community/posts/11522817858834-Get-method-in-which-PsiMethodCallExpression-is-used\r\nAll in all there is no trivial way to do this, but it&#39;s possible to iterate through the elements in the elements tree till you find `PsiMethod` and in general this should be it.\r\nHere is the code snippet which does the trick:\r\n```\r\nvar element = expression.getParent()\r\nwhile (element != null) {\r\n    if (element is PsiMethod) {\r\n        val method = element as PsiMethod\r\n        // do whatever you want to do with PsiMethod instance\r\n    } else {\r\n        element = element.getParent()\r\n    }\r\n}\r\n```","title":"Get method in which PsiMethodCallExpression is used","body":"<p>Eventually it was answered at intelij support: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/11522817858834-Get-method-in-which-PsiMethodCallExpression-is-used\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/11522817858834-Get-method-in-which-PsiMethodCallExpression-is-used</a>\nAll in all there is no trivial way to do this, but it's possible to iterate through the elements in the elements tree till you find <code>PsiMethod</code> and in general this should be it.\nHere is the code snippet which does the trick:</p>\n<pre><code>var element = expression.getParent()\nwhile (element != null) {\n    if (element is PsiMethod) {\n        val method = element as PsiMethod\n        // do whatever you want to do with PsiMethod instance\n    } else {\n        element = element.getParent()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76536438,"answer_count":1,"score":0,"last_activity_date":1687480051,"creation_date":1684286166,"question_id":76267986,"body_markdown":"Currently I&#39;m writing a code inspection in which I need to identify certain methods usages. For this purpose I&#39;m using `visitCallExpression(expression: PsiCallExpression)` and it works fine. However I need to understand in which method `PsiCallExpression` was called in order to skip inspection in certain cases. For example I want my inspection to be skipped in test classes and some specific methods. I already tried using `getUseScope`, but it&#39;s completely unclear how to proceed with the result and get fully qualified method name from it.","title":"Get method in which PsiMethodCallExpression is used","body":"<p>Currently I'm writing a code inspection in which I need to identify certain methods usages. For this purpose I'm using <code>visitCallExpression(expression: PsiCallExpression)</code> and it works fine. However I need to understand in which method <code>PsiCallExpression</code> was called in order to skip inspection in certain cases. For example I want my inspection to be skipped in test classes and some specific methods. I already tried using <code>getUseScope</code>, but it's completely unclear how to proceed with the result and get fully qualified method name from it.</p>\n"},{"tags":["java","spring-boot","junit","mockito","wiremock"],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1637074108,"creation_date":1566565889,"answer_id":57627064,"question_id":57626072,"body_markdown":"# For Java users\r\nBased on the [`WireMock`](http://wiremock.org/docs/configuration/) docs.\r\n\r\nThere are 3 possibilities to use WireMock in your tests :\r\n\r\n 1. If you are using Wiremock as JUnit 4 rule to configure the port use :\r\n````\r\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;\r\n\r\n...\r\n\r\n@Rule\r\npublic WireMockRule wireMockRule = new WireMockRule(wireMockConfig().port(8888));\r\n````\r\n 2. If you are using new instance and start it from your Test class (for example `@Before`) :\r\n````\r\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.options;\r\n\r\n...\r\n\r\npublic class Test {\r\n\r\n    WireMockServer wm;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        wm = new WireMockServer(options().port(8888));\r\n        wm.start();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        wm.stubFor(...);\r\n    }\r\n}\r\n````\r\n 3. With static configuration of default instance (not using new instance in your test) :\r\n````\r\nWireMock.configureFor(8888);\r\n````\r\n# For Kotlin users\r\n\r\nIf you are using kotlin you can add actual wiremock instance to `stubFor` and `verify` calls like `wm.stubFor()` and configure the port like in option 3 of this answer.","title":"Connection refused when using wiremock","body":"<h1>For Java users</h1>\n<p>Based on the <a href=\"http://wiremock.org/docs/configuration/\" rel=\"noreferrer\"><code>WireMock</code></a> docs.</p>\n<p>There are 3 possibilities to use WireMock in your tests :</p>\n<ol>\n<li>If you are using Wiremock as JUnit 4 rule to configure the port use :</li>\n</ol>\n<pre><code>import static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;\n\n...\n\n@Rule\npublic WireMockRule wireMockRule = new WireMockRule(wireMockConfig().port(8888));\n</code></pre>\n<ol start=\"2\">\n<li>If you are using new instance and start it from your Test class (for example <code>@Before</code>) :</li>\n</ol>\n<pre><code>import static com.github.tomakehurst.wiremock.core.WireMockConfiguration.options;\n\n...\n\npublic class Test {\n\n    WireMockServer wm;\n\n    @BeforeEach\n    void setUp() {\n        wm = new WireMockServer(options().port(8888));\n        wm.start();\n    }\n\n    @Test\n    void test() {\n        wm.stubFor(...);\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>With static configuration of default instance (not using new instance in your test) :</li>\n</ol>\n<pre><code>WireMock.configureFor(8888);\n</code></pre>\n<h1>For Kotlin users</h1>\n<p>If you are using kotlin you can add actual wiremock instance to <code>stubFor</code> and <code>verify</code> calls like <code>wm.stubFor()</code> and configure the port like in option 3 of this answer.</p>\n"},{"tags":[],"owner":{"account_id":10588046,"reputation":995,"user_id":7799677,"display_name":"billydh"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1655005748,"creation_date":1655005748,"answer_id":72589358,"question_id":57626072,"body_markdown":"Posting my previous comment as an answer as it seems to have helped a few people. Thanks @jmrah. :)\r\n\r\nFor **Kotlin** and **JUnit5**, this can be resolved by adding the actual `WireMockServer` instance to the `stubFor` or `verify` method calls.\r\n\r\n```\r\nwireMockServer.stubFor()\r\n```\r\n\r\nor\r\n\r\n```\r\nwireMockServer.verify()\r\n```\r\n\r\nAfter adding this, the tests should work.","title":"Connection refused when using wiremock","body":"<p>Posting my previous comment as an answer as it seems to have helped a few people. Thanks @jmrah. :)</p>\n<p>For <strong>Kotlin</strong> and <strong>JUnit5</strong>, this can be resolved by adding the actual <code>WireMockServer</code> instance to the <code>stubFor</code> or <code>verify</code> method calls.</p>\n<pre><code>wireMockServer.stubFor()\n</code></pre>\n<p>or</p>\n<pre><code>wireMockServer.verify()\n</code></pre>\n<p>After adding this, the tests should work.</p>\n"},{"tags":[],"owner":{"account_id":4471980,"reputation":1,"user_id":3638071,"display_name":"user3638071"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685175872,"creation_date":1685175872,"answer_id":76345988,"question_id":57626072,"body_markdown":"You can also use this: @AutoConfigureWireMock(port = 0, httpsPort = xxxx)","title":"Connection refused when using wiremock","body":"<p>You can also use this: @AutoConfigureWireMock(port = 0, httpsPort = xxxx)</p>\n"},{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687479446,"creation_date":1687479446,"answer_id":76536408,"question_id":57626072,"body_markdown":"You need to create a `WireMockServer` object and assign it to a variable say `wm`, then use this variable with the method like so `wm.stubFor(...)`. If you don&#39;t use the `wm` variable, you will get the error `connection refused`.","title":"Connection refused when using wiremock","body":"<p>You need to create a <code>WireMockServer</code> object and assign it to a variable say <code>wm</code>, then use this variable with the method like so <code>wm.stubFor(...)</code>. If you don't use the <code>wm</code> variable, you will get the error <code>connection refused</code>.</p>\n"}],"owner":{"account_id":16177233,"reputation":2569,"user_id":11679569,"display_name":"Sandro Rey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35293,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":57627064,"answer_count":4,"score":23,"last_activity_date":1687479446,"creation_date":1566562187,"question_id":57626072,"body_markdown":"I have this piece of code in a Junit, where I clearly set the port to 8888\r\n\r\n    when(clientUtils.getLinkUrl(eq(HOSTELS_MICROSERVICE.name()), eq(HOSTELS_MICROSERVICE.name()), anyMap()))\r\n    \t\t\t\t.thenReturn(&quot;http://localhost:8888/HOSTELS/HOSTELSMethods&quot;);\r\n    \r\n    stubFor(com.github.tomakehurst.wiremock.client.WireMock.get(&quot;/HOSTELS/HOSTELS_LIST&quot;).willReturn(\r\n    \t\t\t\taResponse().withStatus(200)\r\n    \t\t\t\t\t\t.withHeader(&quot;Content-Type&quot;, APPLICATION_JSON_VALUE)\r\n    \t\t\t\t\t\t.withBody(ResourceUtils.getResourceFileAsString (&quot;__files/HOSTELS.json&quot;))));\r\n\r\nbut when I run the test I got this error on this line:\r\n\r\n    stubFor(com.github.tomakehurst.wiremock.client.WireMock.get(&quot;/HOSTELS/HOSTELS_LIST&quot;).willReturn(..\r\n\r\nand the error:\r\n\r\n    wiremock.org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect","title":"Connection refused when using wiremock","body":"<p>I have this piece of code in a Junit, where I clearly set the port to 8888</p>\n\n<pre><code>when(clientUtils.getLinkUrl(eq(HOSTELS_MICROSERVICE.name()), eq(HOSTELS_MICROSERVICE.name()), anyMap()))\n                .thenReturn(\"http://localhost:8888/HOSTELS/HOSTELSMethods\");\n\nstubFor(com.github.tomakehurst.wiremock.client.WireMock.get(\"/HOSTELS/HOSTELS_LIST\").willReturn(\n                aResponse().withStatus(200)\n                        .withHeader(\"Content-Type\", APPLICATION_JSON_VALUE)\n                        .withBody(ResourceUtils.getResourceFileAsString (\"__files/HOSTELS.json\"))));\n</code></pre>\n\n<p>but when I run the test I got this error on this line:</p>\n\n<pre><code>stubFor(com.github.tomakehurst.wiremock.client.WireMock.get(\"/HOSTELS/HOSTELS_LIST\").willReturn(..\n</code></pre>\n\n<p>and the error:</p>\n\n<pre><code>wiremock.org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\n</code></pre>\n"},{"tags":["java","rasa","rasa-nlu","rasa-core"],"owner":{"account_id":19829315,"reputation":88,"user_id":14524260,"display_name":"Meg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687479245,"creation_date":1687479245,"question_id":76536397,"body_markdown":"I am trying to create a rasa bot using Java in Springboot application. One of the use cases is that if a user is able to log in successfully by giving a command like “login:username password” to the rasa chatbot then the bot should respond “Login successful” else “Invalid credentials”. To verify the credentials, I am calling an API in another service that returns if the login is successful or not. How do I make the bot respond according to the situation? Is there any API that I can use to make the bot utter a particular response? As far as I can see, this API has been deprecated. Do we have an alternative? https://rasa.com/docs/rasa/pages/http-api#operation/executeConversationAction\r\n\r\n```\r\nif(feignResponse.getStatusCode().value() == 200) {\r\n    System.out.println(&quot;YES&quot;);\r\n    rasaClient.makeBotUtterance(&quot;Login successful&quot;);\r\n }\r\n  else{ \r\n    System.out.println(&quot;NOPE&quot;);\r\n    rasaClient.makeBotUtterance(&quot;Invalid credentials&quot;);\r\n            }\r\n```\r\nWhich Rasa http api can I use inside makeBotUtterance?","title":"How to make Rasa bot utter a response using Java","body":"<p>I am trying to create a rasa bot using Java in Springboot application. One of the use cases is that if a user is able to log in successfully by giving a command like “login:username password” to the rasa chatbot then the bot should respond “Login successful” else “Invalid credentials”. To verify the credentials, I am calling an API in another service that returns if the login is successful or not. How do I make the bot respond according to the situation? Is there any API that I can use to make the bot utter a particular response? As far as I can see, this API has been deprecated. Do we have an alternative? <a href=\"https://rasa.com/docs/rasa/pages/http-api#operation/executeConversationAction\" rel=\"nofollow noreferrer\">https://rasa.com/docs/rasa/pages/http-api#operation/executeConversationAction</a></p>\n<pre><code>if(feignResponse.getStatusCode().value() == 200) {\n    System.out.println(&quot;YES&quot;);\n    rasaClient.makeBotUtterance(&quot;Login successful&quot;);\n }\n  else{ \n    System.out.println(&quot;NOPE&quot;);\n    rasaClient.makeBotUtterance(&quot;Invalid credentials&quot;);\n            }\n</code></pre>\n<p>Which Rasa http api can I use inside makeBotUtterance?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"score":1,"creation_date":1340905899,"post_id":11250154,"comment_id":14784867,"body_markdown":"Nothing built into the Java language that I am aware of. You might want to look into apache-commons-math (http://commons.apache.org/math/), it has many helpful utilities classes for doing randomization. Also, you will likely get better answers to this question is you show people some code you&#39;ve tried writting to solve the problem, or at least a generic algorithm to show that you&#39;ve tryed to figure it out yourself. People don&#39;t usually appreciate questions where it appears you are asking us to do your work for you. ;)","body":"Nothing built into the Java language that I am aware of. You might want to look into apache-commons-math (<a href=\"http://commons.apache.org/math/\" rel=\"nofollow noreferrer\">commons.apache.org/math</a>), it has many helpful utilities classes for doing randomization. Also, you will likely get better answers to this question is you show people some code you&#39;ve tried writting to solve the problem, or at least a generic algorithm to show that you&#39;ve tryed to figure it out yourself. People don&#39;t usually appreciate questions where it appears you are asking us to do your work for you. ;)"},{"owner":{"account_id":377625,"reputation":47,"user_id":729875,"accept_rate":50,"display_name":"xlnc"},"score":0,"creation_date":1340906102,"post_id":11250154,"comment_id":14784956,"body_markdown":"Well I thought of a couple naive implementations that seemed to be fairly trivial yet expensive to use, sorry for not including my code! Thanks for the help, much appreciated :)","body":"Well I thought of a couple naive implementations that seemed to be fairly trivial yet expensive to use, sorry for not including my code! Thanks for the help, much appreciated :)"}],"answers":[{"tags":[],"owner":{"account_id":1525734,"reputation":4411,"user_id":1424229,"display_name":"Rob Wagner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340905891,"creation_date":1340905891,"answer_id":11250234,"question_id":11250154,"body_markdown":"One way to do this would be to build an array with the items repeated as necessary to represent their probabilities. So if item A in the array had a probability of .3 and item B had a probability of .7, you could put them in an array of 10 items, with A being repeated 3 times and B being repeated 7. \r\n\r\nThen you could use a random number generator to select an index from the array.\r\n\r\nAn alternative solution would be instead load each of the items and their probabilities into a data structure, having each probability represented as a range (i.e. item A could represent the range .5-.8), then generate a random value from 0-1 and grab the value for whatever range the random number falls into.","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>One way to do this would be to build an array with the items repeated as necessary to represent their probabilities. So if item A in the array had a probability of .3 and item B had a probability of .7, you could put them in an array of 10 items, with A being repeated 3 times and B being repeated 7. </p>\n\n<p>Then you could use a random number generator to select an index from the array.</p>\n\n<p>An alternative solution would be instead load each of the items and their probabilities into a data structure, having each probability represented as a range (i.e. item A could represent the range .5-.8), then generate a random value from 0-1 and grab the value for whatever range the random number falls into.</p>\n"},{"tags":[],"owner":{"account_id":197330,"reputation":1455,"user_id":441352,"accept_rate":80,"display_name":"Wivlaro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340905970,"creation_date":1340905970,"answer_id":11250254,"question_id":11250154,"body_markdown":"One way is to use weighted probabilities like this:\r\n\r\n    MyClass getRandomElement(MyClass[] elements)\r\n    {\r\n        int totalWeight = 0;\r\n        for (MyClass element : elements)\r\n        {\r\n           totalWeight += element.weight;\r\n        }\r\n        \r\n        int position = new Random().nextInt(totalWeight);\r\n        \r\n        for (MyClass element : elements)\r\n        {\r\n           if (position &lt; element.weight)\r\n           {\r\n               return element;\r\n           }\r\n           position -= element.weight;\r\n        }\r\n        throw new IllegalStateException(&quot;Should never get here&quot;);\r\n    }","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>One way is to use weighted probabilities like this:</p>\n\n<pre><code>MyClass getRandomElement(MyClass[] elements)\n{\n    int totalWeight = 0;\n    for (MyClass element : elements)\n    {\n       totalWeight += element.weight;\n    }\n\n    int position = new Random().nextInt(totalWeight);\n\n    for (MyClass element : elements)\n    {\n       if (position &lt; element.weight)\n       {\n           return element;\n       }\n       position -= element.weight;\n    }\n    throw new IllegalStateException(\"Should never get here\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395472,"reputation":12714,"user_id":758446,"accept_rate":93,"display_name":"BlackVegetable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340910040,"creation_date":1340906174,"answer_id":11250309,"question_id":11250154,"body_markdown":"If you encode the probability weight of selecting an element in an array (probably via a member variable of the Objects in the array) you could do the following:\r\n\r\n1. Assume you have elements with weights as integers.\r\n2. Sum all of the elements&#39; weights.\r\n3. Create a random value between 1 and that weight.\r\n4. Walk through the array, counting up until you match the random value.  \r\n\r\nExample:\r\n\r\n[1, 3, 2, 5, 2]\r\nSum = 13\r\nRandom Roll = 5\r\n\r\nelement[0] .. (we have counted to 1)\r\n\r\nelement\\[1\\] .. (we have counted to 4)\r\n\r\nelement[2] .. (we have counted to 6)\r\n6 &gt; 5 thus we select 2.\r\n\r\nNow, this takes O(n) time where n is the number of values in the array.  A better way to do this for efficiency&#39;s sake is to place the values at the positions indicated by the values.  This is kind of like:\r\n\r\n[a, b, b, b, c, c, d, d, d, d, d, e, e].  \r\n\r\nLook up [counting sort][1] for better details on this; it allows for O(1) accessing.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Counting_sort","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>If you encode the probability weight of selecting an element in an array (probably via a member variable of the Objects in the array) you could do the following:</p>\n\n<ol>\n<li>Assume you have elements with weights as integers.</li>\n<li>Sum all of the elements' weights.</li>\n<li>Create a random value between 1 and that weight.</li>\n<li>Walk through the array, counting up until you match the random value.  </li>\n</ol>\n\n<p>Example:</p>\n\n<p>[1, 3, 2, 5, 2]\nSum = 13\nRandom Roll = 5</p>\n\n<p>element[0] .. (we have counted to 1)</p>\n\n<p>element[1] .. (we have counted to 4)</p>\n\n<p>element[2] .. (we have counted to 6)\n6 > 5 thus we select 2.</p>\n\n<p>Now, this takes O(n) time where n is the number of values in the array.  A better way to do this for efficiency's sake is to place the values at the positions indicated by the values.  This is kind of like:</p>\n\n<p>[a, b, b, b, c, c, d, d, d, d, d, e, e].  </p>\n\n<p>Look up <a href=\"http://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow\">counting sort</a> for better details on this; it allows for O(1) accessing.</p>\n"},{"tags":[],"owner":{"account_id":1151983,"reputation":744,"user_id":1133481,"display_name":"Oliver Coleman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1385672068,"creation_date":1385672068,"answer_id":20274588,"question_id":11250154,"body_markdown":"An O(log(n)) approach (this is ripped directly from an [answer to a very similar question][1]):\r\n\r\nThe usual technique is to transform the array into an array of cumulative sums:\r\n\r\n     [10 60 5 25]  --&gt; [10 70 75 100]\r\n\r\nPick a random number in the range from zero up to the cumulative total (in the example: ``0 &lt;= x &lt; 100``).  Then, use [bisection][2] on the cumulative array to locate the index into the original array:\r\n\r\n\r\n    Random variable x      Index in the Cumulative Array      Value in Original Array\r\n    -----------------      -----------------------------      ----------------------\r\n     0 &lt;= x &lt; 10                      0                            10\r\n    10 &lt;= x &lt; 70                      1                            60\r\n    70 &lt;= x &lt; 75                      2                             5\r\n    75 &lt;= x &lt; 100                     3                            25 \r\n\r\nFor example, if the random variable *x* is 4, bisecting the cumulative array gives a position index of 0 which corresponds to 10 in the original array. \r\n\r\nAnd, if the random variable *x* is 72, bisecting the cumulative array gives a position index of 2 which corresponds to 5 in the original array. \r\n\r\n  [1]: https://stackoverflow.com/a/16490300/1133481\r\n  [2]: http://en.wikipedia.org/wiki/Binary_search_algorithm","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>An O(log(n)) approach (this is ripped directly from an <a href=\"https://stackoverflow.com/a/16490300/1133481\">answer to a very similar question</a>):</p>\n\n<p>The usual technique is to transform the array into an array of cumulative sums:</p>\n\n<pre><code> [10 60 5 25]  --&gt; [10 70 75 100]\n</code></pre>\n\n<p>Pick a random number in the range from zero up to the cumulative total (in the example: <code>0 &lt;= x &lt; 100</code>).  Then, use <a href=\"http://en.wikipedia.org/wiki/Binary_search_algorithm\" rel=\"nofollow noreferrer\">bisection</a> on the cumulative array to locate the index into the original array:</p>\n\n<pre><code>Random variable x      Index in the Cumulative Array      Value in Original Array\n-----------------      -----------------------------      ----------------------\n 0 &lt;= x &lt; 10                      0                            10\n10 &lt;= x &lt; 70                      1                            60\n70 &lt;= x &lt; 75                      2                             5\n75 &lt;= x &lt; 100                     3                            25 \n</code></pre>\n\n<p>For example, if the random variable <em>x</em> is 4, bisecting the cumulative array gives a position index of 0 which corresponds to 10 in the original array. </p>\n\n<p>And, if the random variable <em>x</em> is 72, bisecting the cumulative array gives a position index of 2 which corresponds to 5 in the original array. </p>\n"},{"tags":[],"owner":{"account_id":15262051,"reputation":9096,"user_id":11011793,"display_name":"MoxxiManagarm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594641432,"creation_date":1594638928,"answer_id":62874689,"question_id":11250154,"body_markdown":"I personally like an approach using a NavigableMap. Such an approach looks like this\r\n\r\n```\r\ninterface Weighted {\r\n    public double getWeight();\r\n}\r\n\r\nclass UnbalancedRandomizer &lt;E extends Weighted&gt; {\r\n    private NavigableMap&lt;Double, E&gt; container = new TreeMap&lt;&gt;();\r\n\r\n    UnbalancedRandomizer(E... elements) {\r\n        for (E element : elements) {\r\n            add(element);\r\n        }\r\n    }\r\n\r\n    public void add(E element) {\r\n        double offset = container.isEmpty() ? 0.0 : container.lastEntry().getKey();\r\n        container.put(offset + element.getWeight(), element);\r\n    }\r\n\r\n    public E getRandom() {\r\n        double rolled = container.lastEntry().getKey() * Math.random();\r\n        return container.ceilingEntry(rolled).getValue();\r\n    }\r\n}\r\n```\r\n\r\nThis, however, can become a little bit more tricky, when you want to remove an element or change the weight of an element. After all I believe in most usecases only add is really relevant. Those are mostly lookup tables for events to happen (e.g. slot machine symbol chance) or matchers for grouping properties like weight/size/age etc.\r\n\r\nExample usage\r\n```\r\nclass Foo implements Weighted {\r\n    private double weight;\r\n    private String name;\r\n\r\n    public Foo(double weight, String name) {\r\n        this.weight = weight;\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public double getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Symbol{&quot; +\r\n                &quot;weight=&quot; + weight +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        UnbalancedRandomizer&lt;Foo&gt; randomizer = new UnbalancedRandomizer(\r\n                new Foo(10, &quot;A&quot;),\r\n                new Foo(30, &quot;B&quot;),\r\n                new Foo(50, &quot;C&quot;),\r\n                new Foo(50, &quot;D&quot;)\r\n        );\r\n\r\n        Stream.generate(randomizer::getRandom).limit(50).forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n\r\nExample Output\r\n```\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=10.0, name=&#39;A&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=10.0, name=&#39;A&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=10.0, name=&#39;A&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\n```\r\n\r\n","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>I personally like an approach using a NavigableMap. Such an approach looks like this</p>\n<pre><code>interface Weighted {\n    public double getWeight();\n}\n\nclass UnbalancedRandomizer &lt;E extends Weighted&gt; {\n    private NavigableMap&lt;Double, E&gt; container = new TreeMap&lt;&gt;();\n\n    UnbalancedRandomizer(E... elements) {\n        for (E element : elements) {\n            add(element);\n        }\n    }\n\n    public void add(E element) {\n        double offset = container.isEmpty() ? 0.0 : container.lastEntry().getKey();\n        container.put(offset + element.getWeight(), element);\n    }\n\n    public E getRandom() {\n        double rolled = container.lastEntry().getKey() * Math.random();\n        return container.ceilingEntry(rolled).getValue();\n    }\n}\n</code></pre>\n<p>This, however, can become a little bit more tricky, when you want to remove an element or change the weight of an element. After all I believe in most usecases only add is really relevant. Those are mostly lookup tables for events to happen (e.g. slot machine symbol chance) or matchers for grouping properties like weight/size/age etc.</p>\n<p>Example usage</p>\n<pre><code>class Foo implements Weighted {\n    private double weight;\n    private String name;\n\n    public Foo(double weight, String name) {\n        this.weight = weight;\n        this.name = name;\n    }\n\n    @Override\n    public double getWeight() {\n        return weight;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Symbol{&quot; +\n                &quot;weight=&quot; + weight +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n\n    public static void main(String... args) {\n        UnbalancedRandomizer&lt;Foo&gt; randomizer = new UnbalancedRandomizer(\n                new Foo(10, &quot;A&quot;),\n                new Foo(30, &quot;B&quot;),\n                new Foo(50, &quot;C&quot;),\n                new Foo(50, &quot;D&quot;)\n        );\n\n        Stream.generate(randomizer::getRandom).limit(50).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>Example Output</p>\n<pre><code>Symbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=10.0, name='A'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=10.0, name='A'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=10.0, name='A'}\nSymbol{weight=50.0, name='D'}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11315951,"reputation":29,"user_id":8297699,"display_name":"Адександр Мороз"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687478861,"creation_date":1687478861,"answer_id":76536378,"question_id":11250154,"body_markdown":"\tpublic int getRandomIndex(Random random, double[] probs) {\r\n\t\tdouble p = random.nextDouble();\r\n\t\tint i = 0;\r\n\t\tfor (double s = probs[0]; s &lt; p; s+= probs[++i]);\r\n\t\treturn i;\r\n\t}","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<pre><code>public int getRandomIndex(Random random, double[] probs) {\n    double p = random.nextDouble();\n    int i = 0;\n    for (double s = probs[0]; s &lt; p; s+= probs[++i]);\n    return i;\n}\n</code></pre>\n"}],"owner":{"account_id":377625,"reputation":47,"user_id":729875,"accept_rate":50,"display_name":"xlnc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2927,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11250254,"answer_count":6,"score":1,"last_activity_date":1687478861,"creation_date":1340905570,"question_id":11250154,"body_markdown":"I wish to select elements at random from an array, where each element has a specific probability of being chosen. Is there an efficient way to do this, or possibly something built into Java that already accomplishes this?","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>I wish to select elements at random from an array, where each element has a specific probability of being chosen. Is there an efficient way to do this, or possibly something built into Java that already accomplishes this?</p>\n"},{"tags":["java","maven","pom.xml","maven-release-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687511848,"post_id":76536245,"comment_id":134950368,"body_markdown":"Why should those modules not being released as you made them part of your multi module structure? If those versions of those modules shouldn&#39;t be modified that why have you made them part of a multi module structure (the same version and the same time to release them is one of the foundation ideas behind that)...","body":"Why should those modules not being released as you made them part of your multi module structure? If those versions of those modules shouldn&#39;t be modified that why have you made them part of a multi module structure (the same version and the same time to release them is one of the foundation ideas behind that)..."}],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687477275,"creation_date":1687477275,"answer_id":76536295,"question_id":76536245,"body_markdown":"You can use this plugin **multi-module-maven-release-plugin**:\r\n\r\n&gt; A module is only released if there are changes to it !\r\n\r\nAdd the following to your plugins section:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;com.github.danielflower.mavenplugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;multi-module-maven-release-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.6.4&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nRelease your project by running `mvn releaser:release`","title":"maven release plugin: how to skip releasing of submodule","body":"<p>You can use this plugin <strong>multi-module-maven-release-plugin</strong>:</p>\n<blockquote>\n<p>A module is only released if there are changes to it !</p>\n</blockquote>\n<p>Add the following to your plugins section:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.danielflower.mavenplugins&lt;/groupId&gt;\n    &lt;artifactId&gt;multi-module-maven-release-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.6.4&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Release your project by running <code>mvn releaser:release</code></p>\n"}],"owner":{"account_id":3683669,"reputation":11,"user_id":3067972,"display_name":"smacz76"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687477275,"creation_date":1687476349,"question_id":76536245,"body_markdown":"I have a multi-module project with one git-submodule, following structure\r\n\r\n    &lt;modules&gt;\r\n       &lt;module&gt;common&lt;/module&gt;\r\n       &lt;module&gt;first&lt;/module&gt;\r\n       &lt;module&gt;second&lt;/module\r\n    &lt;/modules&gt;\r\n\r\nModule `common` is a git-submodule. \r\nDuring the release process, module `common` should not be released - meaning its version shall not change and it pom.xml shouldn&#39;t be modified. Other modules shall be released.\r\nI&#39;ve tried a lot of configuration of maven release:prepare plugin but nothing works. \r\n\r\nThe only option which works is to pass `-pl common` to maven command line - but the problem is that this code is build by gitlab which is using common release procedure and it&#39;s not easy to pass it.\r\n\r\nHow can I &quot;tell&quot; the maven release plugin to simply ignore this module? Or maybe there&#39;s a possibility to pass command line argument `-pl common` via pom.xml?\r\n\r\nThanks","title":"maven release plugin: how to skip releasing of submodule","body":"<p>I have a multi-module project with one git-submodule, following structure</p>\n<pre><code>&lt;modules&gt;\n   &lt;module&gt;common&lt;/module&gt;\n   &lt;module&gt;first&lt;/module&gt;\n   &lt;module&gt;second&lt;/module\n&lt;/modules&gt;\n</code></pre>\n<p>Module <code>common</code> is a git-submodule.\nDuring the release process, module <code>common</code> should not be released - meaning its version shall not change and it pom.xml shouldn't be modified. Other modules shall be released.\nI've tried a lot of configuration of maven release:prepare plugin but nothing works.</p>\n<p>The only option which works is to pass <code>-pl common</code> to maven command line - but the problem is that this code is build by gitlab which is using common release procedure and it's not easy to pass it.</p>\n<p>How can I &quot;tell&quot; the maven release plugin to simply ignore this module? Or maybe there's a possibility to pass command line argument <code>-pl common</code> via pom.xml?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","launch","background-service","foreground-service"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687477230,"creation_date":1687477230,"answer_id":76536291,"question_id":76535415,"body_markdown":"You can&#39;t.  This was a recent change in Android.  See https://developer.android.com/guide/components/activities/background-starts for the restrictions and brief times where you can launch things from the background.","title":"How to launch an app from foreground/background service?","body":"<p>You can't.  This was a recent change in Android.  See <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/background-starts</a> for the restrictions and brief times where you can launch things from the background.</p>\n"}],"owner":{"account_id":19951537,"reputation":1,"user_id":21713015,"display_name":"Shazer "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687477230,"creation_date":1687465529,"question_id":76535415,"body_markdown":"I am new to the android development in java so apologies if this question is so simple.\r\n\r\nBasically I am aiming for restarting the application after it crashes without user manually pressing the app icon or notification that app has failed via for example foreground service. I have tried launching app using getPackageManager in a &quot;Foreground service of another app&quot; , below is the code snipper of my foreground service as an example :\r\n\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        startLogging();\r\n\r\n\r\n        new Thread(\r\n                new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n\r\n                        PowerManager powerManager = null;\r\n                        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n                            powerManager = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n                        }\r\n                        PowerManager.WakeLock wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, &quot;MyApp::MyWakelockTag&quot;);\r\n                        wakeLock.acquire();\r\n\r\n                        while (true) {\r\n                            Log.d( &quot;Service&quot;, &quot;Service is running...&quot;);\r\n\r\n                            Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;app.tester.com&quot;);\r\n                            if (intent != null) {\r\n                                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                startActivity(intent);\r\n                            }\r\n..........\r\n..........\r\n\r\n\r\n}\r\n\r\nHowever, my foreground service is only able to launch the crashed app if the foreground&#39;s main activity is in foreground aswell i.e app whose foreground service is responsible for launching the crashing app is on user&#39;s screen. \r\n\r\nI can also work with if there&#39;s an app x which can launch this crashing app , if app x is even in recent task of phone. \r\n\r\nI would appreciate if there&#39;s any solution that can just restart this crashing app via another app which is in recent task or foreground service or even background service.\r\n\r\nThanks in advance !\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to launch an app from foreground/background service?","body":"<p>I am new to the android development in java so apologies if this question is so simple.</p>\n<p>Basically I am aiming for restarting the application after it crashes without user manually pressing the app icon or notification that app has failed via for example foreground service. I have tried launching app using getPackageManager in a &quot;Foreground service of another app&quot; , below is the code snipper of my foreground service as an example :</p>\n<pre><code>public int onStartCommand(Intent intent, int flags, int startId) {\n\n    startLogging();\n\n\n    new Thread(\n            new Runnable() {\n                @Override\n                public void run() {\n\n                    PowerManager powerManager = null;\n                    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n                        powerManager = (PowerManager) getSystemService(Context.POWER_SERVICE);\n                    }\n                    PowerManager.WakeLock wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, &quot;MyApp::MyWakelockTag&quot;);\n                    wakeLock.acquire();\n\n                    while (true) {\n                        Log.d( &quot;Service&quot;, &quot;Service is running...&quot;);\n\n                        Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;app.tester.com&quot;);\n                        if (intent != null) {\n                            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            startActivity(intent);\n                        }\n</code></pre>\n<p>..........\n..........</p>\n<p>}</p>\n<p>However, my foreground service is only able to launch the crashed app if the foreground's main activity is in foreground aswell i.e app whose foreground service is responsible for launching the crashing app is on user's screen.</p>\n<p>I can also work with if there's an app x which can launch this crashing app , if app x is even in recent task of phone.</p>\n<p>I would appreciate if there's any solution that can just restart this crashing app via another app which is in recent task or foreground service or even background service.</p>\n<p>Thanks in advance !</p>\n"},{"tags":["java","spring-boot","rest","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687431177,"creation_date":1687431177,"answer_id":76531149,"question_id":76528803,"body_markdown":"Please take a look at the example in this picture:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EjD0j.jpg\r\n\r\nChange the Return Type to ResponseEntity.\r\n\r\nExplanation:\r\nPerform a get() requests with this uri and retrieve the resulting body as a Mono. Block() this method until the request is done.","title":"Proper mapping for a GET/POST request using WebClient and SpringBoot 3, new to WebClient","body":"<p>Please take a look at the example in this picture:\n<a href=\"https://i.stack.imgur.com/EjD0j.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EjD0j.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Change the Return Type to ResponseEntity.</p>\n<p>Explanation:\nPerform a get() requests with this uri and retrieve the resulting body as a Mono. Block() this method until the request is done.</p>\n"},{"tags":[],"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687476281,"creation_date":1687476281,"answer_id":76536241,"question_id":76528803,"body_markdown":"I realized that this question was just a lack of knowledge of Ssl, and what my api was meant to achieve. I secured my api in spring with a simple Ssl certificate, and it served getRequests properly","title":"Proper mapping for a GET/POST request using WebClient and SpringBoot 3, new to WebClient","body":"<p>I realized that this question was just a lack of knowledge of Ssl, and what my api was meant to achieve. I secured my api in spring with a simple Ssl certificate, and it served getRequests properly</p>\n"}],"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76536241,"answer_count":2,"score":1,"last_activity_date":1687476281,"creation_date":1687411450,"question_id":76528803,"body_markdown":"So I have been learning RequestMapping in Spring Boot 3 and I have gotten far along, however, for one project I have had, I needed to use a self-signed certificate, and this required that I move to something like RestTemplate. However I saw that RestTemplate will soon be deprecated as the upcomer WebClient has been taking its place (according to baeldung). Nonetheless, it is much more in-depth than what I have been learning, and despite seeing extremely basic tutorials, I have not seem to have solved my issue. \r\n\r\nMy issue is that I do not know how to properly map GET requests (and POST for that matter) for my application. I am building a react application and I am using my REST api to retrieve movies and information for the webapp. Before needing the SSL, I have taken the typical approach of having my controller:\r\n\r\nCONTROLLER:\r\n```\r\n@RestController\r\n@CrossOrigin(origins = {&quot;http://localhost:3000&quot;, allowedHeaders = &quot;*&quot;)\r\n@RequestMapping(&quot;/api/v1/movies&quot;)\r\n@RequiredArgsConstructor\r\npublic class MovieController {\r\n\r\n    private final MovieService movieService;\r\n    private final WebClient webClient;\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; getAllMovies(){\r\n        return new ResponseEntity&lt;&gt;(movieService.getAllMovies(), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{imbdId}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Movie&gt;&gt; getSingleMovie(@PathVariable String imbdId){\r\n        return new ResponseEntity&lt;&gt;(movieService.getSingleMovie(imbdId), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nWhere my movieService bean very simply queries the MongoDB repo for movies.\r\n\r\nSERVICE\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MovieService {\r\n\r\n    private final MovieRepository movieRepository;\r\n\r\n    public List&lt;Movie&gt; getAllMovies(){\r\n        return movieRepository.findAll();\r\n    }\r\n\r\n    public Optional&lt;Movie&gt; getSingleMovie(String imbdId){\r\n        return movieRepository.findMovieByImdbId(imbdId);\r\n    }\r\n}\r\n```\r\n\r\nNow, given that I am now using WebClient as my Http client (as opposed to RestTemplate), I do not necessarily know how to approach this now. I understand I will most likely need to have another service specifically for WebClient to build these requests, but it is not straightforward for me when it comes to understanding it.\r\n\r\nI already have a WebClient bean customized and configured, which should be able to handle the requests. I understand the Mono/Flux API is quite important, since, for example, I want to respond with List of Movie(which I receive as JSON on the frontend), but how this is implemented is a bit tricky. How would I respond with the 200 OK, as well as a compatible list of movies in the nice JSON format I need supported. \r\n\r\nThank you for reading.","title":"Proper mapping for a GET/POST request using WebClient and SpringBoot 3, new to WebClient","body":"<p>So I have been learning RequestMapping in Spring Boot 3 and I have gotten far along, however, for one project I have had, I needed to use a self-signed certificate, and this required that I move to something like RestTemplate. However I saw that RestTemplate will soon be deprecated as the upcomer WebClient has been taking its place (according to baeldung). Nonetheless, it is much more in-depth than what I have been learning, and despite seeing extremely basic tutorials, I have not seem to have solved my issue.</p>\n<p>My issue is that I do not know how to properly map GET requests (and POST for that matter) for my application. I am building a react application and I am using my REST api to retrieve movies and information for the webapp. Before needing the SSL, I have taken the typical approach of having my controller:</p>\n<p>CONTROLLER:</p>\n<pre><code>@RestController\n@CrossOrigin(origins = {&quot;http://localhost:3000&quot;, allowedHeaders = &quot;*&quot;)\n@RequestMapping(&quot;/api/v1/movies&quot;)\n@RequiredArgsConstructor\npublic class MovieController {\n\n    private final MovieService movieService;\n    private final WebClient webClient;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; getAllMovies(){\n        return new ResponseEntity&lt;&gt;(movieService.getAllMovies(), HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{imbdId}&quot;)\n    public ResponseEntity&lt;Optional&lt;Movie&gt;&gt; getSingleMovie(@PathVariable String imbdId){\n        return new ResponseEntity&lt;&gt;(movieService.getSingleMovie(imbdId), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Where my movieService bean very simply queries the MongoDB repo for movies.</p>\n<p>SERVICE</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class MovieService {\n\n    private final MovieRepository movieRepository;\n\n    public List&lt;Movie&gt; getAllMovies(){\n        return movieRepository.findAll();\n    }\n\n    public Optional&lt;Movie&gt; getSingleMovie(String imbdId){\n        return movieRepository.findMovieByImdbId(imbdId);\n    }\n}\n</code></pre>\n<p>Now, given that I am now using WebClient as my Http client (as opposed to RestTemplate), I do not necessarily know how to approach this now. I understand I will most likely need to have another service specifically for WebClient to build these requests, but it is not straightforward for me when it comes to understanding it.</p>\n<p>I already have a WebClient bean customized and configured, which should be able to handle the requests. I understand the Mono/Flux API is quite important, since, for example, I want to respond with List of Movie(which I receive as JSON on the frontend), but how this is implemented is a bit tricky. How would I respond with the 200 OK, as well as a compatible list of movies in the nice JSON format I need supported.</p>\n<p>Thank you for reading.</p>\n"},{"tags":["java","java-14","jpackage"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1594353564,"post_id":62692322,"comment_id":111102276,"body_markdown":"Are you providing `jpackage/config` as the resource directory?","body":"Are you providing <code>jpackage&#47;config</code> as the resource directory?"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1594369523,"post_id":62692322,"comment_id":111107497,"body_markdown":"jpackage is the resource dir, and below that on Windows it creates config, images and wixobj folders","body":"jpackage is the resource dir, and below that on Windows it creates config, images and wixobj folders"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1604883616,"post_id":62692322,"comment_id":114474677,"body_markdown":"Seems to be part of this open RFE: https://bugs.openjdk.java.net/browse/JDK-8236127","body":"Seems to be part of this open RFE: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8236127\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8236127</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687475174,"creation_date":1687475174,"answer_id":76536180,"question_id":62692322,"body_markdown":"A few years and OpenJDK releases later - and https://bugs.openjdk.org/browse/JDK-8236127 is set to be resolved in Java 17.\r\n\r\nIndeed I used JPackage on Linux using the `--icon` parameter with some .ico file in OpenJDK 17 and see the icon being used both on the installer (.exe) as well as on the desktop icon.\r\n\r\nBTW, you do not create a resources-dir running JPackage.\r\nIf you go for a one-step process you directly create the installer. See https://docs.oracle.com/en/java/javase/19/jpackage/basic-packaging.html#GUID-1E2A4F61-1390-4FC3-955B-BD69A16FCA2C\r\n\r\nIf you go for a two step process, you create an app-image. Then in the second step start from the app-image and create the installer. The two step process allows you to add/modify the files that will later go into the installer. See https://docs.oracle.com/en/java/javase/19/jpackage/image-and-runtime-modifications.html#GUID-70F25F63-DE4C-4DC0-83D5-76EB5C55BEF0\r\n\r\nThe resources directory however is just used to grab resources like (default) icons, text templates etc. See https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6","title":"Using JPackage how do I create the installer icon on Windows","body":"<p>A few years and OpenJDK releases later - and <a href=\"https://bugs.openjdk.org/browse/JDK-8236127\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8236127</a> is set to be resolved in Java 17.</p>\n<p>Indeed I used JPackage on Linux using the <code>--icon</code> parameter with some .ico file in OpenJDK 17 and see the icon being used both on the installer (.exe) as well as on the desktop icon.</p>\n<p>BTW, you do not create a resources-dir running JPackage.\nIf you go for a one-step process you directly create the installer. See <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/basic-packaging.html#GUID-1E2A4F61-1390-4FC3-955B-BD69A16FCA2C\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/jpackage/basic-packaging.html#GUID-1E2A4F61-1390-4FC3-955B-BD69A16FCA2C</a></p>\n<p>If you go for a two step process, you create an app-image. Then in the second step start from the app-image and create the installer. The two step process allows you to add/modify the files that will later go into the installer. See <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/image-and-runtime-modifications.html#GUID-70F25F63-DE4C-4DC0-83D5-76EB5C55BEF0\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/jpackage/image-and-runtime-modifications.html#GUID-70F25F63-DE4C-4DC0-83D5-76EB5C55BEF0</a></p>\n<p>The resources directory however is just used to grab resources like (default) icons, text templates etc. See <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6</a></p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":76536180,"answer_count":1,"score":6,"last_activity_date":1687475174,"creation_date":1593679176,"question_id":62692322,"body_markdown":"I am using *JPackage* to install my Java application on Windows, I have my own application icon and I would also like this to also be used when I run the installer.\r\n\r\nI have followed the general approach described [here][1] to run jpackage twice, once creating a *resources-dir* and once using a *resources-dir*. \r\n\r\ne.g\r\n\r\n    jpackage @jpackage.txt --temp target/jpackage\r\n    jpackage @jpackage.txt --resource-dir target/jpackage\r\n\r\nHowever between the two calls I cannot see any installer icon to modify within target/jpackage resources dir created. Actually I can&#39;t see anything in particular I can sensibly change, I would be interested to know what people have changed for a Windows install.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62227695/is-there-a-way-to-change-icon-of-the-installer-file-using-jpackage/62229069#62229069\r\n  [2]: https://i.stack.imgur.com/nHHmD.png","title":"Using JPackage how do I create the installer icon on Windows","body":"<p>I am using <em>JPackage</em> to install my Java application on Windows, I have my own application icon and I would also like this to also be used when I run the installer.</p>\n<p>I have followed the general approach described <a href=\"https://stackoverflow.com/questions/62227695/is-there-a-way-to-change-icon-of-the-installer-file-using-jpackage/62229069#62229069\">here</a> to run jpackage twice, once creating a <em>resources-dir</em> and once using a <em>resources-dir</em>.</p>\n<p>e.g</p>\n<pre><code>jpackage @jpackage.txt --temp target/jpackage\njpackage @jpackage.txt --resource-dir target/jpackage\n</code></pre>\n<p>However between the two calls I cannot see any installer icon to modify within target/jpackage resources dir created. Actually I can't see anything in particular I can sensibly change, I would be interested to know what people have changed for a Windows install.</p>\n<p><a href=\"https://i.stack.imgur.com/nHHmD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nHHmD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687474141,"creation_date":1687474141,"answer_id":76536113,"question_id":64319479,"body_markdown":"The reason why removing protocols from the whitelist works is that it allows relative links to be preserved. When you remove the protocols from the whitelist, you are allowing all protocols to be used in the href attribute of an anchor tag.\r\n\r\nBy default, Jsoup removes all relative links when cleaning HTML. To preserve relative links, you can use the preserveRelativeLinks method of the Whitelist class1.\r\n\r\nHowever, in your case, you cannot specify a base URI as there are many domains. Specifying whitelist.preserveRelativeLinks(true) in this case doesn’t make any difference.\r\n\r\n\r\n","title":"Jsoup.clean - preserving relative links without base URI","body":"<p>The reason why removing protocols from the whitelist works is that it allows relative links to be preserved. When you remove the protocols from the whitelist, you are allowing all protocols to be used in the href attribute of an anchor tag.</p>\n<p>By default, Jsoup removes all relative links when cleaning HTML. To preserve relative links, you can use the preserveRelativeLinks method of the Whitelist class1.</p>\n<p>However, in your case, you cannot specify a base URI as there are many domains. Specifying whitelist.preserveRelativeLinks(true) in this case doesn’t make any difference.</p>\n"}],"owner":{"account_id":19716923,"reputation":21,"user_id":14436188,"display_name":"Larry Egar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687474141,"creation_date":1602511619,"question_id":64319479,"body_markdown":"I am using Jsoup 1.13.1 to clean a string to prevent XSS.  \r\nI would like to preserve relative links, but can&#39;t specify a base URI as there are many domains.  \r\nSpecifying whitelist.preserveRelativeLinks(true) in this case doesn&#39;t make any difference.  \r\nI notice that by *removing* protocols from the whitelist I get what I want.  \r\nI would like to understand if this has any other side-effects, and would also like to understand why this works.  \r\nBelow is some code which demonstrates this.\r\n```\r\npublic static void main(String[] args) {\r\n    String html = &quot;&lt;a href=\\&quot;https://absolute.link\\&quot;&gt;&lt;/a&gt;&lt;a href=\\&quot;relativeLink\\&quot;&gt;&lt;/a&gt;&quot;;\r\n    Whitelist whitelist = Whitelist.relaxed();\r\n\r\n    System.out.println(&quot;Whitelist.relaxed(): &quot; + Jsoup.clean(html, whitelist));\r\n\r\n    whitelist.removeProtocols(&quot;a&quot;, &quot;href&quot;, &quot;http&quot;, &quot;https&quot;, &quot;mailto&quot;, &quot;ftp&quot;);\r\n\r\n    System.out.println(&quot;Protocols removed  : &quot; + Jsoup.clean(html, whitelist));\r\n}\r\n```\r\nThis produces the following output:\r\n```\r\nWhitelist.relaxed(): &lt;a href=&quot;https://absolute.link&quot;&gt;&lt;/a&gt;&lt;a&gt;&lt;/a&gt;\r\nProtocols removed  : &lt;a href=&quot;https://absolute.link&quot;&gt;&lt;/a&gt;&lt;a href=&quot;relativeLink&quot;&gt;&lt;/a&gt;\r\n```","title":"Jsoup.clean - preserving relative links without base URI","body":"<p>I am using Jsoup 1.13.1 to clean a string to prevent XSS.<br />\nI would like to preserve relative links, but can't specify a base URI as there are many domains.<br />\nSpecifying whitelist.preserveRelativeLinks(true) in this case doesn't make any difference.<br />\nI notice that by <em>removing</em> protocols from the whitelist I get what I want.<br />\nI would like to understand if this has any other side-effects, and would also like to understand why this works.<br />\nBelow is some code which demonstrates this.</p>\n<pre><code>public static void main(String[] args) {\n    String html = &quot;&lt;a href=\\&quot;https://absolute.link\\&quot;&gt;&lt;/a&gt;&lt;a href=\\&quot;relativeLink\\&quot;&gt;&lt;/a&gt;&quot;;\n    Whitelist whitelist = Whitelist.relaxed();\n\n    System.out.println(&quot;Whitelist.relaxed(): &quot; + Jsoup.clean(html, whitelist));\n\n    whitelist.removeProtocols(&quot;a&quot;, &quot;href&quot;, &quot;http&quot;, &quot;https&quot;, &quot;mailto&quot;, &quot;ftp&quot;);\n\n    System.out.println(&quot;Protocols removed  : &quot; + Jsoup.clean(html, whitelist));\n}\n</code></pre>\n<p>This produces the following output:</p>\n<pre><code>Whitelist.relaxed(): &lt;a href=&quot;https://absolute.link&quot;&gt;&lt;/a&gt;&lt;a&gt;&lt;/a&gt;\nProtocols removed  : &lt;a href=&quot;https://absolute.link&quot;&gt;&lt;/a&gt;&lt;a href=&quot;relativeLink&quot;&gt;&lt;/a&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","jaas"],"answers":[{"tags":[],"owner":{"account_id":1935131,"reputation":14716,"user_id":1743580,"display_name":"miguno"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1480581230,"creation_date":1480581230,"answer_id":40905883,"question_id":40890821,"body_markdown":"I&#39;d recommend to use the `KAFKA_OPTS` environment variable for this.\r\n\r\nThis environment variable is recognized by Kafka, and defaults to the empty string (= no settings).  See the following code snippet from [bin/kafka-run-class.sh](https://github.com/apache/kafka/blob/aad93840668ae895fce5762c2491b09c32bc3e0c/bin/kafka-run-class.sh#L176-L179) in the Kafka source code:\r\n\r\n    # Generic jvm settings you want to add\r\n    if [ -z &quot;$KAFKA_OPTS&quot; ]; then\r\n      KAFKA_OPTS=&quot;&quot;\r\n    fi\r\n\r\nSo, for example, you can do:\r\n\r\n    $ export KAFKA_OPTS=&quot;-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf&quot;\r\n    $ bin/kafka-server-start.sh\r\n\r\nor\r\n\r\n    $ KAFKA_OPTS=&quot;-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf&quot; bin/kafka-server-start.sh\r\n","title":"How to add JVM parameters to Apache Kafka?","body":"<p>I'd recommend to use the <code>KAFKA_OPTS</code> environment variable for this.</p>\n\n<p>This environment variable is recognized by Kafka, and defaults to the empty string (= no settings).  See the following code snippet from <a href=\"https://github.com/apache/kafka/blob/aad93840668ae895fce5762c2491b09c32bc3e0c/bin/kafka-run-class.sh#L176-L179\" rel=\"noreferrer\">bin/kafka-run-class.sh</a> in the Kafka source code:</p>\n\n<pre><code># Generic jvm settings you want to add\nif [ -z \"$KAFKA_OPTS\" ]; then\n  KAFKA_OPTS=\"\"\nfi\n</code></pre>\n\n<p>So, for example, you can do:</p>\n\n<pre><code>$ export KAFKA_OPTS=\"-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf\"\n$ bin/kafka-server-start.sh\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ KAFKA_OPTS=\"-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf\" bin/kafka-server-start.sh\n</code></pre>\n"}],"owner":{"account_id":5126879,"reputation":1733,"user_id":4108584,"accept_rate":43,"display_name":"Jakim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15010,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":40905883,"answer_count":1,"score":10,"last_activity_date":1687473385,"creation_date":1480515919,"question_id":40890821,"body_markdown":"When configuring authentication for kafka, the [document](https://kafka.apache.org/documentation#security_sasl) mentioned that JVM parameters need to be added when starting kafka server. like:\r\n\r\n`-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf`\r\n\r\nSince we are using bin/kafka-server-start.sh to start the server, the document didn&#39;t mention where to specify the JVM parameters.\r\n\r\nModifying the kafka-server-start.sh or kafka-server-class.sh is not a good idea, then what will be the right way to add the parameter at the start?","title":"How to add JVM parameters to Apache Kafka?","body":"<p>When configuring authentication for kafka, the <a href=\"https://kafka.apache.org/documentation#security_sasl\" rel=\"noreferrer\">document</a> mentioned that JVM parameters need to be added when starting kafka server. like:</p>\n\n<p><code>-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf</code></p>\n\n<p>Since we are using bin/kafka-server-start.sh to start the server, the document didn't mention where to specify the JVM parameters.</p>\n\n<p>Modifying the kafka-server-start.sh or kafka-server-class.sh is not a good idea, then what will be the right way to add the parameter at the start?</p>\n"},{"tags":["java","maven","logging","plugins"],"answers":[{"tags":[],"owner":{"account_id":1415841,"reputation":4086,"user_id":1341535,"accept_rate":78,"display_name":"Vsevolod Golovanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687473190,"creation_date":1687473190,"answer_id":76536054,"question_id":76295779,"body_markdown":"There is no `-debug` option. See `mvn --help`:\r\n```\r\n-X,--debug                             Produce execution debug output\r\n```\r\nNote the double hyphen.","title":"maven logging: info and error work but debug dont","body":"<p>There is no <code>-debug</code> option. See <code>mvn --help</code>:</p>\n<pre><code>-X,--debug                             Produce execution debug output\n</code></pre>\n<p>Note the double hyphen.</p>\n"}],"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76536054,"answer_count":1,"score":1,"last_activity_date":1687473190,"creation_date":1684593762,"question_id":76295779,"body_markdown":"\r\n\r\nI wrote a maven plugin and use also logging based on `org.apache.maven.plugin.logging.Log`. Info i sent and also errors do well, but no debug info although debug info from elsewhere can be seen. I use with `-e` option and with `-debug` option.\r\n\r\nI use both maven and the maven plugin api with version 3.9.1.\r\n","title":"maven logging: info and error work but debug dont","body":"<p>I wrote a maven plugin and use also logging based on <code>org.apache.maven.plugin.logging.Log</code>. Info i sent and also errors do well, but no debug info although debug info from elsewhere can be seen. I use with <code>-e</code> option and with <code>-debug</code> option.</p>\n<p>I use both maven and the maven plugin api with version 3.9.1.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":23218021,"reputation":26,"user_id":17310684,"display_name":"refactorer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687472374,"creation_date":1687472309,"answer_id":76535997,"question_id":76533267,"body_markdown":"It depends on the complexity of your domain model. For simple, flat entities or very flat aggregates in a simple CRUD scenario, using persistence entities upwards the REST controller might be a feasible solution. As soon as your domain model becomes more complex and implements more complex business logic than just managing CRUD logic, persistence entities will not longer fit the need of the domain model (and I assure, they will. If not sooner, then later ;-) ). Then, it&#39;s time to work with persistence entities only behind the repository interface. The repository then returns real domain entities which implement behavior instead of just providing accessors to internal state, like POJO&#39;s do. In such a case, I highly recommend to separate persistence entities from domain entities. The REST controller then deals with simple DTO&#39;s which an ApplicationService converts into domain entities using a factory, and forwards them to a Repository which turns them into persistence entities and uses the hibernate Session, or the JPA EntityManager to deal with the persistence infrastructure.","title":"Shared entity module with quarkus","body":"<p>It depends on the complexity of your domain model. For simple, flat entities or very flat aggregates in a simple CRUD scenario, using persistence entities upwards the REST controller might be a feasible solution. As soon as your domain model becomes more complex and implements more complex business logic than just managing CRUD logic, persistence entities will not longer fit the need of the domain model (and I assure, they will. If not sooner, then later ;-) ). Then, it's time to work with persistence entities only behind the repository interface. The repository then returns real domain entities which implement behavior instead of just providing accessors to internal state, like POJO's do. In such a case, I highly recommend to separate persistence entities from domain entities. The REST controller then deals with simple DTO's which an ApplicationService converts into domain entities using a factory, and forwards them to a Repository which turns them into persistence entities and uses the hibernate Session, or the JPA EntityManager to deal with the persistence infrastructure.</p>\n"}],"owner":{"account_id":11779467,"reputation":109,"user_id":8619644,"display_name":"csphmay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687472374,"creation_date":1687446268,"question_id":76533267,"body_markdown":"I am currently starting to build my first project with quarkus and I would like to know if the following architecture would make sense.\r\n\r\nLet&#39;s say I have modules A and B which are simple JAX-RS Services built with quarkus-resteasy. Both of these modules use the same entities from module C.\r\n\r\nWould it be a good idea to add quarkus-hibernate-orm to module C and then add this module as a dependency to module A and B?","title":"Shared entity module with quarkus","body":"<p>I am currently starting to build my first project with quarkus and I would like to know if the following architecture would make sense.</p>\n<p>Let's say I have modules A and B which are simple JAX-RS Services built with quarkus-resteasy. Both of these modules use the same entities from module C.</p>\n<p>Would it be a good idea to add quarkus-hibernate-orm to module C and then add this module as a dependency to module A and B?</p>\n"},{"tags":["java","spring-security","spring-authorization-server"],"answers":[{"tags":[],"owner":{"account_id":5853055,"reputation":1234,"user_id":4611186,"accept_rate":62,"display_name":"Katlock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687448517,"creation_date":1687448517,"answer_id":76533584,"question_id":76528299,"body_markdown":"I found a way to get the username using the `ServerRequest` object such as follows from a Spring Security example: \r\n```\r\nserverRequest.principal()\r\n\t\t\t.map(Principal::getName)\r\n\t\t\t.flatMap(username -&gt;\r\n\t\t\t\tServerResponse.ok()..\r\n```","title":"How to set the currently logged-in user information using spring security using a resource server?","body":"<p>I found a way to get the username using the <code>ServerRequest</code> object such as follows from a Spring Security example:</p>\n<pre><code>serverRequest.principal()\n            .map(Principal::getName)\n            .flatMap(username -&gt;\n                ServerResponse.ok()..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687472318,"creation_date":1687472318,"answer_id":76535998,"question_id":76528299,"body_markdown":"I wrote [an article on Baeldung][1] for unit and integration testing with mocked OAuth2 `Authentication`.\r\n\r\nIn resource servers with JWT decoders, the default `Authentication` implementation is `JwtAuthenticationToken`. So, unless you explicitly changed that with a JwtAuthenticationConverter, you should populate the security context with a `JwtAuthenticationToken` (and not a `UsernamePasswordAuthenticationToken`).\r\n\r\nWhen running a test with `WebTestClient` (or `WebMvc` in servlet apps), the security context is not built from the access token: it would require a real authorization server to serve an JWT public key or respond to introspection requests. The test security context is populated either by:\r\n- the test itself with `SecurityContextHolder.getContext().setAuthentication(jwtAuthenticationToken)`\r\n- a `WebTestClient` mutator (or `WebMvc` request post-processor): `webTestClient.mutateWith(SecurityMockServerConfigurers.mockJwt()...)`\r\n- a test annotation from [a lib I maintain][2]:\r\n```java\r\n@Test\r\n@WithMockJwt()\r\nvoid whenUserIsAuthenticated_whenSomeQuery_thenSomeExpectation() {\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-oauth-testing-access-control\r\n  [2]: https://github.com/ch4mpy/spring-addons","title":"How to set the currently logged-in user information using spring security using a resource server?","body":"<p>I wrote <a href=\"https://www.baeldung.com/spring-oauth-testing-access-control\" rel=\"nofollow noreferrer\">an article on Baeldung</a> for unit and integration testing with mocked OAuth2 <code>Authentication</code>.</p>\n<p>In resource servers with JWT decoders, the default <code>Authentication</code> implementation is <code>JwtAuthenticationToken</code>. So, unless you explicitly changed that with a JwtAuthenticationConverter, you should populate the security context with a <code>JwtAuthenticationToken</code> (and not a <code>UsernamePasswordAuthenticationToken</code>).</p>\n<p>When running a test with <code>WebTestClient</code> (or <code>WebMvc</code> in servlet apps), the security context is not built from the access token: it would require a real authorization server to serve an JWT public key or respond to introspection requests. The test security context is populated either by:</p>\n<ul>\n<li>the test itself with <code>SecurityContextHolder.getContext().setAuthentication(jwtAuthenticationToken)</code></li>\n<li>a <code>WebTestClient</code> mutator (or <code>WebMvc</code> request post-processor): <code>webTestClient.mutateWith(SecurityMockServerConfigurers.mockJwt()...)</code></li>\n<li>a test annotation from <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">a lib I maintain</a>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@WithMockJwt()\nvoid whenUserIsAuthenticated_whenSomeQuery_thenSomeExpectation() {\n}\n</code></pre>\n"}],"owner":{"account_id":5853055,"reputation":1234,"user_id":4611186,"accept_rate":62,"display_name":"Katlock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687472318,"creation_date":1687401893,"question_id":76528299,"body_markdown":"I am trying to set or access the currently logged-in user information such as username.  My token is generated using client credential flow using Spring Authorization server.  So I am using the resource server specified in my test case like below:\r\n\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://localhost:9000\r\n```\r\n\r\nWhen I run my test case in Spring WebFlux I am not able to access the logged-in user using a code like below in my handler:\r\n\r\n```java\r\nLOG.info(&quot;user logged in is {}&quot;, SecurityContextHolder.getContext().getAuthentication().getPrincipal());\r\n```\r\n  \r\nI want to do something like following which I used to do for a custom authentication provider.:\r\n\r\n```java\r\nUsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                    new UsernamePasswordAuthenticationToken(jwt.getSubject(), null, list);\r\n\r\n            SecurityContextHolder.getContext()\r\n                    .setAuthentication(usernamePasswordAuthenticationToken);\r\n```\r\n\r\nBut now I am using the resource server to validate the token I am not sure how I can set the currently logged-in user.\r\n","title":"How to set the currently logged-in user information using spring security using a resource server?","body":"<p>I am trying to set or access the currently logged-in user information such as username.  My token is generated using client credential flow using Spring Authorization server.  So I am using the resource server specified in my test case like below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://localhost:9000\n</code></pre>\n<p>When I run my test case in Spring WebFlux I am not able to access the logged-in user using a code like below in my handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LOG.info(&quot;user logged in is {}&quot;, SecurityContextHolder.getContext().getAuthentication().getPrincipal());\n</code></pre>\n<p>I want to do something like following which I used to do for a custom authentication provider.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                    new UsernamePasswordAuthenticationToken(jwt.getSubject(), null, list);\n\n            SecurityContextHolder.getContext()\n                    .setAuthentication(usernamePasswordAuthenticationToken);\n</code></pre>\n<p>But now I am using the resource server to validate the token I am not sure how I can set the currently logged-in user.</p>\n"},{"tags":["java","encoding","pdfbox"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1474967670,"post_id":39720305,"comment_id":66738838,"body_markdown":"There exist both `PDFTrueTypeFont.setFontEncoding(new WinAnsiEncoding());` and `~.setEncoding(COSName.WIN_ANSI_ENCODING);`","body":"There exist both <code>PDFTrueTypeFont.setFontEncoding(new WinAnsiEncoding());</code> and <code>~.setEncoding(COSName.WIN_ANSI_ENCODING);</code>"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1474968372,"post_id":39720305,"comment_id":66739367,"body_markdown":"@JoopEggen Sorry I don&#39;t know what you are trying to tell me here. Do I need to set one or both? Or should I set it to something else?","body":"@JoopEggen Sorry I don&#39;t know what you are trying to tell me here. Do I need to set one or both? Or should I set it to something else?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1474968515,"post_id":39720305,"comment_id":66739475,"body_markdown":"I have seen it set both. Whether it helps I doubt, as the bug reports do no seem to mention setting both as a viable solution. But who knows?","body":"I have seen it set both. Whether it helps I doubt, as the bug reports do no seem to mention setting both as a viable solution. But who knows?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1474968994,"post_id":39720305,"comment_id":66739835,"body_markdown":"Please retry with 2.0.3. If it still doesn&#39;t work, then please open an issue in JIRA and attach your PDF and your code. I wonder where the U+FFFD comes from. &quot;&#228;&quot; is supported in WinAnsiEncoding.","body":"Please retry with 2.0.3. If it still doesn&#39;t work, then please open an issue in JIRA and attach your PDF and your code. I wonder where the U+FFFD comes from. &quot;&#228;&quot; is supported in WinAnsiEncoding."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1474978175,"post_id":39720305,"comment_id":66745920,"body_markdown":"@ST-DDT I just tried to reproduce the issue but I couldn&#39;t. Thus either there is something very peculiar in your PDF or your Java editor and your Java compiler have different assumptions concerning the encoding of your code. To investigate into the former option, please share the PDF in question. To check the latter one replace the &#39;&#228;&#39; with a &#39;\\u00E4&#39; as proposed in Simone&#39;s answer.","body":"@ST-DDT I just tried to reproduce the issue but I couldn&#39;t. Thus either there is something very peculiar in your PDF or your Java editor and your Java compiler have different assumptions concerning the encoding of your code. To investigate into the former option, please share the PDF in question. To check the latter one replace the &#39;&#228;&#39; with a &#39;\\u00E4&#39; as proposed in Simone&#39;s answer."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1474981115,"post_id":39720305,"comment_id":66748025,"body_markdown":"@mkl I updated example code to better represent the problem. The value &quot;Ger&#228;t&quot; is provided by the user via a base64 encoded parameter.","body":"@mkl I updated example code to better represent the problem. The value &quot;Ger&#228;t&quot; is provided by the user via a base64 encoded parameter."},{"owner":{"account_id":1254316,"reputation":386,"user_id":1214125,"accept_rate":80,"display_name":"Simone Rondelli"},"score":0,"creation_date":1474981235,"post_id":39720305,"comment_id":66748115,"body_markdown":"Javascript uses UTF-16 encoded String so you might need to use:\n\n`new String(Base64.getDecoder().decode(base64devices), &quot;UTF-16&quot;);`","body":"Javascript uses UTF-16 encoded String so you might need to use:  <code>new String(Base64.getDecoder().decode(base64devices), &quot;UTF-16&quot;);</code>"},{"owner":{"account_id":1254316,"reputation":386,"user_id":1214125,"accept_rate":80,"display_name":"Simone Rondelli"},"score":1,"creation_date":1474981480,"post_id":39720305,"comment_id":66748296,"body_markdown":"You might be interested in this answer as well http://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings","body":"You might be interested in this answer as well <a href=\"http://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings\" title=\"using javascripts atob to decode base64 doesnt properly decode utf 8 strings\">stackoverflow.com/questions/30106476/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1474983431,"post_id":39720305,"comment_id":66749715,"body_markdown":"@ST-DDT As you have accepted Simone&#39;s answer, I assume your issue is resolved.","body":"@ST-DDT As you have accepted Simone&#39;s answer, I assume your issue is resolved."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1474984339,"post_id":39720305,"comment_id":66750388,"body_markdown":"@SimoneRondelli That link gave me the solution, please add it to your answer for completeness.","body":"@SimoneRondelli That link gave me the solution, please add it to your answer for completeness."},{"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"score":0,"creation_date":1687471924,"post_id":39720305,"comment_id":134945693,"body_markdown":"refer to this similar post here in the blog\nhttps://stackoverflow.com/a/76535960/6095444","body":"refer to this similar post here in the blog <a href=\"https://stackoverflow.com/a/76535960/6095444\">stackoverflow.com/a/76535960/6095444</a>"}],"answers":[{"tags":[],"owner":{"account_id":1254316,"reputation":386,"user_id":1214125,"accept_rate":80,"display_name":"Simone Rondelli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1474986668,"creation_date":1474970909,"answer_id":39721889,"question_id":39720305,"body_markdown":"U+FFFD is used to replace an incoming character whose value is unknown or unrepresentable in Unicode compare the use of U+001A as a control character to indicate the substitute function ([source][1]).\r\n\r\nThat said it is likely that that character gets messed up somewhere. Maybe the encoding of the file is not UTF-8 and that&#39;s why the character is messed up. \r\n\r\nAs a general rule you should only write ASCII characters in the source code. You can still represent the whole Unicode range using the escaped form \\uXXXX. In this case &#228; -&gt; `\\u00E4`.\r\n\r\n-- UPDATE --\r\n\r\nApparently the problem is in how the user input get encoded/decoded from client/server side using the JS function `btoa`. A solution to this problem can be found at this link:\r\n\r\nhttps://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings\r\n\r\n\r\n  [1]: http://www.fileformat.info/info/unicode/char/fffd/index.htm","title":"U+FFFD is not available in this font&#39;s encoding: WinAnsiEncoding","body":"<p>U+FFFD is used to replace an incoming character whose value is unknown or unrepresentable in Unicode compare the use of U+001A as a control character to indicate the substitute function (<a href=\"http://www.fileformat.info/info/unicode/char/fffd/index.htm\" rel=\"nofollow noreferrer\">source</a>).</p>\n\n<p>That said it is likely that that character gets messed up somewhere. Maybe the encoding of the file is not UTF-8 and that's why the character is messed up. </p>\n\n<p>As a general rule you should only write ASCII characters in the source code. You can still represent the whole Unicode range using the escaped form \\uXXXX. In this case ä -> <code>\\u00E4</code>.</p>\n\n<p>-- UPDATE --</p>\n\n<p>Apparently the problem is in how the user input get encoded/decoded from client/server side using the JS function <code>btoa</code>. A solution to this problem can be found at this link:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings\">Using Javascript&#39;s atob to decode base64 doesn&#39;t properly decode utf-8 strings</a></p>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12591,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39721889,"answer_count":1,"score":3,"last_activity_date":1687472056,"creation_date":1474966528,"question_id":39720305,"body_markdown":"I&#39;m using PDFBox 2.0.1.\n\nI try to dynamically add some (user provided) UTF8 text to the form fields and show the result to the user. Unfortunately either the pdf library is not capable of properly encoding special characters such as &quot;&#228;&#246;&#252;&quot;... or I was not able find any useful documentation that could help me with this issue.\n\nCan someone tell me what is wrong with the given code sample?\n\n    try (PDDocument document = PDDocument.load(pdfTemplate)) {\n        PDDocumentCatalog catalog = document.getDocumentCatalog();\n        PDAcroForm form = catalog.getAcroForm();\n    \n        List&lt;PDField&gt; fields = form.getFields();\n        for (PDField field : fields) {\n            switch (field.getPartialName()) {\n                case &quot;devices&quot;:\n                    // Frontend (JS): userInput = btoa(&#39;Ger&#228;t&#39;)\n                    String userInput = ...\n                    String name = new String(Base64.getDecoder().decode(base64devices), &quot;UTF-8&quot;);\n                    field.setReadOnly(true);\n                    break;\n            }\n        }\n        form.flatten(fields, true);\n        document.save(bos);\n    }\n\nAnd here the stacktrace of the error:\n\n    java.lang.IllegalArgumentException: U+FFFD is not available in this font&#39;s encoding: WinAnsiEncoding\n        org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.encode(PDTrueTypeFont.java:368)\n        org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:286)\n        org.apache.pdfbox.pdmodel.font.PDFont.getStringWidth(PDFont.java:315)\n        org.apache.pdfbox.pdmodel.interactive.form.PlainText$Paragraph.getLines(PlainText.java:169)\n        org.apache.pdfbox.pdmodel.interactive.form.PlainTextFormatter.format(PlainTextFormatter.java:182)\n        org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.insertGeneratedAppearance(AppearanceGeneratorHelper.java:373)\n        org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceContent(AppearanceGeneratorHelper.java:237)\n        org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceValue(AppearanceGeneratorHelper.java:144)\n        org.apache.pdfbox.pdmodel.interactive.form.PDTextField.constructAppearances(PDTextField.java:263)\n        org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm.refreshAppearances(PDAcroForm.java:324)\n        org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm.flatten(PDAcroForm.java:213)\n        my.application.service.PDFService.generatePDF(PDFService.java:201)\n\n------------------------------\n\nI also found those (related) issues on SO:\n\nhttps://stackoverflow.com/questions/38787188/pdfbox-is-not-available-in-this-fonts-encoding\nBut that does not help me choose the right encoding or how. IIRC Java uses UTF16 internally for character encoding why is the default not enough though?\nIs that an issue of the PDF-document itself or the code I use to set it?\n\n---------------------------\n\nhttps://stackoverflow.com/questions/22260344/pdfbox-encode-symbol-currency-euro\nWell its dynamic user input, so there are way to many things I would have to replace myself.\n\n&gt; Thus, if the PDFBox people decided to fix the broken PDFBox method, this seemingly clean work-around code here would start to fail as it would then feed the fixed method broken input data.\n&gt;\n&gt;Admittedly, I doubt they will fix this bug before 2.0.0 (and in 2.0.0 the fixed method has a different name), but one never knows...\n\nUnfortunately I was not able to find this other setter method, but it might also be a different scope it does apply to.\n\n**EDIT**\n\nUpdated example code to better represent the problem.","title":"U+FFFD is not available in this font&#39;s encoding: WinAnsiEncoding","body":"<p>I'm using PDFBox 2.0.1.</p>\n<p>I try to dynamically add some (user provided) UTF8 text to the form fields and show the result to the user. Unfortunately either the pdf library is not capable of properly encoding special characters such as &quot;äöü&quot;... or I was not able find any useful documentation that could help me with this issue.</p>\n<p>Can someone tell me what is wrong with the given code sample?</p>\n<pre><code>try (PDDocument document = PDDocument.load(pdfTemplate)) {\n    PDDocumentCatalog catalog = document.getDocumentCatalog();\n    PDAcroForm form = catalog.getAcroForm();\n\n    List&lt;PDField&gt; fields = form.getFields();\n    for (PDField field : fields) {\n        switch (field.getPartialName()) {\n            case &quot;devices&quot;:\n                // Frontend (JS): userInput = btoa('Gerät')\n                String userInput = ...\n                String name = new String(Base64.getDecoder().decode(base64devices), &quot;UTF-8&quot;);\n                field.setReadOnly(true);\n                break;\n        }\n    }\n    form.flatten(fields, true);\n    document.save(bos);\n}\n</code></pre>\n<p>And here the stacktrace of the error:</p>\n<pre><code>java.lang.IllegalArgumentException: U+FFFD is not available in this font's encoding: WinAnsiEncoding\n    org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.encode(PDTrueTypeFont.java:368)\n    org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:286)\n    org.apache.pdfbox.pdmodel.font.PDFont.getStringWidth(PDFont.java:315)\n    org.apache.pdfbox.pdmodel.interactive.form.PlainText$Paragraph.getLines(PlainText.java:169)\n    org.apache.pdfbox.pdmodel.interactive.form.PlainTextFormatter.format(PlainTextFormatter.java:182)\n    org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.insertGeneratedAppearance(AppearanceGeneratorHelper.java:373)\n    org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceContent(AppearanceGeneratorHelper.java:237)\n    org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceValue(AppearanceGeneratorHelper.java:144)\n    org.apache.pdfbox.pdmodel.interactive.form.PDTextField.constructAppearances(PDTextField.java:263)\n    org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm.refreshAppearances(PDAcroForm.java:324)\n    org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm.flatten(PDAcroForm.java:213)\n    my.application.service.PDFService.generatePDF(PDFService.java:201)\n</code></pre>\n<hr />\n<p>I also found those (related) issues on SO:</p>\n<p><a href=\"https://stackoverflow.com/questions/38787188/pdfbox-is-not-available-in-this-fonts-encoding\">pdfbox: ... is not available in this font&#39;s encoding</a>\nBut that does not help me choose the right encoding or how. IIRC Java uses UTF16 internally for character encoding why is the default not enough though?\nIs that an issue of the PDF-document itself or the code I use to set it?</p>\n<hr />\n<p><a href=\"https://stackoverflow.com/questions/22260344/pdfbox-encode-symbol-currency-euro\">PdfBox encode symbol currency euro</a>\nWell its dynamic user input, so there are way to many things I would have to replace myself.</p>\n<blockquote>\n<p>Thus, if the PDFBox people decided to fix the broken PDFBox method, this seemingly clean work-around code here would start to fail as it would then feed the fixed method broken input data.</p>\n<p>Admittedly, I doubt they will fix this bug before 2.0.0 (and in 2.0.0 the fixed method has a different name), but one never knows...</p>\n</blockquote>\n<p>Unfortunately I was not able to find this other setter method, but it might also be a different scope it does apply to.</p>\n<p><strong>EDIT</strong></p>\n<p>Updated example code to better represent the problem.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-firefoxdriver","browser-automation"],"comments":[{"owner":{"account_id":291564,"reputation":2354,"user_id":593802,"accept_rate":62,"display_name":"Cosmin"},"score":0,"creation_date":1496747516,"post_id":44388268,"comment_id":75776405,"body_markdown":"`getTitle()` method looks for the `&lt;title&gt;` tag in the HTML and returns whatever it&#39;s there. Does your frame has a `&lt;title&gt;` tag? Please post the complete html of the page.","body":"<code>getTitle()</code> method looks for the <code>&lt;title&gt;</code> tag in the HTML and returns whatever it&#39;s there. Does your frame has a <code>&lt;title&gt;</code> tag? Please post the complete html of the page."},{"owner":{"account_id":11046939,"reputation":31,"user_id":8112671,"accept_rate":25,"display_name":"Sri"},"score":0,"creation_date":1496748389,"post_id":44388268,"comment_id":75777026,"body_markdown":"Yes, it has &lt;title&gt; tag in &lt;head&gt; tag of the frame. though I can&#39;t post my full html code here, I can provide the overview of how it looks &lt;iframe id=&quot;xxx&quot; width=&quot;xxx&quot; Style=&quot;xxxx&quot; &gt;","body":"Yes, it has &lt;title&gt; tag in &lt;head&gt; tag of the frame. though I can&#39;t post my full html code here, I can provide the overview of how it looks &lt;iframe id=&quot;xxx&quot; width=&quot;xxx&quot; Style=&quot;xxxx&quot; &gt;"},{"owner":{"account_id":11046939,"reputation":31,"user_id":8112671,"accept_rate":25,"display_name":"Sri"},"score":0,"creation_date":1496749170,"post_id":44388268,"comment_id":75777600,"body_markdown":"disregard my previous reply.\nYes, it has &lt;title&gt; tag in &lt;head&gt; tag of the frame. though I can&#39;t post my full html code here, I can provide the overview of how it looks \n&lt;iframe id=&quot;xxx&quot; width=&quot;xxx&quot; Style=&quot;xxxx&quot; &gt;   \n  &lt;html&gt;  \n    &lt;head&gt; \n      &lt;title&gt; xxxxxxx&lt;/title&gt;\n    &lt;/head&gt;\n   &lt;body&gt; \n       some element related tags within the frame \n   &lt;/body&gt; \n  &lt;/html&gt;  \n&lt;/iframe&gt;","body":"disregard my previous reply. Yes, it has &lt;title&gt; tag in &lt;head&gt; tag of the frame. though I can&#39;t post my full html code here, I can provide the overview of how it looks  &lt;iframe id=&quot;xxx&quot; width=&quot;xxx&quot; Style=&quot;xxxx&quot; &gt;      &lt;html&gt;       &lt;head&gt;        &lt;title&gt; xxxxxxx&lt;/title&gt;     &lt;/head&gt;    &lt;body&gt;         some element related tags within the frame     &lt;/body&gt;    &lt;/html&gt;   &lt;/iframe&gt;"}],"answers":[{"tags":[],"owner":{"account_id":407222,"reputation":3253,"user_id":777171,"accept_rate":27,"display_name":"Trimantra Software Solution"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496749041,"creation_date":1496749041,"answer_id":44389005,"question_id":44388268,"body_markdown":"Use Below code to achieve the same\r\n\r\n    // before switching frame\r\n    \r\n    driver.getTitle(); \r\n    //or\r\n\r\n    driver.find_element_by_tag_name(&quot;title&quot;).get_attribute(&quot;innerHTML&quot;)\r\n\r\nand after switching frame \r\n\r\n\r\n    driver.switchTo().frame(&quot;frame name/id&quot;);\r\n    driver.find_element_by_tag_name(&quot;title&quot;).get_attribute(&quot;innerHTML&quot;)\r\n\r\nHope This will help as I&#39;m able to do the same using this code\r\n   ","title":"How to get the Title of inner frame in selenium webdriver?","body":"<p>Use Below code to achieve the same</p>\n\n<pre><code>// before switching frame\n\ndriver.getTitle(); \n//or\n\ndriver.find_element_by_tag_name(\"title\").get_attribute(\"innerHTML\")\n</code></pre>\n\n<p>and after switching frame </p>\n\n<pre><code>driver.switchTo().frame(\"frame name/id\");\ndriver.find_element_by_tag_name(\"title\").get_attribute(\"innerHTML\")\n</code></pre>\n\n<p>Hope This will help as I'm able to do the same using this code</p>\n"},{"tags":[],"owner":{"account_id":18098574,"reputation":324,"user_id":13156642,"display_name":"Diego Montania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687471606,"creation_date":1626370372,"answer_id":68398396,"question_id":44388268,"body_markdown":"Using C#, I get the correct frame title:\r\n\r\n```c#\r\n//store all frames\r\nvar frames = _driver.FindElements(By.TagName(&quot;iframe&quot;));\r\n\r\n//loop through frames\r\nforeach (var frame in frames)\r\n{\r\n     //just do debug\r\n     Console.WriteLine(frame.GetAttribute(&quot;title&quot;));\r\n}\r\n\r\n//do your thing...\r\n```","title":"How to get the Title of inner frame in selenium webdriver?","body":"<p>Using C#, I get the correct frame title:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>//store all frames\nvar frames = _driver.FindElements(By.TagName(&quot;iframe&quot;));\n\n//loop through frames\nforeach (var frame in frames)\n{\n     //just do debug\n     Console.WriteLine(frame.GetAttribute(&quot;title&quot;));\n}\n\n//do your thing...\n</code></pre>\n"}],"owner":{"account_id":11046939,"reputation":31,"user_id":8112671,"accept_rate":25,"display_name":"Sri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44389005,"answer_count":2,"score":0,"last_activity_date":1687471606,"creation_date":1496746988,"question_id":44388268,"body_markdown":"In my program, I am trying to get the Title of the inner frame by switching the driver control to inner frame with the help of getTitle() method. But,it is still return the title of main page.\r\nplease find the below bit of code I tried with\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    driver.get(&quot;url&quot;);\r\n    driver.switchTo().frame(&quot;frame name/id&quot;);\r\n    driver.getTitle();\r\n\r\n\r\nIs there any way to get the Title of the inner frame in selenium webdriver using Java.","title":"How to get the Title of inner frame in selenium webdriver?","body":"<p>In my program, I am trying to get the Title of the inner frame by switching the driver control to inner frame with the help of getTitle() method. But,it is still return the title of main page.\nplease find the below bit of code I tried with</p>\n\n<pre><code>WebDriver driver = new FirefoxDriver();\ndriver.get(\"url\");\ndriver.switchTo().frame(\"frame name/id\");\ndriver.getTitle();\n</code></pre>\n\n<p>Is there any way to get the Title of the inner frame in selenium webdriver using Java.</p>\n"},{"tags":["java","spring","junit","spring-test"],"comments":[{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":0,"creation_date":1557179450,"post_id":47775560,"comment_id":98670651,"body_markdown":"Are you interested only on the response for Junit &lt;=4 or you want it for Junit 5 too?","body":"Are you interested only on the response for Junit &lt;=4 or you want it for Junit 5 too?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":2,"creation_date":1557209777,"post_id":47775560,"comment_id":98676929,"body_markdown":"always most recent version.","body":"always most recent version."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513094399,"creation_date":1513093544,"answer_id":47776447,"question_id":47775560,"body_markdown":"You can&#39;t do that out-of-the-box. The [`@Sql` annotation](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html) only has [two modes](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.ExecutionPhase.html#BEFORE_TEST_METHOD) - `BEFORE_TEST_METHOD` and `AFTER_TEST_METHOD`.\r\n\r\nThe listener responsible for executing these scripts, [`SqlScriptsTestExecutionListener`](https://docs.spring.io/autorepo/docs/spring/4.1.1.RELEASE/javadoc-api/org/springframework/test/context/jdbc/SqlScriptsTestExecutionListener.html), does not implement before or after-class methods.\r\n\r\n---\r\n\r\nTo work around this, I&#39;d implement my own [`TestExecutionListener`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html), wrapping the default `SqlScriptsTestExecutionListener`. You can then declare on your test to use the new listener rather than the old ones.\r\n\r\n    public class BeforeClassSqlScriptsTestExecutionListener implements TestExecutionListener\r\n    {    \r\n        @Override\r\n        public void beforeTestClass(final TestContext testContext) throws Exception\r\n        {\r\n            // Note, we&#39;re deliberately calling beforeTest*Method*\r\n            new SqlScriptsTestExecutionListener().beforeTestMethod(testContext);\r\n        }\r\n    \r\n        @Override\r\n        public void prepareTestInstance(final TestContext testContext) { }\r\n    \r\n        @Override\r\n        public void beforeTestMethod(final TestContext testContext) { }\r\n    \r\n        @Override\r\n        public void afterTestMethod(final TestContext testContext) { }\r\n    \r\n        @Override\r\n        public void afterTestClass(final TestContext testContext) { }\r\n    }\r\n\r\nYour test would then become:\r\n\r\n    @TestExecutionListeners(\r\n        listeners = { BeforeClassSqlScriptsTestExecutionListener.class },\r\n        /* Here, we&#39;re replacing more than just SqlScriptsTestExecutionListener, so manually\r\n           include any of the default above if they&#39;re still needed: */\r\n        mergeMode = TestExecutionListeners.MergeMode.REPLACE_DEFAULTS\r\n    )\r\n    @org.springframework.test.context.jdbc.Sql(\r\n        scripts = &quot;classpath:schema-test.sql&quot;,\r\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD\r\n    )\r\n    public class MyTest\r\n    {\r\n        @Test\r\n        public void test1() { }\r\n    \r\n        @Test\r\n        public void test2() { }\r\n    }","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>You can't do that out-of-the-box. The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\" rel=\"nofollow noreferrer\"><code>@Sql</code> annotation</a> only has <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.ExecutionPhase.html#BEFORE_TEST_METHOD\" rel=\"nofollow noreferrer\">two modes</a> - <code>BEFORE_TEST_METHOD</code> and <code>AFTER_TEST_METHOD</code>.</p>\n\n<p>The listener responsible for executing these scripts, <a href=\"https://docs.spring.io/autorepo/docs/spring/4.1.1.RELEASE/javadoc-api/org/springframework/test/context/jdbc/SqlScriptsTestExecutionListener.html\" rel=\"nofollow noreferrer\"><code>SqlScriptsTestExecutionListener</code></a>, does not implement before or after-class methods.</p>\n\n<hr>\n\n<p>To work around this, I'd implement my own <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html\" rel=\"nofollow noreferrer\"><code>TestExecutionListener</code></a>, wrapping the default <code>SqlScriptsTestExecutionListener</code>. You can then declare on your test to use the new listener rather than the old ones.</p>\n\n<pre><code>public class BeforeClassSqlScriptsTestExecutionListener implements TestExecutionListener\n{    \n    @Override\n    public void beforeTestClass(final TestContext testContext) throws Exception\n    {\n        // Note, we're deliberately calling beforeTest*Method*\n        new SqlScriptsTestExecutionListener().beforeTestMethod(testContext);\n    }\n\n    @Override\n    public void prepareTestInstance(final TestContext testContext) { }\n\n    @Override\n    public void beforeTestMethod(final TestContext testContext) { }\n\n    @Override\n    public void afterTestMethod(final TestContext testContext) { }\n\n    @Override\n    public void afterTestClass(final TestContext testContext) { }\n}\n</code></pre>\n\n<p>Your test would then become:</p>\n\n<pre><code>@TestExecutionListeners(\n    listeners = { BeforeClassSqlScriptsTestExecutionListener.class },\n    /* Here, we're replacing more than just SqlScriptsTestExecutionListener, so manually\n       include any of the default above if they're still needed: */\n    mergeMode = TestExecutionListeners.MergeMode.REPLACE_DEFAULTS\n)\n@org.springframework.test.context.jdbc.Sql(\n    scripts = \"classpath:schema-test.sql\",\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD\n)\npublic class MyTest\n{\n    @Test\n    public void test1() { }\n\n    @Test\n    public void test2() { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3953719,"reputation":1153,"user_id":3263041,"display_name":"Florian Lopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550149230,"creation_date":1540297766,"answer_id":52949135,"question_id":47775560,"body_markdown":"This code throws an `IllegalStateException` (Spring 5.0.1) because of the `getTestMethod()` method in `DefaultTestContext.java`: \r\n\r\n    public final Method getTestMethod() {\r\n\t\tMethod testMethod = this.testMethod;\r\n\t\tAssert.state(testMethod != null, &quot;No test method&quot;);\r\n\t\treturn testMethod;\r\n\t}\r\n\r\nWhen calling the `beforeTestClass` method through your proposed implementation, the `textContext` does not contain a valid `testMethod` (which is normal at this stage):\r\n\r\n    public class BeforeClassSqlScriptsTestExecutionListener implements TestExecutionListener {\r\n\r\n        @Override\r\n        public void beforeTestClass(TestContext testContext) throws Exception {\r\n            new SqlScriptsTestExecutionListener().beforeTestMethod(testContext);\r\n        }\r\n    }\r\n\r\nWhen the code responsible of running SQL scripts (in the `SqlScriptsTestExecutionListener`) is executed, a valid `testMethod` is required: \r\n\r\n    Set&lt;Sql&gt; sqlAnnotations = AnnotatedElementUtils.getMergedRepeatableAnnotations(\r\n\t\t\t\ttestContext.getTestMethod(), Sql.class, SqlGroup.class);\r\n\r\nI ended up using this workaround:\r\n\r\n    @Before\r\n    public void setUp() {\r\n        // Manually initialize DB as @Sql annotation doesn&#39;t support class-level execution phase (actually executed before every test method)\r\n        // See https://jira.spring.io/browse/SPR-14357\r\n        if (!dbInitialized) {\r\n            final ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\r\n            resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/sql/[...].sql&quot;));\r\n            resourceDatabasePopulator.execute(dataSource);\r\n            dbInitialized = true;\r\n        }\r\n        [...]\r\n    }\r\n","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>This code throws an <code>IllegalStateException</code> (Spring 5.0.1) because of the <code>getTestMethod()</code> method in <code>DefaultTestContext.java</code>: </p>\n\n<pre><code>public final Method getTestMethod() {\n    Method testMethod = this.testMethod;\n    Assert.state(testMethod != null, \"No test method\");\n    return testMethod;\n}\n</code></pre>\n\n<p>When calling the <code>beforeTestClass</code> method through your proposed implementation, the <code>textContext</code> does not contain a valid <code>testMethod</code> (which is normal at this stage):</p>\n\n<pre><code>public class BeforeClassSqlScriptsTestExecutionListener implements TestExecutionListener {\n\n    @Override\n    public void beforeTestClass(TestContext testContext) throws Exception {\n        new SqlScriptsTestExecutionListener().beforeTestMethod(testContext);\n    }\n}\n</code></pre>\n\n<p>When the code responsible of running SQL scripts (in the <code>SqlScriptsTestExecutionListener</code>) is executed, a valid <code>testMethod</code> is required: </p>\n\n<pre><code>Set&lt;Sql&gt; sqlAnnotations = AnnotatedElementUtils.getMergedRepeatableAnnotations(\n            testContext.getTestMethod(), Sql.class, SqlGroup.class);\n</code></pre>\n\n<p>I ended up using this workaround:</p>\n\n<pre><code>@Before\npublic void setUp() {\n    // Manually initialize DB as @Sql annotation doesn't support class-level execution phase (actually executed before every test method)\n    // See https://jira.spring.io/browse/SPR-14357\n    if (!dbInitialized) {\n        final ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\n        resourceDatabasePopulator.addScript(new ClassPathResource(\"/sql/[...].sql\"));\n        resourceDatabasePopulator.execute(dataSource);\n        dbInitialized = true;\n    }\n    [...]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1687471457,"creation_date":1557166635,"answer_id":56010435,"question_id":47775560,"body_markdown":"For JUnit 5, the straight forward **clean** *solution*:  \r\n\r\n    @MyInMemoryDbConfig\r\n    //@Sql(value = {&quot;/appconfig.sql&quot;, &quot;/album.sql&quot;}) -&gt; code below is equivalent but at class level\r\n    class SomeServiceTest {\r\n    \t@BeforeAll\r\n    \tvoid setup(@Autowired DataSource dataSource) {\r\n    \t\ttry (Connection conn = dataSource.getConnection()) {\r\n    \t\t\t// you&#39;ll have to make sure conn.autoCommit = true (default for e.g. H2)\r\n    \t\t\t// e.g. url=jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1;MODE=MySQL\r\n    \t\t\tScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;appconfig.sql&quot;));\r\n\t    \t\tScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;album.sql&quot;));\r\n\t\t    }\r\n    \t}\r\n    \t// your @Test methods follow ...\r\n\r\nbut when your database connections are **not** configured with `autoCommit = true` you&#39;ll have to wrap all in a transaction:  \r\n\r\n    @RootInMemoryDbConfig\r\n    @Slf4j\r\n    class SomeServiceTest {\r\n    \t@BeforeAll\r\n    \tvoid setup(@Autowired DataSource dataSource,\r\n    \t\t\t@Autowired PlatformTransactionManager transactionManager) {\r\n    \t\tnew TransactionTemplate(transactionManager).execute((ts) -&gt; {\r\n    \t\t\ttry (Connection conn = dataSource.getConnection()) {\r\n    \t\t\t\tScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;appconfig.sql&quot;));\r\n    \t\t\t\tScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;album.sql&quot;));\r\n    \t\t\t\t// should work without manually commit but didn&#39;t for me (because of using AUTOCOMMIT=OFF)\r\n    \t\t\t\t// I use url=jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1;MODE=MySQL;AUTOCOMMIT=OFF\r\n    \t\t\t\t// same will happen with DataSourceInitializer &amp; DatabasePopulator (at least with this setup)\r\n    \t\t\t\tconn.commit();\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\tSomeServiceTest.log.error(e.getMessage(), e);\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t}\r\n    \t// your @Test methods follow ...\r\n\r\nWhy **clean** *solution*?  \r\n\r\nBecause according to [Script Configuration with @SqlConfig][1]:\r\n\r\n&gt; The configuration options provided by `@Sql` and `@SqlConfig` are\r\n&gt; equivalent to those supported by `ScriptUtils` and\r\n&gt; `ResourceDatabasePopulator` but are a superset of those provided by the `&lt;jdbc:initialize-database/&gt;` XML namespace element.\r\n\r\n**Bonus**\r\n\r\nYou can mix this approach with other `@Sql` declarations.\r\n \r\n\r\n  [1]: https://docs.spring.io/spring/docs/5.2.0.M1/spring-framework-reference/testing.html#script-configuration-with-code-sqlconfig-code","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>For JUnit 5, the straight forward <strong>clean</strong> <em>solution</em>:</p>\n<pre><code>@MyInMemoryDbConfig\n//@Sql(value = {&quot;/appconfig.sql&quot;, &quot;/album.sql&quot;}) -&gt; code below is equivalent but at class level\nclass SomeServiceTest {\n    @BeforeAll\n    void setup(@Autowired DataSource dataSource) {\n        try (Connection conn = dataSource.getConnection()) {\n            // you'll have to make sure conn.autoCommit = true (default for e.g. H2)\n            // e.g. url=jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1;MODE=MySQL\n            ScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;appconfig.sql&quot;));\n            ScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;album.sql&quot;));\n        }\n    }\n    // your @Test methods follow ...\n</code></pre>\n<p>but when your database connections are <strong>not</strong> configured with <code>autoCommit = true</code> you'll have to wrap all in a transaction:</p>\n<pre><code>@RootInMemoryDbConfig\n@Slf4j\nclass SomeServiceTest {\n    @BeforeAll\n    void setup(@Autowired DataSource dataSource,\n            @Autowired PlatformTransactionManager transactionManager) {\n        new TransactionTemplate(transactionManager).execute((ts) -&gt; {\n            try (Connection conn = dataSource.getConnection()) {\n                ScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;appconfig.sql&quot;));\n                ScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;album.sql&quot;));\n                // should work without manually commit but didn't for me (because of using AUTOCOMMIT=OFF)\n                // I use url=jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1;MODE=MySQL;AUTOCOMMIT=OFF\n                // same will happen with DataSourceInitializer &amp; DatabasePopulator (at least with this setup)\n                conn.commit();\n            } catch (SQLException e) {\n                SomeServiceTest.log.error(e.getMessage(), e);\n            }\n            return null;\n        });\n    }\n    // your @Test methods follow ...\n</code></pre>\n<p>Why <strong>clean</strong> <em>solution</em>?</p>\n<p>Because according to <a href=\"https://docs.spring.io/spring/docs/5.2.0.M1/spring-framework-reference/testing.html#script-configuration-with-code-sqlconfig-code\" rel=\"nofollow noreferrer\">Script Configuration with @SqlConfig</a>:</p>\n<blockquote>\n<p>The configuration options provided by <code>@Sql</code> and <code>@SqlConfig</code> are\nequivalent to those supported by <code>ScriptUtils</code> and\n<code>ResourceDatabasePopulator</code> but are a superset of those provided by the <code>&lt;jdbc:initialize-database/&gt;</code> XML namespace element.</p>\n</blockquote>\n<p><strong>Bonus</strong></p>\n<p>You can mix this approach with other <code>@Sql</code> declarations.</p>\n"},{"tags":[],"owner":{"account_id":16983571,"reputation":348,"user_id":12284870,"display_name":"Yonas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1609760462,"creation_date":1575037449,"answer_id":59106533,"question_id":47775560,"body_markdown":"For JUnit 5 I second the solution by adrhc.\r\n\r\nFor Junit 4, you can do:\r\n\r\n```\r\n@Autowired\r\nprivate DataSource database;\r\n\r\nprivate static boolean dataLoaded = false;\r\n\r\n    @Before\r\n    public void setup() throws SQLException {\r\n        if(!dataLoaded) {\r\n            try (Connection con = database.getConnection()) {\r\n                ScriptUtils.executeSqlScript(con, new ClassPathResource(&quot;path/to/script.sql&quot;));\r\n                dataLoaded = true;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n(Again, assuming your connection has `autoCommit=true`, see post by adrhc.)\r\n\r\nIf you intend to run your tests in parallel then you&#39;ll want to make the method synchronized.","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>For JUnit 5 I second the solution by adrhc.</p>\n<p>For Junit 4, you can do:</p>\n<pre><code>@Autowired\nprivate DataSource database;\n\nprivate static boolean dataLoaded = false;\n\n    @Before\n    public void setup() throws SQLException {\n        if(!dataLoaded) {\n            try (Connection con = database.getConnection()) {\n                ScriptUtils.executeSqlScript(con, new ClassPathResource(&quot;path/to/script.sql&quot;));\n                dataLoaded = true;\n            }\n        }\n    }\n</code></pre>\n<p>(Again, assuming your connection has <code>autoCommit=true</code>, see post by adrhc.)</p>\n<p>If you intend to run your tests in parallel then you'll want to make the method synchronized.</p>\n"},{"tags":[],"owner":{"account_id":14345584,"reputation":21,"user_id":10362519,"display_name":"Yury Smuraha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613748808,"creation_date":1613748808,"answer_id":66280483,"question_id":47775560,"body_markdown":" @BeforeAll and @BeforeClass annotations require &#39;static&#39; methods. So it does not work.\r\nWhat about @PostConstruct in configuration file? It works for me fine.\r\n\r\n    @TestConfiguration\r\n    public class IntegrationTestConfiguration {\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @PostConstruct\r\n    public void initDB() throws SQLException {\r\n        try (Connection con = dataSource.getConnection()) {\r\n            ScriptUtils.executeSqlScript(con, new ClassPathResource(&quot;data.sql&quot;));\r\n        }\r\n    }\r\n    }\r\n\r\n    @ContextConfiguration(classes = {IntegrationTestConfiguration.class})\r\n    public class YourIntegrationTest {\r\n\r\n    }","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>@BeforeAll and @BeforeClass annotations require 'static' methods. So it does not work.\nWhat about @PostConstruct in configuration file? It works for me fine.</p>\n<pre><code>@TestConfiguration\npublic class IntegrationTestConfiguration {\n\n@Autowired\nprivate DataSource dataSource;\n\n@PostConstruct\npublic void initDB() throws SQLException {\n    try (Connection con = dataSource.getConnection()) {\n        ScriptUtils.executeSqlScript(con, new ClassPathResource(&quot;data.sql&quot;));\n    }\n}\n}\n\n@ContextConfiguration(classes = {IntegrationTestConfiguration.class})\npublic class YourIntegrationTest {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674786149,"creation_date":1674786149,"answer_id":75253556,"question_id":47775560,"body_markdown":"An alternative would be to do a setup and tear down for each method if it does not result in unacceptable test run time.\r\n```\r\n@Sql({&quot;/setup.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\r\n@Sql({&quot;/teardown.sql&quot;}, executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\r\n```\r\n\r\nAnother way would be to place test data in the following files as explained by https://www.baeldung.com/spring-boot-data-sql-and-schema-sql:\r\n- src/test/resources/schema.sql\r\n- src/test/resources/data.sql","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>An alternative would be to do a setup and tear down for each method if it does not result in unacceptable test run time.</p>\n<pre><code>@Sql({&quot;/setup.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\n@Sql({&quot;/teardown.sql&quot;}, executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\n</code></pre>\n<p>Another way would be to place test data in the following files as explained by <a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-data-sql-and-schema-sql</a>:</p>\n<ul>\n<li>src/test/resources/schema.sql</li>\n<li>src/test/resources/data.sql</li>\n</ul>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16792,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":56010435,"answer_count":6,"score":19,"last_activity_date":1687471457,"creation_date":1513090618,"question_id":47775560,"body_markdown":"How can I tell the `@Sql` annotation to run only once for the class, and not for each `@Test` method?\r\n\r\nLike having the same behaviour as `@BeforeClass`?\r\n\r\n\r\n    @org.springframework.test.context.jdbc.Sql(\r\n         scripts = &quot;classpath:schema-test.sql&quot;,\r\n         executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD\r\n    )\r\n    public class TestClass {\r\n          @Test\r\n          public void test1() {\r\n            //runs the @Sql script\r\n          }\r\n    \r\n          @Test\r\n          public void test2() {\r\n            //runs the @Sql script again\r\n          }\r\n    }","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>How can I tell the <code>@Sql</code> annotation to run only once for the class, and not for each <code>@Test</code> method?</p>\n\n<p>Like having the same behaviour as <code>@BeforeClass</code>?</p>\n\n<pre><code>@org.springframework.test.context.jdbc.Sql(\n     scripts = \"classpath:schema-test.sql\",\n     executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD\n)\npublic class TestClass {\n      @Test\n      public void test1() {\n        //runs the @Sql script\n      }\n\n      @Test\n      public void test2() {\n        //runs the @Sql script again\n      }\n}\n</code></pre>\n"},{"tags":["java","sdkman"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1687470687,"post_id":57990157,"comment_id":134945570,"body_markdown":"I keep running across this question when I look up how to list currently installed versions of Java.  I&#39;ve updated the title to make it clear this question is not about that.","body":"I keep running across this question when I look up how to list currently installed versions of Java.  I&#39;ve updated the title to make it clear this question is not about that."}],"answers":[{"tags":[],"owner":{"account_id":16445397,"reputation":193,"user_id":11880340,"display_name":"Anders"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1569180488,"creation_date":1569180488,"answer_id":58052719,"question_id":57990157,"body_markdown":"I have now finally realised why I get these different lists. The new box is running a 32 bit version of Ubuntu. Only a small subset of pubished JDK&#39;s apparently support 32 bit. ","title":"How do I list all versions of Java available for install in sdkman?","body":"<p>I have now finally realised why I get these different lists. The new box is running a 32 bit version of Ubuntu. Only a small subset of pubished JDK's apparently support 32 bit. </p>\n"}],"owner":{"account_id":16445397,"reputation":193,"user_id":11880340,"display_name":"Anders"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22521,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":58052719,"answer_count":1,"score":12,"last_activity_date":1687470652,"creation_date":1568801054,"question_id":57990157,"body_markdown":"On a newly installed Ubuntu 18.04 box with sdkman I only get a subset of the java versions available on my other (old) Ubuntu 18.04 box. Both are running SDKMAN 5.7.3+337. What am I missing? \r\n\r\nI checked the sdkman docs, but could not find som obvious config option I have missed. Also I found this post, which seems similar to mine - though the solution seems rather complex (and not in the spirit of sdkman): https://stackoverflow.com/questions/55809928/sdkman-is-missing-a-specific-java-version\r\n\r\n\r\nRunning sdkman I get the following differences in output:\r\n```\r\nNew box:\r\n$ sdk list java\r\n================================================================================\r\nAvailable Java Versions\r\n================================================================================\r\n Vendor        | Use | Version      | Dist    | Status     | Identifier\r\n--------------------------------------------------------------------------------\r\n BellSoft      |     | 12.0.2       | librca  |            | 12.0.2-librca       \r\n               |     | 11.0.4       | librca  |            | 11.0.4-librca       \r\n               |     | 8.0.222      | librca  |            | 8.0.222-librca      \r\n================================================================================\r\nUse the Identifier for installation:\r\n\r\n    $ sdk install java 11.0.3.hs-adpt\r\n================================================================================```\r\n\r\n\r\n\r\nOld box:\r\n\r\n$ sdk list java\r\n================================================================================\r\nAvailable Java Versions\r\n================================================================================\r\n Vendor        | Use | Version      | Dist    | Status     | Identifier\r\n--------------------------------------------------------------------------------\r\n AdoptOpenJDK  |     | 12.0.1.j9    | adpt    |            | 12.0.1.j9-adpt      \r\n               |     | 12.0.1.hs    | adpt    |            | 12.0.1.hs-adpt      \r\n               |     | 11.0.4.j9    | adpt    |            | 11.0.4.j9-adpt      \r\n               |     | 11.0.4.hs    | adpt    |            | 11.0.4.hs-adpt      \r\n               |     | 8.0.222.j9   | adpt    |            | 8.0.222.j9-adpt     \r\n               |     | 8.0.222.hs   | adpt    |            | 8.0.222.hs-adpt     \r\n Amazon        |     | 11.0.4       | amzn    |            | 11.0.4-amzn         \r\n               |     | 8.0.222      | amzn    |            | 8.0.222-amzn        \r\n Azul Zulu     |     | 12.0.2       | zulu    |            | 12.0.2-zulu         \r\n               |     | 11.0.4       | zulu    |            | 11.0.4-zulu         \r\n               |     | 11.0.1       | zulu    | local only | 11.0.1-zulu         \r\n               |     | 10.0.2       | zulu    |            | 10.0.2-zulu         \r\n               |     | 9.0.7        | zulu    |            | 9.0.7-zulu          \r\n               |     | 8.0.222      | zulu    |            | 8.0.222-zulu        \r\n               |     | 8.0.181      | zulu    | local only | 8.0.181-zulu        \r\n               |     | 7.0.232      | zulu    |            | 7.0.232-zulu        \r\n               | &gt;&gt;&gt; | 7.0.191      | zulu    | local only | 7.0.191-zulu        \r\n               |     | 6.0.119      | zulu    |            | 6.0.119-zulu        \r\n Azul ZuluFX   |     | 11.0.2       | zulufx  |            | 11.0.2-zulufx       \r\n               |     | 8.0.202      | zulufx  |            | 8.0.202-zulufx      \r\n BellSoft      |     | 12.0.2       | librca  |            | 12.0.2-librca       \r\n               |     | 11.0.4       | librca  |            | 11.0.4-librca       \r\n               |     | 8.0.222      | librca  |            | 8.0.222-librca      \r\n GraalVM       |     | 19.2.0       | grl     |            | 19.2.0-grl          \r\n               |     | 19.2.0.1     | grl     |            | 19.2.0.1-grl        \r\n               |     | 19.1.1       | grl     |            | 19.1.1-grl          \r\n               |     | 19.0.2       | grl     |            | 19.0.2-grl          \r\n               |     | 1.0.0        | grl     |            | 1.0.0-rc-16-grl     \r\n Java.net      |     | 14.ea.14     | open    |            | 14.ea.14-open       \r\n               |     | 13.ea.33     | open    |            | 13.ea.33-open       \r\n               |     | 12.0.2       | open    |            | 12.0.2-open         \r\n               |     | 11.0.2       | open    |            | 11.0.2-open         \r\n               |     | 10.0.2       | open    |            | 10.0.2-open         \r\n               |     | 9.0.4        | open    |            | 9.0.4-open          \r\n SAP           |     | 12.0.2       | sapmchn |            | 12.0.2-sapmchn      \r\n               |     | 11.0.4       | sapmchn |            | 11.0.4-sapmchn      \r\n================================================================================\r\nUse the Identifier for installation:\r\n\r\n    $ sdk install java 11.0.3.hs-adpt\r\n================================================================================\r\n```\r\n\r\n\r\nAny ideas?","title":"How do I list all versions of Java available for install in sdkman?","body":"<p>On a newly installed Ubuntu 18.04 box with sdkman I only get a subset of the java versions available on my other (old) Ubuntu 18.04 box. Both are running SDKMAN 5.7.3+337. What am I missing? </p>\n\n<p>I checked the sdkman docs, but could not find som obvious config option I have missed. Also I found this post, which seems similar to mine - though the solution seems rather complex (and not in the spirit of sdkman): <a href=\"https://stackoverflow.com/questions/55809928/sdkman-is-missing-a-specific-java-version\">sdkman is missing a specific java version</a></p>\n\n<p>Running sdkman I get the following differences in output:</p>\n\n<pre><code>New box:\n$ sdk list java\n================================================================================\nAvailable Java Versions\n================================================================================\n Vendor        | Use | Version      | Dist    | Status     | Identifier\n--------------------------------------------------------------------------------\n BellSoft      |     | 12.0.2       | librca  |            | 12.0.2-librca       \n               |     | 11.0.4       | librca  |            | 11.0.4-librca       \n               |     | 8.0.222      | librca  |            | 8.0.222-librca      \n================================================================================\nUse the Identifier for installation:\n\n    $ sdk install java 11.0.3.hs-adpt\n================================================================================```\n\n\n\nOld box:\n\n$ sdk list java\n================================================================================\nAvailable Java Versions\n================================================================================\n Vendor        | Use | Version      | Dist    | Status     | Identifier\n--------------------------------------------------------------------------------\n AdoptOpenJDK  |     | 12.0.1.j9    | adpt    |            | 12.0.1.j9-adpt      \n               |     | 12.0.1.hs    | adpt    |            | 12.0.1.hs-adpt      \n               |     | 11.0.4.j9    | adpt    |            | 11.0.4.j9-adpt      \n               |     | 11.0.4.hs    | adpt    |            | 11.0.4.hs-adpt      \n               |     | 8.0.222.j9   | adpt    |            | 8.0.222.j9-adpt     \n               |     | 8.0.222.hs   | adpt    |            | 8.0.222.hs-adpt     \n Amazon        |     | 11.0.4       | amzn    |            | 11.0.4-amzn         \n               |     | 8.0.222      | amzn    |            | 8.0.222-amzn        \n Azul Zulu     |     | 12.0.2       | zulu    |            | 12.0.2-zulu         \n               |     | 11.0.4       | zulu    |            | 11.0.4-zulu         \n               |     | 11.0.1       | zulu    | local only | 11.0.1-zulu         \n               |     | 10.0.2       | zulu    |            | 10.0.2-zulu         \n               |     | 9.0.7        | zulu    |            | 9.0.7-zulu          \n               |     | 8.0.222      | zulu    |            | 8.0.222-zulu        \n               |     | 8.0.181      | zulu    | local only | 8.0.181-zulu        \n               |     | 7.0.232      | zulu    |            | 7.0.232-zulu        \n               | &gt;&gt;&gt; | 7.0.191      | zulu    | local only | 7.0.191-zulu        \n               |     | 6.0.119      | zulu    |            | 6.0.119-zulu        \n Azul ZuluFX   |     | 11.0.2       | zulufx  |            | 11.0.2-zulufx       \n               |     | 8.0.202      | zulufx  |            | 8.0.202-zulufx      \n BellSoft      |     | 12.0.2       | librca  |            | 12.0.2-librca       \n               |     | 11.0.4       | librca  |            | 11.0.4-librca       \n               |     | 8.0.222      | librca  |            | 8.0.222-librca      \n GraalVM       |     | 19.2.0       | grl     |            | 19.2.0-grl          \n               |     | 19.2.0.1     | grl     |            | 19.2.0.1-grl        \n               |     | 19.1.1       | grl     |            | 19.1.1-grl          \n               |     | 19.0.2       | grl     |            | 19.0.2-grl          \n               |     | 1.0.0        | grl     |            | 1.0.0-rc-16-grl     \n Java.net      |     | 14.ea.14     | open    |            | 14.ea.14-open       \n               |     | 13.ea.33     | open    |            | 13.ea.33-open       \n               |     | 12.0.2       | open    |            | 12.0.2-open         \n               |     | 11.0.2       | open    |            | 11.0.2-open         \n               |     | 10.0.2       | open    |            | 10.0.2-open         \n               |     | 9.0.4        | open    |            | 9.0.4-open          \n SAP           |     | 12.0.2       | sapmchn |            | 12.0.2-sapmchn      \n               |     | 11.0.4       | sapmchn |            | 11.0.4-sapmchn      \n================================================================================\nUse the Identifier for installation:\n\n    $ sdk install java 11.0.3.hs-adpt\n================================================================================\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["java","git","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1687323044,"post_id":76519900,"comment_id":134918547,"body_markdown":"Is the project already in a git repository&#39;s working directory? You&#39;ve cropped out all of those details.","body":"Is the project already in a git repository&#39;s working directory? You&#39;ve cropped out all of those details."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687323108,"post_id":76519900,"comment_id":134918559,"body_markdown":"According to your screenshot those files are `.gitignore`d.","body":"According to your screenshot those files are <code>.gitignore</code>d."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1687323113,"post_id":76519900,"comment_id":134918560,"body_markdown":"yes! it is. It was working before. some settings changed, which I am not aware off.","body":"yes! it is. It was working before. some settings changed, which I am not aware off."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1687323176,"post_id":76519900,"comment_id":134918563,"body_markdown":"why there files are gitignored? It should&#39;nt be1 How can I change this settings","body":"why there files are gitignored? It should&#39;nt be1 How can I change this settings"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687323833,"post_id":76519900,"comment_id":134918653,"body_markdown":"[`.gitignore`](https://git-scm.com/docs/gitignore) files are text files that can be edited and by default hidden as they start with `.`.","body":"<a href=\"https://git-scm.com/docs/gitignore\" rel=\"nofollow noreferrer\"><code>.gitignore</code></a> files are text files that can be edited and by default hidden as they start with <code>.</code>."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1687324467,"post_id":76519900,"comment_id":134918727,"body_markdown":"how you will tell that the file is `.gitignore`.  How can I add all the files in `git staged` window?","body":"how you will tell that the file is <code>.gitignore</code>.  How can I add all the files in <code>git staged</code> window?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687328438,"post_id":76519900,"comment_id":134919329,"body_markdown":"I linked to the `.gitignore` documentation. `.gitignore`d files cannot be staged for reasons. Please show an uncropped screenshot and all relevant `.gitignore` files (there might be more than one).","body":"I linked to the <code>.gitignore</code> documentation. <code>.gitignore</code>d files cannot be staged for reasons. Please show an uncropped screenshot and all relevant <code>.gitignore</code> files (there might be more than one)."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1687383398,"post_id":76519900,"comment_id":134930913,"body_markdown":"@howlger: - I added the new image, the yellow highlighted are the new files which are not being added to staged window.","body":"@howlger: - I added the new image, the yellow highlighted are the new files which are not being added to staged window."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687414201,"post_id":76519900,"comment_id":134933832,"body_markdown":"In the _Package Explorere_ view menu (the three dots) choose _Filters..._ and in the filters dialog uncheck _.* resoureces_ to make the `.gitignore` files visible. Add the content of the `.gitignore` files (there might be more than one) to your question. If you used Git also on the command line, in the _Git Staging_ view hit the refresh button.","body":"In the <i>Package Explorere</i> view menu (the three dots) choose <i>Filters...</i> and in the filters dialog uncheck <i>.* resoureces</i> to make the <code>.gitignore</code> files visible. Add the content of the <code>.gitignore</code> files (there might be more than one) to your question. If you used Git also on the command line, in the <i>Git Staging</i> view hit the refresh button."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687506890,"post_id":76519900,"comment_id":134949353,"body_markdown":"All `.gitignore` files, if any, starting from the root directory of the Git repository up to the directory containing the files matter.","body":"All <code>.gitignore</code> files, if any, starting from the root directory of the Git repository up to the directory containing the files matter."}],"answers":[{"tags":[],"owner":{"account_id":28768367,"reputation":21,"user_id":22032734,"display_name":"lib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687323086,"creation_date":1687323086,"answer_id":76520041,"question_id":76519900,"body_markdown":"Faced with similar issues in the past here is something is which worked for me.\r\n\r\nSo the first obvious thing you need to look at is .gitignore file which is causing this issue. \r\n\r\nA few months ago I was using Eclipse 2020-12 build and it had this weird issue where uncommitted changes were not visible until and unless I update the project and restart the Eclipse manually.\r\n\r\nI did a little research on the same but found nothing concrete. So the last resort option was to update the Eclipse version to the latest which indeed fixed the issue.\r\n\r\nHope this helps to you as well. ","title":"Eclipse - Git not showing new files in commit/staging","body":"<p>Faced with similar issues in the past here is something is which worked for me.</p>\n<p>So the first obvious thing you need to look at is .gitignore file which is causing this issue.</p>\n<p>A few months ago I was using Eclipse 2020-12 build and it had this weird issue where uncommitted changes were not visible until and unless I update the project and restart the Eclipse manually.</p>\n<p>I did a little research on the same but found nothing concrete. So the last resort option was to update the Eclipse version to the latest which indeed fixed the issue.</p>\n<p>Hope this helps to you as well.</p>\n"}],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687469763,"creation_date":1687320766,"question_id":76519900,"body_markdown":"I created multiple `java files`  in Eclipse &amp; I notices all new files &amp; even old files amended code are not showing in `git commit` window. I am not sure what is wrong with it.\r\n\r\nThe last action was that I converted this project to `Maven` &amp; reverted back to `Java Swing application` &amp; some settings were change which I am not aware off!\r\n\r\nTIA\r\n\r\nUpdated Image: ---\r\n[![enter image description here][1]][1]\r\n\r\nI used `Eclipse` tool for `Git` setup, including staging &amp; for other every action. I did not use `command line git`.\r\n\r\nContent of `.gitignore` file: -\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QjON4.png\r\n  [2]: https://i.stack.imgur.com/PsO50.png","title":"Eclipse - Git not showing new files in commit/staging","body":"<p>I created multiple <code>java files</code>  in Eclipse &amp; I notices all new files &amp; even old files amended code are not showing in <code>git commit</code> window. I am not sure what is wrong with it.</p>\n<p>The last action was that I converted this project to <code>Maven</code> &amp; reverted back to <code>Java Swing application</code> &amp; some settings were change which I am not aware off!</p>\n<p>TIA</p>\n<p>Updated Image: ---\n<a href=\"https://i.stack.imgur.com/QjON4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QjON4.png\" alt=\"enter image description here\" /></a></p>\n<p>I used <code>Eclipse</code> tool for <code>Git</code> setup, including staging &amp; for other every action. I did not use <code>command line git</code>.</p>\n<p>Content of <code>.gitignore</code> file: -</p>\n<p><a href=\"https://i.stack.imgur.com/PsO50.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PsO50.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1687332423,"post_id":76520498,"comment_id":134920115,"body_markdown":"Have you restored the default preference values on the relevant Content Assist preference pages?","body":"Have you restored the default preference values on the relevant Content Assist preference pages?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1687333241,"post_id":76520498,"comment_id":134920302,"body_markdown":"Does [one of the comments or the answer here](https://stackoverflow.com/q/76484336/6505250) help?","body":"Does <a href=\"https://stackoverflow.com/q/76484336/6505250\">one of the comments or the answer here</a> help?"},{"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"score":0,"creation_date":1687337584,"post_id":76520498,"comment_id":134921327,"body_markdown":"@nitind Yes I did restore defaults in preferences &gt; Java &gt; Editor &gt; Content assist but no luck. Also have imported all the classes again in the code but again no luck","body":"@nitind Yes I did restore defaults in preferences &gt; Java &gt; Editor &gt; Content assist but no luck. Also have imported all the classes again in the code but again no luck"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687340791,"post_id":76520498,"comment_id":134922070,"body_markdown":"[In my case, it was this](https://mastodon.social/@howlger/110462282002158739). In _General &gt; Keys_ select a command, set the focus into the field _Binding_ and hit Ctrl+Space. If Ctrl+Space is not shown, something is hijacking the shortcut so Eclipse and other applications do not get Ctrl+Space.","body":"<a href=\"https://mastodon.social/@howlger/110462282002158739\" rel=\"nofollow noreferrer\">In my case, it was this</a>. In <i>General &gt; Keys</i> select a command, set the focus into the field <i>Binding</i> and hit Ctrl+Space. If Ctrl+Space is not shown, something is hijacking the shortcut so Eclipse and other applications do not get Ctrl+Space."},{"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"score":1,"creation_date":1687428828,"post_id":76520498,"comment_id":134936941,"body_markdown":"@nitind Thank you. I did restore defaults in content assist &gt; advanced and it worked. I have done restore defaults in content assist and was checking. It was my bad.","body":"@nitind Thank you. I did restore defaults in content assist &gt; advanced and it worked. I have done restore defaults in content assist and was checking. It was my bad."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687508031,"post_id":76520498,"comment_id":134949582,"body_markdown":"@nitind I&#39;m pretty sure that&#39;s a [duplicate of this question](https://stackoverflow.com/q/76484336/6505250) you answered. Maybe it is related/caused by Mylyn being back in combination with an old workspace (@ Dish: with which Eclipse version did you create the workspace you currently use?). Unfortunately, [the question has been reopened by Selenium without comment](https://stackoverflow.com/posts/76520498/revisions). Could you close it again as I&#39;m not allowed to do and the other question provides more details. The number of views on both questions could indicate that it affects a lot users.","body":"@nitind I&#39;m pretty sure that&#39;s a <a href=\"https://stackoverflow.com/q/76484336/6505250\">duplicate of this question</a> you answered. Maybe it is related/caused by Mylyn being back in combination with an old workspace (@ Dish: with which Eclipse version did you create the workspace you currently use?). Unfortunately, <a href=\"https://stackoverflow.com/posts/76520498/revisions\">the question has been reopened by Selenium without comment</a>. Could you close it again as I&#39;m not allowed to do and the other question provides more details. The number of views on both questions could indicate that it affects a lot users."},{"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"score":0,"creation_date":1688712873,"post_id":76520498,"comment_id":135113290,"body_markdown":"@howlger I use eclipse kepler.  I actually tried to do restore defaults but it was my mistake in performing the action. When I again do the same properly, it worked. I tried to delete this question but as there are comments, I am not able to delete this question or close it. I am sorry.","body":"@howlger I use eclipse kepler.  I actually tried to do restore defaults but it was my mistake in performing the action. When I again do the same properly, it worked. I tried to delete this question but as there are comments, I am not able to delete this question or close it. I am sorry."}],"answers":[{"tags":[],"owner":{"account_id":28863536,"reputation":1,"user_id":22106790,"display_name":"sachin_01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687329319,"creation_date":1687329319,"answer_id":76520567,"question_id":76520498,"body_markdown":"once uninstall the IDE and then **re-install it**.\r\nhttps://www.eclipse.org/downloads/\r\n","title":"Not getting suggestions in eclipse","body":"<p>once uninstall the IDE and then <strong>re-install it</strong>.\n<a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1687332376,"creation_date":1687332376,"answer_id":76520924,"question_id":76520498,"body_markdown":"You need to restore back the _Content Assist_ default options from the Eclipse menu following the path:\r\n\r\n_Window_ -&gt; _Preferences_ -&gt; _Java_ -&gt; _Editor_ -&gt; _Content Assist_ -&gt; _Advanced_\r\n\r\nSnapshot:\r\n\r\n![ContentAssist](https://i.stack.imgur.com/kfIxU.png)","title":"Not getting suggestions in eclipse","body":"<p>You need to restore back the <em>Content Assist</em> default options from the Eclipse menu following the path:</p>\n<p><em>Window</em> -&gt; <em>Preferences</em> -&gt; <em>Java</em> -&gt; <em>Editor</em> -&gt; <em>Content Assist</em> -&gt; <em>Advanced</em></p>\n<p>Snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/kfIxU.png\" alt=\"ContentAssist\" /></p>\n"},{"tags":[],"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687428971,"creation_date":1687428971,"answer_id":76530852,"question_id":76520498,"body_markdown":"This problem can be fixed via below steps (IT worked for me)\r\n\r\n 1. Go to Windows &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist &gt;\r\n    Advanced\r\n 2. Scroll down till the end of the dialogue box where you can fine\r\n    Restore Defaults button.\r\n 3. Click on Restore Defaults and then check in your code.\r\n\r\nThe suggestions should be coming now.","title":"Not getting suggestions in eclipse","body":"<p>This problem can be fixed via below steps (IT worked for me)</p>\n<ol>\n<li>Go to Windows &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist &gt;\nAdvanced</li>\n<li>Scroll down till the end of the dialogue box where you can fine\nRestore Defaults button.</li>\n<li>Click on Restore Defaults and then check in your code.</li>\n</ol>\n<p>The suggestions should be coming now.</p>\n"}],"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76520924,"answer_count":3,"score":1,"last_activity_date":1687468817,"creation_date":1687328593,"question_id":76520498,"body_markdown":"I am using eclipse IDE for the coding of my automation test using selenium and java. It used to suggest me the methods and arguments when I use ctrl+space after &quot;.&quot; but now it is not giving any suggestions.","title":"Not getting suggestions in eclipse","body":"<p>I am using eclipse IDE for the coding of my automation test using selenium and java. It used to suggest me the methods and arguments when I use ctrl+space after &quot;.&quot; but now it is not giving any suggestions.</p>\n"},{"tags":["java","android","gradle","processing"],"answers":[{"tags":[],"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687468025,"creation_date":1687468025,"answer_id":76535661,"question_id":76535490,"body_markdown":"Have you upgraded gradle with the gradle wrapper as suggested by the error message?\r\n\r\n```\r\nIf using the gradle wrapper, try editing the distributionUrl in /home/chris/sketchbook/Calculator_5_App/android/gradle/wrapper/gradle-wrapper.properties to gradle-7.2-all.zip\r\n```\r\n\r\nIn the `wrapper.properties` file, there should be a value for `distributionUrl`. Change the last part of the URL `gradle-7.2-all.zip`:\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\n```","title":"I&#39;m having difficulty exporting my Processing code into an APK","body":"<p>Have you upgraded gradle with the gradle wrapper as suggested by the error message?</p>\n<pre><code>If using the gradle wrapper, try editing the distributionUrl in /home/chris/sketchbook/Calculator_5_App/android/gradle/wrapper/gradle-wrapper.properties to gradle-7.2-all.zip\n</code></pre>\n<p>In the <code>wrapper.properties</code> file, there should be a value for <code>distributionUrl</code>. Change the last part of the URL <code>gradle-7.2-all.zip</code>:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n"}],"owner":{"account_id":9062843,"reputation":123,"user_id":11009381,"display_name":"Math Machine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687468025,"creation_date":1687466303,"question_id":76535490,"body_markdown":"So, I&#39;m using the Processing IDE to develop an android app. I&#39;m not publishing it to the play store, I just plan on installing it onto my phone and possibly a friend&#39;s phone if they ask for it. I expect the end result to be some file called `app-debug.apk`.\r\n\r\nI’m running Processing 4.2 on Linux Mint (Ubuntu), using Processing’s Android mode. I have tested this app by plugging my phone into my computer and using USB debugging to run the app on my phone. It works. So I&#39;m pretty sure that faulty code isn&#39;t the culprit, but I could be wrong.\r\n\r\nSo, from Processing, I selected File → Export Android Project. This created a directory in my sketch folder called &quot;android&quot;, which I then entered via the terminal and typed `./gradlew assembleDebug` into the terminal. Then, I got the error message\r\n\r\n```\r\nError: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\r\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\r\n```\r\n\r\nI&#39;m not super great with gradle, so I looked this up, apparently the most likely cause for this is broken gradle files and gradle wrapper files within this directory. So I tried regenerating them by running `gradle wrapper` from the same directory. And it gave me the error\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;/home/chris/sketchbook/Calculator_5_App/android/app/build.gradle&#39; line: 1\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n\r\n&gt;Failed to apply plugin \\[id &#39;com.android.internal.version-check&#39;\\]\r\n    &gt;Minimum supported Gradle version is 7.2. Current version is 4.4.1. If using the gradle wrapper, try editing the distributionUrl in /home/chris/sketchbook/Calculator_5_App/android/gradle/wrapper/gradle-wrapper.properties to gradle-7.2-all.zip\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\n```\r\n\r\nSo, to make a long story short, this error message just means I’m expected to be using gradle version 7.2 or higher, even though I only have version 4.4.1 (at least I&#39;m pretty sure that&#39;s what it means). However, no matter how many times I use sudo apt update or sudo apt upgrade (which are commands that tell your system to update all packages that are installed, including gradle), gradle will never upgrade to a version past 4.4.1. So...that’s unfortunate. I read online that you can try manually downloading the newest version of gradle (which is currently 8.1.1) and then do some complicated root user magickery to use that to update it, but it seems very difficult and I’m not even sure if that’d work because I’m not completely sure if it’s the gradle file that’s broken or something else.\r\n\r\nUm, so yeah. I don’t really know what to do here. I’m not sure if it’s broken because it’s Processing for Android and that’s not as well maintained as the main java mode, or if it’s because I’m running it on Linux and the devs mainly focus on the Windows version (which is fair, I’m just glad they have a Linux version at all), or if it’s because I’m just stupid. It’s probably the last one.\r\n\r\nAnyways, if you need any more information, please don’t hesitate to ask. Also, because I’m sure it’ll be helpful, the android folder where I’m typing these commands from contains the files:\r\n\r\n- build.gradle\r\n- gradle.properties\r\n- gradlew\r\n- gradlew.bat\r\n- local.properties\r\n- settings.gradle\r\n\r\nand the folders:\r\n\r\n- app\r\n- wrapper\r\n\r\nThe app folder contains files `build.gradle` and `proguard-rules.pro`, and folders libs and src.\r\nThe wrapper folder contains the single file gradle-wrapper.properties\r\napp/libs contains the files `ComplexNumbers.jar` and `processing-core.jar`\r\napp/src contains the folder main, and there’s a big long directory tree structure from there.\r\n\r\nIf you want more information on said big long directory tree structure, I can give you the output of `ls -R`, which for those unfamiliar with Linux is a command which recursively shows all files, folders, and files and folders within those folders. I&#39;d also be more than happy to provide any other information you may need. Really, any help is appreciated.\r\n\r\nThank you!","title":"I&#39;m having difficulty exporting my Processing code into an APK","body":"<p>So, I'm using the Processing IDE to develop an android app. I'm not publishing it to the play store, I just plan on installing it onto my phone and possibly a friend's phone if they ask for it. I expect the end result to be some file called <code>app-debug.apk</code>.</p>\n<p>I’m running Processing 4.2 on Linux Mint (Ubuntu), using Processing’s Android mode. I have tested this app by plugging my phone into my computer and using USB debugging to run the app on my phone. It works. So I'm pretty sure that faulty code isn't the culprit, but I could be wrong.</p>\n<p>So, from Processing, I selected File → Export Android Project. This created a directory in my sketch folder called &quot;android&quot;, which I then entered via the terminal and typed <code>./gradlew assembleDebug</code> into the terminal. Then, I got the error message</p>\n<pre><code>Error: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\n</code></pre>\n<p>I'm not super great with gradle, so I looked this up, apparently the most likely cause for this is broken gradle files and gradle wrapper files within this directory. So I tried regenerating them by running <code>gradle wrapper</code> from the same directory. And it gave me the error</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/chris/sketchbook/Calculator_5_App/android/app/build.gradle' line: 1\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n\n&gt;Failed to apply plugin \\[id 'com.android.internal.version-check'\\]\n    &gt;Minimum supported Gradle version is 7.2. Current version is 4.4.1. If using the gradle wrapper, try editing the distributionUrl in /home/chris/sketchbook/Calculator_5_App/android/gradle/wrapper/gradle-wrapper.properties to gradle-7.2-all.zip\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n</code></pre>\n<p>So, to make a long story short, this error message just means I’m expected to be using gradle version 7.2 or higher, even though I only have version 4.4.1 (at least I'm pretty sure that's what it means). However, no matter how many times I use sudo apt update or sudo apt upgrade (which are commands that tell your system to update all packages that are installed, including gradle), gradle will never upgrade to a version past 4.4.1. So...that’s unfortunate. I read online that you can try manually downloading the newest version of gradle (which is currently 8.1.1) and then do some complicated root user magickery to use that to update it, but it seems very difficult and I’m not even sure if that’d work because I’m not completely sure if it’s the gradle file that’s broken or something else.</p>\n<p>Um, so yeah. I don’t really know what to do here. I’m not sure if it’s broken because it’s Processing for Android and that’s not as well maintained as the main java mode, or if it’s because I’m running it on Linux and the devs mainly focus on the Windows version (which is fair, I’m just glad they have a Linux version at all), or if it’s because I’m just stupid. It’s probably the last one.</p>\n<p>Anyways, if you need any more information, please don’t hesitate to ask. Also, because I’m sure it’ll be helpful, the android folder where I’m typing these commands from contains the files:</p>\n<ul>\n<li>build.gradle</li>\n<li>gradle.properties</li>\n<li>gradlew</li>\n<li>gradlew.bat</li>\n<li>local.properties</li>\n<li>settings.gradle</li>\n</ul>\n<p>and the folders:</p>\n<ul>\n<li>app</li>\n<li>wrapper</li>\n</ul>\n<p>The app folder contains files <code>build.gradle</code> and <code>proguard-rules.pro</code>, and folders libs and src.\nThe wrapper folder contains the single file gradle-wrapper.properties\napp/libs contains the files <code>ComplexNumbers.jar</code> and <code>processing-core.jar</code>\napp/src contains the folder main, and there’s a big long directory tree structure from there.</p>\n<p>If you want more information on said big long directory tree structure, I can give you the output of <code>ls -R</code>, which for those unfamiliar with Linux is a command which recursively shows all files, folders, and files and folders within those folders. I'd also be more than happy to provide any other information you may need. Really, any help is appreciated.</p>\n<p>Thank you!</p>\n"},{"tags":["java","java-module"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1687474300,"post_id":76535650,"comment_id":134945949,"body_markdown":"Either `Thread.setContextClassLoader` or `ServiceLoader.load(moduleLayer, javax.sql.Driver.class).forEach(d -&gt; {})` may help.","body":"Either <code>Thread.setContextClassLoader</code> or <code>ServiceLoader.load(moduleLayer, javax.sql.Driver.class).forEach(d -&gt; {})</code> may help."}],"owner":{"account_id":17348570,"reputation":79,"user_id":12567548,"display_name":"rheinert.leon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687467869,"creation_date":1687467869,"question_id":76535650,"body_markdown":"I am facing a similar situation as [this post](https://stackoverflow.com/questions/50776796/how-to-load-jdk-module-programmatically), which includes a demonstrating example of the problem that occurs when trying to dynamically load a Java 9-modularized jar, which depends on a JDK module that is not loaded by default. Since I cannot phrase it any better, here is an excerpt of the main idea:\r\n\r\n&gt; Suppose we have module `A` that dynamically loads module `B` (using classes `ModuleFinder`, `ModuleLayer`, etc). Last one requires standard module `java.sql` that is not loaded into boot layer with module `A`. How to load required `java.sql` from JDK (or JRE) using java code?\r\n\r\nSpecifically, my plugin (module `B` in the generic scenario) tries to create a connection to a Mysql database. On its own, it work as expected, but when I initially tried to use it in the framework  (module `A` in the generic scenario) , it failed for the same reason as in the linked topic:\r\n\r\n`java.lang.module.FindException: Module java.sql not found, required by app.module.sql`\r\n\r\nIf my understanding is correct, there is no way to load modules from JDK on runtime (unlike third party modules). Therefore, the two option I found are:\r\n\r\n1. Have the framework already depend on `java.sql` so that is will be loaded explicitly\r\n2. Use `--add-modules ALL-SYSTEM`, which I prefer for not failing for other JDK modules in the future. However, I read that this has a drawback of loading too many modules, potentially two modules with the same name causing trouble.\r\n\r\nHowever, this does not solve everything: For some reason, the automatic loading of the mysql database driver hidden behind the `DriverManager.getConnection` method, also does not work. I need to explicitly call `Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;)` beforehand.\r\n\r\nSo I wonder, if there is a better way by now (the post is four years old) or if the option two is fine for what it&#39;s worth.","title":"Is there a better way to load JDK modules dynamically than using `--add-modules ALL-SYSTEM`?","body":"<p>I am facing a similar situation as <a href=\"https://stackoverflow.com/questions/50776796/how-to-load-jdk-module-programmatically\">this post</a>, which includes a demonstrating example of the problem that occurs when trying to dynamically load a Java 9-modularized jar, which depends on a JDK module that is not loaded by default. Since I cannot phrase it any better, here is an excerpt of the main idea:</p>\n<blockquote>\n<p>Suppose we have module <code>A</code> that dynamically loads module <code>B</code> (using classes <code>ModuleFinder</code>, <code>ModuleLayer</code>, etc). Last one requires standard module <code>java.sql</code> that is not loaded into boot layer with module <code>A</code>. How to load required <code>java.sql</code> from JDK (or JRE) using java code?</p>\n</blockquote>\n<p>Specifically, my plugin (module <code>B</code> in the generic scenario) tries to create a connection to a Mysql database. On its own, it work as expected, but when I initially tried to use it in the framework  (module <code>A</code> in the generic scenario) , it failed for the same reason as in the linked topic:</p>\n<p><code>java.lang.module.FindException: Module java.sql not found, required by app.module.sql</code></p>\n<p>If my understanding is correct, there is no way to load modules from JDK on runtime (unlike third party modules). Therefore, the two option I found are:</p>\n<ol>\n<li>Have the framework already depend on <code>java.sql</code> so that is will be loaded explicitly</li>\n<li>Use <code>--add-modules ALL-SYSTEM</code>, which I prefer for not failing for other JDK modules in the future. However, I read that this has a drawback of loading too many modules, potentially two modules with the same name causing trouble.</li>\n</ol>\n<p>However, this does not solve everything: For some reason, the automatic loading of the mysql database driver hidden behind the <code>DriverManager.getConnection</code> method, also does not work. I need to explicitly call <code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;)</code> beforehand.</p>\n<p>So I wonder, if there is a better way by now (the post is four years old) or if the option two is fine for what it's worth.</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613332531,"creation_date":1613332531,"answer_id":66199513,"question_id":66140123,"body_markdown":"It&#39;s definitely possible: \r\n\r\n    // Build the table\r\n    Table myTable = Table.builder()\r\n            .addColumnsOfWidth(200, 100, 80, 70)\r\n            .borderColor(Color.GRAY)\r\n            .borderWidth(0.3f)\r\n            .horizontalAlignment(HorizontalAlignment.CENTER)\r\n            .verticalAlignment(VerticalAlignment.MIDDLE)\r\n            .addRow(Row.builder()\r\n                    .add(TextCell.builder().text(&quot;Tracking Usage Module&quot;).rowSpan(2).build())\r\n                    .add(TextCell.builder().text(&quot;Start : 09:45&quot;).fontSize(8).build())\r\n                    .add(TextCell.builder().text(&quot;00:40&quot;).rowSpan(2).build())\r\n                    .add(TextCell.builder().text(&quot;€30.00&quot;).rowSpan(2).build())\r\n                    .build())\r\n            .addRow(Row.builder()\r\n                    .add(TextCell.builder().text(&quot;End : 10:25&quot;).fontSize(8).build())\r\n                    .build())\r\n            .build();\r\n\r\nThat would render to: \r\n\r\n[![rendered image][1]][1]\r\n\r\nFor the code to render a table in general just see easytable&#39;s [minimum working example][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hO9dr.png\r\n  [2]: https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/MinimumWorkingExample.java","title":"Vandeseer&#39;s Easytable - Multiline cells in row","body":"<p>It's definitely possible:</p>\n<pre><code>// Build the table\nTable myTable = Table.builder()\n        .addColumnsOfWidth(200, 100, 80, 70)\n        .borderColor(Color.GRAY)\n        .borderWidth(0.3f)\n        .horizontalAlignment(HorizontalAlignment.CENTER)\n        .verticalAlignment(VerticalAlignment.MIDDLE)\n        .addRow(Row.builder()\n                .add(TextCell.builder().text(&quot;Tracking Usage Module&quot;).rowSpan(2).build())\n                .add(TextCell.builder().text(&quot;Start : 09:45&quot;).fontSize(8).build())\n                .add(TextCell.builder().text(&quot;00:40&quot;).rowSpan(2).build())\n                .add(TextCell.builder().text(&quot;€30.00&quot;).rowSpan(2).build())\n                .build())\n        .addRow(Row.builder()\n                .add(TextCell.builder().text(&quot;End : 10:25&quot;).fontSize(8).build())\n                .build())\n        .build();\n</code></pre>\n<p>That would render to:</p>\n<p><a href=\"https://i.stack.imgur.com/hO9dr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hO9dr.png\" alt=\"rendered image\" /></a></p>\n<p>For the code to render a table in general just see easytable's <a href=\"https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/MinimumWorkingExample.java\" rel=\"nofollow noreferrer\">minimum working example</a>.</p>\n"}],"owner":{"account_id":4318384,"reputation":59,"user_id":3527489,"accept_rate":25,"display_name":"NigelGordon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66199513,"answer_count":1,"score":0,"last_activity_date":1687467095,"creation_date":1612971840,"question_id":66140123,"body_markdown":"I need to generate a printout that has two cells aligned above each other in a single row as shown in the image below. I am used Vandeseer&#39;s Easytable and PDFBox but cannot find any examples of how to do this. Is it possible?\r\n![](https://i.stack.imgur.com/CCbiQ.png)\r\n","title":"Vandeseer&#39;s Easytable - Multiline cells in row","body":"<p>I need to generate a printout that has two cells aligned above each other in a single row as shown in the image below. I am used Vandeseer's Easytable and PDFBox but cannot find any examples of how to do this. Is it possible?\n<img src=\"https://i.stack.imgur.com/CCbiQ.png\" alt=\"\" /></p>\n"},{"tags":["java","data-structures","stack","push","peek"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687452580,"creation_date":1687452370,"answer_id":76534039,"question_id":76533985,"body_markdown":"You need to override `toString()` in your pair class. \r\n```\r\n@Override\r\npublic String toString() {\r\n   return element + &quot;, &quot; + idx;\r\n}\r\n```\r\nThis is an example.  It is up to you what you want returned in the string.  You could also do something like:\r\n```\r\nreturn &quot;Element = %d, Idx = %d&quot;.formatted(element, idx);\r\n","title":"How can I use st.peek() function in java if I pushed a pair of elements?","body":"<p>You need to override <code>toString()</code> in your pair class.</p>\n<pre><code>@Override\npublic String toString() {\n   return element + &quot;, &quot; + idx;\n}\n</code></pre>\n<p>This is an example.  It is up to you what you want returned in the string.  You could also do something like:</p>\n<pre><code>return &quot;Element = %d, Idx = %d&quot;.formatted(element, idx);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687463089,"creation_date":1687456201,"answer_id":76534509,"question_id":76533985,"body_markdown":"&gt; _&quot;... But how can I use peek function of the stack? ...&quot;_\r\n\r\nThe _[Stack#peek](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Stack.html#peek())_ method is going to return the object, in this case a _pair_.\r\n\r\n&gt; _&quot;... I want to access the &quot;element&quot; of pair class using peek ...&quot;_\r\n\r\nYou can access the _element_ field via _dot-notation_.\r\n\r\n```java\r\nst.peek().element\r\n```\r\n\r\n&gt; _&quot;... When I am trying to print st.peek() I got output: Example$pair@4617c264&quot;_\r\n\r\nThis is just a naming scheme used by Java, which will be returned when trying to convert an _Object_ to a _String_.\r\n\r\nThe _[System#out#println](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object))_ method is taking an _Object_ as a parameter, not a _String_.\r\n\r\nHere is the source, for _println_.  \r\n_[GitHub &amp;ndash; jdk/src/java.base/share/classes/java/io/PrintStream.java](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1186)_.\r\n\r\nWhich is using the following, more-or-less&amp;mdash;where _x_ is of type, _Object_.\r\n\r\n```java\r\nString s = String.valueOf(x);\r\n```\r\n\r\nAn _Object_ can provide a _String_ resolution by overriding the inherited _[Object#toString](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#toString())_ method.\r\n\r\nHere is the source, for _Object#toString_.  \r\n_[GitHub &amp;ndash; jdk/src/java.base/share/classes/java/lang/Object.java](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Object.java#L265)_.\r\n\r\nSo, if you wanted, you can add a _toString_ method, to your _pair_ class.\r\n\r\n```java\r\npublic static class pair{\r\n    int element;\r\n    int idx;\r\n    public pair(int element, int idx){\r\n        this.element = element;\r\n        this.idx = idx;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.valueOf(element);\r\n    }\r\n}\r\n```\r\n\r\nThen, when using the following,\r\n\r\n```java\r\nSystem.out.println(st.peek());\r\n```\r\n\r\nYou&#39;re output will be,\r\n\r\n```none\r\n100\r\n```","title":"How can I use st.peek() function in java if I pushed a pair of elements?","body":"<blockquote>\n<p><em>&quot;... But how can I use peek function of the stack? ...&quot;</em></p>\n</blockquote>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Stack.html#peek()\" rel=\"nofollow noreferrer\">Stack#peek</a></em> method is going to return the object, in this case a <em>pair</em>.</p>\n<blockquote>\n<p><em>&quot;... I want to access the &quot;element&quot; of pair class using peek ...&quot;</em></p>\n</blockquote>\n<p>You can access the <em>element</em> field via <em>dot-notation</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>st.peek().element\n</code></pre>\n<blockquote>\n<p><em>&quot;... When I am trying to print st.peek() I got output: Example$pair@4617c264&quot;</em></p>\n</blockquote>\n<p>This is just a naming scheme used by Java, which will be returned when trying to convert an <em>Object</em> to a <em>String</em>.</p>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object)\" rel=\"nofollow noreferrer\">System#out#println</a></em> method is taking an <em>Object</em> as a parameter, not a <em>String</em>.</p>\n<p>Here is the source, for <em>println</em>.<br />\n<em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1186\" rel=\"nofollow noreferrer\">GitHub – jdk/src/java.base/share/classes/java/io/PrintStream.java</a></em>.</p>\n<p>Which is using the following, more-or-less—where <em>x</em> is of type, <em>Object</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = String.valueOf(x);\n</code></pre>\n<p>An <em>Object</em> can provide a <em>String</em> resolution by overriding the inherited <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\">Object#toString</a></em> method.</p>\n<p>Here is the source, for <em>Object#toString</em>.<br />\n<em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Object.java#L265\" rel=\"nofollow noreferrer\">GitHub – jdk/src/java.base/share/classes/java/lang/Object.java</a></em>.</p>\n<p>So, if you wanted, you can add a <em>toString</em> method, to your <em>pair</em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class pair{\n    int element;\n    int idx;\n    public pair(int element, int idx){\n        this.element = element;\n        this.idx = idx;\n    }\n\n    @Override\n    public String toString() {\n        return String.valueOf(element);\n    }\n}\n</code></pre>\n<p>Then, when using the following,</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(st.peek());\n</code></pre>\n<p>You're output will be,</p>\n<pre class=\"lang-none prettyprint-override\"><code>100\n</code></pre>\n"}],"owner":{"account_id":27193267,"reputation":1,"user_id":20726609,"display_name":"CShekhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1687474864,"answer_count":2,"score":-1,"last_activity_date":1687463089,"creation_date":1687452054,"question_id":76533985,"body_markdown":"I created a user defined class pair to add two elements in stack. But how can I use peek function of the stack? I want to access the &quot;element&quot; of pair class using peek.\r\n```\r\nimport java.util.*;\r\npublic class Example {\r\n    public static class pair{\r\n        int element;\r\n        int idx;\r\n        public pair(int element, int idx){\r\n            this.element = element;\r\n            this.idx = idx;\r\n        }\r\n        \r\n    }\r\n    public static void main(String[] args) {\r\n        Stack&lt;pair&gt; st= new Stack&lt;pair&gt;();\r\n        pair p1 = new pair(100,2);\r\n        st.push(p1);\r\n        System.out.println(st.peek());\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n- When I am trying to print st.peek() I got output: Example$pair@4617c264","title":"How can I use st.peek() function in java if I pushed a pair of elements?","body":"<p>I created a user defined class pair to add two elements in stack. But how can I use peek function of the stack? I want to access the &quot;element&quot; of pair class using peek.</p>\n<pre><code>import java.util.*;\npublic class Example {\n    public static class pair{\n        int element;\n        int idx;\n        public pair(int element, int idx){\n            this.element = element;\n            this.idx = idx;\n        }\n        \n    }\n    public static void main(String[] args) {\n        Stack&lt;pair&gt; st= new Stack&lt;pair&gt;();\n        pair p1 = new pair(100,2);\n        st.push(p1);\n        System.out.println(st.peek());\n    }\n}\n</code></pre>\n<ul>\n<li>When I am trying to print st.peek() I got output: Example$pair@4617c264</li>\n</ul>\n"},{"tags":["java","maven","intellij-idea","jar","dependencies"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687351431,"post_id":76522512,"comment_id":134924299,"body_markdown":"*java -jar .\\TelePriceBotGUI.jar* That would have to be a &#39;fat jar&#39; made with Maven Shade for that to work","body":"<i>java -jar .\\TelePriceBotGUI.jar</i> That would have to be a &#39;fat jar&#39; made with Maven Shade for that to work"}],"owner":{"account_id":21050371,"reputation":3,"user_id":15470878,"display_name":"AriyanDC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687461999,"creation_date":1687344960,"question_id":76522512,"body_markdown":"This image: \r\n\r\n[![This image][1]][1]\r\n\r\nshows that the jar file is in the output directory but i get this error \r\n\r\n&gt; ~ java -jar .\\TelePriceBotGUI.jar\r\n&gt; \r\n&gt; Error: Unable to initialize main class org.ariyan.App Caused by:\r\n&gt; java.lang.NoClassDefFoundError: org/json/simple/parser/ParseException`\r\n\r\nIn Project Structure &gt; Artifacts &gt; Output Layout: i tried moving json-simple from available elements to &lt;output root&gt; but no luck\r\n\r\n[1]: https://i.stack.imgur.com/wTMlD.png","title":"java.lang.NoClassDefFoundError: org/json/simple/parser/parseException although jar is already there","body":"<p>This image:</p>\n<p><a href=\"https://i.stack.imgur.com/wTMlD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wTMlD.png\" alt=\"This image\" /></a></p>\n<p>shows that the jar file is in the output directory but i get this error</p>\n<blockquote>\n<p>~ java -jar .\\TelePriceBotGUI.jar</p>\n<p>Error: Unable to initialize main class org.ariyan.App Caused by:\njava.lang.NoClassDefFoundError: org/json/simple/parser/ParseException`</p>\n</blockquote>\n<p>In Project Structure &gt; Artifacts &gt; Output Layout: i tried moving json-simple from available elements to  but no luck</p>\n"},{"tags":["java","opc-ua"],"owner":{"account_id":28873802,"reputation":9,"user_id":22114789,"display_name":"GOPI K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687461870,"creation_date":1687439723,"question_id":76532323,"body_markdown":"1. Based on the root folder name I am finding the list of child folders using the find methode.\r\n\r\n2. Again I&#39;m passing the child node for fetching subchild nodes using the find method below is my code:\r\n\r\n``` java\r\nList&lt;ReferenceDescription&gt; objectReferences = client.getAddressSpace()\r\n\t\t\t\t\t.browse(client.getAddressSpace().getNamespaceTable().toNodeId(r.getNodeId()));\r\n\t\t\t/// 19 index\r\n\t\t\tfor (int i = 0; i &lt; objectReferences.size(); i++) {// 0.....19\r\n\t\t\t\tReferenceDescription rr = objectReferences.get(i);\r\n\t\t\t\tList&lt;ReferenceDescription&gt; childereference = client.getAddressSpace()\r\n\t\t\t\t\t\t.browse(client.getAddressSpace().getNamespaceTable().toNodeId(rr.getNodeId()));\r\n\t\t\t\tif (!childereference.isEmpty()) {\r\n\t\t\t\t\tfor (int j = 0; j &lt; childereference.size(); j++) {// 0.......10\r\n\t\t\t\t\t\tReferenceDescription rrr = childereference.get(j);\r\n\t\t\t\t\t\tList&lt;ReferenceDescription&gt; child1ereference = client.getAddressSpace()\r\n\t\t\t\t\t\t\t\t.browse(client.getAddressSpace().getNamespaceTable().toNodeId(rrr.getNodeId()));\r\n\t\t\t\t\t\tif (!child1ereference.isEmpty()) {\r\n\t\t\t\t\t\t\tfor (int k = 0; k &lt; child1ereference.size(); k++) {// 0.......10\r\n\t\t\t\t\t\t\t\tReferenceDescription rrrr = child1ereference.get(k);\r\n\t\t\t\t\t\t\t\tList&lt;ReferenceDescription&gt; child2ereference = client.getAddressSpace().browse(\r\n\t\t\t\t\t\t\t\t\t\tclient.getAddressSpace().getNamespaceTable().toNodeId(rrrr.getNodeId()));\r\n\t\t\t\t\t\t\t\tif (!child2ereference.isEmpty()) {\r\n\t\t\t\t\t\t\t\t\tfor (ReferenceDescription description : child2ereference) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tmapObjects.put(description.getBrowseName(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tsettheNodeId(description.getNodeId()));\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tmapObjects.put(rrrr.getBrowseName(), settheNodeId(rrrr.getNodeId()));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmapObjects.put(rrr.getBrowseName(), settheNodeId(rrr.getNodeId()));\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmapObjects.put(rr.getBrowseName(), settheNodeId(rr.getNodeId()));\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IndexOutOfBoundsException e) {\r\n\t\t\tSystem.out.println(&quot;No such item: &quot;);\r\n\t\t}\r\n```\r\n\r\nI want the dynamic approach for structured view:\r\n\r\n[![img1][1]][1]\r\n\r\nI want the dynamic approach for this data structure.\r\n\r\n[1]: https://i.stack.imgur.com/jLkdM.png","title":"Dynamically aproach for fetching the infinity list of data","body":"<ol>\n<li><p>Based on the root folder name I am finding the list of child folders using the find methode.</p>\n</li>\n<li><p>Again I'm passing the child node for fetching subchild nodes using the find method below is my code:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ReferenceDescription&gt; objectReferences = client.getAddressSpace()\n                    .browse(client.getAddressSpace().getNamespaceTable().toNodeId(r.getNodeId()));\n            /// 19 index\n            for (int i = 0; i &lt; objectReferences.size(); i++) {// 0.....19\n                ReferenceDescription rr = objectReferences.get(i);\n                List&lt;ReferenceDescription&gt; childereference = client.getAddressSpace()\n                        .browse(client.getAddressSpace().getNamespaceTable().toNodeId(rr.getNodeId()));\n                if (!childereference.isEmpty()) {\n                    for (int j = 0; j &lt; childereference.size(); j++) {// 0.......10\n                        ReferenceDescription rrr = childereference.get(j);\n                        List&lt;ReferenceDescription&gt; child1ereference = client.getAddressSpace()\n                                .browse(client.getAddressSpace().getNamespaceTable().toNodeId(rrr.getNodeId()));\n                        if (!child1ereference.isEmpty()) {\n                            for (int k = 0; k &lt; child1ereference.size(); k++) {// 0.......10\n                                ReferenceDescription rrrr = child1ereference.get(k);\n                                List&lt;ReferenceDescription&gt; child2ereference = client.getAddressSpace().browse(\n                                        client.getAddressSpace().getNamespaceTable().toNodeId(rrrr.getNodeId()));\n                                if (!child2ereference.isEmpty()) {\n                                    for (ReferenceDescription description : child2ereference) {\n\n                                        mapObjects.put(description.getBrowseName(),\n                                                settheNodeId(description.getNodeId()));\n\n                                    }\n                                } else {\n                                    mapObjects.put(rrrr.getBrowseName(), settheNodeId(rrrr.getNodeId()));\n                                }\n                            }\n                        } else {\n                            mapObjects.put(rrr.getBrowseName(), settheNodeId(rrr.getNodeId()));\n\n                        }\n\n                    }\n                } else {\n                    mapObjects.put(rr.getBrowseName(), settheNodeId(rr.getNodeId()));\n\n                }\n            }\n        } catch (IndexOutOfBoundsException e) {\n            System.out.println(&quot;No such item: &quot;);\n        }\n</code></pre>\n<p>I want the dynamic approach for structured view:</p>\n<p><a href=\"https://i.stack.imgur.com/jLkdM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jLkdM.png\" alt=\"img1\" /></a></p>\n<p>I want the dynamic approach for this data structure.</p>\n"},{"tags":["java","path","file-handling"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1687414466,"post_id":76528952,"comment_id":134933886,"body_markdown":"AFAIK, this is allowed by the Windows file APIs (at least `/` as path separators, not 100% sure about the starting `/`), so it will work for Java as well.","body":"AFAIK, this is allowed by the Windows file APIs (at least <code>&#47;</code> as path separators, not 100% sure about the starting <code>&#47;</code>), so it will work for Java as well."},{"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"score":0,"creation_date":1687414652,"post_id":76528952,"comment_id":134933926,"body_markdown":"@MarkRotteveel, thanks for your response. One more thing does this approach works with every version of windows or from windows 10 onwards only? I am asking so that I can put necessary conditions on the basis of OS versions.","body":"@MarkRotteveel, thanks for your response. One more thing does this approach works with every version of windows or from windows 10 onwards only? I am asking so that I can put necessary conditions on the basis of OS versions."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1687414908,"post_id":76528952,"comment_id":134933972,"body_markdown":"As far as I know, this has been the behaviour at least since Windows NT 3 back in the &#39;90s. However, why not just use the appropriate APIs from `Path`/`Paths` to construct paths instead? As an aside, relying on `getResource` is a bad idea, because resources are things on the classpath, which not necessarily means they are on the file system, they could also be in a WAR or JAR file, in which case your trick will not work. Also, as far as I can tell, there should be no need to prefix it with `/`, because if you&#39;d run this on Linux, if you obtain a valid path this way, it would already have that.","body":"As far as I know, this has been the behaviour at least since Windows NT 3 back in the &#39;90s. However, why not just use the appropriate APIs from <code>Path</code>/<code>Paths</code> to construct paths instead? As an aside, relying on <code>getResource</code> is a bad idea, because resources are things on the classpath, which not necessarily means they are on the file system, they could also be in a WAR or JAR file, in which case your trick will not work. Also, as far as I can tell, there should be no need to prefix it with <code>&#47;</code>, because if you&#39;d run this on Linux, if you obtain a valid path this way, it would already have that."},{"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"score":0,"creation_date":1687415798,"post_id":76528952,"comment_id":134934139,"body_markdown":"@MarkRotteveel, this is a legacy code I am not planning to change it in code level. The FileHelper.class in getResource is a part of this project and in same directory where this function is written. On linux machine or Docker container If I don&#39;t add this / as prefix, it throws an file not found exception. The code is working fine on both envrionment when I prefix this path with /. As you suggested I also once though to use modern APIs but since the code is not modular, I might need to make the same changes in several places.","body":"@MarkRotteveel, this is a legacy code I am not planning to change it in code level. The FileHelper.class in getResource is a part of this project and in same directory where this function is written. On linux machine or Docker container If I don&#39;t add this / as prefix, it throws an file not found exception. The code is working fine on both envrionment when I prefix this path with /. As you suggested I also once though to use modern APIs but since the code is not modular, I might need to make the same changes in several places."},{"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"score":0,"creation_date":1687416541,"post_id":76528952,"comment_id":134934267,"body_markdown":"@MarkRotteveel, I am assinged with a task to containerize this application using docker + kubernetes. So, for now I am planning to stick to that task only. I don&#39;t want to break anything by doing some voluntary code changes which I am not asked to do. `&quot;A son asked his father (a programmer) why the sun rises in the east, and sets in the west. His response? It works, don’t touch!&quot;` :-P :-D","body":"@MarkRotteveel, I am assinged with a task to containerize this application using docker + kubernetes. So, for now I am planning to stick to that task only. I don&#39;t want to break anything by doing some voluntary code changes which I am not asked to do. <code>&quot;A son asked his father (a programmer) why the sun rises in the east, and sets in the west. His response? It works, don’t touch!&quot;</code> :-P :-D"}],"answers":[{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687418865,"creation_date":1687418865,"answer_id":76529497,"question_id":76528952,"body_markdown":"`/` denotes the file root (on any sensible platform), so doing `/somePath/someOtherPath` on windows assumes that you mean `C:\\somePath\\someOtherPath`. If you specify another drive after the /, that drive gets used instead.","title":"Passing Unix Like Path: Why This Java Code Working on Windows Machine","body":"<p><code>/</code> denotes the file root (on any sensible platform), so doing <code>/somePath/someOtherPath</code> on windows assumes that you mean <code>C:\\somePath\\someOtherPath</code>. If you specify another drive after the /, that drive gets used instead.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687428115,"creation_date":1687428115,"answer_id":76530743,"question_id":76528952,"body_markdown":"The code looks very brittle and you should fix it rather than passing on the hack especially if you have other places to change in similar manner. The technique will only work if your classes / resources are found in a file system and you use `File`. \r\n\r\nIf you deployed to app server with war/jar rather than exploded filesystem, the path returned by returned by `getResource()` cannot be interpreted correctly with `File` or `Path` as it will contain extra parts for the URI such as &quot;jar:&quot; and &quot;!&quot; for paths inside an archive.\r\n\r\nInstead, its very easy fix to switch to properties for the locations / other resources to read, or you can locate the resource using `InputStream / getResourceAsStream` with some String manipulation based upon the package name of the search class `FileHelper.class.getPackageName()`, leading to:\r\n\r\n     InputStream in = FileHelper.class.getResourceAsStream(&quot;/packagea/packageb/conf/cygnus.dll&quot;)`.\r\n\r\nOn Windows, `File` resolves paths like `&quot;/C:/abc&quot;` to be same as `new File(&quot;C:\\\\abc&quot;)`. However the same trick with `Path.of(&quot;/C:/abc&quot;)` fails:\r\n\r\n    Exception java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/abc\r\n","title":"Passing Unix Like Path: Why This Java Code Working on Windows Machine","body":"<p>The code looks very brittle and you should fix it rather than passing on the hack especially if you have other places to change in similar manner. The technique will only work if your classes / resources are found in a file system and you use <code>File</code>.</p>\n<p>If you deployed to app server with war/jar rather than exploded filesystem, the path returned by returned by <code>getResource()</code> cannot be interpreted correctly with <code>File</code> or <code>Path</code> as it will contain extra parts for the URI such as &quot;jar:&quot; and &quot;!&quot; for paths inside an archive.</p>\n<p>Instead, its very easy fix to switch to properties for the locations / other resources to read, or you can locate the resource using <code>InputStream / getResourceAsStream</code> with some String manipulation based upon the package name of the search class <code>FileHelper.class.getPackageName()</code>, leading to:</p>\n<pre><code> InputStream in = FileHelper.class.getResourceAsStream(&quot;/packagea/packageb/conf/cygnus.dll&quot;)`.\n</code></pre>\n<p>On Windows, <code>File</code> resolves paths like <code>&quot;/C:/abc&quot;</code> to be same as <code>new File(&quot;C:\\\\abc&quot;)</code>. However the same trick with <code>Path.of(&quot;/C:/abc&quot;)</code> fails:</p>\n<pre><code>Exception java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/abc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687461844,"creation_date":1687461844,"answer_id":76535078,"question_id":76528952,"body_markdown":"&gt; _&quot;... Now we can see that the we have this slash before the path and the functionality is still working. So is this an expected behavior?&quot;_\r\n\r\nA system _[path](https://en.wikipedia.org/wiki/Path_(computing))_ is just a notation&amp;mdash;it&#39;s not a syntax.\r\n\r\nThere is not a standardization for a notation&amp;mdash;as the notation is, in and of itself, the standard.\r\n\r\nThere is an RFC for the _file URI scheme_, which will define the grammar of its _path_ element.  \r\n_[RFC 8089 &amp;ndash; The &quot;file&quot; URI Scheme](https://datatracker.ietf.org/doc/html/rfc8089)_.\r\n\r\nFrom here, we can at least see what is used by an abstraction that encloses a _path notation_.\r\n\r\nHere is the _[ABNF](https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form)_, from _&quot;Section 2, Syntax&quot;_,\r\n\r\n```none\r\nfile-URI       = file-scheme &quot;:&quot; file-hier-part\r\nfile-scheme    = &quot;file&quot;\r\nfile-hier-part = ( &quot;//&quot; auth-path )\r\n               / local-path\r\nauth-path      = [ file-auth ] path-absolute\r\nlocal-path     = path-absolute\r\nfile-auth      = &quot;localhost&quot;\r\n               / host\r\n```\r\n\r\nAnd, _path-absolute_, as inherited by _[RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986)_, under _&quot;Section 3.3, Path&quot;_,\r\n\r\n```none\r\npath-absolute = &quot;/&quot; [ segment-nz *( &quot;/&quot; segment ) ]\r\nsegment       = *pchar\r\nsegment-nz    = 1*pchar\r\npchar         = unreserved / pct-encoded / sub-delims / &quot;:&quot; / &quot;@&quot;\r\n```\r\n\r\nIt would appear that it is simply a forward-slash delimited set of values, with a required forward-slash at the start.\r\n\r\nSo, you should expect to see different results from different applications that are attempting to derive data via a provided path notation.\r\n\r\nThe syntactic value of the path is left to the resolving program, or procedure, as it is not contained within the string, and is just a notation.\r\n\r\nThis is similar to why some applications will allow for interchangeable forward and backward slashes&amp;mdash;e.g., _&quot;C:/value&quot;_, and _&quot;C:\\value&quot;_ both work&amp;mdash;and others will throw an error.","title":"Passing Unix Like Path: Why This Java Code Working on Windows Machine","body":"<blockquote>\n<p><em>&quot;... Now we can see that the we have this slash before the path and the functionality is still working. So is this an expected behavior?&quot;</em></p>\n</blockquote>\n<p>A system <em><a href=\"https://en.wikipedia.org/wiki/Path_(computing)\" rel=\"nofollow noreferrer\">path</a></em> is just a notation—it's not a syntax.</p>\n<p>There is not a standardization for a notation—as the notation is, in and of itself, the standard.</p>\n<p>There is an RFC for the <em>file URI scheme</em>, which will define the grammar of its <em>path</em> element.<br />\n<em><a href=\"https://datatracker.ietf.org/doc/html/rfc8089\" rel=\"nofollow noreferrer\">RFC 8089 – The &quot;file&quot; URI Scheme</a></em>.</p>\n<p>From here, we can at least see what is used by an abstraction that encloses a <em>path notation</em>.</p>\n<p>Here is the <em><a href=\"https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">ABNF</a></em>, from <em>&quot;Section 2, Syntax&quot;</em>,</p>\n<pre class=\"lang-none prettyprint-override\"><code>file-URI       = file-scheme &quot;:&quot; file-hier-part\nfile-scheme    = &quot;file&quot;\nfile-hier-part = ( &quot;//&quot; auth-path )\n               / local-path\nauth-path      = [ file-auth ] path-absolute\nlocal-path     = path-absolute\nfile-auth      = &quot;localhost&quot;\n               / host\n</code></pre>\n<p>And, <em>path-absolute</em>, as inherited by <em><a href=\"https://datatracker.ietf.org/doc/html/rfc3986\" rel=\"nofollow noreferrer\">RFC 3986</a></em>, under <em>&quot;Section 3.3, Path&quot;</em>,</p>\n<pre class=\"lang-none prettyprint-override\"><code>path-absolute = &quot;/&quot; [ segment-nz *( &quot;/&quot; segment ) ]\nsegment       = *pchar\nsegment-nz    = 1*pchar\npchar         = unreserved / pct-encoded / sub-delims / &quot;:&quot; / &quot;@&quot;\n</code></pre>\n<p>It would appear that it is simply a forward-slash delimited set of values, with a required forward-slash at the start.</p>\n<p>So, you should expect to see different results from different applications that are attempting to derive data via a provided path notation.</p>\n<p>The syntactic value of the path is left to the resolving program, or procedure, as it is not contained within the string, and is just a notation.</p>\n<p>This is similar to why some applications will allow for interchangeable forward and backward slashes—e.g., <em>&quot;C:/value&quot;</em>, and <em>&quot;C:\\value&quot;</em> both work—and others will throw an error.</p>\n"}],"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687461844,"creation_date":1687413585,"question_id":76528952,"body_markdown":"I am confused with a piece of code which is by the way working, but my question is why it is working? Have a look at below code\r\n\r\n    public String GetQuery(int QueryIndex) throws IOException {\r\n    \t\tString realPath = (FileHelper.class.getResource(&quot;FileHelper.class&quot;)).toString().replace(&quot;lib/FileHelper.class&quot;, &quot;conf/&quot;).replace(&quot;file:/&quot;, &quot;&quot;).replace(&quot;%20&quot;, &quot; &quot;);\r\n\r\n            //---&gt;Printing value of realPath\r\n    \t\tSystem.out.println(realPath);\r\n            \r\n            //--&gt;Creating an object of file but adding Slash before path\r\n            //---&gt;Works with both Widnows and Linux machine for some reason.\r\n    \t\tFile QueryFile = new File(&quot;/&quot;+realPath + &quot;cygnus.dll&quot;);\r\n\r\n    \t\tBufferedReader brReader = new BufferedReader(new FileReader(QueryFile));\r\n    \t\tString TempContent;\r\n    \t\twhile ((TempContent = brReader.readLine()) != null) {\r\n    \t\t\tif (TempContent.split(Config.COLSEP)[0].equals(&quot;Query&quot;+QueryIndex)) {\r\n    \t\t\t\tbrReader.close();\r\n    \t\t\t\treturn TempContent.replace(&quot;Query&quot;+QueryIndex+Config.COLSEP, &quot;&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tbrReader.close();\r\n    \t\treturn TempContent;\r\n    \t}\r\n\r\n**Console Output of System.out.println(realPath)**\r\n\r\n    D:/eclipse/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp1/wtpwebapps/cygnus/WEB-INF/classes/com/technobee/cygnus/conf/\r\n\r\n**Complete path of file passed in File constructor**\r\n\r\n    /D:/eclipse/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp1/wtpwebapps/cygnus/WEB-INF/classes/com/technobee/cygnus/conf/cygnus.dll\r\n\r\nNow we can see that the we have this slash before the path and the functionality is still working. So is this an expected behavior?","title":"Passing Unix Like Path: Why This Java Code Working on Windows Machine","body":"<p>I am confused with a piece of code which is by the way working, but my question is why it is working? Have a look at below code</p>\n<pre><code>public String GetQuery(int QueryIndex) throws IOException {\n        String realPath = (FileHelper.class.getResource(&quot;FileHelper.class&quot;)).toString().replace(&quot;lib/FileHelper.class&quot;, &quot;conf/&quot;).replace(&quot;file:/&quot;, &quot;&quot;).replace(&quot;%20&quot;, &quot; &quot;);\n\n        //---&gt;Printing value of realPath\n        System.out.println(realPath);\n        \n        //--&gt;Creating an object of file but adding Slash before path\n        //---&gt;Works with both Widnows and Linux machine for some reason.\n        File QueryFile = new File(&quot;/&quot;+realPath + &quot;cygnus.dll&quot;);\n\n        BufferedReader brReader = new BufferedReader(new FileReader(QueryFile));\n        String TempContent;\n        while ((TempContent = brReader.readLine()) != null) {\n            if (TempContent.split(Config.COLSEP)[0].equals(&quot;Query&quot;+QueryIndex)) {\n                brReader.close();\n                return TempContent.replace(&quot;Query&quot;+QueryIndex+Config.COLSEP, &quot;&quot;);\n            }\n        }\n        brReader.close();\n        return TempContent;\n    }\n</code></pre>\n<p><strong>Console Output of System.out.println(realPath)</strong></p>\n<pre><code>D:/eclipse/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp1/wtpwebapps/cygnus/WEB-INF/classes/com/technobee/cygnus/conf/\n</code></pre>\n<p><strong>Complete path of file passed in File constructor</strong></p>\n<pre><code>/D:/eclipse/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp1/wtpwebapps/cygnus/WEB-INF/classes/com/technobee/cygnus/conf/cygnus.dll\n</code></pre>\n<p>Now we can see that the we have this slash before the path and the functionality is still working. So is this an expected behavior?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1687374664,"post_id":76526349,"comment_id":134929514,"body_markdown":"&quot;Is this possible without reflection&quot; Nope. Reflection only.","body":"&quot;Is this possible without reflection&quot; Nope. Reflection only."},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1687374763,"post_id":76526349,"comment_id":134929532,"body_markdown":"Maybe you are overthinking this, but if you already have the mapping you are probably close to the solution. How do you define what is a valid value and to which field should it go? (is that static or dynamic?). I bet some if blocks may do the trick.","body":"Maybe you are overthinking this, but if you already have the mapping you are probably close to the solution. How do you define what is a valid value and to which field should it go? (is that static or dynamic?). I bet some if blocks may do the trick."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687374855,"post_id":76526349,"comment_id":134929546,"body_markdown":"Shouldn&#39;t your _builder_ method be returning a _TestPOJO_?","body":"Shouldn&#39;t your <i>builder</i> method be returning a <i>TestPOJO</i>?"},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1687374927,"post_id":76526349,"comment_id":134929559,"body_markdown":"&quot;Shouldn&#39;t your builder method be returning a TestPOJO?&quot; No, that&#39;s for a build() method","body":"&quot;Shouldn&#39;t your builder method be returning a TestPOJO?&quot; No, that&#39;s for a build() method"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687375168,"post_id":76526349,"comment_id":134929618,"body_markdown":"Oh, never mind, I was reading it as _build_ not _builder_.","body":"Oh, never mind, I was reading it as <i>build</i> not <i>builder</i>."},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1687376689,"post_id":76526349,"comment_id":134929854,"body_markdown":"@AleZalazar The config is fixed. So i was thinking of making a map of string to &quot;consumer&quot;? or something so that i can just do `configMap.get(config).accept()` or something similar. If statements or switch case seem to be my only solution at the moment since i don&#39;t want to use reflection.","body":"@AleZalazar The config is fixed. So i was thinking of making a map of string to &quot;consumer&quot;? or something so that i can just do <code>configMap.get(config).accept()</code> or something similar. If statements or switch case seem to be my only solution at the moment since i don&#39;t want to use reflection."},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1687377357,"post_id":76526349,"comment_id":134929965,"body_markdown":"The consumer/accept strategy looks good to me (I believe you mean Consumer instances that require a list of valid values to be instantiated), the only restriction I see is having to implement everything in the TestPOJO class or having to pass your TestPOJO instance to the accept method as a parameter, having setters for each field, etc","body":"The consumer/accept strategy looks good to me (I believe you mean Consumer instances that require a list of valid values to be instantiated), the only restriction I see is having to implement everything in the TestPOJO class or having to pass your TestPOJO instance to the accept method as a parameter, having setters for each field, etc"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687425856,"post_id":76526349,"comment_id":134936201,"body_markdown":"Reflection is tempting as it allows to achieve the goal with less code than a `switch` over the string or a `Map`, however, it’s a dangerous thing to allow external input to cause  access to arbitrary members without limiting it to the fields you actually intended.","body":"Reflection is tempting as it allows to achieve the goal with less code than a <code>switch</code> over the string or a <code>Map</code>, however, it’s a dangerous thing to allow external input to cause  access to arbitrary members without limiting it to the fields you actually intended."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687377784,"creation_date":1687377784,"answer_id":76526761,"question_id":76526349,"body_markdown":"A simple switch statement inside the builder method could do the trick:\r\n\r\n    public TestPOJO builder(String field) {\r\n        switch(field) {\r\n           case &quot;Config1&quot;:\r\n               setField1(...);\r\n               break;\r\n           case &quot;Config2&quot;:\r\n               setField2(...);\r\n               break;\r\n           case &quot;Config3&quot;:\r\n               setField3(...);\r\n               break;\r\n           ...\r\n        }\r\n        return this;\r\n    }","title":"Java set a specific field based on input","body":"<p>A simple switch statement inside the builder method could do the trick:</p>\n<pre><code>public TestPOJO builder(String field) {\n    switch(field) {\n       case &quot;Config1&quot;:\n           setField1(...);\n           break;\n       case &quot;Config2&quot;:\n           setField2(...);\n           break;\n       case &quot;Config3&quot;:\n           setField3(...);\n           break;\n       ...\n    }\n    return this;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687381877,"creation_date":1687381877,"answer_id":76527158,"question_id":76526349,"body_markdown":"Not super pretty but i ended up doing this way\r\n```java\r\n@Builder(toBuilder=true)\r\npublic class TestPOJO {\r\n    private static final Map&lt;String, Consumer&lt;TestPOJOBuilder&gt;&gt; CONFIG_MAP = \r\n         ImmutableMap.&lt;String, Consumer&lt;TestPOJOBuilder&gt;&gt;builder()\r\n             .put(&quot;Config1&quot;, builder -&gt; builder.field1(1))\r\n             .put(&quot;Config2&quot;, builder -&gt; builder.field2(1))\r\n             .put(&quot;Config3&quot;, builder -&gt; builder.field3(1))\r\n             .put(&quot;Config4&quot;, builder -&gt; builder.field3(1))\r\n             .put(&quot;Config1&quot;, builder -&gt; builder.field4(1))\r\n             .build();\r\n\r\n    private int field1;\r\n    private int field2;\r\n    private int field3;\r\n    private int field4;\r\n\r\n    public static TestPOJOBuilder builder(final String config) {\r\n        final TestPOJOBuilder builder = new TestPOJOBuilder();\r\n        CONFIG_MAP.get(config).accept(builder);\r\n       \r\n        return builder;\r\n    }\r\n}\r\n```\r\n\r\n\r\nIf we need to set some other value then we can have a BiConsumer to take the input value as well.","title":"Java set a specific field based on input","body":"<p>Not super pretty but i ended up doing this way</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder(toBuilder=true)\npublic class TestPOJO {\n    private static final Map&lt;String, Consumer&lt;TestPOJOBuilder&gt;&gt; CONFIG_MAP = \n         ImmutableMap.&lt;String, Consumer&lt;TestPOJOBuilder&gt;&gt;builder()\n             .put(&quot;Config1&quot;, builder -&gt; builder.field1(1))\n             .put(&quot;Config2&quot;, builder -&gt; builder.field2(1))\n             .put(&quot;Config3&quot;, builder -&gt; builder.field3(1))\n             .put(&quot;Config4&quot;, builder -&gt; builder.field3(1))\n             .put(&quot;Config1&quot;, builder -&gt; builder.field4(1))\n             .build();\n\n    private int field1;\n    private int field2;\n    private int field3;\n    private int field4;\n\n    public static TestPOJOBuilder builder(final String config) {\n        final TestPOJOBuilder builder = new TestPOJOBuilder();\n        CONFIG_MAP.get(config).accept(builder);\n       \n        return builder;\n    }\n}\n</code></pre>\n<p>If we need to set some other value then we can have a BiConsumer to take the input value as well.</p>\n"}],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687461069,"creation_date":1687373938,"question_id":76526349,"body_markdown":"Not sure how to really explain it in title but here goes. \r\n\r\nMy `POJO`,\r\n```java\r\n@Builder(toBuilder=true)\r\npublic class TestPOJO {\r\n\r\n    private int field1;\r\n    private int field2;\r\n    private int field3;\r\n    private int field4;\r\n\r\n    public static TestPOJOBuilder builder(final String config) {\r\n        final TestPOJOBuilder builder = new TestPOJOBuilder();\r\n        // Magic Here \r\n       \r\n        return builder;\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo basically what i what to achieve is that based on the user input config, set the field which is needed.\r\n\r\nLet us say that i have a mapping such as,\r\n\r\n```\r\nConfig1 -&gt; Field1\r\nConfig2 -&gt; Field2\r\nConfig3 -&gt; Field3\r\nConfig4 -&gt; Field3\r\nConfig5 -&gt; Field4\r\n```\r\n\r\nI don&#39;t want user to be aware of this config. They should just trust that if i pass the correct config value then correct field would be set (assume setting is 1, otherwise 0). \r\n\r\nSo creating the builder like so,\r\n\r\n```Java\r\nTestPOJO.builder(&quot;Config4&quot;).build()\r\n```\r\n\r\nshould give me a TestPOJO object with `field3` set.\r\n\r\nIs this possible without reflection since i am inside the class and should have access to all members?\r\n\r\nI&#39;m on `Java8`.","title":"Java set a specific field based on input","body":"<p>Not sure how to really explain it in title but here goes.</p>\n<p>My <code>POJO</code>,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder(toBuilder=true)\npublic class TestPOJO {\n\n    private int field1;\n    private int field2;\n    private int field3;\n    private int field4;\n\n    public static TestPOJOBuilder builder(final String config) {\n        final TestPOJOBuilder builder = new TestPOJOBuilder();\n        // Magic Here \n       \n        return builder;\n    }\n}\n\n</code></pre>\n<p>So basically what i what to achieve is that based on the user input config, set the field which is needed.</p>\n<p>Let us say that i have a mapping such as,</p>\n<pre><code>Config1 -&gt; Field1\nConfig2 -&gt; Field2\nConfig3 -&gt; Field3\nConfig4 -&gt; Field3\nConfig5 -&gt; Field4\n</code></pre>\n<p>I don't want user to be aware of this config. They should just trust that if i pass the correct config value then correct field would be set (assume setting is 1, otherwise 0).</p>\n<p>So creating the builder like so,</p>\n<pre><code>TestPOJO.builder(&quot;Config4&quot;).build()\n</code></pre>\n<p>should give me a TestPOJO object with <code>field3</code> set.</p>\n<p>Is this possible without reflection since i am inside the class and should have access to all members?</p>\n<p>I'm on <code>Java8</code>.</p>\n"},{"tags":["java","spring-webflux","reactive-programming","flux"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687452830,"post_id":76533710,"comment_id":134942314,"body_markdown":"What do you do with that fluxes further? If you pass them further then your desire is unimplementable: if a Student has already been received by flux consumer how could you update it with upcoming Address?","body":"What do you do with that fluxes further? If you pass them further then your desire is unimplementable: if a Student has already been received by flux consumer how could you update it with upcoming Address?"},{"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"score":0,"creation_date":1687453685,"post_id":76533710,"comment_id":134942482,"body_markdown":"I have to pass the Flux&lt;Student&gt; as response of my API. I want to pass Flux&lt;Student&gt; with address updated.","body":"I have to pass the Flux&lt;Student&gt; as response of my API. I want to pass Flux&lt;Student&gt; with address updated."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687453769,"post_id":76533710,"comment_id":134942497,"body_markdown":"Do you pass addresses Flux, or it exists only for updating students in that mapper?","body":"Do you pass addresses Flux, or it exists only for updating students in that mapper?"},{"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"score":0,"creation_date":1687489805,"post_id":76533710,"comment_id":134947263,"body_markdown":"No, I&#39;m not passing the addresses Flux as part of response. It&#39;s just for processing.","body":"No, I&#39;m not passing the addresses Flux as part of response. It&#39;s just for processing."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687460802,"creation_date":1687460802,"answer_id":76534980,"question_id":76533710,"body_markdown":"Your solution uses blocking method, so it&#39;s not reactive.\r\nYou could construct desired Flux in a reactive way like that:\r\n\r\n        Flux&lt;Student&gt; updatedStudents = addresses\r\n                .collectMap(Address::getId, Address::getAddress)\r\n                .flatMapMany(addressesMap -&gt;\r\n                        students.doOnNext(student -&gt; student.address = addressesMap.get(student.addressId))\r\n                );\r\n\r\nHow does it work: first, via `collectMap` you get `Mono&lt;Map&lt;Integer, Address&gt;&gt;`, when it&#39;s collected, `students` flux would be executed making use of that map.\r\nIt is required that 1) `Flux&lt;Address&gt;` is not consumed anywhere else 2) `Flux&lt;Address&gt;` is finite. Otherwise desired behaviour is not possible.","title":"Map properties from another Flux | Spring WebFlux","body":"<p>Your solution uses blocking method, so it's not reactive.\nYou could construct desired Flux in a reactive way like that:</p>\n<pre><code>    Flux&lt;Student&gt; updatedStudents = addresses\n            .collectMap(Address::getId, Address::getAddress)\n            .flatMapMany(addressesMap -&gt;\n                    students.doOnNext(student -&gt; student.address = addressesMap.get(student.addressId))\n            );\n</code></pre>\n<p>How does it work: first, via <code>collectMap</code> you get <code>Mono&lt;Map&lt;Integer, Address&gt;&gt;</code>, when it's collected, <code>students</code> flux would be executed making use of that map.\nIt is required that 1) <code>Flux&lt;Address&gt;</code> is not consumed anywhere else 2) <code>Flux&lt;Address&gt;</code> is finite. Otherwise desired behaviour is not possible.</p>\n"}],"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76534980,"answer_count":1,"score":0,"last_activity_date":1687460802,"creation_date":1687449501,"question_id":76533710,"body_markdown":"\r\nI have two classes as below. We are using reactive programming in Java for development. Initially the address field in Student class will be null as Student table does not have it. Now I have to update the address field in Student class based on the addressId.\r\n\r\nHow can I do this?\r\n\r\nI can do it by converting address Flux to a HashMap and then get values based on address id. But if I do that, am I leaving the reactive programming style? Is there any other way I can do this mapping?\r\n\r\n```\r\npublic class Student {\r\n  private int id;\r\n  private int addressId;\r\n  private String name;\r\n  private String address;\r\n}\r\n\r\npublic class Address {\r\n  private int id;\r\n  private String address;\r\n}\r\n\r\npublic class MapperClass {\r\n  public void map(Flux&lt;Student&gt; students, Flux&lt;Address&gt; addresses ){\r\n    //For each student, I want to take address from addresses map and update the Student class&#39;s address field. \r\n    // I can do something like below:\r\n    addresses.collectMap(a -&gt; a.getId(), a-&gt; a.getAddress()).block();\r\n  }\r\n}\r\n\r\n```","title":"Map properties from another Flux | Spring WebFlux","body":"<p>I have two classes as below. We are using reactive programming in Java for development. Initially the address field in Student class will be null as Student table does not have it. Now I have to update the address field in Student class based on the addressId.</p>\n<p>How can I do this?</p>\n<p>I can do it by converting address Flux to a HashMap and then get values based on address id. But if I do that, am I leaving the reactive programming style? Is there any other way I can do this mapping?</p>\n<pre><code>public class Student {\n  private int id;\n  private int addressId;\n  private String name;\n  private String address;\n}\n\npublic class Address {\n  private int id;\n  private String address;\n}\n\npublic class MapperClass {\n  public void map(Flux&lt;Student&gt; students, Flux&lt;Address&gt; addresses ){\n    //For each student, I want to take address from addresses map and update the Student class's address field. \n    // I can do something like below:\n    addresses.collectMap(a -&gt; a.getId(), a-&gt; a.getAddress()).block();\n  }\n}\n\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":1,"creation_date":1687459806,"post_id":76534822,"comment_id":134943663,"body_markdown":"Can you describe in more detail what `markFlag()` and `isFlagMarked()` are supposed to do?  Are you essentially saying &quot;I&#39;ve seen this string before&quot;?  What would the result be if you passed in string &quot;Something with a in it&quot; to `isFlagMarked()` after you had marked &quot;a&quot;?","body":"Can you describe in more detail what <code>markFlag()</code> and <code>isFlagMarked()</code> are supposed to do?  Are you essentially saying &quot;I&#39;ve seen this string before&quot;?  What would the result be if you passed in string &quot;Something with a in it&quot; to <code>isFlagMarked()</code> after you had marked &quot;a&quot;?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1687459808,"post_id":76534822,"comment_id":134943664,"body_markdown":"&quot;I am not allowed to use Reflection&quot;: Sounds like either homework or a job interview. What have you tried? What about it didn&#39;t work? See [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/q/6166).","body":"&quot;I am not allowed to use Reflection&quot;: Sounds like either homework or a job interview. What have you tried? What about it didn&#39;t work? See <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a>."},{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":1,"creation_date":1687459897,"post_id":76534822,"comment_id":134943688,"body_markdown":"About the memory issue: if you can afford some level of error, you can also use a [bloom filter](https://en.wikipedia.org/wiki/Bloom_filter).","body":"About the memory issue: if you can afford some level of error, you can also use a <a href=\"https://en.wikipedia.org/wiki/Bloom_filter\" rel=\"nofollow noreferrer\">bloom filter</a>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687459935,"post_id":76534822,"comment_id":134943697,"body_markdown":"@guz `Checker.isFlagMarked()` returns true if `Checker.markFlag()` has been called for a given String.","body":"@guz <code>Checker.isFlagMarked()</code> returns true if <code>Checker.markFlag()</code> has been called for a given String."},{"owner":{"account_id":28506749,"reputation":1,"user_id":22007733,"display_name":"jackeylove17"},"score":0,"creation_date":1687460253,"post_id":76534822,"comment_id":134943755,"body_markdown":"@MikaelF intresting, thank you","body":"@MikaelF intresting, thank you"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687462518,"post_id":76534822,"comment_id":134944182,"body_markdown":"Is it a requirement to use static methods?","body":"Is it a requirement to use static methods?"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687460071,"creation_date":1687459747,"answer_id":76534879,"question_id":76534822,"body_markdown":"Just keep a set of the strings. If this will be called from different threads, use a thread-safe collection.\r\n\r\nAnything do with fiddling the internals of a String instance is destined for failure: distinct instances can represent the same value, the internals of the class might be changed in future releases etc.\r\n\r\n    public class Checker {\r\n        private static final Set&lt;String&gt; markedFlags = new HashSet&lt;&gt;();\r\n        \r\n        public static void markFlag(String flag) {\r\n            markedFlags.add(flag);\r\n        }\r\n    \r\n        public static boolean isFlagMarked(String flag) {\r\n            return markedFlags.contains(flag);\r\n        }\r\n    }\r\n\r\n&gt; But it requires a lot of memory I guess.\r\n\r\nNo it doesn&#39;t. The strings already exist in your application. The only memory is an array big enough to hold the references. So ~ `32 or 64bits * number of marked strings`, i.e. irrelevant","title":"How can I mark the instance of String class?","body":"<p>Just keep a set of the strings. If this will be called from different threads, use a thread-safe collection.</p>\n<p>Anything do with fiddling the internals of a String instance is destined for failure: distinct instances can represent the same value, the internals of the class might be changed in future releases etc.</p>\n<pre><code>public class Checker {\n    private static final Set&lt;String&gt; markedFlags = new HashSet&lt;&gt;();\n    \n    public static void markFlag(String flag) {\n        markedFlags.add(flag);\n    }\n\n    public static boolean isFlagMarked(String flag) {\n        return markedFlags.contains(flag);\n    }\n}\n</code></pre>\n<blockquote>\n<p>But it requires a lot of memory I guess.</p>\n</blockquote>\n<p>No it doesn't. The strings already exist in your application. The only memory is an array big enough to hold the references. So ~ <code>32 or 64bits * number of marked strings</code>, i.e. irrelevant</p>\n"}],"owner":{"account_id":28506749,"reputation":1,"user_id":22007733,"display_name":"jackeylove17"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1687462612,"accepted_answer_id":76534879,"answer_count":1,"score":-6,"last_activity_date":1687460071,"creation_date":1687459222,"question_id":76534822,"body_markdown":"I need to create the class which should have the possibility to mark String and check it:\r\n\r\n```\r\npublic class Checker {\r\n\t\r\n\tpublic static void markFlag(String flag) {\r\n\t}\r\n\t\r\n\tpublic static boolean isFlagMarked(String flag) {\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nFor example:\r\n```\r\nChecker.markFlag(&quot;a&quot;);\r\n\r\nChecker.isFlagMarked(&quot;a&quot;); // true\r\n\r\nChecker.isFlagMarked(&quot;b&quot;); // false\r\n\r\nChecker.isFlagMarked(&quot;c&quot;); // false\r\n```\r\nI know that String class has a private boolean field `isHashZero` which is `false` till we don&#39;t call `hashcode()` method, and it&#39;s a really cool marker, but I am not allowed to use Reflection API.\r\n\r\nAlso, I think I can create `HashSet markedFlags` in the Checker class and just add the marked flags to it. But it requires a lot of memory I guess. Can you help me find the best solution? Will be thankful for any advice.   ","title":"How can I mark the instance of String class?","body":"<p>I need to create the class which should have the possibility to mark String and check it:</p>\n<pre><code>public class Checker {\n    \n    public static void markFlag(String flag) {\n    }\n    \n    public static boolean isFlagMarked(String flag) {\n    }\n}\n\n</code></pre>\n<p>For example:</p>\n<pre><code>Checker.markFlag(&quot;a&quot;);\n\nChecker.isFlagMarked(&quot;a&quot;); // true\n\nChecker.isFlagMarked(&quot;b&quot;); // false\n\nChecker.isFlagMarked(&quot;c&quot;); // false\n</code></pre>\n<p>I know that String class has a private boolean field <code>isHashZero</code> which is <code>false</code> till we don't call <code>hashcode()</code> method, and it's a really cool marker, but I am not allowed to use Reflection API.</p>\n<p>Also, I think I can create <code>HashSet markedFlags</code> in the Checker class and just add the marked flags to it. But it requires a lot of memory I guess. Can you help me find the best solution? Will be thankful for any advice.</p>\n"},{"tags":["java","arrays","2d"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1593508482,"post_id":62653953,"comment_id":110799233,"body_markdown":"`&quot;BAR&quot;.charAt(1)` returns `&#39;A&#39;`, and in Java, character `&#39;A&#39;` is also the ASCII number 65.","body":"<code>&quot;BAR&quot;.charAt(1)</code> returns <code>&#39;A&#39;</code>, and in Java, character <code>&#39;A&#39;</code> is also the ASCII number 65."},{"owner":{"account_id":18818764,"reputation":37,"user_id":13725192,"display_name":"okm1234"},"score":0,"creation_date":1593519696,"post_id":62653953,"comment_id":110804722,"body_markdown":"can you explain this briefly?","body":"can you explain this briefly?"},{"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"score":0,"creation_date":1593523646,"post_id":62653953,"comment_id":110806950,"body_markdown":"@ishachauhan given numerological values are valid or it is just and sample for your question? Because it is not between 1-26 in increasing order now.","body":"@ishachauhan given numerological values are valid or it is just and sample for your question? Because it is not between 1-26 in increasing order now."},{"owner":{"account_id":18818764,"reputation":37,"user_id":13725192,"display_name":"okm1234"},"score":0,"creation_date":1593526481,"post_id":62653953,"comment_id":110808613,"body_markdown":"numerological value are randomly chosen in this question those are not in the series(inc,/dic.)","body":"numerological value are randomly chosen in this question those are not in the series(inc,/dic.)"}],"answers":[{"tags":[],"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593529099,"creation_date":1593529099,"answer_id":62660373,"question_id":62653953,"body_markdown":"Since you mentioned in your comment that letters have random numerical values, and you need to have only uppercase letters, you can create a map in which only uppercase letters as `key` and their random values as `value`. After that you can check your each word&#39;s each char with the map to make sure you have only uppercase letters. Below code will print the results, so you can store them in array or any other container as you wish.\r\n\r\n    public static void main(String[] args) {\r\n        // map which contains only upper case letters with random values\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; 26; ++i){\r\n            // upper case A ascii value is 65, we start from 65\r\n            map.put((char)(65 + i), (int) (Math.random() * (10)));\r\n        }\r\n\r\n        // input values\r\n        String[] inputs = {&quot;SUDHA&quot;, &quot;kiran&quot;, &quot;ANI34&quot;};\r\n        boolean valid;\r\n        int sum;\r\n\r\n        for (int j = 0; j &lt; inputs.length; ++j){\r\n            sum = 0;\r\n            valid = true;\r\n            for (int i = 0; i &lt; inputs[j].length(); ++i){\r\n                // if char is not in map, it means that it is not uppercase letter\r\n                if (!map.containsKey(inputs[j].charAt(i))){\r\n                    System.out.println(&quot;Sample output &quot; + (j + 1) + &quot;: Invalid Name: &quot; + inputs[j]);\r\n                    valid = false;\r\n                    break;\r\n                }else{\r\n                    sum += map.get(inputs[j].charAt(i));\r\n                }\r\n            }\r\n            if (valid){\r\n                System.out.println(&quot;Sample output &quot; + (j + 1) + &quot;: Your numerology no is: &quot; + sum);\r\n            }\r\n        }\r\n    }","title":"Find Numerology number in Java","body":"<p>Since you mentioned in your comment that letters have random numerical values, and you need to have only uppercase letters, you can create a map in which only uppercase letters as <code>key</code> and their random values as <code>value</code>. After that you can check your each word's each char with the map to make sure you have only uppercase letters. Below code will print the results, so you can store them in array or any other container as you wish.</p>\n<pre><code>public static void main(String[] args) {\n    // map which contains only upper case letters with random values\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; 26; ++i){\n        // upper case A ascii value is 65, we start from 65\n        map.put((char)(65 + i), (int) (Math.random() * (10)));\n    }\n\n    // input values\n    String[] inputs = {&quot;SUDHA&quot;, &quot;kiran&quot;, &quot;ANI34&quot;};\n    boolean valid;\n    int sum;\n\n    for (int j = 0; j &lt; inputs.length; ++j){\n        sum = 0;\n        valid = true;\n        for (int i = 0; i &lt; inputs[j].length(); ++i){\n            // if char is not in map, it means that it is not uppercase letter\n            if (!map.containsKey(inputs[j].charAt(i))){\n                System.out.println(&quot;Sample output &quot; + (j + 1) + &quot;: Invalid Name: &quot; + inputs[j]);\n                valid = false;\n                break;\n            }else{\n                sum += map.get(inputs[j].charAt(i));\n            }\n        }\n        if (valid){\n            System.out.println(&quot;Sample output &quot; + (j + 1) + &quot;: Your numerology no is: &quot; + sum);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19011490,"reputation":46,"user_id":13877322,"display_name":"Aryan Arora"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594036919,"creation_date":1594036919,"answer_id":62755655,"question_id":62653953,"body_markdown":"Hey you can use a hash map\r\nThis is what I did\r\n\r\n    /* package codechef; // don&#39;t place package name! */\r\n    \r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    \r\n    /* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\n    public class Codechef\r\n    {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\t// your code goes here\r\n    \t\tScanner sc = new Scanner (System.in);\r\n    \t\tHashMap&lt;Character, Integer&gt; hmap = new HashMap&lt;Character, Integer&gt;();//HashMap\r\n    \t\thmap.put(&#39;A&#39;,1); ///VALUES\r\n    \t\thmap.put(&#39;B&#39;,2);\r\n    \t\thmap.put(&#39;C&#39;,3);\r\n    \t\thmap.put(&#39;D&#39;,4);\r\n    \t\thmap.put(&#39;E&#39;,5);\r\n    \t\thmap.put(&#39;F&#39;,8);\r\n    \t\thmap.put(&#39;G&#39;,3);\r\n    \t\thmap.put(&#39;H&#39;,5);\r\n    \t\thmap.put(&#39;I&#39;,1);\r\n    \t\thmap.put(&#39;J&#39;,1);\r\n    \t\thmap.put(&#39;K&#39;,2);\r\n    \t\thmap.put(&#39;L&#39;,3);\r\n    \t\thmap.put(&#39;M&#39;,4);\r\n    \t\thmap.put(&#39;N&#39;,5);\r\n    \t\thmap.put(&#39;O&#39;,7);\r\n    \t\thmap.put(&#39;P&#39;,8);\r\n    \t\thmap.put(&#39;Q&#39;,1);\r\n    \t\thmap.put(&#39;R&#39;,2);\r\n    \t\thmap.put(&#39;S&#39;,3);\r\n    \t\thmap.put(&#39;T&#39;,4);\r\n    \t\thmap.put(&#39;U&#39;,6);\r\n    \t\thmap.put(&#39;V&#39;,6);\r\n    \t\thmap.put(&#39;W&#39;,6);\r\n    \t\thmap.put(&#39;X&#39;,5);\r\n    \t\thmap.put(&#39;Y&#39;,1);\r\n    \t\thmap.put(&#39;Z&#39;,7);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter Name&quot;);\r\n    \t\tString str = sc.next();\r\n    \t\t/**\r\n    \t\t * if(!str.isUpperCase())\r\n    \t\t * {\r\n    \t\t *   System.out.println(&quot;INVALID NAME&quot;);\r\n    \t\t *    System.exit(0);\r\n    \t\t * }\r\n    \t\t */\r\n    \t\t \r\n    \t\tstr=str.toUpperCase();\r\n    \t\tlong sum=0;\r\n    \t\tfor(int i=0;i&lt;str.length();i++)\r\n    \t\t{\r\n    \t\t    char ch = str.charAt(i);\r\n    \t\t    sum+=hmap.get(ch);\r\n    \t\t}\r\n    \t\tSystem.out.println(sum);\r\n    \t}\r\n    }\r\n\r\n`\r\n\r\n","title":"Find Numerology number in Java","body":"<p>Hey you can use a hash map\nThis is what I did</p>\n<pre><code>/* package codechef; // don't place package name! */\n\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\npublic class Codechef\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        // your code goes here\n        Scanner sc = new Scanner (System.in);\n        HashMap&lt;Character, Integer&gt; hmap = new HashMap&lt;Character, Integer&gt;();//HashMap\n        hmap.put('A',1); ///VALUES\n        hmap.put('B',2);\n        hmap.put('C',3);\n        hmap.put('D',4);\n        hmap.put('E',5);\n        hmap.put('F',8);\n        hmap.put('G',3);\n        hmap.put('H',5);\n        hmap.put('I',1);\n        hmap.put('J',1);\n        hmap.put('K',2);\n        hmap.put('L',3);\n        hmap.put('M',4);\n        hmap.put('N',5);\n        hmap.put('O',7);\n        hmap.put('P',8);\n        hmap.put('Q',1);\n        hmap.put('R',2);\n        hmap.put('S',3);\n        hmap.put('T',4);\n        hmap.put('U',6);\n        hmap.put('V',6);\n        hmap.put('W',6);\n        hmap.put('X',5);\n        hmap.put('Y',1);\n        hmap.put('Z',7);\n        \n        System.out.println(&quot;Enter Name&quot;);\n        String str = sc.next();\n        /**\n         * if(!str.isUpperCase())\n         * {\n         *   System.out.println(&quot;INVALID NAME&quot;);\n         *    System.exit(0);\n         * }\n         */\n         \n        str=str.toUpperCase();\n        long sum=0;\n        for(int i=0;i&lt;str.length();i++)\n        {\n            char ch = str.charAt(i);\n            sum+=hmap.get(ch);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":21448160,"reputation":46,"user_id":15801190,"display_name":"Brijesh Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1619787733,"creation_date":1619787374,"answer_id":67334325,"question_id":62653953,"body_markdown":"**You can try :-** \r\n\r\n\r\n----------\r\n\r\n\r\n         int arr[][]={{65,1},{66,2},{67,3},{68,4},{69,5},{70,8},{71,3},{72,5},{73,1},{74,1},{75,2},{76,3},{77,4},{78,5},{79,7},{80,8},{81,1},{82,2},{83,3},{84,4},{85,6},{86,6},{87,6},{88,5},{89,1},{90,7}};\r\n      \r\n\r\n\r\n----------\r\n\r\n\r\n   System.out.println(&quot;Enter your name:&quot;);\r\n    \r\n\r\n\r\n----------\r\n\r\n\r\n         String name=sc.nextLine();\r\n            String pattern=&quot;[A-Z]+&quot;;\r\n             if(name.matches(pattern)){\r\n                int score=0;\r\n                for(int i=0;i&lt;name.length();i++){\r\n                    char ch=name.charAt(i);\r\n                    score+=arr[(int)ch -65][1];\r\n                }\r\n                System.out.println(&quot;Your numerology no is:&quot;+score);\r\n            }\r\n            else System.out.println(&quot;Invalid name&quot;);\r\n     ","title":"Find Numerology number in Java","body":"<p><strong>You can try :-</strong></p>\n<hr />\n<pre><code>     int arr[][]={{65,1},{66,2},{67,3},{68,4},{69,5},{70,8},{71,3},{72,5},{73,1},{74,1},{75,2},{76,3},{77,4},{78,5},{79,7},{80,8},{81,1},{82,2},{83,3},{84,4},{85,6},{86,6},{87,6},{88,5},{89,1},{90,7}};\n  \n</code></pre>\n<hr />\n<p>System.out.println(&quot;Enter your name:&quot;);</p>\n<hr />\n<pre><code>     String name=sc.nextLine();\n        String pattern=&quot;[A-Z]+&quot;;\n         if(name.matches(pattern)){\n            int score=0;\n            for(int i=0;i&lt;name.length();i++){\n                char ch=name.charAt(i);\n                score+=arr[(int)ch -65][1];\n            }\n            System.out.println(&quot;Your numerology no is:&quot;+score);\n        }\n        else System.out.println(&quot;Invalid name&quot;);\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":27216582,"reputation":1,"user_id":20746517,"display_name":"Yogesh Thosar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687460055,"creation_date":1687460055,"answer_id":76534916,"question_id":62653953,"body_markdown":"/* As said in question, I tried by declaring 2d array(2x26) using java and it works well*/\r\n\r\n    public class NumerologicalValueNameFinder2 {\r\n\tpublic static void main(String[] args) {\r\n\t\tint numArr[] = {1,2,3,4,5,8,3,5,1,1,2,3,4,5,7,8,1,2,3,4,6,6,6,5,1,7};\r\n\t\tint arr[][] =new int[2][26];\r\n\t\tint alphabet = &#39;A&#39;;\r\n\t\tfor(int i=0;i&lt;=25;i++) {\r\n\t\t\tarr[0][i] = alphabet;\r\n\t\t\tarr[1][i] = numArr[i];\r\n\t\t\talphabet++;\r\n\t\t}\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter your name:&quot;);\r\n\t\tString name = scanner.next();\r\n\t\t//check for valid - only capital and no space\r\n\t\tif(isValid(name)) {\r\n\t\t\tSystem.out.print(&quot;Its valid and &quot;);\r\n\t\t\tint add = 0;\r\n\t\t\tbyte charInName[] = name.getBytes();\r\n\t\t\t//System.out.println((char)115);\r\n\t\t\tfor(int i=0;i&lt;charInName.length;i++) {\r\n\t\t\t\tfor(int j=0;j&lt;26;j++) {\r\n\t\t\t\t\tif(charInName[i]==arr[0][j]) {\r\n\t\t\t\t\t\tadd = add + arr[1][j];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;value is &quot;+add);\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;Invalid name&quot;);\r\n\t\t}\r\n\t}\r\n\tpublic static boolean isValid(String input) {\r\n\t\tString requiredPattern = &quot;^[A-Z]+$&quot;;\r\n\t\tPattern pattern =  Pattern.compile(requiredPattern);\r\n\t\tboolean result = pattern.matcher(input).matches();\r\n\t\treturn result;\r\n\t}\r\n}","title":"Find Numerology number in Java","body":"<p>/* As said in question, I tried by declaring 2d array(2x26) using java and it works well*/</p>\n<pre><code>public class NumerologicalValueNameFinder2 {\npublic static void main(String[] args) {\n    int numArr[] = {1,2,3,4,5,8,3,5,1,1,2,3,4,5,7,8,1,2,3,4,6,6,6,5,1,7};\n    int arr[][] =new int[2][26];\n    int alphabet = 'A';\n    for(int i=0;i&lt;=25;i++) {\n        arr[0][i] = alphabet;\n        arr[1][i] = numArr[i];\n        alphabet++;\n    }\n    \n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Enter your name:&quot;);\n    String name = scanner.next();\n    //check for valid - only capital and no space\n    if(isValid(name)) {\n        System.out.print(&quot;Its valid and &quot;);\n        int add = 0;\n        byte charInName[] = name.getBytes();\n        //System.out.println((char)115);\n        for(int i=0;i&lt;charInName.length;i++) {\n            for(int j=0;j&lt;26;j++) {\n                if(charInName[i]==arr[0][j]) {\n                    add = add + arr[1][j];\n                    break;\n                }\n            }\n        }\n        System.out.println(&quot;value is &quot;+add);\n    }else {\n        System.out.println(&quot;Invalid name&quot;);\n    }\n}\npublic static boolean isValid(String input) {\n    String requiredPattern = &quot;^[A-Z]+$&quot;;\n    Pattern pattern =  Pattern.compile(requiredPattern);\n    boolean result = pattern.matcher(input).matches();\n    return result;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":18818764,"reputation":37,"user_id":13725192,"display_name":"okm1234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4452,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":67334325,"answer_count":4,"score":2,"last_activity_date":1687460055,"creation_date":1593507987,"question_id":62653953,"body_markdown":"So the question is:  \r\nWrite a program to find the numerological value for a given name.  \r\nNote: Store the numerological number and the corresponding character in a 2-D array(2*26). Always the given  name should be in capital case ,else the name is not valid. Check for the valid name,if the name is invalid print the message &quot;Invalid name&quot;.There should not be any space in the name provided.\r\n\r\nFor example:\r\n\r\n```lang-none\r\nA B C D E F G H I J K L M N O P Q R S T U V W X Y Z\r\n1 2 3 4 5 8 3 5 1 1 2 3 4 5 7 8 1 2 3 4 6 6 6 5 1 7\r\n\r\nSample Input 1:\r\nEnter your name:\r\nSUDHA\r\n\r\nSample Output 1:\r\nYour numerology no is:19\r\n\r\nSample Input 2:\r\nEnter your name:\r\nkiran\r\n\r\nSample Output 2:\r\nInvalid name\r\n\r\nSample Input 3:\r\nEnter your name:\r\nANI34\r\n\r\nSample Output 3:\r\nInvalid name\r\n```\r\n\r\n&quot;I am using an int 2d array to store value.&quot;\r\n\r\n```lang-java\r\n  int[][] arr = {{65,1},{66,2},{67,3},{68,4},{69,5},{70,8},\r\n\r\n                {71,3},{72,5},{73,1},{74,1},{75,2},{76,3},\r\n\r\n                {77,4},{78,5},{79,7},{80,8},{81,1},{82,2},\r\n\r\n                {83,3},{84,4},{85,6},{86,6},{87,6},{88,5},{89,1},{90,7}};\r\n```\r\n\r\nBut now i am confused how to extract character ASCII value and get the result.  \r\nCan anyone help me ?  \r\nthanks in advance\r\n","title":"Find Numerology number in Java","body":"<p>So the question is:<br />\nWrite a program to find the numerological value for a given name.<br />\nNote: Store the numerological number and the corresponding character in a 2-D array(2*26). Always the given  name should be in capital case ,else the name is not valid. Check for the valid name,if the name is invalid print the message &quot;Invalid name&quot;.There should not be any space in the name provided.</p>\n<p>For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\n1 2 3 4 5 8 3 5 1 1 2 3 4 5 7 8 1 2 3 4 6 6 6 5 1 7\n\nSample Input 1:\nEnter your name:\nSUDHA\n\nSample Output 1:\nYour numerology no is:19\n\nSample Input 2:\nEnter your name:\nkiran\n\nSample Output 2:\nInvalid name\n\nSample Input 3:\nEnter your name:\nANI34\n\nSample Output 3:\nInvalid name\n</code></pre>\n<p>&quot;I am using an int 2d array to store value.&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>  int[][] arr = {{65,1},{66,2},{67,3},{68,4},{69,5},{70,8},\n\n                {71,3},{72,5},{73,1},{74,1},{75,2},{76,3},\n\n                {77,4},{78,5},{79,7},{80,8},{81,1},{82,2},\n\n                {83,3},{84,4},{85,6},{86,6},{87,6},{88,5},{89,1},{90,7}};\n</code></pre>\n<p>But now i am confused how to extract character ASCII value and get the result.<br />\nCan anyone help me ?<br />\nthanks in advance</p>\n"},{"tags":["java","multithreading","exception","pool"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":2,"creation_date":1374677233,"post_id":17837410,"comment_id":26035950,"body_markdown":"shutdown the executor and then submit a new task.","body":"shutdown the executor and then submit a new task."},{"owner":{"account_id":2611657,"reputation":9269,"user_id":2263584,"accept_rate":67,"display_name":"Geeky Guy"},"score":5,"creation_date":1374677253,"post_id":17837410,"comment_id":26035977,"body_markdown":"`throw new RejectedExecutionException();`","body":"<code>throw new RejectedExecutionException();</code>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1374677738,"post_id":17837410,"comment_id":26036323,"body_markdown":"LOL!!! Classic @Renan.","body":"LOL!!! Classic @Renan."}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1374677244,"creation_date":1374677244,"answer_id":17837439,"question_id":17837410,"body_markdown":"Sending tasks to an executor after calling `shutdown(` on it will throw this exception.\r\n\r\nIn addition, if the executor uses a bounded blocking queue if the queue is full submitting the task will not block but will fail-fast with the exception.\r\n","title":"How can I get a RejectedExecutionException","body":"<p>Sending tasks to an executor after calling <code>shutdown(</code> on it will throw this exception.</p>\n\n<p>In addition, if the executor uses a bounded blocking queue if the queue is full submitting the task will not block but will fail-fast with the exception.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1687459995,"creation_date":1374677428,"answer_id":17837524,"question_id":17837410,"body_markdown":"&gt; Anybody able to provide me with an example of getting a RejectedExecutionException Possibly a real life example. \r\n\r\nSure.  The following code submits 2 jobs into a thread-pool with only 1 thread running.  It uses a `SynchronousQueue` which means that no jobs will be stored in the job queue.\r\n\r\nSince each job takes a while to run, the 2nd execute fills the queue and throws a `RejectedExecutionException`.\r\n\r\n\t// create a 1 thread pool with no buffer for the runnable jobs\r\n\tExecutorService threadPool =\r\n\t\tnew ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS,\r\n\t\t\tnew SynchronousQueue&lt;Runnable&gt;());\r\n\t// submit 2 jobs that take a while to run\r\n\t/// this job takes the only thread\r\n\tthreadPool.execute(new SleepRunnable());\r\n\t// this tries to put the job into the queue, throws RejectedExecutionException\r\n\tthreadPool.execute(new SleepRunnable());\r\n\r\n\tpublic class SleepRunnable implements Runnable {\r\n\t\tpublic void run() {\r\n\t\t\ttry {\r\n\t\t\t\t// this just sleeps for a while which pauses the thread\r\n\t\t\t\tThread.sleep(10000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis is happening by design because the queue is full and all of the threads are busy.  If you want to avoid this problem then you should create a larger queue to store more jobs when all of the worker threads are busy, increase the number of threads working on the jobs (although you can only increase this so far), or block the code that is submitting the jobs to the thread-pool.  See: https://stackoverflow.com/questions/44650732/how-to-implement-blocking-thread-pool-executor/44658960#44658960\r\n","title":"How can I get a RejectedExecutionException","body":"<blockquote>\n<p>Anybody able to provide me with an example of getting a RejectedExecutionException Possibly a real life example.</p>\n</blockquote>\n<p>Sure.  The following code submits 2 jobs into a thread-pool with only 1 thread running.  It uses a <code>SynchronousQueue</code> which means that no jobs will be stored in the job queue.</p>\n<p>Since each job takes a while to run, the 2nd execute fills the queue and throws a <code>RejectedExecutionException</code>.</p>\n<pre><code>// create a 1 thread pool with no buffer for the runnable jobs\nExecutorService threadPool =\n    new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS,\n        new SynchronousQueue&lt;Runnable&gt;());\n// submit 2 jobs that take a while to run\n/// this job takes the only thread\nthreadPool.execute(new SleepRunnable());\n// this tries to put the job into the queue, throws RejectedExecutionException\nthreadPool.execute(new SleepRunnable());\n\npublic class SleepRunnable implements Runnable {\n    public void run() {\n        try {\n            // this just sleeps for a while which pauses the thread\n            Thread.sleep(10000);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n            return;\n        }\n    }\n}\n</code></pre>\n<p>This is happening by design because the queue is full and all of the threads are busy.  If you want to avoid this problem then you should create a larger queue to store more jobs when all of the worker threads are busy, increase the number of threads working on the jobs (although you can only increase this so far), or block the code that is submitting the jobs to the thread-pool.  See: <a href=\"https://stackoverflow.com/questions/44650732/how-to-implement-blocking-thread-pool-executor/44658960#44658960\">How to implement blocking thread pool executor?</a></p>\n"},{"tags":[],"owner":{"account_id":3062235,"reputation":2631,"user_id":2594636,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374679408,"creation_date":1374678386,"answer_id":17837950,"question_id":17837410,"body_markdown":"This question has already been asked and answered :\r\nhttps://stackoverflow.com/questions/8183205/what-could-cause-of-rejectedexecutionexception\r\nhttps://stackoverflow.com/questions/7788672/android-rejectedexecutionexception\r\n\r\nThis code gives you the error because we try to launch the task but the executor is shut down you can refer to the link above for further explications the answer looked pretty complete:\r\n\r\n    public class Executorz {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tExecutorz ex = new Executorz();\r\n    \t\tExecutorService es = Executors.newFixedThreadPool(10);\r\n    \t\t\r\n    \t\tfor (int i = 0; i&lt;100 ; i++){\r\n    \t\t\tSystem.out.println(&quot;Executed&quot;);\r\n    \t\t\tes.execute(ex.getNewCountin());\r\n    \t\t\t\r\n    \t\t\tif (i==20)\r\n    \t\t\t\tes.shutdown();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic Countin getNewCountin(){\r\n    \t\treturn new Countin();\r\n    \t}\r\n    \t\r\n    \tpublic class Countin implements Runnable {\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tfor (double i =0; i&lt;1000000000 ; i++){\r\n    \t\t\t}\t\t\t\r\n    \t\t\tSystem.out.println(&quot;Done&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"How can I get a RejectedExecutionException","body":"<p>This question has already been asked and answered :\n<a href=\"https://stackoverflow.com/questions/8183205/what-could-cause-of-rejectedexecutionexception\">What could be the cause of RejectedExecutionException</a>\n<a href=\"https://stackoverflow.com/questions/7788672/android-rejectedexecutionexception\">Submitting tasks to a thread-pool gives RejectedExecutionException</a></p>\n\n<p>This code gives you the error because we try to launch the task but the executor is shut down you can refer to the link above for further explications the answer looked pretty complete:</p>\n\n<pre><code>public class Executorz {\n\n    public static void main(String[] args) {\n        Executorz ex = new Executorz();\n        ExecutorService es = Executors.newFixedThreadPool(10);\n\n        for (int i = 0; i&lt;100 ; i++){\n            System.out.println(\"Executed\");\n            es.execute(ex.getNewCountin());\n\n            if (i==20)\n                es.shutdown();\n        }\n    }\n\n    public Countin getNewCountin(){\n        return new Countin();\n    }\n\n    public class Countin implements Runnable {\n        @Override\n        public void run() {\n            for (double i =0; i&lt;1000000000 ; i++){\n            }           \n            System.out.println(\"Done\");\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2296572,"reputation":12728,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2943,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17837524,"answer_count":3,"score":4,"last_activity_date":1687459995,"creation_date":1374677183,"question_id":17837410,"body_markdown":"Anybody able to provide me with an example of getting a [RejectedExecutionException][1]\r\nPossibly a real life example.\r\nThanks in advance.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionException.html","title":"How can I get a RejectedExecutionException","body":"<p>Anybody able to provide me with an example of getting a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionException.html\" rel=\"nofollow\">RejectedExecutionException</a>\nPossibly a real life example.\nThanks in advance.</p>\n"},{"tags":["java","rpm"],"answers":[{"tags":[],"owner":{"account_id":7847358,"reputation":103,"user_id":5931966,"display_name":"dbt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670534186,"creation_date":1670534186,"answer_id":74736417,"question_id":74724270,"body_markdown":"This is the middle ground that I found working:\r\n\r\n```\r\nRuntime rt = Runtime.getRuntime();\r\nProcess proc = rt.exec(String.format(&quot;rpm2cpio %s&quot;, packagePath));\r\ntry (CpioArchiveInputStream cpioStream = new CpioArchiveInputStream(proc.getInputStream())) {\r\n    System.out.println(cpioStream.getNextCPIOEntry().getName());\r\n}\r\n```\r\n\r\nNot perfect, but makes it easier so that we only rely on a new process to read file.","title":"How to extract RPM files to specific package from Java","body":"<p>This is the middle ground that I found working:</p>\n<pre><code>Runtime rt = Runtime.getRuntime();\nProcess proc = rt.exec(String.format(&quot;rpm2cpio %s&quot;, packagePath));\ntry (CpioArchiveInputStream cpioStream = new CpioArchiveInputStream(proc.getInputStream())) {\n    System.out.println(cpioStream.getNextCPIOEntry().getName());\n}\n</code></pre>\n<p>Not perfect, but makes it easier so that we only rely on a new process to read file.</p>\n"},{"tags":[],"owner":{"account_id":3694260,"reputation":356,"user_id":3076105,"display_name":"user3076105"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687459886,"creation_date":1687459886,"answer_id":76534892,"question_id":74724270,"body_markdown":"Yes. An alternative using pure java is as follows:\r\n\r\n - Use [com.jguild.jrpm.io.RPMFile.readFromStream][1] to read the RPM file opened as a stream. This will:\r\n     - Read the RPM headers\r\n     - Position the stream to the beginning of the archive data\r\n - Wrap the stream with an [org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream][2] starting at the current position\r\n - Use [getNextCPIOEntry][3] to read the CPIO archive, entry by entry\r\n   - Use the properties of the result, a [CpioArchiveEntry][4], to create a corresponding local file system entry\r\n    - If a directory, it has no data; just create it\r\n    - If a symbolic link, the data is the target of the link; create it on the local file system\r\n    - If a regular file, the data is contents of the file; write it to the local file until a (simulated) end of file is reached\r\n    - Other types (pipe, device node, ...) can be handled as appropriate\r\n    - Update local entry&#39;s permissions, ownership, group, etc., as appropriate\r\n - Repeat until no more archive entries remain\r\n\r\n\r\n  [1]: https://sourceforge.net/p/jrpm/code/HEAD/tree/trunk/src/main/java/com/jguild/jrpm/io/RPMFile.java#l284\r\n  [2]: https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.html\r\n  [3]: https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.html#getNextCPIOEntry\r\n  [4]: https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.html","title":"How to extract RPM files to specific package from Java","body":"<p>Yes. An alternative using pure java is as follows:</p>\n<ul>\n<li>Use <a href=\"https://sourceforge.net/p/jrpm/code/HEAD/tree/trunk/src/main/java/com/jguild/jrpm/io/RPMFile.java#l284\" rel=\"nofollow noreferrer\">com.jguild.jrpm.io.RPMFile.readFromStream</a> to read the RPM file opened as a stream. This will:\n<ul>\n<li>Read the RPM headers</li>\n<li>Position the stream to the beginning of the archive data</li>\n</ul>\n</li>\n<li>Wrap the stream with an <a href=\"https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.html\" rel=\"nofollow noreferrer\">org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream</a> starting at the current position</li>\n<li>Use <a href=\"https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/cpio/CpioArchiveInputStream.html#getNextCPIOEntry\" rel=\"nofollow noreferrer\">getNextCPIOEntry</a> to read the CPIO archive, entry by entry\n<ul>\n<li>Use the properties of the result, a <a href=\"https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.html\" rel=\"nofollow noreferrer\">CpioArchiveEntry</a>, to create a corresponding local file system entry</li>\n<li>If a directory, it has no data; just create it</li>\n<li>If a symbolic link, the data is the target of the link; create it on the local file system</li>\n<li>If a regular file, the data is contents of the file; write it to the local file until a (simulated) end of file is reached</li>\n<li>Other types (pipe, device node, ...) can be handled as appropriate</li>\n<li>Update local entry's permissions, ownership, group, etc., as appropriate</li>\n</ul>\n</li>\n<li>Repeat until no more archive entries remain</li>\n</ul>\n"}],"owner":{"account_id":7847358,"reputation":103,"user_id":5931966,"display_name":"dbt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74736417,"answer_count":2,"score":1,"last_activity_date":1687459886,"creation_date":1670459142,"question_id":74724270,"body_markdown":"I want to extract a rpm file to target directory from Java code. I&#39;m aware of the following approaches:\r\n\r\n- Run `rpm2cpio mypackage.rpm | (cd /target/dir; cpio -idmv)` as command line. This is not really Java and I worry the portability by hardcoding this command.\r\n- Use `CpioArchiveInputStream`. I hit `java.io.IOException: Unknown magic` when trying to read the rpm file. My guess is that this library is too old to adapt to new archive/compression types.\r\n\r\nIs there a better approach that I&#39;m not aware of? Ideally something that works like a `TarArchiveInputStream` would be perfect.","title":"How to extract RPM files to specific package from Java","body":"<p>I want to extract a rpm file to target directory from Java code. I'm aware of the following approaches:</p>\n<ul>\n<li>Run <code>rpm2cpio mypackage.rpm | (cd /target/dir; cpio -idmv)</code> as command line. This is not really Java and I worry the portability by hardcoding this command.</li>\n<li>Use <code>CpioArchiveInputStream</code>. I hit <code>java.io.IOException: Unknown magic</code> when trying to read the rpm file. My guess is that this library is too old to adapt to new archive/compression types.</li>\n</ul>\n<p>Is there a better approach that I'm not aware of? Ideally something that works like a <code>TarArchiveInputStream</code> would be perfect.</p>\n"},{"tags":["java","collections","guava"],"comments":[{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":0,"creation_date":1687447865,"post_id":76533317,"comment_id":134941336,"body_markdown":"Looks like it only takes a list of lists. Try attempt 3, but only pass in `candidates`.","body":"Looks like it only takes a list of lists. Try attempt 3, but only pass in <code>candidates</code>."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1687451694,"post_id":76533317,"comment_id":134942115,"body_markdown":"The method expects a list of lists. As in the first approach. Theoretically, you can call it with a simple list (i.e. not a nested one), but it would be pointless. Your error messages seem to have their cause somewhere else. Provide a minimal reproducible example if you think the cause is in the way you call the method.","body":"The method expects a list of lists. As in the first approach. Theoretically, you can call it with a simple list (i.e. not a nested one), but it would be pointless. Your error messages seem to have their cause somewhere else. Provide a minimal reproducible example if you think the cause is in the way you call the method."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1687486742,"post_id":76533317,"comment_id":134947062,"body_markdown":"Sounds like you have a build problem. Since this method came in Guava v2, I&#39;d bet you have the ancient predecessor, Google Collections, as a dependency somehow and that is resolved on the classpath first.","body":"Sounds like you have a build problem. Since this method came in Guava v2, I&#39;d bet you have the ancient predecessor, Google Collections, as a dependency somehow and that is resolved on the classpath first."},{"owner":{"account_id":4322494,"reputation":518,"user_id":3716035,"accept_rate":60,"display_name":"Joe7"},"score":0,"creation_date":1687532398,"post_id":76533317,"comment_id":134954933,"body_markdown":"@BenManes You&#39;re right. The Maven POM had a guava-osgi dependency. Apparently this is an ancient project that was discontinued. I guess that because the Guava classes now come from a different Maven group id, Eclipse didn&#39;t warn me about the dependency conflict. If you&#39;d like to post your solution as an answer, I&#39;d be happy to mark it as the right one.","body":"@BenManes You&#39;re right. The Maven POM had a guava-osgi dependency. Apparently this is an ancient project that was discontinued. I guess that because the Guava classes now come from a different Maven group id, Eclipse didn&#39;t warn me about the dependency conflict. If you&#39;d like to post your solution as an answer, I&#39;d be happy to mark it as the right one."}],"owner":{"account_id":4322494,"reputation":518,"user_id":3716035,"accept_rate":60,"display_name":"Joe7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687459343,"creation_date":1687446656,"question_id":76533317,"body_markdown":"I am trying to call com.google.common.collect.Lists.cartesianProduct(...), but I keep getting a `NoSuchMethodError`. I would happily use either the [version that expects a List of Lists as an argument][1] or the [version that expects an array of Lists][2], as long as it works.\r\n\r\nWhat am I doing wrong?\r\n\r\n### Attempt 1:\r\n```\r\nimport java.util.List;\r\nimport com.google.common.collect.Lists;\r\n...\r\nList&lt;List&lt;MyClass&gt;&gt; candidates = new ArrayList&lt;&gt;();\r\n... //filling the List of Lists\r\nList&lt;List&lt;MyClass&gt;&gt; product = Lists.cartesianProduct(candidates);\r\n```\r\nResult: `java.lang.NoSuchMethodError: &#39;java.util.List com.google.common.collect.Lists.cartesianProduct(java.util.List)&#39;`\r\n\r\nWhen evaluating the expression in the debugger, the result is: `Type does not implement selector cartesianProduct and signature (Ljava/util/List;)Ljava/util/List;`\r\n\r\n### Attempt 2:\r\n```\r\nList&lt;List&lt;MyClass&gt;&gt; candidates = new ArrayList&lt;&gt;();\r\n... //filling the List of Lists\r\nList&lt;MyClass&gt;[] candidatesArray = candidates.toArray(new List[0]);\r\nList&lt;List&lt;MyClass&gt;&gt; product = Lists.cartesianProduct(candidates);\r\n```\r\n\r\nResult: `java.lang.NoSuchMethodError: &#39;java.util.List com.google.common.collect.Lists.cartesianProduct(java.util.List[])&#39;`\r\n\r\nDebugger evaluation: `Type does not implement selector cartesianProduct and signature ([Ljava/util/List;)Ljava/util/List;`\r\n\r\n### Attempt 3:\r\n```\r\nList&lt;List&lt;MyClass&gt;&gt; candidates = new ArrayList&lt;&gt;();\r\n... //filling the List of Lists\r\nList&lt;List&lt;MyClass&gt;&gt; product = Lists.cartesianProduct(candidates.get(0), candidates.get(1));\r\n```\r\n\r\nResult: `java.lang.NoSuchMethodError: &#39;java.util.List com.google.common.collect.Lists.cartesianProduct(java.util.List[])&#39;`\r\n\r\nDebugger evaluation: `Type does not implement selector cartesianProduct and signature ([Ljava/util/List;)Ljava/util/List;`\r\n\r\n\r\n  [1]: https://guava.dev/releases/25.0-jre/api/docs/com/google/common/collect/Lists.html#cartesianProduct-java.util.List-\r\n  [2]: https://guava.dev/releases/25.0-jre/api/docs/com/google/common/collect/Lists.html#cartesianProduct-java.util.List...-","title":"What is the right way to call com.google.common.collect.Lists.cartesianProduct()?","body":"<p>I am trying to call com.google.common.collect.Lists.cartesianProduct(...), but I keep getting a <code>NoSuchMethodError</code>. I would happily use either the <a href=\"https://guava.dev/releases/25.0-jre/api/docs/com/google/common/collect/Lists.html#cartesianProduct-java.util.List-\" rel=\"nofollow noreferrer\">version that expects a List of Lists as an argument</a> or the <a href=\"https://guava.dev/releases/25.0-jre/api/docs/com/google/common/collect/Lists.html#cartesianProduct-java.util.List...-\" rel=\"nofollow noreferrer\">version that expects an array of Lists</a>, as long as it works.</p>\n<p>What am I doing wrong?</p>\n<h3>Attempt 1:</h3>\n<pre><code>import java.util.List;\nimport com.google.common.collect.Lists;\n...\nList&lt;List&lt;MyClass&gt;&gt; candidates = new ArrayList&lt;&gt;();\n... //filling the List of Lists\nList&lt;List&lt;MyClass&gt;&gt; product = Lists.cartesianProduct(candidates);\n</code></pre>\n<p>Result: <code>java.lang.NoSuchMethodError: 'java.util.List com.google.common.collect.Lists.cartesianProduct(java.util.List)'</code></p>\n<p>When evaluating the expression in the debugger, the result is: <code>Type does not implement selector cartesianProduct and signature (Ljava/util/List;)Ljava/util/List;</code></p>\n<h3>Attempt 2:</h3>\n<pre><code>List&lt;List&lt;MyClass&gt;&gt; candidates = new ArrayList&lt;&gt;();\n... //filling the List of Lists\nList&lt;MyClass&gt;[] candidatesArray = candidates.toArray(new List[0]);\nList&lt;List&lt;MyClass&gt;&gt; product = Lists.cartesianProduct(candidates);\n</code></pre>\n<p>Result: <code>java.lang.NoSuchMethodError: 'java.util.List com.google.common.collect.Lists.cartesianProduct(java.util.List[])'</code></p>\n<p>Debugger evaluation: <code>Type does not implement selector cartesianProduct and signature ([Ljava/util/List;)Ljava/util/List;</code></p>\n<h3>Attempt 3:</h3>\n<pre><code>List&lt;List&lt;MyClass&gt;&gt; candidates = new ArrayList&lt;&gt;();\n... //filling the List of Lists\nList&lt;List&lt;MyClass&gt;&gt; product = Lists.cartesianProduct(candidates.get(0), candidates.get(1));\n</code></pre>\n<p>Result: <code>java.lang.NoSuchMethodError: 'java.util.List com.google.common.collect.Lists.cartesianProduct(java.util.List[])'</code></p>\n<p>Debugger evaluation: <code>Type does not implement selector cartesianProduct and signature ([Ljava/util/List;)Ljava/util/List;</code></p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1687366802,"post_id":76525521,"comment_id":134928102,"body_markdown":"I don&#39;t believe such a feature exists in Kotlin, at least not built in.","body":"I don&#39;t believe such a feature exists in Kotlin, at least not built in."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":2,"creation_date":1687367611,"post_id":76525521,"comment_id":134928250,"body_markdown":"Why can&#39;t you put all 3 calls in a single `launch()`?","body":"Why can&#39;t you put all 3 calls in a single <code>launch()</code>?"},{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1687373950,"post_id":76525521,"comment_id":134929393,"body_markdown":"This is just a simplified code snippet to convey the idea. In real use case, task1() might only happen after user has performed some action like button clicked.","body":"This is just a simplified code snippet to convey the idea. In real use case, task1() might only happen after user has performed some action like button clicked."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1687375947,"post_id":76525521,"comment_id":134929751,"body_markdown":"I just have problems understanding your use case. If it is guaranteed `task1()` is submitted only after `task0()` finished, then we don&#39;t need any synchronization. If we don&#39;t have such guarantees, so submitters generally run asynchronously to each other, then `task1()` may be submitted even before `task0()`. So what are guarantees on when `task1()` is submitted in relation to `task0()`? Do you mean that while submitting `task0()` we should get an &quot;acknowledge&quot; and it is guaranteed only after such acknowledge `task1()` could be submitted?","body":"I just have problems understanding your use case. If it is guaranteed <code>task1()</code> is submitted only after <code>task0()</code> finished, then we don&#39;t need any synchronization. If we don&#39;t have such guarantees, so submitters generally run asynchronously to each other, then <code>task1()</code> may be submitted even before <code>task0()</code>. So what are guarantees on when <code>task1()</code> is submitted in relation to <code>task0()</code>? Do you mean that while submitting <code>task0()</code> we should get an &quot;acknowledge&quot; and it is guaranteed only after such acknowledge <code>task1()</code> could be submitted?"},{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1687377003,"post_id":76525521,"comment_id":134929904,"body_markdown":"`task1` can be submitted in anytime. It can be submitted before `task0` begin to execute, it can be submitted while `task0` is executing, or it can be submitted after  `task0` is finished executed.","body":"<code>task1</code> can be submitted in anytime. It can be submitted before <code>task0</code> begin to execute, it can be submitted while <code>task0</code> is executing, or it can be submitted after  <code>task0</code> is finished executed."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1687377405,"post_id":76525521,"comment_id":134929977,"body_markdown":"And if `task1()` is submitted before `task0()` should it still wait for `task0()` before starting?","body":"And if <code>task1()</code> is submitted before <code>task0()</code> should it still wait for <code>task0()</code> before starting?"},{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1687377815,"post_id":76525521,"comment_id":134930044,"body_markdown":"`task1` will always submitted after `task0` is submitted. but, after `task0` is submitted, that doesn&#39;t mean `task0` has begun execution. Our expectation is `task1` only execute after `task0` finishes execution. It seems like coroutine not able to provide such a guarantee.","body":"<code>task1</code> will always submitted after <code>task0</code> is submitted. but, after <code>task0</code> is submitted, that doesn&#39;t mean <code>task0</code> has begun execution. Our expectation is <code>task1</code> only execute after <code>task0</code> finishes execution. It seems like coroutine not able to provide such a guarantee."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687459105,"creation_date":1687366991,"answer_id":76525621,"question_id":76525521,"body_markdown":"Regarding 1):\r\n\r\nThe coroutines may yield the thread back to the dispatcher at any `suspend` function call, not just at `delay()` calls.\r\n\r\nRegarding 2):\r\n\r\nMy [answer here](https://stackoverflow.com/a/73125591/506796) shows how you can build a sequential task queue using a Channel. You could modify the class to allow a `CoroutineScope` to be injected in the constructor, so `lifecycleScope` could be passed in when using it in an Activity or Fragment. Something like this:\r\n\r\n```\r\nclass JobQueue(\r\n    private val scope: CoroutineScope,\r\n    private val defaultContext: CoroutineContext = Dispatchers.Main\r\n) {\r\n    private val queue = Channel&lt;Job&gt;(Channel.UNLIMITED)\r\n\r\n    init { \r\n        scope.launch(Dispatchers.Default) {\r\n            for (job in queue) job.join()\r\n        }\r\n    }\r\n\r\n    fun submit(\r\n        context: CoroutineContext = defaultContext,\r\n        block: suspend CoroutineScope.() -&gt; Unit\r\n    ) {\r\n        synchronized { \r\n            val job = scope.launch(context, CoroutineStart.LAZY, block)\r\n            queue.trySend(job)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf these were blocking jobs, you might for example pass `Dispatchers.IO` as the `defaultContext` for running the jobs.","title":"How to make Kotlin&#39;s LifecycleScope has sequential behaviour as Java&#39;s Executors.newSingleThreadExecutor?","body":"<p>Regarding 1):</p>\n<p>The coroutines may yield the thread back to the dispatcher at any <code>suspend</code> function call, not just at <code>delay()</code> calls.</p>\n<p>Regarding 2):</p>\n<p>My <a href=\"https://stackoverflow.com/a/73125591/506796\">answer here</a> shows how you can build a sequential task queue using a Channel. You could modify the class to allow a <code>CoroutineScope</code> to be injected in the constructor, so <code>lifecycleScope</code> could be passed in when using it in an Activity or Fragment. Something like this:</p>\n<pre><code>class JobQueue(\n    private val scope: CoroutineScope,\n    private val defaultContext: CoroutineContext = Dispatchers.Main\n) {\n    private val queue = Channel&lt;Job&gt;(Channel.UNLIMITED)\n\n    init { \n        scope.launch(Dispatchers.Default) {\n            for (job in queue) job.join()\n        }\n    }\n\n    fun submit(\n        context: CoroutineContext = defaultContext,\n        block: suspend CoroutineScope.() -&gt; Unit\n    ) {\n        synchronized { \n            val job = scope.launch(context, CoroutineStart.LAZY, block)\n            queue.trySend(job)\n        }\n    }\n}\n</code></pre>\n<p>If these were blocking jobs, you might for example pass <code>Dispatchers.IO</code> as the <code>defaultContext</code> for running the jobs.</p>\n"}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76525621,"answer_count":1,"score":0,"last_activity_date":1687459105,"creation_date":1687366205,"question_id":76525521,"body_markdown":"In Java Android, to achieve sequential behavior without blocking main thread, this is the code I am using.\r\n\r\nJava Android\r\n------------\r\n\r\n    private static final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    \r\n    executor.execute(() -&gt; task0());\r\n    executor.execute(() -&gt; task1());\r\n    executor.execute(() -&gt; task2());\r\n\r\nThe above code, will always execute in the exact order of `task0`, `task1` and `task2` functions regardless what is happening inside the functions.\r\n\r\nI am impressed by the life cycle aware feature, offered by Kotlin&#39;s LifecycleScope. I try to write the code in the following Kotlin&#39;s LifecycleScope form.\r\n\r\nKotlin Android\r\n--------------\r\n\r\n    val dispatcherForCalendar = Executors.newSingleThreadExecutor().asCoroutineDispatcher()\r\n    \r\n    lifecycleScope.launch(dispatcherForCalendar) {\r\n        task0()\r\n    }\r\n    lifecycleScope.launch(dispatcherForCalendar) {\r\n        task1()\r\n    }\r\n    lifecycleScope.launch(dispatcherForCalendar) {\r\n        task2()\r\n    }\r\n\r\n\r\n----------\r\n\r\nThe above code will executed in the exact order of `task0`, `task1` and `task2` functions, **except** when [delay][1] is performed in the functions.\r\n\r\n 1. In reality, I will not insert `delay` code explicitly in task functions. In such a case, can Android system still perform `delay` operation implicitly?\r\n 2. How I can achieve sequential behavior, same as my Java code `Executors.newSingleThreadExecutor`?\r\n\r\nThank you.\r\n\r\n  [1]: https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/delay.html","title":"How to make Kotlin&#39;s LifecycleScope has sequential behaviour as Java&#39;s Executors.newSingleThreadExecutor?","body":"<p>In Java Android, to achieve sequential behavior without blocking main thread, this is the code I am using.</p>\n<h2>Java Android</h2>\n<pre><code>private static final ExecutorService executor = Executors.newSingleThreadExecutor();\n\nexecutor.execute(() -&gt; task0());\nexecutor.execute(() -&gt; task1());\nexecutor.execute(() -&gt; task2());\n</code></pre>\n<p>The above code, will always execute in the exact order of <code>task0</code>, <code>task1</code> and <code>task2</code> functions regardless what is happening inside the functions.</p>\n<p>I am impressed by the life cycle aware feature, offered by Kotlin's LifecycleScope. I try to write the code in the following Kotlin's LifecycleScope form.</p>\n<h2>Kotlin Android</h2>\n<pre><code>val dispatcherForCalendar = Executors.newSingleThreadExecutor().asCoroutineDispatcher()\n\nlifecycleScope.launch(dispatcherForCalendar) {\n    task0()\n}\nlifecycleScope.launch(dispatcherForCalendar) {\n    task1()\n}\nlifecycleScope.launch(dispatcherForCalendar) {\n    task2()\n}\n</code></pre>\n<hr />\n<p>The above code will executed in the exact order of <code>task0</code>, <code>task1</code> and <code>task2</code> functions, <strong>except</strong> when <a href=\"https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/delay.html\" rel=\"nofollow noreferrer\">delay</a> is performed in the functions.</p>\n<ol>\n<li>In reality, I will not insert <code>delay</code> code explicitly in task functions. In such a case, can Android system still perform <code>delay</code> operation implicitly?</li>\n<li>How I can achieve sequential behavior, same as my Java code <code>Executors.newSingleThreadExecutor</code>?</li>\n</ol>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","ear","netweaver"],"comments":[{"owner":{"account_id":2021629,"reputation":57943,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":0,"creation_date":1566326209,"post_id":57579196,"comment_id":101619135,"body_markdown":"Not sure it&#39;s because of Java 9 dependencies. See this 2009 question: https://answers.sap.com/questions/5948422/when-deploying-an-ear-i-get-invalid-constant-pool.html","body":"Not sure it&#39;s because of Java 9 dependencies. See this 2009 question: <a href=\"https://answers.sap.com/questions/5948422/when-deploying-an-ear-i-get-invalid-constant-pool.html\" rel=\"nofollow noreferrer\" title=\"when deploying an ear i get invalid constant pool.html\">answers.sap.com/questions/5948422/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12671720,"reputation":1702,"user_id":9209031,"display_name":"Nino Gutierrez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1566344452,"creation_date":1566344452,"answer_id":57582751,"question_id":57579196,"body_markdown":"I solved it.\r\nThe Jaxb jar has a class that is compiled in java 9.\r\nIt must be downgraded to 2.2.12 in order to deploy in java 8.\r\nYou can downgrade it by adding this to the pom.xml\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Invalid constant pool tag when deploying Spring .ear","body":"<p>I solved it.\nThe Jaxb jar has a class that is compiled in java 9.\nIt must be downgraded to 2.2.12 in order to deploy in java 8.\nYou can downgrade it by adding this to the pom.xml</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12671720,"reputation":1702,"user_id":9209031,"display_name":"Nino Gutierrez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1761,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57582751,"answer_count":1,"score":1,"last_activity_date":1687458386,"creation_date":1566323810,"question_id":57579196,"body_markdown":"In my job we need to deploy an .ear file which must be java 8. But when we try to deploy, this error happens:\r\n&gt; ```\r\n&gt; Caused by: com.sap.engine.library.bytecode.cf.CFException: Invalid constant pool tag, 19 at index 4.\r\n&gt; \tat com.sap.engine.library.bytecode.cf.CFParser.parse0(CFParser.java:386)\r\n&gt; \tat com.sap.engine.library.bytecode.cf.CFParser.parse(CFParser.java:307)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.parseClassInformation(ClassInfoReaderImpl.java:336)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseZipFile(ClassInfoReaderImpl.java:287)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:105)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseFolder(ClassInfoReaderImpl.java:175)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:103)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseFolder(ClassInfoReaderImpl.java:175)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:103)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseWarFile(ClassInfoReaderImpl.java:196)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseFolder(ClassInfoReaderImpl.java:165)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:103)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseFolder(ClassInfoReaderImpl.java:173)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:103)\r\n&gt; \tat com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.read(ClassInfoReaderImpl.java:95)\r\n&gt; \tat com.sap.engine.services.deploy.ear.jar.DplArchiveReader.parseAnnotations(DplArchiveReader.java:62)\r\n&gt; \tat com.sap.engine.services.deploy.ear.jar.EARReader.read(EARReader.java:243)\r\n&gt; \tat com.sap.engine.services.deploy.server.application.DeployUtilTransaction.prepareNewDeploymentInfo(DeployUtilTransaction.java:251)\r\n&gt; \tat com.sap.engine.services.deploy.server.application.DeploymentTransaction.begin(DeploymentTransaction.java:199)\r\n&gt; \tat com.sap.engine.services.deploy.server.application.ApplicationTransaction.makeAllPhasesOnOneServer(ApplicationTransaction.java:423)\r\n&gt; \t... 16 more\r\n&gt; ```\r\n\r\nWe believe that this issue is triggered because one of the dependencies points to some Java 9 library. So I need help about which of the dependencies must be downgraded, or anything else, in order to deploy the system to Java 8.\r\n\r\nHere is the `pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;cl.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Gestio&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.9.3&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;Gesti&#243;n&lt;/name&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;m2eclipse.wtp.contextRoot&gt;/&lt;/m2eclipse.wtp.contextRoot&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/azure-active-directory-spring-boot-starter --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;azure-active-directory-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.1.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-client --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/adal4j --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.6.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.nimbusds/oauth2-oidc-sdk --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;5.64.4&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.webjars/bootstrap --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-thymeleaf --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t    &lt;version&gt;1.18.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.thymeleaf.extras/thymeleaf-extras-springsecurity5 --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;11.2.0.4&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;system&lt;/scope&gt;\r\n    \t\t    &lt;systemPath&gt;${project.basedir}/libs/ojdbc6.jar&lt;/systemPath&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t\r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t    &lt;id&gt;qa&lt;/id&gt;\r\n    \t\t    &lt;properties&gt;\r\n    \t\t        &lt;activatedProperties&gt;qa&lt;/activatedProperties&gt;\r\n    \t\t    &lt;/properties&gt;\r\n    \t\t    &lt;activation&gt;\r\n    \t\t        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t    &lt;/activation&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t    &lt;id&gt;qa-agrosuper&lt;/id&gt;\r\n    \t\t    &lt;properties&gt;\r\n    \t\t        &lt;activatedProperties&gt;qa-agrosuper&lt;/activatedProperties&gt;\r\n    \t\t    &lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t&lt;finalName&gt;GestionTransportistas&lt;/finalName&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t        &lt;resource&gt;\r\n    \t            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t            &lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t        &lt;/resource&gt;\r\n    \t    &lt;/resources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.16&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t  &lt;signature&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;java18&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t\t  &lt;/signature&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;animal-sniffer&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t  &lt;/plugin&gt;\r\n    \t\t\t\r\n    &lt;!-- \t\t\t&lt;plugin&gt; --&gt;\r\n    &lt;!-- \t\t        &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt; --&gt;\r\n    &lt;!-- \t\t        &lt;version&gt;3.0.1&lt;/version&gt; --&gt;\r\n    &lt;!-- \t\t        &lt;configuration&gt; --&gt;\r\n    &lt;!-- \t\t          configuration elements goes here --&gt;\r\n    &lt;!-- \t\t        &lt;/configuration&gt; --&gt;\r\n    &lt;!-- \t\t      &lt;/plugin&gt; --&gt;\r\n    \t\t      \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;","title":"Invalid constant pool tag when deploying Spring .ear","body":"<p>In my job we need to deploy an .ear file which must be java 8. But when we try to deploy, this error happens:</p>\n<blockquote>\n<pre><code>Caused by: com.sap.engine.library.bytecode.cf.CFException: Invalid constant pool tag, 19 at index 4.\n  at com.sap.engine.library.bytecode.cf.CFParser.parse0(CFParser.java:386)\n  at com.sap.engine.library.bytecode.cf.CFParser.parse(CFParser.java:307)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.parseClassInformation(ClassInfoReaderImpl.java:336)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseZipFile(ClassInfoReaderImpl.java:287)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:105)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseFolder(ClassInfoReaderImpl.java:175)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:103)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseFolder(ClassInfoReaderImpl.java:175)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:103)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseWarFile(ClassInfoReaderImpl.java:196)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseFolder(ClassInfoReaderImpl.java:165)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:103)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.traverseFolder(ClassInfoReaderImpl.java:173)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.readInternal(ClassInfoReaderImpl.java:103)\n  at com.sap.lib.javalang.tool.impl.ClassInfoReaderImpl.read(ClassInfoReaderImpl.java:95)\n  at com.sap.engine.services.deploy.ear.jar.DplArchiveReader.parseAnnotations(DplArchiveReader.java:62)\n  at com.sap.engine.services.deploy.ear.jar.EARReader.read(EARReader.java:243)\n  at com.sap.engine.services.deploy.server.application.DeployUtilTransaction.prepareNewDeploymentInfo(DeployUtilTransaction.java:251)\n  at com.sap.engine.services.deploy.server.application.DeploymentTransaction.begin(DeploymentTransaction.java:199)\n  at com.sap.engine.services.deploy.server.application.ApplicationTransaction.makeAllPhasesOnOneServer(ApplicationTransaction.java:423)\n  ... 16 more\n</code></pre>\n</blockquote>\n<p>We believe that this issue is triggered because one of the dependencies points to some Java 9 library. So I need help about which of the dependencies must be downgraded, or anything else, in order to deploy the system to Java 8.</p>\n<p>Here is the <code>pom.xml</code>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;cl.test&lt;/groupId&gt;\n    &lt;artifactId&gt;Gestio&lt;/artifactId&gt;\n    &lt;version&gt;0.9.3&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Gestión&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;m2eclipse.wtp.contextRoot&gt;/&lt;/m2eclipse.wtp.contextRoot&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/azure-active-directory-spring-boot-starter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-active-directory-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/adal4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/com.nimbusds/oauth2-oidc-sdk --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n            &lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\n            &lt;version&gt;5.64.4&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.webjars/bootstrap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-thymeleaf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;version&gt;1.18.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.thymeleaf.extras/thymeleaf-extras-springsecurity5 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;11.2.0.4&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/libs/ojdbc6.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;qa&lt;/activatedProperties&gt;\n            &lt;/properties&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa-agrosuper&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;qa-agrosuper&lt;/activatedProperties&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;build&gt;\n    &lt;finalName&gt;GestionTransportistas&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.16&lt;/version&gt;\n                &lt;configuration&gt;\n                  &lt;signature&gt;\n                    &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\n                    &lt;artifactId&gt;java18&lt;/artifactId&gt;\n                    &lt;version&gt;1.0&lt;/version&gt;\n                  &lt;/signature&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;animal-sniffer&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n              &lt;/plugin&gt;\n            \n&lt;!--            &lt;plugin&gt; --&gt;\n&lt;!--                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt; --&gt;\n&lt;!--                &lt;version&gt;3.0.1&lt;/version&gt; --&gt;\n&lt;!--                &lt;configuration&gt; --&gt;\n&lt;!--                  configuration elements goes here --&gt;\n&lt;!--                &lt;/configuration&gt; --&gt;\n&lt;!--              &lt;/plugin&gt; --&gt;\n              \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","application-server","netweaver"],"comments":[{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":1,"creation_date":1538672090,"post_id":52649977,"comment_id":92235515,"body_markdown":"Have you added required references to your DC? Look at [this](https://blogs.sap.com/2012/05/25/how-to-add-reference-to-sap-provided-jars-in-pdk-web-dynpro-java-on-nwds-73/).","body":"Have you added required references to your DC? Look at <a href=\"https://blogs.sap.com/2012/05/25/how-to-add-reference-to-sap-provided-jars-in-pdk-web-dynpro-java-on-nwds-73/\" rel=\"nofollow noreferrer\">this</a>."}],"answers":[{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539009822,"creation_date":1539009484,"answer_id":52704647,"question_id":52649977,"body_markdown":"The issue was with a lack of the required ***DC***. Based on [SAP NetWeaver 7.20 (SP01)][1] JavaDoc, in order to recognize `ApplicationProperties` and to be able to add:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import com.sap.engine.services.configuration.appconfiguration.ApplicationPropertiesAccess;\r\n\r\nwe have to add ***tc/je/appconfiguration/api*** DC to the ***Dependencies → Required DCs*** via ***Component Properties***.\r\n\r\n  [1]: https://help.sap.com/doc/javadocs_nwce_current/7.2.1/en-US/en/com.sap.en/com/sap/engine/services/configuration/appconfiguration/ApplicationPropertiesAccess.html","title":"ApplicationPropertiesAccess cannot be resolved to a type","body":"<p>The issue was with a lack of the required <strong><em>DC</em></strong>. Based on <a href=\"https://help.sap.com/doc/javadocs_nwce_current/7.2.1/en-US/en/com.sap.en/com/sap/engine/services/configuration/appconfiguration/ApplicationPropertiesAccess.html\" rel=\"nofollow noreferrer\">SAP NetWeaver 7.20 (SP01)</a> JavaDoc, in order to recognize <code>ApplicationProperties</code> and to be able to add:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.sap.engine.services.configuration.appconfiguration.ApplicationPropertiesAccess;\n</code></pre>\n\n<p>we have to add <strong><em>tc/je/appconfiguration/api</em></strong> DC to the <strong><em>Dependencies → Required DCs</em></strong> via <strong><em>Component Properties</em></strong>.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52704647,"answer_count":1,"score":0,"last_activity_date":1687458082,"creation_date":1538665500,"question_id":52649977,"body_markdown":"I&#39;m trying to implement an [Accessing Application Properties][1] functionality.  \r\n\r\nIn SAP&#39;s code snippet there is a line:\r\n\r\n```java\r\nApplicationPropertiesAccess appCfgProps = (ApplicationPropertiesAccess) ctx.lookup(&quot;ApplicationConfiguration&quot;);\r\n```\r\n\r\nThe problem is that my NWDS can&#39;t resolve `ApplicationPropertiesAccess`, I get an error: \r\n\r\n&gt; ApplicationPropertiesAccess cannot be resolved to a type\r\n\r\nSAP JVM version: 8.1.030\r\n\r\nWhy can&#39;t NWDS/Eclipse resolve `ApplicationPropertiesAccess`?\r\n\r\n  [1]: https://help.sap.com/viewer/89439979a9c6495ea0ea249a6787d781/7.4.19/en-US/4ac346b53d142055e10000000a421937.html","title":"ApplicationPropertiesAccess cannot be resolved to a type","body":"<p>I'm trying to implement an <a href=\"https://help.sap.com/viewer/89439979a9c6495ea0ea249a6787d781/7.4.19/en-US/4ac346b53d142055e10000000a421937.html\" rel=\"nofollow noreferrer\">Accessing Application Properties</a> functionality.</p>\n<p>In SAP's code snippet there is a line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ApplicationPropertiesAccess appCfgProps = (ApplicationPropertiesAccess) ctx.lookup(&quot;ApplicationConfiguration&quot;);\n</code></pre>\n<p>The problem is that my NWDS can't resolve <code>ApplicationPropertiesAccess</code>, I get an error:</p>\n<blockquote>\n<p>ApplicationPropertiesAccess cannot be resolved to a type</p>\n</blockquote>\n<p>SAP JVM version: 8.1.030</p>\n<p>Why can't NWDS/Eclipse resolve <code>ApplicationPropertiesAccess</code>?</p>\n"},{"tags":["java","spring","e-commerce","sap-commerce-cloud"],"comments":[{"owner":{"account_id":964170,"reputation":2021,"user_id":987925,"accept_rate":92,"display_name":"XMight"},"score":0,"creation_date":1490267230,"post_id":42974097,"comment_id":73040605,"body_markdown":"I think this question is not for stackoverflow, but for programmers community. But if to answer, basically you can do everything without XML in Spring MVC (I do like that). But anyway XML will be (want you or not) part of your job.","body":"I think this question is not for stackoverflow, but for programmers community. But if to answer, basically you can do everything without XML in Spring MVC (I do like that). But anyway XML will be (want you or not) part of your job."},{"owner":{"account_id":10525174,"reputation":11,"user_id":7756408,"display_name":"Hacked For Mercy"},"score":0,"creation_date":1490267595,"post_id":42974097,"comment_id":73040887,"body_markdown":"Nowadays xlm is almost forgotten in the e-commerce development, don&#39;t you think so ?","body":"Nowadays xlm is almost forgotten in the e-commerce development, don&#39;t you think so ?"},{"owner":{"account_id":10525174,"reputation":11,"user_id":7756408,"display_name":"Hacked For Mercy"},"score":0,"creation_date":1490268356,"post_id":42974097,"comment_id":73041361,"body_markdown":"Ooh alright, I have 1 year Spring development experience, however I never did Xml configuration, that got me worried.","body":"Ooh alright, I have 1 year Spring development experience, however I never did Xml configuration, that got me worried."},{"owner":{"account_id":964170,"reputation":2021,"user_id":987925,"accept_rate":92,"display_name":"XMight"},"score":0,"creation_date":1490268631,"post_id":42974097,"comment_id":73041543,"body_markdown":"I misunderstood your question. Configuring spring with XML is something different, but you will find it applicable mostly on old projects that started back then when Java config wasn&#39;t used. You will find many resources nowadays with XML configuration so you don&#39;t need to worry. If you know to configure with Java, then you will manage to do this in XML if need will arise, or search engines will help you. Currently is harder to find info on Java config than XML from what I found, but the examples grow in number every day","body":"I misunderstood your question. Configuring spring with XML is something different, but you will find it applicable mostly on old projects that started back then when Java config wasn&#39;t used. You will find many resources nowadays with XML configuration so you don&#39;t need to worry. If you know to configure with Java, then you will manage to do this in XML if need will arise, or search engines will help you. Currently is harder to find info on Java config than XML from what I found, but the examples grow in number every day"}],"answers":[{"tags":[],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490272125,"creation_date":1490272125,"answer_id":42976084,"question_id":42974097,"body_markdown":"Yes in hybris the Spring configuration is done using XML. There are also some annotations used, but the applicationcontext is defined in xml.\r\n\r\n[Spring Framework in SAP Hybris Commerce][1]\r\n\r\n\r\n  [1]: https://help.hybris.com/6.3.0/hcd/8c63621986691014a7e0a18695d7d410.html","title":"SAP Hybris based ECommerce platform configuration","body":"<p>Yes in hybris the Spring configuration is done using XML. There are also some annotations used, but the applicationcontext is defined in xml.</p>\n\n<p><a href=\"https://help.hybris.com/6.3.0/hcd/8c63621986691014a7e0a18695d7d410.html\" rel=\"nofollow noreferrer\">Spring Framework in SAP Hybris Commerce</a></p>\n"}],"owner":{"account_id":10525174,"reputation":11,"user_id":7756408,"display_name":"Hacked For Mercy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687457788,"creation_date":1490266753,"question_id":42974097,"body_markdown":"I will start to work with this platform next month so I need some advice beforehand.\r\n\r\nDoes the Spring Framework part uses the Java configuration or XML?\r\n\r\nAll in all I want to ask if I should learn how to use XML configuration with Spring?","title":"SAP Hybris based ECommerce platform configuration","body":"<p>I will start to work with this platform next month so I need some advice beforehand.</p>\n<p>Does the Spring Framework part uses the Java configuration or XML?</p>\n<p>All in all I want to ask if I should learn how to use XML configuration with Spring?</p>\n"},{"tags":["java","interceptor","sap-commerce-cloud"],"answers":[{"tags":[],"owner":{"account_id":4390796,"reputation":66,"user_id":3579254,"display_name":"medbelmahi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1522961462,"creation_date":1522961462,"answer_id":49681317,"question_id":49676839,"body_markdown":"Find here a complete tutorial about interceptor in hybris https://www.stackextend.com/hybris/use-interceptors-in-sap-hybris/\r\n\r\nYou can find also step by step tutorials about hybris in the same blog.\r\n\r\nGood luck.","title":"SAP HYBRIS [Y] : How to create a custom interceptor","body":"<p>Find here a complete tutorial about interceptor in hybris <a href=\"https://www.stackextend.com/hybris/use-interceptors-in-sap-hybris/\" rel=\"noreferrer\">https://www.stackextend.com/hybris/use-interceptors-in-sap-hybris/</a></p>\n\n<p>You can find also step by step tutorials about hybris in the same blog.</p>\n\n<p>Good luck.</p>\n"}],"owner":{"account_id":5043672,"reputation":1360,"user_id":4050340,"accept_rate":57,"display_name":"CHARAFI Saad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2024,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49681317,"answer_count":1,"score":3,"last_activity_date":1687457530,"creation_date":1522944342,"question_id":49676839,"body_markdown":"I am a beginner in the Sap Hybris. I want to create my custom interceptor. Can Someone explain to me a basic example to better understand?\r\n","title":"SAP HYBRIS [Y] : How to create a custom interceptor","body":"<p>I am a beginner in the Sap Hybris. I want to create my custom interceptor. Can Someone explain to me a basic example to better understand?</p>\n"},{"tags":["java","spring","interceptor","sap-commerce-cloud"],"answers":[{"tags":[],"owner":{"account_id":4497277,"reputation":316,"user_id":3656785,"display_name":"Hatip Kabak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523096445,"creation_date":1523095470,"answer_id":49706182,"question_id":49695396,"body_markdown":"I solved my problem. In my case, I import INSERT_UPDATE and REMOVE CategoryProductRelation impex.Yes, it is true that neither CategoryModel nor ProductModel changes during these operations but LinkModel changes. I wrote a remove interceptor for REMOVE operation and an after save listener for INSERT_UPDATE operation by looking at &#39;typeCode&#39;. Here is the my solution.\r\n\r\n**AfterSaveListener for INSERT_UPDATE operation**\r\n     \r\n     .....\r\n    //&#39;143&#39; is a typeCode of CategoryProductRelation\r\n    if(pk.getTypeCode()==143){\r\n\r\n      Object model= modelService.get(pk); \r\n      if(model instanceof LinkModel){\r\n        ......\r\n      }\r\n      .....\r\n    } \r\n\r\n**Interceptor(RemoveInterceptor) for REMOVE operation**\r\n    \r\n     ......\r\n     if(model instanceof LinkModel){\r\n         final LinkModel linkModel = (LinkModel) model;\r\n         PK pk=linkModel.getPk();\r\n         .....\r\n     }\r\n     .....\r\n\r\n","title":"Is it possible to intercept relation like CategoryProductRelation in Hybris?","body":"<p>I solved my problem. In my case, I import INSERT_UPDATE and REMOVE CategoryProductRelation impex.Yes, it is true that neither CategoryModel nor ProductModel changes during these operations but LinkModel changes. I wrote a remove interceptor for REMOVE operation and an after save listener for INSERT_UPDATE operation by looking at 'typeCode'. Here is the my solution.</p>\n\n<p><strong>AfterSaveListener for INSERT_UPDATE operation</strong></p>\n\n<pre><code> .....\n//'143' is a typeCode of CategoryProductRelation\nif(pk.getTypeCode()==143){\n\n  Object model= modelService.get(pk); \n  if(model instanceof LinkModel){\n    ......\n  }\n  .....\n} \n</code></pre>\n\n<p><strong>Interceptor(RemoveInterceptor) for REMOVE operation</strong></p>\n\n<pre><code> ......\n if(model instanceof LinkModel){\n     final LinkModel linkModel = (LinkModel) model;\n     PK pk=linkModel.getPk();\n     .....\n }\n .....\n</code></pre>\n"}],"owner":{"account_id":4497277,"reputation":316,"user_id":3656785,"display_name":"Hatip Kabak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687457516,"creation_date":1523025970,"question_id":49695396,"body_markdown":"Normally, in Hybris, there are model interceptors such as PrepareInterceptor. That is, when a model changes, it can be intercepted.\r\nI have a problem at that point. I would like to intercept when a change happens related to CategoryProductRelation. Neither CategoryModel nor ProductModel change as a result of that. Just a row changes in cat2prodrel table. That is not a model change situation.\r\n\r\nDo you have any offer to intercept when CategoryProductRelation changes?\r\n","title":"Is it possible to intercept relation like CategoryProductRelation in Hybris?","body":"<p>Normally, in Hybris, there are model interceptors such as PrepareInterceptor. That is, when a model changes, it can be intercepted.\nI have a problem at that point. I would like to intercept when a change happens related to CategoryProductRelation. Neither CategoryModel nor ProductModel change as a result of that. Just a row changes in cat2prodrel table. That is not a model change situation.</p>\n<p>Do you have any offer to intercept when CategoryProductRelation changes?</p>\n"},{"tags":["java","spring","cart","sap-commerce-cloud"],"answers":[{"tags":[],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524043213,"creation_date":1523939255,"answer_id":49869935,"question_id":49857077,"body_markdown":"If you don&#39;t have any custom requirement, you can use `CartRemovalJob` present in **acceleratorservices**. Simply run below Impex to configure your cleanup job. Replace myStore &amp; mySite with your values.\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n    $storeUid=myStore\r\n    $siteUid=mySite\r\n\r\n\r\n    # Cart Cleanup CronJobs (instance of CartRemovalCronJob)  \r\n    INSERT_UPDATE CartRemovalCronJob ; code[unique=true]      ; job(code)[default=cartRemovalJob] ; sites(uid)[default=$siteUid] ; sessionLanguage(isoCode)[default=en]\r\n                                     ; $siteUid-CartRemovalJob\r\n\r\n    # Trigger for your job\r\n    INSERT_UPDATE Trigger ; cronJob(code)[unique=true]    ; second ; minute ; hour ; day ; month ; year ; relative ; active ; maxAcceptableDelay\r\n                          ; $siteUid-CartRemovalJob       ; 0      ; 0      ; 5    ; -1  ; -1    ; -1   ; false    ; true   ; -1  \r\n\r\n              \r\n\r\n**Configure Cart removal age -** You can configure cartRemoval age for logged-in customers. The default value is 28 days (2419200 seconds).\r\n\r\n    INSERT_UPDATE BaseSite ; uid[unique=true] ; cartRemovalAge  \r\n                           ; mySite           ; 2419200           \r\n\r\n\r\n**Configure Anonymous cart removal age -** As same as above, you can also configure cartRemovalAge for anonymous users. The default value is 14 days (1209600 seconds).\r\n\r\n    INSERT_UPDATE BaseSite ; uid[unique=true] ; anonymousCartRemovalAge\r\n                           ; mySite           ; 1209600  ","title":"Why oldCartRemovalJob is placed in the &lt;custom-name&gt;commercewebservices?","body":"<p>If you don't have any custom requirement, you can use <code>CartRemovalJob</code> present in <strong>acceleratorservices</strong>. Simply run below Impex to configure your cleanup job. Replace myStore &amp; mySite with your values.</p>\n\n<pre><code>$storeUid=myStore\n$siteUid=mySite\n\n\n# Cart Cleanup CronJobs (instance of CartRemovalCronJob)  \nINSERT_UPDATE CartRemovalCronJob ; code[unique=true]      ; job(code)[default=cartRemovalJob] ; sites(uid)[default=$siteUid] ; sessionLanguage(isoCode)[default=en]\n                                 ; $siteUid-CartRemovalJob\n\n# Trigger for your job\nINSERT_UPDATE Trigger ; cronJob(code)[unique=true]    ; second ; minute ; hour ; day ; month ; year ; relative ; active ; maxAcceptableDelay\n                      ; $siteUid-CartRemovalJob       ; 0      ; 0      ; 5    ; -1  ; -1    ; -1   ; false    ; true   ; -1  \n</code></pre>\n\n<p><strong>Configure Cart removal age -</strong> You can configure cartRemoval age for logged-in customers. The default value is 28 days (2419200 seconds).</p>\n\n<pre><code>INSERT_UPDATE BaseSite ; uid[unique=true] ; cartRemovalAge  \n                       ; mySite           ; 2419200           \n</code></pre>\n\n<p><strong>Configure Anonymous cart removal age -</strong> As same as above, you can also configure cartRemovalAge for anonymous users. The default value is 14 days (1209600 seconds).</p>\n\n<pre><code>INSERT_UPDATE BaseSite ; uid[unique=true] ; anonymousCartRemovalAge\n                       ; mySite           ; 1209600  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525439706,"creation_date":1525439706,"answer_id":50175893,"question_id":49857077,"body_markdown":"In hybris you have two jobs that are quite similar :\r\n\r\n- OldCartRemovalJob in `ycommercewebservices`.\r\n- CartRemovalJob in `acceleratorservices`.\r\n\r\n`ycommercewebservices` is part of the `commercewebservices` module. If you don&#39;t plan to use this module then use the one from `acceleratorservices`.\r\n\r\nHowever including `acceleratorservices` might be a bad idea because the project has other dependencies., if you don&#39;t want a dependency on the cms for exemple then you should just copy/paste the code from one job in your project.\r\n\r\nNow how to choose between the two jobs? (yes they are actually different)\r\n\r\n- if you want the &quot;max ages&quot; to be set on the site then use `CartRemovalJob`\r\n- if you want the &quot;max ages&quot; to be set on the job then use `OldCartRemovalJob`\r\n\r\n---\r\nSummary :\r\n\r\n- use the jobs from existing extensions if you already use these extensions\r\n- if you&#39;re not using any of them copy/paste the job to avoid the creation of useless dependencies\r\n- work on the job that fit the most your needs\r\n\r\n\r\n\r\n","title":"Why oldCartRemovalJob is placed in the &lt;custom-name&gt;commercewebservices?","body":"<p>In hybris you have two jobs that are quite similar :</p>\n\n<ul>\n<li>OldCartRemovalJob in <code>ycommercewebservices</code>.</li>\n<li>CartRemovalJob in <code>acceleratorservices</code>.</li>\n</ul>\n\n<p><code>ycommercewebservices</code> is part of the <code>commercewebservices</code> module. If you don't plan to use this module then use the one from <code>acceleratorservices</code>.</p>\n\n<p>However including <code>acceleratorservices</code> might be a bad idea because the project has other dependencies., if you don't want a dependency on the cms for exemple then you should just copy/paste the code from one job in your project.</p>\n\n<p>Now how to choose between the two jobs? (yes they are actually different)</p>\n\n<ul>\n<li>if you want the \"max ages\" to be set on the site then use <code>CartRemovalJob</code></li>\n<li>if you want the \"max ages\" to be set on the job then use <code>OldCartRemovalJob</code></li>\n</ul>\n\n<hr>\n\n<p>Summary :</p>\n\n<ul>\n<li>use the jobs from existing extensions if you already use these extensions</li>\n<li>if you're not using any of them copy/paste the job to avoid the creation of useless dependencies</li>\n<li>work on the job that fit the most your needs</li>\n</ul>\n"}],"owner":{"account_id":4497277,"reputation":316,"user_id":3656785,"display_name":"Hatip Kabak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49869935,"answer_count":2,"score":0,"last_activity_date":1687457388,"creation_date":1523880804,"question_id":49857077,"body_markdown":"I would like to remove old carts. Hybris has a job called oldCartRemovalJob but it is within the **custom-name_commercewebservices** but I do not use the  &quot;&lt;requires-extension name= **custom-name_commercewebservices**&quot; in any custom extension since commercewebservices extension is based on RESTful web services to be able to connect with Hybris platform anywhere. \r\n\r\nWhat is best practice to use oldCartRemovalJob? writing it from scratch (copy-paste everything about existing job) in a platform custom extension?  Or using requires-extension **custom-name_commercewebservices**?","title":"Why oldCartRemovalJob is placed in the &lt;custom-name&gt;commercewebservices?","body":"<p>I would like to remove old carts. Hybris has a job called oldCartRemovalJob but it is within the <strong>custom-name_commercewebservices</strong> but I do not use the  \"custom-name_commercewebservices\" in any custom extension since commercewebservices extension is based on RESTful web services to be able to connect with Hybris platform anywhere. </p>\n\n<p>What is best practice to use oldCartRemovalJob? writing it from scratch (copy-paste everything about existing job) in a platform custom extension?  Or using requires-extension <strong>custom-name_commercewebservices</strong>?</p>\n"},{"tags":["java","spring","jsp","sap-commerce-cloud"],"comments":[{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":0,"creation_date":1536471606,"post_id":52240944,"comment_id":91431857,"body_markdown":"How does the JSP exception Look like ?","body":"How does the JSP exception Look like ?"},{"owner":{"account_id":2633873,"reputation":381,"user_id":2631145,"display_name":"Sukram"},"score":1,"creation_date":1536563957,"post_id":52240944,"comment_id":91452992,"body_markdown":"Have you checked if the `category` is not null in your attribute handler? I&#39;m assuming you only allow the Online catalog version in your frontend, and if you use a category from the Staged catalog, you will get a null value.","body":"Have you checked if the <code>category</code> is not null in your attribute handler? I&#39;m assuming you only allow the Online catalog version in your frontend, and if you use a category from the Staged catalog, you will get a null value."},{"owner":{"account_id":4497277,"reputation":316,"user_id":3656785,"display_name":"Hatip Kabak"},"score":1,"creation_date":1536567054,"post_id":52240944,"comment_id":91454504,"body_markdown":"I realized  that some categories related to navigation nodes was null yesterday night. I would write here if i had the opportunity during the day.  You are fast with me. Yeah, it was totally because some categories are null.","body":"I realized  that some categories related to navigation nodes was null yesterday night. I would write here if i had the opportunity during the day.  You are fast with me. Yeah, it was totally because some categories are null."},{"owner":{"account_id":2633873,"reputation":381,"user_id":2631145,"display_name":"Sukram"},"score":0,"creation_date":1536659469,"post_id":52240944,"comment_id":91493628,"body_markdown":"@hatipkabak If you would be so kind to accept my answer...","body":"@hatipkabak If you would be so kind to accept my answer..."}],"answers":[{"tags":[],"owner":{"account_id":2633873,"reputation":381,"user_id":2631145,"display_name":"Sukram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1536659431,"creation_date":1536659431,"answer_id":52273236,"question_id":52240944,"body_markdown":"Have you checked if the `category` is not null in your attribute handler?\r\n\r\nI&#39;m assuming you only allow the Online catalog version in your frontend, and if you use a category from the Staged catalog, you will get a null value. Or maybe someone forgot to add the category in the first place.","title":"Interpreting Dynamic Attribute in JSP in Hybris","body":"<p>Have you checked if the <code>category</code> is not null in your attribute handler?</p>\n\n<p>I'm assuming you only allow the Online catalog version in your frontend, and if you use a category from the Staged catalog, you will get a null value. Or maybe someone forgot to add the category in the first place.</p>\n"}],"owner":{"account_id":4497277,"reputation":316,"user_id":3656785,"display_name":"Hatip Kabak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1477,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52273236,"answer_count":1,"score":4,"last_activity_date":1687457345,"creation_date":1536461637,"question_id":52240944,"body_markdown":"I created a dynamic attribute to handle navigation node entries&#39; visibility in compatible with all related rules of Hybris. I was able to reach the attribute within Java code without getting any problem but I could not make JSP interpret it. ***My `DynamicAttributeHandler` class smoothly worked but JSP failed while reading it.*** These were the steps of the creation of the attribute:\r\n\r\n**1)items.xml**\r\n\r\n    &lt;attribute qualifier=&quot;navigationNodeVisibility&quot; type=&quot;java.lang.Boolean&quot;&gt;\r\n           &lt;persistence type=&quot;dynamic&quot; attributeHandler=&quot;navigationNodeVisibilityAttributeHandler&quot;/&gt;\r\n           &lt;modifiers read=&quot;true&quot; write=&quot;false&quot; search=&quot;true&quot;/&gt;\r\n           &lt;defaultvalue&gt;java.lang.Boolean.TRUE&lt;/defaultvalue&gt;\r\n    &lt;/attribute&gt;\r\n\r\n**2)NavigationNodeVisibilityAttributeHandler.java**\r\n\r\n    @Override\r\n    public Boolean get(CMSNavigationNodeModel model) {\r\n        if (model != null) {\r\n            for(CMSNavigationEntryModel cmsNavigationEntry:model.getEntries()){\r\n                if(cmsNavigationEntry.getItem() instanceof  CMSLinkComponentModel){\r\n                    CategoryModel category= ((CMSLinkComponentModel)cmsNavigationEntry.getItem()).getCategory();\r\n                    if((category.getVisibility()== null || category.getVisibility() ) &amp;&amp; ActiveProductStatus.ACTIVE == category.getActiveProductStatus()\r\n                            &amp;&amp; ManageCategoryByDateStatus.ACTIVE == category.getManageCategoryByDateStatus()){\r\n                        return Boolean.TRUE;\r\n                    }\r\n                }\r\n            }\r\n            return Boolean.FALSE;\r\n        }\r\n        return null;\r\n    }\r\n\r\n&lt;bean id=&quot;navigationNodeVisibilityAttributeHandler&quot; class=&quot;com.inomera.hybris.core.handler.NavigationNodeVisibilityAttributeHandler&quot; /&gt;\r\n\r\n**3) Registering bean**\r\n\r\n    &lt;bean id=&quot;navigationNodeVisibilityAttributeHandler&quot; class=&quot;com.inomera.hybris.core.handler.NavigationNodeVisibilityAttributeHandler&quot; /&gt;\r\n\r\n\r\n**4) ant clean all &amp;&amp; ant updatesystem**\r\n\r\n\r\nWhenever I called it in jsp file, I had got an error like &quot;.. An exception occurred processing JSP page ..&quot; \r\n\r\n\r\n    &lt;c:forEach items=&quot;${component.navigationNode.children}&quot; var=&quot;cx&quot;&gt;\r\n        ${cx.navigationNodeVisibility}\r\n    &lt;/c:forEach&gt;\r\n\r\nCalling the attribute in this way did not throw an exception but it is necessary to use it within the for loop in my case. \r\n\r\n`${component.navigationNode.children[0].navigationNodeVisibility}`\r\n\r\nAny help or suggestion would be really appreciated\r\n\r\nNote: `${cx.getNavigationNodeVisibility()}` did throw the same JSP exception.\r\n\r\n**Edit: JSP exception example**\r\n\r\n    WARN  [hybrisHTTP14] [XXXXXXXXXXXX] [DefaultCMSComponentRendererRegistry] Error processing component tag. currentComponent [CategoryNavigationComponentModel (8796098036796@1)] exception: An exception occurred processing JSP page /WEB-INF/views/responsive/cms/categorynavigationcomponent.jsp at line 14\r\n\r\n    11: &lt;nav id=&quot;menu&quot; style=&quot;display: none;&quot;&gt;\r\n    12:     \t&lt;ul&gt;\r\n    13: \t    \t&lt;c:forEach items=&quot;${component.navigationNode.children}&quot; var=&quot;childLevel1&quot;&gt;\r\n    14: \t\t\t\t&lt;c:if test=&quot;${ childLevel1.visible eq &#39;true&#39; &amp;&amp; childLevel1.navigationNodeVisibility}&quot;&gt;\r\n    15: \t\t\t\t\t&lt;li&gt;\r\n    16: \t\t\t\t\t\t&lt;c:forEach items=&quot;${childLevel1.entries}&quot; var=&quot;childEntry1&quot; end=&quot;1&quot;&gt;\r\n    17: \t\t\t\t\t\t\t&lt;c:if test=&quot;${not empty childLevel1.children}&quot;&gt;\r\n","title":"Interpreting Dynamic Attribute in JSP in Hybris","body":"<p>I created a dynamic attribute to handle navigation node entries' visibility in compatible with all related rules of Hybris. I was able to reach the attribute within Java code without getting any problem but I could not make JSP interpret it. <em><strong>My <code>DynamicAttributeHandler</code> class smoothly worked but JSP failed while reading it.</strong></em> These were the steps of the creation of the attribute:</p>\n<p><strong>1)items.xml</strong></p>\n<pre><code>&lt;attribute qualifier=&quot;navigationNodeVisibility&quot; type=&quot;java.lang.Boolean&quot;&gt;\n       &lt;persistence type=&quot;dynamic&quot; attributeHandler=&quot;navigationNodeVisibilityAttributeHandler&quot;/&gt;\n       &lt;modifiers read=&quot;true&quot; write=&quot;false&quot; search=&quot;true&quot;/&gt;\n       &lt;defaultvalue&gt;java.lang.Boolean.TRUE&lt;/defaultvalue&gt;\n&lt;/attribute&gt;\n</code></pre>\n<p><strong>2)NavigationNodeVisibilityAttributeHandler.java</strong></p>\n<pre><code>@Override\npublic Boolean get(CMSNavigationNodeModel model) {\n    if (model != null) {\n        for(CMSNavigationEntryModel cmsNavigationEntry:model.getEntries()){\n            if(cmsNavigationEntry.getItem() instanceof  CMSLinkComponentModel){\n                CategoryModel category= ((CMSLinkComponentModel)cmsNavigationEntry.getItem()).getCategory();\n                if((category.getVisibility()== null || category.getVisibility() ) &amp;&amp; ActiveProductStatus.ACTIVE == category.getActiveProductStatus()\n                        &amp;&amp; ManageCategoryByDateStatus.ACTIVE == category.getManageCategoryByDateStatus()){\n                    return Boolean.TRUE;\n                }\n            }\n        }\n        return Boolean.FALSE;\n    }\n    return null;\n}\n</code></pre>\n\n<p><strong>3) Registering bean</strong></p>\n<pre><code>&lt;bean id=&quot;navigationNodeVisibilityAttributeHandler&quot; class=&quot;com.inomera.hybris.core.handler.NavigationNodeVisibilityAttributeHandler&quot; /&gt;\n</code></pre>\n<p><strong>4) ant clean all &amp;&amp; ant updatesystem</strong></p>\n<p>Whenever I called it in jsp file, I had got an error like &quot;.. An exception occurred processing JSP page ..&quot;</p>\n<pre><code>&lt;c:forEach items=&quot;${component.navigationNode.children}&quot; var=&quot;cx&quot;&gt;\n    ${cx.navigationNodeVisibility}\n&lt;/c:forEach&gt;\n</code></pre>\n<p>Calling the attribute in this way did not throw an exception but it is necessary to use it within the for loop in my case.</p>\n<p><code>${component.navigationNode.children[0].navigationNodeVisibility}</code></p>\n<p>Any help or suggestion would be really appreciated</p>\n<p>Note: <code>${cx.getNavigationNodeVisibility()}</code> did throw the same JSP exception.</p>\n<p><strong>Edit: JSP exception example</strong></p>\n<pre><code>WARN  [hybrisHTTP14] [XXXXXXXXXXXX] [DefaultCMSComponentRendererRegistry] Error processing component tag. currentComponent [CategoryNavigationComponentModel (8796098036796@1)] exception: An exception occurred processing JSP page /WEB-INF/views/responsive/cms/categorynavigationcomponent.jsp at line 14\n\n11: &lt;nav id=&quot;menu&quot; style=&quot;display: none;&quot;&gt;\n12:         &lt;ul&gt;\n13:             &lt;c:forEach items=&quot;${component.navigationNode.children}&quot; var=&quot;childLevel1&quot;&gt;\n14:                 &lt;c:if test=&quot;${ childLevel1.visible eq 'true' &amp;&amp; childLevel1.navigationNodeVisibility}&quot;&gt;\n15:                     &lt;li&gt;\n16:                         &lt;c:forEach items=&quot;${childLevel1.entries}&quot; var=&quot;childEntry1&quot; end=&quot;1&quot;&gt;\n17:                             &lt;c:if test=&quot;${not empty childLevel1.children}&quot;&gt;\n</code></pre>\n"},{"tags":["java","sap-commerce-cloud","impex"],"comments":[{"owner":{"account_id":3392662,"reputation":5537,"user_id":2847159,"display_name":"mkysoft"},"score":0,"creation_date":1555681304,"post_id":55761185,"comment_id":98200083,"body_markdown":"I think you need to use zip and jar tag together. You need to use jar for determining folder location.","body":"I think you need to use zip and jar tag together. You need to use jar for determining folder location."},{"owner":{"account_id":4383280,"reputation":664,"user_id":3574302,"accept_rate":79,"display_name":"Junaid"},"score":0,"creation_date":1555689573,"post_id":55761185,"comment_id":98203589,"body_markdown":"I tried but no luck","body":"I tried but no luck"}],"answers":[{"tags":[],"owner":{"account_id":3392662,"reputation":5537,"user_id":2847159,"display_name":"mkysoft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555681442,"creation_date":1555676496,"answer_id":55761774,"question_id":55761185,"body_markdown":"You need to develop new translator. You can extend MediaDataTranslator for unzipping file. You can call base class for other operations.  \r\n\r\nCustom translator guideline: https://help.hybris.com/1811/hcd/ef51040168d743879c015b7de232ce40.html  \r\n\r\n**Update**  \r\nYou need to use jar and zip together. May be you can get folder before zip like below:\r\n\r\n    $siteZipResource=jar:com.project.initialdata.constants.ProjectInitialDataConstants\r\n    $siteResource=zip:$siteZipResource&amp;/projectinitialdata/import/sampledata/images/brand\r\n\r\n","title":"Hybris : How to import media which is in the zip file in impex?","body":"<p>You need to develop new translator. You can extend MediaDataTranslator for unzipping file. You can call base class for other operations.  </p>\n\n<p>Custom translator guideline: <a href=\"https://help.hybris.com/1811/hcd/ef51040168d743879c015b7de232ce40.html\" rel=\"nofollow noreferrer\">https://help.hybris.com/1811/hcd/ef51040168d743879c015b7de232ce40.html</a>  </p>\n\n<p><strong>Update</strong><br>\nYou need to use jar and zip together. May be you can get folder before zip like below:</p>\n\n<pre><code>$siteZipResource=jar:com.project.initialdata.constants.ProjectInitialDataConstants\n$siteResource=zip:$siteZipResource&amp;/projectinitialdata/import/sampledata/images/brand\n</code></pre>\n"}],"owner":{"account_id":4383280,"reputation":664,"user_id":3574302,"accept_rate":79,"display_name":"Junaid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3383,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687457180,"creation_date":1555673528,"question_id":55761185,"body_markdown":"I know we can import images which are not zipped like this \r\n\r\n    $siteResource=jar:com.project.initialdata.constants.ProjectInitialDataConstants&amp;/projectinitialdata/import/sampledata/images/brand\r\n    \r\n    INSERT_UPDATE Media ; code[unique=true]               ; mediaFormat(qualifier) ; realfilename                               ; @media[translator=de.hybris.platform.impex.jalo.media.MediaDataTranslator] ; mime[default=&#39;image/jpeg&#39;] ; catalogVersion(catalog(id),version)[unique=true,allownull=true]\r\n                        ; logo-molinard.jpg               ;                        ; Molinard_logo.jpg                          ; $siteResource/8918352691230.jpg                                                          ; image/jpeg                 ; hybrisContentCatalog:Staged                                    \r\n                        ; Logo_LittleMarcel               ;                        ; LM_logo.jpg                                ; $siteResource/8918375858206.jpg                                                          ; image/jpeg                 ; hybrisContentCatalog:Staged   \r\n\r\n                                 \r\n But in my case I need to import the images which are in a zip file. \r\n\r\n**Update:**\r\n\r\nIt works when I do like this:\r\n\r\n    $siteResource=zip:C:\\HYBRIS_SERVER\\hybris\\bin\\custom\\project\\projectinitialdata\\resources\\projectinitialdata\\import\\sampledata\\images\\brand\r\n\r\n    INSERT_UPDATE Media ; code[unique=true] ; mediaFormat(qualifier) ; realfilename      ; @media[translator=de.hybris.platform.impex.jalo.media.MediaDataTranslator] ; mime[default=&#39;image/jpeg&#39;] ; catalogVersion(catalog(id),version)[unique=true,allownull=true]\r\n                        ; logo-molinard.jpg ;                        ; Molinard_logo.jpg ; $siteResource/images.zip&amp;8918352691230.jpg                                 ; image/jpeg                 ; hybrisContentCatalog:Staged                                    \r\n\r\n\r\nNote above I&#39;m giving an absolute path. \r\n\r\nBut when I tried to give relative path like this, it didn&#39;t work:\r\n\r\n    $siteResource=zip:com.project.initialdata.constants.ProjectInitialDataConstants&amp;/projectinitialdata/import/sampledata/images/brand\r\n    \r\n    INSERT_UPDATE Media ; code[unique=true] ; mediaFormat(qualifier) ; realfilename      ; @media[translator=de.hybris.platform.impex.jalo.media.MediaDataTranslator] ; mime[default=&#39;image/jpeg&#39;] ; catalogVersion(catalog(id),version)[unique=true,allownull=true]\r\n                        ; logo-molinard.jpg ;                        ; Molinard_logo.jpg ; $siteResource/images.zip&amp;8918352691230.jpg                                 ; image/jpeg                 ; hybrisContentCatalog:Staged   \r\n\r\n                                 \r\n\t\t\t\t\t               \r\n","title":"Hybris : How to import media which is in the zip file in impex?","body":"<p>I know we can import images which are not zipped like this</p>\n<pre><code>$siteResource=jar:com.project.initialdata.constants.ProjectInitialDataConstants&amp;/projectinitialdata/import/sampledata/images/brand\n\nINSERT_UPDATE Media ; code[unique=true]               ; mediaFormat(qualifier) ; realfilename                               ; @media[translator=de.hybris.platform.impex.jalo.media.MediaDataTranslator] ; mime[default='image/jpeg'] ; catalogVersion(catalog(id),version)[unique=true,allownull=true]\n                    ; logo-molinard.jpg               ;                        ; Molinard_logo.jpg                          ; $siteResource/8918352691230.jpg                                                          ; image/jpeg                 ; hybrisContentCatalog:Staged                                    \n                    ; Logo_LittleMarcel               ;                        ; LM_logo.jpg                                ; $siteResource/8918375858206.jpg                                                          ; image/jpeg                 ; hybrisContentCatalog:Staged   \n\n                             \n</code></pre>\n<p>But in my case I need to import the images which are in a zip file.</p>\n<p><strong>Update:</strong></p>\n<p>It works when I do like this:</p>\n<pre><code>$siteResource=zip:C:\\HYBRIS_SERVER\\hybris\\bin\\custom\\project\\projectinitialdata\\resources\\projectinitialdata\\import\\sampledata\\images\\brand\n\nINSERT_UPDATE Media ; code[unique=true] ; mediaFormat(qualifier) ; realfilename      ; @media[translator=de.hybris.platform.impex.jalo.media.MediaDataTranslator] ; mime[default='image/jpeg'] ; catalogVersion(catalog(id),version)[unique=true,allownull=true]\n                    ; logo-molinard.jpg ;                        ; Molinard_logo.jpg ; $siteResource/images.zip&amp;8918352691230.jpg                                 ; image/jpeg                 ; hybrisContentCatalog:Staged                                    \n</code></pre>\n<p>Note above I'm giving an absolute path.</p>\n<p>But when I tried to give relative path like this, it didn't work:</p>\n<pre><code>$siteResource=zip:com.project.initialdata.constants.ProjectInitialDataConstants&amp;/projectinitialdata/import/sampledata/images/brand\n\nINSERT_UPDATE Media ; code[unique=true] ; mediaFormat(qualifier) ; realfilename      ; @media[translator=de.hybris.platform.impex.jalo.media.MediaDataTranslator] ; mime[default='image/jpeg'] ; catalogVersion(catalog(id),version)[unique=true,allownull=true]\n                    ; logo-molinard.jpg ;                        ; Molinard_logo.jpg ; $siteResource/images.zip&amp;8918352691230.jpg                                 ; image/jpeg                 ; hybrisContentCatalog:Staged   \n\n                             \n                               \n</code></pre>\n"},{"tags":["java","saxon"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687451525,"post_id":76532968,"comment_id":134942098,"body_markdown":"Probably not, after all, you are not changing the library code, you are adding something to it for use in your code. If you release that modification you may have to make it available under the same license. (Double check the terms, I don&#39;t know what MPL requires.)","body":"Probably not, after all, you are not changing the library code, you are adding something to it for use in your code. If you release that modification you may have to make it available under the same license. (Double check the terms, I don&#39;t know what MPL requires.)"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687457179,"creation_date":1687457179,"answer_id":76534616,"question_id":76532968,"body_markdown":"**I Am Not A Lawyer.**\r\n\r\nThe definition of &quot;modifications&quot; in MPL 2.0 is:\r\n\r\n&gt; any of the following:\r\n&gt; \r\n&gt; any file in Source Code Form that results from an addition to,\r\n&gt; deletion from, or modification of the contents of Covered Software; or\r\n&gt; \r\n&gt; any new file in Source Code Form that contains any Covered Software.\r\n\r\nWhen you extend a Java class, you typically create a new file that references the original; you don&#39;t modify the original. Your new file will contain some fragments of code that are the same as fragments in the original, namely the signatures of methods you are overriding; but I think it highly unlikely that anyone would interpret that as meaning that your extension &quot;contains covered software&quot;. \r\n\r\nOf course, if your extension copied significant chunks of the open source code, perhaps in modified form, then that would be different. But even then you can get around that easily enough, simply by classifying those files as open source, and keeping them separate from your proprietary code. It&#39;s worth noting that although the MPL requires you to make modified code available under the MPL, it doesn&#39;t have to be usable: you don&#39;t have to publish documentation or test material, in fact you don&#39;t even have to publish it in a form that will compile (it can contain calls on code that you don&#39;t publish).\r\n\r\nBut I repeat: **I Am Not A Lawyer.**","title":"Is an extension from the ExtensionFunctionDefinition class a modification under the terms of the MPL 2.0 license?","body":"<p><strong>I Am Not A Lawyer.</strong></p>\n<p>The definition of &quot;modifications&quot; in MPL 2.0 is:</p>\n<blockquote>\n<p>any of the following:</p>\n<p>any file in Source Code Form that results from an addition to,\ndeletion from, or modification of the contents of Covered Software; or</p>\n<p>any new file in Source Code Form that contains any Covered Software.</p>\n</blockquote>\n<p>When you extend a Java class, you typically create a new file that references the original; you don't modify the original. Your new file will contain some fragments of code that are the same as fragments in the original, namely the signatures of methods you are overriding; but I think it highly unlikely that anyone would interpret that as meaning that your extension &quot;contains covered software&quot;.</p>\n<p>Of course, if your extension copied significant chunks of the open source code, perhaps in modified form, then that would be different. But even then you can get around that easily enough, simply by classifying those files as open source, and keeping them separate from your proprietary code. It's worth noting that although the MPL requires you to make modified code available under the MPL, it doesn't have to be usable: you don't have to publish documentation or test material, in fact you don't even have to publish it in a form that will compile (it can contain calls on code that you don't publish).</p>\n<p>But I repeat: <strong>I Am Not A Lawyer.</strong></p>\n"}],"owner":{"account_id":25646790,"reputation":1,"user_id":19414758,"display_name":"gsv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687457179,"creation_date":1687444124,"question_id":76532968,"body_markdown":"I would like to use SaxonHE (this open source solution is distributed under the MPL 2.0 licence) as the library in the commercial proprietary software. At the same time, I need functionality that allows me to call custom Java code from Xslt code. As far as I can see, such functionality is available in SaxonHE via the ExtensionFunctionDefinition class extension. Therefore, I want to clarify whether creating my own custom classes that extend the ExtensionFunctionDefinition class will be considered a Modification under the terms of the MPL 2.0 license?","title":"Is an extension from the ExtensionFunctionDefinition class a modification under the terms of the MPL 2.0 license?","body":"<p>I would like to use SaxonHE (this open source solution is distributed under the MPL 2.0 licence) as the library in the commercial proprietary software. At the same time, I need functionality that allows me to call custom Java code from Xslt code. As far as I can see, such functionality is available in SaxonHE via the ExtensionFunctionDefinition class extension. Therefore, I want to clarify whether creating my own custom classes that extend the ExtensionFunctionDefinition class will be considered a Modification under the terms of the MPL 2.0 license?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":7,"creation_date":1687435125,"post_id":76531631,"comment_id":134938164,"body_markdown":"Why don&#39;t you just use a JSON parser?","body":"Why don&#39;t you just use a JSON parser?"},{"owner":{"account_id":27892043,"reputation":15,"user_id":21298211,"display_name":"user21298211"},"score":0,"creation_date":1687437523,"post_id":76531631,"comment_id":134938789,"body_markdown":"I am not sure if I can achieve this by JSON parser &quot;or&quot; not.  As currently my requirement is that after splitting this name should like below.                                            communityname[Badarganj, Rangpur Division, Bangladesh]","body":"I am not sure if I can achieve this by JSON parser &quot;or&quot; not.  As currently my requirement is that after splitting this name should like below.                                            communityname[Badarganj, Rangpur Division, Bangladesh]"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1687439019,"post_id":76531631,"comment_id":134939169,"body_markdown":"I&#39;m sure that that requirement  &gt;can&lt; be achieved using a JSON parser.  Indeed, doing it with a parser will make your code a lot more robust.  Use the right tool.  Don&#39;t be afraid to learn.","body":"I&#39;m sure that that requirement  &gt;can&lt; be achieved using a JSON parser.  Indeed, doing it with a parser will make your code a lot more robust.  Use the right tool.  Don&#39;t be afraid to learn."},{"owner":{"account_id":27892043,"reputation":15,"user_id":21298211,"display_name":"user21298211"},"score":0,"creation_date":1687445223,"post_id":76531631,"comment_id":134940673,"body_markdown":"can you please provide me some example of JSON parser.","body":"can you please provide me some example of JSON parser."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687457151,"creation_date":1687457151,"answer_id":76534611,"question_id":76531631,"body_markdown":"You can use the _limit_ parameter, of the _[String#split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String,int))_ method.\r\n\r\nThis will stop splitting the value after a specified amount.   \r\nThe JavaDoc, linked above, has a few examples.\r\n\r\n```java\r\nString[] spiltValue = tabValue.split(&quot;,&quot;, 3);\r\n```\r\n\r\n```java\r\nString tabValue = &quot;{\\&quot;locationType\\&quot;:\\&quot;City\\&quot;,\\&quot;locationName\\&quot;:[{\\&quot;id\\&quot;:\\&quot;161341\\&quot;,\\&quot;name\\&quot;:\\&quot;Badarganj, Rangpur Division, Bangladesh\\&quot;}]}&quot;;\r\nString[] spiltValue = tabValue.split(&quot;,&quot;, 3);\r\nfor (String string : spiltValue) System.out.println(string);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{&quot;locationType&quot;:&quot;City&quot;\r\n&quot;locationName&quot;:[{&quot;id&quot;:&quot;161341&quot;\r\n&quot;name&quot;:&quot;Badarganj, Rangpur Division, Bangladesh&quot;}]}\r\n```","title":"I want to Split the JSON in Java","body":"<p>You can use the <em>limit</em> parameter, of the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\" rel=\"nofollow noreferrer\">String#split</a></em> method.</p>\n<p>This will stop splitting the value after a specified amount.<br />\nThe JavaDoc, linked above, has a few examples.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] spiltValue = tabValue.split(&quot;,&quot;, 3);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String tabValue = &quot;{\\&quot;locationType\\&quot;:\\&quot;City\\&quot;,\\&quot;locationName\\&quot;:[{\\&quot;id\\&quot;:\\&quot;161341\\&quot;,\\&quot;name\\&quot;:\\&quot;Badarganj, Rangpur Division, Bangladesh\\&quot;}]}&quot;;\nString[] spiltValue = tabValue.split(&quot;,&quot;, 3);\nfor (String string : spiltValue) System.out.println(string);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;locationType&quot;:&quot;City&quot;\n&quot;locationName&quot;:[{&quot;id&quot;:&quot;161341&quot;\n&quot;name&quot;:&quot;Badarganj, Rangpur Division, Bangladesh&quot;}]}\n</code></pre>\n"}],"owner":{"account_id":27892043,"reputation":15,"user_id":21298211,"display_name":"user21298211"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":1,"score":-6,"last_activity_date":1687457151,"creation_date":1687435039,"question_id":76531631,"body_markdown":"I have one json as below\r\n\r\n    {&quot;locationType&quot;:&quot;City&quot;,&quot;locationName&quot;:[{&quot;id&quot;:&quot;161341&quot;,&quot;name&quot;:&quot;Badarganj, Rangpur Division, Bangladesh&quot;}]}\r\n\r\nI want to split this JSON in 3 parts as below\r\n\r\n    {&quot;locationType&quot;:&quot;City&quot;\r\n    \r\n    &quot;locationName&quot;:[{&quot;id&quot;:&quot;161341&quot;\r\n    \r\n    &quot;name&quot;:&quot;Badarganj, Rangpur Division, Bangladesh&quot;}]}\r\n\r\nI am trying to do like below...But it is not happening\r\n\r\n    \r\n\r\n\tString tabValue = &quot;{&quot;locationType&quot;:&quot;City&quot;,&quot;locationName&quot;:[{&quot;id&quot;:&quot;161341&quot;,&quot;name&quot;:&quot;Badarganj, Rangpur Division, Bangladesh&quot;}]}&quot;;\r\n\t\t\t\tString[] spiltValue = tabValue.split(&quot;,&quot;);\r\n\t\t\t\tLOGGER.info(&quot;spiltValue1 ==== &quot; + spiltValue[2]);\r\n\t\t\t\tLOGGER.info(&quot;spiltValue2 ==== &quot; + spiltValue[3]);\r\n\t\t\t\tLOGGER.info(&quot;spiltValue3 ==== &quot; + spiltValue[4]);\r\n\r\n\r\nIf I am split with , then it is spliting 4 times...\r\nBut I want to split only 3 times.\r\n\r\nCan anybody please help here.\r\n\r\n","title":"I want to Split the JSON in Java","body":"<p>I have one json as below</p>\n<pre><code>{&quot;locationType&quot;:&quot;City&quot;,&quot;locationName&quot;:[{&quot;id&quot;:&quot;161341&quot;,&quot;name&quot;:&quot;Badarganj, Rangpur Division, Bangladesh&quot;}]}\n</code></pre>\n<p>I want to split this JSON in 3 parts as below</p>\n<pre><code>{&quot;locationType&quot;:&quot;City&quot;\n\n&quot;locationName&quot;:[{&quot;id&quot;:&quot;161341&quot;\n\n&quot;name&quot;:&quot;Badarganj, Rangpur Division, Bangladesh&quot;}]}\n</code></pre>\n<p>I am trying to do like below...But it is not happening</p>\n<pre><code>String tabValue = &quot;{&quot;locationType&quot;:&quot;City&quot;,&quot;locationName&quot;:[{&quot;id&quot;:&quot;161341&quot;,&quot;name&quot;:&quot;Badarganj, Rangpur Division, Bangladesh&quot;}]}&quot;;\n            String[] spiltValue = tabValue.split(&quot;,&quot;);\n            LOGGER.info(&quot;spiltValue1 ==== &quot; + spiltValue[2]);\n            LOGGER.info(&quot;spiltValue2 ==== &quot; + spiltValue[3]);\n            LOGGER.info(&quot;spiltValue3 ==== &quot; + spiltValue[4]);\n</code></pre>\n<p>If I am split with , then it is spliting 4 times...\nBut I want to split only 3 times.</p>\n<p>Can anybody please help here.</p>\n"},{"tags":["java","pbkdf2"],"comments":[{"owner":{"account_id":4952071,"reputation":68,"user_id":3985685,"display_name":"DebugCode"},"score":1,"creation_date":1687456513,"post_id":76534507,"comment_id":134943034,"body_markdown":"I think your approach is a recommended method for protecting passwords in a database. The default values you mentioned for the algorithm, iterations, salt size, and key size are reasonable. Newer algorithms like bcrypt, scrypt, or Argon2 have gained popularity due to their stronger resistance against GPU-based attacks. If you can apply it may be worth considering these algorithms as potential alternatives to PBKDF2.","body":"I think your approach is a recommended method for protecting passwords in a database. The default values you mentioned for the algorithm, iterations, salt size, and key size are reasonable. Newer algorithms like bcrypt, scrypt, or Argon2 have gained popularity due to their stronger resistance against GPU-based attacks. If you can apply it may be worth considering these algorithms as potential alternatives to PBKDF2."}],"answers":[{"tags":[],"owner":{"account_id":3059859,"reputation":5657,"user_id":2592760,"accept_rate":93,"display_name":"Transcendent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687456680,"creation_date":1687456680,"answer_id":76534563,"question_id":76534507,"body_markdown":"You do not need to store salts! Given that you have the following function for creating your hashes: \r\n\r\n    string crypt(string password, string salt);\r\n\r\nif you create a salted hash for your password like: \r\n\r\n    string hashedPassword = crypt(&quot;mypassword&quot;, saltFunction(&quot;md5&quot;));\r\n\r\nyou can verify passwords like: \r\n\r\n    string hash = crypt(&quot;mypassword&quot;, hashedPassword); \r\n    if(hash == hashedPassword) {\r\n       // Password is correct\r\n    }\r\n\r\nThis is common practice and widely used in Postgres. ","title":"Save salt with hashed password","body":"<p>You do not need to store salts! Given that you have the following function for creating your hashes:</p>\n<pre><code>string crypt(string password, string salt);\n</code></pre>\n<p>if you create a salted hash for your password like:</p>\n<pre><code>string hashedPassword = crypt(&quot;mypassword&quot;, saltFunction(&quot;md5&quot;));\n</code></pre>\n<p>you can verify passwords like:</p>\n<pre><code>string hash = crypt(&quot;mypassword&quot;, hashedPassword); \nif(hash == hashedPassword) {\n   // Password is correct\n}\n</code></pre>\n<p>This is common practice and widely used in Postgres.</p>\n"}],"owner":{"account_id":169166,"reputation":183,"user_id":395093,"accept_rate":56,"display_name":"DanialAbdi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687456680,"creation_date":1687456171,"question_id":76534507,"body_markdown":"I&#39;m saving hashed password with this pattern in the Database:\r\n```\r\nPkGzO4WINLmDHLeXETzsjoxdtNzz0ngR3ux4P5E61go=:ffApiGPDwAuZL+a/GO8ooPt2JxXk2CXumlyhC0eZd8Q=\r\n Pattern-&gt; HashedPassword:Salt\r\n```\r\nAfter character **&quot;:&quot;** is salt.\r\n\r\nThis is configuration for hashing:\r\n\r\n    private static final String DEFAULT_ALGORITHM = &quot;PBKDF2WithHmacSHA512&quot;;\r\n\r\n    private static final int DEFAULT_ITERATIONS = 2048;\r\n    private static final int DEFAULT_SALT_SIZE = 64;         // 32-byte/256-bit salt\r\n    private static final int DEFAULT_KEY_SIZE = 64;\r\n\r\nIs it a bad way? Do exist a better way?","title":"Save salt with hashed password","body":"<p>I'm saving hashed password with this pattern in the Database:</p>\n<pre><code>PkGzO4WINLmDHLeXETzsjoxdtNzz0ngR3ux4P5E61go=:ffApiGPDwAuZL+a/GO8ooPt2JxXk2CXumlyhC0eZd8Q=\n Pattern-&gt; HashedPassword:Salt\n</code></pre>\n<p>After character <strong>&quot;:&quot;</strong> is salt.</p>\n<p>This is configuration for hashing:</p>\n<pre><code>private static final String DEFAULT_ALGORITHM = &quot;PBKDF2WithHmacSHA512&quot;;\n\nprivate static final int DEFAULT_ITERATIONS = 2048;\nprivate static final int DEFAULT_SALT_SIZE = 64;         // 32-byte/256-bit salt\nprivate static final int DEFAULT_KEY_SIZE = 64;\n</code></pre>\n<p>Is it a bad way? Do exist a better way?</p>\n"},{"tags":["java","memory-management","profiling","instrumentation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687461701,"post_id":76534560,"comment_id":134944042,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28861501,"reputation":21,"user_id":22105195,"display_name":"Shaurya Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687456659,"creation_date":1687456659,"question_id":76534560,"body_markdown":"I am trying to track and instrument memory loads for Java programs. \r\nA very simple usecase is to print all the memory accessed by load instruction in a program while it is running. I want to do this using a lightweight mechanism like Intel PIN because I will restrict its memory to cause memory pressure. One option is to use simics, but I don&#39;t know how simics reacts when I constrain memory using cgroups for example. \r\n\r\nI have built this tool for C applications using PIN but PIN doesn&#39;t work for Java, is there any similar tool that I can use for Java?\r\n\r\nI tried using PIN with Java along with the -follow_execv flag, since PIN doesn&#39;t have access to the binary it seems like it can&#39;t work. I confirmed this with the community. I briefly tried to use DynamoRIO but that didn&#39;t seem to work for my usecase as there is a delay in the printing of the assembly instructions and I need them to be instrumented when the instructions are executed. ","title":"Tracking and instrumenting memory accesses for Java application","body":"<p>I am trying to track and instrument memory loads for Java programs.\nA very simple usecase is to print all the memory accessed by load instruction in a program while it is running. I want to do this using a lightweight mechanism like Intel PIN because I will restrict its memory to cause memory pressure. One option is to use simics, but I don't know how simics reacts when I constrain memory using cgroups for example.</p>\n<p>I have built this tool for C applications using PIN but PIN doesn't work for Java, is there any similar tool that I can use for Java?</p>\n<p>I tried using PIN with Java along with the -follow_execv flag, since PIN doesn't have access to the binary it seems like it can't work. I confirmed this with the community. I briefly tried to use DynamoRIO but that didn't seem to work for my usecase as there is a delay in the printing of the assembly instructions and I need them to be instrumented when the instructions are executed.</p>\n"},{"tags":["java","spring","sap-commerce-cloud","java-ee-6"],"comments":[{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":0,"creation_date":1586350518,"post_id":61060987,"comment_id":108095658,"body_markdown":"I believe that if the cmscockpit users do not have read access on the SyncJob they should not be able to perform the sync. Have you tried that ?","body":"I believe that if the cmscockpit users do not have read access on the SyncJob they should not be able to perform the sync. Have you tried that ?"},{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":0,"creation_date":1586350615,"post_id":61060987,"comment_id":108095716,"body_markdown":"But if you want to restrict only one instance( i.e the Global Sync Job) and allow the cmscockpit users to perform other sync jobs(i.e non global) then User Rights is not the answer. This instead can be achieved via a search restriction which will be applied to cmscockpit usergroup and will imply that the Global Sync job only will not be visible to them","body":"But if you want to restrict only one instance( i.e the Global Sync Job) and allow the cmscockpit users to perform other sync jobs(i.e non global) then User Rights is not the answer. This instead can be achieved via a search restriction which will be applied to cmscockpit usergroup and will imply that the Global Sync job only will not be visible to them"},{"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"score":0,"creation_date":1586353023,"post_id":61060987,"comment_id":108097011,"body_markdown":"@dj_frunza Search restriction might not be correct, if the User also needs to see the catalog. What they might want is to see both the Source and Target catalog, but to disable the sync.","body":"@dj_frunza Search restriction might not be correct, if the User also needs to see the catalog. What they might want is to see both the Source and Target catalog, but to disable the sync."},{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":0,"creation_date":1586354140,"post_id":61060987,"comment_id":108097711,"body_markdown":"@geffchang The way the users are seeing catalogs will not change, They will still be able to see the Source and Target catalogs. The restriction will be applied for &quot;CatalogVersionSyncJob&quot; type meaning that only the global sync job (which I expect to be of this type) will not be visble, hence the sync will not be possible. I did something similar and it worked as expected in backoffice","body":"@geffchang The way the users are seeing catalogs will not change, They will still be able to see the Source and Target catalogs. The restriction will be applied for &quot;CatalogVersionSyncJob&quot; type meaning that only the global sync job (which I expect to be of this type) will not be visble, hence the sync will not be possible. I did something similar and it worked as expected in backoffice"}],"answers":[{"tags":[],"owner":{"account_id":13593468,"reputation":11,"user_id":9806201,"display_name":"MoiPuissance"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586445897,"creation_date":1586445897,"answer_id":61124608,"question_id":61060987,"body_markdown":"I was in the catalog section selected renderer. I captured the right-click event. I have restricted the display of the button only for the new group that I have created.","title":"How can I disable the synchronization button in the cmscockpit for the cockpit users?","body":"<p>I was in the catalog section selected renderer. I captured the right-click event. I have restricted the display of the button only for the new group that I have created.</p>\n"}],"owner":{"account_id":13593468,"reputation":11,"user_id":9806201,"display_name":"MoiPuissance"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61124608,"answer_count":1,"score":0,"last_activity_date":1687456587,"creation_date":1586179794,"question_id":61060987,"body_markdown":"I want to deactivate the global synchronization of the catalog in the cmscockpit.\r\n\r\nIs it possible to do it with usergroups? If yes, how can I do it? \r\n\r\nIf not, how should I do it?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Bry2.png","title":"How can I disable the synchronization button in the cmscockpit for the cockpit users?","body":"<p>I want to deactivate the global synchronization of the catalog in the cmscockpit.</p>\n\n<p>Is it possible to do it with usergroups? If yes, how can I do it? </p>\n\n<p>If not, how should I do it?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4Bry2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Bry2.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","proxy","okhttp","apache-httpclient-4.x"],"owner":{"account_id":6414314,"reputation":11,"user_id":4972991,"display_name":"Adithya R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687455843,"creation_date":1687455843,"question_id":76534458,"body_markdown":"Currently, I am using the Apache HttpClient with RestTemplate. We have a HTTPS proxy and currently connect by using a DefaultProxyRoutePlanner as given below.\r\n```\r\nHttpHost proxy = new HttpHost(host, port, &quot;https&quot;);\r\nHttpClientBuilder.create()\r\n                    .setRoutePlanner(new DefaultProxyRoutePlanner(proxy) {\r\n                        @Override\r\n                        public HttpHost determineProxy(HttpHost target, HttpRequest request, HttpContext context) throws HttpException {\r\n                            return super.determineProxy(target, request, context);\r\n                        }\r\n                    });\r\n```\r\nThis allows me to connect to a Https proxy.\r\n\r\nHow can I achieve the same thing using a OkHttp client. I can see only an option to add java.net.Proxy which only shows the TYPE.HTTP as an option.\r\n\r\n\r\n\r\nHow can I achieve the same thing using a OkHttp client. I can see only an option to add java.net.Proxy which only shows the TYPE.HTTP as an option.\r\n\r\nI will not be able to set JVM level proxy or System level proxy property as its running in a kubernetes pod.","title":"Connect to Https Proxy using OkHttp Client","body":"<p>Currently, I am using the Apache HttpClient with RestTemplate. We have a HTTPS proxy and currently connect by using a DefaultProxyRoutePlanner as given below.</p>\n<pre><code>HttpHost proxy = new HttpHost(host, port, &quot;https&quot;);\nHttpClientBuilder.create()\n                    .setRoutePlanner(new DefaultProxyRoutePlanner(proxy) {\n                        @Override\n                        public HttpHost determineProxy(HttpHost target, HttpRequest request, HttpContext context) throws HttpException {\n                            return super.determineProxy(target, request, context);\n                        }\n                    });\n</code></pre>\n<p>This allows me to connect to a Https proxy.</p>\n<p>How can I achieve the same thing using a OkHttp client. I can see only an option to add java.net.Proxy which only shows the TYPE.HTTP as an option.</p>\n<p>How can I achieve the same thing using a OkHttp client. I can see only an option to add java.net.Proxy which only shows the TYPE.HTTP as an option.</p>\n<p>I will not be able to set JVM level proxy or System level proxy property as its running in a kubernetes pod.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687446929,"creation_date":1687446929,"answer_id":76533350,"question_id":76533026,"body_markdown":"I have whitelisted/unsecured some swagger endpoints previously using below code, this should work for you.\r\nAlso make sure priority of this Bean `SecurityFilterChain` is set if there are more than one Bean for above class.\r\n\r\n```\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n\t\thttpSecurity.csrf().disable().authorizeHttpRequests(auth -&gt; {\r\n\t\t\tauth.requestMatchers(&quot;/v3/**&quot;, &quot;/swagger-ui/**&quot;).permitAll();\r\n            auth.requestMatchers(&quot;/login&quot;, &quot;/home&quot;).permitAll();\r\n\t\t\tauth.anyRequest().authenticated();\r\n\t\t}).httpBasic();\r\n\t\treturn httpSecurity.build();\r\n\t}\r\n```","title":"Spring Security[3.1.0] public(unprotected) endpoints","body":"<p>I have whitelisted/unsecured some swagger endpoints previously using below code, this should work for you.\nAlso make sure priority of this Bean <code>SecurityFilterChain</code> is set if there are more than one Bean for above class.</p>\n<pre><code>\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable().authorizeHttpRequests(auth -&gt; {\n            auth.requestMatchers(&quot;/v3/**&quot;, &quot;/swagger-ui/**&quot;).permitAll();\n            auth.requestMatchers(&quot;/login&quot;, &quot;/home&quot;).permitAll();\n            auth.anyRequest().authenticated();\n        }).httpBasic();\n        return httpSecurity.build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687455035,"creation_date":1687455035,"answer_id":76534370,"question_id":76533026,"body_markdown":"Try add this to your code if it extends WebSecurityConfigurerAdapter.\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n                .antMatchers(&quot;/login&quot;)\r\n                .antMatchers(&quot;/home&quot;);\r\n    }\r\n\r\n","title":"Spring Security[3.1.0] public(unprotected) endpoints","body":"<p>Try add this to your code if it extends WebSecurityConfigurerAdapter.</p>\n<pre><code>@Override\npublic void configure(WebSecurity web) {\n    web.ignoring()\n            .antMatchers(&quot;/login&quot;)\n            .antMatchers(&quot;/home&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":9748411,"reputation":511,"user_id":7227547,"accept_rate":64,"display_name":"Spongi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687455035,"creation_date":1687444525,"question_id":76533026,"body_markdown":"I am using spring 3.1.0 and I want to be able to access some routes without authentication. However, after using the code below, the browser opens a small login window, where I need to add a username and password.\r\n\r\n```\r\n  @Bean\r\n  public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeHttpRequests((requests) -&gt; requests\r\n            .requestMatchers(&quot;/login&quot;, &quot;/home&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n        )\r\n        .httpBasic(withDefaults())\r\n        .anonymous(a -&gt; a.disable());\r\n    return http.build();\r\n  }\r\n```\r\n\r\nThis is how the code will look when I use spring security 2.x . How to migrate the code below using spring 3.1.0?\r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(HttpMethod.GET, &quot;/login&quot;, &quot;/home&quot;).permitAll()\r\n    }\r\n```\r\n","title":"Spring Security[3.1.0] public(unprotected) endpoints","body":"<p>I am using spring 3.1.0 and I want to be able to access some routes without authentication. However, after using the code below, the browser opens a small login window, where I need to add a username and password.</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests((requests) -&gt; requests\n            .requestMatchers(&quot;/login&quot;, &quot;/home&quot;).permitAll()\n            .anyRequest().authenticated()\n        )\n        .httpBasic(withDefaults())\n        .anonymous(a -&gt; a.disable());\n    return http.build();\n  }\n</code></pre>\n<p>This is how the code will look when I use spring security 2.x . How to migrate the code below using spring 3.1.0?</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http\n                .authorizeRequests()\n                .antMatchers(HttpMethod.GET, &quot;/login&quot;, &quot;/home&quot;).permitAll()\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","java-8"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687453066,"post_id":76533959,"comment_id":134942360,"body_markdown":"It means your result (ie instanse of Optioanl class) is null. You would better check why your repository return null instead of empty Optional","body":"It means your result (ie instanse of Optioanl class) is null. You would better check why your repository return null instead of empty Optional"},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1687461585,"post_id":76533959,"comment_id":134944017,"body_markdown":"There was an issue with findById() method. Its behaviour was wired , it should have returned Optional.empty() but was returning null for some reason. Thank you @yahorbarkouski for your help.","body":"There was an issue with findById() method. Its behaviour was wired , it should have returned Optional.empty() but was returning null for some reason. Thank you @yahorbarkouski for your help."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687453432,"creation_date":1687453432,"answer_id":76534177,"question_id":76533959,"body_markdown":"Exception says `fooRepository.findById` returns null instead of empty Optional. It&#39;s not supposed, so I would suggest to check why it happens.\r\n\r\nAnyway, to deal with `result` equals to `null`, you could use\r\n\r\n    Optional.ofNullable(result).flatMap(Function.identity()).map(MyObject::getSpecificValue).orElse(null);","title":"Optimize optional flow Java 8+","body":"<p>Exception says <code>fooRepository.findById</code> returns null instead of empty Optional. It's not supposed, so I would suggest to check why it happens.</p>\n<p>Anyway, to deal with <code>result</code> equals to <code>null</code>, you could use</p>\n<pre><code>Optional.ofNullable(result).flatMap(Function.identity()).map(MyObject::getSpecificValue).orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687453459,"creation_date":1687453459,"answer_id":76534182,"question_id":76533959,"body_markdown":"I bet this indicates a problem with the `findById` method in `fooRepository` -  it shouldn&#39;t return null, but rather an `Optional.empty()` when no object is found with the given id, so you might need to check how `findById` is implemented.\r\n\r\nBut if for some specific reason, you don&#39;t have control over the `fooRepository` code and it can return null, you may use `Optional.ofNullable()` + `flatMap()` to get the desired result:\r\n```java\r\nOptional&lt;MyObject&gt; result = Optional.ofNullable(fooRepository.findById(Id));\r\nreturn result.flatMap(MyObject::getSpecificValue).orElse(null);\r\n```","title":"Optimize optional flow Java 8+","body":"<p>I bet this indicates a problem with the <code>findById</code> method in <code>fooRepository</code> -  it shouldn't return null, but rather an <code>Optional.empty()</code> when no object is found with the given id, so you might need to check how <code>findById</code> is implemented.</p>\n<p>But if for some specific reason, you don't have control over the <code>fooRepository</code> code and it can return null, you may use <code>Optional.ofNullable()</code> + <code>flatMap()</code> to get the desired result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;MyObject&gt; result = Optional.ofNullable(fooRepository.findById(Id));\nreturn result.flatMap(MyObject::getSpecificValue).orElse(null);\n</code></pre>\n"}],"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76534182,"answer_count":2,"score":1,"last_activity_date":1687453459,"creation_date":1687451817,"question_id":76533959,"body_markdown":"I am trying to optimize below code:- \r\n``` \r\nOptional&lt;MyObject&gt; result = fooRepository.findById(Id);\r\nif(result.isPresent()) {\r\n   return result.getSpecificValue();\r\n}else {\r\n   return null;\r\n}\r\n```\r\nI tried to convert this to:-\r\n```\r\nreturn result.map(MyObject::getSpecificValue).orElse(null);\r\n```\r\nBut somehow, after execution it thows NPE saying \r\n\r\n*Cannot invoke &quot;java.util.Optional.map(java.util.function.Function)&quot; because &quot;result&quot; is null*\r\n\r\nI spent a few hours figuring out to optimize it, I am not sure if I am doing something wrong.\r\nI would be really grateful for any help or any guiding pointers.\r\n\r\n","title":"Optimize optional flow Java 8+","body":"<p>I am trying to optimize below code:-</p>\n<pre><code>Optional&lt;MyObject&gt; result = fooRepository.findById(Id);\nif(result.isPresent()) {\n   return result.getSpecificValue();\n}else {\n   return null;\n}\n</code></pre>\n<p>I tried to convert this to:-</p>\n<pre><code>return result.map(MyObject::getSpecificValue).orElse(null);\n</code></pre>\n<p>But somehow, after execution it thows NPE saying</p>\n<p><em>Cannot invoke &quot;java.util.Optional.map(java.util.function.Function)&quot; because &quot;result&quot; is null</em></p>\n<p>I spent a few hours figuring out to optimize it, I am not sure if I am doing something wrong.\nI would be really grateful for any help or any guiding pointers.</p>\n"},{"tags":["java","tess4j","debug-mode","multiple-results"],"owner":{"account_id":4721847,"reputation":1,"user_id":3819496,"display_name":"Trantor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687451817,"creation_date":1687451817,"question_id":76533960,"body_markdown":"I am running Tesseract in Java 11.0.16 (Tess4j 5.7.0) for getting all words from an image.\r\nThe process uses no threads. If I run it on &#39;Run&#39; mode I get list of 174 words. If I run the exact same one with the same image in &#39;Debug&#39; mode with no breakpoints, I get a different list, now with 169 words.\r\nThe lists also differ in the skew angle detected for each mode. In &#39;Run&#39; mode the calculated angle is: 0.0842, and in &#39;Debug&#39; mode the angle value is: 0.0421\r\n\r\nThe &#39;Run&#39; mode list starts like this:\r\n```\r\nWord 01, x: 1398.00, y: 0266.00, x+w: 1410.00, y+h: 0284.00, text: 1\r\nWord 02, x: 0081.00, y: 0311.00, x+w: 0255.00, y+h: 0333.00, text: TERT\r\nWord 03, x: 0268.00, y: 0304.00, x+w: 0290.00, y+h: 0341.00, text: vo\r\nWord 04, x: 0302.00, y: 0312.00, x+w: 0346.00, y+h: 0334.00, text: LL\r\nWord 05, x: 0422.00, y: 0311.00, x+w: 0500.00, y+h: 0334.00, text: a\r\nWord 06, x: 0576.00, y: 0311.00, x+w: 0641.00, y+h: 0333.00, text: a\r\nWord 07, x: 0762.00, y: 0307.00, x+w: 0872.00, y+h: 0324.00, text: Ref\r\nWord 08, x: 0889.00, y: 0307.00, x+w: 0995.00, y+h: 0324.00, text: Number:\r\nWord 09, x: 1018.00, y: 0307.00, x+w: 1141.00, y+h: 0325.00, text: 3491159\r\nWord 10, x: 1271.00, y: 0308.00, x+w: 1381.00, y+h: 0329.00, text: Commp\r\nWord 11, x: 1396.00, y: 0307.00, x+w: 1502.00, y+h: 0325.00, text: Number:\r\n```\r\n\r\nAnd the &#39;Debug&#39; mode list starts like this:\r\n```\r\nWord 01, x: 1397.00, y: 0266.00, x+w: 1409.00, y+h: 0283.00, text: 1\r\nWord 02, x: 0080.00, y: 0310.00, x+w: 0234.00, y+h: 0328.00, text: SEE\r\nWord 03, x: 0268.00, y: 0300.00, x+w: 0289.00, y+h: 0336.00, text: Oo\r\nWord 04, x: 0302.00, y: 0300.00, x+w: 0348.00, y+h: 0336.00, text: Tone\r\nWord 05, x: 0364.00, y: 0310.00, x+w: 0430.00, y+h: 0332.00, text: SE\r\nWord 06, x: 0481.00, y: 0310.00, x+w: 0528.00, y+h: 0332.00, text: IE\r\nWord 07, x: 0556.00, y: 0310.00, x+w: 0640.00, y+h: 0332.00, text: ETE\r\nWord 08, x: 0761.00, y: 0306.00, x+w: 0871.00, y+h: 0323.00, text: Ref\r\nWord 09, x: 0888.00, y: 0306.00, x+w: 0994.00, y+h: 0323.00, text: Number:\r\nWord 10, x: 1017.00, y: 0306.00, x+w: 1140.00, y+h: 0324.00, text: 3491159\r\nWord 11, x: 1270.00, y: 0308.00, x+w: 1380.00, y+h: 0328.00, text: Commp\r\n```\r\n\r\nIf you see, the x, y coordinates also change.\r\n\r\nThe parameters values for PageIterator is 3 and PageSegMode is 6.\r\n\r\nHaving both different lists heavily impact on the final results, so this is quite undesired.\r\nAny idea how this is happening? Any suggestion about how to get the exact same lists under &#39;Debug&#39; and &#39;Run&#39; mode, since any other running conditions are the same?\r\n\r\nI have tried the same without de-skewing the images, or with different values for PageIterator and PageSegMode. Also, I placed a short sleep command, even though I am not using threads.\r\n\r\nThank you very much.\r\n\r\n","title":"Tesseract Tess4J giving different results whether running in debug or run mode","body":"<p>I am running Tesseract in Java 11.0.16 (Tess4j 5.7.0) for getting all words from an image.\nThe process uses no threads. If I run it on 'Run' mode I get list of 174 words. If I run the exact same one with the same image in 'Debug' mode with no breakpoints, I get a different list, now with 169 words.\nThe lists also differ in the skew angle detected for each mode. In 'Run' mode the calculated angle is: 0.0842, and in 'Debug' mode the angle value is: 0.0421</p>\n<p>The 'Run' mode list starts like this:</p>\n<pre><code>Word 01, x: 1398.00, y: 0266.00, x+w: 1410.00, y+h: 0284.00, text: 1\nWord 02, x: 0081.00, y: 0311.00, x+w: 0255.00, y+h: 0333.00, text: TERT\nWord 03, x: 0268.00, y: 0304.00, x+w: 0290.00, y+h: 0341.00, text: vo\nWord 04, x: 0302.00, y: 0312.00, x+w: 0346.00, y+h: 0334.00, text: LL\nWord 05, x: 0422.00, y: 0311.00, x+w: 0500.00, y+h: 0334.00, text: a\nWord 06, x: 0576.00, y: 0311.00, x+w: 0641.00, y+h: 0333.00, text: a\nWord 07, x: 0762.00, y: 0307.00, x+w: 0872.00, y+h: 0324.00, text: Ref\nWord 08, x: 0889.00, y: 0307.00, x+w: 0995.00, y+h: 0324.00, text: Number:\nWord 09, x: 1018.00, y: 0307.00, x+w: 1141.00, y+h: 0325.00, text: 3491159\nWord 10, x: 1271.00, y: 0308.00, x+w: 1381.00, y+h: 0329.00, text: Commp\nWord 11, x: 1396.00, y: 0307.00, x+w: 1502.00, y+h: 0325.00, text: Number:\n</code></pre>\n<p>And the 'Debug' mode list starts like this:</p>\n<pre><code>Word 01, x: 1397.00, y: 0266.00, x+w: 1409.00, y+h: 0283.00, text: 1\nWord 02, x: 0080.00, y: 0310.00, x+w: 0234.00, y+h: 0328.00, text: SEE\nWord 03, x: 0268.00, y: 0300.00, x+w: 0289.00, y+h: 0336.00, text: Oo\nWord 04, x: 0302.00, y: 0300.00, x+w: 0348.00, y+h: 0336.00, text: Tone\nWord 05, x: 0364.00, y: 0310.00, x+w: 0430.00, y+h: 0332.00, text: SE\nWord 06, x: 0481.00, y: 0310.00, x+w: 0528.00, y+h: 0332.00, text: IE\nWord 07, x: 0556.00, y: 0310.00, x+w: 0640.00, y+h: 0332.00, text: ETE\nWord 08, x: 0761.00, y: 0306.00, x+w: 0871.00, y+h: 0323.00, text: Ref\nWord 09, x: 0888.00, y: 0306.00, x+w: 0994.00, y+h: 0323.00, text: Number:\nWord 10, x: 1017.00, y: 0306.00, x+w: 1140.00, y+h: 0324.00, text: 3491159\nWord 11, x: 1270.00, y: 0308.00, x+w: 1380.00, y+h: 0328.00, text: Commp\n</code></pre>\n<p>If you see, the x, y coordinates also change.</p>\n<p>The parameters values for PageIterator is 3 and PageSegMode is 6.</p>\n<p>Having both different lists heavily impact on the final results, so this is quite undesired.\nAny idea how this is happening? Any suggestion about how to get the exact same lists under 'Debug' and 'Run' mode, since any other running conditions are the same?</p>\n<p>I have tried the same without de-skewing the images, or with different values for PageIterator and PageSegMode. Also, I placed a short sleep command, even though I am not using threads.</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","enums","sdk","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":3671605,"reputation":2418,"user_id":3058674,"accept_rate":80,"display_name":"Madura Pradeep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1460112699,"creation_date":1460112699,"answer_id":36497817,"question_id":36495898,"body_markdown":"I found the answer myself. I create a custom marshall like below.\r\n\r\n    public class TransportMarshaller implements DynamoDBMarshaller&lt;List&lt;Transport&gt;&gt; {\r\n\r\n    @Override\r\n    public String marshall(List&lt;Transport&gt; transports) {\r\n        List&lt;String&gt;transportMap=new ArrayList&lt;&gt;();\r\n        for(Transport transport:transports){\r\n            transportMap.add(transport.name());\r\n        }\r\n        return transportMap.toString().replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;);//Save as comma separate value for the purpose of easiness to unmarshall\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Transport&gt; unmarshall(Class&lt;List&lt;Transport&gt;&gt; aClass, String s) {\r\n        List&lt;String&gt;map= Arrays.asList(s.split(&quot;\\\\s*,\\\\s*&quot;)); //split from comma and parse to List\r\n        List&lt;Transport&gt;transports=new ArrayList&lt;&gt;();\r\n        for (String st:map){\r\n            transports.add(Transport.valueOf(st));\r\n        }\r\n        return transports;\r\n    }\r\n    }\r\n\r\n  ","title":"DynamoDB mapping List of Enum","body":"<p>I found the answer myself. I create a custom marshall like below.</p>\n\n<pre><code>public class TransportMarshaller implements DynamoDBMarshaller&lt;List&lt;Transport&gt;&gt; {\n\n@Override\npublic String marshall(List&lt;Transport&gt; transports) {\n    List&lt;String&gt;transportMap=new ArrayList&lt;&gt;();\n    for(Transport transport:transports){\n        transportMap.add(transport.name());\n    }\n    return transportMap.toString().replaceAll(\"\\\\[|\\\\]\", \"\");//Save as comma separate value for the purpose of easiness to unmarshall\n}\n\n@Override\npublic List&lt;Transport&gt; unmarshall(Class&lt;List&lt;Transport&gt;&gt; aClass, String s) {\n    List&lt;String&gt;map= Arrays.asList(s.split(\"\\\\s*,\\\\s*\")); //split from comma and parse to List\n    List&lt;Transport&gt;transports=new ArrayList&lt;&gt;();\n    for (String st:map){\n        transports.add(Transport.valueOf(st));\n    }\n    return transports;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3104535,"reputation":233,"user_id":2627749,"display_name":"shimiA"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1687451544,"creation_date":1489496415,"answer_id":42786725,"question_id":36495898,"body_markdown":"DynamoDBMarshaller is deprecated. \r\nUse DynamoDBTypeConverter instead.\r\n\r\nExample:\r\n\r\nEnum class\r\n\r\n    public static enum ValidationFailure {\r\n\t\tFRAUD, GENERAL_ERROR\r\n\t}\r\n\r\nDynamoDBTable class\r\n\r\n   \r\n\r\n     @DynamoDBTable(tableName = &quot;receipt&quot;)\r\n    public class Receipt {\r\n\t\r\n\t\tprivate Long id;\r\n\t\tprivate List&lt;ValidationFailure&gt; validation;\r\n\t\r\n\t\t@DynamoDBHashKey(attributeName = &quot;id&quot;)\r\n\t\tpublic Long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\t@DynamoDBTypeConverted(converter = ValidationConverter.class)\r\n\t\tpublic List&lt;ValidationFailure&gt; getValidation() {\r\n\t\t\treturn validation;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(Long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setValidation(List&lt;ValidationFailure&gt; validation) {\r\n\t\t\tthis.validation = validation;\r\n\t\t}\r\n    }\r\n    \r\n\r\nConverter:\r\n\r\n    public class ValidationConverter implements DynamoDBTypeConverter&lt;List&lt;String&gt;, List&lt;ValidationFailure&gt;&gt; {\r\n\r\n\t@Override\r\n\tpublic List&lt;String&gt; convert(List&lt;ValidationFailure&gt; object) {\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n\t\tif (object != null) {\r\n\t\t\tobject.stream().forEach(e -&gt; result.add(e.name()));\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;ValidationFailure&gt; unconvert(List&lt;String&gt; object) {\r\n\t\tList&lt;ValidationFailure&gt; result = new ArrayList&lt;ValidationFailure&gt;();\r\n\t\tif (object != null) {\r\n\t\t\tobject.stream().forEach(e -&gt; result.add(ValidationFailure.valueOf(e)));\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n    }","title":"DynamoDB mapping List of Enum","body":"<p>DynamoDBMarshaller is deprecated.\nUse DynamoDBTypeConverter instead.</p>\n<p>Example:</p>\n<p>Enum class</p>\n<pre><code>public static enum ValidationFailure {\n    FRAUD, GENERAL_ERROR\n}\n</code></pre>\n<p>DynamoDBTable class</p>\n<pre><code> @DynamoDBTable(tableName = &quot;receipt&quot;)\npublic class Receipt {\n\n    private Long id;\n    private List&lt;ValidationFailure&gt; validation;\n\n    @DynamoDBHashKey(attributeName = &quot;id&quot;)\n    public Long getId() {\n        return id;\n    }\n\n    @DynamoDBTypeConverted(converter = ValidationConverter.class)\n    public List&lt;ValidationFailure&gt; getValidation() {\n        return validation;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setValidation(List&lt;ValidationFailure&gt; validation) {\n        this.validation = validation;\n    }\n}\n</code></pre>\n<p>Converter:</p>\n<pre><code>public class ValidationConverter implements DynamoDBTypeConverter&lt;List&lt;String&gt;, List&lt;ValidationFailure&gt;&gt; {\n\n@Override\npublic List&lt;String&gt; convert(List&lt;ValidationFailure&gt; object) {\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    if (object != null) {\n        object.stream().forEach(e -&gt; result.add(e.name()));\n    }\n    return result;\n}\n\n@Override\npublic List&lt;ValidationFailure&gt; unconvert(List&lt;String&gt; object) {\n    List&lt;ValidationFailure&gt; result = new ArrayList&lt;ValidationFailure&gt;();\n    if (object != null) {\n        object.stream().forEach(e -&gt; result.add(ValidationFailure.valueOf(e)));\n    }\n    return result;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13903177,"reputation":61,"user_id":10038287,"display_name":"Viacheslav Petriaiev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544626549,"creation_date":1544626549,"answer_id":53745723,"question_id":36495898,"body_markdown":"It&#39;s working for me, I have used the Set\r\n\r\n    @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.SS)\r\n    var roles: MutableSet&lt;Employee.Role&gt;? = null\r\n\r\nI think the same approach would work for List with DynamoDBAttributeType.L","title":"DynamoDB mapping List of Enum","body":"<p>It's working for me, I have used the Set</p>\n\n<pre><code>@DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.SS)\nvar roles: MutableSet&lt;Employee.Role&gt;? = null\n</code></pre>\n\n<p>I think the same approach would work for List with DynamoDBAttributeType.L</p>\n"}],"owner":{"account_id":3671605,"reputation":2418,"user_id":3058674,"accept_rate":80,"display_name":"Madura Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8010,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36497817,"answer_count":3,"score":7,"last_activity_date":1687451544,"creation_date":1460107084,"question_id":36495898,"body_markdown":"Mapping an enum class in to DynamoDB object is really simple by using Custom Marshall. But how to map a List of Enum?\r\n\r\nEnum class\r\n\r\n    public enum Transport {\r\n    SMS,EMAIL,ALL;\r\n    }\r\n\r\nDynamoDB mapper\r\n\r\n    public class Campaign{\r\n       private List&lt;Transport&gt; transport;\r\n       \r\n       @DynamoDBAttribute(attributeName = &quot;transport&quot;)\r\n       public List&lt;Transport&gt; getTransport() {\r\n           return transport;\r\n       }\r\n\r\n       public void setTransport(List&lt;Transport&gt; transport) {\r\n          this.transport = transport;\r\n       }\r\n    }\r\n","title":"DynamoDB mapping List of Enum","body":"<p>Mapping an enum class in to DynamoDB object is really simple by using Custom Marshall. But how to map a List of Enum?</p>\n\n<p>Enum class</p>\n\n<pre><code>public enum Transport {\nSMS,EMAIL,ALL;\n}\n</code></pre>\n\n<p>DynamoDB mapper</p>\n\n<pre><code>public class Campaign{\n   private List&lt;Transport&gt; transport;\n\n   @DynamoDBAttribute(attributeName = \"transport\")\n   public List&lt;Transport&gt; getTransport() {\n       return transport;\n   }\n\n   public void setTransport(List&lt;Transport&gt; transport) {\n      this.transport = transport;\n   }\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-atlas"],"answers":[{"tags":[],"owner":{"account_id":17532494,"reputation":88,"user_id":12716256,"display_name":"Allen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610942835,"creation_date":1610942256,"answer_id":65768635,"question_id":65767870,"body_markdown":"    db.getCollection(&quot;yourCollection&quot;).find({&quot;message&quot;:&quot;Hello&quot;,&quot;status&quot;:{$nin:[1,2]}});\r\n\r\nIf you want to use `$in`, you can use it below... using &#39;$in&#39;\r\n\r\n    db.getCollection(&quot;yourCollection&quot;).find({&quot;message&quot;:&quot;Hello&quot;,&quot;status&quot;:{$in:[1,2]}});","title":"How number value Search in MongoDB Atlas work?","body":"<pre><code>db.getCollection(&quot;yourCollection&quot;).find({&quot;message&quot;:&quot;Hello&quot;,&quot;status&quot;:{$nin:[1,2]}});\n</code></pre>\n<p>If you want to use <code>$in</code>, you can use it below... using '$in'</p>\n<pre><code>db.getCollection(&quot;yourCollection&quot;).find({&quot;message&quot;:&quot;Hello&quot;,&quot;status&quot;:{$in:[1,2]}});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610942692,"creation_date":1610942692,"answer_id":65768686,"question_id":65767870,"body_markdown":"Somethin if you want to try with find\r\n\r\n    db.collection.find({\r\n      $and: [\r\n        {  message: &quot;Hello&quot; },\r\n        {  status: { $nin: [1,2]}\r\n        }\r\n      ]\r\n    })\r\n\r\n**Working [mongo playground][1]**\r\n\r\nIf you need to use `$search`, you can use array\r\n\r\n    $search: {\r\n    \tcompound:{\r\n    \t\tmust:[{\r\n    \t\t  text: {\r\n    \t\t\tquery: &#39;Hello&#39;,\r\n    \t\t\tpath: &#39;message&#39;\r\n    \t\t  }\r\n    \t\t}],\r\n    \t   \r\n    \t\tmustNot:[\r\n    \t\t  {\r\n    \t\t  text: {\r\n    \t\t\tquery: [1,2],\r\n    \t\t\tpath: &#39;status&#39;\r\n    \t\t  }\r\n    \t\t}\r\n    \t]\r\n      }\r\n    }\r\n\r\n  [1]: https://mongoplayground.net/p/QB5PNIUeKp-","title":"How number value Search in MongoDB Atlas work?","body":"<p>Somethin if you want to try with find</p>\n<pre><code>db.collection.find({\n  $and: [\n    {  message: &quot;Hello&quot; },\n    {  status: { $nin: [1,2]}\n    }\n  ]\n})\n</code></pre>\n<p><strong>Working <a href=\"https://mongoplayground.net/p/QB5PNIUeKp-\" rel=\"nofollow noreferrer\">mongo playground</a></strong></p>\n<p>If you need to use <code>$search</code>, you can use array</p>\n<pre><code>$search: {\n    compound:{\n        must:[{\n          text: {\n            query: 'Hello',\n            path: 'message'\n          }\n        }],\n       \n        mustNot:[\n          {\n          text: {\n            query: [1,2],\n            path: 'status'\n          }\n        }\n    ]\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14046966,"reputation":1743,"user_id":10146901,"display_name":"Firoj Siddiki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629810588,"creation_date":1629810588,"answer_id":68908201,"question_id":65767870,"body_markdown":"- Try this, check if it works\r\n```mql\r\ncompound:{\r\n    must:[{\r\n      text: {\r\n        query: &#39;Hello&#39;,\r\n        path: &#39;message&#39;\r\n      }\r\n    }],\r\n   \r\n    mustNot:[\r\n      {\r\n      text: {\r\n        query: 1,\r\n        path: &#39;status&#39;\r\n      }\r\n    },\r\n    {\r\n      text: {\r\n        query: 2,\r\n        path: &#39;status&#39;\r\n      }\r\n    },\r\n    {\r\n      regex: {\r\n        query: &quot;([1-2]{1})&quot;,\r\n        path: &quot;status&quot;,\r\n        allowAnalyzedField: true\r\n      }\r\n    } \r\n    ]\r\n  }\r\n```\r\n[doc][1]\r\n\r\n\r\n  [1]: https://docs.atlas.mongodb.com/reference/atlas-search/tutorial/run-query/","title":"How number value Search in MongoDB Atlas work?","body":"<ul>\n<li>Try this, check if it works</li>\n</ul>\n<pre><code>compound:{\n    must:[{\n      text: {\n        query: 'Hello',\n        path: 'message'\n      }\n    }],\n   \n    mustNot:[\n      {\n      text: {\n        query: 1,\n        path: 'status'\n      }\n    },\n    {\n      text: {\n        query: 2,\n        path: 'status'\n      }\n    },\n    {\n      regex: {\n        query: &quot;([1-2]{1})&quot;,\n        path: &quot;status&quot;,\n        allowAnalyzedField: true\n      }\n    } \n    ]\n  }\n</code></pre>\n<p><a href=\"https://docs.atlas.mongodb.com/reference/atlas-search/tutorial/run-query/\" rel=\"nofollow noreferrer\">doc</a></p>\n"},{"tags":[],"owner":{"account_id":1669565,"reputation":533,"user_id":1536289,"accept_rate":89,"display_name":"evolross"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687450850,"creation_date":1687450850,"answer_id":76533853,"question_id":65767870,"body_markdown":"We&#39;ve found that in MongoDB Search any search of a number value must use the [equals][1] operator on a per-field basis. It also takes a single `value` not an array of `value`. Your example would look something like this:\r\n```\r\nconst searchAggregation = {\r\n   index: &quot;some-search-index&quot;,\r\n   compound: {\r\n      text: {\r\n         query: &quot;Hello&quot;,\r\n         path: &quot;message&quot;\r\n      }\r\n      mustNot: [\r\n         {\r\n            equals: {\r\n               value: 1,\r\n               path: &quot;status&quot;\r\n            }\r\n         },\r\n         {\r\n            equals: {\r\n               value: 2,\r\n               path: &quot;status&quot;\r\n            }\r\n         }\r\n      ]\r\n   }\r\n};\r\n```\r\nIt has to be done this way because normal text queries don&#39;t work with numbers in Mongo Search (Lucene). They use `equals` operators. And `equals` operators only work on set fields, so they can&#39;t be done in a single `equals`, but they can be all added to a compound search.\r\n\r\nIn reality, in our searches, we do a base `text` search, but then also run a `parseInt()` on the `query` input that returns true if the entire `query` is an integer or if the first key in the query is an integer. If it&#39;s true, then we dynamically add the `equals` operators on our various fields passing the parsed integer as the query. We also use `should`:\r\n```\r\nconst parseIntQuery = parseInt(query);\r\nif(!isNaN(parseIntQuery)) {\r\n   //  Push the integer comparison for Number field &quot;order&quot;\r\n   searchAggregation.compound.should.push({\r\n      equals: {\r\n         value: parseIntQuery,\r\n         path: &quot;order&quot;\r\n      }\r\n   });\r\n\r\n   //  Push the integer comparison for Number field &quot;quantity&quot;\r\n   searchAggregation.compound.should.push({\r\n      equals: {\r\n         value: parseIntQuery,\r\n         path: &quot;quantity&quot;\r\n      }\r\n   });\r\n\r\n   //  Push the integer comparison for  Number field &quot;age&quot;\r\n   searchAggregation.compound.should.push({\r\n      equals: {\r\n         value: parseIntQuery,\r\n         path: &quot;age&quot;\r\n      }\r\n   });\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/atlas/atlas-search/equals/","title":"How number value Search in MongoDB Atlas work?","body":"<p>We've found that in MongoDB Search any search of a number value must use the <a href=\"https://www.mongodb.com/docs/atlas/atlas-search/equals/\" rel=\"nofollow noreferrer\">equals</a> operator on a per-field basis. It also takes a single <code>value</code> not an array of <code>value</code>. Your example would look something like this:</p>\n<pre><code>const searchAggregation = {\n   index: &quot;some-search-index&quot;,\n   compound: {\n      text: {\n         query: &quot;Hello&quot;,\n         path: &quot;message&quot;\n      }\n      mustNot: [\n         {\n            equals: {\n               value: 1,\n               path: &quot;status&quot;\n            }\n         },\n         {\n            equals: {\n               value: 2,\n               path: &quot;status&quot;\n            }\n         }\n      ]\n   }\n};\n</code></pre>\n<p>It has to be done this way because normal text queries don't work with numbers in Mongo Search (Lucene). They use <code>equals</code> operators. And <code>equals</code> operators only work on set fields, so they can't be done in a single <code>equals</code>, but they can be all added to a compound search.</p>\n<p>In reality, in our searches, we do a base <code>text</code> search, but then also run a <code>parseInt()</code> on the <code>query</code> input that returns true if the entire <code>query</code> is an integer or if the first key in the query is an integer. If it's true, then we dynamically add the <code>equals</code> operators on our various fields passing the parsed integer as the query. We also use <code>should</code>:</p>\n<pre><code>const parseIntQuery = parseInt(query);\nif(!isNaN(parseIntQuery)) {\n   //  Push the integer comparison for Number field &quot;order&quot;\n   searchAggregation.compound.should.push({\n      equals: {\n         value: parseIntQuery,\n         path: &quot;order&quot;\n      }\n   });\n\n   //  Push the integer comparison for Number field &quot;quantity&quot;\n   searchAggregation.compound.should.push({\n      equals: {\n         value: parseIntQuery,\n         path: &quot;quantity&quot;\n      }\n   });\n\n   //  Push the integer comparison for  Number field &quot;age&quot;\n   searchAggregation.compound.should.push({\n      equals: {\n         value: parseIntQuery,\n         path: &quot;age&quot;\n      }\n   });\n}\n</code></pre>\n"}],"owner":{"account_id":971372,"reputation":2847,"user_id":993892,"accept_rate":65,"display_name":"Isuru Gunawardana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1687450850,"creation_date":1610934784,"question_id":65767870,"body_markdown":"I&#39;m newbie to MongoDB Atlas. I want to execute a query as below,\r\n\r\nSample document:\r\n\r\n    {\r\n      message: &quot;Hello&quot;,\r\n      role: &quot;student&quot;,\r\n      status: 1\r\n    }\r\n\r\nQuery\r\n\r\n    search \r\n    WHERE \r\n    &#39;Hello&#39; in field &#39;message&#39; \r\n    NOT [1 OR 2] in field &#39;status&#39;\r\n\r\nI tried with `compound` and `search` as below, but couldn&#39;t get what I want.\r\n\r\n    compound:{\r\n        must:[{\r\n          text: {\r\n            query: &#39;Hello&#39;,\r\n            path: &#39;message&#39;\r\n          }\r\n        }],\r\n       \r\n        mustNot:[\r\n          {\r\n          text: {\r\n            query: 1,\r\n            path: &#39;status&#39;\r\n          }\r\n        },\r\n        {\r\n          text: {\r\n            query: 2,\r\n            path: &#39;status&#39;\r\n          }\r\n        }\r\n        ]\r\n      }\r\n\r\nThis returns an error saying,\r\n\r\n    &quot;Query&quot; must be a string (from &quot;compund.mustNot[2].text&quot;).\r\n\r\nAnd when I make those as String it doesn&#39;t return any values. I understand that I&#39;m using a text search here, but I couldn&#39;t find any other alternatives.\r\nIs it not possible to search int values in MongoDB Atlas?","title":"How number value Search in MongoDB Atlas work?","body":"<p>I'm newbie to MongoDB Atlas. I want to execute a query as below,</p>\n<p>Sample document:</p>\n<pre><code>{\n  message: &quot;Hello&quot;,\n  role: &quot;student&quot;,\n  status: 1\n}\n</code></pre>\n<p>Query</p>\n<pre><code>search \nWHERE \n'Hello' in field 'message' \nNOT [1 OR 2] in field 'status'\n</code></pre>\n<p>I tried with <code>compound</code> and <code>search</code> as below, but couldn't get what I want.</p>\n<pre><code>compound:{\n    must:[{\n      text: {\n        query: 'Hello',\n        path: 'message'\n      }\n    }],\n   \n    mustNot:[\n      {\n      text: {\n        query: 1,\n        path: 'status'\n      }\n    },\n    {\n      text: {\n        query: 2,\n        path: 'status'\n      }\n    }\n    ]\n  }\n</code></pre>\n<p>This returns an error saying,</p>\n<pre><code>&quot;Query&quot; must be a string (from &quot;compund.mustNot[2].text&quot;).\n</code></pre>\n<p>And when I make those as String it doesn't return any values. I understand that I'm using a text search here, but I couldn't find any other alternatives.\nIs it not possible to search int values in MongoDB Atlas?</p>\n"},{"tags":["java","cloudbees","sslcontext","sslserversocket"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687453791,"post_id":76533802,"comment_id":134942500,"body_markdown":"The issue is that you are enabling the cipher suites on an SSLSocket instance, but then you are not using this socket, so the settings on this socket do not automatically apply to the SSLContext or other sockets created by the same SSLSocketFactory","body":"The issue is that you are enabling the cipher suites on an SSLSocket instance, but then you are not using this socket, so the settings on this socket do not automatically apply to the SSLContext or other sockets created by the same SSLSocketFactory"},{"owner":{"account_id":25914244,"reputation":1,"user_id":19637867,"display_name":"user"},"score":0,"creation_date":1687514826,"post_id":76533802,"comment_id":134950925,"body_markdown":"But how do we set this SSLSocket instance after we set cipher to SSLContext?","body":"But how do we set this SSLSocket instance after we set cipher to SSLContext?"}],"owner":{"account_id":25914244,"reputation":1,"user_id":19637867,"display_name":"user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687450284,"creation_date":1687450284,"question_id":76533802,"body_markdown":"We are trying to set only those ciphers required for us in client hello , so trying to set ciphers in context object as shown in below code but our changes are not reflecting still client uses default ciphers only and it created sockets every time instead considering our specific setting, can you suggest ways to set ciphers to context and client should offer only those ciphers in request?\r\n  \r\n```\r\n {\r\n    TcpSyslogMessageSender messageSendertcp = new TcpSyslogMessageSender();\r\n    // Construct tcp Header\r\n    messageSendertcp.setSyslogServerHostname(syslogServerDetails.getHostName());\r\n    messageSendertcp.setSyslogServerPort(syslogServerDetails.getPort());\r\n    messageSendertcp.setMessageFormat(MessageFormat.RFC_5425);\r\n    messageSendertcp.setDefaultMessageHostname(this.getHostName());\r\n    messageSendertcp.setDefaultAppName(syslogMessage.getAppName());\r\n    messageSendertcp.setDefaultFacility(syslogMessage.getFacility());\r\n    messageSendertcp.setDefaultSeverity(syslogMessage.getSeverity());\r\n    messageSendertcp.setPostfix(&quot;&quot;);\r\n    SSLContext context = getSSLContext();\r\n    if (context != null) {\r\n\r\n        messageSendertcp.setSSLContext(context);\r\n        messageSendertcp.setSsl(true);\r\n        messageSendertcp.getSSLContext().setDefault(context);\r\n    }\r\n  }\r\n   public SSLContext getContext() {\r\n    String[] cipherSuites = Arrays.asList(&quot;Ciphers&quot;); // required Ciphers list\r\n    SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;, &quot;SunJSSE&quot;);\r\n    context.init(keyManagerFactory.getKeyManagers(), trustMgrFactory.getTrustManagers(),\r\n        SecureRandom.getInstance(&quot;DEFAULT&quot;, provider));\r\n    SSLSocketFactory socketFac = context.getSocketFactory();\r\n    SSLSocket sslSocket = (SSLSocket) socketFac.createSocket();\r\n    sslSocket.setEnabledCipherSuites(cipherSuites);\r\n    context.init(keyManagerFactory.getKeyManagers(), trustMgrFactory.getTrustManagers(),\r\n        SecureRandom.getInstance(&quot;DEFAULT&quot;, provider));\r\n   } \r\n\r\n```","title":"How to set user required ciphers to SSLContext asper syslog cloudbees client specific?","body":"<p>We are trying to set only those ciphers required for us in client hello , so trying to set ciphers in context object as shown in below code but our changes are not reflecting still client uses default ciphers only and it created sockets every time instead considering our specific setting, can you suggest ways to set ciphers to context and client should offer only those ciphers in request?</p>\n<pre><code> {\n    TcpSyslogMessageSender messageSendertcp = new TcpSyslogMessageSender();\n    // Construct tcp Header\n    messageSendertcp.setSyslogServerHostname(syslogServerDetails.getHostName());\n    messageSendertcp.setSyslogServerPort(syslogServerDetails.getPort());\n    messageSendertcp.setMessageFormat(MessageFormat.RFC_5425);\n    messageSendertcp.setDefaultMessageHostname(this.getHostName());\n    messageSendertcp.setDefaultAppName(syslogMessage.getAppName());\n    messageSendertcp.setDefaultFacility(syslogMessage.getFacility());\n    messageSendertcp.setDefaultSeverity(syslogMessage.getSeverity());\n    messageSendertcp.setPostfix(&quot;&quot;);\n    SSLContext context = getSSLContext();\n    if (context != null) {\n\n        messageSendertcp.setSSLContext(context);\n        messageSendertcp.setSsl(true);\n        messageSendertcp.getSSLContext().setDefault(context);\n    }\n  }\n   public SSLContext getContext() {\n    String[] cipherSuites = Arrays.asList(&quot;Ciphers&quot;); // required Ciphers list\n    SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;, &quot;SunJSSE&quot;);\n    context.init(keyManagerFactory.getKeyManagers(), trustMgrFactory.getTrustManagers(),\n        SecureRandom.getInstance(&quot;DEFAULT&quot;, provider));\n    SSLSocketFactory socketFac = context.getSocketFactory();\n    SSLSocket sslSocket = (SSLSocket) socketFac.createSocket();\n    sslSocket.setEnabledCipherSuites(cipherSuites);\n    context.init(keyManagerFactory.getKeyManagers(), trustMgrFactory.getTrustManagers(),\n        SecureRandom.getInstance(&quot;DEFAULT&quot;, provider));\n   } \n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687537218,"post_id":76533758,"comment_id":134955933,"body_markdown":"Sorry but you question is not clear what your real problem is... and please add your pom file ... JDK version, spring boot version etc. and what you like to achieve..","body":"Sorry but you question is not clear what your real problem is... and please add your pom file ... JDK version, spring boot version etc. and what you like to achieve.."}],"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687449963,"creation_date":1687449963,"question_id":76533758,"body_markdown":" 1. I have a fat jar which has a &quot;provided&quot; scoped maven dependency on a\r\n        particular jar. I&#39;ve ensured that this provided dependency is not\r\n        packaged with the fat jar and is supposed to be provided at the\r\n        runtime. Based on what I&#39;ve read, if this was not embedded tomcat, I\r\n        could provide any &quot;provided&quot; scoped jars by dumping them inside\r\n        tomcat/lib folder.\r\n\r\nIs there a way to replicate this with a fat jar\r\nrunning in embedded tomcat?\r\n\r\n","title":"Giving a provided scope dependency to a spring boot fat jar running embedded tomcat","body":"<ol>\n<li>I have a fat jar which has a &quot;provided&quot; scoped maven dependency on a\nparticular jar. I've ensured that this provided dependency is not\npackaged with the fat jar and is supposed to be provided at the\nruntime. Based on what I've read, if this was not embedded tomcat, I\ncould provide any &quot;provided&quot; scoped jars by dumping them inside\ntomcat/lib folder.</li>\n</ol>\n<p>Is there a way to replicate this with a fat jar\nrunning in embedded tomcat?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1687445229,"post_id":76533122,"comment_id":134940676,"body_markdown":"No. A thread can do only one thing at a time.","body":"No. A thread can do only one thing at a time."},{"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"score":0,"creation_date":1687445373,"post_id":76533122,"comment_id":134940722,"body_markdown":"Does timing-out out of the HTTP request early (like after 5 seconds) even help here?","body":"Does timing-out out of the HTTP request early (like after 5 seconds) even help here?"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1687445446,"post_id":76533122,"comment_id":134940739,"body_markdown":"you could use nonblocking http clients, including a built-in in java `HttpClient`, however they would use auxiliary thread under the hood","body":"you could use nonblocking http clients, including a built-in in java <code>HttpClient</code>, however they would use auxiliary thread under the hood"},{"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":3,"creation_date":1687445485,"post_id":76533122,"comment_id":134940748,"body_markdown":"@Jorn That&#39;s [only partially accurate](https://stackoverflow.com/questions/14177891/understanding-async-await-in-c-sharp). While threads are technically only doing one thing at a time, asynchronous programming allows threads to do other tasks while they&#39;re waiting for slow external processes (such as network calls).","body":"@Jorn That&#39;s <a href=\"https://stackoverflow.com/questions/14177891/understanding-async-await-in-c-sharp\">only partially accurate</a>. While threads are technically only doing one thing at a time, asynchronous programming allows threads to do other tasks while they&#39;re waiting for slow external processes (such as network calls)."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687446275,"post_id":76533122,"comment_id":134940942,"body_markdown":"@EJoshuaS I don&#39;t see how that&#39;s relevant to the question. You either block your main thread or you use a second thread.","body":"@EJoshuaS I don&#39;t see how that&#39;s relevant to the question. You either block your main thread or you use a second thread."},{"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1687446472,"post_id":76533122,"comment_id":134940988,"body_markdown":"@Jorn That&#39;s not true at all. Plenty of languages offer non-blocking I/O and network calls, which typically don&#39;t require the creation of additional threads. Please see the article I link to for an explanation of why C#&#39;s async calls don&#39;t require additional threads. Java admittedly doesn&#39;t appear to have particularly great support for this, but that&#39;s not an accurate statement in the general case.","body":"@Jorn That&#39;s not true at all. Plenty of languages offer non-blocking I/O and network calls, which typically don&#39;t require the creation of additional threads. Please see the article I link to for an explanation of why C#&#39;s async calls don&#39;t require additional threads. Java admittedly doesn&#39;t appear to have particularly great support for this, but that&#39;s not an accurate statement in the general case."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":3,"creation_date":1687446582,"post_id":76533122,"comment_id":134941014,"body_markdown":"*our main process is restricted to be single-threaded* Has anyone involved in coming up with that restriction ever counted the number of threads any instance of `java` has?  Adding one more to that isn&#39;t going to change much.","body":"<i>our main process is restricted to be single-threaded</i> Has anyone involved in coming up with that restriction ever counted the number of threads any instance of <code>java</code> has?  Adding one more to that isn&#39;t going to change much."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687447161,"post_id":76533122,"comment_id":134941150,"body_markdown":"Do you need GET or POST?","body":"Do you need GET or POST?"},{"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"score":0,"creation_date":1687447314,"post_id":76533122,"comment_id":134941185,"body_markdown":"@gdomo, we are POSTing some data but we don&#39;t care about the results.","body":"@gdomo, we are POSTing some data but we don&#39;t care about the results."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687447919,"post_id":76533122,"comment_id":134941351,"body_markdown":"@EJoshuaS If you are talking about Project Loom&#39;s Virtual Threads... I still say that&#39;s out of scope for this question. Don&#39;t make thing more difficult than they need to be. Even if you are right about what *can* be done, it doesn&#39;t help OP. As for non-blocking IO... there&#39;s always *something* that waits for it to complete. Whether that&#39;s a full thread, virtual thread, coroutine or something else doesn&#39;t really matter.","body":"@EJoshuaS If you are talking about Project Loom&#39;s Virtual Threads... I still say that&#39;s out of scope for this question. Don&#39;t make thing more difficult than they need to be. Even if you are right about what <i>can</i> be done, it doesn&#39;t help OP. As for non-blocking IO... there&#39;s always <i>something</i> that waits for it to complete. Whether that&#39;s a full thread, virtual thread, coroutine or something else doesn&#39;t really matter."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687449358,"creation_date":1687449358,"answer_id":76533688,"question_id":76533122,"body_markdown":"If you don&#39;t need an answer you could open connection and synchronously send your data without waiting for response. For example, with basic built-in java URLConnection:\r\n\r\n    HttpURLConnection urlConnection = (HttpURLConnection) new URL(urlString).openConnection();\r\n    urlConnection.setDoOutput(true);\r\n    urlConnection.setRequestMethod(&quot;POST&quot;);\r\n    urlConnection.setRequestProperty(&quot;Header-name&quot;, &quot;header value&quot;);\r\n    try (OutputStream os = urlConnection.getOutputStream()) {\r\n        os.write(&quot;any payload&quot;.getBytes());\r\n        os.flush();\r\n    }\r\n    try (InputStream ignored = urlConnection.getInputStream()) {\r\n    }\r\n    urlConnection.disconnect();\r\n\r\nIt wouldn&#39;t wait for response, however sending the data could also take a while. More information on URLConnection [here][1] and [there][2].\r\nAlso, be cautious, it&#39;s up to the server how it would handle premature connection close, which would happen if you don&#39;t wait for the answer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#connect%28%29\r\n  [2]: https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests","title":"Is Fire &amp; Forget (HTTP call) possible without using a separate thread?","body":"<p>If you don't need an answer you could open connection and synchronously send your data without waiting for response. For example, with basic built-in java URLConnection:</p>\n<pre><code>HttpURLConnection urlConnection = (HttpURLConnection) new URL(urlString).openConnection();\nurlConnection.setDoOutput(true);\nurlConnection.setRequestMethod(&quot;POST&quot;);\nurlConnection.setRequestProperty(&quot;Header-name&quot;, &quot;header value&quot;);\ntry (OutputStream os = urlConnection.getOutputStream()) {\n    os.write(&quot;any payload&quot;.getBytes());\n    os.flush();\n}\ntry (InputStream ignored = urlConnection.getInputStream()) {\n}\nurlConnection.disconnect();\n</code></pre>\n<p>It wouldn't wait for response, however sending the data could also take a while. More information on URLConnection <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#connect%28%29\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\">there</a>.\nAlso, be cautious, it's up to the server how it would handle premature connection close, which would happen if you don't wait for the answer.</p>\n"}],"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687449358,"creation_date":1687445181,"question_id":76533122,"body_markdown":"We are required to call an HTTP endpoint but our main process is restricted to be single-threaded (we are running multiple instances of the same process and we don&#39;t have enough resource on the machine).\r\n\r\nIs it possible to do a fire and forget to do it?\r\nOptions I always see (which I understand and appreciate) are `ExecutorService`, `@Async` or other approaches that essentially creates a new thread (or uses an existing one).\r\n\r\nIs this doable?","title":"Is Fire &amp; Forget (HTTP call) possible without using a separate thread?","body":"<p>We are required to call an HTTP endpoint but our main process is restricted to be single-threaded (we are running multiple instances of the same process and we don't have enough resource on the machine).</p>\n<p>Is it possible to do a fire and forget to do it?\nOptions I always see (which I understand and appreciate) are <code>ExecutorService</code>, <code>@Async</code> or other approaches that essentially creates a new thread (or uses an existing one).</p>\n<p>Is this doable?</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687448828,"creation_date":1687448828,"answer_id":76533629,"question_id":76532712,"body_markdown":"Your consumer is able to know its own lag, in relation to the end of the topic. This would be the best option since when lag == 0 (which may never happen if the topic is actively produced to), you can send some external event to trigger any downstream workflow.\r\n\r\n\r\nOtherwise, you will need to run tools like Burrow or Kafka-Exporter in Prometheus, then poll the API of those, on some interval to get lag (again, may never reach zero)","title":"How to detect if all consumer instances under a single group have consumed all Kafka messages from a particular topic?","body":"<p>Your consumer is able to know its own lag, in relation to the end of the topic. This would be the best option since when lag == 0 (which may never happen if the topic is actively produced to), you can send some external event to trigger any downstream workflow.</p>\n<p>Otherwise, you will need to run tools like Burrow or Kafka-Exporter in Prometheus, then poll the API of those, on some interval to get lag (again, may never reach zero)</p>\n"}],"owner":{"account_id":4255278,"reputation":905,"user_id":4219397,"accept_rate":53,"display_name":"Swarup Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687448828,"creation_date":1687442379,"question_id":76532712,"body_markdown":"I am currently working on de-bulking file feed (daily one time) into single messages and posting in Kafka topic. Consumers start processing as soon as the message is available. This is in Kubernetes environment in OCP.\r\n\r\nI need to perform a Job once all the consumer instances have finished consuming those messages in the Kafka Topic for that day.\r\n\r\nHow this can be captured in microservices built using Java?","title":"How to detect if all consumer instances under a single group have consumed all Kafka messages from a particular topic?","body":"<p>I am currently working on de-bulking file feed (daily one time) into single messages and posting in Kafka topic. Consumers start processing as soon as the message is available. This is in Kubernetes environment in OCP.</p>\n<p>I need to perform a Job once all the consumer instances have finished consuming those messages in the Kafka Topic for that day.</p>\n<p>How this can be captured in microservices built using Java?</p>\n"},{"tags":["java","spring-boot","jackson","deserialization","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672585205,"creation_date":1672584072,"answer_id":74975233,"question_id":74974924,"body_markdown":"This error occurs when we serialize a Java object or deserialize JSON to POJO. The POJO contains new Java 8+ date time classes such as LocalDate, LocalTime, LocalDateTime etc.&lt;br/&gt;\r\nSteps:\r\n\r\n 1. Add dependency\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n 2. Register the module `JavaTimeModule` either with ObjectMapper or JsonMapper\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(new JavaTimeModule());\r\n\r\n// If JsonMapper is used in application\r\nJsonMapper jsonMapper = new JsonMapper();\r\njsonMapper.registerModule(new JavaTimeModule());\r\n```\r\n\r\nHere you are using `Jackson2JsonRedisSerializer` in the bean. So you can create the ObjectMapper object and set the `JavaTimeModule`. After that register the ObjectMapper to the Jackson2JsonRedisSerializer object.\r\n```\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(new JavaTimeModule());\r\nobjectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\nobjectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\r\n\r\nJackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\r\njackson2JsonRedisSerializer.setObjectMapper(objectMapper);\r\n```\r\n\r\n","title":"How to deserialize java.time.Instant in Jackson2JsonRedisSerializer","body":"<p>This error occurs when we serialize a Java object or deserialize JSON to POJO. The POJO contains new Java 8+ date time classes such as LocalDate, LocalTime, LocalDateTime etc.<br/>\nSteps:</p>\n<ol>\n<li>Add dependency</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Register the module <code>JavaTimeModule</code> either with ObjectMapper or JsonMapper</li>\n</ol>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule());\n\n// If JsonMapper is used in application\nJsonMapper jsonMapper = new JsonMapper();\njsonMapper.registerModule(new JavaTimeModule());\n</code></pre>\n<p>Here you are using <code>Jackson2JsonRedisSerializer</code> in the bean. So you can create the ObjectMapper object and set the <code>JavaTimeModule</code>. After that register the ObjectMapper to the Jackson2JsonRedisSerializer object.</p>\n<pre><code>\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule());\nobjectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\nobjectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\n\nJackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\njackson2JsonRedisSerializer.setObjectMapper(objectMapper);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2654476,"reputation":11,"user_id":2295454,"display_name":"user2295454"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687448647,"creation_date":1687448647,"answer_id":76533603,"question_id":74974924,"body_markdown":"The setObjectMapper() method of Jackson2JsonRedisSerializer has been deprecated; just put the objectMapper in the constructor:\r\n\r\n    Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(objectMapper, Object.class);","title":"How to deserialize java.time.Instant in Jackson2JsonRedisSerializer","body":"<p>The setObjectMapper() method of Jackson2JsonRedisSerializer has been deprecated; just put the objectMapper in the constructor:</p>\n<pre><code>Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(objectMapper, Object.class);\n</code></pre>\n"}],"owner":{"account_id":26746321,"reputation":49,"user_id":20346340,"display_name":"Hamza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1086,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74975233,"answer_count":2,"score":2,"last_activity_date":1687448647,"creation_date":1672580262,"question_id":74974924,"body_markdown":"I am using Jackson2JsonRedisSerializer. \r\n\r\n```\r\n@Bean\r\n    public RedisOperations&lt;String , Aircraft&gt; redisOperations(RedisConnectionFactory factory){\r\n        Jackson2JsonRedisSerializer&lt;Aircraft&gt; serializer = new Jackson2JsonRedisSerializer&lt;Aircraft&gt;(Aircraft.class);\r\n        RedisTemplate&lt;String, Aircraft&gt; template = new RedisTemplate&lt;&gt;();\r\n        template.setConnectionFactory(factory);\r\n        template.setDefaultSerializer(serializer);\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        return template;\r\n    }\r\n\r\n```\r\n\r\nMy aircraft has field of type Instant. \r\n```\r\n    @JsonProperty(&quot;last_seen_time&quot;)\r\n    private Instant lastSeenTime;\r\n```\r\n\r\nWhile deserializing it gives me an error: \r\n```\r\nJava 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: com.example.chapter6.sburredis.Aircraft[&quot;last_seen_time&quot;])\r\n```\r\n\r\nI have already added the maven dependency in my pom.xml \r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n\r\nThe json file is as follows:\r\n```\r\n{\r\n  &quot;aircraft&quot;: [\r\n    {\r\n      &quot;id&quot;: 108,\r\n      &quot;callsign&quot;: &quot;AMF4263&quot;,\r\n      &quot;squawk&quot;: &quot;4136&quot;,\r\n      &quot;reg&quot;: &quot;N49UC&quot;,\r\n      &quot;flightno&quot;: &quot;&quot;,\r\n      &quot;route&quot;: &quot;LAN-DFW&quot;,\r\n      &quot;type&quot;: &quot;B190&quot;,\r\n      &quot;category&quot;: &quot;A1&quot;,\r\n      &quot;altitude&quot;: 20000,\r\n      &quot;heading&quot;: 235,\r\n      &quot;speed&quot;: 248,\r\n      &quot;lat&quot;: 38.865905,\r\n      &quot;lon&quot;: -90.429382,\r\n      &quot;barometer&quot;: 0,\r\n      &quot;vert_rate&quot;: 0,\r\n      &quot;selected_altitude&quot;: 0,\r\n      &quot;polar_distance&quot;: 12.99378,\r\n      &quot;polar_bearing&quot;: 345.393951,\r\n      &quot;is_adsb&quot;: true,\r\n      &quot;is_on_ground&quot;: false,\r\n      &quot;last_seen_time&quot;: 1672576769,\r\n      &quot;pos_update_time&quot;: 1672576769,\r\n      &quot;bds40_seen_time&quot;: null\r\n      }\r\n  ]\r\n}\r\n\r\n``` \r\n","title":"How to deserialize java.time.Instant in Jackson2JsonRedisSerializer","body":"<p>I am using Jackson2JsonRedisSerializer.</p>\n<pre><code>@Bean\n    public RedisOperations&lt;String , Aircraft&gt; redisOperations(RedisConnectionFactory factory){\n        Jackson2JsonRedisSerializer&lt;Aircraft&gt; serializer = new Jackson2JsonRedisSerializer&lt;Aircraft&gt;(Aircraft.class);\n        RedisTemplate&lt;String, Aircraft&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(factory);\n        template.setDefaultSerializer(serializer);\n        template.setKeySerializer(new StringRedisSerializer());\n        return template;\n    }\n\n</code></pre>\n<p>My aircraft has field of type Instant.</p>\n<pre><code>    @JsonProperty(&quot;last_seen_time&quot;)\n    private Instant lastSeenTime;\n</code></pre>\n<p>While deserializing it gives me an error:</p>\n<pre><code>Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: com.example.chapter6.sburredis.Aircraft[&quot;last_seen_time&quot;])\n</code></pre>\n<p>I have already added the maven dependency in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The json file is as follows:</p>\n<pre><code>{\n  &quot;aircraft&quot;: [\n    {\n      &quot;id&quot;: 108,\n      &quot;callsign&quot;: &quot;AMF4263&quot;,\n      &quot;squawk&quot;: &quot;4136&quot;,\n      &quot;reg&quot;: &quot;N49UC&quot;,\n      &quot;flightno&quot;: &quot;&quot;,\n      &quot;route&quot;: &quot;LAN-DFW&quot;,\n      &quot;type&quot;: &quot;B190&quot;,\n      &quot;category&quot;: &quot;A1&quot;,\n      &quot;altitude&quot;: 20000,\n      &quot;heading&quot;: 235,\n      &quot;speed&quot;: 248,\n      &quot;lat&quot;: 38.865905,\n      &quot;lon&quot;: -90.429382,\n      &quot;barometer&quot;: 0,\n      &quot;vert_rate&quot;: 0,\n      &quot;selected_altitude&quot;: 0,\n      &quot;polar_distance&quot;: 12.99378,\n      &quot;polar_bearing&quot;: 345.393951,\n      &quot;is_adsb&quot;: true,\n      &quot;is_on_ground&quot;: false,\n      &quot;last_seen_time&quot;: 1672576769,\n      &quot;pos_update_time&quot;: 1672576769,\n      &quot;bds40_seen_time&quot;: null\n      }\n  ]\n}\n\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687447820,"creation_date":1687447820,"answer_id":76533498,"question_id":76533306,"body_markdown":"Using `@JsonIgnore` is the issue here. As the name suggests, `@JsonIgnore` annotation ignores the corresponding field in serialisation. That means it will not be included in your response. This does not affect what you are doing in your `create` method. Therefore it gets printed successfully.\r\n\r\nRemoving `@JsonIgnore` will resolve this. To read more on `@JsonIgnore` - https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonignore.htm","title":"Test receives different ResponseEntity?","body":"<p>Using <code>@JsonIgnore</code> is the issue here. As the name suggests, <code>@JsonIgnore</code> annotation ignores the corresponding field in serialisation. That means it will not be included in your response. This does not affect what you are doing in your <code>create</code> method. Therefore it gets printed successfully.</p>\n<p>Removing <code>@JsonIgnore</code> will resolve this. To read more on <code>@JsonIgnore</code> - <a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonignore.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonignore.htm</a></p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687447820,"creation_date":1687446553,"question_id":76533306,"body_markdown":"I have a weird issue with a unit test and `ResponseEntity`. Here&#39;s the test:\r\n```\r\n@Test\r\n@DirtiesContext\r\npublic void createEntityTest() {\r\n    EntityRequestDTO requestDTO = new EntityRequestDTO();\r\n    dto.setTitle(&quot;foo&quot;);\r\n    dto.setDescription(&quot;bar&quot;);\r\n    ResponseEntity&lt;EntityResponseDTO&gt; postResponse = \r\n        testRestTemplate.postForEntity(&quot;/api/test&quot;, dto, EntityResponseDTO.class);\r\n    EntityResponseDTO responseDTO = postResponse.getBody();\r\n    \r\n    assertThat(responseDTO.getTitle()).isEqualTo(&quot;foo&quot;);\r\n    assertThat(responseDTO.getDescription()).isEqualTo(&quot;bar&quot;);\r\n    assertThat(responseDTO.getFullname()).isEqualTo(&quot;foobar&quot;);\r\n}\r\n```\r\n\r\nThe full name is set in the background by service. The issue is, this last assertion fails. `getFullname()` returns `null`. That may be because of several reasons, but, here&#39;s the controller endpoint:\r\n\r\n```\r\n@PostMapping(&quot;/api/test&quot;)\r\npublic ResponseEntity&lt;EntityResponseDTO&gt; create(@RequestBody EntityRequestDTO requestDTO) {\r\n    Entity saved = entityService.add(requestDTO);\r\n    EntityResponseDTO savedDto = new EntityResponseDTO(saved);\r\n    URI location = ServletUriComponentsBuilder\r\n                .fromCurrentRequest()\r\n                .path(&quot;/{id}&quot;)\r\n                .buildAndExpand(saved.getId())\r\n                .toUri();\r\n    ResponseEntity&lt;EntityResponseDTO&gt; resEntity = ResponseEntity.created(location).body(savedDto);\r\n    System.out.println(&quot;Before: ResponseEntity in controller.&quot;);\r\n    System.out.println(resEntity.getBody().getFullname());\r\n}\r\n```\r\nHowever here, just before returning the `ResponseEntity` the `System.out.println(resEntity.getBody().getFullname())` method prints `foobar`. I can&#39;t wrap my head around this. What is going on?\r\n\r\n**Note**: I have `@JsonIgnore` on the `fullname` field because I want it to be present, but not shown in the response. When removing annotation, test passes.","title":"Test receives different ResponseEntity?","body":"<p>I have a weird issue with a unit test and <code>ResponseEntity</code>. Here's the test:</p>\n<pre><code>@Test\n@DirtiesContext\npublic void createEntityTest() {\n    EntityRequestDTO requestDTO = new EntityRequestDTO();\n    dto.setTitle(&quot;foo&quot;);\n    dto.setDescription(&quot;bar&quot;);\n    ResponseEntity&lt;EntityResponseDTO&gt; postResponse = \n        testRestTemplate.postForEntity(&quot;/api/test&quot;, dto, EntityResponseDTO.class);\n    EntityResponseDTO responseDTO = postResponse.getBody();\n    \n    assertThat(responseDTO.getTitle()).isEqualTo(&quot;foo&quot;);\n    assertThat(responseDTO.getDescription()).isEqualTo(&quot;bar&quot;);\n    assertThat(responseDTO.getFullname()).isEqualTo(&quot;foobar&quot;);\n}\n</code></pre>\n<p>The full name is set in the background by service. The issue is, this last assertion fails. <code>getFullname()</code> returns <code>null</code>. That may be because of several reasons, but, here's the controller endpoint:</p>\n<pre><code>@PostMapping(&quot;/api/test&quot;)\npublic ResponseEntity&lt;EntityResponseDTO&gt; create(@RequestBody EntityRequestDTO requestDTO) {\n    Entity saved = entityService.add(requestDTO);\n    EntityResponseDTO savedDto = new EntityResponseDTO(saved);\n    URI location = ServletUriComponentsBuilder\n                .fromCurrentRequest()\n                .path(&quot;/{id}&quot;)\n                .buildAndExpand(saved.getId())\n                .toUri();\n    ResponseEntity&lt;EntityResponseDTO&gt; resEntity = ResponseEntity.created(location).body(savedDto);\n    System.out.println(&quot;Before: ResponseEntity in controller.&quot;);\n    System.out.println(resEntity.getBody().getFullname());\n}\n</code></pre>\n<p>However here, just before returning the <code>ResponseEntity</code> the <code>System.out.println(resEntity.getBody().getFullname())</code> method prints <code>foobar</code>. I can't wrap my head around this. What is going on?</p>\n<p><strong>Note</strong>: I have <code>@JsonIgnore</code> on the <code>fullname</code> field because I want it to be present, but not shown in the response. When removing annotation, test passes.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1687449180,"post_id":76533454,"comment_id":134941611,"body_markdown":"Re, &quot;...sub-threads...parent thread...&quot; Java does not keep track of which threads in a program created which other threads. Every thread belongs to a[`ThreadGroup`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html), and there is a parent/child relationship between thread _groups,_ but there is no such relationship between individual threads. If it is meaningful for your program to keep track of which thread created which other thread, then it is up to you to write the code for that.","body":"Re, &quot;...sub-threads...parent thread...&quot; Java does not keep track of which threads in a program created which other threads. Every thread belongs to a<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html\" rel=\"nofollow noreferrer\"><code>ThreadGroup</code></a>, and there is a parent/child relationship between thread <i>groups,</i> but there is no such relationship between individual threads. If it is meaningful for your program to keep track of which thread created which other thread, then it is up to you to write the code for that."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687450946,"post_id":76533454,"comment_id":134941986,"body_markdown":"BTW difference between `interrupted()` and `isInterrupted()` (despite first being `static` while second not): `interrupted()` clears the *interrupted status*, while `isInterrupted()` does not (the Thread continues being *interrupted*.) See [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#interrupted())","body":"BTW difference between <code>interrupted()</code> and <code>isInterrupted()</code> (despite first being <code>static</code> while second not): <code>interrupted()</code> clears the <i>interrupted status</i>, while <code>isInterrupted()</code> does not (the Thread continues being <i>interrupted</i>.) See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#interrupted()\" rel=\"nofollow noreferrer\">documentation</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1687452179,"post_id":76533454,"comment_id":134942182,"body_markdown":"Aside from main question, please note that `class ... extends Thread` is usually code smell. You can think of difference between Thread and Runnable as difference between Worker and Task it needs to do. Purpose of your class is most likely NOT to modify/specify *how* thread (worker) should work, but only *what* it should do (what task it needs to handle). So our default choice should be `class ... implements Runnable`.","body":"Aside from main question, please note that <code>class ... extends Thread</code> is usually code smell. You can think of difference between Thread and Runnable as difference between Worker and Task it needs to do. Purpose of your class is most likely NOT to modify/specify <i>how</i> thread (worker) should work, but only <i>what</i> it should do (what task it needs to handle). So our default choice should be <code>class ... implements Runnable</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1687452243,"post_id":76533454,"comment_id":134942190,"body_markdown":"You may also be interested in [Java: Difference in usage between Thread.interrupted() and Thread.isInterrupted()?](https://stackoverflow.com/q/1904072), and [&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java](https://stackoverflow.com/q/541487). And don&#39;t read *only* currently top/accepted answers. Often even better answers appear years later after question was asked so if you have time I encourage you to read also other answers.","body":"You may also be interested in <a href=\"https://stackoverflow.com/q/1904072\">Java: Difference in usage between Thread.interrupted() and Thread.isInterrupted()?</a>, and <a href=\"https://stackoverflow.com/q/541487\">&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java</a>. And don&#39;t read <i>only</i> currently top/accepted answers. Often even better answers appear years later after question was asked so if you have time I encourage you to read also other answers."}],"owner":{"account_id":27566231,"reputation":27,"user_id":21038368,"display_name":"wydra__"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687447598,"creation_date":1687447598,"question_id":76533454,"body_markdown":"\r\n    public class Letters extends Thread implements Iterable&lt;Thread&gt;\r\n    {\r\n        private String chars;\r\n    \r\n        private Thread[] threads;\r\n        int index = 0;\r\n    \r\n        public Letters(String chars)\r\n        {\r\n            this.chars = chars;\r\n            this.threads = new Thread[chars.length()];\r\n    \r\n            for (int i = 0; i &lt; threads.length; i++)\r\n            {\r\n                int finalI = i;\r\n                Thread thread = new Thread()\r\n                {\r\n                    @Override\r\n                    public void run()\r\n                    {\r\n                        while (!Letters.this.isInterrupted())\r\n                        {\r\n                            System.out.print(chars.charAt(finalI));\r\n                            try\r\n                            {\r\n                                Thread.sleep((int) (Math.random() * 2000));\r\n                            }\r\n                            catch (InterruptedException e)\r\n                            {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n    \r\n                threads[finalI] = thread;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void run()\r\n        {\r\n            for (Thread thread : threads)\r\n            {\r\n                thread.start();\r\n            }\r\n    \r\n            while (true)\r\n            {\r\n                if (this.isInterrupted())\r\n                    return;\r\n            }\r\n            \r\n        }\r\n    \r\n        Iterator&lt;Thread&gt; threadsIterator = new Iterator&lt;Thread&gt;()\r\n        {\r\n            @Override\r\n            public boolean hasNext()\r\n            {\r\n                return index &lt; threads.length;\r\n            }\r\n    \r\n            @Override\r\n            public Thread next()\r\n            {\r\n                return threads[index++];\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        public Iterator iterator()\r\n        {\r\n            return threadsIterator;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe Letters class object is created in main method and there is interrupted:                                    \r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Letters letters = new Letters(&quot;ABCD&quot;);\r\n\r\n        for (Thread t : letters)\r\n            System.out.println(t.getName() + &quot; starting&quot;);\r\n\r\n        letters.start();\r\n        try\r\n        {\r\n            Thread.sleep(5000);\r\n        }\r\n        catch(InterruptedException ignore)\r\n        {\r\n\r\n        }\r\n        letters.interrupt();\r\n        System.out.println(&quot;\\nProgram completed.&quot;);\r\n    }\r\nMy question is about this part:\r\n\r\n    @Override\r\n        public void run()\r\n        {\r\n            for (Thread thread : threads)\r\n            {\r\n                thread.start();\r\n            }\r\n    \r\n            while (true)\r\n            {\r\n                if (this.isInterrupted())\r\n                    return;\r\n            }\r\n            \r\n        }\r\n\r\nWhy if i use Thread.interrupted() instead of isInterrupted() it doesn&#39;t intterupt the parent threads that was started by this thread? In Java, how are sub-threads closed when the parent thread finishes its work?\r\n\r\n","title":"Java isInterrupted() and interrupted()","body":"<pre><code>public class Letters extends Thread implements Iterable&lt;Thread&gt;\n{\n    private String chars;\n\n    private Thread[] threads;\n    int index = 0;\n\n    public Letters(String chars)\n    {\n        this.chars = chars;\n        this.threads = new Thread[chars.length()];\n\n        for (int i = 0; i &lt; threads.length; i++)\n        {\n            int finalI = i;\n            Thread thread = new Thread()\n            {\n                @Override\n                public void run()\n                {\n                    while (!Letters.this.isInterrupted())\n                    {\n                        System.out.print(chars.charAt(finalI));\n                        try\n                        {\n                            Thread.sleep((int) (Math.random() * 2000));\n                        }\n                        catch (InterruptedException e)\n                        {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                }\n            };\n\n            threads[finalI] = thread;\n        }\n    }\n\n    @Override\n    public void run()\n    {\n        for (Thread thread : threads)\n        {\n            thread.start();\n        }\n\n        while (true)\n        {\n            if (this.isInterrupted())\n                return;\n        }\n        \n    }\n\n    Iterator&lt;Thread&gt; threadsIterator = new Iterator&lt;Thread&gt;()\n    {\n        @Override\n        public boolean hasNext()\n        {\n            return index &lt; threads.length;\n        }\n\n        @Override\n        public Thread next()\n        {\n            return threads[index++];\n        }\n    };\n\n    @Override\n    public Iterator iterator()\n    {\n        return threadsIterator;\n    }\n}\n</code></pre>\n<p>The Letters class object is created in main method and there is interrupted:</p>\n<pre><code>public static void main(String[] args)\n{\n    Letters letters = new Letters(&quot;ABCD&quot;);\n\n    for (Thread t : letters)\n        System.out.println(t.getName() + &quot; starting&quot;);\n\n    letters.start();\n    try\n    {\n        Thread.sleep(5000);\n    }\n    catch(InterruptedException ignore)\n    {\n\n    }\n    letters.interrupt();\n    System.out.println(&quot;\\nProgram completed.&quot;);\n}\n</code></pre>\n<p>My question is about this part:</p>\n<pre><code>@Override\n    public void run()\n    {\n        for (Thread thread : threads)\n        {\n            thread.start();\n        }\n\n        while (true)\n        {\n            if (this.isInterrupted())\n                return;\n        }\n        \n    }\n</code></pre>\n<p>Why if i use Thread.interrupted() instead of isInterrupted() it doesn't intterupt the parent threads that was started by this thread? In Java, how are sub-threads closed when the parent thread finishes its work?</p>\n"},{"tags":["java","opencv","intellij-idea","libraries","video-compression"],"answers":[{"tags":[],"owner":{"account_id":23948390,"reputation":11,"user_id":17940413,"display_name":"Lio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687447585,"creation_date":1687447585,"answer_id":76533452,"question_id":75117095,"body_markdown":"I am on openpnp 4.7.0-0 and had the same error.\r\n\r\nInstead of \r\n````\r\nnu.pattern.OpenCV.loadLocally();\r\nSystem.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\r\n````\r\nI used\r\n````\r\nnu.pattern.OpenCV.loadShared();\r\nSystem.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\r\n````\r\nAnd it solved it.\r\n\r\n","title":"OpenCV (packaged by OpenPnP) library not loading","body":"<p>I am on openpnp 4.7.0-0 and had the same error.</p>\n<p>Instead of</p>\n<pre><code>nu.pattern.OpenCV.loadLocally();\nSystem.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n<p>I used</p>\n<pre><code>nu.pattern.OpenCV.loadShared();\nSystem.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n<p>And it solved it.</p>\n"}],"owner":{"account_id":22647490,"reputation":21,"user_id":16822647,"display_name":"Ranveer Behl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687447585,"creation_date":1673690330,"question_id":75117095,"body_markdown":"I am trying to use OpenVC and encounter an erorr that says that it is not in java.library.path. I have followed the github page for this version of OpenCV (https://github.com/openpnp/opencv) but still the probelm persisits, I tried using maven but it would still not locate the file.\r\n\r\nI tried to use maven but the dependency would not work, I then used the inbuilt library system in IntelliJ but I am constantly getting this error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java460 in java.library.path: /Users/ranveerbehl/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2434)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:848)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:2015)\r\n\tat Main.main(Main.java:13)\r\n```\r\nI am trying to compress video files as my previous library (IVCompressor) just plain stopped working one day and after days of troubleshooting, I was not able to fix it. Here is the code I wrote for reference:\r\n\r\n```\r\npublic static void main(String[] args){\r\n\r\n        // Load the OpenCV library\r\n        nu.pattern.OpenCV.loadLocally();\r\n        System.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\r\n        // Define the input and output file paths\r\n        String inputFile = &quot;input.mov&quot;;\r\n        String outputFile = &quot;output.mov&quot;;\r\n\r\n        // Create a VideoCapture object to read the input video\r\n        VideoCapture capture = new VideoCapture(inputFile);\r\n\r\n        // Get the video frames per second\r\n        double fps = capture.get(Videoio.CAP_PROP_FPS);\r\n\r\n        // Get the video frame size\r\n        int frameWidth = (int) capture.get(Videoio.CAP_PROP_FRAME_WIDTH);\r\n        int frameHeight = (int) capture.get(Videoio.CAP_PROP_FRAME_HEIGHT);\r\n\r\n        // Create a VideoWriter object to write the output video\r\n        VideoWriter writer = new VideoWriter(outputFile, VideoWriter.fourcc(&#39;M&#39;, &#39;P&#39;, &#39;4&#39;, &#39;V&#39;), fps, new Size(frameWidth, frameHeight));\r\n\r\n        // Read and write the video frames\r\n        Mat frame = new Mat();\r\n        while (capture.read(frame)) {\r\n            writer.write(frame);\r\n        }\r\n\r\n        // Release the resources\r\n        capture.release();\r\n        writer.release();\r\n    }\r\n```\r\n\r\nAll imports are imported.\r\n\r\nI feel the main probelm lies in these two lines of code if not with the library installation itself:\r\n\r\n```\r\n// Load the OpenCV library\r\n        nu.pattern.OpenCV.loadLocally();\r\n        System.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\r\n```\r\n\r\nOpenCV version 4.6.0.\r\n\r\nThank you.","title":"OpenCV (packaged by OpenPnP) library not loading","body":"<p>I am trying to use OpenVC and encounter an erorr that says that it is not in java.library.path. I have followed the github page for this version of OpenCV (<a href=\"https://github.com/openpnp/opencv\" rel=\"nofollow noreferrer\">https://github.com/openpnp/opencv</a>) but still the probelm persisits, I tried using maven but it would still not locate the file.</p>\n<p>I tried to use maven but the dependency would not work, I then used the inbuilt library system in IntelliJ but I am constantly getting this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java460 in java.library.path: /Users/ranveerbehl/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2434)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:848)\n    at java.base/java.lang.System.loadLibrary(System.java:2015)\n    at Main.main(Main.java:13)\n</code></pre>\n<p>I am trying to compress video files as my previous library (IVCompressor) just plain stopped working one day and after days of troubleshooting, I was not able to fix it. Here is the code I wrote for reference:</p>\n<pre><code>public static void main(String[] args){\n\n        // Load the OpenCV library\n        nu.pattern.OpenCV.loadLocally();\n        System.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\n        // Define the input and output file paths\n        String inputFile = &quot;input.mov&quot;;\n        String outputFile = &quot;output.mov&quot;;\n\n        // Create a VideoCapture object to read the input video\n        VideoCapture capture = new VideoCapture(inputFile);\n\n        // Get the video frames per second\n        double fps = capture.get(Videoio.CAP_PROP_FPS);\n\n        // Get the video frame size\n        int frameWidth = (int) capture.get(Videoio.CAP_PROP_FRAME_WIDTH);\n        int frameHeight = (int) capture.get(Videoio.CAP_PROP_FRAME_HEIGHT);\n\n        // Create a VideoWriter object to write the output video\n        VideoWriter writer = new VideoWriter(outputFile, VideoWriter.fourcc('M', 'P', '4', 'V'), fps, new Size(frameWidth, frameHeight));\n\n        // Read and write the video frames\n        Mat frame = new Mat();\n        while (capture.read(frame)) {\n            writer.write(frame);\n        }\n\n        // Release the resources\n        capture.release();\n        writer.release();\n    }\n</code></pre>\n<p>All imports are imported.</p>\n<p>I feel the main probelm lies in these two lines of code if not with the library installation itself:</p>\n<pre><code>// Load the OpenCV library\n        nu.pattern.OpenCV.loadLocally();\n        System.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n<p>OpenCV version 4.6.0.</p>\n<p>Thank you.</p>\n"},{"tags":["java","jenkins-pipeline","allure"],"comments":[{"owner":{"account_id":6167064,"reputation":453,"user_id":4806592,"display_name":"Karan"},"score":1,"creation_date":1688116002,"post_id":76533435,"comment_id":135033552,"body_markdown":"issue is with JDK installation not with Allure Plugin. were you able to resolve this ?","body":"issue is with JDK installation not with Allure Plugin. were you able to resolve this ?"},{"owner":{"account_id":2162940,"reputation":125,"user_id":1916693,"accept_rate":50,"display_name":"user1916693"},"score":0,"creation_date":1689097802,"post_id":76533435,"comment_id":135164004,"body_markdown":"yes it is resolved","body":"yes it is resolved"}],"owner":{"account_id":2162940,"reputation":125,"user_id":1916693,"accept_rate":50,"display_name":"user1916693"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687447492,"creation_date":1687447492,"question_id":76533435,"body_markdown":"I have installed the latest Allure plugins in Jenkins server.\r\nThat specific code when it tries to generate allure report, it has thrown me the following error\r\n    \r\n\r\n&gt; \r\n\r\n    [Pipeline] { (Generate Report)\r\n    [Pipeline] script\r\n    [Pipeline] {\r\n    [Pipeline] allure\r\n    Unable to auto-install JDK until the license is accepted.\r\n    [Pipeline] }\r\n    [Pipeline] // script\r\n    [Pipeline] }\r\n    [Pipeline] // stage\r\n    [Pipeline] }\r\n    [Pipeline] // ws\r\n    [Pipeline] }\r\n    [Pipeline] // node\r\n    [Pipeline] End of Pipeline\r\n    java.lang.NullPointerException\r\n    \tat ru.yandex.qatools.allure.jenkins.AllureReportPublisherDescriptor.getCommandlineInstallation(AllureReportPublisherDescriptor.java:112)\r\n    \tat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.getCommandline(AllureReportPublisher.java:346)\r\n    \tat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.generateReport(AllureReportPublisher.java:303)\r\n    \tat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.perform(AllureReportPublisher.java:231)\r\n    \tat jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\r\n    \tat org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:101)\r\n    \tat org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:71)\r\n    \tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Finished: FAILURE","title":"Allure Jenkins plugin giving error while generating report","body":"<p>I have installed the latest Allure plugins in Jenkins server.\nThat specific code when it tries to generate allure report, it has thrown me the following error</p>\n<blockquote>\n</blockquote>\n<pre><code>[Pipeline] { (Generate Report)\n[Pipeline] script\n[Pipeline] {\n[Pipeline] allure\nUnable to auto-install JDK until the license is accepted.\n[Pipeline] }\n[Pipeline] // script\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] }\n[Pipeline] // ws\n[Pipeline] }\n[Pipeline] // node\n[Pipeline] End of Pipeline\njava.lang.NullPointerException\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisherDescriptor.getCommandlineInstallation(AllureReportPublisherDescriptor.java:112)\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisher.getCommandline(AllureReportPublisher.java:346)\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisher.generateReport(AllureReportPublisher.java:303)\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisher.perform(AllureReportPublisher.java:231)\n    at jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\n    at org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:101)\n    at org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:71)\n    at org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nFinished: FAILURE\n</code></pre>\n"},{"tags":["java","android","kotlin","service","android-service"],"comments":[{"owner":{"account_id":17020425,"reputation":4743,"user_id":12313157,"display_name":"Xid"},"score":0,"creation_date":1616340841,"post_id":66728240,"comment_id":117965705,"body_markdown":"This is an issue with many devices. Have a look at this [site](https://dontkillmyapp.com/).","body":"This is an issue with many devices. Have a look at this <a href=\"https://dontkillmyapp.com/\" rel=\"nofollow noreferrer\">site</a>."},{"owner":{"account_id":2861564,"reputation":10611,"user_id":2456721,"accept_rate":81,"display_name":"Victor Castillo Torres"},"score":1,"creation_date":1616351707,"post_id":66728240,"comment_id":117968957,"body_markdown":"@KeyserS&#246;ze The users use another app, that has another service location and the other one never gets killed, only my app","body":"@KeyserS&#246;ze The users use another app, that has another service location and the other one never gets killed, only my app"}],"answers":[{"tags":[],"owner":{"account_id":2149059,"reputation":3106,"user_id":1905965,"display_name":"Amin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1616293978,"creation_date":1616293978,"answer_id":66728324,"question_id":66728240,"body_markdown":"There are a couple of things here. I cannot see `&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;` in your manifest. Also make sure about `foregroundServiceType=&quot;location&quot;` in your service attributes inside manifest. In addition, if you have a foreground service for location, `ACCESS_BACKGROUND_LOCATION` is not required.\r\nOn the other hand, Xiaomi devices will kill foreground services when user closes the application from app switcher (Xiaomi is the worst) and you should ask Xiaomi users to manually exclude your application from being killed in battery saver or extra permissions in app details (and even if they do that, still there won&#39;t be a guarantee, also different MiUI versions have different rules)\r\nMoreover, star your service using `ContextCompat.startForegroundService` and in your service&#39;s onStartCommand call`startForeground` ","title":"Foreground service getting killed","body":"<p>There are a couple of things here. I cannot see <code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;</code> in your manifest. Also make sure about <code>foregroundServiceType=&quot;location&quot;</code> in your service attributes inside manifest. In addition, if you have a foreground service for location, <code>ACCESS_BACKGROUND_LOCATION</code> is not required.\nOn the other hand, Xiaomi devices will kill foreground services when user closes the application from app switcher (Xiaomi is the worst) and you should ask Xiaomi users to manually exclude your application from being killed in battery saver or extra permissions in app details (and even if they do that, still there won't be a guarantee, also different MiUI versions have different rules)\nMoreover, star your service using <code>ContextCompat.startForegroundService</code> and in your service's onStartCommand call<code>startForeground</code></p>\n"},{"tags":[],"owner":{"account_id":12359904,"reputation":202,"user_id":9014504,"display_name":"Asif A. Sohan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616294829,"creation_date":1616294829,"answer_id":66728381,"question_id":66728240,"body_markdown":"There have been several latest restrictions with Android 11. It&#39;s difficult to provide an exact solution. Here is couple of things you should recheck that might resolve your problem:\r\n\r\n - Disable **battery optimization** for your app in the device.\r\n - Check if the device is not operating in **doze mode**.\r\n - Specify **android:foregroundServiceType** in manifest .\r\n\r\n\r\n\r\n  ","title":"Foreground service getting killed","body":"<p>There have been several latest restrictions with Android 11. It's difficult to provide an exact solution. Here is couple of things you should recheck that might resolve your problem:</p>\n<ul>\n<li>Disable <strong>battery optimization</strong> for your app in the device.</li>\n<li>Check if the device is not operating in <strong>doze mode</strong>.</li>\n<li>Specify <strong>android:foregroundServiceType</strong> in manifest .</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13821428,"reputation":289,"user_id":9976764,"display_name":"Rakesh Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687446718,"creation_date":1687446153,"answer_id":76533247,"question_id":66728240,"body_markdown":"To Resolve this issue kindly check following code.\r\n\r\n1) Create method in onCreate() - checkBatteryOptimization()\r\n2) On checkBatteryOptimization() method implement the given code.\r\n       \r\n\r\n       boolean isBatteryOptimized = false;\r\n       if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            Intent intent = new Intent();\r\n            String packageName = getActivity().getPackageName();\r\n            PowerManager pm = (PowerManager) getActivity().getSystemService(POWER_SERVICE);\r\n            if (!pm.isIgnoringBatteryOptimizations(packageName)) {\r\n                intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\r\n                intent.setData(Uri.parse(&quot;package:&quot; + packageName));\r\n                startActivity(intent);\r\n            } else {\r\n                isBatteryOptimized = pm.isIgnoringBatteryOptimizations(packageName);\r\n                Log.e(&quot;hello battery optimize &quot;,&quot;&quot;+pm.isIgnoringBatteryOptimizations(packageName));\r\n            }\r\n\r\n","title":"Foreground service getting killed","body":"<p>To Resolve this issue kindly check following code.</p>\n<ol>\n<li><p>Create method in onCreate() - checkBatteryOptimization()</p>\n</li>\n<li><p>On checkBatteryOptimization() method implement the given code.</p>\n<pre><code>boolean isBatteryOptimized = false;\nif(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n     Intent intent = new Intent();\n     String packageName = getActivity().getPackageName();\n     PowerManager pm = (PowerManager) getActivity().getSystemService(POWER_SERVICE);\n     if (!pm.isIgnoringBatteryOptimizations(packageName)) {\n         intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\n         intent.setData(Uri.parse(&quot;package:&quot; + packageName));\n         startActivity(intent);\n     } else {\n         isBatteryOptimized = pm.isIgnoringBatteryOptimizations(packageName);\n         Log.e(&quot;hello battery optimize &quot;,&quot;&quot;+pm.isIgnoringBatteryOptimizations(packageName));\n     }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2861564,"reputation":10611,"user_id":2456721,"accept_rate":81,"display_name":"Victor Castillo Torres"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2303,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66728324,"answer_count":3,"score":4,"last_activity_date":1687446718,"creation_date":1616292806,"question_id":66728240,"body_markdown":"I have a service, that updates my backend from time to time, with the newest location of the user, the problem is, some users are reporting that the Foreground notification sometimes disappears, but it doesn&#39;t happen to all the users, there might be users using the app 8 hours a day, and it doesn&#39;t disappear, but no crash appears on Crashlytics.\r\n\r\n\r\nHere is my ServiceClass\r\n\r\n```\r\npackage com.xxxxxxx.xxxxxxxx.service\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.app.Notification\r\nimport android.app.Notification.FLAG_NO_CLEAR\r\nimport android.app.Notification.FLAG_ONGOING_EVENT\r\nimport android.app.NotificationChannel\r\nimport android.app.NotificationManager\r\nimport android.app.PendingIntent\r\nimport android.app.PendingIntent.FLAG_UPDATE_CURRENT\r\nimport android.app.Service\r\nimport android.content.Intent\r\nimport android.content.Intent.FLAG_ACTIVITY_CLEAR_TOP\r\nimport android.content.Intent.FLAG_ACTIVITY_SINGLE_TOP\r\nimport android.graphics.Color\r\nimport android.location.Location\r\nimport android.os.Build.VERSION.SDK_INT\r\nimport android.os.Build.VERSION_CODES.O\r\nimport android.os.IBinder\r\nimport android.util.Base64\r\nimport android.util.Base64.DEFAULT\r\nimport androidx.annotation.RequiresApi\r\nimport androidx.core.app.NotificationCompat\r\nimport androidx.core.content.ContextCompat\r\nimport com.google.android.gms.location.LocationCallback\r\nimport com.google.android.gms.location.LocationRequest\r\nimport com.google.android.gms.location.LocationResult\r\nimport com.google.android.gms.location.LocationServices\r\nimport com.google.android.gms.maps.model.LatLng\r\nimport com.xxxx.commons.XXXXXXCommons\r\nimport com.xxxxxxx.xxxxxxxx.R\r\nimport com.xxxxxxx.xxxxxxxx.di.DataSourceModule\r\nimport com.xxxxxxx.xxxxxxxx.domain.GetAppStateUseCase.Companion.LOCATION_DELIMITER\r\nimport com.xxxxxxx.xxxxxxxx.model.local.CachedLocation\r\nimport com.xxxxxxx.xxxxxxxx.model.local.DriverLocation\r\nimport com.xxxxxxx.xxxxxxxx.utils.LOCATION_PERMISSIONS\r\nimport com.xxxxxxx.xxxxxxxx.utils.OnGoingTrip\r\nimport com.xxxxxxx.xxxxxxxx.utils.checkPermissions\r\nimport com.xxxxxxx.xxxxxxxx.view.activity.SplashActivity\r\nimport kotlinx.coroutines.CoroutineExceptionHandler\r\nimport kotlinx.coroutines.CoroutineScope\r\nimport kotlinx.coroutines.Dispatchers\r\nimport kotlinx.coroutines.Job\r\nimport kotlinx.coroutines.cancel\r\nimport kotlinx.coroutines.isActive\r\nimport kotlinx.coroutines.launch\r\nimport kotlin.text.Charsets.UTF_8\r\n\r\nclass LocationTrackingService : Service() {\r\n\r\n    private companion object {\r\n        const val NOTIFICATION_ID = 856\r\n        const val FOREGROUND_SERVICE_ID = 529\r\n        const val LOCATION_UPDATE_INTERVAL = 10000L\r\n        const val LOCATION_UPDATE_FASTEST_INTERVAL = 5000L\r\n    }\r\n\r\n    private val updateJob: Job = Job()\r\n    private val errorHandler = CoroutineExceptionHandler { _, throwable -&gt;\r\n        XXXXXXCommons.crashHandler?.log(throwable)\r\n    }\r\n    private val locationTrackingCoroutineScope =\r\n        CoroutineScope(Dispatchers.IO + updateJob + errorHandler)\r\n\r\n    private val rideApiService by lazy { DataSourceModule.provideRideApiService() }\r\n    private val locationDao by lazy { DataSourceModule.provideLocationDao(XXXXXXCommons.provideApplicationContext()) }\r\n\r\n    private val locationRequest = LocationRequest().apply {\r\n        interval = LOCATION_UPDATE_INTERVAL\r\n        fastestInterval = LOCATION_UPDATE_FASTEST_INTERVAL\r\n        priority = LocationRequest.PRIORITY_HIGH_ACCURACY\r\n    }\r\n\r\n    private val callback = object : LocationCallback() {\r\n        override fun onLocationResult(result: LocationResult?) = onLocationReceived(result)\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private fun requestLocationUpdates() {\r\n        if (checkPermissions(*LOCATION_PERMISSIONS)) {\r\n            LocationServices.getFusedLocationProviderClient(this)\r\n                .requestLocationUpdates(locationRequest, callback, null)\r\n        }\r\n    }\r\n\r\n    private fun onLocationReceived(result: LocationResult?) = result?.lastLocation?.run {\r\n        postDriverLocation(this)\r\n    } ?: Unit\r\n\r\n    private fun postDriverLocation(location: Location) {\r\n        val driverLocation = DriverLocation(\r\n            location.latitude.toFloat(),\r\n            location.longitude.toFloat(),\r\n            location.bearing,\r\n            OnGoingTrip.rideData.rideId,\r\n            OnGoingTrip.orderData.orderId\r\n        )\r\n        OnGoingTrip.currentLocation = LatLng(location.latitude, location.longitude)\r\n        OnGoingTrip.reportLocationUpdate()\r\n        locationTrackingCoroutineScope.launch(Dispatchers.IO) {\r\n            cacheDriverLocation(driverLocation)\r\n            rideApiService.postCurrentDriverLocation(driverLocation)\r\n        }\r\n    }\r\n\r\n    private suspend fun cacheDriverLocation(driverLocation: DriverLocation) {\r\n        val bytes = &quot;${driverLocation.latitude}$LOCATION_DELIMITER${driverLocation.longitude}&quot;\r\n            .toByteArray(UTF_8)\r\n        val safeLocation = Base64.encode(bytes, DEFAULT).toString(UTF_8)\r\n        locationDao.createOrUpdate(CachedLocation(location = safeLocation))\r\n    }\r\n\r\n    override fun onBind(intent: Intent): IBinder? = null\r\n\r\n    override fun onCreate() {\r\n        super.onCreate()\r\n        buildNotification(\r\n            if (SDK_INT &gt;= O) {\r\n                createNotificationChannel(getString(R.string.app_name))\r\n            } else {\r\n                NOTIFICATION_ID.toString()\r\n            }\r\n        )\r\n        requestLocationUpdates()\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        if (locationTrackingCoroutineScope.isActive) {\r\n            locationTrackingCoroutineScope.cancel()\r\n        }\r\n        LocationServices.getFusedLocationProviderClient(this).removeLocationUpdates(callback)\r\n        (getSystemService(NOTIFICATION_SERVICE) as? NotificationManager)?.cancel(NOTIFICATION_ID)\r\n    }\r\n\r\n    @RequiresApi(O)\r\n    private fun createNotificationChannel(channelName: String): String {\r\n        val chan = NotificationChannel(\r\n            NOTIFICATION_ID.toString(),\r\n            channelName,\r\n            NotificationManager.IMPORTANCE_NONE\r\n        )\r\n        chan.lightColor = Color.CYAN\r\n        chan.lockscreenVisibility = Notification.VISIBILITY_PRIVATE\r\n        val service = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\r\n        service.createNotificationChannel(chan)\r\n        return NOTIFICATION_ID.toString()\r\n    }\r\n\r\n    private fun buildNotification(channelId: String) {\r\n        val ctx = this\r\n        (getSystemService(NOTIFICATION_SERVICE) as? NotificationManager)?.run {\r\n            val intent = Intent(ctx, SplashActivity::class.java).apply {\r\n                flags = FLAG_ACTIVITY_CLEAR_TOP or FLAG_ACTIVITY_SINGLE_TOP\r\n            }\r\n            val resultPendingIntent =\r\n                PendingIntent.getActivity(ctx, 0, intent, FLAG_UPDATE_CURRENT)\r\n            val notification = NotificationCompat.Builder(ctx, channelId)\r\n                .setSmallIcon(R.drawable.ic_xxxxxx_icon_background)\r\n                .setColor(ContextCompat.getColor(ctx, R.color.xxxxxxTurquoise))\r\n                .setContentTitle(ctx.getString(R.string.app_name))\r\n                .setOngoing(true)\r\n                .setContentText(ctx.getString(R.string.usage_message))\r\n                .setContentIntent(resultPendingIntent)\r\n                .build().apply { flags = FLAG_ONGOING_EVENT or FLAG_NO_CLEAR }\r\n            startForeground(FOREGROUND_SERVICE_ID, notification)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is how I start the service:\r\n\r\n```\r\nstartService(Intent(this, LocationTrackingService::class.java));\r\n```\r\n\r\nHere are the permissions I have and how I declared it on the AndroidManifest.xml:\r\n\r\n\r\n```\r\n&lt;service\r\n            android:name=&quot;.service.LocationTrackingService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n```\r\n**Edit**\r\n\r\nMost of the devices run Android 9 and 10, a few from 5 to 8, and almost no 11\r\n\r\nMore information I would be happy to share.","title":"Foreground service getting killed","body":"<p>I have a service, that updates my backend from time to time, with the newest location of the user, the problem is, some users are reporting that the Foreground notification sometimes disappears, but it doesn't happen to all the users, there might be users using the app 8 hours a day, and it doesn't disappear, but no crash appears on Crashlytics.</p>\n<p>Here is my ServiceClass</p>\n<pre><code>package com.xxxxxxx.xxxxxxxx.service\n\nimport android.annotation.SuppressLint\nimport android.app.Notification\nimport android.app.Notification.FLAG_NO_CLEAR\nimport android.app.Notification.FLAG_ONGOING_EVENT\nimport android.app.NotificationChannel\nimport android.app.NotificationManager\nimport android.app.PendingIntent\nimport android.app.PendingIntent.FLAG_UPDATE_CURRENT\nimport android.app.Service\nimport android.content.Intent\nimport android.content.Intent.FLAG_ACTIVITY_CLEAR_TOP\nimport android.content.Intent.FLAG_ACTIVITY_SINGLE_TOP\nimport android.graphics.Color\nimport android.location.Location\nimport android.os.Build.VERSION.SDK_INT\nimport android.os.Build.VERSION_CODES.O\nimport android.os.IBinder\nimport android.util.Base64\nimport android.util.Base64.DEFAULT\nimport androidx.annotation.RequiresApi\nimport androidx.core.app.NotificationCompat\nimport androidx.core.content.ContextCompat\nimport com.google.android.gms.location.LocationCallback\nimport com.google.android.gms.location.LocationRequest\nimport com.google.android.gms.location.LocationResult\nimport com.google.android.gms.location.LocationServices\nimport com.google.android.gms.maps.model.LatLng\nimport com.xxxx.commons.XXXXXXCommons\nimport com.xxxxxxx.xxxxxxxx.R\nimport com.xxxxxxx.xxxxxxxx.di.DataSourceModule\nimport com.xxxxxxx.xxxxxxxx.domain.GetAppStateUseCase.Companion.LOCATION_DELIMITER\nimport com.xxxxxxx.xxxxxxxx.model.local.CachedLocation\nimport com.xxxxxxx.xxxxxxxx.model.local.DriverLocation\nimport com.xxxxxxx.xxxxxxxx.utils.LOCATION_PERMISSIONS\nimport com.xxxxxxx.xxxxxxxx.utils.OnGoingTrip\nimport com.xxxxxxx.xxxxxxxx.utils.checkPermissions\nimport com.xxxxxxx.xxxxxxxx.view.activity.SplashActivity\nimport kotlinx.coroutines.CoroutineExceptionHandler\nimport kotlinx.coroutines.CoroutineScope\nimport kotlinx.coroutines.Dispatchers\nimport kotlinx.coroutines.Job\nimport kotlinx.coroutines.cancel\nimport kotlinx.coroutines.isActive\nimport kotlinx.coroutines.launch\nimport kotlin.text.Charsets.UTF_8\n\nclass LocationTrackingService : Service() {\n\n    private companion object {\n        const val NOTIFICATION_ID = 856\n        const val FOREGROUND_SERVICE_ID = 529\n        const val LOCATION_UPDATE_INTERVAL = 10000L\n        const val LOCATION_UPDATE_FASTEST_INTERVAL = 5000L\n    }\n\n    private val updateJob: Job = Job()\n    private val errorHandler = CoroutineExceptionHandler { _, throwable -&gt;\n        XXXXXXCommons.crashHandler?.log(throwable)\n    }\n    private val locationTrackingCoroutineScope =\n        CoroutineScope(Dispatchers.IO + updateJob + errorHandler)\n\n    private val rideApiService by lazy { DataSourceModule.provideRideApiService() }\n    private val locationDao by lazy { DataSourceModule.provideLocationDao(XXXXXXCommons.provideApplicationContext()) }\n\n    private val locationRequest = LocationRequest().apply {\n        interval = LOCATION_UPDATE_INTERVAL\n        fastestInterval = LOCATION_UPDATE_FASTEST_INTERVAL\n        priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n    }\n\n    private val callback = object : LocationCallback() {\n        override fun onLocationResult(result: LocationResult?) = onLocationReceived(result)\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private fun requestLocationUpdates() {\n        if (checkPermissions(*LOCATION_PERMISSIONS)) {\n            LocationServices.getFusedLocationProviderClient(this)\n                .requestLocationUpdates(locationRequest, callback, null)\n        }\n    }\n\n    private fun onLocationReceived(result: LocationResult?) = result?.lastLocation?.run {\n        postDriverLocation(this)\n    } ?: Unit\n\n    private fun postDriverLocation(location: Location) {\n        val driverLocation = DriverLocation(\n            location.latitude.toFloat(),\n            location.longitude.toFloat(),\n            location.bearing,\n            OnGoingTrip.rideData.rideId,\n            OnGoingTrip.orderData.orderId\n        )\n        OnGoingTrip.currentLocation = LatLng(location.latitude, location.longitude)\n        OnGoingTrip.reportLocationUpdate()\n        locationTrackingCoroutineScope.launch(Dispatchers.IO) {\n            cacheDriverLocation(driverLocation)\n            rideApiService.postCurrentDriverLocation(driverLocation)\n        }\n    }\n\n    private suspend fun cacheDriverLocation(driverLocation: DriverLocation) {\n        val bytes = &quot;${driverLocation.latitude}$LOCATION_DELIMITER${driverLocation.longitude}&quot;\n            .toByteArray(UTF_8)\n        val safeLocation = Base64.encode(bytes, DEFAULT).toString(UTF_8)\n        locationDao.createOrUpdate(CachedLocation(location = safeLocation))\n    }\n\n    override fun onBind(intent: Intent): IBinder? = null\n\n    override fun onCreate() {\n        super.onCreate()\n        buildNotification(\n            if (SDK_INT &gt;= O) {\n                createNotificationChannel(getString(R.string.app_name))\n            } else {\n                NOTIFICATION_ID.toString()\n            }\n        )\n        requestLocationUpdates()\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        if (locationTrackingCoroutineScope.isActive) {\n            locationTrackingCoroutineScope.cancel()\n        }\n        LocationServices.getFusedLocationProviderClient(this).removeLocationUpdates(callback)\n        (getSystemService(NOTIFICATION_SERVICE) as? NotificationManager)?.cancel(NOTIFICATION_ID)\n    }\n\n    @RequiresApi(O)\n    private fun createNotificationChannel(channelName: String): String {\n        val chan = NotificationChannel(\n            NOTIFICATION_ID.toString(),\n            channelName,\n            NotificationManager.IMPORTANCE_NONE\n        )\n        chan.lightColor = Color.CYAN\n        chan.lockscreenVisibility = Notification.VISIBILITY_PRIVATE\n        val service = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\n        service.createNotificationChannel(chan)\n        return NOTIFICATION_ID.toString()\n    }\n\n    private fun buildNotification(channelId: String) {\n        val ctx = this\n        (getSystemService(NOTIFICATION_SERVICE) as? NotificationManager)?.run {\n            val intent = Intent(ctx, SplashActivity::class.java).apply {\n                flags = FLAG_ACTIVITY_CLEAR_TOP or FLAG_ACTIVITY_SINGLE_TOP\n            }\n            val resultPendingIntent =\n                PendingIntent.getActivity(ctx, 0, intent, FLAG_UPDATE_CURRENT)\n            val notification = NotificationCompat.Builder(ctx, channelId)\n                .setSmallIcon(R.drawable.ic_xxxxxx_icon_background)\n                .setColor(ContextCompat.getColor(ctx, R.color.xxxxxxTurquoise))\n                .setContentTitle(ctx.getString(R.string.app_name))\n                .setOngoing(true)\n                .setContentText(ctx.getString(R.string.usage_message))\n                .setContentIntent(resultPendingIntent)\n                .build().apply { flags = FLAG_ONGOING_EVENT or FLAG_NO_CLEAR }\n            startForeground(FOREGROUND_SERVICE_ID, notification)\n        }\n    }\n}\n</code></pre>\n<p>Here is how I start the service:</p>\n<pre><code>startService(Intent(this, LocationTrackingService::class.java));\n</code></pre>\n<p>Here are the permissions I have and how I declared it on the AndroidManifest.xml:</p>\n<pre><code>&lt;service\n            android:name=&quot;.service.LocationTrackingService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>Most of the devices run Android 9 and 10, a few from 5 to 8, and almost no 11</p>\n<p>More information I would be happy to share.</p>\n"},{"tags":["java","xpath","sax"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634879824,"post_id":69671709,"comment_id":123149899,"body_markdown":"why are you doing this twice `document = builder.parse(connection.getInputStream());` &amp;&amp; `Document documentBuider = builder.parse(connection.getInputStream());`","body":"why are you doing this twice <code>document = builder.parse(connection.getInputStream());</code> &amp;&amp; <code>Document documentBuider = builder.parse(connection.getInputStream());</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1634879979,"post_id":69671709,"comment_id":123149927,"body_markdown":"It&#39;s because you are trying to parse HTML with an XML parser. `&#39;&amp;l=&#39;+l` looks like an entity to an XML parser.","body":"It&#39;s because you are trying to parse HTML with an XML parser. <code>&#39;&amp;l=&#39;+l</code> looks like an entity to an XML parser."},{"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"score":0,"creation_date":1634882080,"post_id":69671709,"comment_id":123150333,"body_markdown":"Scary Wombat - i have removed the duplicate getConnection .","body":"Scary Wombat - i have removed the duplicate getConnection ."},{"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"score":0,"creation_date":1634882137,"post_id":69671709,"comment_id":123150349,"body_markdown":"@tgdavies - how can I fix it. similar code has been working fine with other websites like fidelity where i am scraping html data.","body":"@tgdavies - how can I fix it. similar code has been working fine with other websites like fidelity where i am scraping html data."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1634882216,"post_id":69671709,"comment_id":123150370,"body_markdown":"Using tagsoup is the usual suggestion. I haven&#39;t used it personally.","body":"Using tagsoup is the usual suggestion. I haven&#39;t used it personally."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1634883393,"post_id":69671709,"comment_id":123150654,"body_markdown":"[JSoup](https://jsoup.org/) is what I&#39;ve used successfully for HTML parsing","body":"<a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a> is what I&#39;ve used successfully for HTML parsing"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634886896,"creation_date":1634886896,"answer_id":69672761,"question_id":69671709,"body_markdown":"The error arises because you are treating the data coming from the site as XML, and it isn&#39;t well-formed XML.\r\n\r\nIf it&#39;s advertised as XML (e.g if it&#39;s delivered with an XML media type) then the site is faulty and you should complain to them, or take your custom elsewhere.\r\n\r\nIf it&#39;s advertised as HTML then you should parse it using an HTML parser not an XML parser.","title":"How to resolve error reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter while fetching from morning star","body":"<p>The error arises because you are treating the data coming from the site as XML, and it isn't well-formed XML.</p>\n<p>If it's advertised as XML (e.g if it's delivered with an XML media type) then the site is faulty and you should complain to them, or take your custom elsewhere.</p>\n<p>If it's advertised as HTML then you should parse it using an HTML parser not an XML parser.</p>\n"},{"tags":[],"owner":{"account_id":1773188,"reputation":2439,"user_id":1617550,"accept_rate":50,"display_name":"mwarren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687446432,"creation_date":1687446432,"answer_id":76533290,"question_id":69671709,"body_markdown":"I got this precise error when I tried to include a Google Analytics 4 script in an xhtml page.\r\n\r\nYou can solve the problem in the analytics script on an xhtml page by changing `&#39;&amp;l=&#39;+l` to `&#39;&amp;amp;l=&#39;+l`","title":"How to resolve error reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter while fetching from morning star","body":"<p>I got this precise error when I tried to include a Google Analytics 4 script in an xhtml page.</p>\n<p>You can solve the problem in the analytics script on an xhtml page by changing <code>'&amp;l='+l</code> to <code>'&amp;amp;l='+l</code></p>\n"}],"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687446432,"creation_date":1634879587,"question_id":69671709,"body_markdown":"i am trying to extract the fund rating which is shown as number of stars in the morning star website. You can see it before the word Bronze in the below link. Below is my code to get the value , but I am getting an error &#39;[Fatal Error] :5:218: The reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter.&#39;. Not sure how to resolve this issue or why is it showing up? \r\n\r\nURL trying to get the value from \r\nhttps://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1\r\n\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.xml.sax.SAXException;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.xpath.*;\r\n    import java.io.IOException;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    public class MSExtrctor {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        String url = &quot;https://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1&quot;;\r\n        HttpURLConnection connection = connect(url);\r\n        int responseCode = 0;\r\n        try {\r\n            responseCode = connection.getResponseCode();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (responseCode == 200) {\r\n            DocumentBuilder builder = null;\r\n            try {\r\n                builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n                Document document = builder.parse(connection.getInputStream());\r\n                 XPath xpath = XPathFactory.newInstance().newXPath();\r\n            \r\n                XPathExpression expr = xpath.compile(&quot;//span[contains(@class,&#39;rating_sprite star&#39;)]/@class&quot;);\r\n               \r\n                String starVal = evaluateStr(document, expr);\r\n                System.out.println(starVal);\r\n            } catch (ParserConfigurationException | IOException e) {\r\n                e.printStackTrace();\r\n            } catch (SAXException e) {\r\n                e.printStackTrace();\r\n            } catch (XPathExpressionException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            throw new RuntimeException(&quot;Response &quot; + responseCode + &quot; from URL : &quot; + url);\r\n        }\r\n\r\n    }\r\n\r\n    private static String evaluateStr(Document document, XPathExpression xPathExpression){\r\n        String str = null;\r\n        try {\r\n            str = (String) xPathExpression.evaluate(document, XPathConstants.STRING);\r\n        } catch (XPathExpressionException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return str;\r\n    }\r\n\r\n    private static HttpURLConnection connect(String urlStr) {\r\n        HttpURLConnection httpConnection = null;\r\n        URL url = null;\r\n        try {\r\n            url = new URL(urlStr);\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            httpConnection = (HttpURLConnection) url.openConnection();\r\n            httpConnection.connect();\r\n            return httpConnection;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return httpConnection;\r\n    }\r\n}\r\n\r\n\r\n**Error trace**\r\n\r\n    [Fatal Error] :5:218: The reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter.\r\n    org.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 218; The reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter.\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:261)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\r\n    \tat java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)","title":"How to resolve error reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter while fetching from morning star","body":"<p>i am trying to extract the fund rating which is shown as number of stars in the morning star website. You can see it before the word Bronze in the below link. Below is my code to get the value , but I am getting an error '[Fatal Error] :5:218: The reference to entity &quot;l&quot; must end with the ';' delimiter.'. Not sure how to resolve this issue or why is it showing up?</p>\n<p>URL trying to get the value from\n<a href=\"https://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1\" rel=\"nofollow noreferrer\">https://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1</a></p>\n<pre><code>import org.w3c.dom.Document;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.xpath.*;\nimport java.io.IOException;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class MSExtrctor {\n\n\npublic static void main(String[] args) {\n    String url = &quot;https://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1&quot;;\n    HttpURLConnection connection = connect(url);\n    int responseCode = 0;\n    try {\n        responseCode = connection.getResponseCode();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    if (responseCode == 200) {\n        DocumentBuilder builder = null;\n        try {\n            builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n            Document document = builder.parse(connection.getInputStream());\n             XPath xpath = XPathFactory.newInstance().newXPath();\n        \n            XPathExpression expr = xpath.compile(&quot;//span[contains(@class,'rating_sprite star')]/@class&quot;);\n           \n            String starVal = evaluateStr(document, expr);\n            System.out.println(starVal);\n        } catch (ParserConfigurationException | IOException e) {\n            e.printStackTrace();\n        } catch (SAXException e) {\n            e.printStackTrace();\n        } catch (XPathExpressionException e) {\n            e.printStackTrace();\n        }\n    } else {\n        throw new RuntimeException(&quot;Response &quot; + responseCode + &quot; from URL : &quot; + url);\n    }\n\n}\n\nprivate static String evaluateStr(Document document, XPathExpression xPathExpression){\n    String str = null;\n    try {\n        str = (String) xPathExpression.evaluate(document, XPathConstants.STRING);\n    } catch (XPathExpressionException e) {\n        e.printStackTrace();\n    }\n    return str;\n}\n\nprivate static HttpURLConnection connect(String urlStr) {\n    HttpURLConnection httpConnection = null;\n    URL url = null;\n    try {\n        url = new URL(urlStr);\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n    try {\n        httpConnection = (HttpURLConnection) url.openConnection();\n        httpConnection.connect();\n        return httpConnection;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return httpConnection;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Error trace</strong></p>\n<pre><code>[Fatal Error] :5:218: The reference to entity &quot;l&quot; must end with the ';' delimiter.\norg.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 218; The reference to entity &quot;l&quot; must end with the ';' delimiter.\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:261)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\n    at java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)\n</code></pre>\n"},{"tags":["java","android","android-studio","textview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687452302,"post_id":76533208,"comment_id":134942200,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20891294,"reputation":1,"user_id":15346589,"display_name":"Hassan Amer "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687445794,"creation_date":1687445794,"question_id":76533208,"body_markdown":"When I put a TextView, make the top constraint on the parent, and its left and right constraints on two vertical guidelines, and then run the app, the textview disappears\r\n\r\nI tried to restart the app, and restart Android Studio","title":"TextView does not appear when put it between two vertical guidelines in constraintLayout, Android Studio, Java","body":"<p>When I put a TextView, make the top constraint on the parent, and its left and right constraints on two vertical guidelines, and then run the app, the textview disappears</p>\n<p>I tried to restart the app, and restart Android Studio</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1687303308,"post_id":76518941,"comment_id":134916958,"body_markdown":"Please ask an actual and specific answerable question. Put some text in the question that gives the details of the code and the problem.","body":"Please ask an actual and specific answerable question. Put some text in the question that gives the details of the code and the problem."},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687334504,"post_id":76518941,"comment_id":134920590,"body_markdown":"If you replace `@Parameter(...)` with `@Schema(...)`, does it resolve the issue?","body":"If you replace <code>@Parameter(...)</code> with <code>@Schema(...)</code>, does it resolve the issue?"},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687363312,"post_id":76518941,"comment_id":134927385,"body_markdown":"And no, unfortunately although I tried @Schema(description = &quot;my first attribute&quot;, required = true) it still did not mark the RequestBody field &quot;attribute1&quot; as &quot;required&quot;.","body":"And no, unfortunately although I tried @Schema(description = &quot;my first attribute&quot;, required = true) it still did not mark the RequestBody field &quot;attribute1&quot; as &quot;required&quot;."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687450335,"post_id":76518941,"comment_id":134941860,"body_markdown":"@Helen - I accidentally entered this question (due to misunderstanding how to use the SO UI) without details and SO moderators deleted my &quot;real&quot; question.  I have updated this one now - and attempted your suggestion with &quot;Schema&quot; - which didn&#39;t work, unfortunately.  Do you have any other suggestions for me?  Thanks!","body":"@Helen - I accidentally entered this question (due to misunderstanding how to use the SO UI) without details and SO moderators deleted my &quot;real&quot; question.  I have updated this one now - and attempted your suggestion with &quot;Schema&quot; - which didn&#39;t work, unfortunately.  Do you have any other suggestions for me?  Thanks!"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687468992,"post_id":76518941,"comment_id":134945329,"body_markdown":"You wrote _&#39;Note the lack of &quot;required&quot; notation on on any of the fields the Request Body section.&#39;_ If you switch to the &quot;Schema&quot; tab in the &quot;Request body&quot; section, does the info there indicate the required properties? I&#39;m asking because the required field are only indicated in the &quot;Schema&quot; view and not in the &quot;Example Value&quot; view - see https://i.stack.imgur.com/gxlsY.png","body":"You wrote <i>&#39;Note the lack of &quot;required&quot; notation on on any of the fields the Request Body section.&#39;</i> If you switch to the &quot;Schema&quot; tab in the &quot;Request body&quot; section, does the info there indicate the required properties? I&#39;m asking because the required field are only indicated in the &quot;Schema&quot; view and not in the &quot;Example Value&quot; view - see <a href=\"https://i.stack.imgur.com/gxlsY.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/gxlsY.png</a>"},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687469169,"post_id":76518941,"comment_id":134945371,"body_markdown":"I&#39;m not super familiar with Swagger and have only ever used annotations in Java code.  I&#39;m guessing that the &quot;Schema&quot; tab you mention is in some tool that is associated with Swagger in some way?  If so - we don&#39;t have that in our apps/services.","body":"I&#39;m not super familiar with Swagger and have only ever used annotations in Java code.  I&#39;m guessing that the &quot;Schema&quot; tab you mention is in some tool that is associated with Swagger in some way?  If so - we don&#39;t have that in our apps/services."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687470078,"post_id":76518941,"comment_id":134945512,"body_markdown":"If this is something that is generated by Swagger and available somewhere in a project, I&#39;d be grateful for a hint on where to look for it.  Thanks!","body":"If this is something that is generated by Swagger and available somewhere in a project, I&#39;d be grateful for a hint on where to look for it.  Thanks!"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687725854,"post_id":76518941,"comment_id":134973115,"body_markdown":"The &quot;Schema&quot; tab is part of the &quot;Request body&quot; section in Swagger UI, check the link to the right of the &quot;Example Value&quot; caption, as indicated on the screenshot: https://i.stack.imgur.com/gxlsY.png. The required properties are marked with `*` there.","body":"The &quot;Schema&quot; tab is part of the &quot;Request body&quot; section in Swagger UI, check the link to the right of the &quot;Example Value&quot; caption, as indicated on the screenshot: <a href=\"https://i.stack.imgur.com/gxlsY.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/gxlsY.png</a>. The required properties are marked with <code>*</code> there."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":1,"creation_date":1687795929,"post_id":76518941,"comment_id":134983471,"body_markdown":"Ha!  It was there all along...  So the user has to know that the word &quot;Schema&quot; is a link and that clicking on it will show which fields are required.  I was unaware of that - as are most/all of my API endpoint consumers.  I will find a way to let them know.  Thanks!","body":"Ha!  It was there all along...  So the user has to know that the word &quot;Schema&quot; is a link and that clicking on it will show which fields are required.  I was unaware of that - as are most/all of my API endpoint consumers.  I will find a way to let them know.  Thanks!"},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687796028,"post_id":76518941,"comment_id":134983492,"body_markdown":"@Helen - if you want to drop a quick &quot;answer&quot; in here, I&#39;ll vote it up.  Thanks for helping me learn this about Swagger UI.","body":"@Helen - if you want to drop a quick &quot;answer&quot; in here, I&#39;ll vote it up.  Thanks for helping me learn this about Swagger UI."}],"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1687445630,"creation_date":1687302806,"question_id":76518941,"body_markdown":"I have the following DTO which uses the @Parameter annotation to mark the first field as &quot;required&quot;:\r\n\r\n    import io.swagger.v3.oas.annotations.Parameter;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    \r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Schema(description = &quot;My DTO&quot;)\r\n    class VectorFoo {\r\n      // The below attribute is required\r\n      @NotNull\r\n      @Parameter(description = &quot;my first attribute&quot;, required = true)\r\n      private String attribute1;\r\n    \r\n      // The below attribute is optional\r\n      @Parameter(description = &quot;my second attribute&quot;, required  = false)\r\n      private String attribute2;\r\n    \r\n      public String getAttribute1() {\r\n        return attribute1;\r\n      }\r\n    \r\n      public void setAttribute1(String attribute1) {\r\n        this.attribute1 = attribute1;\r\n      }\r\n    \r\n      public String getAttribute2() {\r\n        return attribute2;\r\n      }\r\n    \r\n      public void setAttribute2(String attribute2) {\r\n        this.attribute2 = attribute2;\r\n      }\r\n    }\r\n\r\nAnd the following REST Endpoint code:\r\n\r\n      @PostMapping(&quot;/fstVector&quot;)\r\n      public ResponseEntity&lt;VectorFoo&gt; fstVPost(\r\n          // RequestBody objects are &quot;required&quot; by default. To make them optional, add &quot;(required = false)&quot;\r\n          @org.springframework.web.bind.annotation.RequestBody   // Spring\r\n          @io.swagger.v3.oas.annotations.parameters.RequestBody  // Swagger\r\n          @Valid // Bean validation to ensure if the incoming object is valid\r\n          final VectorFoo v1\r\n      ) {\r\n        return new ResponseEntity&lt;&gt;(v1, HttpStatus.OK);\r\n      }\r\n\r\nWhich produces the following Swagger UI. Note the lack of &quot;required&quot; notation on on any of the fields the Request Body section.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI understand from this StackOverflow post that this should have worked to show &quot;required&quot; in the Swagger UI for the Request Body example (see final answer with Swagger UI Screenshots): [Post about Swagger UI and &quot;required&quot; fields in RequestBody][2]\r\n\r\nCan anyone help me understand how I can get Swagger to show the required fields that have been marked as &quot;required&quot; (on the DTO with the @Parameter annotation) in the Request Body documentation on the Swagger UI?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yhbuy.png\r\n  [2]: https://stackoverflow.com/questions/64732175/how-to-annotate-to-require-individual-elements-of-requestbody-in-springdoc","title":"How to get Swagger UI to show required fields from DTO for POST RequestBody","body":"<p>I have the following DTO which uses the @Parameter annotation to mark the first field as &quot;required&quot;:</p>\n<pre><code>import io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.media.Schema;\n\nimport javax.validation.constraints.NotNull;\n\n@Schema(description = &quot;My DTO&quot;)\nclass VectorFoo {\n  // The below attribute is required\n  @NotNull\n  @Parameter(description = &quot;my first attribute&quot;, required = true)\n  private String attribute1;\n\n  // The below attribute is optional\n  @Parameter(description = &quot;my second attribute&quot;, required  = false)\n  private String attribute2;\n\n  public String getAttribute1() {\n    return attribute1;\n  }\n\n  public void setAttribute1(String attribute1) {\n    this.attribute1 = attribute1;\n  }\n\n  public String getAttribute2() {\n    return attribute2;\n  }\n\n  public void setAttribute2(String attribute2) {\n    this.attribute2 = attribute2;\n  }\n}\n</code></pre>\n<p>And the following REST Endpoint code:</p>\n<pre><code>  @PostMapping(&quot;/fstVector&quot;)\n  public ResponseEntity&lt;VectorFoo&gt; fstVPost(\n      // RequestBody objects are &quot;required&quot; by default. To make them optional, add &quot;(required = false)&quot;\n      @org.springframework.web.bind.annotation.RequestBody   // Spring\n      @io.swagger.v3.oas.annotations.parameters.RequestBody  // Swagger\n      @Valid // Bean validation to ensure if the incoming object is valid\n      final VectorFoo v1\n  ) {\n    return new ResponseEntity&lt;&gt;(v1, HttpStatus.OK);\n  }\n</code></pre>\n<p>Which produces the following Swagger UI. Note the lack of &quot;required&quot; notation on on any of the fields the Request Body section.</p>\n<p><a href=\"https://i.stack.imgur.com/yhbuy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yhbuy.png\" alt=\"enter image description here\" /></a></p>\n<p>I understand from this StackOverflow post that this should have worked to show &quot;required&quot; in the Swagger UI for the Request Body example (see final answer with Swagger UI Screenshots): <a href=\"https://stackoverflow.com/questions/64732175/how-to-annotate-to-require-individual-elements-of-requestbody-in-springdoc\">Post about Swagger UI and &quot;required&quot; fields in RequestBody</a></p>\n<p>Can anyone help me understand how I can get Swagger to show the required fields that have been marked as &quot;required&quot; (on the DTO with the @Parameter annotation) in the Request Body documentation on the Swagger UI?</p>\n<p>Thanks.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":13409689,"reputation":1,"user_id":9676633,"display_name":"bgolab7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687445390,"creation_date":1687445390,"answer_id":76533150,"question_id":74452776,"body_markdown":"In camel 3.2 Main class that supports ApplicationContext was moved to `camel-spring-main`.\r\n\r\nLook here: https://camel.apache.org/manual/camel-3x-upgrade-guide-3_2.html#_main_in_camel_spring","title":"upgrading Apache Camel 2 to 3, where did Main.setApplicationContextUri() method go?","body":"<p>In camel 3.2 Main class that supports ApplicationContext was moved to <code>camel-spring-main</code>.</p>\n<p>Look here: <a href=\"https://camel.apache.org/manual/camel-3x-upgrade-guide-3_2.html#_main_in_camel_spring\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/camel-3x-upgrade-guide-3_2.html#_main_in_camel_spring</a></p>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687445390,"creation_date":1668550271,"question_id":74452776,"body_markdown":"I have an old codebase that uses camel 2.something. We have to upgrade to camel 3.14 for Nexus-flagged security issues. I&#39;m going through the [Upgrade Camel 2 to 3 docs][1]. I see that Main moved packages, which I did, but now I&#39;m getting an error that Main.setApplicationContextUri(&quot;camel-context.xml&quot;) is no longer a method on Main. I can&#39;t find it, nor a replacement in the upgrade docs.  \r\n\r\nWhat am I missing?\r\n\r\nAlso, if there&#39;s a way to do a simple camel config via beans and annotations instead of xml, I&#39;d love a pointer to that. I&#39;m also running into an issue parsing the camel-context.xml, so if I can get rid of that whole mess, I&#39;d love to.  \r\n  \r\nWe are using Java 8 so I think the latest that works with that is Camel 3.14.6 so that&#39;s what I&#39;m trying.  \r\n\r\nHere&#39;s our camel-context.xml:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n\txmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\r\n\txmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xmlns:http=&quot;http://cxf.apache.org/transports/http/configuration&quot;\r\n\txmlns:sec=&quot;http://cxf.apache.org/configuration/security&quot; xmlns:camel=&quot;http://camel.apache.org/schema/spring&quot;\r\n\txsi:schemaLocation=&quot;\r\n      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n      http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd\r\n      http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd\r\n      http://cxf.apache.org/transports/http/configuration http://cxf.apache.org/schemas/configuration/http-conf.xsd\r\n      http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\r\n      http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd\r\n    &quot;&gt;\r\n\r\n\t&lt;!-- ================================== --&gt;\r\n\t&lt;!-- Define camel context --&gt;\r\n\t&lt;!-- ================================== --&gt;\r\n\t&lt;camel:camelContext id=&quot;camel&quot; trace=&quot;false&quot;&gt;\r\n\t\t&lt;camel:propertyPlaceholder id=&quot;queriesConfig&quot; location=&quot;lib/queries.properties&quot; /&gt;\r\n\t\t&lt;!-- Location for route scan --&gt;\r\n\t\t&lt;camel:package&gt;com.blah.listener&lt;/camel:package&gt;\r\n\t&lt;/camel:camelContext&gt;\r\n\r\n\t&lt;!-- configure the Camel SQL component to use the JDBC data source --&gt;\r\n\t&lt;bean id=&quot;sqlComponent&quot; class=&quot;org.apache.camel.component.sql.SqlComponent&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;bean1&quot; class=&quot;com.foo.OurThing&quot; /&gt;\r\n\t&lt;bean id=&quot;bean2&quot; class=&quot;com.bar.OtherThing&quot; /&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\nEdit: Just found [this][2]. Are we supposed to convert camel-context.xml to application.properties? We also have an app-context.xml for basic Spring configuration, and there&#39;s a reference to the camel-context.xml there. I wonder if we replace camel-context.xml with application.properties, what to do with this reference? Just remove it, or change it?\r\n\r\n\r\n  [1]: https://camel.apache.org/manual/camel-3-migration-guide.html\r\n  [2]: https://camel.apache.org/components/3.14.x/others/main.html#_camel_main_configurations","title":"upgrading Apache Camel 2 to 3, where did Main.setApplicationContextUri() method go?","body":"<p>I have an old codebase that uses camel 2.something. We have to upgrade to camel 3.14 for Nexus-flagged security issues. I'm going through the <a href=\"https://camel.apache.org/manual/camel-3-migration-guide.html\" rel=\"nofollow noreferrer\">Upgrade Camel 2 to 3 docs</a>. I see that Main moved packages, which I did, but now I'm getting an error that Main.setApplicationContextUri(&quot;camel-context.xml&quot;) is no longer a method on Main. I can't find it, nor a replacement in the upgrade docs.</p>\n<p>What am I missing?</p>\n<p>Also, if there's a way to do a simple camel config via beans and annotations instead of xml, I'd love a pointer to that. I'm also running into an issue parsing the camel-context.xml, so if I can get rid of that whole mess, I'd love to.</p>\n<p>We are using Java 8 so I think the latest that works with that is Camel 3.14.6 so that's what I'm trying.</p>\n<p>Here's our camel-context.xml:</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:context=&quot;http://www.springframework.org/schema/context&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\nxmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\nxmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xmlns:http=&quot;http://cxf.apache.org/transports/http/configuration&quot;\nxmlns:sec=&quot;http://cxf.apache.org/configuration/security&quot; xmlns:camel=&quot;http://camel.apache.org/schema/spring&quot;\nxsi:schemaLocation=&quot;\n  http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n  http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n  http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd\n  http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd\n  http://cxf.apache.org/transports/http/configuration http://cxf.apache.org/schemas/configuration/http-conf.xsd\n  http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\n  http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd\n&quot;&gt;\n\n&lt;!-- ================================== --&gt;\n&lt;!-- Define camel context --&gt;\n&lt;!-- ================================== --&gt;\n&lt;camel:camelContext id=&quot;camel&quot; trace=&quot;false&quot;&gt;\n    &lt;camel:propertyPlaceholder id=&quot;queriesConfig&quot; location=&quot;lib/queries.properties&quot; /&gt;\n    &lt;!-- Location for route scan --&gt;\n    &lt;camel:package&gt;com.blah.listener&lt;/camel:package&gt;\n&lt;/camel:camelContext&gt;\n\n&lt;!-- configure the Camel SQL component to use the JDBC data source --&gt;\n&lt;bean id=&quot;sqlComponent&quot; class=&quot;org.apache.camel.component.sql.SqlComponent&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;bean1&quot; class=&quot;com.foo.OurThing&quot; /&gt;\n&lt;bean id=&quot;bean2&quot; class=&quot;com.bar.OtherThing&quot; /&gt;\n</code></pre>\n\n<p>Edit: Just found <a href=\"https://camel.apache.org/components/3.14.x/others/main.html#_camel_main_configurations\" rel=\"nofollow noreferrer\">this</a>. Are we supposed to convert camel-context.xml to application.properties? We also have an app-context.xml for basic Spring configuration, and there's a reference to the camel-context.xml there. I wonder if we replace camel-context.xml with application.properties, what to do with this reference? Just remove it, or change it?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679062521,"creation_date":1679062521,"answer_id":75768657,"question_id":75768073,"body_markdown":"The `SessionlessAuthenticationMgr` (scope=&quot;singleton&quot;) has a parent `AuthenticationMgr` (scope=&quot;session&quot;).\r\n\r\nI suspect that the scope of `AuthenticationMgr` should also be `singleton` and not `session`.\r\n\r\nPerhaps older jdk was less strict about this?","title":"Cannot instantiating a bean with a newer version of Java","body":"<p>The <code>SessionlessAuthenticationMgr</code> (scope=&quot;singleton&quot;) has a parent <code>AuthenticationMgr</code> (scope=&quot;session&quot;).</p>\n<p>I suspect that the scope of <code>AuthenticationMgr</code> should also be <code>singleton</code> and not <code>session</code>.</p>\n<p>Perhaps older jdk was less strict about this?</p>\n"},{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679062909,"creation_date":1679062909,"answer_id":75768727,"question_id":75768073,"body_markdown":"My guess is that problem lays in *AuthenticationMgr* scope session. You&#39;ve updated Spring version from 3.1 to 3.2. Spring 3.2.0 [release notes][1] says that:\r\n\r\n&gt; child bean definition&#39;s scope attribute can be inherited from parent bean definition now\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.2.0.RELEASE/changelog.txt\r\n\r\n\r\nYour *SessionlessAuthenticationMgr* parent is  *AuthenticationMgr* with session scope. It still doesn&#39;t answer the question why getBean returns null, but you definitely should check what is going on here","title":"Cannot instantiating a bean with a newer version of Java","body":"<p>My guess is that problem lays in <em>AuthenticationMgr</em> scope session. You've updated Spring version from 3.1 to 3.2. Spring 3.2.0 <a href=\"https://docs.spring.io/spring-framework/docs/3.2.0.RELEASE/changelog.txt\" rel=\"nofollow noreferrer\">release notes</a> says that:</p>\n<blockquote>\n<p>child bean definition's scope attribute can be inherited from parent bean definition now</p>\n</blockquote>\n<p>Your <em>SessionlessAuthenticationMgr</em> parent is  <em>AuthenticationMgr</em> with session scope. It still doesn't answer the question why getBean returns null, but you definitely should check what is going on here</p>\n"},{"tags":[],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687445291,"creation_date":1679246482,"answer_id":75783740,"question_id":75768073,"body_markdown":"I have been able to solve my issue. Basically, my application has a lot of Spring context files:\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n    \t\t/WEB-INF/spring/applicationContext*.xml\r\n    \t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\nThe `DataDictionaryService`, which wasn&#39;t starting, was defined - in one of those - this way (as I told in the question):\r\n\r\n    &lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot;&gt;\r\n    \t\t&lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nThis depends on `SpringApplicationContext` (for initializing the context), and it is defined (in another xml) like this:\r\n\r\n    &lt;bean id=&quot;SpringApplicationContext&quot; class=&quot;it.reply.bean.SpringApplicationContext&quot; scope=&quot;singleton&quot;/&gt;\r\n\r\nFor some reasons, when on Java 7, `SpringApplicationContext` was started at first. On Java 8, this does not happen. Almost for sure, the Spring classloader has a different logic among different JREs, regarding implicit Beans&#39; taxonomy.\r\n\r\nI solved by specifing the `depends-on` attribute:\r\n\r\n\t&lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot; depends-on=&quot;SpringApplicationContext&quot;&gt;\r\n\t\t&lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI&#39;ve also been able to keep the version 3.1.x of Spring.\r\n\r\nMany thanks to the people who tried to help me out!","title":"Cannot instantiating a bean with a newer version of Java","body":"<p>I have been able to solve my issue. Basically, my application has a lot of Spring context files:</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        /WEB-INF/spring/applicationContext*.xml\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>The <code>DataDictionaryService</code>, which wasn't starting, was defined - in one of those - this way (as I told in the question):</p>\n<pre><code>&lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot;&gt;\n        &lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>This depends on <code>SpringApplicationContext</code> (for initializing the context), and it is defined (in another xml) like this:</p>\n<pre><code>&lt;bean id=&quot;SpringApplicationContext&quot; class=&quot;it.reply.bean.SpringApplicationContext&quot; scope=&quot;singleton&quot;/&gt;\n</code></pre>\n<p>For some reasons, when on Java 7, <code>SpringApplicationContext</code> was started at first. On Java 8, this does not happen. Almost for sure, the Spring classloader has a different logic among different JREs, regarding implicit Beans' taxonomy.</p>\n<p>I solved by specifing the <code>depends-on</code> attribute:</p>\n<pre><code>&lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot; depends-on=&quot;SpringApplicationContext&quot;&gt;\n    &lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I've also been able to keep the version 3.1.x of Spring.</p>\n<p>Many thanks to the people who tried to help me out!</p>\n"}],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75783740,"answer_count":3,"score":1,"last_activity_date":1687445291,"creation_date":1679059255,"question_id":75768073,"body_markdown":"I am facing a project upgrade, and I&#39;m struggling with a problem from many days. I really hope that some Spring expert can help.\r\nBasically, this project is a Java application using Spring and ZK, deploied on Websphere.\r\nThe project was compiled with Java 7 running on Websphere with Java 7, now it have to be Java 8 to Java 8.\r\n\r\nMy problem happens at server startup:\r\n\r\n    [3/17/23 14:07:16:223 CET] 00000094 SystemOut     O [Default : 0] 14:07:16.222 | ERROR (Logger.java:37) - getSession error\r\n    java.lang.NullPointerException\r\n    \tat it.reply.filenet.services.SuperUserService.getSession(SuperUserService.java:84)\r\n    \tat it.reply.filenet.services.DataDictionaryService.init(DataDictionaryService.java:212)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:508)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1640)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1581)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1511)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:384)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:283)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1734)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:415)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\r\n    \tat com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:171)\r\n    \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:904)\r\n    \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:789)\r\n    \tat com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:427)\r\n    \tat com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:719)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1211)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1390)\r\n    \tat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:639)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:979)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:795)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMgrImpl.java:1413)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2273)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:436)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:379)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:127)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:654)\r\n    \tat com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5554)\r\n    \tat com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5680)\r\n    \tat com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:668)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:612)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1303)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:508)\r\n    \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:83)\r\n    \tat sun.reflect.GeneratedMethodAccessor42.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:508)\r\n    \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:287)\r\n    \tat javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1263)\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:664)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:91)\r\n    \tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1257)\r\n    \tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1096)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:831)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:813)\r\n    \tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1350)\r\n    \tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n    \tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1243)\r\n    \tat com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\r\n    \tat com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:247)\r\n    \tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:360)\r\n    \tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:602)\r\n    \tat com.ibm.ws.ssl.channel.impl.SSLReadServiceContext$SSLReadCompletedCallback.complete(SSLReadServiceContext.java:1833)\r\n    \tat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\r\n    \tat com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\r\n    \tat com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\r\n    \tat com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\r\n    \tat com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\r\n    \tat com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\r\n    \tat com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\r\n    \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1892)\r\n\r\nThe `SuperUserService` is this, and it fails because `authenticationMgr` is null (note that when &quot;Java 7 to 7&quot; worked):\r\n\r\n        @Override\r\n        public Object getSession() {\r\n        \tif (session != null) return session;\r\n        \r\n        \ttry {\r\n        \t\tITrustedLoginManager trustedLoginManager = new TrustedLoginManager(loginFile);\r\n        \t\tLoginInfo loginInfo = trustedLoginManager.getLoginInfo();\r\n        \r\n        \t\tif (authenticationMgr == null) {\r\n        \t\t\tauthenticationMgr = (IAuthenticationMgr) BeanFactory.getBean(&quot;SessionlessAuthenticationMgr&quot;);\r\n        \t\t}\r\n        \r\n        \t\tsession = (ObjectStore) authenticationMgr.generateSession(loginInfo.getUser(), loginInfo.getPassword(),\r\n        \t\t\t\tloginInfo.getRepository()); //LINE 84\r\n        \t} catch (Exception e) {\r\n        \t\tBeanFactory.getLogger().error(this, &quot;getSession error&quot;, e);\r\n        \t}\r\n        \treturn session;\r\n        }\r\n\r\nThe BeanFactory.getBean(), which returns null:\r\n    \r\n    \tpublic static Object getBean(String beanName) {\r\n    \t\tObject bean = null;\r\n    \t\ttry {\r\n    \t\t\tbean = SpringUtil.getBean(beanName);\r\n    \t\t} catch (org.zkoss.zk.ui.UiException e) {\r\n    \t\t\tWebApplicationContext context = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tHttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes())\r\n    \t\t\t\t\t\t.getRequest();\r\n    \t\t\t\tcontext = WebApplicationContextUtils.getWebApplicationContext(request.getSession().getServletContext());\r\n    \t\t\t} catch (Throwable t) {\r\n    \t\t\t\t// ignore, returns null\r\n    \t\t\t\t// Logger.getRootLogger().debug(&quot;Eccezione ignorata - getBean: &quot; + beanName);\r\n    \t\t\t}\r\n    \t\t\tif (context != null) {\r\n    \t\t\t\tbean = context.getBean(beanName);\r\n    \t\t\t} else {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tbean = SpringApplicationContext.getBean(beanName); //&lt;-- RETURNS NULL HERE, BECAUSE THERE&#39;S NO CONTEXT\r\n    \t\t\t\t} catch (BeanCreationException ex) {\r\n    \t\t\t\t\t\tLogger.getRootLogger().warn(beanName\r\n    \t\t\t\t\t\t\t\t+ &quot; - E&#39; richiesta la creazione del bean in un contesto non valido. Nota: &#232; possibile che il chiamante ignori l&#39;errore&quot;,\r\n    \t\t\t\t\t\t\t\tex);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tLogger.getRootLogger()\r\n    \t\t\t\t\t\t\t\t.warn(&quot;Problema in creazione del bean spring tramite SpringApplicationContext&quot;, ex);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} catch (Throwable t) {\r\n    \t\t\t\t\tLogger.getRootLogger().warn(\r\n    \t\t\t\t\t\t\t&quot;Eccezione non gestita in creazione del bean spring tramite SpringApplicationContext&quot;, t);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t}\r\n    \t\treturn bean;\r\n    \t}\r\n\r\nThe SpringApplicationContext:\r\n\r\n    import org.apache.log4j.Logger;\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.ApplicationContextAware;\r\n    \r\n    /**\r\n     * Wrapper to always return a reference to the Spring Application Context from within non-Spring enabled beans. Unlike\r\n     * Spring MVC&#39;s WebApplicationContextUtils we do not need a reference to the Servlet context for this. All we need is\r\n     * for this bean to be initialized during application startup.\r\n     */\r\n    public class SpringApplicationContext implements ApplicationContextAware {\r\n    \r\n    \tprivate static ApplicationContext CONTEXT;\r\n    \r\n    \t/**\r\n    \t * This method is called from within the ApplicationContext once it is done starting up, it will stick a reference\r\n    \t * to itself into this bean.\r\n    \t *\r\n    \t * @param context\r\n    \t *            a reference to the ApplicationContext.\r\n    \t */\r\n    \t@Override\r\n    \tpublic void setApplicationContext(ApplicationContext context) throws BeansException {\r\n    \t\tSystem.out.println(\r\n    \t\t\t\t&quot;_____________________________ SpringApplicationContext - calling setApplicationContext _____________________________&quot;);\r\n    \t\tif (Logger.getRootLogger().isDebugEnabled()) Logger.getRootLogger()\r\n    \t\t\t\t.debug(&quot;SpringApplicationContext - calling setApplicationContext&quot;);\r\n    \t\tSystem.out.println(&quot;SpringApplicationContext - calling setApplicationContext&quot;);\r\n    \t\tCONTEXT = context;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This is about the same as context.getBean(&quot;beanName&quot;), except it has its own static handle to the Spring context,\r\n    \t * so calling this method statically will give access to the beans by name in the Spring application context. As in\r\n    \t * the context.getBean(&quot;beanName&quot;) call, the caller must cast to the appropriate target class. If the bean does not\r\n    \t * exist, then a Runtime error will be thrown.\r\n    \t *\r\n    \t * @param beanName\r\n    \t *            the name of the bean to get.\r\n    \t * @return an Object reference to the named bean.\r\n    \t */\r\n    \tpublic static Object getBean(String beanName) {\r\n    \t\tif (CONTEXT != null) {\r\n    \t\t\t//System.out.println(&quot;start getBean Spring di &quot; + beanName);\r\n    \t\t\treturn CONTEXT.getBean(beanName);\r\n    \t\t} else {\r\n    \t\t\t//System.out.println(&quot;No CONTEXT defined in SpringApplicationContext&quot;);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n\r\nWhen entering the `getBean()`, `CONTEXT` is null, because `setApplicationContext()` is never launched!\r\n\r\nThe project was compiled with some very old jars:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, I have updated them with the 3.2.16 version (I read in some other thread that it&#39;s the minimum version for Java 8):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nUnfortunately, the problem is the same.\r\n\r\nSome other info.\r\nPart of my applicationContext (note that `GlobalCacheService` and `GlobalPropertiesService` are instantiated, with both versions of Spring):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;\r\n                http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\r\n                http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n                http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd\r\n                http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-2.5.xsd\r\n                http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;GlobalCacheService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.services.GlobalCacheService&quot; /&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;ObjectsAttrsDef&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.entities.ObjectsAttrsDef&quot; /&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;ObjectActionService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.client.services.actions.ObjectActionService&quot;/&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;GlobalPropertiesService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.services.GlobalPropertiesService&quot; init-method=&quot;init&quot; &gt;\r\n    \t\t&lt;property name=&quot;propertiesFiles&quot; value=&quot;${geno.global.properties}&quot; /&gt;\r\n    \t&lt;/bean&gt;\t\r\n    \r\n     \t&lt;bean id=&quot;SessionlessAuthenticationMgr&quot; scope=&quot;singleton&quot; parent=&quot;AuthenticationMgr&quot; &gt;\r\n      \t\t&lt;property name=&quot;sessionless&quot; value=&quot;true&quot;/&gt;\r\n     \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot;&gt;\r\n    \t\t&lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;AuthenticationMgr&quot; scope=&quot;session&quot; class=&quot;it.reply.client.filenet.authentication.ClientAuthenticationMgr&quot; init-method=&quot;init&quot; &gt;\r\n    \t\t&lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\r\n    \t\t&lt;property name=&quot;userService&quot; ref=&quot;UserService&quot; /&gt;\r\n    \t\t&lt;property name=&quot;objectStoreName&quot; value=&quot;${login.objectStore.name}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;objectStoreUri&quot; value=&quot;${login.objectStore.uri}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;contentEngineTransport&quot; value=&quot;${login.objectStore.transport}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nEven the `init()` of `AuthenticationMgr` is called and it ends propertly, wih both versions of Spring, because I can log it.\r\n\r\nI know that the problem is complex and my question could lack of some information, but please, if you need some other info about my project, an help would be extremely appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/YNfFu.png\r\n  [2]: https://i.stack.imgur.com/b70rY.png\r\n","title":"Cannot instantiating a bean with a newer version of Java","body":"<p>I am facing a project upgrade, and I'm struggling with a problem from many days. I really hope that some Spring expert can help.\nBasically, this project is a Java application using Spring and ZK, deploied on Websphere.\nThe project was compiled with Java 7 running on Websphere with Java 7, now it have to be Java 8 to Java 8.</p>\n<p>My problem happens at server startup:</p>\n<pre><code>[3/17/23 14:07:16:223 CET] 00000094 SystemOut     O [Default : 0] 14:07:16.222 | ERROR (Logger.java:37) - getSession error\njava.lang.NullPointerException\n    at it.reply.filenet.services.SuperUserService.getSession(SuperUserService.java:84)\n    at it.reply.filenet.services.DataDictionaryService.init(DataDictionaryService.java:212)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1640)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1581)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1511)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:384)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:283)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\n    at com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1734)\n    at com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:415)\n    at com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\n    at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:171)\n    at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:904)\n    at com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:789)\n    at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:427)\n    at com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:719)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1211)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1390)\n    at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:639)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:979)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:795)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMgrImpl.java:1413)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2273)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:436)\n    at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:379)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:127)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:654)\n    at com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5554)\n    at com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5680)\n    at com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:668)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:612)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1303)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:83)\n    at sun.reflect.GeneratedMethodAccessor42.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:287)\n    at javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1263)\n    at java.security.AccessController.doPrivileged(AccessController.java:664)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:91)\n    at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1257)\n    at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1096)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:831)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:813)\n    at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1350)\n    at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n    at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1243)\n    at com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\n    at com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:247)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:360)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:602)\n    at com.ibm.ws.ssl.channel.impl.SSLReadServiceContext$SSLReadCompletedCallback.complete(SSLReadServiceContext.java:1833)\n    at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\n    at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\n    at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\n    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\n    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\n    at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\n    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1892)\n</code></pre>\n<p>The <code>SuperUserService</code> is this, and it fails because <code>authenticationMgr</code> is null (note that when &quot;Java 7 to 7&quot; worked):</p>\n<pre><code>    @Override\n    public Object getSession() {\n        if (session != null) return session;\n    \n        try {\n            ITrustedLoginManager trustedLoginManager = new TrustedLoginManager(loginFile);\n            LoginInfo loginInfo = trustedLoginManager.getLoginInfo();\n    \n            if (authenticationMgr == null) {\n                authenticationMgr = (IAuthenticationMgr) BeanFactory.getBean(&quot;SessionlessAuthenticationMgr&quot;);\n            }\n    \n            session = (ObjectStore) authenticationMgr.generateSession(loginInfo.getUser(), loginInfo.getPassword(),\n                    loginInfo.getRepository()); //LINE 84\n        } catch (Exception e) {\n            BeanFactory.getLogger().error(this, &quot;getSession error&quot;, e);\n        }\n        return session;\n    }\n</code></pre>\n<p>The BeanFactory.getBean(), which returns null:</p>\n<pre><code>    public static Object getBean(String beanName) {\n        Object bean = null;\n        try {\n            bean = SpringUtil.getBean(beanName);\n        } catch (org.zkoss.zk.ui.UiException e) {\n            WebApplicationContext context = null;\n            try {\n                HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes())\n                        .getRequest();\n                context = WebApplicationContextUtils.getWebApplicationContext(request.getSession().getServletContext());\n            } catch (Throwable t) {\n                // ignore, returns null\n                // Logger.getRootLogger().debug(&quot;Eccezione ignorata - getBean: &quot; + beanName);\n            }\n            if (context != null) {\n                bean = context.getBean(beanName);\n            } else {\n                try {\n                    bean = SpringApplicationContext.getBean(beanName); //&lt;-- RETURNS NULL HERE, BECAUSE THERE'S NO CONTEXT\n                } catch (BeanCreationException ex) {\n                        Logger.getRootLogger().warn(beanName\n                                + &quot; - E' richiesta la creazione del bean in un contesto non valido. Nota: è possibile che il chiamante ignori l'errore&quot;,\n                                ex);\n                    } else {\n                        Logger.getRootLogger()\n                                .warn(&quot;Problema in creazione del bean spring tramite SpringApplicationContext&quot;, ex);\n                    }\n                } catch (Throwable t) {\n                    Logger.getRootLogger().warn(\n                            &quot;Eccezione non gestita in creazione del bean spring tramite SpringApplicationContext&quot;, t);\n                }\n            }\n        } catch (Exception e) {\n        }\n        return bean;\n    }\n</code></pre>\n<p>The SpringApplicationContext:</p>\n<pre><code>import org.apache.log4j.Logger;\nimport org.springframework.beans.BeansException;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\n\n/**\n * Wrapper to always return a reference to the Spring Application Context from within non-Spring enabled beans. Unlike\n * Spring MVC's WebApplicationContextUtils we do not need a reference to the Servlet context for this. All we need is\n * for this bean to be initialized during application startup.\n */\npublic class SpringApplicationContext implements ApplicationContextAware {\n\n    private static ApplicationContext CONTEXT;\n\n    /**\n     * This method is called from within the ApplicationContext once it is done starting up, it will stick a reference\n     * to itself into this bean.\n     *\n     * @param context\n     *            a reference to the ApplicationContext.\n     */\n    @Override\n    public void setApplicationContext(ApplicationContext context) throws BeansException {\n        System.out.println(\n                &quot;_____________________________ SpringApplicationContext - calling setApplicationContext _____________________________&quot;);\n        if (Logger.getRootLogger().isDebugEnabled()) Logger.getRootLogger()\n                .debug(&quot;SpringApplicationContext - calling setApplicationContext&quot;);\n        System.out.println(&quot;SpringApplicationContext - calling setApplicationContext&quot;);\n        CONTEXT = context;\n    }\n\n    /**\n     * This is about the same as context.getBean(&quot;beanName&quot;), except it has its own static handle to the Spring context,\n     * so calling this method statically will give access to the beans by name in the Spring application context. As in\n     * the context.getBean(&quot;beanName&quot;) call, the caller must cast to the appropriate target class. If the bean does not\n     * exist, then a Runtime error will be thrown.\n     *\n     * @param beanName\n     *            the name of the bean to get.\n     * @return an Object reference to the named bean.\n     */\n    public static Object getBean(String beanName) {\n        if (CONTEXT != null) {\n            //System.out.println(&quot;start getBean Spring di &quot; + beanName);\n            return CONTEXT.getBean(beanName);\n        } else {\n            //System.out.println(&quot;No CONTEXT defined in SpringApplicationContext&quot;);\n            return null;\n        }\n    }\n</code></pre>\n<p>When entering the <code>getBean()</code>, <code>CONTEXT</code> is null, because <code>setApplicationContext()</code> is never launched!</p>\n<p>The project was compiled with some very old jars:</p>\n<p><a href=\"https://i.stack.imgur.com/YNfFu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YNfFu.png\" alt=\"enter image description here\" /></a></p>\n<p>So, I have updated them with the 3.2.16 version (I read in some other thread that it's the minimum version for Java 8):</p>\n<p><a href=\"https://i.stack.imgur.com/b70rY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b70rY.png\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, the problem is the same.</p>\n<p>Some other info.\nPart of my applicationContext (note that <code>GlobalCacheService</code> and <code>GlobalPropertiesService</code> are instantiated, with both versions of Spring):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xsi:schemaLocation=&quot;\n            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd\n            http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-2.5.xsd\n            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd&quot;&gt;\n\n    &lt;bean id=&quot;GlobalCacheService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.services.GlobalCacheService&quot; /&gt;\n    \n    &lt;bean id=&quot;ObjectsAttrsDef&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.entities.ObjectsAttrsDef&quot; /&gt;\n    \n    &lt;bean id=&quot;ObjectActionService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.client.services.actions.ObjectActionService&quot;/&gt;\n    \n    &lt;bean id=&quot;GlobalPropertiesService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.services.GlobalPropertiesService&quot; init-method=&quot;init&quot; &gt;\n        &lt;property name=&quot;propertiesFiles&quot; value=&quot;${geno.global.properties}&quot; /&gt;\n    &lt;/bean&gt; \n\n    &lt;bean id=&quot;SessionlessAuthenticationMgr&quot; scope=&quot;singleton&quot; parent=&quot;AuthenticationMgr&quot; &gt;\n        &lt;property name=&quot;sessionless&quot; value=&quot;true&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot;&gt;\n        &lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;AuthenticationMgr&quot; scope=&quot;session&quot; class=&quot;it.reply.client.filenet.authentication.ClientAuthenticationMgr&quot; init-method=&quot;init&quot; &gt;\n        &lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\n        &lt;property name=&quot;userService&quot; ref=&quot;UserService&quot; /&gt;\n        &lt;property name=&quot;objectStoreName&quot; value=&quot;${login.objectStore.name}&quot; /&gt;\n        &lt;property name=&quot;objectStoreUri&quot; value=&quot;${login.objectStore.uri}&quot; /&gt;\n        &lt;property name=&quot;contentEngineTransport&quot; value=&quot;${login.objectStore.transport}&quot; /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>Even the <code>init()</code> of <code>AuthenticationMgr</code> is called and it ends propertly, wih both versions of Spring, because I can log it.</p>\n<p>I know that the problem is complex and my question could lack of some information, but please, if you need some other info about my project, an help would be extremely appreciated.</p>\n"},{"tags":["java","android","kotlin","retrofit"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687444810,"post_id":76533050,"comment_id":134940566,"body_markdown":"According to [google](https://google.com?q=android%20emulator%20localhost%20ip), the IP of the local machine from the emulator is 10.0.2.2.","body":"According to <a href=\"https://google.com?q=android%20emulator%20localhost%20ip\" rel=\"nofollow noreferrer\">google</a>, the IP of the local machine from the emulator is 10.0.2.2."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1687445489,"post_id":76533050,"comment_id":134940750,"body_markdown":"Yes. And localhost is the emulator itself in this case. Every device is its own localhost/127.0.0.1.","body":"Yes. And localhost is the emulator itself in this case. Every device is its own localhost/127.0.0.1."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687451232,"post_id":76533050,"comment_id":134942038,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/5806220/150978","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/5806220/150978\">stackoverflow.com/q/5806220/150978</a>"}],"owner":{"account_id":25661467,"reputation":1,"user_id":19427149,"display_name":"Selmen Bouazra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687444678,"creation_date":1687444678,"question_id":76533050,"body_markdown":"I was trying to connect to android emulator on localhost and i&#39;m getting the following error\r\n\r\nonFailure: java.net.ConnectException: Failed to connect to /127.0.0.1:3000\r\n\r\nAny help would be greatly appreciated thanks in advance.\r\n\r\n\r\n\r\nHere is the code i&#39;m trying to run\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        call()\r\n    }\r\n\r\n    private fun call() {\r\n\r\n        val retrofit = Retrofit.Builder()\r\n            .baseUrl(&quot;http://127.0.0.1:3000&quot;)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build()\r\n\r\n        val apiService = retrofit.create(ApiService::class.java)\r\n\r\n        val call = apiService.login()\r\n        call.enqueue(object : Callback&lt;String&gt;{\r\n            override fun onResponse(call: Call&lt;String&gt;, response: Response&lt;String&gt;) {\r\n                Log.i(&quot;api_test&quot;, &quot;onSuccess: ${response.body()}&quot;)\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;String&gt;, t: Throwable) {\r\n                Log.i(&quot;api_test&quot;, &quot;onFailure: $t&quot;)\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\ninterface ApiService {\r\n    @GET(&quot;test&quot;)\r\n    fun login(): Call&lt;String&gt;\r\n}\r\n```\r\n","title":"connect android emulator to localhost","body":"<p>I was trying to connect to android emulator on localhost and i'm getting the following error</p>\n<p>onFailure: java.net.ConnectException: Failed to connect to /127.0.0.1:3000</p>\n<p>Any help would be greatly appreciated thanks in advance.</p>\n<p>Here is the code i'm trying to run</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        call()\n    }\n\n    private fun call() {\n\n        val retrofit = Retrofit.Builder()\n            .baseUrl(&quot;http://127.0.0.1:3000&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n\n        val apiService = retrofit.create(ApiService::class.java)\n\n        val call = apiService.login()\n        call.enqueue(object : Callback&lt;String&gt;{\n            override fun onResponse(call: Call&lt;String&gt;, response: Response&lt;String&gt;) {\n                Log.i(&quot;api_test&quot;, &quot;onSuccess: ${response.body()}&quot;)\n            }\n\n            override fun onFailure(call: Call&lt;String&gt;, t: Throwable) {\n                Log.i(&quot;api_test&quot;, &quot;onFailure: $t&quot;)\n            }\n\n        })\n\n    }\n}\n</code></pre>\n<pre><code>interface ApiService {\n    @GET(&quot;test&quot;)\n    fun login(): Call&lt;String&gt;\n}\n</code></pre>\n"},{"tags":["java","spring-data-elasticsearch"],"owner":{"account_id":28874243,"reputation":11,"user_id":22115144,"display_name":"Matheus Yudi Matsubara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687444556,"creation_date":1687444556,"question_id":76533033,"body_markdown":"I&#39;m using the spring-boot-starter-data-elasticsearch 2.2.13.RELEASE to fetch data from an external elasticsearch 6.7.2. However I have limited access to this elasticsearch, only allowing me to use the _search for the indexes.\r\n\r\nThat&#39;s my entity:\r\n```\r\n@Document(indexName = &quot;funds_v1&quot;, createIndex = false, type = &quot;doc&quot;)\r\n@Getter\r\n@Setter\r\npublic class Funds {\r\n\r\n    @Id\r\n    private String id;\r\n    private String issuerId;\r\n    private String strategyShortName;\r\n}\r\n```\r\nWhen I call the method findAll() from the repository in the logs it displays that:\r\n**curl -iX POST &#39;https://{host}:443/es/funds_v1/doc/_search?rest_total_hits_as_int=true&amp;typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;ignore_throttled=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512&#39; -d &#39;{&quot;size&quot;:0,&quot;query&quot;:{&quot;match_all&quot;:{&quot;boost&quot;:1.0}}}&#39;**\r\n\r\nhowever I don&#39;t want that **/doc** and if I just remove the type from the Annotation @Document it will be replaced to the simple name of the class.","title":"Query without type using spring data elasticsearch","body":"<p>I'm using the spring-boot-starter-data-elasticsearch 2.2.13.RELEASE to fetch data from an external elasticsearch 6.7.2. However I have limited access to this elasticsearch, only allowing me to use the _search for the indexes.</p>\n<p>That's my entity:</p>\n<pre><code>@Document(indexName = &quot;funds_v1&quot;, createIndex = false, type = &quot;doc&quot;)\n@Getter\n@Setter\npublic class Funds {\n\n    @Id\n    private String id;\n    private String issuerId;\n    private String strategyShortName;\n}\n</code></pre>\n<p>When I call the method findAll() from the repository in the logs it displays that:\n<strong>curl -iX POST 'https://{host}:443/es/funds_v1/doc/_search?rest_total_hits_as_int=true&amp;typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;ignore_throttled=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512' -d '{&quot;size&quot;:0,&quot;query&quot;:{&quot;match_all&quot;:{&quot;boost&quot;:1.0}}}'</strong></p>\n<p>however I don't want that <strong>/doc</strong> and if I just remove the type from the Annotation @Document it will be replaced to the simple name of the class.</p>\n"},{"tags":["java","random","random-seed"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687443865,"post_id":76532873,"comment_id":134940325,"body_markdown":"Always possible to extract Random object via reflection. Look at `Math.RandomNumberGeneratorHolder.randomNumberGenerator`","body":"Always possible to extract Random object via reflection. Look at <code>Math.RandomNumberGeneratorHolder.randomNumberGenerator</code>"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687444371,"post_id":76532873,"comment_id":134940454,"body_markdown":"@gdomo Reflection is not the answer.","body":"@gdomo Reflection is not the answer."},{"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"score":0,"creation_date":1687445015,"post_id":76532873,"comment_id":134940620,"body_markdown":"@gdomo it&#39;s private in Math.","body":"@gdomo it&#39;s private in Math."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687445182,"post_id":76532873,"comment_id":134940662,"body_markdown":"use `setAccessible(true)` as usual for private fields","body":"use <code>setAccessible(true)</code> as usual for private fields"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687468172,"post_id":76532873,"comment_id":134945181,"body_markdown":"May I ask why you want to do that? Questions such as this are often the result of an [XY problem](https://en.wikipedia.org/wiki/XY_problem)","body":"May I ask why you want to do that? Questions such as this are often the result of an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>"},{"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"score":0,"creation_date":1687501344,"post_id":76532873,"comment_id":134948370,"body_markdown":"@OldDogProgrammer well, it&#39;s not real work task. Just a part of one contest problem that I&#39;m trying to solve. In other words, the question is it possible to predict next Math.random() value?","body":"@OldDogProgrammer well, it&#39;s not real work task. Just a part of one contest problem that I&#39;m trying to solve. In other words, the question is it possible to predict next Math.random() value?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687444475,"creation_date":1687444475,"answer_id":76533020,"question_id":76532873,"body_markdown":"`Math.random` is just a shortcut that uses an internal `Random` object. If you need or want control over the seed, just don&#39;t use it, and use a `(Secure)Random` you create yourself. It has the same features as `Math.random`, plus quite a few more.","title":"How to get &quot;default&quot; random object (or seed) in Java?","body":"<p><code>Math.random</code> is just a shortcut that uses an internal <code>Random</code> object. If you need or want control over the seed, just don't use it, and use a <code>(Secure)Random</code> you create yourself. It has the same features as <code>Math.random</code>, plus quite a few more.</p>\n"}],"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687444475,"creation_date":1687443534,"question_id":76532873,"body_markdown":"I know that I can create Random object and set seed for the object like this:\r\n\r\n    Random random = new Random();\r\n    random.setSeed(seed);\r\n\r\nBut what if I can&#39;t create Random object? What if I have to use Math.random()?\r\n\r\nI know that Math.random() creates Random object behind the scene.\r\n\r\nSo the question is there any way to get the Random object created by Math.random and set seed for the object or at least get seed that the object is using?\r\n","title":"How to get &quot;default&quot; random object (or seed) in Java?","body":"<p>I know that I can create Random object and set seed for the object like this:</p>\n<pre><code>Random random = new Random();\nrandom.setSeed(seed);\n</code></pre>\n<p>But what if I can't create Random object? What if I have to use Math.random()?</p>\n<p>I know that Math.random() creates Random object behind the scene.</p>\n<p>So the question is there any way to get the Random object created by Math.random and set seed for the object or at least get seed that the object is using?</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","rest-assured"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674204005,"post_id":75179409,"comment_id":132668015,"body_markdown":"Which JUnit extension do you use? Can you show your class header?","body":"Which JUnit extension do you use? Can you show your class header?"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674199119,"creation_date":1674199119,"answer_id":75180850,"question_id":75179409,"body_markdown":"Your mixing up unit test and integration test config.  \r\n\r\nAnnotations for unit tests look like this:\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass MyTest {\r\n\r\n    @Mock\r\n    private ServiceA myMock;\r\n\r\n    @Spy\r\n    private ServiceB mySpy;\r\n\r\n    @InjectMocks\r\n    private ServiceC myClassUnderTest;\r\n\r\n    @Test\r\n    void receive() {\r\n         // test logic\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nAnnotations for integration tests look like this:\r\n```java\r\n@ActiveProfiles(&quot;test&quot;)\r\n@SpringBootTest\r\nclass MyTest {\r\n\r\n    @MockBean\r\n    private ServiceA myMock;\r\n\r\n    @SpyBean\r\n    private ServiceB mySpy;\r\n\r\n    @Autowired\r\n    private ServiceC myClassUnderTest;\r\n\r\n    @Test\r\n    void receive() {\r\n         // test logic\r\n    }\r\n\r\n}\r\n```\r\n\r\nI don&#39;t know about your test config because you didn&#39;t post it here, but I suppose you should use `@MockBean` instead of `@Mock` for `PacienteService service`.","title":"Cannot invoke &quot;PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null","body":"<p>Your mixing up unit test and integration test config.</p>\n<p>Annotations for unit tests look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass MyTest {\n\n    @Mock\n    private ServiceA myMock;\n\n    @Spy\n    private ServiceB mySpy;\n\n    @InjectMocks\n    private ServiceC myClassUnderTest;\n\n    @Test\n    void receive() {\n         // test logic\n    }\n\n}\n</code></pre>\n<p>Annotations for integration tests look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest\nclass MyTest {\n\n    @MockBean\n    private ServiceA myMock;\n\n    @SpyBean\n    private ServiceB mySpy;\n\n    @Autowired\n    private ServiceC myClassUnderTest;\n\n    @Test\n    void receive() {\n         // test logic\n    }\n\n}\n</code></pre>\n<p>I don't know about your test config because you didn't post it here, but I suppose you should use <code>@MockBean</code> instead of <code>@Mock</code> for <code>PacienteService service</code>.</p>\n"},{"tags":[],"owner":{"account_id":20252864,"reputation":81,"user_id":14853403,"display_name":"kings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687443701,"creation_date":1687443701,"answer_id":76532903,"question_id":75179409,"body_markdown":"Your PacieteService&quot;&quot;&quot; should be autowired not mocked. SO...\r\n@Mock\r\n    private PacienteService service;\r\n\r\nShould be *************\r\n\r\n@Autowired\r\n    private PacienteService service;\r\n\r\n\r\n   \r\n","title":"Cannot invoke &quot;PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null","body":"<p>Your PacieteService&quot;&quot;&quot; should be autowired not mocked. SO...\n@Mock\nprivate PacienteService service;</p>\n<p>Should be *************</p>\n<p>@Autowired\nprivate PacienteService service;</p>\n"}],"owner":{"account_id":23515844,"reputation":5,"user_id":17563773,"display_name":"Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687443701,"creation_date":1674172294,"question_id":75179409,"body_markdown":"I&#39;m trying test a RestAPI in Java, but I can&#39;t mock my Service class\r\n\r\nWhen start test, it gives me an error: `java.lang.NullPointerException: Cannot invoke &quot;com.tcc.tccbackend.services.PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null`.\r\n\r\nCode:\r\n\r\n    @WebMvcTest(PacienteController.class)\r\n    public class PacienteTest extends BaseTest {\r\n\r\n    @Mock\r\n        private PacienteService service;\r\n    \r\n    @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n    @BeforeEach\r\n        public void setup() {\r\n            RestAssuredMockMvc.mockMvc(mockMvc);\r\n        }\r\n    \r\n    @Test\r\n        @DisplayName(&quot;Retorna sucesso quando busca um paciente &quot;)\r\n        public void t4() {\r\n            Mockito.when(service.findById(9999))\r\n                    .thenReturn(new Paciente(9999, &quot;Gilberson&quot;, &quot;gilber@gmail.com&quot;, &quot;68211836104&quot;, &quot;(67) 99625-5371&quot;, new Date(), List.of()));\r\n            RestAssuredMockMvc\r\n                    .given()\r\n                    .header(&quot;Authorization&quot;, getJWT())\r\n                    .accept(ContentType.JSON)\r\n                    .when()\r\n                    .get(&quot;/pacientes/9999&quot;)\r\n                    .then().statusCode(200);\r\n        }\r\n\r\nBaseTest.class:\r\n\r\n    public class BaseTest {\r\n        public BaseTest(){\r\n            baseURI = &quot;http://localhost&quot;;\r\n            port = 8080;\r\n            basePath = &quot;/api&quot;;\r\n        }\r\n    \r\n        public static String getJWT() {\r\n            return given()\r\n                    .body(&quot;{\\n&quot; + &quot;\\t\\&quot;email\\&quot;: \\&quot;paula@gmail.com\\&quot;,\\n&quot; + &quot;\\t\\&quot;senha\\&quot;: \\&quot;senha\\&quot;\\n&quot; + &quot;}&quot;)\r\n                    .contentType(ContentType.JSON)\r\n                    .when()\r\n                    .post(&quot;/user/login&quot;)\r\n                    .then()\r\n                    .extract()\r\n                    .path(&quot;token&quot;);\r\n        }\r\n    }\r\n\r\nVersions:\r\n\r\n - Java 17\r\n - RestAssured 5.3.0\r\n - SpringBoot 2.7.0\r\n - SpringBoot Starter Test 2.7.0\r\n - Junit 4.13.2","title":"Cannot invoke &quot;PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null","body":"<p>I'm trying test a RestAPI in Java, but I can't mock my Service class</p>\n<p>When start test, it gives me an error: <code>java.lang.NullPointerException: Cannot invoke &quot;com.tcc.tccbackend.services.PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null</code>.</p>\n<p>Code:</p>\n<pre><code>@WebMvcTest(PacienteController.class)\npublic class PacienteTest extends BaseTest {\n\n@Mock\n    private PacienteService service;\n\n@Autowired\n    private MockMvc mockMvc;\n\n@BeforeEach\n    public void setup() {\n        RestAssuredMockMvc.mockMvc(mockMvc);\n    }\n\n@Test\n    @DisplayName(&quot;Retorna sucesso quando busca um paciente &quot;)\n    public void t4() {\n        Mockito.when(service.findById(9999))\n                .thenReturn(new Paciente(9999, &quot;Gilberson&quot;, &quot;gilber@gmail.com&quot;, &quot;68211836104&quot;, &quot;(67) 99625-5371&quot;, new Date(), List.of()));\n        RestAssuredMockMvc\n                .given()\n                .header(&quot;Authorization&quot;, getJWT())\n                .accept(ContentType.JSON)\n                .when()\n                .get(&quot;/pacientes/9999&quot;)\n                .then().statusCode(200);\n    }\n</code></pre>\n<p>BaseTest.class:</p>\n<pre><code>public class BaseTest {\n    public BaseTest(){\n        baseURI = &quot;http://localhost&quot;;\n        port = 8080;\n        basePath = &quot;/api&quot;;\n    }\n\n    public static String getJWT() {\n        return given()\n                .body(&quot;{\\n&quot; + &quot;\\t\\&quot;email\\&quot;: \\&quot;paula@gmail.com\\&quot;,\\n&quot; + &quot;\\t\\&quot;senha\\&quot;: \\&quot;senha\\&quot;\\n&quot; + &quot;}&quot;)\n                .contentType(ContentType.JSON)\n                .when()\n                .post(&quot;/user/login&quot;)\n                .then()\n                .extract()\n                .path(&quot;token&quot;);\n    }\n}\n</code></pre>\n<p>Versions:</p>\n<ul>\n<li>Java 17</li>\n<li>RestAssured 5.3.0</li>\n<li>SpringBoot 2.7.0</li>\n<li>SpringBoot Starter Test 2.7.0</li>\n<li>Junit 4.13.2</li>\n</ul>\n"},{"tags":["java","javafx","package"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1687447669,"post_id":76532896,"comment_id":134941284,"body_markdown":"Looks like this may be a version mismatch between the javafx.graphics module and the javafx.media modules. Check you are using the same version for all modules. Post your module-info.java (if you have one) and your pom.xml or gradle.build file.","body":"Looks like this may be a version mismatch between the javafx.graphics module and the javafx.media modules. Check you are using the same version for all modules. Post your module-info.java (if you have one) and your pom.xml or gradle.build file."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1687447736,"post_id":76532896,"comment_id":134941303,"body_markdown":"This isn&#39;t the cause of the problem, but the way you are accessing the media file is incorrect. (The `src` folder is not typically available at runtime.) See https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other","body":"This isn&#39;t the cause of the problem, but the way you are accessing the media file is incorrect. (The <code>src</code> folder is not typically available at runtime.) See <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\" title=\"how do i determine the correct path for fxml files css files images and other\">stackoverflow.com/questions/61531317/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1687453959,"post_id":76532896,"comment_id":134942540,"body_markdown":"JavaFX classes should not be in the unnamed module.  That means you have misconfigured your runtime.  The javafx-media jmod (or Maven artifact jar or JavaFX SDK lib directory) should be on your module path and the javafx.media module should be either added as a module in your VM parameters or required in your application&#39;s module-info.java.  An alternative is to delete your JavaFX SDK and JDK and instead use a JDK that includes JavaFX such as Azul Zulu &quot;JDK FX&quot;, then you don&#39;t need any special module settings to use JavaFX from your app.","body":"JavaFX classes should not be in the unnamed module.  That means you have misconfigured your runtime.  The javafx-media jmod (or Maven artifact jar or JavaFX SDK lib directory) should be on your module path and the javafx.media module should be either added as a module in your VM parameters or required in your application&#39;s module-info.java.  An alternative is to delete your JavaFX SDK and JDK and instead use a JDK that includes JavaFX such as Azul Zulu &quot;JDK FX&quot;, then you don&#39;t need any special module settings to use JavaFX from your app."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1687462540,"post_id":76532896,"comment_id":134944184,"body_markdown":"&quot;_And yes, I know the program doesn&#39;t leave the method_&quot; -- Actually, the program _will_ leave the method, as the media will play asynchronously. Though this fact will lead to another problem once you fix your current error. Since you do not keep a strong reference to the `MediaPlayer`, it will eventually be garbage collected. And when that happens--which _could_ happen immediately--the media will stop playing &quot;unexpectedly&quot;.","body":"&quot;<i>And yes, I know the program doesn&#39;t leave the method</i>&quot; -- Actually, the program <i>will</i> leave the method, as the media will play asynchronously. Though this fact will lead to another problem once you fix your current error. Since you do not keep a strong reference to the <code>MediaPlayer</code>, it will eventually be garbage collected. And when that happens--which <i>could</i> happen immediately--the media will stop playing &quot;unexpectedly&quot;."}],"owner":{"account_id":26289387,"reputation":3,"user_id":19956612,"display_name":"Nichlas Andersson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687461533,"answer_count":0,"score":0,"last_activity_date":1687443650,"creation_date":1687443650,"question_id":76532896,"body_markdown":"This is the code i&#39;m trying to execute:\r\n\r\n```\r\n    public void playSound (){\r\n        Media media = new Media(new File(audioFile).toURI().toString());\r\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n        mediaPlayer.setCycleCount(MediaPlayer.INDEFINITE);\r\n        mediaPlayer.play();\r\n    }\r\n```\r\n\r\n*(And yes, I know the program doesn&#39;t leave the method, but I wanted to see first if the Media object works)*\r\n\r\nThis is the value of the audioFile instance:\r\n\r\n```\r\nthis.audioFile = &quot;C:\\\\(...)\\\\Pomodoro\\\\src\\\\Sounds\\\\calm.wav&quot;;\r\n```\r\n\r\nI&#39;m trying to call this method when a timer reaches zero. But I get the following error message when my Media object is instantiated:\r\n\r\n*Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x2e23a125) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x2e23a125*\r\n\r\nAny suggestion on how to proceed?\r\n\r\nI use JavaFX sdk - 20.0.1 and Java jdk-19\r\n\r\nI asked ChatGPT for some advice, and it suggested that I should add *&#39;--add-exports javafx.graphics/com.sun.glass.utils=ALL-UNNAMED*&#39; in the VM-options run configuration. But that didn&#39;t help. I got the same error message.","title":"Why doesn&#39;t my Media object work in JavaFX? &quot;javafx.graphics does not export com.sun.glass.utils&quot;","body":"<p>This is the code i'm trying to execute:</p>\n<pre><code>    public void playSound (){\n        Media media = new Media(new File(audioFile).toURI().toString());\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\n        mediaPlayer.setCycleCount(MediaPlayer.INDEFINITE);\n        mediaPlayer.play();\n    }\n</code></pre>\n<p><em>(And yes, I know the program doesn't leave the method, but I wanted to see first if the Media object works)</em></p>\n<p>This is the value of the audioFile instance:</p>\n<pre><code>this.audioFile = &quot;C:\\\\(...)\\\\Pomodoro\\\\src\\\\Sounds\\\\calm.wav&quot;;\n</code></pre>\n<p>I'm trying to call this method when a timer reaches zero. But I get the following error message when my Media object is instantiated:</p>\n<p><em>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x2e23a125) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x2e23a125</em></p>\n<p>Any suggestion on how to proceed?</p>\n<p>I use JavaFX sdk - 20.0.1 and Java jdk-19</p>\n<p>I asked ChatGPT for some advice, and it suggested that I should add <em>'--add-exports javafx.graphics/com.sun.glass.utils=ALL-UNNAMED</em>' in the VM-options run configuration. But that didn't help. I got the same error message.</p>\n"},{"tags":["java","web-services","spring","maven","cxf"],"comments":[{"owner":{"account_id":124832,"reputation":21488,"user_id":320180,"accept_rate":80,"display_name":"ndeverge"},"score":0,"creation_date":1335164550,"post_id":10276054,"comment_id":13217315,"body_markdown":"Did you add `spring-context` as a Maven dependency ?","body":"Did you add <code>spring-context</code> as a Maven dependency ?"}],"answers":[{"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1335167115,"creation_date":1335167115,"answer_id":10276684,"question_id":10276054,"body_markdown":"You probably have multiple versions of Spring (2.5.6 vs 3.0 or 3.1) on the classpath. Check your Maven dependencies.","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>You probably have multiple versions of Spring (2.5.6 vs 3.0 or 3.1) on the classpath. Check your Maven dependencies.</p>\n"},{"tags":[],"owner":{"account_id":16683,"reputation":14507,"user_id":36611,"display_name":"Daniel Kulp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1335198343,"creation_date":1335198343,"answer_id":10284414,"question_id":10276054,"body_markdown":"\r\nCouple of options:\r\n\r\n1) Update to Spring 3.x - it looks like you are using 2.5.x.\r\n\r\n2) Update to the latest releases of CXF released last week.   CXF SHOULD still work with spring 2.5.x (but likely not for much longer), but an errant commit caused the 2.5.2 to no longer work with 2.5.x.  This was fixed for 2.6/2.5.3.\r\n\r\n","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>Couple of options:</p>\n\n<p>1) Update to Spring 3.x - it looks like you are using 2.5.x.</p>\n\n<p>2) Update to the latest releases of CXF released last week.   CXF SHOULD still work with spring 2.5.x (but likely not for much longer), but an errant commit caused the 2.5.2 to no longer work with 2.5.x.  This was fixed for 2.6/2.5.3.</p>\n"},{"tags":[],"owner":{"account_id":406518,"reputation":517,"user_id":776087,"accept_rate":75,"display_name":"fizmax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419138827,"creation_date":1419138827,"answer_id":27586931,"question_id":10276054,"body_markdown":"I had that same problem when trying to use cxf with Camel. \r\n\r\nBut it occurred because I added old `cxf-rt-ws-security` module that had dependency on older cxf than my `camel-cxf` had. Make sure you have common version for all cxf modules.","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>I had that same problem when trying to use cxf with Camel. </p>\n\n<p>But it occurred because I added old <code>cxf-rt-ws-security</code> module that had dependency on older cxf than my <code>camel-cxf</code> had. Make sure you have common version for all cxf modules.</p>\n"},{"tags":[],"owner":{"account_id":3567133,"reputation":623,"user_id":2978362,"accept_rate":67,"display_name":"vsriram92"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671818789,"creation_date":1671818789,"answer_id":74902738,"question_id":10276054,"body_markdown":"I had similar issue where I had my Spring context available inside the lib folder of my war and its transitive dependency such as cxf-rt-ws-policy, cxf-core was kept in tomcat lib folder.\r\n\r\nMoving cxf-rt-ws-policy and cxf-core to the war&#39;s lib folder solved the issue.","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>I had similar issue where I had my Spring context available inside the lib folder of my war and its transitive dependency such as cxf-rt-ws-policy, cxf-core was kept in tomcat lib folder.</p>\n<p>Moving cxf-rt-ws-policy and cxf-core to the war's lib folder solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687442520,"creation_date":1687442520,"answer_id":76532737,"question_id":10276054,"body_markdown":"In my case the root cause was, that I had `cxf:bus` in `clients.xml` \r\n\r\n```xml\r\n\t&lt;cxf:bus&gt;\r\n\t\t&lt;cxf:features&gt;\r\n\t\t\t&lt;bean class=&quot;org.apache.cxf.ext.logging.LoggingFeature&quot;/&gt;\r\n\t\t&lt;/cxf:features&gt;\r\n\t&lt;/cxf:bus&gt;\r\n```\r\n\r\nbut I had CXF:Bus bean created on other places.","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>In my case the root cause was, that I had <code>cxf:bus</code> in <code>clients.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;cxf:bus&gt;\n        &lt;cxf:features&gt;\n            &lt;bean class=&quot;org.apache.cxf.ext.logging.LoggingFeature&quot;/&gt;\n        &lt;/cxf:features&gt;\n    &lt;/cxf:bus&gt;\n</code></pre>\n<p>but I had CXF:Bus bean created on other places.</p>\n"}],"owner":{"account_id":1028935,"reputation":1696,"user_id":1037644,"accept_rate":100,"display_name":"Tino M Thomas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19915,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":10276684,"answer_count":5,"score":3,"last_activity_date":1687442520,"creation_date":1335164145,"question_id":10276054,"body_markdown":"I just tried to run a simple web service application with Apache CXF and Spring by Maven, but I got the following error when I started Tomcat:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cxf&#39; defined in class path resource [META-INF/cxf/cxf.xml]: Initialization of bean failed; nested exception is java.lang.NoSuchMethodError: org.springframework.context.support.AbstractApplicationContext.addApplicationListener(Lorg/springframework/context/ApplicationListener;)V\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.context.support.AbstractApplicationContext.addApplicationListener(Lorg/springframework/context/ApplicationListener;)V\r\n    \tat org.apache.cxf.bus.spring.SpringBus.setApplicationContext(SpringBus.java:78)\r\n    \tat org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:86)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:843)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:419)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:241)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:152)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:199)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:661)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerListeners(AbstractApplicationContext.java:505)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:328)\r\n    \tat org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.refresh(AbstractRefreshableWebApplicationContext.java:155)\r\n    \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:246)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:184)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:49)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4205)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4704)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\r\n    \tat org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\r\n    \tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\r\n    \tat org.apache.catalina.core.StandardService.start(StandardService.java:525)\r\n    \tat org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:595)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\r\n\r\nIs there any way to resolve this error?\r\n","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>I just tried to run a simple web service application with Apache CXF and Spring by Maven, but I got the following error when I started Tomcat:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cxf' defined in class path resource [META-INF/cxf/cxf.xml]: Initialization of bean failed; nested exception is java.lang.NoSuchMethodError: org.springframework.context.support.AbstractApplicationContext.addApplicationListener(Lorg/springframework/context/ApplicationListener;)V\nCaused by: java.lang.NoSuchMethodError: org.springframework.context.support.AbstractApplicationContext.addApplicationListener(Lorg/springframework/context/ApplicationListener;)V\n    at org.apache.cxf.bus.spring.SpringBus.setApplicationContext(SpringBus.java:78)\n    at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:86)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:296)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:843)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:419)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:241)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:152)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:199)\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:661)\n    at org.springframework.context.support.AbstractApplicationContext.registerListeners(AbstractApplicationContext.java:505)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:328)\n    at org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.refresh(AbstractRefreshableWebApplicationContext.java:155)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:246)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:184)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:49)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4205)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4704)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\n    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\n    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\n    at org.apache.catalina.core.StandardService.start(StandardService.java:525)\n    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\n</code></pre>\n<p>Is there any way to resolve this error?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1687291679,"post_id":76517922,"comment_id":134915486,"body_markdown":"Use a custom serializer. [Here&#39;s an example.](https://www.baeldung.com/jackson-custom-serialization)","body":"Use a custom serializer. <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">Here&#39;s an example.</a>"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1687293705,"post_id":76517922,"comment_id":134915785,"body_markdown":"@Christopher Schneider I updated the question title to make it more clear. I&#39;m looking for a solution for HTTP Get Response for the Rest API.","body":"@Christopher Schneider I updated the question title to make it more clear. I&#39;m looking for a solution for HTTP Get Response for the Rest API."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687300313,"post_id":76517922,"comment_id":134916674,"body_markdown":"As usual with this kind of question, you should not serialize/deserialize your entities. Use DTOs for this purpose.","body":"As usual with this kind of question, you should not serialize/deserialize your entities. Use DTOs for this purpose."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1687304630,"post_id":76517922,"comment_id":134917073,"body_markdown":"I do have DTOs. I didn&#39;t put in the question for simplicity. You can consider that the two classes I mentioned in the question are DTOs. What would be the solution in that case?","body":"I do have DTOs. I didn&#39;t put in the question for simplicity. You can consider that the two classes I mentioned in the question are DTOs. What would be the solution in that case?"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1687305071,"post_id":76517922,"comment_id":134917104,"body_markdown":"And btw I had updated the question title to remove the word serialization.","body":"And btw I had updated the question title to remove the word serialization."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1687316811,"post_id":76517922,"comment_id":134918070,"body_markdown":"@jkfe That doesn&#39;t change that the solution is to use a custom serializer.","body":"@jkfe That doesn&#39;t change that the solution is to use a custom serializer."}],"answers":[{"tags":[],"owner":{"account_id":82804,"reputation":15527,"user_id":232566,"accept_rate":50,"display_name":"RQDQ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687442264,"creation_date":1687293786,"answer_id":76518274,"question_id":76517922,"body_markdown":"One way to approach this is to return references to identifiers rather than the full object:\r\n\r\n```json\r\n{\r\n  &quot;users&quot;: [ \r\n     {\r\n        &quot;userId&quot;: &quot;1&quot;,\r\n        &quot;userName&quot;: &quot;USER1&quot;,\r\n        &quot;roleIds&quot;: [&quot;5, 6&quot;]\r\n     },\r\n     {\r\n         &quot;userId&quot;: &quot;2&quot;,\r\n         &quot;userName&quot;: &quot;USER2&quot;,\r\n         &quot;roleIds&quot;: [&quot;5, 6&quot;]\r\n     }\r\n  ],\r\n\r\n  &quot;roles&quot;: [\r\n     {\r\n        &quot;roleId&quot;: &quot;5&quot;,\r\n        &quot;role&quot;: &quot;ADMIN&quot;,\r\n        &quot;userIds&quot;: [&quot;1&quot;, &quot;2&quot;]\r\n     },\r\n     {\r\n        &quot;roleId&quot;: &quot;6&quot;,\r\n        &quot;role&quot;: &quot;MANAGER&quot;,\r\n        &quot;userIds&quot;: [&quot;1&quot;, &quot;2&quot;]\r\n     }\r\n  ]\r\n}\r\n```\r\n\r\nYou can also use a more generic approach as described in [Falcor](https://netflix.github.io/falcor/documentation/jsongraph.html):\r\n\r\n```json\r\n{\r\n    &quot;usersById&quot;: {\r\n        &quot;1&quot;: {\r\n            userName: &quot;USER1&quot;,\r\n            roles: [\r\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\r\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }\r\n            ]\r\n        },\r\n        &quot;2&quot;: {\r\n            userName: &quot;USER2&quot;,\r\n            roles: [\r\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\r\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }\r\n            ]\r\n        }\r\n    },\r\n    &quot;rolesById&quot;: {\r\n        &quot;5&quot;: {\r\n           role: &quot;ADMIN&quot;,\r\n           users: [\r\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\r\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }\r\n           ]\r\n        },\r\n        &quot;6&quot;: {\r\n           role: &quot;MANAGER&quot;,\r\n           users: [\r\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\r\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }\r\n           ]\r\n        }\r\n\r\n    },\r\n    &quot;users&quot;: [\r\n        { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\r\n        { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }       \r\n    ],\r\n    &quot;roles&quot;: [\r\n        { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\r\n        { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }       \r\n    ]\r\n}\r\n```\r\n\r\n# Edit\r\n\r\n## GetUsers\r\n\r\nJust craft DTOs that don&#39;t have the circular references:\r\n\r\n```json\r\n{\r\n    &quot;userId&quot;: &quot;1&quot;,\r\n    &quot;userName&quot;: &quot;USER1&quot;,\r\n    &quot;roles&quot;: [\r\n        {\r\n            &quot;roleId&quot;: &quot;5&quot;,\r\n            &quot;role&quot;: &quot;ADMIN&quot;\r\n        },\r\n        {\r\n            &quot;roleId&quot;: &quot;6&quot;,\r\n            &quot;role&quot;: &quot;MANAGER&quot;\r\n        }\r\n    ]\r\n}\r\n```","title":"How to remove circular reference from a REST API response?","body":"<p>One way to approach this is to return references to identifiers rather than the full object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;users&quot;: [ \n     {\n        &quot;userId&quot;: &quot;1&quot;,\n        &quot;userName&quot;: &quot;USER1&quot;,\n        &quot;roleIds&quot;: [&quot;5, 6&quot;]\n     },\n     {\n         &quot;userId&quot;: &quot;2&quot;,\n         &quot;userName&quot;: &quot;USER2&quot;,\n         &quot;roleIds&quot;: [&quot;5, 6&quot;]\n     }\n  ],\n\n  &quot;roles&quot;: [\n     {\n        &quot;roleId&quot;: &quot;5&quot;,\n        &quot;role&quot;: &quot;ADMIN&quot;,\n        &quot;userIds&quot;: [&quot;1&quot;, &quot;2&quot;]\n     },\n     {\n        &quot;roleId&quot;: &quot;6&quot;,\n        &quot;role&quot;: &quot;MANAGER&quot;,\n        &quot;userIds&quot;: [&quot;1&quot;, &quot;2&quot;]\n     }\n  ]\n}\n</code></pre>\n<p>You can also use a more generic approach as described in <a href=\"https://netflix.github.io/falcor/documentation/jsongraph.html\" rel=\"nofollow noreferrer\">Falcor</a>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;usersById&quot;: {\n        &quot;1&quot;: {\n            userName: &quot;USER1&quot;,\n            roles: [\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }\n            ]\n        },\n        &quot;2&quot;: {\n            userName: &quot;USER2&quot;,\n            roles: [\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }\n            ]\n        }\n    },\n    &quot;rolesById&quot;: {\n        &quot;5&quot;: {\n           role: &quot;ADMIN&quot;,\n           users: [\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }\n           ]\n        },\n        &quot;6&quot;: {\n           role: &quot;MANAGER&quot;,\n           users: [\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }\n           ]\n        }\n\n    },\n    &quot;users&quot;: [\n        { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\n        { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }       \n    ],\n    &quot;roles&quot;: [\n        { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\n        { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }       \n    ]\n}\n</code></pre>\n<h1>Edit</h1>\n<h2>GetUsers</h2>\n<p>Just craft DTOs that don't have the circular references:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;userId&quot;: &quot;1&quot;,\n    &quot;userName&quot;: &quot;USER1&quot;,\n    &quot;roles&quot;: [\n        {\n            &quot;roleId&quot;: &quot;5&quot;,\n            &quot;role&quot;: &quot;ADMIN&quot;\n        },\n        {\n            &quot;roleId&quot;: &quot;6&quot;,\n            &quot;role&quot;: &quot;MANAGER&quot;\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76518274,"answer_count":1,"score":-2,"last_activity_date":1687442264,"creation_date":1687290008,"question_id":76517922,"body_markdown":"When returning a json that has a child object that refereces the parent, there&#39;s a circular reference problem causing an error because the loop never ends.\r\n\r\nFor instance, let&#39;s say I have a relationship between User entity and a Roles entity and I want to return them in a json.\r\n\r\nGetUsers\r\n\r\n```\r\n{\r\n    &quot;userId&quot;: &quot;1&quot;,\r\n    &quot;userName&quot;: &quot;USER1&quot;,\r\n    &quot;roles&quot;: [\r\n    \t{\r\n        \t&quot;roleId&quot;: &quot;5&quot;,\r\n        \t&quot;role&quot;: &quot;ADMIN&quot;,\r\n\t\t\t&quot;users&quot;: [\r\n\t\t\t\t\t{   /*CIRCULAR REFERENCE HERE*/\r\n\t\t\t\t\t\t&quot;userId&quot;: &quot;1&quot;,\r\n\t\t\t\t\t\t&quot;userName&quot;: &quot;USER1&quot;,\r\n\t\t\t\t\t\t&quot;roles&quot;: [...]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;userId&quot;: &quot;2&quot;,\r\n\t\t\t\t\t\t&quot;userName&quot;: &quot;USER2&quot;,\r\n\t\t\t\t\t\t&quot;roles&quot;: [...]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\r\n    \t},\r\n    \t{\r\n       \t\t&quot;roleId&quot;: &quot;6&quot;,\r\n        \t&quot;role&quot;: &quot;MANAGER&quot;\r\n\t\t\t&quot;users&quot;: [...]\r\n    \t}\r\n\t]\r\n}\r\n```\r\n\r\nGetRoles\r\n\r\n```\r\n{\r\n    &quot;roleId&quot;: &quot;5&quot;,\r\n    &quot;role&quot;: &quot;ADMIN&quot;,\r\n    &quot;users&quot;: [\r\n    \t{\r\n        \t&quot;userId&quot;: &quot;1&quot;,\r\n        \t&quot;userName&quot;: &quot;USER1&quot;,\r\n\t\t\t&quot;roles&quot;: [\r\n\t\t\t\t\t{   /*CIRCULAR REFERENCE HERE*/\r\n\t\t\t\t\t\t&quot;roleId&quot;: &quot;5&quot;,\r\n\t\t\t\t\t\t&quot;role&quot;: &quot;ADMIN&quot;,\r\n\t\t\t\t\t\t&quot;users&quot;: [...]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;roleId&quot;: &quot;6&quot;,\r\n\t\t\t\t\t\t&quot;role&quot;: &quot;MANAGER&quot;,\r\n\t\t\t\t\t\t&quot;users&quot;: [...]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\r\n    \t},\r\n    \t{\r\n       \t\t&quot;userId&quot;: &quot;2&quot;,\r\n        \t&quot;userName&quot;: &quot;USER2&quot;,\r\n\t\t\t&quot;roles&quot;: [...]\r\n    \t}\r\n\t]\r\n}\r\n```\r\n\r\nWhat is the best approach to solve this issue?\r\n\r\nI know I could use @JsonIgnore for Roles attribute in the Users entity and for Users attribute in Roles entity.\r\n\r\nBut then GetUsers would not return roles data and GetRoles would not return users data.\r\n\r\nI&#39;d like a solution that returns those, but not the circular reference. Like this:\r\n\r\nGetUsers\r\n\r\n```\r\n{\r\n    &quot;userId&quot;: &quot;1&quot;,\r\n    &quot;userName&quot;: &quot;USER1&quot;,\r\n    &quot;roles&quot;: [\r\n    \t{\r\n        \t&quot;roleId&quot;: &quot;5&quot;,\r\n        \t&quot;role&quot;: &quot;ADMIN&quot;\r\n    \t},\r\n    \t{\r\n       \t\t&quot;roleId&quot;: &quot;6&quot;,\r\n        \t&quot;role&quot;: &quot;MANAGER&quot;\r\n    \t}\r\n\t]\r\n}\r\n```\r\n\r\nGetRoles\r\n\r\n```\r\n{\r\n    &quot;roleId&quot;: &quot;5&quot;,\r\n    &quot;role&quot;: &quot;ADMIN&quot;,\r\n    &quot;users&quot;: [\r\n    \t{\r\n        \t&quot;userId&quot;: &quot;1&quot;,\r\n        \t&quot;userName&quot;: &quot;USER1&quot;\r\n    \t},\r\n    \t{\r\n       \t\t&quot;userId&quot;: &quot;2&quot;,\r\n        \t&quot;userName&quot;: &quot;USER2&quot;\r\n    \t}\r\n\t]\r\n}\r\n```\r\n\r\n","title":"How to remove circular reference from a REST API response?","body":"<p>When returning a json that has a child object that refereces the parent, there's a circular reference problem causing an error because the loop never ends.</p>\n<p>For instance, let's say I have a relationship between User entity and a Roles entity and I want to return them in a json.</p>\n<p>GetUsers</p>\n<pre><code>{\n    &quot;userId&quot;: &quot;1&quot;,\n    &quot;userName&quot;: &quot;USER1&quot;,\n    &quot;roles&quot;: [\n        {\n            &quot;roleId&quot;: &quot;5&quot;,\n            &quot;role&quot;: &quot;ADMIN&quot;,\n            &quot;users&quot;: [\n                    {   /*CIRCULAR REFERENCE HERE*/\n                        &quot;userId&quot;: &quot;1&quot;,\n                        &quot;userName&quot;: &quot;USER1&quot;,\n                        &quot;roles&quot;: [...]\n                    },\n                    {\n                        &quot;userId&quot;: &quot;2&quot;,\n                        &quot;userName&quot;: &quot;USER2&quot;,\n                        &quot;roles&quot;: [...]\n                    }\n                ]\n\n        },\n        {\n            &quot;roleId&quot;: &quot;6&quot;,\n            &quot;role&quot;: &quot;MANAGER&quot;\n            &quot;users&quot;: [...]\n        }\n    ]\n}\n</code></pre>\n<p>GetRoles</p>\n<pre><code>{\n    &quot;roleId&quot;: &quot;5&quot;,\n    &quot;role&quot;: &quot;ADMIN&quot;,\n    &quot;users&quot;: [\n        {\n            &quot;userId&quot;: &quot;1&quot;,\n            &quot;userName&quot;: &quot;USER1&quot;,\n            &quot;roles&quot;: [\n                    {   /*CIRCULAR REFERENCE HERE*/\n                        &quot;roleId&quot;: &quot;5&quot;,\n                        &quot;role&quot;: &quot;ADMIN&quot;,\n                        &quot;users&quot;: [...]\n                    },\n                    {\n                        &quot;roleId&quot;: &quot;6&quot;,\n                        &quot;role&quot;: &quot;MANAGER&quot;,\n                        &quot;users&quot;: [...]\n                    }\n                ]\n\n        },\n        {\n            &quot;userId&quot;: &quot;2&quot;,\n            &quot;userName&quot;: &quot;USER2&quot;,\n            &quot;roles&quot;: [...]\n        }\n    ]\n}\n</code></pre>\n<p>What is the best approach to solve this issue?</p>\n<p>I know I could use @JsonIgnore for Roles attribute in the Users entity and for Users attribute in Roles entity.</p>\n<p>But then GetUsers would not return roles data and GetRoles would not return users data.</p>\n<p>I'd like a solution that returns those, but not the circular reference. Like this:</p>\n<p>GetUsers</p>\n<pre><code>{\n    &quot;userId&quot;: &quot;1&quot;,\n    &quot;userName&quot;: &quot;USER1&quot;,\n    &quot;roles&quot;: [\n        {\n            &quot;roleId&quot;: &quot;5&quot;,\n            &quot;role&quot;: &quot;ADMIN&quot;\n        },\n        {\n            &quot;roleId&quot;: &quot;6&quot;,\n            &quot;role&quot;: &quot;MANAGER&quot;\n        }\n    ]\n}\n</code></pre>\n<p>GetRoles</p>\n<pre><code>{\n    &quot;roleId&quot;: &quot;5&quot;,\n    &quot;role&quot;: &quot;ADMIN&quot;,\n    &quot;users&quot;: [\n        {\n            &quot;userId&quot;: &quot;1&quot;,\n            &quot;userName&quot;: &quot;USER1&quot;\n        },\n        {\n            &quot;userId&quot;: &quot;2&quot;,\n            &quot;userName&quot;: &quot;USER2&quot;\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","integration-testing","testcontainers"],"owner":{"account_id":8567037,"reputation":59,"user_id":6419217,"accept_rate":12,"display_name":"user6419217"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687442232,"creation_date":1687440528,"question_id":76532428,"body_markdown":"During integration tests execution some of the test cases randomly fail with the error below. Sometimes test run finishes successfully with all green.\r\n```java\r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [insert into &quot;space&quot; (&quot;created_by&quot;, &quot;created_date&quot;, &quot;last_modified_by&quot;, &quot;last_modified_date&quot;, &quot;alias&quot;, &quot;banner_text&quot;, &quot;business_unit_id&quot;, &quot;state&quot;, &quot;id&quot;) values (?, ?, ?, ?, ?, ?, ?, ?, ?)]; constraint [space_pkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\r\n\r\n....\r\n\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\r\n\r\n....\r\n\r\nCaused by: java.sql.BatchUpdateException: Batch entry 0 insert into &quot;space&quot; (&quot;created_by&quot;, &quot;created_date&quot;, &quot;last_modified_by&quot;, &quot;last_modified_date&quot;, &quot;alias&quot;, &quot;banner_text&quot;, &quot;business_unit_id&quot;, &quot;state&quot;, &quot;id&quot;) values (&#39;system&#39;, &#39;2023-06-22 13:02:28.606027+00&#39;, &#39;system&#39;, &#39;2023-06-22 13:02:28.606027+00&#39;, &#39;shouldDeleteSpaceWithGroups&#39;, NULL, 1, 0, 100092) was aborted: ERROR: duplicate key value violates unique constraint &quot;space_pkey&quot;\r\n  Detail: Key (id)=(100092) already exists.\r\n  Location: File: nbtinsert.c, Routine: _bt_check_unique, Line: 534\r\n\r\n...\r\n\r\nCaused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;space_pkey&quot;\r\n  Detail: Key (id)=(100092) already exists.\r\n  Location: File: nbtinsert.c, Routine: _bt_check_unique, Line: 534\r\n  Server SQLState: 23505\r\n```\r\n\r\nThe respected entity looks like:\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString(callSuper = true, of = &quot;alias&quot;)\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;space&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\npublic class Space extends AbstractAuditingEntity {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;alias&quot;, nullable = false, unique = true)\r\n    private String alias;\r\n\r\n    @Enumerated(EnumType.ORDINAL)\r\n    @Column(name = &quot;state&quot;, nullable = false)\r\n    private EntityState state = EntityState.ENABLED;\r\n\r\n    @OneToMany(mappedBy = &quot;space&quot;)\r\n    private Set&lt;UserGroup&gt; userGroups = new HashSet&lt;&gt;();\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;business_unit_id&quot;)\r\n    private BusinessUnit businessUnit;\r\n}\r\n```\r\n\r\nAnd the class it extends:\r\n```java\r\n@Getter\r\n@Setter\r\n@MappedSuperclass\r\n@Audited\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic abstract class AbstractAuditingEntity implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public AbstractAuditingEntity() {\r\n    }\r\n\r\n    public AbstractAuditingEntity(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;, sequenceName = &quot;hibernate_sequence&quot;)\r\n    private Long id;\r\n\r\n    @CreatedBy\r\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\r\n    @JsonIgnore\r\n    private String createdBy;\r\n\r\n    @CreatedDate\r\n    @Column(name = &quot;created_date&quot;, nullable = false, updatable = false)\r\n    @JsonIgnore\r\n    private Instant createdDate = Instant.now();\r\n\r\n    @LastModifiedBy\r\n    @Column(name = &quot;last_modified_by&quot;, length = 50)\r\n    @JsonIgnore\r\n    private String lastModifiedBy;\r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;last_modified_date&quot;)\r\n    @JsonIgnore\r\n    private Instant lastModifiedDate = Instant.now();\r\n}\r\n```\r\n\r\nMy setup:\r\n 1. I execute `Spring Boot`(2.7.3) integration tests using `TestContainers`(1.18.0) running `PostgreSQL`. `Hibernate` version 5.6.10.Final\r\n 2. About 20 test classes with 260 tests.\r\n 3. I enabled Spring Application Context DEBUG logging, and I see that 8 application contexts are cached.\r\n 4. Anotation I use on all integration test classes:\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\n@ActiveProfiles({&quot;unittest&quot;, &quot;non-async&quot;})\r\n@SpringBootTest(classes = TicApp.class)\r\npublic @interface TicIntegrationTest {\r\n}\r\n```\r\n5. I also have a helper class which I use a lot to prepare db state for test cases. The error in 99% happens when executing `createSpace()` method. Class reduced version:\r\n```java\r\npublic class RestHelper {\r\n\r\n    private static final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    private final MockMvc mockMvc;\r\n\r\n    static {\r\n        objectMapper.findAndRegisterModules();\r\n    }\r\n\r\n    public RestHelper(MockMvc mockMvc) {\r\n        this.mockMvc = mockMvc;\r\n    }\r\n\r\n    public SpaceHeaderDTO createSpace(String spaceAlias, String spaceName, HttpStatus expectedStatus) throws Exception {\r\n        SpaceHeaderDTO spaceHeaderDTO = SpaceHeaderDTO.builder()\r\n            .alias(spaceAlias)\r\n            .name(spaceName)\r\n            .admins(Collections.emptySet())\r\n            .businessUnitId(1)\r\n            .build();\r\n\r\n        String jsonRequest = objectMapper.writeValueAsString(spaceHeaderDTO);\r\n        String json = mockMvc.perform(post(&quot;/api/spaces&quot;, spaceHeaderDTO)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(jsonRequest))\r\n            .andExpect(status().is(expectedStatus.value()))\r\n            .andReturn().getResponse().getContentAsString();\r\n        return parseJson(json, SpaceHeaderDTO.class, null, expectedStatus);\r\n    }\r\n}\r\n```\r\n\r\nAt first I was thinking that the problem resides in Spring Application Context switching: a mismatch between DB state in TestContainers and the context. But when I set a debug point - I see that DB contains not all tests, but just a subset of them. So, I think it switches with the context.\r\n\r\nI was trying to add `@BeforeAll/@AfterAll` annotation to each class in order to clean up DB by calling all `repositoryName.deleteAll()`. But in this case I started receiving errors that it tried to delete entity with ID which wasn&#39;t found in DB. So to say, the opposite error.\r\n\r\nIn what direction to look in order to solve this problem?\r\n\r\n\r\n","title":"Spring Boot Integration Test using TestContainers: primary key violation on DB insert","body":"<p>During integration tests execution some of the test cases randomly fail with the error below. Sometimes test run finishes successfully with all green.</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [insert into &quot;space&quot; (&quot;created_by&quot;, &quot;created_date&quot;, &quot;last_modified_by&quot;, &quot;last_modified_date&quot;, &quot;alias&quot;, &quot;banner_text&quot;, &quot;business_unit_id&quot;, &quot;state&quot;, &quot;id&quot;) values (?, ?, ?, ?, ?, ?, ?, ?, ?)]; constraint [space_pkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\n\n....\n\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\n\n....\n\nCaused by: java.sql.BatchUpdateException: Batch entry 0 insert into &quot;space&quot; (&quot;created_by&quot;, &quot;created_date&quot;, &quot;last_modified_by&quot;, &quot;last_modified_date&quot;, &quot;alias&quot;, &quot;banner_text&quot;, &quot;business_unit_id&quot;, &quot;state&quot;, &quot;id&quot;) values ('system', '2023-06-22 13:02:28.606027+00', 'system', '2023-06-22 13:02:28.606027+00', 'shouldDeleteSpaceWithGroups', NULL, 1, 0, 100092) was aborted: ERROR: duplicate key value violates unique constraint &quot;space_pkey&quot;\n  Detail: Key (id)=(100092) already exists.\n  Location: File: nbtinsert.c, Routine: _bt_check_unique, Line: 534\n\n...\n\nCaused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;space_pkey&quot;\n  Detail: Key (id)=(100092) already exists.\n  Location: File: nbtinsert.c, Routine: _bt_check_unique, Line: 534\n  Server SQLState: 23505\n</code></pre>\n<p>The respected entity looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString(callSuper = true, of = &quot;alias&quot;)\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;space&quot;)\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class Space extends AbstractAuditingEntity {\n    private static final long serialVersionUID = 1L;\n\n    @NotNull\n    @Column(name = &quot;alias&quot;, nullable = false, unique = true)\n    private String alias;\n\n    @Enumerated(EnumType.ORDINAL)\n    @Column(name = &quot;state&quot;, nullable = false)\n    private EntityState state = EntityState.ENABLED;\n\n    @OneToMany(mappedBy = &quot;space&quot;)\n    private Set&lt;UserGroup&gt; userGroups = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    @JoinColumn(name = &quot;business_unit_id&quot;)\n    private BusinessUnit businessUnit;\n}\n</code></pre>\n<p>And the class it extends:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@MappedSuperclass\n@Audited\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class AbstractAuditingEntity implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    public AbstractAuditingEntity() {\n    }\n\n    public AbstractAuditingEntity(Long id) {\n        this.id = id;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;, sequenceName = &quot;hibernate_sequence&quot;)\n    private Long id;\n\n    @CreatedBy\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\n    @JsonIgnore\n    private String createdBy;\n\n    @CreatedDate\n    @Column(name = &quot;created_date&quot;, nullable = false, updatable = false)\n    @JsonIgnore\n    private Instant createdDate = Instant.now();\n\n    @LastModifiedBy\n    @Column(name = &quot;last_modified_by&quot;, length = 50)\n    @JsonIgnore\n    private String lastModifiedBy;\n\n    @LastModifiedDate\n    @Column(name = &quot;last_modified_date&quot;)\n    @JsonIgnore\n    private Instant lastModifiedDate = Instant.now();\n}\n</code></pre>\n<p>My setup:</p>\n<ol>\n<li>I execute <code>Spring Boot</code>(2.7.3) integration tests using <code>TestContainers</code>(1.18.0) running <code>PostgreSQL</code>. <code>Hibernate</code> version 5.6.10.Final</li>\n<li>About 20 test classes with 260 tests.</li>\n<li>I enabled Spring Application Context DEBUG logging, and I see that 8 application contexts are cached.</li>\n<li>Anotation I use on all integration test classes:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@ActiveProfiles({&quot;unittest&quot;, &quot;non-async&quot;})\n@SpringBootTest(classes = TicApp.class)\npublic @interface TicIntegrationTest {\n}\n</code></pre>\n<ol start=\"5\">\n<li>I also have a helper class which I use a lot to prepare db state for test cases. The error in 99% happens when executing <code>createSpace()</code> method. Class reduced version:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class RestHelper {\n\n    private static final ObjectMapper objectMapper = new ObjectMapper();\n\n    private final MockMvc mockMvc;\n\n    static {\n        objectMapper.findAndRegisterModules();\n    }\n\n    public RestHelper(MockMvc mockMvc) {\n        this.mockMvc = mockMvc;\n    }\n\n    public SpaceHeaderDTO createSpace(String spaceAlias, String spaceName, HttpStatus expectedStatus) throws Exception {\n        SpaceHeaderDTO spaceHeaderDTO = SpaceHeaderDTO.builder()\n            .alias(spaceAlias)\n            .name(spaceName)\n            .admins(Collections.emptySet())\n            .businessUnitId(1)\n            .build();\n\n        String jsonRequest = objectMapper.writeValueAsString(spaceHeaderDTO);\n        String json = mockMvc.perform(post(&quot;/api/spaces&quot;, spaceHeaderDTO)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(jsonRequest))\n            .andExpect(status().is(expectedStatus.value()))\n            .andReturn().getResponse().getContentAsString();\n        return parseJson(json, SpaceHeaderDTO.class, null, expectedStatus);\n    }\n}\n</code></pre>\n<p>At first I was thinking that the problem resides in Spring Application Context switching: a mismatch between DB state in TestContainers and the context. But when I set a debug point - I see that DB contains not all tests, but just a subset of them. So, I think it switches with the context.</p>\n<p>I was trying to add <code>@BeforeAll/@AfterAll</code> annotation to each class in order to clean up DB by calling all <code>repositoryName.deleteAll()</code>. But in this case I started receiving errors that it tried to delete entity with ID which wasn't found in DB. So to say, the opposite error.</p>\n<p>In what direction to look in order to solve this problem?</p>\n"},{"tags":["java","intellij-idea","classpath","classnotfoundexception"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1615490784,"post_id":66589103,"comment_id":117713863,"body_markdown":"Does https://stackoverflow.com/a/42660624/104891 help?","body":"Does <a href=\"https://stackoverflow.com/a/42660624/104891\">stackoverflow.com/a/42660624/104891</a> help?"},{"owner":{"account_id":16049089,"reputation":225,"user_id":11583484,"display_name":"TiMauzi"},"score":0,"creation_date":1615503932,"post_id":66589103,"comment_id":117718725,"body_markdown":"@CrazyCoder I tried/checked all these approaches. Unfortunately, they didn&#39;t solve the problem. Plus, the Exception in the link seems to be of a different nature than the one in my problem, since the main method seems to be found in that other question. I want to emphasize that the compilation and running works as usual if the *Dependencies storage format* is set to Intellij IDEA. For the usage of a certain library, I&#39;d like to use a `.classpath` file instead, though.","body":"@CrazyCoder I tried/checked all these approaches. Unfortunately, they didn&#39;t solve the problem. Plus, the Exception in the link seems to be of a different nature than the one in my problem, since the main method seems to be found in that other question. I want to emphasize that the compilation and running works as usual if the <i>Dependencies storage format</i> is set to Intellij IDEA. For the usage of a certain library, I&#39;d like to use a <code>.classpath</code> file instead, though."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1615503991,"post_id":66589103,"comment_id":117718739,"body_markdown":"Please file a bug at https://youtrack.jetbrains.com/newIssue?project=IDEA with the sample project to reproduce attached and the logs (Help | Collect Logs and Diagnostic Data).","body":"Please file a bug at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with the sample project to reproduce attached and the logs (Help | Collect Logs and Diagnostic Data)."},{"owner":{"account_id":16049089,"reputation":225,"user_id":11583484,"display_name":"TiMauzi"},"score":0,"creation_date":1615505091,"post_id":66589103,"comment_id":117718993,"body_markdown":"@CrazyCoder Done, thank you: https://youtrack.jetbrains.com/issue/IDEA-264135","body":"@CrazyCoder Done, thank you: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-264135\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-264135</a>"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615506410,"creation_date":1615506410,"answer_id":66592197,"question_id":66589103,"body_markdown":"Thanks for the report, it [appears to be a bug](https://youtrack.jetbrains.com/issue/IDEA-264135) in IntelliJ IDEA project configuration when the dependencies format is set to Eclipse. IDE loads the project incorrectly and the sources root configuration is lost, therefore compiler doesn&#39;t get the correct information about the source files and nothing is produced in the output directory. Classpath doesn&#39;t contain any classes and the execution of the main class fails since it doesn&#39;t exist in the output (classpath).","title":"Intellij IDEA: &quot;Could not find or load main class&quot; if Dependencies Storage Format is changed to &quot;Eclipse&quot;","body":"<p>Thanks for the report, it <a href=\"https://youtrack.jetbrains.com/issue/IDEA-264135\" rel=\"nofollow noreferrer\">appears to be a bug</a> in IntelliJ IDEA project configuration when the dependencies format is set to Eclipse. IDE loads the project incorrectly and the sources root configuration is lost, therefore compiler doesn't get the correct information about the source files and nothing is produced in the output directory. Classpath doesn't contain any classes and the execution of the main class fails since it doesn't exist in the output (classpath).</p>\n"}],"owner":{"account_id":16049089,"reputation":225,"user_id":11583484,"display_name":"TiMauzi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66592197,"answer_count":1,"score":1,"last_activity_date":1687441942,"creation_date":1615490322,"question_id":66589103,"body_markdown":"I wrote a simple &quot;Hello World&quot; program in my test project in Intellij IDEA 2020.3.2 (Ultimate):\r\n\r\n```lang-java\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n\r\n}\r\n```\r\nEverything works fine when running `Test.main()` with the default configuration. Now, if I go to *File | Project Structure... | Project Settings | Modules* and change *Dependencies storage format* to *Eclipse (.classpath)*, a `.classpath` file and an `.eml` file are created (the `.iml` file is still there, but it doesn&#39;t affect the following problem, whether it&#39;s there or not).\r\nIf I now run `Test.main()`, the following error output is returned in the IDE console:\r\n\r\n```lang-txt\r\n&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\lib\\idea_rt.jar=51699:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\bin&quot; -Dfile.encoding=UTF-8 Test\r\nError: Could not find or load main class Test\r\nCaused by: java.lang.ClassNotFoundException: Test\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nWhat might be the the problem? I tried [these solutions][1], but they seem to have no effect here. Could there be a problem with the Windows 10 environment variables? The given CLASSPATH value here is `.;`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45486856/11583484","title":"Intellij IDEA: &quot;Could not find or load main class&quot; if Dependencies Storage Format is changed to &quot;Eclipse&quot;","body":"<p>I wrote a simple &quot;Hello World&quot; program in my test project in Intellij IDEA 2020.3.2 (Ultimate):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n\n}\n</code></pre>\n<p>Everything works fine when running <code>Test.main()</code> with the default configuration. Now, if I go to <em>File | Project Structure... | Project Settings | Modules</em> and change <em>Dependencies storage format</em> to <em>Eclipse (.classpath)</em>, a <code>.classpath</code> file and an <code>.eml</code> file are created (the <code>.iml</code> file is still there, but it doesn't affect the following problem, whether it's there or not).\nIf I now run <code>Test.main()</code>, the following error output is returned in the IDE console:</p>\n<pre class=\"lang-txt prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\lib\\idea_rt.jar=51699:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\bin&quot; -Dfile.encoding=UTF-8 Test\nError: Could not find or load main class Test\nCaused by: java.lang.ClassNotFoundException: Test\n\nProcess finished with exit code 1\n</code></pre>\n<p>What might be the the problem? I tried <a href=\"https://stackoverflow.com/a/45486856/11583484\">these solutions</a>, but they seem to have no effect here. Could there be a problem with the Windows 10 environment variables? The given CLASSPATH value here is <code>.;</code>.</p>\n"},{"tags":["jvm","java"],"comments":[{"owner":{"account_id":161416,"reputation":1250,"user_id":382154,"accept_rate":69,"display_name":"Ammar Bozorgvar"},"score":0,"creation_date":1292969046,"post_id":4504179,"comment_id":4929976,"body_markdown":"there is no support for this JVM from SUN or ORACLE ???","body":"there is no support for this JVM from SUN or ORACLE ???"}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292967802,"creation_date":1292967802,"answer_id":4504202,"question_id":4504179,"body_markdown":"[JavaOS][1]\r\n\r\nGood lucking getting hold of it, though, it&#39;s nothing more than a historical curiosity.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JavaOS","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p><a href=\"http://en.wikipedia.org/wiki/JavaOS\" rel=\"nofollow\">JavaOS</a></p>\n\n<p>Good lucking getting hold of it, though, it's nothing more than a historical curiosity.</p>\n"},{"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292968489,"creation_date":1292967849,"answer_id":4504206,"question_id":4504179,"body_markdown":"No.\r\n\r\nThere was an idea of making a machine that could run a JVM as an actual machine (non virtualized), similiar to LISP machines, but that idea never took off...\r\n\r\nYou need a host OS to run a JVM.\r\n\r\nGoogling &quot;java real machine&quot; might give you some interesting articles.\r\n\r\nI&#39;ve found two: [one from 2004][1], talking about how such a machine could be built and [another one][2], talking about how JVM runs as a real machine on hardware such as mobile devices.\r\n\r\nStill, no dice with a plain PC.\r\n\r\n\r\n  [1]: http://www.particle.kth.se/~lindsey/JavaCourse/Book/Part3/Chapter24/javaRealMachines.html\r\n  [2]: http://connectedplanetonline.com/mag/telecom_real_java_machine/","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p>No.</p>\n\n<p>There was an idea of making a machine that could run a JVM as an actual machine (non virtualized), similiar to LISP machines, but that idea never took off...</p>\n\n<p>You need a host OS to run a JVM.</p>\n\n<p>Googling \"java real machine\" might give you some interesting articles.</p>\n\n<p>I've found two: <a href=\"http://www.particle.kth.se/~lindsey/JavaCourse/Book/Part3/Chapter24/javaRealMachines.html\" rel=\"nofollow\">one from 2004</a>, talking about how such a machine could be built and <a href=\"http://connectedplanetonline.com/mag/telecom_real_java_machine/\" rel=\"nofollow\">another one</a>, talking about how JVM runs as a real machine on hardware such as mobile devices.</p>\n\n<p>Still, no dice with a plain PC.</p>\n"},{"tags":[],"owner":{"account_id":232391,"reputation":3552,"user_id":497193,"accept_rate":100,"display_name":"Nubok"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687441269,"creation_date":1292968546,"answer_id":4504312,"question_id":4504179,"body_markdown":"There are two JVMs that I am aware of, which have this property:\r\n\r\nThe Fiji VM: http://www.fiji-systems.com/index.html\r\n\r\nAccording to http://rtjava.blogspot.com/2009/11/new-real-time-vm-was-born-fiji-vm.html it also runs on bare metal.\r\n\r\nThe next possibility is JNode: an open source operating system where most parts are written in Java (the rest in assembly): http://www.jnode.org/\r\n\r\nJNode is still beta, though.","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p>There are two JVMs that I am aware of, which have this property:</p>\n<p>The Fiji VM: <a href=\"http://www.fiji-systems.com/index.html\" rel=\"nofollow noreferrer\">http://www.fiji-systems.com/index.html</a></p>\n<p>According to <a href=\"http://rtjava.blogspot.com/2009/11/new-real-time-vm-was-born-fiji-vm.html\" rel=\"nofollow noreferrer\">http://rtjava.blogspot.com/2009/11/new-real-time-vm-was-born-fiji-vm.html</a> it also runs on bare metal.</p>\n<p>The next possibility is JNode: an open source operating system where most parts are written in Java (the rest in assembly): <a href=\"http://www.jnode.org/\" rel=\"nofollow noreferrer\">http://www.jnode.org/</a></p>\n<p>JNode is still beta, though.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1292969179,"creation_date":1292968630,"answer_id":4504321,"question_id":4504179,"body_markdown":"Sure, have a look at **JRockit Virtual Edition**. As I understand it it&#39;s basically a micro kernel especially tailored for the JRockit VM.\r\n\r\nFrom [this page](http://realjavasoa.blogspot.com/2009/10/java-without-os-jrockit-virtual-edition.html):\r\n\r\n&gt; ***Java without the OS: JRockit Virtual Edition (VE)***\r\n&gt;\r\n&gt; *Am I the only one that&#39;s never heard of this before? The Oracle JRockit team is looking at eliminating the OS from the stack required to run Java. This product will be called JRockit VE (not out yet)*\r\n","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p>Sure, have a look at <strong>JRockit Virtual Edition</strong>. As I understand it it's basically a micro kernel especially tailored for the JRockit VM.</p>\n\n<p>From <a href=\"http://realjavasoa.blogspot.com/2009/10/java-without-os-jrockit-virtual-edition.html\">this page</a>:</p>\n\n<blockquote>\n  <p><em><strong>Java without the OS: JRockit Virtual Edition (VE)</em></strong></p>\n  \n  <p><em>Am I the only one that's never heard of this before? The Oracle JRockit team is looking at eliminating the OS from the stack required to run Java. This product will be called JRockit VE (not out yet)</em></p>\n</blockquote>\n"}],"owner":{"account_id":161416,"reputation":1250,"user_id":382154,"accept_rate":69,"display_name":"Ammar Bozorgvar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4934,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1687441269,"creation_date":1292967674,"question_id":4504179,"body_markdown":"As i know java programs are able to run on any Operating System.\r\nand there are JVM&#39;s for any kind of machines.\r\n\r\nI need a JVM that runs on my PC stand alone, and not on my OS (windows or any thing else).\r\n\r\nI mean a JVM that acts like a boot, instead of the OS boot\r\n\r\ni searched for all versions of JVM on &quot;www.java.com/en/download/manual.jsp&quot;, but i did not get the suitable JVM.\r\n\r\nthe following link helped me a little but that was not enough\r\n\r\n[http://java-virtual-machine.net/other.html#jvm][1]\r\n\r\nmy PC CPU is AMD Athlon(tm) 64X2 Dual Core Processor 5200 + 2.69 GHz\r\n\r\n\r\n  [1]: http://java-virtual-machine.net/other.html#jvm\r\n\r\nany body can help me to find the suitable jvm version ?!","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p>As i know java programs are able to run on any Operating System.\nand there are JVM's for any kind of machines.</p>\n\n<p>I need a JVM that runs on my PC stand alone, and not on my OS (windows or any thing else).</p>\n\n<p>I mean a JVM that acts like a boot, instead of the OS boot</p>\n\n<p>i searched for all versions of JVM on \"www.java.com/en/download/manual.jsp\", but i did not get the suitable JVM.</p>\n\n<p>the following link helped me a little but that was not enough</p>\n\n<p><a href=\"http://java-virtual-machine.net/other.html#jvm\">http://java-virtual-machine.net/other.html#jvm</a></p>\n\n<p>my PC CPU is AMD Athlon(tm) 64X2 Dual Core Processor 5200 + 2.69 GHz</p>\n\n<p>any body can help me to find the suitable jvm version ?!</p>\n"},{"tags":["java","android","http","networking","httpserver"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687440616,"post_id":76532267,"comment_id":134939563,"body_markdown":"Base don the code you have posted you should build a minimal Java program that demonstrate your problem and that can be directly executed.","body":"Base don the code you have posted you should build a minimal Java program that demonstrate your problem and that can be directly executed."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1687441819,"post_id":76532267,"comment_id":134939853,"body_markdown":"Consider not using `setDoOutput(true)`: https://stackoverflow.com/questions/8587913/what-exactly-does-urlconnection-setdooutput-affect.","body":"Consider not using <code>setDoOutput(true)</code>: <a href=\"https://stackoverflow.com/questions/8587913/what-exactly-does-urlconnection-setdooutput-affect\" title=\"what exactly does urlconnection setdooutput affect\">stackoverflow.com/questions/8587913/&hellip;</a>."},{"owner":{"account_id":28033555,"reputation":3,"user_id":21412345,"display_name":"Farbod Bijary"},"score":0,"creation_date":1687442260,"post_id":76532267,"comment_id":134939949,"body_markdown":"@5f3bde39-70a2-4df1-afa2-47f61b thanks a lot!!! that fixed my issue. consider posting your comment as the answer.","body":"@5f3bde39-70a2-4df1-afa2-47f61b thanks a lot!!! that fixed my issue. consider posting your comment as the answer."}],"owner":{"account_id":28033555,"reputation":3,"user_id":21412345,"display_name":"Farbod Bijary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687441249,"creation_date":1687439320,"question_id":76532267,"body_markdown":"I&#39;m writing an application in which both the server-side and client codes are written by me, I&#39;m not using any frameworks (e.g Spring Boot etc). when I send an http GET request from my android device to my laptop (which runs the server code), the request method that I had already explicitly set using `setRequestMethod(&quot;GET&quot;)` becomes post, I also checked it using wireshark and it also shows that the request is a POST not a get. \r\n\r\nThe code for sending the requests from android device: \r\n\r\n```\r\npublic class ClientHttpUtils {\r\n    private final static Gson GSON = GsonUtils.getInstance();\r\n    private static final ExecutorService executorService = Executors.newFixedThreadPool(4);\r\n\r\npublic static &lt;T&gt; void get(\r\n            String path,\r\n            Map&lt;String, String&gt; query,\r\n            Class&lt;T&gt; contentType,\r\n            RequestErrorCallback onError,\r\n            RequestSuccessCallback&lt;T&gt; onSuccess\r\n    ) {\r\n       execute(&quot;GET&quot;, path, null, query, null, contentType, onError, onSuccess);\r\n    }\r\n\r\nprivate static &lt;T&gt; void execute(\r\n            String method,\r\n            String path,\r\n            Serializable data,\r\n            Map&lt;String, String&gt; query,\r\n            Headers headers,\r\n            Class&lt;T&gt; contentType,\r\n            RequestErrorCallback onError,\r\n            RequestSuccessCallback&lt;T&gt; onSuccess\r\n    ) {\r\n        executorService.submit(()-&gt; {\r\n            try {\r\n                ResponseModel&lt;T&gt; responseModel = executeRequest(method, path, data, query, headers, contentType);\r\n                if (responseModel != null) {\r\n                    onSuccess.onRequestSuccess(responseModel);\r\n\r\n                } else {\r\n                    onError.onRequestError(new Exception(&quot;Request failed&quot;));\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                onError.onRequestError(e);\r\n            }\r\n        });\r\n    }\r\n\r\nprivate static &lt;T&gt; ResponseModel&lt;T&gt; executeRequest(\r\n            String method,\r\n            String path,\r\n            Serializable data,\r\n            Map&lt;String, String&gt; query,\r\n            Headers headers,\r\n            Class&lt;T&gt; contentType\r\n    ) throws IOException {\r\n\r\n        ResponseModel&lt;T&gt; responseModel = null;\r\n\r\n        URL url = new URL(API.BASE_URL + path + mapToQuery(query));\r\n\r\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n        conn.setRequestMethod(method);\r\n        conn.setDoOutput(true);\r\n\r\n        if(headers != null) {\r\n            for (String header: headers.keySet()){\r\n                conn.setRequestProperty(header, String.join(&quot;,&quot;, headers.get(header)));\r\n            }\r\n        }\r\n\r\n        if (data != null &amp;&amp; method.equals(&quot;POST&quot;)) {\r\n            byte[] bytes = SerializationUtils.serialize(data);\r\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n            conn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(bytes.length));\r\n            conn.getOutputStream().write(bytes);\r\n        } else {\r\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        }\r\n\r\n        if(conn.getResponseCode() == StatusCode.SUCCESS){\r\n            responseModel = GSON.fromJson(\r\n                    new InputStreamReader(conn.getInputStream()),\r\n                    TypeToken.getParameterized(ResponseModel.class, contentType).getType());\r\n        }\r\n        else {\r\n            responseModel = GSON.fromJson(\r\n                    new InputStreamReader(conn.getErrorStream()),\r\n                    TypeToken.getParameterized(ResponseModel.class, contentType).getType());\r\n        }\r\n\r\n        return responseModel;\r\n    }\r\n    private static String mapToQuery(Map&lt;String, String&gt; query) {\r\n        StringBuilder queryStr = new StringBuilder();\r\n\r\n        if (query != null) {\r\n            queryStr = new StringBuilder(&quot;?&quot;);\r\n            for (Map.Entry&lt;String, String&gt; entry : query.entrySet()) {\r\n                String entity = entry.getValue();\r\n                try {\r\n                    entity = URLEncoder.encode(entity, StandardCharsets.UTF_8.toString());\r\n                } catch (Exception ignore) {\r\n                }\r\n\r\n                queryStr.append(entry.getKey()).append(&quot;=&quot;).append(entity).append(&quot;&amp;&quot;);\r\n            }\r\n            queryStr = new StringBuilder(queryStr.substring(0, queryStr.length() - 1));\r\n        }\r\n\r\n        return queryStr.toString();\r\n    }\r\n}\r\n```\r\n\r\nthe `ResponseModel&lt;T&gt;` class:\r\n\r\n```\r\npublic class ResponseModel&lt;T&gt; {\r\n\r\n    private final int status;\r\n    private final boolean success;\r\n    private final String message;\r\n    private final T content;\r\n\r\n    public ResponseModel(int status, boolean success, String message, T content) {\r\n        this.status = status;\r\n        this.success = success;\r\n        this.message = message;\r\n        this.content = content;\r\n    }\r\n\r\n    public boolean isSuccess() {\r\n        return success;\r\n    }\r\n    public int getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public T get() {\r\n        return content;\r\n    }\r\n}\r\n```\r\n\r\n\r\nalso this is the code that creates my server: \r\n`httpServer = HttpServer.create(new InetSocketAddress(&quot;192.168.1.X&quot;,API.PORT), 0);`\r\nand the endpoint for performing sign-in is `/auth/sign-in/`.\r\nif needed i can post a captured request using wireshark too.\r\nif any change is needed in the format of my question or anything I would do it quickly just say it in comments.\r\nthanks everyone in advance.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have already read [this](https://stackoverflow.com/questions/17886865/post-request-becomes-get) post on SO but adding a slash to my request URI (e.g converting /auth/sign-in?username=something... to /auth/sign-in/?username=something...) niether adding one to the end of my request could fix my problem. \r\non my server side code i have a `HttpServer` object and I couldn&#39;t find anything like `allowNullPathInfo()` as said in the SO post I shared.\r\nhere are my codes for sending and handling the requests.","title":"GET request from android being handled has POST - java","body":"<p>I'm writing an application in which both the server-side and client codes are written by me, I'm not using any frameworks (e.g Spring Boot etc). when I send an http GET request from my android device to my laptop (which runs the server code), the request method that I had already explicitly set using <code>setRequestMethod(&quot;GET&quot;)</code> becomes post, I also checked it using wireshark and it also shows that the request is a POST not a get.</p>\n<p>The code for sending the requests from android device:</p>\n<pre><code>public class ClientHttpUtils {\n    private final static Gson GSON = GsonUtils.getInstance();\n    private static final ExecutorService executorService = Executors.newFixedThreadPool(4);\n\npublic static &lt;T&gt; void get(\n            String path,\n            Map&lt;String, String&gt; query,\n            Class&lt;T&gt; contentType,\n            RequestErrorCallback onError,\n            RequestSuccessCallback&lt;T&gt; onSuccess\n    ) {\n       execute(&quot;GET&quot;, path, null, query, null, contentType, onError, onSuccess);\n    }\n\nprivate static &lt;T&gt; void execute(\n            String method,\n            String path,\n            Serializable data,\n            Map&lt;String, String&gt; query,\n            Headers headers,\n            Class&lt;T&gt; contentType,\n            RequestErrorCallback onError,\n            RequestSuccessCallback&lt;T&gt; onSuccess\n    ) {\n        executorService.submit(()-&gt; {\n            try {\n                ResponseModel&lt;T&gt; responseModel = executeRequest(method, path, data, query, headers, contentType);\n                if (responseModel != null) {\n                    onSuccess.onRequestSuccess(responseModel);\n\n                } else {\n                    onError.onRequestError(new Exception(&quot;Request failed&quot;));\n                }\n\n            } catch (Exception e) {\n                onError.onRequestError(e);\n            }\n        });\n    }\n\nprivate static &lt;T&gt; ResponseModel&lt;T&gt; executeRequest(\n            String method,\n            String path,\n            Serializable data,\n            Map&lt;String, String&gt; query,\n            Headers headers,\n            Class&lt;T&gt; contentType\n    ) throws IOException {\n\n        ResponseModel&lt;T&gt; responseModel = null;\n\n        URL url = new URL(API.BASE_URL + path + mapToQuery(query));\n\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestMethod(method);\n        conn.setDoOutput(true);\n\n        if(headers != null) {\n            for (String header: headers.keySet()){\n                conn.setRequestProperty(header, String.join(&quot;,&quot;, headers.get(header)));\n            }\n        }\n\n        if (data != null &amp;&amp; method.equals(&quot;POST&quot;)) {\n            byte[] bytes = SerializationUtils.serialize(data);\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n            conn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(bytes.length));\n            conn.getOutputStream().write(bytes);\n        } else {\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        }\n\n        if(conn.getResponseCode() == StatusCode.SUCCESS){\n            responseModel = GSON.fromJson(\n                    new InputStreamReader(conn.getInputStream()),\n                    TypeToken.getParameterized(ResponseModel.class, contentType).getType());\n        }\n        else {\n            responseModel = GSON.fromJson(\n                    new InputStreamReader(conn.getErrorStream()),\n                    TypeToken.getParameterized(ResponseModel.class, contentType).getType());\n        }\n\n        return responseModel;\n    }\n    private static String mapToQuery(Map&lt;String, String&gt; query) {\n        StringBuilder queryStr = new StringBuilder();\n\n        if (query != null) {\n            queryStr = new StringBuilder(&quot;?&quot;);\n            for (Map.Entry&lt;String, String&gt; entry : query.entrySet()) {\n                String entity = entry.getValue();\n                try {\n                    entity = URLEncoder.encode(entity, StandardCharsets.UTF_8.toString());\n                } catch (Exception ignore) {\n                }\n\n                queryStr.append(entry.getKey()).append(&quot;=&quot;).append(entity).append(&quot;&amp;&quot;);\n            }\n            queryStr = new StringBuilder(queryStr.substring(0, queryStr.length() - 1));\n        }\n\n        return queryStr.toString();\n    }\n}\n</code></pre>\n<p>the <code>ResponseModel&lt;T&gt;</code> class:</p>\n<pre><code>public class ResponseModel&lt;T&gt; {\n\n    private final int status;\n    private final boolean success;\n    private final String message;\n    private final T content;\n\n    public ResponseModel(int status, boolean success, String message, T content) {\n        this.status = status;\n        this.success = success;\n        this.message = message;\n        this.content = content;\n    }\n\n    public boolean isSuccess() {\n        return success;\n    }\n    public int getStatus() {\n        return status;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public T get() {\n        return content;\n    }\n}\n</code></pre>\n<p>also this is the code that creates my server:\n<code>httpServer = HttpServer.create(new InetSocketAddress(&quot;192.168.1.X&quot;,API.PORT), 0);</code>\nand the endpoint for performing sign-in is <code>/auth/sign-in/</code>.\nif needed i can post a captured request using wireshark too.\nif any change is needed in the format of my question or anything I would do it quickly just say it in comments.\nthanks everyone in advance.</p>\n<p>I have already read <a href=\"https://stackoverflow.com/questions/17886865/post-request-becomes-get\">this</a> post on SO but adding a slash to my request URI (e.g converting /auth/sign-in?username=something... to /auth/sign-in/?username=something...) niether adding one to the end of my request could fix my problem.\non my server side code i have a <code>HttpServer</code> object and I couldn't find anything like <code>allowNullPathInfo()</code> as said in the SO post I shared.\nhere are my codes for sending and handling the requests.</p>\n"},{"tags":["java","android","string"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1427958817,"post_id":29407084,"comment_id":46988439,"body_markdown":"iterate over them and implement the logic yourself.","body":"iterate over them and implement the logic yourself."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1427958823,"creation_date":1427958823,"answer_id":29407101,"question_id":29407084,"body_markdown":"Use remove :\r\n\r\n    myStrings.remove(&quot;Alpha&quot;);\r\n\r\nNote that this would only remove the first occurrence of &quot;Alpha&quot; from your list.","title":"Remove a String Item from a List of Strings","body":"<p>Use remove :</p>\n\n<pre><code>myStrings.remove(\"Alpha\");\n</code></pre>\n\n<p>Note that this would only remove the first occurrence of \"Alpha\" from your list.</p>\n"},{"tags":[],"owner":{"account_id":125813,"reputation":23095,"user_id":321862,"accept_rate":84,"display_name":"Oh Chin Boon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427959307,"creation_date":1427959307,"answer_id":29407245,"question_id":29407084,"body_markdown":"Do you have duplicates in the list of String that you also wish to remove?\r\n\r\nIf so, you can convert the `list` of String into a `set` of String. Then, you can remove strings from the `set` efficiently, convert it back into a `map`.\r\n\r\n    // converting to set will remove duplicates\r\n    final Set&lt;String&gt; uniqueStrSet = new HashSet&lt;String&gt;(listOfString);\r\n    \r\n    // remove string from set\r\n    uniqueStrSet.remove(strToRemove);\r\n    \r\n    // convert set back to list\r\n    list = new ArrayList&lt;String&gt;(uniqueStrSet);\r\n\r\n","title":"Remove a String Item from a List of Strings","body":"<p>Do you have duplicates in the list of String that you also wish to remove?</p>\n\n<p>If so, you can convert the <code>list</code> of String into a <code>set</code> of String. Then, you can remove strings from the <code>set</code> efficiently, convert it back into a <code>map</code>.</p>\n\n<pre><code>// converting to set will remove duplicates\nfinal Set&lt;String&gt; uniqueStrSet = new HashSet&lt;String&gt;(listOfString);\n\n// remove string from set\nuniqueStrSet.remove(strToRemove);\n\n// convert set back to list\nlist = new ArrayList&lt;String&gt;(uniqueStrSet);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5048751,"reputation":564,"user_id":4053944,"display_name":"Deepika Rajani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427968452,"creation_date":1427968452,"answer_id":29410003,"question_id":29407084,"body_markdown":"    boolean remove(Object o)\r\nThe above method of ArrayList class will remove the first occurence of **Object o** from the list.\r\n\r\nYou can do:\r\n\r\n    myStrings.remove(&quot;Alpha&quot;);\r\nIt will return **true** if the ArrayList contained the specified element.","title":"Remove a String Item from a List of Strings","body":"<pre><code>boolean remove(Object o)\n</code></pre>\n\n<p>The above method of ArrayList class will remove the first occurence of <strong>Object o</strong> from the list.</p>\n\n<p>You can do:</p>\n\n<pre><code>myStrings.remove(\"Alpha\");\n</code></pre>\n\n<p>It will return <strong>true</strong> if the ArrayList contained the specified element.</p>\n"},{"tags":[],"owner":{"account_id":15750890,"reputation":529,"user_id":11365488,"display_name":"Elfnan Sherif"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620236601,"creation_date":1620236601,"answer_id":67406269,"question_id":29407084,"body_markdown":"if this not work\r\n\r\n    myStrings.remove(&quot;Alpha&quot;);\r\n\r\ntry this it works fine with me\r\n\r\n    int pos = myStrings.indexOf(&quot;Alpha&quot;);//Getting string position\r\n    myStrings.remove(pos);","title":"Remove a String Item from a List of Strings","body":"<p>if this not work</p>\n<pre><code>myStrings.remove(&quot;Alpha&quot;);\n</code></pre>\n<p>try this it works fine with me</p>\n<pre><code>int pos = myStrings.indexOf(&quot;Alpha&quot;);//Getting string position\nmyStrings.remove(pos);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687440834,"creation_date":1687440834,"answer_id":76532484,"question_id":29407084,"body_markdown":"If you work with immutable lists which is quite often the case now, you will not be able to use the `remove` method; instead you shall get an `UnsupportedOperationException`.\r\n\r\nUse a Lamda instead:\r\n\r\n    List&lt;String&gt; filteredList = myStrings.stream()\r\n            .filter(toRemove -&gt; !&quot;Alpha&quot;.equals(toRemove))\r\n            .toList();\r\n\r\nThat&#39;s the idea. It should be adapted to your specific use case.\r\n\r\nNB: the `&quot;Alpha&quot;.equals(...)` is recommanded by Sonarqube when using litterals. Please don&#39;t lash me for it.","title":"Remove a String Item from a List of Strings","body":"<p>If you work with immutable lists which is quite often the case now, you will not be able to use the <code>remove</code> method; instead you shall get an <code>UnsupportedOperationException</code>.</p>\n<p>Use a Lamda instead:</p>\n<pre><code>List&lt;String&gt; filteredList = myStrings.stream()\n        .filter(toRemove -&gt; !&quot;Alpha&quot;.equals(toRemove))\n        .toList();\n</code></pre>\n<p>That's the idea. It should be adapted to your specific use case.</p>\n<p>NB: the <code>&quot;Alpha&quot;.equals(...)</code> is recommanded by Sonarqube when using litterals. Please don't lash me for it.</p>\n"}],"owner":{"account_id":5103110,"reputation":1070,"user_id":4122507,"accept_rate":38,"display_name":"asdec90"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81634,"favorite_count":0,"down_vote_count":4,"up_vote_count":17,"accepted_answer_id":29407101,"answer_count":5,"score":13,"last_activity_date":1687440834,"creation_date":1427958729,"question_id":29407084,"body_markdown":"How do I remove a specific string from a List that contains Strings....\r\n\r\nAs in:\r\n\r\n    ArrayList&lt;String&gt; myStrings = new ArrayList&lt;&gt;();\r\n    myStrings.add(&quot;Alpha&quot;);\r\n    myStrings.add(&quot;Beta&quot;);\r\n    myStrings.add(&quot;Gama&quot;);\r\n    .                           //The order can be random \r\n    .\r\n    .\r\n    .\r\n\r\nNow , I only have the list myStrings and I don&#39;t know which String is at which index. But I know, that I want to display all the strings after removing say &quot;Alpha&quot;. \r\n\r\nTo Summarize , How can I get the strings from a String array after removing a String that I know that array contains , but don&#39;t know its index/position.","title":"Remove a String Item from a List of Strings","body":"<p>How do I remove a specific string from a List that contains Strings....</p>\n\n<p>As in:</p>\n\n<pre><code>ArrayList&lt;String&gt; myStrings = new ArrayList&lt;&gt;();\nmyStrings.add(\"Alpha\");\nmyStrings.add(\"Beta\");\nmyStrings.add(\"Gama\");\n.                           //The order can be random \n.\n.\n.\n</code></pre>\n\n<p>Now , I only have the list myStrings and I don't know which String is at which index. But I know, that I want to display all the strings after removing say \"Alpha\". </p>\n\n<p>To Summarize , How can I get the strings from a String array after removing a String that I know that array contains , but don't know its index/position.</p>\n"},{"tags":["java","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687327384,"post_id":76515154,"comment_id":134919159,"body_markdown":"Welcome to SO. I think, you could improve your question and the chance to get a good answer: Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. There are great people here who like to help others. Do yourself a favour and help them to help you. &#128578;","body":"Welcome to SO. I think, you could improve your question and the chance to get a good answer: Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. There are great people here who like to help others. Do yourself a favour and help them to help you. 🙂"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687327596,"post_id":76515154,"comment_id":134919185,"body_markdown":"Without having seen the code, just trying to understand your description, my first guess is that you should look at the tests as such as a root cause, not at the IDE, its cache or try things like a reboot. Chances are, that the problem is simply suboptimal test code. Without seeing a reproducer, however, I have no way of being sure.","body":"Without having seen the code, just trying to understand your description, my first guess is that you should look at the tests as such as a root cause, not at the IDE, its cache or try things like a reboot. Chances are, that the problem is simply suboptimal test code. Without seeing a reproducer, however, I have no way of being sure."}],"answers":[{"tags":[],"owner":{"account_id":14202197,"reputation":21,"user_id":11927776,"display_name":"Bradley M. Small"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687440597,"creation_date":1687440597,"answer_id":76532446,"question_id":76515154,"body_markdown":"Thanks for anyone who took the time to look at this. I apologize that it was poorly submitted, but due to the nature of it, it would have been prohibitively difficult to create something that could be more accurate.\r\n\r\nThe cause was due to declaring a variable as a Mono&lt;Variable&gt; then setting it to Mock(). Even though stubs were written for its members, this does not go through project reactor reactor chains and in so bouncing out, causes a long hang, that seems never to actually complete. \r\n\r\nHere is a &quot;genericized&quot; code illustration that hopefully will help someone doing the same mistake that I did.\r\n\r\n    // The existing code looked something like this, however it was\r\n    // spread out among class variables, and setup() method and \r\n    // given/when/then sections of the UTs. \r\n    // Declare a variable\r\n    Mono&lt;ClassVar&gt; classVar \r\n    // that is mocked\r\n    classVar = Mock()\r\n    // create an expected member variable\r\n    MemberType member = new MemberType()\r\n    // stub the mocked class to return the member variable\r\n    classVar.getMember() &gt;&gt; member\r\n    // When the reactive chains encounter this, they go off into \r\n    // what feels like a forever grind... \r\n\r\n    // The correction involved restructuring things like this;\r\n    // Declare a variable\r\n    Mono&lt;ClassVar&gt; classVar \r\n    // create an minimal inner payload for it (I think this could still be\r\n    // a Mock() though I decided to simplify at the same time)\r\n    ClassVar classVarValue = new ClassVar()\r\n    // create the expect member variable\r\n    MemberType member = new MemberType()\r\n    // place it into the minimal inner payload variable\r\n    classVarValue.setMember(member)\r\n    // populate the initial variable with the result of a Mono.just() call\r\n    // that contains the minimal inner payload variable\r\n    classVar = Mono.just(classVarValue)\r\n    \r\nI could have done this with more mocking, but the issue is that you can&#39;t do \r\n\r\nMono&lt;Something&gt; something = Mock()\r\n\r\nI am not sure if you can do \r\nMono&lt;Something&gt; something = Mono.just(Mock()) \r\n\r\nBut I suspect that would have worked out. I avoided that by declaring a variable that was sparse, and creating the Mono&lt;&gt; from that.     ","title":"Using IntelliJ an unchanged spock test will begin taking a long time to complete, if at all","body":"<p>Thanks for anyone who took the time to look at this. I apologize that it was poorly submitted, but due to the nature of it, it would have been prohibitively difficult to create something that could be more accurate.</p>\n<p>The cause was due to declaring a variable as a Mono then setting it to Mock(). Even though stubs were written for its members, this does not go through project reactor reactor chains and in so bouncing out, causes a long hang, that seems never to actually complete.</p>\n<p>Here is a &quot;genericized&quot; code illustration that hopefully will help someone doing the same mistake that I did.</p>\n<pre><code>// The existing code looked something like this, however it was\n// spread out among class variables, and setup() method and \n// given/when/then sections of the UTs. \n// Declare a variable\nMono&lt;ClassVar&gt; classVar \n// that is mocked\nclassVar = Mock()\n// create an expected member variable\nMemberType member = new MemberType()\n// stub the mocked class to return the member variable\nclassVar.getMember() &gt;&gt; member\n// When the reactive chains encounter this, they go off into \n// what feels like a forever grind... \n\n// The correction involved restructuring things like this;\n// Declare a variable\nMono&lt;ClassVar&gt; classVar \n// create an minimal inner payload for it (I think this could still be\n// a Mock() though I decided to simplify at the same time)\nClassVar classVarValue = new ClassVar()\n// create the expect member variable\nMemberType member = new MemberType()\n// place it into the minimal inner payload variable\nclassVarValue.setMember(member)\n// populate the initial variable with the result of a Mono.just() call\n// that contains the minimal inner payload variable\nclassVar = Mono.just(classVarValue)\n</code></pre>\n<p>I could have done this with more mocking, but the issue is that you can't do</p>\n<p>Mono something = Mock()</p>\n<p>I am not sure if you can do\nMono something = Mono.just(Mock())</p>\n<p>But I suspect that would have worked out. I avoided that by declaring a variable that was sparse, and creating the Mono&lt;&gt; from that.</p>\n"}],"owner":{"account_id":14202197,"reputation":21,"user_id":11927776,"display_name":"Bradley M. Small"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76532446,"answer_count":1,"score":1,"last_activity_date":1687440597,"creation_date":1687267032,"question_id":76515154,"body_markdown":"I am using IntelliJ with java/gradle/spock unit tests. \r\n\r\nUpon making changes to any code the build runs the whole suite of unit tests and it has come to a well known timing. *Build takes 2:xx and testing takes 8:xx minutes*\r\n\r\nAt some point, the tests will far exceed this amount of time and usually one would have to reboot and/or clear caching and so forth. \r\n\r\nIn this last incidence, I used @Ignore to clear all the tests from one particular file. This corrected the timing, and I added each one back in by removing the @Ignore. Most tests would run immediately in a very short time. I have come down to 3 tests that when added will bring back this long running behavior. \r\n\r\nWe have seen this issue in the past, and usually it is corrected by &quot;magic&quot;. (Things like, clearing cache, freeing memory, rebooting a computer, and other hard to associate things). \r\n\r\nMy question is, if someone has experienced this and knows a fix? Or, if someone can point me in a direction to actually investigate what is going on so that I can better dig into it. I will be trying setting some debug break points and things like that today. But anything else that I may be overlooking or unaware of like settings of things like that would be helpful.  \r\n\r\nTried:\r\nRestarting, clearing of cache, rebooting. \r\nExpected:\r\nSpontaneous correction. \r\nExperienced:\r\nContinued failure. \r\n\r\nTried:\r\nIsolate UT&#39;s using @Ignore\r\nExpected:\r\nSpontaneous correction.\r\nExperienced:\r\nSuccess\r\n\r\nTried:\r\nReintroducing @Ignored tests\r\nExpected:\r\nLocate correlated causative tests\r\nExperienced:\r\n3 tests when added back in will each cause this similar behavior ","title":"Using IntelliJ an unchanged spock test will begin taking a long time to complete, if at all","body":"<p>I am using IntelliJ with java/gradle/spock unit tests.</p>\n<p>Upon making changes to any code the build runs the whole suite of unit tests and it has come to a well known timing. <em>Build takes 2:xx and testing takes 8:xx minutes</em></p>\n<p>At some point, the tests will far exceed this amount of time and usually one would have to reboot and/or clear caching and so forth.</p>\n<p>In this last incidence, I used @Ignore to clear all the tests from one particular file. This corrected the timing, and I added each one back in by removing the @Ignore. Most tests would run immediately in a very short time. I have come down to 3 tests that when added will bring back this long running behavior.</p>\n<p>We have seen this issue in the past, and usually it is corrected by &quot;magic&quot;. (Things like, clearing cache, freeing memory, rebooting a computer, and other hard to associate things).</p>\n<p>My question is, if someone has experienced this and knows a fix? Or, if someone can point me in a direction to actually investigate what is going on so that I can better dig into it. I will be trying setting some debug break points and things like that today. But anything else that I may be overlooking or unaware of like settings of things like that would be helpful.</p>\n<p>Tried:\nRestarting, clearing of cache, rebooting.\nExpected:\nSpontaneous correction.\nExperienced:\nContinued failure.</p>\n<p>Tried:\nIsolate UT's using @Ignore\nExpected:\nSpontaneous correction.\nExperienced:\nSuccess</p>\n<p>Tried:\nReintroducing @Ignored tests\nExpected:\nLocate correlated causative tests\nExperienced:\n3 tests when added back in will each cause this similar behavior</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1687787259,"post_id":76532411,"comment_id":134981420,"body_markdown":"Please edit your question and show how you query the Realtime Database.","body":"Please edit your question and show how you query the Realtime Database."}],"owner":{"account_id":26555327,"reputation":1,"user_id":20184039,"display_name":"Viktor Orudzhev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687440410,"creation_date":1687440410,"question_id":76532411,"body_markdown":"I created AdapterChat like this:\r\n\r\nAdapterChat:\r\n\r\n```\r\npublic class AdapterChat  extends RecyclerView.Adapter&lt;AdapterChat.MyHolder&gt;{\r\n\r\n\r\n    private static final int  MSG_TYPE_LEFT = 0;\r\n    private static final int  MSG_TYPE_RIGHT = 1;\r\n\r\n    Context context;\r\n    List&lt;ModelChat&gt; chatList;\r\n    String imageUrl;\r\n\r\n    FirebaseUser fuser;\r\n\r\n    public AdapterChat(Context context, List&lt;ModelChat&gt; chatList, String imageUrl){\r\n        this.context = context;\r\n        this.chatList = chatList;\r\n        this.imageUrl = imageUrl;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\r\n        if (viewType==MSG_TYPE_RIGHT){\r\n            View view = LayoutInflater.from(context).inflate(R.layout.row_chat_right, viewGroup, false);\r\n            return new MyHolder(view);\r\n        } else {\r\n            View view = LayoutInflater.from(context).inflate(R.layout.row_chat_left, viewGroup, false);\r\n            return new MyHolder(view);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyHolder myHolder, final int position) {\r\n\r\n        String message = chatList.get(position).getMeesage();\r\n        String timeStamp = chatList.get(position).getTimestamp();\r\n        Calendar cal = Calendar.getInstance(Locale.ENGLISH);\r\n        cal.setTimeInMillis(Long.parseLong(timeStamp));\r\n\r\n        String dateTime = DateFormat.format(&quot;dd/MM/yyyyy hh:mm aa&quot;, cal).toString();\r\n\r\n        myHolder.messageTv.setText(message);\r\n        myHolder.timeTv.setText(dateTime);\r\n\r\n        try{\r\n            Picasso.get().load(imageUrl).into(myHolder.profileIv);\r\n        } catch (Exception e){\r\n\r\n        }\r\n        if (position==chatList.size()-1){\r\n            if (chatList.get(position).isSeen()){\r\n                myHolder.isSeenTv.setText(&quot;Seen&quot;);\r\n            } else {\r\n                myHolder.isSeenTv.setText(&quot;Delivered&quot;);\r\n            }\r\n\r\n        } else {\r\n            myHolder.isSeenTv.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return chatList.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n\r\n        fuser = FirebaseAuth.getInstance().getCurrentUser();\r\n        if(chatList.get(position).getSender().equals(fuser.getUid())){\r\n            return MSG_TYPE_RIGHT;\r\n        } else {\r\n            return MSG_TYPE_LEFT;\r\n        }\r\n    }\r\n\r\n    static class  MyHolder extends RecyclerView.ViewHolder{\r\n        ImageView profileIv;\r\n        TextView messageTv, timeTv, isSeenTv;\r\n\r\n        public  MyHolder(@NonNull View itemView){\r\n            super(itemView);\r\n\r\n            profileIv = itemView.findViewById(R.id.profileIv);\r\n            messageTv = itemView.findViewById(R.id.messageTv);\r\n            timeTv = itemView.findViewById(R.id.timeTv);\r\n            isSeenTv = itemView.findViewById(R.id.isSeenTv);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/ETpXI.png)](https://i.stack.imgur.com/ETpXI.png)\r\n\r\n\r\n\r\nI have heard from a lot of people that the adapter has a problem but I checked again but did not find that problem, I tried a lot of ways but my problem cannot be changed, I need your help\r\n\r\nChats always don&#39;t have text, but on Firebase the chat has been updated\r\n\r\n[![enter image description here](https://i.stack.imgur.com/950mh.png)](https://i.stack.imgur.com/950mh.png)","title":"I&#39;m having trouble showing up Messages.When I text, the message doesn&#39;t show up","body":"<p>I created AdapterChat like this:</p>\n<p>AdapterChat:</p>\n<pre><code>public class AdapterChat  extends RecyclerView.Adapter&lt;AdapterChat.MyHolder&gt;{\n\n\n    private static final int  MSG_TYPE_LEFT = 0;\n    private static final int  MSG_TYPE_RIGHT = 1;\n\n    Context context;\n    List&lt;ModelChat&gt; chatList;\n    String imageUrl;\n\n    FirebaseUser fuser;\n\n    public AdapterChat(Context context, List&lt;ModelChat&gt; chatList, String imageUrl){\n        this.context = context;\n        this.chatList = chatList;\n        this.imageUrl = imageUrl;\n\n    }\n\n    @NonNull\n    @Override\n    public MyHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\n        if (viewType==MSG_TYPE_RIGHT){\n            View view = LayoutInflater.from(context).inflate(R.layout.row_chat_right, viewGroup, false);\n            return new MyHolder(view);\n        } else {\n            View view = LayoutInflater.from(context).inflate(R.layout.row_chat_left, viewGroup, false);\n            return new MyHolder(view);\n        }\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyHolder myHolder, final int position) {\n\n        String message = chatList.get(position).getMeesage();\n        String timeStamp = chatList.get(position).getTimestamp();\n        Calendar cal = Calendar.getInstance(Locale.ENGLISH);\n        cal.setTimeInMillis(Long.parseLong(timeStamp));\n\n        String dateTime = DateFormat.format(&quot;dd/MM/yyyyy hh:mm aa&quot;, cal).toString();\n\n        myHolder.messageTv.setText(message);\n        myHolder.timeTv.setText(dateTime);\n\n        try{\n            Picasso.get().load(imageUrl).into(myHolder.profileIv);\n        } catch (Exception e){\n\n        }\n        if (position==chatList.size()-1){\n            if (chatList.get(position).isSeen()){\n                myHolder.isSeenTv.setText(&quot;Seen&quot;);\n            } else {\n                myHolder.isSeenTv.setText(&quot;Delivered&quot;);\n            }\n\n        } else {\n            myHolder.isSeenTv.setVisibility(View.GONE);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return chatList.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n\n        fuser = FirebaseAuth.getInstance().getCurrentUser();\n        if(chatList.get(position).getSender().equals(fuser.getUid())){\n            return MSG_TYPE_RIGHT;\n        } else {\n            return MSG_TYPE_LEFT;\n        }\n    }\n\n    static class  MyHolder extends RecyclerView.ViewHolder{\n        ImageView profileIv;\n        TextView messageTv, timeTv, isSeenTv;\n\n        public  MyHolder(@NonNull View itemView){\n            super(itemView);\n\n            profileIv = itemView.findViewById(R.id.profileIv);\n            messageTv = itemView.findViewById(R.id.messageTv);\n            timeTv = itemView.findViewById(R.id.timeTv);\n            isSeenTv = itemView.findViewById(R.id.isSeenTv);\n\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ETpXI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETpXI.png\" alt=\"enter image description here\" /></a></p>\n<p>I have heard from a lot of people that the adapter has a problem but I checked again but did not find that problem, I tried a lot of ways but my problem cannot be changed, I need your help</p>\n<p>Chats always don't have text, but on Firebase the chat has been updated</p>\n<p><a href=\"https://i.stack.imgur.com/950mh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/950mh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687372827,"creation_date":1687372827,"answer_id":76526233,"question_id":76525442,"body_markdown":"Based on [this bug report](https://github.com/bcgit/bc-java/issues/660) HttpURLConnection will only use SNI with SunJSSE as JSSE provider but not with others like BouncyCastle - which you are using. That&#39;s why you see that it tries to check the certificate against the IP address instead of the FQDN:\r\n\r\n&gt; Caused by: java.security.cert.CertificateException: No subject alternative name found matching IP address 195.145.98.203\r\n","title":"java.security.cert.CertificateException: No subject alternative name found matching IP address even when using a FQDN","body":"<p>Based on <a href=\"https://github.com/bcgit/bc-java/issues/660\" rel=\"nofollow noreferrer\">this bug report</a> HttpURLConnection will only use SNI with SunJSSE as JSSE provider but not with others like BouncyCastle - which you are using. That's why you see that it tries to check the certificate against the IP address instead of the FQDN:</p>\n<blockquote>\n<p>Caused by: java.security.cert.CertificateException: No subject alternative name found matching IP address 195.145.98.203</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687413520,"creation_date":1687413520,"answer_id":76528943,"question_id":76525442,"body_markdown":"This is an underlying issue with HttpsURLConnection not working properly with third-party JSSE implementations.\r\n\r\nSince you are opening the URL directly (rather than via some framework that&#39;s hard to modify) the simplest solution is probably to use the BCJSSE utility class `org.bouncycastle.jsse.util.URLConnectionUtil`:\r\n\r\n    new URLConnectionUtil().openConnection(url)\r\n\r\nYou can also pass a specific SSLSocketFactory to URLConnectionUtil constructor if BCJSSE is not configured as the default provider.\r\n\r\nFor background on the underlying problem refer to various issues:\r\n\r\n - https://github.com/bcgit/bc-java/issues/460\r\n - https://github.com/bcgit/bc-java/issues/660\r\n - https://github.com/bcgit/bc-java/issues/709\r\n - https://github.com/bcgit/bc-java/issues/1331\r\n","title":"java.security.cert.CertificateException: No subject alternative name found matching IP address even when using a FQDN","body":"<p>This is an underlying issue with HttpsURLConnection not working properly with third-party JSSE implementations.</p>\n<p>Since you are opening the URL directly (rather than via some framework that's hard to modify) the simplest solution is probably to use the BCJSSE utility class <code>org.bouncycastle.jsse.util.URLConnectionUtil</code>:</p>\n<pre><code>new URLConnectionUtil().openConnection(url)\n</code></pre>\n<p>You can also pass a specific SSLSocketFactory to URLConnectionUtil constructor if BCJSSE is not configured as the default provider.</p>\n<p>For background on the underlying problem refer to various issues:</p>\n<ul>\n<li><a href=\"https://github.com/bcgit/bc-java/issues/460\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/issues/460</a></li>\n<li><a href=\"https://github.com/bcgit/bc-java/issues/660\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/issues/660</a></li>\n<li><a href=\"https://github.com/bcgit/bc-java/issues/709\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/issues/709</a></li>\n<li><a href=\"https://github.com/bcgit/bc-java/issues/1331\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/issues/1331</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687440381,"creation_date":1687440381,"answer_id":76532407,"question_id":76525442,"body_markdown":"Since I didn&#39;t want to change the code, I digged in the BouncyCastle&#39;s Githb issue tracker and I found this JVM property:\r\n\r\n&gt; From v1.70 if you want to use option 1 please prefer\r\n**`-Dorg.bouncycastle.jsse.client.assumeOriginalHostName=true`**\r\ninstead of\r\n`-Djdk.tls.trustNameService=true`\r\n\r\n(see [issue 460](https://github.com/bcgit/bc-java/issues/460) and linked issues for more references)\r\n\r\nSo I have added this property to my JVM arg list and now the TLS handshake to `precision.epayworldwide.com` works.","title":"java.security.cert.CertificateException: No subject alternative name found matching IP address even when using a FQDN","body":"<p>Since I didn't want to change the code, I digged in the BouncyCastle's Githb issue tracker and I found this JVM property:</p>\n<blockquote>\n<p>From v1.70 if you want to use option 1 please prefer\n<strong><code>-Dorg.bouncycastle.jsse.client.assumeOriginalHostName=true</code></strong>\ninstead of\n<code>-Djdk.tls.trustNameService=true</code></p>\n</blockquote>\n<p>(see <a href=\"https://github.com/bcgit/bc-java/issues/460\" rel=\"nofollow noreferrer\">issue 460</a> and linked issues for more references)</p>\n<p>So I have added this property to my JVM arg list and now the TLS handshake to <code>precision.epayworldwide.com</code> works.</p>\n"}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76532407,"answer_count":3,"score":0,"last_activity_date":1687440381,"creation_date":1687365320,"question_id":76525442,"body_markdown":"I am trying to send an HTTPS request to `precision.epayworldwide.com` from my Java application.\r\n\r\nThis is the code I am using:\r\n\r\n``` java\r\nURL url = new URL(&quot;https://precision.epayworldwide.com/up-interface&quot;);\r\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\nString responseLine = reader.readLine();\r\n\r\nwhile (responseLine != null)\r\n{\r\n\tSystem.out.printf(&quot;%s\\n&quot;, responseLine);\r\n\tresponseLine = reader.readLine();\r\n}\r\n```\r\n\r\nand this is the exception I get:\r\n\r\n```\r\nException in thread &quot;main&quot; org.bouncycastle.tls.TlsFatalAlert: certificate_unknown(46)\r\n\tat org.bouncycastle.jsse.provider.ProvSSLSocketDirect.checkServerTrusted(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvTlsClient$1.notifyServerCertificate(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsUtils.processServerCertificate(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsClientProtocol.handleServerCertificate(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsClientProtocol.handleHandshakeMessage(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsProtocol.processHandshakeQueue(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsProtocol.processRecord(Unknown Source)\r\n\tat org.bouncycastle.tls.RecordStream.readRecord(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsProtocol.safeReadRecord(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsProtocol.blockForHandshake(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsClientProtocol.connect(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvSSLSocketDirect.startHandshake(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvSSLSocketDirect.startHandshake(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n\tat Main.main(Main.java:17)\r\nCaused by: java.security.cert.CertificateException: No subject alternative name found matching IP address 195.145.98.203\r\n\tat org.bouncycastle.jsse.provider.HostnameUtil.checkHostname(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkEndpointID(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkEndpointID(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkExtendedTrust(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkTrusted(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkServerTrusted(Unknown Source)\r\n\t... 18 more\r\n```\r\n\r\nI have correctly imported the TLS certificate of that hostname:\r\n\r\n```\r\nOwner: C=GB,L=Billericay,O=Epay Limited,CN=*.epayworldwide.com\r\nIssuer: C=US,O=DigiCert Inc,CN=DigiCert TLS RSA SHA256 2020 CA1\r\nSerial number: 97cc7ab5601ca15b1e65530f3a3e8a3\r\nValid from: Mon Oct 10 02:00:00 CEST 2022 until: Sun Nov 05 00:59:59 CET 2023\r\nCertificate fingerprints:\r\n         MD5:  AF:C4:FA:F6:A2:99:D8:C3:C3:9A:1D:B7:A4:6D:D7:21\r\n         SHA1: 4D:55:B9:2B:69:67:2E:AA:2A:B4:3B:B6:D1:BC:35:77:B0:FD:50:A0\r\n         SHA256: 96:AF:91:70:80:F6:F1:9E:30:18:CC:97:53:10:B4:7E:B2:CC:37:31:77:CB:C1:E1:1C:14:BC:CF:19:08:04:3B\r\n         Signature algorithm name: SHA256WITHRSA\r\n         Version: 3\r\nTrust this certificate? [no]:  yes\r\nCertificate was added to keystore\r\n```\r\n\r\nI don&#39;t understand why the code is throwing that exception. I have searched here on StackOverflow and I have found similar questions ([1](https://stackoverflow.com/questions/19540289/how-to-fix-the-java-security-cert-certificateexception-no-subject-alternative), [2](https://stackoverflow.com/questions/67185157/javax-net-ssl-sslhandshakeexception-java-security-cert-certificateexception-no), [3](https://stackoverflow.com/questions/29157861/java-certificateexception-no-subject-alternative-names-matching-ip-address)), but these people used an IP address to connect to the server, instead of an FQDN.\r\n\r\nI do not control the server so I can&#39;t change the certificate in any way. \r\n\r\nIs there something I can do client-side without disabling the hostname verification?","title":"java.security.cert.CertificateException: No subject alternative name found matching IP address even when using a FQDN","body":"<p>I am trying to send an HTTPS request to <code>precision.epayworldwide.com</code> from my Java application.</p>\n<p>This is the code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;https://precision.epayworldwide.com/up-interface&quot;);\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\nBufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\nString responseLine = reader.readLine();\n\nwhile (responseLine != null)\n{\n    System.out.printf(&quot;%s\\n&quot;, responseLine);\n    responseLine = reader.readLine();\n}\n</code></pre>\n<p>and this is the exception I get:</p>\n<pre><code>Exception in thread &quot;main&quot; org.bouncycastle.tls.TlsFatalAlert: certificate_unknown(46)\n    at org.bouncycastle.jsse.provider.ProvSSLSocketDirect.checkServerTrusted(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvTlsClient$1.notifyServerCertificate(Unknown Source)\n    at org.bouncycastle.tls.TlsUtils.processServerCertificate(Unknown Source)\n    at org.bouncycastle.tls.TlsClientProtocol.handleServerCertificate(Unknown Source)\n    at org.bouncycastle.tls.TlsClientProtocol.handleHandshakeMessage(Unknown Source)\n    at org.bouncycastle.tls.TlsProtocol.processHandshakeQueue(Unknown Source)\n    at org.bouncycastle.tls.TlsProtocol.processRecord(Unknown Source)\n    at org.bouncycastle.tls.RecordStream.readRecord(Unknown Source)\n    at org.bouncycastle.tls.TlsProtocol.safeReadRecord(Unknown Source)\n    at org.bouncycastle.tls.TlsProtocol.blockForHandshake(Unknown Source)\n    at org.bouncycastle.tls.TlsClientProtocol.connect(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvSSLSocketDirect.startHandshake(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvSSLSocketDirect.startHandshake(Unknown Source)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n    at Main.main(Main.java:17)\nCaused by: java.security.cert.CertificateException: No subject alternative name found matching IP address 195.145.98.203\n    at org.bouncycastle.jsse.provider.HostnameUtil.checkHostname(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkEndpointID(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkEndpointID(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkExtendedTrust(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkTrusted(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkServerTrusted(Unknown Source)\n    ... 18 more\n</code></pre>\n<p>I have correctly imported the TLS certificate of that hostname:</p>\n<pre><code>Owner: C=GB,L=Billericay,O=Epay Limited,CN=*.epayworldwide.com\nIssuer: C=US,O=DigiCert Inc,CN=DigiCert TLS RSA SHA256 2020 CA1\nSerial number: 97cc7ab5601ca15b1e65530f3a3e8a3\nValid from: Mon Oct 10 02:00:00 CEST 2022 until: Sun Nov 05 00:59:59 CET 2023\nCertificate fingerprints:\n         MD5:  AF:C4:FA:F6:A2:99:D8:C3:C3:9A:1D:B7:A4:6D:D7:21\n         SHA1: 4D:55:B9:2B:69:67:2E:AA:2A:B4:3B:B6:D1:BC:35:77:B0:FD:50:A0\n         SHA256: 96:AF:91:70:80:F6:F1:9E:30:18:CC:97:53:10:B4:7E:B2:CC:37:31:77:CB:C1:E1:1C:14:BC:CF:19:08:04:3B\n         Signature algorithm name: SHA256WITHRSA\n         Version: 3\nTrust this certificate? [no]:  yes\nCertificate was added to keystore\n</code></pre>\n<p>I don't understand why the code is throwing that exception. I have searched here on StackOverflow and I have found similar questions (<a href=\"https://stackoverflow.com/questions/19540289/how-to-fix-the-java-security-cert-certificateexception-no-subject-alternative\">1</a>, <a href=\"https://stackoverflow.com/questions/67185157/javax-net-ssl-sslhandshakeexception-java-security-cert-certificateexception-no\">2</a>, <a href=\"https://stackoverflow.com/questions/29157861/java-certificateexception-no-subject-alternative-names-matching-ip-address\">3</a>), but these people used an IP address to connect to the server, instead of an FQDN.</p>\n<p>I do not control the server so I can't change the certificate in any way.</p>\n<p>Is there something I can do client-side without disabling the hostname verification?</p>\n"},{"tags":["java","spring","aspectj","slf4j","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687803968,"post_id":76532389,"comment_id":134985062,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). You already provided a lot of information, which is great. Unfortunately, it is still fragmentary. The problems could be in many places. Please publish your MCVE on GitHub, so I can take a look. Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. You already provided a lot of information, which is great. Unfortunately, it is still fragmentary. The problems could be in many places. Please publish your MCVE on GitHub, so I can take a look. Thank you."}],"owner":{"account_id":28873675,"reputation":11,"user_id":22114685,"display_name":"Steppe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687440276,"creation_date":1687440276,"question_id":76532389,"body_markdown":"I have two Java projects with Spring Boot and Maven:\r\n\r\n- Backend-Client which communicates with a webservice\r\n- MonitoringSystem Backend Client which is added as an external library to the first project and contanins the AOP implementation\r\n\r\nIn the later one I have one aspect which is already working in SpringAOP and reports every thrown error to the MonitoringSystem.\r\n```\r\n    @Pointcut(&quot;(within(foo.xy..*) || within(foo.doo..*)) &amp;&amp; &quot; +\r\n            &quot;!within(is(FinalType)) &amp;&amp; &quot; +\r\n            &quot;!within(is(EnumType))&quot;)\r\n\r\n```\r\n\r\n\r\nNow I am trying to set up a second one to catch every log entry created during runtime with the most common logging frameworks like SLF4J to write them in a separate log file. I tried this with the following pointcut expression: \r\n\r\n\r\n\r\n```\r\n    @Pointcut(&quot;call(* org.apache.logging.log4j.Logger.*(..)) &quot; +\r\n            &quot;|| call(* org.slf4j.Logger.*(..)) &quot; +\r\n            &quot;|| call(* org.slf4j.LoggerFactory.*(..))&quot;)\r\n    public void loggerCalls() {}\r\n```\r\n\r\n\r\n\r\nAs this packages are not in the Spring context I tried this with loadTimeWeaving enabled:\r\n\r\n\r\n```\r\n\r\n@EnableLoadTimeWeaving\r\n\r\naop.xml set right\r\n\r\n-javaagent:...\\spring-instrument.jar\r\n-Dorg.aspectj.weaver.showWeaveInfo=true\r\n```\r\n\r\nBut the aspect is never triggered. The frist one still runs like its supposed, but with a pretty long stacktrace which doesnt contain any usefull information for debugging.\r\nThe fun thing is, that this aspect worked for a time, but after a few changes I was never again able to make it work.\r\n\r\nEven with the expression\r\n```\r\n execution(public * *(..)) \r\n```\r\nthe aspect is not working, so i guess the weaving is just not working.\r\n\r\nI have no clue where the problem is or how i can further track this down. What I can do next to make it work again. Is there a good example out there for my use case?\r\n\r\nThank you in advance.","title":"SpringAOP and Aspectj: Aspect to get all Logger calls","body":"<p>I have two Java projects with Spring Boot and Maven:</p>\n<ul>\n<li>Backend-Client which communicates with a webservice</li>\n<li>MonitoringSystem Backend Client which is added as an external library to the first project and contanins the AOP implementation</li>\n</ul>\n<p>In the later one I have one aspect which is already working in SpringAOP and reports every thrown error to the MonitoringSystem.</p>\n<pre><code>    @Pointcut(&quot;(within(foo.xy..*) || within(foo.doo..*)) &amp;&amp; &quot; +\n            &quot;!within(is(FinalType)) &amp;&amp; &quot; +\n            &quot;!within(is(EnumType))&quot;)\n\n</code></pre>\n<p>Now I am trying to set up a second one to catch every log entry created during runtime with the most common logging frameworks like SLF4J to write them in a separate log file. I tried this with the following pointcut expression:</p>\n<pre><code>    @Pointcut(&quot;call(* org.apache.logging.log4j.Logger.*(..)) &quot; +\n            &quot;|| call(* org.slf4j.Logger.*(..)) &quot; +\n            &quot;|| call(* org.slf4j.LoggerFactory.*(..))&quot;)\n    public void loggerCalls() {}\n</code></pre>\n<p>As this packages are not in the Spring context I tried this with loadTimeWeaving enabled:</p>\n<pre><code>\n@EnableLoadTimeWeaving\n\naop.xml set right\n\n-javaagent:...\\spring-instrument.jar\n-Dorg.aspectj.weaver.showWeaveInfo=true\n</code></pre>\n<p>But the aspect is never triggered. The frist one still runs like its supposed, but with a pretty long stacktrace which doesnt contain any usefull information for debugging.\nThe fun thing is, that this aspect worked for a time, but after a few changes I was never again able to make it work.</p>\n<p>Even with the expression</p>\n<pre><code> execution(public * *(..)) \n</code></pre>\n<p>the aspect is not working, so i guess the weaving is just not working.</p>\n<p>I have no clue where the problem is or how i can further track this down. What I can do next to make it work again. Is there a good example out there for my use case?</p>\n<p>Thank you in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9639,"page":353,"page_size":100}
