{"items":[{"tags":["java","apache-httpclient-4.x","chunked"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679398101,"post_id":75798139,"comment_id":133710937,"body_markdown":"How do you conclude it is not chunking? Also, why do you want it to chunk? Likely it doesn&#39;t use chunking in this case because it knows the total size ahead of time, because files have a known size. Also, which version of the Apache HTTP client are you using (right now I&#39;ve assumed the 4.x version).","body":"How do you conclude it is not chunking? Also, why do you want it to chunk? Likely it doesn&#39;t use chunking in this case because it knows the total size ahead of time, because files have a known size. Also, which version of the Apache HTTP client are you using (right now I&#39;ve assumed the 4.x version)."}],"owner":{"account_id":11450905,"reputation":499,"user_id":8393315,"accept_rate":47,"display_name":"TomJava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679398050,"creation_date":1679382094,"question_id":75798139,"body_markdown":"I m trying to create a chunked transfer encoding. \r\n\r\n```java\r\nString url =&quot;https://hostname/path/&quot;;\r\nFile testUploadFile = new File(&quot;filePath&quot;);\r\nCloseableHttpClient httpClient = HttpClients.createDefault();\r\nHttpEntity postData = MultipartEntityBuilder.create().addBinaryBody(&quot;uploadFile&quot;, testUploadFile).build();\r\nHttpUriRequest postRequest = RequestBuilder.put(url).setEntity(postData)\r\n\t\t.addHeader(&quot;Content-Type&quot;,&quot;application/json&quot;)\r\n\t\t.addHeader(&quot;User-Agent&quot;,&quot;java-prg&quot;)\r\n\t\t.build();\r\n\r\nHttpResponse response =  httpClient.execute(postRequest);\r\nBufferedReader bufferedReader  = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n\r\nStringBuffer stringBuffer= new StringBuffer();\r\nString line =&quot;&quot;;\r\nSystem.out.println(&quot;Result &quot;+response.getStatusLine().getStatusCode());\r\nwhile((line=bufferedReader.readLine()) != null) {\r\n\tstringBuffer.append(line);\r\n}\r\n```\r\n\t\t\r\nEven if I add \r\n\r\n```\r\n.addHeader(&quot;Transfer-Encoding&quot;,&quot;chunked&quot;)\r\n```\r\n```none\r\norg.apache.http.client.ClientProtocolException\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:187)\r\nCaused by: org.apache.http.ProtocolException: Transfer-encoding header already present\r\n```\r\n","title":"How to create a chunked request in Java (transfer encoding)","body":"<p>I m trying to create a chunked transfer encoding.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String url =&quot;https://hostname/path/&quot;;\nFile testUploadFile = new File(&quot;filePath&quot;);\nCloseableHttpClient httpClient = HttpClients.createDefault();\nHttpEntity postData = MultipartEntityBuilder.create().addBinaryBody(&quot;uploadFile&quot;, testUploadFile).build();\nHttpUriRequest postRequest = RequestBuilder.put(url).setEntity(postData)\n        .addHeader(&quot;Content-Type&quot;,&quot;application/json&quot;)\n        .addHeader(&quot;User-Agent&quot;,&quot;java-prg&quot;)\n        .build();\n\nHttpResponse response =  httpClient.execute(postRequest);\nBufferedReader bufferedReader  = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n\nStringBuffer stringBuffer= new StringBuffer();\nString line =&quot;&quot;;\nSystem.out.println(&quot;Result &quot;+response.getStatusLine().getStatusCode());\nwhile((line=bufferedReader.readLine()) != null) {\n    stringBuffer.append(line);\n}\n</code></pre>\n<p>Even if I add</p>\n<pre><code>.addHeader(&quot;Transfer-Encoding&quot;,&quot;chunked&quot;)\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.http.client.ClientProtocolException\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:187)\nCaused by: org.apache.http.ProtocolException: Transfer-encoding header already present\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28508,"reputation":2817,"user_id":76219,"accept_rate":79,"display_name":"XpiritO"},"score":0,"creation_date":1443089312,"post_id":32758569,"comment_id":53356497,"body_markdown":"http://stackoverflow.com/questions/15622413/calculate-business-days-in-java-without-saturdays-sunday-and-public-holiday OR http://stackoverflow.com/questions/4600034/calculate-number-of-weekdays-between-two-dates-in-java ...","body":"<a href=\"http://stackoverflow.com/questions/15622413/calculate-business-days-in-java-without-saturdays-sunday-and-public-holiday\" title=\"calculate business days in java without saturdays sunday and public holiday\">stackoverflow.com/questions/15622413/&hellip;</a> OR <a href=\"http://stackoverflow.com/questions/4600034/calculate-number-of-weekdays-between-two-dates-in-java\" title=\"calculate number of weekdays between two dates in java\">stackoverflow.com/questions/4600034/&hellip;</a> ..."},{"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"score":0,"creation_date":1443089775,"post_id":32758569,"comment_id":53356764,"body_markdown":"@BenWin Yes I want the date difference, but including the start and the end date.","body":"@BenWin Yes I want the date difference, but including the start and the end date."},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1443090349,"post_id":32758569,"comment_id":53357093,"body_markdown":"@ShashiKiran I executed your program and it works fine. Gives 4 for the second example.","body":"@ShashiKiran I executed your program and it works fine. Gives 4 for the second example."},{"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"score":0,"creation_date":1443090519,"post_id":32758569,"comment_id":53357168,"body_markdown":"@KDM Found the mistake in my code, the date format had to changed from yyyy to yy. Can you kindly recheck with the same data ?","body":"@KDM Found the mistake in my code, the date format had to changed from yyyy to yy. Can you kindly recheck with the same data ?"},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1443090581,"post_id":32758569,"comment_id":53357208,"body_markdown":"@ShashiKiran according to sdf java doc &quot;For parsing, if the number of pattern letters is more than 2, the year is interpreted literally, regardless of the number of digits. So using the pattern &quot;MM/dd/yyyy&quot;, &quot;01/11/12&quot; parses to Jan 11, 12 A.D.&quot;","body":"@ShashiKiran according to sdf java doc &quot;For parsing, if the number of pattern letters is more than 2, the year is interpreted literally, regardless of the number of digits. So using the pattern &quot;MM/dd/yyyy&quot;, &quot;01/11/12&quot; parses to Jan 11, 12 A.D.&quot;"},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1443090726,"post_id":32758569,"comment_id":53357285,"body_markdown":"@ShashiKiran while trying your code, I changed the format to &quot;yy&quot; and forgot about it.","body":"@ShashiKiran while trying your code, I changed the format to &quot;yy&quot; and forgot about it."},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1443091218,"post_id":32758569,"comment_id":53357553,"body_markdown":"Do official holidays matter in your calculation ?","body":"Do official holidays matter in your calculation ?"},{"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"score":0,"creation_date":1443091344,"post_id":32758569,"comment_id":53357618,"body_markdown":"@Marged I need only the weekends to be removed not any other official or public holidays.","body":"@Marged I need only the weekends to be removed not any other official or public holidays."}],"answers":[{"tags":[],"owner":{"account_id":1455938,"reputation":1692,"user_id":1371499,"accept_rate":74,"display_name":"Nitesh Virani"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1679397635,"creation_date":1443089546,"answer_id":32758737,"question_id":32758569,"body_markdown":"You have a mistake in creating `SimpleDateFormat`, change to `yy` instead of `yyyy`\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\r\n\r\nThis should solve your problems. I do not see any issues in your logic.\r\n\r\nAs per your comments, if your start date is greater than end date then you have to swap it before `while` loop\r\n\r\n       if(start.after(end)) {\r\n           Calendar tempCal;\r\n           tempCal = start;\r\n           start = end;\r\n           end = tempCal;\r\n        }","title":"How to calculate the working days (excluding weekends) in between two different dates?","body":"<p>You have a mistake in creating <code>SimpleDateFormat</code>, change to <code>yy</code> instead of <code>yyyy</code></p>\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\n</code></pre>\n<p>This should solve your problems. I do not see any issues in your logic.</p>\n<p>As per your comments, if your start date is greater than end date then you have to swap it before <code>while</code> loop</p>\n<pre><code>   if(start.after(end)) {\n       Calendar tempCal;\n       tempCal = start;\n       start = end;\n       end = tempCal;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1438213,"reputation":2261,"user_id":1359137,"accept_rate":17,"display_name":"Animesh Kumar Paul"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1443090749,"creation_date":1443090749,"answer_id":32759122,"question_id":32758569,"body_markdown":"Check the below code:\r\n\r\n    import java.io.InputStreamReader;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Scanner;\r\n\r\n\r\n    public class DaysCounter {\r\n    private String startDate;\r\n    private String endDate;\r\n\r\n    public void calculateDate(){\r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        Scanner in=new Scanner(new InputStreamReader(System.in));\r\n\r\n        System.out.println(&quot;Enter the starting date (DD/MM/YY) :&quot;);\r\n        startDate=in.next();\r\n\r\n        System.out.println(&quot;Enter the End date (DD/MM/YY) :&quot;);\r\n        endDate=in.next();\r\n\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        try\r\n        {\r\n            Calendar start = Calendar.getInstance();\r\n            start.setTime(sdf.parse(startDate));\r\n            Calendar end = Calendar.getInstance();\r\n            end.setTime(sdf.parse(endDate));\r\n            int workingDays = 0;\r\n            while(!start.after(end))\r\n            {\r\n                int day = start.get(Calendar.DAY_OF_WEEK);\r\n              \r\n                day = day + 2;\r\n                if (day &gt; 7){\r\n                    day = day -7;\r\n                }\r\n                \r\n                if ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY))\r\n                    workingDays++;\r\n                start.add(Calendar.DATE, 1);\r\n            }\r\n            System.out.println(workingDays);\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        DaysCounter daysCounter=new DaysCounter();\r\n        daysCounter.calculateDate();\r\n    }\r\n    }","title":"How to calculate the working days (excluding weekends) in between two different dates?","body":"<p>Check the below code:</p>\n\n<pre><code>import java.io.InputStreamReader;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Scanner;\n\n\npublic class DaysCounter {\nprivate String startDate;\nprivate String endDate;\n\npublic void calculateDate(){\n    @SuppressWarnings(\"resource\")\n    Scanner in=new Scanner(new InputStreamReader(System.in));\n\n    System.out.println(\"Enter the starting date (DD/MM/YY) :\");\n    startDate=in.next();\n\n    System.out.println(\"Enter the End date (DD/MM/YY) :\");\n    endDate=in.next();\n\n    SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\n    try\n    {\n        Calendar start = Calendar.getInstance();\n        start.setTime(sdf.parse(startDate));\n        Calendar end = Calendar.getInstance();\n        end.setTime(sdf.parse(endDate));\n        int workingDays = 0;\n        while(!start.after(end))\n        {\n            int day = start.get(Calendar.DAY_OF_WEEK);\n\n            day = day + 2;\n            if (day &gt; 7){\n                day = day -7;\n            }\n\n            if ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY))\n                workingDays++;\n            start.add(Calendar.DATE, 1);\n        }\n        System.out.println(workingDays);\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n\npublic static void main(String[] args)\n{\n    DaysCounter daysCounter=new DaysCounter();\n    daysCounter.calculateDate();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28065276,"reputation":11,"user_id":21438756,"display_name":"Dhruv Shantilal Patel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679393379,"creation_date":1679392881,"answer_id":75799720,"question_id":32758569,"body_markdown":"    /*this program is for count the days between two days with excluding SATURDAY and SUNDAY*/\r\n    \r\n    package example;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.*;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class ValidDate {\r\n    \r\n    \tprivate static Pattern datePattern = Pattern.compile(&quot;^\\\\d{1,2}/\\\\d{1,2}/\\\\d{4}$&quot;);\r\n    \r\n    \tpublic static boolean isValidFormat(String src, String src1) {\r\n    \t\tif (datePattern.matcher(src).matches() &amp;&amp; datePattern.matcher(src1).matches()) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic static boolean isValidDate(String str, String str1) {\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \t\tsdf.setLenient(false);\r\n    \r\n    \t\ttry {\r\n    \t\t\tsdf.parse(str);\r\n    \t\t\tsdf.parse(str1);\r\n    \t\t\treturn true;\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter start Date&quot;);\r\n    \t\tString startDate = sc.next();\r\n    \r\n    \t\tSystem.out.println(&quot;Enter end date&quot;);\r\n    \t\tString endDate = sc.next();\r\n    \r\n    \t\tint workingDays = 0;\r\n    \t\tboolean isValidPattern = isValidFormat(startDate, endDate);\r\n    \t\tif (isValidPattern) {\r\n    \t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \t\t\tsdf.setLenient(false);\r\n    \t\t\tif (isValidDate(startDate, endDate)) {\r\n    //System.out.println(&quot;This is valid dates&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tCalendar start = Calendar.getInstance();\r\n    \t\t\t\t\tstart.setTime(sdf.parse(startDate));\r\n    \t\t\t\t\tCalendar end = Calendar.getInstance();\r\n    \t\t\t\t\tend.setTime(sdf.parse(endDate));\r\n    \r\n    \t\t\t\t\twhile (!start.after(end)) {\r\n    \t\t\t\t\t\tint day = start.get(Calendar.DAY_OF_WEEK);\r\n    \t\t\t\t\t\tif ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY)) {\r\n    \t\t\t\t\t\t\tworkingDays++;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tstart.add(Calendar.DATE, 1);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tSystem.out.println(&quot;Working Days=&quot; + workingDays);\r\n    \t\t\t\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Given date is invalid&quot;);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Please enter date in [DD/MM/YYYY] format&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to calculate the working days (excluding weekends) in between two different dates?","body":"<pre><code>/*this program is for count the days between two days with excluding SATURDAY and SUNDAY*/\n\npackage example;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.*;\nimport java.util.regex.Pattern;\n\npublic class ValidDate {\n\n    private static Pattern datePattern = Pattern.compile(&quot;^\\\\d{1,2}/\\\\d{1,2}/\\\\d{4}$&quot;);\n\n    public static boolean isValidFormat(String src, String src1) {\n        if (datePattern.matcher(src).matches() &amp;&amp; datePattern.matcher(src1).matches()) {\n            return true;\n        }\n        return false;\n    }\n\n    public static boolean isValidDate(String str, String str1) {\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        sdf.setLenient(false);\n\n        try {\n            sdf.parse(str);\n            sdf.parse(str1);\n            return true;\n        } catch (ParseException e) {\n            return false;\n        }\n\n    }\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter start Date&quot;);\n        String startDate = sc.next();\n\n        System.out.println(&quot;Enter end date&quot;);\n        String endDate = sc.next();\n\n        int workingDays = 0;\n        boolean isValidPattern = isValidFormat(startDate, endDate);\n        if (isValidPattern) {\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n            sdf.setLenient(false);\n            if (isValidDate(startDate, endDate)) {\n//System.out.println(&quot;This is valid dates&quot;);\n                try {\n                    Calendar start = Calendar.getInstance();\n                    start.setTime(sdf.parse(startDate));\n                    Calendar end = Calendar.getInstance();\n                    end.setTime(sdf.parse(endDate));\n\n                    while (!start.after(end)) {\n                        int day = start.get(Calendar.DAY_OF_WEEK);\n                        if ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY)) {\n                            workingDays++;\n                        }\n                        start.add(Calendar.DATE, 1);\n                    }\n                    System.out.println(&quot;Working Days=&quot; + workingDays);\n            \n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n            } else {\n                System.out.println(&quot;Given date is invalid&quot;);\n            }\n        } else {\n            System.out.println(&quot;Please enter date in [DD/MM/YYYY] format&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10741,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":32758737,"answer_count":3,"score":7,"last_activity_date":1679397635,"creation_date":1443088993,"question_id":32758569,"body_markdown":"My requirement is to calculate the number of days between the given two dates, excluding Saturday and Sunday.\r\n\r\nExample:\r\n\r\nStart date: 10/09/15 and End date 18/09/15\\\r\nResult: 7\r\n\r\nDate is in `DD/MM/YY` format.\r\n\r\nCode:\r\n```java\r\nimport java.io.InputStreamReader;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Scanner;\r\n\r\npublic class DaysCounter {\r\n\tprivate String startDate;\r\n\tprivate String endDate;\r\n\r\n\tpublic void calculateDate(){\r\n\t\t@SuppressWarnings(&quot;resource&quot;)\r\n\t\tScanner in=new Scanner(new InputStreamReader(System.in));\r\n\r\n\t\tSystem.out.println(&quot;Enter the starting date (DD/MM/YY) :&quot;);\r\n\t\tstartDate=in.next();\r\n\r\n\t\tSystem.out.println(&quot;Enter the End date (DD/MM/YY) :&quot;);\r\n\t\tendDate=in.next();\r\n\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\ttry\r\n\t\t{\r\n\t\t\tCalendar start = Calendar.getInstance();\r\n\t\t\tstart.setTime(sdf.parse(startDate));\r\n\t\t\tCalendar end = Calendar.getInstance();\r\n\t\t\tend.setTime(sdf.parse(endDate));\r\n\t\t\tint workingDays = 0;\r\n\t\t\twhile(!start.after(end))\r\n\t\t\t{\r\n\t\t\t\tint day = start.get(Calendar.DAY_OF_WEEK);\r\n\t\t\t\tif ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY))\r\n\t\t\t\t\tworkingDays++;\r\n\t\t\t\tstart.add(Calendar.DATE, 1);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(workingDays);\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tDaysCounter daysCounter=new DaysCounter();\r\n\t\tdaysCounter.calculateDate();\r\n\t}\r\n}\r\n```\r\n\r\nHere are the results for the above code.\r\n\r\n1.  ```none\r\n    Enter the starting date (DD/MM/YY) :\r\n    14/09/15\r\n    Enter the End date (DD/MM/YY) :\r\n    20/09/15\r\n\r\n    5\r\n    ```\r\n\r\n2.  ```none\r\n    Enter the starting date (DD/MM/YY) :\r\n    14/09/15\r\n    Enter the End date (DD/MM/YY) :\r\n    17/09/15\r\n\r\n    2\r\n    ```\r\n\r\n3.  ```none\r\n    Enter the starting date (DD/MM/YY) :\r\n    31/08/15\r\n    Enter the End date (DD/MM/YY) :\r\n    30/09/15\r\n\r\n    21\r\n    ```\r\n\r\nAs seen in the above first example, the result is correct. However, for the second example, the result is incorrect, the expected result is 4. Also for the third example, the result is incorrect.\r\n\r\nWhen I enter the date between any weekday and a Saturday, I get an incorrect result.\r\n\r\nWhat changes should be made to the code to make it work?\r\n\r\n","title":"How to calculate the working days (excluding weekends) in between two different dates?","body":"<p>My requirement is to calculate the number of days between the given two dates, excluding Saturday and Sunday.</p>\n<p>Example:</p>\n<p>Start date: 10/09/15 and End date 18/09/15<br />\nResult: 7</p>\n<p>Date is in <code>DD/MM/YY</code> format.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.InputStreamReader;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Scanner;\n\npublic class DaysCounter {\n    private String startDate;\n    private String endDate;\n\n    public void calculateDate(){\n        @SuppressWarnings(&quot;resource&quot;)\n        Scanner in=new Scanner(new InputStreamReader(System.in));\n\n        System.out.println(&quot;Enter the starting date (DD/MM/YY) :&quot;);\n        startDate=in.next();\n\n        System.out.println(&quot;Enter the End date (DD/MM/YY) :&quot;);\n        endDate=in.next();\n\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        try\n        {\n            Calendar start = Calendar.getInstance();\n            start.setTime(sdf.parse(startDate));\n            Calendar end = Calendar.getInstance();\n            end.setTime(sdf.parse(endDate));\n            int workingDays = 0;\n            while(!start.after(end))\n            {\n                int day = start.get(Calendar.DAY_OF_WEEK);\n                if ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY))\n                    workingDays++;\n                start.add(Calendar.DATE, 1);\n            }\n            System.out.println(workingDays);\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        DaysCounter daysCounter=new DaysCounter();\n        daysCounter.calculateDate();\n    }\n}\n</code></pre>\n<p>Here are the results for the above code.</p>\n<ol>\n<li>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the starting date (DD/MM/YY) :\n14/09/15\nEnter the End date (DD/MM/YY) :\n20/09/15\n\n5\n</code></pre>\n</li>\n<li>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the starting date (DD/MM/YY) :\n14/09/15\nEnter the End date (DD/MM/YY) :\n17/09/15\n\n2\n</code></pre>\n</li>\n<li>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the starting date (DD/MM/YY) :\n31/08/15\nEnter the End date (DD/MM/YY) :\n30/09/15\n\n21\n</code></pre>\n</li>\n</ol>\n<p>As seen in the above first example, the result is correct. However, for the second example, the result is incorrect, the expected result is 4. Also for the third example, the result is incorrect.</p>\n<p>When I enter the date between any weekday and a Saturday, I get an incorrect result.</p>\n<p>What changes should be made to the code to make it work?</p>\n"},{"tags":["java","sql","postgresql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":130979,"reputation":80000,"user_id":330644,"accept_rate":99,"display_name":"Delan Azabani"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1272884819,"creation_date":1272884819,"answer_id":2757576,"question_id":2757549,"body_markdown":"The offending lines are the following:\r\n\r\n    MaxConnections=90\r\n    InitialConnections=80\r\n\r\nYou can increase the values to allow more connections.","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>The offending lines are the following:</p>\n\n<pre><code>MaxConnections=90\nInitialConnections=80\n</code></pre>\n\n<p>You can increase the values to allow more connections.</p>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"down_vote_count":1,"up_vote_count":60,"is_accepted":true,"score":59,"last_activity_date":1272894055,"creation_date":1272894055,"answer_id":2758432,"question_id":2757549,"body_markdown":"We don&#39;t know what *server.properties* file is that, we neither know what *SimocoPoolSize* means (do you?)\r\n\r\nLet&#39;s guess you are using some custom pool of database connections. Then, I guess the problem is that your pool is configured to open 100 or 120 connections, but you Postgresql server is configured to accept `MaxConnections=90` . These seem conflictive settings. Try increasing `MaxConnections=120`.\r\n\r\nBut you should first understand your db layer infrastructure, know what pool are you using, if you really need so many open connections in the pool. And, specially, if you are gracefully returning the opened connections to the pool","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>We don't know what <em>server.properties</em> file is that, we neither know what <em>SimocoPoolSize</em> means (do you?)</p>\n\n<p>Let's guess you are using some custom pool of database connections. Then, I guess the problem is that your pool is configured to open 100 or 120 connections, but you Postgresql server is configured to accept <code>MaxConnections=90</code> . These seem conflictive settings. Try increasing <code>MaxConnections=120</code>.</p>\n\n<p>But you should first understand your db layer infrastructure, know what pool are you using, if you really need so many open connections in the pool. And, specially, if you are gracefully returning the opened connections to the pool</p>\n"},{"tags":[],"owner":{"account_id":706738,"reputation":93,"user_id":602890,"display_name":"JK Tomar"},"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1365036280,"creation_date":1296810864,"answer_id":4896284,"question_id":2757549,"body_markdown":"No need to increase the MaxConnections &amp; InitialConnections. Just close your connections after after doing your work.  For example if you are creating connection:\r\n\r\n    try {\r\n         connection = DriverManager.getConnection(\r\n    \t\t\t\t\t&quot;jdbc:postgresql://127.0.0.1/&quot;+dbname,user,pass);\r\n    \t\t\t\r\n       } catch (SQLException e) {\r\n    \te.printStackTrace();\r\n    \treturn;\r\n    }\r\n\r\nAfter doing your work close connection:\r\n\r\n    try {\r\n    \tconnection.commit();\r\n    \tconnection.close();\r\n    } catch (SQLException e) {\r\n\t    e.printStackTrace();\r\n    }","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>No need to increase the MaxConnections &amp; InitialConnections. Just close your connections after after doing your work.  For example if you are creating connection:</p>\n\n<pre><code>try {\n     connection = DriverManager.getConnection(\n                    \"jdbc:postgresql://127.0.0.1/\"+dbname,user,pass);\n\n   } catch (SQLException e) {\n    e.printStackTrace();\n    return;\n}\n</code></pre>\n\n<p>After doing your work close connection:</p>\n\n<pre><code>try {\n    connection.commit();\n    connection.close();\n} catch (SQLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"down_vote_count":0,"up_vote_count":273,"is_accepted":false,"score":273,"last_activity_date":1677864353,"creation_date":1354062988,"answer_id":13595817,"question_id":2757549,"body_markdown":"An explanation of the following error:\r\n--------------------------------------\r\n\r\n    org.postgresql.util.PSQLException: FATAL: sorry, too many clients already.\r\n\r\n**Summary:**\r\n\r\nYour code opened up more than the allowed limit of connections to the postgresql database.  It ran something like this: `Connection conn = myconn.Open();` inside a loop, and forgot to run `conn.close();`.  Just because your class is destroyed and garbage collected does not release the connection to the database.  The quickest fix to this is to make sure you have the following code with whatever class that creates a connection:\r\n\r\n    protected void finalize() throws Throwable  \r\n    {  \r\n        try { your_connection.close(); } \r\n        catch (SQLException e) { \r\n            e.printStackTrace();\r\n        }\r\n        super.finalize();  \r\n    }  \r\n\r\nPlace that code in any class where you create a Connection.  Then when your class is garbage collected, your connection will be released.\r\n\r\n\r\n**Run this SQL to see postgresql max connections allowed:**\r\n\r\n    show max_connections;\r\n\r\nThe default is 100.  PostgreSQL on good hardware can support a few hundred connections at a time.  If you want to have thousands, you should consider using connection pooling software to reduce the connection overhead.  \r\n\r\n**Take a look at exactly who/what/when/where is holding open your connections:**\r\n\r\n    SELECT * FROM pg_stat_activity;\r\n\r\n**The number of connections currently used is:**\r\n\r\n    SELECT COUNT(*) from pg_stat_activity;\r\n\r\n**Debugging strategy**\r\n\r\n1.  You could give different usernames/passwords to the programs that might not be releasing the connections to find out which one it is, and then look in pg_stat_activity to find out which one is not cleaning up after itself.  \r\n\r\n2.  Do a full exception stack trace when the connections could not be created and follow the code back up to where you create a new `Connection`, make sure every code line where you create a connection ends with a `connection.close();`\r\n\r\n\r\n**How to set the max_connections higher:**\r\n\r\nmax_connections in the postgresql.conf sets the maximum number of concurrent connections to the database server. \r\n\r\n1.  First find your postgresql.conf file\r\n2.  If you don&#39;t know where it is, query the database with the sql: `SHOW config_file;`\r\n3.  Mine is in: `/var/lib/pgsql/data/postgresql.conf`\r\n4.  Login as root and edit that file.\r\n5.  Search for the string: &quot;max_connections&quot;.\r\n6.  You&#39;ll see a line that says `max_connections=100`.\r\n7.  Set that number bigger, restart postgresql database.\r\n\r\n**What&#39;s the maximum max_connections?**\r\n\r\nUse this query:\r\n\r\n    select min_val, max_val from pg_settings where name=&#39;max_connections&#39;;\r\n\r\nI get the value `8388607` so in theory that&#39;s the most you are allowed to have, but then a runaway process can eat up thousands of connections, and surprise, your database is unresponsive until reboot.  If you had a sensible max_connections like 100.  The offending program would be denied a new connection and the database is safu.\r\n","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<h2>An explanation of the following error:</h2>\n<pre><code>org.postgresql.util.PSQLException: FATAL: sorry, too many clients already.\n</code></pre>\n<p><strong>Summary:</strong></p>\n<p>Your code opened up more than the allowed limit of connections to the postgresql database.  It ran something like this: <code>Connection conn = myconn.Open();</code> inside a loop, and forgot to run <code>conn.close();</code>.  Just because your class is destroyed and garbage collected does not release the connection to the database.  The quickest fix to this is to make sure you have the following code with whatever class that creates a connection:</p>\n<pre><code>protected void finalize() throws Throwable  \n{  \n    try { your_connection.close(); } \n    catch (SQLException e) { \n        e.printStackTrace();\n    }\n    super.finalize();  \n}  \n</code></pre>\n<p>Place that code in any class where you create a Connection.  Then when your class is garbage collected, your connection will be released.</p>\n<p><strong>Run this SQL to see postgresql max connections allowed:</strong></p>\n<pre><code>show max_connections;\n</code></pre>\n<p>The default is 100.  PostgreSQL on good hardware can support a few hundred connections at a time.  If you want to have thousands, you should consider using connection pooling software to reduce the connection overhead.</p>\n<p><strong>Take a look at exactly who/what/when/where is holding open your connections:</strong></p>\n<pre><code>SELECT * FROM pg_stat_activity;\n</code></pre>\n<p><strong>The number of connections currently used is:</strong></p>\n<pre><code>SELECT COUNT(*) from pg_stat_activity;\n</code></pre>\n<p><strong>Debugging strategy</strong></p>\n<ol>\n<li><p>You could give different usernames/passwords to the programs that might not be releasing the connections to find out which one it is, and then look in pg_stat_activity to find out which one is not cleaning up after itself.</p>\n</li>\n<li><p>Do a full exception stack trace when the connections could not be created and follow the code back up to where you create a new <code>Connection</code>, make sure every code line where you create a connection ends with a <code>connection.close();</code></p>\n</li>\n</ol>\n<p><strong>How to set the max_connections higher:</strong></p>\n<p>max_connections in the postgresql.conf sets the maximum number of concurrent connections to the database server.</p>\n<ol>\n<li>First find your postgresql.conf file</li>\n<li>If you don't know where it is, query the database with the sql: <code>SHOW config_file;</code></li>\n<li>Mine is in: <code>/var/lib/pgsql/data/postgresql.conf</code></li>\n<li>Login as root and edit that file.</li>\n<li>Search for the string: &quot;max_connections&quot;.</li>\n<li>You'll see a line that says <code>max_connections=100</code>.</li>\n<li>Set that number bigger, restart postgresql database.</li>\n</ol>\n<p><strong>What's the maximum max_connections?</strong></p>\n<p>Use this query:</p>\n<pre><code>select min_val, max_val from pg_settings where name='max_connections';\n</code></pre>\n<p>I get the value <code>8388607</code> so in theory that's the most you are allowed to have, but then a runaway process can eat up thousands of connections, and surprise, your database is unresponsive until reboot.  If you had a sensible max_connections like 100.  The offending program would be denied a new connection and the database is safu.</p>\n"},{"tags":[],"owner":{"account_id":6522278,"reputation":41,"user_id":5046124,"display_name":"Brayan Escobedo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485215683,"creation_date":1485215683,"answer_id":41817781,"question_id":2757549,"body_markdown":"You need to close all your connexions for example:\r\nIf you make an INSERT INTO statement you need to close the statement and your connexion in this way:\r\n\r\n    statement.close();\r\n    Connexion.close():\r\n\r\nAnd if you make a SELECT statement you need to close the statement, the connexion and the resultset in this way:\r\n\r\n    resultset.close();\r\n    statement.close();\r\n    Connexion.close();\r\n\r\nI did this and it worked","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>You need to close all your connexions for example:\nIf you make an INSERT INTO statement you need to close the statement and your connexion in this way:</p>\n\n<pre><code>statement.close();\nConnexion.close():\n</code></pre>\n\n<p>And if you make a SELECT statement you need to close the statement, the connexion and the resultset in this way:</p>\n\n<pre><code>resultset.close();\nstatement.close();\nConnexion.close();\n</code></pre>\n\n<p>I did this and it worked</p>\n"},{"tags":[],"owner":{"account_id":21797838,"reputation":81,"user_id":16097168,"display_name":"Abbas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670305184,"creation_date":1670304919,"answer_id":74697708,"question_id":2757549,"body_markdown":"I had postgres and other apps up in docker. I was facing this problem when more than ten apps connected to postgres database. The solution was to increase postgres max_connection count. This is 100 by default. To increase this value, either find max_connection in the /var/lib/pgsql/data/postgresql.conf file and edit it. Another way is to add and run the docker-compose.yml document as follows.  \r\n\r\n    version: &#39;3&#39;\r\n    \r\n    services:\r\n      taxi-postgresql:\r\n        container_name: my-postgresql\r\n        image: postgres:13.3\r\n        volumes:\r\n          - ./postgres-volume:/var/lib/postgresql/data\r\n        environment:\r\n          - POSTGRES_DB=taxi-postgresql\r\n          - POSTGRES_USER=user\r\n          - POSTGRES_PASSWORD=user\r\n          - POSTGRES_HOST_AUTH_METHOD=trust\r\n        command: postgres -c &#39;max_connections=1000&#39;\r\n        ports:\r\n          - 127.0.0.1:5432:5432","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>I had postgres and other apps up in docker. I was facing this problem when more than ten apps connected to postgres database. The solution was to increase postgres max_connection count. This is 100 by default. To increase this value, either find max_connection in the /var/lib/pgsql/data/postgresql.conf file and edit it. Another way is to add and run the docker-compose.yml document as follows.</p>\n<pre><code>version: '3'\n\nservices:\n  taxi-postgresql:\n    container_name: my-postgresql\n    image: postgres:13.3\n    volumes:\n      - ./postgres-volume:/var/lib/postgresql/data\n    environment:\n      - POSTGRES_DB=taxi-postgresql\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=user\n      - POSTGRES_HOST_AUTH_METHOD=trust\n    command: postgres -c 'max_connections=1000'\n    ports:\n      - 127.0.0.1:5432:5432\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679397589,"creation_date":1676384227,"answer_id":75449122,"question_id":2757549,"body_markdown":"The same error appears in our microservices deployment, and it is solved by increasing concurrent connections in the Postgresql container:\r\n\r\n&gt; num_init_children","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>The same error appears in our microservices deployment, and it is solved by increasing concurrent connections in the Postgresql container:</p>\n<blockquote>\n<p>num_init_children</p>\n</blockquote>\n"}],"owner":{"account_id":128134,"reputation":4619,"user_id":2405181,"accept_rate":67,"display_name":"lakshmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385379,"favorite_count":0,"down_vote_count":0,"up_vote_count":174,"accepted_answer_id":2758432,"answer_count":7,"score":174,"last_activity_date":1679397589,"creation_date":1272884473,"question_id":2757549,"body_markdown":"I am trying to connect to a Postgresql database, I am getting the following Error:\r\n\r\n&gt;Error:org.postgresql.util.PSQLException: FATAL: sorry, too many clients already\r\n\r\nWhat does the error mean and how do I fix it?\r\n\r\nMy `server.properties` file is following:\r\n\r\n    serverPortData=9042\r\n    serverPortCommand=9078\r\n    trackConnectionURL=jdbc:postgresql://127.0.0.1:5432/vTrack?user=postgres password=postgres\r\n    dst=1\r\n    DatabaseName=vTrack\r\n    ServerName=127.0.0.1\r\n    User=postgres\r\n    Password=admin\r\n    MaxConnections=90\r\n    InitialConnections=80\r\n    PoolSize=100\r\n    MaxPoolSize=100\r\n    KeepAliveTime=100\r\n    TrackPoolSize=120\r\n    TrackMaxPoolSize=120\r\n    TrackKeepAliveTime=100\r\n    PortNumber=5432\r\n    Logging=1\r\n","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>I am trying to connect to a Postgresql database, I am getting the following Error:</p>\n\n<blockquote>\n  <p>Error:org.postgresql.util.PSQLException: FATAL: sorry, too many clients already</p>\n</blockquote>\n\n<p>What does the error mean and how do I fix it?</p>\n\n<p>My <code>server.properties</code> file is following:</p>\n\n<pre><code>serverPortData=9042\nserverPortCommand=9078\ntrackConnectionURL=jdbc:postgresql://127.0.0.1:5432/vTrack?user=postgres password=postgres\ndst=1\nDatabaseName=vTrack\nServerName=127.0.0.1\nUser=postgres\nPassword=admin\nMaxConnections=90\nInitialConnections=80\nPoolSize=100\nMaxPoolSize=100\nKeepAliveTime=100\nTrackPoolSize=120\nTrackMaxPoolSize=120\nTrackKeepAliveTime=100\nPortNumber=5432\nLogging=1\n</code></pre>\n"},{"tags":["java","apache-spark","kubernetes","apache-iceberg"],"owner":{"account_id":177220,"reputation":409,"user_id":408410,"accept_rate":40,"display_name":"Shivaprasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679396835,"creation_date":1679395223,"question_id":75800127,"body_markdown":"I am trying to run a Spark job on a Kubernetes cluster and I need to add additional JARs required by my application (specifically JARs for Apache Iceberg and AWS SDK). Initially, I tried running my Spark job through spark-submit in cluster deploy mode and pointed the packages to be downloaded onto an NFS share so that both the driver and executors have access to it. Specifying the JARs in the network share as part of the extraClassPath option worked fine. You can find the configuration for spark-submit below.\r\n\r\n```bash\r\nspark-submit \\\r\n     --deploy-mode cluster --master k8s://https://10.164.64.27:6443 \\\r\n     --conf spark.kubernetes.namespace=spark-cluster \\\r\n     --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-sa \\\r\n     --name $1 --conf spark.executor.instances=$2 \\\r\n     --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.3.2,org.apache.iceberg:iceberg-spark-runtime-3.3_2.12:1.0.0,org.projectnessie:nessie-spark-extensions-3.3_2.12:0.44.0,software.amazon.awssdk:bundle:2.19.21,software.amazon.awssdk:url-connection-client:2.19.21 \\\r\n     --conf spark.driver.extraJavaOptions=-Divy.cache.dir=/tmp/spark-data/ \\\r\n     --conf spark.driver.extraJavaOptions=-Divy.home=/tmp/spark-data/ \\\r\n     --conf spark.executor.extraJavaOptions=-Divy.cache.dir=/tmp/spark-data/ \\\r\n     --conf spark.executor.extraJavaOptions=-Divy.home=/tmp/spark-data/ \\\r\n     --conf spark.executor.extraClassPath=local:///tmp/spark-data/jars/* \\\r\n     --conf spark.kubernetes.driver.container.image=apache/spark-py:v3.3.2 \\\r\n     --conf spark.kubernetes.executor.container.image=apache/spark-py:v3.3.2 ${@:3}\r\n```\r\n\r\nHere the network share was loaded at /tmp/spark-data\r\n\r\nNow, I am trying to deploy the same application in client mode (so that I can run the application in a Jupyter notebook). I was seeing that this worked fine, but was taking much longer to run in client mode. For example, the Spark job which was taking 4 seconds in cluster mode was now taking over 2 minutes. Digging a little deeper, we figured out the slow down was because the executors were now copying each JAR from the driver to the executor instead of using it directly from my network share as in cluster mode. I tried to build a Docker image as well with all the required JARs so that the drivers doesn&#39;t need to copy the JARs, but that didn&#39;t work either and the driver was still copying the JARs to the executors. Is there way to tell Spark to not copy the JARs in client mode and directly use the JARs on my network share or present locally on the Docker image?","title":"Prevent executors from copying JARs in client mode","body":"<p>I am trying to run a Spark job on a Kubernetes cluster and I need to add additional JARs required by my application (specifically JARs for Apache Iceberg and AWS SDK). Initially, I tried running my Spark job through spark-submit in cluster deploy mode and pointed the packages to be downloaded onto an NFS share so that both the driver and executors have access to it. Specifying the JARs in the network share as part of the extraClassPath option worked fine. You can find the configuration for spark-submit below.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>spark-submit \\\n     --deploy-mode cluster --master k8s://https://10.164.64.27:6443 \\\n     --conf spark.kubernetes.namespace=spark-cluster \\\n     --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-sa \\\n     --name $1 --conf spark.executor.instances=$2 \\\n     --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.3.2,org.apache.iceberg:iceberg-spark-runtime-3.3_2.12:1.0.0,org.projectnessie:nessie-spark-extensions-3.3_2.12:0.44.0,software.amazon.awssdk:bundle:2.19.21,software.amazon.awssdk:url-connection-client:2.19.21 \\\n     --conf spark.driver.extraJavaOptions=-Divy.cache.dir=/tmp/spark-data/ \\\n     --conf spark.driver.extraJavaOptions=-Divy.home=/tmp/spark-data/ \\\n     --conf spark.executor.extraJavaOptions=-Divy.cache.dir=/tmp/spark-data/ \\\n     --conf spark.executor.extraJavaOptions=-Divy.home=/tmp/spark-data/ \\\n     --conf spark.executor.extraClassPath=local:///tmp/spark-data/jars/* \\\n     --conf spark.kubernetes.driver.container.image=apache/spark-py:v3.3.2 \\\n     --conf spark.kubernetes.executor.container.image=apache/spark-py:v3.3.2 ${@:3}\n</code></pre>\n<p>Here the network share was loaded at /tmp/spark-data</p>\n<p>Now, I am trying to deploy the same application in client mode (so that I can run the application in a Jupyter notebook). I was seeing that this worked fine, but was taking much longer to run in client mode. For example, the Spark job which was taking 4 seconds in cluster mode was now taking over 2 minutes. Digging a little deeper, we figured out the slow down was because the executors were now copying each JAR from the driver to the executor instead of using it directly from my network share as in cluster mode. I tried to build a Docker image as well with all the required JARs so that the drivers doesn't need to copy the JARs, but that didn't work either and the driver was still copying the JARs to the executors. Is there way to tell Spark to not copy the JARs in client mode and directly use the JARs on my network share or present locally on the Docker image?</p>\n"},{"tags":["java","eclipse","mybatis","dtd","mybatis-generator"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1677512659,"post_id":75581041,"comment_id":133347611,"body_markdown":"That error usually means that there is xerces.jar (file name could vary) in the classpath (possibly as a dependency of another library or included in some old container). Removing/excluding xerces may resolve the error. If this does not help, please post the full stack trace.","body":"That error usually means that there is xerces.jar (file name could vary) in the classpath (possibly as a dependency of another library or included in some old container). Removing/excluding xerces may resolve the error. If this does not help, please post the full stack trace."},{"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"score":0,"creation_date":1677515590,"post_id":75581041,"comment_id":133348648,"body_markdown":"Hi @ave, how can I exclude the xerces.jar in a pluggin from Eclipse? I mean, I&#39;m using the MyBatis Generator directly from Eclipse. Just right clicking the flie and runing it with MyBatis Generator. If this case is possible, please can you share how can I exclude this xerces.jar from it? Thanks","body":"Hi @ave, how can I exclude the xerces.jar in a pluggin from Eclipse? I mean, I&#39;m using the MyBatis Generator directly from Eclipse. Just right clicking the flie and runing it with MyBatis Generator. If this case is possible, please can you share how can I exclude this xerces.jar from it? Thanks"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1677521985,"post_id":75581041,"comment_id":133350541,"body_markdown":"Upgrade or remove the plugin if that&#39;s an option. Alternatively, you might be able to workaround the issue by configuring Launcher (see the &quot;MyBatis Generator User&#39;s Guide&quot; in the Eclipse Help).","body":"Upgrade or remove the plugin if that&#39;s an option. Alternatively, you might be able to workaround the issue by configuring Launcher (see the &quot;MyBatis Generator User&#39;s Guide&quot; in the Eclipse Help)."},{"owner":{"account_id":10657121,"reputation":991,"user_id":7846314,"display_name":"Jeff Butler"},"score":2,"creation_date":1677605790,"post_id":75581041,"comment_id":133369755,"body_markdown":"MyBatis Generator does not support these versions of Eclipse and Java. The minimum Eclipse version is 2021-06 and minimum Java is Java 11. I don&#39;t know if that is the cause of these issues, but I would suggest upgrading to supported versions as a start.","body":"MyBatis Generator does not support these versions of Eclipse and Java. The minimum Eclipse version is 2021-06 and minimum Java is Java 11. I don&#39;t know if that is the cause of these issues, but I would suggest upgrading to supported versions as a start."}],"answers":[{"tags":[],"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679396751,"creation_date":1679396751,"answer_id":75800388,"question_id":75581041,"body_markdown":"The problem was (as commented by Jeff) that my Eclipse version was not compatible with MyBatis.\r\n\r\nTo solve the issue, the solution was to easily switch to Eclipse version 2021-06.","title":"MyBatisGenerator failed to run with &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized","body":"<p>The problem was (as commented by Jeff) that my Eclipse version was not compatible with MyBatis.</p>\n<p>To solve the issue, the solution was to easily switch to Eclipse version 2021-06.</p>\n"}],"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679396751,"creation_date":1677504143,"question_id":75581041,"body_markdown":"I&#39;m trying to use MyBatis Generator version 1.4.2 in Eclipse 2020-03 with Java 1.8.0_111. I just created a data base locally and trying to create some mappers from the config.xml:\r\n\r\n\r\n&gt;  \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; \r\n    &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;\r\n    &lt;generatorConfiguration&gt;\r\n     &lt;classPathEntry location=&quot;C:\\Users\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.31\\mysql-connector-j-8.0.31-sources.jar&quot;/&gt;\r\n          &lt;context id=&quot;Comerzzia&quot; targetRuntime=&quot;MyBatis3&quot;&gt;\r\n          \r\n            &lt;plugin type=&quot;org.mybatis.generator.plugins.CaseInsensitiveLikePlugin&quot;/&gt;\r\n            &lt;plugin type=&quot;org.mybatis.generator.plugins.RowBoundsPlugin&quot;/&gt;\r\n          \r\n            &lt;commentGenerator&gt;\r\n                &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/commentGenerator&gt;    \r\n                \r\n            &lt;jdbcConnection connectionURL=&quot;jdbc:mysql://localhost:3306/xxx&quot; \r\n                driverClass=&quot;com.mysql.jdbc.Driver&quot; \r\n                password=&quot;fuego&quot; \r\n                userId=&quot;xxxx&quot; /&gt;\r\n                \r\n            &lt;javaModelGenerator targetPackage=&quot;com.comerzzia.fundgrube.backoffice.persistence.lenguajes&quot; \r\n                targetProject=&quot;backoffice-services/src/main/java&quot; &gt;\r\n                &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\r\n                  &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;\r\n            &lt;/javaModelGenerator&gt;\r\n                \r\n            &lt;sqlMapGenerator targetPackage=&quot;com.backoffice.persistence.lenguajes&quot; \r\n                targetProject=&quot;backoffice-services/src/main/java&quot;&gt;\r\n                &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\r\n            &lt;/sqlMapGenerator&gt;\r\n                \r\n            &lt;javaClientGenerator targetPackage=&quot;com.backoffice.persistence.lenguajes&quot; \r\n                targetProject=&quot;backoffice-services/src/main/java&quot; type=&quot;XMLMAPPER&quot; &gt;\r\n                &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\r\n            &lt;/javaClientGenerator&gt;\r\n                \r\n            &lt;table tableName=&quot;d_lenguajes_tbl&quot; domainObjectName=&quot;Lenguaje&quot;&gt;\r\n            &lt;/table&gt;\r\n         &lt;/context&gt;\r\n    &lt;/generatorConfiguration&gt;\r\n\r\n       \r\n\r\n\r\nEvery time I run this I get some errors about accessExternalDTD not geting recognized. I saw in some forums that people try to add javax to their projects, but how can I add this javax to a pluging from Eclipse? Is there another way to solve this issue with MyBatis Generator?\r\n\r\nThanks in advance.","title":"MyBatisGenerator failed to run with &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized","body":"<p>I'm trying to use MyBatis Generator version 1.4.2 in Eclipse 2020-03 with Java 1.8.0_111. I just created a data base locally and trying to create some mappers from the config.xml:</p>\n<blockquote>\n</blockquote>\n\n<pre><code>&lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; \n&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;\n&lt;generatorConfiguration&gt;\n &lt;classPathEntry location=&quot;C:\\Users\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.31\\mysql-connector-j-8.0.31-sources.jar&quot;/&gt;\n      &lt;context id=&quot;Comerzzia&quot; targetRuntime=&quot;MyBatis3&quot;&gt;\n      \n        &lt;plugin type=&quot;org.mybatis.generator.plugins.CaseInsensitiveLikePlugin&quot;/&gt;\n        &lt;plugin type=&quot;org.mybatis.generator.plugins.RowBoundsPlugin&quot;/&gt;\n      \n        &lt;commentGenerator&gt;\n            &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt;\n        &lt;/commentGenerator&gt;    \n            \n        &lt;jdbcConnection connectionURL=&quot;jdbc:mysql://localhost:3306/xxx&quot; \n            driverClass=&quot;com.mysql.jdbc.Driver&quot; \n            password=&quot;fuego&quot; \n            userId=&quot;xxxx&quot; /&gt;\n            \n        &lt;javaModelGenerator targetPackage=&quot;com.comerzzia.fundgrube.backoffice.persistence.lenguajes&quot; \n            targetProject=&quot;backoffice-services/src/main/java&quot; &gt;\n            &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\n              &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;\n        &lt;/javaModelGenerator&gt;\n            \n        &lt;sqlMapGenerator targetPackage=&quot;com.backoffice.persistence.lenguajes&quot; \n            targetProject=&quot;backoffice-services/src/main/java&quot;&gt;\n            &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\n        &lt;/sqlMapGenerator&gt;\n            \n        &lt;javaClientGenerator targetPackage=&quot;com.backoffice.persistence.lenguajes&quot; \n            targetProject=&quot;backoffice-services/src/main/java&quot; type=&quot;XMLMAPPER&quot; &gt;\n            &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\n        &lt;/javaClientGenerator&gt;\n            \n        &lt;table tableName=&quot;d_lenguajes_tbl&quot; domainObjectName=&quot;Lenguaje&quot;&gt;\n        &lt;/table&gt;\n     &lt;/context&gt;\n&lt;/generatorConfiguration&gt;\n\n   \n</code></pre>\n<p>Every time I run this I get some errors about accessExternalDTD not geting recognized. I saw in some forums that people try to add javax to their projects, but how can I add this javax to a pluging from Eclipse? Is there another way to solve this issue with MyBatis Generator?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","jvm","graalvm"],"answers":[{"tags":[],"owner":{"account_id":4069384,"reputation":607,"user_id":3406925,"accept_rate":83,"display_name":"Maarten Dhondt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1608118384,"creation_date":1608118384,"answer_id":65322449,"question_id":64699000,"body_markdown":"`spring-boot-parent` used to have the flag set in the `maven-compiler-plugin` up until the [2.2.x][1] version.\r\n\r\nYou&#39;ll have to add the flag yourself to the `maven-compiler-plugin`:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parameters&gt;true&lt;/parameters&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/2.2.x/spring-boot-project/spring-boot-parent/pom.xml#L392","title":"JavaBeanExecutable HV000254 missing parameter metadata for Java Enum","body":"<p><code>spring-boot-parent</code> used to have the flag set in the <code>maven-compiler-plugin</code> up until the <a href=\"https://github.com/spring-projects/spring-boot/blob/2.2.x/spring-boot-project/spring-boot-parent/pom.xml#L392\" rel=\"noreferrer\">2.2.x</a> version.</p>\n<p>You'll have to add the flag yourself to the <code>maven-compiler-plugin</code>:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;parameters&gt;true&lt;/parameters&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679395966,"creation_date":1643735202,"answer_id":70944629,"question_id":64699000,"body_markdown":"The other answer explains how to get rid of the warning, by compiling with the `-paramaters` flag in Maven. With Spring Boot 2 you [don&#39;t need to do that anymore](https://stackoverflow.com/questions/31845676/how-to-compile-spring-boot-applications-with-java-8-parameter-flag/49316086#49316086) (neither with Maven nor Gradle).\r\n\r\nIf you&#39;re still getting warnings for enum constants, that seems to be [a bug of Hibernate Validator](https://hibernate.atlassian.net/browse/HV-1852).","title":"JavaBeanExecutable HV000254 missing parameter metadata for Java Enum","body":"<p>The other answer explains how to get rid of the warning, by compiling with the <code>-paramaters</code> flag in Maven. With Spring Boot 2 you <a href=\"https://stackoverflow.com/questions/31845676/how-to-compile-spring-boot-applications-with-java-8-parameter-flag/49316086#49316086\">don't need to do that anymore</a> (neither with Maven nor Gradle).</p>\n<p>If you're still getting warnings for enum constants, that seems to be <a href=\"https://hibernate.atlassian.net/browse/HV-1852\" rel=\"nofollow noreferrer\">a bug of Hibernate Validator</a>.</p>\n"}],"owner":{"account_id":1488695,"reputation":672,"user_id":1396346,"accept_rate":89,"display_name":"ielkhalloufi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9702,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":2,"score":17,"last_activity_date":1679395966,"creation_date":1604585673,"question_id":64699000,"body_markdown":"I upgraded my spring boot application from 1.5 to 2.3.5 (using the spring boot gradle plugin). When the spring boot application starts, I get the following warning 4 times:\r\n\r\n&gt; 2020-11-05 13:29:19.432  WARN 3931 --- [nio-8080-exec-4]\r\n&gt; o.h.v.i.p.javabean.JavaBeanExecutable    : HV000254: Missing parameter\r\n&gt; metadata for FacetField(String, int, String, String, String, int,\r\n&gt; Class), which declares implicit or synthetic parameters. Automatic\r\n&gt; resolution of generic type information for method parameters may yield\r\n&gt; incorrect results if multiple parameters have the same erasure. To\r\n&gt; solve this, compile your code with the &#39;-parameters&#39; flag.\r\n\r\nMy FacetField enum looks like this:\r\n\r\n    public enum FacetField {\r\n    \r\n        CONST_1(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;),\r\n        CONST_2(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;),\r\n        CONST_3(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;&quot;),\r\n    \r\n        CONST_4(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;ESMAXFIELD&quot;, &quot;RESOURCEKEY&quot;, Hours.class),\r\n        CONST_5(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;, Experience.class),\r\n        CONST_6(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;&quot;, Distance.class);\r\n    \r\n        private String key;\r\n        private String esField;\r\n        private String esMaxField;\r\n        private String resourcekey;\r\n        private Class&lt;? extends RangeFacet&gt; rangeFacet;\r\n    \r\n        FacetField(final String key, final String esField, final String resourcekey) {\r\n            this.key = key;\r\n            this.esField = esField;\r\n            this.resourcekey = resourcekey;\r\n            this.rangeFacet = null;\r\n        }\r\n    \r\n        FacetField(final String key, final String esField, final String resourcekey, final Class&lt;? extends RangeFacet&gt; rangeFacet) {\r\n            this.key = key;\r\n            this.esField = esField;\r\n            this.resourcekey = resourcekey;\r\n            this.rangeFacet = rangeFacet;\r\n        }\r\n    \r\n        FacetField(final String key, final String esMinField, final String esMaxField, final String resourcekey, final Class&lt;? extends RangeFacet&gt; rangeFacet) {\r\n            this.key = key;\r\n            this.esField = esMinField;\r\n            this.esMaxField = esMaxField;\r\n            this.resourcekey = resourcekey;\r\n            this.rangeFacet = rangeFacet;\r\n        }\r\n    \r\n    \r\n        public String getKey() {\r\n            return key;\r\n        }\r\n    \r\n        public String getEsField(final FieldProperty fieldProperty) {\r\n            return esField + fieldProperty.getEsFieldProperty();\r\n        }\r\n    \r\n        public String getEsMinField() {\r\n            return esField;\r\n        }\r\n    \r\n        public String getEsMaxField() {\r\n            return esMaxField;\r\n        }\r\n    \r\n        public String getResourcekey() {\r\n            return resourcekey;\r\n        }\r\n    \r\n        public enum Distance implements RangeFacet {\r\n    \r\n            FROM_0_TO_5(0d, 5d, &quot;5&quot;),\r\n            FROM_0_TO_10(0d, 10d, &quot;10&quot;),\r\n            FROM_0_TO_20(0d, 20d, &quot;20&quot;),\r\n            FROM_0_TO_30(0d, 30d, &quot;30&quot;),\r\n            FROM_0_TO_50(0d, 50d, &quot;50&quot;);\r\n    \r\n            private final Double min;\r\n            private final Double max;\r\n            private final String selectableDescription;\r\n    \r\n            Distance(final Double min, final Double max, final String selectableDescription) {\r\n                this.min = min;\r\n                this.max = max;\r\n                this.selectableDescription = selectableDescription;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMin() {\r\n                return this.min;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMax() {\r\n                return this.max;\r\n            }\r\n    \r\n            @Override\r\n            public String getSelectableDescription() {\r\n                return this.selectableDescription;\r\n            }\r\n        }\r\n    \r\n        public enum Experience implements RangeFacet {\r\n    \r\n            TO_1(0d, 1d, &quot;1&quot;),\r\n            FROM_1_TO_2(1d, 2d, &quot;2&quot;),\r\n            FROM_2_TO_5(2d, 5d, &quot;5&quot;),\r\n            FROM_5_TO_10(5d, 10d, &quot;10&quot;),\r\n            FROM_10(10d, null, &quot;10+&quot;);\r\n    \r\n            private final Double min;\r\n            private final Double max;\r\n            private final String selectableDescription;\r\n    \r\n            Experience(final Double min, final Double max, final String selectableDescription) {\r\n                this.min = min;\r\n                this.max = max;\r\n                this.selectableDescription = selectableDescription;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMin() {\r\n                return this.min;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMax() {\r\n                return this.max;\r\n            }\r\n    \r\n            @Override\r\n            public String getSelectableDescription() {\r\n                return this.selectableDescription;\r\n            }\r\n        }\r\n    \r\n        public enum Hours implements RangeFacet {\r\n    \r\n            FROM_0_TO_8(0d, 8d, &quot;8&quot;),\r\n            FROM_9_TO_16(9d, 16d, &quot;16&quot;),\r\n            FROM_17_TO_24(17d, 24d, &quot;24&quot;),\r\n            FROM_25_TO_32(25d, 32d, &quot;32&quot;),\r\n            FROM_33_TO_36(33d, 36d, &quot;36&quot;),\r\n            FROM_37(37d, null, &quot;40&quot;);\r\n    \r\n            private final Double min;\r\n            private final Double max;\r\n            private final String selectableDescription;\r\n            \r\n            Hours(final Double min, final Double max, final String selectableDescription) {\r\n                this.min = min;\r\n                this.max = max;\r\n                this.selectableDescription = selectableDescription;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMin() {\r\n                return this.min;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMax() {\r\n                return this.max;\r\n            }\r\n    \r\n            @Override\r\n            public String getSelectableDescription() {\r\n                return this.selectableDescription;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nOnly thing that I can find something related to this, is this graal issue on github: https://github.com/oracle/graal/issues/1941\r\n\r\nCan somebody explain?","title":"JavaBeanExecutable HV000254 missing parameter metadata for Java Enum","body":"<p>I upgraded my spring boot application from 1.5 to 2.3.5 (using the spring boot gradle plugin). When the spring boot application starts, I get the following warning 4 times:</p>\n<blockquote>\n<p>2020-11-05 13:29:19.432  WARN 3931 --- [nio-8080-exec-4]\no.h.v.i.p.javabean.JavaBeanExecutable    : HV000254: Missing parameter\nmetadata for FacetField(String, int, String, String, String, int,\nClass), which declares implicit or synthetic parameters. Automatic\nresolution of generic type information for method parameters may yield\nincorrect results if multiple parameters have the same erasure. To\nsolve this, compile your code with the '-parameters' flag.</p>\n</blockquote>\n<p>My FacetField enum looks like this:</p>\n<pre><code>public enum FacetField {\n\n    CONST_1(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;),\n    CONST_2(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;),\n    CONST_3(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;&quot;),\n\n    CONST_4(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;ESMAXFIELD&quot;, &quot;RESOURCEKEY&quot;, Hours.class),\n    CONST_5(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;, Experience.class),\n    CONST_6(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;&quot;, Distance.class);\n\n    private String key;\n    private String esField;\n    private String esMaxField;\n    private String resourcekey;\n    private Class&lt;? extends RangeFacet&gt; rangeFacet;\n\n    FacetField(final String key, final String esField, final String resourcekey) {\n        this.key = key;\n        this.esField = esField;\n        this.resourcekey = resourcekey;\n        this.rangeFacet = null;\n    }\n\n    FacetField(final String key, final String esField, final String resourcekey, final Class&lt;? extends RangeFacet&gt; rangeFacet) {\n        this.key = key;\n        this.esField = esField;\n        this.resourcekey = resourcekey;\n        this.rangeFacet = rangeFacet;\n    }\n\n    FacetField(final String key, final String esMinField, final String esMaxField, final String resourcekey, final Class&lt;? extends RangeFacet&gt; rangeFacet) {\n        this.key = key;\n        this.esField = esMinField;\n        this.esMaxField = esMaxField;\n        this.resourcekey = resourcekey;\n        this.rangeFacet = rangeFacet;\n    }\n\n\n    public String getKey() {\n        return key;\n    }\n\n    public String getEsField(final FieldProperty fieldProperty) {\n        return esField + fieldProperty.getEsFieldProperty();\n    }\n\n    public String getEsMinField() {\n        return esField;\n    }\n\n    public String getEsMaxField() {\n        return esMaxField;\n    }\n\n    public String getResourcekey() {\n        return resourcekey;\n    }\n\n    public enum Distance implements RangeFacet {\n\n        FROM_0_TO_5(0d, 5d, &quot;5&quot;),\n        FROM_0_TO_10(0d, 10d, &quot;10&quot;),\n        FROM_0_TO_20(0d, 20d, &quot;20&quot;),\n        FROM_0_TO_30(0d, 30d, &quot;30&quot;),\n        FROM_0_TO_50(0d, 50d, &quot;50&quot;);\n\n        private final Double min;\n        private final Double max;\n        private final String selectableDescription;\n\n        Distance(final Double min, final Double max, final String selectableDescription) {\n            this.min = min;\n            this.max = max;\n            this.selectableDescription = selectableDescription;\n        }\n\n        @Override\n        public Double getMin() {\n            return this.min;\n        }\n\n        @Override\n        public Double getMax() {\n            return this.max;\n        }\n\n        @Override\n        public String getSelectableDescription() {\n            return this.selectableDescription;\n        }\n    }\n\n    public enum Experience implements RangeFacet {\n\n        TO_1(0d, 1d, &quot;1&quot;),\n        FROM_1_TO_2(1d, 2d, &quot;2&quot;),\n        FROM_2_TO_5(2d, 5d, &quot;5&quot;),\n        FROM_5_TO_10(5d, 10d, &quot;10&quot;),\n        FROM_10(10d, null, &quot;10+&quot;);\n\n        private final Double min;\n        private final Double max;\n        private final String selectableDescription;\n\n        Experience(final Double min, final Double max, final String selectableDescription) {\n            this.min = min;\n            this.max = max;\n            this.selectableDescription = selectableDescription;\n        }\n\n        @Override\n        public Double getMin() {\n            return this.min;\n        }\n\n        @Override\n        public Double getMax() {\n            return this.max;\n        }\n\n        @Override\n        public String getSelectableDescription() {\n            return this.selectableDescription;\n        }\n    }\n\n    public enum Hours implements RangeFacet {\n\n        FROM_0_TO_8(0d, 8d, &quot;8&quot;),\n        FROM_9_TO_16(9d, 16d, &quot;16&quot;),\n        FROM_17_TO_24(17d, 24d, &quot;24&quot;),\n        FROM_25_TO_32(25d, 32d, &quot;32&quot;),\n        FROM_33_TO_36(33d, 36d, &quot;36&quot;),\n        FROM_37(37d, null, &quot;40&quot;);\n\n        private final Double min;\n        private final Double max;\n        private final String selectableDescription;\n        \n        Hours(final Double min, final Double max, final String selectableDescription) {\n            this.min = min;\n            this.max = max;\n            this.selectableDescription = selectableDescription;\n        }\n\n        @Override\n        public Double getMin() {\n            return this.min;\n        }\n\n        @Override\n        public Double getMax() {\n            return this.max;\n        }\n\n        @Override\n        public String getSelectableDescription() {\n            return this.selectableDescription;\n        }\n    }\n\n}\n</code></pre>\n<p>Only thing that I can find something related to this, is this graal issue on github: <a href=\"https://github.com/oracle/graal/issues/1941\" rel=\"noreferrer\">https://github.com/oracle/graal/issues/1941</a></p>\n<p>Can somebody explain?</p>\n"},{"tags":["java","android","enums"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1677150765,"creation_date":1363363010,"answer_id":15436799,"question_id":15436721,"body_markdown":"Not sure if I understand you correctly but based on question title you may be looking for\r\n\r\n    YourEnum.valueOf(&quot;VALUE&quot;).ordinal(); \r\n    //like Directions.valueOf(&quot;NORTH&quot;).ordinal();\r\n\r\n1. `YourEnum.valueOf(&quot;VALUE&quot;)` returns enum *value* with name `&quot;VALUE&quot;`\r\n2. each enum *value* knows its position (indexed from zero) which we can get by calling `ordinal()` method on it.","title":"Get index of enum from string?","body":"<p>Not sure if I understand you correctly but based on question title you may be looking for</p>\n<pre><code>YourEnum.valueOf(&quot;VALUE&quot;).ordinal(); \n//like Directions.valueOf(&quot;NORTH&quot;).ordinal();\n</code></pre>\n<ol>\n<li><code>YourEnum.valueOf(&quot;VALUE&quot;)</code> returns enum <em>value</em> with name <code>&quot;VALUE&quot;</code></li>\n<li>each enum <em>value</em> knows its position (indexed from zero) which we can get by calling <code>ordinal()</code> method on it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2488140,"reputation":1626,"user_id":2166181,"accept_rate":79,"display_name":"Alban Dericbourg"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1363363068,"creation_date":1363363068,"answer_id":15436827,"question_id":15436721,"body_markdown":"I might not understand you question, but the same code works for enums too:\r\n\r\n    int index = Arrays.asList(YourEnum.values()).indexOf(YourEnum.ENUM_ITEM);\r\n\r\nOr you can get:\r\n\r\n    int index = YourEnum.valueOf(&quot;ENUM_ITEM&quot;).ordinal();","title":"Get index of enum from string?","body":"<p>I might not understand you question, but the same code works for enums too:</p>\n\n<pre><code>int index = Arrays.asList(YourEnum.values()).indexOf(YourEnum.ENUM_ITEM);\n</code></pre>\n\n<p>Or you can get:</p>\n\n<pre><code>int index = YourEnum.valueOf(\"ENUM_ITEM\").ordinal();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2362700,"reputation":1659,"user_id":2069044,"accept_rate":53,"display_name":"Divya Motiwala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363363348,"creation_date":1363363348,"answer_id":15436934,"question_id":15436721,"body_markdown":"If you want to retrieve the index, you can use ordinal. If you want to assign some specific value to String, you may define your own method to retrieve it.\r\n\r\n\r\n     enum DAY\r\n     {\r\n      MONDAY(10),\r\n      TUESDAY(20);\r\n      int value;\r\n      DAY(int x)\r\n      {\r\n       this.value = x;\r\n      }\r\n      public int getValue()\r\n      {\r\n\t\treturn value;\r\n       }\r\n\r\nNow value and ordinal can be retrieved as :\r\n\r\n\r\n\t\tfor(DAY s : DAY.values() )\r\n\t\t{\r\n\t\t\tSystem.out.println(s.ordinal());\r\n\t\t\tSystem.out.println(s.getValue());\r\n\t\t}\r\n","title":"Get index of enum from string?","body":"<p>If you want to retrieve the index, you can use ordinal. If you want to assign some specific value to String, you may define your own method to retrieve it.</p>\n\n<pre><code> enum DAY\n {\n  MONDAY(10),\n  TUESDAY(20);\n  int value;\n  DAY(int x)\n  {\n   this.value = x;\n  }\n  public int getValue()\n  {\n    return value;\n   }\n</code></pre>\n\n<p>Now value and ordinal can be retrieved as :</p>\n\n<pre><code>    for(DAY s : DAY.values() )\n    {\n        System.out.println(s.ordinal());\n        System.out.println(s.getValue());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10993591,"reputation":25,"user_id":8076600,"display_name":"anshul6297"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497593652,"creation_date":1497593652,"answer_id":44582012,"question_id":15436721,"body_markdown":"The following logic will also work.\r\n\r\nIf you want to  check and you know the fruitname already don&#39;t use for loop go with the approach mentioned by Pshemo\r\n\r\n    for (Fruit aFruit : aFruits)\r\n               if (aFruit.name().equals(aName))\r\n                   return aFruit.ordinal();","title":"Get index of enum from string?","body":"<p>The following logic will also work.</p>\n\n<p>If you want to  check and you know the fruitname already don't use for loop go with the approach mentioned by Pshemo</p>\n\n<pre><code>for (Fruit aFruit : aFruits)\n           if (aFruit.name().equals(aName))\n               return aFruit.ordinal();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10239428,"reputation":81,"user_id":7557300,"display_name":"Sathishkumar J"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1497964726,"creation_date":1497958980,"answer_id":44652132,"question_id":15436721,"body_markdown":"Try this simple solution:\r\n\r\n    Fruit.values()[index]","title":"Get index of enum from string?","body":"<p>Try this simple solution:</p>\n\n<pre><code>Fruit.values()[index]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11111440,"reputation":51,"user_id":11747039,"display_name":"Nidhin Mahesh A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666093830,"creation_date":1666093830,"answer_id":74110497,"question_id":15436721,"body_markdown":"Adding here the solution that worked for me:\r\n\r\n    YourEnum.values.indexOf(&quot;VALUE&quot;);","title":"Get index of enum from string?","body":"<p>Adding here the solution that worked for me:</p>\n<pre><code>YourEnum.values.indexOf(&quot;VALUE&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10633558,"reputation":3699,"user_id":7830903,"accept_rate":40,"display_name":"Gowtham Sooryaraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679395752,"creation_date":1679395752,"answer_id":75800217,"question_id":15436721,"body_markdown":"It&#39;s really simple \r\n\r\n    TestEnum test = TestEnum.c;\r\n    log(test.index.toString());\r\n\r\n    enum TestEnum{\r\n      c,d\r\n    }\r\n\r\n","title":"Get index of enum from string?","body":"<p>It's really simple</p>\n<pre><code>TestEnum test = TestEnum.c;\nlog(test.index.toString());\n\nenum TestEnum{\n  c,d\n}\n</code></pre>\n"}],"owner":{"account_id":2015638,"reputation":5854,"user_id":1803007,"accept_rate":76,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99579,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":15436799,"answer_count":7,"score":41,"last_activity_date":1679395752,"creation_date":1363362767,"question_id":15436721,"body_markdown":"I have a string value, I also have an array of strings and an enum containing the range also.\r\nTo get the index of the string in the array, from the value supplied I write this:\r\n\r\n    Arrays.asList(myClass.BAUD_RATES).indexOf(username)\r\n\r\nHow do I do this for an enum? Can I use ordinal? Or do i have to make my own method?\r\n\r\n\r\nThe method might go like:\r\n\r\n    public enum Fruit {\r\n       ...\r\n       static public boolean isMember(String aName) {\r\n           Fruit[] aFruits = Fruit.values();\r\n           for (Fruit aFruit : aFruits)\r\n               if (aFruit.fruitname.equals(aName))\r\n                   return aFruit;\r\n           return false;\r\n       }\r\n       ...\r\n    }","title":"Get index of enum from string?","body":"<p>I have a string value, I also have an array of strings and an enum containing the range also.\nTo get the index of the string in the array, from the value supplied I write this:</p>\n\n<pre><code>Arrays.asList(myClass.BAUD_RATES).indexOf(username)\n</code></pre>\n\n<p>How do I do this for an enum? Can I use ordinal? Or do i have to make my own method?</p>\n\n<p>The method might go like:</p>\n\n<pre><code>public enum Fruit {\n   ...\n   static public boolean isMember(String aName) {\n       Fruit[] aFruits = Fruit.values();\n       for (Fruit aFruit : aFruits)\n           if (aFruit.fruitname.equals(aName))\n               return aFruit;\n       return false;\n   }\n   ...\n}\n</code></pre>\n"},{"tags":["java","spring-data-mongodb"],"comments":[{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1480085054,"post_id":40807316,"comment_id":68835581,"body_markdown":"docs.spring.io/spring-data/data-mongo/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html. `is(Object o)` is your equality operator.","body":"docs.spring.io/spring-data/data-mongo/docs/current/api/org/s&zwnj;&#8203;pringframework/data/&zwnj;&#8203;mongodb/core/query/C&zwnj;&#8203;riteria.html. <code>is(Object o)</code> is your equality operator."},{"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"score":0,"creation_date":1480085236,"post_id":40807316,"comment_id":68835694,"body_markdown":"@Veeram `is` generates query `{ &quot;name&quot; : &quot;John&quot;}`  but I need `{&quot;name&quot;: {&quot;$eq&quot;: &quot;John&quot;}}`","body":"@Veeram <code>is</code> generates query <code>{ &quot;name&quot; : &quot;John&quot;}</code>  but I need <code>{&quot;name&quot;: {&quot;$eq&quot;: &quot;John&quot;}}</code>"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1480085488,"post_id":40807316,"comment_id":68835841,"body_markdown":"it&#39;s the same. It&#39;s implicit equals. https://docs.mongodb.com/manual/reference/operator/query/eq/. Check the examples.","body":"it&#39;s the same. It&#39;s implicit equals. <a href=\"https://docs.mongodb.com/manual/reference/operator/query/eq/\" rel=\"nofollow noreferrer\">docs.mongodb.com/manual/reference/operator/query/eq</a>. Check the examples."},{"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"score":0,"creation_date":1480086105,"post_id":40807316,"comment_id":68836224,"body_markdown":"@Veeram ohh, thanks a lot, I got it! so does Criteria cover all mongo operations and there isn&#39;t need in defining custom ones, yep?","body":"@Veeram ohh, thanks a lot, I got it! so does Criteria cover all mongo operations and there isn&#39;t need in defining custom ones, yep?"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1480086168,"post_id":40807316,"comment_id":68836270,"body_markdown":"No worries. Not for the case you mentioned.","body":"No worries. Not for the case you mentioned."},{"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"score":0,"creation_date":1480086343,"post_id":40807316,"comment_id":68836361,"body_markdown":"@Veeram hah, ok, but in general?","body":"@Veeram hah, ok, but in general?"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1480086564,"post_id":40807316,"comment_id":68836490,"body_markdown":"You may need it in cases spring doesn&#39;t support the latest mongo version and you can still upgrade to mongo  driver to latest version while keeping the same spring mongo db version and then create expression to use operator from latest mongo version that you want to use.","body":"You may need it in cases spring doesn&#39;t support the latest mongo version and you can still upgrade to mongo  driver to latest version while keeping the same spring mongo db version and then create expression to use operator from latest mongo version that you want to use."},{"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"score":0,"creation_date":1480089959,"post_id":40807316,"comment_id":68838259,"body_markdown":"@Veeram how spring mongo db supports creating new expressions, could you provide any links?","body":"@Veeram how spring mongo db supports creating new expressions, could you provide any links?"}],"answers":[{"tags":[],"owner":{"account_id":508767,"reputation":106,"user_id":1285983,"display_name":"Daulet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590028523,"creation_date":1590028523,"answer_id":61926246,"question_id":40807316,"body_markdown":"using this [answer][1], I was able to create simple $eq Criteria\r\n\r\n    private Criteria getEqCriteria(String value)\r\n\t{\r\n\t\t// hack Criteria, because new Criteria().is(value) not working!\r\n\t\tCriteria c = new Criteria();\r\n\t\ttry\r\n\t\t{\r\n\t\t\tField _criteria = c.getClass().getDeclaredField(&quot;criteria&quot;);\r\n\t\t\t_criteria.setAccessible(true);\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tLinkedHashMap&lt;String, Object&gt; criteria = (LinkedHashMap&lt;String, Object&gt;) _criteria.get(c);\r\n\t\t\tcriteria.put(&quot;$eq&quot;, value);\r\n\t\t\tField _criteriaChain = c.getClass().getDeclaredField(&quot;criteriaChain&quot;);\r\n\t\t\t_criteriaChain.setAccessible(true);\r\n\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tList&lt;Criteria&gt; criteriaChain = (List&lt;Criteria&gt;) _criteriaChain.get(c);\r\n\t\t\tcriteriaChain.add(c);\r\n\t\t} catch (Exception e)\r\n\t\t{\r\n\t\t\t// Ignore\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60459200/1285983","title":"Spring Data MongoDb: is there possibility to define custom Criteria?","body":"<p>using this <a href=\"https://stackoverflow.com/a/60459200/1285983\">answer</a>, I was able to create simple $eq Criteria</p>\n\n<pre><code>private Criteria getEqCriteria(String value)\n{\n    // hack Criteria, because new Criteria().is(value) not working!\n    Criteria c = new Criteria();\n    try\n    {\n        Field _criteria = c.getClass().getDeclaredField(\"criteria\");\n        _criteria.setAccessible(true);\n        @SuppressWarnings(\"unchecked\")\n        LinkedHashMap&lt;String, Object&gt; criteria = (LinkedHashMap&lt;String, Object&gt;) _criteria.get(c);\n        criteria.put(\"$eq\", value);\n        Field _criteriaChain = c.getClass().getDeclaredField(\"criteriaChain\");\n        _criteriaChain.setAccessible(true);\n\n        @SuppressWarnings(\"unchecked\")\n        List&lt;Criteria&gt; criteriaChain = (List&lt;Criteria&gt;) _criteriaChain.get(c);\n        criteriaChain.add(c);\n    } catch (Exception e)\n    {\n        // Ignore\n    }\n    return c;\n}\n</code></pre>\n"}],"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679395675,"creation_date":1480084617,"question_id":40807316,"body_markdown":"I have simple interface with one method:\r\n\r\n     Criteria toCriteria(String key, String value)\r\nAnd next I&#39;d like to have next implementation \r\n\r\n    public class EqExpression implements Expression\r\n    {\r\n\r\n         @Override\r\n         public Criteria toCriteria(String key, String value)\r\n         {\r\n            return Criteria.where(key).eq(Pattern.compile(value));\r\n         }\r\n    }\r\n\r\n    }\r\n\r\nbut there isn&#39;t **$eq** operator. So my questions:\r\n\r\n - Why `org.springframework.data.mongodb.core.query.Criteria` doesn&#39;t have such operator?\r\n - Is there a way to implement custom Criteria implementation or is there any workaround?\r\n\r\n - For me it would be good to have code like\r\n\r\n         @Override\r\n         public Criteria toCriteria(String key, String value)\r\n         {\r\n            //return new BasicDBObject(key, new BasicDBObject(&quot;$eq&quot;, value)) converted to Criteria\r\n         }\r\n\r\n\r\n\r\nIn general, my purpose is to implement rest query language and for each operation like `gt`, `lt` I have specific implementation of `Expression` interface.\r\n\r\nRequest may looks like `name=John&amp;age&gt;20`\r\n\r\nI am building whole query using next code:\r\n            \r\n    List&lt;Criteria&gt; criterias = new ArrayList&lt;Criteria&gt;();\r\n    ...\r\n    while (matcher.find())\r\n        {\r\n            String key = matcher.group(1);\r\n            String operator = matcher.group(2);\r\n            String value = matcher.group(3);\r\n            // get from map appropriate implementation\r\n            criterias.add(expressions.get(operator).toCriteria(key, value));\r\n        }\r\n\r\nMay be you have any suggestions how to implement it more elegant\r\n","title":"Spring Data MongoDb: is there possibility to define custom Criteria?","body":"<p>I have simple interface with one method:</p>\n\n<pre><code> Criteria toCriteria(String key, String value)\n</code></pre>\n\n<p>And next I'd like to have next implementation </p>\n\n<pre><code>public class EqExpression implements Expression\n{\n\n     @Override\n     public Criteria toCriteria(String key, String value)\n     {\n        return Criteria.where(key).eq(Pattern.compile(value));\n     }\n}\n\n}\n</code></pre>\n\n<p>but there isn't <strong>$eq</strong> operator. So my questions:</p>\n\n<ul>\n<li>Why <code>org.springframework.data.mongodb.core.query.Criteria</code> doesn't have such operator?</li>\n<li><p>Is there a way to implement custom Criteria implementation or is there any workaround?</p></li>\n<li><p>For me it would be good to have code like</p>\n\n<pre><code> @Override\n public Criteria toCriteria(String key, String value)\n {\n    //return new BasicDBObject(key, new BasicDBObject(\"$eq\", value)) converted to Criteria\n }\n</code></pre></li>\n</ul>\n\n<p>In general, my purpose is to implement rest query language and for each operation like <code>gt</code>, <code>lt</code> I have specific implementation of <code>Expression</code> interface.</p>\n\n<p>Request may looks like <code>name=John&amp;age&gt;20</code></p>\n\n<p>I am building whole query using next code:</p>\n\n<pre><code>List&lt;Criteria&gt; criterias = new ArrayList&lt;Criteria&gt;();\n...\nwhile (matcher.find())\n    {\n        String key = matcher.group(1);\n        String operator = matcher.group(2);\n        String value = matcher.group(3);\n        // get from map appropriate implementation\n        criterias.add(expressions.get(operator).toCriteria(key, value));\n    }\n</code></pre>\n\n<p>May be you have any suggestions how to implement it more elegant</p>\n"},{"tags":["java","python","rest","http"],"comments":[{"owner":{"account_id":2288,"reputation":191195,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"score":1,"creation_date":1331119348,"post_id":9600327,"comment_id":12177654,"body_markdown":"It&#39;s probably worth saying what you like about *Request* in contract to *urllib2* so people will know the kind of library you&#39;re looking for.  If you just want code to do HTTP requests that&#39;s in the standard JRE.","body":"It&#39;s probably worth saying what you like about <i>Request</i> in contract to <i>urllib2</i> so people will know the kind of library you&#39;re looking for.  If you just want code to do HTTP requests that&#39;s in the standard JRE."},{"owner":{"account_id":342325,"reputation":461,"user_id":673432,"display_name":"pyth"},"score":3,"creation_date":1331131813,"post_id":9600327,"comment_id":12182423,"body_markdown":"I Want to work with a REST based App. which is actually quite easy with python&#39;s Request module!!","body":"I Want to work with a REST based App. which is actually quite easy with python&#39;s Request module!!"}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393208755,"creation_date":1331119021,"answer_id":9600443,"question_id":9600327,"body_markdown":"You can use either regular `HttpUrlConnection` (that is a part of your JDK) or Jakarta [Httpcomponents client][1]. \r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-4.3.x/index.html","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>You can use either regular <code>HttpUrlConnection</code> (that is a part of your JDK) or Jakarta <a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/index.html\" rel=\"nofollow\">Httpcomponents client</a>. </p>\n"},{"tags":[],"owner":{"account_id":459435,"reputation":577,"user_id":859911,"display_name":"Joshua Hutchison"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1456811842,"creation_date":1456811842,"answer_id":35715696,"question_id":9600327,"body_markdown":"Although I&#39;ve not had the chance to use it much [Unirest][1] looks like a good option for people looking for the eloquence and ease of use of Python&#39;s Requests module in Java.\r\n\r\nFor simple use cases it looks much quicker to get things done than Httpcomponents (which it uses under the hood). \r\n\r\n\r\n  [1]: http://unirest.io/java.html","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>Although I've not had the chance to use it much <a href=\"http://unirest.io/java.html\" rel=\"noreferrer\">Unirest</a> looks like a good option for people looking for the eloquence and ease of use of Python's Requests module in Java.</p>\n\n<p>For simple use cases it looks much quicker to get things done than Httpcomponents (which it uses under the hood). </p>\n"},{"tags":[],"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486185544,"creation_date":1485739455,"answer_id":41927861,"question_id":9600327,"body_markdown":"I&#39;m reading about the [Groovy RESTClient](https://github.com/jgritman/httpbuilder/wiki/RESTClient) libs in a book on the [Spock test framework](http://spockframework.org/spock/docs/). The book recommended it as an alternative to [Spring RestTemplate](https://spring.io/guides/gs/consuming-rest/) (which isn&#39;t so bad itself).\r\n\n    @Grab(group=org.codehaus.groovy.modules.http-builder, module=http-builder, version=0.7&#39;)\n    import groovyx.net.http.RESTClient\r\n\nIt returns JSON has a hashmap.","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>I'm reading about the <a href=\"https://github.com/jgritman/httpbuilder/wiki/RESTClient\" rel=\"nofollow noreferrer\">Groovy RESTClient</a> libs in a book on the <a href=\"http://spockframework.org/spock/docs/\" rel=\"nofollow noreferrer\">Spock test framework</a>. The book recommended it as an alternative to <a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">Spring RestTemplate</a> (which isn't so bad itself).</p>\n\n<pre><code>@Grab(group=org.codehaus.groovy.modules.http-builder, module=http-builder, version=0.7')\nimport groovyx.net.http.RESTClient\n</code></pre>\n\n<p>It returns JSON has a hashmap.</p>\n"},{"tags":[],"owner":{"account_id":2102520,"reputation":127,"user_id":1869743,"display_name":"user1869743"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1559204827,"creation_date":1559204827,"answer_id":56374445,"question_id":9600327,"body_markdown":"Late to the party, but posting for posterity:\r\n\r\nAfter trying Unirest, it didn&#39;t feel  like Python Requests and I couldn&#39;t make it work for my needs.  My key complaints were cookie/session management were intentionally left out.\r\n\r\nhttps://github.com/hsiafan/requests is working fine for me so far and has session based cookie management implemented transparently.  This one was &quot;inspired by&quot; Python&#39;s requests so should be comparable.","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>Late to the party, but posting for posterity:</p>\n\n<p>After trying Unirest, it didn't feel  like Python Requests and I couldn't make it work for my needs.  My key complaints were cookie/session management were intentionally left out.</p>\n\n<p><a href=\"https://github.com/hsiafan/requests\" rel=\"nofollow noreferrer\">https://github.com/hsiafan/requests</a> is working fine for me so far and has session based cookie management implemented transparently.  This one was \"inspired by\" Python's requests so should be comparable.</p>\n"},{"tags":[],"owner":{"account_id":13614811,"reputation":77,"user_id":16178503,"display_name":"Deepak Gautam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679395520,"creation_date":1679395520,"answer_id":75800184,"question_id":9600327,"body_markdown":"Yes we can use see the example\r\n\r\n```Java\r\n\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.net.http.HttpResponse.BodyHandlers;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        HttpClient httpClient = HttpClient.newBuilder().build();\r\n        HttpRequest httpRequest = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;https://www.google.com/search?q=Java+Programming&quot;))\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .GET()\r\n                .build();\r\n        HttpResponse&lt;String&gt; httpResponse = httpClient.send(httpRequest, BodyHandlers.ofString());\r\n        System.out.println(httpResponse.body());\r\n    }\r\n}\r\n\r\n```\r\n","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>Yes we can use see the example</p>\n<pre><code>\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodyHandlers;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        HttpClient httpClient = HttpClient.newBuilder().build();\n        HttpRequest httpRequest = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://www.google.com/search?q=Java+Programming&quot;))\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .GET()\n                .build();\n        HttpResponse&lt;String&gt; httpResponse = httpClient.send(httpRequest, BodyHandlers.ofString());\n        System.out.println(httpResponse.body());\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":342325,"reputation":461,"user_id":673432,"display_name":"pyth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16611,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":5,"score":28,"last_activity_date":1679395520,"creation_date":1331118525,"question_id":9600327,"body_markdown":"I am looking for an equivalent Java API lib which can do same things as Python&#39;s HTTP [Requests module](http://docs.python-requests.org/en/v0.10.6/ ).\r\n\r\nKey features of the Requests lib:\r\n\r\n1. One-step initialization of an HTTP request returns `response` object.\r\n2. The `response` object contains methods/member-vars to quickly access response status, headers, body/data, and a JSON-parsing method.","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>I am looking for an equivalent Java API lib which can do same things as Python's HTTP <a href=\"http://docs.python-requests.org/en/v0.10.6/\" rel=\"noreferrer\">Requests module</a>.</p>\n\n<p>Key features of the Requests lib:</p>\n\n<ol>\n<li>One-step initialization of an HTTP request returns <code>response</code> object.</li>\n<li>The <code>response</code> object contains methods/member-vars to quickly access response status, headers, body/data, and a JSON-parsing method.</li>\n</ol>\n"},{"tags":["java","spring-boot","properties"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679392814,"post_id":75799186,"comment_id":133709525,"body_markdown":"`client.properties` isn&#39;t really a valid location. Either prefix with `file:` or `classpath:` to indicate where it needs to be read from. Also you should propably use `spring.config.additional-location` instead. Finally instead of specifying the specific properties file just rename it to `application.properties` and place it next to your `application.jar` and Spring Boot will automatically load it.","body":"<code>client.properties</code> isn&#39;t really a valid location. Either prefix with <code>file:</code> or <code>classpath:</code> to indicate where it needs to be read from. Also you should propably use <code>spring.config.additional-location</code> instead. Finally instead of specifying the specific properties file just rename it to <code>application.properties</code> and place it next to your <code>application.jar</code> and Spring Boot will automatically load it."}],"answers":[{"tags":[],"owner":{"account_id":11140753,"reputation":1,"user_id":8177424,"display_name":"Pranab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679395511,"creation_date":1679395511,"answer_id":75800183,"question_id":75799186,"body_markdown":"I think you can pass arguments as well as property file like this\r\n\r\n    java -jar application.jar -Dspring-boot.run.arguments=&quot;--argument1=value1 --argument2=value2&quot; --spring.config.location=client.properties","title":"How to read data from external properties file using jar: Spring Boot","body":"<p>I think you can pass arguments as well as property file like this</p>\n<pre><code>java -jar application.jar -Dspring-boot.run.arguments=&quot;--argument1=value1 --argument2=value2&quot; --spring.config.location=client.properties\n</code></pre>\n"}],"owner":{"account_id":20089218,"reputation":13,"user_id":14730100,"display_name":"JP_93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679395511,"creation_date":1679389791,"question_id":75799186,"body_markdown":"The spring-boot application I developed needs to run as a jar file, but the properties file needs to be read from outside the jar file. \r\nIf I run the jar file with arguments and `--spring.config.location=client.properties` the arguments are not passed into the jar file but the application can read the properties file.\r\n\r\n    java -jar application.jar product version mode\r\nThis would print the product, version, and mode but would throw a bean error since it&#39;s missing the properties file but.\r\n\r\n    java -jar application.jar product version mode --spring.config.location=client.properties\r\nThis throws the error `missing product version and mode` \r\n\r\nHow can I run a jar file that should read the properties file from a specified location with arguments passed to it?\r\n\r\n","title":"How to read data from external properties file using jar: Spring Boot","body":"<p>The spring-boot application I developed needs to run as a jar file, but the properties file needs to be read from outside the jar file.\nIf I run the jar file with arguments and <code>--spring.config.location=client.properties</code> the arguments are not passed into the jar file but the application can read the properties file.</p>\n<pre><code>java -jar application.jar product version mode\n</code></pre>\n<p>This would print the product, version, and mode but would throw a bean error since it's missing the properties file but.</p>\n<pre><code>java -jar application.jar product version mode --spring.config.location=client.properties\n</code></pre>\n<p>This throws the error <code>missing product version and mode</code></p>\n<p>How can I run a jar file that should read the properties file from a specified location with arguments passed to it?</p>\n"},{"tags":["java","android","google-sheets","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":4096707,"reputation":1439,"user_id":3363254,"accept_rate":50,"display_name":"Eranda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440943344,"creation_date":1440899770,"answer_id":32292458,"question_id":32292399,"body_markdown":"Answer is No. OAuth token is like a key which allows Google to identify who is reading or who is writing to the spreadsheet and it won&#39;t allow if you don&#39;t have the correct access level. Even when you open Google spreadsheet with your browser the browser will generate an OAuth token from the Google identity provider and use that token to check whether your access level.\r\n\r\n**Update** Here if you see how my browser handle the request done to the google spread sheet it will first redirect to the identity provider. Most of the time you need to simulate that in order to work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/71LxJ.png","title":"Is there a way to add a row on a Google Spreadsheet without OAuth using java?","body":"<p>Answer is No. OAuth token is like a key which allows Google to identify who is reading or who is writing to the spreadsheet and it won't allow if you don't have the correct access level. Even when you open Google spreadsheet with your browser the browser will generate an OAuth token from the Google identity provider and use that token to check whether your access level.</p>\n\n<p><strong>Update</strong> Here if you see how my browser handle the request done to the google spread sheet it will first redirect to the identity provider. Most of the time you need to simulate that in order to work.</p>\n\n<p><a href=\"https://i.stack.imgur.com/71LxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/71LxJ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"display_name":"user4398985"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440900225,"creation_date":1440900225,"answer_id":32292494,"question_id":32292399,"body_markdown":"There is no way you can access or manipulate Google Drive API without OAUTH2.0. Additionally, Google Drive API wouldn&#39;t even work on private networks.\r\n\r\n**Fortunately, OAUTH2.0 is mandatory!!**\r\n\r\nThis is the OAUTH2.0 Java code for spreadsheet-----&gt;\r\n\r\n1. [OAUTH2.0-Java][1]\r\n\r\n2. [Android oauth2.0][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21440101/what-is-an-example-of-using-oauth-2-0-and-google-spreadsheet-api-with-java\r\n  [2]: http://www.blogface.org/2013/07/reading-google-spreadsheets-from.html","title":"Is there a way to add a row on a Google Spreadsheet without OAuth using java?","body":"<p>There is no way you can access or manipulate Google Drive API without OAUTH2.0. Additionally, Google Drive API wouldn't even work on private networks.</p>\n\n<p><strong>Fortunately, OAUTH2.0 is mandatory!!</strong></p>\n\n<p>This is the OAUTH2.0 Java code for spreadsheet-----></p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/21440101/what-is-an-example-of-using-oauth-2-0-and-google-spreadsheet-api-with-java\">OAUTH2.0-Java</a></p></li>\n<li><p><a href=\"http://www.blogface.org/2013/07/reading-google-spreadsheets-from.html\" rel=\"nofollow noreferrer\">Android oauth2.0</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2694094,"reputation":430,"user_id":2326639,"display_name":"Deep Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679394966,"creation_date":1679394966,"answer_id":75800069,"question_id":32292399,"body_markdown":"Using a service account it is possible to write to a google sheet without the need of OAuth. \r\n\r\nSteps:\r\n\r\n 1. [Create a service account][1] \r\n 2. [Delegating domain-wide authority to the service account][2]\r\n 3. Give google sheets permission to the service account.\r\n 4. Download the Service account json file. \r\n 5. Use the service account json file from Java code to write to the desired Google Sheets. \r\n 6. Needless to say the google sheet has to be owned by you or at least you should have write access to the google sheet. \r\n\r\nHere is kotlin code that can be used to write to Google Sheet with the service account json.\r\n\r\n    fun authorize(): Credential {\r\n\r\n        // build GoogleClientSecrets from JSON file\r\n\r\n        return GoogleCredential.fromStream(ClassPathResource(&quot;service-account.json&quot;).inputStream)\r\n            .createScoped(arrayListOf(SheetsScopes.SPREADSHEETS))\r\n            .createDelegated(&quot;your@email.com&quot;)\r\n    }\r\n\r\n    fun getSheetsService(): Sheets? {\r\n        val credential: Credential = authorize()\r\n        return Sheets.Builder(\r\n            GoogleNetHttpTransport.newTrustedTransport(),\r\n            JacksonFactory.getDefaultInstance(), credential\r\n        )\r\n            .setApplicationName(&quot;Your Application Name&quot;)\r\n            .build()\r\n    }\r\n\r\n    fun writeToSheet() {\r\n        val sheetsService = getSheetsService()\r\n        val arrayListOf: List&lt;ArrayList&lt;Any&gt;&gt; = arrayListOf(\r\n            arrayListOf(&quot;Row1 Column1&quot;, &quot;Row1 Column2&quot;),\r\n            arrayListOf(&quot;Row2 Column1&quot;, &quot;Row2 Column2&quot;)\r\n        )\r\n        val appendBody: ValueRange = ValueRange().setValues(arrayListOf)\r\n        val appendResult: AppendValuesResponse = sheetsService.spreadsheets().values()\r\n            .append(&quot;SpreadsheetId&quot;, &quot;A1&quot;, appendBody)\r\n            .setValueInputOption(&quot;USER_ENTERED&quot;)\r\n            .setInsertDataOption(&quot;INSERT_ROWS&quot;)\r\n            .setIncludeValuesInResponse(true)\r\n            .execute()\r\n    }\r\n\r\n\r\n\r\n  [1]: https://console.cloud.google.com/iam-admin/serviceaccounts\r\n  [2]: https://developers.google.com/identity/protocols/oauth2/service-account#delegatingauthority","title":"Is there a way to add a row on a Google Spreadsheet without OAuth using java?","body":"<p>Using a service account it is possible to write to a google sheet without the need of OAuth.</p>\n<p>Steps:</p>\n<ol>\n<li><a href=\"https://console.cloud.google.com/iam-admin/serviceaccounts\" rel=\"nofollow noreferrer\">Create a service account</a></li>\n<li><a href=\"https://developers.google.com/identity/protocols/oauth2/service-account#delegatingauthority\" rel=\"nofollow noreferrer\">Delegating domain-wide authority to the service account</a></li>\n<li>Give google sheets permission to the service account.</li>\n<li>Download the Service account json file.</li>\n<li>Use the service account json file from Java code to write to the desired Google Sheets.</li>\n<li>Needless to say the google sheet has to be owned by you or at least you should have write access to the google sheet.</li>\n</ol>\n<p>Here is kotlin code that can be used to write to Google Sheet with the service account json.</p>\n<pre><code>fun authorize(): Credential {\n\n    // build GoogleClientSecrets from JSON file\n\n    return GoogleCredential.fromStream(ClassPathResource(&quot;service-account.json&quot;).inputStream)\n        .createScoped(arrayListOf(SheetsScopes.SPREADSHEETS))\n        .createDelegated(&quot;your@email.com&quot;)\n}\n\nfun getSheetsService(): Sheets? {\n    val credential: Credential = authorize()\n    return Sheets.Builder(\n        GoogleNetHttpTransport.newTrustedTransport(),\n        JacksonFactory.getDefaultInstance(), credential\n    )\n        .setApplicationName(&quot;Your Application Name&quot;)\n        .build()\n}\n\nfun writeToSheet() {\n    val sheetsService = getSheetsService()\n    val arrayListOf: List&lt;ArrayList&lt;Any&gt;&gt; = arrayListOf(\n        arrayListOf(&quot;Row1 Column1&quot;, &quot;Row1 Column2&quot;),\n        arrayListOf(&quot;Row2 Column1&quot;, &quot;Row2 Column2&quot;)\n    )\n    val appendBody: ValueRange = ValueRange().setValues(arrayListOf)\n    val appendResult: AppendValuesResponse = sheetsService.spreadsheets().values()\n        .append(&quot;SpreadsheetId&quot;, &quot;A1&quot;, appendBody)\n        .setValueInputOption(&quot;USER_ENTERED&quot;)\n        .setInsertDataOption(&quot;INSERT_ROWS&quot;)\n        .setIncludeValuesInResponse(true)\n        .execute()\n}\n</code></pre>\n"}],"owner":{"account_id":6869397,"reputation":191,"user_id":5280427,"display_name":"Bruno Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1679394966,"creation_date":1440899045,"question_id":32292399,"body_markdown":"I&#39;ve searched a lot of websites about how to do that using only the spreadsheet key, but with no success. I can retrieve it, get all the data I want, but I can&#39;t append a new row to it.\r\n\r\nI&#39;ve already published my spreadsheet to the web and made it public but I keep getting &quot; com.google.gdata.util.ServiceException: Method Not Allowed&quot;.\r\n\r\nThat&#39;s how I&#39;m trying to do it:\r\n\r\n    SpreadsheetService service =\r\n                new SpreadsheetService(&quot;MySpreadsheetIntegration-v1&quot;);\r\n\r\n            try {\r\n\r\n            URL url = FeedURLFactory.getDefault().getWorksheetFeedUrl(SpreadsheetRequest.KEY, &quot;public&quot;, &quot;full&quot;); //KEY = &quot;1cenwTRlrGMzMTufkK27IIgAHvEGwVKR9Yr59Qako3u0&quot;;\r\n          \r\n            WorksheetFeed worksheetFeed = service.getFeed(url, WorksheetFeed.class);\r\n            List&lt;WorksheetEntry&gt; worksheets = worksheetFeed.getEntries();\r\n            WorksheetEntry worksheet = worksheets.get(0);\r\n\r\n            URL listFeedUrl = worksheet.getListFeedUrl();\r\n\r\n            ListFeed listFeed = service.getFeed(listFeedUrl, ListFeed.class);\r\n            List&lt;ListEntry&gt; list = listFeed.getEntries();\r\n\r\n           //Checking all the entries, works like a charm\r\n            for (ListEntry row : list) {\r\n                Log.i(&quot;INSERT&quot;,row.getTitle().getPlainText() + &quot;\\t&quot;\r\n                        + row.getPlainTextContent());\r\n            }\r\n            \r\n            ListEntry row = new ListEntry();\r\n\r\n            row.getCustomElements().setValueLocal(&quot;id&quot;, &quot;21&quot;);\r\n            row.getCustomElements().setValueLocal(&quot;type&quot;, si.getType().toString());\r\n            row.getCustomElements().setValueLocal(&quot;longitude&quot;, String.valueOf(si.getLongitude()));\r\n            row.getCustomElements().setValueLocal(&quot;latitude&quot;, String.valueOf(si.getLatitude()));\r\n            row.getCustomElements().setValueLocal(&quot;last_maint&quot;, String.valueOf(si.getLast()));\r\n            row.getCustomElements().setValueLocal(&quot;inst_date&quot;, String.valueOf(si.getInst()));\r\n\r\n            row = service.insert(listFeedUrl, row); //Exception is thrown here\r\n  \r\n            return true;\r\n        }","title":"Is there a way to add a row on a Google Spreadsheet without OAuth using java?","body":"<p>I've searched a lot of websites about how to do that using only the spreadsheet key, but with no success. I can retrieve it, get all the data I want, but I can't append a new row to it.</p>\n\n<p>I've already published my spreadsheet to the web and made it public but I keep getting \" com.google.gdata.util.ServiceException: Method Not Allowed\".</p>\n\n<p>That's how I'm trying to do it:</p>\n\n<pre><code>SpreadsheetService service =\n            new SpreadsheetService(\"MySpreadsheetIntegration-v1\");\n\n        try {\n\n        URL url = FeedURLFactory.getDefault().getWorksheetFeedUrl(SpreadsheetRequest.KEY, \"public\", \"full\"); //KEY = \"1cenwTRlrGMzMTufkK27IIgAHvEGwVKR9Yr59Qako3u0\";\n\n        WorksheetFeed worksheetFeed = service.getFeed(url, WorksheetFeed.class);\n        List&lt;WorksheetEntry&gt; worksheets = worksheetFeed.getEntries();\n        WorksheetEntry worksheet = worksheets.get(0);\n\n        URL listFeedUrl = worksheet.getListFeedUrl();\n\n        ListFeed listFeed = service.getFeed(listFeedUrl, ListFeed.class);\n        List&lt;ListEntry&gt; list = listFeed.getEntries();\n\n       //Checking all the entries, works like a charm\n        for (ListEntry row : list) {\n            Log.i(\"INSERT\",row.getTitle().getPlainText() + \"\\t\"\n                    + row.getPlainTextContent());\n        }\n\n        ListEntry row = new ListEntry();\n\n        row.getCustomElements().setValueLocal(\"id\", \"21\");\n        row.getCustomElements().setValueLocal(\"type\", si.getType().toString());\n        row.getCustomElements().setValueLocal(\"longitude\", String.valueOf(si.getLongitude()));\n        row.getCustomElements().setValueLocal(\"latitude\", String.valueOf(si.getLatitude()));\n        row.getCustomElements().setValueLocal(\"last_maint\", String.valueOf(si.getLast()));\n        row.getCustomElements().setValueLocal(\"inst_date\", String.valueOf(si.getInst()));\n\n        row = service.insert(listFeedUrl, row); //Exception is thrown here\n\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":20466902,"reputation":16,"user_id":15018280,"display_name":"Constantine Havansky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679394891,"creation_date":1679394891,"answer_id":75800057,"question_id":75790823,"body_markdown":"Be sure that yours import is\r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\nNext step: Try to create 2 different TransactionManagers. Set one of them to transaction&#39;s property.\r\n\r\n    @Transactional(transactionManager = MyFirstTM.class)","title":"Spring @Transactional annotation with a transaction across multiple data sources","body":"<p>Be sure that yours import is</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n</code></pre>\n<p>Next step: Try to create 2 different TransactionManagers. Set one of them to transaction's property.</p>\n<pre><code>@Transactional(transactionManager = MyFirstTM.class)\n</code></pre>\n"}],"owner":{"account_id":26477314,"reputation":15,"user_id":20117019,"display_name":"Akhilesh Dhiman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75800057,"answer_count":1,"score":0,"last_activity_date":1679394891,"creation_date":1679318626,"question_id":75790823,"body_markdown":"I&#39;ve successfully made connection with 2 database, and I&#39;m able to select, insert, update and delete from 1st db connection, but while using 2nd database I&#39;m able to fetch the data but I&#39;m not able to update or save any data in database.\r\n\r\nThis is my jpaContext.xml\r\n\r\nConfiguration for 1st database connection\r\n\r\n\r\n    &lt;bean name=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${mdmDriverClassName}&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${url}&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${username}&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${password}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean\r\n        class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\r\n        name=&quot;factory&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot; /&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n       \r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.bmp.mdm_v1.entites&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean name=&quot;hibernateTemplate&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot; /&gt;\r\n        &lt;property name=&quot;checkWriteOperations&quot; value=&quot;false&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean name=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nConfiguration for 2nd database\r\n\r\n\r\n    &lt;bean name=&quot;mdmDs&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${driverClassName}&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${mdmDbUrl}&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${mdmDbUsr}&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${mdmDbPass}&quot; /&gt;\r\n    &lt;/bean&gt;                        \r\n    \r\n    &lt;bean\r\n        class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\r\n        name=&quot;mdmFactory&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;mdmDs&quot; /&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n       \r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.bmp.stamp_biller.entites&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n                       \r\n    &lt;bean name=&quot;mdmTmp&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;mdmFactory&quot; /&gt;\r\n        &lt;property name=&quot;checkWriteOperations&quot; value=&quot;false&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean name=&quot;mdmTxnMang&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;mdmFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n\r\nThis  is my dao implementation\r\n\r\n    \r\n    @Transactional\r\n    public void saveClientBiller(client_biller client_biller) {\r\n        try {\r\n            this.mdmTmp.saveOrUpdate(client_biller);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception- &quot; + e);\r\n        }\r\n    }\r\n\r\nThe data is stored in database but I&#39;m getting this error after saving data in 2nd db\r\n\r\n\r\norg.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n\r\n\r\nI&#39;m getting soultion that put @Transactional(value=&quot;mdmTxnMang&quot;), but while I&#39;m doing that it will show me error like string cannot be converted to txType.","title":"Spring @Transactional annotation with a transaction across multiple data sources","body":"<p>I've successfully made connection with 2 database, and I'm able to select, insert, update and delete from 1st db connection, but while using 2nd database I'm able to fetch the data but I'm not able to update or save any data in database.</p>\n<p>This is my jpaContext.xml</p>\n<p>Configuration for 1st database connection</p>\n<pre><code>&lt;bean name=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;${mdmDriverClassName}&quot; /&gt;\n    &lt;property name=&quot;url&quot; value=&quot;${url}&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;${username}&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;${password}&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean\n    class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\n    name=&quot;factory&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot; /&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n   \n    &lt;property name=&quot;packagesToScan&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.bmp.mdm_v1.entites&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean name=&quot;hibernateTemplate&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot; /&gt;\n    &lt;property name=&quot;checkWriteOperations&quot; value=&quot;false&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean name=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Configuration for 2nd database</p>\n<pre><code>&lt;bean name=&quot;mdmDs&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;${driverClassName}&quot; /&gt;\n    &lt;property name=&quot;url&quot; value=&quot;${mdmDbUrl}&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;${mdmDbUsr}&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;${mdmDbPass}&quot; /&gt;\n&lt;/bean&gt;                        \n\n&lt;bean\n    class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\n    name=&quot;mdmFactory&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;mdmDs&quot; /&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n   \n    &lt;property name=&quot;packagesToScan&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.bmp.stamp_biller.entites&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n                   \n&lt;bean name=&quot;mdmTmp&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mdmFactory&quot; /&gt;\n    &lt;property name=&quot;checkWriteOperations&quot; value=&quot;false&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean name=&quot;mdmTxnMang&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mdmFactory&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>This  is my dao implementation</p>\n<pre><code>@Transactional\npublic void saveClientBiller(client_biller client_biller) {\n    try {\n        this.mdmTmp.saveOrUpdate(client_biller);\n    } catch (Exception e) {\n        System.out.println(&quot;Exception- &quot; + e);\n    }\n}\n</code></pre>\n<p>The data is stored in database but I'm getting this error after saving data in 2nd db</p>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress</p>\n<p>I'm getting soultion that put @Transactional(value=&quot;mdmTxnMang&quot;), but while I'm doing that it will show me error like string cannot be converted to txType.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1413724152,"post_id":26450807,"comment_id":41543033,"body_markdown":"You could see what the read timeout is on your `URLConnection`. Perhaps setting a lower value will trigger an earlier exception.","body":"You could see what the read timeout is on your <code>URLConnection</code>. Perhaps setting a lower value will trigger an earlier exception."},{"owner":{"account_id":259129,"reputation":13903,"user_id":541786,"accept_rate":68,"display_name":"Nitish"},"score":0,"creation_date":1413724311,"post_id":26450807,"comment_id":41543088,"body_markdown":"Although timeout is set to 45 seconds, but I don&#39;t get anything even after 45 seconds.","body":"Although timeout is set to 45 seconds, but I don&#39;t get anything even after 45 seconds."}],"answers":[{"tags":[],"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413724362,"creation_date":1413724362,"answer_id":26450888,"question_id":26450807,"body_markdown":"I think you need to use `.read(char[] cbuf, int off, int len)` rather than `.readLine()`, and do your own line processing. Here&#39;s the documentation for that `BufferedReader.read` method:\n\n&gt;  This method implements the general contract of the corresponding read method of the Reader class. As an additional convenience, it attempts to read as many characters as possible by repeatedly invoking the read method of the underlying stream. This iterated read continues until one of the following conditions becomes true:\n&gt;\n&gt; -   The specified number of characters have been read,\n&gt; -  The read method of the underlying stream returns -1, indicating end-of-file, or\n&gt; -    **The ready method of the underlying stream returns false, indicating that further input requests would block.** \n&gt;\n&gt; If the first read on the underlying stream returns -1 to indicate end-of-file then this method returns -1. Otherwise this method returns the number of characters actually read.\n\n(Emphasis mine.)\n\nIt looks as though `read` is guaranteed not to block, because it asks the underlying stream whether it&#39;s got anything to offer.\n\nDo remember, though, that it might not return as many characters as you asked for, and it might even return 0.\n\nYou still have one problem, though, which is that if it returns 0 then you don&#39;t know whether it&#39;s because the connection has dropped or just because the web server hasn&#39;t produced anything yet.\n","title":"BufferedReader.readLine() hangs when connection forcefully disconnected","body":"<p>I think you need to use <code>.read(char[] cbuf, int off, int len)</code> rather than <code>.readLine()</code>, and do your own line processing. Here's the documentation for that <code>BufferedReader.read</code> method:</p>\n<blockquote>\n<p>This method implements the general contract of the corresponding read method of the Reader class. As an additional convenience, it attempts to read as many characters as possible by repeatedly invoking the read method of the underlying stream. This iterated read continues until one of the following conditions becomes true:</p>\n<ul>\n<li>The specified number of characters have been read,</li>\n<li>The read method of the underlying stream returns -1, indicating end-of-file, or</li>\n<li><strong>The ready method of the underlying stream returns false, indicating that further input requests would block.</strong></li>\n</ul>\n<p>If the first read on the underlying stream returns -1 to indicate end-of-file then this method returns -1. Otherwise this method returns the number of characters actually read.</p>\n</blockquote>\n<p>(Emphasis mine.)</p>\n<p>It looks as though <code>read</code> is guaranteed not to block, because it asks the underlying stream whether it's got anything to offer.</p>\n<p>Do remember, though, that it might not return as many characters as you asked for, and it might even return 0.</p>\n<p>You still have one problem, though, which is that if it returns 0 then you don't know whether it's because the connection has dropped or just because the web server hasn't produced anything yet.</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1413724447,"creation_date":1413724447,"answer_id":26450897,"question_id":26450807,"body_markdown":"Set the [read timeout][1] on the connection. TCP may take a long time to detect a broken connection if packets are just being dropped.\r\n\r\n        connection = urlAddress.openConnection();\r\n        connection.setReadTimeout(10000); // 10 seconds\r\n        connection.setConnectTimeout(timeoutConnection);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html#setReadTimeout%28int%29","title":"BufferedReader.readLine() hangs when connection forcefully disconnected","body":"<p>Set the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html#setReadTimeout%28int%29\" rel=\"noreferrer\">read timeout</a> on the connection. TCP may take a long time to detect a broken connection if packets are just being dropped.</p>\n\n<pre><code>    connection = urlAddress.openConnection();\n    connection.setReadTimeout(10000); // 10 seconds\n    connection.setConnectTimeout(timeoutConnection);\n</code></pre>\n"}],"owner":{"account_id":259129,"reputation":13903,"user_id":541786,"accept_rate":68,"display_name":"Nitish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26450897,"answer_count":2,"score":1,"last_activity_date":1679394833,"creation_date":1413723774,"question_id":26450807,"body_markdown":"I am getting data from web service continuously.  \r\n  \r\n    URLConnection connection;\r\n\t\tBufferedReader in = null;\r\n\r\n\t\ttry {\r\n\t\t\tSharedPreferences preferences = context.getSharedPreferences(\r\n\t\t\t\t\t&quot;MyPreferences&quot;, Context.MODE_PRIVATE);\r\n\t\t\tint timeoutConnection = Integer.parseInt(preferences.getString(\r\n\t\t\t\t\t&quot;timeout&quot;, &quot;60&quot;)) * 1000;\r\n\t\t\tURL urlAddress = new URL(preferences.getString(&quot;apiUrl&quot;,\r\n\t\t\t\t\tdefaultURL));\r\n\t\t\tconnection = urlAddress.openConnection();\r\n\t\t\tconnection.setConnectTimeout(timeoutConnection);\r\n\t\t\tin = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\tconnection.getInputStream()));\r\n\t\t\tfinal String[] inputLine = { null };\r\n\t\t\tint i=0;\r\n\t\t\twhile (isOnline() &amp;&amp; (inputLine[0] = in.readLine()) != null) {   // isOnline checks if connected to internet.\r\n\t\t\t\t((Activity) context).runOnUiThread(new Runnable() {\r\n\t\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t\tcallback.run(inputLine[0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t..\r\n            ..\r\n\t\t}  \r\n  \r\nThis works fine till I am connected to internet. But as soon as I forcefully disconnect, `inputLine[0] = in.readLine()` does not respond. I don&#39;t get any exception.\r\n\r\nSo how may I check if connection is disconnected in between? Using `readLine()` only or something else.  I have seen few solutions which suggest using `BufferedReader.ready()`. I tried that too but it always returns false.  \r\n\r\nWhat can I try next?\r\n","title":"BufferedReader.readLine() hangs when connection forcefully disconnected","body":"<p>I am getting data from web service continuously.</p>\n<pre><code>URLConnection connection;\n    BufferedReader in = null;\n\n    try {\n        SharedPreferences preferences = context.getSharedPreferences(\n                &quot;MyPreferences&quot;, Context.MODE_PRIVATE);\n        int timeoutConnection = Integer.parseInt(preferences.getString(\n                &quot;timeout&quot;, &quot;60&quot;)) * 1000;\n        URL urlAddress = new URL(preferences.getString(&quot;apiUrl&quot;,\n                defaultURL));\n        connection = urlAddress.openConnection();\n        connection.setConnectTimeout(timeoutConnection);\n        in = new BufferedReader(new InputStreamReader(\n                connection.getInputStream()));\n        final String[] inputLine = { null };\n        int i=0;\n        while (isOnline() &amp;&amp; (inputLine[0] = in.readLine()) != null) {   // isOnline checks if connected to internet.\n            ((Activity) context).runOnUiThread(new Runnable() {\n                    public void run() {\n                        callback.run(inputLine[0]);\n                    }\n                });\n        }\n    } catch (Exception e) {\n        ..\n        ..\n    }  \n</code></pre>\n<p>This works fine till I am connected to internet. But as soon as I forcefully disconnect, <code>inputLine[0] = in.readLine()</code> does not respond. I don't get any exception.</p>\n<p>So how may I check if connection is disconnected in between? Using <code>readLine()</code> only or something else.  I have seen few solutions which suggest using <code>BufferedReader.ready()</code>. I tried that too but it always returns false.</p>\n<p>What can I try next?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"score":2,"creation_date":1520422859,"post_id":49150928,"comment_id":85306225,"body_markdown":"I had once the same problem with Apache POI, most likely some dependencies are missing. Please show more information from stack trace then we could figure out what exactly is missing.","body":"I had once the same problem with Apache POI, most likely some dependencies are missing. Please show more information from stack trace then we could figure out what exactly is missing."},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520423154,"post_id":49150928,"comment_id":85306403,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject\n\tat TestClass.main(TestClass.java:26)\nCaused by: java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n\t... 1 more\nC:\\Users\\wks\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\nBUILD FAILED (total time: 0 seconds)","body":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject \tat TestClass.main(TestClass.java:26) Caused by: java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335&zwnj;&#8203;) \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) \t... 1 more C:\\Users\\wks\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snipp&zwnj;&#8203;ets\\run.xml:53: Java returned: 1 BUILD FAILED (total time: 0 seconds)"},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520423322,"post_id":49150928,"comment_id":85306513,"body_markdown":"Dear Michael, thanks for quick response. Have posted above the error I am getting in netbeans","body":"Dear Michael, thanks for quick response. Have posted above the error I am getting in netbeans"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1520424431,"post_id":49150928,"comment_id":85307232,"body_markdown":"Make sure you include the Apache POI dependencies too!","body":"Make sure you include the Apache POI dependencies too!"},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520424555,"post_id":49150928,"comment_id":85307323,"body_markdown":"@Gagravarr. If you may help, how do I quickly do that?","body":"@Gagravarr. If you may help, how do I quickly do that?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1520425349,"post_id":49150928,"comment_id":85307842,"body_markdown":"How are you running your application?","body":"How are you running your application?"},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520425572,"post_id":49150928,"comment_id":85307983,"body_markdown":"@Mark Rotteveel. I created a project on NetBeans and added the apache POI jar files to the project library. Then, I defined a simple class with just a single line of code creating an instance of XSSFWorkbook. Then I did click run. So, I am running it directly from netbeans","body":"@Mark Rotteveel. I created a project on NetBeans and added the apache POI jar files to the project library. Then, I defined a simple class with just a single line of code creating an instance of XSSFWorkbook. Then I did click run. So, I am running it directly from netbeans"}],"answers":[{"tags":[],"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1568317871,"creation_date":1520426525,"answer_id":49152246,"question_id":49150928,"body_markdown":"Most of the time this error happens when some dependencies are missing. I can see that you are trying to use `XSSFWorkbook` but according to Apache&#39;s website this component requires additional dependency `poi-ooxml`. You should also add `xmlbeans-2.3.0.jar`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;3.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nYou can find a list of all required dependencies under this [link](http://poi.apache.org/overview.html#components).\r\n\r\nIn my opinion you should start using Maven even for a simple program. It&#39;s a very useful tool and necessary for big projects.\r\n","title":"How do I fix the NoClassDefFoundError in java Apache POI project?","body":"<p>Most of the time this error happens when some dependencies are missing. I can see that you are trying to use <code>XSSFWorkbook</code> but according to Apache's website this component requires additional dependency <code>poi-ooxml</code>. You should also add <code>xmlbeans-2.3.0.jar</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.17&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You can find a list of all required dependencies under this <a href=\"http://poi.apache.org/overview.html#components\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>In my opinion you should start using Maven even for a simple program. It's a very useful tool and necessary for big projects.</p>\n"},{"tags":[],"owner":{"account_id":6002300,"reputation":1,"user_id":4715165,"display_name":"Eswara Srisai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679394689,"creation_date":1679394689,"answer_id":75800027,"question_id":49150928,"body_markdown":"Download poi-ooxml JAR 4.1.2 with all dependencies, which doesn&#39;t throw any ClassNotFoundException\r\nhttps://jar-download.com/artifacts/org.apache.poi/poi-ooxml/4.1.2/source-code","title":"How do I fix the NoClassDefFoundError in java Apache POI project?","body":"<p>Download poi-ooxml JAR 4.1.2 with all dependencies, which doesn't throw any ClassNotFoundException\n<a href=\"https://jar-download.com/artifacts/org.apache.poi/poi-ooxml/4.1.2/source-code\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.apache.poi/poi-ooxml/4.1.2/source-code</a></p>\n"}],"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14603,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49152246,"answer_count":2,"score":2,"last_activity_date":1679394689,"creation_date":1520422524,"question_id":49150928,"body_markdown":"I have been battling to fix the NoClassDefFoundError exception without success. Getting a bit frustrated now. I am creating an application to read excel files using Apache POI library. This is what I am doing:\r\n\r\n1. Downloaded the binary distribution of the library and saved it on a desktop folder called Apache POI library\r\n\r\n2. Extracted files from the zip folder\r\n\r\n3. I created a new project on Netbeans and called it apachePOI\r\n\r\n4. On the project navigation tab of Netbeans for my project, I went to right click libraries&gt;Add jar/Folder.. and imported all .jar files from the downloaded library. Added a total of 11 .jar files\r\n\r\n5. I went to USER environment variables, and chose to add a new environment variable called classpath. On the variable value, I added the path to each of the every 11.jar files in my library. One such path is `C:\\Users\\wks\\Desktop\\Apache POI Library\\poi-bin-3.17-20170915\\poi-3.17`. I separated the paths with a semicolon\r\n\r\n6. Thereafter, I created a very simple TestClass class which is compiling fine but failing to run with an error NoClassDefFoundError.The code in my class does nothing other than declaring an XSSFWorkbook like `XSSFWorkbook workbook = new XSSFWorkbook(file)`.\r\n\r\nI am not using maven and had chosen not to use. Cannot figure out what I am doing wrong, though I suspect I am getting it wrong adding my library to the classpath as in step (5) above\r\n","title":"How do I fix the NoClassDefFoundError in java Apache POI project?","body":"<p>I have been battling to fix the NoClassDefFoundError exception without success. Getting a bit frustrated now. I am creating an application to read excel files using Apache POI library. This is what I am doing:</p>\n\n<ol>\n<li><p>Downloaded the binary distribution of the library and saved it on a desktop folder called Apache POI library</p></li>\n<li><p>Extracted files from the zip folder</p></li>\n<li><p>I created a new project on Netbeans and called it apachePOI</p></li>\n<li><p>On the project navigation tab of Netbeans for my project, I went to right click libraries>Add jar/Folder.. and imported all .jar files from the downloaded library. Added a total of 11 .jar files</p></li>\n<li><p>I went to USER environment variables, and chose to add a new environment variable called classpath. On the variable value, I added the path to each of the every 11.jar files in my library. One such path is <code>C:\\Users\\wks\\Desktop\\Apache POI Library\\poi-bin-3.17-20170915\\poi-3.17</code>. I separated the paths with a semicolon</p></li>\n<li><p>Thereafter, I created a very simple TestClass class which is compiling fine but failing to run with an error NoClassDefFoundError.The code in my class does nothing other than declaring an XSSFWorkbook like <code>XSSFWorkbook workbook = new XSSFWorkbook(file)</code>.</p></li>\n</ol>\n\n<p>I am not using maven and had chosen not to use. Cannot figure out what I am doing wrong, though I suspect I am getting it wrong adding my library to the classpath as in step (5) above</p>\n"},{"tags":["java","security","rsa","hsm"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654527959,"post_id":72518624,"comment_id":128105931,"body_markdown":"So what prevents you from converting the key to binary? Have you done a web search for converting the key?","body":"So what prevents you from converting the key to binary? Have you done a web search for converting the key?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654527970,"post_id":72518624,"comment_id":128105937,"body_markdown":"Does this answer your question? [Convert .pem to .bin in OpenSSL](https://stackoverflow.com/questions/70835377/convert-pem-to-bin-in-openssl)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70835377/convert-pem-to-bin-in-openssl\">Convert .pem to .bin in OpenSSL</a>"},{"owner":{"account_id":9092693,"reputation":23,"user_id":6767832,"display_name":"Artimael"},"score":0,"creation_date":1654528357,"post_id":72518624,"comment_id":128106071,"body_markdown":"Hi Robert, when i try to convert to binary ( 0101001010101010) the HSM answer me the request is to long","body":"Hi Robert, when i try to convert to binary ( 0101001010101010) the HSM answer me the request is to long"}],"answers":[{"tags":[],"owner":{"account_id":4988158,"reputation":3,"user_id":4011161,"display_name":"Eduardo Faustino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679394318,"creation_date":1678944037,"answer_id":75752417,"question_id":72518624,"body_markdown":"Had the a similar issue with some other commands. I had to convert all characters excluding the public key from ASCII to hex. Then from there I pulled it all together and did a conversion from hex to ASCII. So your command code EO looks like this 454f \r\nEncoding rule 02 looks like 3032\r\n\r\nThis little method helped me with the conversion\r\n```\r\npublic static String hexToAscii(String input) {\r\n\tStringBuilder result = new StringBuilder();\r\n\tfor (int i = 0; i &lt; input.length(); i += 2) {\r\n\t\tString str = input.substring(i, i + 2);\r\n\t\tresult.append((char) Integer.parseInt(str, 16));\r\n\t}\r\n\treturn result.toString();\r\n}\r\n```\r\nThere is probably a smarter way of doing this but it worked for me.\r\n\r\n","title":"Thales HSM Import Public Key (EO) error &#39;04&#39;","body":"<p>Had the a similar issue with some other commands. I had to convert all characters excluding the public key from ASCII to hex. Then from there I pulled it all together and did a conversion from hex to ASCII. So your command code EO looks like this 454f\nEncoding rule 02 looks like 3032</p>\n<p>This little method helped me with the conversion</p>\n<pre><code>public static String hexToAscii(String input) {\n    StringBuilder result = new StringBuilder();\n    for (int i = 0; i &lt; input.length(); i += 2) {\n        String str = input.substring(i, i + 2);\n        result.append((char) Integer.parseInt(str, 16));\n    }\n    return result.toString();\n}\n</code></pre>\n<p>There is probably a smarter way of doing this but it worked for me.</p>\n"}],"owner":{"account_id":9092693,"reputation":23,"user_id":6767832,"display_name":"Artimael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679394318,"creation_date":1654523026,"question_id":72518624,"body_markdown":"I am sending this command with a DER encoded public RSA key.\r\n\r\n```HSM-EO023082018A02820181009B1EA09942164A293536A18E3881A981161BC9147548DBADFA7A3D6F7C0425331427E431A25A1EED0E8BE184AFBE0F1A0CF9F08F731F2148560ED2E9740EDF50CA823BC1A1210A82D71820E6C2DC39B871F7EE170D07CAAAC5CB7E074829B2D0AFB1AF5DE35222EE425CCF3122F5BAA0521FCEF97198102A02CAC7F85FE15785D6731674779E485448FCF934C331C5C6CDA70C31971E09D797EE340528896029AA8434100C0F732FFF7DF5DC7EED975D56E58E30A505D7B9C299B4109EC9D353D3234DA99C3DD4B5030A4F66290BAE13EA0618E11F43BF8B283C1B1A9865E551080E15F60642E15B452626ABBCB8B59E96471CFDD819D14C74C86DF3CD245EBE85D45A3EB19A1CA2CDEF133809A6079ED5C2DFD83F9419897D8064ABE119D4EC7BD01AC9DA0A8E18EADEA9AED624F63FB39DD167C4230C1745FB12A8117B2B9B630206FA7285CA804E28FBB47A013DC17880ACF58B6F3A1ADA6A7A5B3B47CD88C60C3DAB6122C1AB5571C2586BF93FAF96657FCDEDB3F766DB06E804F4FE8C890203010001~%#B00N00```\r\n\r\nhis is just the header ```HSM-```, the command ```EO``` and the ```02``` denoting &quot;DER encoding for ASN.1 Public Key (INTEGER using unsigned representation)&quot;. Followed by the encoded DER itself and then the Key block header ~%#B00N00.\r\n\r\nError 04 means &quot;Public key does not conform to encoding rules&quot;. \r\n\r\nThis is a example obtained via Thales ( HSM supplier) and the only diference is they are using hsm terminal, and my implemententation is via Java sending the message via Socket.\r\n\r\nIf anyone know something please help.\r\n\r\n\r\nIn advice, they inform me is the public Key is in ASCII and i have to convert to binary Data","title":"Thales HSM Import Public Key (EO) error &#39;04&#39;","body":"<p>I am sending this command with a DER encoded public RSA key.</p>\n<p><code>HSM-EO023082018A02820181009B1EA09942164A293536A18E3881A981161BC9147548DBADFA7A3D6F7C0425331427E431A25A1EED0E8BE184AFBE0F1A0CF9F08F731F2148560ED2E9740EDF50CA823BC1A1210A82D71820E6C2DC39B871F7EE170D07CAAAC5CB7E074829B2D0AFB1AF5DE35222EE425CCF3122F5BAA0521FCEF97198102A02CAC7F85FE15785D6731674779E485448FCF934C331C5C6CDA70C31971E09D797EE340528896029AA8434100C0F732FFF7DF5DC7EED975D56E58E30A505D7B9C299B4109EC9D353D3234DA99C3DD4B5030A4F66290BAE13EA0618E11F43BF8B283C1B1A9865E551080E15F60642E15B452626ABBCB8B59E96471CFDD819D14C74C86DF3CD245EBE85D45A3EB19A1CA2CDEF133809A6079ED5C2DFD83F9419897D8064ABE119D4EC7BD01AC9DA0A8E18EADEA9AED624F63FB39DD167C4230C1745FB12A8117B2B9B630206FA7285CA804E28FBB47A013DC17880ACF58B6F3A1ADA6A7A5B3B47CD88C60C3DAB6122C1AB5571C2586BF93FAF96657FCDEDB3F766DB06E804F4FE8C890203010001~%#B00N00</code></p>\n<p>his is just the header <code>HSM-</code>, the command <code>EO</code> and the <code>02</code> denoting &quot;DER encoding for ASN.1 Public Key (INTEGER using unsigned representation)&quot;. Followed by the encoded DER itself and then the Key block header ~%#B00N00.</p>\n<p>Error 04 means &quot;Public key does not conform to encoding rules&quot;.</p>\n<p>This is a example obtained via Thales ( HSM supplier) and the only diference is they are using hsm terminal, and my implemententation is via Java sending the message via Socket.</p>\n<p>If anyone know something please help.</p>\n<p>In advice, they inform me is the public Key is in ASCII and i have to convert to binary Data</p>\n"},{"tags":["java","react-native","android-activity"],"answers":[{"tags":[],"owner":{"account_id":4784142,"reputation":2430,"user_id":3865138,"accept_rate":71,"display_name":"Mr Heelis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679394115,"creation_date":1679394115,"answer_id":75799921,"question_id":75799292,"body_markdown":"I think this does it actually\r\n\r\n    @Override\r\n      protected ReactActivityDelegate createReactActivityDelegate() {\r\n        return new DefaultReactActivityDelegate(\r\n            this,\r\n            getMainComponentName(),\r\n            // If you opted-in for the New Architecture, we enable the Fabric Renderer.\r\n            DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\r\n            // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\r\n            DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\r\n        ) {\r\n          @Override\r\n          protected ReactRootView createRootView() {\r\n            return new RNGestureHandlerEnabledRootView(MainActivity.this);\r\n          };\r\n        };\r\n      }","title":"React Native MainActivity.java createApplicationDelegate() how to merge two necessary methods","body":"<p>I think this does it actually</p>\n<pre><code>@Override\n  protected ReactActivityDelegate createReactActivityDelegate() {\n    return new DefaultReactActivityDelegate(\n        this,\n        getMainComponentName(),\n        // If you opted-in for the New Architecture, we enable the Fabric Renderer.\n        DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\n        // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\n        DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\n    ) {\n      @Override\n      protected ReactRootView createRootView() {\n        return new RNGestureHandlerEnabledRootView(MainActivity.this);\n      };\n    };\n  }\n</code></pre>\n"}],"owner":{"account_id":4784142,"reputation":2430,"user_id":3865138,"accept_rate":71,"display_name":"Mr Heelis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679394115,"creation_date":1679390426,"question_id":75799292,"body_markdown":"in a recent [upgrade to react native 0.71.3][1] part of the upgrade is to add a method:\r\n\r\n    @Override\r\n      protected ReactActivityDelegate createReactActivityDelegate() {\r\n        return new DefaultReactActivityDelegate(\r\n            this,\r\n            getMainComponentName(),\r\n            // If you opted-in for the New Architecture, we enable the Fabric Renderer.\r\n            DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\r\n            // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\r\n            DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\r\n            );\r\n      }\r\n\r\nthe instructions are to add this to `MainActivity.java`. This is all well and good but there is a problem :\r\n\r\nour code already had this method yet in an entirely different form, which uses a completely different mechanic \r\n\r\n    @Override\r\n    protected ReactActivityDelegate createReactActivityDelegate() {\r\n      return new InitialPropsReactActivityDelegate(this, getMainComponentName()) {\r\n          @Override\r\n          protected ReactRootView createRootView() {\r\n            return new RNGestureHandlerEnabledRootView(MainActivity.this);\r\n          }\r\n        };\r\n      }\r\n\r\n\r\nI need to merge the functionality and return a `ReactActivityDelegate` with everything we need. Has anyone got experience of how to do this properly? It has me stumped.\r\n\r\n\r\n  [1]: https://react-native-community.github.io/upgrade-helper/?from=0.67.2&amp;to=0.71.3#RnDiffApp-android-app-src-main-java-com-rndiffapp-MainActivity.java","title":"React Native MainActivity.java createApplicationDelegate() how to merge two necessary methods","body":"<p>in a recent <a href=\"https://react-native-community.github.io/upgrade-helper/?from=0.67.2&amp;to=0.71.3#RnDiffApp-android-app-src-main-java-com-rndiffapp-MainActivity.java\" rel=\"nofollow noreferrer\">upgrade to react native 0.71.3</a> part of the upgrade is to add a method:</p>\n<pre><code>@Override\n  protected ReactActivityDelegate createReactActivityDelegate() {\n    return new DefaultReactActivityDelegate(\n        this,\n        getMainComponentName(),\n        // If you opted-in for the New Architecture, we enable the Fabric Renderer.\n        DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\n        // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\n        DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\n        );\n  }\n</code></pre>\n<p>the instructions are to add this to <code>MainActivity.java</code>. This is all well and good but there is a problem :</p>\n<p>our code already had this method yet in an entirely different form, which uses a completely different mechanic</p>\n<pre><code>@Override\nprotected ReactActivityDelegate createReactActivityDelegate() {\n  return new InitialPropsReactActivityDelegate(this, getMainComponentName()) {\n      @Override\n      protected ReactRootView createRootView() {\n        return new RNGestureHandlerEnabledRootView(MainActivity.this);\n      }\n    };\n  }\n</code></pre>\n<p>I need to merge the functionality and return a <code>ReactActivityDelegate</code> with everything we need. Has anyone got experience of how to do this properly? It has me stumped.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1679394097,"post_id":75799902,"comment_id":133709909,"body_markdown":"why would you need reflection for this? just compare the results of the getters","body":"why would you need reflection for this? just compare the results of the getters"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1679394139,"post_id":75799902,"comment_id":133709921,"body_markdown":"or use a Comparator if you need to use it on a large scale.","body":"or use a Comparator if you need to use it on a large scale."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679394720,"post_id":75799902,"comment_id":133710062,"body_markdown":"Note that your Employee variables are all declared locally, within a method, and so those variables are not visible outside of the method, and so I&#39;m not sure how you&#39;re planning on using any of this code.","body":"Note that your Employee variables are all declared locally, within a method, and so those variables are not visible outside of the method, and so I&#39;m not sure how you&#39;re planning on using any of this code."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679394774,"post_id":75799902,"comment_id":133710077,"body_markdown":"Also, wouldn&#39;t Employee extend from Person? This is all somewhat confusing.","body":"Also, wouldn&#39;t Employee extend from Person? This is all somewhat confusing."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679395255,"post_id":75799902,"comment_id":133710203,"body_markdown":"`Comparator.comparingDouble(Employee::getSalary)`","body":"<code>Comparator.comparingDouble(Employee::getSalary)</code>"}],"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679394123,"answer_count":0,"score":0,"last_activity_date":1679394015,"creation_date":1679394015,"question_id":75799902,"body_markdown":"\r\nI would like to check how to compare 2 Objects and each Object has nested class within. how can I compare the emp1 and emp2 without the compareTo() inside the Employee class. Do I have to use Reflection?\r\n\r\n    public class App{\r\n    \tpublic void addEmployee(){\r\n    \t\tPerson person1 = new Person();\r\n    \t\tperson1.setId(123);\r\n    \t\tperson1.setFirstName(&quot;FirstName&quot;);\r\n    \t\tperson1.setLastName(&quot;LastName&quot;);\r\n    \t\r\n    \t\r\n    \t\tEmployee emp1 = new Employee();\r\n    \t\temp1.setPerson(person1);\r\n    \t\temp1.setPosition(&quot;Tester1&quot;);\r\n    \t\temp1.setSalary(1000);\r\n    \t\t\r\n    \t\t\r\n    \t\tPerson person2 = new Person();\r\n    \t\tperson2.setId(223);\r\n    \t\tperson2.setFirstName(&quot;FirstName2&quot;);\r\n    \t\tperson2.setLastName(&quot;LastName2&quot;);\r\n    \t\r\n    \t\r\n    \t\tEmployee emp2 = new Employee();\r\n    \t\temp2.setPerson(person2);\r\n    \t\temp2.setPosition(&quot;Tester2&quot;);\r\n    \t\temp2.setSalary(2000);\r\n    \t\t\r\n    \t\t//how can I compare the emp1 and emp2 without the compareTo() inside the Employee class.\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }\r\n    \r\n    public class Person{\r\n    \tprivate int id;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    }\r\n    \r\n    public class Employee{\r\n    \tprivate Person person;\r\n    \tprivate String position;\r\n    \tprivate double salary;\r\n    }","title":"Find diff between 2 object with nested class","body":"<p>I would like to check how to compare 2 Objects and each Object has nested class within. how can I compare the emp1 and emp2 without the compareTo() inside the Employee class. Do I have to use Reflection?</p>\n<pre><code>public class App{\n    public void addEmployee(){\n        Person person1 = new Person();\n        person1.setId(123);\n        person1.setFirstName(&quot;FirstName&quot;);\n        person1.setLastName(&quot;LastName&quot;);\n    \n    \n        Employee emp1 = new Employee();\n        emp1.setPerson(person1);\n        emp1.setPosition(&quot;Tester1&quot;);\n        emp1.setSalary(1000);\n        \n        \n        Person person2 = new Person();\n        person2.setId(223);\n        person2.setFirstName(&quot;FirstName2&quot;);\n        person2.setLastName(&quot;LastName2&quot;);\n    \n    \n        Employee emp2 = new Employee();\n        emp2.setPerson(person2);\n        emp2.setPosition(&quot;Tester2&quot;);\n        emp2.setSalary(2000);\n        \n        //how can I compare the emp1 and emp2 without the compareTo() inside the Employee class.\n        \n        \n    }\n}\n\npublic class Person{\n    private int id;\n    private String firstName;\n    private String lastName;\n}\n\npublic class Employee{\n    private Person person;\n    private String position;\n    private double salary;\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","sbt"],"answers":[{"tags":[],"owner":{"account_id":17158996,"reputation":99,"user_id":12419123,"display_name":"Rahul Sahoo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679393665,"creation_date":1679393665,"answer_id":75799853,"question_id":75799038,"body_markdown":"This `NoSuchMethodError` occurs mostly on code compiled using a different version of scala. If the Scala version used to compile your code is different from the scala version that is used to compile the Spark (scala version used by spark-submit) then there is a chance that you might be having `NoSuchMethodError` due to that.\r\n\r\nPlease check both the scala versions. For your case, it should be 2.13 for both.\r\n\r\nAlso additionally don&#39;t include Spark in your compiled jar.\r\n\r\n**build.sbt**\r\n```\r\nname := &quot;FindRetiredPeople&quot;\r\nversion := &quot;1.0&quot;\r\nscalaVersion := &quot;2.13.10&quot;\r\nlibraryDependencies ++= Seq(\r\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot; % &quot;provided&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot; % &quot;provided&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\r\n)\r\n```\r\nDo let me know if it helps.","title":"Spark app in Scala 2.13 failed with: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError","body":"<p>This <code>NoSuchMethodError</code> occurs mostly on code compiled using a different version of scala. If the Scala version used to compile your code is different from the scala version that is used to compile the Spark (scala version used by spark-submit) then there is a chance that you might be having <code>NoSuchMethodError</code> due to that.</p>\n<p>Please check both the scala versions. For your case, it should be 2.13 for both.</p>\n<p>Also additionally don't include Spark in your compiled jar.</p>\n<p><strong>build.sbt</strong></p>\n<pre><code>name := &quot;FindRetiredPeople&quot;\nversion := &quot;1.0&quot;\nscalaVersion := &quot;2.13.10&quot;\nlibraryDependencies ++= Seq(\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot; % &quot;provided&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot; % &quot;provided&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\n)\n</code></pre>\n<p>Do let me know if it helps.</p>\n"}],"owner":{"account_id":2273748,"reputation":46601,"user_id":2000548,"accept_rate":92,"display_name":"Hongbo Miao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75799853,"answer_count":1,"score":0,"last_activity_date":1679393665,"creation_date":1679388896,"question_id":75799038,"body_markdown":"I have a very simple Spark app in Scala.\r\n\r\nI am using\r\n\r\n- Spark 3.3.2\r\n- sbt 1.8.2\r\n- Java: tried both 11 and 17 for below experiments\r\n\r\n**src/main/scala/FindRetiredPeople.scala**\r\n\r\n```scala\r\nimport org.apache.spark.sql.{DataFrame, SparkSession}\r\n\r\nobject FindRetiredPeople {\r\n  def main(args: Array[String]): Unit = {\r\n    val people = Seq(\r\n      (1, &quot;Alice&quot;, 25),\r\n      (2, &quot;Bob&quot;, 30),\r\n      (3, &quot;Charlie&quot;, 80),\r\n      (4, &quot;Dave&quot;, 40),\r\n      (5, &quot;Eve&quot;, 45)\r\n    )\r\n\r\n    val spark: SparkSession = SparkSession.builder()\r\n      .master(&quot;local[*]&quot;)\r\n      .appName(&quot;find-retired-people&quot;)\r\n      .config(&quot;spark.ui.port&quot;, &quot;4040&quot;)\r\n      .getOrCreate()\r\n\r\n    import spark.implicits._\r\n    val df: DataFrame = people.toDF(&quot;id&quot;, &quot;name&quot;, &quot;age&quot;)\r\n    df.createOrReplaceTempView(&quot;people&quot;)\r\n\r\n    val retiredPeople: DataFrame = spark.sql(&quot;SELECT name, age FROM people WHERE age &gt;= 67&quot;)\r\n    retiredPeople.show()\r\n\r\n    spark.stop()\r\n  }\r\n}\r\n```\r\n\r\n## Scala 2.12 (Succeed both for `sbt run` and `spark-submit`)\r\n\r\nWhen I am using Scala 2.12\r\n\r\n**build.sbt**\r\n\r\n```sbt\r\nname := &quot;FindRetiredPeople&quot;\r\nversion := &quot;1.0&quot;\r\nscalaVersion := &quot;2.12.17&quot;\r\nlibraryDependencies ++= Seq(\r\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\r\n)\r\n```\r\n\r\nI can successfully run\r\n\r\n```shell\r\nsbt package\r\nsbt run\r\n```\r\n\r\nand also\r\n\r\n```shell\r\nspark-submit \\\r\n\t--class=FindRetiredPeople \\\r\n\t--master=&quot;local[*]&quot; \\\r\n\ttarget/scala-2.12/findretiredpeople_2.12-1.0.jar\r\n```\r\n\r\n`spark-submit` will print log:\r\n\r\n```shell\r\n23/03/21 01:59:23 INFO SparkContext: Running Spark version 3.3.2\r\n23/03/21 01:59:23 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/03/21 01:59:23 INFO ResourceUtils: ==============================================================\r\n23/03/21 01:59:23 INFO ResourceUtils: No custom resources configured for spark.driver.\r\n23/03/21 01:59:23 INFO ResourceUtils: ==============================================================\r\n23/03/21 01:59:23 INFO SparkContext: Submitted application: find-retired-people\r\n23/03/21 01:59:23 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\r\n23/03/21 01:59:23 INFO ResourceProfile: Limiting resource is cpu\r\n23/03/21 01:59:23 INFO ResourceProfileManager: Added ResourceProfile id: 0\r\n23/03/21 01:59:23 INFO SecurityManager: Changing view acls to: hongbo-miao\r\n23/03/21 01:59:23 INFO SecurityManager: Changing modify acls to: hongbo-miao\r\n23/03/21 01:59:23 INFO SecurityManager: Changing view acls groups to: \r\n23/03/21 01:59:23 INFO SecurityManager: Changing modify acls groups to: \r\n23/03/21 01:59:23 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(hongbo-miao); groups with view permissions: Set(); users  with modify permissions: Set(hongbo-miao); groups with modify permissions: Set()\r\n23/03/21 01:59:23 INFO Utils: Successfully started service &#39;sparkDriver&#39; on port 57085.\r\n23/03/21 01:59:23 INFO SparkEnv: Registering MapOutputTracker\r\n23/03/21 01:59:23 INFO SparkEnv: Registering BlockManagerMaster\r\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\r\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\r\n23/03/21 01:59:23 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\r\n23/03/21 01:59:23 INFO DiskBlockManager: Created local directory at /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/blockmgr-719fedfe-99ac-4399-aaf2-c561f236c487\r\n23/03/21 01:59:23 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\r\n23/03/21 01:59:23 INFO SparkEnv: Registering OutputCommitCoordinator\r\n23/03/21 01:59:23 INFO Utils: Successfully started service &#39;SparkUI&#39; on port 4040.\r\n23/03/21 01:59:23 INFO SparkContext: Added JAR file:/Users/hongbo-miao/find-retired-people-scala/target/scala-2.12/findretiredpeople_2.12-1.0.jar at spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar with timestamp 1679389163209\r\n23/03/21 01:59:23 INFO Executor: Starting executor ID driver on host 10.37.129.2\r\n23/03/21 01:59:23 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): &#39;&#39;\r\n23/03/21 01:59:23 INFO Executor: Fetching spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar with timestamp 1679389163209\r\n23/03/21 01:59:23 INFO TransportClientFactory: Successfully created connection to /10.37.129.2:57085 after 14 ms (0 ms spent in bootstraps)\r\n23/03/21 01:59:23 INFO Utils: Fetching spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar to /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3/userFiles-5001866c-99f0-47e2-a6a6-d84091d20a8f/fetchFileTemp16516278909384835567.tmp\r\n23/03/21 01:59:23 INFO Executor: Adding file:/private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3/userFiles-5001866c-99f0-47e2-a6a6-d84091d20a8f/findretiredpeople_2.12-1.0.jar to class loader\r\n23/03/21 01:59:23 INFO Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 57087.\r\n23/03/21 01:59:23 INFO NettyBlockTransferService: Server created on 10.37.129.2:57087\r\n23/03/21 01:59:23 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n23/03/21 01:59:23 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 10.37.129.2, 57087, None)\r\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: Registering block manager 10.37.129.2:57087 with 434.4 MiB RAM, BlockManagerId(driver, 10.37.129.2, 57087, None)\r\n23/03/21 01:59:23 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 10.37.129.2, 57087, None)\r\n23/03/21 01:59:23 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, 10.37.129.2, 57087, None)\r\n23/03/21 01:59:24 INFO SharedState: Setting hive.metastore.warehouse.dir (&#39;null&#39;) to the value of spark.sql.warehouse.dir.\r\n23/03/21 01:59:24 INFO SharedState: Warehouse path is &#39;file:/Users/hongbo-miao/find-retired-people-scala/spark-warehouse&#39;.\r\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 77.321 ms\r\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 3.580958 ms\r\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 7.1175 ms\r\n23/03/21 01:59:26 INFO CodeGenerator: Code generated in 6.165709 ms\r\n+-------+---+\r\n|   name|age|\r\n+-------+---+\r\n|Charlie| 80|\r\n+-------+---+\r\n\r\n23/03/21 01:59:26 INFO SparkUI: Stopped Spark web UI at http://10.37.129.2:4040\r\n23/03/21 01:59:26 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n23/03/21 01:59:26 INFO MemoryStore: MemoryStore cleared\r\n23/03/21 01:59:26 INFO BlockManager: BlockManager stopped\r\n23/03/21 01:59:26 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n23/03/21 01:59:26 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n23/03/21 01:59:26 INFO SparkContext: Successfully stopped SparkContext\r\n23/03/21 01:59:26 INFO ShutdownHookManager: Shutdown hook called\r\n23/03/21 01:59:26 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-3c8e7833-ca25-4178-ad2e-d32b8842ff0a\r\n23/03/21 01:59:26 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n## Scala 2.13 (Succeed for `sbt run`, but failed for `spark-submit`)\r\n\r\nHowever, if I use scala version 2.13:\r\n\r\n**build.sbt**\r\n\r\n```\r\nname := &quot;FindRetiredPeople&quot;\r\nversion := &quot;1.0&quot;\r\nscalaVersion := &quot;2.13.10&quot;\r\nlibraryDependencies ++= Seq(\r\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\r\n)\r\n```\r\n\r\nI can still successfully run\r\n\r\n```shell\r\nsbt package\r\nsbt run\r\n```\r\n\r\nbut this\r\n\r\n```shell\r\nspark-submit \\\r\n\t--class=FindRetiredPeople \\\r\n\t--master=&quot;local[*]&quot; \\\r\n\ttarget/scala-2.13/findretiredpeople_2.13-1.0.jar\r\n```\r\n\r\nwill throw exception:\r\n\r\n```shell\r\n23/03/21 01:39:31 INFO SparkContext: Running Spark version 3.3.2\r\n23/03/21 01:39:31 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/03/21 01:39:31 INFO ResourceUtils: ==============================================================\r\n23/03/21 01:39:31 INFO ResourceUtils: No custom resources configured for spark.driver.\r\n23/03/21 01:39:31 INFO ResourceUtils: ==============================================================\r\n23/03/21 01:39:31 INFO SparkContext: Submitted application: find-retired-people\r\n23/03/21 01:39:31 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\r\n23/03/21 01:39:31 INFO ResourceProfile: Limiting resource is cpu\r\n23/03/21 01:39:31 INFO ResourceProfileManager: Added ResourceProfile id: 0\r\n23/03/21 01:39:31 INFO SecurityManager: Changing view acls to: hongbo-miao\r\n23/03/21 01:39:31 INFO SecurityManager: Changing modify acls to: hongbo-miao\r\n23/03/21 01:39:31 INFO SecurityManager: Changing view acls groups to: \r\n23/03/21 01:39:31 INFO SecurityManager: Changing modify acls groups to: \r\n23/03/21 01:39:31 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(hongbo-miao); groups with view permissions: Set(); users  with modify permissions: Set(hongbo-miao); groups with modify permissions: Set()\r\n23/03/21 01:39:31 INFO Utils: Successfully started service &#39;sparkDriver&#39; on port 56517.\r\n23/03/21 01:39:31 INFO SparkEnv: Registering MapOutputTracker\r\n23/03/21 01:39:31 INFO SparkEnv: Registering BlockManagerMaster\r\n23/03/21 01:39:31 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\r\n23/03/21 01:39:31 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\r\n23/03/21 01:39:31 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\r\n23/03/21 01:39:31 INFO DiskBlockManager: Created local directory at /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/blockmgr-7a60f8cd-54ff-464c-affc-8d9e90cb233f\r\n23/03/21 01:39:31 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\r\n23/03/21 01:39:31 INFO SparkEnv: Registering OutputCommitCoordinator\r\n23/03/21 01:39:31 INFO Utils: Successfully started service &#39;SparkUI&#39; on port 4040.\r\n23/03/21 01:39:31 INFO SparkContext: Added JAR file:/Users/hongbo-miao/find-retired-people-scala/target/scala-2.13/findretiredpeople_2.13-1.0.jar at spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar with timestamp 1679387971368\r\n23/03/21 01:39:32 INFO Executor: Starting executor ID driver on host 10.37.129.2\r\n23/03/21 01:39:32 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): &#39;&#39;\r\n23/03/21 01:39:32 INFO Executor: Fetching spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar with timestamp 1679387971368\r\n23/03/21 01:39:32 INFO TransportClientFactory: Successfully created connection to /10.37.129.2:56517 after 12 ms (0 ms spent in bootstraps)\r\n23/03/21 01:39:32 INFO Utils: Fetching spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar to /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d/userFiles-d17d2628-db18-484a-9718-8a44d7292c3b/fetchFileTemp5844915920242526627.tmp\r\n23/03/21 01:39:32 INFO Executor: Adding file:/private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d/userFiles-d17d2628-db18-484a-9718-8a44d7292c3b/findretiredpeople_2.13-1.0.jar to class loader\r\n23/03/21 01:39:32 INFO Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 56519.\r\n23/03/21 01:39:32 INFO NettyBlockTransferService: Server created on 10.37.129.2:56519\r\n23/03/21 01:39:32 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n23/03/21 01:39:32 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 10.37.129.2, 56519, None)\r\n23/03/21 01:39:32 INFO BlockManagerMasterEndpoint: Registering block manager 10.37.129.2:56519 with 434.4 MiB RAM, BlockManagerId(driver, 10.37.129.2, 56519, None)\r\n23/03/21 01:39:32 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 10.37.129.2, 56519, None)\r\n23/03/21 01:39:32 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, 10.37.129.2, 56519, None)\r\n23/03/21 01:39:33 INFO SharedState: Setting hive.metastore.warehouse.dir (&#39;null&#39;) to the value of spark.sql.warehouse.dir.\r\n23/03/21 01:39:33 INFO SharedState: Warehouse path is &#39;file:/Users/hongbo-miao/find-retired-people-scala/spark-warehouse&#39;.\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;org.apache.spark.sql.DatasetHolder org.apache.spark.sql.SparkSession$implicits$.localSeqToDatasetHolder(scala.collection.immutable.Seq, org.apache.spark.sql.Encoder)&#39;\r\n\tat FindRetiredPeople$.main(FindRetiredPeople.scala:22)\r\n\tat FindRetiredPeople.main(FindRetiredPeople.scala)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n\tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:958)\r\n\tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n\tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n\tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n\tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\r\n\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\r\n\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n23/03/21 01:39:33 INFO SparkContext: Invoking stop() from shutdown hook\r\n23/03/21 01:39:33 INFO SparkUI: Stopped Spark web UI at http://10.37.129.2:4040\r\n23/03/21 01:39:33 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n23/03/21 01:39:33 INFO MemoryStore: MemoryStore cleared\r\n23/03/21 01:39:33 INFO BlockManager: BlockManager stopped\r\n23/03/21 01:39:33 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n23/03/21 01:39:33 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n23/03/21 01:39:33 INFO SparkContext: Successfully stopped SparkContext\r\n23/03/21 01:39:33 INFO ShutdownHookManager: Shutdown hook called\r\n23/03/21 01:39:33 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d\r\n23/03/21 01:39:33 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-8709497e-302d-4e1b-8eb2-2a1b8f77edfe\r\nmake: *** [spark-submit-local] Error 1\r\n```\r\n\r\nWhat does above exception really mean?\r\n\r\nI do see Spark [officially supports Scala 2.13](https://spark.apache.org/docs/latest/index.html#downloading):\r\n\r\n&gt; Spark runs on Java 8/11/17, Scala 2.12/2.13, Python 3.7+ and R 3.5+.\r\n&gt;\r\n&gt; When using the Scala API, it is necessary for applications to use the same version of Scala that Spark was compiled for. For example, when using Scala 2.13, use Spark compiled for 2.13, and compile code/applications for Scala 2.13 as well.\r\n\r\nAny guide would be appreciate, thanks!","title":"Spark app in Scala 2.13 failed with: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError","body":"<p>I have a very simple Spark app in Scala.</p>\n<p>I am using</p>\n<ul>\n<li>Spark 3.3.2</li>\n<li>sbt 1.8.2</li>\n<li>Java: tried both 11 and 17 for below experiments</li>\n</ul>\n<p><strong>src/main/scala/FindRetiredPeople.scala</strong></p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.{DataFrame, SparkSession}\n\nobject FindRetiredPeople {\n  def main(args: Array[String]): Unit = {\n    val people = Seq(\n      (1, &quot;Alice&quot;, 25),\n      (2, &quot;Bob&quot;, 30),\n      (3, &quot;Charlie&quot;, 80),\n      (4, &quot;Dave&quot;, 40),\n      (5, &quot;Eve&quot;, 45)\n    )\n\n    val spark: SparkSession = SparkSession.builder()\n      .master(&quot;local[*]&quot;)\n      .appName(&quot;find-retired-people&quot;)\n      .config(&quot;spark.ui.port&quot;, &quot;4040&quot;)\n      .getOrCreate()\n\n    import spark.implicits._\n    val df: DataFrame = people.toDF(&quot;id&quot;, &quot;name&quot;, &quot;age&quot;)\n    df.createOrReplaceTempView(&quot;people&quot;)\n\n    val retiredPeople: DataFrame = spark.sql(&quot;SELECT name, age FROM people WHERE age &gt;= 67&quot;)\n    retiredPeople.show()\n\n    spark.stop()\n  }\n}\n</code></pre>\n<h2>Scala 2.12 (Succeed both for <code>sbt run</code> and <code>spark-submit</code>)</h2>\n<p>When I am using Scala 2.12</p>\n<p><strong>build.sbt</strong></p>\n<pre><code>name := &quot;FindRetiredPeople&quot;\nversion := &quot;1.0&quot;\nscalaVersion := &quot;2.12.17&quot;\nlibraryDependencies ++= Seq(\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\n)\n</code></pre>\n<p>I can successfully run</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sbt package\nsbt run\n</code></pre>\n<p>and also</p>\n<pre class=\"lang-bash prettyprint-override\"><code>spark-submit \\\n    --class=FindRetiredPeople \\\n    --master=&quot;local[*]&quot; \\\n    target/scala-2.12/findretiredpeople_2.12-1.0.jar\n</code></pre>\n<p><code>spark-submit</code> will print log:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>23/03/21 01:59:23 INFO SparkContext: Running Spark version 3.3.2\n23/03/21 01:59:23 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/03/21 01:59:23 INFO ResourceUtils: ==============================================================\n23/03/21 01:59:23 INFO ResourceUtils: No custom resources configured for spark.driver.\n23/03/21 01:59:23 INFO ResourceUtils: ==============================================================\n23/03/21 01:59:23 INFO SparkContext: Submitted application: find-retired-people\n23/03/21 01:59:23 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\n23/03/21 01:59:23 INFO ResourceProfile: Limiting resource is cpu\n23/03/21 01:59:23 INFO ResourceProfileManager: Added ResourceProfile id: 0\n23/03/21 01:59:23 INFO SecurityManager: Changing view acls to: hongbo-miao\n23/03/21 01:59:23 INFO SecurityManager: Changing modify acls to: hongbo-miao\n23/03/21 01:59:23 INFO SecurityManager: Changing view acls groups to: \n23/03/21 01:59:23 INFO SecurityManager: Changing modify acls groups to: \n23/03/21 01:59:23 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(hongbo-miao); groups with view permissions: Set(); users  with modify permissions: Set(hongbo-miao); groups with modify permissions: Set()\n23/03/21 01:59:23 INFO Utils: Successfully started service 'sparkDriver' on port 57085.\n23/03/21 01:59:23 INFO SparkEnv: Registering MapOutputTracker\n23/03/21 01:59:23 INFO SparkEnv: Registering BlockManagerMaster\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\n23/03/21 01:59:23 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\n23/03/21 01:59:23 INFO DiskBlockManager: Created local directory at /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/blockmgr-719fedfe-99ac-4399-aaf2-c561f236c487\n23/03/21 01:59:23 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\n23/03/21 01:59:23 INFO SparkEnv: Registering OutputCommitCoordinator\n23/03/21 01:59:23 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n23/03/21 01:59:23 INFO SparkContext: Added JAR file:/Users/hongbo-miao/find-retired-people-scala/target/scala-2.12/findretiredpeople_2.12-1.0.jar at spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar with timestamp 1679389163209\n23/03/21 01:59:23 INFO Executor: Starting executor ID driver on host 10.37.129.2\n23/03/21 01:59:23 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): ''\n23/03/21 01:59:23 INFO Executor: Fetching spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar with timestamp 1679389163209\n23/03/21 01:59:23 INFO TransportClientFactory: Successfully created connection to /10.37.129.2:57085 after 14 ms (0 ms spent in bootstraps)\n23/03/21 01:59:23 INFO Utils: Fetching spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar to /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3/userFiles-5001866c-99f0-47e2-a6a6-d84091d20a8f/fetchFileTemp16516278909384835567.tmp\n23/03/21 01:59:23 INFO Executor: Adding file:/private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3/userFiles-5001866c-99f0-47e2-a6a6-d84091d20a8f/findretiredpeople_2.12-1.0.jar to class loader\n23/03/21 01:59:23 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 57087.\n23/03/21 01:59:23 INFO NettyBlockTransferService: Server created on 10.37.129.2:57087\n23/03/21 01:59:23 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n23/03/21 01:59:23 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 10.37.129.2, 57087, None)\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: Registering block manager 10.37.129.2:57087 with 434.4 MiB RAM, BlockManagerId(driver, 10.37.129.2, 57087, None)\n23/03/21 01:59:23 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 10.37.129.2, 57087, None)\n23/03/21 01:59:23 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, 10.37.129.2, 57087, None)\n23/03/21 01:59:24 INFO SharedState: Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir.\n23/03/21 01:59:24 INFO SharedState: Warehouse path is 'file:/Users/hongbo-miao/find-retired-people-scala/spark-warehouse'.\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 77.321 ms\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 3.580958 ms\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 7.1175 ms\n23/03/21 01:59:26 INFO CodeGenerator: Code generated in 6.165709 ms\n+-------+---+\n|   name|age|\n+-------+---+\n|Charlie| 80|\n+-------+---+\n\n23/03/21 01:59:26 INFO SparkUI: Stopped Spark web UI at http://10.37.129.2:4040\n23/03/21 01:59:26 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n23/03/21 01:59:26 INFO MemoryStore: MemoryStore cleared\n23/03/21 01:59:26 INFO BlockManager: BlockManager stopped\n23/03/21 01:59:26 INFO BlockManagerMaster: BlockManagerMaster stopped\n23/03/21 01:59:26 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n23/03/21 01:59:26 INFO SparkContext: Successfully stopped SparkContext\n23/03/21 01:59:26 INFO ShutdownHookManager: Shutdown hook called\n23/03/21 01:59:26 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-3c8e7833-ca25-4178-ad2e-d32b8842ff0a\n23/03/21 01:59:26 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3\n\nProcess finished with exit code 0\n</code></pre>\n<h2>Scala 2.13 (Succeed for <code>sbt run</code>, but failed for <code>spark-submit</code>)</h2>\n<p>However, if I use scala version 2.13:</p>\n<p><strong>build.sbt</strong></p>\n<pre><code>name := &quot;FindRetiredPeople&quot;\nversion := &quot;1.0&quot;\nscalaVersion := &quot;2.13.10&quot;\nlibraryDependencies ++= Seq(\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\n)\n</code></pre>\n<p>I can still successfully run</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sbt package\nsbt run\n</code></pre>\n<p>but this</p>\n<pre class=\"lang-bash prettyprint-override\"><code>spark-submit \\\n    --class=FindRetiredPeople \\\n    --master=&quot;local[*]&quot; \\\n    target/scala-2.13/findretiredpeople_2.13-1.0.jar\n</code></pre>\n<p>will throw exception:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>23/03/21 01:39:31 INFO SparkContext: Running Spark version 3.3.2\n23/03/21 01:39:31 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/03/21 01:39:31 INFO ResourceUtils: ==============================================================\n23/03/21 01:39:31 INFO ResourceUtils: No custom resources configured for spark.driver.\n23/03/21 01:39:31 INFO ResourceUtils: ==============================================================\n23/03/21 01:39:31 INFO SparkContext: Submitted application: find-retired-people\n23/03/21 01:39:31 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\n23/03/21 01:39:31 INFO ResourceProfile: Limiting resource is cpu\n23/03/21 01:39:31 INFO ResourceProfileManager: Added ResourceProfile id: 0\n23/03/21 01:39:31 INFO SecurityManager: Changing view acls to: hongbo-miao\n23/03/21 01:39:31 INFO SecurityManager: Changing modify acls to: hongbo-miao\n23/03/21 01:39:31 INFO SecurityManager: Changing view acls groups to: \n23/03/21 01:39:31 INFO SecurityManager: Changing modify acls groups to: \n23/03/21 01:39:31 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(hongbo-miao); groups with view permissions: Set(); users  with modify permissions: Set(hongbo-miao); groups with modify permissions: Set()\n23/03/21 01:39:31 INFO Utils: Successfully started service 'sparkDriver' on port 56517.\n23/03/21 01:39:31 INFO SparkEnv: Registering MapOutputTracker\n23/03/21 01:39:31 INFO SparkEnv: Registering BlockManagerMaster\n23/03/21 01:39:31 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\n23/03/21 01:39:31 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\n23/03/21 01:39:31 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\n23/03/21 01:39:31 INFO DiskBlockManager: Created local directory at /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/blockmgr-7a60f8cd-54ff-464c-affc-8d9e90cb233f\n23/03/21 01:39:31 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\n23/03/21 01:39:31 INFO SparkEnv: Registering OutputCommitCoordinator\n23/03/21 01:39:31 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n23/03/21 01:39:31 INFO SparkContext: Added JAR file:/Users/hongbo-miao/find-retired-people-scala/target/scala-2.13/findretiredpeople_2.13-1.0.jar at spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar with timestamp 1679387971368\n23/03/21 01:39:32 INFO Executor: Starting executor ID driver on host 10.37.129.2\n23/03/21 01:39:32 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): ''\n23/03/21 01:39:32 INFO Executor: Fetching spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar with timestamp 1679387971368\n23/03/21 01:39:32 INFO TransportClientFactory: Successfully created connection to /10.37.129.2:56517 after 12 ms (0 ms spent in bootstraps)\n23/03/21 01:39:32 INFO Utils: Fetching spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar to /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d/userFiles-d17d2628-db18-484a-9718-8a44d7292c3b/fetchFileTemp5844915920242526627.tmp\n23/03/21 01:39:32 INFO Executor: Adding file:/private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d/userFiles-d17d2628-db18-484a-9718-8a44d7292c3b/findretiredpeople_2.13-1.0.jar to class loader\n23/03/21 01:39:32 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 56519.\n23/03/21 01:39:32 INFO NettyBlockTransferService: Server created on 10.37.129.2:56519\n23/03/21 01:39:32 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n23/03/21 01:39:32 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 10.37.129.2, 56519, None)\n23/03/21 01:39:32 INFO BlockManagerMasterEndpoint: Registering block manager 10.37.129.2:56519 with 434.4 MiB RAM, BlockManagerId(driver, 10.37.129.2, 56519, None)\n23/03/21 01:39:32 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 10.37.129.2, 56519, None)\n23/03/21 01:39:32 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, 10.37.129.2, 56519, None)\n23/03/21 01:39:33 INFO SharedState: Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir.\n23/03/21 01:39:33 INFO SharedState: Warehouse path is 'file:/Users/hongbo-miao/find-retired-people-scala/spark-warehouse'.\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: 'org.apache.spark.sql.DatasetHolder org.apache.spark.sql.SparkSession$implicits$.localSeqToDatasetHolder(scala.collection.immutable.Seq, org.apache.spark.sql.Encoder)'\n    at FindRetiredPeople$.main(FindRetiredPeople.scala:22)\n    at FindRetiredPeople.main(FindRetiredPeople.scala)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:958)\n    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n23/03/21 01:39:33 INFO SparkContext: Invoking stop() from shutdown hook\n23/03/21 01:39:33 INFO SparkUI: Stopped Spark web UI at http://10.37.129.2:4040\n23/03/21 01:39:33 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n23/03/21 01:39:33 INFO MemoryStore: MemoryStore cleared\n23/03/21 01:39:33 INFO BlockManager: BlockManager stopped\n23/03/21 01:39:33 INFO BlockManagerMaster: BlockManagerMaster stopped\n23/03/21 01:39:33 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n23/03/21 01:39:33 INFO SparkContext: Successfully stopped SparkContext\n23/03/21 01:39:33 INFO ShutdownHookManager: Shutdown hook called\n23/03/21 01:39:33 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d\n23/03/21 01:39:33 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-8709497e-302d-4e1b-8eb2-2a1b8f77edfe\nmake: *** [spark-submit-local] Error 1\n</code></pre>\n<p>What does above exception really mean?</p>\n<p>I do see Spark <a href=\"https://spark.apache.org/docs/latest/index.html#downloading\" rel=\"nofollow noreferrer\">officially supports Scala 2.13</a>:</p>\n<blockquote>\n<p>Spark runs on Java 8/11/17, Scala 2.12/2.13, Python 3.7+ and R 3.5+.</p>\n<p>When using the Scala API, it is necessary for applications to use the same version of Scala that Spark was compiled for. For example, when using Scala 2.13, use Spark compiled for 2.13, and compile code/applications for Scala 2.13 as well.</p>\n</blockquote>\n<p>Any guide would be appreciate, thanks!</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":15336345,"reputation":26,"user_id":11064572,"display_name":"elijahbus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679393469,"creation_date":1679393469,"answer_id":75799821,"question_id":75749463,"body_markdown":"Do you have default / no args constructors in your serializable classes, I wouldn&#39;t opt for serializing the entity but the column in the entity class instead. \r\n\r\nYou may find more about working with json types with spring in this article by Vlad [https://vladmihalcea.com/java-map-json-jpa-hibernate/][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/java-map-json-jpa-hibernate/","title":"Unable to extract JDBC value for position `4`","body":"<p>Do you have default / no args constructors in your serializable classes, I wouldn't opt for serializing the entity but the column in the entity class instead.</p>\n<p>You may find more about working with json types with spring in this article by Vlad <a href=\"https://vladmihalcea.com/java-map-json-jpa-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/java-map-json-jpa-hibernate/</a></p>\n"}],"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75799821,"answer_count":1,"score":0,"last_activity_date":1679393469,"creation_date":1678910000,"question_id":75749463,"body_markdown":"In the whole internet there is only two discussions about this problem where this one is usefull\r\nhttps://stackoverflow.com/questions/75326450/spring-boot-jpa-error-unable-to-extract-jdbc-value-for-position-7\r\nand from this one i tryed everything and still get nothing\r\nhttps://stackoverflow.com/questions/75152001/unable-to-extract-jdbc-value-for-position-3\r\nWhen i try to get all my measurements from db in json format, everything ruins to this error\r\n```\r\n2023-03-15T22:42:16.243+03:00 ERROR 952 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to extract JDBC value for position `4`] with root cause\r\n\r\nI am own of hands rn. Is there a really good explanation to this problem\r\n\r\norg.postgresql.util.PSQLException: Bad value for type int : RainSensor\r\n```\r\n\r\nHere is my whole project\r\n\r\nmeasurementDTO\r\n```\r\npublic class MeasurementDTO {\r\n    private float value;\r\n    private boolean raining;\r\n    @JsonBackReference\r\n    private Sensor sensor;\r\n\r\n    public MeasurementDTO()\r\n    {\r\n\r\n    }\r\n\r\n    public MeasurementDTO(float value, boolean raining) {\r\n        this.value = value;\r\n        this.raining = raining;\r\n    }\r\n\r\n    public float getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(float value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public boolean isRaining() {\r\n        return raining;\r\n    }\r\n\r\n    public void setRaining(boolean raining) {\r\n        this.raining = raining;\r\n    }\r\n    @JsonBackReference\r\n    public Sensor getSensor() {\r\n        return sensor;\r\n    }\r\n\r\n    public void setSensor(Sensor sensor) {\r\n        this.sensor = sensor;\r\n    }\r\n\r\n```\r\nmeasurement\r\n```\r\n@Entity\r\n@Table(name = &quot;measurement&quot;)\r\npublic class Measurement implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n    @Column(name = &quot;value&quot;)\r\n    private float value;\r\n\r\n    @Column(name=&quot;raining&quot;)\r\n    private boolean raining;\r\n    @JsonBackReference\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinColumn(name=&quot;sensor&quot;)\r\n    private Sensor sensor;\r\n\r\n    @Column(name = &quot;current&quot;)\r\n    private LocalDateTime current;\r\n\r\n    public Measurement() {\r\n\r\n    }\r\n\r\n    public Measurement(float value, boolean raining) {\r\n        this.value = value;\r\n        this.raining = raining;\r\n    }\r\n\r\n    public LocalDateTime getCurrent() {return current;}\r\n\r\n    public void setCurrent(LocalDateTime current) {this.current = current;}\r\n\r\n    public float getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(float value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public boolean isRaining() {\r\n        return raining;\r\n    }\r\n\r\n    public void setRaining(boolean raining) {\r\n        this.raining = raining;\r\n    }\r\n    @JsonBackReference\r\n    public Sensor getSensor() {\r\n        return sensor;\r\n    }\r\n\r\n    public void setSensor(Sensor sensor) {\r\n        this.sensor = sensor;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n```\r\nsensorDTO\r\n```\r\npublic class SensorDTO {\r\n\r\n    @NotEmpty(message = &quot;Sensor&#39;s name can&#39;t be empty&quot;)\r\n    @Size(min = 3,max = 250,message = &quot;Amount of characters have to be between 3 and 250&quot;)\r\n    @NaturalId\r\n    private String name;\r\n\r\n    public SensorDTO(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public SensorDTO(){\r\n\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n```\r\nsensor\r\n```\r\n@Entity\r\n@Table(name = &quot;Sensor&quot;)\r\npublic class Sensor implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @NotEmpty(message = &quot;Sensor&#39;s name can&#39;t be empty&quot;)\r\n    @Size(min = 3,max = 250,message = &quot;Amount of characters have to be between 3 and 250&quot;)\r\n    @Column(name = &quot;name&quot;)\r\n    @NaturalId\r\n    private String name;\r\n\r\n    @JsonManagedReference\r\n    @OneToMany(mappedBy = &quot;sensor&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;Measurement&gt; measurements;\r\n\r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    private LocalDateTime created_at;\r\n\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private LocalDateTime updated_at;\r\n\r\n    public Sensor(){\r\n\r\n    }\r\n    public Sensor(String name) {\r\n        this.name = name;\r\n    }\r\n```\r\nMeasurment Controller\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/measurements&quot;)\r\npublic class MeasurementController {\r\n\r\n    private final MeasurementService measurementService;\r\n    private final ModelMapper modelMapper;\r\n\r\n    @Autowired\r\n    public MeasurementController(MeasurementService measurementService, ModelMapper modelMapper){\r\n        this.measurementService = measurementService;\r\n        this.modelMapper = modelMapper;\r\n    }\r\n\r\n    @GetMapping\r\n    private List&lt;MeasurementDTO&gt; getMeasurements(){\r\n        return measurementService.getAllMeasurements().\r\n                stream().\r\n                map(this::convertToMeasurementDTO).\r\n                collect(Collectors.toList());\r\n    }\r\n    @GetMapping(&quot;/{sensor}&quot;)\r\n    private MeasurementDTO getMeasurement(@PathVariable String sensor){\r\n\r\n        Measurement foundMeas = measurementService.getMeasurement(sensor);\r\n        return convertToMeasurementDTO(foundMeas);\r\n    }\r\n\r\n    @RequestMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;HttpStatus&gt; addMeasurement(@RequestBody @Valid Measurement measurement,\r\n                                                     BindingResult bindingResult){\r\n        measurementService.addMeasurement(measurement);\r\n        return ResponseEntity.ok(HttpStatus.OK);\r\n    }\r\n\r\n    private Measurement convertToMeasurement(MeasurementDTO measurementDTO){\r\n        return modelMapper.map(measurementDTO, Measurement.class);\r\n    }\r\n\r\n    private MeasurementDTO convertToMeasurementDTO(Measurement measurement){\r\n        return modelMapper.map(measurement, MeasurementDTO.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Unable to extract JDBC value for position `4`","body":"<p>In the whole internet there is only two discussions about this problem where this one is usefull\n<a href=\"https://stackoverflow.com/questions/75326450/spring-boot-jpa-error-unable-to-extract-jdbc-value-for-position-7\">Spring Boot JPA error: Unable to extract JDBC value for position `7`</a>\nand from this one i tryed everything and still get nothing\n<a href=\"https://stackoverflow.com/questions/75152001/unable-to-extract-jdbc-value-for-position-3\">Unable to extract JDBC value for position `3`</a>\nWhen i try to get all my measurements from db in json format, everything ruins to this error</p>\n<pre><code>2023-03-15T22:42:16.243+03:00 ERROR 952 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to extract JDBC value for position `4`] with root cause\n\nI am own of hands rn. Is there a really good explanation to this problem\n\norg.postgresql.util.PSQLException: Bad value for type int : RainSensor\n</code></pre>\n<p>Here is my whole project</p>\n<p>measurementDTO</p>\n<pre><code>public class MeasurementDTO {\n    private float value;\n    private boolean raining;\n    @JsonBackReference\n    private Sensor sensor;\n\n    public MeasurementDTO()\n    {\n\n    }\n\n    public MeasurementDTO(float value, boolean raining) {\n        this.value = value;\n        this.raining = raining;\n    }\n\n    public float getValue() {\n        return value;\n    }\n\n    public void setValue(float value) {\n        this.value = value;\n    }\n\n    public boolean isRaining() {\n        return raining;\n    }\n\n    public void setRaining(boolean raining) {\n        this.raining = raining;\n    }\n    @JsonBackReference\n    public Sensor getSensor() {\n        return sensor;\n    }\n\n    public void setSensor(Sensor sensor) {\n        this.sensor = sensor;\n    }\n\n</code></pre>\n<p>measurement</p>\n<pre><code>@Entity\n@Table(name = &quot;measurement&quot;)\npublic class Measurement implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n    @Column(name = &quot;value&quot;)\n    private float value;\n\n    @Column(name=&quot;raining&quot;)\n    private boolean raining;\n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;sensor&quot;)\n    private Sensor sensor;\n\n    @Column(name = &quot;current&quot;)\n    private LocalDateTime current;\n\n    public Measurement() {\n\n    }\n\n    public Measurement(float value, boolean raining) {\n        this.value = value;\n        this.raining = raining;\n    }\n\n    public LocalDateTime getCurrent() {return current;}\n\n    public void setCurrent(LocalDateTime current) {this.current = current;}\n\n    public float getValue() {\n        return value;\n    }\n\n    public void setValue(float value) {\n        this.value = value;\n    }\n\n    public boolean isRaining() {\n        return raining;\n    }\n\n    public void setRaining(boolean raining) {\n        this.raining = raining;\n    }\n    @JsonBackReference\n    public Sensor getSensor() {\n        return sensor;\n    }\n\n    public void setSensor(Sensor sensor) {\n        this.sensor = sensor;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n</code></pre>\n<p>sensorDTO</p>\n<pre><code>public class SensorDTO {\n\n    @NotEmpty(message = &quot;Sensor's name can't be empty&quot;)\n    @Size(min = 3,max = 250,message = &quot;Amount of characters have to be between 3 and 250&quot;)\n    @NaturalId\n    private String name;\n\n    public SensorDTO(String name) {\n        this.name = name;\n    }\n\n    public SensorDTO(){\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n</code></pre>\n<p>sensor</p>\n<pre><code>@Entity\n@Table(name = &quot;Sensor&quot;)\npublic class Sensor implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @NotEmpty(message = &quot;Sensor's name can't be empty&quot;)\n    @Size(min = 3,max = 250,message = &quot;Amount of characters have to be between 3 and 250&quot;)\n    @Column(name = &quot;name&quot;)\n    @NaturalId\n    private String name;\n\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;sensor&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private List&lt;Measurement&gt; measurements;\n\n\n    @Column(name = &quot;created_at&quot;)\n    private LocalDateTime created_at;\n\n    @Column(name = &quot;updated_at&quot;)\n    private LocalDateTime updated_at;\n\n    public Sensor(){\n\n    }\n    public Sensor(String name) {\n        this.name = name;\n    }\n</code></pre>\n<p>Measurment Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/measurements&quot;)\npublic class MeasurementController {\n\n    private final MeasurementService measurementService;\n    private final ModelMapper modelMapper;\n\n    @Autowired\n    public MeasurementController(MeasurementService measurementService, ModelMapper modelMapper){\n        this.measurementService = measurementService;\n        this.modelMapper = modelMapper;\n    }\n\n    @GetMapping\n    private List&lt;MeasurementDTO&gt; getMeasurements(){\n        return measurementService.getAllMeasurements().\n                stream().\n                map(this::convertToMeasurementDTO).\n                collect(Collectors.toList());\n    }\n    @GetMapping(&quot;/{sensor}&quot;)\n    private MeasurementDTO getMeasurement(@PathVariable String sensor){\n\n        Measurement foundMeas = measurementService.getMeasurement(sensor);\n        return convertToMeasurementDTO(foundMeas);\n    }\n\n    @RequestMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;HttpStatus&gt; addMeasurement(@RequestBody @Valid Measurement measurement,\n                                                     BindingResult bindingResult){\n        measurementService.addMeasurement(measurement);\n        return ResponseEntity.ok(HttpStatus.OK);\n    }\n\n    private Measurement convertToMeasurement(MeasurementDTO measurementDTO){\n        return modelMapper.map(measurementDTO, Measurement.class);\n    }\n\n    private MeasurementDTO convertToMeasurementDTO(Measurement measurement){\n        return modelMapper.map(measurement, MeasurementDTO.class);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","junit","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679339156,"creation_date":1679339156,"answer_id":75794326,"question_id":75792903,"body_markdown":"The following is a minimal example.\r\n\r\nIn src/test/resources create application.yml containing the following:\r\n\r\n    someproperties:\r\n      urlmap:\r\n        dev:\r\n          url1 : http://something1.com\r\n          url2 : http://something2.com \r\n        qa:\r\n          url1 : http://something1.com\r\n          url2 : http://something2.com \r\n\r\nCreate a wrapper class for `someproperties`. I didn&#39;t use Lombok @Data for clarity:\r\n\r\n    package com.example.demo;\r\n    \r\n    import java.util.Map;\r\n    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    \r\n    @Component\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(prefix =&quot;someproperties&quot;)\r\n    public class SomeProperties {\r\n    \r\n    \tpublic Map&lt;String, Map&lt;String,String&gt;&gt; urlmap;\r\n    \r\n    \tpublic Map&lt;String, Map&lt;String, String&gt;&gt; getUrlmap() {\r\n    \t\treturn urlmap;\r\n    \t}\r\n    \r\n    \tpublic void setUrlmap(Map&lt;String, Map&lt;String, String&gt;&gt; urlmap) {\r\n    \t\tthis.urlmap = urlmap;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nReference `SomeProperties` from your `ConsumersClient` class:\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ConsumersClient {\r\n    \r\n    \t@Autowired\r\n    \tSomeProperties someProperties;\r\n    \t\r\n        public void demo() {\r\n            String uri = null;\r\n            \r\n    \r\n                uri = someProperties.getUrlmap().get(&quot;dev&quot;).get(&quot;url1&quot;);\r\n                \r\n                System.out.println(&quot;dev/url1: &quot; + uri);\r\n    \r\n                uri = someProperties.getUrlmap().get(&quot;prod&quot;).get(&quot;url2&quot;);\r\n     \r\n                System.out.println(&quot;prod/url2: &quot; + uri);\r\n        }\r\n    \r\n    }\r\n\r\nCreate a JUnit5 test as follows:\r\n\r\n    package com.example.demo;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    \r\n    @SpringBootTest\r\n    @TestPropertySource(locations = &quot;classpath:application.yml&quot;)\r\n    public class SomeClientTest {\r\n    \r\n    \t@Autowired\r\n    \tConsumersClient consumersClient;\r\n    \r\n        @Test\r\n        public void testGetSomething() throws IOException {\r\n        \tconsumersClient.demo();\r\n        }\r\n    }\r\n\r\nRun it\r\n \r\n[![test results][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yyg3o.png\r\n","title":"Configuring property map&lt;String , map&lt;string,string&gt;&gt; in spring junit","body":"<p>The following is a minimal example.</p>\n<p>In src/test/resources create application.yml containing the following:</p>\n<pre><code>someproperties:\n  urlmap:\n    dev:\n      url1 : http://something1.com\n      url2 : http://something2.com \n    qa:\n      url1 : http://something1.com\n      url2 : http://something2.com \n</code></pre>\n<p>Create a wrapper class for <code>someproperties</code>. I didn't use Lombok @Data for clarity:</p>\n<pre><code>package com.example.demo;\n\nimport java.util.Map;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.stereotype.Component;\n\n\n@Component\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix =&quot;someproperties&quot;)\npublic class SomeProperties {\n\n    public Map&lt;String, Map&lt;String,String&gt;&gt; urlmap;\n\n    public Map&lt;String, Map&lt;String, String&gt;&gt; getUrlmap() {\n        return urlmap;\n    }\n\n    public void setUrlmap(Map&lt;String, Map&lt;String, String&gt;&gt; urlmap) {\n        this.urlmap = urlmap;\n    }\n\n\n}\n</code></pre>\n<p>Reference <code>SomeProperties</code> from your <code>ConsumersClient</code> class:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ConsumersClient {\n\n    @Autowired\n    SomeProperties someProperties;\n    \n    public void demo() {\n        String uri = null;\n        \n\n            uri = someProperties.getUrlmap().get(&quot;dev&quot;).get(&quot;url1&quot;);\n            \n            System.out.println(&quot;dev/url1: &quot; + uri);\n\n            uri = someProperties.getUrlmap().get(&quot;prod&quot;).get(&quot;url2&quot;);\n \n            System.out.println(&quot;prod/url2: &quot; + uri);\n    }\n\n}\n</code></pre>\n<p>Create a JUnit5 test as follows:</p>\n<pre><code>package com.example.demo;\n\nimport java.io.IOException;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.TestPropertySource;\n\n@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application.yml&quot;)\npublic class SomeClientTest {\n\n    @Autowired\n    ConsumersClient consumersClient;\n\n    @Test\n    public void testGetSomething() throws IOException {\n        consumersClient.demo();\n    }\n}\n</code></pre>\n<p>Run it</p>\n<p><a href=\"https://i.stack.imgur.com/yyg3o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyg3o.png\" alt=\"test results\" /></a></p>\n"}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679393094,"creation_date":1679329753,"question_id":75792903,"body_markdown":"I have a client class that looks like this:\r\n```\r\n\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n@Data\r\n@ConfigurationProperties(prefix = &quot;someproperties&quot;)\r\npublic class SomeClient {\r\n\r\n    private final WebClient webclient;\r\n\r\n    public  Map&lt;String, Map&lt;String, String&gt;&gt; urlmap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;();\r\n\r\n  \r\n    public Mono&lt;ResponseEntity&lt;SomeResponse&gt;&gt; getSomeData(String resourceId, ServerWebExchange exchange) {\r\n        String uri = null;\r\n        \r\n        List&lt;String&gt; env = some-keys..;\r\n\r\n        if(!Objects.isNull(env))\r\n        {\r\n            uri = urlmap.get(env.get(0)).get(&quot;url1&quot;);\r\n        }\r\n        else\r\n        {\r\n            uri = urlmap.get(&quot;prod&quot;).get(&quot;url2&quot;);\r\n        }\r\n        \r\n\r\n\r\n       //and call the target sevice\r\n\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\nMy properties look like this:\r\n```\r\nsomeproperties:\r\n  urlmap:\r\n    dev:\r\n      url1 : http://something1.com\r\n      url2 : http://something2.com \r\n    qa:\r\n      url1 : http://something1.com\r\n      url2 : http://something2.com \r\n\r\n```\r\n\r\nWhen i run the app it works fine, but my junit fails with null pointer exception at:\r\nIt seems like the urlmap was not initialized\r\n```\r\n else\r\n        {\r\n            uri = urlmap.get(&quot;prod&quot;).get(&quot;url2&quot;);\r\n        }\r\n```\r\n\r\nIn order to get it working with the junits, i added annotations:\r\nMy junit looks like:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@EnableConfigurationProperties(value = SomeClient.class)\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n@ConfigurationProperties(prefix = &quot;someproperties&quot;)\r\npublic class SomeClientTest {\r\n\r\n    private static final String SOME_URL = &quot;/v2/something/{someid}/resource&quot;;\r\n\r\n    @InjectMocks\r\n    private SomeClient someClient;\r\n\r\n    @Mock\r\n    private CustomWebClient genericWebClient;\r\n\t\r\n    @Mock\r\n    private Map&lt;String, Map&lt;String,String&gt;&gt; urlMap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;();\r\n\r\n    @Test\r\n    public void testGetSomething() throws IOException {\r\n\\\r\n        Map&lt;String, Map&lt;String,String&gt;&gt; uriMap = generateUriMap();\r\n\r\n\r\n        String someID = &quot;jhfjhtf6&quot;;\r\n        Map&lt;String,String&gt; pathVars = new HashedMap&lt;&gt;();\r\n        pathVars.put(&quot;someId&quot;,someID);\r\n\r\n\r\n        when(genericWebClient.invoketarget(any(URI.class),any(), any(Class.class), any(HttpMethod.class),any(Some.class), // invoketarget is a custome method\r\n                anyBoolean(), any(Smething.class))).thenReturn(somemonoresponse);\r\n        when(someUtil.typeCastToMonoResponseEntity(any())).thenReturn(somemonoresponse);\r\n \r\n\r\n        Mono&lt;ResponseEntity&lt;somemonoresponse&gt;&gt; resp = someClient.getSomething(someID,webExchange);\r\n\r\n        StepVerifier.create(consumerIdInsights)\r\n                .consumeNextWith(response -&gt; {\r\n                    assertNotNull(response);\r\n                })\r\n                .verifyComplete();\r\n    }\r\n\r\n```\r\n\r\nHow should i mock/autowire/initialize this map ???\r\n\r\n","title":"Configuring property map&lt;String , map&lt;string,string&gt;&gt; in spring junit","body":"<p>I have a client class that looks like this:</p>\n<pre><code>\n\n@Configuration\n@RequiredArgsConstructor\n@Slf4j\n@Data\n@ConfigurationProperties(prefix = &quot;someproperties&quot;)\npublic class SomeClient {\n\n    private final WebClient webclient;\n\n    public  Map&lt;String, Map&lt;String, String&gt;&gt; urlmap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;();\n\n  \n    public Mono&lt;ResponseEntity&lt;SomeResponse&gt;&gt; getSomeData(String resourceId, ServerWebExchange exchange) {\n        String uri = null;\n        \n        List&lt;String&gt; env = some-keys..;\n\n        if(!Objects.isNull(env))\n        {\n            uri = urlmap.get(env.get(0)).get(&quot;url1&quot;);\n        }\n        else\n        {\n            uri = urlmap.get(&quot;prod&quot;).get(&quot;url2&quot;);\n        }\n        \n\n\n       //and call the target sevice\n\n    }\n\n\n\n</code></pre>\n<p>My properties look like this:</p>\n<pre><code>someproperties:\n  urlmap:\n    dev:\n      url1 : http://something1.com\n      url2 : http://something2.com \n    qa:\n      url1 : http://something1.com\n      url2 : http://something2.com \n\n</code></pre>\n<p>When i run the app it works fine, but my junit fails with null pointer exception at:\nIt seems like the urlmap was not initialized</p>\n<pre><code> else\n        {\n            uri = urlmap.get(&quot;prod&quot;).get(&quot;url2&quot;);\n        }\n</code></pre>\n<p>In order to get it working with the junits, i added annotations:\nMy junit looks like:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@EnableConfigurationProperties(value = SomeClient.class)\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@ConfigurationProperties(prefix = &quot;someproperties&quot;)\npublic class SomeClientTest {\n\n    private static final String SOME_URL = &quot;/v2/something/{someid}/resource&quot;;\n\n    @InjectMocks\n    private SomeClient someClient;\n\n    @Mock\n    private CustomWebClient genericWebClient;\n    \n    @Mock\n    private Map&lt;String, Map&lt;String,String&gt;&gt; urlMap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;();\n\n    @Test\n    public void testGetSomething() throws IOException {\n\\\n        Map&lt;String, Map&lt;String,String&gt;&gt; uriMap = generateUriMap();\n\n\n        String someID = &quot;jhfjhtf6&quot;;\n        Map&lt;String,String&gt; pathVars = new HashedMap&lt;&gt;();\n        pathVars.put(&quot;someId&quot;,someID);\n\n\n        when(genericWebClient.invoketarget(any(URI.class),any(), any(Class.class), any(HttpMethod.class),any(Some.class), // invoketarget is a custome method\n                anyBoolean(), any(Smething.class))).thenReturn(somemonoresponse);\n        when(someUtil.typeCastToMonoResponseEntity(any())).thenReturn(somemonoresponse);\n \n\n        Mono&lt;ResponseEntity&lt;somemonoresponse&gt;&gt; resp = someClient.getSomething(someID,webExchange);\n\n        StepVerifier.create(consumerIdInsights)\n                .consumeNextWith(response -&gt; {\n                    assertNotNull(response);\n                })\n                .verifyComplete();\n    }\n\n</code></pre>\n<p>How should i mock/autowire/initialize this map ???</p>\n"},{"tags":["java","benchmarking","jmh"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679392673,"creation_date":1679392673,"answer_id":75799687,"question_id":75757756,"body_markdown":"First of all, `-f` property is a number of forks, not files, so it must be `int` value.\r\nSecond, in your  particular case you could exclude `method3()` with `-e` flag:\r\n```sh\r\n$ java -jar target/benchmarks.jar -e package-name.TestBenchmark.method3\r\n```\r\nPay attention, that value of `-e` is regexp.\r\nFor debugging purposes you could use `-l` flag listing the benchmarks that match a filter, and exit.","title":"How to run only a few benchmark tests with a jar file in JMH?","body":"<p>First of all, <code>-f</code> property is a number of forks, not files, so it must be <code>int</code> value.\nSecond, in your  particular case you could exclude <code>method3()</code> with <code>-e</code> flag:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -jar target/benchmarks.jar -e package-name.TestBenchmark.method3\n</code></pre>\n<p>Pay attention, that value of <code>-e</code> is regexp.\nFor debugging purposes you could use <code>-l</code> flag listing the benchmarks that match a filter, and exit.</p>\n"}],"owner":{"account_id":10028461,"reputation":2371,"user_id":8720421,"display_name":"one-hand-octopus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679392673,"creation_date":1678977478,"question_id":75757756,"body_markdown":"I have the following JMH with 3 benchmark tests:\r\n```\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Fork(1)\r\n\r\n@State(Scope.Benchmark)\r\npublic class TestBenchmark {\r\n    private CW cw;\r\n\r\n    @Param({&quot;C:data.csv&quot;})\r\n    public String fileName;\r\n\r\n\r\n    @Param({&quot;100&quot;})\r\n    public int id;\r\n\r\n    @Setup\r\n    public void setup() {\r\n        cw = new CW(fileName);\r\n    }\r\n\r\n    @Benchmark\r\n    public void method1() {\r\n        cw.method1(id);\r\n    }\r\n\r\n    @Benchmark\r\n    public void method2() {\r\n        cw.method2(id);\r\n    }\r\n\r\n    @Benchmark\r\n    public void method3() {\r\n        cw.method3(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI ran `mvn clean install` to compile a benchmark.jar. Now I&#39;d like to only run benchmark tests for method1 and method2, not method3, how can I do it?\r\n\r\nI tried `java -jar benchmark.jar -f &quot;method1|method2&quot;, but got error: \r\n```\r\nError parsing command line:\r\n Cannot parse argument &#39;method1|method2&#39; of option f\r\n```","title":"How to run only a few benchmark tests with a jar file in JMH?","body":"<p>I have the following JMH with 3 benchmark tests:</p>\n<pre><code>@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Fork(1)\n\n@State(Scope.Benchmark)\npublic class TestBenchmark {\n    private CW cw;\n\n    @Param({&quot;C:data.csv&quot;})\n    public String fileName;\n\n\n    @Param({&quot;100&quot;})\n    public int id;\n\n    @Setup\n    public void setup() {\n        cw = new CW(fileName);\n    }\n\n    @Benchmark\n    public void method1() {\n        cw.method1(id);\n    }\n\n    @Benchmark\n    public void method2() {\n        cw.method2(id);\n    }\n\n    @Benchmark\n    public void method3() {\n        cw.method3(id);\n    }\n\n}\n</code></pre>\n<p>I ran <code>mvn clean install</code> to compile a benchmark.jar. Now I'd like to only run benchmark tests for method1 and method2, not method3, how can I do it?</p>\n<p>I tried `java -jar benchmark.jar -f &quot;method1|method2&quot;, but got error:</p>\n<pre><code>Error parsing command line:\n Cannot parse argument 'method1|method2' of option f\n</code></pre>\n"},{"tags":["java","cucumber","micronaut"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1573736992,"post_id":58854033,"comment_id":103986490,"body_markdown":"This won&#39;t work. `@Micronaut` is an is a Junit5 extension. Cucumber is using JUnit4. It could be made to work by implementing an `ObjectFactory` for Cucumber though.","body":"This won&#39;t work. <code>@Micronaut</code> is an is a Junit5 extension. Cucumber is using JUnit4. It could be made to work by implementing an <code>ObjectFactory</code> for Cucumber though."},{"owner":{"account_id":10408630,"reputation":31,"user_id":7674769,"display_name":"Iv&#225;n"},"score":0,"creation_date":1573809914,"post_id":58854033,"comment_id":104015474,"body_markdown":"I see the JUnit 4 vs 5 thing. Thx. But what do you mean by the ObjectFactory? Is it a JUnit 5 feature for extending its functionality?","body":"I see the JUnit 4 vs 5 thing. Thx. But what do you mean by the ObjectFactory? Is it a JUnit 5 feature for extending its functionality?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1573810717,"post_id":58854033,"comment_id":104015932,"body_markdown":"It&#39;s a Cucumber feature used to support dependency injection into your step definitions (effectively what Micronaut is doing).","body":"It&#39;s a Cucumber feature used to support dependency injection into your step definitions (effectively what Micronaut is doing)."},{"owner":{"account_id":10408630,"reputation":31,"user_id":7674769,"display_name":"Iv&#225;n"},"score":0,"creation_date":1573835058,"post_id":58854033,"comment_id":104029217,"body_markdown":"I see. Thank you","body":"I see. Thank you"},{"owner":{"account_id":3745896,"reputation":2369,"user_id":3114566,"display_name":"ahll"},"score":0,"creation_date":1614428711,"post_id":58854033,"comment_id":117385757,"body_markdown":"Some one get it working with junit 5?","body":"Some one get it working with junit 5?"},{"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"score":0,"creation_date":1646543551,"post_id":58854033,"comment_id":126147363,"body_markdown":"I found this project https://github.com/david-romero/cucumber-micronaut but only support `@Named` annotation. I&#39;d like something with `@ConfigurationProperties` support too. But i think it&#39;s hard to make a fully support class for all annotations possibles","body":"I found this project <a href=\"https://github.com/david-romero/cucumber-micronaut\" rel=\"nofollow noreferrer\">github.com/david-romero/cucumber-micronaut</a> but only support <code>@Named</code> annotation. I&#39;d like something with <code>@ConfigurationProperties</code> support too. But i think it&#39;s hard to make a fully support class for all annotations possibles"}],"answers":[{"tags":[],"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679392525,"creation_date":1679391763,"answer_id":75799519,"question_id":58854033,"body_markdown":"here is my version of ObjectFactory bound with Micronaut. So far, it has been working with all beans declared inside our project.\r\n\r\n\r\n```java\r\npackage com.myproject.libs.cucumber;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\nimport io.cucumber.core.backend.ObjectFactory;\r\nimport io.micronaut.context.ApplicationContext;\r\nimport io.micronaut.runtime.server.EmbeddedServer;\r\n\r\n/**\r\n * Will start an {@link EmbeddedServer} at the start then stop it at the end of &lt;strong&gt;each&lt;/strong&gt; Scenario&lt;br&gt;\r\n * Will also use the {@link ApplicationContext} to resolve Glue beans\r\n */\r\n@Slf4j\r\npublic final class MicronautObjectFactory implements ObjectFactory {\r\n\r\n    private EmbeddedServer embeddedServer;\r\n\r\n    @Override\r\n    public void start() {\r\n        log.info(&quot;#### Starting EmbeddedServer&quot;);\r\n        embeddedServer = ApplicationContext.run(EmbeddedServer.class, &quot;test&quot;, &quot;cucumber&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        if (embeddedServer != null) {\r\n            log.info(&quot;#### Stopping EmbeddedServer&quot;);\r\n            embeddedServer.stop();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; T getInstance(final Class&lt;T&gt; beanType) {\r\n        return embeddedServer.getApplicationContext().getBean(beanType);\r\n    }\r\n\r\n    @Override\r\n    public boolean addClass(final Class&lt;?&gt; aClass) {\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou&#39;ll still need to \r\n - declare this bean inside `resources/META-INF/services/io.cucumber.core.backend.ObjectFactory` file with simple line `com.myproject.libs.cucumber.MicronautObjectFactory`\r\n - (optional) also add file `resources/cucumber.properties` with values\r\n```\r\n# Cucumber properties to be applied, even when running feature&#39;s scenario manually\r\n# https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#configuration-options\r\ncucumber.publish.quiet=true\r\ncucumber.plugin=json:build/reports/cucumber.json\r\ncucumber.junit-platform.naming-strategy=long\r\ncucumber.object-factory=com.myproject.libs.cucumber.MicronautObjectFactory\r\n```\r\n - and to facilitate the usage of it, create your own annotation\r\n```java\r\npackage com.myproject.libs.cucumber;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME;\r\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\r\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PUBLISH_QUIET_PROPERTY_NAME;\r\n\r\nimport java.lang.annotation.Documented;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Inherited;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\nimport org.junit.platform.commons.annotation.Testable;\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\n@Inherited\r\n@Documented\r\n@Testable\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;features&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;json:build/reports/cucumber.json&quot;)\r\n@ConfigurationParameter(key = JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME, value = &quot;long&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\r\npublic @interface MicronautCucumber {\r\n}\r\n```\r\n\r\nnote the dependencies you need:\r\n- io.cucumber:cucumber-java\r\n- io.cucumber:cucumber-junit-platform-engine\r\n- org.junit.platform:junit-platorm-suite\r\n- io.micronaut:micronaut-context","title":"Cucumber with Micronaut","body":"<p>here is my version of ObjectFactory bound with Micronaut. So far, it has been working with all beans declared inside our project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myproject.libs.cucumber;\n\nimport lombok.extern.slf4j.Slf4j;\n\nimport io.cucumber.core.backend.ObjectFactory;\nimport io.micronaut.context.ApplicationContext;\nimport io.micronaut.runtime.server.EmbeddedServer;\n\n/**\n * Will start an {@link EmbeddedServer} at the start then stop it at the end of &lt;strong&gt;each&lt;/strong&gt; Scenario&lt;br&gt;\n * Will also use the {@link ApplicationContext} to resolve Glue beans\n */\n@Slf4j\npublic final class MicronautObjectFactory implements ObjectFactory {\n\n    private EmbeddedServer embeddedServer;\n\n    @Override\n    public void start() {\n        log.info(&quot;#### Starting EmbeddedServer&quot;);\n        embeddedServer = ApplicationContext.run(EmbeddedServer.class, &quot;test&quot;, &quot;cucumber&quot;);\n    }\n\n    @Override\n    public void stop() {\n        if (embeddedServer != null) {\n            log.info(&quot;#### Stopping EmbeddedServer&quot;);\n            embeddedServer.stop();\n        }\n    }\n\n    @Override\n    public &lt;T&gt; T getInstance(final Class&lt;T&gt; beanType) {\n        return embeddedServer.getApplicationContext().getBean(beanType);\n    }\n\n    @Override\n    public boolean addClass(final Class&lt;?&gt; aClass) {\n        return true;\n    }\n\n}\n</code></pre>\n<p>You'll still need to</p>\n<ul>\n<li>declare this bean inside <code>resources/META-INF/services/io.cucumber.core.backend.ObjectFactory</code> file with simple line <code>com.myproject.libs.cucumber.MicronautObjectFactory</code></li>\n<li>(optional) also add file <code>resources/cucumber.properties</code> with values</li>\n</ul>\n<pre><code># Cucumber properties to be applied, even when running feature's scenario manually\n# https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#configuration-options\ncucumber.publish.quiet=true\ncucumber.plugin=json:build/reports/cucumber.json\ncucumber.junit-platform.naming-strategy=long\ncucumber.object-factory=com.myproject.libs.cucumber.MicronautObjectFactory\n</code></pre>\n<ul>\n<li>and to facilitate the usage of it, create your own annotation</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myproject.libs.cucumber;\n\nimport static io.cucumber.junit.platform.engine.Constants.JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME;\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PUBLISH_QUIET_PROPERTY_NAME;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Inherited;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport org.junit.platform.commons.annotation.Testable;\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Inherited\n@Documented\n@Testable\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;features&quot;)\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;json:build/reports/cucumber.json&quot;)\n@ConfigurationParameter(key = JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME, value = &quot;long&quot;)\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\npublic @interface MicronautCucumber {\n}\n</code></pre>\n<p>note the dependencies you need:</p>\n<ul>\n<li>io.cucumber:cucumber-java</li>\n<li>io.cucumber:cucumber-junit-platform-engine</li>\n<li>org.junit.platform:junit-platorm-suite</li>\n<li>io.micronaut:micronaut-context</li>\n</ul>\n"}],"owner":{"account_id":10408630,"reputation":31,"user_id":7674769,"display_name":"Iv&#225;n"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1309,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679392525,"creation_date":1573725747,"question_id":58854033,"body_markdown":"I am trying to use Cucumber with Micronaut but the @MicronautTest annotation simply does not work (theApple is not injected - see the code below) when I try to use it with cucumber. If I run it without Cucumber it is OK. Do you have any experience with this? Should it work?\r\n\r\nThanks Ivan\r\n\r\nThese are the classes\r\n\r\nclass1\r\n    \r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(plugin = { &quot;pretty&quot; },\r\n            features = &quot;src/test/resources&quot;\r\n    )\r\n    public class TheRunner {\r\n    }\r\n\r\nclass2    \r\n    \r\n    import io.cucumber.java.en.Given;\r\n    import io.cucumber.java.en.Then;\r\n    import io.cucumber.java.en.When;\r\n    import io.micronaut.context.annotation.Value;\r\n    import io.micronaut.test.annotation.MicronautTest;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    @MicronautTest\r\n    public class Steps {\r\n    \r\n        @Value(&quot;apple&quot;)\r\n        private String theApple;\r\n    \r\n    //  @Test\r\n    //  public void test() {\r\n    //     System.out.println(&quot;Value: &quot; + theApple);\r\n    //  }\r\n    \r\n        @Given(&quot;some text&quot;)\r\n        public void some_method_1() {\r\n            System.out.println(&quot;Value: &quot; + theApple);\r\n        }\r\n    \r\n        @When(&quot;some text&quot;)\r\n        public void some_method_2() {\r\n        }\r\n    \r\n        @Then(&quot;an alarm is raised&quot;)\r\n        public void some_method_3() {\r\n        }\r\n    \r\n    }\r\n\r\nbuild.gradle\r\n\r\n    dependencies {\r\n        annotationProcessor platform(&quot;io.micronaut:micronaut-bom:$micronautVersion&quot;)\r\n        annotationProcessor &quot;io.micronaut:micronaut-inject-java&quot;\r\n        annotationProcessor &quot;io.micronaut:micronaut-validation&quot;\r\n        implementation platform(&quot;io.micronaut:micronaut-bom:$micronautVersion&quot;)\r\n        implementation &quot;io.micronaut:micronaut-inject&quot;\r\n        implementation &quot;io.micronaut:micronaut-validation&quot;\r\n        implementation &quot;io.micronaut:micronaut-runtime&quot;\r\n        implementation &quot;javax.annotation:javax.annotation-api&quot;\r\n        implementation &quot;io.micronaut:micronaut-http-client&quot;\r\n        runtimeOnly &quot;ch.qos.logback:logback-classic:1.2.3&quot;\r\n        testAnnotationProcessor platform(&quot;io.micronaut:micronaut-bom:$micronautVersion&quot;)\r\n        testAnnotationProcessor &quot;io.micronaut:micronaut-inject-java&quot;\r\n        testImplementation platform(&quot;io.micronaut:micronaut-bom:$micronautVersion&quot;)\r\n        testImplementation &quot;io.micronaut.test:micronaut-test-junit5&quot;\r\n        testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;\r\n        testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;\r\n        testRuntimeOnly &quot;org.junit.vintage:junit-vintage-engine:${junitVersion}&quot;\r\n        testImplementation &quot;io.cucumber:cucumber-java:$cucumberVersion&quot;\r\n        testImplementation &quot;io.cucumber:cucumber-junit:$cucumberVersion&quot;\r\n    }\r\n\r\n","title":"Cucumber with Micronaut","body":"<p>I am trying to use Cucumber with Micronaut but the @MicronautTest annotation simply does not work (theApple is not injected - see the code below) when I try to use it with cucumber. If I run it without Cucumber it is OK. Do you have any experience with this? Should it work?</p>\n\n<p>Thanks Ivan</p>\n\n<p>These are the classes</p>\n\n<p>class1</p>\n\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(plugin = { \"pretty\" },\n        features = \"src/test/resources\"\n)\npublic class TheRunner {\n}\n</code></pre>\n\n<p>class2    </p>\n\n<pre><code>import io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport io.micronaut.context.annotation.Value;\nimport io.micronaut.test.annotation.MicronautTest;\nimport org.junit.jupiter.api.Test;\n\n@MicronautTest\npublic class Steps {\n\n    @Value(\"apple\")\n    private String theApple;\n\n//  @Test\n//  public void test() {\n//     System.out.println(\"Value: \" + theApple);\n//  }\n\n    @Given(\"some text\")\n    public void some_method_1() {\n        System.out.println(\"Value: \" + theApple);\n    }\n\n    @When(\"some text\")\n    public void some_method_2() {\n    }\n\n    @Then(\"an alarm is raised\")\n    public void some_method_3() {\n    }\n\n}\n</code></pre>\n\n<p>build.gradle</p>\n\n<pre><code>dependencies {\n    annotationProcessor platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    annotationProcessor \"io.micronaut:micronaut-inject-java\"\n    annotationProcessor \"io.micronaut:micronaut-validation\"\n    implementation platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    implementation \"io.micronaut:micronaut-inject\"\n    implementation \"io.micronaut:micronaut-validation\"\n    implementation \"io.micronaut:micronaut-runtime\"\n    implementation \"javax.annotation:javax.annotation-api\"\n    implementation \"io.micronaut:micronaut-http-client\"\n    runtimeOnly \"ch.qos.logback:logback-classic:1.2.3\"\n    testAnnotationProcessor platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    testAnnotationProcessor \"io.micronaut:micronaut-inject-java\"\n    testImplementation platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    testImplementation \"io.micronaut.test:micronaut-test-junit5\"\n    testImplementation \"org.junit.jupiter:junit-jupiter-api:${junitVersion}\"\n    testRuntimeOnly \"org.junit.jupiter:junit-jupiter-engine:${junitVersion}\"\n    testRuntimeOnly \"org.junit.vintage:junit-vintage-engine:${junitVersion}\"\n    testImplementation \"io.cucumber:cucumber-java:$cucumberVersion\"\n    testImplementation \"io.cucumber:cucumber-junit:$cucumberVersion\"\n}\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-aurora","spring-cloud-aws"],"comments":[{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":0,"creation_date":1603109209,"post_id":64426696,"comment_id":113923138,"body_markdown":"Turns out the issue is with using an RDS Aurora cluster rather than a RDS instance with read replicas, this issue is the RDS Cluster feature request https://github.com/spring-cloud/spring-cloud-aws/issues/356. I&#39;ll leave the question open, there&#39;s bound to be a way to configure multiple datasources that will work with Aurora","body":"Turns out the issue is with using an RDS Aurora cluster rather than a RDS instance with read replicas, this issue is the RDS Cluster feature request <a href=\"https://github.com/spring-cloud/spring-cloud-aws/issues/356\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-aws/issues/356</a>. I&#39;ll leave the question open, there&#39;s bound to be a way to configure multiple datasources that will work with Aurora"},{"owner":{"account_id":5680162,"reputation":503,"user_id":4491666,"display_name":"Jitendra Kumar"},"score":0,"creation_date":1662134614,"post_id":64426696,"comment_id":129943628,"body_markdown":"In my experience, two different datasources must be used in order to achieve this. Two different repositories would be used, one with the read/write datasource and the other with read only datasource. To configure multiple datasources, you can read https://stackoverflow.com/questions/26308035/spring-boot-spring-data-jpa-with-multiple-datasources.","body":"In my experience, two different datasources must be used in order to achieve this. Two different repositories would be used, one with the read/write datasource and the other with read only datasource. To configure multiple datasources, you can read <a href=\"https://stackoverflow.com/questions/26308035/spring-boot-spring-data-jpa-with-multiple-datasources\" title=\"spring boot spring data jpa with multiple datasources\">stackoverflow.com/questions/26308035/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":87488,"reputation":743,"user_id":242587,"display_name":"stmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679392469,"creation_date":1679392469,"answer_id":75799638,"question_id":64426696,"body_markdown":"You need to configure explicitly configure 2 Datasources. In AWS read replica will have separate url with `-ro` added as visible in your screenshot.\r\n\r\nInformation on how to configure 2 Datasources is available in spring boot documentation section `8.2. Configure Two DataSources`\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\r\n\r\nOnce you have 2 Datasources configured you&#39;ll need to have have to create separate `EntityManager` per RO and RW repositories as described in section\r\n`8.10. Using Multiple EntityManagerFactories`\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers\r\n\r\nThen in services you&#39;ll need to provide fields to include RO and/or RW repository to make queries.\r\n","title":"Spring Boot App using Spring Cloud AWS RDS Aurora - how to distribute read queries","body":"<p>You need to configure explicitly configure 2 Datasources. In AWS read replica will have separate url with <code>-ro</code> added as visible in your screenshot.</p>\n<p>Information on how to configure 2 Datasources is available in spring boot documentation section <code>8.2. Configure Two DataSources</code></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources</a></p>\n<p>Once you have 2 Datasources configured you'll need to have have to create separate <code>EntityManager</code> per RO and RW repositories as described in section\n<code>8.10. Using Multiple EntityManagerFactories</code></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers</a></p>\n<p>Then in services you'll need to provide fields to include RO and/or RW repository to make queries.</p>\n"}],"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5467,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1679392469,"creation_date":1603107971,"question_id":64426696,"body_markdown":"I&#39;ve got a Spring Boot app that&#39;s using an AWS RDS DB.\r\n\r\nI&#39;m trying to get a RDS Aurora / Postgres DB working with read replicas. I&#39;ve got the app running, however I cannot see any traffic going to the reader nodes.\r\n\r\nSet up is Spring boot (2.2.7), spring cloud aws 2.2.4-RELEASE, spring data (JpaRepository). \r\n\r\nRDS Aurora cluster with 2 nodes, 1 reader and 1 writer, which looks like this:\r\n[![AWS RDS Configuration][1]][1]\r\n\r\na controller GET method annotated with `@Transactional(readOnly = true)`\r\n```java\r\n    @RequestMapping(\r\n            value = &quot;/counters&quot;,\r\n            produces = {&quot;application/json&quot;},\r\n            method = RequestMethod.GET\r\n    )\r\n    @ResponseBody\r\n    @Transactional(readOnly = true)\r\n    public ResponseEntity&lt;List&lt;Counter&gt;&gt; getCounters()  {\r\n        return ResponseEntity.of(Optional.of(this.counterDAO.findAll()));\r\n    }\r\n```\r\n\r\nfinally spring cloud aws configuration\r\n```\r\ncloud:\r\n  aws:\r\n    region:\r\n      static: ap-southeast-2\r\n    credentials:\r\n      accessKey: ${ACCESS_KEY}\r\n      secretKey: ${SECRET_KEY}\r\n    rds:\r\n      rds-db-cluster-instance-1:\r\n        password: ${POSTGRES_PASSWORD}\r\n        username: postgres\r\n        readReplicaSupport: &quot;true&quot;\r\n        databaseName: postgres\r\n    stack:\r\n      auto: false\r\n```\r\n\r\nAt this point I can read and write from the DB, however I do not see any evidence that it is using the reader nodes at all.\r\n\r\nThe app only starts when I use the writer instance name as the `cloud.aws.rds.&lt;instance-id&gt;`, It does not work using the cluster name (using the writer id may be the right way to configure it, the docs are not really clear) and if I use the read only instance id, it fails with methods that update the DB.\r\n\r\nMonitoring on the AWS console shows connections only on the Writer node (I can get this to spike to 10 - 15 connections with 2 threads calling GET and POST methods), however the Reader node is always 0.\r\n\r\nSecondly I&#39;ve set breakpoints with the debugger on the [ReadOnlyRoutingDataSource][2] class, which are never hit, so I am pretty sure it&#39;s not using the read only functionality.\r\n\r\nI fairly certain it&#39;s due to the instance id I am using and perhaps something to do with the underlying RDS config, but I can&#39;t for the life of me work it out.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aJkyc.png\r\n  [2]: https://github.com/spring-cloud/spring-cloud-aws/blob/c35c623881fb6147ab9c43ca2d5a2c6ae9ed6af9/spring-cloud-aws-jdbc/src/main/java/org/springframework/cloud/aws/jdbc/datasource/ReadOnlyRoutingDataSource.java#L68","title":"Spring Boot App using Spring Cloud AWS RDS Aurora - how to distribute read queries","body":"<p>I've got a Spring Boot app that's using an AWS RDS DB.</p>\n<p>I'm trying to get a RDS Aurora / Postgres DB working with read replicas. I've got the app running, however I cannot see any traffic going to the reader nodes.</p>\n<p>Set up is Spring boot (2.2.7), spring cloud aws 2.2.4-RELEASE, spring data (JpaRepository).</p>\n<p>RDS Aurora cluster with 2 nodes, 1 reader and 1 writer, which looks like this:\n<a href=\"https://i.stack.imgur.com/aJkyc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aJkyc.png\" alt=\"AWS RDS Configuration\" /></a></p>\n<p>a controller GET method annotated with <code>@Transactional(readOnly = true)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RequestMapping(\n            value = &quot;/counters&quot;,\n            produces = {&quot;application/json&quot;},\n            method = RequestMethod.GET\n    )\n    @ResponseBody\n    @Transactional(readOnly = true)\n    public ResponseEntity&lt;List&lt;Counter&gt;&gt; getCounters()  {\n        return ResponseEntity.of(Optional.of(this.counterDAO.findAll()));\n    }\n</code></pre>\n<p>finally spring cloud aws configuration</p>\n<pre><code>cloud:\n  aws:\n    region:\n      static: ap-southeast-2\n    credentials:\n      accessKey: ${ACCESS_KEY}\n      secretKey: ${SECRET_KEY}\n    rds:\n      rds-db-cluster-instance-1:\n        password: ${POSTGRES_PASSWORD}\n        username: postgres\n        readReplicaSupport: &quot;true&quot;\n        databaseName: postgres\n    stack:\n      auto: false\n</code></pre>\n<p>At this point I can read and write from the DB, however I do not see any evidence that it is using the reader nodes at all.</p>\n<p>The app only starts when I use the writer instance name as the <code>cloud.aws.rds.&lt;instance-id&gt;</code>, It does not work using the cluster name (using the writer id may be the right way to configure it, the docs are not really clear) and if I use the read only instance id, it fails with methods that update the DB.</p>\n<p>Monitoring on the AWS console shows connections only on the Writer node (I can get this to spike to 10 - 15 connections with 2 threads calling GET and POST methods), however the Reader node is always 0.</p>\n<p>Secondly I've set breakpoints with the debugger on the <a href=\"https://github.com/spring-cloud/spring-cloud-aws/blob/c35c623881fb6147ab9c43ca2d5a2c6ae9ed6af9/spring-cloud-aws-jdbc/src/main/java/org/springframework/cloud/aws/jdbc/datasource/ReadOnlyRoutingDataSource.java#L68\" rel=\"noreferrer\">ReadOnlyRoutingDataSource</a> class, which are never hit, so I am pretty sure it's not using the read only functionality.</p>\n<p>I fairly certain it's due to the instance id I am using and perhaps something to do with the underlying RDS config, but I can't for the life of me work it out.</p>\n"},{"tags":["java","spring","spring-boot","jdbctemplate","spring-transactions"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1679392457,"post_id":75799420,"comment_id":133709400,"body_markdown":"Uncomment line `jta.setTransactionManager(userTransactionManager());`","body":"Uncomment line <code>jta.setTransactionManager(userTransactionManager());</code>"}],"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679392352,"creation_date":1679391250,"question_id":75799420,"body_markdown":"I am having below issue when i am trying to call two different datasource in transaction using jdbcTemplate in batchUpdate: \r\n```\r\nException in thread &quot;main&quot; org.springframework.transaction.TransactionSuspensionNotSupportedException: JtaTransactionManager needs a JTA TransactionManager for suspending a transaction: specify the &#39;transactionManager&#39; or &#39;transactionManagerName&#39; property\r\n\tat org.springframework.transaction.jta.JtaTransactionManager.doJtaSuspend(JtaTransactionManager.java:941)\r\n\tat org.springframework.transaction.jta.JtaTransactionManager.doSuspend(JtaTransactionManager.java:923)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.suspend(AbstractPlatformTransactionManager.java:575)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.handleExistingTransaction(AbstractPlatformTransactionManager.java:420)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:349)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n\tat xyz.hollysys.spring.mybatis_super.service.ApplicationService1$$EnhancerBySpringCGLIB$$f8684ee3.saveData(&lt;generated&gt;)\r\n\tat xyz.hollysys.spring.mybatis_super.service.UserService.save(UserService.java:28)\r\n\tat xyz.hollysys.spring.mybatis_super.service.UserService$$FastClassBySpringCGLIB$$4da2330f.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n\tat xyz.hollysys.spring.mybatis_super.service.UserService$$EnhancerBySpringCGLIB$$7b31d501.save(&lt;generated&gt;)\r\n\tat xyz.hollysys.spring.mybatis_super.App.main(App.java:21)\r\n```\r\n\r\nCustomerRepository.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    \tpublic int[] saveSuccessBatch(List&lt;Customer&gt; customerList) {\r\n    \t\treturn jdbcTemplate.batchUpdate(&quot;insert into customer (age,first_name, last_name) values(?,?,?)&quot;,\r\n    \t\t\t\tnew BatchPreparedStatementSetter() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void setValues(PreparedStatement ps, int i) throws SQLException {\r\n    \t\t\t\t\t\tCustomer customer = customerList.get(i);\r\n    \t\t\t\t\t\tps.setInt(1, customer.getAge());\r\n    \t\t\t\t\t\tps.setString(2, customer.getFirstName());\r\n    \t\t\t\t\t\tps.setString(3, customer.getLastName());\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getBatchSize() {\r\n    \t\t\t\t\t\treturn customerList.size();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t}\r\n\r\nAddressRepository.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    \tpublic int[] saveSuccessBatch(List&lt;Address&gt; addressList) {\r\n    \t\treturn jdbcTemplate.batchUpdate(&quot;insert into address (city,street, zipCode) values(?,?,?)&quot;,\r\n    \t\t\t\tnew BatchPreparedStatementSetter() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void setValues(PreparedStatement ps, int i) throws SQLException {\r\n    \t\t\t\t\t\tAddress address = addressList.get(i);\r\n    \t\t\t\t\t\tps.setString(1, address.getCity());\r\n    \t\t\t\t\t\tps.setString(2, address.getStreet());\r\n    \t\t\t\t\t\tps.setInt(3, address.getZipCode());\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getBatchSize() {\r\n    \t\t\t\t\t\treturn addressList.size();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t}\r\n\r\nservice.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    \tpublic void saveData(List&lt;List&lt;Customer&gt;&gt; mainCustomerList, List&lt;List&lt;Address&gt;&gt; mainAddressList, int index) {\r\n    \t\tcustomerRepository.saveSuccessBatch(mainCustomerList.get(index));\r\n    \t\taddressRepository.saveSuccessBatch(mainAddressList.get(index));\r\n    \t}\r\n\r\n\r\nJdbcConfiguration.java\r\n\r\n    package xyz.hollysys.spring.mybatis_super.config;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    \r\n    import javax.transaction.SystemException;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.context.support.PropertySourcesPlaceholderConfigurer;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    import org.springframework.transaction.jta.JtaTransactionManager;\r\n    \r\n    import com.atomikos.icatch.jta.UserTransactionImp;\r\n    import com.atomikos.icatch.jta.UserTransactionManager;\r\n    import com.atomikos.jdbc.AtomikosDataSourceBean;\r\n    import com.mysql.cj.jdbc.MysqlXADataSource;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    //@MapperScan({ &quot;xyz.hollysys.spring.mybatis_super.dao&quot; })\r\n    @ComponentScan(basePackages ={  &quot;xyz.hollysys.spring.mybatis_super.dao&quot;,&quot;xyz.hollysys.spring.mybatis_super.service&quot;})\r\n    //@EnableJpaRepositories(transactionManagerRef = &quot;transactionManager&quot; )\r\n    @PropertySource(value = { &quot;classpath:jdbc.properties&quot; })\r\n    public class JdbcConfiguration {\r\n    \t\r\n    \t// master database\r\n    \t@Value(&quot;${jdbc.driverClassName:com.mysql.jdbc.Driver}&quot;)\r\n    \tprivate String driverClassName;\r\n    \r\n    \t@Value(&quot;${jdbc.url:jdbc:mysql://localhost:3306/db1}&quot;)\r\n    \tprivate String url;\r\n    \r\n    \t@Value(&quot;${jdbc.username:root}&quot;)\r\n    \tprivate String username;\r\n    \r\n    \t@Value(&quot;${jdbc.password:}&quot;)\r\n    \tprivate String password;\r\n    \t\r\n    \t// slave database\r\n    \t@Value(&quot;${jdbc2.driverClassName:com.mysql.jdbc.Driver}&quot;)\r\n    \tprivate String driverClassName2;\r\n    \r\n    \t@Value(&quot;${jdbc2.url:jdbc:mysql://localhost:3306/db2}&quot;)\r\n    \tprivate String url2;\r\n    \r\n    \t@Value(&quot;${jdbc2.username:root}&quot;)\r\n    \tprivate String username2;\r\n    \r\n    \t@Value(&quot;${jdbc2.password:}&quot;)\r\n    \tprivate String password2;\r\n    \r\n        //You need this\r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n           return new PropertySourcesPlaceholderConfigurer();\r\n        }\r\n    \t\r\n    \r\n    \t\r\n    \t@Bean(name=&quot;master&quot;,initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\r\n    \tpublic AtomikosDataSourceBean AtomikosDataSourceA(){\r\n    \t\tAtomikosDataSourceBean bean =  new AtomikosDataSourceBean();\r\n    \t\tbean.setXaDataSourceClassName(MysqlXADataSource.class.getCanonicalName());\r\n    \t\tbean.setXaProperties(xaPropertiesA());\r\n    \t\tbean.setUniqueResourceName(&quot;master&quot;);\r\n    \t\tbean.setMinPoolSize(1);\r\n    \t\tbean.setMaxPoolSize(3);\r\n    \t\tbean.setMaxIdleTime(60);\r\n    \t\tbean.setPoolSize(1);\r\n    \t\treturn bean;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;slave&quot;,initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\r\n    \tpublic AtomikosDataSourceBean AtomikosDataSourceB(){\r\n    \t\tAtomikosDataSourceBean bean =  new AtomikosDataSourceBean();\r\n    \t\tbean.setXaDataSourceClassName(MysqlXADataSource.class.getCanonicalName());\r\n    \t\tbean.setXaProperties(xaPropertiesB());\r\n    \t\tbean.setUniqueResourceName(&quot;slave&quot;);\r\n    \t\tbean.setMinPoolSize(1);\r\n    \t\tbean.setMaxPoolSize(3);\r\n    \t\tbean.setMaxIdleTime(60);\r\n    \t\tbean.setPoolSize(1);\r\n    \t\treturn bean;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic Properties xaPropertiesA() {\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.setProperty(&quot;URL&quot;, url);\r\n    \t\tprops.setProperty(&quot;user&quot;, username);\r\n    \t\tprops.setProperty(&quot;password&quot;, password);\r\n    \t\treturn props;\r\n    \t}\t\r\n    \t\r\n    \t@Bean\r\n    \tpublic Properties xaPropertiesB() {\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.setProperty(&quot;URL&quot;, url2);\r\n    \t\tprops.setProperty(&quot;user&quot;, username2);\r\n    \t\tprops.setProperty(&quot;password&quot;, password2);\r\n    \t\treturn props;\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic Map&lt;Object, Object&gt; targetDataSourcesJta() {\r\n    \t\tMap&lt;Object, Object&gt; map = new HashMap&lt;Object, Object&gt;();\r\n    \t\tmap.put(&quot;master&quot;, AtomikosDataSourceA());\r\n    \t\tmap.put(&quot;slave&quot;, AtomikosDataSourceB());\r\n    \t\t\r\n    \t\treturn map;\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;jdbcTemplateA&quot;)\r\n    \tpublic JdbcTemplate jdbcTempalteA(){\r\n    \t\tJdbcTemplate template = new JdbcTemplate();\r\n    \t\ttemplate.setDataSource(AtomikosDataSourceA());\r\n    \t\treturn template;\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;jdbcTemplateB&quot;)\r\n    \tpublic JdbcTemplate jdbcTempalteB(){\r\n    \t\tJdbcTemplate template = new JdbcTemplate();\r\n    \t\ttemplate.setDataSource(AtomikosDataSourceB());\r\n    \t\treturn template;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic UserTransactionManager userTransactionManager(){\r\n    \t\tUserTransactionManager userJta = new UserTransactionManager();\r\n    \t\tuserJta.setForceShutdown(true);\r\n    \t\t\r\n    \t\treturn userJta;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic UserTransactionImp userTransactionImp(){\r\n    \t\tUserTransactionImp userJtaImpl = new UserTransactionImp();\r\n    \t\ttry {\r\n    \t\t\tuserJtaImpl.setTransactionTimeout(300);\r\n    \t\t} catch (SystemException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn userJtaImpl;\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;transactionManager&quot;)\r\n    \tpublic JtaTransactionManager jtaTransactionManager(){\r\n    \t\tJtaTransactionManager jta = new JtaTransactionManager();\r\n    \t\t//jta.setTransactionManager(userTransactionManager());\r\n    \t\tjta.setUserTransaction(userTransactionImp());\r\n    \t\treturn jta;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"How to resolve specify the &#39;transactionManager&#39; or &#39;transactionManagerName&#39; property error","body":"<p>I am having below issue when i am trying to call two different datasource in transaction using jdbcTemplate in batchUpdate:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.transaction.TransactionSuspensionNotSupportedException: JtaTransactionManager needs a JTA TransactionManager for suspending a transaction: specify the 'transactionManager' or 'transactionManagerName' property\n    at org.springframework.transaction.jta.JtaTransactionManager.doJtaSuspend(JtaTransactionManager.java:941)\n    at org.springframework.transaction.jta.JtaTransactionManager.doSuspend(JtaTransactionManager.java:923)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.suspend(AbstractPlatformTransactionManager.java:575)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.handleExistingTransaction(AbstractPlatformTransactionManager.java:420)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:349)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at xyz.hollysys.spring.mybatis_super.service.ApplicationService1$$EnhancerBySpringCGLIB$$f8684ee3.saveData(&lt;generated&gt;)\n    at xyz.hollysys.spring.mybatis_super.service.UserService.save(UserService.java:28)\n    at xyz.hollysys.spring.mybatis_super.service.UserService$$FastClassBySpringCGLIB$$4da2330f.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at xyz.hollysys.spring.mybatis_super.service.UserService$$EnhancerBySpringCGLIB$$7b31d501.save(&lt;generated&gt;)\n    at xyz.hollysys.spring.mybatis_super.App.main(App.java:21)\n</code></pre>\n<p>CustomerRepository.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\n    public int[] saveSuccessBatch(List&lt;Customer&gt; customerList) {\n        return jdbcTemplate.batchUpdate(&quot;insert into customer (age,first_name, last_name) values(?,?,?)&quot;,\n                new BatchPreparedStatementSetter() {\n                    @Override\n                    public void setValues(PreparedStatement ps, int i) throws SQLException {\n                        Customer customer = customerList.get(i);\n                        ps.setInt(1, customer.getAge());\n                        ps.setString(2, customer.getFirstName());\n                        ps.setString(3, customer.getLastName());\n                    }\n\n                    @Override\n                    public int getBatchSize() {\n                        return customerList.size();\n                    }\n                });\n    }\n</code></pre>\n<p>AddressRepository.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\n    public int[] saveSuccessBatch(List&lt;Address&gt; addressList) {\n        return jdbcTemplate.batchUpdate(&quot;insert into address (city,street, zipCode) values(?,?,?)&quot;,\n                new BatchPreparedStatementSetter() {\n                    @Override\n                    public void setValues(PreparedStatement ps, int i) throws SQLException {\n                        Address address = addressList.get(i);\n                        ps.setString(1, address.getCity());\n                        ps.setString(2, address.getStreet());\n                        ps.setInt(3, address.getZipCode());\n                    }\n\n                    @Override\n                    public int getBatchSize() {\n                        return addressList.size();\n                    }\n                });\n    }\n</code></pre>\n<p>service.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void saveData(List&lt;List&lt;Customer&gt;&gt; mainCustomerList, List&lt;List&lt;Address&gt;&gt; mainAddressList, int index) {\n        customerRepository.saveSuccessBatch(mainCustomerList.get(index));\n        addressRepository.saveSuccessBatch(mainAddressList.get(index));\n    }\n</code></pre>\n<p>JdbcConfiguration.java</p>\n<pre><code>package xyz.hollysys.spring.mybatis_super.config;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Properties;\n\nimport javax.transaction.SystemException;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.context.support.PropertySourcesPlaceholderConfigurer;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.transaction.jta.JtaTransactionManager;\n\nimport com.atomikos.icatch.jta.UserTransactionImp;\nimport com.atomikos.icatch.jta.UserTransactionManager;\nimport com.atomikos.jdbc.AtomikosDataSourceBean;\nimport com.mysql.cj.jdbc.MysqlXADataSource;\n\n@Configuration\n@EnableTransactionManagement\n//@MapperScan({ &quot;xyz.hollysys.spring.mybatis_super.dao&quot; })\n@ComponentScan(basePackages ={  &quot;xyz.hollysys.spring.mybatis_super.dao&quot;,&quot;xyz.hollysys.spring.mybatis_super.service&quot;})\n//@EnableJpaRepositories(transactionManagerRef = &quot;transactionManager&quot; )\n@PropertySource(value = { &quot;classpath:jdbc.properties&quot; })\npublic class JdbcConfiguration {\n    \n    // master database\n    @Value(&quot;${jdbc.driverClassName:com.mysql.jdbc.Driver}&quot;)\n    private String driverClassName;\n\n    @Value(&quot;${jdbc.url:jdbc:mysql://localhost:3306/db1}&quot;)\n    private String url;\n\n    @Value(&quot;${jdbc.username:root}&quot;)\n    private String username;\n\n    @Value(&quot;${jdbc.password:}&quot;)\n    private String password;\n    \n    // slave database\n    @Value(&quot;${jdbc2.driverClassName:com.mysql.jdbc.Driver}&quot;)\n    private String driverClassName2;\n\n    @Value(&quot;${jdbc2.url:jdbc:mysql://localhost:3306/db2}&quot;)\n    private String url2;\n\n    @Value(&quot;${jdbc2.username:root}&quot;)\n    private String username2;\n\n    @Value(&quot;${jdbc2.password:}&quot;)\n    private String password2;\n\n    //You need this\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n       return new PropertySourcesPlaceholderConfigurer();\n    }\n    \n\n    \n    @Bean(name=&quot;master&quot;,initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\n    public AtomikosDataSourceBean AtomikosDataSourceA(){\n        AtomikosDataSourceBean bean =  new AtomikosDataSourceBean();\n        bean.setXaDataSourceClassName(MysqlXADataSource.class.getCanonicalName());\n        bean.setXaProperties(xaPropertiesA());\n        bean.setUniqueResourceName(&quot;master&quot;);\n        bean.setMinPoolSize(1);\n        bean.setMaxPoolSize(3);\n        bean.setMaxIdleTime(60);\n        bean.setPoolSize(1);\n        return bean;\n        \n    }\n    \n    @Bean(name=&quot;slave&quot;,initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\n    public AtomikosDataSourceBean AtomikosDataSourceB(){\n        AtomikosDataSourceBean bean =  new AtomikosDataSourceBean();\n        bean.setXaDataSourceClassName(MysqlXADataSource.class.getCanonicalName());\n        bean.setXaProperties(xaPropertiesB());\n        bean.setUniqueResourceName(&quot;slave&quot;);\n        bean.setMinPoolSize(1);\n        bean.setMaxPoolSize(3);\n        bean.setMaxIdleTime(60);\n        bean.setPoolSize(1);\n        return bean;\n        \n    }\n    \n    @Bean\n    public Properties xaPropertiesA() {\n        Properties props = new Properties();\n        props.setProperty(&quot;URL&quot;, url);\n        props.setProperty(&quot;user&quot;, username);\n        props.setProperty(&quot;password&quot;, password);\n        return props;\n    }   \n    \n    @Bean\n    public Properties xaPropertiesB() {\n        Properties props = new Properties();\n        props.setProperty(&quot;URL&quot;, url2);\n        props.setProperty(&quot;user&quot;, username2);\n        props.setProperty(&quot;password&quot;, password2);\n        return props;\n    }\n\n\n    @Bean\n    public Map&lt;Object, Object&gt; targetDataSourcesJta() {\n        Map&lt;Object, Object&gt; map = new HashMap&lt;Object, Object&gt;();\n        map.put(&quot;master&quot;, AtomikosDataSourceA());\n        map.put(&quot;slave&quot;, AtomikosDataSourceB());\n        \n        return map;\n    }\n    \n    @Bean(name=&quot;jdbcTemplateA&quot;)\n    public JdbcTemplate jdbcTempalteA(){\n        JdbcTemplate template = new JdbcTemplate();\n        template.setDataSource(AtomikosDataSourceA());\n        return template;\n    }\n    \n    @Bean(name=&quot;jdbcTemplateB&quot;)\n    public JdbcTemplate jdbcTempalteB(){\n        JdbcTemplate template = new JdbcTemplate();\n        template.setDataSource(AtomikosDataSourceB());\n        return template;\n    }\n    \n    @Bean\n    public UserTransactionManager userTransactionManager(){\n        UserTransactionManager userJta = new UserTransactionManager();\n        userJta.setForceShutdown(true);\n        \n        return userJta;\n    }\n    \n    @Bean\n    public UserTransactionImp userTransactionImp(){\n        UserTransactionImp userJtaImpl = new UserTransactionImp();\n        try {\n            userJtaImpl.setTransactionTimeout(300);\n        } catch (SystemException e) {\n            e.printStackTrace();\n        }\n        return userJtaImpl;\n    }\n    \n    @Bean(name=&quot;transactionManager&quot;)\n    public JtaTransactionManager jtaTransactionManager(){\n        JtaTransactionManager jta = new JtaTransactionManager();\n        //jta.setTransactionManager(userTransactionManager());\n        jta.setUserTransaction(userTransactionImp());\n        return jta;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679381721,"post_id":75795577,"comment_id":133706941,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679381742,"post_id":75795577,"comment_id":133706944,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithGoogle).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithGoogle\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1679392409,"post_id":75795577,"comment_id":133709386,"body_markdown":"Nah, the code works fine, but I&#39;m not sure how to handle the communication between the repository, ViewModel and activity. I want to login using an email and a password and if it successes -&gt; change activity to whatever, let&#39;s say, MainAppAcitivity, if it fails -&gt; display something on a screen (not a toast, please). Since firebase auth works on a background thread, the `FirebaseAuth.createUserWithEmailAndPassword` function returns a callback, so I cannot get results immediately like in the Login Activity that Android studio provides.","body":"Nah, the code works fine, but I&#39;m not sure how to handle the communication between the repository, ViewModel and activity. I want to login using an email and a password and if it successes -&gt; change activity to whatever, let&#39;s say, MainAppAcitivity, if it fails -&gt; display something on a screen (not a toast, please). Since firebase auth works on a background thread, the <code>FirebaseAuth.createUserWithEmailAndPassword</code> function returns a callback, so I cannot get results immediately like in the Login Activity that Android studio provides."},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1679392493,"post_id":75795577,"comment_id":133709413,"body_markdown":"Summarising I don&#39;t know if my `LoginRepository.login` function should return `Task&lt;AuthResult&gt;` or something else. If `Task&lt;AuthResult&gt;`, should I get rid of `LoginViewModel`?","body":"Summarising I don&#39;t know if my <code>LoginRepository.login</code> function should return <code>Task&lt;AuthResult&gt;</code> or something else. If <code>Task&lt;AuthResult&gt;</code>, should I get rid of <code>LoginViewModel</code>?"},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1679392515,"post_id":75795577,"comment_id":133709420,"body_markdown":"I&#39;ve seen this article already.","body":"I&#39;ve seen this article already."}],"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679392352,"creation_date":1679348357,"question_id":75795577,"body_markdown":"Android Studio provides a Login Activity template. There&#39;s a lot of code, so I&#39;ll show you the Repository, DataSource and a view model:\r\n\r\nLoginDataSource:\r\n```java\r\npackage com.umk.packit.Login.data;\r\n\r\nimport com.umk.packit.Login.data.model.LoggedInUser;\r\n\r\nimport java.io.IOException;\r\n\r\n/**\r\n * Class that handles authentication w/ login credentials and retrieves user information.\r\n */\r\npublic class LoginDataSource {\r\n    public Result&lt;LoggedInUser&gt; login(String email, String password) {\r\n        try {\r\n            // TODO: handle loggedInUser authentication\r\n            LoggedInUser fakeUser = new LoggedInUser(java.util.UUID.randomUUID().toString(), &quot;Jane Doe&quot;);\r\n            return new Result.Success&lt;&gt;(fakeUser);\r\n        } catch (Exception e) {\r\n            return new Result.Error(new IOException(&quot;Error logging in&quot;, e));\r\n        }\r\n    }\r\n\r\n    public void logout() {\r\n        // TODO: revoke authentication\r\n    }\r\n}\r\n```\r\n\r\nResult\r\n```java\r\npackage com.umk.packit.Login.data;\r\n\r\n/**\r\n * A generic class that holds a result success w/ data or an error exception.\r\n */\r\npublic class Result&lt;T&gt; {\r\n    // hide the private constructor to limit subclass types (Success, Error)\r\n    private Result() {\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        if (this instanceof Result.Success) {\r\n            Result.Success success = (Result.Success) this;\r\n            return &quot;Success[data=&quot; + success.getData().toString() + &quot;]&quot;;\r\n        } else if (this instanceof Result.Error) {\r\n            Result.Error error = (Result.Error) this;\r\n            return &quot;Error[exception=&quot; + error.getError().toString() + &quot;]&quot;;\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    // Success sub-class\r\n    public final static class Success&lt;T&gt; extends Result {\r\n        private T data;\r\n\r\n        public Success(T data) {\r\n            this.data = data;\r\n        }\r\n\r\n        public T getData() {\r\n            return this.data;\r\n        }\r\n    }\r\n\r\n    // Error sub-class\r\n    public final static class Error extends Result {\r\n        private Exception error;\r\n\r\n        public Error(Exception error) {\r\n            this.error = error;\r\n        }\r\n\r\n        public Exception getError() {\r\n            return this.error;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLoginRepository:\r\n```java\r\npackage com.umk.packit.Login.data;\r\n\r\nimport com.umk.packit.Login.data.model.LoggedInUser;\r\n\r\n/**\r\n * Class that requests authentication and user information from the remote data source and\r\n * maintains an in-memory cache of login status and user credentials information.\r\n */\r\npublic class LoginRepository {\r\n    // private constructor : singleton access\r\n    private LoginRepository(LoginDataSource dataSource) {\r\n        this.dataSource = dataSource;\r\n    }\r\n\r\n    public static LoginRepository getInstance(LoginDataSource dataSource) {\r\n        if (instance == null) {\r\n            instance = new LoginRepository(dataSource);\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public Result&lt;LoggedInUser&gt; login(String email, String password) {\r\n        // handle login\r\n        Result&lt;LoggedInUser&gt; result = dataSource.login(email, password);\r\n        if (result instanceof Result.Success) {\r\n            setLoggedInUser(((Result.Success&lt;LoggedInUser&gt;) result).getData());\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public boolean isLoggedIn() {\r\n        return user != null;\r\n    }\r\n\r\n    public void logout() {\r\n        user = null;\r\n        dataSource.logout();\r\n    }\r\n\r\n    private void setLoggedInUser(LoggedInUser user) {\r\n        this.user = user;\r\n    }\r\n\r\n    private static volatile LoginRepository instance;\r\n\r\n    private final LoginDataSource dataSource;\r\n\r\n    private LoggedInUser user = null;\r\n}\r\n```\r\n\r\nLoginViewModel:\r\n```java\r\npackage com.umk.packit.Login.ui.login;\r\n\r\nimport android.util.Patterns;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.umk.packit.Login.data.LoginRepository;\r\nimport com.umk.packit.Login.data.Result;\r\nimport com.umk.packit.Login.data.model.LoggedInUser;\r\nimport com.umk.packit.R;\r\n\r\npublic class LoginViewModel extends ViewModel {\r\n    LoginViewModel(LoginRepository loginRepository) {\r\n        this.loginRepository = loginRepository;\r\n    }\r\n\r\n    public void login(String email, String password) {\r\n        // can be launched in a separate asynchronous job\r\n        Result&lt;LoggedInUser&gt; result = loginRepository.login(email, password);\r\n\r\n        if (result instanceof Result.Success) {\r\n            LoggedInUser data = ((Result.Success&lt;LoggedInUser&gt;) result).getData();\r\n            loginResult.setValue(new LoginResult(new LoggedInUserView(data.getDisplayName())));\r\n        } else {\r\n            loginResult.setValue(new LoginResult(R.string.login_failed));\r\n        }\r\n    }\r\n\r\n    public void loginDataChanged(String email, String password) {\r\n        if (!isEmailValid(email)) {\r\n            loginFormState.setValue(new LoginFormState(R.string.invalid_email, null));\r\n        } else if (!isPasswordValid(password)) {\r\n            loginFormState.setValue(new LoginFormState(null, R.string.invalid_password));\r\n        } else {\r\n            loginFormState.setValue(new LoginFormState(true));\r\n        }\r\n    }\r\n\r\n    // A placeholder email validation check\r\n    private boolean isEmailValid(String email) {\r\n        if (email == null) {\r\n            return false;\r\n        }\r\n        if (email.contains(&quot;@&quot;)) {\r\n            return Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n        } else {\r\n            return !email.trim().isEmpty();\r\n        }\r\n    }\r\n\r\n    // A placeholder password validation check\r\n    private boolean isPasswordValid(String password) {\r\n        return password != null &amp;&amp; password.trim().length() &gt; 5;\r\n    }\r\n\r\n    LiveData&lt;LoginFormState&gt; getLoginFormState() {\r\n        return loginFormState;\r\n    }\r\n\r\n    LiveData&lt;LoginResult&gt; getLoginResult() {\r\n        return loginResult;\r\n    }\r\n\r\n    private MutableLiveData&lt;LoginFormState&gt; loginFormState = new MutableLiveData&lt;&gt;();\r\n    private MutableLiveData&lt;LoginResult&gt; loginResult = new MutableLiveData&lt;&gt;();\r\n    private LoginRepository loginRepository;\r\n}\r\n```\r\n\r\nLoggedInUserView\r\n```java\r\npackage com.umk.packit.Login.ui.login;\r\n\r\npublic class LoggedInUserView {\r\n    LoggedInUserView(String displayName) {\r\n        this.displayName = displayName;\r\n    }\r\n\r\n    String getDisplayName() {\r\n        return displayName;\r\n    }\r\n\r\n    private final String displayName;\r\n    //... other data fields that may be accessible to the UI\r\n}\r\n```\r\n\r\nLoginResult\r\n```java\r\npackage com.umk.packit.Login.ui.login;\r\n\r\n//Authentication result : success (user details) or error message.\r\nclass LoginResult {\r\n    LoginResult(@Nullable Integer error) {\r\n        this.error = error;\r\n    }\r\n\r\n    LoginResult(@Nullable LoggedInUserView success) {\r\n        this.success = success;\r\n    }\r\n\r\n    @Nullable\r\n    LoggedInUserView getSuccess() {\r\n        return success;\r\n    }\r\n\r\n    @Nullable\r\n    Integer getError() {\r\n        return error;\r\n    }\r\n\r\n    @Nullable\r\n    private LoggedInUserView success;\r\n    @Nullable\r\n    private Integer error;\r\n}\r\n```\r\n\r\nLoginFormState:\r\n```java\r\npackage com.umk.packit.Login.ui.login;\r\n\r\n\r\nclass LoginFormState {\r\n    LoginFormState(@Nullable Integer emailError, @Nullable Integer passwordError) {\r\n        this.emailError = emailError;\r\n        this.passwordError = passwordError;\r\n        this.isDataValid = false;\r\n    }\r\n\r\n    LoginFormState(boolean isDataValid) {\r\n        this.emailError = null;\r\n        this.passwordError = null;\r\n        this.isDataValid = isDataValid;\r\n    }\r\n\r\n    @Nullable\r\n    Integer getEmailError() {\r\n        return emailError;\r\n    }\r\n\r\n    @Nullable\r\n    Integer getPasswordError() {\r\n        return passwordError;\r\n    }\r\n\r\n    boolean isDataValid() {\r\n        return isDataValid;\r\n    }\r\n\r\n    @Nullable\r\n    private final Integer emailError;\r\n    @Nullable\r\n    private final Integer passwordError;\r\n    private final boolean isDataValid;\r\n}\r\n```\r\n\r\nI want to modify this code to fit firebase auth. I know that I need to get the instance of `FirebaseAuth` and there&#39;re methods like: `createUserWithEmailAndPassword(String, String)` and `signInWithEmailAndPassword(String, String)`.\r\n\r\nSince I want to use firebase I believe there&#39;s no need to have &#39;LoginDataSource` class, `Result` class, `LoggedInUser` class, `LoginFormState` class, `LoginResult` class, `LoggedInUserView` class (arguable). \r\n\r\nI&#39;m not sure what&#39;s the best way to implement the login repository to work with a view model and an activity.\r\n\r\nThe way that the template is implemented looks clear to me. Since the default implementation it&#39;s single threaded and firebase uses callbacks I&#39;m not sure what `LoginRepository.login` function should return. Should it return a `Task&lt;AuthResult&gt;`?\r\n\r\n\r\n```java\r\npublic Task&lt;AuthResult&gt; login(String email, String password) {\r\n        return firebaseAuth.createUserWithEmailAndPassword(email, password);\r\n    }\r\n```\r\n\r\nBut now that&#39;s the point of having `LoginViewModel`? Unless it&#39;ll do some UI things, but if not, `LoginViewModel.login` would just be this: \r\n```java\r\nTask&lt;AuthResult&gt; login(String email, String password) {\r\n   return loginRepo.login(email, password);\r\n}\r\n```\r\nThe reason I&#39;d like to have some kind of result like `Task&lt;AuthResult&gt;` type be combatible with the activity is to be able to know if the authorization failed or successed to manage widgets. \r\n\r\nWhat should I do? Return `Task&lt;AuthResult&gt;` from `LoginRepository.login` and get rid of `LoginViewModel`? Return `Task&lt;AuthResult&gt; from `LoginRepository.login` and keep the `LoginViewModel`? How should I handle it?","title":"What should login function in LoginRepository return?","body":"<p>Android Studio provides a Login Activity template. There's a lot of code, so I'll show you the Repository, DataSource and a view model:</p>\n<p>LoginDataSource:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.data;\n\nimport com.umk.packit.Login.data.model.LoggedInUser;\n\nimport java.io.IOException;\n\n/**\n * Class that handles authentication w/ login credentials and retrieves user information.\n */\npublic class LoginDataSource {\n    public Result&lt;LoggedInUser&gt; login(String email, String password) {\n        try {\n            // TODO: handle loggedInUser authentication\n            LoggedInUser fakeUser = new LoggedInUser(java.util.UUID.randomUUID().toString(), &quot;Jane Doe&quot;);\n            return new Result.Success&lt;&gt;(fakeUser);\n        } catch (Exception e) {\n            return new Result.Error(new IOException(&quot;Error logging in&quot;, e));\n        }\n    }\n\n    public void logout() {\n        // TODO: revoke authentication\n    }\n}\n</code></pre>\n<p>Result</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.data;\n\n/**\n * A generic class that holds a result success w/ data or an error exception.\n */\npublic class Result&lt;T&gt; {\n    // hide the private constructor to limit subclass types (Success, Error)\n    private Result() {\n    }\n\n    @Override\n    public String toString() {\n        if (this instanceof Result.Success) {\n            Result.Success success = (Result.Success) this;\n            return &quot;Success[data=&quot; + success.getData().toString() + &quot;]&quot;;\n        } else if (this instanceof Result.Error) {\n            Result.Error error = (Result.Error) this;\n            return &quot;Error[exception=&quot; + error.getError().toString() + &quot;]&quot;;\n        }\n        return &quot;&quot;;\n    }\n\n    // Success sub-class\n    public final static class Success&lt;T&gt; extends Result {\n        private T data;\n\n        public Success(T data) {\n            this.data = data;\n        }\n\n        public T getData() {\n            return this.data;\n        }\n    }\n\n    // Error sub-class\n    public final static class Error extends Result {\n        private Exception error;\n\n        public Error(Exception error) {\n            this.error = error;\n        }\n\n        public Exception getError() {\n            return this.error;\n        }\n    }\n}\n</code></pre>\n<p>LoginRepository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.data;\n\nimport com.umk.packit.Login.data.model.LoggedInUser;\n\n/**\n * Class that requests authentication and user information from the remote data source and\n * maintains an in-memory cache of login status and user credentials information.\n */\npublic class LoginRepository {\n    // private constructor : singleton access\n    private LoginRepository(LoginDataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    public static LoginRepository getInstance(LoginDataSource dataSource) {\n        if (instance == null) {\n            instance = new LoginRepository(dataSource);\n        }\n        return instance;\n    }\n\n    public Result&lt;LoggedInUser&gt; login(String email, String password) {\n        // handle login\n        Result&lt;LoggedInUser&gt; result = dataSource.login(email, password);\n        if (result instanceof Result.Success) {\n            setLoggedInUser(((Result.Success&lt;LoggedInUser&gt;) result).getData());\n        }\n        return result;\n    }\n\n    public boolean isLoggedIn() {\n        return user != null;\n    }\n\n    public void logout() {\n        user = null;\n        dataSource.logout();\n    }\n\n    private void setLoggedInUser(LoggedInUser user) {\n        this.user = user;\n    }\n\n    private static volatile LoginRepository instance;\n\n    private final LoginDataSource dataSource;\n\n    private LoggedInUser user = null;\n}\n</code></pre>\n<p>LoginViewModel:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.ui.login;\n\nimport android.util.Patterns;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.ViewModel;\n\nimport com.umk.packit.Login.data.LoginRepository;\nimport com.umk.packit.Login.data.Result;\nimport com.umk.packit.Login.data.model.LoggedInUser;\nimport com.umk.packit.R;\n\npublic class LoginViewModel extends ViewModel {\n    LoginViewModel(LoginRepository loginRepository) {\n        this.loginRepository = loginRepository;\n    }\n\n    public void login(String email, String password) {\n        // can be launched in a separate asynchronous job\n        Result&lt;LoggedInUser&gt; result = loginRepository.login(email, password);\n\n        if (result instanceof Result.Success) {\n            LoggedInUser data = ((Result.Success&lt;LoggedInUser&gt;) result).getData();\n            loginResult.setValue(new LoginResult(new LoggedInUserView(data.getDisplayName())));\n        } else {\n            loginResult.setValue(new LoginResult(R.string.login_failed));\n        }\n    }\n\n    public void loginDataChanged(String email, String password) {\n        if (!isEmailValid(email)) {\n            loginFormState.setValue(new LoginFormState(R.string.invalid_email, null));\n        } else if (!isPasswordValid(password)) {\n            loginFormState.setValue(new LoginFormState(null, R.string.invalid_password));\n        } else {\n            loginFormState.setValue(new LoginFormState(true));\n        }\n    }\n\n    // A placeholder email validation check\n    private boolean isEmailValid(String email) {\n        if (email == null) {\n            return false;\n        }\n        if (email.contains(&quot;@&quot;)) {\n            return Patterns.EMAIL_ADDRESS.matcher(email).matches();\n        } else {\n            return !email.trim().isEmpty();\n        }\n    }\n\n    // A placeholder password validation check\n    private boolean isPasswordValid(String password) {\n        return password != null &amp;&amp; password.trim().length() &gt; 5;\n    }\n\n    LiveData&lt;LoginFormState&gt; getLoginFormState() {\n        return loginFormState;\n    }\n\n    LiveData&lt;LoginResult&gt; getLoginResult() {\n        return loginResult;\n    }\n\n    private MutableLiveData&lt;LoginFormState&gt; loginFormState = new MutableLiveData&lt;&gt;();\n    private MutableLiveData&lt;LoginResult&gt; loginResult = new MutableLiveData&lt;&gt;();\n    private LoginRepository loginRepository;\n}\n</code></pre>\n<p>LoggedInUserView</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.ui.login;\n\npublic class LoggedInUserView {\n    LoggedInUserView(String displayName) {\n        this.displayName = displayName;\n    }\n\n    String getDisplayName() {\n        return displayName;\n    }\n\n    private final String displayName;\n    //... other data fields that may be accessible to the UI\n}\n</code></pre>\n<p>LoginResult</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.ui.login;\n\n//Authentication result : success (user details) or error message.\nclass LoginResult {\n    LoginResult(@Nullable Integer error) {\n        this.error = error;\n    }\n\n    LoginResult(@Nullable LoggedInUserView success) {\n        this.success = success;\n    }\n\n    @Nullable\n    LoggedInUserView getSuccess() {\n        return success;\n    }\n\n    @Nullable\n    Integer getError() {\n        return error;\n    }\n\n    @Nullable\n    private LoggedInUserView success;\n    @Nullable\n    private Integer error;\n}\n</code></pre>\n<p>LoginFormState:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.ui.login;\n\n\nclass LoginFormState {\n    LoginFormState(@Nullable Integer emailError, @Nullable Integer passwordError) {\n        this.emailError = emailError;\n        this.passwordError = passwordError;\n        this.isDataValid = false;\n    }\n\n    LoginFormState(boolean isDataValid) {\n        this.emailError = null;\n        this.passwordError = null;\n        this.isDataValid = isDataValid;\n    }\n\n    @Nullable\n    Integer getEmailError() {\n        return emailError;\n    }\n\n    @Nullable\n    Integer getPasswordError() {\n        return passwordError;\n    }\n\n    boolean isDataValid() {\n        return isDataValid;\n    }\n\n    @Nullable\n    private final Integer emailError;\n    @Nullable\n    private final Integer passwordError;\n    private final boolean isDataValid;\n}\n</code></pre>\n<p>I want to modify this code to fit firebase auth. I know that I need to get the instance of <code>FirebaseAuth</code> and there're methods like: <code>createUserWithEmailAndPassword(String, String)</code> and <code>signInWithEmailAndPassword(String, String)</code>.</p>\n<p>Since I want to use firebase I believe there's no need to have 'LoginDataSource<code>class,</code>Result<code>class,</code>LoggedInUser<code>class,</code>LoginFormState<code>class,</code>LoginResult<code>class,</code>LoggedInUserView` class (arguable).</p>\n<p>I'm not sure what's the best way to implement the login repository to work with a view model and an activity.</p>\n<p>The way that the template is implemented looks clear to me. Since the default implementation it's single threaded and firebase uses callbacks I'm not sure what <code>LoginRepository.login</code> function should return. Should it return a <code>Task&lt;AuthResult&gt;</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Task&lt;AuthResult&gt; login(String email, String password) {\n        return firebaseAuth.createUserWithEmailAndPassword(email, password);\n    }\n</code></pre>\n<p>But now that's the point of having <code>LoginViewModel</code>? Unless it'll do some UI things, but if not, <code>LoginViewModel.login</code> would just be this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Task&lt;AuthResult&gt; login(String email, String password) {\n   return loginRepo.login(email, password);\n}\n</code></pre>\n<p>The reason I'd like to have some kind of result like <code>Task&lt;AuthResult&gt;</code> type be combatible with the activity is to be able to know if the authorization failed or successed to manage widgets.</p>\n<p>What should I do? Return <code>Task&lt;AuthResult&gt;</code> from <code>LoginRepository.login</code> and get rid of <code>LoginViewModel</code>? Return <code>Task&lt;AuthResult&gt; from </code>LoginRepository.login<code>and keep the</code>LoginViewModel`? How should I handle it?</p>\n"},{"tags":["java","file-io"],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1292851229,"creation_date":1292851229,"answer_id":4490010,"question_id":4489878,"body_markdown":"Here is a Windows example:\r\n\r\nTry calling `getCanonicalFile` on a file in your CD-drive, but without a CD loaded. For example:\r\n\r\n    new File(&quot;D:\\\\dummy.txt&quot;).getCanonicalFile();\r\n\r\nyou will get:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: The device is not ready\r\n    \tat java.io.WinNTFileSystem.canonicalize0(Native Method)\r\n    \tat java.io.Win32FileSystem.canonicalize(Win32FileSystem.java:396)\r\n    \tat java.io.File.getCanonicalPath(File.java:559)\r\n    \tat java.io.File.getCanonicalFile(File.java:583)\r\n\r\n","title":"File.getCanonicalPath() failure examples","body":"<p>Here is a Windows example:</p>\n\n<p>Try calling <code>getCanonicalFile</code> on a file in your CD-drive, but without a CD loaded. For example:</p>\n\n<pre><code>new File(\"D:\\\\dummy.txt\").getCanonicalFile();\n</code></pre>\n\n<p>you will get:</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: The device is not ready\n    at java.io.WinNTFileSystem.canonicalize0(Native Method)\n    at java.io.Win32FileSystem.canonicalize(Win32FileSystem.java:396)\n    at java.io.File.getCanonicalPath(File.java:559)\n    at java.io.File.getCanonicalFile(File.java:583)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254415,"reputation":10285,"user_id":533800,"display_name":"LaGrandMere"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1292851232,"creation_date":1292851232,"answer_id":4490011,"question_id":4489878,"body_markdown":"Seen here in the [Sun Bug Database][1].\r\n\r\nFor JRE 1.4.2_06, File.getCanonicalPath() wasn&#39;t working on Windows for a removable drive when there is no media present in the drive.\r\n\r\nIt was corrected in Java 1.5, but you can see there can be OS-based problems with this method.\r\n\r\nI don&#39;t know of any problem in the current time, but it can happen, that&#39;s exactly what the Javadoc says. Usually it&#39;s quickly fixed in the newest Java version.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug;jsessionid=c542cb827c6c11e985898911305?bug_id=6192278","title":"File.getCanonicalPath() failure examples","body":"<p>Seen here in the <a href=\"https://bugs.java.com/bugdatabase/view_bug;jsessionid=c542cb827c6c11e985898911305?bug_id=6192278\" rel=\"nofollow noreferrer\">Sun Bug Database</a>.</p>\n<p>For JRE 1.4.2_06, File.getCanonicalPath() wasn't working on Windows for a removable drive when there is no media present in the drive.</p>\n<p>It was corrected in Java 1.5, but you can see there can be OS-based problems with this method.</p>\n<p>I don't know of any problem in the current time, but it can happen, that's exactly what the Javadoc says. Usually it's quickly fixed in the newest Java version.</p>\n"},{"tags":[],"owner":{"account_id":1131849,"reputation":61,"user_id":1117754,"display_name":"AndrewNR"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1324995737,"creation_date":1324995387,"answer_id":8645590,"question_id":4489878,"body_markdown":"The IO Exception also occurs if we try creating a File object with Windows device file keywords (see [device files](http://en.wikipedia.org/wiki/Device_file#Device_files)) used as file name.  \r\nAs if you try renaming the file to those keywords, Windows will not let you to make it (no CON, PRN, COM1 etc. file names allowed), Java also won&#39;t be able to convert that file name to the correct path.\r\n\r\nSo, any of next next code will trow the IO Exception:\r\n\r\n    File file = new File(&quot;COM1&quot;).getContextPath();\r\n    File file = new File(&quot;COM1.txt&quot;).getContextPath();\r\n    File file = new File(&quot;C:/somefolder/COM1.txt&quot;).getContextPath();\r\n\r\nHowever, next code should work:\r\n\r\n    File file = new File(&quot;COM1_.txt&quot;).getContextPath();  //underscore wins :)\r\n\r\n","title":"File.getCanonicalPath() failure examples","body":"<p>The IO Exception also occurs if we try creating a File object with Windows device file keywords (see <a href=\"http://en.wikipedia.org/wiki/Device_file#Device_files\">device files</a>) used as file name.<br>\nAs if you try renaming the file to those keywords, Windows will not let you to make it (no CON, PRN, COM1 etc. file names allowed), Java also won't be able to convert that file name to the correct path.</p>\n\n<p>So, any of next next code will trow the IO Exception:</p>\n\n<pre><code>File file = new File(\"COM1\").getContextPath();\nFile file = new File(\"COM1.txt\").getContextPath();\nFile file = new File(\"C:/somefolder/COM1.txt\").getContextPath();\n</code></pre>\n\n<p>However, next code should work:</p>\n\n<pre><code>File file = new File(\"COM1_.txt\").getContextPath();  //underscore wins :)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":415813,"reputation":3142,"user_id":790839,"display_name":"Anver Sadhat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378795401,"creation_date":1378376072,"answer_id":18633601,"question_id":4489878,"body_markdown":"One more scenario, When you try to use Operating System restricted/invalid characters as your file name.\r\n\r\nFor Windows `\\ / : * ? &quot; &lt; &gt; |` these are the invalid characters. Try to rename a file with : you will get a balloon/tip message about the invalid characters.\r\n\r\nTry the Following Java Code.  \r\n\r\n    File file = new File(&quot;c:/outputlog-2013-09-20-22:15&quot;); \r\n    //A common scenario when you try to append java.util.Date to create a file like\r\n    //File newFile = new File(filename + &quot;_&quot; + new Date());\r\n    System.out.println(file.getAbsolutePath());\r\n    System.out.println(file.getCanonicalPath());\r\n\r\nIf the File name contains &lt;br&gt;\r\n`* ? ` you will get java.io.IOException: Invalid argument &lt;br&gt;\r\n`| :` you will get java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n\r\n&lt;br&gt;\r\nwhen you use the getCanonicalPath() method. &lt;br&gt;&lt;br&gt;If we use any of `&quot; &lt; &gt;` \r\nchar in the file name, then getCanonicalPath() method is **not** failing but when you try to create the file you will be getting the Invalid argument Exception. \r\n\r\nRefer [jdk7 api][1]\r\n\r\nThe precise definition of canonical form is system-dependent. Here I have used windows 7.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getCanonicalPath%28%29","title":"File.getCanonicalPath() failure examples","body":"<p>One more scenario, When you try to use Operating System restricted/invalid characters as your file name.</p>\n\n<p>For Windows <code>\\ / : * ? \" &lt; &gt; |</code> these are the invalid characters. Try to rename a file with : you will get a balloon/tip message about the invalid characters.</p>\n\n<p>Try the Following Java Code.  </p>\n\n<pre><code>File file = new File(\"c:/outputlog-2013-09-20-22:15\"); \n//A common scenario when you try to append java.util.Date to create a file like\n//File newFile = new File(filename + \"_\" + new Date());\nSystem.out.println(file.getAbsolutePath());\nSystem.out.println(file.getCanonicalPath());\n</code></pre>\n\n<p>If the File name contains <br>\n<code>* ?</code> you will get java.io.IOException: Invalid argument <br>\n<code>| :</code> you will get java.io.IOException: The filename, directory name, or volume label syntax is incorrect</p>\n\n<p><br>\nwhen you use the getCanonicalPath() method. <br><br>If we use any of <code>\" &lt; &gt;</code> \nchar in the file name, then getCanonicalPath() method is <strong>not</strong> failing but when you try to create the file you will be getting the Invalid argument Exception. </p>\n\n<p>Refer <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getCanonicalPath%28%29\" rel=\"nofollow\">jdk7 api</a></p>\n\n<p>The precise definition of canonical form is system-dependent. Here I have used windows 7.</p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1413489363,"creation_date":1413489363,"answer_id":26412778,"question_id":4489878,"body_markdown":"Here is generic example for all OS:\r\n\r\n    new File(&quot;\\u0000&quot;).getCanonicalFile();\r\n\r\nBefore canonicalizing of the file, its validity is checked with java.io.File#isInvalid:\r\n\r\n    final boolean isInvalid() {\r\n        if (status == null) {\r\n            status = (this.path.indexOf(&#39;\\u0000&#39;) &lt; 0) ? PathStatus.CHECKED\r\n                                                       : PathStatus.INVALID;\r\n        }\r\n        return status == PathStatus.INVALID;\r\n    }\r\n\r\nAnd if the file is invalid - you&#39;ll get an IO exception:\r\n\r\n    public String getCanonicalPath() throws IOException {\r\n        if (isInvalid()) {\r\n            throw new IOException(&quot;Invalid file path&quot;);\r\n        }\r\n        return fs.canonicalize(fs.resolve(this));\r\n    }\r\n\r\nProfit!","title":"File.getCanonicalPath() failure examples","body":"<p>Here is generic example for all OS:</p>\n\n<pre><code>new File(\"\\u0000\").getCanonicalFile();\n</code></pre>\n\n<p>Before canonicalizing of the file, its validity is checked with java.io.File#isInvalid:</p>\n\n<pre><code>final boolean isInvalid() {\n    if (status == null) {\n        status = (this.path.indexOf('\\u0000') &lt; 0) ? PathStatus.CHECKED\n                                                   : PathStatus.INVALID;\n    }\n    return status == PathStatus.INVALID;\n}\n</code></pre>\n\n<p>And if the file is invalid - you'll get an IO exception:</p>\n\n<pre><code>public String getCanonicalPath() throws IOException {\n    if (isInvalid()) {\n        throw new IOException(\"Invalid file path\");\n    }\n    return fs.canonicalize(fs.resolve(this));\n}\n</code></pre>\n\n<p>Profit!</p>\n"}],"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14517,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":4490010,"answer_count":5,"score":16,"last_activity_date":1679392206,"creation_date":1292850380,"question_id":4489878,"body_markdown":"Does anyone have an experience or know when the method `File.getCanonicalPath()` will throw an `IOException`\r\n\r\nI have tried to look up from the Internet and the best answer is in [File API][1] which says \r\n\r\n&quot;`IOException` - If an I/O error occurs, which is possible because the construction of the canonical pathname may require filesystem queries&quot;\r\n\r\nHowever, it is not clear to me because I still cannot think of a case which this might fail. Can anyone give me concrete examples which can happen on Linux, Windows and other OS (optional)?\r\n\r\nI reason I want to know is because I want to handle this exception accordingly. Thus, it will be best if I know all the possible failures that can happen.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/File.html#getCanonicalPath%28%29","title":"File.getCanonicalPath() failure examples","body":"<p>Does anyone have an experience or know when the method <code>File.getCanonicalPath()</code> will throw an <code>IOException</code></p>\n\n<p>I have tried to look up from the Internet and the best answer is in <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html#getCanonicalPath%28%29\">File API</a> which says </p>\n\n<p>\"<code>IOException</code> - If an I/O error occurs, which is possible because the construction of the canonical pathname may require filesystem queries\"</p>\n\n<p>However, it is not clear to me because I still cannot think of a case which this might fail. Can anyone give me concrete examples which can happen on Linux, Windows and other OS (optional)?</p>\n\n<p>I reason I want to know is because I want to handle this exception accordingly. Thus, it will be best if I know all the possible failures that can happen.</p>\n"},{"tags":["java","for-loop","while-loop","stack","java.util.scanner"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679383514,"post_id":75798264,"comment_id":133707259,"body_markdown":"You always read two lines in `for (String s = input.readLine(); !input.isEmpty(); s = input.readLine()) {`","body":"You always read two lines in <code>for (String s = input.readLine(); !input.isEmpty(); s = input.readLine()) {</code>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1679383662,"post_id":75798264,"comment_id":133707290,"body_markdown":"What is `edu.princeton.cs.algs4.In`?","body":"What is <code>edu.princeton.cs.algs4.In</code>?"},{"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"score":0,"creation_date":1679383968,"post_id":75798264,"comment_id":133707344,"body_markdown":"@Jens I suspected so, but I don&#39;t really know why. From what I understand, `String s = input.readLine()` initializes `s` to the first line,  `!input.isEmpty()` checks if the current line is empty, and the second `input.readLine()` updates `s` with the next line after every iteration. So it should iterate read all the lines...","body":"@Jens I suspected so, but I don&#39;t really know why. From what I understand, <code>String s = input.readLine()</code> initializes <code>s</code> to the first line,  <code>!input.isEmpty()</code> checks if the current line is empty, and the second <code>input.readLine()</code> updates <code>s</code> with the next line after every iteration. So it should iterate read all the lines..."},{"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"score":0,"creation_date":1679384038,"post_id":75798264,"comment_id":133707355,"body_markdown":"@Queeg source code for the `In` class used here","body":"@Queeg source code for the <code>In</code> class used here"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679384058,"post_id":75798264,"comment_id":133707359,"body_markdown":"@oresky Hard to say without knowing the implementation of IN. But I would suggest you to use a debugger to find out what is going on","body":"@oresky Hard to say without knowing the implementation of IN. But I would suggest you to use a debugger to find out what is going on"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1679388387,"post_id":75798264,"comment_id":133708319,"body_markdown":"@oresky Your assumption is wrong. `!input.isEmpty()` does not check if the current line is empty. It checks whether there is still data that can be obtained via `input.readLine()`. The current line is stored in `s`.","body":"@oresky Your assumption is wrong. <code>!input.isEmpty()</code> does not check if the current line is empty. It checks whether there is still data that can be obtained via <code>input.readLine()</code>. The current line is stored in <code>s</code>."},{"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"score":0,"creation_date":1679390234,"post_id":75798264,"comment_id":133708751,"body_markdown":"@Queeg Yes, and I think that the body is never executed because `s` is updated _before_ the condition is checked. When I tried stepping into the loop, first it opened `readLine()` and then `isEmpty()`","body":"@Queeg Yes, and I think that the body is never executed because <code>s</code> is updated <i>before</i> the condition is checked. When I tried stepping into the loop, first it opened <code>readLine()</code> and then <code>isEmpty()</code>"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679392091,"creation_date":1679390989,"answer_id":75799377,"question_id":75798264,"body_markdown":"because a for loop checks its termination condition after it performs an increment, and terminartes if it is false, the result of the `readLine` which moves the `In` to empty will never be used.\r\n\r\nRun this code to see:\r\n```\r\npublic class X {\r\n    public static void main(String[] args) {\r\n        In in = new In();\r\n        for (String s = in.readLine(); !in.isEmpty(); s = in.readLine()) {\r\n            System.out.println(&quot;body&quot;);\r\n        }\r\n    }\r\n\r\n}\r\nclass In {\r\n    private int count = 0;\r\n    public String readLine() {\r\n        System.out.println(&quot;readLine &quot; + count);\r\n        return &quot;&quot;+count++;\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        System.out.println(&quot;isEmpty &quot; + count);\r\n        return count &gt; 2;\r\n    }\r\n}\r\n```\r\nThe output is:\r\n```\r\nreadLine 0\r\nisEmpty 1\r\nbody\r\nreadLine 1\r\nisEmpty 2\r\nbody\r\nreadLine 2\r\nisEmpty 3\r\n```\r\nSee that `body` doesn&#39;t appear after the last `readLine`.\r\n\r\nAnother bug in your program is that `readLine` is called at least once -- even if the `In` is already empty.\r\n\r\nIf you really want to use a `for` loop, you can create an `Iterable` and use a foreach loop:\r\n```\r\nimport java.util.Iterator;\r\n\r\npublic class X {\r\n    public static void main(String[] args) {\r\n        In in = new In();\r\n        for (String s: new InIterable(in)) {\r\n            System.out.println(&quot;body &quot; + s);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass InIterable implements Iterable&lt;String&gt; {\r\n    private final In in;\r\n\r\n    InIterable(In in) {\r\n        this.in = in;\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;String&gt; iterator() {\r\n        return new Iterator&lt;&gt;() {\r\n            @Override\r\n            public boolean hasNext() {\r\n                return !in.isEmpty();\r\n            }\r\n\r\n            @Override\r\n            public String next() {\r\n                return in.readLine();\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"For loop terminates earlier than expected when iterating over a text file","body":"<p>because a for loop checks its termination condition after it performs an increment, and terminartes if it is false, the result of the <code>readLine</code> which moves the <code>In</code> to empty will never be used.</p>\n<p>Run this code to see:</p>\n<pre><code>public class X {\n    public static void main(String[] args) {\n        In in = new In();\n        for (String s = in.readLine(); !in.isEmpty(); s = in.readLine()) {\n            System.out.println(&quot;body&quot;);\n        }\n    }\n\n}\nclass In {\n    private int count = 0;\n    public String readLine() {\n        System.out.println(&quot;readLine &quot; + count);\n        return &quot;&quot;+count++;\n    }\n\n    public boolean isEmpty() {\n        System.out.println(&quot;isEmpty &quot; + count);\n        return count &gt; 2;\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>readLine 0\nisEmpty 1\nbody\nreadLine 1\nisEmpty 2\nbody\nreadLine 2\nisEmpty 3\n</code></pre>\n<p>See that <code>body</code> doesn't appear after the last <code>readLine</code>.</p>\n<p>Another bug in your program is that <code>readLine</code> is called at least once -- even if the <code>In</code> is already empty.</p>\n<p>If you really want to use a <code>for</code> loop, you can create an <code>Iterable</code> and use a foreach loop:</p>\n<pre><code>import java.util.Iterator;\n\npublic class X {\n    public static void main(String[] args) {\n        In in = new In();\n        for (String s: new InIterable(in)) {\n            System.out.println(&quot;body &quot; + s);\n        }\n    }\n\n}\n\nclass InIterable implements Iterable&lt;String&gt; {\n    private final In in;\n\n    InIterable(In in) {\n        this.in = in;\n    }\n\n    @Override\n    public Iterator&lt;String&gt; iterator() {\n        return new Iterator&lt;&gt;() {\n            @Override\n            public boolean hasNext() {\n                return !in.isEmpty();\n            }\n\n            @Override\n            public String next() {\n                return in.readLine();\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75799377,"answer_count":1,"score":0,"last_activity_date":1679392091,"creation_date":1679383021,"question_id":75798264,"body_markdown":"I&#39;ve been reading this book, [Algorithms by Sedgewick and Wayne](https://sedgewick.io/books/algorithms/), and this is one of the exercises given in chapter 1:\r\n\r\n*1.3.4 Write a stack client Parentheses that reads in a text stream from standard input and uses a stack to determine whether its parentheses are properly balanced. For example, your program should print true for [()]{}{[()()]()} and false for [(]).*\r\n\r\nNow, my solution works when using a while loop (although it doesn&#39;t exactly do what was asked):\r\n\r\n[Link to In.java](https://introcs.cs.princeton.edu/java/stdlib/In.java.html)\r\n\r\n```\r\nimport edu.princeton.cs.algs4.In;\r\nimport edu.princeton.cs.algs4.StdOut;\r\n\r\npublic class Parenthesis {\r\n    public static void main(String[] args) {\r\n        In input = new In(&quot;parenthesis.txt&quot;);\r\n        LinkedListStack&lt;String&gt; stack = new LinkedListStack&lt;&gt;();\r\n\r\n        while (!input.isEmpty()) {\r\n            String s = input.readLine();\r\n            \r\n            if (s.equals(&quot;(&quot;))\r\n                stack.push(s);\r\n            else if (s.equals(&quot;)&quot;))\r\n                if (!stack.isEmpty())\r\n                    stack.pop();\r\n                else\r\n                    stack.push(s);\r\n        }\r\n\r\n        if (stack.isEmpty())\r\n            StdOut.println(&quot;Balanced&quot;);\r\n        else\r\n            StdOut.println(&quot;Unbalanced&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBut when I replace the while loop with a for loop, the loop terminates before reaching the last &quot;)&quot;:\r\n\r\n```\r\nimport edu.princeton.cs.algs4.In;\r\nimport edu.princeton.cs.algs4.StdOut;\r\n\r\npublic class Parenthesis {\r\n    public static void main(String[] args) {\r\n        In input = new In(&quot;parenthesis.txt&quot;);\r\n        LinkedListStack&lt;String&gt; stack = new LinkedListStack&lt;&gt;();\r\n\r\n        for (String s = input.readLine(); !input.isEmpty(); s = input.readLine()) {\r\n            if (s.equals(&quot;(&quot;))\r\n                stack.push(s);\r\n            else if (s.equals(&quot;)&quot;))\r\n                if (!stack.isEmpty())\r\n                    stack.pop();\r\n                else\r\n                    stack.push(s);\r\n        }\r\n    \r\n        if (stack.isEmpty())\r\n            StdOut.println(&quot;Balanced&quot;);\r\n        else\r\n            StdOut.println(&quot;Unbalanced&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI thought the for loop I used was just a compact version of the while loop, but clearly I&#39;m doing something wrong. I&#39;ve tried debugging the code over and over, but can&#39;t figure out why this happens.\r\n\r\nP.S. if there is a more efficient approach for this problem, please do share it. Thanks!","title":"For loop terminates earlier than expected when iterating over a text file","body":"<p>I've been reading this book, <a href=\"https://sedgewick.io/books/algorithms/\" rel=\"nofollow noreferrer\">Algorithms by Sedgewick and Wayne</a>, and this is one of the exercises given in chapter 1:</p>\n<p><em>1.3.4 Write a stack client Parentheses that reads in a text stream from standard input and uses a stack to determine whether its parentheses are properly balanced. For example, your program should print true for [()]{}{()()} and false for [(]).</em></p>\n<p>Now, my solution works when using a while loop (although it doesn't exactly do what was asked):</p>\n<p><a href=\"https://introcs.cs.princeton.edu/java/stdlib/In.java.html\" rel=\"nofollow noreferrer\">Link to In.java</a></p>\n<pre><code>import edu.princeton.cs.algs4.In;\nimport edu.princeton.cs.algs4.StdOut;\n\npublic class Parenthesis {\n    public static void main(String[] args) {\n        In input = new In(&quot;parenthesis.txt&quot;);\n        LinkedListStack&lt;String&gt; stack = new LinkedListStack&lt;&gt;();\n\n        while (!input.isEmpty()) {\n            String s = input.readLine();\n            \n            if (s.equals(&quot;(&quot;))\n                stack.push(s);\n            else if (s.equals(&quot;)&quot;))\n                if (!stack.isEmpty())\n                    stack.pop();\n                else\n                    stack.push(s);\n        }\n\n        if (stack.isEmpty())\n            StdOut.println(&quot;Balanced&quot;);\n        else\n            StdOut.println(&quot;Unbalanced&quot;);\n    }\n}\n</code></pre>\n<p>But when I replace the while loop with a for loop, the loop terminates before reaching the last &quot;)&quot;:</p>\n<pre><code>import edu.princeton.cs.algs4.In;\nimport edu.princeton.cs.algs4.StdOut;\n\npublic class Parenthesis {\n    public static void main(String[] args) {\n        In input = new In(&quot;parenthesis.txt&quot;);\n        LinkedListStack&lt;String&gt; stack = new LinkedListStack&lt;&gt;();\n\n        for (String s = input.readLine(); !input.isEmpty(); s = input.readLine()) {\n            if (s.equals(&quot;(&quot;))\n                stack.push(s);\n            else if (s.equals(&quot;)&quot;))\n                if (!stack.isEmpty())\n                    stack.pop();\n                else\n                    stack.push(s);\n        }\n    \n        if (stack.isEmpty())\n            StdOut.println(&quot;Balanced&quot;);\n        else\n            StdOut.println(&quot;Unbalanced&quot;);\n    }\n}\n</code></pre>\n<p>I thought the for loop I used was just a compact version of the while loop, but clearly I'm doing something wrong. I've tried debugging the code over and over, but can't figure out why this happens.</p>\n<p>P.S. if there is a more efficient approach for this problem, please do share it. Thanks!</p>\n"},{"tags":["java","appium","appium-desktop","appium-java","windows-application-driver"],"answers":[{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679391849,"creation_date":1679391849,"answer_id":75799534,"question_id":73136495,"body_markdown":"I had to update the following lines in the pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;8.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.8.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nand find elements by this way:\r\nappium.findElement(AppiumBy.accessibilityId(&quot;mainWindow&quot;)).click();","title":"Updating from appium 1.8.1 to appium 1.22.3","body":"<p>I had to update the following lines in the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;8.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;31.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>and find elements by this way:\nappium.findElement(AppiumBy.accessibilityId(&quot;mainWindow&quot;)).click();</p>\n"}],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75799534,"answer_count":1,"score":0,"last_activity_date":1679391849,"creation_date":1658918559,"question_id":73136495,"body_markdown":"I&#39;m using Appium for desktop to test windows application with my Java code.\r\nI decided to update Appium from 1.8.1 to 1.22.3\r\n\r\nI download new Node.js.\r\nDeleted uninstalled current version of Appium and installed appium with:\r\n``` npm -g appium``` \r\nI also updated the the last window application driver to:\r\nWinAppDriver v1.2.1\r\n\r\nUsing appium doctor - everything seems OK.\r\n\r\nIn my pom.xml file I updated:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;8.1.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI&#39;m trying to start appium service with:\r\n\r\n     service = AppiumDriverLocalService.buildService(new\r\n                AppiumServiceBuilder().usingDriverExecutable(new File(\r\n                &quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;)).withAppiumJS(new File(\r\n                &quot;C:\\\\Users\\\\&quot; + user + &quot;\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;)).\r\n                withArgument(GeneralServerFlag.LOG_LEVEL, &quot;warn&quot;). //warn\r\n                withIPAddress(&quot;127.0.0.1&quot;).usingAnyFreePort());//                usingAnyFreePort());//&quot;127.0.0.1&quot;  &quot;192.168.1.93&quot;\r\n        service.start();\r\n\r\nand start lunch the application with:\r\n```\r\n  DesiredCapabilities appCapabilities = new DesiredCapabilities();\r\n                appCapabilities.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\r\n                appCapabilities.setCapability(&quot;app&quot;, BIN_PATH + &quot;CathWorksUI.exe&quot;); //C:\\Cathworks\\bin\\CathWorksUI.exe        Microsoft.WindowsCalculator_8wekyb3d8bbwe!App\r\n                appCapabilities.setCapability(&quot;newCommandTimeout&quot;, 9000);\r\n                appCapabilities.setCapability(&quot;automationName&quot;, &quot;appium&quot;);\r\n                appCapabilities.setCapability(&quot;platform&quot;, &quot;Windows 10&quot;);\r\n\r\n\r\n                appium = new WindowsDriver&lt;WindowsElement&gt;(service.getUrl(), appCapabilities);\r\n```\r\nI have 3 issues:\r\n 1. I get the following error when trying to start the service:\r\n```\r\nio.appium.java_client.service.local.AppiumServerHasNotBeenStartedLocallyException: The local appium server has not been started.\r\n```\r\n\r\n 2. ``` appium = new WindowsDriver&lt;WindowsElement&gt;``` has error under  \r\n\r\n\r\nand under:\r\n```protected static WindowsDriver&lt;?&gt; appium ```\r\n\r\n```\r\nappium = new WindowsDriver&lt;WindowsElement&gt;(service.getUrl(), appCapabilities);\r\n```\r\n\r\n3.\r\n```appium.findElementByAccessibilityId(&quot;element&quot;)``` \r\n\r\nis not recognized anymore.\r\n\r\n","title":"Updating from appium 1.8.1 to appium 1.22.3","body":"<p>I'm using Appium for desktop to test windows application with my Java code.\nI decided to update Appium from 1.8.1 to 1.22.3</p>\n<p>I download new Node.js.\nDeleted uninstalled current version of Appium and installed appium with:\n<code> npm -g appium</code>\nI also updated the the last window application driver to:\nWinAppDriver v1.2.1</p>\n<p>Using appium doctor - everything seems OK.</p>\n<p>In my pom.xml file I updated:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;8.1.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I'm trying to start appium service with:</p>\n<pre><code> service = AppiumDriverLocalService.buildService(new\n            AppiumServiceBuilder().usingDriverExecutable(new File(\n            &quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;)).withAppiumJS(new File(\n            &quot;C:\\\\Users\\\\&quot; + user + &quot;\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;)).\n            withArgument(GeneralServerFlag.LOG_LEVEL, &quot;warn&quot;). //warn\n            withIPAddress(&quot;127.0.0.1&quot;).usingAnyFreePort());//                usingAnyFreePort());//&quot;127.0.0.1&quot;  &quot;192.168.1.93&quot;\n    service.start();\n</code></pre>\n<p>and start lunch the application with:</p>\n<pre><code>  DesiredCapabilities appCapabilities = new DesiredCapabilities();\n                appCapabilities.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\n                appCapabilities.setCapability(&quot;app&quot;, BIN_PATH + &quot;CathWorksUI.exe&quot;); //C:\\Cathworks\\bin\\CathWorksUI.exe        Microsoft.WindowsCalculator_8wekyb3d8bbwe!App\n                appCapabilities.setCapability(&quot;newCommandTimeout&quot;, 9000);\n                appCapabilities.setCapability(&quot;automationName&quot;, &quot;appium&quot;);\n                appCapabilities.setCapability(&quot;platform&quot;, &quot;Windows 10&quot;);\n\n\n                appium = new WindowsDriver&lt;WindowsElement&gt;(service.getUrl(), appCapabilities);\n</code></pre>\n<p>I have 3 issues:</p>\n<ol>\n<li>I get the following error when trying to start the service:</li>\n</ol>\n<pre><code>io.appium.java_client.service.local.AppiumServerHasNotBeenStartedLocallyException: The local appium server has not been started.\n</code></pre>\n<ol start=\"2\">\n<li><code> appium = new WindowsDriver&lt;WindowsElement&gt;</code> has error under</li>\n</ol>\n<p>and under:\n<code>protected static WindowsDriver&lt;?&gt; appium </code></p>\n<pre><code>appium = new WindowsDriver&lt;WindowsElement&gt;(service.getUrl(), appCapabilities);\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p><code>appium.findElementByAccessibilityId(&quot;element&quot;)</code></p>\n<p>is not recognized anymore.</p>\n"},{"tags":["java","biginteger"],"comments":[{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":1,"creation_date":1357607680,"post_id":14206828,"comment_id":19700185,"body_markdown":"`BigInteger a = new BigInteger(b)`?","body":"<code>BigInteger a = new BigInteger(b)</code>?"},{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":8,"creation_date":1357607741,"post_id":14206828,"comment_id":19700204,"body_markdown":"`BigInteger` is immutable. Any specific reason for needing a copy ?","body":"<code>BigInteger</code> is immutable. Any specific reason for needing a copy ?"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":1,"creation_date":1357607757,"post_id":14206828,"comment_id":19700206,"body_markdown":"It&#39;s immutable, why do you need a copy?","body":"It&#39;s immutable, why do you need a copy?"},{"owner":{"account_id":1649504,"reputation":31596,"user_id":1520364,"accept_rate":70,"display_name":"Karthik T"},"score":2,"creation_date":1357607839,"post_id":14206828,"comment_id":19700229,"body_markdown":"@Jon [BigInteger](http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html) doesnt seem to have a copy constructor","body":"@Jon <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> doesnt seem to have a copy constructor"},{"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"score":1,"creation_date":1357608045,"post_id":14206828,"comment_id":19700280,"body_markdown":"BigInteger a = b; should work, is there a particular problem or error you&#39;re having?","body":"BigInteger a = b; should work, is there a particular problem or error you&#39;re having?"},{"owner":{"account_id":2189967,"reputation":307,"user_id":1937318,"accept_rate":100,"display_name":"Carlos Ledesma"},"score":1,"creation_date":1357608145,"post_id":14206828,"comment_id":19700299,"body_markdown":"That&#39;s the point, it&#39;s inmutable, I didn&#39;t notice, thanks a lot!\n\nI know it&#39;s in the documentation, in fact, it&#39;s the first word of the main text, but somehow I managed to ignore it :(\n\n@JamesPoulson make it an answer if you want it scored.","body":"That&#39;s the point, it&#39;s inmutable, I didn&#39;t notice, thanks a lot!  I know it&#39;s in the documentation, in fact, it&#39;s the first word of the main text, but somehow I managed to ignore it :(  @JamesPoulson make it an answer if you want it scored."}],"answers":[{"tags":[],"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1404980023,"creation_date":1357607726,"answer_id":14206841,"question_id":14206828,"body_markdown":"You can use [`BigInteger(String val)`](http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html#BigInteger(java.lang.String))\r\n\r\n    BigInteger first = new BigInteger(&quot;15&quot;);\r\n    BigInteger second = new BigInteger(first.toString());\r\n\r\nAlthough this is possible, `BigInteger` objects are [immutable][1] and I can&#39;t imagine a need to copy.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Immutable_object","title":"BigInteger copying","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html#BigInteger%28java.lang.String%29\" rel=\"nofollow\"><code>BigInteger(String val)</code></a></p>\n\n<pre><code>BigInteger first = new BigInteger(\"15\");\nBigInteger second = new BigInteger(first.toString());\n</code></pre>\n\n<p>Although this is possible, <code>BigInteger</code> objects are <a href=\"http://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow\">immutable</a> and I can't imagine a need to copy.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1357607958,"creation_date":1357607958,"answer_id":14206865,"question_id":14206828,"body_markdown":"`BigInteger` is immutable -- there should never be any need to copy a `BigInteger`.","title":"BigInteger copying","body":"<p><code>BigInteger</code> is immutable -- there should never be any need to copy a <code>BigInteger</code>.</p>\n"},{"tags":[],"owner":{"account_id":1079373,"reputation":8717,"user_id":1076786,"display_name":"Eli Algranti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357608229,"creation_date":1357607985,"answer_id":14206871,"question_id":14206828,"body_markdown":"How about:\r\n\r\n    BigInteger a = b.clone()\r\n\r\nBut as mentioned it&#39;s immutable so there should be no need.","title":"BigInteger copying","body":"<p>How about:</p>\n\n<pre><code>BigInteger a = b.clone()\n</code></pre>\n\n<p>But as mentioned it's immutable so there should be no need.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357608695,"creation_date":1357608695,"answer_id":14206955,"question_id":14206828,"body_markdown":"Firstly, you shouldn&#39;t need to copy a `BigInteger` because it is immutable class.  (Copying a `BigInteger` is about as useful as copying a `String` ... )\r\n\r\nBut if you do need to copy one, then a more efficient way to do it would be this:\r\n\r\n    BigInteger first = new BigInteger(42);\r\n    BigInteger second = first.add(BigInteger.ZERO);\r\n\r\nThis avoids the (relatively) expensive binary -&gt; decimal -&gt; binary conversions and the creation of an intermediate string.\r\n\r\nAnd `BigInteger.clone()` should be more efficient still ...","title":"BigInteger copying","body":"<p>Firstly, you shouldn't need to copy a <code>BigInteger</code> because it is immutable class.  (Copying a <code>BigInteger</code> is about as useful as copying a <code>String</code> ... )</p>\n\n<p>But if you do need to copy one, then a more efficient way to do it would be this:</p>\n\n<pre><code>BigInteger first = new BigInteger(42);\nBigInteger second = first.add(BigInteger.ZERO);\n</code></pre>\n\n<p>This avoids the (relatively) expensive binary -> decimal -> binary conversions and the creation of an intermediate string.</p>\n\n<p>And <code>BigInteger.clone()</code> should be more efficient still ...</p>\n"},{"tags":[],"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1357608818,"creation_date":1357608818,"answer_id":14206965,"question_id":14206828,"body_markdown":"`BigInteger` is immutable like other wrapper classes such as `Integer` and `String`. So no worries about possible alteration/tampering.\r\n\r\nP.S: As a bonus, here&#39;s a link on when defensive copying is needed.\r\n\r\nhttp://www.javapractices.com/topic/TopicAction.do?Id=15","title":"BigInteger copying","body":"<p><code>BigInteger</code> is immutable like other wrapper classes such as <code>Integer</code> and <code>String</code>. So no worries about possible alteration/tampering.</p>\n\n<p>P.S: As a bonus, here's a link on when defensive copying is needed.</p>\n\n<p><a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=15\">http://www.javapractices.com/topic/TopicAction.do?Id=15</a></p>\n"},{"tags":[],"owner":{"account_id":28074133,"reputation":1,"user_id":21446284,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679391646,"creation_date":1679390947,"answer_id":75799371,"question_id":14206828,"body_markdown":"The immutability doesn&#39;t solve this problem:\r\nSuppose you want to write a loop equivalent to\r\n\r\n    int a = 10;\r\n    for(int i = a; i &lt; 10; i++){...}\r\n\r\nwith BigIntegers.\r\nThe initial value in a will be needed later on:\r\n\r\n    BigInteger a = new BigInteger(10);\r\n    for(BigInteger i = a.copy(); a.compare(BigInteger.TEN) &lt; 0; i = i.plus(BigInteger.ONE)\r\n    {...}\r\n\r\nThe initialization of the loop variable i will need a (nonexistent) copy operation,\r\nsince otherwise i and a would point to the same object and the value\r\nin a would be lost once i is increased within the loop.\r\n\r\nMy best guess on an efficient way to do the copying would be something like\r\n\r\n    BigInteger i = new BigInteger(a.getByteArray());\r\n\r\n(As has been noted before, e.g. \r\n\r\n&gt; https://stackoverflow.com/a/31208304/21446284\r\n","title":"BigInteger copying","body":"<p>The immutability doesn't solve this problem:\nSuppose you want to write a loop equivalent to</p>\n<pre><code>int a = 10;\nfor(int i = a; i &lt; 10; i++){...}\n</code></pre>\n<p>with BigIntegers.\nThe initial value in a will be needed later on:</p>\n<pre><code>BigInteger a = new BigInteger(10);\nfor(BigInteger i = a.copy(); a.compare(BigInteger.TEN) &lt; 0; i = i.plus(BigInteger.ONE)\n{...}\n</code></pre>\n<p>The initialization of the loop variable i will need a (nonexistent) copy operation,\nsince otherwise i and a would point to the same object and the value\nin a would be lost once i is increased within the loop.</p>\n<p>My best guess on an efficient way to do the copying would be something like</p>\n<pre><code>BigInteger i = new BigInteger(a.getByteArray());\n</code></pre>\n<p>(As has been noted before, e.g.</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/a/31208304/21446284\">https://stackoverflow.com/a/31208304/21446284</a></p>\n</blockquote>\n"}],"owner":{"account_id":2189967,"reputation":307,"user_id":1937318,"accept_rate":100,"display_name":"Carlos Ledesma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10685,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":14206965,"answer_count":6,"score":12,"last_activity_date":1679391646,"creation_date":1357607583,"question_id":14206828,"body_markdown":"Maybe I&#39;m really confused because it seems a very simple question but Google and the official documentation were not enough.\r\n\r\nI want to copy an BigInteger, and I can&#39;t find a clean way of doing it. `BigInteger a = b` when `b` is a BigInteger, as BigInteger is an object and there&#39;s no operator overloading here, `a` references to the same object as `b`\r\n\r\nThe cleanest way I&#39;ve found so far is `BigInteger a = b.add(BigInteger.ZERO)`, but still a dirty way for me.","title":"BigInteger copying","body":"<p>Maybe I'm really confused because it seems a very simple question but Google and the official documentation were not enough.</p>\n\n<p>I want to copy an BigInteger, and I can't find a clean way of doing it. <code>BigInteger a = b</code> when <code>b</code> is a BigInteger, as BigInteger is an object and there's no operator overloading here, <code>a</code> references to the same object as <code>b</code></p>\n\n<p>The cleanest way I've found so far is <code>BigInteger a = b.add(BigInteger.ZERO)</code>, but still a dirty way for me.</p>\n"},{"tags":["java","apache-commons","properties-file"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679391381,"post_id":75799436,"comment_id":133709093,"body_markdown":"See https://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_basicfeatures.html#List_handling","body":"See <a href=\"https://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_basicfeatures.html#List_handling\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-configuration/userguide_v1&zwnj;&#8203;.10/&hellip;</a>"}],"owner":{"account_id":16438960,"reputation":21,"user_id":11875847,"display_name":"kmat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679392529,"answer_count":0,"score":0,"last_activity_date":1679391455,"creation_date":1679391292,"question_id":75799436,"body_markdown":"I do have a field in properties file, called let&#39;s say &quot;xxx&quot;. I read value from user and assign it to that variable with the use of apache-commons library. Now I would like to read from the user multiple values and assign it to that variable. I thought that values can be stored in that field separated with commas like: xxx= value1, value2... or alternatively dynamically generate fields and assign ongoing read values to them like:\r\n\r\n    xxx1= value1\r\n    xxx2= value2 \r\n    xxx3= value3\r\n    ...\r\n\r\nhowever this solution I think it is a little bit more complicated. I was looking how to do it with apache-commons but with no results unfortunately. How should I approach that problem?","title":"save list of values to a field in properties file","body":"<p>I do have a field in properties file, called let's say &quot;xxx&quot;. I read value from user and assign it to that variable with the use of apache-commons library. Now I would like to read from the user multiple values and assign it to that variable. I thought that values can be stored in that field separated with commas like: xxx= value1, value2... or alternatively dynamically generate fields and assign ongoing read values to them like:</p>\n<pre><code>xxx1= value1\nxxx2= value2 \nxxx3= value3\n...\n</code></pre>\n<p>however this solution I think it is a little bit more complicated. I was looking how to do it with apache-commons but with no results unfortunately. How should I approach that problem?</p>\n"},{"tags":["java","performance","collections"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1679383014,"post_id":75798219,"comment_id":133707173,"body_markdown":"It shouldnt really matter. You can also use `Arrays.asList` or use `splitAsStream` and then add via that - that way you dont even need to create an intermediate trash-array in the first place. If ur really curious, create a proper benchmark with JMH.","body":"It shouldnt really matter. You can also use <code>Arrays.asList</code> or use <code>splitAsStream</code> and then add via that - that way you dont even need to create an intermediate trash-array in the first place. If ur really curious, create a proper benchmark with JMH."},{"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"score":0,"creation_date":1679385096,"post_id":75798219,"comment_id":133707578,"body_markdown":"option 1 is more efficient, with latest jdk auto GC will take care the rest","body":"option 1 is more efficient, with latest jdk auto GC will take care the rest"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1679385843,"post_id":75798219,"comment_id":133707761,"body_markdown":"Just benchmarked (see answer), even for very large data sets the difference is within the measurement error margin... so it really doesnt matter.","body":"Just benchmarked (see answer), even for very large data sets the difference is within the measurement error margin... so it really doesnt matter."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679391289,"creation_date":1679385803,"answer_id":75798599,"question_id":75798219,"body_markdown":"# tl;dr\r\n\r\n`Collections.addAll(myHashSet, myString.split(&quot;:&quot;))` is best.\r\n\r\nOther options are very close though, even for very large data sets.\r\n\r\n## Explanation ##\r\n\r\nFor small elements it really does not matter at all, do not underestimate how strong your computer is.\r\n\r\nFor bigger stuff, you have to take care to not make any accidental copies or similar:\r\n\r\n* `List.of` creates an extra copy of the whole data just to make it list, **bad**\r\n* `Arrays.asList` creates a fake list wrapper around the array, no copies, **good**\r\n* `Collections.addAll(...)` adds directly from the array, **good**\r\n\r\nNow, there is also `splitAsStream`, which avoids the array to begin with by directly adding during the splitting. Theoretically, thats the best. But in practice, the streams come with a lot of overhead.\r\n\r\nIt is your best option if the data is larger than your RAM, i.e. if you can not afford creating the array. That said, chances are you could not afford holding the `String` to begin with then.\r\n\r\n----------\r\n\r\n## Benchmarks\r\n\r\nInstead of making educated guesses, you should actually run JMH benchmarks and get reliable results. So here they are.\r\n\r\n`N` is the size of the arrays, so how many strings there are.\r\n\r\nThe lower the score, the better.\r\n\r\n### Small (20)\r\n\r\n```java\r\nBenchmark          (N)  (SEED)  Mode  Cnt   Score    Error  Units\r\naddSplitAsStream    20     123  avgt    5   0,001 &#177;  0,001  ms/op\r\ncollectionsAddAll   20     123  avgt    5   10&#179;           ms/op\r\nsetAddAllArrays     20     123  avgt    5   10&#179;           ms/op\r\nsetAddAllList       20     123  avgt    5   10&#179;           ms/op\r\n```\r\n\r\n### Medium (200)\r\n\r\n```java\r\nBenchmark          (N)  (SEED)  Mode  Cnt  Score    Error  Units\r\naddSplitAsStream   200     123  avgt    5  0,007 &#177;  0,001  ms/op\r\ncollectionsAddAll  200     123  avgt    5  0,004 &#177;  0,001  ms/op\r\nsetAddAllArrays    200     123  avgt    5  0,004 &#177;  0,001  ms/op\r\nsetAddAllList      200     123  avgt    5  0,004 &#177;  0,001  ms/op\r\n```\r\n\r\n\r\n### Big (10_000) [EDIT]\r\n\r\nAs per comments, this benchmark includes two new cases `forEachAdd` and `addMatcherLoop`.\r\n\r\n```java\r\nBenchmark          (N)    (SEED)  Mode  Cnt  Score   Error  Units\r\naddMatcherLoop     10000     123  avgt    5  0,730 &#177; 0,017  ms/op\r\naddSplitAsStream   10000     123  avgt    5  0,947 &#177; 0,015  ms/op\r\ncollectionsAddAll  10000     123  avgt    5  0,327 &#177; 0,005  ms/op\r\nforEachAdd         10000     123  avgt    5  0,334 &#177; 0,018  ms/op\r\nsetAddAllArrays    10000     123  avgt    5  0,329 &#177; 0,002  ms/op\r\nsetAddAllList      10000     123  avgt    5  0,346 &#177; 0,011  ms/op\r\n```\r\n\r\n### Large (1_000_000) [EDIT]\r\n\r\nAs per comments, this benchmark includes two new cases `forEachAdd` and `addMatcherLoop`.\r\n\r\n```java\r\nBenchmark          (N)      (SEED)  Mode  Cnt    Score     Error  Units\r\naddMatcherLoop     1000000     123  avgt    5  184,229 &#177;  14,699  ms/op\r\naddSplitAsStream   1000000     123  avgt    5  222,011 &#177;  55,131  ms/op\r\ncollectionsAddAll  1000000     123  avgt    5  164,837 &#177; 189,569  ms/op\r\nforEachAdd         1000000     123  avgt    5  198,915 &#177;   9,983  ms/op\r\nsetAddAllArrays    1000000     123  avgt    5  114,747 &#177;  59,868  ms/op\r\nsetAddAllList      1000000     123  avgt    5  115,520 &#177;   4,620  ms/op\r\n```\r\n\r\n### Benchmark code\r\n\r\nFull JMH test. Adjust `N` for the array sizes.\r\n\r\n```java\r\nimport org.openjdk.jmh.annotations.*;\r\nimport org.openjdk.jmh.infra.Blackhole;\r\nimport org.openjdk.jmh.runner.Runner;\r\nimport org.openjdk.jmh.runner.RunnerException;\r\nimport org.openjdk.jmh.runner.options.Options;\r\nimport org.openjdk.jmh.runner.options.OptionsBuilder;\r\n\r\nimport java.util.*;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n@State(Scope.Benchmark)\r\n@Fork(value = 1, jvmArgs = {&quot;-Xms2G&quot;, &quot;-Xmx2G&quot;})\r\n@Warmup(iterations = 2)\r\n@Measurement(iterations = 5)\r\npublic class BenchmarkHashSetAddAll {\r\n\r\n    @Param(&quot;1000000&quot;)\r\n    private int N;\r\n    @Param(&quot;123&quot;)\r\n    private long SEED;\r\n\r\n    private String DATA;\r\n    private HashSet&lt;String&gt; TARGET;\r\n\r\n    public static void main(String[] args) throws RunnerException {\r\n        Options options =\r\n                new OptionsBuilder().include(BenchmarkHashSetAddAll.class.getSimpleName()).build();\r\n\r\n        new Runner(options).run();\r\n    }\r\n\r\n    @Setup\r\n    public void setup(Blackhole blackhole) {\r\n        Random rnd = new Random(SEED);\r\n\r\n        DATA = Stream.generate(rnd::nextInt)\r\n                .limit(N)\r\n                .map(String::valueOf)\r\n                .collect(Collectors.joining(&quot;:&quot;));\r\n        TARGET = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Benchmark\r\n    public void collectionsAddAll(Blackhole blackhole) {\r\n        Collections.addAll(TARGET, DATA.split(&quot;:&quot;));\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void setAddAllList(Blackhole blackhole) {\r\n        TARGET.addAll(List.of(DATA.split(&quot;:&quot;)));\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void setAddAllArrays(Blackhole blackhole) {\r\n        TARGET.addAll(Arrays.asList(DATA.split(&quot;:&quot;)));\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void addSplitAsStream(Blackhole blackhole) {\r\n        Pattern.compile(&quot;:&quot;).splitAsStream(DATA).forEach(TARGET::add);\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void forEachAdd(Blackhole blackhole) {\r\n        for (String element : DATA.split(&quot;:&quot;)) {\r\n            TARGET.add(element);\r\n        }\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void addMatcherLoop(Blackhole blackhole) {\r\n        Matcher matcher = Pattern.compile(&quot;:&quot;).matcher(DATA);\r\n\r\n        int current = 0;\r\n        while (matcher.find()) {\r\n            String element = DATA.subSequence(current, matcher.start()).toString();\r\n            current = matcher.end();\r\n            TARGET.add(element);\r\n        }\r\n        blackhole.consume(TARGET);\r\n    }\r\n}\r\n```","title":"Efficient way to add elements of an array to HashSet","body":"<h1>tl;dr</h1>\n<p><code>Collections.addAll(myHashSet, myString.split(&quot;:&quot;))</code> is best.</p>\n<p>Other options are very close though, even for very large data sets.</p>\n<h2>Explanation</h2>\n<p>For small elements it really does not matter at all, do not underestimate how strong your computer is.</p>\n<p>For bigger stuff, you have to take care to not make any accidental copies or similar:</p>\n<ul>\n<li><code>List.of</code> creates an extra copy of the whole data just to make it list, <strong>bad</strong></li>\n<li><code>Arrays.asList</code> creates a fake list wrapper around the array, no copies, <strong>good</strong></li>\n<li><code>Collections.addAll(...)</code> adds directly from the array, <strong>good</strong></li>\n</ul>\n<p>Now, there is also <code>splitAsStream</code>, which avoids the array to begin with by directly adding during the splitting. Theoretically, thats the best. But in practice, the streams come with a lot of overhead.</p>\n<p>It is your best option if the data is larger than your RAM, i.e. if you can not afford creating the array. That said, chances are you could not afford holding the <code>String</code> to begin with then.</p>\n<hr />\n<h2>Benchmarks</h2>\n<p>Instead of making educated guesses, you should actually run JMH benchmarks and get reliable results. So here they are.</p>\n<p><code>N</code> is the size of the arrays, so how many strings there are.</p>\n<p>The lower the score, the better.</p>\n<h3>Small (20)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Benchmark          (N)  (SEED)  Mode  Cnt   Score    Error  Units\naddSplitAsStream    20     123  avgt    5   0,001   0,001  ms/op\ncollectionsAddAll   20     123  avgt    5   10           ms/op\nsetAddAllArrays     20     123  avgt    5   10           ms/op\nsetAddAllList       20     123  avgt    5   10           ms/op\n</code></pre>\n<h3>Medium (200)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Benchmark          (N)  (SEED)  Mode  Cnt  Score    Error  Units\naddSplitAsStream   200     123  avgt    5  0,007   0,001  ms/op\ncollectionsAddAll  200     123  avgt    5  0,004   0,001  ms/op\nsetAddAllArrays    200     123  avgt    5  0,004   0,001  ms/op\nsetAddAllList      200     123  avgt    5  0,004   0,001  ms/op\n</code></pre>\n<h3>Big (10_000) [EDIT]</h3>\n<p>As per comments, this benchmark includes two new cases <code>forEachAdd</code> and <code>addMatcherLoop</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Benchmark          (N)    (SEED)  Mode  Cnt  Score   Error  Units\naddMatcherLoop     10000     123  avgt    5  0,730  0,017  ms/op\naddSplitAsStream   10000     123  avgt    5  0,947  0,015  ms/op\ncollectionsAddAll  10000     123  avgt    5  0,327  0,005  ms/op\nforEachAdd         10000     123  avgt    5  0,334  0,018  ms/op\nsetAddAllArrays    10000     123  avgt    5  0,329  0,002  ms/op\nsetAddAllList      10000     123  avgt    5  0,346  0,011  ms/op\n</code></pre>\n<h3>Large (1_000_000) [EDIT]</h3>\n<p>As per comments, this benchmark includes two new cases <code>forEachAdd</code> and <code>addMatcherLoop</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Benchmark          (N)      (SEED)  Mode  Cnt    Score     Error  Units\naddMatcherLoop     1000000     123  avgt    5  184,229   14,699  ms/op\naddSplitAsStream   1000000     123  avgt    5  222,011   55,131  ms/op\ncollectionsAddAll  1000000     123  avgt    5  164,837  189,569  ms/op\nforEachAdd         1000000     123  avgt    5  198,915    9,983  ms/op\nsetAddAllArrays    1000000     123  avgt    5  114,747   59,868  ms/op\nsetAddAllList      1000000     123  avgt    5  115,520    4,620  ms/op\n</code></pre>\n<h3>Benchmark code</h3>\n<p>Full JMH test. Adjust <code>N</code> for the array sizes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.infra.Blackhole;\nimport org.openjdk.jmh.runner.Runner;\nimport org.openjdk.jmh.runner.RunnerException;\nimport org.openjdk.jmh.runner.options.Options;\nimport org.openjdk.jmh.runner.options.OptionsBuilder;\n\nimport java.util.*;\nimport java.util.concurrent.TimeUnit;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@State(Scope.Benchmark)\n@Fork(value = 1, jvmArgs = {&quot;-Xms2G&quot;, &quot;-Xmx2G&quot;})\n@Warmup(iterations = 2)\n@Measurement(iterations = 5)\npublic class BenchmarkHashSetAddAll {\n\n    @Param(&quot;1000000&quot;)\n    private int N;\n    @Param(&quot;123&quot;)\n    private long SEED;\n\n    private String DATA;\n    private HashSet&lt;String&gt; TARGET;\n\n    public static void main(String[] args) throws RunnerException {\n        Options options =\n                new OptionsBuilder().include(BenchmarkHashSetAddAll.class.getSimpleName()).build();\n\n        new Runner(options).run();\n    }\n\n    @Setup\n    public void setup(Blackhole blackhole) {\n        Random rnd = new Random(SEED);\n\n        DATA = Stream.generate(rnd::nextInt)\n                .limit(N)\n                .map(String::valueOf)\n                .collect(Collectors.joining(&quot;:&quot;));\n        TARGET = new HashSet&lt;&gt;();\n    }\n\n    @Benchmark\n    public void collectionsAddAll(Blackhole blackhole) {\n        Collections.addAll(TARGET, DATA.split(&quot;:&quot;));\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void setAddAllList(Blackhole blackhole) {\n        TARGET.addAll(List.of(DATA.split(&quot;:&quot;)));\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void setAddAllArrays(Blackhole blackhole) {\n        TARGET.addAll(Arrays.asList(DATA.split(&quot;:&quot;)));\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void addSplitAsStream(Blackhole blackhole) {\n        Pattern.compile(&quot;:&quot;).splitAsStream(DATA).forEach(TARGET::add);\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void forEachAdd(Blackhole blackhole) {\n        for (String element : DATA.split(&quot;:&quot;)) {\n            TARGET.add(element);\n        }\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void addMatcherLoop(Blackhole blackhole) {\n        Matcher matcher = Pattern.compile(&quot;:&quot;).matcher(DATA);\n\n        int current = 0;\n        while (matcher.find()) {\n            String element = DATA.subSequence(current, matcher.start()).toString();\n            current = matcher.end();\n            TARGET.add(element);\n        }\n        blackhole.consume(TARGET);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7574460,"reputation":59,"user_id":5747257,"display_name":"Rohit Singhal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75798599,"answer_count":1,"score":1,"last_activity_date":1679391289,"creation_date":1679382707,"question_id":75798219,"body_markdown":"I have a HashSet. I need to split a String and add the elements of the string to the HashSet. I wanted to know which one is efficient way of doing this.\r\n\r\n     Collections.addAll(myHashSet, myString.split(&quot;:&quot;));\r\n     myHashSet.addAll(List.of(myString.split(&quot;:&quot;)));\r\n\r\nIn 2nd option, I see that we are creating extra object of List to create list out of array. But, we are not creating any extra object in 1st approach. So, I think that 1st approach is more efficient. But, I wanted to check.","title":"Efficient way to add elements of an array to HashSet","body":"<p>I have a HashSet. I need to split a String and add the elements of the string to the HashSet. I wanted to know which one is efficient way of doing this.</p>\n<pre><code> Collections.addAll(myHashSet, myString.split(&quot;:&quot;));\n myHashSet.addAll(List.of(myString.split(&quot;:&quot;)));\n</code></pre>\n<p>In 2nd option, I see that we are creating extra object of List to create list out of array. But, we are not creating any extra object in 1st approach. So, I think that 1st approach is more efficient. But, I wanted to check.</p>\n"},{"tags":["javascript","java","angularjs","json","rest"],"comments":[{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496916756,"post_id":44421523,"comment_id":75863034,"body_markdown":"@Hema I solved! Look the solution","body":"@Hema I solved! Look the solution"},{"owner":{"account_id":9074842,"reputation":988,"user_id":6756805,"accept_rate":78,"display_name":"Hema"},"score":0,"creation_date":1496917377,"post_id":44421523,"comment_id":75863411,"body_markdown":"Predicted this.. So only asked u to share your Entity class... Good that u solved it","body":"Predicted this.. So only asked u to share your Entity class... Good that u solved it"},{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496918109,"post_id":44421523,"comment_id":75863905,"body_markdown":"OK, I will post my entity class","body":"OK, I will post my entity class"},{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496918180,"post_id":44421523,"comment_id":75863959,"body_markdown":"Posted in the solution. I hope that this will help u","body":"Posted in the solution. I hope that this will help u"},{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496927047,"post_id":44421523,"comment_id":75870324,"body_markdown":"what do you mean?","body":"what do you mean?"},{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496953245,"post_id":44421523,"comment_id":75887321,"body_markdown":"That you need help! I posted the solution before your answer.. But don&#39;t worry, thank you anyway","body":"That you need help! I posted the solution before your answer.. But don&#39;t worry, thank you anyway"},{"owner":{"account_id":9074842,"reputation":988,"user_id":6756805,"accept_rate":78,"display_name":"Hema"},"score":0,"creation_date":1496983241,"post_id":44421523,"comment_id":75895860,"body_markdown":"Ha ha why to worry.Chill Happy coding..!!","body":"Ha ha why to worry.Chill Happy coding..!!"}],"answers":[{"tags":[],"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496918162,"creation_date":1496879516,"answer_id":44424506,"question_id":44421523,"body_markdown":"Solved. The problem was in java&#39;s domain classes: when a domain class has a one-to-many relationship it&#39;s mandatory to put the tag @JsonIgnore to avoid these recurrent records in json file[![Example][1]][1]\r\n\r\nEntity class:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package it.jack.fdd.domain;\r\n    // Generated 30-nov-2016 0.17.09 by Hibernate Tools 4.3.1.Final\r\n\r\n    import java.util.Date;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import static javax.persistence.GenerationType.IDENTITY;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    import javax.persistence.Temporal;\r\n    import javax.persistence.TemporalType;\r\n\r\n    /**\r\n     * BankAccount generated by hbm2java\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;bank_account&quot;, catalog = &quot;fdd_dbproducts&quot;)\r\n    public class BankAccount implements java.io.Serializable {\r\n\r\n    \tprivate Integer idbankAccount;\r\n    \tprivate User user;\r\n    \tprivate String iban;\r\n    \tprivate String pin;\r\n    \tprivate String society;\r\n    \tprivate Date expiration;\r\n\r\n    \tpublic BankAccount() {\r\n    \t}\r\n\r\n    \tpublic BankAccount(User user, String iban, String pin, String society) {\r\n    \t\tthis.user = user;\r\n    \t\tthis.iban = iban;\r\n    \t\tthis.pin = pin;\r\n    \t\tthis.society = society;\r\n    \t}\r\n\r\n    \tpublic BankAccount(User user, String iban, String pin, String society, Date expiration) {\r\n    \t\tthis.user = user;\r\n    \t\tthis.iban = iban;\r\n    \t\tthis.pin = pin;\r\n    \t\tthis.society = society;\r\n    \t\tthis.expiration = expiration;\r\n    \t}\r\n\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = IDENTITY)\r\n\r\n    \t@Column(name = &quot;idbank_account&quot;, unique = true, nullable = false)\r\n    \tpublic Integer getIdbankAccount() {\r\n    \t\treturn this.idbankAccount;\r\n    \t}\r\n\r\n    \tpublic void setIdbankAccount(Integer idbankAccount) {\r\n    \t\tthis.idbankAccount = idbankAccount;\r\n    \t}\r\n\r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;fkuser_baccount&quot;, nullable = false)\r\n    \tpublic User getUser() {\r\n    \t\treturn this.user;\r\n    \t}\r\n\r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n\r\n    \t@Column(name = &quot;iban&quot;, nullable = false, length = 45)\r\n    \tpublic String getIban() {\r\n    \t\treturn this.iban;\r\n    \t}\r\n\r\n    \tpublic void setIban(String iban) {\r\n    \t\tthis.iban = iban;\r\n    \t}\r\n\r\n    \t@Column(name = &quot;pin&quot;, nullable = false, length = 45)\r\n    \tpublic String getPin() {\r\n    \t\treturn this.pin;\r\n    \t}\r\n\r\n    \tpublic void setPin(String pin) {\r\n    \t\tthis.pin = pin;\r\n    \t}\r\n\r\n    \t@Column(name = &quot;society&quot;, nullable = false, length = 45)\r\n    \tpublic String getSociety() {\r\n    \t\treturn this.society;\r\n    \t}\r\n\r\n    \tpublic void setSociety(String society) {\r\n    \t\tthis.society = society;\r\n    \t}\r\n\r\n    \t@Temporal(TemporalType.DATE)\r\n    \t@Column(name = &quot;expiration&quot;, length = 10)\r\n    \tpublic Date getExpiration() {\r\n    \t\treturn this.expiration;\r\n    \t}\r\n\r\n    \tpublic void setExpiration(Date expiration) {\r\n    \t\tthis.expiration = expiration;\r\n    \t}\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/YFCtG.png\r\n\r\n","title":"ERR_INCOMPLETE_CHUNKED_ENCODING on angularjs - rest service returns an infinite json file using Advanced REST Client but error in postman","body":"<p>Solved. The problem was in java's domain classes: when a domain class has a one-to-many relationship it's mandatory to put the tag @JsonIgnore to avoid these recurrent records in json file<a href=\"https://i.stack.imgur.com/YFCtG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YFCtG.png\" alt=\"Example\"></a></p>\n\n<p>Entity class:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package it.jack.fdd.domain;\r\n// Generated 30-nov-2016 0.17.09 by Hibernate Tools 4.3.1.Final\r\n\r\nimport java.util.Date;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport static javax.persistence.GenerationType.IDENTITY;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Temporal;\r\nimport javax.persistence.TemporalType;\r\n\r\n/**\r\n * BankAccount generated by hbm2java\r\n */\r\n@Entity\r\n@Table(name = \"bank_account\", catalog = \"fdd_dbproducts\")\r\npublic class BankAccount implements java.io.Serializable {\r\n\r\n\tprivate Integer idbankAccount;\r\n\tprivate User user;\r\n\tprivate String iban;\r\n\tprivate String pin;\r\n\tprivate String society;\r\n\tprivate Date expiration;\r\n\r\n\tpublic BankAccount() {\r\n\t}\r\n\r\n\tpublic BankAccount(User user, String iban, String pin, String society) {\r\n\t\tthis.user = user;\r\n\t\tthis.iban = iban;\r\n\t\tthis.pin = pin;\r\n\t\tthis.society = society;\r\n\t}\r\n\r\n\tpublic BankAccount(User user, String iban, String pin, String society, Date expiration) {\r\n\t\tthis.user = user;\r\n\t\tthis.iban = iban;\r\n\t\tthis.pin = pin;\r\n\t\tthis.society = society;\r\n\t\tthis.expiration = expiration;\r\n\t}\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = IDENTITY)\r\n\r\n\t@Column(name = \"idbank_account\", unique = true, nullable = false)\r\n\tpublic Integer getIdbankAccount() {\r\n\t\treturn this.idbankAccount;\r\n\t}\r\n\r\n\tpublic void setIdbankAccount(Integer idbankAccount) {\r\n\t\tthis.idbankAccount = idbankAccount;\r\n\t}\r\n\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = \"fkuser_baccount\", nullable = false)\r\n\tpublic User getUser() {\r\n\t\treturn this.user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\t@Column(name = \"iban\", nullable = false, length = 45)\r\n\tpublic String getIban() {\r\n\t\treturn this.iban;\r\n\t}\r\n\r\n\tpublic void setIban(String iban) {\r\n\t\tthis.iban = iban;\r\n\t}\r\n\r\n\t@Column(name = \"pin\", nullable = false, length = 45)\r\n\tpublic String getPin() {\r\n\t\treturn this.pin;\r\n\t}\r\n\r\n\tpublic void setPin(String pin) {\r\n\t\tthis.pin = pin;\r\n\t}\r\n\r\n\t@Column(name = \"society\", nullable = false, length = 45)\r\n\tpublic String getSociety() {\r\n\t\treturn this.society;\r\n\t}\r\n\r\n\tpublic void setSociety(String society) {\r\n\t\tthis.society = society;\r\n\t}\r\n\r\n\t@Temporal(TemporalType.DATE)\r\n\t@Column(name = \"expiration\", length = 10)\r\n\tpublic Date getExpiration() {\r\n\t\treturn this.expiration;\r\n\t}\r\n\r\n\tpublic void setExpiration(Date expiration) {\r\n\t\tthis.expiration = expiration;\r\n\t}\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":28074101,"reputation":101,"user_id":21446253,"display_name":"Chethana Wickramaarachchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679391130,"creation_date":1679391130,"answer_id":75799398,"question_id":44421523,"body_markdown":"Not only for the onetomany but for manytomany relationships put the @JsonIgnore tag in the modelclass","title":"ERR_INCOMPLETE_CHUNKED_ENCODING on angularjs - rest service returns an infinite json file using Advanced REST Client but error in postman","body":"<p>Not only for the onetomany but for manytomany relationships put the @JsonIgnore tag in the modelclass</p>\n"}],"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8663,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44424506,"answer_count":2,"score":6,"last_activity_date":1679391130,"creation_date":1496864608,"question_id":44421523,"body_markdown":"I have a very strange problem. In angular (app built with ionic v1) I call some REST call built in java, but something goes wrong and chrome advise me with this error:\r\n[![ERR_INCOMPLETE_CHUNKED_ENCODING][1]][1]\r\n\r\nThe code interesting is this, a REST service in angular js:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    bankaccountsbyuser: function(_getbauser, _error){\r\n                var currentToken = _GetToken();\r\n      \r\n                if(currentToken!=null){\r\n                    var Headers = {\r\n                        token: currentToken.tokenUser,\r\n                    };\r\n                }\r\n                \r\n                _timerTokenControl(currentToken, _error);\r\n                \r\n                if (setupTime == null) {\r\n                    console.log(&quot;token scaduto&quot;);\r\n                    //modificare\r\n                    //$window.location.href=&quot;login.html&quot;;\r\n                }\r\n                \r\n\r\n                if (currentToken !== null) {\r\n                $http({  \r\n                            method : &#39;GET&#39;,  \r\n                            headers: Headers,\r\n                            url : REST_URL+&#39;bankaccount&#39;\r\n                        }).then(function successCallback(response) {  \r\n                            console.log(response)\r\n                            _getbauser(response)\r\n                        }, function errorCallback(response) {  \r\n                            console.log(response.statusText);  \r\n                        });  \r\n                   }  else {\r\n                       var alertPopup = $ionicPopup.alert({\r\n                             title: &#39;Accesso negato!&#39;,\r\n                             template: &#39;Devi essere un utente registrato, non sei loggato!&#39;\r\n                         });\r\n                        console.log(&quot;NON SEI LOGGATO!!!&quot;);\r\n                }\r\n            },\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ndebug:\r\n[![debug][2]][2]\r\n\r\nHow you can see, the get REST service returns an error, thus, let&#39;s see this REST service built in java:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package it.jack.fdd.services;\r\n\r\n    import java.util.List;\r\n\r\n    import javax.ws.rs.DELETE;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.HeaderParam;\r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.PUT;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n\r\n    import it.jack.fdd.dao.FactoryDao;\r\n    import it.jack.fdd.dao.impl.BankAccountDaoImpl;\r\n    import it.jack.fdd.dao.interfaces.BankAccountDao;\r\n    import it.jack.fdd.domain.BankAccount;\r\n    import it.jack.fdd.domain.User;\r\n    import it.jack.fdd.dto.TokenUserDto;\r\n    import it.jack.fdd.dto.UserDto;\r\n    import it.jack.fdd.util.ConverterDTO;\r\n\r\n    @Path(&quot;/bankaccount&quot;)\r\n    public class BankAccountServices {\r\n\r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic List&lt;BankAccount&gt; getBankAccountOfUser() {\r\n   \r\n    \t\tBankAccountDao baDao = new BankAccountDaoImpl();\r\n    \t\tList&lt;BankAccount&gt; balist = baDao.getBAByUserId(1);\t\t\r\n    \t\treturn balist;\r\n\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI tryed to pass the number &quot;1&quot; in the method, just to simplify. The method is implemented below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package it.jack.fdd.dao.impl;\r\n\r\n    import java.util.List;\r\n\r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.Query;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.Transaction;\r\n\r\n    import it.jack.fdd.dao.interfaces.BankAccountDao;\r\n    import it.jack.fdd.domain.BankAccount;\r\n    import it.jack.fdd.domain.Staff;\r\n    import it.jack.fdd.domain.User;\r\n    import it.jack.fdd.util.HibernateUtilLezione;\r\n\r\n    public class BankAccountDaoImpl extends BaseDaoImpl&lt;BankAccount&gt; implements BankAccountDao{\r\n    \t\r\n\r\n    \tpublic List&lt;BankAccount&gt; getBAByUserId(int id) {\r\n    \t\t\r\n    \t\ttry{\r\n    \t\t\t\r\n    \t\t\tSession session = HibernateUtilLezione.openSession();\r\n    \t\t\tTransaction tx = session.beginTransaction();\r\n    \t\t\t\r\n    \t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\t\tList&lt;BankAccount&gt; accounts = session.createQuery(&quot;from BankAccount b &quot;\r\n    \t\t\t\t\t+ &quot;where b.user= &quot;+id).list();\r\n    \t\t\t\r\n    \t\t\ttx.commit();\r\n    \t\t\tsession.close();\r\n    \t\t\t\r\n    \t\t\treturn accounts;\r\n    \t\t}\r\n    \t\tcatch(HibernateException e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAs you can see, the method ask for an id, and I put id 1 just to check, because in the database there is a field with that id. Trying in java, it returns me a list \r\n\r\n&gt; [it.jack.fdd.domain.BankAccount@4f8d86e4]\r\n\r\nAnd I checked also that the list has dimension 1 (thus, only one record, like in the database, only 1 record with that iduser)\r\n\r\nThus, trying to open this REST call using postman, the result is this:\r\n\r\n[![Postman error][3]][3]\r\n\r\nThe strange thing is that postman show me the same result to another REST call, that it worked before. But for this last REST call is not a problem, because strangely it works on my application, it doesn&#39;t work only in postman.\r\nThus, trying with Advanced REST Client I have a strange different result:\r\n\r\n[![Advanced rest client 1][4]][4]\r\n\r\nA strange, very big list that repeat every time the same field!! It is like a loop! \r\nWhat happens? How I can solve?\r\n\r\n  [1]: https://i.stack.imgur.com/1sxp7.png\r\n  [2]: https://i.stack.imgur.com/u7LYM.png\r\n  [3]: https://i.stack.imgur.com/obExc.png\r\n  [4]: https://i.stack.imgur.com/rpeFe.png","title":"ERR_INCOMPLETE_CHUNKED_ENCODING on angularjs - rest service returns an infinite json file using Advanced REST Client but error in postman","body":"<p>I have a very strange problem. In angular (app built with ionic v1) I call some REST call built in java, but something goes wrong and chrome advise me with this error:\n<a href=\"https://i.stack.imgur.com/1sxp7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1sxp7.png\" alt=\"ERR_INCOMPLETE_CHUNKED_ENCODING\"></a></p>\n\n<p>The code interesting is this, a REST service in angular js:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>bankaccountsbyuser: function(_getbauser, _error){\r\n            var currentToken = _GetToken();\r\n  \r\n            if(currentToken!=null){\r\n                var Headers = {\r\n                    token: currentToken.tokenUser,\r\n                };\r\n            }\r\n            \r\n            _timerTokenControl(currentToken, _error);\r\n            \r\n            if (setupTime == null) {\r\n                console.log(\"token scaduto\");\r\n                //modificare\r\n                //$window.location.href=\"login.html\";\r\n            }\r\n            \r\n\r\n            if (currentToken !== null) {\r\n            $http({  \r\n                        method : 'GET',  \r\n                        headers: Headers,\r\n                        url : REST_URL+'bankaccount'\r\n                    }).then(function successCallback(response) {  \r\n                        console.log(response)\r\n                        _getbauser(response)\r\n                    }, function errorCallback(response) {  \r\n                        console.log(response.statusText);  \r\n                    });  \r\n               }  else {\r\n                   var alertPopup = $ionicPopup.alert({\r\n                         title: 'Accesso negato!',\r\n                         template: 'Devi essere un utente registrato, non sei loggato!'\r\n                     });\r\n                    console.log(\"NON SEI LOGGATO!!!\");\r\n            }\r\n        },</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>debug:\n<a href=\"https://i.stack.imgur.com/u7LYM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/u7LYM.png\" alt=\"debug\"></a></p>\n\n<p>How you can see, the get REST service returns an error, thus, let's see this REST service built in java:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package it.jack.fdd.services;\r\n\r\nimport java.util.List;\r\n\r\nimport javax.ws.rs.DELETE;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.HeaderParam;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.PUT;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.PathParam;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\nimport it.jack.fdd.dao.FactoryDao;\r\nimport it.jack.fdd.dao.impl.BankAccountDaoImpl;\r\nimport it.jack.fdd.dao.interfaces.BankAccountDao;\r\nimport it.jack.fdd.domain.BankAccount;\r\nimport it.jack.fdd.domain.User;\r\nimport it.jack.fdd.dto.TokenUserDto;\r\nimport it.jack.fdd.dto.UserDto;\r\nimport it.jack.fdd.util.ConverterDTO;\r\n\r\n@Path(\"/bankaccount\")\r\npublic class BankAccountServices {\r\n\r\n\t@GET\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic List&lt;BankAccount&gt; getBankAccountOfUser() {\r\n   \r\n\t\tBankAccountDao baDao = new BankAccountDaoImpl();\r\n\t\tList&lt;BankAccount&gt; balist = baDao.getBAByUserId(1);\t\t\r\n\t\treturn balist;\r\n\r\n\t}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I tryed to pass the number \"1\" in the method, just to simplify. The method is implemented below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package it.jack.fdd.dao.impl;\r\n\r\nimport java.util.List;\r\n\r\nimport org.hibernate.HibernateException;\r\nimport org.hibernate.Query;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.Transaction;\r\n\r\nimport it.jack.fdd.dao.interfaces.BankAccountDao;\r\nimport it.jack.fdd.domain.BankAccount;\r\nimport it.jack.fdd.domain.Staff;\r\nimport it.jack.fdd.domain.User;\r\nimport it.jack.fdd.util.HibernateUtilLezione;\r\n\r\npublic class BankAccountDaoImpl extends BaseDaoImpl&lt;BankAccount&gt; implements BankAccountDao{\r\n\t\r\n\r\n\tpublic List&lt;BankAccount&gt; getBAByUserId(int id) {\r\n\t\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\tSession session = HibernateUtilLezione.openSession();\r\n\t\t\tTransaction tx = session.beginTransaction();\r\n\t\t\t\r\n\t\t\t@SuppressWarnings(\"unchecked\")\r\n\t\t\tList&lt;BankAccount&gt; accounts = session.createQuery(\"from BankAccount b \"\r\n\t\t\t\t\t+ \"where b.user= \"+id).list();\r\n\t\t\t\r\n\t\t\ttx.commit();\r\n\t\t\tsession.close();\r\n\t\t\t\r\n\t\t\treturn accounts;\r\n\t\t}\r\n\t\tcatch(HibernateException e){\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you can see, the method ask for an id, and I put id 1 just to check, because in the database there is a field with that id. Trying in java, it returns me a list </p>\n\n<blockquote>\n  <p>[it.jack.fdd.domain.BankAccount@4f8d86e4]</p>\n</blockquote>\n\n<p>And I checked also that the list has dimension 1 (thus, only one record, like in the database, only 1 record with that iduser)</p>\n\n<p>Thus, trying to open this REST call using postman, the result is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/obExc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/obExc.png\" alt=\"Postman error\"></a></p>\n\n<p>The strange thing is that postman show me the same result to another REST call, that it worked before. But for this last REST call is not a problem, because strangely it works on my application, it doesn't work only in postman.\nThus, trying with Advanced REST Client I have a strange different result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rpeFe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rpeFe.png\" alt=\"Advanced rest client 1\"></a></p>\n\n<p>A strange, very big list that repeat every time the same field!! It is like a loop! \nWhat happens? How I can solve?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1440762904,"post_id":32270422,"comment_id":52419473,"body_markdown":"if your property name is liek `isSuccess`you method name must be `isIsSuccess` i think","body":"if your property name is liek <code>isSuccess</code>you method name must be <code>isIsSuccess</code> i think"},{"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"score":0,"creation_date":1440763916,"post_id":32270422,"comment_id":52420099,"body_markdown":"I understand. I thought it&#39;s better `SetSuccess ` as it&#39;s generated by Eclipse. (Following a standard)","body":"I understand. I thought it&#39;s better <code>SetSuccess </code> as it&#39;s generated by Eclipse. (Following a standard)"},{"owner":{"account_id":2293970,"reputation":1122,"user_id":2015948,"accept_rate":79,"display_name":"Boris Mitioglov"},"score":1,"creation_date":1654575573,"post_id":32270422,"comment_id":128117016,"body_markdown":"Such a weird idea for jackson library developers to remove `is` implicitly...","body":"Such a weird idea for jackson library developers to remove <code>is</code> implicitly..."}],"answers":[{"tags":[],"owner":{"account_id":6743284,"reputation":417,"user_id":5195751,"display_name":"Utkarsha Padhye"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1454081555,"creation_date":1454081555,"answer_id":35088196,"question_id":32270422,"body_markdown":"I recently ran into this issue and this is what I found. Jackson will inspect any class that you pass to it for getters and setters, and use those methods for serialization and deserialization. What follows &quot;get&quot;, &quot;is&quot; and &quot;set&quot; in those methods will be used as the key for the JSON field (&quot;isValid&quot; for getIsValid and setIsValid).\r\n\r\n    public class JacksonExample {   \r\n    \r\n        private boolean isValid = false;\r\n    \r\n        public boolean getIsValid() {\r\n            return isValid;\r\n        }\r\n\r\n        public void setIsValid(boolean isValid) {\r\n            this.isValid = isValid;\r\n        }\r\n    } \r\n\r\nSimilarly &quot;isSuccess&quot; will become &quot;success&quot;, unless renamed to &quot;isIsSuccess&quot; or &quot;getIsSuccess&quot;\r\n\r\nRead more here: http://www.citrine.io/blog/2015/5/20/jackson-json-processor","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>I recently ran into this issue and this is what I found. Jackson will inspect any class that you pass to it for getters and setters, and use those methods for serialization and deserialization. What follows \"get\", \"is\" and \"set\" in those methods will be used as the key for the JSON field (\"isValid\" for getIsValid and setIsValid).</p>\n\n<pre><code>public class JacksonExample {   \n\n    private boolean isValid = false;\n\n    public boolean getIsValid() {\n        return isValid;\n    }\n\n    public void setIsValid(boolean isValid) {\n        this.isValid = isValid;\n    }\n} \n</code></pre>\n\n<p>Similarly \"isSuccess\" will become \"success\", unless renamed to \"isIsSuccess\" or \"getIsSuccess\"</p>\n\n<p>Read more here: <a href=\"http://www.citrine.io/blog/2015/5/20/jackson-json-processor\" rel=\"noreferrer\">http://www.citrine.io/blog/2015/5/20/jackson-json-processor</a></p>\n"},{"tags":[],"owner":{"account_id":8727146,"reputation":2219,"user_id":6528465,"display_name":"Scott"},"down_vote_count":1,"up_vote_count":206,"is_accepted":true,"score":205,"last_activity_date":1471335427,"creation_date":1471335427,"answer_id":38969817,"question_id":32270422,"body_markdown":"This is a slightly late answer, but may be useful for anyone else coming to this page.\r\n\r\nA simple solution to changing the name that Jackson will use for when serializing to JSON is to use the [@JsonProperty](https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations#property-naming) annotation, so your example would become:\r\n\r\n    public class MyResponse implements Serializable {\r\n\r\n        private boolean isSuccess;\r\n\r\n        @JsonProperty(value=&quot;isSuccess&quot;)        \r\n        public boolean isSuccess() {\r\n            return isSuccess;\r\n        }\r\n\r\n        public void setSuccess(boolean isSuccess) {\r\n            this.isSuccess = isSuccess;\r\n        }\r\n    }\r\n\r\nThis would then be serialised to JSON as `{&quot;isSuccess&quot;:true}`, but has the advantage of not having to modify your getter method name.\r\n\r\nNote that in this case you could also write the annotation as `@JsonProperty(&quot;isSuccess&quot;)` as it only has the single `value` element\r\n","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>This is a slightly late answer, but may be useful for anyone else coming to this page.</p>\n\n<p>A simple solution to changing the name that Jackson will use for when serializing to JSON is to use the <a href=\"https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations#property-naming\" rel=\"noreferrer\">@JsonProperty</a> annotation, so your example would become:</p>\n\n<pre><code>public class MyResponse implements Serializable {\n\n    private boolean isSuccess;\n\n    @JsonProperty(value=\"isSuccess\")        \n    public boolean isSuccess() {\n        return isSuccess;\n    }\n\n    public void setSuccess(boolean isSuccess) {\n        this.isSuccess = isSuccess;\n    }\n}\n</code></pre>\n\n<p>This would then be serialised to JSON as <code>{\"isSuccess\":true}</code>, but has the advantage of not having to modify your getter method name.</p>\n\n<p>Note that in this case you could also write the annotation as <code>@JsonProperty(\"isSuccess\")</code> as it only has the single <code>value</code> element</p>\n"},{"tags":[],"owner":{"account_id":2649575,"reputation":361,"user_id":2291607,"accept_rate":88,"display_name":"Abhinav Vishak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498692750,"creation_date":1498692750,"answer_id":44814110,"question_id":32270422,"body_markdown":"Building upon Utkarsh&#39;s answer..\r\n\r\nGetter names minus *get/is* is used as the JSON name.\r\n\r\n    public class Example{\r\n        private String radcliffe; \r\n\r\n        public getHarryPotter(){\r\n            return radcliffe; \r\n        }\r\n    }\r\n\r\nis stored as *{ &quot;harryPotter&quot; : &quot;whateverYouGaveHere&quot; }* \r\n\r\n\r\n----------\r\nFor Deserialization, Jackson checks against both the setter and the field name.\r\nFor the Json String *{ &quot;word1&quot; : &quot;example&quot; }*, both the below are valid.\r\n\r\n\r\n\r\n    public class Example{\r\n        private String word1; \r\n\r\n        public setword2( String pqr){\r\n            this.word1 = pqr; \r\n        }\r\n    }\r\n\r\n    public class Example2{\r\n        private String word2; \r\n\r\n        public setWord1(String pqr){\r\n            this.word2 = pqr ; \r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nA more interesting question is which order Jackson considers for deserialization. If i try to deserialize *{ &quot;word1&quot; : &quot;myName&quot; }* with\r\n\r\n    public class Example3{\r\n        private String word1;\r\n        private String word2; \r\n\r\n        public setWord1( String parameter){\r\n            this.word2 = parameter ; \r\n        }\r\n    }\r\n\r\nI did not test the above case, but it would be interesting to see the values of *word1* &amp; *word2* ...\r\n\r\nNote: I used drastically different names to emphasize which fields are required to be same.","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>Building upon Utkarsh's answer..</p>\n\n<p>Getter names minus <em>get/is</em> is used as the JSON name.</p>\n\n<pre><code>public class Example{\n    private String radcliffe; \n\n    public getHarryPotter(){\n        return radcliffe; \n    }\n}\n</code></pre>\n\n<p>is stored as <em>{ \"harryPotter\" : \"whateverYouGaveHere\" }</em> </p>\n\n<hr>\n\n<p>For Deserialization, Jackson checks against both the setter and the field name.\nFor the Json String <em>{ \"word1\" : \"example\" }</em>, both the below are valid.</p>\n\n<pre><code>public class Example{\n    private String word1; \n\n    public setword2( String pqr){\n        this.word1 = pqr; \n    }\n}\n\npublic class Example2{\n    private String word2; \n\n    public setWord1(String pqr){\n        this.word2 = pqr ; \n    }\n}\n</code></pre>\n\n<hr>\n\n<p>A more interesting question is which order Jackson considers for deserialization. If i try to deserialize <em>{ \"word1\" : \"myName\" }</em> with</p>\n\n<pre><code>public class Example3{\n    private String word1;\n    private String word2; \n\n    public setWord1( String parameter){\n        this.word2 = parameter ; \n    }\n}\n</code></pre>\n\n<p>I did not test the above case, but it would be interesting to see the values of <em>word1</em> &amp; <em>word2</em> ...</p>\n\n<p>Note: I used drastically different names to emphasize which fields are required to be same.</p>\n"},{"tags":[],"owner":{"account_id":5397687,"reputation":29,"user_id":4298369,"display_name":"Joseph-z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501668389,"creation_date":1501668389,"answer_id":45457788,"question_id":32270422,"body_markdown":"there is another method for this problem.\r\n\r\njust define a new sub-class extends PropertyNamingStrategy and pass it to ObjectMapper instance.\r\n\r\nhere is a code snippet may be help more:\r\n\r\n\r\n    mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\r\n            @Override\r\n            public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName) {\r\n            \tString input = defaultName;\r\n            \tif(method.getName().startsWith(&quot;is&quot;)){\r\n            \t\tinput = method.getName();\r\n            \t}\r\n            \t\r\n                //copy from LowerCaseWithUnderscoresStrategy\r\n            \tif (input == null) return input; // garbage in, garbage out\r\n                int length = input.length();\r\n                StringBuilder result = new StringBuilder(length * 2);\r\n                int resultLength = 0;\r\n                boolean wasPrevTranslated = false;\r\n                for (int i = 0; i &lt; length; i++)\r\n                {\r\n                    char c = input.charAt(i);\r\n                    if (i &gt; 0 || c != &#39;_&#39;) // skip first starting underscore\r\n                    {\r\n                        if (Character.isUpperCase(c))\r\n                        {\r\n                            if (!wasPrevTranslated &amp;&amp; resultLength &gt; 0 &amp;&amp; result.charAt(resultLength - 1) != &#39;_&#39;)\r\n                            {\r\n                                result.append(&#39;_&#39;);\r\n                                resultLength++;\r\n                            }\r\n                            c = Character.toLowerCase(c);\r\n                            wasPrevTranslated = true;\r\n                        }\r\n                        else\r\n                        {\r\n                            wasPrevTranslated = false;\r\n                        }\r\n                        result.append(c);\r\n                        resultLength++;\r\n                    }\r\n                }\r\n                return resultLength &gt; 0 ? result.toString() : input;\r\n            }\r\n        });\r\n","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>there is another method for this problem.</p>\n\n<p>just define a new sub-class extends PropertyNamingStrategy and pass it to ObjectMapper instance.</p>\n\n<p>here is a code snippet may be help more:</p>\n\n<pre><code>mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\n        @Override\n        public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName) {\n            String input = defaultName;\n            if(method.getName().startsWith(\"is\")){\n                input = method.getName();\n            }\n\n            //copy from LowerCaseWithUnderscoresStrategy\n            if (input == null) return input; // garbage in, garbage out\n            int length = input.length();\n            StringBuilder result = new StringBuilder(length * 2);\n            int resultLength = 0;\n            boolean wasPrevTranslated = false;\n            for (int i = 0; i &lt; length; i++)\n            {\n                char c = input.charAt(i);\n                if (i &gt; 0 || c != '_') // skip first starting underscore\n                {\n                    if (Character.isUpperCase(c))\n                    {\n                        if (!wasPrevTranslated &amp;&amp; resultLength &gt; 0 &amp;&amp; result.charAt(resultLength - 1) != '_')\n                        {\n                            result.append('_');\n                            resultLength++;\n                        }\n                        c = Character.toLowerCase(c);\n                        wasPrevTranslated = true;\n                    }\n                    else\n                    {\n                        wasPrevTranslated = false;\n                    }\n                    result.append(c);\n                    resultLength++;\n                }\n            }\n            return resultLength &gt; 0 ? result.toString() : input;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":352206,"reputation":1511,"user_id":689144,"accept_rate":67,"display_name":"burak emre"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1531995262,"creation_date":1531995262,"answer_id":51419993,"question_id":32270422,"body_markdown":"You can configure your `ObjectMapper` as follows:\r\n\r\n\r\n    mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\r\n                @Override\r\n                public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\r\n                {\r\n                    if(method.hasReturnType() &amp;&amp; (method.getRawReturnType() == Boolean.class || method.getRawReturnType() == boolean.class)\r\n                            &amp;&amp; method.getName().startsWith(&quot;is&quot;)) {\r\n                        return method.getName();\r\n                    }\r\n                    return super.nameForGetterMethod(config, method, defaultName);\r\n                }\r\n            });","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>You can configure your <code>ObjectMapper</code> as follows:</p>\n\n<pre><code>mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\n            @Override\n            public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\n            {\n                if(method.hasReturnType() &amp;&amp; (method.getRawReturnType() == Boolean.class || method.getRawReturnType() == boolean.class)\n                        &amp;&amp; method.getName().startsWith(\"is\")) {\n                    return method.getName();\n                }\n                return super.nameForGetterMethod(config, method, defaultName);\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2364498,"reputation":1787,"user_id":2508809,"accept_rate":58,"display_name":"Fabio"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1552303292,"creation_date":1552303292,"answer_id":55100741,"question_id":32270422,"body_markdown":"Using both annotations below, forces the output JSON to include `is_xxx`:\r\n\r\n    @get:JsonProperty(&quot;is_something&quot;)\r\n    @param:JsonProperty(&quot;is_something&quot;)","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>Using both annotations below, forces the output JSON to include <code>is_xxx</code>:</p>\n\n<pre><code>@get:JsonProperty(\"is_something\")\n@param:JsonProperty(\"is_something\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12535271,"reputation":81,"user_id":9122113,"display_name":"Adrien"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571843128,"creation_date":1571843128,"answer_id":58525889,"question_id":32270422,"body_markdown":"I didn&#39;t want to mess with some custom naming strategies, nor re-creating some accessors.  \r\nThe less code, the happier I am.\r\n\r\nThis did the trick for us :  \r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n@JsonIgnoreProperties({&quot;success&quot;, &quot;deleted&quot;}) // &lt;- Prevents serialization duplicates \r\npublic class MyResponse {\r\n\r\n    private String id;\r\n    private @JsonProperty(&quot;isSuccess&quot;) boolean isSuccess; // &lt;- Forces field name\r\n    private @JsonProperty(&quot;isDeleted&quot;) boolean isDeleted;\r\n\r\n}\r\n```","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>I didn't want to mess with some custom naming strategies, nor re-creating some accessors.<br>\nThe less code, the happier I am.</p>\n\n<p>This did the trick for us :  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonIgnoreProperties({\"success\", \"deleted\"}) // &lt;- Prevents serialization duplicates \npublic class MyResponse {\n\n    private String id;\n    private @JsonProperty(\"isSuccess\") boolean isSuccess; // &lt;- Forces field name\n    private @JsonProperty(\"isDeleted\") boolean isDeleted;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3397698,"reputation":1131,"user_id":2850848,"accept_rate":29,"display_name":"edmundpie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574445733,"creation_date":1574445733,"answer_id":58999529,"question_id":32270422,"body_markdown":"The accepted answer won&#39;t work for my case. \r\n\r\nIn my case, the class is not owned by me. The problematic class comes from 3rd party dependencies, so I can&#39;t just add `@JsonProperty` annotation in it.\r\n\r\nTo solve it, inspired by @burak answer above, I created a custom `PropertyNamingStrategy` as follow:\r\n\r\n\r\n    mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\r\n      @Override\r\n      public String nameForSetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\r\n      {\r\n        if (method.getParameterCount() == 1 &amp;&amp;\r\n                (method.getRawParameterType(0) == Boolean.class || method.getRawParameterType(0) == boolean.class) &amp;&amp;\r\n                method.getName().startsWith(&quot;set&quot;)) {\r\n\r\n          Class&lt;?&gt; containingClass = method.getDeclaringClass();\r\n          String potentialFieldName = &quot;is&quot; + method.getName().substring(3);\r\n\r\n          try {\r\n            containingClass.getDeclaredField(potentialFieldName);\r\n            return potentialFieldName;\r\n          } catch (NoSuchFieldException e) {\r\n            // do nothing and fall through\r\n          }\r\n        }\r\n\r\n        return super.nameForSetterMethod(config, method, defaultName);\r\n      }\r\n\r\n      @Override\r\n      public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\r\n      {\r\n        if(method.hasReturnType() &amp;&amp; (method.getRawReturnType() == Boolean.class || method.getRawReturnType() == boolean.class)\r\n            &amp;&amp; method.getName().startsWith(&quot;is&quot;)) {\r\n\r\n          Class&lt;?&gt; containingClass = method.getDeclaringClass();\r\n          String potentialFieldName = method.getName();\r\n\r\n          try {\r\n            containingClass.getDeclaredField(potentialFieldName);\r\n            return potentialFieldName;\r\n          } catch (NoSuchFieldException e) {\r\n            // do nothing and fall through\r\n          }\r\n        }\r\n        return super.nameForGetterMethod(config, method, defaultName);\r\n      }\r\n    });\r\n\r\nBasically what this does is, before serializing and deserializing, it checks  in the target/source class which property name is present in the class, whether it is `isEnabled` or `enabled` property. \r\n\r\nBased on that, the mapper will serialize and deserialize to the property name that is exist.","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>The accepted answer won't work for my case. </p>\n\n<p>In my case, the class is not owned by me. The problematic class comes from 3rd party dependencies, so I can't just add <code>@JsonProperty</code> annotation in it.</p>\n\n<p>To solve it, inspired by @burak answer above, I created a custom <code>PropertyNamingStrategy</code> as follow:</p>\n\n<pre><code>mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\n  @Override\n  public String nameForSetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\n  {\n    if (method.getParameterCount() == 1 &amp;&amp;\n            (method.getRawParameterType(0) == Boolean.class || method.getRawParameterType(0) == boolean.class) &amp;&amp;\n            method.getName().startsWith(\"set\")) {\n\n      Class&lt;?&gt; containingClass = method.getDeclaringClass();\n      String potentialFieldName = \"is\" + method.getName().substring(3);\n\n      try {\n        containingClass.getDeclaredField(potentialFieldName);\n        return potentialFieldName;\n      } catch (NoSuchFieldException e) {\n        // do nothing and fall through\n      }\n    }\n\n    return super.nameForSetterMethod(config, method, defaultName);\n  }\n\n  @Override\n  public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\n  {\n    if(method.hasReturnType() &amp;&amp; (method.getRawReturnType() == Boolean.class || method.getRawReturnType() == boolean.class)\n        &amp;&amp; method.getName().startsWith(\"is\")) {\n\n      Class&lt;?&gt; containingClass = method.getDeclaringClass();\n      String potentialFieldName = method.getName();\n\n      try {\n        containingClass.getDeclaredField(potentialFieldName);\n        return potentialFieldName;\n      } catch (NoSuchFieldException e) {\n        // do nothing and fall through\n      }\n    }\n    return super.nameForGetterMethod(config, method, defaultName);\n  }\n});\n</code></pre>\n\n<p>Basically what this does is, before serializing and deserializing, it checks  in the target/source class which property name is present in the class, whether it is <code>isEnabled</code> or <code>enabled</code> property. </p>\n\n<p>Based on that, the mapper will serialize and deserialize to the property name that is exist.</p>\n"},{"tags":[],"owner":{"account_id":7450892,"reputation":589,"user_id":5665706,"display_name":"Eirik Fosse"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1666948316,"creation_date":1574676217,"answer_id":59029312,"question_id":32270422,"body_markdown":"When you are using Kotlin and data classes:\r\n```kotlin\r\ndata class Dto(\r\n    @get:JsonProperty(&quot;isSuccess&quot;) val isSuccess: Boolean\r\n)\r\n```\r\nYou might need to add `@param:JsonProperty(&quot;isSuccess&quot;)` if you are going to deserialize JSON as well.\r\n\r\nEDIT: If you are using swagger-annotations to generate documentation, the property will be marked as `readOnly` when using `@get:JsonProperty`. In order to solve this, you can do:\r\n```kotlin\r\n@JsonAutoDetect(isGetterVisibility = JsonAutoDetect.Visibility.NONE)\r\ndata class Dto(\r\n    @field:JsonProperty(value = &quot;isSuccess&quot;) val isSuccess: Boolean\r\n)\r\n```\r\n","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>When you are using Kotlin and data classes:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Dto(\n    @get:JsonProperty(&quot;isSuccess&quot;) val isSuccess: Boolean\n)\n</code></pre>\n<p>You might need to add <code>@param:JsonProperty(&quot;isSuccess&quot;)</code> if you are going to deserialize JSON as well.</p>\n<p>EDIT: If you are using swagger-annotations to generate documentation, the property will be marked as <code>readOnly</code> when using <code>@get:JsonProperty</code>. In order to solve this, you can do:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonAutoDetect(isGetterVisibility = JsonAutoDetect.Visibility.NONE)\ndata class Dto(\n    @field:JsonProperty(value = &quot;isSuccess&quot;) val isSuccess: Boolean\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2838171,"reputation":995,"user_id":2438329,"accept_rate":57,"display_name":"Reynard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596200909,"creation_date":1596200909,"answer_id":63192473,"question_id":32270422,"body_markdown":"You can change primitive boolean to java.lang.Boolean (+ use `@JsonPropery`) \r\n\r\n    @JsonProperty(&quot;isA&quot;)\r\n    private Boolean isA = false;\r\n    \r\n    public Boolean getA() {\r\n        return this.isA;\r\n    }\r\n\r\n    public void setA(Boolean a) {\r\n        this.isA = a;\r\n    }\r\n\r\nWorked excellent for me.","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>You can change primitive boolean to java.lang.Boolean (+ use <code>@JsonPropery</code>)</p>\n<pre><code>@JsonProperty(&quot;isA&quot;)\nprivate Boolean isA = false;\n\npublic Boolean getA() {\n    return this.isA;\n}\n\npublic void setA(Boolean a) {\n    this.isA = a;\n}\n</code></pre>\n<p>Worked excellent for me.</p>\n"},{"tags":[],"owner":{"account_id":5296535,"reputation":169,"user_id":4227570,"display_name":"Sebastian Forza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1612341430,"creation_date":1612341430,"answer_id":66023857,"question_id":32270422,"body_markdown":"If you are interested in handling 3rd party classes not under your control (like @edmundpie mentioned in a comment) then you add Mixin classes to your ObjectMapper where the property/field names should match the ones from your 3rd party class:\r\n\r\n```\r\npublic class MyStack32270422 {\r\n\r\n  public static void main(String[] args) {\r\n    ObjectMapper om3rdParty = new ObjectMapper();\r\n    om3rdParty .addMixIn(My3rdPartyResponse.class, MixinMyResponse.class);\r\n    // add further mixins if required\r\n    String jsonString = om3rdParty.writeValueAsString(new My3rdPartyResponse());\r\n    System.out.println(jsonString);\r\n  }\r\n}\r\n\r\nclass MixinMyResponse {\r\n  // add all jackson annotations here you want to be used when handling My3rdPartyResponse classes\r\n  @JsonProperty(&quot;isSuccess&quot;)\r\n  private boolean isSuccess;\r\n}\r\n\r\nclass My3rdPartyResponse{\r\n  private boolean isSuccess = true;\r\n  // getter and setter here if desired\r\n}\r\n```\r\n\r\nBasically you add all your Jackson annotations to your Mixin classes as if you would own the class. In my opinion quite a nice solution as you don&#39;t have to mess around with checking method names starting with &quot;is..&quot; and so on.","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>If you are interested in handling 3rd party classes not under your control (like @edmundpie mentioned in a comment) then you add Mixin classes to your ObjectMapper where the property/field names should match the ones from your 3rd party class:</p>\n<pre><code>public class MyStack32270422 {\n\n  public static void main(String[] args) {\n    ObjectMapper om3rdParty = new ObjectMapper();\n    om3rdParty .addMixIn(My3rdPartyResponse.class, MixinMyResponse.class);\n    // add further mixins if required\n    String jsonString = om3rdParty.writeValueAsString(new My3rdPartyResponse());\n    System.out.println(jsonString);\n  }\n}\n\nclass MixinMyResponse {\n  // add all jackson annotations here you want to be used when handling My3rdPartyResponse classes\n  @JsonProperty(&quot;isSuccess&quot;)\n  private boolean isSuccess;\n}\n\nclass My3rdPartyResponse{\n  private boolean isSuccess = true;\n  // getter and setter here if desired\n}\n</code></pre>\n<p>Basically you add all your Jackson annotations to your Mixin classes as if you would own the class. In my opinion quite a nice solution as you don't have to mess around with checking method names starting with &quot;is..&quot; and so on.</p>\n"},{"tags":[],"owner":{"account_id":14425529,"reputation":290,"user_id":10420415,"display_name":"Markus Ridziauskas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679390790,"creation_date":1679390790,"answer_id":75799345,"question_id":32270422,"body_markdown":"The most simple solution if you are also using `Lombok` is to annotate the property with `@JsonProperty` like so\r\n```\r\n@Getter\r\n@Setter\r\npublic class MyResponse implements Serializable {\r\n\r\n    @JsonProperty(value=&quot;isSuccess&quot;)\r\n    private boolean isSuccess;\r\n\r\n}\r\n```","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>The most simple solution if you are also using <code>Lombok</code> is to annotate the property with <code>@JsonProperty</code> like so</p>\n<pre><code>@Getter\n@Setter\npublic class MyResponse implements Serializable {\n\n    @JsonProperty(value=&quot;isSuccess&quot;)\n    private boolean isSuccess;\n\n}\n</code></pre>\n"}],"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122633,"favorite_count":0,"down_vote_count":0,"up_vote_count":184,"accepted_answer_id":38969817,"answer_count":12,"score":184,"last_activity_date":1679390790,"creation_date":1440762733,"question_id":32270422,"body_markdown":"This might be a duplicate. But I cannot find a solution to my Problem.\r\n\r\nI have a class\r\n\r\n    public class MyResponse implements Serializable {\r\n\r\n        private boolean isSuccess;\r\n\r\n        public boolean isSuccess() {\r\n    \t\treturn isSuccess;\r\n    \t}\r\n    \r\n    \tpublic void setSuccess(boolean isSuccess) {\r\n    \t\tthis.isSuccess = isSuccess;\r\n    \t}\r\n    }\r\n\r\nGetters and setters are generated by Eclipse.\r\n\r\nIn another class, I set the value to true, and write it as a JSON string.\r\n\r\n    System.out.println(new ObjectMapper().writeValueAsString(myResponse));\r\n\r\nIn JSON, the key is coming as `{&quot;success&quot;: true}`.\r\n\r\nI want the key as `isSuccess` itself. Is Jackson using the setter method while serializing? How do I make the key the field name itself?\r\n","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>This might be a duplicate. But I cannot find a solution to my Problem.</p>\n<p>I have a class</p>\n<pre><code>public class MyResponse implements Serializable {\n\n    private boolean isSuccess;\n\n    public boolean isSuccess() {\n        return isSuccess;\n    }\n\n    public void setSuccess(boolean isSuccess) {\n        this.isSuccess = isSuccess;\n    }\n}\n</code></pre>\n<p>Getters and setters are generated by Eclipse.</p>\n<p>In another class, I set the value to true, and write it as a JSON string.</p>\n<pre><code>System.out.println(new ObjectMapper().writeValueAsString(myResponse));\n</code></pre>\n<p>In JSON, the key is coming as <code>{&quot;success&quot;: true}</code>.</p>\n<p>I want the key as <code>isSuccess</code> itself. Is Jackson using the setter method while serializing? How do I make the key the field name itself?</p>\n"},{"tags":["java","types","javadoc"],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1434959243,"creation_date":1434958650,"answer_id":30974360,"question_id":30974309,"body_markdown":"No, there&#39;s no need, the JavaDoc tool parses the Java code and gets the types from there.\n\nThis article on the Oracle Java site may be useful: [*How to Write Doc Comments for the Javadoc Tool*](http://www.oracle.com/technetwork/articles/java/index-137868.html)\n\nFrom the [`@param` part][1] of that article:\n\n&gt; The @param tag is followed by the name (not data type) of the parameter, followed by a description of the parameter. By convention, the first noun in the description is the data type of the parameter. (Articles like &quot;a&quot;, &quot;an&quot;, and &quot;the&quot; can precede the noun.) An exception is made for the primitive int, where the data type is usually omitted. Additional spaces can be inserted between the name and description so that the descriptions line up in a block. Dashes or other punctuation should not be inserted before the description, as the Javadoc tool inserts one dash.\n&gt;\n&gt; Parameter names are lowercase by convention. The data type starts with a lowercase letter to indicate an object rather than a class.\n\n...which *sounds* like it disagrees with my statement above. That&#39;s just poor writing, as the examples it then gives make clear:\n\n&gt; `@param ch        the character to be tested`\n&gt;\n&gt; `@param observer  the image observer to be notified`\n&gt;\n&gt; `@param x  the x-coordinate, measured in pixels`\n\nIt&#39;s also clear from [the detailed examples](http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html#examples).\n\n\n  [1]: http://www.oracle.com/technetwork/articles/java/index-137868.html#@param","title":"Javadoc: Do parameter and return need an explicit type description","body":"<p>No, there's no need, the JavaDoc tool parses the Java code and gets the types from there.</p>\n<p>This article on the Oracle Java site may be useful: <a href=\"http://www.oracle.com/technetwork/articles/java/index-137868.html\" rel=\"noreferrer\"><em>How to Write Doc Comments for the Javadoc Tool</em></a></p>\n<p>From the <a href=\"http://www.oracle.com/technetwork/articles/java/index-137868.html#@param\" rel=\"noreferrer\"><code>@param</code> part</a> of that article:</p>\n<blockquote>\n<p>The @param tag is followed by the name (not data type) of the parameter, followed by a description of the parameter. By convention, the first noun in the description is the data type of the parameter. (Articles like &quot;a&quot;, &quot;an&quot;, and &quot;the&quot; can precede the noun.) An exception is made for the primitive int, where the data type is usually omitted. Additional spaces can be inserted between the name and description so that the descriptions line up in a block. Dashes or other punctuation should not be inserted before the description, as the Javadoc tool inserts one dash.</p>\n<p>Parameter names are lowercase by convention. The data type starts with a lowercase letter to indicate an object rather than a class.</p>\n</blockquote>\n<p>...which <em>sounds</em> like it disagrees with my statement above. That's just poor writing, as the examples it then gives make clear:</p>\n<blockquote>\n<p><code>@param ch        the character to be tested</code></p>\n<p><code>@param observer  the image observer to be notified</code></p>\n<p><code>@param x  the x-coordinate, measured in pixels</code></p>\n</blockquote>\n<p>It's also clear from <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html#examples\" rel=\"noreferrer\">the detailed examples</a>.</p>\n"},{"tags":[],"owner":{"account_id":27579010,"reputation":1,"user_id":21048605,"display_name":"juantan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679390593,"creation_date":1679390593,"answer_id":75799308,"question_id":30974309,"body_markdown":"I agree it&#39;s not very well written, but I think the answer is sort of yes, in that the article is saying it is a convention for each param name to be almost immediately followed by if not its actual data type then a description of its data type (&quot;By convention, *the first noun in the description is the data type of the parameter*.&quot;), i.e.\r\n\r\n@param ch        the *character* to be tested\r\n\r\n@param observer  the *image observer* to be notified\r\n\r\nexcept that for ints, we are told, a description of the data type is generally omitted.\r\n\r\nSo they don&#39;t need it, but it is a convention to provide it.","title":"Javadoc: Do parameter and return need an explicit type description","body":"<p>I agree it's not very well written, but I think the answer is sort of yes, in that the article is saying it is a convention for each param name to be almost immediately followed by if not its actual data type then a description of its data type (&quot;By convention, <em>the first noun in the description is the data type of the parameter</em>.&quot;), i.e.</p>\n<p>@param ch        the <em>character</em> to be tested</p>\n<p>@param observer  the <em>image observer</em> to be notified</p>\n<p>except that for ints, we are told, a description of the data type is generally omitted.</p>\n<p>So they don't need it, but it is a convention to provide it.</p>\n"}],"owner":{"account_id":3218253,"reputation":566,"user_id":2716305,"accept_rate":100,"display_name":"Lightfire228"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5949,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30974360,"answer_count":2,"score":5,"last_activity_date":1679390593,"creation_date":1434958437,"question_id":30974309,"body_markdown":"When Javadoc&#39;ing, I don&#39;t know whether you should explicitly say whether the parameters are of type `String` or `int`.  For example\r\n\r\n    /**\r\n     * This method does something\r\n     * @param foo an object of type Foo\r\n     * @param abc the number of doors, of type int\r\n     * @return the number of windows, of type int\r\n     */\r\n    public int doSomething(Foo foo, int abc) {\r\n        // Do something\r\n    }\r\n\r\nI use eclipse, so when I look at the user end of a Javadoc, everything has a type description, and eclipse tells me when I used the wrong type reference. \r\n\r\nSo, should I include type descriptions as above, or does Javadoc/compiler take care of that for me?","title":"Javadoc: Do parameter and return need an explicit type description","body":"<p>When Javadoc'ing, I don't know whether you should explicitly say whether the parameters are of type <code>String</code> or <code>int</code>.  For example</p>\n\n<pre><code>/**\n * This method does something\n * @param foo an object of type Foo\n * @param abc the number of doors, of type int\n * @return the number of windows, of type int\n */\npublic int doSomething(Foo foo, int abc) {\n    // Do something\n}\n</code></pre>\n\n<p>I use eclipse, so when I look at the user end of a Javadoc, everything has a type description, and eclipse tells me when I used the wrong type reference. </p>\n\n<p>So, should I include type descriptions as above, or does Javadoc/compiler take care of that for me?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":41710,"reputation":38369,"user_id":121309,"accept_rate":100,"display_name":"Hans Keing"},"score":0,"creation_date":1679382931,"post_id":75798228,"comment_id":133707168,"body_markdown":"Do you get any errors, caused by missing spaces?","body":"Do you get any errors, caused by missing spaces?"},{"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"score":0,"creation_date":1679383507,"post_id":75798228,"comment_id":133707258,"body_markdown":"no , i am not getting any error , i am getting the dataset also bot not the distinct one","body":"no , i am not getting any error , i am getting the dataset also bot not the distinct one"}],"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679389644,"creation_date":1679382755,"question_id":75798228,"body_markdown":"My Code :\r\n```\r\nString selectedColumns = &quot;name,age&quot;;\r\nString dataFrameName =&quot;student&quot;;\r\nDataset&lt;Row&gt; datasets =sparksession.sql(&quot;SELECT DISTINCT &quot;+selectedColumns+&quot;FROM&quot;+dataFrameName);\r\n```\r\nwith the above code I am getting duplicate row not the distinct one \r\nI tried the below approach but still distinct is not working\r\n\r\n```\r\nDataset&lt;Row&gt; distnictDs =datasets.distinct();\r\nDataset&lt;Row&gt; distnictDs1 =datasets.dropDuplicates(&quot;name&quot;,&quot;age&quot;);\r\n```\r\nNothing is working, How to retrieve only distinct row from a dataset in spark ?\r\n","title":"Why DISTNICT is not working in spark sql?","body":"<p>My Code :</p>\n<pre><code>String selectedColumns = &quot;name,age&quot;;\nString dataFrameName =&quot;student&quot;;\nDataset&lt;Row&gt; datasets =sparksession.sql(&quot;SELECT DISTINCT &quot;+selectedColumns+&quot;FROM&quot;+dataFrameName);\n</code></pre>\n<p>with the above code I am getting duplicate row not the distinct one\nI tried the below approach but still distinct is not working</p>\n<pre><code>Dataset&lt;Row&gt; distnictDs =datasets.distinct();\nDataset&lt;Row&gt; distnictDs1 =datasets.dropDuplicates(&quot;name&quot;,&quot;age&quot;);\n</code></pre>\n<p>Nothing is working, How to retrieve only distinct row from a dataset in spark ?</p>\n"},{"tags":["java","google-cloud-functions","imagemagick"],"comments":[{"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"score":0,"creation_date":1680074386,"post_id":75799132,"comment_id":133833271,"body_markdown":"I believe currently there are no workarounds, if you still need help feel free to [contact google support](https://cloud.google.com/support-hub).","body":"I believe currently there are no workarounds, if you still need help feel free to <a href=\"https://cloud.google.com/support-hub\" rel=\"nofollow noreferrer\">contact google support</a>."}],"owner":{"account_id":390306,"reputation":156,"user_id":750279,"display_name":"Repminister"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679389419,"creation_date":1679389419,"question_id":75799132,"body_markdown":"I am trying to use image-magick in a google cloud function (java17 runtime) and all tutorials (including [official ones][1]) instruct you to just use the command &#39;convert&#39; and it will work out of the box. \r\n\r\nBut this is actually not the case, after some investigation, I found out that ImageMagick is not part of the [Ubuntu 22.04 runtime][2] but it is present in [Ubuntu 18.04 runtime][3]. I found multiple bug reports and feature requests regarding this but no feedback/updates from google. \r\n\r\nIs there any workaround for this (other than using java11 which is running on Ubuntu 18.04. Currently I am using java17 runtime and gen2 methods), or perhaps a similar library for optimizing and resizing images that I can use?\r\n\r\n\r\n  [1]: https://cloud.google.com/functions/docs/tutorials/imagemagick\r\n  [2]: https://cloud.google.com/functions/docs/reference/system-packages#ubuntu_2204\r\n  [3]: https://cloud.google.com/functions/docs/reference/system-packages#ubuntu_1804","title":"How to use image-magick (or similar) in google cloud function (java runtime)","body":"<p>I am trying to use image-magick in a google cloud function (java17 runtime) and all tutorials (including <a href=\"https://cloud.google.com/functions/docs/tutorials/imagemagick\" rel=\"nofollow noreferrer\">official ones</a>) instruct you to just use the command 'convert' and it will work out of the box.</p>\n<p>But this is actually not the case, after some investigation, I found out that ImageMagick is not part of the <a href=\"https://cloud.google.com/functions/docs/reference/system-packages#ubuntu_2204\" rel=\"nofollow noreferrer\">Ubuntu 22.04 runtime</a> but it is present in <a href=\"https://cloud.google.com/functions/docs/reference/system-packages#ubuntu_1804\" rel=\"nofollow noreferrer\">Ubuntu 18.04 runtime</a>. I found multiple bug reports and feature requests regarding this but no feedback/updates from google.</p>\n<p>Is there any workaround for this (other than using java11 which is running on Ubuntu 18.04. Currently I am using java17 runtime and gen2 methods), or perhaps a similar library for optimizing and resizing images that I can use?</p>\n"},{"tags":["java","spring-boot","javafx","selenium-chromedriver"],"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679389210,"creation_date":1679389210,"question_id":75799099,"body_markdown":"I want to create an application that reads certain information about the Selenium ChromeDriver and stores it via Springboot. All this should be controlled via a graphical user interface. My graphical interface works, just like the springboot configurations. However, there is always an error when creating a new ChromeDriver. Here is the class.\r\n\r\n\r\n```\r\npackage com.example.printondemandsellerview;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class AmazonMerchScraper {\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n\r\n        // Navigate to the login page\r\n        driver.get(&quot;https://merch.amazon.com/&quot;);\r\n\r\n        // Find and click on the Sign In button\r\n        WebElement signInButton = driver.findElement(By.id(&quot;merch-nav-sign-in&quot;));\r\n        signInButton.click();\r\n\r\n        // Close the browser\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\n\r\nHere is my pom.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PrintOnDemandSellerView&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;PrintOnDemandSellerView&lt;/name&gt;\r\n    &lt;description&gt;PrintOnDemandSellerView&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.rgielen&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-weaver-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThe following error is thrown\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/devtools/HasDevTools\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat com.example.printondemandsellerview.AmazonMerchScraper.main(AmazonMerchScraper.java:12)\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.devtools.HasDevTools\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 19 more\r\n```\r\n\r\n\r\n\r\n\r\nWhen I create the specified class in a new project, the ChromeDriver opens strangely. I have already tried it with different other dependencies in the pom.xml, but that did nothing. Do you have any tips?","title":"Selenium ChromeDriver -&gt; ClassNotFoundException: org.openqa.selenium.devtools.HasDevTools","body":"<p>I want to create an application that reads certain information about the Selenium ChromeDriver and stores it via Springboot. All this should be controlled via a graphical user interface. My graphical interface works, just like the springboot configurations. However, there is always an error when creating a new ChromeDriver. Here is the class.</p>\n<pre><code>package com.example.printondemandsellerview;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class AmazonMerchScraper {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n\n        // Navigate to the login page\n        driver.get(&quot;https://merch.amazon.com/&quot;);\n\n        // Find and click on the Sign In button\n        WebElement signInButton = driver.findElement(By.id(&quot;merch-nav-sign-in&quot;));\n        signInButton.click();\n\n        // Close the browser\n        driver.quit();\n    }\n}\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;PrintOnDemandSellerView&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;PrintOnDemandSellerView&lt;/name&gt;\n    &lt;description&gt;PrintOnDemandSellerView&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.rgielen&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-weaver-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;17.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>The following error is thrown</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/devtools/HasDevTools\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at com.example.printondemandsellerview.AmazonMerchScraper.main(AmazonMerchScraper.java:12)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.devtools.HasDevTools\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 19 more\n</code></pre>\n<p>When I create the specified class in a new project, the ChromeDriver opens strangely. I have already tried it with different other dependencies in the pom.xml, but that did nothing. Do you have any tips?</p>\n"},{"tags":["java","git","sdk","jgit"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679388010,"creation_date":1679388010,"answer_id":75798916,"question_id":75798452,"body_markdown":"As [noted here][1], the token can be use alone, as a &quot;username&quot;.\r\n\r\n``` java\r\nString remoteUrl = &quot;https://${token}@github.com/user/repo.git&quot;;\r\nCredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(&quot;${token}&quot;, &quot;&quot;);\r\n```\r\n\r\nAs long as the token works, the username might be ignored in your case.\r\n\r\n&quot;[JGit Authentication Explained][2]&quot; explains:\r\n\r\n&gt; Please note one thing if you are accessing a GitHub repository through HTTPS with an OAuth access token.  \r\nThe token does not need to be specified in the URL but only given as a user name.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28105276/6309\r\n  [2]: https://www.codeaffine.com/2014/12/09/jgit-authentication/","title":"Jgit Bug? Git clone command works even if incorrect username is passed with UsernamePasswordCredentialsProvider","body":"<p>As <a href=\"https://stackoverflow.com/a/28105276/6309\">noted here</a>, the token can be use alone, as a &quot;username&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String remoteUrl = &quot;https://${token}@github.com/user/repo.git&quot;;\nCredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(&quot;${token}&quot;, &quot;&quot;);\n</code></pre>\n<p>As long as the token works, the username might be ignored in your case.</p>\n<p>&quot;<a href=\"https://www.codeaffine.com/2014/12/09/jgit-authentication/\" rel=\"nofollow noreferrer\">JGit Authentication Explained</a>&quot; explains:</p>\n<blockquote>\n<p>Please note one thing if you are accessing a GitHub repository through HTTPS with an OAuth access token.<br />\nThe token does not need to be specified in the URL but only given as a user name.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679388922,"creation_date":1679388922,"answer_id":75799043,"question_id":75798452,"body_markdown":"The JGit library just sends the credentials to the Git Repository, and that decides what is &quot;wrong&quot; or &quot;correct&quot;.\r\n\r\nAs said in [this answer][1], GitHub expects the access token as the username, while the repo that you try to access wants to have it as the password. GitHub ignores the provided password, your repository don&#39;t care about the username.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75798916/1554195","title":"Jgit Bug? Git clone command works even if incorrect username is passed with UsernamePasswordCredentialsProvider","body":"<p>The JGit library just sends the credentials to the Git Repository, and that decides what is &quot;wrong&quot; or &quot;correct&quot;.</p>\n<p>As said in <a href=\"https://stackoverflow.com/a/75798916/1554195\">this answer</a>, GitHub expects the access token as the username, while the repo that you try to access wants to have it as the password. GitHub ignores the provided password, your repository don't care about the username.</p>\n"}],"owner":{"account_id":12289779,"reputation":71,"user_id":8967633,"display_name":"Deepika Karanji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679388922,"creation_date":1679384707,"question_id":75798452,"body_markdown":"While trying to clone a repo with jgit, passing wrong username to `UsernamePasswordCredentialsProvider` actually does not result in any error, which is very surprising to me. Why is it working? How is the repo being cloned when the username is incorrect?\r\nTried it with version 4.6.0.201612231935-r and 6.5.0.202303070854-r\r\n\r\nI have a function that is trying to clone a git repo, given a username and access token.\r\nWhile trying to handle exceptions for edge cases, I noticed that passing an incorrect username, but correct access token for a specific git url and branch does NOT give any error at all!\r\n\r\n    ` return Git.cloneRepository()\r\n              .setURI(repoDetailsModel.getRepoUrl())\r\n              .setCredentialsProvider(\r\n                  new UsernamePasswordCredentialsProvider(\r\n                          &quot;INCORRECT_RANDOM_USER&quot; , repoDetailsModel.getAccessToken()))\r\n              .setDirectory(tempDir)\r\n              .setBranchesToClone(Arrays.asList(REPO_BRANCH_PATH + repoDetailsModel.getRepoBranch()))\r\n              .setBranch(REPO_BRANCH_PATH + repoDetailsModel.getRepoBranch())\r\n              .call();`\r\n\r\nBut passing incorrect access token does give the expected &quot;not authorized&quot; error.\r\nIs this a bug in the jgit library?\r\nDoes `UsernamePasswordCredentialsProvider` allow for anonymous access as long as the access token is correct by design?","title":"Jgit Bug? Git clone command works even if incorrect username is passed with UsernamePasswordCredentialsProvider","body":"<p>While trying to clone a repo with jgit, passing wrong username to <code>UsernamePasswordCredentialsProvider</code> actually does not result in any error, which is very surprising to me. Why is it working? How is the repo being cloned when the username is incorrect?\nTried it with version 4.6.0.201612231935-r and 6.5.0.202303070854-r</p>\n<p>I have a function that is trying to clone a git repo, given a username and access token.\nWhile trying to handle exceptions for edge cases, I noticed that passing an incorrect username, but correct access token for a specific git url and branch does NOT give any error at all!</p>\n<pre><code>` return Git.cloneRepository()\n          .setURI(repoDetailsModel.getRepoUrl())\n          .setCredentialsProvider(\n              new UsernamePasswordCredentialsProvider(\n                      &quot;INCORRECT_RANDOM_USER&quot; , repoDetailsModel.getAccessToken()))\n          .setDirectory(tempDir)\n          .setBranchesToClone(Arrays.asList(REPO_BRANCH_PATH + repoDetailsModel.getRepoBranch()))\n          .setBranch(REPO_BRANCH_PATH + repoDetailsModel.getRepoBranch())\n          .call();`\n</code></pre>\n<p>But passing incorrect access token does give the expected &quot;not authorized&quot; error.\nIs this a bug in the jgit library?\nDoes <code>UsernamePasswordCredentialsProvider</code> allow for anonymous access as long as the access token is correct by design?</p>\n"},{"tags":["java","spring","apache-kafka"],"comments":[{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1592484655,"post_id":62450323,"comment_id":110446125,"body_markdown":"This is not possible.","body":"This is not possible."},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1592484912,"post_id":62450323,"comment_id":110446281,"body_markdown":"Wow, I was hoping it could be, I find it quite strange that something that seems so simple cannot be done in kafka. @sonus21","body":"Wow, I was hoping it could be, I find it quite strange that something that seems so simple cannot be done in kafka. @sonus21"},{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":1,"creation_date":1592485698,"post_id":62450323,"comment_id":110446730,"body_markdown":"Some systems are designed to specific use cases, queues are meant to use a stacks.","body":"Some systems are designed to specific use cases, queues are meant to use a stacks."},{"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"score":0,"creation_date":1592485830,"post_id":62450323,"comment_id":110446817,"body_markdown":"In the example you&#39;ve quoted, is that you *observed* behaviour, or your *desired* behaviour?","body":"In the example you&#39;ve quoted, is that you <i>observed</i> behaviour, or your <i>desired</i> behaviour?"},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1592485928,"post_id":62450323,"comment_id":110446873,"body_markdown":"Example is observed behavior @RobinMoffatt","body":"Example is observed behavior @RobinMoffatt"},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1592486023,"post_id":62450323,"comment_id":110446929,"body_markdown":"So a queue can only have that behavior from what I see. Thanks for explain that @sonus21","body":"So a queue can only have that behavior from what I see. Thanks for explain that @sonus21"},{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1592486164,"post_id":62450323,"comment_id":110447023,"body_markdown":"@XxTheZokoxX no, you&#39;re looking for a stack, I&#39;m not aware of any stack but I can suggest you how to build one using Redis or another database, certainly this is not possible using Kafka.","body":"@XxTheZokoxX no, you&#39;re looking for a stack, I&#39;m not aware of any stack but I can suggest you how to build one using Redis or another database, certainly this is not possible using Kafka."},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1592486465,"post_id":62450323,"comment_id":110447183,"body_markdown":"The problem is that this is a defined development already, if I am honest in a not very effective way as you can see, and I could not add a database since that would imply costs, which I cannot decide @sonus21","body":"The problem is that this is a defined development already, if I am honest in a not very effective way as you can see, and I could not add a database since that would imply costs, which I cannot decide @sonus21"}],"answers":[{"tags":[],"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1592486347,"creation_date":1592486347,"answer_id":62450908,"question_id":62450323,"body_markdown":"When you consume from a topic you can opt to read from the beginning, and when you do so you get all the of the messages *in the order in which they were produced into the partition*. \r\n\r\nIf you have a single partition **you will get strict FIFO behaviour**. \r\n\r\nIf you have *multiple partitions* (as it looks like you have here) then you get FIFO within a partition, but across partitions it will be non-deterministic. Thus you could get the behaviour you show. ","title":"How to configure Kafka to behave like a FiFo queue?","body":"<p>When you consume from a topic you can opt to read from the beginning, and when you do so you get all the of the messages <em>in the order in which they were produced into the partition</em>. </p>\n\n<p>If you have a single partition <strong>you will get strict FIFO behaviour</strong>. </p>\n\n<p>If you have <em>multiple partitions</em> (as it looks like you have here) then you get FIFO within a partition, but across partitions it will be non-deterministic. Thus you could get the behaviour you show. </p>\n"},{"tags":[],"owner":{"account_id":14912736,"reputation":21,"user_id":10767649,"display_name":"Murilo Pereira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679388757,"creation_date":1678910801,"answer_id":75749586,"question_id":62450323,"body_markdown":"Maybe to complement the answer made by `Robin Moffatt`.\r\n\r\nWhen you have multiples partitions you need to make sure that your producers force the `FIFO` policy using `key message` of each record. For example:\r\n\r\nyou have two partitions:\r\n\r\nIf you try to send the message below without any key:\r\n\r\n&gt; Hello World 1\r\n&gt; \r\n&gt; Hello World 2\r\n\r\nKafka can deal with this way:\r\n\r\n&gt; Hello World 1 (can be stored in partition 1)\r\n&gt; \r\n&gt; Hello World 2 (can be stored in partition 2)\r\n\r\nNow if you consume those messages you can not guarantee `FIFO` to this group of messages.\r\n\r\nAs `Robin Moffatt` mentioned the `FIFO` will be applied in each partition.\r\n\r\nTo make sure this `FIFO` policy to the same type of records your can set in the producer side the `KEY` and assign to those similar messages the same key. For Example:\r\n\r\nIf you try to send the message below `ADDING` a key. (Normally Kafka producers request contain the `topicName`, `key` and `message`). Example:\r\n\r\n&gt; topic= Great_Topic key= messageKey message: Hello World 1\r\n&gt;\r\n&gt; topic= Great_Topic key= messageKey message: Hello World 2\r\n\r\nNow Kafka will guarantee that all your messages with the same key flows to the same partition.\r\n\r\nLike This\r\n\r\n&gt; Hello World 1 (will can be stored in the partition 1)\r\n&gt;\r\n&gt; Hello World 2 (will can be stored in the partition 1)\r\n\r\nIn this case partition 2 will be empty or like this\r\n\r\n&gt; Hello World 1 (will can be stored in the partition 2)\r\n&gt;\r\n&gt; Hello World 2 (will can be stored in the partition 2)\r\n\r\nIn this case partition 1 will be empty.\r\n\r\nNow if you run your Kafka consumer making sure that your are not consuming in an async way your application will behave as `FIFO` \r\n\r\n","title":"How to configure Kafka to behave like a FiFo queue?","body":"<p>Maybe to complement the answer made by <code>Robin Moffatt</code>.</p>\n<p>When you have multiples partitions you need to make sure that your producers force the <code>FIFO</code> policy using <code>key message</code> of each record. For example:</p>\n<p>you have two partitions:</p>\n<p>If you try to send the message below without any key:</p>\n<blockquote>\n<p>Hello World 1</p>\n<p>Hello World 2</p>\n</blockquote>\n<p>Kafka can deal with this way:</p>\n<blockquote>\n<p>Hello World 1 (can be stored in partition 1)</p>\n<p>Hello World 2 (can be stored in partition 2)</p>\n</blockquote>\n<p>Now if you consume those messages you can not guarantee <code>FIFO</code> to this group of messages.</p>\n<p>As <code>Robin Moffatt</code> mentioned the <code>FIFO</code> will be applied in each partition.</p>\n<p>To make sure this <code>FIFO</code> policy to the same type of records your can set in the producer side the <code>KEY</code> and assign to those similar messages the same key. For Example:</p>\n<p>If you try to send the message below <code>ADDING</code> a key. (Normally Kafka producers request contain the <code>topicName</code>, <code>key</code> and <code>message</code>). Example:</p>\n<blockquote>\n<p>topic= Great_Topic key= messageKey message: Hello World 1</p>\n<p>topic= Great_Topic key= messageKey message: Hello World 2</p>\n</blockquote>\n<p>Now Kafka will guarantee that all your messages with the same key flows to the same partition.</p>\n<p>Like This</p>\n<blockquote>\n<p>Hello World 1 (will can be stored in the partition 1)</p>\n<p>Hello World 2 (will can be stored in the partition 1)</p>\n</blockquote>\n<p>In this case partition 2 will be empty or like this</p>\n<blockquote>\n<p>Hello World 1 (will can be stored in the partition 2)</p>\n<p>Hello World 2 (will can be stored in the partition 2)</p>\n</blockquote>\n<p>In this case partition 1 will be empty.</p>\n<p>Now if you run your Kafka consumer making sure that your are not consuming in an async way your application will behave as <code>FIFO</code></p>\n"}],"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13022,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62450908,"answer_count":2,"score":3,"last_activity_date":1679388757,"creation_date":1592484409,"question_id":62450323,"body_markdown":"I am having a small problem and that is that I have to use kafka as a notification system to start flows of my application, everything is fine, but I would like to know if I can alter the order when there are unread messages in the queue.\r\n\r\nLet me explain: When there are two or more messages in the topic, and the consumer reads them, read first, the last one that has entered, and I want it to read first, the first one that entered.\r\n\r\nSo I wanted to know if it is possible and if it is, that we have to change for it.\r\n\r\nI am using the latest version of Spring Apache, and Kafka 2.5.0\r\n\r\nConsumerConfig:\r\n\r\n```\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    private static final String BOOTSTRAP_ADDRESS = &quot;&quot;;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_ADDRESS);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;id&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    \r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n\r\n\r\n```\r\nKafkaConsumer:\r\n\r\n\r\n```\r\n\r\n@Component\r\npublic class KafkaConsumer {\r\n\r\n    @KafkaListener(topics = &quot;Great_Topic&quot;)\r\n    private void listen(String msg) {\r\n        System.out.println(&quot;I&#39;ve received: &quot; + msg);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nExample:\r\n\r\nIn my producer I have sent the following messages in this order:\r\n\r\n- Hello World 1\r\n- Hello World 2\r\n\r\nOutput in consumer:\r\n\r\n- Hello World 2\r\n- Hello World 1\r\n\r\nI want the output to have the same order as the input.\r\n\r\n\r\n","title":"How to configure Kafka to behave like a FiFo queue?","body":"<p>I am having a small problem and that is that I have to use kafka as a notification system to start flows of my application, everything is fine, but I would like to know if I can alter the order when there are unread messages in the queue.</p>\n\n<p>Let me explain: When there are two or more messages in the topic, and the consumer reads them, read first, the last one that has entered, and I want it to read first, the first one that entered.</p>\n\n<p>So I wanted to know if it is possible and if it is, that we have to change for it.</p>\n\n<p>I am using the latest version of Spring Apache, and Kafka 2.5.0</p>\n\n<p>ConsumerConfig:</p>\n\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    private static final String BOOTSTRAP_ADDRESS = \"\";\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_ADDRESS);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, \"id\");\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n\n\n</code></pre>\n\n<p>KafkaConsumer:</p>\n\n<pre><code>\n@Component\npublic class KafkaConsumer {\n\n    @KafkaListener(topics = \"Great_Topic\")\n    private void listen(String msg) {\n        System.out.println(\"I've received: \" + msg);\n    }\n}\n\n\n</code></pre>\n\n<p>Example:</p>\n\n<p>In my producer I have sent the following messages in this order:</p>\n\n<ul>\n<li>Hello World 1</li>\n<li>Hello World 2</li>\n</ul>\n\n<p>Output in consumer:</p>\n\n<ul>\n<li>Hello World 2</li>\n<li>Hello World 1</li>\n</ul>\n\n<p>I want the output to have the same order as the input.</p>\n"},{"tags":["java","android","gradle","gson"],"answers":[{"tags":[],"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1504212673,"creation_date":1504212673,"answer_id":45989888,"question_id":45989765,"body_markdown":"You could try to get the dependency tree and figure out which package it is.","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>You could try to get the dependency tree and figure out which package it is.</p>\n"},{"tags":[],"owner":{"account_id":11633134,"reputation":931,"user_id":8520497,"display_name":"Malik Ahsan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504222466,"creation_date":1504217741,"answer_id":45990834,"question_id":45989765,"body_markdown":"In android studio terminal execute\r\n\r\n    ./gradlew clean\r\n\r\nand perform the following and rebuild \r\n\r\nTry adding this to your dependencies \r\n    \r\n    compile&#39;com.android.support:multidex:1.0.1&#39;\r\n\r\nand in manifest add this\r\n     \r\n    android:name=&quot;android.support.multidex.MultiDexApplication&quot; \r\nin the application tag","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>In android studio terminal execute</p>\n\n<pre><code>./gradlew clean\n</code></pre>\n\n<p>and perform the following and rebuild </p>\n\n<p>Try adding this to your dependencies </p>\n\n<pre><code>compile'com.android.support:multidex:1.0.1'\n</code></pre>\n\n<p>and in manifest add this</p>\n\n<pre><code>android:name=\"android.support.multidex.MultiDexApplication\" \n</code></pre>\n\n<p>in the application tag</p>\n"},{"tags":[],"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1504677147,"creation_date":1504618150,"answer_id":46056233,"question_id":45989765,"body_markdown":"I figured it out, first.. thanks guys for ur help anyhow..! but I&#39;m making this as the accepted answer since it&#39;s the one that worked out for me!\r\n\r\n----\r\n\r\n**Step 1**\r\nI searched for the duplicated class in the whole project using (Double Shift)\r\nand it showed me which library is also using the same class..! in my case it was `zoommobilertc` \r\n\r\n**Step 2**\r\n\r\nI tried excluding the gson module of that library like this:\r\n\r\n    compile project(&#39;:zoommobilertc&#39;){\r\n       exclude  group: &#39;com.google.code.gson&#39;, module: &#39;gson&#39;\r\n    }\r\n..but it didn&#39;t work, and it give me error that I think it has something to do with `exclude` . I tried a few solution but no luck!\r\n\r\n**So.. I did this instead ..**\r\n  \r\n- Open Project View\r\n- Open External Libraries\r\n- Find the library which&#39;s `zoommobilertc` and unfold its folder\r\n- Delete `Gson` jar file that shows.!\r\n\r\n\r\n**Step 3**\r\n\r\n\r\nAfter that, I synced the project and tried to build an apk, bu this error showed:\r\n\r\n    Error:Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;. &gt; com.android.build.api.transform.TransformException: com.android.ide.common.process.ProcessException: java.util.concurrent.ExecutionException: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.android.dx.command.Main with arguments {--dex --num-threads=4 --multi-dex --main-dex-list E:\\*****\\*****\\app\\build\\intermediates\\multi-dex\\debug\\maindexlist.txt --output E:\\*****\\*****\\app\\build\\intermediates\\transforms\\dex\\debug\\folders\\1000\\1f\\main E:\\*****\\*****\\app\\build\\intermediates\\transforms\\jarMerging\\debug\\jars\\1\\1f\\combined.jar}\r\n\r\n\r\nThen after searching I found a fix:\r\n \r\nI added this inside *build.gradle* file within android section:\r\n\r\n    android{\r\n    //..\r\n     dexOptions {\r\n            javaMaxHeapSize &quot;4g&quot;\r\n        }\r\n    //..\r\n    }\r\n\r\n..and this line inside *local.properties* file\r\n\r\n    org.gradle.jvmargs=-XX\\:MaxHeapSize\\=512m -Xmx512m\r\n\r\n\r\n\r\n-----\r\n\r\n**Done**","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>I figured it out, first.. thanks guys for ur help anyhow..! but I'm making this as the accepted answer since it's the one that worked out for me!</p>\n\n<hr>\n\n<p><strong>Step 1</strong>\nI searched for the duplicated class in the whole project using (Double Shift)\nand it showed me which library is also using the same class..! in my case it was <code>zoommobilertc</code> </p>\n\n<p><strong>Step 2</strong></p>\n\n<p>I tried excluding the gson module of that library like this:</p>\n\n<pre><code>compile project(':zoommobilertc'){\n   exclude  group: 'com.google.code.gson', module: 'gson'\n}\n</code></pre>\n\n<p>..but it didn't work, and it give me error that I think it has something to do with <code>exclude</code> . I tried a few solution but no luck!</p>\n\n<p><strong>So.. I did this instead ..</strong></p>\n\n<ul>\n<li>Open Project View</li>\n<li>Open External Libraries</li>\n<li>Find the library which's <code>zoommobilertc</code> and unfold its folder</li>\n<li>Delete <code>Gson</code> jar file that shows.!</li>\n</ul>\n\n<p><strong>Step 3</strong></p>\n\n<p>After that, I synced the project and tried to build an apk, bu this error showed:</p>\n\n<pre><code>Error:Execution failed for task ':app:transformClassesWithDexForDebug'. &gt; com.android.build.api.transform.TransformException: com.android.ide.common.process.ProcessException: java.util.concurrent.ExecutionException: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.android.dx.command.Main with arguments {--dex --num-threads=4 --multi-dex --main-dex-list E:\\*****\\*****\\app\\build\\intermediates\\multi-dex\\debug\\maindexlist.txt --output E:\\*****\\*****\\app\\build\\intermediates\\transforms\\dex\\debug\\folders\\1000\\1f\\main E:\\*****\\*****\\app\\build\\intermediates\\transforms\\jarMerging\\debug\\jars\\1\\1f\\combined.jar}\n</code></pre>\n\n<p>Then after searching I found a fix:</p>\n\n<p>I added this inside <em>build.gradle</em> file within android section:</p>\n\n<pre><code>android{\n//..\n dexOptions {\n        javaMaxHeapSize \"4g\"\n    }\n//..\n}\n</code></pre>\n\n<p>..and this line inside <em>local.properties</em> file</p>\n\n<pre><code>org.gradle.jvmargs=-XX\\:MaxHeapSize\\=512m -Xmx512m\n</code></pre>\n\n<hr>\n\n<p><strong>Done</strong></p>\n"},{"tags":[],"owner":{"account_id":4677263,"reputation":3011,"user_id":3787127,"display_name":"Parinda Rajapaksha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527663612,"creation_date":1527663612,"answer_id":50598234,"question_id":45989765,"body_markdown":"Find out the dependency that causes above Error and exclude `gson`\r\nas follows from your dependency, \r\n\r\n    compile (&#39;your_dependency&#39;){\r\n        exclude group : &#39;com.google.code.gson&#39;\r\n    }","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>Find out the dependency that causes above Error and exclude <code>gson</code>\nas follows from your dependency, </p>\n\n<pre><code>compile ('your_dependency'){\n    exclude group : 'com.google.code.gson'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21802462,"reputation":1,"user_id":16101079,"display_name":"Philippine AI_ML_DL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631986682,"creation_date":1631780577,"answer_id":69204835,"question_id":45989765,"body_markdown":"I had my gson.jar in my libs folder.  \r\nI fixed my duplicate entries by retaining the line below:  \r\n`implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])`\r\n\r\nAnd deleting this entry here:  \r\n`implementation &#39;com.google.code.gson:gson:2.8.7&#39;`","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>I had my gson.jar in my libs folder.<br />\nI fixed my duplicate entries by retaining the line below:<br />\n<code>implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])</code></p>\n<p>And deleting this entry here:<br />\n<code>implementation 'com.google.code.gson:gson:2.8.7'</code></p>\n"},{"tags":[],"owner":{"account_id":5236348,"reputation":2585,"user_id":4184790,"display_name":"Vishal Dasadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679388647,"creation_date":1679388647,"answer_id":75798995,"question_id":45989765,"body_markdown":"add below code\r\n\r\n    configurations {\r\n        implementation.exclude module: &#39;gson&#39; //Remove duplicate dependencies gson\r\n        implementation.exclude module: &#39;okhttp&#39; //Remove duplicate dependencies okhttp\r\n    }","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>add below code</p>\n<pre><code>configurations {\n    implementation.exclude module: 'gson' //Remove duplicate dependencies gson\n    implementation.exclude module: 'okhttp' //Remove duplicate dependencies okhttp\n}\n</code></pre>\n"}],"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8077,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46056233,"answer_count":6,"score":2,"last_activity_date":1679388647,"creation_date":1504212060,"question_id":45989765,"body_markdown":"each time I try to build an APK, this error keep showing !? I&#39;ve tried almost all the soultoins mention on the site, but no luck!\r\n\r\n&gt;  Error:Execution failed for task &#39;:app:transformClassesWithJarMergingForDebug&#39;.\r\n&gt;     &gt; com.android.build.api.transform.TransformException: \r\n&gt;     java.util.zip.ZipException: duplicate entry: com/google/gson/annotations/Expose.class\r\n\r\n\r\n**My gradle file:**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 26\r\n        buildToolsVersion &#39;26.0.1&#39;\r\n    \r\n    \r\n        lintOptions {\r\n            quiet true\r\n            abortOnError false\r\n            ignoreWarnings true\r\n        }\r\n        configurations {\r\n            all*.exclude group: &#39;commons-io&#39;\r\n    \r\n        }\r\n    \r\n        packagingOptions {\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/ASL2.0&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/LICENSE-FIREBASE.txt&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/DEPENDENCIES.txt&#39;\r\n            exclude &#39;BinaryEncoder.java&#39;\r\n        }\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.xxxx.xxxxx&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 26\r\n            versionCode 3\r\n            versionName &quot;1.2&quot;\r\n            multiDexEnabled true\r\n            ndk {\r\n                abiFilters &quot;armeabi&quot;, &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;mips&quot;\r\n            }\r\n        }\r\n        sourceSets {\r\n            main {\r\n                java {\r\n                    exclude &#39;com.twilio:client-android:1.2.18.org.apache.http.lejacy.jar.org.apache.BinaryEncoder.java&#39;\r\n                    exclude &#39;org.apache.commons.codec.BinaryEncoder.java&#39;\r\n                }\r\n            }\r\n            androidTest {\r\n                java {\r\n                    exclude &#39;commons-codec-1.10/**&#39;\r\n                }\r\n            }\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n         compile(&#39;com.twilio:client-android:1.2.18&#39;) {\r\n            exclude group: &#39;org.apache.commons&#39;, module: &#39;commons-io&#39;\r\n        }\r\n        compile project(&#39;:example&#39;)\r\n        compile project(&#39;:zoomcommonlib&#39;)\r\n        compile project(&#39;:zoommobilertc&#39;)\r\n    \r\n        compile(&quot;com.github.hotchemi:permissionsdispatcher:2.4.0&quot;) {\r\n             exclude module: &quot;support-v13&quot;\r\n        }\r\n    \r\n        compile(&#39;com.stripe:stripe-android:4.1.5&#39;) {\r\n            transitive = true;\r\n            exclude  group: &#39;com.google.code.gson&#39;, module: &#39;gson&#39;\r\n        }\r\n        compile(&#39;com.squareup.retrofit:retrofit:1.9.0&#39;) {\r\n            transitive = true;\r\n            exclude  group: &#39;com.google.code.gson&#39;, module: &#39;gson&#39;\r\n        }\r\n    \r\n        compile &#39;com.google.android.gms:play-services-gcm:11.2.0&#39;\r\n         compile &#39;lib.kingja.switchbutton:switchbutton:1.1.3&#39;\r\n        compile &#39;com.orhanobut:hawk:2.0.1&#39;\r\n         compile &#39;com.afollestad:material-camera:0.4.4&#39;\r\n        compile &#39;com.werb.pickphotoview:pickphotoview:0.3.0&#39;\r\n         compile &#39;com.github.Kennyc1012:BottomSheet:2.3.4&#39;\r\n        compile &#39;com.facebook.android:facebook-android-sdk:[4,5)&#39;\r\n        compile &#39;com.android.support:design:26.0.1&#39;\r\n        compile &#39;com.android.support:cardview-v7:26.0.1&#39;\r\n        compile &#39;com.android.support:multidex:1.0.1&#39;\r\n        compile &#39;com.astuetz:pagerslidingtabstrip:1.0.1&#39;\r\n        compile &#39;com.google.android.gms:play-services-identity:11.2.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-plus:11.2.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-maps:11.2.0&#39;\r\n        compile &#39;com.google.code.gson:gson:2.8.1&#39;\r\n        compile &#39;com.squareup.okhttp:okhttp:2.5.0&#39;\r\n         compile &#39;de.greenrobot:eventbus:2.4.0&#39;\r\n        compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        compile &#39;com.paypal.sdk:paypal-android-sdk:2.14.4&#39;\r\n        compile &#39;com.koushikdutta.ion:ion:2.1.8&#39;\r\n        compile &#39;com.afollestad.material-dialogs:core:0.8.6.0&#39;\r\n        compile &#39;com.amitshekhar.android:android-networking:1.0.0&#39;\r\n        compile &#39;de.hdodenhof:circleimageview:2.1.0&#39;\r\n        compile &#39;com.android.support:support-v4:26.0.1&#39;\r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        annotationProcessor &#39;com.github.hotchemi:permissionsdispatcher-processor:2.4.0&#39;\r\n     }\r\n\r\n--------\r\n\r\nHere&#39;s some solutions that I&#39;ve tried and did **not** work:\r\n\r\n1. I&#39;ve added those ` transitive = true; exclude  group: &#39;com.google.code.gson&#39;, module: &#39;gson&#39; for `retrofit` and `stripe` dependencies \r\n\r\n2. I deleted the gson dependency\r\n\r\n3. I wanted to delete the jar file for `gson` library but I couldn&#39;t find it inside `libs` folder !?\r\n\r\n4.   `multiDexEnabled true` was already added and did no effect \r\n\r\n5. I&#39;ve deleted ` compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])` \r\n\r\nI think it has something to do with the **`Zoom`** module or with **`Stripe`** any help.. !?\r\n\r\n\r\n","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>each time I try to build an APK, this error keep showing !? I've tried almost all the soultoins mention on the site, but no luck!</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:transformClassesWithJarMergingForDebug'.</p>\n  \n  <blockquote>\n    <p>com.android.build.api.transform.TransformException: \n        java.util.zip.ZipException: duplicate entry: com/google/gson/annotations/Expose.class</p>\n  </blockquote>\n</blockquote>\n\n<p><strong>My gradle file:</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion '26.0.1'\n\n\n    lintOptions {\n        quiet true\n        abortOnError false\n        ignoreWarnings true\n    }\n    configurations {\n        all*.exclude group: 'commons-io'\n\n    }\n\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE-FIREBASE.txt'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/DEPENDENCIES.txt'\n        exclude 'BinaryEncoder.java'\n    }\n\n    defaultConfig {\n        applicationId \"com.xxxx.xxxxx\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 3\n        versionName \"1.2\"\n        multiDexEnabled true\n        ndk {\n            abiFilters \"armeabi\", \"armeabi-v7a\", \"x86\", \"mips\"\n        }\n    }\n    sourceSets {\n        main {\n            java {\n                exclude 'com.twilio:client-android:1.2.18.org.apache.http.lejacy.jar.org.apache.BinaryEncoder.java'\n                exclude 'org.apache.commons.codec.BinaryEncoder.java'\n            }\n        }\n        androidTest {\n            java {\n                exclude 'commons-codec-1.10/**'\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n     compile('com.twilio:client-android:1.2.18') {\n        exclude group: 'org.apache.commons', module: 'commons-io'\n    }\n    compile project(':example')\n    compile project(':zoomcommonlib')\n    compile project(':zoommobilertc')\n\n    compile(\"com.github.hotchemi:permissionsdispatcher:2.4.0\") {\n         exclude module: \"support-v13\"\n    }\n\n    compile('com.stripe:stripe-android:4.1.5') {\n        transitive = true;\n        exclude  group: 'com.google.code.gson', module: 'gson'\n    }\n    compile('com.squareup.retrofit:retrofit:1.9.0') {\n        transitive = true;\n        exclude  group: 'com.google.code.gson', module: 'gson'\n    }\n\n    compile 'com.google.android.gms:play-services-gcm:11.2.0'\n     compile 'lib.kingja.switchbutton:switchbutton:1.1.3'\n    compile 'com.orhanobut:hawk:2.0.1'\n     compile 'com.afollestad:material-camera:0.4.4'\n    compile 'com.werb.pickphotoview:pickphotoview:0.3.0'\n     compile 'com.github.Kennyc1012:BottomSheet:2.3.4'\n    compile 'com.facebook.android:facebook-android-sdk:[4,5)'\n    compile 'com.android.support:design:26.0.1'\n    compile 'com.android.support:cardview-v7:26.0.1'\n    compile 'com.android.support:multidex:1.0.1'\n    compile 'com.astuetz:pagerslidingtabstrip:1.0.1'\n    compile 'com.google.android.gms:play-services-identity:11.2.0'\n    compile 'com.google.android.gms:play-services-plus:11.2.0'\n    compile 'com.google.android.gms:play-services-maps:11.2.0'\n    compile 'com.google.code.gson:gson:2.8.1'\n    compile 'com.squareup.okhttp:okhttp:2.5.0'\n     compile 'de.greenrobot:eventbus:2.4.0'\n    compile 'com.squareup.picasso:picasso:2.5.2'\n    compile 'com.paypal.sdk:paypal-android-sdk:2.14.4'\n    compile 'com.koushikdutta.ion:ion:2.1.8'\n    compile 'com.afollestad.material-dialogs:core:0.8.6.0'\n    compile 'com.amitshekhar.android:android-networking:1.0.0'\n    compile 'de.hdodenhof:circleimageview:2.1.0'\n    compile 'com.android.support:support-v4:26.0.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    testCompile 'junit:junit:4.12'\n    annotationProcessor 'com.github.hotchemi:permissionsdispatcher-processor:2.4.0'\n }\n</code></pre>\n\n<hr>\n\n<p>Here's some solutions that I've tried and did <strong>not</strong> work:</p>\n\n<ol>\n<li><p>I've added those <code>transitive = true; exclude  group: 'com.google.code.gson', module: 'gson' for</code>retrofit<code>and</code>stripe` dependencies </p></li>\n<li><p>I deleted the gson dependency</p></li>\n<li><p>I wanted to delete the jar file for <code>gson</code> library but I couldn't find it inside <code>libs</code> folder !?</p></li>\n<li><p><code>multiDexEnabled true</code> was already added and did no effect </p></li>\n<li><p>I've deleted <code>compile fileTree(dir: 'libs', include: ['*.jar'])</code> </p></li>\n</ol>\n\n<p>I think it has something to do with the <strong><code>Zoom</code></strong> module or with <strong><code>Stripe</code></strong> any help.. !?</p>\n"},{"tags":["java","scjp","assertion","ocpjp"],"answers":[{"tags":[],"owner":{"account_id":1489923,"reputation":11208,"user_id":1397268,"display_name":"Hakan Serce"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1679388612,"creation_date":1350993732,"answer_id":13029977,"question_id":13029915,"body_markdown":"I guess you should use [`Class.desiredAssertionStatus()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#desiredAssertionStatus())\r\n&lt;/center&gt;","title":"How to programmatically test if assertions are enabled?","body":"<p>I guess you should use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#desiredAssertionStatus()\" rel=\"nofollow noreferrer\"><code>Class.desiredAssertionStatus()</code></a></p>\n\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":36,"is_accepted":true,"score":34,"last_activity_date":1350994158,"creation_date":1350993801,"answer_id":13030000,"question_id":13029915,"body_markdown":"I use this\r\n\r\n    boolean assertOn = false;\r\n    // *assigns* true if assertions are on.\r\n    assert assertOn = true; \r\n\r\nI am not sure this is the &quot;official&quot; way.","title":"How to programmatically test if assertions are enabled?","body":"<p>I use this</p>\n\n<pre><code>boolean assertOn = false;\n// *assigns* true if assertions are on.\nassert assertOn = true; \n</code></pre>\n\n<p>I am not sure this is the \"official\" way.</p>\n"},{"tags":[],"owner":{"account_id":921660,"reputation":7769,"user_id":953263,"accept_rate":58,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1385157642,"creation_date":1350995100,"answer_id":13030362,"question_id":13029915,"body_markdown":"The Oracle Java Tutorial provides information about how to do it... \r\n\r\n[http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html][1] \r\n\r\nAn excerpt from the tutorial\r\n&gt; 7\\. Why not provide a construct to query the assert status of the containing class? \r\n&gt; \r\n&gt; Such a construct would encourage people to inline complex assertion\r\n&gt; code, which we view as a bad thing. Further, it is straightforward to\r\n&gt; query the assert status atop the current API, if you feel you must: \r\n\r\n&gt;     boolean assertsEnabled = false;\r\n    assert assertsEnabled = true; // Intentional side-effect!!!\r\n    // Now assertsEnabled is set to the correct value\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html","title":"How to programmatically test if assertions are enabled?","body":"<p>The Oracle Java Tutorial provides information about how to do it... </p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\">http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html</a> </p>\n\n<p>An excerpt from the tutorial</p>\n\n<blockquote>\n  <p>7. Why not provide a construct to query the assert status of the containing class? </p>\n  \n  <p>Such a construct would encourage people to inline complex assertion\n  code, which we view as a bad thing. Further, it is straightforward to\n  query the assert status atop the current API, if you feel you must: </p>\n\n<pre><code>boolean assertsEnabled = false;\nassert assertsEnabled = true; // Intentional side-effect!!!\n// Now assertsEnabled is set to the correct value\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1449046334,"creation_date":1449046334,"answer_id":34038391,"question_id":13029915,"body_markdown":"    RuntimeMXBean mx = ManagementFactory.getRuntimeMXBean();\r\n    boolean assertionsEnabled = mx.getInputArguments().contains(&quot;-ea&quot;);","title":"How to programmatically test if assertions are enabled?","body":"<pre><code>RuntimeMXBean mx = ManagementFactory.getRuntimeMXBean();\nboolean assertionsEnabled = mx.getInputArguments().contains(\"-ea\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6829513,"reputation":3942,"user_id":5254103,"accept_rate":0,"display_name":"BaiJiFeiLong"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568951142,"creation_date":1568951142,"answer_id":58021510,"question_id":13029915,"body_markdown":"    package io.github.baijifeilong.tmp;\r\n    \r\n    import io.vavr.control.Try;\r\n    \r\n    /**\r\n     * Created by BaiJiFeiLong@gmail.com at 2019-04-18 09:12\r\n     */\r\n    public class TmpApp {\r\n    \r\n        public static void main(String[] args) {\r\n            Try.run(() -&gt; {\r\n                assert false;\r\n            }).onSuccess($ -&gt; {\r\n                throw new RuntimeException(&quot;Assertion is not enabled&quot;);\r\n            });\r\n        }\r\n    }\r\n\r\nMaybe help someone.","title":"How to programmatically test if assertions are enabled?","body":"<pre><code>package io.github.baijifeilong.tmp;\n\nimport io.vavr.control.Try;\n\n/**\n * Created by BaiJiFeiLong@gmail.com at 2019-04-18 09:12\n */\npublic class TmpApp {\n\n    public static void main(String[] args) {\n        Try.run(() -&gt; {\n            assert false;\n        }).onSuccess($ -&gt; {\n            throw new RuntimeException(\"Assertion is not enabled\");\n        });\n    }\n}\n</code></pre>\n\n<p>Maybe help someone.</p>\n"},{"tags":[],"owner":{"account_id":10192972,"reputation":31,"user_id":7525745,"display_name":"H&#252;rkan Doan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591030047,"creation_date":1591030047,"answer_id":62136929,"question_id":13029915,"body_markdown":"I&#39;m using AssertsEnabled from jdk.nashorn.internal.\r\n\r\n    System.out.println(AssertsEnabled.assertsEnabled());\r\n    // &quot;assertsEnabled()&quot; returns boolean value\r\n\r\nMaybe it helps someone.","title":"How to programmatically test if assertions are enabled?","body":"<p>I'm using AssertsEnabled from jdk.nashorn.internal.</p>\n\n<pre><code>System.out.println(AssertsEnabled.assertsEnabled());\n// \"assertsEnabled()\" returns boolean value\n</code></pre>\n\n<p>Maybe it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":26040155,"reputation":1,"user_id":19745101,"display_name":"Christopher Mindus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660237381,"creation_date":1660237381,"answer_id":73324462,"question_id":13029915,"body_markdown":"    boolean ea=false;\r\n    try { assert(false); }\r\n    catch(AssertionError e) { ea=true; }","title":"How to programmatically test if assertions are enabled?","body":"<pre><code>boolean ea=false;\ntry { assert(false); }\ncatch(AssertionError e) { ea=true; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669633586,"creation_date":1669633586,"answer_id":74599661,"question_id":13029915,"body_markdown":"Official solution*:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSource: http://hg.openjdk.java.net/javadoc-next/api/nashorn/rev/fa79d912da1b#l1.38\r\n\r\n---\r\n\r\n\\* As official as it gets:\r\n\r\nAs mentioned by [@Hurkan Dogan here][2] there was a `AssertsEnabled.assertsEnabled()` api in nashorn package which is now deprecated. However, its implementation could be considered as the official solution.\r\n\r\nAlso note that this solution is also [written in the official docs][3] and mentioned by [@Joe here][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v6hs5.png\r\n  [2]: https://stackoverflow.com/a/62136929/878361\r\n  [3]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\r\n  [4]: https://stackoverflow.com/a/13030362/878361","title":"How to programmatically test if assertions are enabled?","body":"<p>Official solution*:</p>\n<p><a href=\"https://i.stack.imgur.com/v6hs5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6hs5.png\" alt=\"enter image description here\" /></a></p>\n<p>Source: <a href=\"http://hg.openjdk.java.net/javadoc-next/api/nashorn/rev/fa79d912da1b#l1.38\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/javadoc-next/api/nashorn/rev/fa79d912da1b#l1.38</a></p>\n<hr />\n<p>* As official as it gets:</p>\n<p>As mentioned by <a href=\"https://stackoverflow.com/a/62136929/878361\">@Hurkan Dogan here</a> there was a <code>AssertsEnabled.assertsEnabled()</code> api in nashorn package which is now deprecated. However, its implementation could be considered as the official solution.</p>\n<p>Also note that this solution is also <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\" rel=\"nofollow noreferrer\">written in the official docs</a> and mentioned by <a href=\"https://stackoverflow.com/a/13030362/878361\">@Joe here</a></p>\n"}],"owner":{"account_id":921660,"reputation":7769,"user_id":953263,"accept_rate":58,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6200,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":13030000,"answer_count":8,"score":24,"last_activity_date":1679388612,"creation_date":1350993462,"question_id":13029915,"body_markdown":"One of the correct answers from OCP Java SE 6 Programmer Practice Exams is: \r\n\r\n&gt; You can programmatically test wheather assertions have been enabled\r\n&gt; without throwing an `AssertionError`.\r\n\r\nHow can I do that?","title":"How to programmatically test if assertions are enabled?","body":"<p>One of the correct answers from OCP Java SE 6 Programmer Practice Exams is: </p>\n\n<blockquote>\n  <p>You can programmatically test wheather assertions have been enabled\n  without throwing an <code>AssertionError</code>.</p>\n</blockquote>\n\n<p>How can I do that?</p>\n"},{"tags":["java","spring","spring-boot","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1679384911,"post_id":75798389,"comment_id":133707538,"body_markdown":"`.filter(type -&gt; type != CodesType.class)` Side note: dont use `.sorted(String::compareTo)` Use either, `.sorted(Comparator.naturalOrder())` or just `.sorted()`. And dont rely on the assumption that `Collectors.toList()` returns a mutable list. If you have to add elements afterwards, use `Collectors.toCollection(ArrayList::new)`","body":"<code>.filter(type -&gt; type != CodesType.class)</code> Side note: dont use <code>.sorted(String::compareTo)</code> Use either, <code>.sorted(Comparator.naturalOrder())</code> or just <code>.sorted()</code>. And dont rely on the assumption that <code>Collectors.toList()</code> returns a mutable list. If you have to add elements afterwards, use <code>Collectors.toCollection(ArrayList::new)</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679386300,"post_id":75798389,"comment_id":133707860,"body_markdown":"Sounds like you put this at the wrong location. You want to filter the stream of types, so it has to be `List&lt;EventsData&gt; eventsList = eventListStream.stream() .filter(type -&gt; type != CodesType.class).map(mapEvents).collect(Collectors.toCollection(ArrayList::new));` I deduce from your code that `eventListStream` is some sort of collection of `Class&lt;? extends Enum&gt;`","body":"Sounds like you put this at the wrong location. You want to filter the stream of types, so it has to be <code>List&lt;EventsData&gt; eventsList = eventListStream.stream() .filter(type -&gt; type != CodesType.class).map(mapEvents).collect(Collectors.toCollect&zwnj;&#8203;ion(ArrayList::new))&zwnj;&#8203;;</code> I deduce from your code that <code>eventListStream</code> is some sort of collection of <code>Class&lt;? extends Enum&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679385731,"creation_date":1679385731,"answer_id":75798588,"question_id":75798389,"body_markdown":"you can use `instanceof` for exemaple\r\n\r\n    .filter(type -&gt; ! (type instanceof CodesType))\r\n\r\nor, combination with `Predicates.not`, like this:\r\n\r\n    .filter(not(type -&gt; type instanceof CodesType))\r\n\r\nAdditionally, enums can implement interfaces. So another thing that you can do is to add some sort of polymorphic behavior. For instance, instead of passing `&lt;T extends Enum&gt;` which is a rather primitive type, you can declare an interface with a more meaningful name:\r\n\r\n    public interface MySpecialEnum { // find a better name\r\n        boolean allowsFeatureX(); // same here\r\n    }\r\n\r\nNow, your special enums can implement this interface:\r\n\r\n    enum CodesType implements MySpecialEnum {\r\n    \tA, B;\r\n    \r\n    \t@Override\r\n    \tpublic boolean allowsFeatureX() {\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n    \r\n    enum SupportType implements MySpecialEnum {\r\n    \tC, D;\r\n    \r\n    \t@Override\r\n    \tpublic boolean allowsFeatureX() {\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nNow, instead of passing `&lt; ? extends Enum &gt;` you can use the type `MySpecialEnum`. Moreover, instead of filtering by `class` or using `instance of`, you&#39;ll have a cleaner solution:\r\n\r\n    .filter(MySpecialEnum::allowsFeatureX)\r\n\r\nThis will also allow you to add this flag/behavior for other &quot;special&quot; enums in the future. ","title":"How to exclude certain Enum type from stream?","body":"<p>you can use <code>instanceof</code> for exemaple</p>\n<pre><code>.filter(type -&gt; ! (type instanceof CodesType))\n</code></pre>\n<p>or, combination with <code>Predicates.not</code>, like this:</p>\n<pre><code>.filter(not(type -&gt; type instanceof CodesType))\n</code></pre>\n<p>Additionally, enums can implement interfaces. So another thing that you can do is to add some sort of polymorphic behavior. For instance, instead of passing <code>&lt;T extends Enum&gt;</code> which is a rather primitive type, you can declare an interface with a more meaningful name:</p>\n<pre><code>public interface MySpecialEnum { // find a better name\n    boolean allowsFeatureX(); // same here\n}\n</code></pre>\n<p>Now, your special enums can implement this interface:</p>\n<pre><code>enum CodesType implements MySpecialEnum {\n    A, B;\n\n    @Override\n    public boolean allowsFeatureX() {\n        return false;\n    }\n}\n\nenum SupportType implements MySpecialEnum {\n    C, D;\n\n    @Override\n    public boolean allowsFeatureX() {\n        return true;\n    }\n}\n</code></pre>\n<p>Now, instead of passing <code>&lt; ? extends Enum &gt;</code> you can use the type <code>MySpecialEnum</code>. Moreover, instead of filtering by <code>class</code> or using <code>instance of</code>, you'll have a cleaner solution:</p>\n<pre><code>.filter(MySpecialEnum::allowsFeatureX)\n</code></pre>\n<p>This will also allow you to add this flag/behavior for other &quot;special&quot; enums in the future.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679387513,"creation_date":1679387513,"answer_id":75798849,"question_id":75798389,"body_markdown":"You can use\r\n\r\n```java\r\nprivate List&lt;EventsData&gt; getEvents() {\r\n    final List&lt;EventsData&gt; eventList = eventListStream.stream()\r\n        .filter(type -&gt; type != CodesType.class)\r\n        .map(events -&gt; new EventsData(events.getSimpleName(), getType(events)))\r\n        .collect(Collectors.toCollection(ArrayList::new));\r\n    eventList.add(new EventsData(&quot;CodesType&quot;, getCodesType()));\r\n    eventList.add(new EventsData(&quot;SupportType&quot;, getSupportType()));\r\n    return eventList;\r\n}\r\n\r\nprivate String[] getType(Class&lt;? extends Enum&lt;?&gt;&gt; events) {\r\n    return Arrays.stream(events.getEnumConstants())\r\n        .map(Enum::name)\r\n        .sorted()\r\n        .toArray(String[]::new);\r\n}\r\n```\r\n\r\nInstead of declaring a `Function` outside the Stream pipeline, I moved the complex part into a named method, which aligns with your already existing methods, `getCodesType()` and `getSupportType()`.\r\n\r\nInstead of collecting into a mutable list, to add the predefined elements, you can also integrate them into the Stream pipeline:\r\n\r\n```java\r\nprivate List&lt;EventsData&gt; getEvents() {\r\n    return Stream.concat(\r\n        eventListStream.stream()\r\n            .filter(type -&gt; type != CodesType.class)\r\n            .map(events -&gt; new EventsData(events.getSimpleName(),getType(events))),\r\n        Stream.of(new EventsData(&quot;CodesType&quot;, getCodesType()),\r\n                  new EventsData(&quot;SupportType&quot;, getSupportType()))\r\n    ).collect(Collectors.toList());\r\n}\r\n```\r\n","title":"How to exclude certain Enum type from stream?","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;EventsData&gt; getEvents() {\n    final List&lt;EventsData&gt; eventList = eventListStream.stream()\n        .filter(type -&gt; type != CodesType.class)\n        .map(events -&gt; new EventsData(events.getSimpleName(), getType(events)))\n        .collect(Collectors.toCollection(ArrayList::new));\n    eventList.add(new EventsData(&quot;CodesType&quot;, getCodesType()));\n    eventList.add(new EventsData(&quot;SupportType&quot;, getSupportType()));\n    return eventList;\n}\n\nprivate String[] getType(Class&lt;? extends Enum&lt;?&gt;&gt; events) {\n    return Arrays.stream(events.getEnumConstants())\n        .map(Enum::name)\n        .sorted()\n        .toArray(String[]::new);\n}\n</code></pre>\n<p>Instead of declaring a <code>Function</code> outside the Stream pipeline, I moved the complex part into a named method, which aligns with your already existing methods, <code>getCodesType()</code> and <code>getSupportType()</code>.</p>\n<p>Instead of collecting into a mutable list, to add the predefined elements, you can also integrate them into the Stream pipeline:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;EventsData&gt; getEvents() {\n    return Stream.concat(\n        eventListStream.stream()\n            .filter(type -&gt; type != CodesType.class)\n            .map(events -&gt; new EventsData(events.getSimpleName(),getType(events))),\n        Stream.of(new EventsData(&quot;CodesType&quot;, getCodesType()),\n                  new EventsData(&quot;SupportType&quot;, getSupportType()))\n    ).collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":27578408,"reputation":27,"user_id":21048098,"display_name":"penalTech481"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75798849,"answer_count":2,"score":1,"last_activity_date":1679387571,"creation_date":1679384117,"question_id":75798389,"body_markdown":"How can I exclude an enum named **CodesType** in this code ?\r\n\r\nCode returns a list of objects of the **EventsData** class and I want to be able to skip one designated enum.\r\n\r\nI would like to exclude an Enum named **CodesType**. By default it is added in the mapEvents variable which means that I would have to add some filtering there so that the Enum named **CodesType** is skipped. I just don&#39;t know how to implement correctly. I tried something like this, but it doesn&#39;t work `.filter(type -&gt; type != CodesType)`.\r\n\r\nYou can also see in the code that I manually add two **EventsData** objects such as **CodesType** and **SupportType**. Therefore, I want to exclude this **CodesType** object that is added at the beginning so that a duplicate is not created. (It has to exist because the objects I add manually are created based on it, but it doesn&#39;t have to be retrieved so I want to exclude it).\r\n\r\n\r\n```\r\nprivate List &lt; EventsData &gt; getEvents() {\r\n    final List &lt; EventsData &gt; eventsList = eventListStream.stream()\r\n        .map(mapEvents)\r\n        .collect(Collectors.toList());\r\n    eventList.add(new EventsData(&quot;CodesType&quot;, getCodesType()));\r\n    eventList.add(new EventsData(&quot;SupportType&quot;, getSupportType()));\r\n    return eventList;\r\n)\r\n\r\n```\r\n","title":"How to exclude certain Enum type from stream?","body":"<p>How can I exclude an enum named <strong>CodesType</strong> in this code ?</p>\n<p>Code returns a list of objects of the <strong>EventsData</strong> class and I want to be able to skip one designated enum.</p>\n<p>I would like to exclude an Enum named <strong>CodesType</strong>. By default it is added in the mapEvents variable which means that I would have to add some filtering there so that the Enum named <strong>CodesType</strong> is skipped. I just don't know how to implement correctly. I tried something like this, but it doesn't work <code>.filter(type -&gt; type != CodesType)</code>.</p>\n<p>You can also see in the code that I manually add two <strong>EventsData</strong> objects such as <strong>CodesType</strong> and <strong>SupportType</strong>. Therefore, I want to exclude this <strong>CodesType</strong> object that is added at the beginning so that a duplicate is not created. (It has to exist because the objects I add manually are created based on it, but it doesn't have to be retrieved so I want to exclude it).</p>\n<pre><code>private List &lt; EventsData &gt; getEvents() {\n    final List &lt; EventsData &gt; eventsList = eventListStream.stream()\n        .map(mapEvents)\n        .collect(Collectors.toList());\n    eventList.add(new EventsData(&quot;CodesType&quot;, getCodesType()));\n    eventList.add(new EventsData(&quot;SupportType&quot;, getSupportType()));\n    return eventList;\n)\n\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","synchronized","java-threads"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1679327266,"post_id":75792024,"comment_id":133697744,"body_markdown":"It is unclear what you want the output to be.  And do you care (and why) in what order the threads are executed as long as the output is correct?","body":"It is unclear what you want the output to be.  And do you care (and why) in what order the threads are executed as long as the output is correct?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1679336387,"post_id":75792024,"comment_id":133700302,"body_markdown":"@WJS, This question is a variation on a typical homework assignment. I don&#39;t know where the original came from, but it&#39;s pernicious. Teaches the kids how to use multiple threads to do something that would be done much better by a single thread.","body":"@WJS, This question is a variation on a typical homework assignment. I don&#39;t know where the original came from, but it&#39;s pernicious. Teaches the kids how to use multiple threads to do something that would be done much better by a single thread."},{"owner":{"account_id":27868613,"reputation":1,"user_id":21279637,"display_name":"Slavi Donchev"},"score":0,"creation_date":1679386139,"post_id":75792024,"comment_id":133707831,"body_markdown":"The order is not important , just 10 threads first to print 1 , then 10 threads to print 2 and so on..","body":"The order is not important , just 10 threads first to print 1 , then 10 threads to print 2 and so on.."}],"answers":[{"tags":[],"owner":{"account_id":27868613,"reputation":1,"user_id":21279637,"display_name":"Slavi Donchev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679387469,"creation_date":1679387469,"answer_id":75798839,"question_id":75792024,"body_markdown":"    class Count extends Thread{\r\n    String name = &quot;&quot;;\r\n    public Integer num = 0;\r\n    public void run() {\r\n            for(int i = 0 ; i &lt; 10 ; i++) {\r\n                try{\r\n                    Count.sleep(500);\r\n                synchronized(num) {\r\n                    num++;\r\n                    System.out.println(name + &quot;: &quot; + num);\r\n\r\n                }\r\n            }catch(InterruptedException e){\r\n                e.printStackTrace();\r\n                }\r\n            }\r\n            }\r\n    public static void main(String args[]) {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            Count t1 = new Count();\r\n                t1.name = &quot;Thread &quot; + i;\r\n                t1.start();\r\n            }\r\n        }\r\n}","title":"Print numbers from one to ten","body":"<pre><code>class Count extends Thread{\nString name = &quot;&quot;;\npublic Integer num = 0;\npublic void run() {\n        for(int i = 0 ; i &lt; 10 ; i++) {\n            try{\n                Count.sleep(500);\n            synchronized(num) {\n                num++;\n                System.out.println(name + &quot;: &quot; + num);\n\n            }\n        }catch(InterruptedException e){\n            e.printStackTrace();\n            }\n        }\n        }\npublic static void main(String args[]) {\n    for (int i = 0; i &lt; 10; i++) {\n        Count t1 = new Count();\n            t1.name = &quot;Thread &quot; + i;\n            t1.start();\n        }\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":27868613,"reputation":1,"user_id":21279637,"display_name":"Slavi Donchev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679387469,"creation_date":1679324952,"question_id":75792024,"body_markdown":"I have to print the numbers between one to ten , with ten threads and they got to be consecutive numbers. \r\nI mean Thread0 - 10 print 1,1,1,1,1,1,1,1,1,1 then Thread 0-10 print 2,2,2,2,2,2,2,2,,2,2\r\n\r\n\r\n```\r\nclass A extends Thread {\r\n    String name = &quot;&quot;;\r\n    static Integer num = 1;\r\n\r\n    public void run() {\r\n        for(int i = 0 ; i &lt; 10 ; i++) {\r\n            synchronized (num) {\r\n                num++;\r\n                System.out.println(name + &quot; &quot; + num);\r\n            }\r\n\r\n            try {\r\n                Thread.sleep(100);\r\n            } catch (InterruptedException e) {\r\n        }\r\n    }\r\n}\r\n\r\npublic static void main(String args[]) {\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        A t1 = new A();\r\n        t1.name = &quot;Thread &quot; + i;\r\n        t1.start();\r\n    }\r\n}\r\n```\r\n\r\nI am trying this but it doesn&#39;t work\r\n\r\n\r\nI tried to use the code above and one more attempt but i print the numbers from 1-10 but with one thread \r\ni mean Therad0 - 1,2,3,4,5,6,7,8,9,10 and Thread1 - 1,2,3,4,5,6,7,8,9,10","title":"Print numbers from one to ten","body":"<p>I have to print the numbers between one to ten , with ten threads and they got to be consecutive numbers.\nI mean Thread0 - 10 print 1,1,1,1,1,1,1,1,1,1 then Thread 0-10 print 2,2,2,2,2,2,2,2,,2,2</p>\n<pre><code>class A extends Thread {\n    String name = &quot;&quot;;\n    static Integer num = 1;\n\n    public void run() {\n        for(int i = 0 ; i &lt; 10 ; i++) {\n            synchronized (num) {\n                num++;\n                System.out.println(name + &quot; &quot; + num);\n            }\n\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n        }\n    }\n}\n\npublic static void main(String args[]) {\n    for (int i = 0; i &lt; 10; i++) {\n        A t1 = new A();\n        t1.name = &quot;Thread &quot; + i;\n        t1.start();\n    }\n}\n</code></pre>\n<p>I am trying this but it doesn't work</p>\n<p>I tried to use the code above and one more attempt but i print the numbers from 1-10 but with one thread\ni mean Therad0 - 1,2,3,4,5,6,7,8,9,10 and Thread1 - 1,2,3,4,5,6,7,8,9,10</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679387406,"creation_date":1679387406,"answer_id":75798835,"question_id":75796396,"body_markdown":"The problem is you are doing [this query](https://mongoplayground.net/p/VmGB3qx2YBV) where `update` object does not recognize `$replaceOne` so it is inserted into the object.\r\n\r\nYo need [this query](https://mongoplayground.net/p/3Z6D4ulagyl) where the `update` object is an aggregation pipeline. It&#39;s almost the same but adding `[]`.\r\n\r\nSo I&#39;ve not tested but your `update` value can be something like:\r\n\r\n```java\r\nList&lt;Document&gt; update = Arrays.asList(\r\n    new Document(&quot;$set&quot;, \r\n        new Document(&quot;attribute&quot;, \r\n            new Document(&quot;$replaceOne&quot;, \r\n                new Document(&quot;input&quot;, &quot;$attribute&quot;)\r\n                    .append(&quot;find&quot;, &quot;XYZ&quot;)\r\n                    .append(&quot;replacement&quot;, &quot;ABC&quot;)\r\n            )\r\n        )\r\n    )\r\n);\r\n```","title":"I want to replace all matching string which endsWith XYZ to ABC in mongodb using Java","body":"<p>The problem is you are doing <a href=\"https://mongoplayground.net/p/VmGB3qx2YBV\" rel=\"nofollow noreferrer\">this query</a> where <code>update</code> object does not recognize <code>$replaceOne</code> so it is inserted into the object.</p>\n<p>Yo need <a href=\"https://mongoplayground.net/p/3Z6D4ulagyl\" rel=\"nofollow noreferrer\">this query</a> where the <code>update</code> object is an aggregation pipeline. It's almost the same but adding <code>[]</code>.</p>\n<p>So I've not tested but your <code>update</code> value can be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Document&gt; update = Arrays.asList(\n    new Document(&quot;$set&quot;, \n        new Document(&quot;attribute&quot;, \n            new Document(&quot;$replaceOne&quot;, \n                new Document(&quot;input&quot;, &quot;$attribute&quot;)\n                    .append(&quot;find&quot;, &quot;XYZ&quot;)\n                    .append(&quot;replacement&quot;, &quot;ABC&quot;)\n            )\n        )\n    )\n);\n</code></pre>\n"}],"owner":{"account_id":22999343,"reputation":1,"user_id":17123533,"display_name":"learningnever3nd5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679387406,"creation_date":1679358187,"question_id":75796396,"body_markdown":"\r\n```\r\nDocument filter = new Document(&quot;attribute&quot;, new Document(&quot;$regex&quot;, &quot;XYZ$&quot;));\r\n        Document update = new Document(&quot;$set&quot;, new Document(&quot;attribute&quot;,\r\n                new Document(&quot;$replaceOne&quot;, new Document(&quot;input&quot;, &quot;$attribute&quot;)\r\n                        .append(&quot;find&quot;, &quot;XYZ&quot;)\r\n                        .append(&quot;replacement&quot;, &quot;ABC&quot;))));\r\n\r\n        var result = coll.updateMany(filter, update);\r\n        System.out.println(result.getModifiedCount());\r\n```\r\n\r\nThe above is setting the attribute to replaceOne object rather than the value. Please let me know my mistake.","title":"I want to replace all matching string which endsWith XYZ to ABC in mongodb using Java","body":"<pre><code>Document filter = new Document(&quot;attribute&quot;, new Document(&quot;$regex&quot;, &quot;XYZ$&quot;));\n        Document update = new Document(&quot;$set&quot;, new Document(&quot;attribute&quot;,\n                new Document(&quot;$replaceOne&quot;, new Document(&quot;input&quot;, &quot;$attribute&quot;)\n                        .append(&quot;find&quot;, &quot;XYZ&quot;)\n                        .append(&quot;replacement&quot;, &quot;ABC&quot;))));\n\n        var result = coll.updateMany(filter, update);\n        System.out.println(result.getModifiedCount());\n</code></pre>\n<p>The above is setting the attribute to replaceOne object rather than the value. Please let me know my mistake.</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631800283,"creation_date":1631800283,"answer_id":69209686,"question_id":69209234,"body_markdown":"You can use this two step of **shift** transformation spec.\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;o[].id&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;objectArray[&amp;1].&amp;&quot;,\r\n          &quot;#to&quot;: &quot;objectArray[&amp;1].role&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nwhere you got and array for all ids in the first step, and then adding an arbitrarily chose key-value pairs within the second step while renaming the target array\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/waQ5y.png","title":"How to take values from an array in JOLT, put them into an array of object values","body":"<p>You can use this two step of <strong>shift</strong> transformation spec.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;o[].id&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;objectArray[&amp;1].&amp;&quot;,\n          &quot;#to&quot;: &quot;objectArray[&amp;1].role&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>where you got and array for all ids in the first step, and then adding an arbitrarily chose key-value pairs within the second step while renaming the target array</p>\n<p><a href=\"https://i.stack.imgur.com/waQ5y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/waQ5y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1070,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69209686,"answer_count":1,"score":0,"last_activity_date":1679387120,"creation_date":1631798469,"question_id":69209234,"body_markdown":"For input\r\n\r\n```json\r\n{\r\n  &quot;field1&quot;: {\r\n    &quot;array1&quot;: [\r\n      &quot;a&quot;,\r\n      &quot;b&quot;\r\n    ],\r\n    &quot;array2&quot;: [\r\n      &quot;c&quot;,\r\n      &quot;d&quot;\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nI want the output:\r\n\r\n```json\r\n{\r\n  &quot;objectArray&quot;: [\r\n    {\r\n      &quot;role&quot;: &quot;to&quot;,\r\n      &quot;id&quot;: &quot;a&quot;\r\n    },\r\n    {\r\n      &quot;role&quot;: &quot;to&quot;,\r\n      &quot;id&quot;: &quot;b&quot;\r\n    },\r\n    {\r\n      &quot;role&quot;: &quot;to&quot;,\r\n      &quot;id&quot;: &quot;c&quot;\r\n    },\r\n    {\r\n      &quot;role&quot;: &quot;to&quot;,\r\n      &quot;id&quot;: &quot;d&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI currently am trying:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;field1&quot;: {\r\n        &quot;array1&quot;: {\r\n          &quot;#to&quot;: &quot;objectArray[].role&quot;,\r\n          &quot;@&quot;: &quot;objectArray[].id&quot;\r\n        },\r\n        &quot;array2&quot;: {\r\n          &quot;#to&quot;: &quot;objectArray[].role&quot;,\r\n          &quot;@&quot;: &quot;objectArray[].id&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nHowever this seems to separate out the roles and ids into their own separate objects, after the first one.","title":"How to take values from an array in JOLT, put them into an array of object values","body":"<p>For input</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;field1&quot;: {\n    &quot;array1&quot;: [\n      &quot;a&quot;,\n      &quot;b&quot;\n    ],\n    &quot;array2&quot;: [\n      &quot;c&quot;,\n      &quot;d&quot;\n    ]\n  }\n}\n</code></pre>\n<p>I want the output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;objectArray&quot;: [\n    {\n      &quot;role&quot;: &quot;to&quot;,\n      &quot;id&quot;: &quot;a&quot;\n    },\n    {\n      &quot;role&quot;: &quot;to&quot;,\n      &quot;id&quot;: &quot;b&quot;\n    },\n    {\n      &quot;role&quot;: &quot;to&quot;,\n      &quot;id&quot;: &quot;c&quot;\n    },\n    {\n      &quot;role&quot;: &quot;to&quot;,\n      &quot;id&quot;: &quot;d&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I currently am trying:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;field1&quot;: {\n        &quot;array1&quot;: {\n          &quot;#to&quot;: &quot;objectArray[].role&quot;,\n          &quot;@&quot;: &quot;objectArray[].id&quot;\n        },\n        &quot;array2&quot;: {\n          &quot;#to&quot;: &quot;objectArray[].role&quot;,\n          &quot;@&quot;: &quot;objectArray[].id&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>However this seems to separate out the roles and ids into their own separate objects, after the first one.</p>\n"},{"tags":["java","json","apache-nifi","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654070234,"creation_date":1653979236,"answer_id":72443224,"question_id":72442443,"body_markdown":"You can use a **shift** transformation such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;id&quot;: &quot;&amp;&quot;,\r\n      &quot;recordT*&quot;: &quot;&amp;&quot;,\r\n      &quot;class*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;reportT*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;desc*&quot;: {\r\n            &quot;*&quot;: &quot;&amp;3[&amp;2].&amp;1&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;type&quot;: &quot;&amp;&quot;\r\n    }\r\n  }\r\n]\r\n```\r\nwhere **`*`** wilcards used to abbreviate the whole literals per each key names such as **`reportT*`** represents **`reportType`**, and single **`*`** wilcard represents the **others**(***else*** case)\r\n\r\nFirstly we reached the innermost attributes( `&quot;string&quot;:...` ) of the whole JSON value through use of `&quot;*&quot;: {` following `&quot;classifications&quot;` key in order to walk through the indices of it. The `&quot;&amp;&quot;` wildcard replicates each values for the corresponding attribute, `&amp;3` and `&amp;2` are used to replicate the array&#39;s name(`classifications`) by going 2 or 3 levels up and grabbing the literal per each, and `[&amp;1]` or `[&amp;2]` are used to determine the common factor for constructing the objects of the array.\r\n\r\nthe demo on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O2XFI.jpg\r\n\r\n**Edit** : If your aim is *to assign default values for missing array elements* as commented, then replace `&quot;reportT*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;` with `&quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;` considering the case that the array `classifications` has more elements than the current state.","title":"JOLT Flatten array and nested object","body":"<p>You can use a <strong>shift</strong> transformation such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;id&quot;: &quot;&amp;&quot;,\n      &quot;recordT*&quot;: &quot;&amp;&quot;,\n      &quot;class*&quot;: {\n        &quot;*&quot;: {\n          &quot;reportT*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;desc*&quot;: {\n            &quot;*&quot;: &quot;&amp;3[&amp;2].&amp;1&quot;\n          }\n        }\n      },\n      &quot;type&quot;: &quot;&amp;&quot;\n    }\n  }\n]\n</code></pre>\n<p>where <strong><code>*</code></strong> wilcards used to abbreviate the whole literals per each key names such as <strong><code>reportT*</code></strong> represents <strong><code>reportType</code></strong>, and single <strong><code>*</code></strong> wilcard represents the <strong>others</strong>(<em><strong>else</strong></em> case)</p>\n<p>Firstly we reached the innermost attributes( <code>&quot;string&quot;:...</code> ) of the whole JSON value through use of <code>&quot;*&quot;: {</code> following <code>&quot;classifications&quot;</code> key in order to walk through the indices of it. The <code>&quot;&amp;&quot;</code> wildcard replicates each values for the corresponding attribute, <code>&amp;3</code> and <code>&amp;2</code> are used to replicate the array's name(<code>classifications</code>) by going 2 or 3 levels up and grabbing the literal per each, and <code>[&amp;1]</code> or <code>[&amp;2]</code> are used to determine the common factor for constructing the objects of the array.</p>\n<p>the demo on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/O2XFI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O2XFI.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit</strong> : If your aim is <em>to assign default values for missing array elements</em> as commented, then replace <code>&quot;reportT*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;</code> with <code>&quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;</code> considering the case that the array <code>classifications</code> has more elements than the current state.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663754038,"creation_date":1663117170,"answer_id":73710423,"question_id":72442443,"body_markdown":"Saw your last comment that you want have default values for missing array elements.\r\nYou may consider another library *Josson* for the solution.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;id\\&quot;: \\&quot;1234\\&quot;,&quot; +\r\n        &quot;  \\&quot;recordType\\&quot;: \\&quot;E\\&quot;,&quot; +\r\n        &quot;  \\&quot;receiveDate\\&quot;: \\&quot;2009-01-01\\&quot;,&quot; +\r\n        &quot;  \\&quot;receiveTime\\&quot;: \\&quot;09:55:00\\&quot;,&quot; +\r\n        &quot;  \\&quot;releaseDate\\&quot;: \\&quot;2009-01-02\\&quot;,&quot; +\r\n        &quot;  \\&quot;releaseTime\\&quot;: \\&quot;08:30:00\\&quot;,&quot; +\r\n        &quot;  \\&quot;classifications\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;reportType\\&quot;: 1031435,&quot; +\r\n        &quot;      \\&quot;description\\&quot;: {&quot; +\r\n        &quot;        \\&quot;string\\&quot;: \\&quot;Progress Report\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;reportType\\&quot;: 8888888,&quot; +\r\n        &quot;      \\&quot;description\\&quot;: {&quot; +\r\n        &quot;        \\&quot;string\\&quot;: \\&quot;Net Tangible Asset Backing\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ],&quot; +\r\n        &quot;  \\&quot;type\\&quot;: \\&quot;ASX\\&quot;&quot; +\r\n        &quot;}&quot;);\r\n        \r\nTransformation\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(id,&quot; +\r\n        &quot;    recordType,&quot; +\r\n        &quot;    classifications&quot; +\r\n        &quot;     .map(reportType, description:description.string)&quot; +\r\n        &quot;     .wrap()&quot; +\r\n        &quot;     .collect([0],&quot; +\r\n        &quot;              ifNot([reportType=8888888], json(&#39;{\\&quot;reportType\\&quot;:8888888,\\&quot;description\\&quot;:\\&quot;Default item\\&quot;}&#39;)),&quot; +\r\n        &quot;              ifNot([reportType=9999999], json(&#39;{\\&quot;reportType\\&quot;:9999999,\\&quot;description\\&quot;:\\&quot;Default item\\&quot;}&#39;)))&quot; +\r\n        &quot;     .flatten(1),&quot; +\r\n        &quot;    type)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;id&quot; : &quot;1234&quot;,\r\n      &quot;recordType&quot; : &quot;E&quot;,\r\n      &quot;classifications&quot; : [ {\r\n        &quot;reportType&quot; : 1031435,\r\n        &quot;description&quot; : &quot;Progress Report&quot;\r\n      }, {\r\n        &quot;reportType&quot; : 8888888,\r\n        &quot;description&quot; : &quot;Net Tangible Asset Backing&quot;\r\n      }, {\r\n        &quot;reportType&quot; : 9999999,\r\n        &quot;description&quot; : &quot;Default item&quot;\r\n      } ],\r\n      &quot;type&quot; : &quot;ASX&quot;\r\n    }","title":"JOLT Flatten array and nested object","body":"<p>Saw your last comment that you want have default values for missing array elements.\nYou may consider another library <em>Josson</em> for the solution.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;id\\&quot;: \\&quot;1234\\&quot;,&quot; +\n    &quot;  \\&quot;recordType\\&quot;: \\&quot;E\\&quot;,&quot; +\n    &quot;  \\&quot;receiveDate\\&quot;: \\&quot;2009-01-01\\&quot;,&quot; +\n    &quot;  \\&quot;receiveTime\\&quot;: \\&quot;09:55:00\\&quot;,&quot; +\n    &quot;  \\&quot;releaseDate\\&quot;: \\&quot;2009-01-02\\&quot;,&quot; +\n    &quot;  \\&quot;releaseTime\\&quot;: \\&quot;08:30:00\\&quot;,&quot; +\n    &quot;  \\&quot;classifications\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;reportType\\&quot;: 1031435,&quot; +\n    &quot;      \\&quot;description\\&quot;: {&quot; +\n    &quot;        \\&quot;string\\&quot;: \\&quot;Progress Report\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;reportType\\&quot;: 8888888,&quot; +\n    &quot;      \\&quot;description\\&quot;: {&quot; +\n    &quot;        \\&quot;string\\&quot;: \\&quot;Net Tangible Asset Backing\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    }&quot; +\n    &quot;  ],&quot; +\n    &quot;  \\&quot;type\\&quot;: \\&quot;ASX\\&quot;&quot; +\n    &quot;}&quot;);\n    \n</code></pre>\n<p>Transformation</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;map(id,&quot; +\n    &quot;    recordType,&quot; +\n    &quot;    classifications&quot; +\n    &quot;     .map(reportType, description:description.string)&quot; +\n    &quot;     .wrap()&quot; +\n    &quot;     .collect([0],&quot; +\n    &quot;              ifNot([reportType=8888888], json('{\\&quot;reportType\\&quot;:8888888,\\&quot;description\\&quot;:\\&quot;Default item\\&quot;}')),&quot; +\n    &quot;              ifNot([reportType=9999999], json('{\\&quot;reportType\\&quot;:9999999,\\&quot;description\\&quot;:\\&quot;Default item\\&quot;}')))&quot; +\n    &quot;     .flatten(1),&quot; +\n    &quot;    type)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;id&quot; : &quot;1234&quot;,\n  &quot;recordType&quot; : &quot;E&quot;,\n  &quot;classifications&quot; : [ {\n    &quot;reportType&quot; : 1031435,\n    &quot;description&quot; : &quot;Progress Report&quot;\n  }, {\n    &quot;reportType&quot; : 8888888,\n    &quot;description&quot; : &quot;Net Tangible Asset Backing&quot;\n  }, {\n    &quot;reportType&quot; : 9999999,\n    &quot;description&quot; : &quot;Default item&quot;\n  } ],\n  &quot;type&quot; : &quot;ASX&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9955890,"reputation":57,"user_id":7366837,"display_name":"ronMilne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72443224,"answer_count":2,"score":0,"last_activity_date":1679386916,"creation_date":1653972937,"question_id":72442443,"body_markdown":"Given the following JSON\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;1234&quot;,\r\n  &quot;recordType&quot;: &quot;E&quot;,\r\n  &quot;receiveDate&quot;: &quot;2009-01-01&quot;,\r\n  &quot;receiveTime&quot;: &quot;09:55:00&quot;,\r\n  &quot;releaseDate&quot;: &quot;2009-01-02&quot;,\r\n  &quot;releaseTime&quot;: &quot;08:30:00&quot;,\r\n  &quot;classifications&quot;: [\r\n    {\r\n      &quot;reportType&quot;: 1031435,\r\n      &quot;description&quot;: {\r\n        &quot;string&quot;: &quot;Progress Report&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;reportType&quot;: 1031435,\r\n      &quot;description&quot;: {\r\n        &quot;string&quot;: &quot;Net Tangible Asset Backing&quot;\r\n      }\r\n    }\r\n  ],\r\n  &quot;type&quot;: &quot;ASX&quot;\r\n}\r\n```\r\n\r\nI need to transform it to\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;1234&quot;,\r\n  &quot;recordType&quot;: &quot;E&quot;,\r\n  &quot;classifications&quot;: [\r\n    {\r\n      &quot;reportType&quot;: 1031435,\r\n      &quot;description&quot;: &quot;Progress Report&quot;\r\n    },\r\n    {\r\n      &quot;reportType&quot;: 1031435,\r\n      &quot;description&quot;: &quot;Net Tangible Asset Backing&quot;\r\n    }\r\n  ],\r\n  &quot;type&quot;: &quot;ASX&quot;\r\n}\r\n```\r\nI&#39;m having great difficulty trying to figure out exactly how to achieve this with Jolt or whether it&#39;s even possible at all.\r\n\r\nAny help truly appreciated.\r\nRon Milne\r\n","title":"JOLT Flatten array and nested object","body":"<p>Given the following JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;1234&quot;,\n  &quot;recordType&quot;: &quot;E&quot;,\n  &quot;receiveDate&quot;: &quot;2009-01-01&quot;,\n  &quot;receiveTime&quot;: &quot;09:55:00&quot;,\n  &quot;releaseDate&quot;: &quot;2009-01-02&quot;,\n  &quot;releaseTime&quot;: &quot;08:30:00&quot;,\n  &quot;classifications&quot;: [\n    {\n      &quot;reportType&quot;: 1031435,\n      &quot;description&quot;: {\n        &quot;string&quot;: &quot;Progress Report&quot;\n      }\n    },\n    {\n      &quot;reportType&quot;: 1031435,\n      &quot;description&quot;: {\n        &quot;string&quot;: &quot;Net Tangible Asset Backing&quot;\n      }\n    }\n  ],\n  &quot;type&quot;: &quot;ASX&quot;\n}\n</code></pre>\n<p>I need to transform it to</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;1234&quot;,\n  &quot;recordType&quot;: &quot;E&quot;,\n  &quot;classifications&quot;: [\n    {\n      &quot;reportType&quot;: 1031435,\n      &quot;description&quot;: &quot;Progress Report&quot;\n    },\n    {\n      &quot;reportType&quot;: 1031435,\n      &quot;description&quot;: &quot;Net Tangible Asset Backing&quot;\n    }\n  ],\n  &quot;type&quot;: &quot;ASX&quot;\n}\n</code></pre>\n<p>I'm having great difficulty trying to figure out exactly how to achieve this with Jolt or whether it's even possible at all.</p>\n<p>Any help truly appreciated.\nRon Milne</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634192546,"creation_date":1634148494,"answer_id":69560337,"question_id":69560120,"body_markdown":"Rethink in a dynamical manner by using ampersand placeholders such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: { \r\n        &quot;first&quot;: &quot;&amp;1s.&amp;Tag&quot;,\r\n        &quot;*&quot;: { &quot;@(1,&amp;)&quot;: &quot;&amp;2s.&amp;.&amp;Tag&quot; }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;=toInteger&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe suffixed integers for those ampersands represents the level to go up to grab the desired value such as **&amp;1** and **&amp;2** stand for **data**, **&amp;** without integer suffixes represent the value from the current level. \r\n\r\n**&quot;*&quot;** wildcard represents the rest of the elements, other than **first** in this case(you might have *third*, *fourth* ... as other elements to be formatted like *the second*)\r\n\r\n*first case* :\r\n[![enter image description here][1]][1]\r\n\r\n*second case* :\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/na3SB.png\r\n  [2]: https://i.stack.imgur.com/YU5Py.png\r\n\r\n**Edit** : For the current case which&#39;s mentioned within the edit in order to get \r\n```json\r\n{\r\n  &quot;datas&quot; : {\r\n    &quot;firstTag&quot; : &quot;1&quot;,\r\n    &quot;second&quot; : {\r\n      &quot;secondTag&quot; : &quot;2&quot;,\r\n      &quot;secondNew&quot; : &quot;3&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nfrom the input\r\n```json\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;first&quot;: &quot;1&quot;,\r\n    &quot;second&quot;: &quot;2&quot;,\r\n    &quot;secondNew&quot;: &quot;3&quot;\r\n  }\r\n}\r\n```\r\nwhich had a new entry **&quot;secondNew&quot;: &quot;3&quot;**, you&#39;ll need to write each key explicitly within the spec such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;first&quot;: &quot;&amp;1s.&amp;Tag&quot;,\r\n        &quot;second&quot;: &quot;&amp;1s.&amp;.&amp;Tag&quot;,\r\n        &quot;secondNew&quot;: &quot;&amp;1s.second.&amp;&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;=toInteger&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nin order to combine the rest of the elements under common object.","title":"Null Check in Jolt while converting string to integer For an Object","body":"<p>Rethink in a dynamical manner by using ampersand placeholders such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: { \n        &quot;first&quot;: &quot;&amp;1s.&amp;Tag&quot;,\n        &quot;*&quot;: { &quot;@(1,&amp;)&quot;: &quot;&amp;2s.&amp;.&amp;Tag&quot; }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;=toInteger&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the suffixed integers for those ampersands represents the level to go up to grab the desired value such as <strong>&amp;1</strong> and <strong>&amp;2</strong> stand for <strong>data</strong>, <strong>&amp;</strong> without integer suffixes represent the value from the current level.</p>\n<p><strong>&quot;*&quot;</strong> wildcard represents the rest of the elements, other than <strong>first</strong> in this case(you might have <em>third</em>, <em>fourth</em> ... as other elements to be formatted like <em>the second</em>)</p>\n<p><em>first case</em> :\n<a href=\"https://i.stack.imgur.com/na3SB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/na3SB.png\" alt=\"enter image description here\" /></a></p>\n<p><em>second case</em> :\n<a href=\"https://i.stack.imgur.com/YU5Py.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YU5Py.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit</strong> : For the current case which's mentioned within the edit in order to get</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;datas&quot; : {\n    &quot;firstTag&quot; : &quot;1&quot;,\n    &quot;second&quot; : {\n      &quot;secondTag&quot; : &quot;2&quot;,\n      &quot;secondNew&quot; : &quot;3&quot;\n    }\n  }\n}\n</code></pre>\n<p>from the input</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: {\n    &quot;first&quot;: &quot;1&quot;,\n    &quot;second&quot;: &quot;2&quot;,\n    &quot;secondNew&quot;: &quot;3&quot;\n  }\n}\n</code></pre>\n<p>which had a new entry <strong>&quot;secondNew&quot;: &quot;3&quot;</strong>, you'll need to write each key explicitly within the spec such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;first&quot;: &quot;&amp;1s.&amp;Tag&quot;,\n        &quot;second&quot;: &quot;&amp;1s.&amp;.&amp;Tag&quot;,\n        &quot;secondNew&quot;: &quot;&amp;1s.second.&amp;&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;=toInteger&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>in order to combine the rest of the elements under common object.</p>\n"}],"owner":{"account_id":12598214,"reputation":73,"user_id":9161927,"display_name":"Chethan "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69560337,"answer_count":1,"score":1,"last_activity_date":1679386806,"creation_date":1634147428,"question_id":69560120,"body_markdown":"I am doing conversion of string to integer/double in my jolt spec. If elements does not come in request, then empty object is coming in response. Instead I do not want to pass that object itself as its empty.\r\n\r\nInput Request Working:\r\n```json\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;first&quot;: &quot;1&quot;,\r\n    &quot;second&quot;: &quot;2&quot;\r\n  }\r\n}\r\n```\r\nJolt Spec:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;first&quot;: &quot;datas.firstTag&quot;,\r\n        &quot;second&quot;: &quot;datas.second.secondTag&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;datas&quot;: {\r\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\r\n        &quot;second&quot;: {\r\n          &quot;secondTag&quot;: &quot;=toInteger&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\r\n    }\r\n  }\r\n]\r\n```\r\nOutput if tag is there in request:\r\n```json\r\n{\r\n  &quot;datas&quot; : {\r\n    &quot;firstTag&quot; : 1,\r\n    &quot;second&quot; : {\r\n      &quot;secondTag&quot; : 2\r\n    }\r\n  }\r\n}\r\n```\r\nBut when input request is like below where I do not get second tag:\r\n```json\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;first&quot;: &quot;1&quot;\r\n  }\r\n}\r\n```\r\nCurrent Output:\r\n```json\r\n{\r\n  &quot;datas&quot; : {\r\n    &quot;firstTag&quot; : 1,\r\n    &quot;second&quot; : { }\r\n  }\r\n}\r\n```\r\nGetting second object as empty\r\n```json\r\n&quot;second&quot; : { }\r\n```\r\n\r\nExpected Output:\r\n```json\r\n{\r\n  &quot;datas&quot; : {\r\n    &quot;firstTag&quot; : 1\r\n  }\r\n}\r\n```\r\nPlease help to fix this issue.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Null Check in Jolt while converting string to integer For an Object","body":"<p>I am doing conversion of string to integer/double in my jolt spec. If elements does not come in request, then empty object is coming in response. Instead I do not want to pass that object itself as its empty.</p>\n<p>Input Request Working:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: {\n    &quot;first&quot;: &quot;1&quot;,\n    &quot;second&quot;: &quot;2&quot;\n  }\n}\n</code></pre>\n<p>Jolt Spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;first&quot;: &quot;datas.firstTag&quot;,\n        &quot;second&quot;: &quot;datas.second.secondTag&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;datas&quot;: {\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\n        &quot;second&quot;: {\n          &quot;secondTag&quot;: &quot;=toInteger&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\n    }\n  }\n]\n</code></pre>\n<p>Output if tag is there in request:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;datas&quot; : {\n    &quot;firstTag&quot; : 1,\n    &quot;second&quot; : {\n      &quot;secondTag&quot; : 2\n    }\n  }\n}\n</code></pre>\n<p>But when input request is like below where I do not get second tag:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: {\n    &quot;first&quot;: &quot;1&quot;\n  }\n}\n</code></pre>\n<p>Current Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;datas&quot; : {\n    &quot;firstTag&quot; : 1,\n    &quot;second&quot; : { }\n  }\n}\n</code></pre>\n<p>Getting second object as empty</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;second&quot; : { }\n</code></pre>\n<p>Expected Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;datas&quot; : {\n    &quot;firstTag&quot; : 1\n  }\n}\n</code></pre>\n<p>Please help to fix this issue.</p>\n"},{"tags":["java","eclipse","crash","jvm"],"comments":[{"owner":{"account_id":4273995,"reputation":905,"user_id":3495155,"accept_rate":82,"display_name":"Mind Peace"},"score":0,"creation_date":1408544438,"post_id":25406681,"comment_id":39630360,"body_markdown":"Change your workspace. Don&#39;t copy and paste anything from old one","body":"Change your workspace. Don&#39;t copy and paste anything from old one"},{"owner":{"account_id":2372151,"reputation":605,"user_id":2076521,"accept_rate":78,"display_name":"H3XXX"},"score":0,"creation_date":1408545961,"post_id":25406681,"comment_id":39631467,"body_markdown":"@MindPeace Thanks for replying, unfortunately, it still doesn&#39;t seem to work. It gives the same error as before.","body":"@MindPeace Thanks for replying, unfortunately, it still doesn&#39;t seem to work. It gives the same error as before."}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1408571402,"creation_date":1408571402,"answer_id":25415005,"question_id":25406681,"body_markdown":"The crash happens inside DirectX library: `d3d9.dll`. Try the following options:\r\n\r\n - Update / reinstall graphics driver.\r\n - Switch off graphics card utilities (I&#39;ve noticed RivaTuner in the list of loaded libraries).\r\n - Run Java with `-Dsun.java2d.d3d=false` JVM option or set `J2D_D3D=false` environment variable. This would definitely help, though Java will not make use of Direct3D acceleration.","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>The crash happens inside DirectX library: <code>d3d9.dll</code>. Try the following options:</p>\n\n<ul>\n<li>Update / reinstall graphics driver.</li>\n<li>Switch off graphics card utilities (I've noticed RivaTuner in the list of loaded libraries).</li>\n<li>Run Java with <code>-Dsun.java2d.d3d=false</code> JVM option or set <code>J2D_D3D=false</code> environment variable. This would definitely help, though Java will not make use of Direct3D acceleration.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8316417,"reputation":565,"user_id":6249539,"accept_rate":83,"display_name":"yashpandey8055"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465879681,"creation_date":1465879681,"answer_id":37803195,"question_id":25406681,"body_markdown":"I had this same issue. I was using Java version 1.6 update 45. And project requirement was Java 1.6 \r\nI downgraded the version from 1.6 update 45 to 1.6 update 38. It worked for me.\r\nHope this works for you, in case if you have specific Java requirements.","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>I had this same issue. I was using Java version 1.6 update 45. And project requirement was Java 1.6 \nI downgraded the version from 1.6 update 45 to 1.6 update 38. It worked for me.\nHope this works for you, in case if you have specific Java requirements.</p>\n"},{"tags":[],"owner":{"account_id":16706325,"reputation":1,"user_id":12074747,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568644377,"creation_date":1568643046,"answer_id":57958677,"question_id":25406681,"body_markdown":"I went through all the answers but nothing worked in my case.\r\n\r\nEventually it turned out to be a permission issue on the C:\\drive .\r\n\r\nSo basically `Program Files\\Java` was not having rights on that user who calls the applet. However when ran with the administrator profile it worked.","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>I went through all the answers but nothing worked in my case.</p>\n\n<p>Eventually it turned out to be a permission issue on the C:\\drive .</p>\n\n<p>So basically <code>Program Files\\Java</code> was not having rights on that user who calls the applet. However when ran with the administrator profile it worked.</p>\n"},{"tags":[],"owner":{"account_id":17590517,"reputation":1,"user_id":12762495,"display_name":"Robert Pastel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579704597,"creation_date":1579704597,"answer_id":59862332,"question_id":25406681,"body_markdown":"Running on windows 10, changing from java version 1.8.0_121 to 1.8.0_231 resolved the error for me.","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>Running on windows 10, changing from java version 1.8.0_121 to 1.8.0_231 resolved the error for me.</p>\n"},{"tags":[],"owner":{"account_id":14881263,"reputation":11,"user_id":10745836,"display_name":"A.pe"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619701044,"creation_date":1619701044,"answer_id":67317874,"question_id":25406681,"body_markdown":"I had the same error in spring tools suite 4.6.2 using java 9--reverting to java 1.8 resolved the issue for me. ","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>I had the same error in spring tools suite 4.6.2 using java 9--reverting to java 1.8 resolved the issue for me.</p>\n"}],"owner":{"account_id":2372151,"reputation":605,"user_id":2076521,"accept_rate":78,"display_name":"H3XXX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108147,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":25415005,"answer_count":5,"score":16,"last_activity_date":1679386740,"creation_date":1408543134,"question_id":25406681,"body_markdown":"Today I decided to continue working on a program that I had created for my Computer Science class. Upon running it, I am greeted with this in the console:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffeb23c7510, pid=7320, tid=9084\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_11-b12) (build 1.8.0_11-b12)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.11-b03 mixed mode windows-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  0x00007ffeb23c7510\r\n    #\r\n    # Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse\\workspace\\CS PROGRAM FINAL\\hs_err_pid7320.log\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.sun.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n\r\nSo, I try to run another program that is completely unrelated to the first one, and the same thing happens. Bear in mind that everything was working perfectly yesterday.\r\n\r\nThen, I tried to install a fresh copy of eclipse (Luna) on and try the program again.\r\n\r\nRunning a simple &quot;Hello World&quot; program works perfectly, but once again, running the first program crashes the JVM with the same error.\r\n\r\nI am running Java 1.8 on Windows 8.1 64-bit.\r\n\r\nThe program that I cannot run simply uses AWT and Swing classes as well as some io classes such as BufferedWriter.\r\n\r\nThis is the log produced by eclipse:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffeb23c7510, pid=9044, tid=1944\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_11-b12) (build 1.8.0_11-b12)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.11-b03 mixed mode windows-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  0x00007ffeb23c7510\r\n    #\r\n    # Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.sun.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n    \r\n    ---------------  T H R E A D  ---------------\r\n    \r\n    Current thread (0x000000001dfbc000):  JavaThread &quot;AWT-Windows&quot; daemon [_thread_in_native, id=1944, stack(0x000000001ed50000,0x000000001ee50000)]\r\n    \r\n    siginfo: ExceptionCode=0xc0000005, ExceptionInformation=0x0000000000000008 0x00007ffeb23c7510\r\n    \r\n    Registers:\r\n    RAX=0x0000000021a57f20, RBX=0x0000000000000000, RCX=0x000000001ee4e050, RDX=0x0000000021a53b48\r\n    RSP=0x000000001ee4e028, RBP=0x00000000210f8028, RSI=0x0000000021a53b40, RDI=0x0000000021a53b40\r\n    R8 =0x0000000000000000, R9 =0x0000000000000001, R10=0x0000000020f10150, R11=0x00000000231a3a20\r\n    R12=0x0000000000000020, R13=0x0000000000000020, R14=0x0000000000000000, R15=0x000000001dfbc000\r\n    RIP=0x00007ffeb23c7510, EFLAGS=0x0000000000010246\r\n    \r\n    Top of Stack: (sp=0x000000001ee4e028)\r\n    0x000000001ee4e028:   00007ffeb21675d7 0000000000000008\r\n    0x000000001ee4e038:   000000002196ec80 0000000000000001\r\n    0x000000001ee4e048:   fffffffffffffffe 0000000021a53b40\r\n    0x000000001ee4e058:   0000000000000000 0000000000000001\r\n    0x000000001ee4e068:   00000000665f17a0 000000002196ec80\r\n    0x000000001ee4e078:   000000001df48030 00000000210f8028\r\n    0x000000001ee4e088:   0000000021a53b40 fffffffffffffffe\r\n    0x000000001ee4e098:   00000000666a57fe 0000000000000000\r\n    0x000000001ee4e0a8:   00007ffeb21677cc 0000000000000000\r\n    0x000000001ee4e0b8:   0000000000000008 fffffffffffffffe\r\n    0x000000001ee4e0c8:   00000000665ec30a 0000000000000000\r\n    0x000000001ee4e0d8:   0000000000000000 0000000000000001\r\n    0x000000001ee4e0e8:   0000000000000000 0000000021a53b40\r\n    0x000000001ee4e0f8:   00000000665e88f0 00000000210f7d90\r\n    0x000000001ee4e108:   00000000210f7d90 0000000000000000\r\n    0x000000001ee4e118:   0000000000000000 000056ad00000001 \r\n    \r\n    Instructions: (pc=0x00007ffeb23c7510)\r\n    0x00007ffeb23c74f0:   \r\n    [error occurred during error reporting (printing registers, top of stack, instructions near pc), id 0xc0000005]\r\n    \r\n    Register to memory mapping:\r\n    \r\n    RAX=0x0000000021a57f20 is an unknown value\r\n    RBX=0x0000000000000000 is an unknown value\r\n    RCX=0x000000001ee4e050 is pointing into the stack for thread: 0x000000001dfbc000\r\n    RDX=0x0000000021a53b48 is an unknown value\r\n    RSP=0x000000001ee4e028 is pointing into the stack for thread: 0x000000001dfbc000\r\n    RBP=0x00000000210f8028 is an unknown value\r\n    RSI=0x0000000021a53b40 is an unknown value\r\n    RDI=0x0000000021a53b40 is an unknown value\r\n    R8 =0x0000000000000000 is an unknown value\r\n    R9 =0x0000000000000001 is an unknown value\r\n    R10=0x0000000020f10150 is an unknown value\r\n    R11=0x00000000231a3a20 is an unknown value\r\n    R12=0x0000000000000020 is an unknown value\r\n    R13=0x0000000000000020 is an unknown value\r\n    R14=0x0000000000000000 is an unknown value\r\n    R15=0x000000001dfbc000 is a thread\r\n    \r\n    \r\n    Stack: [0x000000001ed50000,0x000000001ee50000],  sp=0x000000001ee4e028,  free space=1016k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    C  0x00007ffeb23c7510\r\n    \r\n    Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\n    j  sun.java2d.d3d.D3DGraphicsDevice.getDeviceCapsNative(I)I+0\r\n    j  sun.java2d.d3d.D3DGraphicsDevice.access$000(I)I+1\r\n    j  sun.java2d.d3d.D3DGraphicsDevice$1.run()V+8\r\n    v  ~StubRoutines::call_stub\r\n    j  sun.awt.windows.WToolkit.eventLoop()V+0\r\n    j  sun.awt.windows.WToolkit.run()V+58\r\n    j  java.lang.Thread.run()V+11\r\n    v  ~StubRoutines::call_stub\r\n    \r\n    ---------------  P R O C E S S  ---------------\r\n    \r\n    Java Threads: ( =&gt; current thread )\r\n      0x0000000002080800 JavaThread &quot;DestroyJavaVM&quot; [_thread_blocked, id=7952, stack(0x0000000001f10000,0x0000000002010000)]\r\n      0x000000001dfbe000 JavaThread &quot;AWT-EventQueue-0&quot; [_thread_in_native, id=8420, stack(0x000000001f0f0000,0x000000001f1f0000)]\r\n    =&gt;0x000000001dfbc000 JavaThread &quot;AWT-Windows&quot; daemon [_thread_in_native, id=1944, stack(0x000000001ed50000,0x000000001ee50000)]\r\n      0x000000001dfb7800 JavaThread &quot;AWT-Shutdown&quot; [_thread_blocked, id=8836, stack(0x000000001ec50000,0x000000001ed50000)]\r\n      0x000000001df74800 JavaThread &quot;Java2D Disposer&quot; daemon [_thread_blocked, id=7760, stack(0x000000001eb50000,0x000000001ec50000)]\r\n      0x000000001dc90000 JavaThread &quot;Service Thread&quot; daemon [_thread_blocked, id=7300, stack(0x000000001e5d0000,0x000000001e6d0000)]\r\n      0x000000001dc16000 JavaThread &quot;C1 CompilerThread3&quot; daemon [_thread_blocked, id=8408, stack(0x000000001e4d0000,0x000000001e5d0000)]\r\n      0x000000001dc02800 JavaThread &quot;C2 CompilerThread2&quot; daemon [_thread_blocked, id=5008, stack(0x000000001e3d0000,0x000000001e4d0000)]\r\n      0x000000001dbfb800 JavaThread &quot;C2 CompilerThread1&quot; daemon [_thread_blocked, id=4868, stack(0x000000001e2d0000,0x000000001e3d0000)]\r\n      0x000000001dbf5800 JavaThread &quot;C2 CompilerThread0&quot; daemon [_thread_blocked, id=8548, stack(0x000000001e1d0000,0x000000001e2d0000)]\r\n      0x000000001dbf4000 JavaThread &quot;Attach Listener&quot; daemon [_thread_blocked, id=8580, stack(0x000000001e0d0000,0x000000001e1d0000)]\r\n      0x000000001bbee000 JavaThread &quot;Signal Dispatcher&quot; daemon [_thread_blocked, id=952, stack(0x000000001dfd0000,0x000000001e0d0000)]\r\n      0x0000000002176000 JavaThread &quot;Finalizer&quot; daemon [_thread_blocked, id=6040, stack(0x000000001dad0000,0x000000001dbd0000)]\r\n      0x000000001bbdc000 JavaThread &quot;Reference Handler&quot; daemon [_thread_blocked, id=7336, stack(0x000000001d9d0000,0x000000001dad0000)]\r\n    \r\n    Other Threads:\r\n      0x000000001bbd7000 VMThread [stack: 0x000000001d8d0000,0x000000001d9d0000] [id=8528]\r\n      0x000000001dc92000 WatcherThread [stack: 0x000000001e6d0000,0x000000001e7d0000] [id=8996]\r\n    \r\n    VM state:not at safepoint (normal execution)\r\n    \r\n    VM Mutex/Monitor currently owned by a thread: None\r\n    \r\n    Heap:\r\n     PSYoungGen      total 1024K, used 560K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\r\n      eden space 512K, 12% used [0x000000076b180000,0x000000076b190390,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\r\n      to   space 512K, 0% used [0x000000076b300000,0x000000076b300000,0x000000076b380000)\r\n     ParOldGen       total 260608K, used 124K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c141f010,0x00000006d1280000)\r\n     Metaspace       used 5180K, capacity 5314K, committed 5632K, reserved 1056768K\r\n      class space    used 642K, capacity 692K, committed 768K, reserved 1048576K\r\n    \r\n    Card table byte_map: [0x0000000011540000,0x0000000011d40000] byte_map_base: 0x000000000df36000\r\n    \r\n    Marking Bits: (ParMarkBitMap*) 0x0000000065c612b0\r\n     Begin Bits: [0x0000000012a90000, 0x0000000016a40000)\r\n     End Bits:   [0x0000000016a40000, 0x000000001a9f0000)\r\n    \r\n    Polling page: 0x0000000000720000\r\n    \r\n    CodeCache: size=245760Kb used=1436Kb max_used=1436Kb free=244323Kb\r\n     bounds [0x0000000002180000, 0x00000000023f0000, 0x0000000011180000]\r\n     total_blobs=498 nmethods=178 adapters=234\r\n     compilation: enabled\r\n    \r\n    Compilation events (10 events):\r\n    Event: 0.176 Thread 0x000000001dc16000  173       3       java.lang.String::indexOf (166 bytes)\r\n    Event: 0.176 Thread 0x000000001dc16000 nmethod 173 0x00000000022e2650 code [0x00000000022e2800, 0x00000000022e2e50]\r\n    Event: 0.176 Thread 0x000000001dc16000  174       3       jdk.internal.org.objectweb.asm.Type::getType (269 bytes)\r\n    Event: 0.176 Thread 0x000000001dc16000 nmethod 174 0x00000000022e3210 code [0x00000000022e3400, 0x00000000022e3cd0]\r\n    Event: 0.176 Thread 0x000000001dc16000  176       3       sun.invoke.util.Wrapper::hashChar (9 bytes)\r\n    Event: 0.176 Thread 0x000000001dc16000 nmethod 176 0x00000000022e40d0 code [0x00000000022e4220, 0x00000000022e4370]\r\n    Event: 0.180 Thread 0x000000001dc16000  177       3       java.util.HashMap::putVal (300 bytes)\r\n    Event: 0.181 Thread 0x000000001dc16000 nmethod 177 0x00000000022e4650 code [0x00000000022e48c0, 0x00000000022e5b98]\r\n    Event: 0.181 Thread 0x000000001dc16000  178       3       java.util.HashMap::put (13 bytes)\r\n    Event: 0.181 Thread 0x000000001dc16000 nmethod 178 0x00000000022e6250 code [0x00000000022e63e0, 0x00000000022e6798]\r\n    \r\n    GC Heap History (6 events):\r\n    Event: 0.072 GC heap before\r\n    {Heap before GC invocations=1 (full 0):\r\n     PSYoungGen      total 1024K, used 512K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\r\n      eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\r\n      from space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\r\n      to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\r\n     ParOldGen       total 260608K, used 0K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1400000,0x00000006d1280000)\r\n     Metaspace       used 3127K, capacity 4522K, committed 4864K, reserved 1056768K\r\n      class space    used 378K, capacity 418K, committed 512K, reserved 1048576K\r\n    Event: 0.072 GC heap after\r\n    Heap after GC invocations=1 (full 0):\r\n     PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\r\n      eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\r\n      to   space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\r\n     ParOldGen       total 260608K, used 8K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1402000,0x00000006d1280000)\r\n     Metaspace       used 3127K, capacity 4522K, committed 4864K, reserved 1056768K\r\n      class space    used 378K, capacity 418K, committed 512K, reserved 1048576K\r\n    }\r\n    Event: 0.110 GC heap before\r\n    {Heap before GC invocations=2 (full 0):\r\n     PSYoungGen      total 1024K, used 1008K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\r\n      eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\r\n      to   space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\r\n     ParOldGen       total 260608K, used 8K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1402000,0x00000006d1280000)\r\n     Metaspace       used 4604K, capacity 4724K, committed 4992K, reserved 1056768K\r\n      class space    used 555K, capacity 601K, committed 640K, reserved 1048576K\r\n    Event: 0.111 GC heap after\r\n    Heap after GC invocations=2 (full 0):\r\n     PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\r\n      eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b280000,0x000000076b2fc010,0x000000076b300000)\r\n      to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\r\n     ParOldGen       total 260608K, used 76K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1413010,0x00000006d1280000)\r\n     Metaspace       used 4604K, capacity 4724K, committed 4992K, reserved 1056768K\r\n      class space    used 555K, capacity 601K, committed 640K, reserved 1048576K\r\n    }\r\n    Event: 0.178 GC heap before\r\n    {Heap before GC invocations=3 (full 0):\r\n     PSYoungGen      total 1024K, used 1008K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\r\n      eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b280000,0x000000076b2fc010,0x000000076b300000)\r\n      to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\r\n     ParOldGen       total 260608K, used 76K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1413010,0x00000006d1280000)\r\n     Metaspace       used 4956K, capacity 5026K, committed 5376K, reserved 1056768K\r\n      class space    used 614K, capacity 660K, committed 768K, reserved 1048576K\r\n    Event: 0.179 GC heap after\r\n    Heap after GC invocations=3 (full 0):\r\n     PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\r\n      eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\r\n      to   space 512K, 0% used [0x000000076b300000,0x000000076b300000,0x000000076b380000)\r\n     ParOldGen       total 260608K, used 124K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c141f010,0x00000006d1280000)\r\n     Metaspace       used 4956K, capacity 5026K, committed 5376K, reserved 1056768K\r\n      class space    used 614K, capacity 660K, committed 768K, reserved 1048576K\r\n    }\r\n    \r\n    Deoptimization events (0 events):\r\n    No events\r\n    \r\n    Internal exceptions (10 events):\r\n    Event: 0.075 Thread 0x0000000002080800 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x000000076b18a008) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\r\n    Event: 0.077 Thread 0x0000000002080800 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x000000076b18c030) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\r\n    Event: 0.077 Thread 0x0000000002080800 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x000000076b18d238) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\r\n    Event: 0.081 Thread 0x0000000002080800 Exception &lt;a &#39;java/io/FileNotFoundException&#39;&gt; (0x000000076b191668) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 716]\r\n    Event: 0.085 Thread 0x0000000002080800 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x000000076b19bbf0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\r\n    Event: 0.102 Thread 0x0000000002080800 Exception &lt;a &#39;java/lang/ClassNotFoundException&#39;: java/lang/Null&gt; (0x000000076b1c0b90) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\classfile\\systemDictionary.cpp, line 202]\r\n    Event: 0.113 Thread 0x0000000002080800 Exception &lt;a &#39;java/lang/NoSuchFieldError&#39;: method resolution failed&gt; (0x000000076b198ed0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\r\n    Event: 0.115 Thread 0x0000000002080800 Exception &lt;a &#39;java/lang/NoSuchFieldError&#39;: method resolution failed&gt; (0x000000076b1a7aa8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\r\n    Event: 0.116 Thread 0x0000000002080800 Exception &lt;a &#39;java/lang/NoSuchFieldError&#39;: method resolution failed&gt; (0x000000076b1ab3c8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\r\n    Event: 0.183 Thread 0x000000001dfbe000 Exception &lt;a &#39;java/io/FileNotFoundException&#39;&gt; (0x000000076b18db60) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 716]\r\n    \r\n    Events (10 events):\r\n    Event: 0.199 loading class sun/java2d/pipe/RenderQueue done\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DRenderQueue done\r\n    Event: 0.199 loading class sun/java2d/pipe/RenderBuffer\r\n    Event: 0.199 loading class sun/java2d/pipe/RenderBuffer done\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DRenderQueue$1\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DRenderQueue$1 done\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1Result\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1Result done\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1 done\r\n    \r\n    \r\n    Dynamic libraries:\r\n    0x00007ff7fe8b0000 - 0x00007ff7fe8e4000 \tC:\\Program Files\\Java\\jre8\\bin\\javaw.exe\r\n    0x00007ffec5e40000 - 0x00007ffec5fea000 \tC:\\Windows\\SYSTEM32\\ntdll.dll\r\n    0x00007ffec55e0000 - 0x00007ffec571a000 \tC:\\Windows\\system32\\KERNEL32.DLL\r\n    0x00007ffec32d0000 - 0x00007ffec33df000 \tC:\\Windows\\system32\\KERNELBASE.dll\r\n    0x00007ffec13b0000 - 0x00007ffec1438000 \tC:\\Windows\\system32\\apphelp.dll\r\n    0x00007ffeb9ee0000 - 0x00007ffeb9f2f000 \tC:\\Windows\\AppPatch\\AppPatch64\\AcGenral.DLL\r\n    0x00007ffec5140000 - 0x00007ffec51e7000 \tC:\\Windows\\system32\\msvcrt.dll\r\n    0x00007ffec2ff0000 - 0x00007ffec301b000 \tC:\\Windows\\SYSTEM32\\SspiCli.dll\r\n    0x00007ffec3800000 - 0x00007ffec3851000 \tC:\\Windows\\system32\\SHLWAPI.dll\r\n    0x00007ffec4f60000 - 0x00007ffec50d1000 \tC:\\Windows\\system32\\USER32.dll\r\n    0x00007ffec5b80000 - 0x00007ffec5cf8000 \tC:\\Windows\\system32\\ole32.dll\r\n    0x00007ffec3860000 - 0x00007ffec4c80000 \tC:\\Windows\\system32\\SHELL32.dll\r\n    0x00007ffec24d0000 - 0x00007ffec24ee000 \tC:\\Windows\\SYSTEM32\\USERENV.dll\r\n    0x00007ffec58f0000 - 0x00007ffec5995000 \tC:\\Windows\\system32\\ADVAPI32.dll\r\n    0x00007ffebcc70000 - 0x00007ffebcc8b000 \tC:\\Windows\\SYSTEM32\\MPR.dll\r\n    0x00007ffec36c0000 - 0x00007ffec37f7000 \tC:\\Windows\\system32\\RPCRT4.dll\r\n    0x00007ffec5890000 - 0x00007ffec58e7000 \tC:\\Windows\\SYSTEM32\\sechost.dll\r\n    0x00007ffec59a0000 - 0x00007ffec5b76000 \tC:\\Windows\\SYSTEM32\\combase.dll\r\n    0x00007ffec5390000 - 0x00007ffec54d4000 \tC:\\Windows\\system32\\GDI32.dll\r\n    0x00007ffec31b0000 - 0x00007ffec31c4000 \tC:\\Windows\\SYSTEM32\\profapi.dll\r\n    0x00007ffec2150000 - 0x00007ffec21ef000 \tC:\\Windows\\SYSTEM32\\SHCORE.dll\r\n    0x00007ffec55a0000 - 0x00007ffec55d4000 \tC:\\Windows\\system32\\IMM32.DLL\r\n    0x00007ffec5d00000 - 0x00007ffec5e39000 \tC:\\Windows\\system32\\MSCTF.dll\r\n    0x00007ffec2720000 - 0x00007ffec297a000 \tC:\\Windows\\WinSxS\\amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.9600.17031_none_6242a4b3ecbb55a1\\COMCTL32.dll\r\n    0x00000000667d0000 - 0x00000000668a2000 \tC:\\Program Files\\Java\\jre8\\bin\\msvcr100.dll\r\n    0x00000000654b0000 - 0x0000000065cda000 \tC:\\Program Files\\Java\\jre8\\bin\\server\\jvm.dll\r\n    0x00007ffec1cc0000 - 0x00007ffec1cc9000 \tC:\\Windows\\SYSTEM32\\WSOCK32.dll\r\n    0x00007ffebbf40000 - 0x00007ffebbf5f000 \tC:\\Windows\\SYSTEM32\\WINMM.dll\r\n    0x00007ffec4c80000 - 0x00007ffec4c87000 \tC:\\Windows\\system32\\PSAPI.DLL\r\n    0x00007ffec5830000 - 0x00007ffec5888000 \tC:\\Windows\\system32\\WS2_32.dll\r\n    0x00007ffebbf10000 - 0x00007ffebbf3a000 \tC:\\Windows\\SYSTEM32\\WINMMBASE.dll\r\n    0x00007ffec5720000 - 0x00007ffec5729000 \tC:\\Windows\\system32\\NSI.dll\r\n    0x00007ffec3670000 - 0x00007ffec36ba000 \tC:\\Windows\\SYSTEM32\\cfgmgr32.dll\r\n    0x00007ffec1600000 - 0x00007ffec1626000 \tC:\\Windows\\SYSTEM32\\DEVOBJ.dll\r\n    0x00000000667c0000 - 0x00000000667cf000 \tC:\\Program Files\\Java\\jre8\\bin\\verify.dll\r\n    0x0000000066790000 - 0x00000000667b8000 \tC:\\Program Files\\Java\\jre8\\bin\\java.dll\r\n    0x0000000066770000 - 0x0000000066786000 \tC:\\Program Files\\Java\\jre8\\bin\\zip.dll\r\n    0x00000000665d0000 - 0x0000000066766000 \tC:\\Program Files\\Java\\jre8\\bin\\awt.dll\r\n    0x00007ffec54e0000 - 0x00007ffec5597000 \tC:\\Windows\\system32\\OLEAUT32.dll\r\n    0x00007ffec1480000 - 0x00007ffec15a1000 \tC:\\Windows\\system32\\uxtheme.dll\r\n    0x0000000180000000 - 0x000000018006b000 \tC:\\Program Files (x86)\\RivaTuner Statistics Server\\RTSSHooks64.dll\r\n    0x00000000683d0000 - 0x0000000068473000 \tC:\\Windows\\WinSxS\\amd64_microsoft.vc90.crt_1fc8b3b9a1e18e3b_9.0.30729.8387_none_08e793bfa83a89b5\\MSVCR90.dll\r\n    0x00007ffebfcd0000 - 0x00007ffebfcf0000 \tC:\\Windows\\system32\\dwmapi.dll\r\n    0x00007ffec13a0000 - 0x00007ffec13aa000 \tC:\\Windows\\SYSTEM32\\kernel.appcore.dll\r\n    0x00007ffec3080000 - 0x00007ffec308a000 \tC:\\Windows\\SYSTEM32\\CRYPTBASE.dll\r\n    0x00007ffec3020000 - 0x00007ffec3080000 \tC:\\Windows\\SYSTEM32\\bcryptPrimitives.dll\r\n    0x00007ffeb2140000 - 0x00007ffeb2348000 \tC:\\Windows\\system32\\d3d9.dll\r\n    0x00007ffec18f0000 - 0x00007ffec18fa000 \tC:\\Windows\\SYSTEM32\\VERSION.dll\r\n    0x00007ffec08b0000 - 0x00007ffec09fb000 \tC:\\Windows\\SYSTEM32\\aticfx64.dll\r\n    0x00007ffeb9080000 - 0x00007ffeb90a1000 \tC:\\Windows\\SYSTEM32\\atiu9p64.dll\r\n    0x00007ffeb14c0000 - 0x00007ffeb1c61000 \tC:\\Windows\\SYSTEM32\\atiumd64.dll\r\n    0x0000000066db0000 - 0x00000000674e7000 \tC:\\Windows\\SYSTEM32\\atiumd6a.dll\r\n    0x00007ffeb3720000 - 0x00007ffeb38a8000 \tC:\\Windows\\SYSTEM32\\dbghelp.dll\r\n    \r\n    VM Arguments:\r\n    jvm_args: -Dfile.encoding=Cp1252 \r\n    java_command: Main\r\n    java_class_path (initial): C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse\\workspace\\CS PROGRAM FINAL\\bin\r\n    Launcher Type: SUN_STANDARD\r\n    \r\n    Environment Variables:\r\n    PATH=C:/Program Files/Java/jdk1.8.0_11/jre/bin/server;C:/Program Files/Java/jdk1.8.0_11/jre/bin;C:/Program Files/Java/jdk1.8.0_11/jre/lib/amd64;C:\\Program Files (x86)\\Java\\jdk1.7.0_55\\bin\\javaw.exe;C:\\Python34\\;C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse;\r\n    USERNAME=Adam\r\n    OS=Windows_NT\r\n    PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 62 Stepping 4, GenuineIntel\r\n    \r\n    \r\n    \r\n    ---------------  S Y S T E M  ---------------\r\n    \r\n    OS: Windows 8.1 , 64 bit Build 9600 \r\n    \r\n    CPU:total 8 (4 cores per cpu, 2 threads per core) family 6 model 62 stepping 4, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1, sse4.2, popcnt, avx, aes, clmul, erms, ht, tsc, tscinvbit\r\n    \r\n    Memory: 4k page, physical 16689944k(13276820k free), swap 33073944k(28367744k free)\r\n    \r\n    vm_info: Java HotSpot(TM) 64-Bit Server VM (25.11-b03) for windows-amd64 JRE (1.8.0_11-b12), built on Jun 16 2014 20:57:32 by &quot;java_re&quot; with MS VC++ 10.0 (VS2010)\r\n    \r\n    time: Wed Aug 20 14:55:53 2014\r\n    elapsed time: 0 seconds\r\n\r\nCould this be a hardware problem?\r\n\r\n","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>Today I decided to continue working on a program that I had created for my Computer Science class. Upon running it, I am greeted with this in the console:</p>\n\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffeb23c7510, pid=7320, tid=9084\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_11-b12) (build 1.8.0_11-b12)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.11-b03 mixed mode windows-amd64 compressed oops)\n# Problematic frame:\n# C  0x00007ffeb23c7510\n#\n# Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse\\workspace\\CS PROGRAM FINAL\\hs_err_pid7320.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.sun.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n\n<p>So, I try to run another program that is completely unrelated to the first one, and the same thing happens. Bear in mind that everything was working perfectly yesterday.</p>\n\n<p>Then, I tried to install a fresh copy of eclipse (Luna) on and try the program again.</p>\n\n<p>Running a simple \"Hello World\" program works perfectly, but once again, running the first program crashes the JVM with the same error.</p>\n\n<p>I am running Java 1.8 on Windows 8.1 64-bit.</p>\n\n<p>The program that I cannot run simply uses AWT and Swing classes as well as some io classes such as BufferedWriter.</p>\n\n<p>This is the log produced by eclipse:</p>\n\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffeb23c7510, pid=9044, tid=1944\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_11-b12) (build 1.8.0_11-b12)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.11-b03 mixed mode windows-amd64 compressed oops)\n# Problematic frame:\n# C  0x00007ffeb23c7510\n#\n# Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.sun.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x000000001dfbc000):  JavaThread \"AWT-Windows\" daemon [_thread_in_native, id=1944, stack(0x000000001ed50000,0x000000001ee50000)]\n\nsiginfo: ExceptionCode=0xc0000005, ExceptionInformation=0x0000000000000008 0x00007ffeb23c7510\n\nRegisters:\nRAX=0x0000000021a57f20, RBX=0x0000000000000000, RCX=0x000000001ee4e050, RDX=0x0000000021a53b48\nRSP=0x000000001ee4e028, RBP=0x00000000210f8028, RSI=0x0000000021a53b40, RDI=0x0000000021a53b40\nR8 =0x0000000000000000, R9 =0x0000000000000001, R10=0x0000000020f10150, R11=0x00000000231a3a20\nR12=0x0000000000000020, R13=0x0000000000000020, R14=0x0000000000000000, R15=0x000000001dfbc000\nRIP=0x00007ffeb23c7510, EFLAGS=0x0000000000010246\n\nTop of Stack: (sp=0x000000001ee4e028)\n0x000000001ee4e028:   00007ffeb21675d7 0000000000000008\n0x000000001ee4e038:   000000002196ec80 0000000000000001\n0x000000001ee4e048:   fffffffffffffffe 0000000021a53b40\n0x000000001ee4e058:   0000000000000000 0000000000000001\n0x000000001ee4e068:   00000000665f17a0 000000002196ec80\n0x000000001ee4e078:   000000001df48030 00000000210f8028\n0x000000001ee4e088:   0000000021a53b40 fffffffffffffffe\n0x000000001ee4e098:   00000000666a57fe 0000000000000000\n0x000000001ee4e0a8:   00007ffeb21677cc 0000000000000000\n0x000000001ee4e0b8:   0000000000000008 fffffffffffffffe\n0x000000001ee4e0c8:   00000000665ec30a 0000000000000000\n0x000000001ee4e0d8:   0000000000000000 0000000000000001\n0x000000001ee4e0e8:   0000000000000000 0000000021a53b40\n0x000000001ee4e0f8:   00000000665e88f0 00000000210f7d90\n0x000000001ee4e108:   00000000210f7d90 0000000000000000\n0x000000001ee4e118:   0000000000000000 000056ad00000001 \n\nInstructions: (pc=0x00007ffeb23c7510)\n0x00007ffeb23c74f0:   \n[error occurred during error reporting (printing registers, top of stack, instructions near pc), id 0xc0000005]\n\nRegister to memory mapping:\n\nRAX=0x0000000021a57f20 is an unknown value\nRBX=0x0000000000000000 is an unknown value\nRCX=0x000000001ee4e050 is pointing into the stack for thread: 0x000000001dfbc000\nRDX=0x0000000021a53b48 is an unknown value\nRSP=0x000000001ee4e028 is pointing into the stack for thread: 0x000000001dfbc000\nRBP=0x00000000210f8028 is an unknown value\nRSI=0x0000000021a53b40 is an unknown value\nRDI=0x0000000021a53b40 is an unknown value\nR8 =0x0000000000000000 is an unknown value\nR9 =0x0000000000000001 is an unknown value\nR10=0x0000000020f10150 is an unknown value\nR11=0x00000000231a3a20 is an unknown value\nR12=0x0000000000000020 is an unknown value\nR13=0x0000000000000020 is an unknown value\nR14=0x0000000000000000 is an unknown value\nR15=0x000000001dfbc000 is a thread\n\n\nStack: [0x000000001ed50000,0x000000001ee50000],  sp=0x000000001ee4e028,  free space=1016k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  0x00007ffeb23c7510\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  sun.java2d.d3d.D3DGraphicsDevice.getDeviceCapsNative(I)I+0\nj  sun.java2d.d3d.D3DGraphicsDevice.access$000(I)I+1\nj  sun.java2d.d3d.D3DGraphicsDevice$1.run()V+8\nv  ~StubRoutines::call_stub\nj  sun.awt.windows.WToolkit.eventLoop()V+0\nj  sun.awt.windows.WToolkit.run()V+58\nj  java.lang.Thread.run()V+11\nv  ~StubRoutines::call_stub\n\n---------------  P R O C E S S  ---------------\n\nJava Threads: ( =&gt; current thread )\n  0x0000000002080800 JavaThread \"DestroyJavaVM\" [_thread_blocked, id=7952, stack(0x0000000001f10000,0x0000000002010000)]\n  0x000000001dfbe000 JavaThread \"AWT-EventQueue-0\" [_thread_in_native, id=8420, stack(0x000000001f0f0000,0x000000001f1f0000)]\n=&gt;0x000000001dfbc000 JavaThread \"AWT-Windows\" daemon [_thread_in_native, id=1944, stack(0x000000001ed50000,0x000000001ee50000)]\n  0x000000001dfb7800 JavaThread \"AWT-Shutdown\" [_thread_blocked, id=8836, stack(0x000000001ec50000,0x000000001ed50000)]\n  0x000000001df74800 JavaThread \"Java2D Disposer\" daemon [_thread_blocked, id=7760, stack(0x000000001eb50000,0x000000001ec50000)]\n  0x000000001dc90000 JavaThread \"Service Thread\" daemon [_thread_blocked, id=7300, stack(0x000000001e5d0000,0x000000001e6d0000)]\n  0x000000001dc16000 JavaThread \"C1 CompilerThread3\" daemon [_thread_blocked, id=8408, stack(0x000000001e4d0000,0x000000001e5d0000)]\n  0x000000001dc02800 JavaThread \"C2 CompilerThread2\" daemon [_thread_blocked, id=5008, stack(0x000000001e3d0000,0x000000001e4d0000)]\n  0x000000001dbfb800 JavaThread \"C2 CompilerThread1\" daemon [_thread_blocked, id=4868, stack(0x000000001e2d0000,0x000000001e3d0000)]\n  0x000000001dbf5800 JavaThread \"C2 CompilerThread0\" daemon [_thread_blocked, id=8548, stack(0x000000001e1d0000,0x000000001e2d0000)]\n  0x000000001dbf4000 JavaThread \"Attach Listener\" daemon [_thread_blocked, id=8580, stack(0x000000001e0d0000,0x000000001e1d0000)]\n  0x000000001bbee000 JavaThread \"Signal Dispatcher\" daemon [_thread_blocked, id=952, stack(0x000000001dfd0000,0x000000001e0d0000)]\n  0x0000000002176000 JavaThread \"Finalizer\" daemon [_thread_blocked, id=6040, stack(0x000000001dad0000,0x000000001dbd0000)]\n  0x000000001bbdc000 JavaThread \"Reference Handler\" daemon [_thread_blocked, id=7336, stack(0x000000001d9d0000,0x000000001dad0000)]\n\nOther Threads:\n  0x000000001bbd7000 VMThread [stack: 0x000000001d8d0000,0x000000001d9d0000] [id=8528]\n  0x000000001dc92000 WatcherThread [stack: 0x000000001e6d0000,0x000000001e7d0000] [id=8996]\n\nVM state:not at safepoint (normal execution)\n\nVM Mutex/Monitor currently owned by a thread: None\n\nHeap:\n PSYoungGen      total 1024K, used 560K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\n  eden space 512K, 12% used [0x000000076b180000,0x000000076b190390,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\n  to   space 512K, 0% used [0x000000076b300000,0x000000076b300000,0x000000076b380000)\n ParOldGen       total 260608K, used 124K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c141f010,0x00000006d1280000)\n Metaspace       used 5180K, capacity 5314K, committed 5632K, reserved 1056768K\n  class space    used 642K, capacity 692K, committed 768K, reserved 1048576K\n\nCard table byte_map: [0x0000000011540000,0x0000000011d40000] byte_map_base: 0x000000000df36000\n\nMarking Bits: (ParMarkBitMap*) 0x0000000065c612b0\n Begin Bits: [0x0000000012a90000, 0x0000000016a40000)\n End Bits:   [0x0000000016a40000, 0x000000001a9f0000)\n\nPolling page: 0x0000000000720000\n\nCodeCache: size=245760Kb used=1436Kb max_used=1436Kb free=244323Kb\n bounds [0x0000000002180000, 0x00000000023f0000, 0x0000000011180000]\n total_blobs=498 nmethods=178 adapters=234\n compilation: enabled\n\nCompilation events (10 events):\nEvent: 0.176 Thread 0x000000001dc16000  173       3       java.lang.String::indexOf (166 bytes)\nEvent: 0.176 Thread 0x000000001dc16000 nmethod 173 0x00000000022e2650 code [0x00000000022e2800, 0x00000000022e2e50]\nEvent: 0.176 Thread 0x000000001dc16000  174       3       jdk.internal.org.objectweb.asm.Type::getType (269 bytes)\nEvent: 0.176 Thread 0x000000001dc16000 nmethod 174 0x00000000022e3210 code [0x00000000022e3400, 0x00000000022e3cd0]\nEvent: 0.176 Thread 0x000000001dc16000  176       3       sun.invoke.util.Wrapper::hashChar (9 bytes)\nEvent: 0.176 Thread 0x000000001dc16000 nmethod 176 0x00000000022e40d0 code [0x00000000022e4220, 0x00000000022e4370]\nEvent: 0.180 Thread 0x000000001dc16000  177       3       java.util.HashMap::putVal (300 bytes)\nEvent: 0.181 Thread 0x000000001dc16000 nmethod 177 0x00000000022e4650 code [0x00000000022e48c0, 0x00000000022e5b98]\nEvent: 0.181 Thread 0x000000001dc16000  178       3       java.util.HashMap::put (13 bytes)\nEvent: 0.181 Thread 0x000000001dc16000 nmethod 178 0x00000000022e6250 code [0x00000000022e63e0, 0x00000000022e6798]\n\nGC Heap History (6 events):\nEvent: 0.072 GC heap before\n{Heap before GC invocations=1 (full 0):\n PSYoungGen      total 1024K, used 512K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\n  eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\n  from space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\n  to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\n ParOldGen       total 260608K, used 0K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1400000,0x00000006d1280000)\n Metaspace       used 3127K, capacity 4522K, committed 4864K, reserved 1056768K\n  class space    used 378K, capacity 418K, committed 512K, reserved 1048576K\nEvent: 0.072 GC heap after\nHeap after GC invocations=1 (full 0):\n PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\n  eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\n  to   space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\n ParOldGen       total 260608K, used 8K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1402000,0x00000006d1280000)\n Metaspace       used 3127K, capacity 4522K, committed 4864K, reserved 1056768K\n  class space    used 378K, capacity 418K, committed 512K, reserved 1048576K\n}\nEvent: 0.110 GC heap before\n{Heap before GC invocations=2 (full 0):\n PSYoungGen      total 1024K, used 1008K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\n  eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\n  to   space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\n ParOldGen       total 260608K, used 8K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1402000,0x00000006d1280000)\n Metaspace       used 4604K, capacity 4724K, committed 4992K, reserved 1056768K\n  class space    used 555K, capacity 601K, committed 640K, reserved 1048576K\nEvent: 0.111 GC heap after\nHeap after GC invocations=2 (full 0):\n PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\n  eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b280000,0x000000076b2fc010,0x000000076b300000)\n  to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\n ParOldGen       total 260608K, used 76K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1413010,0x00000006d1280000)\n Metaspace       used 4604K, capacity 4724K, committed 4992K, reserved 1056768K\n  class space    used 555K, capacity 601K, committed 640K, reserved 1048576K\n}\nEvent: 0.178 GC heap before\n{Heap before GC invocations=3 (full 0):\n PSYoungGen      total 1024K, used 1008K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\n  eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b280000,0x000000076b2fc010,0x000000076b300000)\n  to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\n ParOldGen       total 260608K, used 76K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1413010,0x00000006d1280000)\n Metaspace       used 4956K, capacity 5026K, committed 5376K, reserved 1056768K\n  class space    used 614K, capacity 660K, committed 768K, reserved 1048576K\nEvent: 0.179 GC heap after\nHeap after GC invocations=3 (full 0):\n PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\n  eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\n  to   space 512K, 0% used [0x000000076b300000,0x000000076b300000,0x000000076b380000)\n ParOldGen       total 260608K, used 124K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c141f010,0x00000006d1280000)\n Metaspace       used 4956K, capacity 5026K, committed 5376K, reserved 1056768K\n  class space    used 614K, capacity 660K, committed 768K, reserved 1048576K\n}\n\nDeoptimization events (0 events):\nNo events\n\nInternal exceptions (10 events):\nEvent: 0.075 Thread 0x0000000002080800 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x000000076b18a008) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\nEvent: 0.077 Thread 0x0000000002080800 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x000000076b18c030) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\nEvent: 0.077 Thread 0x0000000002080800 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x000000076b18d238) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\nEvent: 0.081 Thread 0x0000000002080800 Exception &lt;a 'java/io/FileNotFoundException'&gt; (0x000000076b191668) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 716]\nEvent: 0.085 Thread 0x0000000002080800 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x000000076b19bbf0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\nEvent: 0.102 Thread 0x0000000002080800 Exception &lt;a 'java/lang/ClassNotFoundException': java/lang/Null&gt; (0x000000076b1c0b90) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\classfile\\systemDictionary.cpp, line 202]\nEvent: 0.113 Thread 0x0000000002080800 Exception &lt;a 'java/lang/NoSuchFieldError': method resolution failed&gt; (0x000000076b198ed0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\nEvent: 0.115 Thread 0x0000000002080800 Exception &lt;a 'java/lang/NoSuchFieldError': method resolution failed&gt; (0x000000076b1a7aa8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\nEvent: 0.116 Thread 0x0000000002080800 Exception &lt;a 'java/lang/NoSuchFieldError': method resolution failed&gt; (0x000000076b1ab3c8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\nEvent: 0.183 Thread 0x000000001dfbe000 Exception &lt;a 'java/io/FileNotFoundException'&gt; (0x000000076b18db60) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 716]\n\nEvents (10 events):\nEvent: 0.199 loading class sun/java2d/pipe/RenderQueue done\nEvent: 0.199 loading class sun/java2d/d3d/D3DRenderQueue done\nEvent: 0.199 loading class sun/java2d/pipe/RenderBuffer\nEvent: 0.199 loading class sun/java2d/pipe/RenderBuffer done\nEvent: 0.199 loading class sun/java2d/d3d/D3DRenderQueue$1\nEvent: 0.199 loading class sun/java2d/d3d/D3DRenderQueue$1 done\nEvent: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1Result\nEvent: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1Result done\nEvent: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1\nEvent: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1 done\n\n\nDynamic libraries:\n0x00007ff7fe8b0000 - 0x00007ff7fe8e4000     C:\\Program Files\\Java\\jre8\\bin\\javaw.exe\n0x00007ffec5e40000 - 0x00007ffec5fea000     C:\\Windows\\SYSTEM32\\ntdll.dll\n0x00007ffec55e0000 - 0x00007ffec571a000     C:\\Windows\\system32\\KERNEL32.DLL\n0x00007ffec32d0000 - 0x00007ffec33df000     C:\\Windows\\system32\\KERNELBASE.dll\n0x00007ffec13b0000 - 0x00007ffec1438000     C:\\Windows\\system32\\apphelp.dll\n0x00007ffeb9ee0000 - 0x00007ffeb9f2f000     C:\\Windows\\AppPatch\\AppPatch64\\AcGenral.DLL\n0x00007ffec5140000 - 0x00007ffec51e7000     C:\\Windows\\system32\\msvcrt.dll\n0x00007ffec2ff0000 - 0x00007ffec301b000     C:\\Windows\\SYSTEM32\\SspiCli.dll\n0x00007ffec3800000 - 0x00007ffec3851000     C:\\Windows\\system32\\SHLWAPI.dll\n0x00007ffec4f60000 - 0x00007ffec50d1000     C:\\Windows\\system32\\USER32.dll\n0x00007ffec5b80000 - 0x00007ffec5cf8000     C:\\Windows\\system32\\ole32.dll\n0x00007ffec3860000 - 0x00007ffec4c80000     C:\\Windows\\system32\\SHELL32.dll\n0x00007ffec24d0000 - 0x00007ffec24ee000     C:\\Windows\\SYSTEM32\\USERENV.dll\n0x00007ffec58f0000 - 0x00007ffec5995000     C:\\Windows\\system32\\ADVAPI32.dll\n0x00007ffebcc70000 - 0x00007ffebcc8b000     C:\\Windows\\SYSTEM32\\MPR.dll\n0x00007ffec36c0000 - 0x00007ffec37f7000     C:\\Windows\\system32\\RPCRT4.dll\n0x00007ffec5890000 - 0x00007ffec58e7000     C:\\Windows\\SYSTEM32\\sechost.dll\n0x00007ffec59a0000 - 0x00007ffec5b76000     C:\\Windows\\SYSTEM32\\combase.dll\n0x00007ffec5390000 - 0x00007ffec54d4000     C:\\Windows\\system32\\GDI32.dll\n0x00007ffec31b0000 - 0x00007ffec31c4000     C:\\Windows\\SYSTEM32\\profapi.dll\n0x00007ffec2150000 - 0x00007ffec21ef000     C:\\Windows\\SYSTEM32\\SHCORE.dll\n0x00007ffec55a0000 - 0x00007ffec55d4000     C:\\Windows\\system32\\IMM32.DLL\n0x00007ffec5d00000 - 0x00007ffec5e39000     C:\\Windows\\system32\\MSCTF.dll\n0x00007ffec2720000 - 0x00007ffec297a000     C:\\Windows\\WinSxS\\amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.9600.17031_none_6242a4b3ecbb55a1\\COMCTL32.dll\n0x00000000667d0000 - 0x00000000668a2000     C:\\Program Files\\Java\\jre8\\bin\\msvcr100.dll\n0x00000000654b0000 - 0x0000000065cda000     C:\\Program Files\\Java\\jre8\\bin\\server\\jvm.dll\n0x00007ffec1cc0000 - 0x00007ffec1cc9000     C:\\Windows\\SYSTEM32\\WSOCK32.dll\n0x00007ffebbf40000 - 0x00007ffebbf5f000     C:\\Windows\\SYSTEM32\\WINMM.dll\n0x00007ffec4c80000 - 0x00007ffec4c87000     C:\\Windows\\system32\\PSAPI.DLL\n0x00007ffec5830000 - 0x00007ffec5888000     C:\\Windows\\system32\\WS2_32.dll\n0x00007ffebbf10000 - 0x00007ffebbf3a000     C:\\Windows\\SYSTEM32\\WINMMBASE.dll\n0x00007ffec5720000 - 0x00007ffec5729000     C:\\Windows\\system32\\NSI.dll\n0x00007ffec3670000 - 0x00007ffec36ba000     C:\\Windows\\SYSTEM32\\cfgmgr32.dll\n0x00007ffec1600000 - 0x00007ffec1626000     C:\\Windows\\SYSTEM32\\DEVOBJ.dll\n0x00000000667c0000 - 0x00000000667cf000     C:\\Program Files\\Java\\jre8\\bin\\verify.dll\n0x0000000066790000 - 0x00000000667b8000     C:\\Program Files\\Java\\jre8\\bin\\java.dll\n0x0000000066770000 - 0x0000000066786000     C:\\Program Files\\Java\\jre8\\bin\\zip.dll\n0x00000000665d0000 - 0x0000000066766000     C:\\Program Files\\Java\\jre8\\bin\\awt.dll\n0x00007ffec54e0000 - 0x00007ffec5597000     C:\\Windows\\system32\\OLEAUT32.dll\n0x00007ffec1480000 - 0x00007ffec15a1000     C:\\Windows\\system32\\uxtheme.dll\n0x0000000180000000 - 0x000000018006b000     C:\\Program Files (x86)\\RivaTuner Statistics Server\\RTSSHooks64.dll\n0x00000000683d0000 - 0x0000000068473000     C:\\Windows\\WinSxS\\amd64_microsoft.vc90.crt_1fc8b3b9a1e18e3b_9.0.30729.8387_none_08e793bfa83a89b5\\MSVCR90.dll\n0x00007ffebfcd0000 - 0x00007ffebfcf0000     C:\\Windows\\system32\\dwmapi.dll\n0x00007ffec13a0000 - 0x00007ffec13aa000     C:\\Windows\\SYSTEM32\\kernel.appcore.dll\n0x00007ffec3080000 - 0x00007ffec308a000     C:\\Windows\\SYSTEM32\\CRYPTBASE.dll\n0x00007ffec3020000 - 0x00007ffec3080000     C:\\Windows\\SYSTEM32\\bcryptPrimitives.dll\n0x00007ffeb2140000 - 0x00007ffeb2348000     C:\\Windows\\system32\\d3d9.dll\n0x00007ffec18f0000 - 0x00007ffec18fa000     C:\\Windows\\SYSTEM32\\VERSION.dll\n0x00007ffec08b0000 - 0x00007ffec09fb000     C:\\Windows\\SYSTEM32\\aticfx64.dll\n0x00007ffeb9080000 - 0x00007ffeb90a1000     C:\\Windows\\SYSTEM32\\atiu9p64.dll\n0x00007ffeb14c0000 - 0x00007ffeb1c61000     C:\\Windows\\SYSTEM32\\atiumd64.dll\n0x0000000066db0000 - 0x00000000674e7000     C:\\Windows\\SYSTEM32\\atiumd6a.dll\n0x00007ffeb3720000 - 0x00007ffeb38a8000     C:\\Windows\\SYSTEM32\\dbghelp.dll\n\nVM Arguments:\njvm_args: -Dfile.encoding=Cp1252 \njava_command: Main\njava_class_path (initial): C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse\\workspace\\CS PROGRAM FINAL\\bin\nLauncher Type: SUN_STANDARD\n\nEnvironment Variables:\nPATH=C:/Program Files/Java/jdk1.8.0_11/jre/bin/server;C:/Program Files/Java/jdk1.8.0_11/jre/bin;C:/Program Files/Java/jdk1.8.0_11/jre/lib/amd64;C:\\Program Files (x86)\\Java\\jdk1.7.0_55\\bin\\javaw.exe;C:\\Python34\\;C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse;\nUSERNAME=Adam\nOS=Windows_NT\nPROCESSOR_IDENTIFIER=Intel64 Family 6 Model 62 Stepping 4, GenuineIntel\n\n\n\n---------------  S Y S T E M  ---------------\n\nOS: Windows 8.1 , 64 bit Build 9600 \n\nCPU:total 8 (4 cores per cpu, 2 threads per core) family 6 model 62 stepping 4, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1, sse4.2, popcnt, avx, aes, clmul, erms, ht, tsc, tscinvbit\n\nMemory: 4k page, physical 16689944k(13276820k free), swap 33073944k(28367744k free)\n\nvm_info: Java HotSpot(TM) 64-Bit Server VM (25.11-b03) for windows-amd64 JRE (1.8.0_11-b12), built on Jun 16 2014 20:57:32 by \"java_re\" with MS VC++ 10.0 (VS2010)\n\ntime: Wed Aug 20 14:55:53 2014\nelapsed time: 0 seconds\n</code></pre>\n\n<p>Could this be a hardware problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1679345686,"post_id":75793273,"comment_id":133702465,"body_markdown":"Please post your `pom.xml` or `build.gradle`, your `application.properties` or `application.yaml` and your main class. Those are much more relevant to your question than your batch configuration.","body":"Please post your <code>pom.xml</code> or <code>build.gradle</code>, your <code>application.properties</code> or <code>application.yaml</code> and your main class. Those are much more relevant to your question than your batch configuration."},{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1679345818,"post_id":75793273,"comment_id":133702485,"body_markdown":"Do you have `spring-boot-starter-web` on the classpath? If yes and if you have not explicitly disabled the web server, it should start and keep the app running.","body":"Do you have <code>spring-boot-starter-web</code> on the classpath? If yes and if you have not explicitly disabled the web server, it should start and keep the app running."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1679380377,"post_id":75793273,"comment_id":133706752,"body_markdown":"Why should it be running? There is nothing web related in there nor in your startup logs. So you don&#39;t have anything web related in your dependencies.","body":"Why should it be running? There is nothing web related in there nor in your startup logs. So you don&#39;t have anything web related in your dependencies."}],"answers":[{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679386600,"creation_date":1679386600,"answer_id":75798721,"question_id":75793273,"body_markdown":"remove spring-boot-starter-web dependency from your POM, web will start the web container and keep running.\r\n\r\nhere is the example Project.\r\n\r\n    curl https://start.spring.io/starter.tgz -d dependencies=lombok,batch,h2 -d type=maven-project | tar -xzvf -","title":"Stopping Spring Batch 5.0 from terminating application after all jobs are successfully finished without default configuration","body":"<p>remove spring-boot-starter-web dependency from your POM, web will start the web container and keep running.</p>\n<p>here is the example Project.</p>\n<pre><code>curl https://start.spring.io/starter.tgz -d dependencies=lombok,batch,h2 -d type=maven-project | tar -xzvf -\n</code></pre>\n"}],"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679386600,"creation_date":1679332085,"question_id":75793273,"body_markdown":"I am trying to create do a simple job that consists of reading lines from a csv file, converting them to a data model class and then saving them.\r\nThe problem is that the Tomcat server does not start and the web application does not continue to run, but rather the application closes after the batch process is successful.\r\n\r\nWhat I am currently trying to keep the application running after the batch job was successful and continue running the web application.\r\n\r\nI am not using any pre-configuration either by annotating the BatchConfiguration with `@EnableBatchConfiguration` (which is deprecated) or by extending `DefaultBatchConfiguration`\r\nAnd here is the code from my own configuration:\r\n```java\r\n@Configuration\r\npublic class EplMatchesBatchConfig {\r\n\r\n    private final String[] PARSED_MATCH_INPUT_FIELD = new String[]{&quot;link_match&quot;, &quot;season&quot;, &quot;date&quot;, &quot;home_team&quot;, &quot;away_team&quot;, &quot;result_full&quot;, &quot;result_ht&quot;, &quot;home_clearances&quot;, &quot;home_corners&quot;, &quot;home_fouls_conceded&quot;, &quot;home_offsides&quot;, &quot;home_passes&quot;, &quot;home_possession&quot;, &quot;home_red_cards&quot;, &quot;home_shots&quot;, &quot;home_shots_on_target&quot;, &quot;home_tackles&quot;, &quot;home_touches&quot;, &quot;home_yellow_cards&quot;, &quot;away_clearances&quot;, &quot;away_corners&quot;, &quot;away_fouls_conceded&quot;, &quot;away_offsides&quot;, &quot;away_passes&quot;, &quot;away_possession&quot;, &quot;away_red_cards&quot;, &quot;away_shots&quot;, &quot;away_shots_on_target&quot;, &quot;away_tackles&quot;, &quot;away_touches&quot;, &quot;away_yellow_cards&quot;, &quot;goal_home_ft&quot;, &quot;goal_away_ft&quot;, &quot;sg_match_ft&quot;, &quot;goal_home_ht&quot;, &quot;goal_away_ht&quot;, &quot;sg_match_ht&quot;,};\r\n    @Autowired\r\n    private JpaTransactionManager transactionManager;\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Bean\r\n    public JobRepository jobRepository2() throws Exception {\r\n        JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\r\n        factory.setDataSource(dataSource);\r\n        factory.setTransactionManager(transactionManager);\r\n        factory.setIncrementerFactory(new DefaultDataFieldMaxValueIncrementerFactory(dataSource));\r\n        factory.setIsolationLevelForCreate(&quot;ISOLATION_READ_COMMITTED&quot;);\r\n        factory.setTablePrefix(&quot;BATCH_&quot;);\r\n        factory.afterPropertiesSet();\r\n        return factory.getObject();\r\n    }\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;ParsedMatchInput&gt; reader() {\r\n        var tokenizer = new DelimitedLineTokenizer();\r\n        tokenizer.setDelimiter(&quot;;&quot;);\r\n        tokenizer.setNames(PARSED_MATCH_INPUT_FIELD);\r\n        var lineMapper = new DefaultLineMapper&lt;ParsedMatchInput&gt;();\r\n        lineMapper.setLineTokenizer(tokenizer);\r\n        // https://stackoverflow.com/questions/66234905/reading-csv-data-in-spring-batch-creating-a-custom-linemapper\r\n        lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;&gt;() {{\r\n            setTargetType(ParsedMatchInput.class);\r\n        }});\r\n        return new FlatFileItemReaderBuilder&lt;ParsedMatchInput&gt;()\r\n                .name(&quot;matches&quot;)\r\n                // https://stackoverflow.com/questions/46403159/spring-batch-input-resource-must-exist-reader-is-in-strict-mode-error\r\n                .resource(new PathResource(&quot;./src/main/resources/assets/dataset/eplmatches2.txt&quot;))\r\n                .lineMapper(lineMapper)\r\n                .linesToSkip(1)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public ItemProcessor&lt;ParsedMatchInput, Match&gt; processor() {\r\n        return new MatchDataProcessor();\r\n    }\r\n\r\n    @Bean\r\n    public Job eplMatchesBatchJob(Step step1) throws Exception {\r\n        return new JobBuilder(&quot;EPL Parser&quot;, jobRepository2())\r\n                .incrementer(new RunIdIncrementer())\r\n                .flow(step1)\r\n                .end()\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step step1(JpaItemWriter&lt;Match&gt; writer) throws Exception {\r\n        return new StepBuilder(&quot;First and Final Step&quot;, jobRepository2())\r\n                .&lt;ParsedMatchInput, Match&gt;chunk(10, transactionManager)\r\n                .reader(reader())\r\n                .processor(processor())\r\n                .writer(writer)\r\n                .build();\r\n    }\r\n\r\n}\r\n\r\n```\r\nHere is the writer that I have customized\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class MatchWriter extends JpaItemWriter&lt;Match&gt; {\r\n\r\n    private final TeamRepository teamRepository;\r\n    private final MatchRepository matchRepository;\r\n    private final StatsRepository statsRepository;\r\n\r\n\r\n    MatchWriter(LocalContainerEntityManagerFactoryBean entityManagerFactory, MatchRepository matchRepository, StatsRepository statsRepository, TeamRepository teamRepository) {\r\n        super();\r\n        super.setEntityManagerFactory(Objects.requireNonNull(entityManagerFactory.getObject()));\r\n        this.matchRepository = matchRepository;\r\n        this.statsRepository = statsRepository;\r\n        this.teamRepository = teamRepository;\r\n    }\r\n\r\n    @Override\r\n    public void write(Chunk&lt;? extends Match&gt; items) {\r\n        super.write(items);\r\n    }\r\n\r\n    @Override\r\n    protected void doWrite(EntityManager entityManager, Chunk&lt;? extends Match&gt; items) {\r\n\r\n        items.forEach(match -&gt; {\r\n\r\n            var matchKey = match.getMatchKey();\r\n//            log.info(matchKey.toString());\r\n            var homeTeam = match.getMatchKey().getHomeTeam();\r\n            var awayTeam = match.getMatchKey().getAwayTeam();\r\n            this.teamRepository.save(homeTeam);\r\n            this.teamRepository.save(awayTeam);\r\n            this.teamRepository.flush();\r\n            var homeTeamStats = match.getHomeTeamStats();\r\n            homeTeamStats.setMatchKey(matchKey);\r\n            this.statsRepository.save(match.getHomeTeamStats());\r\n\r\n            var awayTeamStats = match.getAwayTeamStats();\r\n            awayTeamStats.setMatchKey(matchKey);\r\n            this.statsRepository.save(match.getAwayTeamStats());\r\n\r\n            this.matchRepository.save(match);\r\n\r\n        });\r\n    }\r\n}\r\n\r\n```\r\nThis is the output that I am getting from the console\r\n```\r\n2023-03-20T18:05:51.685+01:00  INFO 51001 --- [  restartedMain] i.h.fergietime.FergieTimeApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-20T18:05:51.703+01:00  INFO 51001 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-03-20T18:05:52.024+01:00  INFO 51001 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-03-20T18:05:52.056+01:00  INFO 51001 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.\r\n2023-03-20T18:05:52.236+01:00  INFO 51001 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-03-20T18:05:52.258+01:00  INFO 51001 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-03-20T18:05:52.453+01:00  INFO 51001 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n2023-03-20T18:05:52.796+01:00  INFO 51001 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-03-20T18:05:52.800+01:00  INFO 51001 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-03-20T18:05:52.934+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: POSTGRES\r\n2023-03-20T18:05:53.171+01:00  INFO 51001 --- [  restartedMain] efaultSchemaResourceGraphQlSourceBuilder : Loaded 1 resource(s) in the GraphQL schema.\r\n2023-03-20T18:05:53.285+01:00  INFO 51001 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-03-20T18:05:53.307+01:00  INFO 51001 --- [  restartedMain] i.h.fergietime.FergieTimeApplication     : Started FergieTimeApplication in 1.779 seconds (process running for 2.248)\r\n2023-03-20T18:05:53.307+01:00  INFO 51001 --- [  restartedMain] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\r\n2023-03-20T18:05:53.374+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=EPL Parser]] launched with the following parameters: [{&#39;run.id&#39;:&#39;{value=36, type=class java.lang.Long, identifying=true}&#39;}]\r\n2023-03-20T18:05:53.418+01:00  INFO 51001 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [First and Final Step]\r\n2023-03-20T18:06:06.303+01:00  INFO 51001 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [First and Final Step] executed in 12s883ms\r\n2023-03-20T18:06:06.317+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=EPL Parser]] completed with the following parameters: [{&#39;run.id&#39;:&#39;{value=36, type=class java.lang.Long, identifying=true}&#39;}] and the following status: [COMPLETED] in 12s930ms\r\n2023-03-20T18:06:06.331+01:00  INFO 51001 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nProcess finished with exit code 0\r\n```","title":"Stopping Spring Batch 5.0 from terminating application after all jobs are successfully finished without default configuration","body":"<p>I am trying to create do a simple job that consists of reading lines from a csv file, converting them to a data model class and then saving them.\nThe problem is that the Tomcat server does not start and the web application does not continue to run, but rather the application closes after the batch process is successful.</p>\n<p>What I am currently trying to keep the application running after the batch job was successful and continue running the web application.</p>\n<p>I am not using any pre-configuration either by annotating the BatchConfiguration with <code>@EnableBatchConfiguration</code> (which is deprecated) or by extending <code>DefaultBatchConfiguration</code>\nAnd here is the code from my own configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class EplMatchesBatchConfig {\n\n    private final String[] PARSED_MATCH_INPUT_FIELD = new String[]{&quot;link_match&quot;, &quot;season&quot;, &quot;date&quot;, &quot;home_team&quot;, &quot;away_team&quot;, &quot;result_full&quot;, &quot;result_ht&quot;, &quot;home_clearances&quot;, &quot;home_corners&quot;, &quot;home_fouls_conceded&quot;, &quot;home_offsides&quot;, &quot;home_passes&quot;, &quot;home_possession&quot;, &quot;home_red_cards&quot;, &quot;home_shots&quot;, &quot;home_shots_on_target&quot;, &quot;home_tackles&quot;, &quot;home_touches&quot;, &quot;home_yellow_cards&quot;, &quot;away_clearances&quot;, &quot;away_corners&quot;, &quot;away_fouls_conceded&quot;, &quot;away_offsides&quot;, &quot;away_passes&quot;, &quot;away_possession&quot;, &quot;away_red_cards&quot;, &quot;away_shots&quot;, &quot;away_shots_on_target&quot;, &quot;away_tackles&quot;, &quot;away_touches&quot;, &quot;away_yellow_cards&quot;, &quot;goal_home_ft&quot;, &quot;goal_away_ft&quot;, &quot;sg_match_ft&quot;, &quot;goal_home_ht&quot;, &quot;goal_away_ht&quot;, &quot;sg_match_ht&quot;,};\n    @Autowired\n    private JpaTransactionManager transactionManager;\n    @Autowired\n    private DataSource dataSource;\n\n    @Bean\n    public JobRepository jobRepository2() throws Exception {\n        JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\n        factory.setDataSource(dataSource);\n        factory.setTransactionManager(transactionManager);\n        factory.setIncrementerFactory(new DefaultDataFieldMaxValueIncrementerFactory(dataSource));\n        factory.setIsolationLevelForCreate(&quot;ISOLATION_READ_COMMITTED&quot;);\n        factory.setTablePrefix(&quot;BATCH_&quot;);\n        factory.afterPropertiesSet();\n        return factory.getObject();\n    }\n\n    @Bean\n    public FlatFileItemReader&lt;ParsedMatchInput&gt; reader() {\n        var tokenizer = new DelimitedLineTokenizer();\n        tokenizer.setDelimiter(&quot;;&quot;);\n        tokenizer.setNames(PARSED_MATCH_INPUT_FIELD);\n        var lineMapper = new DefaultLineMapper&lt;ParsedMatchInput&gt;();\n        lineMapper.setLineTokenizer(tokenizer);\n        // https://stackoverflow.com/questions/66234905/reading-csv-data-in-spring-batch-creating-a-custom-linemapper\n        lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;&gt;() {{\n            setTargetType(ParsedMatchInput.class);\n        }});\n        return new FlatFileItemReaderBuilder&lt;ParsedMatchInput&gt;()\n                .name(&quot;matches&quot;)\n                // https://stackoverflow.com/questions/46403159/spring-batch-input-resource-must-exist-reader-is-in-strict-mode-error\n                .resource(new PathResource(&quot;./src/main/resources/assets/dataset/eplmatches2.txt&quot;))\n                .lineMapper(lineMapper)\n                .linesToSkip(1)\n                .build();\n    }\n\n    @Bean\n    public ItemProcessor&lt;ParsedMatchInput, Match&gt; processor() {\n        return new MatchDataProcessor();\n    }\n\n    @Bean\n    public Job eplMatchesBatchJob(Step step1) throws Exception {\n        return new JobBuilder(&quot;EPL Parser&quot;, jobRepository2())\n                .incrementer(new RunIdIncrementer())\n                .flow(step1)\n                .end()\n                .build();\n    }\n\n    @Bean\n    public Step step1(JpaItemWriter&lt;Match&gt; writer) throws Exception {\n        return new StepBuilder(&quot;First and Final Step&quot;, jobRepository2())\n                .&lt;ParsedMatchInput, Match&gt;chunk(10, transactionManager)\n                .reader(reader())\n                .processor(processor())\n                .writer(writer)\n                .build();\n    }\n\n}\n\n</code></pre>\n<p>Here is the writer that I have customized</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class MatchWriter extends JpaItemWriter&lt;Match&gt; {\n\n    private final TeamRepository teamRepository;\n    private final MatchRepository matchRepository;\n    private final StatsRepository statsRepository;\n\n\n    MatchWriter(LocalContainerEntityManagerFactoryBean entityManagerFactory, MatchRepository matchRepository, StatsRepository statsRepository, TeamRepository teamRepository) {\n        super();\n        super.setEntityManagerFactory(Objects.requireNonNull(entityManagerFactory.getObject()));\n        this.matchRepository = matchRepository;\n        this.statsRepository = statsRepository;\n        this.teamRepository = teamRepository;\n    }\n\n    @Override\n    public void write(Chunk&lt;? extends Match&gt; items) {\n        super.write(items);\n    }\n\n    @Override\n    protected void doWrite(EntityManager entityManager, Chunk&lt;? extends Match&gt; items) {\n\n        items.forEach(match -&gt; {\n\n            var matchKey = match.getMatchKey();\n//            log.info(matchKey.toString());\n            var homeTeam = match.getMatchKey().getHomeTeam();\n            var awayTeam = match.getMatchKey().getAwayTeam();\n            this.teamRepository.save(homeTeam);\n            this.teamRepository.save(awayTeam);\n            this.teamRepository.flush();\n            var homeTeamStats = match.getHomeTeamStats();\n            homeTeamStats.setMatchKey(matchKey);\n            this.statsRepository.save(match.getHomeTeamStats());\n\n            var awayTeamStats = match.getAwayTeamStats();\n            awayTeamStats.setMatchKey(matchKey);\n            this.statsRepository.save(match.getAwayTeamStats());\n\n            this.matchRepository.save(match);\n\n        });\n    }\n}\n\n</code></pre>\n<p>This is the output that I am getting from the console</p>\n<pre><code>2023-03-20T18:05:51.685+01:00  INFO 51001 --- [  restartedMain] i.h.fergietime.FergieTimeApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-20T18:05:51.703+01:00  INFO 51001 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-03-20T18:05:52.024+01:00  INFO 51001 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-03-20T18:05:52.056+01:00  INFO 51001 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.\n2023-03-20T18:05:52.236+01:00  INFO 51001 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-03-20T18:05:52.258+01:00  INFO 51001 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-03-20T18:05:52.453+01:00  INFO 51001 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2023-03-20T18:05:52.796+01:00  INFO 51001 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-03-20T18:05:52.800+01:00  INFO 51001 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-03-20T18:05:52.934+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: POSTGRES\n2023-03-20T18:05:53.171+01:00  INFO 51001 --- [  restartedMain] efaultSchemaResourceGraphQlSourceBuilder : Loaded 1 resource(s) in the GraphQL schema.\n2023-03-20T18:05:53.285+01:00  INFO 51001 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-03-20T18:05:53.307+01:00  INFO 51001 --- [  restartedMain] i.h.fergietime.FergieTimeApplication     : Started FergieTimeApplication in 1.779 seconds (process running for 2.248)\n2023-03-20T18:05:53.307+01:00  INFO 51001 --- [  restartedMain] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\n2023-03-20T18:05:53.374+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=EPL Parser]] launched with the following parameters: [{'run.id':'{value=36, type=class java.lang.Long, identifying=true}'}]\n2023-03-20T18:05:53.418+01:00  INFO 51001 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [First and Final Step]\n2023-03-20T18:06:06.303+01:00  INFO 51001 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [First and Final Step] executed in 12s883ms\n2023-03-20T18:06:06.317+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=EPL Parser]] completed with the following parameters: [{'run.id':'{value=36, type=class java.lang.Long, identifying=true}'}] and the following status: [COMPLETED] in 12s930ms\n2023-03-20T18:06:06.331+01:00  INFO 51001 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":20597863,"reputation":113,"user_id":15119767,"display_name":"REInVent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679385999,"creation_date":1679385999,"answer_id":75798632,"question_id":75797389,"body_markdown":"You&#39;ll be looking for a foreground service...\r\n\r\nhere is a basic one to get you started, feel free to ask me any questions.\r\n\r\nhttps://github.com/REInVent650/foreground-service-base","title":"BLE data receiving android app through BLE notification","body":"<p>You'll be looking for a foreground service...</p>\n<p>here is a basic one to get you started, feel free to ask me any questions.</p>\n<p><a href=\"https://github.com/REInVent650/foreground-service-base\" rel=\"nofollow noreferrer\">https://github.com/REInVent650/foreground-service-base</a></p>\n"}],"owner":{"account_id":28071967,"reputation":1,"user_id":21444405,"display_name":"Anik Sengupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679385999,"creation_date":1679373868,"question_id":75797389,"body_markdown":"I have a BLE device which sends out data continuously as a notification. I am very new to android app development, I just installed android studio today.\r\n\r\nI need to develop an app that receives such data and stores in a CSV file or whatever or even better if its stores in the cloud server. Is there any example which I can start from?\r\n\r\nI tried getting build in project from android example but those are quite different from my requirements.","title":"BLE data receiving android app through BLE notification","body":"<p>I have a BLE device which sends out data continuously as a notification. I am very new to android app development, I just installed android studio today.</p>\n<p>I need to develop an app that receives such data and stores in a CSV file or whatever or even better if its stores in the cloud server. Is there any example which I can start from?</p>\n<p>I tried getting build in project from android example but those are quite different from my requirements.</p>\n"},{"tags":["java","json","jolt"],"comments":[{"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"score":0,"creation_date":1616836672,"post_id":66805158,"comment_id":118131890,"body_markdown":"Is changing the camel case to the snake case of the `id` within the `list` (`contactId -&gt; contact_id`, `contactType -&gt; contact_type`) required?","body":"Is changing the camel case to the snake case of the <code>id</code> within the <code>list</code> (<code>contactId -&gt; contact_id</code>, <code>contactType -&gt; contact_type</code>) required?"}],"answers":[{"tags":[],"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617012425,"creation_date":1616837195,"answer_id":66829781,"question_id":66805158,"body_markdown":"If leaving the camel case instead of the snake case for the ouptut is not a problem, this spec:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;testDetails&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;*&quot;: &quot;&amp;.values&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;$&quot;: &quot;&amp;.id&quot;,\r\n        &quot;*&quot;: &quot;&amp;1.&amp;&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;list.[#1]&quot;,\r\n      &quot;#test_details&quot;: &quot;id&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;list&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;values&quot;: &quot;=join(&#39;,&#39;,@(1,values))&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nproduces the output like below:\r\n```json\r\n{\r\n  &quot;id&quot; : &quot;test_details&quot;,\r\n  &quot;list&quot; : [ {\r\n    &quot;id&quot; : &quot;contactId&quot;,\r\n    &quot;values&quot; : &quot;941, 1041&quot;\r\n  }, {\r\n    &quot;id&quot; : &quot;contactType&quot;,\r\n    &quot;values&quot; : &quot;DM, CM&quot;\r\n  } ]\r\n}\r\n```\r\nTry to examine the output by gradually adding the &quot;shift&quot; operations\r\n\r\nAlso, have a look at the [javadocs of the shift operation](https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/Shiftr.java) and [the join function example](https://jolt-demo.appspot.com/#modify-stringFunctions)\r\n\r\n---\r\n\r\nedit: if you insist on the snake case, add this shift operation at the beginning of the spec:\r\n```json\r\n{\r\n  &quot;operation&quot;: &quot;shift&quot;,\r\n  &quot;spec&quot;: {\r\n    &quot;data&quot;: {\r\n      &quot;testDetails&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;contactId&quot;: &quot;&amp;3.&amp;2[#2].contact_id&quot;,\r\n          &quot;contactType&quot;: &quot;&amp;3.&amp;2[#2].concact_type&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Jolt Conversion need to convert list of object to id value pairs with comma separated","body":"<p>If leaving the camel case instead of the snake case for the ouptut is not a problem, this spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;testDetails&quot;: {\n          &quot;*&quot;: {\n            &quot;*&quot;: &quot;&amp;.values&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;$&quot;: &quot;&amp;.id&quot;,\n        &quot;*&quot;: &quot;&amp;1.&amp;&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;list.[#1]&quot;,\n      &quot;#test_details&quot;: &quot;id&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;list&quot;: {\n        &quot;*&quot;: {\n          &quot;values&quot;: &quot;=join(',',@(1,values))&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>produces the output like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot; : &quot;test_details&quot;,\n  &quot;list&quot; : [ {\n    &quot;id&quot; : &quot;contactId&quot;,\n    &quot;values&quot; : &quot;941, 1041&quot;\n  }, {\n    &quot;id&quot; : &quot;contactType&quot;,\n    &quot;values&quot; : &quot;DM, CM&quot;\n  } ]\n}\n</code></pre>\n<p>Try to examine the output by gradually adding the &quot;shift&quot; operations</p>\n<p>Also, have a look at the <a href=\"https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/Shiftr.java\" rel=\"nofollow noreferrer\">javadocs of the shift operation</a> and <a href=\"https://jolt-demo.appspot.com/#modify-stringFunctions\" rel=\"nofollow noreferrer\">the join function example</a></p>\n<hr />\n<p>edit: if you insist on the snake case, add this shift operation at the beginning of the spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;operation&quot;: &quot;shift&quot;,\n  &quot;spec&quot;: {\n    &quot;data&quot;: {\n      &quot;testDetails&quot;: {\n        &quot;*&quot;: {\n          &quot;contactId&quot;: &quot;&amp;3.&amp;2[#2].contact_id&quot;,\n          &quot;contactType&quot;: &quot;&amp;3.&amp;2[#2].concact_type&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616932253,"creation_date":1616932253,"answer_id":66841106,"question_id":66805158,"body_markdown":"You can figure out to combine those comma seperated values through use of `modify-overwrite-beta` operation, and apply `shift` for the rest such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;testDetails&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;*&quot;: &quot;&amp;&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;$&quot;: &quot;&amp;.id&quot;,\r\n        &quot;*&quot;: &quot;&amp;1.&amp;&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;value&quot;: &quot;=concat(@(1,0),&#39;,&#39;,@(1,1))&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;@(1,&amp;.id)&quot;: &quot;&amp;.id&quot;,\r\n        &quot;@(1,&amp;.value)&quot;: &quot;&amp;.value&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;#id&quot;: &quot;test_details&quot;,\r\n      &quot;*&quot;: &quot;list&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"Jolt Conversion need to convert list of object to id value pairs with comma separated","body":"<p>You can figure out to combine those comma seperated values through use of <code>modify-overwrite-beta</code> operation, and apply <code>shift</code> for the rest such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;testDetails&quot;: {\n          &quot;*&quot;: {\n            &quot;*&quot;: &quot;&amp;&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;$&quot;: &quot;&amp;.id&quot;,\n        &quot;*&quot;: &quot;&amp;1.&amp;&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;value&quot;: &quot;=concat(@(1,0),',',@(1,1))&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;@(1,&amp;.id)&quot;: &quot;&amp;.id&quot;,\n        &quot;@(1,&amp;.value)&quot;: &quot;&amp;.value&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;#id&quot;: &quot;test_details&quot;,\n      &quot;*&quot;: &quot;list&quot;\n    }\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":12598214,"reputation":73,"user_id":9161927,"display_name":"Chethan "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679385821,"creation_date":1616695308,"question_id":66805158,"body_markdown":"Can someone help to get joltspec in required format.\r\n\r\nInput request:\r\n\r\n```json\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;testDetails&quot;: [\r\n      {\r\n        &quot;contactId&quot;: &quot;941&quot;,\r\n        &quot;contactType&quot;: &quot;DM&quot;\r\n      },\r\n      {\r\n        &quot;contactId&quot;: &quot;1041&quot;,\r\n        &quot;contactType&quot;: &quot;CM&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nExpected output:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;test_details&quot;,\r\n  &quot;list&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;contact_type&quot;,\r\n      &quot;value&quot;: &quot;DM,CM&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;contact_id&quot;,\r\n      &quot;value&quot;: &quot;941,1041&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nInputSpec:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;#test_details&quot;: &quot;Request.dataset.testDetails.param.[0].id&quot;,\r\n        &quot;@testDetails&quot;: &quot;Request.dataset.testDetails.param.[0].list&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nIf i try like this, I am getting same list as it is in input. I have tried using shift but could not make it to get as id value pair which is expected. Can anyone help on this\r\n\r\n","title":"Jolt Conversion need to convert list of object to id value pairs with comma separated","body":"<p>Can someone help to get joltspec in required format.</p>\n<p>Input request:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: {\n    &quot;testDetails&quot;: [\n      {\n        &quot;contactId&quot;: &quot;941&quot;,\n        &quot;contactType&quot;: &quot;DM&quot;\n      },\n      {\n        &quot;contactId&quot;: &quot;1041&quot;,\n        &quot;contactType&quot;: &quot;CM&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;test_details&quot;,\n  &quot;list&quot;: [\n    {\n      &quot;id&quot;: &quot;contact_type&quot;,\n      &quot;value&quot;: &quot;DM,CM&quot;\n    },\n    {\n      &quot;id&quot;: &quot;contact_id&quot;,\n      &quot;value&quot;: &quot;941,1041&quot;\n    }\n  ]\n}\n</code></pre>\n<p>InputSpec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;#test_details&quot;: &quot;Request.dataset.testDetails.param.[0].id&quot;,\n        &quot;@testDetails&quot;: &quot;Request.dataset.testDetails.param.[0].list&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>If i try like this, I am getting same list as it is in input. I have tried using shift but could not make it to get as id value pair which is expected. Can anyone help on this</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":1,"creation_date":1679348016,"post_id":75795350,"comment_id":133702914,"body_markdown":"Please add your code as a text.","body":"Please add your code as a text."}],"answers":[{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679385736,"creation_date":1679385736,"answer_id":75798589,"question_id":75795350,"body_markdown":"if you use Hibernate 6.X \r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private STATUS status;\r\n\r\nif you use Hibernate 5.X\r\npom.xml\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n        @TypeDefs(@TypeDef(name = &quot;pgsql_enum&quot;, typeClass = com.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.class))\r\n        public class CassName {\r\n            @Enumerated(EnumType.STRING)\r\n            @Type( type = &quot;pgsql_enum&quot; )\r\n            @Column(name = &quot;status&quot;, columnDefinition = &quot;status&quot;)\r\n            private STATUS status;\r\n    }\r\n\r\n.....\r\n\r\n","title":"Error on convert JPA enum do PostgresSQL Enum","body":"<p>if you use Hibernate 6.X</p>\n<pre><code>@Enumerated(EnumType.STRING)\nprivate STATUS status;\n</code></pre>\n<p>if you use Hibernate 5.X\npom.xml</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    @TypeDefs(@TypeDef(name = &quot;pgsql_enum&quot;, typeClass = com.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.class))\n    public class CassName {\n        @Enumerated(EnumType.STRING)\n        @Type( type = &quot;pgsql_enum&quot; )\n        @Column(name = &quot;status&quot;, columnDefinition = &quot;status&quot;)\n        private STATUS status;\n}\n</code></pre>\n<p>.....</p>\n"}],"owner":{"account_id":20519214,"reputation":69,"user_id":15059204,"display_name":"Eduardo Lopes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679385736,"creation_date":1679346670,"question_id":75795350,"body_markdown":"I&#39;m trying to insert data into my table whose status column has an enum type but I&#39;m facing the following error:\r\n[![enter image description here][1]][1]\r\n\r\nI mapped into my entity accordingly but it isn&#39;t work\r\nHere&#39;s my code:\r\n\r\nEntity (I highlighted the enum column)\r\n[![enter image description here][2]][2]\r\n\r\nPostgresSQL column props\r\n[![enter image description here][3]][3]\r\n\r\nPostgresSQL type definition\r\n[![enter image description here][4]][4]\r\n\r\nMy controller and my service, respectively \r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n\r\nMy request at postman\r\n[![enter image description here][7]][7]\r\n\r\nSectionDTO\r\n[![enter image description here][8]][8]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PMwJK.png\r\n  [2]: https://i.stack.imgur.com/zDSfR.png\r\n  [3]: https://i.stack.imgur.com/pjf1n.png\r\n  [4]: https://i.stack.imgur.com/eUFTJ.png\r\n  [5]: https://i.stack.imgur.com/jJx3E.png\r\n  [6]: https://i.stack.imgur.com/8piCX.png\r\n  [7]: https://i.stack.imgur.com/yHEc1.png\r\n  [8]: https://i.stack.imgur.com/tgwFs.png","title":"Error on convert JPA enum do PostgresSQL Enum","body":"<p>I'm trying to insert data into my table whose status column has an enum type but I'm facing the following error:\n<a href=\"https://i.stack.imgur.com/PMwJK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PMwJK.png\" alt=\"enter image description here\" /></a></p>\n<p>I mapped into my entity accordingly but it isn't work\nHere's my code:</p>\n<p>Entity (I highlighted the enum column)\n<a href=\"https://i.stack.imgur.com/zDSfR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zDSfR.png\" alt=\"enter image description here\" /></a></p>\n<p>PostgresSQL column props\n<a href=\"https://i.stack.imgur.com/pjf1n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pjf1n.png\" alt=\"enter image description here\" /></a></p>\n<p>PostgresSQL type definition\n<a href=\"https://i.stack.imgur.com/eUFTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUFTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>My controller and my service, respectively\n<a href=\"https://i.stack.imgur.com/jJx3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jJx3E.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/8piCX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8piCX.png\" alt=\"enter image description here\" /></a></p>\n<p>My request at postman\n<a href=\"https://i.stack.imgur.com/yHEc1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yHEc1.png\" alt=\"enter image description here\" /></a></p>\n<p>SectionDTO\n<a href=\"https://i.stack.imgur.com/tgwFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tgwFs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654682771,"creation_date":1654682771,"answer_id":72543803,"question_id":72540689,"body_markdown":"Your main issue is the *incompatibility* between the version of the `binaries` you are using as follows:\r\n\r\nYou have downloaded and used `chromedriver=102.0` which got initiated successfully.\r\nBut your are still using `chrome=101`\r\n\r\nRelease Notes of [*ChromeDriver v102*][1] clearly mentions the following :\r\n\r\n - Supports Chrome version 102\r\n\r\n\r\n**Solution**\r\n\r\nSolution\r\nEnsure that:\r\n\r\n***Chrome Browser is updated to current chrome=102***\r\n\r\n\r\n  [1]: https://chromedriver.storage.googleapis.com/102.0.5005.61/notes.txt","title":"How to help this org.openqa.selenium.remote.http.WebSocket$Listener onError?","body":"<p>Your main issue is the <em>incompatibility</em> between the version of the <code>binaries</code> you are using as follows:</p>\n<p>You have downloaded and used <code>chromedriver=102.0</code> which got initiated successfully.\nBut your are still using <code>chrome=101</code></p>\n<p>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/102.0.5005.61/notes.txt\" rel=\"nofollow noreferrer\"><em>ChromeDriver v102</em></a> clearly mentions the following :</p>\n<ul>\n<li>Supports Chrome version 102</li>\n</ul>\n<p><strong>Solution</strong></p>\n<p>Solution\nEnsure that:</p>\n<p><em><strong>Chrome Browser is updated to current chrome=102</strong></em></p>\n"},{"tags":[],"owner":{"account_id":7474044,"reputation":41,"user_id":5929929,"display_name":"Silviu Rus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678267604,"creation_date":1678267604,"answer_id":75671307,"question_id":72540689,"body_markdown":"You should give a try for this argument added for chrome options:\r\n\r\n    .addArguments(&quot;--remote-allow-origins=*&quot;)","title":"How to help this org.openqa.selenium.remote.http.WebSocket$Listener onError?","body":"<p>You should give a try for this argument added for chrome options:</p>\n<pre><code>.addArguments(&quot;--remote-allow-origins=*&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26298545,"reputation":31,"user_id":19964384,"display_name":"kalyan pawar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678707480,"creation_date":1678707458,"answer_id":75721360,"question_id":72540689,"body_markdown":"Use This code in it....\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    \r\n    WebDriver driver = new ChromeDriver(options);\r\n\r\n","title":"How to help this org.openqa.selenium.remote.http.WebSocket$Listener onError?","body":"<p>Use This code in it....</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":25503062,"reputation":21,"user_id":19295925,"display_name":"Maya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25865,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1679385555,"creation_date":1654667532,"question_id":72540689,"body_markdown":"So, I started running the basic opening chrome on web, selenium program.\r\n\r\nimport org.openqa.selenium.chrome.*;\r\n\r\npublic class Testt {\r\n\t\r\n\tstatic {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;./driver/chromedriver.exe&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tChromeDriver driver= new ChromeDriver();\r\n\t\tdriver.close();\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nGetting below errors:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Starting ChromeDriver 102.0.5005.61 (0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819}) on port 50054\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Jun 08, 2022 11:17:57 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    Jun 08, 2022 11:17:57 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    WARNING: Unable to find an exact match for CDP version 102, so returning the closest version found: 101\r\n    Jun 08, 2022 11:17:57 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    INFO: Found CDP implementation for version 102 of 101\r\n    Jun 08, 2022 11:17:58 AM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\n    WARNING: Connection reset\r\n    java.net.SocketException: Connection reset\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\r\n    \tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n    \tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n    \tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:830)\r\n\r\n","title":"How to help this org.openqa.selenium.remote.http.WebSocket$Listener onError?","body":"<p>So, I started running the basic opening chrome on web, selenium program.</p>\n<p>import org.openqa.selenium.chrome.*;</p>\n<p>public class Testt {</p>\n<pre><code>static {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;./driver/chromedriver.exe&quot;);\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    ChromeDriver driver= new ChromeDriver();\n    driver.close();\n\n}\n</code></pre>\n<p>}</p>\n<p>Getting below errors:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 102.0.5005.61 (0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819}) on port 50054\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nJun 08, 2022 11:17:57 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nJun 08, 2022 11:17:57 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 102, so returning the closest version found: 101\nJun 08, 2022 11:17:57 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nINFO: Found CDP implementation for version 102 of 101\nJun 08, 2022 11:17:58 AM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:830)\n</code></pre>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646827164,"creation_date":1646827164,"answer_id":71409018,"question_id":71408356,"body_markdown":"Just nest one more step by replacing the part \r\n\r\n`&quot;link_promo&quot;: &quot;promo_links[]&quot;` with `&quot;link_promo&quot;: { &quot;*&quot;: &quot;promo_links&quot; }`\r\n\r\nin order to reach innermost part of the JSON as in the following spec\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;creatives&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;link_promo&quot;: {\r\n            &quot;*&quot;: &quot;promo_links&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nthe demo on the site http://jolt-demo.appspot.com/\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vld26.jpg","title":"Jolt - Flatten JSON array","body":"<p>Just nest one more step by replacing the part</p>\n<p><code>&quot;link_promo&quot;: &quot;promo_links[]&quot;</code> with <code>&quot;link_promo&quot;: { &quot;*&quot;: &quot;promo_links&quot; }</code></p>\n<p>in order to reach innermost part of the JSON as in the following spec</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;creatives&quot;: {\n        &quot;*&quot;: {\n          &quot;link_promo&quot;: {\n            &quot;*&quot;: &quot;promo_links&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the demo on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a></p>\n<p><a href=\"https://i.stack.imgur.com/vld26.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vld26.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17569441,"reputation":15,"user_id":12745424,"display_name":"Tien Pham Van"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71409018,"answer_count":1,"score":1,"last_activity_date":1679385376,"creation_date":1646824055,"question_id":71408356,"body_markdown":"***Input***:\r\n\r\n```json\r\n{\r\n  &quot;creatives&quot;: [\r\n    {\r\n      &quot;link_promo&quot;: [\r\n        &quot;https://facebook.com/123&quot;,\r\n        &quot;https://facebook.com/456&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;link_promo&quot;: [\r\n        &quot;https://facebook.com/789&quot;,\r\n        &quot;https://facebook.com/101112&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;link_promo&quot;: [\r\n        &quot;https://facebook.com/121314&quot;,\r\n        &quot;https://facebook.com/141516&quot;\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Spec**:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;creatives&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;link_promo&quot;: &quot;promo_links[]&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n**Output**:\r\n```json\r\n{\r\n  &quot;promo_links&quot;: [\r\n    [\r\n      &quot;https://facebook.com/123&quot;,\r\n      &quot;https://facebook.com/456&quot;\r\n    ],\r\n    [\r\n      &quot;https://facebook.com/789&quot;,\r\n      &quot;https://facebook.com/101112&quot;\r\n    ],\r\n    [\r\n      &quot;https://facebook.com/121314&quot;,\r\n      &quot;https://facebook.com/141516&quot;\r\n    ]\r\n  ]\r\n}\r\n```\r\n\r\nDesired Output:\r\n```json\r\n{\r\n  &quot;promo_links&quot;: [\r\n    &quot;https://facebook.com/123&quot;,\r\n    &quot;https://facebook.com/456&quot;,\r\n    &quot;https://facebook.com/789&quot;,\r\n    &quot;https://facebook.com/101112&quot;,\r\n    &quot;https://facebook.com/121314&quot;,\r\n    &quot;https://facebook.com/141516&quot;\r\n  ]\r\n}\r\n```\r\n\r\nHi guys, i need to flatten nested list to an array as description above.\r\nHi guys, i need to flatten nested list to an array as description above.\r\nAny ideas how to modify my jolt spec to achieve that output?","title":"Jolt - Flatten JSON array","body":"<p><em><strong>Input</strong></em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;creatives&quot;: [\n    {\n      &quot;link_promo&quot;: [\n        &quot;https://facebook.com/123&quot;,\n        &quot;https://facebook.com/456&quot;\n      ]\n    },\n    {\n      &quot;link_promo&quot;: [\n        &quot;https://facebook.com/789&quot;,\n        &quot;https://facebook.com/101112&quot;\n      ]\n    },\n    {\n      &quot;link_promo&quot;: [\n        &quot;https://facebook.com/121314&quot;,\n        &quot;https://facebook.com/141516&quot;\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><strong>Spec</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;creatives&quot;: {\n        &quot;*&quot;: {\n          &quot;link_promo&quot;: &quot;promo_links[]&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;promo_links&quot;: [\n    [\n      &quot;https://facebook.com/123&quot;,\n      &quot;https://facebook.com/456&quot;\n    ],\n    [\n      &quot;https://facebook.com/789&quot;,\n      &quot;https://facebook.com/101112&quot;\n    ],\n    [\n      &quot;https://facebook.com/121314&quot;,\n      &quot;https://facebook.com/141516&quot;\n    ]\n  ]\n}\n</code></pre>\n<p>Desired Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;promo_links&quot;: [\n    &quot;https://facebook.com/123&quot;,\n    &quot;https://facebook.com/456&quot;,\n    &quot;https://facebook.com/789&quot;,\n    &quot;https://facebook.com/101112&quot;,\n    &quot;https://facebook.com/121314&quot;,\n    &quot;https://facebook.com/141516&quot;\n  ]\n}\n</code></pre>\n<p>Hi guys, i need to flatten nested list to an array as description above.\nHi guys, i need to flatten nested list to an array as description above.\nAny ideas how to modify my jolt spec to achieve that output?</p>\n"},{"tags":["java","liquibase","liquibase-maven-plugin"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1679385612,"post_id":75798530,"comment_id":133707698,"body_markdown":"Try using the latest version of `liquibase-maven-plugin`","body":"Try using the latest version of <code>liquibase-maven-plugin</code>"},{"owner":{"account_id":28073237,"reputation":1,"user_id":21445503,"display_name":"Anurag Singh"},"score":0,"creation_date":1679392516,"post_id":75798530,"comment_id":133709421,"body_markdown":"Tried with latest 4.20.0 version, it also gives the same exception","body":"Tried with latest 4.20.0 version, it also gives the same exception"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1679398373,"post_id":75798530,"comment_id":133711000,"body_markdown":"You have `liquibase-hibernate5` in your dependency, but spring framework 6 requires hibernate 6 use `liquibase-hibernate6` for hibernate 6.","body":"You have <code>liquibase-hibernate5</code> in your dependency, but spring framework 6 requires hibernate 6 use <code>liquibase-hibernate6</code> for hibernate 6."}],"owner":{"account_id":28073237,"reputation":1,"user_id":21445503,"display_name":"Anurag Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679385253,"creation_date":1679385253,"question_id":75798530,"body_markdown":"Creating a new project in spring boot 3 using JDK 17. maven liquibase:diff - giving following errors :\r\n\r\nCaused by[m: java.lang.NoSuchMethodError: [1;31m&#39;javax.persistence.spi.PersistenceUnitInfo org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager.obtainDefaultPersistenceUnitInfo()&#39;[m\r\n    [1mat[m liquibase.ext.hibernate.database.HibernateSpringPackageDatabase.createEntityManagerFactoryBuilder ([1mHibernateSpringPackageDatabase.java:86[m)\r\n    [1mat[m liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath ([1mHibernateEjb3Database.java:57[m)\r\n    \r\n\r\nBelow is my pom.xml file:\r\n\r\n\r\n\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;liquibase&lt;/id&gt;\r\n\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;4.4.1&lt;/version&gt;\r\n\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n\t\t\t\t\t\t\t&lt;changeLogFile&gt;src/main/resources/db/db.changelog-master.xml&lt;/changeLogFile&gt;\r\n\t\t\t\t\t\t\t&lt;diffChangeLogFile&gt;src/main/resources/db/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\r\n\t\t\t\t\t\t\t&lt;logging&gt;info&lt;/logging&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;update-profile&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;update&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;diff-profile&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;diff&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t    &lt;version&gt;8.0.26&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;4.19.0&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t    &lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t                    &lt;dependency&gt;\r\n\t\t                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n\t\t                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n\t\t                        &lt;version&gt;3.29.0-GA&lt;/version&gt;\r\n\t\t                    &lt;/dependency&gt;\r\n\t\t   \t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t    &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t                &lt;/dependencies&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\r\n\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt; \r\n\r\nAdded different dependencies under liquibase plugin. \r\nIsn&#39;t in JDK17 : javax.persistence is replaced by jakarata.persistence ","title":"Exception while running liquibase diff in spring framework 6","body":"<p>Creating a new project in spring boot 3 using JDK 17. maven liquibase:diff - giving following errors :</p>\n<p>Caused by[m: java.lang.NoSuchMethodError: [1;31m'javax.persistence.spi.PersistenceUnitInfo org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager.obtainDefaultPersistenceUnitInfo()'[m\n[1mat[m liquibase.ext.hibernate.database.HibernateSpringPackageDatabase.createEntityManagerFactoryBuilder ([1mHibernateSpringPackageDatabase.java:86[m)\n[1mat[m liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath ([1mHibernateEjb3Database.java:57[m)</p>\n<p>Below is my pom.xml file:</p>\n<pre><code>&lt;profile&gt;\n        &lt;id&gt;liquibase&lt;/id&gt;\n\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.4.1&lt;/version&gt;\n\n                    &lt;configuration&gt;\n                        &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n                        &lt;changeLogFile&gt;src/main/resources/db/db.changelog-master.xml&lt;/changeLogFile&gt;\n                        &lt;diffChangeLogFile&gt;src/main/resources/db/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\n                        &lt;logging&gt;info&lt;/logging&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;update-profile&lt;/id&gt;\n                            &lt;phase&gt;process-resources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;update&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;diff-profile&lt;/id&gt;\n                            &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;diff&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;mysql&lt;/groupId&gt;\n                            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                            &lt;version&gt;8.0.26&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n                            &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\n                            &lt;version&gt;4.19.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n                            &lt;version&gt;6.0.6&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n                            &lt;version&gt;6.0.6&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n                            &lt;version&gt;6.0.6&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n                            &lt;version&gt;3.0.3&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n                            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n                            &lt;version&gt;3.29.0-GA&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        \n                        &lt;dependency&gt;\n                            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n                            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n                            &lt;version&gt;3.1.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        \n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n\n\n        &lt;/build&gt;\n    &lt;/profile&gt; \n</code></pre>\n<p>Added different dependencies under liquibase plugin.\nIsn't in JDK17 : javax.persistence is replaced by jakarata.persistence</p>\n"},{"tags":["java","json","jolt","saxparser"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646830083,"creation_date":1646830083,"answer_id":71409622,"question_id":71409263,"body_markdown":"You can use **shift** transformations along with **`#`** operators in order to represent the fixed element values for the new lists to be created.\r\n\r\nFor the ***first*** case( if we have **`&quot;arrayModule&quot;: [&quot;KK&quot;, &quot;VV&quot;]`** for the input ) :\r\n\r\n```json\r\n [\r\n   {\r\n     &quot;operation&quot;: &quot;shift&quot;,\r\n     &quot;spec&quot;: {\r\n       &quot;parentModule&quot;: {\r\n         &quot;*&quot;: {\r\n           &quot;childModule&quot;: {\r\n             &quot;arrayModule&quot;: {\r\n               &quot;#TT&quot;: &quot;&amp;4[&amp;3].&amp;2.&amp;1[]&quot;,\r\n               &quot;#RR&quot;: &quot;&amp;4[&amp;3].&amp;2.&amp;1[]&quot;\r\n             }\r\n           }\r\n         }\r\n       }\r\n     }\r\n   }\r\n]\r\n```\r\nthe **demo1** :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd for the ***second*** ( if we have **`&quot;arrayModule&quot;: [&quot;TT&quot;, &quot;RR&quot;]`** for the input ) :\r\n```json\r\n [\r\n   {\r\n     &quot;operation&quot;: &quot;shift&quot;,\r\n     &quot;spec&quot;: {\r\n       &quot;parentModule&quot;: {\r\n         &quot;*&quot;: {\r\n           &quot;childModule&quot;: {\r\n             &quot;arrayModule&quot;: {\r\n               &quot;*&quot;: {\r\n                 &quot;TT&quot;: { &quot;#AB&quot;: &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; },\r\n                 &quot;RR&quot;: { &quot;#BB&quot;: &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; }\r\n               }\r\n             }\r\n           }\r\n         }\r\n       }\r\n     }\r\n   }\r\n]\r\n```\r\nthe **demo2** :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SgRyf.jpg\r\n  [2]: https://i.stack.imgur.com/P3P4G.jpg\r\n\r\nwhile setting proper ampersand levels to reach the desired key names at several levels respectively.","title":"JOLT transformation modify overwrite - replace element value in array","body":"<p>You can use <strong>shift</strong> transformations along with <strong><code>#</code></strong> operators in order to represent the fixed element values for the new lists to be created.</p>\n<p>For the <em><strong>first</strong></em> case( if we have <strong><code>&quot;arrayModule&quot;: [&quot;KK&quot;, &quot;VV&quot;]</code></strong> for the input ) :</p>\n<pre class=\"lang-json prettyprint-override\"><code> [\n   {\n     &quot;operation&quot;: &quot;shift&quot;,\n     &quot;spec&quot;: {\n       &quot;parentModule&quot;: {\n         &quot;*&quot;: {\n           &quot;childModule&quot;: {\n             &quot;arrayModule&quot;: {\n               &quot;#TT&quot;: &quot;&amp;4[&amp;3].&amp;2.&amp;1[]&quot;,\n               &quot;#RR&quot;: &quot;&amp;4[&amp;3].&amp;2.&amp;1[]&quot;\n             }\n           }\n         }\n       }\n     }\n   }\n]\n</code></pre>\n<p>the <strong>demo1</strong> :</p>\n<p><a href=\"https://i.stack.imgur.com/SgRyf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SgRyf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And for the <em><strong>second</strong></em> ( if we have <strong><code>&quot;arrayModule&quot;: [&quot;TT&quot;, &quot;RR&quot;]</code></strong> for the input ) :</p>\n<pre class=\"lang-json prettyprint-override\"><code> [\n   {\n     &quot;operation&quot;: &quot;shift&quot;,\n     &quot;spec&quot;: {\n       &quot;parentModule&quot;: {\n         &quot;*&quot;: {\n           &quot;childModule&quot;: {\n             &quot;arrayModule&quot;: {\n               &quot;*&quot;: {\n                 &quot;TT&quot;: { &quot;#AB&quot;: &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; },\n                 &quot;RR&quot;: { &quot;#BB&quot;: &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; }\n               }\n             }\n           }\n         }\n       }\n     }\n   }\n]\n</code></pre>\n<p>the <strong>demo2</strong> :</p>\n<p><a href=\"https://i.stack.imgur.com/P3P4G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P3P4G.jpg\" alt=\"enter image description here\" /></a></p>\n<p>while setting proper ampersand levels to reach the desired key names at several levels respectively.</p>\n"}],"owner":{"account_id":5020466,"reputation":527,"user_id":4034082,"accept_rate":50,"display_name":"Nadir Bertolasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3300,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71409622,"answer_count":1,"score":2,"last_activity_date":1679385239,"creation_date":1646828366,"question_id":71409263,"body_markdown":"I am working on JOLT library to perform a change to the json values.\r\n\r\nFor key-value items I found a solution using\r\n```json\r\n&quot;operation&quot;: &quot;modify-overwrite-beta&quot;\r\n```\r\nBut when it comes to edit values inside the arrays I encounter problems.\r\n\r\nLet&#39;s have for example this JSON:\r\n```json\r\n{\r\n  &quot;parentModule&quot;: [\r\n    {\r\n      &quot;childModule&quot;: {\r\n        &quot;arrayModule&quot;: [\r\n          &quot;KK&quot;,\r\n          &quot;VV&quot;\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nSPEC I am using\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;parentModule&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;childModule&quot;: {\r\n            &quot;arrayModule&quot;: [\r\n              &quot;TT&quot;,\r\n              &quot;RR&quot;\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nThe result I want is that the array is totally override , but currently it is replacing only the first value.\r\n\r\nResult expected:\r\n```json\r\n{\r\n &quot;parentModule&quot;: [\r\n    {\r\n      &quot;childModule&quot;: {\r\n        &quot;arrayModule&quot;: [\r\n          &quot;TT&quot;,\r\n          &quot;RR&quot;\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nIs there any way to:\r\n\r\n1) *completely override the array?*\r\n2) *change values conditionally, for example if **TT** =&gt; change to **AB**, else if **RR** than write **BB** ?*\r\n\r\nThanks\r\n\r\n\r\n","title":"JOLT transformation modify overwrite - replace element value in array","body":"<p>I am working on JOLT library to perform a change to the json values.</p>\n<p>For key-value items I found a solution using</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;operation&quot;: &quot;modify-overwrite-beta&quot;\n</code></pre>\n<p>But when it comes to edit values inside the arrays I encounter problems.</p>\n<p>Let's have for example this JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;parentModule&quot;: [\n    {\n      &quot;childModule&quot;: {\n        &quot;arrayModule&quot;: [\n          &quot;KK&quot;,\n          &quot;VV&quot;\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>SPEC I am using</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;parentModule&quot;: {\n        &quot;*&quot;: {\n          &quot;childModule&quot;: {\n            &quot;arrayModule&quot;: [\n              &quot;TT&quot;,\n              &quot;RR&quot;\n            ]\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>The result I want is that the array is totally override , but currently it is replacing only the first value.</p>\n<p>Result expected:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n &quot;parentModule&quot;: [\n    {\n      &quot;childModule&quot;: {\n        &quot;arrayModule&quot;: [\n          &quot;TT&quot;,\n          &quot;RR&quot;\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Is there any way to:</p>\n<ol>\n<li><em>completely override the array?</em></li>\n<li><em>change values conditionally, for example if <strong>TT</strong> =&gt; change to <strong>AB</strong>, else if <strong>RR</strong> than write <strong>BB</strong> ?</em></li>\n</ol>\n<p>Thanks</p>\n"},{"tags":["java","spring","kubernetes","spring-batch","azure-aks"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679384771,"creation_date":1679384771,"answer_id":75798462,"question_id":75797166,"body_markdown":"&gt; Spring Batch uses a database repository for job management, but we still had an instance which same job ran twice\r\n\r\nI talked about this issue in detail in the blog post here: [Spring Batch on Kubernetes: Efficient batch processing at scale](https://spring.io/blog/2021/01/27/spring-batch-on-kubernetes-efficient-batch-processing-at-scale).\r\n\r\n&gt; what is the best way to establish synchronization? and to manage scale out?\r\n\r\nThe deployment pattern that works best for your use case is the &quot;Kubernetes job per Spring Batch job instance&quot;, coupled with a correctly configured central job repository (ie having a high isolation level). This pattern has several advantages:\r\n\r\n* Kubernetes jobs and Spring Batch job **instances** have the same lifecycle (once they are successfully executed, they cannot be restarted). If a job pod fails, Kubernetes will create another pod which will resume the execution of the same Spring Batch job instance. So Spring Batch job instances can be automatically restarted and continue work until completion,  since Kubernetes&#39; job controller will execute the necessary number of pods until the job succeeds.\r\n* Job instances can be scaled out by submitting as many Kubernetes jobs as needed.\r\n* This pattern guarantees that when Kubernetes submits the same job twice (which is a limitation), Spring Batch will prevent a concurrent execution of the same job instance (since in this deployment pattern a Kubernetes job is designed to run a job instance).\r\n\r\nIn your case, I would create a Spring Batch job instance per report (you did not mention what a report is about, but I am assuming here that creating a report is about a distinct criteria, which should be the identifying Spring Batch job parameter that will result in distinct job instances). With that in place, reports will be independent and can be generated in parallel at the scale you need.\r\n\r\nYou will find more details in the blog post that I hope you find helpful. \r\n\r\n\r\n\r\n","title":"Scaling Spring batch on Kubernetes (AKS) without Job replication","body":"<blockquote>\n<p>Spring Batch uses a database repository for job management, but we still had an instance which same job ran twice</p>\n</blockquote>\n<p>I talked about this issue in detail in the blog post here: <a href=\"https://spring.io/blog/2021/01/27/spring-batch-on-kubernetes-efficient-batch-processing-at-scale\" rel=\"nofollow noreferrer\">Spring Batch on Kubernetes: Efficient batch processing at scale</a>.</p>\n<blockquote>\n<p>what is the best way to establish synchronization? and to manage scale out?</p>\n</blockquote>\n<p>The deployment pattern that works best for your use case is the &quot;Kubernetes job per Spring Batch job instance&quot;, coupled with a correctly configured central job repository (ie having a high isolation level). This pattern has several advantages:</p>\n<ul>\n<li>Kubernetes jobs and Spring Batch job <strong>instances</strong> have the same lifecycle (once they are successfully executed, they cannot be restarted). If a job pod fails, Kubernetes will create another pod which will resume the execution of the same Spring Batch job instance. So Spring Batch job instances can be automatically restarted and continue work until completion,  since Kubernetes' job controller will execute the necessary number of pods until the job succeeds.</li>\n<li>Job instances can be scaled out by submitting as many Kubernetes jobs as needed.</li>\n<li>This pattern guarantees that when Kubernetes submits the same job twice (which is a limitation), Spring Batch will prevent a concurrent execution of the same job instance (since in this deployment pattern a Kubernetes job is designed to run a job instance).</li>\n</ul>\n<p>In your case, I would create a Spring Batch job instance per report (you did not mention what a report is about, but I am assuming here that creating a report is about a distinct criteria, which should be the identifying Spring Batch job parameter that will result in distinct job instances). With that in place, reports will be independent and can be generated in parallel at the scale you need.</p>\n<p>You will find more details in the blog post that I hope you find helpful.</p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679384771,"creation_date":1679370555,"question_id":75797166,"body_markdown":"I am working on creating reports with Spring Batch on Azure AKS.\r\n\r\nWe have HPA (Horizantal Pod Autoscaler). When we have multiple batches running, pods scale out due to HPA and in some cases same jobs run twice which is not what we want. \r\n\r\nSpring Batch uses a database repository for job management, but we still had an instance which same job ran twice. \r\n\r\nHas anyone used Spring Batch on Azure AKS? or on a kubernetes installation? what is the best way to establish synchronization? and to manage scale out?","title":"Scaling Spring batch on Kubernetes (AKS) without Job replication","body":"<p>I am working on creating reports with Spring Batch on Azure AKS.</p>\n<p>We have HPA (Horizantal Pod Autoscaler). When we have multiple batches running, pods scale out due to HPA and in some cases same jobs run twice which is not what we want.</p>\n<p>Spring Batch uses a database repository for job management, but we still had an instance which same job ran twice.</p>\n<p>Has anyone used Spring Batch on Azure AKS? or on a kubernetes installation? what is the best way to establish synchronization? and to manage scale out?</p>\n"},{"tags":["java","rest","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":8398152,"reputation":1967,"user_id":6304472,"accept_rate":80,"display_name":"DataWrangler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675695438,"creation_date":1675695438,"answer_id":75362945,"question_id":75300642,"body_markdown":"You could first try to see if you are able to get the `access token` generated through the cURL and if that works.\r\n\r\n```sh\r\ncurl --location --request POST &#39;https://&lt;URL&gt;/nifi-api/access/token&#39; \\\r\n--header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n--data-urlencode &#39;username=&lt;USERNAME&gt;&#39; \\\r\n--data-urlencode &#39;password=&lt;PASSWORD&gt;&#39;\r\n```\r\n\r\n\r\n```py\r\nimport requests\r\n\r\nurl = &quot;https://&lt;URL&gt;/nifi-api/access/token&quot;\r\n\r\npayload=&#39;username=&lt;USERNAME&gt;&amp;password=&lt;PASSWORD&gt;&#39;\r\nheaders = {\r\n  &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;\r\n}\r\n\r\nresponse = requests.request(&quot;POST&quot;, url, headers=headers, data=payload)\r\n\r\nprint(response.text)\r\n```","title":"NIFI REST API: how to login with single-user-authentication","body":"<p>You could first try to see if you are able to get the <code>access token</code> generated through the cURL and if that works.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl --location --request POST 'https://&lt;URL&gt;/nifi-api/access/token' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'username=&lt;USERNAME&gt;' \\\n--data-urlencode 'password=&lt;PASSWORD&gt;'\n</code></pre>\n<pre class=\"lang-py prettyprint-override\"><code>import requests\n\nurl = &quot;https://&lt;URL&gt;/nifi-api/access/token&quot;\n\npayload='username=&lt;USERNAME&gt;&amp;password=&lt;PASSWORD&gt;'\nheaders = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n}\n\nresponse = requests.request(&quot;POST&quot;, url, headers=headers, data=payload)\n\nprint(response.text)\n</code></pre>\n"}],"owner":{"account_id":15775360,"reputation":100,"user_id":11383257,"display_name":"Alain B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679384594,"creation_date":1675184883,"question_id":75300642,"body_markdown":"I have a NIFI 1.20.0 configured with single-user-authentication\r\n```\r\nnifi.security.user.login.identity.provider=single-user-provider\r\nnifi.security.user.authorizer=single-user-authorizer\r\n```\r\n\r\nI&#39;m using the `/nifi-api/*` endpoints through a JAVA client generated from Swagger.  \r\nHowever I can&#39;t find out how to authenticate the request to the APIs through the ApiClient provided.\r\n\r\n```\r\nApiClient client = Configuration.getDefaultApiClient().setBasePath(configuration.url).setVerifyingSsl(false);\r\n```\r\n\r\nAny idea how to do it? Using `.setUsername()` and `.setPassword` raises an error saying that basic auth is not configured. Trying `.setAccessToken()` raises an error saying that OAuth is not available.\r\n\r\nAny answer with another language client can do (Python, Go...), I&#39;ll transpose it to Java.\r\n\r\nThanks in advance","title":"NIFI REST API: how to login with single-user-authentication","body":"<p>I have a NIFI 1.20.0 configured with single-user-authentication</p>\n<pre><code>nifi.security.user.login.identity.provider=single-user-provider\nnifi.security.user.authorizer=single-user-authorizer\n</code></pre>\n<p>I'm using the <code>/nifi-api/*</code> endpoints through a JAVA client generated from Swagger.<br />\nHowever I can't find out how to authenticate the request to the APIs through the ApiClient provided.</p>\n<pre><code>ApiClient client = Configuration.getDefaultApiClient().setBasePath(configuration.url).setVerifyingSsl(false);\n</code></pre>\n<p>Any idea how to do it? Using <code>.setUsername()</code> and <code>.setPassword</code> raises an error saying that basic auth is not configured. Trying <code>.setAccessToken()</code> raises an error saying that OAuth is not available.</p>\n<p>Any answer with another language client can do (Python, Go...), I'll transpose it to Java.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","eclipse","generics","java-stream"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1679307664,"post_id":75789051,"comment_id":133691945,"body_markdown":"Probably `Recoverer:: addNotRetryableExceptions`.","body":"Probably <code>Recoverer:: addNotRetryableExceptions</code>."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1679307710,"post_id":75789051,"comment_id":133691959,"body_markdown":"Btw. adding items into a different collection using `forEach` is not a way how the Stream API should be used.","body":"Btw. adding items into a different collection using <code>forEach</code> is not a way how the Stream API should be used."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679309725,"creation_date":1679309725,"answer_id":75789411,"question_id":75789051,"body_markdown":"I tried several JDK versions from Java&#160;8 to 17 and could not reproduce the error with `javac`, so this seems to be an Eclipse compiler problem.\r\n\r\nYou can work-around it by using\r\n\r\n```java\r\n.&lt;Class&lt;? extends RuntimeException&gt;&gt;map(x -&gt; x.asSubclass(RuntimeException.class))\r\n```\r\n\r\nbut I also see no reason for a compiler to infer `Class&lt;RuntimeException&gt;` here, so I think, `javac` is right and Eclipses compiler has a bug.\r\n","title":"Stream API, classes and casts","body":"<p>I tried several JDK versions from Java8 to 17 and could not reproduce the error with <code>javac</code>, so this seems to be an Eclipse compiler problem.</p>\n<p>You can work-around it by using</p>\n<pre class=\"lang-java prettyprint-override\"><code>.&lt;Class&lt;? extends RuntimeException&gt;&gt;map(x -&gt; x.asSubclass(RuntimeException.class))\n</code></pre>\n<p>but I also see no reason for a compiler to infer <code>Class&lt;RuntimeException&gt;</code> here, so I think, <code>javac</code> is right and Eclipses compiler has a bug.</p>\n"}],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75789411,"answer_count":1,"score":1,"last_activity_date":1679384467,"creation_date":1679307528,"question_id":75789051,"body_markdown":"I have these two methods:\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; findAllClassesUsingClassLoader(String packageName)\r\n\r\n    void addNotRetryableExceptions(Class&lt;? extends Exception&gt;... exceptionTypes)\r\n\r\n\r\nThis code does not compile even though it would run without any problem:\r\n\r\n     findAllClassesUsingClassLoader(&quot;my.project.exception&quot;).stream()\r\n\t     .filter(RuntimeException.class::isAssignableFrom)\r\n         .map(x -&gt; x.asSubclass(RuntimeException.class)) // Type mismatch: cannot convert from Class&lt;capture#14-of ? extends RuntimeException&gt; to Class&lt;RuntimeException&gt;\r\n         .forEach(recoverer::addNotRetryableExceptions);\r\n\r\nHow do I solve this properly?","title":"Stream API, classes and casts","body":"<p>I have these two methods:</p>\n<pre><code>Set&lt;Class&lt;?&gt;&gt; findAllClassesUsingClassLoader(String packageName)\n\nvoid addNotRetryableExceptions(Class&lt;? extends Exception&gt;... exceptionTypes)\n</code></pre>\n<p>This code does not compile even though it would run without any problem:</p>\n<pre><code> findAllClassesUsingClassLoader(&quot;my.project.exception&quot;).stream()\n     .filter(RuntimeException.class::isAssignableFrom)\n     .map(x -&gt; x.asSubclass(RuntimeException.class)) // Type mismatch: cannot convert from Class&lt;capture#14-of ? extends RuntimeException&gt; to Class&lt;RuntimeException&gt;\n     .forEach(recoverer::addNotRetryableExceptions);\n</code></pre>\n<p>How do I solve this properly?</p>\n"},{"tags":["java","android","pie-chart","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":9049208,"reputation":3188,"user_id":6740130,"display_name":"Muhammad Saad Rafique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573213288,"creation_date":1573213288,"answer_id":58765900,"question_id":58667730,"body_markdown":"Create entries in a following way:\r\n\r\n    ArrayList&lt;PieEntry&gt; pieEntries = new ArrayList&lt;PieEntry&gt;();\r\n    pieEntries.add(new PieEntry(floatValue, StringLabel));\r\n\r\nafter that you need to show values by doing following:\r\n\r\n    pieDataSet.setDrawValues(true);","title":"How can i show labels inside a pie chart in MPAndroidChart","body":"<p>Create entries in a following way:</p>\n\n<pre><code>ArrayList&lt;PieEntry&gt; pieEntries = new ArrayList&lt;PieEntry&gt;();\npieEntries.add(new PieEntry(floatValue, StringLabel));\n</code></pre>\n\n<p>after that you need to show values by doing following:</p>\n\n<pre><code>pieDataSet.setDrawValues(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15948438,"reputation":83,"user_id":11508367,"display_name":"hannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608586796,"creation_date":1608586796,"answer_id":65400274,"question_id":58667730,"body_markdown":"Use this to display the label inside the PieChart:\r\n\r\n    pieChart = view.findViewById(R.id.piechart)\r\n\r\n    pieChart.setDrawEntryLabels(true)\r\n\r\n","title":"How can i show labels inside a pie chart in MPAndroidChart","body":"<p>Use this to display the label inside the PieChart:</p>\n<pre><code>pieChart = view.findViewById(R.id.piechart)\n\npieChart.setDrawEntryLabels(true)\n</code></pre>\n"}],"owner":{"account_id":7840665,"reputation":193,"user_id":5927333,"display_name":"Tommy95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679384326,"creation_date":1572660827,"question_id":58667730,"body_markdown":"I basically want to have the labels for my PieChart both below as a &quot;legend&quot; and inside the graph. How can I do it? Also is there a way to get rid of the deciaml number in the values?\r\n\r\nThanks\r\n\r\nHere is my current configuration. I want to get &quot;Foot&quot; or &quot;Still&quot; inside the graph too (well, not inside but under the  value right outside the graph)\r\n\r\n[Current Graph][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gdTUN.png\r\n","title":"How can i show labels inside a pie chart in MPAndroidChart","body":"<p>I basically want to have the labels for my PieChart both below as a \"legend\" and inside the graph. How can I do it? Also is there a way to get rid of the deciaml number in the values?</p>\n\n<p>Thanks</p>\n\n<p>Here is my current configuration. I want to get \"Foot\" or \"Still\" inside the graph too (well, not inside but under the  value right outside the graph)</p>\n\n<p><a href=\"https://i.stack.imgur.com/gdTUN.png\" rel=\"nofollow noreferrer\">Current Graph</a></p>\n"},{"tags":["java","spring","java-stream"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679384041,"creation_date":1679384041,"answer_id":75798381,"question_id":75797678,"body_markdown":"Let&#39;s take it step by step. Firstly, we&#39;ll need a method to map/create a `Question` from a `FlatQeustion` (assuming there are no duplicates):\r\n\r\n    private Question mapQuestion(FlatQuestion flatQuestion) {\r\n    \treturn new Question(\r\n    \t\t\tflatQuestion.getQuestionId(),\r\n    \t\t\tflatQuestion.getQuestionName(),\r\n    \t\t\tList.of(new Section(\r\n    \t\t\t\t\tflatQuestion.getSectionId(),\r\n    \t\t\t\t\tflatQuestion.getSectionName(),\r\n    \t\t\t\t\tList.of(new Field(\r\n    \t\t\t\t\t\t\tflatQuestion.getFieldId(),\r\n    \t\t\t\t\t\t\tflatQuestion.getFieldName(),\r\n    \t\t\t\t\t\t\tnew Input(\r\n    \t\t\t\t\t\t\t\t\tflatQuestion.getInput_Type_Id(),\r\n\t\t\t\t\t\t\t\t\t\tflatQuestion.getInput_Type_String()\r\n    \t\t\t\t\t\t\t))\r\n    \t\t\t\t\t))\r\n    \t\t\t));\r\n    }\r\n\r\nThen, for duplicates, let&#39;s start from the bottom. When we&#39;ll merge 2 Question objects, we&#39;ll need to merge their list of Sections, avoiding duplicates, so we need a method to merge the two List&lt;Field&gt; avoiding duplicates. it can be something like this:\r\n\r\n    private List&lt;Section&gt; mergeSections(List&lt;Section&gt; sections, List&lt;Section&gt; otherSections) {\r\n            // we&#39;ll group sections by section id and merge the duplicates with the merge function\r\n    \t\tMap&lt;Integer, Section&gt; allSectionsById = Stream.concat(sections.stream(), otherSections.stream())\r\n    \t\t\t\t.collect(Collectors.toMap(Section::getId, s -&gt; s, this::mergeSectionsWithSameId));\r\n            // the map has no duplicates now, we can safely return the values as a list\r\n    \t\treturn new ArrayList&lt;&gt;(allSectionsById.values());\r\n    }\r\n\r\nAs you can see, `Collectors.toMap` allows us to specify a mapper for the key (in our case `Section::getId`, a mapper for the value, and a mergeFunction). this merge function will be called when we have 2 elements with the same key. In our case we&#39;ll use these 2 Sections with the same key to create a merged one with all the fields:\r\n\r\n    private Section mergeSectionsWithSameId(Section first, Section second) {\r\n    \tif (first.getId() != second.getId()) {\r\n    \t\tthrow new IllegalArgumentException(&quot;cannot merge questions with different ids&quot;);\r\n    \t}\r\n    \tList&lt;Field&gt; allFields = new ArrayList&lt;&gt;();\r\n    \tallFields.addAll(first.getFields());\r\n    \tallFields.addAll(second.getFields());\r\n    \treturn new Section(first.getId(), first.getName(), allFields);\r\n    }\r\n\r\nThis means we can move one level up and use this functions to merge two Questions with the same id:\r\n\r\n    private Question mergeQuestionsWithSameId(Question first, Question second) {\r\n\t\tif (first.getId() != second.getId()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;cannot merge questions with different ids&quot;);\r\n\t\t}\r\n\t\treturn new Question(\r\n\t\t\t\tfirst.getId(),\r\n\t\t\t\tfirst.getName(),\r\n\t\t\t\tmergeSections(first.getSections(), second.getSections())\r\n\t\t);\r\n\t}\r\n\r\nFinally, let&#39;s apply the same technique for the Stream of Question objects:\r\n\r\n    Map&lt;Integer, Question&gt; questionById = Stream.of(f1, f2, f3, f4, f5, f6, f7)\r\n        .collect(Collectors.toMap( FlatQuestion::getQuestionId, \r\n                                   this::mapQuestion, \r\n                                   this::mergeQuestionsWithSameId )\r\n    );\r\n\r\nAs you can see, we are using the same `Colllectors.toMap` and we group the elements by `questionId`. Additionally, instead of keeping the elements as they are (previously `q -&gt; q`) now we map them from FlatQuestion to Question (with `q -&gt; mapQuestion(q)` or simply `this::mapQuestion`). \r\n\r\nFinally, we deal with the questions with the same id using `(q1, a2) -&gt; mergeQuestionsWithSameId(q1, q2)` or simply `this::mergeQuestionsWithSameId`. You can access the resulting collection of unique questions with no duplicated fields using `questionById.vales()` \r\n\r\n","title":"Form a collection structure from flat object list using Java stream api","body":"<p>Let's take it step by step. Firstly, we'll need a method to map/create a <code>Question</code> from a <code>FlatQeustion</code> (assuming there are no duplicates):</p>\n<pre><code>private Question mapQuestion(FlatQuestion flatQuestion) {\n    return new Question(\n            flatQuestion.getQuestionId(),\n            flatQuestion.getQuestionName(),\n            List.of(new Section(\n                    flatQuestion.getSectionId(),\n                    flatQuestion.getSectionName(),\n                    List.of(new Field(\n                            flatQuestion.getFieldId(),\n                            flatQuestion.getFieldName(),\n                            new Input(\n                                    flatQuestion.getInput_Type_Id(),\n                                    flatQuestion.getInput_Type_String()\n                            ))\n                    ))\n            ));\n}\n</code></pre>\n<p>Then, for duplicates, let's start from the bottom. When we'll merge 2 Question objects, we'll need to merge their list of Sections, avoiding duplicates, so we need a method to merge the two List avoiding duplicates. it can be something like this:</p>\n<pre><code>private List&lt;Section&gt; mergeSections(List&lt;Section&gt; sections, List&lt;Section&gt; otherSections) {\n        // we'll group sections by section id and merge the duplicates with the merge function\n        Map&lt;Integer, Section&gt; allSectionsById = Stream.concat(sections.stream(), otherSections.stream())\n                .collect(Collectors.toMap(Section::getId, s -&gt; s, this::mergeSectionsWithSameId));\n        // the map has no duplicates now, we can safely return the values as a list\n        return new ArrayList&lt;&gt;(allSectionsById.values());\n}\n</code></pre>\n<p>As you can see, <code>Collectors.toMap</code> allows us to specify a mapper for the key (in our case <code>Section::getId</code>, a mapper for the value, and a mergeFunction). this merge function will be called when we have 2 elements with the same key. In our case we'll use these 2 Sections with the same key to create a merged one with all the fields:</p>\n<pre><code>private Section mergeSectionsWithSameId(Section first, Section second) {\n    if (first.getId() != second.getId()) {\n        throw new IllegalArgumentException(&quot;cannot merge questions with different ids&quot;);\n    }\n    List&lt;Field&gt; allFields = new ArrayList&lt;&gt;();\n    allFields.addAll(first.getFields());\n    allFields.addAll(second.getFields());\n    return new Section(first.getId(), first.getName(), allFields);\n}\n</code></pre>\n<p>This means we can move one level up and use this functions to merge two Questions with the same id:</p>\n<pre><code>private Question mergeQuestionsWithSameId(Question first, Question second) {\n    if (first.getId() != second.getId()) {\n        throw new IllegalArgumentException(&quot;cannot merge questions with different ids&quot;);\n    }\n    return new Question(\n            first.getId(),\n            first.getName(),\n            mergeSections(first.getSections(), second.getSections())\n    );\n}\n</code></pre>\n<p>Finally, let's apply the same technique for the Stream of Question objects:</p>\n<pre><code>Map&lt;Integer, Question&gt; questionById = Stream.of(f1, f2, f3, f4, f5, f6, f7)\n    .collect(Collectors.toMap( FlatQuestion::getQuestionId, \n                               this::mapQuestion, \n                               this::mergeQuestionsWithSameId )\n);\n</code></pre>\n<p>As you can see, we are using the same <code>Colllectors.toMap</code> and we group the elements by <code>questionId</code>. Additionally, instead of keeping the elements as they are (previously <code>q -&gt; q</code>) now we map them from FlatQuestion to Question (with <code>q -&gt; mapQuestion(q)</code> or simply <code>this::mapQuestion</code>).</p>\n<p>Finally, we deal with the questions with the same id using <code>(q1, a2) -&gt; mergeQuestionsWithSameId(q1, q2)</code> or simply <code>this::mergeQuestionsWithSameId</code>. You can access the resulting collection of unique questions with no duplicated fields using <code>questionById.vales()</code></p>\n"}],"owner":{"account_id":430200,"reputation":420,"user_id":3679782,"accept_rate":50,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75798381,"answer_count":1,"score":-1,"last_activity_date":1679384041,"creation_date":1679377644,"question_id":75797678,"body_markdown":"I&#39;ve following flat list of objects: \r\n\r\n    public class FlatQuestion{\r\n       public int QuestionId;\r\n       public String QuestionName;\r\n       public int SectionId;\r\n       public String SectionName;\r\n       public int FieldId;\r\n       public String FieldName;\r\n       public int Input_Type_Id;\r\n       public String Input_Type_String;\r\n    }\r\n\r\nI&#39;ve been trying to convert it the list of questions. `List&lt;Question&gt;`\r\n\r\n    public class Question {\r\n    \r\n        public int id;\r\n        public String name;\r\n        public List&lt;Section&gt; sections;\r\n    \r\n        Question(String name, int id, List&lt;Section&gt; sections) {\r\n            this.name = name;\r\n            this.id = id;\r\n            this.sections = sections;\r\n        }\r\n    }\r\n    \r\n    public class Section {\r\n    \t\r\n        public int id;\r\n        public String name;\r\n        public List&lt;Field&gt; fields;\r\n    \r\n        Section(int id, String name, List&lt;Field&gt; fields) {\r\n            this.name = name;\r\n            this.id = id;\r\n    \tthis.fields = fields;\r\n        }\r\n    \r\n    }\r\n    \r\n    public class Field {\r\n    \r\n        public int id;\r\n        public String lable;\r\n        public Input input_type;\r\n    \r\n        Field(int id, String lable, Input input_type) {\r\n    \tthis.id = id;\r\n    \tthis.lable = lable;\r\n            this.input_type = input_type;\r\n        }\r\n    }\r\n    \r\n    public class Input {\r\n    \r\n        public int id;\r\n        public String type;\r\n    \r\n        Input(int id, String type) {\r\n    \tthis.id = id;\r\n    \tthis.type = type;\r\n        }\r\n    }\r\n\r\nThe solution I&#39;ve been working on is giving me multiple sections. How to get distinct values here: \r\n\r\n\r\n    final List&lt;Question&gt; results = data\r\n        .stream()\r\n        // extracting distinct questions, you have fetched  \r\n        .map(FlatQuestion::QuestionId)\r\n        .distinct()\r\n        // now we have unique key for the data and can map it\r\n        .map(it -&gt; \r\n             new Question(\r\n                 it, \r\n                 // extracting all sections, which  were fetched in rows with references to templates.\r\n                 data\r\n                     .stream()\r\n                     .filter(o -&gt; o.QuestionId.equals(it))\r\n                     .map(ing -&gt; new Sections(ing.SectionId, ing.SectionName))\r\n                     .collect(Collectors.toSet())\r\n        .collect(Collectors.toList()) ;\r\n\r\n\r\nAdding some sample data:\r\n\r\n    FlatQuestion f1 = new FlatQuestion(1, &quot;Student Survey&quot;, 1, &quot;Basic info&quot;, 1, &quot;Enter Name&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f2 = new FlatQuestion(1, &quot;Student Survey&quot;, 1, &quot;Basic info&quot;, 2, &quot;Enter Address&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f3 = new FlatQuestion(1, &quot;Student Survey&quot;, 2, &quot;Class Info&quot;, 3, &quot;Select No of subjects&quot;, 2, &quot;Dropdown&quot;);\r\n    FlatQuestion f4 = new FlatQuestion(1, &quot;Student Survey&quot;, 2, &quot;Class info&quot;, 4, &quot;Enter primary subject&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f5 = new FlatQuestion(2, &quot;Patient Audit&quot;, 3, &quot;Basic info&quot;, 5, &quot;Enter Name&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f6 = new FlatQuestion(2, &quot;Patient Audit&quot;, 3, &quot;Basic info&quot;, 6, &quot;Enter Address&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f7 = new FlatQuestion(2, &quot;Patient Audit&quot;, 4, &quot;Alcohol Consumption&quot;, 7, &quot;How often you drink&quot;, 3, &quot;Checkbox&quot;);","title":"Form a collection structure from flat object list using Java stream api","body":"<p>I've following flat list of objects:</p>\n<pre><code>public class FlatQuestion{\n   public int QuestionId;\n   public String QuestionName;\n   public int SectionId;\n   public String SectionName;\n   public int FieldId;\n   public String FieldName;\n   public int Input_Type_Id;\n   public String Input_Type_String;\n}\n</code></pre>\n<p>I've been trying to convert it the list of questions. <code>List&lt;Question&gt;</code></p>\n<pre><code>public class Question {\n\n    public int id;\n    public String name;\n    public List&lt;Section&gt; sections;\n\n    Question(String name, int id, List&lt;Section&gt; sections) {\n        this.name = name;\n        this.id = id;\n        this.sections = sections;\n    }\n}\n\npublic class Section {\n    \n    public int id;\n    public String name;\n    public List&lt;Field&gt; fields;\n\n    Section(int id, String name, List&lt;Field&gt; fields) {\n        this.name = name;\n        this.id = id;\n    this.fields = fields;\n    }\n\n}\n\npublic class Field {\n\n    public int id;\n    public String lable;\n    public Input input_type;\n\n    Field(int id, String lable, Input input_type) {\n    this.id = id;\n    this.lable = lable;\n        this.input_type = input_type;\n    }\n}\n\npublic class Input {\n\n    public int id;\n    public String type;\n\n    Input(int id, String type) {\n    this.id = id;\n    this.type = type;\n    }\n}\n</code></pre>\n<p>The solution I've been working on is giving me multiple sections. How to get distinct values here:</p>\n<pre><code>final List&lt;Question&gt; results = data\n    .stream()\n    // extracting distinct questions, you have fetched  \n    .map(FlatQuestion::QuestionId)\n    .distinct()\n    // now we have unique key for the data and can map it\n    .map(it -&gt; \n         new Question(\n             it, \n             // extracting all sections, which  were fetched in rows with references to templates.\n             data\n                 .stream()\n                 .filter(o -&gt; o.QuestionId.equals(it))\n                 .map(ing -&gt; new Sections(ing.SectionId, ing.SectionName))\n                 .collect(Collectors.toSet())\n    .collect(Collectors.toList()) ;\n</code></pre>\n<p>Adding some sample data:</p>\n<pre><code>FlatQuestion f1 = new FlatQuestion(1, &quot;Student Survey&quot;, 1, &quot;Basic info&quot;, 1, &quot;Enter Name&quot;, 1, &quot;Text&quot;);\nFlatQuestion f2 = new FlatQuestion(1, &quot;Student Survey&quot;, 1, &quot;Basic info&quot;, 2, &quot;Enter Address&quot;, 1, &quot;Text&quot;);\nFlatQuestion f3 = new FlatQuestion(1, &quot;Student Survey&quot;, 2, &quot;Class Info&quot;, 3, &quot;Select No of subjects&quot;, 2, &quot;Dropdown&quot;);\nFlatQuestion f4 = new FlatQuestion(1, &quot;Student Survey&quot;, 2, &quot;Class info&quot;, 4, &quot;Enter primary subject&quot;, 1, &quot;Text&quot;);\nFlatQuestion f5 = new FlatQuestion(2, &quot;Patient Audit&quot;, 3, &quot;Basic info&quot;, 5, &quot;Enter Name&quot;, 1, &quot;Text&quot;);\nFlatQuestion f6 = new FlatQuestion(2, &quot;Patient Audit&quot;, 3, &quot;Basic info&quot;, 6, &quot;Enter Address&quot;, 1, &quot;Text&quot;);\nFlatQuestion f7 = new FlatQuestion(2, &quot;Patient Audit&quot;, 4, &quot;Alcohol Consumption&quot;, 7, &quot;How often you drink&quot;, 3, &quot;Checkbox&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1679326392,"post_id":75792053,"comment_id":133697507,"body_markdown":"That is simply not how JPA works. You would need to duplicate the configuration for both paths. You would also need a strategy on what to do if things fail on your second database. And this isn&#39;t something `AbstractRoutingDataSource` can help you with.","body":"That is simply not how JPA works. You would need to duplicate the configuration for both paths. You would also need a strategy on what to do if things fail on your second database. And this isn&#39;t something <code>AbstractRoutingDataSource</code> can help you with."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1679326487,"post_id":75792053,"comment_id":133697536,"body_markdown":"Using multiple datasources for different repositories is a different thing and replicating the transaction is a different thing. I am not sure how the transactions would work out. Are you going to discard data in Postgres at the end of this and re-run the migration script. How will you check if the data is consistent in both the databases. Which one will you consider final?  I would rather go for single database and run the migration script at the end of it or would go for a parallel run for pilot","body":"Using multiple datasources for different repositories is a different thing and replicating the transaction is a different thing. I am not sure how the transactions would work out. Are you going to discard data in Postgres at the end of this and re-run the migration script. How will you check if the data is consistent in both the databases. Which one will you consider final?  I would rather go for single database and run the migration script at the end of it or would go for a parallel run for pilot"},{"owner":{"account_id":6727,"reputation":26865,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"score":0,"creation_date":1679383800,"post_id":75792053,"comment_id":133707320,"body_markdown":"I&#39;ve remove references to Jpa and added additional example I&#39;ve now found","body":"I&#39;ve remove references to Jpa and added additional example I&#39;ve now found"},{"owner":{"account_id":6727,"reputation":26865,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"score":0,"creation_date":1679383905,"post_id":75792053,"comment_id":133707332,"body_markdown":"As far as I understand AbstractRoutingDataSource would be able to help if I wanted to use only one DataSource at the time, but flip it with feature toggle. Does it sound right? That would still be useful","body":"As far as I understand AbstractRoutingDataSource would be able to help if I wanted to use only one DataSource at the time, but flip it with feature toggle. Does it sound right? That would still be useful"},{"owner":{"account_id":6727,"reputation":26865,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"score":0,"creation_date":1679384041,"post_id":75792053,"comment_id":133707356,"body_markdown":"Handling transations... would be open to thinking through different options. There is Jta? and I could look into logging failed modifications and fixing manually","body":"Handling transations... would be open to thinking through different options. There is Jta? and I could look into logging failed modifications and fixing manually"}],"owner":{"account_id":6727,"reputation":26865,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679383772,"creation_date":1679325129,"question_id":75792053,"body_markdown":"I&#39;m migrating from one database to another. For the duration of the migration I&#39;d like to be able to write to both databases at the same time, ie perform the same write operations on both PostgresDataSource and SqlServerDataSource. Ideally I&#39;d like to be able to flip DataSources on/off based on a feature toggle, ie at runtime enable writing to Postgres datasource, then change read operations to use Postgres, then turn off writing to SQL Server. I have a feature toggle system and I know how to subscribe to toggle state changes so this part is not an issue.\r\n\r\nI came across this [Baeldung post][1] but as far as I understand it describes scenario when different repositories use different datasources but each of them only one. [This example][2] seems lower level and closer to what I need.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-configure-multiple-datasources\r\n  [2]: https://www.javaguides.net/2018/09/spring-boot-jpa-multiple-data-sources-example.html","title":"Spring Data: Single Repository writing to multiple DataSources","body":"<p>I'm migrating from one database to another. For the duration of the migration I'd like to be able to write to both databases at the same time, ie perform the same write operations on both PostgresDataSource and SqlServerDataSource. Ideally I'd like to be able to flip DataSources on/off based on a feature toggle, ie at runtime enable writing to Postgres datasource, then change read operations to use Postgres, then turn off writing to SQL Server. I have a feature toggle system and I know how to subscribe to toggle state changes so this part is not an issue.</p>\n<p>I came across this <a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">Baeldung post</a> but as far as I understand it describes scenario when different repositories use different datasources but each of them only one. <a href=\"https://www.javaguides.net/2018/09/spring-boot-jpa-multiple-data-sources-example.html\" rel=\"nofollow noreferrer\">This example</a> seems lower level and closer to what I need.</p>\n"},{"tags":["java","spring-boot","manifest.mf"],"comments":[{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1663318702,"post_id":32293962,"comment_id":130216108,"body_markdown":"I&#39;m also facing same issue. I have raised the similar [question here](https://stackoverflow.com/q/73740077/9145082) but haven&#39;t got any working answers and spent lot of time on this still not able to achieve solution. Have you got the answer ?","body":"I&#39;m also facing same issue. I have raised the similar <a href=\"https://stackoverflow.com/q/73740077/9145082\">question here</a> but haven&#39;t got any working answers and spent lot of time on this still not able to achieve solution. Have you got the answer ?"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1440946770,"creation_date":1440917109,"answer_id":32293991,"question_id":32293962,"body_markdown":"Pretty much all jar files come with a manifest file, so your code is returning the ***first* file** it can find **in the classpath**.\r\n\r\nWhy would you want the manifest anyway? It&#39;s a file used by Java. Put any custom values you need somewhere else, like in a `.properties` file next to you `.class` file.\r\n\r\n**Update 2**\r\n\r\nAs mentioned in a comment below, *not* in the question, the real goal is the version information from the manifest. Java already supplies that information with the [`java.lang.Package`][1] class.\r\n\r\nDon&#39;t try to read the manifest yourself, even if you could find it.\r\n\r\n**Update 1**\r\n\r\nNote that the manifest file is *not* a `Properties` file. It&#39;s structure is much more complex than that.\r\n\r\nSee the example in the java documentation of the [JAR File Specification][2].\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: 1.7.0 (Sun Microsystems Inc.)\r\n\r\n    Name: common/class1.class\r\n    SHA-256-Digest: (base64 representation of SHA-256 digest)\r\n\r\n    Name: common/class2.class\r\n    SHA1-Digest: (base64 representation of SHA1 digest)\r\n    SHA-256-Digest: (base64 representation of SHA-256 digest)\r\n\r\nAs you can see, `Name` and `SHA-256-Digest` occurs more than once. The `Properties` class cannot handle that, since it&#39;s just a `Map` and the keys have to be unique.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Package.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Signature_Validation","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>Pretty much all jar files come with a manifest file, so your code is returning the <strong><em>first</em> file</strong> it can find <strong>in the classpath</strong>.</p>\n\n<p>Why would you want the manifest anyway? It's a file used by Java. Put any custom values you need somewhere else, like in a <code>.properties</code> file next to you <code>.class</code> file.</p>\n\n<p><strong>Update 2</strong></p>\n\n<p>As mentioned in a comment below, <em>not</em> in the question, the real goal is the version information from the manifest. Java already supplies that information with the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Package.html\" rel=\"noreferrer\"><code>java.lang.Package</code></a> class.</p>\n\n<p>Don't try to read the manifest yourself, even if you could find it.</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>Note that the manifest file is <em>not</em> a <code>Properties</code> file. It's structure is much more complex than that.</p>\n\n<p>See the example in the java documentation of the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Signature_Validation\" rel=\"noreferrer\">JAR File Specification</a>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Manifest-Version: 1.0\nCreated-By: 1.7.0 (Sun Microsystems Inc.)\n\nName: common/class1.class\nSHA-256-Digest: (base64 representation of SHA-256 digest)\n\nName: common/class2.class\nSHA1-Digest: (base64 representation of SHA1 digest)\nSHA-256-Digest: (base64 representation of SHA-256 digest)\n</code></pre>\n\n<p>As you can see, <code>Name</code> and <code>SHA-256-Digest</code> occurs more than once. The <code>Properties</code> class cannot handle that, since it's just a <code>Map</code> and the keys have to be unique.</p>\n"},{"tags":[],"owner":{"account_id":5387395,"reputation":5281,"user_id":4290860,"accept_rate":60,"display_name":"outdev"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1440919931,"creation_date":1440919931,"answer_id":32294301,"question_id":32293962,"body_markdown":"\tpublic Properties readManifest() throws IOException {\r\n\t\tObject inputStream = this.getClass().getProtectionDomain().getCodeSource().getLocation().getContent();\r\n\t\tJarInputStream jarInputStream = new JarInputStream((InputStream) inputStream);\r\n\t\tManifest manifest = jarInputStream.getManifest();\r\n\t\tAttributes attributes = manifest.getMainAttributes();\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.putAll(attributes);\r\n\t\treturn properties;\r\n\t}\r\n","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<pre><code>public Properties readManifest() throws IOException {\n    Object inputStream = this.getClass().getProtectionDomain().getCodeSource().getLocation().getContent();\n    JarInputStream jarInputStream = new JarInputStream((InputStream) inputStream);\n    Manifest manifest = jarInputStream.getManifest();\n    Attributes attributes = manifest.getMainAttributes();\n    Properties properties = new Properties();\n    properties.putAll(attributes);\n    return properties;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3672440,"reputation":1796,"user_id":3059297,"display_name":"abosancic"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1441058029,"creation_date":1441058029,"answer_id":32320544,"question_id":32293962,"body_markdown":"It&#39;s simple just add this\r\n\r\n\r\n\t\tInputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;META-INF/MANIFEST.MF&quot;);\r\n\r\n        Properties prop = new Properties();\r\n\t\ttry {\r\n\t\t\tprop.load( is );\r\n\t\t} catch (IOException ex) {\r\n\t\t\tLogger.getLogger(IndexController.class.getName()).log(Level.SEVERE, null, ex);\r\n\t\t}\r\n\r\nWorking for me.\r\n\r\nNote: \r\n\r\n&gt; getClass().getClassLoader() is important\r\n\r\nand \r\n\r\n&gt; &quot;META-INF/MANIFEST.MF&quot;  not &quot;/META-INF/MANIFEST.MF&quot;\r\n\r\n\r\nThanks\r\nAleksandar","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>It's simple just add this</p>\n\n<pre><code>    InputStream is = this.getClass().getClassLoader().getResourceAsStream(\"META-INF/MANIFEST.MF\");\n\n    Properties prop = new Properties();\n    try {\n        prop.load( is );\n    } catch (IOException ex) {\n        Logger.getLogger(IndexController.class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n\n<p>Working for me.</p>\n\n<p>Note: </p>\n\n<blockquote>\n  <p>getClass().getClassLoader() is important</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>\"META-INF/MANIFEST.MF\"  not \"/META-INF/MANIFEST.MF\"</p>\n</blockquote>\n\n<p>Thanks\nAleksandar</p>\n"},{"tags":[],"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1441824120,"creation_date":1441824120,"answer_id":32486996,"question_id":32293962,"body_markdown":"After testing and searching on Spring docs, I found a way to read the manifest file.\r\n\r\nFirst off, Spring Boot implements its own ClassLoader that changes the way how resources are loaded. When you call `getResource()`, Spring Boot will load the first resource that matches the given resource name in the list of all JARs available in the class path, and your app jar is not the first choice. \r\n\r\nSo, when issuing a command like:\r\n\r\n    getClassLoader().getResourceAsStream(&quot;/META-INF/MANIFEST.MF&quot;);\r\n\r\nThe first MANIFEST.MF file found in any Jar of the Class Path is returned. In my case, it came from a JDK jar library.\r\n\r\n**SOLUTION:**\r\n\r\nI managed to get a list of all Jars loaded by the app that contains the resource &quot;/META-INF/MANIFEST.MF&quot; and checked if the resource came from my application jar. If so, read its MANIFEST.MF file and return to the app, like that:\r\n\r\n    private Manifest getManifest() {\r\n        // get the full name of the application manifest file\r\n        String appManifestFileName = this.getClass().getProtectionDomain().getCodeSource().getLocation().toString() + JarFile.MANIFEST_NAME;\r\n\r\n        Enumeration resEnum;\r\n        try {\r\n            // get a list of all manifest files found in the jars loaded by the app\r\n            resEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\r\n            while (resEnum.hasMoreElements()) {\r\n                try {\r\n                    URL url = (URL)resEnum.nextElement();\r\n                    // is the app manifest file?\r\n                    if (url.toString().equals(appManifestFileName)) {\r\n                        // open the manifest\r\n                        InputStream is = url.openStream();\r\n                        if (is != null) {\r\n                            // read the manifest and return it to the application\r\n                            Manifest manifest = new Manifest(is);\r\n                            return manifest;\r\n                        }\r\n                    }\r\n                }\r\n                catch (Exception e) {\r\n                    // Silently ignore wrong manifests on classpath?\r\n                }\r\n            }\r\n        } catch (IOException e1) {\r\n            // Silently ignore wrong manifests on classpath?\r\n        }\r\n        return null;\r\n    }\r\n\r\nThis method will return all data from a manifest.mf file inside a Manifest object.\r\n\r\nI borrowed part of the solution from https://stackoverflow.com/questions/3777055/reading-manifest-mf-file-from-jar-file-using-java/3777116?s=1|0.3407#3777116\r\n","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>After testing and searching on Spring docs, I found a way to read the manifest file.</p>\n\n<p>First off, Spring Boot implements its own ClassLoader that changes the way how resources are loaded. When you call <code>getResource()</code>, Spring Boot will load the first resource that matches the given resource name in the list of all JARs available in the class path, and your app jar is not the first choice. </p>\n\n<p>So, when issuing a command like:</p>\n\n<pre><code>getClassLoader().getResourceAsStream(\"/META-INF/MANIFEST.MF\");\n</code></pre>\n\n<p>The first MANIFEST.MF file found in any Jar of the Class Path is returned. In my case, it came from a JDK jar library.</p>\n\n<p><strong>SOLUTION:</strong></p>\n\n<p>I managed to get a list of all Jars loaded by the app that contains the resource \"/META-INF/MANIFEST.MF\" and checked if the resource came from my application jar. If so, read its MANIFEST.MF file and return to the app, like that:</p>\n\n<pre><code>private Manifest getManifest() {\n    // get the full name of the application manifest file\n    String appManifestFileName = this.getClass().getProtectionDomain().getCodeSource().getLocation().toString() + JarFile.MANIFEST_NAME;\n\n    Enumeration resEnum;\n    try {\n        // get a list of all manifest files found in the jars loaded by the app\n        resEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\n        while (resEnum.hasMoreElements()) {\n            try {\n                URL url = (URL)resEnum.nextElement();\n                // is the app manifest file?\n                if (url.toString().equals(appManifestFileName)) {\n                    // open the manifest\n                    InputStream is = url.openStream();\n                    if (is != null) {\n                        // read the manifest and return it to the application\n                        Manifest manifest = new Manifest(is);\n                        return manifest;\n                    }\n                }\n            }\n            catch (Exception e) {\n                // Silently ignore wrong manifests on classpath?\n            }\n        }\n    } catch (IOException e1) {\n        // Silently ignore wrong manifests on classpath?\n    }\n    return null;\n}\n</code></pre>\n\n<p>This method will return all data from a manifest.mf file inside a Manifest object.</p>\n\n<p>I borrowed part of the solution from <a href=\"https://stackoverflow.com/questions/3777055/reading-manifest-mf-file-from-jar-file-using-java/3777116?s=1|0.3407#3777116\">reading MANIFEST.MF file from jar file using JAVA</a></p>\n"},{"tags":[],"owner":{"account_id":2738241,"reputation":1007,"user_id":2360385,"display_name":"samsong8610"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1519835708,"creation_date":1466743328,"answer_id":38005731,"question_id":32293962,"body_markdown":"I use [java.lang.Package](http://docs.oracle.com/javase/7/docs/api/java/lang/Package.html) to read the `Implementation-Version` attribute in spring boot from the manifest.\r\n\r\n    String version = Application.class.getPackage().getImplementationVersion();\r\n\r\nThe `Implementation-Version` attribute should be configured in `build.gradle`\r\n\r\n    jar {\r\n        baseName = &quot;my-app&quot;\r\n        version =  &quot;0.0.1&quot;\r\n        manifest {\r\n            attributes(&quot;Implementation-Version&quot;: version)\r\n        }\r\n    }","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>I use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Package.html\" rel=\"noreferrer\">java.lang.Package</a> to read the <code>Implementation-Version</code> attribute in spring boot from the manifest.</p>\n\n<pre><code>String version = Application.class.getPackage().getImplementationVersion();\n</code></pre>\n\n<p>The <code>Implementation-Version</code> attribute should be configured in <code>build.gradle</code></p>\n\n<pre><code>jar {\n    baseName = \"my-app\"\n    version =  \"0.0.1\"\n    manifest {\n        attributes(\"Implementation-Version\": version)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":942450,"reputation":23371,"user_id":970288,"accept_rate":88,"display_name":"usethe4ce"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477868737,"creation_date":1477868737,"answer_id":40334616,"question_id":32293962,"body_markdown":"I have it exploiting Spring&#39;s resource resolution: \r\n\r\n\t@Service\r\n\tpublic class ManifestService {\r\n\r\n\t\tprotected String ciBuild;\r\n\r\n\t\tpublic String getCiBuild() { return ciBuild; }\r\n\r\n\t\t@Value(&quot;${manifest.basename:/META-INF/MANIFEST.MF}&quot;)\r\n\t\tprotected void setManifestBasename(Resource resource) {\r\n\t\t\tif (!resource.exists()) return;\r\n\t\t\ttry (final InputStream stream = resource.getInputStream()) {\r\n\t\t\t\tfinal Manifest manifest = new Manifest(stream);\r\n\t\t\t\tciBuild = manifest.getMainAttributes().getValue(&quot;CI-Build&quot;);\r\n\t\t\t}\r\n\t\t\tcatch (IOException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\nHere we&#39;re getting `CI-Build`, and you can easily extend the example to load other attributes. ","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>I have it exploiting Spring's resource resolution: </p>\n\n<pre><code>@Service\npublic class ManifestService {\n\n    protected String ciBuild;\n\n    public String getCiBuild() { return ciBuild; }\n\n    @Value(\"${manifest.basename:/META-INF/MANIFEST.MF}\")\n    protected void setManifestBasename(Resource resource) {\n        if (!resource.exists()) return;\n        try (final InputStream stream = resource.getInputStream()) {\n            final Manifest manifest = new Manifest(stream);\n            ciBuild = manifest.getMainAttributes().getValue(\"CI-Build\");\n        }\n        catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Here we're getting <code>CI-Build</code>, and you can easily extend the example to load other attributes. </p>\n"},{"tags":[],"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522956235,"creation_date":1522956235,"answer_id":49680026,"question_id":32293962,"body_markdown":"        try {\r\n            final JarFile jarFile = (JarFile) this.getClass().getProtectionDomain().getCodeSource().getLocation().getContent();\r\n            final Manifest manifest = jarFile.getManifest();\r\n            final Map&lt;Object, Object&gt; manifestProps = manifest.getMainAttributes().entrySet().stream()\r\n                    .collect(Collectors.toMap(entry -&gt; entry.getKey(), entry -&gt; entry.getValue()));\r\n        ...\r\n        } catch (final IOException e) {\r\n            LOG.error(&quot;Unable to read MANIFEST.MF&quot;, e);\r\n            ...\r\n        }\r\n\r\nThis will work only if you launch your app via `java -jar` command, it won&#39;t work if one create an integration test.","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<pre><code>    try {\n        final JarFile jarFile = (JarFile) this.getClass().getProtectionDomain().getCodeSource().getLocation().getContent();\n        final Manifest manifest = jarFile.getManifest();\n        final Map&lt;Object, Object&gt; manifestProps = manifest.getMainAttributes().entrySet().stream()\n                .collect(Collectors.toMap(entry -&gt; entry.getKey(), entry -&gt; entry.getValue()));\n    ...\n    } catch (final IOException e) {\n        LOG.error(\"Unable to read MANIFEST.MF\", e);\n        ...\n    }\n</code></pre>\n\n<p>This will work only if you launch your app via <code>java -jar</code> command, it won't work if one create an integration test.</p>\n"},{"tags":[],"owner":{"account_id":16498874,"reputation":11,"user_id":11920673,"display_name":"Siva Mediboina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679383618,"creation_date":1677752466,"answer_id":75614093,"question_id":32293962,"body_markdown":" 1. manifest.mf file is available in a jar. \r\n 2. check the program&#39;s or application&#39;s classpath by using below code.\r\n 3. \r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String classpath = System.getProperty(&quot;java.class.path&quot;);\r\n    System.out.println(&quot;classpath:&quot;+classpath);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n 4. if above lines of code print jar path(-classpath: D:\\ABC\\target\\ABC.jar) then you can use below code. else you need to set jar path as a classpath in the your  IDE(edit configuration -&gt; modify option -&gt; add your jar file class path.\r\n\r\n  \r\n\r\n5.\r\n\r\n\r\n    InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;META-INF/MANIFEST.MF&quot;);\r\n        \r\n    Properties prop = new Properties();\r\n    try {\r\n        prop.load( is );\r\n    } catch (IOException ex) {\r\n        Logger.getLogger(IndexController.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n\r\n","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<ol>\n<li>manifest.mf file is available in a jar.</li>\n<li>check the program's or application's classpath by using below code.</li>\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String classpath = System.getProperty(&quot;java.class.path&quot;);\nSystem.out.println(&quot;classpath:&quot;+classpath);\n</code></pre>\n\n<ol start=\"4\">\n<li><p>if above lines of code print jar path(-classpath: D:\\ABC\\target\\ABC.jar) then you can use below code. else you need to set jar path as a classpath in the your  IDE(edit configuration -&gt; modify option -&gt; add your jar file class path.</p>\n</li>\n<li></li>\n</ol>\n<pre><code>InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;META-INF/MANIFEST.MF&quot;);\n    \nProperties prop = new Properties();\ntry {\n    prop.load( is );\n} catch (IOException ex) {\n    Logger.getLogger(IndexController.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n"}],"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41697,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":8,"score":21,"last_activity_date":1679383618,"creation_date":1440916751,"question_id":32293962,"body_markdown":"I&#39;m trying to read my META-INF/MANIFEST.MF file from my Spring Boot web app (contained in a jar file).\r\n\r\nI&#39;m trying the following code:\r\n\r\n            InputStream is = getClass().getResourceAsStream(&quot;/META-INF/MANIFEST.MF&quot;);\r\n\r\n            Properties prop = new Properties();\r\n            prop.load( is );\r\n\r\nBut apparently there is something behind the scenes in Spring Boot that a different manifest.mf is loaded (and not my own located in META-INF folder).\r\n\r\nDoes anyone know how I can read my manifest app in my Spring Boot app?\r\n\r\n**UPDATE:** After some research I noticed that using the usual way to read a manifest.mf file, in a Spring Boot application this is the Jar that is being accessed\r\n\r\n    org.springframework.boot.loader.jar.JarFile","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>I'm trying to read my META-INF/MANIFEST.MF file from my Spring Boot web app (contained in a jar file).</p>\n\n<p>I'm trying the following code:</p>\n\n<pre><code>        InputStream is = getClass().getResourceAsStream(\"/META-INF/MANIFEST.MF\");\n\n        Properties prop = new Properties();\n        prop.load( is );\n</code></pre>\n\n<p>But apparently there is something behind the scenes in Spring Boot that a different manifest.mf is loaded (and not my own located in META-INF folder).</p>\n\n<p>Does anyone know how I can read my manifest app in my Spring Boot app?</p>\n\n<p><strong>UPDATE:</strong> After some research I noticed that using the usual way to read a manifest.mf file, in a Spring Boot application this is the Jar that is being accessed</p>\n\n<pre><code>org.springframework.boot.loader.jar.JarFile\n</code></pre>\n"},{"tags":["java","search","hidden-characters"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1650271689,"post_id":71909525,"comment_id":127068980,"body_markdown":"Dont use chars, use code points.","body":"Dont use chars, use code points."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1650272149,"post_id":71909525,"comment_id":127069099,"body_markdown":"@Boris the Spider.  After using the code points, i could see the same numbers. I will try to implement search function with that. Thanks.","body":"@Boris the Spider.  After using the code points, i could see the same numbers. I will try to implement search function with that. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679383599,"creation_date":1650283672,"answer_id":71911620,"question_id":71909525,"body_markdown":"**Implementation**&lt;br&gt;\r\nTo search strings, one can use equals or contains after uppercasing them with locale tuned.\r\n\r\n**The Bug:**&lt;br&gt;\r\nHowever, I figured that there is a [bug][1] in JDK and Javascript for turkish and german character convertions.\r\n\r\n**JavaScript:**&lt;br&gt;\r\nIn JavaScript, one should detect the locale first:\r\n```\r\nvar lng = navigator.language; //tr\r\n```\r\n\r\nAccording to [this][2] answer, one can use below code to uppercase strings in native javascript.\r\n```\r\n&quot;i&#246;&#231;&#252;&quot;.toLocaleUpperCase(&#39;tr-TR&#39;); //I&#214;&#199;&#220;\r\n```\r\n\r\n**&lt;b&gt;JAVA | GWT:**&lt;br&gt;\r\nIn Java, one should detect the locale first: (like [here][3])\r\n```\r\nLocale.getDefault().getLanguage().equals(&quot;tr&quot;);\r\n```\r\nOr in Java GWT,  one should detect the locale first: (like [here][4])\r\n```\r\nLocaleInfo.getCurrentLocale().getLocaleName().contains(&quot;tr&quot;);\r\n```\r\n\r\nThen, according to language detected, If it is an unsupported language, he should use the below fix: (like [here][5])\r\n```\r\n&quot;i&#246;&#231;&#252;&quot;.toUpperCase(Locale.ROOT); //I&#214;&#199;&#220;\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#toUpperCase()\r\n  [2]: https://stackoverflow.com/questions/1850232/turkish-case-conversion-in-javascript\r\n  [3]: https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/server/TS_CharSetUtils.java\r\n  [4]: https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/client/TGC_CharSetUtils.java\r\n  [5]: https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/client/TGS_CharSetCast.java","title":"How to write a search text implementation in Java","body":"<p><strong>Implementation</strong><br>\nTo search strings, one can use equals or contains after uppercasing them with locale tuned.</p>\n<p><strong>The Bug:</strong><br>\nHowever, I figured that there is a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#toUpperCase()\" rel=\"nofollow noreferrer\">bug</a> in JDK and Javascript for turkish and german character convertions.</p>\n<p><strong>JavaScript:</strong><br>\nIn JavaScript, one should detect the locale first:</p>\n<pre><code>var lng = navigator.language; //tr\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/questions/1850232/turkish-case-conversion-in-javascript\">this</a> answer, one can use below code to uppercase strings in native javascript.</p>\n<pre><code>&quot;i&quot;.toLocaleUpperCase('tr-TR'); //I\n</code></pre>\n<p><strong>JAVA | GWT:</strong><br>\nIn Java, one should detect the locale first: (like <a href=\"https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/server/TS_CharSetUtils.java\" rel=\"nofollow noreferrer\">here</a>)</p>\n<pre><code>Locale.getDefault().getLanguage().equals(&quot;tr&quot;);\n</code></pre>\n<p>Or in Java GWT,  one should detect the locale first: (like <a href=\"https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/client/TGC_CharSetUtils.java\" rel=\"nofollow noreferrer\">here</a>)</p>\n<pre><code>LocaleInfo.getCurrentLocale().getLocaleName().contains(&quot;tr&quot;);\n</code></pre>\n<p>Then, according to language detected, If it is an unsupported language, he should use the below fix: (like <a href=\"https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/client/TGS_CharSetCast.java\" rel=\"nofollow noreferrer\">here</a>)</p>\n<pre><code>&quot;i&quot;.toUpperCase(Locale.ROOT); //I\n</code></pre>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71911620,"answer_count":1,"score":0,"last_activity_date":1679383599,"creation_date":1650271357,"question_id":71909525,"body_markdown":"I am trying to write a search text implementation in Java\r\n\r\n\r\nWith the below code below:\r\n\r\n    public String log(Object... source) {...//simple System.out.println for debugging purposes}\r\n    public boolean searchInLoweCase(CharSequence searchTag, CharSequence containsTag) {\r\n       var contains = containsTag.toString().contains(searchTag);\r\n       log(&quot;search&quot;, &quot;searchTag&quot;, searchTag, contains, &quot;containsTag&quot;, containsTag);\r\n       IntStream.range(0, searchTag.length()).forEachOrdered(charIdx -&gt; {\r\n       \t   log(&quot;search&quot;,\r\n    \t\t&quot;searchTag[&quot; + charIdx + &quot;].charAt/codePointAt/int&quot;, searchTag.charAt(charIdx), searchTag.codePointAt(charIdx), &quot;as&quot;, (int) searchTag.charAt(charIdx),\r\n    \t\t&quot;containsTag[&quot; + charIdx + &quot;].charAt/codePointAt/int&quot;, containsTag.charAt(charIdx), searchTag.codePointAt(charIdx), &quot;as&quot;, (int) containsTag.charAt(charIdx)\r\n    \t   );\r\n       });\r\n       return contains;\r\n     }\r\n\r\nFor input &quot;i&quot;:\\\r\n[![enter image description here][1]][1]\r\n\r\nthe output is \r\n \r\n    {searchTag, i, true, containsTag, iletiim}\r\n    {searchTag[0].charAt/codePointAt/int, i, 105, as, 105, containsTag[0].charAt/codePointAt/int, i, 105, as, 105}\r\n\r\nFor input &quot;il&quot;:\\\r\n[![enter image description here][2]][2]\r\n\r\nthe output is\r\n\r\n     {searchTag, il, false, containsTag, iletiim}\r\n     {searchTag[0].charAt/codePointAt/int, i, 105, as, 105, containsTag[0].charAt/codePointAt/int, i, 105, as, 105}\r\n     {searchTag[1].charAt/codePointAt/int, l, 108, as, 108, containsTag[1].charAt/codePointAt/int, , 108, as, 775}\r\n\r\n\r\nHere you can see the hidden character there.\\\r\nI tried to remove the hidden character with [answer here][3];\\\r\nhowever it did not work.\r\n\r\nDid you exprienced it before?\r\n\r\n  [1]: https://i.stack.imgur.com/IXcPt.png\r\n  [2]: https://i.stack.imgur.com/hQf2X.png\r\n  [3]: https://stackoverflow.com/questions/41031531/remove-hidden-character-and-special-character-java-javascript\r\n","title":"How to write a search text implementation in Java","body":"<p>I am trying to write a search text implementation in Java</p>\n<p>With the below code below:</p>\n<pre><code>public String log(Object... source) {...//simple System.out.println for debugging purposes}\npublic boolean searchInLoweCase(CharSequence searchTag, CharSequence containsTag) {\n   var contains = containsTag.toString().contains(searchTag);\n   log(&quot;search&quot;, &quot;searchTag&quot;, searchTag, contains, &quot;containsTag&quot;, containsTag);\n   IntStream.range(0, searchTag.length()).forEachOrdered(charIdx -&gt; {\n       log(&quot;search&quot;,\n        &quot;searchTag[&quot; + charIdx + &quot;].charAt/codePointAt/int&quot;, searchTag.charAt(charIdx), searchTag.codePointAt(charIdx), &quot;as&quot;, (int) searchTag.charAt(charIdx),\n        &quot;containsTag[&quot; + charIdx + &quot;].charAt/codePointAt/int&quot;, containsTag.charAt(charIdx), searchTag.codePointAt(charIdx), &quot;as&quot;, (int) containsTag.charAt(charIdx)\n       );\n   });\n   return contains;\n }\n</code></pre>\n<p>For input &quot;i&quot;:<br />\n<a href=\"https://i.stack.imgur.com/IXcPt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IXcPt.png\" alt=\"enter image description here\" /></a></p>\n<p>the output is</p>\n<pre><code>{searchTag, i, true, containsTag, iletiim}\n{searchTag[0].charAt/codePointAt/int, i, 105, as, 105, containsTag[0].charAt/codePointAt/int, i, 105, as, 105}\n</code></pre>\n<p>For input &quot;il&quot;:<br />\n<a href=\"https://i.stack.imgur.com/hQf2X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hQf2X.png\" alt=\"enter image description here\" /></a></p>\n<p>the output is</p>\n<pre><code> {searchTag, il, false, containsTag, iletiim}\n {searchTag[0].charAt/codePointAt/int, i, 105, as, 105, containsTag[0].charAt/codePointAt/int, i, 105, as, 105}\n {searchTag[1].charAt/codePointAt/int, l, 108, as, 108, containsTag[1].charAt/codePointAt/int, , 108, as, 775}\n</code></pre>\n<p>Here you can see the hidden character there.<br />\nI tried to remove the hidden character with <a href=\"https://stackoverflow.com/questions/41031531/remove-hidden-character-and-special-character-java-javascript\">answer here</a>;<br />\nhowever it did not work.</p>\n<p>Did you exprienced it before?</p>\n"},{"tags":["java","sql","json","postgresql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1478036740,"creation_date":1468489846,"answer_id":38370973,"question_id":38370972,"body_markdown":"There are two possible workarounds:\r\n\r\n### Use static statements, instead of prepared statements\r\n\r\nThis is the simplest workaround, but you lose all the benefits from prepared statements (performance, SQL injection protection, etc.). However, this will work \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (Statement s = c.createStatement();\r\n         ResultSet rs = s.executeQuery(&quot;select &#39;{}&#39;::jsonb ?| array[&#39;a&#39;, &#39;b&#39;]&quot;)) {\r\n         ...\r\n    }\r\n\r\n### Avoid the operator. Use a function instead (note: indexes might not be used)\r\n\r\nOperators are just syntax sugar for a backing function that exists in the `pg_catalog`. Here&#39;s how to find the name of these functions:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n\tSELECT \r\n      oprname, \r\n      oprcode || &#39;(&#39; || format_type(oprleft,  NULL::integer) || &#39;, &#39; \r\n                     || format_type(oprright, NULL::integer) || &#39;)&#39; AS function\r\n\tFROM pg_operator \r\n\tWHERE oprname = &#39;?|&#39;;\r\n\r\nThe above yields:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    oprname  function\r\n    ----------------------------------------------------------------------------------\r\n    ?|       point_vert(point, point)\r\n    ?|       lseg_vertical(-, lseg)\r\n    ?|       line_vertical(-, line)\r\n    ?|       jsonb_exists_any(jsonb, text[])    &lt;--- this is the one we&#39;re looking for\r\n    ?|       exists_any(hstore, text[])\r\n\r\nSo, the simplest workaround is to just not use the operator, but the corresponding function instead:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (PreparedStatement s = c.prepareStatement(\r\n             &quot;select jsonb_exists_any(&#39;{}&#39;::jsonb, array[&#39;a&#39;, &#39;b&#39;]&quot;);\r\n         ResultSet rs = s.executeQuery()) {\r\n         ...\r\n    }\r\n\r\n\r\n","title":"How do I use PostgreSQL JSON(B) operators containing a question mark &quot;?&quot; via JDBC","body":"<p>There are two possible workarounds:</p>\n\n<h3>Use static statements, instead of prepared statements</h3>\n\n<p>This is the simplest workaround, but you lose all the benefits from prepared statements (performance, SQL injection protection, etc.). However, this will work </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (Statement s = c.createStatement();\n     ResultSet rs = s.executeQuery(\"select '{}'::jsonb ?| array['a', 'b']\")) {\n     ...\n}\n</code></pre>\n\n<h3>Avoid the operator. Use a function instead (note: indexes might not be used)</h3>\n\n<p>Operators are just syntax sugar for a backing function that exists in the <code>pg_catalog</code>. Here's how to find the name of these functions:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \n  oprname, \n  oprcode || '(' || format_type(oprleft,  NULL::integer) || ', ' \n                 || format_type(oprright, NULL::integer) || ')' AS function\nFROM pg_operator \nWHERE oprname = '?|';\n</code></pre>\n\n<p>The above yields:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>oprname  function\n----------------------------------------------------------------------------------\n?|       point_vert(point, point)\n?|       lseg_vertical(-, lseg)\n?|       line_vertical(-, line)\n?|       jsonb_exists_any(jsonb, text[])    &lt;--- this is the one we're looking for\n?|       exists_any(hstore, text[])\n</code></pre>\n\n<p>So, the simplest workaround is to just not use the operator, but the corresponding function instead:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (PreparedStatement s = c.prepareStatement(\n         \"select jsonb_exists_any('{}'::jsonb, array['a', 'b']\");\n     ResultSet rs = s.executeQuery()) {\n     ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679383420,"creation_date":1679383420,"answer_id":75798315,"question_id":38370972,"body_markdown":"The [JDBC documentation][1] describes how to use operators that contain a question mark:\r\n\r\n&gt; In JDBC, the question mark (`?`) is the placeholder for the positional parameters of a `PreparedStatement`. There are, however, a number of PostgreSQL&lt;sup&gt;&#174;&lt;/sup&gt; operators that contain a question mark. To keep such question marks in an SQL statement from being interpreted as positional parameters, use two question marks (`??`) as escape sequence. You can also use this escape sequence in a `Statement`, but that is not required.\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/query/#using-the-statement-or-preparedstatement-interface","title":"How do I use PostgreSQL JSON(B) operators containing a question mark &quot;?&quot; via JDBC","body":"<p>The <a href=\"https://jdbc.postgresql.org/documentation/query/#using-the-statement-or-preparedstatement-interface\" rel=\"nofollow noreferrer\">JDBC documentation</a> describes how to use operators that contain a question mark:</p>\n<blockquote>\n<p>In JDBC, the question mark (<code>?</code>) is the placeholder for the positional parameters of a <code>PreparedStatement</code>. There are, however, a number of PostgreSQL<sup></sup> operators that contain a question mark. To keep such question marks in an SQL statement from being interpreted as positional parameters, use two question marks (<code>??</code>) as escape sequence. You can also use this escape sequence in a <code>Statement</code>, but that is not required.</p>\n</blockquote>\n"}],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7630,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1679383420,"creation_date":1468489846,"question_id":38370972,"body_markdown":"PostgreSQL knows a couple of funky ASCII-art operators that use the question mark character in their names, for instance [these JSON operators][1]:\r\n\r\n- `?` does the string exist as a top-level key within the JSON value?\r\n- `?|` Do any of these array strings exist as top-level keys?\r\n- `?&amp;` Do all of these array strings exist as top-level keys?\r\n\r\nThe problem is that the official PostgreSQL JDBC driver does not seem to correctly parse SQL strings containing such operators. It assumes that the question mark is an ordinary JDBC bind variable. The following code...\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (PreparedStatement s = c.prepareStatement(&quot;select &#39;{}&#39;::jsonb ?| array[&#39;a&#39;, &#39;b&#39;]&quot;);\r\n         ResultSet rs = s.executeQuery()) {\r\n         ...\r\n    }\r\n\r\n... throws an exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    org.postgresql.util.PSQLException: F&#252;r den Parameter 1 wurde kein Wert angegeben.\r\n    \tat org.postgresql.core.v3.SimpleParameterList.checkAllParametersSet(SimpleParameterList.java:225)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:190)\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:161)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)\r\n\r\nHow can I use this operator?\r\n\r\n  [1]: https://www.postgresql.org/docs/current/static/functions-json.html\r\n\r\n","title":"How do I use PostgreSQL JSON(B) operators containing a question mark &quot;?&quot; via JDBC","body":"<p>PostgreSQL knows a couple of funky ASCII-art operators that use the question mark character in their names, for instance <a href=\"https://www.postgresql.org/docs/current/static/functions-json.html\" rel=\"noreferrer\">these JSON operators</a>:</p>\n\n<ul>\n<li><code>?</code> does the string exist as a top-level key within the JSON value?</li>\n<li><code>?|</code> Do any of these array strings exist as top-level keys?</li>\n<li><code>?&amp;</code> Do all of these array strings exist as top-level keys?</li>\n</ul>\n\n<p>The problem is that the official PostgreSQL JDBC driver does not seem to correctly parse SQL strings containing such operators. It assumes that the question mark is an ordinary JDBC bind variable. The following code...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (PreparedStatement s = c.prepareStatement(\"select '{}'::jsonb ?| array['a', 'b']\");\n     ResultSet rs = s.executeQuery()) {\n     ...\n}\n</code></pre>\n\n<p>... throws an exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.postgresql.util.PSQLException: Fr den Parameter 1 wurde kein Wert angegeben.\n    at org.postgresql.core.v3.SimpleParameterList.checkAllParametersSet(SimpleParameterList.java:225)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:190)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:161)\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)\n</code></pre>\n\n<p>How can I use this operator?</p>\n"},{"tags":["java","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679383396,"creation_date":1679383396,"answer_id":75798311,"question_id":75795480,"body_markdown":"Let me be certain I understand your use case correctly.\r\n\r\nThere is a REST-based service that returns customer `Identifiers` object containing a  `customerId` and `accountNumber`. Initially the caches are empty...\r\n\r\n```\r\n# identifiers_cache_by_customer_id\r\n\r\nCustomer ID | Identifier\r\n------------------------\r\n            |\r\n\r\n```\r\n\r\nAnd...\r\n\r\n```\r\n#identifiers_cache_by_account_number\r\n\r\nAccount Number | Identifier\r\n---------------------------\r\n               |\r\n\r\n```\r\n\r\nThen, when a caller makes a call to 1 of the `@Cacheable` service methods of your `@Service` annotated `CachedIdentifiersCache` service, say by &quot;account number&quot; first, such as:\r\n\r\n\r\n```java\r\nString accountNumber = &quot;abc123&quot;;\r\n\r\nIdentifiers customerIdentifiers = \r\n  cacheableService.getIdentifier(accountNumber);\r\n```\r\n\r\nAnd the `Identifiers` object returned for customer with account number &quot;`abc123`&quot; has a customer ID of `98765`, you would to see in the caches, the following:\r\n\r\n```\r\n# identifiers_cache_by_customer_id\r\n\r\nCustomer ID | Identifier\r\n------------------------\r\n98765       | Identifier@a102bf\r\n\r\n```\r\n\r\nAnd:\r\n\r\n```\r\n# identifiers_cache_by_account_number\r\n\r\nAccount Number | Identifier\r\n---------------------------\r\nabc123         | Identifier@a102bf\r\n\r\n```\r\n\r\nThat way, and subsequently, if another caller then calls either `getIdentifiers(..)` method with a customer ID (`98765`) or with account number (&quot;`abc123`&quot;), then it returns the cached `Identifier@a102bf` for that customer (either from the &quot;*identifiers_cache_by_customer_id*&quot; cache or &quot;*identifiers_cache_by_account_number*&quot; cache, respectively).\r\n\r\nCorrect?\r\n\r\nI am now going to assume this is what you want.\r\n\r\nYou can achieve the desired outcome in the following way, and technically, there are many more ways to achieve this outcome as well.\r\n\r\nYou can simply inject the `CacheManager` bean into your service class like my following example will demonstrate and use it to update both caches appropriately.\r\n\r\nFor example:\r\n\r\n```java\r\n@Service\r\npublic class CachedIdentifiersCache {\r\n\r\n    private final Cache identifiersCacheByCustomerId;\r\n    private final Cache identifiersCacheByAccountNumber;\r\n\r\n    private final LazyIdentifiersService slowServiceWithMultipleRestInvocations;\r\n\r\n    public CachedIdentifiersCache(@NonNull CacheManager cacheManager,\r\n        @NonNull LazyIdentifiersService remoteService) {\r\n\r\n      Assert.notNull(cacheManager, &quot;CacheManager is required&quot;);\r\n      Assert.notNull(remoteService, &quot;LazyIdentifiersService is required&quot;);\r\n\r\n      this.slowServiceWithMultipleRestInvocations = remoteService;\r\n\r\n      this.identifiersCacheByCustomerId = \r\n        cacheManager.getCache(&quot;identifiers_cache_by_customer_id&quot;);\r\n\r\n      this.identifiersCacheByAccountNumber =\r\n        cacheManager.getCache(&quot;identifiers_cache_by_account_number&quot;);\r\n    }\r\n\r\n    @Cacheable(\r\n      value = {&quot;identifiers_cache_by_customer_id&quot;}, \r\n      key = &quot;#customerId&quot;\r\n    )\r\n    public Identifiers getCachedIdentifiers(Long customerId) {\r\n\r\n      Identifiers identifiers = slowServiceWithMultipleRestInvocations\r\n        .getIdentifiers(customerId);\r\n\r\n      if (identifiers != null) {\r\n        this.identifiersCacheByAccountNumber\r\n          .put(identifiers.getAccountNumber(), identifiers);\r\n      }\r\n\r\n      return identifiers;\r\n    }\r\n\r\n\r\n    @Cacheable(\r\n      value = {&quot;identifiers_cache_by_account_number&quot;}, \r\n      key = &quot;#accountNumber&quot;\r\n    )\r\n    public Identifiers getCachedIdentifiers(String accountNumber) {\r\n\r\n      Identifiers identifiers = slowServiceWithMultipleRestInvocations\r\n        .getIdentifiers(accountNumber);\r\n\r\n      if (identifiers != null) {\r\n        this.identifiersCacheByCustomerId\r\n          .put(identifiers.getCustomerId(), identifiers);\r\n      }\r\n\r\n      return identifiers;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHopefully you recognize the changes here.\r\n\r\nUnfortunately, this approach requires a direct dependency on the caches in your application service class and forces your application code to cache the `Identifiers` object in the other (opposite) cache, by ID or accountNumber,  manually.\r\n\r\nOther possible solutions...\r\n\r\nYou could also achieve the same outcome by restructuring your code and using a combination of `@Cacheable` and `@CachePut` annotated methods. However, be careful with this approach since Spring AOP (caching) proxied methods cannot call other AOP proxied methods once inside the proxied object.\r\n\r\nIn other words, an `@Cacheable` annotated method cannot call an `@CachePut` annotated method from inside the `@Cacheable` annotated method of the cacheable object (like `CachedIdentifiersCache`).\r\n\r\nYou also cannot annotate the same service method with both `@Cacheable` and `@CachePut` like some may think, see [here][1].\r\n\r\nYou could also provide special wrappers around the `CacheManager` and/or `Cache` objects (the Spring Frameworks primary [SPI][2] for caching infrastructure and abstracting common caching providers) that handles cache pairs, like your use case loosely described above.\r\n\r\nYou should also think about what would happen when 2 or more separate calling Threads (requests) calls the service class for the &quot;same&quot; logical customer, say our customer in the scenario above, where Thread 1 calls `getIdentifiers(..)` with customer ID `98765` and the Thread 2 simultaneously calls `getIdentifiers(..)` with account number &quot;`abc123`&quot;.\r\n\r\nThis could and most likely will result in the `slowServiceWithMultipleRestInvocations` being called at least 2 or more times (depending on the number of requests/Threads) for the same customer until the customer is properly cached by 1 of the calls (Threads).\r\n\r\nSpring does offer some coordination [here][3], but it will not help in your case.\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-put\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/package-summary.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-synchronized","title":"Spring caching + how to put result of @Cachable into multiple caches","body":"<p>Let me be certain I understand your use case correctly.</p>\n<p>There is a REST-based service that returns customer <code>Identifiers</code> object containing a  <code>customerId</code> and <code>accountNumber</code>. Initially the caches are empty...</p>\n<pre><code># identifiers_cache_by_customer_id\n\nCustomer ID | Identifier\n------------------------\n            |\n\n</code></pre>\n<p>And...</p>\n<pre><code>#identifiers_cache_by_account_number\n\nAccount Number | Identifier\n---------------------------\n               |\n\n</code></pre>\n<p>Then, when a caller makes a call to 1 of the <code>@Cacheable</code> service methods of your <code>@Service</code> annotated <code>CachedIdentifiersCache</code> service, say by &quot;account number&quot; first, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String accountNumber = &quot;abc123&quot;;\n\nIdentifiers customerIdentifiers = \n  cacheableService.getIdentifier(accountNumber);\n</code></pre>\n<p>And the <code>Identifiers</code> object returned for customer with account number &quot;<code>abc123</code>&quot; has a customer ID of <code>98765</code>, you would to see in the caches, the following:</p>\n<pre><code># identifiers_cache_by_customer_id\n\nCustomer ID | Identifier\n------------------------\n98765       | Identifier@a102bf\n\n</code></pre>\n<p>And:</p>\n<pre><code># identifiers_cache_by_account_number\n\nAccount Number | Identifier\n---------------------------\nabc123         | Identifier@a102bf\n\n</code></pre>\n<p>That way, and subsequently, if another caller then calls either <code>getIdentifiers(..)</code> method with a customer ID (<code>98765</code>) or with account number (&quot;<code>abc123</code>&quot;), then it returns the cached <code>Identifier@a102bf</code> for that customer (either from the &quot;<em>identifiers_cache_by_customer_id</em>&quot; cache or &quot;<em>identifiers_cache_by_account_number</em>&quot; cache, respectively).</p>\n<p>Correct?</p>\n<p>I am now going to assume this is what you want.</p>\n<p>You can achieve the desired outcome in the following way, and technically, there are many more ways to achieve this outcome as well.</p>\n<p>You can simply inject the <code>CacheManager</code> bean into your service class like my following example will demonstrate and use it to update both caches appropriately.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CachedIdentifiersCache {\n\n    private final Cache identifiersCacheByCustomerId;\n    private final Cache identifiersCacheByAccountNumber;\n\n    private final LazyIdentifiersService slowServiceWithMultipleRestInvocations;\n\n    public CachedIdentifiersCache(@NonNull CacheManager cacheManager,\n        @NonNull LazyIdentifiersService remoteService) {\n\n      Assert.notNull(cacheManager, &quot;CacheManager is required&quot;);\n      Assert.notNull(remoteService, &quot;LazyIdentifiersService is required&quot;);\n\n      this.slowServiceWithMultipleRestInvocations = remoteService;\n\n      this.identifiersCacheByCustomerId = \n        cacheManager.getCache(&quot;identifiers_cache_by_customer_id&quot;);\n\n      this.identifiersCacheByAccountNumber =\n        cacheManager.getCache(&quot;identifiers_cache_by_account_number&quot;);\n    }\n\n    @Cacheable(\n      value = {&quot;identifiers_cache_by_customer_id&quot;}, \n      key = &quot;#customerId&quot;\n    )\n    public Identifiers getCachedIdentifiers(Long customerId) {\n\n      Identifiers identifiers = slowServiceWithMultipleRestInvocations\n        .getIdentifiers(customerId);\n\n      if (identifiers != null) {\n        this.identifiersCacheByAccountNumber\n          .put(identifiers.getAccountNumber(), identifiers);\n      }\n\n      return identifiers;\n    }\n\n\n    @Cacheable(\n      value = {&quot;identifiers_cache_by_account_number&quot;}, \n      key = &quot;#accountNumber&quot;\n    )\n    public Identifiers getCachedIdentifiers(String accountNumber) {\n\n      Identifiers identifiers = slowServiceWithMultipleRestInvocations\n        .getIdentifiers(accountNumber);\n\n      if (identifiers != null) {\n        this.identifiersCacheByCustomerId\n          .put(identifiers.getCustomerId(), identifiers);\n      }\n\n      return identifiers;\n    }\n}\n\n</code></pre>\n<p>Hopefully you recognize the changes here.</p>\n<p>Unfortunately, this approach requires a direct dependency on the caches in your application service class and forces your application code to cache the <code>Identifiers</code> object in the other (opposite) cache, by ID or accountNumber,  manually.</p>\n<p>Other possible solutions...</p>\n<p>You could also achieve the same outcome by restructuring your code and using a combination of <code>@Cacheable</code> and <code>@CachePut</code> annotated methods. However, be careful with this approach since Spring AOP (caching) proxied methods cannot call other AOP proxied methods once inside the proxied object.</p>\n<p>In other words, an <code>@Cacheable</code> annotated method cannot call an <code>@CachePut</code> annotated method from inside the <code>@Cacheable</code> annotated method of the cacheable object (like <code>CachedIdentifiersCache</code>).</p>\n<p>You also cannot annotate the same service method with both <code>@Cacheable</code> and <code>@CachePut</code> like some may think, see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-put\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You could also provide special wrappers around the <code>CacheManager</code> and/or <code>Cache</code> objects (the Spring Frameworks primary <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/package-summary.html\" rel=\"nofollow noreferrer\">SPI</a> for caching infrastructure and abstracting common caching providers) that handles cache pairs, like your use case loosely described above.</p>\n<p>You should also think about what would happen when 2 or more separate calling Threads (requests) calls the service class for the &quot;same&quot; logical customer, say our customer in the scenario above, where Thread 1 calls <code>getIdentifiers(..)</code> with customer ID <code>98765</code> and the Thread 2 simultaneously calls <code>getIdentifiers(..)</code> with account number &quot;<code>abc123</code>&quot;.</p>\n<p>This could and most likely will result in the <code>slowServiceWithMultipleRestInvocations</code> being called at least 2 or more times (depending on the number of requests/Threads) for the same customer until the customer is properly cached by 1 of the calls (Threads).</p>\n<p>Spring does offer some coordination <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-synchronized\" rel=\"nofollow noreferrer\">here</a>, but it will not help in your case.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":4426719,"reputation":13,"user_id":3604998,"display_name":"snej0keee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75798311,"answer_count":1,"score":1,"last_activity_date":1679383396,"creation_date":1679347638,"question_id":75795480,"body_markdown":"I have a service that resolve customer identifiers in some domain.\r\nI have a simple pojo model of a customer identifiers:\r\n```java\r\n@Data\r\npublic class Identifiers {\r\n    private String accountNumber;\r\n    private Long customerId;\r\n}\r\n```\r\nAnd i have a service, that resolving (fetching) identifiers by calling multiple slow rest api. For test/demo purposes just imagine something like this:\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class LazyIdentifiersService {\r\n    @SneakyThrows\r\n    public Identifiers getIdentifiers() {\r\n        TimeUnit.SECONDS.sleep(3);\r\n        var identifiers = new Identifiers();\r\n        identifiers.setAccountNumber(&quot;a&quot;);\r\n        identifiers.setCustomerId(1L);\r\n        return identifiers;\r\n    }\r\n}\r\n```\r\n\r\nI want to caching my &quot;result&quot; (Identifiers model for customer) if i resolved that by one of properties.\r\nI`m starting with this:\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class CachedIdentifiersCache {\r\n\r\n    private final LazyIdentifiersService slowServiceWithMultipleRestInvocations;\r\n\r\n    @Cacheable(value = {&quot;identifiers_cache_by_customer_id&quot;}, key = &quot;#customerId&quot;)\r\n    public Identifiers getCachedIdentifiers(Long customerId) {\r\n        return slowServiceWithMultipleRestInvocations.getIdentifiers();\r\n    }\r\n    @Cacheable(value = {&quot;identifiers_cache_by_account_number&quot;}, key = &quot;#accountNumber&quot;)\r\n    public Identifiers getCachedIdentifiers(String accountNumber) {\r\n        return slowServiceWithMultipleRestInvocations.getIdentifiers();\r\n    }\r\n}\r\n```\r\n\r\nIs that possible to save result into both cache from single calling ? \r\n\r\nUse case that i want to realize:\r\n1. Someone calls my service to resolve customer (identifiers) by account Number.\r\n2. My caches are empty, and i call slow services to fetch and build Identifiers model.\r\n3. I want to save my result into both caches (identifiers_cache_by_customer_id and identifiers_cache_by_account_number)\r\n4. Next time someone calls my service to resolve identifiers by customerId, i just want to get it from cache.","title":"Spring caching + how to put result of @Cachable into multiple caches","body":"<p>I have a service that resolve customer identifiers in some domain.\nI have a simple pojo model of a customer identifiers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Identifiers {\n    private String accountNumber;\n    private Long customerId;\n}\n</code></pre>\n<p>And i have a service, that resolving (fetching) identifiers by calling multiple slow rest api. For test/demo purposes just imagine something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class LazyIdentifiersService {\n    @SneakyThrows\n    public Identifiers getIdentifiers() {\n        TimeUnit.SECONDS.sleep(3);\n        var identifiers = new Identifiers();\n        identifiers.setAccountNumber(&quot;a&quot;);\n        identifiers.setCustomerId(1L);\n        return identifiers;\n    }\n}\n</code></pre>\n<p>I want to caching my &quot;result&quot; (Identifiers model for customer) if i resolved that by one of properties.\nI`m starting with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class CachedIdentifiersCache {\n\n    private final LazyIdentifiersService slowServiceWithMultipleRestInvocations;\n\n    @Cacheable(value = {&quot;identifiers_cache_by_customer_id&quot;}, key = &quot;#customerId&quot;)\n    public Identifiers getCachedIdentifiers(Long customerId) {\n        return slowServiceWithMultipleRestInvocations.getIdentifiers();\n    }\n    @Cacheable(value = {&quot;identifiers_cache_by_account_number&quot;}, key = &quot;#accountNumber&quot;)\n    public Identifiers getCachedIdentifiers(String accountNumber) {\n        return slowServiceWithMultipleRestInvocations.getIdentifiers();\n    }\n}\n</code></pre>\n<p>Is that possible to save result into both cache from single calling ?</p>\n<p>Use case that i want to realize:</p>\n<ol>\n<li>Someone calls my service to resolve customer (identifiers) by account Number.</li>\n<li>My caches are empty, and i call slow services to fetch and build Identifiers model.</li>\n<li>I want to save my result into both caches (identifiers_cache_by_customer_id and identifiers_cache_by_account_number)</li>\n<li>Next time someone calls my service to resolve identifiers by customerId, i just want to get it from cache.</li>\n</ol>\n"},{"tags":["java","amazon-web-services","spymemcached","amazon-elasticache"],"comments":[{"owner":{"account_id":980536,"reputation":4732,"user_id":1000361,"accept_rate":60,"display_name":"Moemars"},"score":4,"creation_date":1358212377,"post_id":14169189,"comment_id":19914784,"body_markdown":"I found the solution to my own problem.  Looks like my security groups were not setup correctly.  Once I fixed my security groups and deployed my code to our EC2 instance it was able to connect.","body":"I found the solution to my own problem.  Looks like my security groups were not setup correctly.  Once I fixed my security groups and deployed my code to our EC2 instance it was able to connect."},{"owner":{"account_id":4495898,"reputation":1333,"user_id":3655695,"accept_rate":51,"display_name":"Sam"},"score":2,"creation_date":1435243937,"post_id":14169189,"comment_id":50128709,"body_markdown":"Could you please add as how did you fix your security group. i am facing same issue and i am new to amazon services. Thanks","body":"Could you please add as how did you fix your security group. i am facing same issue and i am new to amazon services. Thanks"},{"owner":{"account_id":76433,"reputation":1907,"user_id":218811,"accept_rate":61,"display_name":"Phil"},"score":0,"creation_date":1477062166,"post_id":14169189,"comment_id":67627169,"body_markdown":"@Sam I am also facing the same issue and would be interested in how you fixed your security group. I have tried opening them to the world but it still doesn&#39;t work","body":"@Sam I am also facing the same issue and would be interested in how you fixed your security group. I have tried opening them to the world but it still doesn&#39;t work"},{"owner":{"account_id":980536,"reputation":4732,"user_id":1000361,"accept_rate":60,"display_name":"Moemars"},"score":1,"creation_date":1477598622,"post_id":14169189,"comment_id":67844954,"body_markdown":"Unfortunately, I can&#39;t quite remember and I left the company where I made the change. I would check to see if the outbound ports are opened up on the EC2 machine security group and that the inbound ports on the elastic cache security group are opened up.","body":"Unfortunately, I can&#39;t quite remember and I left the company where I made the change. I would check to see if the outbound ports are opened up on the EC2 machine security group and that the inbound ports on the elastic cache security group are opened up."}],"answers":[{"tags":[],"owner":{"account_id":2141518,"reputation":1374,"user_id":1900027,"display_name":"Avinash Garg"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1358407055,"creation_date":1358407055,"answer_id":14373973,"question_id":14169189,"body_markdown":"Client is not initialised: \r\nYou can not directly connect to amazon elastic cache node through your local machine you can only access it through your ec2 machiene.If you want to check you can telnet from your local machine it will not connect I also suufered from the same problem .You can telnet it from your Ec2 machine.so try your code at ec2 machine it will work.","title":"Amazon ElasticCache Autodiscovery - Client is not initialized","body":"<p>Client is not initialised: \nYou can not directly connect to amazon elastic cache node through your local machine you can only access it through your ec2 machiene.If you want to check you can telnet from your local machine it will not connect I also suufered from the same problem .You can telnet it from your Ec2 machine.so try your code at ec2 machine it will work.</p>\n"},{"tags":[],"owner":{"account_id":3096289,"reputation":1,"user_id":2621395,"display_name":"user2621395"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374817181,"creation_date":1374817181,"answer_id":17873728,"question_id":14169189,"body_markdown":"Do telnet on memcache server to check connectivity ,in mine case it was not listed so was not able to made connection , \r\nproblem solved by listing my server to memcache.\r\n","title":"Amazon ElasticCache Autodiscovery - Client is not initialized","body":"<p>Do telnet on memcache server to check connectivity ,in mine case it was not listed so was not able to made connection , \nproblem solved by listing my server to memcache.</p>\n"},{"tags":[],"owner":{"account_id":2079726,"reputation":1636,"user_id":1852005,"display_name":"stwr667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679383277,"creation_date":1679383277,"answer_id":75798299,"question_id":14169189,"body_markdown":"The `Client is not initialized` error indicates that you cannot connect to your ElastiCache Memcached cluster. The 2 scenarios you might fall into are:\r\n\r\n1. You can&#39;t connect from your EC2 instance\r\n2. You can&#39;t connect from your local machine\r\n\r\n## Case 1 - EC2 instance\r\nThis will mean that your security groups won&#39;t be set up properly. Find your ElastiCache cluster, click on Network and Security, then on a security group, and then try adding a new (very open, initially) Inbound rule. Then follow **Testing Memcached with telnet** (below), and gradually narrow your Inbound rule.\r\n\r\n## Case 2 - Local machine\r\nBy default, ElastiCache clusters can only be connected to from other AWS resources. You can either open up your security groups to allow public access (not ideal, but possible for fixed IPs). Or you can simply run an SSH port forwarding command, and connect via your EC2 instance. E.g:\r\n\r\n```\r\nssh -A -N -L 11211:&lt;your memcached cluster/node endpoint&gt;:11211 &lt;your EC2 instance that you use to connect to memcached&gt;\r\n```\r\ne.g:\r\n```\r\nssh -A -N -L 11211:my-dev-cache.eublah.cfg.use1.cache.amazonaws.com:11211 10.190.10.10\r\n```\r\nand then follow **Testing Memcached with telnet** (below) to test it.\r\n\r\n# Testing Memcached with telnet\r\nInstall `telnet`, and then follow these instructions to test your connection to your memcached cluster: https://aws.amazon.com/premiumsupport/knowledge-center/elasticache-connection-test/.\r\n\r\nE.g:\r\n```\r\ntelnet 127.0.0.1 11211 # where 127.0.0.1 is the host/EC2 instance you want to connect to\r\nTrying 127.0.0.1...\r\nConnected to localhost.\r\nEscape character is &#39;^]&#39;.\r\nset a 0 0 5\r\nhello\r\nSTORED\r\nget a\r\nVALUE a 0 5\r\nhello\r\nEND\r\nquit\r\nConnection closed by foreign host.\r\n```\r\n\r\nIf you can&#39;t get a connection, then it will never say Connected to `&lt;hostname&gt;`.\r\n","title":"Amazon ElasticCache Autodiscovery - Client is not initialized","body":"<p>The <code>Client is not initialized</code> error indicates that you cannot connect to your ElastiCache Memcached cluster. The 2 scenarios you might fall into are:</p>\n<ol>\n<li>You can't connect from your EC2 instance</li>\n<li>You can't connect from your local machine</li>\n</ol>\n<h2>Case 1 - EC2 instance</h2>\n<p>This will mean that your security groups won't be set up properly. Find your ElastiCache cluster, click on Network and Security, then on a security group, and then try adding a new (very open, initially) Inbound rule. Then follow <strong>Testing Memcached with telnet</strong> (below), and gradually narrow your Inbound rule.</p>\n<h2>Case 2 - Local machine</h2>\n<p>By default, ElastiCache clusters can only be connected to from other AWS resources. You can either open up your security groups to allow public access (not ideal, but possible for fixed IPs). Or you can simply run an SSH port forwarding command, and connect via your EC2 instance. E.g:</p>\n<pre><code>ssh -A -N -L 11211:&lt;your memcached cluster/node endpoint&gt;:11211 &lt;your EC2 instance that you use to connect to memcached&gt;\n</code></pre>\n<p>e.g:</p>\n<pre><code>ssh -A -N -L 11211:my-dev-cache.eublah.cfg.use1.cache.amazonaws.com:11211 10.190.10.10\n</code></pre>\n<p>and then follow <strong>Testing Memcached with telnet</strong> (below) to test it.</p>\n<h1>Testing Memcached with telnet</h1>\n<p>Install <code>telnet</code>, and then follow these instructions to test your connection to your memcached cluster: <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/elasticache-connection-test/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/premiumsupport/knowledge-center/elasticache-connection-test/</a>.</p>\n<p>E.g:</p>\n<pre><code>telnet 127.0.0.1 11211 # where 127.0.0.1 is the host/EC2 instance you want to connect to\nTrying 127.0.0.1...\nConnected to localhost.\nEscape character is '^]'.\nset a 0 0 5\nhello\nSTORED\nget a\nVALUE a 0 5\nhello\nEND\nquit\nConnection closed by foreign host.\n</code></pre>\n<p>If you can't get a connection, then it will never say Connected to <code>&lt;hostname&gt;</code>.</p>\n"}],"owner":{"account_id":980536,"reputation":4732,"user_id":1000361,"accept_rate":60,"display_name":"Moemars"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6650,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1679383277,"creation_date":1357366197,"question_id":14169189,"body_markdown":"I am trying to test Amazon&#39;s new Memcached client with AutoDiscovery.  I have one memcached node which I am able to connect to using XMemcached 1.3.5 as well as a standard SpyMemcached library.\r\n\r\nI am following the instructions here: http://docs.amazonwebservices.com/AmazonElastiCache/latest/UserGuide/AutoDiscovery.html\r\n\r\nThe code is almost identical to the example and is:\r\n\r\n    String configEndpoint = &quot;&lt;server name&gt;.rgcl8z.cfg.use1.cache.amazonaws.com&quot;;\r\n    Integer clusterPort = 11211;\r\n    MemcachedClient client = new MemcachedClient(new InetSocketAddress(configEndpoint, clusterPort));\r\n    client.set(&quot;theKey&quot;, 3600, &quot;This is the data value&quot;);\r\n\r\nI see the following in the logs when I create the connection.  The error happens when I try to set a value:\r\n\r\n    2013-01-04 22:05:30.445 INFO net.spy.memcached.MemcachedConnection:  Added {QA sa=/&lt;ip&gt;:11211, #Rops=0, #Wops=0, #iq=0, topRop=null, topWop=null, toWrite=0, interested=0} to connect queue\r\n    2013-01-04 22:05:32.861 INFO net.spy.memcached.ConfigurationPoller:  Starting configuration poller.\r\n    2013-01-04 22:05:32.861 INFO net.spy.memcached.ConfigurationPoller:  Endpoint to use for configuration access in this poll NodeEndPoint - HostName:&lt;our-server&gt;.rgcl8z.cfg.use1.cache.amazonaws.com IpAddress:&lt;ip&gt; Port:11211\r\n    2013-01-04 22:05:32.950 WARN net.spy.memcached.MemcachedClient:  Configuration endpoint timed out for config call. Leaving the initialization work to configuration poller.\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Client is not initialized\r\n\tat net.spy.memcached.MemcachedClient.checkState(MemcachedClient.java:1623)\r\n\tat net.spy.memcached.MemcachedClient.enqueueOperation(MemcachedClient.java:1617)\r\n\tat net.spy.memcached.MemcachedClient.asyncStore(MemcachedClient.java:474)\r\n\tat net.spy.memcached.MemcachedClient.set(MemcachedClient.java:905)\r\n\tat com.thinknear.venice.initializers.VeniceAssets.main(VeniceAssets.java:227)\r\n\r\n\r\n- I&#39;ve tried this both locally and on a EC2 instance (I can connect using other libraries to the nodes)\r\n- I&#39;ve tried using both 1.4.5 and 1.4.14 Memcached engines\r\n- I relaxed the security group constraints as well just in case\r\n\r\nAny thoughts on why the config endpoint would be timing out?","title":"Amazon ElasticCache Autodiscovery - Client is not initialized","body":"<p>I am trying to test Amazon's new Memcached client with AutoDiscovery.  I have one memcached node which I am able to connect to using XMemcached 1.3.5 as well as a standard SpyMemcached library.</p>\n\n<p>I am following the instructions here: <a href=\"http://docs.amazonwebservices.com/AmazonElastiCache/latest/UserGuide/AutoDiscovery.html\">http://docs.amazonwebservices.com/AmazonElastiCache/latest/UserGuide/AutoDiscovery.html</a></p>\n\n<p>The code is almost identical to the example and is:</p>\n\n<pre><code>String configEndpoint = \"&lt;server name&gt;.rgcl8z.cfg.use1.cache.amazonaws.com\";\nInteger clusterPort = 11211;\nMemcachedClient client = new MemcachedClient(new InetSocketAddress(configEndpoint, clusterPort));\nclient.set(\"theKey\", 3600, \"This is the data value\");\n</code></pre>\n\n<p>I see the following in the logs when I create the connection.  The error happens when I try to set a value:</p>\n\n<pre><code>2013-01-04 22:05:30.445 INFO net.spy.memcached.MemcachedConnection:  Added {QA sa=/&lt;ip&gt;:11211, #Rops=0, #Wops=0, #iq=0, topRop=null, topWop=null, toWrite=0, interested=0} to connect queue\n2013-01-04 22:05:32.861 INFO net.spy.memcached.ConfigurationPoller:  Starting configuration poller.\n2013-01-04 22:05:32.861 INFO net.spy.memcached.ConfigurationPoller:  Endpoint to use for configuration access in this poll NodeEndPoint - HostName:&lt;our-server&gt;.rgcl8z.cfg.use1.cache.amazonaws.com IpAddress:&lt;ip&gt; Port:11211\n2013-01-04 22:05:32.950 WARN net.spy.memcached.MemcachedClient:  Configuration endpoint timed out for config call. Leaving the initialization work to configuration poller.\nException in thread \"main\" java.lang.IllegalStateException: Client is not initialized\nat net.spy.memcached.MemcachedClient.checkState(MemcachedClient.java:1623)\nat net.spy.memcached.MemcachedClient.enqueueOperation(MemcachedClient.java:1617)\nat net.spy.memcached.MemcachedClient.asyncStore(MemcachedClient.java:474)\nat net.spy.memcached.MemcachedClient.set(MemcachedClient.java:905)\nat com.thinknear.venice.initializers.VeniceAssets.main(VeniceAssets.java:227)\n</code></pre>\n\n<ul>\n<li>I've tried this both locally and on a EC2 instance (I can connect using other libraries to the nodes)</li>\n<li>I've tried using both 1.4.5 and 1.4.14 Memcached engines</li>\n<li>I relaxed the security group constraints as well just in case</li>\n</ul>\n\n<p>Any thoughts on why the config endpoint would be timing out?</p>\n"},{"tags":["java","postgresql","spring-data-r2dbc"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1643292745,"post_id":70877916,"comment_id":125304735,"body_markdown":"I think/am sure [this(entity-state-detection)](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites) also applies to r2dbc repositories...due to &quot;r2dbc-limitation&quot;, you could introduce a `Version` field/column or try 2. or 3.","body":"I think/am sure <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites\" rel=\"nofollow noreferrer\">this(entity-state-detection)</a> also applies to r2dbc repositories...due to &quot;r2dbc-limitation&quot;, you could introduce a <code>Version</code> field/column or try 2. or 3."},{"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"score":0,"creation_date":1643294476,"post_id":70877916,"comment_id":125305581,"body_markdown":"Version and Persistable attempted; both failed; there is no equivalent Factory to subclass for the EntityInformation approach (that I could find).","body":"Version and Persistable attempted; both failed; there is no equivalent Factory to subclass for the EntityInformation approach (that I could find)."}],"answers":[{"tags":[],"owner":{"account_id":7655255,"reputation":63,"user_id":5802413,"display_name":"jashinhidan"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1643283938,"creation_date":1643283938,"answer_id":70878023,"question_id":70877916,"body_markdown":"The UUID can be auto-generated, if you generate it by yourself Hibernate sees the entity with an id and try to update it.\r\n\r\nTo auto-generate the uuid just use the following annotations on your fields:\r\n```\r\n@GeneratedValue(generator = &quot;UUID&quot;)\r\n@GenericGenerator(\r\n    name = &quot;UUID&quot;,\r\n    strategy = &quot;org.hibernate.id.UUIDGenerator&quot;,\r\n)\r\n```\r\n\r\nsource: [https://thorben-janssen.com/generate-uuids-primary-keys-hibernate/][1]\r\n\r\n\r\n  [1]: https://thorben-janssen.com/generate-uuids-primary-keys-hibernate/","title":"Spring Data R2DBC PostgreSQL not saving new record with UUID @Id","body":"<p>The UUID can be auto-generated, if you generate it by yourself Hibernate sees the entity with an id and try to update it.</p>\n<p>To auto-generate the uuid just use the following annotations on your fields:</p>\n<pre><code>@GeneratedValue(generator = &quot;UUID&quot;)\n@GenericGenerator(\n    name = &quot;UUID&quot;,\n    strategy = &quot;org.hibernate.id.UUIDGenerator&quot;,\n)\n</code></pre>\n<p>source: <a href=\"https://thorben-janssen.com/generate-uuids-primary-keys-hibernate/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/generate-uuids-primary-keys-hibernate/</a></p>\n"},{"tags":[],"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643296659,"creation_date":1643296659,"answer_id":70881059,"question_id":70877916,"body_markdown":"Despite the PostgreSQL documentation, there is a way to auto-generate UUIDs using the pgcrypto extension (for v4 UUIDs). (Process based on using pgAdmin GUI.)\r\n\r\nIn the Query Tool:\r\n\r\n* `select * from pg_extension` and check that pgcrypto is not listed.\r\n* `create extension pgcrypto` to install it; it comes with the default installation.\r\n\r\nThen, change the column definition with to `... id UUID PRIMARY KEY DEFAULT gen_random_uuid(), ...`\r\n\r\nAnd it works.","title":"Spring Data R2DBC PostgreSQL not saving new record with UUID @Id","body":"<p>Despite the PostgreSQL documentation, there is a way to auto-generate UUIDs using the pgcrypto extension (for v4 UUIDs). (Process based on using pgAdmin GUI.)</p>\n<p>In the Query Tool:</p>\n<ul>\n<li><code>select * from pg_extension</code> and check that pgcrypto is not listed.</li>\n<li><code>create extension pgcrypto</code> to install it; it comes with the default installation.</li>\n</ul>\n<p>Then, change the column definition with to <code>... id UUID PRIMARY KEY DEFAULT gen_random_uuid(), ...</code></p>\n<p>And it works.</p>\n"},{"tags":[],"owner":{"account_id":19330651,"reputation":78,"user_id":14132343,"display_name":"denizeve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643995978,"creation_date":1643896141,"answer_id":70972454,"question_id":70877916,"body_markdown":"Since R2DBC doesn&#39;t have (yet) auto-generation of UUIDs, and tools used inside Spring have their own mechanisms which prevent sending nulls to DB (so triggers to do the job can&#39;t be used) - maybe the optimal solution here is to generate UUIDs with Java (`UUID.randomUUID();`) and put them in Entities before sending the Entities to DB.\r\n\r\n**EDIT - concrete solution:**\r\n\r\nA minor problem with your solution is that the DB installation must be modyfied.\r\n\r\nAfter realizing described problem with insert, I quit trying to do it using the repository `save` method and switched to &quot;manual&quot; solution using R2DBC `DatabaseClient`:\r\n\r\n    dbClient.sql(&quot;insert into product_price(id, product_id, price) values(:id, :product_id, :price)&quot;)\r\n          .bind(&quot;id&quot;, UUID.randomUUID())\r\n          .bind(&quot;product_id&quot;, 1)\r\n          .bind(&quot;price&quot;, 10.0)\r\n          .fetch()\r\n          .one()\r\n          .subscribe();\r\n\r\nAnd here is the `DatabaseClient`, configured from `ConnectionFactory` and enabled to accept named parameters:\r\n\r\n    @Bean\r\n    public DatabaseClient dbClient(ConnectionFactory connectionFactory) {\r\n        return DatabaseClient.builder()\r\n                .connectionFactory(connectionFactory)\r\n                .namedParameters(true)\r\n                .build();\r\n    }\r\n\r\nThe `ConnectionFactory` is also a easily customisable Bean I have exposed in a config class that extends `AbstractR2dbcConfiguration`.\r\n\r\n---\r\nAnd hopefully, `save()` in reactive repository will be improved to behave like its counterparts in other spring-data repositories.","title":"Spring Data R2DBC PostgreSQL not saving new record with UUID @Id","body":"<p>Since R2DBC doesn't have (yet) auto-generation of UUIDs, and tools used inside Spring have their own mechanisms which prevent sending nulls to DB (so triggers to do the job can't be used) - maybe the optimal solution here is to generate UUIDs with Java (<code>UUID.randomUUID();</code>) and put them in Entities before sending the Entities to DB.</p>\n<p><strong>EDIT - concrete solution:</strong></p>\n<p>A minor problem with your solution is that the DB installation must be modyfied.</p>\n<p>After realizing described problem with insert, I quit trying to do it using the repository <code>save</code> method and switched to &quot;manual&quot; solution using R2DBC <code>DatabaseClient</code>:</p>\n<pre><code>dbClient.sql(&quot;insert into product_price(id, product_id, price) values(:id, :product_id, :price)&quot;)\n      .bind(&quot;id&quot;, UUID.randomUUID())\n      .bind(&quot;product_id&quot;, 1)\n      .bind(&quot;price&quot;, 10.0)\n      .fetch()\n      .one()\n      .subscribe();\n</code></pre>\n<p>And here is the <code>DatabaseClient</code>, configured from <code>ConnectionFactory</code> and enabled to accept named parameters:</p>\n<pre><code>@Bean\npublic DatabaseClient dbClient(ConnectionFactory connectionFactory) {\n    return DatabaseClient.builder()\n            .connectionFactory(connectionFactory)\n            .namedParameters(true)\n            .build();\n}\n</code></pre>\n<p>The <code>ConnectionFactory</code> is also a easily customisable Bean I have exposed in a config class that extends <code>AbstractR2dbcConfiguration</code>.</p>\n<hr />\n<p>And hopefully, <code>save()</code> in reactive repository will be improved to behave like its counterparts in other spring-data repositories.</p>\n"},{"tags":[],"owner":{"account_id":19330651,"reputation":78,"user_id":14132343,"display_name":"denizeve"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644099600,"creation_date":1644014452,"answer_id":70993641,"question_id":70877916,"body_markdown":"However, besides my [answer][1] about doing inserts using R2DBC `DatabaseClient`, there **IS** a way to do it using reactive repository&#39;s `save` method - by using [Persistable][2] interface, which is pretty straight-forward.\r\n\r\nIts `isNew` method can be implemented using entity&#39;s `version` attribut, or by adding a new dedicated attribut (something like `boolean isAlreadyPersisted`) that could be set explicitly before invoking `save()`.\r\nAnd maybe there are also some other ways to utilize `Persistable` that I&#39;m not aware of.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70972454/14132343\r\n  [2]: https://docs.spring.io/spring-data/data-commons/docs/current/api/index.html?org/springframework/data/domain/Persistable.html","title":"Spring Data R2DBC PostgreSQL not saving new record with UUID @Id","body":"<p>However, besides my <a href=\"https://stackoverflow.com/a/70972454/14132343\">answer</a> about doing inserts using R2DBC <code>DatabaseClient</code>, there <strong>IS</strong> a way to do it using reactive repository's <code>save</code> method - by using <a href=\"https://docs.spring.io/spring-data/data-commons/docs/current/api/index.html?org/springframework/data/domain/Persistable.html\" rel=\"nofollow noreferrer\">Persistable</a> interface, which is pretty straight-forward.</p>\n<p>Its <code>isNew</code> method can be implemented using entity's <code>version</code> attribut, or by adding a new dedicated attribut (something like <code>boolean isAlreadyPersisted</code>) that could be set explicitly before invoking <code>save()</code>.\nAnd maybe there are also some other ways to utilize <code>Persistable</code> that I'm not aware of.</p>\n"},{"tags":[],"owner":{"account_id":12711012,"reputation":97,"user_id":16330843,"display_name":"doniadhamov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654610675,"creation_date":1654610675,"answer_id":72532617,"question_id":70877916,"body_markdown":"Because you&#39;ve provided the `@Id`. The library needs to figure out, whether the row is new or whether it should exist.\r\n\r\nAlready answered by [Mark Paluch][1] to this question on spring-data-r2dbc issues board. See [#275][2] for further reference. And also you can find useful information from [#49][3].\r\n\r\n\r\n  [1]: https://github.com/mp911de\r\n  [2]: https://github.com/spring-projects/spring-data-r2dbc/issues/275\r\n  [3]: https://github.com/spring-projects/spring-data-r2dbc/issues/49","title":"Spring Data R2DBC PostgreSQL not saving new record with UUID @Id","body":"<p>Because you've provided the <code>@Id</code>. The library needs to figure out, whether the row is new or whether it should exist.</p>\n<p>Already answered by <a href=\"https://github.com/mp911de\" rel=\"nofollow noreferrer\">Mark Paluch</a> to this question on spring-data-r2dbc issues board. See <a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/275\" rel=\"nofollow noreferrer\">#275</a> for further reference. And also you can find useful information from <a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/49\" rel=\"nofollow noreferrer\">#49</a>.</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679383209,"creation_date":1679383209,"answer_id":75798287,"question_id":70877916,"body_markdown":"I have read and studied the above and not only here, however, it did not solve the problem. This is not enough. \r\n\r\nYour field (**Primary key**) must have a column type, for example, **serial**, so that the database can automatically, when inserting a record, increase the record **id**.\r\n\r\n **Without this**, all other recipes **will not work**.","title":"Spring Data R2DBC PostgreSQL not saving new record with UUID @Id","body":"<p>I have read and studied the above and not only here, however, it did not solve the problem. This is not enough.</p>\n<p>Your field (<strong>Primary key</strong>) must have a column type, for example, <strong>serial</strong>, so that the database can automatically, when inserting a record, increase the record <strong>id</strong>.</p>\n<p><strong>Without this</strong>, all other recipes <strong>will not work</strong>.</p>\n"}],"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6656,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70881059,"answer_count":6,"score":6,"last_activity_date":1679383209,"creation_date":1643283402,"question_id":70877916,"body_markdown":"I have a simple entity, consisting of two UUIDs:\r\n\r\n```\r\n@Table(&quot;library&quot;)\r\npublic class LibraryDao {\r\n\t@Id\r\n\tprivate UUID id;\r\n\t@NonNull\r\n\tprivate UUID ownerId;\r\n}\r\n```\r\n\r\nI have a corresponding table in PostgreSQL:\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS library (id UUID PRIMARY KEY, owner_id UUID NOT NULL);\r\n```\r\n\r\nI am using the correct R2DBC drivers (`io.r2dbc:r2dbc-postgresql` and `org.postgresql:postgresql`).\r\n\r\nTo this point, everything works. My applpication runs. But\r\n\r\nBecause PostgreSQL does not  at least according to the documentation  have an auto-generating function for UUIDs, I set the id when creating a new `LibraryDao` instance.\r\n\r\nHowever, when I call the `save` method in my Repository, I get an exception: `Failed to update table [library]. Row with Id [0ed4d7c0-871a-4473-8997-4c9c1ec67a00] does not exist.`\r\n\r\nIt appears that `save` is being interpretted as `update`, without a fallback to `insert` if it doesn&#39;t exist.\r\n\r\nHow am I supposed to insert a new record into my database?","title":"Spring Data R2DBC PostgreSQL not saving new record with UUID @Id","body":"<p>I have a simple entity, consisting of two UUIDs:</p>\n<pre><code>@Table(&quot;library&quot;)\npublic class LibraryDao {\n    @Id\n    private UUID id;\n    @NonNull\n    private UUID ownerId;\n}\n</code></pre>\n<p>I have a corresponding table in PostgreSQL:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS library (id UUID PRIMARY KEY, owner_id UUID NOT NULL);\n</code></pre>\n<p>I am using the correct R2DBC drivers (<code>io.r2dbc:r2dbc-postgresql</code> and <code>org.postgresql:postgresql</code>).</p>\n<p>To this point, everything works. My applpication runs. But</p>\n<p>Because PostgreSQL does not  at least according to the documentation  have an auto-generating function for UUIDs, I set the id when creating a new <code>LibraryDao</code> instance.</p>\n<p>However, when I call the <code>save</code> method in my Repository, I get an exception: <code>Failed to update table [library]. Row with Id [0ed4d7c0-871a-4473-8997-4c9c1ec67a00] does not exist.</code></p>\n<p>It appears that <code>save</code> is being interpretted as <code>update</code>, without a fallback to <code>insert</code> if it doesn't exist.</p>\n<p>How am I supposed to insert a new record into my database?</p>\n"},{"tags":["java","android","json","android-asynctask"],"comments":[{"owner":{"account_id":2370213,"reputation":2348,"user_id":2074990,"accept_rate":83,"display_name":"bofredo"},"score":0,"creation_date":1375973599,"post_id":18129191,"comment_id":26547039,"body_markdown":"&quot;stuck&quot; means which logcat-output?","body":"&quot;stuck&quot; means which logcat-output?"},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1375973652,"post_id":18129191,"comment_id":26547077,"body_markdown":"where is this method `get()` and what does it do?","body":"where is this method <code>get()</code> and what does it do?"},{"owner":{"account_id":2649974,"reputation":2030,"user_id":2291915,"accept_rate":92,"display_name":"buczek"},"score":0,"creation_date":1375973909,"post_id":18129191,"comment_id":26547276,"body_markdown":"@Raghunandan get() is in the first set of code. Just after the try. And it is used to get the JSON.","body":"@Raghunandan get() is in the first set of code. Just after the try. And it is used to get the JSON."},{"owner":{"account_id":2649974,"reputation":2030,"user_id":2291915,"accept_rate":92,"display_name":"buczek"},"score":0,"creation_date":1375973955,"post_id":18129191,"comment_id":26547311,"body_markdown":"@bofredo there is no logcat-output. Aside from the usual stack allocation and freeing.","body":"@bofredo there is no logcat-output. Aside from the usual stack allocation and freeing."},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1375973978,"post_id":18129191,"comment_id":26547328,"body_markdown":"`get` from where do you have a method called get defined any where in your code?. use an interface to pass the result back to the activity","body":"<code>get</code> from where do you have a method called get defined any where in your code?. use an interface to pass the result back to the activity"},{"owner":{"account_id":2649974,"reputation":2030,"user_id":2291915,"accept_rate":92,"display_name":"buczek"},"score":0,"creation_date":1375974107,"post_id":18129191,"comment_id":26547412,"body_markdown":"@Raghunandan http://developer.android.com/reference/android/os/AsyncTask.html#get()","body":"@Raghunandan <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html#get()\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/AsyncTask.html#ge&zwnj;&#8203;t()</a>"},{"owner":{"account_id":308278,"reputation":15431,"user_id":620053,"accept_rate":93,"display_name":"Rafael T"},"score":0,"creation_date":1375974166,"post_id":18129191,"comment_id":26547458,"body_markdown":"the method `get()` essentially blocks your Thread and is running the computations of the AsyncTask inside the caller Thread. In your case, you already executed this task (An `AsyncTask` can only run once), so I guess thats the reason","body":"the method <code>get()</code> essentially blocks your Thread and is running the computations of the AsyncTask inside the caller Thread. In your case, you already executed this task (An <code>AsyncTask</code> can only run once), so I guess thats the reason"},{"owner":{"account_id":2649974,"reputation":2030,"user_id":2291915,"accept_rate":92,"display_name":"buczek"},"score":0,"creation_date":1375974296,"post_id":18129191,"comment_id":26547547,"body_markdown":"@RafaelT just to make sure I understand, because I running a thread in my HomeActivity and then calling an AsyncTask inside of this thread, I am then blocking the original thread from completing?","body":"@RafaelT just to make sure I understand, because I running a thread in my HomeActivity and then calling an AsyncTask inside of this thread, I am then blocking the original thread from completing?"},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1375974404,"post_id":18129191,"comment_id":26547618,"body_markdown":"@buczek http://stackoverflow.com/questions/9019249/progressdialog-not-shown-when-asynctask-get-called. don&#39;t use `get()` . use a interface and make asynctask an inner class of your activity class","body":"@buczek <a href=\"http://stackoverflow.com/questions/9019249/progressdialog-not-shown-when-asynctask-get-called\" title=\"progressdialog not shown when asynctask get called\">stackoverflow.com/questions/9019249/&hellip;</a>. don&#39;t use <code>get()</code> . use a interface and make asynctask an inner class of your activity class"},{"owner":{"account_id":157266,"reputation":1556,"user_id":375093,"accept_rate":86,"display_name":"Sundeep"},"score":0,"creation_date":1375974451,"post_id":18129191,"comment_id":26547649,"body_markdown":"Did you try accessing the same URL from browser? How long does it take for the sever on that URL to respond? May be the server is taking too long to respond to your request from AsyncTask and that&#39;s why it doesn&#39;t finish execution till 30 seconds. It is also a good idea to overload of get() and specify a time out.","body":"Did you try accessing the same URL from browser? How long does it take for the sever on that URL to respond? May be the server is taking too long to respond to your request from AsyncTask and that&#39;s why it doesn&#39;t finish execution till 30 seconds. It is also a good idea to overload of get() and specify a time out."},{"owner":{"account_id":2649974,"reputation":2030,"user_id":2291915,"accept_rate":92,"display_name":"buczek"},"score":0,"creation_date":1375974513,"post_id":18129191,"comment_id":26547690,"body_markdown":"@Raghunandan thank you! I think I will have to find a new solution. If you want to post your answer I will accept it.","body":"@Raghunandan thank you! I think I will have to find a new solution. If you want to post your answer I will accept it."},{"owner":{"account_id":2649974,"reputation":2030,"user_id":2291915,"accept_rate":92,"display_name":"buczek"},"score":0,"creation_date":1375974558,"post_id":18129191,"comment_id":26547717,"body_markdown":"@Sundeep Yes the URL works. The webbrowser is very quick. It takes more than 30 MINUTES, not seconds and still does not finish.","body":"@Sundeep Yes the URL works. The webbrowser is very quick. It takes more than 30 MINUTES, not seconds and still does not finish."},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1375974583,"post_id":18129191,"comment_id":26547737,"body_markdown":"@buczek give me time i post a solution using interface","body":"@buczek give me time i post a solution using interface"},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1375975202,"post_id":18129191,"comment_id":26548197,"body_markdown":"@buczek http://stackoverflow.com/questions/16752073/how-do-i-return-a-boolean-from-asynctask.","body":"@buczek <a href=\"http://stackoverflow.com/questions/16752073/how-do-i-return-a-boolean-from-asynctask\" title=\"how do i return a boolean from asynctask\">stackoverflow.com/questions/16752073/&hellip;</a>."},{"owner":{"account_id":157266,"reputation":1556,"user_id":375093,"accept_rate":86,"display_name":"Sundeep"},"score":0,"creation_date":1375975499,"post_id":18129191,"comment_id":26548419,"body_markdown":"@buczek 30 minutes is very long. Did you try putting a break point inside doInBackground in DownloadJsonTask to see which method call is not returning?","body":"@buczek 30 minutes is very long. Did you try putting a break point inside doInBackground in DownloadJsonTask to see which method call is not returning?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1375976581,"post_id":18129191,"comment_id":26549217,"body_markdown":"why do you use an asynctask if you are going to call get on it ?","body":"why do you use an asynctask if you are going to call get on it ?"}],"answers":[{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679382926,"creation_date":1375975799,"answer_id":18130085,"question_id":18129191,"body_markdown":"You can greatly simplify everything using my [droidQuery](http://phil-brown.github.io/droidQuery/) library\r\n\r\n    $.getJSON(&quot;http://www.example.com&quot;, null, new Function() {//this will run using an AsyncTask, get the JSON, and return either a JSONObject or JSONArray on the UI Thread.\r\n        @Overrde\r\n        public void invoke($ droidQuery, Object... params) {\r\n            if (params[0] instanceof JSONObject) { //it&#39;s often ok just to assume a JSONObject, making your first line simply: JSONObject obj = (JSONObject) params[0];\r\n                //JSONObject is returned\r\n                JSONObject json = (JSONObject) params[0];\r\n                //to easily parse this Object, convert it to a map first:\r\n                Map&lt;String, ?&gt; map = $.map(json);\r\n                //then you can just make a call like this:\r\n                if (map.contains(&quot;field_currentappversion&quot;)) {\r\n                    config.currentAppVersion = (String) map.get(&quot;field_currentappversion&quot;);\r\n                }\r\n            }\r\n            else {\r\n                //JSONArray is returned\r\n                JSONArray json = (JSONArray) params[0];\r\n                //if you got an array, you can easily convert it to an Object[] for parsing:\r\n                Object[] array = $.makeArray(json);\r\n            }\r\n        }\r\n    });","title":"Android Parse JSON stuck on get task","body":"<p>You can greatly simplify everything using my <a href=\"http://phil-brown.github.io/droidQuery/\" rel=\"nofollow noreferrer\">droidQuery</a> library</p>\n<pre><code>$.getJSON(&quot;http://www.example.com&quot;, null, new Function() {//this will run using an AsyncTask, get the JSON, and return either a JSONObject or JSONArray on the UI Thread.\n    @Overrde\n    public void invoke($ droidQuery, Object... params) {\n        if (params[0] instanceof JSONObject) { //it's often ok just to assume a JSONObject, making your first line simply: JSONObject obj = (JSONObject) params[0];\n            //JSONObject is returned\n            JSONObject json = (JSONObject) params[0];\n            //to easily parse this Object, convert it to a map first:\n            Map&lt;String, ?&gt; map = $.map(json);\n            //then you can just make a call like this:\n            if (map.contains(&quot;field_currentappversion&quot;)) {\n                config.currentAppVersion = (String) map.get(&quot;field_currentappversion&quot;);\n            }\n        }\n        else {\n            //JSONArray is returned\n            JSONArray json = (JSONArray) params[0];\n            //if you got an array, you can easily convert it to an Object[] for parsing:\n            Object[] array = $.makeArray(json);\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1375977064,"creation_date":1375975869,"answer_id":18130111,"question_id":18129191,"body_markdown":"`AsyncTask.get()` blocks the caller thread. Use `AsyncTask.execute()` instead.\r\n\r\n`public final Result get ()`\r\n\r\nAdded in API level 3\r\n\r\n&gt; Waits if necessary for the computation to complete, and then retrieves\r\n&gt; its result.\r\n&gt; \r\n&gt; Returns The computed result.\r\n\r\nDrawing from  \r\n\r\nhttps://stackoverflow.com/questions/16752073/how-do-i-return-a-boolean-from-asynctask\r\n\r\nTry the below\r\n  \r\n      new DownloadJSONTask(ActivityName.this).execute(url);\r\n\r\nIn your DownloadJSONTask \r\n\r\nIn the construcotr\r\n\r\n        TheInterface listener;\r\n        public DownloadJSONTask(Context context)\r\n\t{\r\n\t\t\r\n\t\tlistener = (TheInterface) context;\r\n\t\t\t\r\n\t}\r\n\r\nInterface\r\n\r\n       public interface TheInterface {\r\n\r\n\t\tpublic void theMethod(ArrayList&lt;String&gt; result); // your result type\r\n\t\t\r\n\t\t }\r\n      \r\nIn your `doInbackground` return the result. I am assuming its ArrayList of type String. Change the arraylist to what suits your requirement.\r\n\r\n\r\nIn your `onPostExecute`\r\n\r\n       if (listener != null) \r\n       {\r\n          listener.theMethod(result); // result is the ArrayList&lt;String&gt;\r\n          // result returned in doInbackground \r\n          // result of doInbackground computation is a parameter to onPostExecute \r\n       }\r\n\r\nIn your activity class implement the interface\r\n\r\n     public class ActivityName implements DownloadJSONTask.TheInterface\r\n\r\nThen\r\n\r\n     @Override\r\n     public void theMethod(ArrayList&lt;String&gt; result) { // change the type of result according yo your requirement\r\n\t // use the arraylist here\r\n     }\r\n\r\nEdit:  Alternative\r\n\r\nYou can makes your asynctask an inner class of your activity class. The result on `doInbackground` computation is a parameter to `onPostExecute`. Return result in `doInbackground`. Update ui in `onPostExecute`. ","title":"Android Parse JSON stuck on get task","body":"<p><code>AsyncTask.get()</code> blocks the caller thread. Use <code>AsyncTask.execute()</code> instead.</p>\n\n<p><code>public final Result get ()</code></p>\n\n<p>Added in API level 3</p>\n\n<blockquote>\n  <p>Waits if necessary for the computation to complete, and then retrieves\n  its result.</p>\n  \n  <p>Returns The computed result.</p>\n</blockquote>\n\n<p>Drawing from  </p>\n\n<p><a href=\"https://stackoverflow.com/questions/16752073/how-do-i-return-a-boolean-from-asynctask\">How do I return a boolean from AsyncTask?</a></p>\n\n<p>Try the below</p>\n\n<pre><code>  new DownloadJSONTask(ActivityName.this).execute(url);\n</code></pre>\n\n<p>In your DownloadJSONTask </p>\n\n<p>In the construcotr</p>\n\n<pre><code>    TheInterface listener;\n    public DownloadJSONTask(Context context)\n{\n\n    listener = (TheInterface) context;\n\n}\n</code></pre>\n\n<p>Interface</p>\n\n<pre><code>   public interface TheInterface {\n\n    public void theMethod(ArrayList&lt;String&gt; result); // your result type\n\n     }\n</code></pre>\n\n<p>In your <code>doInbackground</code> return the result. I am assuming its ArrayList of type String. Change the arraylist to what suits your requirement.</p>\n\n<p>In your <code>onPostExecute</code></p>\n\n<pre><code>   if (listener != null) \n   {\n      listener.theMethod(result); // result is the ArrayList&lt;String&gt;\n      // result returned in doInbackground \n      // result of doInbackground computation is a parameter to onPostExecute \n   }\n</code></pre>\n\n<p>In your activity class implement the interface</p>\n\n<pre><code> public class ActivityName implements DownloadJSONTask.TheInterface\n</code></pre>\n\n<p>Then</p>\n\n<pre><code> @Override\n public void theMethod(ArrayList&lt;String&gt; result) { // change the type of result according yo your requirement\n // use the arraylist here\n }\n</code></pre>\n\n<p>Edit:  Alternative</p>\n\n<p>You can makes your asynctask an inner class of your activity class. The result on <code>doInbackground</code> computation is a parameter to <code>onPostExecute</code>. Return result in <code>doInbackground</code>. Update ui in <code>onPostExecute</code>. </p>\n"}],"owner":{"account_id":2649974,"reputation":2030,"user_id":2291915,"accept_rate":92,"display_name":"buczek"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1337,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":18130111,"answer_count":2,"score":6,"last_activity_date":1679382926,"creation_date":1375973491,"question_id":18129191,"body_markdown":"I am trying to parse some JSON data. My code was working for awhile, and I am not sure what I changed to suddenly break the code. When I run my code I am not receiving any runtime errors or warnings. I create a new AsyncTask and execute this. When I call `.get()` on this new task, the debugger stalls on this line and takes more than 30 minutes. I have not been able to get the debugger or during run to complete this task. \r\n\r\nJSON:\r\n\r\n    protected void setUp(Context context) {\r\n\t\t_context = context;\r\n\t\tgetConfig();\r\n\t}\r\n\r\n\t// get config file\r\n\tprotected void getConfig() { \r\n\t\tif (config != null)\r\n\t\t\treturn;\r\n\r\n\t\tconfig = new Config();\r\n\r\n\t\tString url = configURL;\r\n\t\tAsyncTask&lt;String, Integer, JSONObject&gt; jsonTask = new DownloadJSONTask()\r\n\t\t\t\t.execute(url);\r\n\t\tJSONObject configItem = null;\r\n\t\ttry {\r\n\t\t\tconfigItem = jsonTask.get(); //debugger pauses here\r\n\t\t\tif (configItem == null)\r\n\t\t\t\treturn;\r\n\t\t\tconfig.configVersion = configItem.getString(&quot;field_configversion&quot;);\r\n\t\t\tconfig.currentAppVersion = configItem\r\n\t\t\t\t\t.getString(&quot;field_currentappversion&quot;);\r\n\t\t\tconfig.getSupportURL = configItem.getString(&quot;field_getsupporturl&quot;);\r\n\t\t\tconfig.getCatalogURL = configItem.getString(&quot;field_getcatalogurl&quot;);\r\n\t\t\tconfig.getDataVersion = configItem.getString(&quot;field_dataversion&quot;);\r\n\t\t\tconfig.getDataUrl = configItem.getString(&quot;field_dataurl&quot;);\r\n\t\t\tconfig.getDataApiKey = configItem.getString(&quot;field_dataapikey&quot;);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.err.println(&quot;Download of config interrupted&quot;);\r\n\t\t} catch (ExecutionException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.err.println(&quot;Download of config failed to execute&quot;);\r\n\t\t} catch (JSONException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} \r\n\t\t\r\n\t\tcacheStaticData(_context);\r\n\t}\r\n\r\nDownloadJSONTask.java\r\n\r\n    package com.example.simplegraph;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    \r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import android.content.Context;\r\n    import android.os.AsyncTask;\r\n    \r\n    public class DownloadJSONTask extends AsyncTask&lt;String, Integer, JSONObject&gt; {\r\n\tprivate HttpClient client = new DefaultHttpClient();\r\n\tprivate HttpGet request;\r\n\tprivate HttpResponse response;\r\n\r\n\tDownloadJSONTask() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t// tries to grab the data for a JSONObject\r\n\t@Override\r\n\tprotected JSONObject doInBackground(String... urls) {\r\n\r\n\t\trequest = new HttpGet(urls[0]);\r\n\t\ttry {\r\n\t\t\tresponse = client.execute(request);\r\n\t\t\tHttpEntity entity = response.getEntity();\r\n\t\t\tif (entity != null) {\r\n\t\t\t\tInputStream instream = entity.getContent();\r\n\t\t\t\tString result = convertStreamToString(instream);\r\n\t\t\t\tJSONObject json = new JSONObject(result);\r\n\t\t\t\tinstream.close();\r\n\t\t\t\treturn json;\r\n\t\t\t}\r\n\t\t} catch (ClientProtocolException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (JSONException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// converts the InputStream to a string and add nl\r\n\tprivate String convertStreamToString(InputStream is) {\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tString line = null;\r\n\t\ttry {\r\n\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t} catch (IOException ioe) {\r\n\t\t\tioe.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tis.close();\r\n\t\t\t} catch (IOException ioe) {\r\n\t\t\t\tioe.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n    }\r\n\r\n\r\nAnd HomeActivity.java\r\n\r\n    @Override\r\n\tpublic void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_home);\r\n\r\n\t\tnew AddStringTask().execute();\r\n\r\n\t}\r\n\r\n\tclass AddStringTask extends AsyncTask&lt;Void, String, Void&gt; {\r\n\t\t@Override\r\n\t\tprotected Void doInBackground(Void... unused) {\r\n\t\t\t\r\n\t\t\tapp = (EconApplication) getApplication();\r\n\t\t\tgetApp().setUp(HomeActivity.this);\r\n\t\t\tHomeActivity.this.setUpDrawer();\r\n\t\t\treturn (null);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(Void unused) {\r\n\t\t\tsetUpDataDisplay();\r\n\t\t\tsetUpGraphRange();\r\n\t\t\tcreateTable();\r\n\t\t\tcreateGraph(-1);\r\n\t\t}\r\n\t}\r\n\r\nQUESTION: Why is my code getting stuck on .get()?\r\n","title":"Android Parse JSON stuck on get task","body":"<p>I am trying to parse some JSON data. My code was working for awhile, and I am not sure what I changed to suddenly break the code. When I run my code I am not receiving any runtime errors or warnings. I create a new AsyncTask and execute this. When I call <code>.get()</code> on this new task, the debugger stalls on this line and takes more than 30 minutes. I have not been able to get the debugger or during run to complete this task. </p>\n\n<p>JSON:</p>\n\n<pre><code>protected void setUp(Context context) {\n    _context = context;\n    getConfig();\n}\n\n// get config file\nprotected void getConfig() { \n    if (config != null)\n        return;\n\n    config = new Config();\n\n    String url = configURL;\n    AsyncTask&lt;String, Integer, JSONObject&gt; jsonTask = new DownloadJSONTask()\n            .execute(url);\n    JSONObject configItem = null;\n    try {\n        configItem = jsonTask.get(); //debugger pauses here\n        if (configItem == null)\n            return;\n        config.configVersion = configItem.getString(\"field_configversion\");\n        config.currentAppVersion = configItem\n                .getString(\"field_currentappversion\");\n        config.getSupportURL = configItem.getString(\"field_getsupporturl\");\n        config.getCatalogURL = configItem.getString(\"field_getcatalogurl\");\n        config.getDataVersion = configItem.getString(\"field_dataversion\");\n        config.getDataUrl = configItem.getString(\"field_dataurl\");\n        config.getDataApiKey = configItem.getString(\"field_dataapikey\");\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n        System.err.println(\"Download of config interrupted\");\n    } catch (ExecutionException e) {\n        e.printStackTrace();\n        System.err.println(\"Download of config failed to execute\");\n    } catch (JSONException e) {\n        e.printStackTrace();\n    } \n\n    cacheStaticData(_context);\n}\n</code></pre>\n\n<p>DownloadJSONTask.java</p>\n\n<pre><code>package com.example.simplegraph;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.content.Context;\nimport android.os.AsyncTask;\n\npublic class DownloadJSONTask extends AsyncTask&lt;String, Integer, JSONObject&gt; {\nprivate HttpClient client = new DefaultHttpClient();\nprivate HttpGet request;\nprivate HttpResponse response;\n\nDownloadJSONTask() {\n    super();\n}\n\n// tries to grab the data for a JSONObject\n@Override\nprotected JSONObject doInBackground(String... urls) {\n\n    request = new HttpGet(urls[0]);\n    try {\n        response = client.execute(request);\n        HttpEntity entity = response.getEntity();\n        if (entity != null) {\n            InputStream instream = entity.getContent();\n            String result = convertStreamToString(instream);\n            JSONObject json = new JSONObject(result);\n            instream.close();\n            return json;\n        }\n    } catch (ClientProtocolException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\n// converts the InputStream to a string and add nl\nprivate String convertStreamToString(InputStream is) {\n    BufferedReader br = new BufferedReader(new InputStreamReader(is));\n    StringBuilder sb = new StringBuilder();\n    String line = null;\n    try {\n        while ((line = br.readLine()) != null) {\n            sb.append(line + \"\\n\");\n        }\n    } catch (IOException ioe) {\n        ioe.printStackTrace();\n    } finally {\n        try {\n            is.close();\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n    return sb.toString();\n}\n}\n</code></pre>\n\n<p>And HomeActivity.java</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n\n    new AddStringTask().execute();\n\n}\n\nclass AddStringTask extends AsyncTask&lt;Void, String, Void&gt; {\n    @Override\n    protected Void doInBackground(Void... unused) {\n\n        app = (EconApplication) getApplication();\n        getApp().setUp(HomeActivity.this);\n        HomeActivity.this.setUpDrawer();\n        return (null);\n    }\n\n    @Override\n    protected void onPostExecute(Void unused) {\n        setUpDataDisplay();\n        setUpGraphRange();\n        createTable();\n        createGraph(-1);\n    }\n}\n</code></pre>\n\n<p>QUESTION: Why is my code getting stuck on .get()?</p>\n"},{"tags":["java","android","android-layout"],"owner":{"account_id":14500152,"reputation":93,"user_id":10473593,"display_name":"Kabilan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679382917,"creation_date":1679382917,"question_id":75798254,"body_markdown":"I am having an imageView. I want the imageView to occupy the status bar. Only the image position need to occupy the statusbar. All other views should remain in same position. Do I need to change the layout completely? Most of the answers in the stackoverflow doesn&#39;t gave the desired result.\r\n\r\n```\r\n&lt;RelativeLayout\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/mainWholeLayoutRedesigned&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:fitsSystemWindows=&quot;true&quot;\r\n                    android:id=&quot;@+id/toolbar_actionbar&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:background=&quot;@color/view_bacground_lite&quot;\r\n                    app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;\r\n                    app:expandedTitleTextAppearance=&quot;@style/expanded&quot;\r\n                    app:contentScrim=&quot;@color/white&quot;&gt;\r\n                    &lt;RelativeLayout\r\n                        android:id=&quot;@+id/imageRelativeLayout&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;220dp&quot;\r\n                        app:layout_collapseMode=&quot;parallax&quot;&gt;\r\n\r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/eventImage&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;\r\n                            android:adjustViewBounds=&quot;true&quot;\r\n                            android:scaleType=&quot;centerCrop&quot;\r\n                            android:src=&quot;@drawable/arena_deafult_cover_image&quot; /&gt;\r\n                    &lt;/RelativeLayout&gt;\r\n                    &lt;androidx.appcompat.widget.Toolbar\r\n                        android:id=&quot;@+id/toolbar&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                        app:layout_collapseMode=&quot;pin&quot;&gt;\r\n                        &lt;RelativeLayout\r\n                            android:id=&quot;@+id/toolbarLayout&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;40dp&quot;\r\n                            android:orientation=&quot;horizontal&quot;&gt;\r\n                            &lt;LinearLayout\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;match_parent&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:orientation=&quot;horizontal&quot;&gt;\r\n                            &lt;ImageButton\r\n                                android:id=&quot;@+id/back_btn&quot;\r\n                                android:layout_width=&quot;32dp&quot;\r\n                                android:layout_height=&quot;32dp&quot;\r\n                                android:padding=&quot;@dimen/value_6&quot;\r\n                                android:layout_gravity=&quot;center_vertical&quot;\r\n                                android:src=&quot;@drawable/icon_20_back&quot;/&gt;\r\n                            &lt;TextView\r\n                                android:layout_width=&quot;0dp&quot;\r\n                                android:layout_height=&quot;match_parent&quot;\r\n                                android:layout_gravity=&quot;center&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:textColor=&quot;@android:color/black&quot;\r\n                                android:textSize=&quot;20sp&quot; /&gt;\r\n                            &lt;ImageButton\r\n                                android:id=&quot;@+id/add_photo_btn&quot;\r\n                                style=&quot;@style/Widget.AppCompat.Button.Borderless&quot;\r\n                                android:layout_width=&quot;32dp&quot;\r\n                                android:layout_height=&quot;32dp&quot;\r\n                                android:layout_marginEnd=&quot;@dimen/value_8&quot;\r\n                                android:layout_alignParentEnd=&quot;true&quot;\r\n                                android:layout_alignParentBottom=&quot;true&quot;\r\n                                android:layout_gravity=&quot;center_vertical&quot;\r\n                                android:layout_marginStart=&quot;@dimen/value_minus_15&quot;\r\n                                android:src=&quot;@drawable/add_photo&quot; /&gt;\r\n                            &lt;/LinearLayout&gt;\r\n                        &lt;/RelativeLayout&gt;\r\n                    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n                &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n```\r\n\r\nI tried with Windows manager but it misaligns whole layout","title":"How to use status bar area for image in android?","body":"<p>I am having an imageView. I want the imageView to occupy the status bar. Only the image position need to occupy the statusbar. All other views should remain in same position. Do I need to change the layout completely? Most of the answers in the stackoverflow doesn't gave the desired result.</p>\n<pre><code>&lt;RelativeLayout\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:id=&quot;@+id/mainWholeLayoutRedesigned&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;com.google.android.material.appbar.AppBarLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n                &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:fitsSystemWindows=&quot;true&quot;\n                    android:id=&quot;@+id/toolbar_actionbar&quot;\n                    android:layout_gravity=&quot;center_horizontal&quot;\n                    android:background=&quot;@color/view_bacground_lite&quot;\n                    app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;\n                    app:expandedTitleTextAppearance=&quot;@style/expanded&quot;\n                    app:contentScrim=&quot;@color/white&quot;&gt;\n                    &lt;RelativeLayout\n                        android:id=&quot;@+id/imageRelativeLayout&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;220dp&quot;\n                        app:layout_collapseMode=&quot;parallax&quot;&gt;\n\n                        &lt;ImageView\n                            android:id=&quot;@+id/eventImage&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;match_parent&quot;\n                            android:adjustViewBounds=&quot;true&quot;\n                            android:scaleType=&quot;centerCrop&quot;\n                            android:src=&quot;@drawable/arena_deafult_cover_image&quot; /&gt;\n                    &lt;/RelativeLayout&gt;\n                    &lt;androidx.appcompat.widget.Toolbar\n                        android:id=&quot;@+id/toolbar&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;?attr/actionBarSize&quot;\n                        app:layout_collapseMode=&quot;pin&quot;&gt;\n                        &lt;RelativeLayout\n                            android:id=&quot;@+id/toolbarLayout&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;40dp&quot;\n                            android:orientation=&quot;horizontal&quot;&gt;\n                            &lt;LinearLayout\n                                android:layout_width=&quot;match_parent&quot;\n                                android:layout_height=&quot;match_parent&quot;\n                                android:gravity=&quot;center&quot;\n                                android:orientation=&quot;horizontal&quot;&gt;\n                            &lt;ImageButton\n                                android:id=&quot;@+id/back_btn&quot;\n                                android:layout_width=&quot;32dp&quot;\n                                android:layout_height=&quot;32dp&quot;\n                                android:padding=&quot;@dimen/value_6&quot;\n                                android:layout_gravity=&quot;center_vertical&quot;\n                                android:src=&quot;@drawable/icon_20_back&quot;/&gt;\n                            &lt;TextView\n                                android:layout_width=&quot;0dp&quot;\n                                android:layout_height=&quot;match_parent&quot;\n                                android:layout_gravity=&quot;center&quot;\n                                android:gravity=&quot;center&quot;\n                                android:textColor=&quot;@android:color/black&quot;\n                                android:textSize=&quot;20sp&quot; /&gt;\n                            &lt;ImageButton\n                                android:id=&quot;@+id/add_photo_btn&quot;\n                                style=&quot;@style/Widget.AppCompat.Button.Borderless&quot;\n                                android:layout_width=&quot;32dp&quot;\n                                android:layout_height=&quot;32dp&quot;\n                                android:layout_marginEnd=&quot;@dimen/value_8&quot;\n                                android:layout_alignParentEnd=&quot;true&quot;\n                                android:layout_alignParentBottom=&quot;true&quot;\n                                android:layout_gravity=&quot;center_vertical&quot;\n                                android:layout_marginStart=&quot;@dimen/value_minus_15&quot;\n                                android:src=&quot;@drawable/add_photo&quot; /&gt;\n                            &lt;/LinearLayout&gt;\n                        &lt;/RelativeLayout&gt;\n                    &lt;/androidx.appcompat.widget.Toolbar&gt;\n                &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n<p>I tried with Windows manager but it misaligns whole layout</p>\n"},{"tags":["java","android","ajax","json","android-query"],"answers":[{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679382911,"creation_date":1378229367,"answer_id":18598168,"question_id":18152055,"body_markdown":"You can use my [droidQuery](http://phil-brown.github.io/droidQuery/) library instead. Using *droidQuery*, you can cancel all Ajax tasks using the call:\r\n\r\n    $.ajaxKillAll();\r\n\r\nYou can also perform your request with this:\r\n\r\n    $.ajax(new AjaxOptions().url(url).header(&quot;content-type&quot;, &quot;application/json&quot;).type(&quot;json&quot;).dataType(&quot;GET&quot;).dataType(&quot;json&quot;).success(new Function() {\r\n        @Override\r\n        public void invoke($ droidQuery, Object... params) {\r\n            JSONObject json = (JSONObject) params[0];\r\n            //TODO handle json\r\n        }\r\n    }).error(new Function() {\r\n        @Override\r\n        public void invoke($ droidQuery, Object... params) {\r\n            AjaxError error = (AjaxError) params[0];\r\n            Log.e(&quot;Ajax&quot;, &quot;Error &quot; + error.status + &quot;: &quot; + error.reason);\r\n        }\r\n    }));","title":"How to abort ajax query in android-query?","body":"<p>You can use my <a href=\"http://phil-brown.github.io/droidQuery/\" rel=\"nofollow noreferrer\">droidQuery</a> library instead. Using <em>droidQuery</em>, you can cancel all Ajax tasks using the call:</p>\n<pre><code>$.ajaxKillAll();\n</code></pre>\n<p>You can also perform your request with this:</p>\n<pre><code>$.ajax(new AjaxOptions().url(url).header(&quot;content-type&quot;, &quot;application/json&quot;).type(&quot;json&quot;).dataType(&quot;GET&quot;).dataType(&quot;json&quot;).success(new Function() {\n    @Override\n    public void invoke($ droidQuery, Object... params) {\n        JSONObject json = (JSONObject) params[0];\n        //TODO handle json\n    }\n}).error(new Function() {\n    @Override\n    public void invoke($ droidQuery, Object... params) {\n        AjaxError error = (AjaxError) params[0];\n        Log.e(&quot;Ajax&quot;, &quot;Error &quot; + error.status + &quot;: &quot; + error.reason);\n    }\n}));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":428152,"reputation":1524,"user_id":810282,"accept_rate":75,"display_name":"Muayyad Alsadi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1379855720,"creation_date":1379855720,"answer_id":18944226,"question_id":18152055,"body_markdown":"just call aq.ajaxCancel() for more details refer to the API docs\r\n\r\n\r\nhttp://android-query.googlecode.com/svn/trunk/javadoc/com/androidquery/AbstractAQuery.html#ajaxCancel()","title":"How to abort ajax query in android-query?","body":"<p>just call aq.ajaxCancel() for more details refer to the API docs</p>\n\n<p><a href=\"http://android-query.googlecode.com/svn/trunk/javadoc/com/androidquery/AbstractAQuery.html#ajaxCancel()\" rel=\"nofollow\">http://android-query.googlecode.com/svn/trunk/javadoc/com/androidquery/AbstractAQuery.html#ajaxCancel()</a></p>\n"},{"tags":[],"owner":{"account_id":206638,"reputation":3543,"user_id":456046,"display_name":"Jacob Nordfalk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1393367166,"creation_date":1393367166,"answer_id":22027594,"question_id":18152055,"body_markdown":"There is no way of making android-query cancel an AJAX request once it has been started.\r\nYou&#39;ll have to use another library, sorry.\r\n\r\nWhat you **can** do is to check if the request has become obsolete when it finishes.\r\n\r\nYou could do that by checking if the URL matches the latest URL you requested for\r\n\r\n    if (searchResult != null &amp;&amp; url.equals(latestRequestUrl)) {\r\n\r\n(note, you&#39;d have to let getSearchResult return the URL)","title":"How to abort ajax query in android-query?","body":"<p>There is no way of making android-query cancel an AJAX request once it has been started.\nYou'll have to use another library, sorry.</p>\n\n<p>What you <strong>can</strong> do is to check if the request has become obsolete when it finishes.</p>\n\n<p>You could do that by checking if the URL matches the latest URL you requested for</p>\n\n<pre><code>if (searchResult != null &amp;&amp; url.equals(latestRequestUrl)) {\n</code></pre>\n\n<p>(note, you'd have to let getSearchResult return the URL)</p>\n"},{"tags":[],"owner":{"account_id":4111096,"reputation":614,"user_id":3373865,"display_name":"Anand Kumar Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464160213,"creation_date":1464160213,"answer_id":37430126,"question_id":18152055,"body_markdown":"You can abort any aquery processing using this.\r\n\r\n    private AjaxCallback&lt;String&gt; ajaxCallback = new AjaxCallback&lt;String&gt;(){\r\n            @Override\r\n            public void callback(String url, String object, AjaxStatus status) {\r\n                   //do your processing with server response\r\n                       processInformation(result);\r\n            };\r\n        };\r\n       //on our previous code\r\n       query.ajax(remoteUrl,String.class,ajaxCallback);\r\n     \r\n       public void cancelAquery(){\r\n          //this statement does cancel the request i.e. we won&#39;t receive any information on callback method\r\n         //ajaxCallback.async(null);  \r\n          \r\n         ajaxCallback.abort();\r\n    }\r\n\r\nFor more info, you can see this link [https://laaptu.wordpress.com/tag/android-cancelling-aquery/][1]\r\n\r\n\r\n  [1]: https://laaptu.wordpress.com/tag/android-cancelling-aquery/","title":"How to abort ajax query in android-query?","body":"<p>You can abort any aquery processing using this.</p>\n\n<pre><code>private AjaxCallback&lt;String&gt; ajaxCallback = new AjaxCallback&lt;String&gt;(){\n        @Override\n        public void callback(String url, String object, AjaxStatus status) {\n               //do your processing with server response\n                   processInformation(result);\n        };\n    };\n   //on our previous code\n   query.ajax(remoteUrl,String.class,ajaxCallback);\n\n   public void cancelAquery(){\n      //this statement does cancel the request i.e. we won't receive any information on callback method\n     //ajaxCallback.async(null);  \n\n     ajaxCallback.abort();\n}\n</code></pre>\n\n<p>For more info, you can see this link <a href=\"https://laaptu.wordpress.com/tag/android-cancelling-aquery/\" rel=\"nofollow\">https://laaptu.wordpress.com/tag/android-cancelling-aquery/</a></p>\n"}],"owner":{"account_id":948573,"reputation":297,"user_id":975264,"accept_rate":57,"display_name":"Makc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22027594,"answer_count":4,"score":1,"last_activity_date":1679382911,"creation_date":1376068174,"question_id":18152055,"body_markdown":"I&#39;m trying to implement search autocompletion with android-query library  \n\nI have callback instance in my activity:\n\nCallback:\n\n\n    class SearchCompleteCallback extends AjaxCallback&lt;ItemSearchResult&gt; {\n        public void callback(String url, ItemSearchResult searchResult, AjaxStatus status) {\n                Log.d(&quot;SCB&quot;, String.format(&quot;Url:%s\\n  Msg: %s\\n  Code: %s\\n  Error: %s&quot;,\n                                           url,\n                                           status.getMessage(),\n                                           status.getCode(),\n                                           status.getError()));\n                if (searchResult != null) {\n                    Log.d(&quot;SCB&quot;, String.format(&quot;Status: %s\\n  Val: %s&quot;,\n                                               searchResult.getStatus(),\n                                               searchResult.getInnGroup().getItems()));\n                    \n                    updateSearchResult(searchResult);\n                }\n                else {\n                    Log.w(&quot;SCB&quot;, &quot;Ajax failed&quot;);\n                    \n                }\n        }\n    }\n\nSearch routine, that called on text change:  \n\n\n    private void doSearch(String query) {\n        ppApi.getSearchResult(query, searchCompleteListener);\n    }  \n\n\nand \n### APIClass  \n\n\n    public class PPServerApi {\n        private AQuery aq;\n        private GsonTransformer transformer;\n        \n        private static class GsonTransformer implements Transformer{\n            public &lt;T&gt; T transform(String url, Class&lt;T&gt; type, String encoding, byte[] data, AjaxStatus status) {\n                Gson g = new Gson();\n                return g.fromJson(new String(data), type);\n            }\n        }\n        \n        public PPServerApi(AQuery newAq){\n            aq = newAq;\n            transformer = new GsonTransformer();\n            AQUtility.setDebug(true);\n            AjaxCallback.setTransformer(transformer);\n        }\n    \n        public void getSearchResult(String itemName, AjaxCallback&lt;ItemSearchResult&gt; cb){\n                String url = &quot;http://my.api.server/search?q=&quot; + itemName;\n                aq.ajax(url, ItemSearchResult.class, cb.header(&quot;content-type&quot;, &quot;application/json&quot;));\n            }\n    }  \n\n\nSo, the question is how to abort old queries before sending new one ?  \n(I don&#39;t need result of old queries if text in search field changed)\n\nI&#39;ve tried to call searchCompleteListener.abort() in doSearch(), but it causes exception in next going query:  \n\n\n    08-09 20:59:10.551: W/AQuery(6854): get:http://my.api.server/search?q=abc\n    08-09 20:59:10.551: W/AQuery(6854): creating http client\n    08-09 20:59:10.561: W/AQuery(6854): java.io.IOException: Aborted\n    08-09 20:59:10.561: W/AQuery(6854):     at com.androidquery.callback.AbstractAjaxCallback.httpDo(AbstractAjaxCallback.java:1569)\n    ...  \n\n\nso, i can&#39;t perform even single query in this case.","title":"How to abort ajax query in android-query?","body":"<p>I'm trying to implement search autocompletion with android-query library</p>\n<p>I have callback instance in my activity:</p>\n<p>Callback:</p>\n<pre><code>class SearchCompleteCallback extends AjaxCallback&lt;ItemSearchResult&gt; {\n    public void callback(String url, ItemSearchResult searchResult, AjaxStatus status) {\n            Log.d(&quot;SCB&quot;, String.format(&quot;Url:%s\\n  Msg: %s\\n  Code: %s\\n  Error: %s&quot;,\n                                       url,\n                                       status.getMessage(),\n                                       status.getCode(),\n                                       status.getError()));\n            if (searchResult != null) {\n                Log.d(&quot;SCB&quot;, String.format(&quot;Status: %s\\n  Val: %s&quot;,\n                                           searchResult.getStatus(),\n                                           searchResult.getInnGroup().getItems()));\n                \n                updateSearchResult(searchResult);\n            }\n            else {\n                Log.w(&quot;SCB&quot;, &quot;Ajax failed&quot;);\n                \n            }\n    }\n}\n</code></pre>\n<p>Search routine, that called on text change:</p>\n<pre><code>private void doSearch(String query) {\n    ppApi.getSearchResult(query, searchCompleteListener);\n}  \n</code></pre>\n<p>and</p>\n<h3>APIClass</h3>\n<pre><code>public class PPServerApi {\n    private AQuery aq;\n    private GsonTransformer transformer;\n    \n    private static class GsonTransformer implements Transformer{\n        public &lt;T&gt; T transform(String url, Class&lt;T&gt; type, String encoding, byte[] data, AjaxStatus status) {\n            Gson g = new Gson();\n            return g.fromJson(new String(data), type);\n        }\n    }\n    \n    public PPServerApi(AQuery newAq){\n        aq = newAq;\n        transformer = new GsonTransformer();\n        AQUtility.setDebug(true);\n        AjaxCallback.setTransformer(transformer);\n    }\n\n    public void getSearchResult(String itemName, AjaxCallback&lt;ItemSearchResult&gt; cb){\n            String url = &quot;http://my.api.server/search?q=&quot; + itemName;\n            aq.ajax(url, ItemSearchResult.class, cb.header(&quot;content-type&quot;, &quot;application/json&quot;));\n        }\n}  \n</code></pre>\n<p>So, the question is how to abort old queries before sending new one ?<br />\n(I don't need result of old queries if text in search field changed)</p>\n<p>I've tried to call searchCompleteListener.abort() in doSearch(), but it causes exception in next going query:</p>\n<pre><code>08-09 20:59:10.551: W/AQuery(6854): get:http://my.api.server/search?q=abc\n08-09 20:59:10.551: W/AQuery(6854): creating http client\n08-09 20:59:10.561: W/AQuery(6854): java.io.IOException: Aborted\n08-09 20:59:10.561: W/AQuery(6854):     at com.androidquery.callback.AbstractAjaxCallback.httpDo(AbstractAjaxCallback.java:1569)\n...  \n</code></pre>\n<p>so, i can't perform even single query in this case.</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":3642733,"reputation":1543,"user_id":3036488,"accept_rate":50,"display_name":"GhostDerfel"},"score":0,"creation_date":1389114263,"post_id":20977275,"comment_id":31517186,"body_markdown":"I don&#39;t get what it&#39;s your problem, I just run your code and all work ok...","body":"I don&#39;t get what it&#39;s your problem, I just run your code and all work ok..."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1389114406,"post_id":20977275,"comment_id":31517286,"body_markdown":"pages.keys() ... Asked so many times here","body":"pages.keys() ... Asked so many times here"},{"owner":{"account_id":2549498,"reputation":134,"user_id":2213587,"display_name":"Anderman"},"score":0,"creation_date":1389116312,"post_id":20977275,"comment_id":31518426,"body_markdown":"this ```JSONObject tag_id = tag_pages.getJSONObject(TAG_PAGES);``` looks like it should be changed to something more like this ```JSONObject tag_id = tag_pages.getJSONObject(TAG_ID);``` I suspect that line of code is not returning what you expect from the json. You want the Id out of the ```tag_pages``` object right?","body":"this <code>JSONObject tag_id = tag_pages.getJSONObject(TAG_PAGES);</code> looks like it should be changed to something more like this <code>JSONObject tag_id = tag_pages.getJSONObject(TAG_ID);</code> I suspect that line of code is not returning what you expect from the json. You want the Id out of the <code>tag_pages</code> object right?"},{"owner":{"account_id":183228,"reputation":424,"user_id":2447726,"display_name":"Guy West"},"score":0,"creation_date":1389191756,"post_id":20977275,"comment_id":31555339,"body_markdown":"Thank you all I solved it in the end.","body":"Thank you all I solved it in the end."}],"answers":[{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679382795,"creation_date":1389119613,"answer_id":20979163,"question_id":20977275,"body_markdown":"My [droidQuery](http://phil-brown.github.io/droidQuery/) library has some methods that can greatly simplify this task:\r\n\r\n    $.getJSON(jsonurl, null, new Function() {\r\n        @Override\r\n        public void invoke($ d, Object args) {\r\n            JSONObject json = (JSONObject) args[0];\r\n            JSONObject query = json.getJSONObject(TAG_QUERY);\r\n            JSONObject pages = json.getJSONObject(TAG_PAGES);\r\n            Map&lt;String, ?&gt; map = $.map(pages);\r\n            for (Entry&lt;String, ?&gt; entry : map.entrySet()) {\r\n                String key = entry.getKey();//this is the number, such as 53113\r\n                JSONObject value = (JSONObject) entry.value();\r\n                Map&lt;String, ?&gt; data = $.map(value);//contains all the fields you need\r\n                String title = (String) data.get(&quot;title&quot;);//&lt;--- THIS IS THE TITLE FIELD\r\n                JSONArray array = (JSONArray) data.get(&quot;coordinates&quot;);\r\n                Object[] data = $.array(array);\r\n                for (Object o : data) {\r\n                    //loops through each coordinates object\r\n                    JSONObject coordinates = (JSONObject) o;//&lt;--- THIS IS THE FIRST COORDINATE OBJECT\r\n                    //now handle this coordinates data:\r\n                    Map&lt;String, ?&gt; coords = $.map(coordinates);\r\n                    double lat = (double) coords.get(&quot;lat&quot;);\r\n                    double lon = (double) coords.get(&quot;lon&quot;);\r\n                    //etc...\r\n                }\r\n            }\r\n        }\r\n    });","title":"Parsing json objects and json arrays in Android","body":"<p>My <a href=\"http://phil-brown.github.io/droidQuery/\" rel=\"nofollow noreferrer\">droidQuery</a> library has some methods that can greatly simplify this task:</p>\n<pre><code>$.getJSON(jsonurl, null, new Function() {\n    @Override\n    public void invoke($ d, Object args) {\n        JSONObject json = (JSONObject) args[0];\n        JSONObject query = json.getJSONObject(TAG_QUERY);\n        JSONObject pages = json.getJSONObject(TAG_PAGES);\n        Map&lt;String, ?&gt; map = $.map(pages);\n        for (Entry&lt;String, ?&gt; entry : map.entrySet()) {\n            String key = entry.getKey();//this is the number, such as 53113\n            JSONObject value = (JSONObject) entry.value();\n            Map&lt;String, ?&gt; data = $.map(value);//contains all the fields you need\n            String title = (String) data.get(&quot;title&quot;);//&lt;--- THIS IS THE TITLE FIELD\n            JSONArray array = (JSONArray) data.get(&quot;coordinates&quot;);\n            Object[] data = $.array(array);\n            for (Object o : data) {\n                //loops through each coordinates object\n                JSONObject coordinates = (JSONObject) o;//&lt;--- THIS IS THE FIRST COORDINATE OBJECT\n                //now handle this coordinates data:\n                Map&lt;String, ?&gt; coords = $.map(coordinates);\n                double lat = (double) coords.get(&quot;lat&quot;);\n                double lon = (double) coords.get(&quot;lon&quot;);\n                //etc...\n            }\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":183228,"reputation":424,"user_id":2447726,"display_name":"Guy West"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1389134722,"answer_count":1,"score":0,"last_activity_date":1679382795,"creation_date":1389113414,"question_id":20977275,"body_markdown":"I have this JSON string:\r\n\r\n\t{\r\n\t  &quot;query&quot;: {\r\n\t\t&quot;pages&quot;: {\r\n\t\t  &quot;53113&quot;: {\r\n\t\t\t&quot;pageid&quot;: 53113,\r\n\t\t\t&quot;ns&quot;: 0,\r\n\t\t\t&quot;title&quot;: &quot;Charing Cross&quot;,\r\n\t\t\t&quot;coordinates&quot;: [\r\n\t\t\t  {\r\n\t\t\t\t&quot;lat&quot;: 51.5073,\r\n\t\t\t\t&quot;lon&quot;: -0.12755,\r\n\t\t\t\t&quot;primary&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;globe&quot;: &quot;earth&quot;\r\n\t\t\t  }\r\n\t\t\t]\r\n\t\t  },\r\n\t\t  &quot;33109245&quot;: {\r\n\t\t\t&quot;pageid&quot;: 33109245,\r\n\t\t\t&quot;ns&quot;: 0,\r\n\t\t\t&quot;title&quot;: &quot;Equestrian statue of Charles I, Charing Cross&quot;,\r\n\t\t\t&quot;coordinates&quot;: [\r\n\t\t\t  {\r\n\t\t\t\t&quot;lat&quot;: 51.5073,\r\n\t\t\t\t&quot;lon&quot;: -0.12768,\r\n\t\t\t\t&quot;primary&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;globe&quot;: &quot;earth&quot;\r\n\t\t\t  }\r\n\t\t\t]\r\n\t\t  },\r\n\t\t  &quot;4347521&quot;: {\r\n\t\t\t&quot;pageid&quot;: 4347521,\r\n\t\t\t&quot;ns&quot;: 0,\r\n\t\t\t&quot;title&quot;: &quot;Greater London Built-up Area&quot;,\r\n\t\t\t&quot;coordinates&quot;: [\r\n\t\t\t  {\r\n\t\t\t\t&quot;lat&quot;: 51.5073,\r\n\t\t\t\t&quot;lon&quot;: -0.1277,\r\n\t\t\t\t&quot;primary&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;globe&quot;: &quot;earth&quot;\r\n\t\t\t  }\r\n\t\t\t]\r\n\t\t  },\r\n\t\t  &quot;17867&quot;: {\r\n\t\t\t&quot;pageid&quot;: 17867,\r\n\t\t\t&quot;ns&quot;: 0,\r\n\t\t\t&quot;title&quot;: &quot;London&quot;,\r\n\t\t\t&quot;coordinates&quot;: [\r\n\t\t\t  {\r\n\t\t\t\t&quot;lat&quot;: 51.5072,\r\n\t\t\t\t&quot;lon&quot;: -0.1275,\r\n\t\t\t\t&quot;primary&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;globe&quot;: &quot;earth&quot;\r\n\t\t\t  }\r\n\t\t\t]\r\n\t\t  }\r\n\t\t}\r\n\t  }\r\n\t}\r\n\r\nHo do I parse it?\r\nI wrote this code but I wasn&#39;t able to iterate through the json string.\r\nI need the &quot;title&quot; objects and the &quot;coordinates&quot; array of &quot;lat&quot; and &quot;lon&quot;...\r\n\r\nI solved it in the end. Thank you all\r\nsolved it like this:\r\n\r\n    \t\t\ttry {\r\n\t\t\t\t// Parsing JSON String or URL\r\n\t\t\t\tJSONObject jsonObj = new JSONObject(jsonurl);\r\n\r\n\r\n\t\t\t\t// grabbing objects \r\n\t\t\t\tJSONObject obj_query = jsonObj.getJSONObject(TAG_QUERY);\r\n\t\t\t\tJSONObject obj_pages = obj_query.getJSONObject(TAG_PAGES); \r\n\t\t\t\tJSONArray arr_id = obj_pages.names();\r\n\r\n\t\t\t\tfor (int i = 0 ; i &lt; arr_id.length() ; i ++)\r\n\t\t\t\t{\r\n\t\t\t\t\tJSONObject obj_id = obj_pages.getJSONObject(arr_id.get(i).toString());\r\n\t\t\t\t\t// Log.i(LOGTAG, &quot;obj_id: &quot; + obj_id.toString());\r\n\r\n\t\t\t\t\tString tag_pageid = obj_id.getString(TAG_PAGEID); \r\n\t\t\t\t\t// String tag_ns = obj_id.getString(TAG_NS);\r\n\t\t\t\t\tString tag_title = obj_id.getString(TAG_TITLE); \r\n\t\t\t\t\tLog.i(LOGTAG, &quot;page id: &quot; +  tag_pageid); \r\n\t\t\t\t\t// Log.i(LOGTAG, tag_ns); \r\n\t\t\t\t\tLog.i(LOGTAG, &quot;Title: &quot; + tag_title);\r\n\t\t\t\t\t// using JSONArray to grab the TAG_COORDINATES \r\n\r\n\t\t\t\t\tJSONArray arr_coord = obj_id.getJSONArray(TAG_COORDINATES);  \r\n\t\t\t\t\t// lets loop through the JSONArray and get all the items \r\n\t\t\t\t\tfor (int j = 0; j &lt; arr_coord.length(); j++) { \r\n\t\t\t\t\t\t// printing the values to the logcat \r\n\t\t\t\t\t\tLog.i(LOGTAG, &quot;lat:&quot; + arr_coord.getJSONObject(j).getString(TAG_LAT).toString()); \r\n\t\t\t\t\t\tLog.i(LOGTAG, &quot;lon: &quot; + arr_coord.getJSONObject(j).getString(TAG_LON).toString()); \r\n\t\t\t\t\t} \r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (JSONException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t","title":"Parsing json objects and json arrays in Android","body":"<p>I have this JSON string:</p>\n\n<pre><code>{\n  \"query\": {\n    \"pages\": {\n      \"53113\": {\n        \"pageid\": 53113,\n        \"ns\": 0,\n        \"title\": \"Charing Cross\",\n        \"coordinates\": [\n          {\n            \"lat\": 51.5073,\n            \"lon\": -0.12755,\n            \"primary\": \"\",\n            \"globe\": \"earth\"\n          }\n        ]\n      },\n      \"33109245\": {\n        \"pageid\": 33109245,\n        \"ns\": 0,\n        \"title\": \"Equestrian statue of Charles I, Charing Cross\",\n        \"coordinates\": [\n          {\n            \"lat\": 51.5073,\n            \"lon\": -0.12768,\n            \"primary\": \"\",\n            \"globe\": \"earth\"\n          }\n        ]\n      },\n      \"4347521\": {\n        \"pageid\": 4347521,\n        \"ns\": 0,\n        \"title\": \"Greater London Built-up Area\",\n        \"coordinates\": [\n          {\n            \"lat\": 51.5073,\n            \"lon\": -0.1277,\n            \"primary\": \"\",\n            \"globe\": \"earth\"\n          }\n        ]\n      },\n      \"17867\": {\n        \"pageid\": 17867,\n        \"ns\": 0,\n        \"title\": \"London\",\n        \"coordinates\": [\n          {\n            \"lat\": 51.5072,\n            \"lon\": -0.1275,\n            \"primary\": \"\",\n            \"globe\": \"earth\"\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Ho do I parse it?\nI wrote this code but I wasn't able to iterate through the json string.\nI need the \"title\" objects and the \"coordinates\" array of \"lat\" and \"lon\"...</p>\n\n<p>I solved it in the end. Thank you all\nsolved it like this:</p>\n\n<pre><code>            try {\n            // Parsing JSON String or URL\n            JSONObject jsonObj = new JSONObject(jsonurl);\n\n\n            // grabbing objects \n            JSONObject obj_query = jsonObj.getJSONObject(TAG_QUERY);\n            JSONObject obj_pages = obj_query.getJSONObject(TAG_PAGES); \n            JSONArray arr_id = obj_pages.names();\n\n            for (int i = 0 ; i &lt; arr_id.length() ; i ++)\n            {\n                JSONObject obj_id = obj_pages.getJSONObject(arr_id.get(i).toString());\n                // Log.i(LOGTAG, \"obj_id: \" + obj_id.toString());\n\n                String tag_pageid = obj_id.getString(TAG_PAGEID); \n                // String tag_ns = obj_id.getString(TAG_NS);\n                String tag_title = obj_id.getString(TAG_TITLE); \n                Log.i(LOGTAG, \"page id: \" +  tag_pageid); \n                // Log.i(LOGTAG, tag_ns); \n                Log.i(LOGTAG, \"Title: \" + tag_title);\n                // using JSONArray to grab the TAG_COORDINATES \n\n                JSONArray arr_coord = obj_id.getJSONArray(TAG_COORDINATES);  \n                // lets loop through the JSONArray and get all the items \n                for (int j = 0; j &lt; arr_coord.length(); j++) { \n                    // printing the values to the logcat \n                    Log.i(LOGTAG, \"lat:\" + arr_coord.getJSONObject(j).getString(TAG_LAT).toString()); \n                    Log.i(LOGTAG, \"lon: \" + arr_coord.getJSONObject(j).getString(TAG_LON).toString()); \n                } \n\n            }\n\n        } catch (JSONException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","design-patterns","java-8"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679382685,"creation_date":1679382685,"answer_id":75798214,"question_id":75745529,"body_markdown":"I think this question is similar to https://stackoverflow.com/questions/75746053/how-to-implement-retry-mechanism-with-exception-and-try-catch, here is a possible solution:\r\n\r\nDefining `lastSucess` instead of `checkedRecordIsAvailable` as the flag for checking, outside of the `loadAndCheckExpiry` function:\r\n```\r\nprivate Long lastSuccess = null;\r\n```\r\n\r\n`loadAndCheckExpiry`:\r\n```\r\n@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\r\npublic void loadAndCheckExpiry() {\r\n    if (!sameDate(lastSuccess, System.currentTimeMillis())) { //if flag is false, run `checkExpiryForADate`\r\n        checkExpiryForADate(dateService.today()); //update flag&#39;s value\r\n    }\r\n}\r\n```\r\n\r\n`checkExpiryForADate`, breaking the loop if `checkExpiry` returns `false` for any product, setting `lastSuccess` to current time if every products passes `checkExpiry`:\r\n```\r\nprivate void checkExpiryForADate(LocalDate asOf){\r\n    Collection&lt;Product&gt; listOfProducts = productService.getProducts(asOf);\r\n    for (Product product : listOfProducts) {\r\n        if (!checkExpiry(product, asOf)) return;\r\n    }\r\n    lastSuccess = System.currentTimeMillis();\r\n}\r\n```\r\n\r\n`checkExpiry`:\r\n```\r\nprivate boolean checkExpiry(Product product, LocalDate asOf) {\r\n    // your code ...\r\n    List&lt;Pair&lt;ZonedDateTime, Double&gt;&gt; expiryRecords = new ArrayList&lt;&gt;(externalService.getRecord());\r\n\r\n    // your code ...\r\n    return !expiryRecords.isEmpty();\r\n}\r\n```\r\n\r\n`sameDate` for checking two `Long` values to be within the same date, returning `false` if either value is `null`:\r\n```\r\nprivate Boolean sameDate(Long d1, Long d2){\r\n    if(d1 == null || d2 == null) return false;\r\n    Calendar cal1 = Calendar.getInstance();\r\n    Calendar cal2 = Calendar.getInstance();\r\n    cal1.setTimeInMillis(d1);\r\n    cal2.setTimeInMillis(d2);\r\n    return cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR) &amp;&amp;\r\n                            cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR);\r\n}\r\n```\r\n\r\nHope it can help a bit.","title":"How to implement retry mechanism in function using boolean flag","body":"<p>I think this question is similar to <a href=\"https://stackoverflow.com/questions/75746053/how-to-implement-retry-mechanism-with-exception-and-try-catch\">How to implement retry mechanism with exception and try catch</a>, here is a possible solution:</p>\n<p>Defining <code>lastSucess</code> instead of <code>checkedRecordIsAvailable</code> as the flag for checking, outside of the <code>loadAndCheckExpiry</code> function:</p>\n<pre><code>private Long lastSuccess = null;\n</code></pre>\n<p><code>loadAndCheckExpiry</code>:</p>\n<pre><code>@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\npublic void loadAndCheckExpiry() {\n    if (!sameDate(lastSuccess, System.currentTimeMillis())) { //if flag is false, run `checkExpiryForADate`\n        checkExpiryForADate(dateService.today()); //update flag's value\n    }\n}\n</code></pre>\n<p><code>checkExpiryForADate</code>, breaking the loop if <code>checkExpiry</code> returns <code>false</code> for any product, setting <code>lastSuccess</code> to current time if every products passes <code>checkExpiry</code>:</p>\n<pre><code>private void checkExpiryForADate(LocalDate asOf){\n    Collection&lt;Product&gt; listOfProducts = productService.getProducts(asOf);\n    for (Product product : listOfProducts) {\n        if (!checkExpiry(product, asOf)) return;\n    }\n    lastSuccess = System.currentTimeMillis();\n}\n</code></pre>\n<p><code>checkExpiry</code>:</p>\n<pre><code>private boolean checkExpiry(Product product, LocalDate asOf) {\n    // your code ...\n    List&lt;Pair&lt;ZonedDateTime, Double&gt;&gt; expiryRecords = new ArrayList&lt;&gt;(externalService.getRecord());\n\n    // your code ...\n    return !expiryRecords.isEmpty();\n}\n</code></pre>\n<p><code>sameDate</code> for checking two <code>Long</code> values to be within the same date, returning <code>false</code> if either value is <code>null</code>:</p>\n<pre><code>private Boolean sameDate(Long d1, Long d2){\n    if(d1 == null || d2 == null) return false;\n    Calendar cal1 = Calendar.getInstance();\n    Calendar cal2 = Calendar.getInstance();\n    cal1.setTimeInMillis(d1);\n    cal2.setTimeInMillis(d2);\n    return cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR) &amp;&amp;\n                            cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR);\n}\n</code></pre>\n<p>Hope it can help a bit.</p>\n"}],"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679382685,"creation_date":1678887701,"question_id":75745529,"body_markdown":"What I want to do:\r\n------------------\r\n\r\nI want to implement a retry mechanism for function `checkExpiryForADate`. There is one part within function `checkExpiryForADate` where we will call `externalService.getRecord`, which could return an empty list. \r\n\r\nIf this is the case, I want to rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run `checkExpiryForADate`, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)\r\n\r\nI have changed `checkExpiryForADate` to be like this to implement the retry mechanism  \r\n\r\nWhat I have tried:\r\n------------------\r\n```\r\n@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\r\npublic void loadAndCheckExpiry() {\r\n  boolean checkedRecordIsAvailable = false; //initialise the flag as false\r\n  if (!checkedRecordIsAvailable) { //if flag is false, run `checkExpiryForADate`\r\n      checkedRecordIsAvailable = checkExpiryForADate(dateService.today()); //update flag&#39;s value\r\n  }\r\n}\r\n\r\npublic boolean checkExpiryForADate(LocalDate asOf)\r\n{\r\n    Collection&lt;Product&gt; listOfProducts = productService.getProducts(asOf)\r\n\r\n    for (Product product : listOfProducts) {\r\n\r\n        //What I want to do here is that: if 1 of the products couldn&#39;t get `expiryRecord` in the `checkExpiry` function, \r\n        then we return false for the this `checkExpiryForADate` function\r\n\r\n        if (!checkExpiry(product, asOf) {\r\n            //get out of the for loop\r\n            return false;\r\n        }\r\n    }\r\n\r\nprivate boolean checkExpiry(Product product, LocalDate asOf) {\r\n    //code to perform some operations - omitted\r\n\r\n    List&lt;Pair&lt;ZonedDateTime, Double&gt;&gt; expiryRecords = new ArrayList&lt;&gt;(externalService.getRecord());\r\n    if (expiryRecords.isEmpty()) {\r\n        return false;\r\n    }\r\n    \r\n    //code to perform some operations - omitted\r\n    return true;\r\n}\r\n```\r\n\r\nThe problem with my code:\r\n-------------------------\r\n\r\n 1. In the `loadAndCheckExpiry` function, whenever the function is being run, checkedRecordIsAvailable will be initialised to false again. Is it that I should put the flag outside of the `loadAndCheckExpiry`? If so, it could be updated to true between 7-8AM (the schedule) - but I need to set it to false again everyday for the next day. \r\n 2. Is it a correct way for me to update the flag using this code `checkedRecordIsAvailable = checkExpiryForADate(dateService.today());`? (When `checkExpiryForADate` returns true, the boolean `checkedRecordIsAvailable` will indeed be updated? \r\n\r\n    In addition, There is a warning of `redundant assignment` saying that the value `checkExpiryForADate(dateService.today())` assigned to `checkedRecordIsAvailable` is never used. But I think I am using it in a `if` statement? \r\n 3. In `checkExpiryForADate`, if for either 1 of the product in`checkExpiry(product, asOf)` returns false, then I want to break out of the for loop and return false for `checkExpiryForADate` directly. Is this the correct way to do it? \r\n\r\n 4. In general, I think my code is very cumbersome, I wonder if there is any more elegant way to do it? \r\n\r\nAny help would be greatly appreciated, thanks in advance.","title":"How to implement retry mechanism in function using boolean flag","body":"<h2>What I want to do:</h2>\n<p>I want to implement a retry mechanism for function <code>checkExpiryForADate</code>. There is one part within function <code>checkExpiryForADate</code> where we will call <code>externalService.getRecord</code>, which could return an empty list.</p>\n<p>If this is the case, I want to rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run <code>checkExpiryForADate</code>, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)</p>\n<p>I have changed <code>checkExpiryForADate</code> to be like this to implement the retry mechanism</p>\n<h2>What I have tried:</h2>\n<pre><code>@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\npublic void loadAndCheckExpiry() {\n  boolean checkedRecordIsAvailable = false; //initialise the flag as false\n  if (!checkedRecordIsAvailable) { //if flag is false, run `checkExpiryForADate`\n      checkedRecordIsAvailable = checkExpiryForADate(dateService.today()); //update flag's value\n  }\n}\n\npublic boolean checkExpiryForADate(LocalDate asOf)\n{\n    Collection&lt;Product&gt; listOfProducts = productService.getProducts(asOf)\n\n    for (Product product : listOfProducts) {\n\n        //What I want to do here is that: if 1 of the products couldn't get `expiryRecord` in the `checkExpiry` function, \n        then we return false for the this `checkExpiryForADate` function\n\n        if (!checkExpiry(product, asOf) {\n            //get out of the for loop\n            return false;\n        }\n    }\n\nprivate boolean checkExpiry(Product product, LocalDate asOf) {\n    //code to perform some operations - omitted\n\n    List&lt;Pair&lt;ZonedDateTime, Double&gt;&gt; expiryRecords = new ArrayList&lt;&gt;(externalService.getRecord());\n    if (expiryRecords.isEmpty()) {\n        return false;\n    }\n    \n    //code to perform some operations - omitted\n    return true;\n}\n</code></pre>\n<h2>The problem with my code:</h2>\n<ol>\n<li><p>In the <code>loadAndCheckExpiry</code> function, whenever the function is being run, checkedRecordIsAvailable will be initialised to false again. Is it that I should put the flag outside of the <code>loadAndCheckExpiry</code>? If so, it could be updated to true between 7-8AM (the schedule) - but I need to set it to false again everyday for the next day.</p>\n</li>\n<li><p>Is it a correct way for me to update the flag using this code <code>checkedRecordIsAvailable = checkExpiryForADate(dateService.today());</code>? (When <code>checkExpiryForADate</code> returns true, the boolean <code>checkedRecordIsAvailable</code> will indeed be updated?</p>\n<p>In addition, There is a warning of <code>redundant assignment</code> saying that the value <code>checkExpiryForADate(dateService.today())</code> assigned to <code>checkedRecordIsAvailable</code> is never used. But I think I am using it in a <code>if</code> statement?</p>\n</li>\n<li><p>In <code>checkExpiryForADate</code>, if for either 1 of the product in<code>checkExpiry(product, asOf)</code> returns false, then I want to break out of the for loop and return false for <code>checkExpiryForADate</code> directly. Is this the correct way to do it?</p>\n</li>\n<li><p>In general, I think my code is very cumbersome, I wonder if there is any more elegant way to do it?</p>\n</li>\n</ol>\n<p>Any help would be greatly appreciated, thanks in advance.</p>\n"},{"tags":["java","android","json","textview"],"comments":[{"owner":{"account_id":989719,"reputation":1862,"user_id":1007369,"accept_rate":0,"display_name":"Harshit Rathi"},"score":0,"creation_date":1385089112,"post_id":20136143,"comment_id":30010172,"body_markdown":"try to run in async task...","body":"try to run in async task..."},{"owner":{"account_id":3565765,"reputation":135,"user_id":2977338,"accept_rate":20,"display_name":"user2977338"},"score":0,"creation_date":1385089291,"post_id":20136143,"comment_id":30010211,"body_markdown":"@HarshitRathi I dont know about this. Can you explain more please?","body":"@HarshitRathi I dont know about this. Can you explain more please?"},{"owner":{"account_id":989719,"reputation":1862,"user_id":1007369,"accept_rate":0,"display_name":"Harshit Rathi"},"score":1,"creation_date":1385089405,"post_id":20136143,"comment_id":30010241,"body_markdown":"use this link http://www.androidhive.info/2012/01/android-json-parsing-tutorial/ it will make help you to find out how to parse json in async task...","body":"use this link <a href=\"http://www.androidhive.info/2012/01/android-json-parsing-tutorial/\" rel=\"nofollow noreferrer\">androidhive.info/2012/01/android-json-parsing-tutorial</a> it will make help you to find out how to parse json in async task..."},{"owner":{"account_id":226925,"reputation":48751,"user_id":488241,"accept_rate":93,"display_name":"Squonk"},"score":1,"creation_date":1385090051,"post_id":20136143,"comment_id":30010424,"body_markdown":"Firstly don&#39;t just make statements like **&quot;But as soon as I run the app in closes.&quot;** without providing stacktraces from logcat - show us errors as well as code. Secondly, the answer to your question is either, as others have said, you&#39;re doing network operations on the UI thread (OK on older versions of Android but not later ones) OR (and this will bite you anyway) that URL returns a JSON array and not a JSON object. Also you are doing an HTTP Post whereas an HTTP GET should be used. Fix all those and you&#39;re good to go.","body":"Firstly don&#39;t just make statements like <b>&quot;But as soon as I run the app in closes.&quot;</b> without providing stacktraces from logcat - show us errors as well as code. Secondly, the answer to your question is either, as others have said, you&#39;re doing network operations on the UI thread (OK on older versions of Android but not later ones) OR (and this will bite you anyway) that URL returns a JSON array and not a JSON object. Also you are doing an HTTP Post whereas an HTTP GET should be used. Fix all those and you&#39;re good to go."},{"owner":{"account_id":438686,"reputation":7698,"user_id":827110,"display_name":"Amulya Khare"},"score":0,"creation_date":1385090218,"post_id":20136143,"comment_id":30010471,"body_markdown":"I agree with @Squonk. You should post your `log`. There many problems with the above code as mentioned..","body":"I agree with @Squonk. You should post your <code>log</code>. There many problems with the above code as mentioned.."},{"owner":{"account_id":2763819,"reputation":3329,"user_id":2380114,"accept_rate":62,"display_name":"Chathura Wijesinghe"},"score":0,"creation_date":1385094746,"post_id":20136143,"comment_id":30011517,"body_markdown":"find the working answer bellow http://stackoverflow.com/questions/20136143/why-my-android-app-cannot-get-data-from-json-url/20137027#20137027","body":"find the working answer bellow <a href=\"http://stackoverflow.com/questions/20136143/why-my-android-app-cannot-get-data-from-json-url/20137027#20137027\" title=\"why my android app cannot get data from json url\">stackoverflow.com/questions/20136143/&hellip;</a>"},{"owner":{"account_id":2100504,"reputation":10224,"user_id":1868262,"accept_rate":50,"display_name":"Pankaj Arora"},"score":0,"creation_date":1385095314,"post_id":20136143,"comment_id":30011677,"body_markdown":"solved or still stuck?","body":"solved or still stuck?"},{"owner":{"account_id":3565765,"reputation":135,"user_id":2977338,"accept_rate":20,"display_name":"user2977338"},"score":0,"creation_date":1385098873,"post_id":20136143,"comment_id":30012737,"body_markdown":"@iCodeAtAndroid Still Stuck and confused.","body":"@iCodeAtAndroid Still Stuck and confused."},{"owner":{"account_id":2100504,"reputation":10224,"user_id":1868262,"accept_rate":50,"display_name":"Pankaj Arora"},"score":0,"creation_date":1385099829,"post_id":20136143,"comment_id":30013038,"body_markdown":"chnge your target api to 9","body":"chnge your target api to 9"},{"owner":{"account_id":3565765,"reputation":135,"user_id":2977338,"accept_rate":20,"display_name":"user2977338"},"score":0,"creation_date":1385100199,"post_id":20136143,"comment_id":30013164,"body_markdown":"@iCodeAtAndroid didnt work :/","body":"@iCodeAtAndroid didnt work :/"}],"answers":[{"tags":[],"owner":{"account_id":2803311,"reputation":486,"user_id":2411102,"display_name":"Brad"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1385088944,"creation_date":1385088944,"answer_id":20136160,"question_id":20136143,"body_markdown":"My guess is that this is because you&#39;re attempting network activity on the main thread. That&#39;s a no-no.\r\n\r\nPerhaps adding a default exception handler and a breakpoint there will help-\r\n\r\n    Thread.setDefaultUncaughtExceptionHandler( new Thread.UncaughtExceptionHandler() {\r\n        @Override\r\n        public void uncaughtException(Thread thread, Throwable throwable) {\r\n            throwable.printStackTrace();\r\n        }\r\n    });\r\n\r\n","title":"Why my android app cannot get data from JSON url?","body":"<p>My guess is that this is because you're attempting network activity on the main thread. That's a no-no.</p>\n\n<p>Perhaps adding a default exception handler and a breakpoint there will help-</p>\n\n<pre><code>Thread.setDefaultUncaughtExceptionHandler( new Thread.UncaughtExceptionHandler() {\n    @Override\n    public void uncaughtException(Thread thread, Throwable throwable) {\n        throwable.printStackTrace();\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":438686,"reputation":7698,"user_id":827110,"display_name":"Amulya Khare"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1385101359,"creation_date":1385089624,"answer_id":20136278,"question_id":20136143,"body_markdown":"The problem is happening because you are trying to perform network operations on the UI thread. You need to use a background thread for network operations.\r\n\r\nUse an `AsyncTask` as follows:\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n    \t//URL to get JSON Array\r\n    \tprivate static String url = &quot;http://api.worldbank.org/countries/ir?format=json&quot;;\r\n    \r\n    \t//JSON node Names\r\n    \tprivate static final String PAGE = &quot;page&quot;;\r\n    \tprivate static final String VALUE = &quot;value&quot;;\r\n    \tprivate static final String NAME = &quot;name&quot;;\r\n    \tprivate static final String GEO = &quot;region&quot;;\r\n    \r\n    \tJSONArray page = null;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t    super.onCreate(savedInstanceState);\r\n    \t    setContentView(R.layout.activity_main);\r\n    \r\n            new GetJSONTask().execute(url);\r\n    \r\n            // do not parse here..\r\n            ...\r\n            ...\r\n        }\r\n        ...\r\n        ...\r\n    \r\n    \tclass GetJSONTask extends AsyncTask&lt;String, Void, JSONObject&gt; {\r\n    \r\n    \t\t   \r\n    \t\tprotected JSONObject doInBackground(String... urls) {\r\n    \t\t    try {\r\n    \t\t        JSONParser jParser = new JSONParser();\r\n    \t\t        return jParser.getJSONFromUrl(urls[0]);\r\n    \t\t    } catch (Exception e) {\r\n    \t\t        return null;\r\n    \t\t    }\r\n    \t\t}\r\n    \r\n    \t\tprotected void onPostExecute(JSONObject json) {\r\n    \t\t    // do all the parsing here:\r\n    \t\t    try {\r\n    \t\t        //Getting JSON Array\r\n    \t\t        page = json.getJSONArray(PAGE);\r\n    \t\t        JSONObject c = page.getJSONObject(0);\r\n    \r\n    \t\t        //Sorting JSON item in a Variable\r\n    \t\t        String value = c.getString(VALUE);\r\n    \t\t        String name = c.getString(NAME);\r\n    \t\t        String geo = c.getString(GEO);\r\n    \r\n    \t\t        //Importing to TextView\r\n    \t\t        final TextView id1 = (TextView) findViewById(R.id.id);\r\n    \t\t        final TextView name1 = (TextView) findViewById(R.id.name);\r\n    \t\t        final TextView geo1 = (TextView) findViewById(R.id.geo);\r\n    \r\n    \t\t        //set JSON Data in TextView\r\n    \t\t        id1.setText(value);\r\n    \t\t        name1.setText(name);\r\n    \t\t        geo1.setText(geo);\r\n    \t\t\t}\r\n    \t\t\tcatch (JSONException e)\r\n    \t\t\t{\r\n    \t\t    \te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t} \r\n    \t}\r\n    }\r\n\r\nRef: http://developer.android.com/reference/android/os/AsyncTask.html\r\n\r\n**update** another bug spotted, update XML\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/id&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/name&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n    ...\r\n    ...\r\n\r\nYou cannot have two views and say `A below B`, then `B below A` that will [cause problems!][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/17949973/827110","title":"Why my android app cannot get data from JSON url?","body":"<p>The problem is happening because you are trying to perform network operations on the UI thread. You need to use a background thread for network operations.</p>\n\n<p>Use an <code>AsyncTask</code> as follows:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    //URL to get JSON Array\n    private static String url = \"http://api.worldbank.org/countries/ir?format=json\";\n\n    //JSON node Names\n    private static final String PAGE = \"page\";\n    private static final String VALUE = \"value\";\n    private static final String NAME = \"name\";\n    private static final String GEO = \"region\";\n\n    JSONArray page = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        new GetJSONTask().execute(url);\n\n        // do not parse here..\n        ...\n        ...\n    }\n    ...\n    ...\n\n    class GetJSONTask extends AsyncTask&lt;String, Void, JSONObject&gt; {\n\n\n        protected JSONObject doInBackground(String... urls) {\n            try {\n                JSONParser jParser = new JSONParser();\n                return jParser.getJSONFromUrl(urls[0]);\n            } catch (Exception e) {\n                return null;\n            }\n        }\n\n        protected void onPostExecute(JSONObject json) {\n            // do all the parsing here:\n            try {\n                //Getting JSON Array\n                page = json.getJSONArray(PAGE);\n                JSONObject c = page.getJSONObject(0);\n\n                //Sorting JSON item in a Variable\n                String value = c.getString(VALUE);\n                String name = c.getString(NAME);\n                String geo = c.getString(GEO);\n\n                //Importing to TextView\n                final TextView id1 = (TextView) findViewById(R.id.id);\n                final TextView name1 = (TextView) findViewById(R.id.name);\n                final TextView geo1 = (TextView) findViewById(R.id.geo);\n\n                //set JSON Data in TextView\n                id1.setText(value);\n                name1.setText(name);\n                geo1.setText(geo);\n            }\n            catch (JSONException e)\n            {\n                e.printStackTrace();\n            }\n        } \n    }\n}\n</code></pre>\n\n<p>Ref: <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/os/AsyncTask.html</a></p>\n\n<p><strong>update</strong> another bug spotted, update XML</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/id\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/name\"\n    android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/name\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n...\n...\n</code></pre>\n\n<p>You cannot have two views and say <code>A below B</code>, then <code>B below A</code> that will <a href=\"https://stackoverflow.com/q/17949973/827110\">cause problems!</a></p>\n"},{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679382656,"creation_date":1385090779,"answer_id":20136490,"question_id":20136143,"body_markdown":"You can greatly simplify everything you are doing using my [droidQuery](http://phil-brown.github.io/droidQuery/) library:\r\n\r\n    $.ajax(new AjaxOptions().url(url).success(new Function() {\r\n        @Override\r\n        public void invoke($ d, Object... args) {\r\n            JSONObject json = (JSONObject) args[0];\r\n            JSONArray page = json.getJSONArray(PAGE);\r\n            JSONObject c = page.getJSONObject(0);\r\n    \r\n            $.with(MyActivity.this, R.id.id).text(c.getString(VALUE))\r\n                                .id(R.id.name).text(c.getString(NAME))\r\n                                .id(geo).text(c.getString(GEO));\r\n    \r\n        }\r\n    }));","title":"Why my android app cannot get data from JSON url?","body":"<p>You can greatly simplify everything you are doing using my <a href=\"http://phil-brown.github.io/droidQuery/\" rel=\"nofollow noreferrer\">droidQuery</a> library:</p>\n<pre><code>$.ajax(new AjaxOptions().url(url).success(new Function() {\n    @Override\n    public void invoke($ d, Object... args) {\n        JSONObject json = (JSONObject) args[0];\n        JSONArray page = json.getJSONArray(PAGE);\n        JSONObject c = page.getJSONObject(0);\n\n        $.with(MyActivity.this, R.id.id).text(c.getString(VALUE))\n                            .id(R.id.name).text(c.getString(NAME))\n                            .id(geo).text(c.getString(GEO));\n\n    }\n}));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2763819,"reputation":3329,"user_id":2380114,"accept_rate":62,"display_name":"Chathura Wijesinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385094536,"creation_date":1385094536,"answer_id":20137027,"question_id":20136143,"body_markdown":"I used Kevin Sawicki&#39;s [HTTP Request Library][1]  which is very helpful, find the working example bellow. Don&#39;t forget to add android permission \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nRetrieved json value from http://api.worldbank.org/countries/ir?format=json\r\n\r\n![JSON Values][2]\r\n\r\n\r\n\r\n\r\n    package com.javasrilankansupport.testhttps;\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n\r\n    import com.github.kevinsawicki.http.HttpRequest;\r\n    import com.github.kevinsawicki.http.HttpRequest.HttpRequestException;\r\n\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\r\n\t\tnew DownloadTask().execute(&quot;http://api.worldbank.org/countries/ir?format=json&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n\t\t// Inflate the menu; this adds items to the action bar if it is present.\r\n\t\tgetMenuInflater().inflate(R.menu.main, menu);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate class DownloadTask extends AsyncTask&lt;String, Long, Boolean&gt; {\r\n\t\tprotected Boolean doInBackground(String... urls) {\r\n\t\t\ttry {\r\n\r\n\t\t\t\t// kevinsawicki&#39;s HttpRequest from github\r\n\t\t\t\tHttpRequest request = HttpRequest.get(urls[0])\r\n\t\t\t\t\t\t.trustAllCerts() // for HTTPS request\r\n\t\t\t\t\t\t.trustAllHosts() // to trust all hosts \r\n\t\t\t\t\t\t.acceptJson();   // to accept JSON objects \r\n\r\n\t\t\t\tif (request.ok()) {\r\n\r\n\t\t\t\t\tJSONObject jsonObject;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tString s = request.body();\r\n\t\t\t\t\t\tLog.d(&quot;MyApp&quot;,\r\n\t\t\t\t\t\t\t\t&quot;Downloaded json data: &quot;+ s);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//  change parameters according to your JSON \r\n\t\t\t\t\t\tjsonObject = new JSONObject(s);\r\n\r\n\t\t\t\t\t\tJSONArray jsonArray = jsonObject\r\n\t\t\t\t\t\t\t\t.getJSONArray(&quot;categories&quot;);\r\n\r\n\t\t\t\t\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\t\t\t\t\t\t\tJSONObject jsonObj = jsonArray.getJSONObject(i);\r\n\t\t\t\t\t\t\tLog.d(&quot;MyApp&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;Downloaded json data: &quot;\r\n\t\t\t\t\t\t\t\t\t\t\t+ jsonObj.getString(&quot;id&quot;) + &quot;  &quot;\r\n\t\t\t\t\t\t\t\t\t\t\t+ jsonObj.getString(&quot;slug&quot;));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} catch (JSONException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.print(&quot;error&quot;);\r\n\t\t\t\t}\r\n\t\t\t} catch (HttpRequestException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tprotected void onProgressUpdate(Long... progress) {\r\n\t\t\t// progress bar here\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(Boolean result) {\r\n\t\t\tsuper.onPostExecute(result);\r\n\t\t}\r\n\r\n\t }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/kevinsawicki/http-request\r\n  [2]: http://i.stack.imgur.com/IjokS.png","title":"Why my android app cannot get data from JSON url?","body":"<p>I used Kevin Sawicki's <a href=\"https://github.com/kevinsawicki/http-request\" rel=\"nofollow noreferrer\">HTTP Request Library</a>  which is very helpful, find the working example bellow. Don't forget to add android permission </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p>Retrieved json value from <a href=\"http://api.worldbank.org/countries/ir?format=json\" rel=\"nofollow noreferrer\">http://api.worldbank.org/countries/ir?format=json</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/IjokS.png\" alt=\"JSON Values\"></p>\n\n<pre><code>package com.javasrilankansupport.testhttps;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport com.github.kevinsawicki.http.HttpRequest;\nimport com.github.kevinsawicki.http.HttpRequest.HttpRequestException;\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.util.Log;\nimport android.view.Menu;\n\npublic class MainActivity extends Activity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    new DownloadTask().execute(\"http://api.worldbank.org/countries/ir?format=json\");\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main, menu);\n    return true;\n}\n\nprivate class DownloadTask extends AsyncTask&lt;String, Long, Boolean&gt; {\n    protected Boolean doInBackground(String... urls) {\n        try {\n\n            // kevinsawicki's HttpRequest from github\n            HttpRequest request = HttpRequest.get(urls[0])\n                    .trustAllCerts() // for HTTPS request\n                    .trustAllHosts() // to trust all hosts \n                    .acceptJson();   // to accept JSON objects \n\n            if (request.ok()) {\n\n                JSONObject jsonObject;\n                try {\n                    String s = request.body();\n                    Log.d(\"MyApp\",\n                            \"Downloaded json data: \"+ s);\n\n                    //  change parameters according to your JSON \n                    jsonObject = new JSONObject(s);\n\n                    JSONArray jsonArray = jsonObject\n                            .getJSONArray(\"categories\");\n\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\n                        JSONObject jsonObj = jsonArray.getJSONObject(i);\n                        Log.d(\"MyApp\",\n                                \"Downloaded json data: \"\n                                        + jsonObj.getString(\"id\") + \"  \"\n                                        + jsonObj.getString(\"slug\"));\n                    }\n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            } else {\n                System.out.print(\"error\");\n            }\n        } catch (HttpRequestException e) {\n            e.printStackTrace();\n            return false;\n        }\n        return true;\n    }\n\n    protected void onProgressUpdate(Long... progress) {\n        // progress bar here\n    }\n\n    @Override\n    protected void onPostExecute(Boolean result) {\n        super.onPostExecute(result);\n    }\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4213851"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415101558,"creation_date":1415101221,"answer_id":26734255,"question_id":20136143,"body_markdown":"Getting data from server require following steps :  \r\n\r\n1. make sure your generated json string is in correct format.You can find it on various site.\r\n2. while requesting from server you must use AsyncTask.  \r\n\r\n**Following example can be helpful to understand the logic**    \r\n\r\n    &lt;!-- begin snippet: js hide: false --&gt;     \r\n    package com.example.sonasys.net;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import com.example.sonaprintersd.R;\r\n    import android.app.Activity;\r\n    import android.app.ProgressDialog;\r\n    import android.graphics.Bitmap;\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n\r\n    public class SingleContactActivity extends Activity {\r\n\r\n\r\n    private static final String TAG_CONTACTS = &quot;Contacts&quot;;\r\n    private static final String TAG_POSTLINE = &quot;PostLine&quot;;\r\n    private static final String TAG_Post_Img = &quot;Post_Img&quot;;\r\n    private static final String TAG_Post_Img_O = &quot;Post_Img_O&quot;;\r\n\r\n    private static String url;\r\n    TextView uid, pid;\r\n    JSONArray contacts = null;\r\n    private ProgressDialog pDialog;\r\n    String details;\r\n    // String imagepath = &quot;http://test2.sonasys.net/Content/WallPost/b3.jpg&quot;;\r\n    String imagepath = &quot;&quot;;\r\n    Bitmap bitmap;\r\n    ImageView image;\r\n    String imagepath2;\r\n\r\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; contactList;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_single_contact);\r\n\r\n        url = &quot;http://test2.sonasys.net/MobileApp/GetSinglePost?UserId=&quot;\r\n                + uid.getText() + &quot;&amp;Post_ID=&quot; + pid.getText();\r\n\r\n        contactList = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\r\n        new GetContacts().execute();\r\n\r\n    }\r\n\r\n    private class GetContacts extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            // Showing progress dialog\r\n            pDialog = new ProgressDialog(SingleContactActivity.this);\r\n            pDialog.setMessage(&quot;Please wait...&quot;);\r\n            pDialog.setCancelable(false);\r\n            // pDialog.setTitle(&quot;Post Details&quot;);\r\n            pDialog.show();\r\n\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... arg0) {\r\n            // Creating service handler class instance\r\n            ServiceHandler sh = new ServiceHandler();\r\n\r\n            // Making a request to url and getting response\r\n            String jsonStr = sh.makeServiceCall(url, ServiceHandler.GET);\r\n\r\n            Log.d(&quot;Response: &quot;, &quot;&gt; &quot; + jsonStr);\r\n\r\n            if (jsonStr != null) {\r\n                try {\r\n                    JSONObject jsonObj = new JSONObject(jsonStr);\r\n\r\n                    // Getting JSON Array node\r\n                    contacts = jsonObj.getJSONArray(TAG_CONTACTS);\r\n\r\n                    // looping through All Contacts\r\n\r\n                    JSONObject c = contacts.getJSONObject(0);\r\n\r\n                    details = c.getString(TAG_POSTLINE);\r\n                    imagepath = c.getString(TAG_Post_Img);\r\n                    imagepath2 = c.getString(TAG_Post_Img_O);\r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                Log.e(&quot;ServiceHandler&quot;, &quot;Couldn&#39;t get any data from the url&quot;);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void result) {\r\n            super.onPostExecute(result);\r\n            // Dismiss the progress dialog\r\n            if (pDialog.isShowing())\r\n                pDialog.dismiss();\r\n            /**/\r\n            TextView Details = (TextView) findViewById(R.id.details);\r\n            // Details.setText(details);\r\n            Details.setText(android.text.Html.fromHtml(details));\r\n\r\n        }\r\n    }\r\n\r\n    &lt;!-- end snippet --&gt;    \r\n       \r\n    &lt;!-- begin snippet: js hide: false --&gt;\r\n    \r\n    public class ServiceHandler {\r\n\r\n    static String response = null;\r\n    public final static int GET = 1;\r\n    public final static int POST = 2;\r\n\r\n    public ServiceHandler() {\r\n\r\n    }\r\n\r\n    /*\r\n     * Making service call\r\n     * @url - url to make request\r\n     * @method - http request method\r\n     * */\r\n    public String makeServiceCall(String url, int method) {\r\n\r\n\r\n\r\n        return this.makeServiceCall(url, method, null);\r\n    }\r\n\r\n    /*\r\n     * Making service call\r\n     * @url - url to make request\r\n     * @method - http request method\r\n     * @params - http request params\r\n     * \r\n\r\n     * */\r\n\r\n    public String makeServiceCall(String url, int method,List&lt;NameValuePair&gt; params) {\r\n\r\n        try {\r\n            // http client\r\n\r\n            DefaultHttpClient httpClient = new DefaultHttpClient();\r\n            HttpEntity httpEntity = null;\r\n            HttpResponse httpResponse = null;\r\n\r\n            // Checking http request method type\r\n            if (method == POST) {\r\n                HttpPost httpPost = new HttpPost(url);\r\n                // adding post params\r\n                if (params != null) {               \r\n                    httpPost.setEntity(new UrlEncodedFormEntity(params));\r\n\r\n                }\r\n\r\n                httpResponse = httpClient.execute(httpPost);\r\n\r\n            } else if (method == GET) {\r\n                // appending params to url\r\n                if (params != null) {\r\n                    String paramString = URLEncodedUtils.format(params, &quot;utf-8&quot;);\r\n                    url += &quot;?&quot; + paramString;\r\n                }\r\n                HttpGet httpGet = new HttpGet(url);\r\n\r\n                httpResponse = httpClient.execute(httpGet);\r\n\r\n            }\r\n            httpEntity = httpResponse.getEntity();\r\n            response = EntityUtils.toString(httpEntity);\r\n\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        } catch (ClientProtocolException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return response;\r\n\r\n    }\r\n\r\n    &lt;!-- end snippet --&gt;\r\n","title":"Why my android app cannot get data from JSON url?","body":"<p>Getting data from server require following steps :  </p>\n\n<ol>\n<li>make sure your generated json string is in correct format.You can find it on various site.</li>\n<li>while requesting from server you must use AsyncTask.  </li>\n</ol>\n\n<p><strong>Following example can be helpful to understand the logic</strong>    </p>\n\n<pre><code>package com.example.sonasys.net;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport com.example.sonaprintersd.R;\nimport android.app.Activity;\nimport android.app.ProgressDialog;\nimport android.graphics.Bitmap;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\npublic class SingleContactActivity extends Activity {\n\n\nprivate static final String TAG_CONTACTS = \"Contacts\";\nprivate static final String TAG_POSTLINE = \"PostLine\";\nprivate static final String TAG_Post_Img = \"Post_Img\";\nprivate static final String TAG_Post_Img_O = \"Post_Img_O\";\n\nprivate static String url;\nTextView uid, pid;\nJSONArray contacts = null;\nprivate ProgressDialog pDialog;\nString details;\n// String imagepath = \"http://test2.sonasys.net/Content/WallPost/b3.jpg\";\nString imagepath = \"\";\nBitmap bitmap;\nImageView image;\nString imagepath2;\n\nArrayList&lt;HashMap&lt;String, String&gt;&gt; contactList;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_single_contact);\n\n    url = \"http://test2.sonasys.net/MobileApp/GetSinglePost?UserId=\"\n            + uid.getText() + \"&amp;Post_ID=\" + pid.getText();\n\n    contactList = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n    new GetContacts().execute();\n\n}\n\nprivate class GetContacts extends AsyncTask&lt;Void, Void, Void&gt; {\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        // Showing progress dialog\n        pDialog = new ProgressDialog(SingleContactActivity.this);\n        pDialog.setMessage(\"Please wait...\");\n        pDialog.setCancelable(false);\n        // pDialog.setTitle(\"Post Details\");\n        pDialog.show();\n\n    }\n\n    @Override\n    protected Void doInBackground(Void... arg0) {\n        // Creating service handler class instance\n        ServiceHandler sh = new ServiceHandler();\n\n        // Making a request to url and getting response\n        String jsonStr = sh.makeServiceCall(url, ServiceHandler.GET);\n\n        Log.d(\"Response: \", \"&gt; \" + jsonStr);\n\n        if (jsonStr != null) {\n            try {\n                JSONObject jsonObj = new JSONObject(jsonStr);\n\n                // Getting JSON Array node\n                contacts = jsonObj.getJSONArray(TAG_CONTACTS);\n\n                // looping through All Contacts\n\n                JSONObject c = contacts.getJSONObject(0);\n\n                details = c.getString(TAG_POSTLINE);\n                imagepath = c.getString(TAG_Post_Img);\n                imagepath2 = c.getString(TAG_Post_Img_O);\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        } else {\n            Log.e(\"ServiceHandler\", \"Couldn't get any data from the url\");\n        }\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(Void result) {\n        super.onPostExecute(result);\n        // Dismiss the progress dialog\n        if (pDialog.isShowing())\n            pDialog.dismiss();\n        /**/\n        TextView Details = (TextView) findViewById(R.id.details);\n        // Details.setText(details);\n        Details.setText(android.text.Html.fromHtml(details));\n\n    }\n}\n\n\n\n\n\npublic class ServiceHandler {\n\nstatic String response = null;\npublic final static int GET = 1;\npublic final static int POST = 2;\n\npublic ServiceHandler() {\n\n}\n\n/*\n * Making service call\n * @url - url to make request\n * @method - http request method\n * */\npublic String makeServiceCall(String url, int method) {\n\n\n\n    return this.makeServiceCall(url, method, null);\n}\n\n/*\n * Making service call\n * @url - url to make request\n * @method - http request method\n * @params - http request params\n * \n\n * */\n\npublic String makeServiceCall(String url, int method,List&lt;NameValuePair&gt; params) {\n\n    try {\n        // http client\n\n        DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpEntity httpEntity = null;\n        HttpResponse httpResponse = null;\n\n        // Checking http request method type\n        if (method == POST) {\n            HttpPost httpPost = new HttpPost(url);\n            // adding post params\n            if (params != null) {               \n                httpPost.setEntity(new UrlEncodedFormEntity(params));\n\n            }\n\n            httpResponse = httpClient.execute(httpPost);\n\n        } else if (method == GET) {\n            // appending params to url\n            if (params != null) {\n                String paramString = URLEncodedUtils.format(params, \"utf-8\");\n                url += \"?\" + paramString;\n            }\n            HttpGet httpGet = new HttpGet(url);\n\n            httpResponse = httpClient.execute(httpGet);\n\n        }\n        httpEntity = httpResponse.getEntity();\n        response = EntityUtils.toString(httpEntity);\n\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (ClientProtocolException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return response;\n\n}\n</code></pre>\n"}],"owner":{"account_id":3565765,"reputation":135,"user_id":2977338,"accept_rate":20,"display_name":"user2977338"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1679382656,"creation_date":1385088860,"question_id":20136143,"body_markdown":"I am trying to run an app based on WorlBank API. I have a JSON URL to get data about a country and then show it in TextViews. Simple. But as soon as I run the app in closes.\r\n\r\nHere are my files:\r\n\r\n**Main Activity:**\r\n\r\n    public class MainActivity extends Activity {\r\n\t\r\n\t//URL to get JSON Array\r\n\tprivate static String url = &quot;http://api.worldbank.org/countries/ir?format=json&quot;;\r\n\t\r\n\t//JSON node Names\r\n\tprivate static final String PAGE = &quot;page&quot;;\r\n\tprivate static final String VALUE = &quot;value&quot;;\r\n\tprivate static final String NAME = &quot;name&quot;;\r\n\tprivate static final String GEO = &quot;region&quot;;\r\n\t\r\n\tJSONArray page = null;\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\t\r\n\t\t//Creating new JSON Parser\r\n\t\tJSONParser jParser = new JSONParser();\r\n\t\t// Getting JSON from URL\r\n\t\tJSONObject json = jParser.getJSONFromUrl(url);\r\n\t\t\r\n\t\ttry{\r\n\t\t\t//Getting JSON Array\r\n\t\t\tpage = json.getJSONArray(PAGE);\r\n\t\t\tJSONObject c = page.getJSONObject(0);\r\n\t\t\t\r\n\t\t\t//Sorting JSON item in a Variable\r\n\t\t\tString value = c.getString(VALUE);\r\n\t\t\tString name = c.getString(NAME);\r\n\t\t\tString geo = c.getString(GEO);\r\n\t\t\t\r\n\t\t\t//Importing to TextView\r\n\t\t\tfinal TextView id1 = (TextView) findViewById(R.id.id);\r\n\t\t\tfinal TextView name1 = (TextView) findViewById(R.id.name);\r\n\t\t\tfinal TextView geo1 = (TextView) findViewById(R.id.geo);\r\n\t\t\t\r\n\t\t\t//set JSON Data in TextView\r\n\t\t\tid1.setText(value);\r\n\t\t\tname1.setText(name);\r\n\t\t\tgeo1.setText(geo);\r\n\t\t} catch (JSONException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\n\t\r\n\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n\t\t// Inflate the menu; this adds items to the action bar if it is present.\r\n\t\tgetMenuInflater().inflate(R.menu.main, menu);\r\n\t\treturn true;\r\n\t}\r\n\r\n        }\r\n\r\nJSONParser:\r\n\r\n    public class JSONParser {\r\n\tstatic InputStream is = null;\r\n    static JSONObject jObj = null;\r\n    static String json = &quot;&quot;;\r\n \r\n    // constructor\r\n    public JSONParser() {\r\n \r\n    }\r\n \r\n    public JSONObject getJSONFromUrl(String url) {\r\n \r\n        // Making HTTP request\r\n        try {\r\n            // defaultHttpClient\r\n            DefaultHttpClient httpClient = new DefaultHttpClient();\r\n            HttpPost httpPost = new HttpPost(url);\r\n \r\n            HttpResponse httpResponse = httpClient.execute(httpPost);\r\n            HttpEntity httpEntity = httpResponse.getEntity();\r\n            is = httpEntity.getContent();           \r\n \r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        } catch (ClientProtocolException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n \r\n        try {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n                    is, &quot;iso-8859-1&quot;), 8);\r\n            StringBuilder sb = new StringBuilder();\r\n            String line = null;\r\n            while ((line = reader.readLine()) != null) {\r\n                sb.append(line + &quot;\\n&quot;);\r\n            }\r\n            is.close();\r\n            json = sb.toString();\r\n        } catch (Exception e) {\r\n            Log.e(&quot;Buffer Error&quot;, &quot;Error converting result &quot; + e.toString());\r\n        }\r\n \r\n        // try parse the string to a JSON object\r\n        try {\r\n            jObj = new JSONObject(json);\r\n        } catch (JSONException e) {\r\n            Log.e(&quot;JSON Parser&quot;, &quot;Error parsing data &quot; + e.toString());\r\n        }\r\n \r\n        // return JSON String\r\n        return jObj;\r\n \r\n    }\r\n    }\r\n\r\n\r\n**XML:**\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/id&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/name&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n \r\n    &lt;TextView\r\n        android:id=&quot;@+id/name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/id&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n \r\n    &lt;TextView\r\n        android:id=&quot;@+id/geo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignLeft=&quot;@+id/id&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;76dp&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\nAny idea?\r\n\r\nworld bank api:  http://data.worldbank.org/node/18\r\n\r\n\r\n\r\n\r\n\r\n\r\n**UPDATE:** \r\n\r\n*android:minSdkVersion=&quot;8&quot;*\r\n\r\n*android:targetSdkVersion=&quot;18&quot;*\r\n\r\n    FATAL EXCEPTION: main\r\n    E/AndroidRuntime(966): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.jsonsyctask/com.example.jsonsyctask.Main}: android.os.NetworkOnMainThreadException\r\n    E/AndroidRuntime(966): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2211)\r\n    E/AndroidRuntime(966): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2261)\r\n    E/AndroidRuntime(966): \tat android.app.ActivityThread.access$600(ActivityThread.java:141)\r\n    E/AndroidRuntime(966): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1256)\r\n    E/AndroidRuntime(966): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    E/AndroidRuntime(966): \tat android.os.Looper.loop(Looper.java:137)\r\n    E/AndroidRuntime(966): \tat android.app.ActivityThread.main(ActivityThread.java:5103)\r\n    E/AndroidRuntime(966): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    E/AndroidRuntime(966): \tat java.lang.reflect.Method.invoke(Method.java:525)\r\n    E/AndroidRuntime(966): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)","title":"Why my android app cannot get data from JSON url?","body":"<p>I am trying to run an app based on WorlBank API. I have a JSON URL to get data about a country and then show it in TextViews. Simple. But as soon as I run the app in closes.</p>\n\n<p>Here are my files:</p>\n\n<p><strong>Main Activity:</strong></p>\n\n<pre><code>public class MainActivity extends Activity {\n\n//URL to get JSON Array\nprivate static String url = \"http://api.worldbank.org/countries/ir?format=json\";\n\n//JSON node Names\nprivate static final String PAGE = \"page\";\nprivate static final String VALUE = \"value\";\nprivate static final String NAME = \"name\";\nprivate static final String GEO = \"region\";\n\nJSONArray page = null;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    //Creating new JSON Parser\n    JSONParser jParser = new JSONParser();\n    // Getting JSON from URL\n    JSONObject json = jParser.getJSONFromUrl(url);\n\n    try{\n        //Getting JSON Array\n        page = json.getJSONArray(PAGE);\n        JSONObject c = page.getJSONObject(0);\n\n        //Sorting JSON item in a Variable\n        String value = c.getString(VALUE);\n        String name = c.getString(NAME);\n        String geo = c.getString(GEO);\n\n        //Importing to TextView\n        final TextView id1 = (TextView) findViewById(R.id.id);\n        final TextView name1 = (TextView) findViewById(R.id.name);\n        final TextView geo1 = (TextView) findViewById(R.id.geo);\n\n        //set JSON Data in TextView\n        id1.setText(value);\n        name1.setText(name);\n        geo1.setText(geo);\n    } catch (JSONException e){\n        e.printStackTrace();\n    }\n\n\n\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main, menu);\n    return true;\n}\n\n    }\n</code></pre>\n\n<p>JSONParser:</p>\n\n<pre><code>public class JSONParser {\nstatic InputStream is = null;\nstatic JSONObject jObj = null;\nstatic String json = \"\";\n\n// constructor\npublic JSONParser() {\n\n}\n\npublic JSONObject getJSONFromUrl(String url) {\n\n    // Making HTTP request\n    try {\n        // defaultHttpClient\n        DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpPost httpPost = new HttpPost(url);\n\n        HttpResponse httpResponse = httpClient.execute(httpPost);\n        HttpEntity httpEntity = httpResponse.getEntity();\n        is = httpEntity.getContent();           \n\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (ClientProtocolException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                is, \"iso-8859-1\"), 8);\n        StringBuilder sb = new StringBuilder();\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line + \"\\n\");\n        }\n        is.close();\n        json = sb.toString();\n    } catch (Exception e) {\n        Log.e(\"Buffer Error\", \"Error converting result \" + e.toString());\n    }\n\n    // try parse the string to a JSON object\n    try {\n        jObj = new JSONObject(json);\n    } catch (JSONException e) {\n        Log.e(\"JSON Parser\", \"Error parsing data \" + e.toString());\n    }\n\n    // return JSON String\n    return jObj;\n\n}\n}\n</code></pre>\n\n<p><strong>XML:</strong></p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/id\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/name\"\n    android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/name\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/id\"\n    android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/geo\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignLeft=\"@+id/id\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginTop=\"76dp\"\n    android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n</code></pre>\n\n<p>Any idea?</p>\n\n<p>world bank api:  <a href=\"http://data.worldbank.org/node/18\" rel=\"nofollow\">http://data.worldbank.org/node/18</a></p>\n\n<p><strong>UPDATE:</strong> </p>\n\n<p><em>android:minSdkVersion=\"8\"</em></p>\n\n<p><em>android:targetSdkVersion=\"18\"</em></p>\n\n<pre><code>FATAL EXCEPTION: main\nE/AndroidRuntime(966): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.jsonsyctask/com.example.jsonsyctask.Main}: android.os.NetworkOnMainThreadException\nE/AndroidRuntime(966):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2211)\nE/AndroidRuntime(966):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2261)\nE/AndroidRuntime(966):  at android.app.ActivityThread.access$600(ActivityThread.java:141)\nE/AndroidRuntime(966):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1256)\nE/AndroidRuntime(966):  at android.os.Handler.dispatchMessage(Handler.java:99)\nE/AndroidRuntime(966):  at android.os.Looper.loop(Looper.java:137)\nE/AndroidRuntime(966):  at android.app.ActivityThread.main(ActivityThread.java:5103)\nE/AndroidRuntime(966):  at java.lang.reflect.Method.invokeNative(Native Method)\nE/AndroidRuntime(966):  at java.lang.reflect.Method.invoke(Method.java:525)\nE/AndroidRuntime(966):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)\n</code></pre>\n"},{"tags":["java","android","rss"],"comments":[{"owner":{"account_id":2782144,"reputation":855,"user_id":2394477,"accept_rate":75,"display_name":"Jeroen van den Broek"},"score":1,"creation_date":1382271300,"post_id":19476990,"comment_id":28885740,"body_markdown":"So...what is your actual question? You expect us to read this overload of code and tell you exactly what to add or change? Can you at least bring it down to a few lines of code that would actually be relevant?","body":"So...what is your actual question? You expect us to read this overload of code and tell you exactly what to add or change? Can you at least bring it down to a few lines of code that would actually be relevant?"},{"owner":{"account_id":3424892,"reputation":81,"user_id":2870902,"accept_rate":17,"display_name":"user2870902"},"score":0,"creation_date":1382280137,"post_id":19476990,"comment_id":28888296,"body_markdown":"this code will only extract the title from the rss but i want to extract the images also into the listview.","body":"this code will only extract the title from the rss but i want to extract the images also into the listview."}],"answers":[{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679382618,"creation_date":1382280243,"answer_id":19478704,"question_id":19476990,"body_markdown":"You are reinventing the wheel. You can simplify everything by using the [android-rss](https://github.com/ahorn/android-rss) library with my [droidQuery](http://phil-brown.github.io/droidQuery/) library (originally posted [here][1]):\r\n\r\n    final RSSHandler handler = new RSSHandler(new RSSConfig());\r\n    $.ajax(new AjaxOptions().url(options.url())\r\n                            .type(&quot;GET&quot;)\r\n                            .dataType(&quot;XML&quot;)\r\n                            .context(this)\r\n                            .SAXContentHandler(handler)\r\n                            .success(new Function() {\r\n                                @Override\r\n                                public void invoke($ droidQuery, Object... params) {\r\n                                    RSSFeed feed = handler.feed();\r\n                                    List&lt;RSSItem&gt; = feed.getItems();\r\n                                    //use this list to update your list adapter, then call the method &quot;getThumbnails()&quot; to get the images associated with the feed item.\r\n                                }\r\n                            }));\r\n\r\n\r\n\r\n[1]:http://gist.github.com/phil-brown/6178243","title":"extract the images from rss feed","body":"<p>You are reinventing the wheel. You can simplify everything by using the <a href=\"https://github.com/ahorn/android-rss\" rel=\"nofollow noreferrer\">android-rss</a> library with my <a href=\"http://phil-brown.github.io/droidQuery/\" rel=\"nofollow noreferrer\">droidQuery</a> library (originally posted <a href=\"http://gist.github.com/phil-brown/6178243\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>final RSSHandler handler = new RSSHandler(new RSSConfig());\n$.ajax(new AjaxOptions().url(options.url())\n                        .type(&quot;GET&quot;)\n                        .dataType(&quot;XML&quot;)\n                        .context(this)\n                        .SAXContentHandler(handler)\n                        .success(new Function() {\n                            @Override\n                            public void invoke($ droidQuery, Object... params) {\n                                RSSFeed feed = handler.feed();\n                                List&lt;RSSItem&gt; = feed.getItems();\n                                //use this list to update your list adapter, then call the method &quot;getThumbnails()&quot; to get the images associated with the feed item.\n                            }\n                        }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6014928,"reputation":822,"user_id":4724129,"display_name":"Clement Osei Tano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467395332,"creation_date":1467395332,"answer_id":38151286,"question_id":19476990,"body_markdown":"After reading online for a few hours I got this, originally the code didn&#39;t parse the image but after reading documentation on DOM elements (from the documentation that comes with Android Studio), I was able to create the following code snippet which actually works. I tested it in a console.\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.NodeList;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    \r\n    /**\r\n     * Created by user on 7/1/2016.\r\n     */\r\n    public class FeedParser {\r\n        // names of the XML tags\r\n        static final String PUB_DATE = &quot;pubDate&quot;;\r\n        static final  String LINK = &quot;link&quot;;\r\n        static final  String TITLE = &quot;title&quot;;\r\n        static final  String ITEM = &quot;item&quot;;\r\n        static final  String IMAGE = &quot;media:thumbnail&quot;;\r\n        static final String AUTHOR = &quot;author&quot;;\r\n    \r\n        final URL feedUrl;\r\n    \r\n        public FeedParser(String feedUrl){\r\n            try {\r\n                this.feedUrl = new URL(feedUrl);\r\n            } catch (MalformedURLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public InputStream getInputStream() {\r\n            try {\r\n                return feedUrl.openConnection().getInputStream();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public void parse() {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n     \r\n            try {\r\n                DocumentBuilder builder = factory.newDocumentBuilder();\r\n                Document dom = builder.parse(this.getInputStream());\r\n                Element root = dom.getDocumentElement();\r\n                NodeList items = root.getElementsByTagName(ITEM);\r\n                for (int i=0;i&lt;items.getLength();i++){\r\n                 \r\n                    Node item = items.item(i);\r\n                    NodeList properties = item.getChildNodes();\r\n                    for (int j=0;j&lt;properties.getLength();j++){\r\n                        Node property = properties.item(j);\r\n                        String name = property.getNodeName();\r\n                        if (name.equalsIgnoreCase(TITLE)){\r\n                            System.out.println(property.getFirstChild().getNodeValue());\r\n                        } else if (name.equalsIgnoreCase(LINK)){\r\n                            System.out.println(property.getFirstChild().getNodeValue());\r\n                        } else if (name.equalsIgnoreCase(AUTHOR)){\r\n                            StringBuilder text = new StringBuilder();\r\n                            NodeList chars = property.getChildNodes();\r\n                            for (int k=0;k&lt;chars.getLength();k++){\r\n                                text.append(chars.item(k).getNodeValue());\r\n                            }\r\n                            System.out.println(text.toString());\r\n                        } else if (name.equalsIgnoreCase(PUB_DATE)){\r\n                            System.out.println(property.getFirstChild().getNodeValue());\r\n                        }\r\n                        else if (name.equalsIgnoreCase(IMAGE)){\r\n                            System.out.println(property.getAttributes().getNamedItem(&quot;url&quot;).getNodeValue());\r\n                        }\r\n                    }\r\n                 \r\n                }\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n           \r\n        }\r\n        \r\n        public static void main(String[] aeg){\r\n        new FeedParser(&quot;http://www.pcworld.com/index.rss&quot;).parse();\r\n        }\r\n    }\r\n\r\nThough my answer is late i hope it helps someone else","title":"extract the images from rss feed","body":"<p>After reading online for a few hours I got this, originally the code didn't parse the image but after reading documentation on DOM elements (from the documentation that comes with Android Studio), I was able to create the following code snippet which actually works. I tested it in a console.</p>\n\n<pre><code>import org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\n/**\n * Created by user on 7/1/2016.\n */\npublic class FeedParser {\n    // names of the XML tags\n    static final String PUB_DATE = \"pubDate\";\n    static final  String LINK = \"link\";\n    static final  String TITLE = \"title\";\n    static final  String ITEM = \"item\";\n    static final  String IMAGE = \"media:thumbnail\";\n    static final String AUTHOR = \"author\";\n\n    final URL feedUrl;\n\n    public FeedParser(String feedUrl){\n        try {\n            this.feedUrl = new URL(feedUrl);\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public InputStream getInputStream() {\n        try {\n            return feedUrl.openConnection().getInputStream();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void parse() {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n\n        try {\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            Document dom = builder.parse(this.getInputStream());\n            Element root = dom.getDocumentElement();\n            NodeList items = root.getElementsByTagName(ITEM);\n            for (int i=0;i&lt;items.getLength();i++){\n\n                Node item = items.item(i);\n                NodeList properties = item.getChildNodes();\n                for (int j=0;j&lt;properties.getLength();j++){\n                    Node property = properties.item(j);\n                    String name = property.getNodeName();\n                    if (name.equalsIgnoreCase(TITLE)){\n                        System.out.println(property.getFirstChild().getNodeValue());\n                    } else if (name.equalsIgnoreCase(LINK)){\n                        System.out.println(property.getFirstChild().getNodeValue());\n                    } else if (name.equalsIgnoreCase(AUTHOR)){\n                        StringBuilder text = new StringBuilder();\n                        NodeList chars = property.getChildNodes();\n                        for (int k=0;k&lt;chars.getLength();k++){\n                            text.append(chars.item(k).getNodeValue());\n                        }\n                        System.out.println(text.toString());\n                    } else if (name.equalsIgnoreCase(PUB_DATE)){\n                        System.out.println(property.getFirstChild().getNodeValue());\n                    }\n                    else if (name.equalsIgnoreCase(IMAGE)){\n                        System.out.println(property.getAttributes().getNamedItem(\"url\").getNodeValue());\n                    }\n                }\n\n            }\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n    public static void main(String[] aeg){\n    new FeedParser(\"http://www.pcworld.com/index.rss\").parse();\n    }\n}\n</code></pre>\n\n<p>Though my answer is late i hope it helps someone else</p>\n"}],"owner":{"account_id":3424892,"reputation":81,"user_id":2870902,"accept_rate":17,"display_name":"user2870902"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2029,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679382618,"creation_date":1382269757,"question_id":19476990,"body_markdown":"I&#39;m new to android development application and i suppose to parse rss url into a listview. the code is working but we want to extract the images from the rss feed and display it into the listview.\r\n\r\nRssItem.java\r\n\r\n    public class RssItem {\r\n\t\r\n\t// item title\r\n\tprivate String title;\r\n\t// item link\r\n\tprivate String link;\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\r\n\tpublic String getLink() {\r\n\t\treturn link;\r\n\t}\r\n\r\n\tpublic void setLink(String link) {\r\n\t\tthis.link = link;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn title;\r\n\t}\r\n\t\r\n    }\r\n\r\nListListener.java\r\n\r\n    public class ListListener implements OnItemClickListener {\r\n\r\n\t// List item&#39;s reference\r\n\tList&lt;RssItem&gt; listItems;\r\n\t// Calling activity reference\r\n\tActivity activity;\r\n\t\r\n\tpublic ListListener(List&lt;RssItem&gt; aListItems, Activity anActivity) {\r\n\t\tlistItems = aListItems;\r\n\t\tactivity  = anActivity;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Start a browser with url from the rss item.\r\n\t */\r\n\tpublic void onItemClick(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\r\n\t\tIntent i = new Intent(Intent.ACTION_VIEW);\r\n\t\ti.setData(Uri.parse(listItems.get(pos).getLink()));\r\n\t\r\n\t\tactivity.startActivity(i);\r\n\t\t\r\n\t}\r\n\t\r\n    }\r\n\r\nRssParseHandler.java\r\n\r\n     public class RssParseHandler extends DefaultHandler {\r\n\r\n\tprivate List&lt;RssItem&gt; rssItems;\r\n\t\r\n\t// Used to reference item while parsing\r\n\tprivate RssItem currentItem;\r\n\t\r\n\t// Parsing title indicator\r\n\tprivate boolean parsingTitle;\r\n\t// Parsing link indicator\r\n\tprivate boolean parsingLink;\r\n\t\r\n\tpublic RssParseHandler() {\r\n\t\trssItems = new ArrayList&lt;RssItem&gt;();\r\n\t}\r\n\t\r\n\tpublic List&lt;RssItem&gt; getItems() {\r\n\t\treturn rssItems;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException \r\n    {\r\n\t\tif (&quot;item&quot;.equals(qName)) {\r\n\t\t\tcurrentItem = new RssItem();\r\n\t\t} else if (&quot;title&quot;.equals(qName)) {\r\n\t\t\tparsingTitle = true;\r\n\t\t} else if (&quot;link&quot;.equals(qName)) {\r\n\t\t\tparsingLink = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void endElement(String uri, String localName, String qName) throws SAXException {\r\n\t\tif (&quot;item&quot;.equals(qName)) {\r\n\t\t\trssItems.add(currentItem);\r\n\t\t\tcurrentItem = null;\r\n\t\t} else if (&quot;title&quot;.equals(qName)) {\r\n\t\t\tparsingTitle = false;\r\n\t\t} else if (&quot;link&quot;.equals(qName)) {\r\n\t\t\tparsingLink = false;\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void characters(char[] ch, int start, int length) throws SAXException {\r\n\t\tif (parsingTitle) {\r\n\t\t\tif (currentItem != null)\r\n\t\t\t\tcurrentItem.setTitle(new String(ch, start, length));\r\n\t\t} else if (parsingLink) {\r\n\t\t\tif (currentItem != null) {\r\n\t\t\t\tcurrentItem.setLink(new String(ch, start, length));\r\n\t\t\t\tparsingLink = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\nRssReader.java\r\n\r\n      public class RssReader {\r\n\t\r\n\tprivate String rssUrl;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t * \r\n\t * @param rssUrl\r\n\t */\r\n\tpublic RssReader(String rssUrl) {\r\n\t\tthis.rssUrl = rssUrl;\r\n\t}\r\n\r\n\t/**\r\n\t * Get RSS items.\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic List&lt;RssItem&gt; getItems() throws Exception {\r\n\t\t// SAX parse RSS data\r\n\t\tSAXParserFactory factory = SAXParserFactory.newInstance();\r\n\t\tSAXParser saxParser = factory.newSAXParser();\r\n\r\n\t\tRssParseHandler handler = new RssParseHandler();\r\n\t\t\r\n\t\tsaxParser.parse(rssUrl, handler);\r\n\r\n\t\treturn handler.getItems();\r\n\t\t\r\n\t}\r\n\r\n    }\r\n\r\nITCutiesReaderAppActivity.java\r\n\r\n    public class ITCutiesReaderAppActivity extends Activity {\r\n     \r\n    // A reference to the local object\r\n    private ITCutiesReaderAppActivity local;\r\n     \r\n    /**\r\n     * This method creates main application view\r\n     */\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // Set view\r\n        setContentView(R.layout.main);\r\n \r\n        // Set reference to this activity\r\n        local = this;\r\n         \r\n        GetRSSDataTask task = new GetRSSDataTask();\r\n         \r\n        // Start download RSS task\r\n        task.execute(&quot;http://www.itcuties.com/feed/#sthash.YI6YrEet.dpuf&quot;);\r\n         \r\n        // Debug the thread name\r\n        Log.d(&quot;ITCRssReader&quot;, Thread.currentThread().getName());\r\n    }\r\n     \r\n    public class GetRSSDataTask extends AsyncTask&lt;String, Void, List&lt;RssItem&gt; &gt; {\r\n        @Override\r\n        protected List&lt;RssItem&gt; doInBackground(String... urls) {\r\n             \r\n            // Debug the task thread name\r\n            Log.d(&quot;ITCRssReader&quot;, Thread.currentThread().getName());\r\n             \r\n            try {\r\n                // Create RSS reader\r\n                RssReader rssReader = new RssReader(urls[0]);\r\n             \r\n                // Parse RSS, get items\r\n                return rssReader.getItems();\r\n             \r\n            } catch (Exception e) {\r\n                Log.e(&quot;ITCRssReader&quot;, e.getMessage());\r\n            }\r\n             \r\n            return null;\r\n        }\r\n         \r\n        @Override\r\n        protected void onPostExecute(List&lt;RssItem&gt; result) {\r\n             \r\n            // Get a ListView from main view\r\n            ListView itcItems = (ListView) findViewById(R.id.listMainView1);\r\n                         \r\n            // Create a list adapter\r\n            ArrayAdapter&lt;RssItem&gt; adapter = new ArrayAdapter&lt;RssItem&gt;  (local,android.R.layout.simple_list_item_1,     result);\r\n            // Set list adapter for the ListView\r\n            itcItems.setAdapter(adapter);\r\n                         \r\n            // Set list view item click listener\r\n            itcItems.setOnItemClickListener(new ListListener(result, local));\r\n        }\r\n    }  \r\n    }","title":"extract the images from rss feed","body":"<p>I'm new to android development application and i suppose to parse rss url into a listview. the code is working but we want to extract the images from the rss feed and display it into the listview.</p>\n\n<p>RssItem.java</p>\n\n<pre><code>public class RssItem {\n\n// item title\nprivate String title;\n// item link\nprivate String link;\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic String getLink() {\n    return link;\n}\n\npublic void setLink(String link) {\n    this.link = link;\n}\n\n@Override\npublic String toString() {\n    return title;\n}\n\n}\n</code></pre>\n\n<p>ListListener.java</p>\n\n<pre><code>public class ListListener implements OnItemClickListener {\n\n// List item's reference\nList&lt;RssItem&gt; listItems;\n// Calling activity reference\nActivity activity;\n\npublic ListListener(List&lt;RssItem&gt; aListItems, Activity anActivity) {\n    listItems = aListItems;\n    activity  = anActivity;\n}\n\n/**\n * Start a browser with url from the rss item.\n */\npublic void onItemClick(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\n    Intent i = new Intent(Intent.ACTION_VIEW);\n    i.setData(Uri.parse(listItems.get(pos).getLink()));\n\n    activity.startActivity(i);\n\n}\n\n}\n</code></pre>\n\n<p>RssParseHandler.java</p>\n\n<pre><code> public class RssParseHandler extends DefaultHandler {\n\nprivate List&lt;RssItem&gt; rssItems;\n\n// Used to reference item while parsing\nprivate RssItem currentItem;\n\n// Parsing title indicator\nprivate boolean parsingTitle;\n// Parsing link indicator\nprivate boolean parsingLink;\n\npublic RssParseHandler() {\n    rssItems = new ArrayList&lt;RssItem&gt;();\n}\n\npublic List&lt;RssItem&gt; getItems() {\n    return rssItems;\n}\n\n@Override\npublic void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException \n{\n    if (\"item\".equals(qName)) {\n        currentItem = new RssItem();\n    } else if (\"title\".equals(qName)) {\n        parsingTitle = true;\n    } else if (\"link\".equals(qName)) {\n        parsingLink = true;\n    }\n}\n\n@Override\npublic void endElement(String uri, String localName, String qName) throws SAXException {\n    if (\"item\".equals(qName)) {\n        rssItems.add(currentItem);\n        currentItem = null;\n    } else if (\"title\".equals(qName)) {\n        parsingTitle = false;\n    } else if (\"link\".equals(qName)) {\n        parsingLink = false;\n    }\n}\n\n@Override\npublic void characters(char[] ch, int start, int length) throws SAXException {\n    if (parsingTitle) {\n        if (currentItem != null)\n            currentItem.setTitle(new String(ch, start, length));\n    } else if (parsingLink) {\n        if (currentItem != null) {\n            currentItem.setLink(new String(ch, start, length));\n            parsingLink = false;\n        }\n    }\n}\n\n}\n</code></pre>\n\n<p>RssReader.java</p>\n\n<pre><code>  public class RssReader {\n\nprivate String rssUrl;\n\n/**\n * Constructor\n * \n * @param rssUrl\n */\npublic RssReader(String rssUrl) {\n    this.rssUrl = rssUrl;\n}\n\n/**\n * Get RSS items.\n * \n * @return\n */\npublic List&lt;RssItem&gt; getItems() throws Exception {\n    // SAX parse RSS data\n    SAXParserFactory factory = SAXParserFactory.newInstance();\n    SAXParser saxParser = factory.newSAXParser();\n\n    RssParseHandler handler = new RssParseHandler();\n\n    saxParser.parse(rssUrl, handler);\n\n    return handler.getItems();\n\n}\n\n}\n</code></pre>\n\n<p>ITCutiesReaderAppActivity.java</p>\n\n<pre><code>public class ITCutiesReaderAppActivity extends Activity {\n\n// A reference to the local object\nprivate ITCutiesReaderAppActivity local;\n\n/**\n * This method creates main application view\n */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // Set view\n    setContentView(R.layout.main);\n\n    // Set reference to this activity\n    local = this;\n\n    GetRSSDataTask task = new GetRSSDataTask();\n\n    // Start download RSS task\n    task.execute(\"http://www.itcuties.com/feed/#sthash.YI6YrEet.dpuf\");\n\n    // Debug the thread name\n    Log.d(\"ITCRssReader\", Thread.currentThread().getName());\n}\n\npublic class GetRSSDataTask extends AsyncTask&lt;String, Void, List&lt;RssItem&gt; &gt; {\n    @Override\n    protected List&lt;RssItem&gt; doInBackground(String... urls) {\n\n        // Debug the task thread name\n        Log.d(\"ITCRssReader\", Thread.currentThread().getName());\n\n        try {\n            // Create RSS reader\n            RssReader rssReader = new RssReader(urls[0]);\n\n            // Parse RSS, get items\n            return rssReader.getItems();\n\n        } catch (Exception e) {\n            Log.e(\"ITCRssReader\", e.getMessage());\n        }\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(List&lt;RssItem&gt; result) {\n\n        // Get a ListView from main view\n        ListView itcItems = (ListView) findViewById(R.id.listMainView1);\n\n        // Create a list adapter\n        ArrayAdapter&lt;RssItem&gt; adapter = new ArrayAdapter&lt;RssItem&gt;  (local,android.R.layout.simple_list_item_1,     result);\n        // Set list adapter for the ListView\n        itcItems.setAdapter(adapter);\n\n        // Set list view item click listener\n        itcItems.setOnItemClickListener(new ListListener(result, local));\n    }\n}  \n}\n</code></pre>\n"},{"tags":["java","android","json","parsing"],"comments":[{"owner":{"account_id":898710,"reputation":1038,"user_id":935421,"accept_rate":50,"display_name":"Juangcg"},"score":0,"creation_date":1378235263,"post_id":18599591,"comment_id":27374470,"body_markdown":"The error you are getting is because in one of the objets in the JSON Array you do not have defined the&quot;emailAddress&quot;. With the JSON you post everything should go fine. May you post the logcat with this line before the loop Log.d(&quot;YOUR_TAG&quot;, jsonArr.toString()).","body":"The error you are getting is because in one of the objets in the JSON Array you do not have defined the&quot;emailAddress&quot;. With the JSON you post everything should go fine. May you post the logcat with this line before the loop Log.d(&quot;YOUR_TAG&quot;, jsonArr.toString())."},{"owner":{"account_id":2189379,"reputation":3199,"user_id":1936916,"accept_rate":84,"display_name":"johnsonjp34"},"score":0,"creation_date":1378235751,"post_id":18599591,"comment_id":27374725,"body_markdown":"@Juangcg I have Your Tag as an edit above. thanks","body":"@Juangcg I have Your Tag as an edit above. thanks"}],"answers":[{"tags":[],"owner":{"account_id":138477,"reputation":1180,"user_id":343439,"accept_rate":82,"display_name":"AndyPerfect"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378235602,"creation_date":1378235602,"answer_id":18599756,"question_id":18599591,"body_markdown":"It looks like you&#39;re making assumptions about what data each object in your array will have. One of those objects does not have every piece of data and this is throwing an error. I&#39;m guessing your error is in one of these lines:\r\n\r\n    String id = jsonObj1.getString(TAG_ID);\r\n    String nameFirst1 = jsonObj1.getString(TAG_FIRSTNAME);\r\n    String nameLast1 = jsonObj1.getString(TAG_LASTNAME);\r\n    String emailAddress1 = jsonObj1.getString(TAG_EMAIL);\r\n    String streetAddress1 = jsonObj1.getString(TAG_ADDRESS);\r\n    String phone1 = jsonObj1.getString(TAG_PHONE);\r\n\r\nSince you&#39;re not seeing anything printed, set a breakpoint and verify that each piece of data is actually there when you first enter your for loop. In addition, I would recommend doing some defensive coding and using has() to verify that the jsonObject actually has the data before you try to grab it so you don&#39;t get these stacktraces in the future. Something like\r\n\r\n    String id = &quot;&quot;;\r\n    if (jsonObj1.has(TAG_ID)) {\r\n       id = jsonObj1.getString(TAG_ID);\r\n    } else {\r\n       ///Handle bad data\r\n    }","title":"Separate JSON string into variable in android","body":"<p>It looks like you're making assumptions about what data each object in your array will have. One of those objects does not have every piece of data and this is throwing an error. I'm guessing your error is in one of these lines:</p>\n\n<pre><code>String id = jsonObj1.getString(TAG_ID);\nString nameFirst1 = jsonObj1.getString(TAG_FIRSTNAME);\nString nameLast1 = jsonObj1.getString(TAG_LASTNAME);\nString emailAddress1 = jsonObj1.getString(TAG_EMAIL);\nString streetAddress1 = jsonObj1.getString(TAG_ADDRESS);\nString phone1 = jsonObj1.getString(TAG_PHONE);\n</code></pre>\n\n<p>Since you're not seeing anything printed, set a breakpoint and verify that each piece of data is actually there when you first enter your for loop. In addition, I would recommend doing some defensive coding and using has() to verify that the jsonObject actually has the data before you try to grab it so you don't get these stacktraces in the future. Something like</p>\n\n<pre><code>String id = \"\";\nif (jsonObj1.has(TAG_ID)) {\n   id = jsonObj1.getString(TAG_ID);\n} else {\n   ///Handle bad data\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679382546,"creation_date":1378235672,"answer_id":18599780,"question_id":18599591,"body_markdown":"You can use my [droidQuery](http://phil-brown.github.io/droidQuery/) library) to simplify your parsing:\r\n\r\n    Object[] array = $.makeArray(jsonArr);\r\n    for (Object obj : array)\r\n    {\r\n        Map&lt;String, ?&gt; map = $.map((JSONObject) obj);\r\n        for (Map.Entry&lt;String, ?&gt; entry : map)\r\n        {\r\n            Log.d(&quot;DEBUG&quot;, String.format(Locale.US, &quot;Object contains Key %s and value %s&quot;, entry.getKey(), entry.getValue().toString());\r\n        }\r\n    }","title":"Separate JSON string into variable in android","body":"<p>You can use my <a href=\"http://phil-brown.github.io/droidQuery/\" rel=\"nofollow noreferrer\">droidQuery</a> library) to simplify your parsing:</p>\n<pre><code>Object[] array = $.makeArray(jsonArr);\nfor (Object obj : array)\n{\n    Map&lt;String, ?&gt; map = $.map((JSONObject) obj);\n    for (Map.Entry&lt;String, ?&gt; entry : map)\n    {\n        Log.d(&quot;DEBUG&quot;, String.format(Locale.US, &quot;Object contains Key %s and value %s&quot;, entry.getKey(), entry.getValue().toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":898710,"reputation":1038,"user_id":935421,"accept_rate":50,"display_name":"Juangcg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1378236268,"creation_date":1378235907,"answer_id":18599844,"question_id":18599591,"body_markdown":"As you can see you don&#39;t have any emailAddress defined for the third object. If you are not sure that you will have every attribute in the JSONs you will have to check for the key before.\r\n\r\n    if (jsonObject.has(TAG))&#160;{\r\n        jsonObject.getString(TAG_ID);\r\n    }\r\n\r\nSome time I make utils to make code easier, for example:\r\n\r\n    public static String getString(JSONObject object, String tag, String defString) {\r\n        if (object.has(tag))\r\n            return object.getString(tag);\r\n        else\r\n            return defString;\r\n    }\r\n\r\nSo my code will look like this:\r\n\r\n    String nameFirst1 = Utils.getString(jsonObj1, TAG_ID, &quot;&quot;); // your firstName default.\r\n    String nameLast1 = Utils.getString(jsonObj1, TAG_ID, null); // maybe null??\r\n\r\n\r\nYour JSON formatted, use this [link][1] to see it formatted (it helps me a lot)\r\n\r\n    [\r\n       {\r\n          &quot;streetAddress&quot;:&quot;123 Rick Dr&quot;,\r\n          &quot;id&quot;:&quot;Fri Aug 30 17:20:35 EDT 2013&quot;,\r\n          &quot;phone&quot;:&quot;5555555555&quot;,\r\n          &quot;nameLast&quot;:&quot;Sanders&quot;,\r\n          &quot;nameFirst&quot;:&quot;Bill&quot;,\r\n          &quot;description&quot;:&quot;payment confirmed&quot;,\r\n          &quot;zipCode&quot;:&quot;44444&quot;,\r\n          &quot;state&quot;:&quot;KS&quot;,\r\n          &quot;emailAddress&quot;:&quot;abc@aqw.com&quot;,\r\n          &quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;\r\n       },\r\n       {\r\n          &quot;streetAddress&quot;:&quot;999 Rock St&quot;,\r\n          &quot;id&quot;:&quot;Fri Aug 30 17:21:37 EDT 2013&quot;,\r\n          &quot;phone&quot;:&quot;5554567896&quot;,\r\n          &quot;nameLast&quot;:&quot;Lloyd&quot;,\r\n          &quot;nameFirst&quot;:&quot;Frank&quot;,\r\n          &quot;description&quot;:&quot;payment confirmed&quot;,\r\n          &quot;zipCode&quot;:&quot;44555&quot;,\r\n          &quot;state&quot;:&quot;KY&quot;,\r\n          &quot;emailAddress&quot;:&quot;qwe@msn.com&quot;,\r\n          &quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;\r\n       },\r\n       {\r\n          &quot;id&quot;:&quot;Sat Aug 31 12:46:33 EDT 2013&quot;,\r\n          &quot;nameLast&quot;:&quot;j&quot;,\r\n          &quot;nameFirst&quot;:&quot;j&quot;,\r\n          &quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;,\r\n          &quot;description&quot;:&quot;payment confirmed&quot;\r\n       },\r\n       {\r\n          &quot;id&quot;:&quot;Sat Aug 31 14:33:03 EDT 2013&quot;,\r\n          &quot;emailAddress&quot;:&quot;c&quot;,\r\n          &quot;nameLast&quot;:&quot;b&quot;,\r\n          &quot;nameFirst&quot;:&quot;a&quot;,\r\n          &quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;,\r\n          &quot;description&quot;:&quot;payment confirmed&quot;\r\n       }\r\n    ]\r\n\r\n\r\n  [1]: http://jsonformatter.curiousconcept.com/","title":"Separate JSON string into variable in android","body":"<p>As you can see you don't have any emailAddress defined for the third object. If you are not sure that you will have every attribute in the JSONs you will have to check for the key before.</p>\n\n<pre><code>if (jsonObject.has(TAG)){\n    jsonObject.getString(TAG_ID);\n}\n</code></pre>\n\n<p>Some time I make utils to make code easier, for example:</p>\n\n<pre><code>public static String getString(JSONObject object, String tag, String defString) {\n    if (object.has(tag))\n        return object.getString(tag);\n    else\n        return defString;\n}\n</code></pre>\n\n<p>So my code will look like this:</p>\n\n<pre><code>String nameFirst1 = Utils.getString(jsonObj1, TAG_ID, \"\"); // your firstName default.\nString nameLast1 = Utils.getString(jsonObj1, TAG_ID, null); // maybe null??\n</code></pre>\n\n<p>Your JSON formatted, use this <a href=\"http://jsonformatter.curiousconcept.com/\" rel=\"nofollow\">link</a> to see it formatted (it helps me a lot)</p>\n\n<pre><code>[\n   {\n      \"streetAddress\":\"123 Rick Dr\",\n      \"id\":\"Fri Aug 30 17:20:35 EDT 2013\",\n      \"phone\":\"5555555555\",\n      \"nameLast\":\"Sanders\",\n      \"nameFirst\":\"Bill\",\n      \"description\":\"payment confirmed\",\n      \"zipCode\":\"44444\",\n      \"state\":\"KS\",\n      \"emailAddress\":\"abc@aqw.com\",\n      \"kind\":\"contactinfoendpoint#resourcesItem\"\n   },\n   {\n      \"streetAddress\":\"999 Rock St\",\n      \"id\":\"Fri Aug 30 17:21:37 EDT 2013\",\n      \"phone\":\"5554567896\",\n      \"nameLast\":\"Lloyd\",\n      \"nameFirst\":\"Frank\",\n      \"description\":\"payment confirmed\",\n      \"zipCode\":\"44555\",\n      \"state\":\"KY\",\n      \"emailAddress\":\"qwe@msn.com\",\n      \"kind\":\"contactinfoendpoint#resourcesItem\"\n   },\n   {\n      \"id\":\"Sat Aug 31 12:46:33 EDT 2013\",\n      \"nameLast\":\"j\",\n      \"nameFirst\":\"j\",\n      \"kind\":\"contactinfoendpoint#resourcesItem\",\n      \"description\":\"payment confirmed\"\n   },\n   {\n      \"id\":\"Sat Aug 31 14:33:03 EDT 2013\",\n      \"emailAddress\":\"c\",\n      \"nameLast\":\"b\",\n      \"nameFirst\":\"a\",\n      \"kind\":\"contactinfoendpoint#resourcesItem\",\n      \"description\":\"payment confirmed\"\n   }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2789154,"reputation":3200,"user_id":2399772,"display_name":"Demitrian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378241938,"creation_date":1378241938,"answer_id":18601384,"question_id":18599591,"body_markdown":"I know that an answer has already been accepted, you could consider using the GSON library as well.\r\n\r\nIT does exactly what you want, and there is lots of documentation and examples out there, and the library is even quite well documented:\r\n\r\nhttps://code.google.com/p/google-gson/\r\n\r\nhttp://www.javacreed.com/simple-gson-example/\r\n\r\nHope this helps for your future projects.","title":"Separate JSON string into variable in android","body":"<p>I know that an answer has already been accepted, you could consider using the GSON library as well.</p>\n\n<p>IT does exactly what you want, and there is lots of documentation and examples out there, and the library is even quite well documented:</p>\n\n<p><a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow\">https://code.google.com/p/google-gson/</a></p>\n\n<p><a href=\"http://www.javacreed.com/simple-gson-example/\" rel=\"nofollow\">http://www.javacreed.com/simple-gson-example/</a></p>\n\n<p>Hope this helps for your future projects.</p>\n"}],"owner":{"account_id":2189379,"reputation":3199,"user_id":1936916,"accept_rate":84,"display_name":"johnsonjp34"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18599844,"answer_count":4,"score":1,"last_activity_date":1679382546,"creation_date":1378234858,"question_id":18599591,"body_markdown":"I&#39;m trying to divide this JSON string into individual strings of each contact item such as emailAddress &amp; phone number. I&#39;m using System.out.print to see if the information is being stored in the strings as it should. Nothing is showing up in the system.out and all that happens is what you see below in the logcat.\r\n\r\nJSON string:\r\n\r\n\r\n    {&quot;items&quot;:[{&quot;description&quot;:&quot;payment confirmed&quot;,&quot;emailAddress&quot;:&quot;abc@aqw.com&quot;,&quot;id&quot;:&quot;Fri Aug 30 17:20:35 EDT 2013&quot;,&quot;nameFirst&quot;:&quot;Bill&quot;,&quot;nameLast&quot;:&quot;Sanders&quot;,&quot;phone&quot;:&quot;5555555555&quot;,&quot;state&quot;:&quot;KS&quot;,&quot;streetAddress&quot;:&quot;123 Rick Dr&quot;,&quot;zipCode&quot;:&quot;44444&quot;,&quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;},{&quot;description&quot;:&quot;payment confirmed&quot;,&quot;emailAddress&quot;:&quot;qwe@msn.com&quot;,&quot;id&quot;:&quot;Fri Aug 30 17:21:37 EDT 2013&quot;,&quot;nameFirst&quot;:&quot;Frank&quot;,&quot;nameLast&quot;:&quot;Lloyd&quot;,&quot;phone&quot;:&quot;5554567896&quot;,&quot;state&quot;:&quot;KY&quot;,&quot;streetAddress&quot;:&quot;999 Rock St&quot;,&quot;zipCode&quot;:&quot;44555&quot;,&quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;}],&quot;kind&quot;:&quot;contactinfoendpoint#resources&quot;,&quot;etag&quot;:&quot;\\&quot;NiDXI3T89oRrAPGJAhgGQje1Z0w/z0W4p01mjHc5cNgcOt3Kb_1xo8E\\&quot;&quot;}\r\n\r\nHere is the logcat.\r\n\r\n    09-03 14:51:18.755: W/System.err(27991): org.json.JSONException: No value for emailAddress\r\n    09-03 14:51:18.755: W/System.err(27991): \tat org.json.JSONObject.get(JSONObject.java:354)\r\n    09-03 14:51:18.755: W/System.err(27991): \tat org.json.JSONObject.getString(JSONObject.java:510)\r\n    09-03 14:51:18.755: W/System.err(27991): \tat com.indeeditis.FinderActivity$EndpointsTask.doInBackground(FinderActivity.java:112)\r\n    09-03 14:51:18.765: W/System.err(27991): \tat com.indeeditis.FinderActivity$EndpointsTask.doInBackground(FinderActivity.java:1)\r\n    09-03 14:51:18.765: W/System.err(27991): \tat android.os.AsyncTask$2.call(AsyncTask.java:287)\r\n    09-03 14:51:18.765: W/System.err(27991): \tat java.util.concurrent.FutureTask.run(FutureTask.java:234)\r\n    09-03 14:51:18.765: W/System.err(27991): \tat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)\r\n    09-03 14:51:18.765: W/System.err(27991): \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n    09-03 14:51:18.765: W/System.err(27991): \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n    09-03 14:51:18.765: W/System.err(27991): \tat java.lang.Thread.run(Thread.java:856)\r\n\r\n\r\nMy program:\r\n\r\n    public class FinderActivity extends ListActivity   {\r\n\t\r\n\t\r\n\tprivate static final String TAG_ID = &quot;id&quot;;\r\n\tprivate static final String TAG_FIRSTNAME = &quot;nameFirst&quot;;\r\n\tprivate static final String TAG_LASTNAME = &quot;nameLast&quot;;\r\n\tprivate static final String TAG_EMAIL = &quot;emailAddress&quot;;\r\n\tprivate static final String TAG_ADDRESS = &quot;streetAddress&quot;;\r\n\tprivate static final String TAG_STATE = &quot;state&quot;;\r\n\t\r\n\tprivate static final String TAG_PHONE = &quot;phone&quot;;\r\n\tJSONArray contacts = null;\r\n\t\r\n\t\r\n\t\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n        \r\n     \r\n        new EndpointsTask().execute(getApplicationContext());\r\n        \r\n    }\r\n    \r\n    public class EndpointsTask extends AsyncTask&lt;Context, Integer, Long&gt; {\r\n    \t\r\n        public Long doInBackground(Context... contexts) {\r\n\r\n          Contactinfoendpoint.Builder endpointBuilder = new Contactinfoendpoint.Builder(\r\n              AndroidHttp.newCompatibleTransport(),\r\n              new JacksonFactory(),\r\n              new HttpRequestInitializer() {\r\n              public void initialize(HttpRequest httpRequest) { }\r\n              });\r\n      Contactinfoendpoint endpoint = CloudEndpointUtils.updateBuilder(\r\n      endpointBuilder).build();\r\n      \r\n      try {\r\n    \t  \r\n\t\tString apples = endpoint.listContactInfo().execute().toString();\r\n\t\t\r\n\t\tJSONObject jObject = new JSONObject(apples);\r\n\t\t\r\n\t\tJSONArray jsonArr = jObject.getJSONArray(&quot;items&quot;);\r\n\r\n\t\t for(int i =0 ; i&lt;jsonArr.length() ;i++ ){\r\n\t\t     JSONObject jsonObj1 = jsonArr.getJSONObject(i);\r\n\r\n\t\t\t\t         \r\n\t\t\t\t        // Storing each json item in variable\r\n\t\t\t\t        String id = jsonObj1.getString(TAG_ID);\r\n\t\t\t\t        String nameFirst1 = jsonObj1.getString(TAG_FIRSTNAME);\r\n\t\t\t\t        String nameLast1 = jsonObj1.getString(TAG_LASTNAME);\r\n\t\t\t\t        String emailAddress1 = jsonObj1.getString(TAG_EMAIL);\r\n\t\t\t\t        String streetAddress1 = jsonObj1.getString(TAG_ADDRESS);\r\n\t\t\t\t        String phone1 = jsonObj1.getString(TAG_PHONE);\r\n\t\t\t\t        \r\n\t\t\t\t        //test to see if made it to string\r\n\t\t\t\t        \r\n\t\t\t\t        System.out.print(nameFirst1);\r\n\t\t\t\t        System.out.print(nameLast1);\r\n\t\t\t\t        \r\n\t\r\n\t\t }\r\n\t\t\r\n        } catch (IOException e) {\r\n        e.printStackTrace();\r\n      } catch (JSONException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n          return (long) 0;\r\n        }\r\n        \r\n        \r\n        }\r\n\r\n}\r\n    \r\n   \r\nYour tag in logcat. Before loop to verify contents of string.   \r\n    \r\n    09-03 15:13:57.690: D/YOUR_TAG(30179): [{&quot;streetAddress&quot;:&quot;123 Rick Dr&quot;,&quot;id&quot;:&quot;Fri Aug 30 17:20:35 EDT 2013&quot;,&quot;phone&quot;:&quot;5555555555&quot;,&quot;nameLast&quot;:&quot;Sanders&quot;,&quot;nameFirst&quot;:&quot;Bill&quot;,&quot;description&quot;:&quot;payment confirmed&quot;,&quot;zipCode&quot;:&quot;44444&quot;,&quot;state&quot;:&quot;KS&quot;,&quot;emailAddress&quot;:&quot;abc@aqw.com&quot;,&quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;},{&quot;streetAddress&quot;:&quot;999 Rock St&quot;,&quot;id&quot;:&quot;Fri Aug 30 17:21:37 EDT 2013&quot;,&quot;phone&quot;:&quot;5554567896&quot;,&quot;nameLast&quot;:&quot;Lloyd&quot;,&quot;nameFirst&quot;:&quot;Frank&quot;,&quot;description&quot;:&quot;payment confirmed&quot;,&quot;zipCode&quot;:&quot;44555&quot;,&quot;state&quot;:&quot;KY&quot;,&quot;emailAddress&quot;:&quot;qwe@msn.com&quot;,&quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;},{&quot;id&quot;:&quot;Sat Aug 31 12:46:33 EDT 2013&quot;,&quot;nameLast&quot;:&quot;j&quot;,&quot;nameFirst&quot;:&quot;j&quot;,&quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;,&quot;description&quot;:&quot;payment confirmed&quot;},{&quot;id&quot;:&quot;Sat Aug 31 14:33:03 EDT 2013&quot;,&quot;emailAddress&quot;:&quot;c&quot;,&quot;nameLast&quot;:&quot;b&quot;,&quot;nameFirst&quot;:&quot;a&quot;,&quot;kind&quot;:&quot;contactinfoendpoint#resourcesItem&quot;,&quot;description&quot;:&quot;payment confirmed&quot;}]\r\n\r\nOk I have removed the later entries from my datastore. I receive no errors now, but I don&#39;t get any of the system outs that Im looking for.\r\n\r\n","title":"Separate JSON string into variable in android","body":"<p>I'm trying to divide this JSON string into individual strings of each contact item such as emailAddress &amp; phone number. I'm using System.out.print to see if the information is being stored in the strings as it should. Nothing is showing up in the system.out and all that happens is what you see below in the logcat.</p>\n\n<p>JSON string:</p>\n\n<pre><code>{\"items\":[{\"description\":\"payment confirmed\",\"emailAddress\":\"abc@aqw.com\",\"id\":\"Fri Aug 30 17:20:35 EDT 2013\",\"nameFirst\":\"Bill\",\"nameLast\":\"Sanders\",\"phone\":\"5555555555\",\"state\":\"KS\",\"streetAddress\":\"123 Rick Dr\",\"zipCode\":\"44444\",\"kind\":\"contactinfoendpoint#resourcesItem\"},{\"description\":\"payment confirmed\",\"emailAddress\":\"qwe@msn.com\",\"id\":\"Fri Aug 30 17:21:37 EDT 2013\",\"nameFirst\":\"Frank\",\"nameLast\":\"Lloyd\",\"phone\":\"5554567896\",\"state\":\"KY\",\"streetAddress\":\"999 Rock St\",\"zipCode\":\"44555\",\"kind\":\"contactinfoendpoint#resourcesItem\"}],\"kind\":\"contactinfoendpoint#resources\",\"etag\":\"\\\"NiDXI3T89oRrAPGJAhgGQje1Z0w/z0W4p01mjHc5cNgcOt3Kb_1xo8E\\\"\"}\n</code></pre>\n\n<p>Here is the logcat.</p>\n\n<pre><code>09-03 14:51:18.755: W/System.err(27991): org.json.JSONException: No value for emailAddress\n09-03 14:51:18.755: W/System.err(27991):    at org.json.JSONObject.get(JSONObject.java:354)\n09-03 14:51:18.755: W/System.err(27991):    at org.json.JSONObject.getString(JSONObject.java:510)\n09-03 14:51:18.755: W/System.err(27991):    at com.indeeditis.FinderActivity$EndpointsTask.doInBackground(FinderActivity.java:112)\n09-03 14:51:18.765: W/System.err(27991):    at com.indeeditis.FinderActivity$EndpointsTask.doInBackground(FinderActivity.java:1)\n09-03 14:51:18.765: W/System.err(27991):    at android.os.AsyncTask$2.call(AsyncTask.java:287)\n09-03 14:51:18.765: W/System.err(27991):    at java.util.concurrent.FutureTask.run(FutureTask.java:234)\n09-03 14:51:18.765: W/System.err(27991):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)\n09-03 14:51:18.765: W/System.err(27991):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n09-03 14:51:18.765: W/System.err(27991):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n09-03 14:51:18.765: W/System.err(27991):    at java.lang.Thread.run(Thread.java:856)\n</code></pre>\n\n<p>My program:</p>\n\n<pre><code>public class FinderActivity extends ListActivity   {\n\n\nprivate static final String TAG_ID = \"id\";\nprivate static final String TAG_FIRSTNAME = \"nameFirst\";\nprivate static final String TAG_LASTNAME = \"nameLast\";\nprivate static final String TAG_EMAIL = \"emailAddress\";\nprivate static final String TAG_ADDRESS = \"streetAddress\";\nprivate static final String TAG_STATE = \"state\";\n\nprivate static final String TAG_PHONE = \"phone\";\nJSONArray contacts = null;\n\n\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n\n    new EndpointsTask().execute(getApplicationContext());\n\n}\n\npublic class EndpointsTask extends AsyncTask&lt;Context, Integer, Long&gt; {\n\n    public Long doInBackground(Context... contexts) {\n\n      Contactinfoendpoint.Builder endpointBuilder = new Contactinfoendpoint.Builder(\n          AndroidHttp.newCompatibleTransport(),\n          new JacksonFactory(),\n          new HttpRequestInitializer() {\n          public void initialize(HttpRequest httpRequest) { }\n          });\n  Contactinfoendpoint endpoint = CloudEndpointUtils.updateBuilder(\n  endpointBuilder).build();\n\n  try {\n\n    String apples = endpoint.listContactInfo().execute().toString();\n\n    JSONObject jObject = new JSONObject(apples);\n\n    JSONArray jsonArr = jObject.getJSONArray(\"items\");\n\n     for(int i =0 ; i&lt;jsonArr.length() ;i++ ){\n         JSONObject jsonObj1 = jsonArr.getJSONObject(i);\n\n\n                    // Storing each json item in variable\n                    String id = jsonObj1.getString(TAG_ID);\n                    String nameFirst1 = jsonObj1.getString(TAG_FIRSTNAME);\n                    String nameLast1 = jsonObj1.getString(TAG_LASTNAME);\n                    String emailAddress1 = jsonObj1.getString(TAG_EMAIL);\n                    String streetAddress1 = jsonObj1.getString(TAG_ADDRESS);\n                    String phone1 = jsonObj1.getString(TAG_PHONE);\n\n                    //test to see if made it to string\n\n                    System.out.print(nameFirst1);\n                    System.out.print(nameLast1);\n\n\n     }\n\n    } catch (IOException e) {\n    e.printStackTrace();\n  } catch (JSONException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n      return (long) 0;\n    }\n\n\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Your tag in logcat. Before loop to verify contents of string.   </p>\n\n<pre><code>09-03 15:13:57.690: D/YOUR_TAG(30179): [{\"streetAddress\":\"123 Rick Dr\",\"id\":\"Fri Aug 30 17:20:35 EDT 2013\",\"phone\":\"5555555555\",\"nameLast\":\"Sanders\",\"nameFirst\":\"Bill\",\"description\":\"payment confirmed\",\"zipCode\":\"44444\",\"state\":\"KS\",\"emailAddress\":\"abc@aqw.com\",\"kind\":\"contactinfoendpoint#resourcesItem\"},{\"streetAddress\":\"999 Rock St\",\"id\":\"Fri Aug 30 17:21:37 EDT 2013\",\"phone\":\"5554567896\",\"nameLast\":\"Lloyd\",\"nameFirst\":\"Frank\",\"description\":\"payment confirmed\",\"zipCode\":\"44555\",\"state\":\"KY\",\"emailAddress\":\"qwe@msn.com\",\"kind\":\"contactinfoendpoint#resourcesItem\"},{\"id\":\"Sat Aug 31 12:46:33 EDT 2013\",\"nameLast\":\"j\",\"nameFirst\":\"j\",\"kind\":\"contactinfoendpoint#resourcesItem\",\"description\":\"payment confirmed\"},{\"id\":\"Sat Aug 31 14:33:03 EDT 2013\",\"emailAddress\":\"c\",\"nameLast\":\"b\",\"nameFirst\":\"a\",\"kind\":\"contactinfoendpoint#resourcesItem\",\"description\":\"payment confirmed\"}]\n</code></pre>\n\n<p>Ok I have removed the later entries from my datastore. I receive no errors now, but I don't get any of the system outs that Im looking for.</p>\n"},{"tags":["java","android","json","android-asynctask"],"comments":[{"owner":{"account_id":550812,"reputation":3230,"user_id":915486,"display_name":"mohammed momn"},"score":0,"creation_date":1391472430,"post_id":21540451,"comment_id":32528485,"body_markdown":"when you get the string from response you can put it in JSONobject(&quot;your response as string &quot;)","body":"when you get the string from response you can put it in JSONobject(&quot;your response as string &quot;)"},{"owner":{"account_id":266694,"reputation":277,"user_id":2295197,"display_name":"NewbornDroid"},"score":0,"creation_date":1391473021,"post_id":21540451,"comment_id":32528700,"body_markdown":"Hello, thanks for the comment. \nMy question is not that. What I want to know is how can I get the JSONArray from another class after AsyncTask end.","body":"Hello, thanks for the comment.  My question is not that. What I want to know is how can I get the JSONArray from another class after AsyncTask end."}],"answers":[{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679382400,"creation_date":1391472893,"answer_id":21540553,"question_id":21540451,"body_markdown":"You need to use a *callback*. Simply add the following\r\n\r\nvariable:\r\n\r\n    private Callback callback;\r\n\r\ninner-interface:\r\n\r\n    public interface Callback{\r\n        public void call(JSONArray array);\r\n    }\r\n\r\nconstructor:\r\n\r\n    public QueryJsonArray(Callback callback) {\r\n        this.callback = callback;\r\n    }\r\n\r\nAdditionally, change your class declaration to:\r\n\r\n    public class QueryJsonArray extends AsyncTask&lt;Void, Void, JSONArray&gt;\r\n\r\nand change the return type of `doInBackground` to `JSONArray`.\r\n\r\nAt the end of `doInBackground`, add:\r\n\r\n    return jsonRetorno;\r\n\r\nFinally, add the following method with contents:\r\n\r\n    public void onPostExecute(JSONArray array) {\r\n        callback.call(array);\r\n    }\r\n\r\n-----------\r\n\r\nNow, to execute the task, just do:\r\n\r\n    QueryJsonArray obj = new QueryJsonArray(new Callback() {\r\n        public void call(JSONArray array) {\r\n            //TODO: here you can handle the array\r\n        }\r\n    });\r\n    JSONArray jArray = obj.execute(myUrl);\r\n\r\n------------------\r\n\r\nAs a side note, you could greatly simplify all of this using a third party library, such as my [droidQuery](http://phil-brown.github.io/droidQuery/) library, which would condense all of the above code to:\r\n\r\n    $.ajax(new AjaxOptions().url(myUrl).success(new Function() {\r\n        public void invoke($ d, Object args) {\r\n            JSONArray array = (JSONArray) args[0];\r\n            //TODO handle the json array.\r\n        }\r\n    });","title":"How to get JsonArray from a class who AsyncTask","body":"<p>You need to use a <em>callback</em>. Simply add the following</p>\n<p>variable:</p>\n<pre><code>private Callback callback;\n</code></pre>\n<p>inner-interface:</p>\n<pre><code>public interface Callback{\n    public void call(JSONArray array);\n}\n</code></pre>\n<p>constructor:</p>\n<pre><code>public QueryJsonArray(Callback callback) {\n    this.callback = callback;\n}\n</code></pre>\n<p>Additionally, change your class declaration to:</p>\n<pre><code>public class QueryJsonArray extends AsyncTask&lt;Void, Void, JSONArray&gt;\n</code></pre>\n<p>and change the return type of <code>doInBackground</code> to <code>JSONArray</code>.</p>\n<p>At the end of <code>doInBackground</code>, add:</p>\n<pre><code>return jsonRetorno;\n</code></pre>\n<p>Finally, add the following method with contents:</p>\n<pre><code>public void onPostExecute(JSONArray array) {\n    callback.call(array);\n}\n</code></pre>\n<hr />\n<p>Now, to execute the task, just do:</p>\n<pre><code>QueryJsonArray obj = new QueryJsonArray(new Callback() {\n    public void call(JSONArray array) {\n        //TODO: here you can handle the array\n    }\n});\nJSONArray jArray = obj.execute(myUrl);\n</code></pre>\n<hr />\n<p>As a side note, you could greatly simplify all of this using a third party library, such as my <a href=\"http://phil-brown.github.io/droidQuery/\" rel=\"nofollow noreferrer\">droidQuery</a> library, which would condense all of the above code to:</p>\n<pre><code>$.ajax(new AjaxOptions().url(myUrl).success(new Function() {\n    public void invoke($ d, Object args) {\n        JSONArray array = (JSONArray) args[0];\n        //TODO handle the json array.\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":266694,"reputation":277,"user_id":2295197,"display_name":"NewbornDroid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21540553,"answer_count":1,"score":1,"last_activity_date":1679382400,"creation_date":1391472340,"question_id":21540451,"body_markdown":"I&#39;m trying to create a class to retrieve a JsonArray from a url. \r\nThis class extends AsyncTask to avoid creating multiple AsyncTasks on interfaces. \r\n\r\nThe class works fine on debugger, but I do not know what to do to get the return object. Can anyone help me?\r\n\r\nHere&#39;s my class:\r\n\r\n\r\n    public class QueryJsonArray extends AsyncTask&lt;String, Void, Void&gt;{\r\n\r\n\tJSONArray jsonRetorno = null;\r\n\r\n\t@Override\r\n\tprotected Void doInBackground(String... params) {\r\n\r\n\t\tInputStream is = null;\r\n\t\tString result = &quot;&quot;;\r\n\r\n\t\ttry {\t    \t\r\n\r\n\t\t\tLog.i(getClass().getName(), params[0]);\r\n\t\t\tHttpClient httpclient = new DefaultHttpClient();\r\n\t\t\tHttpGet httpGet = new HttpGet( params[0]);\r\n\t\t\tHttpResponse response = httpclient.execute(httpGet);\r\n\t\t\tif(response.getStatusLine().getStatusCode()==200){\r\n\t\t\t\tHttpEntity entity = response.getEntity();\r\n\t\t\t\tis = entity.getContent();\r\n\t\t\t}else{\r\n\r\n\t\t\t\tis = null;\r\n\t\t\t}\r\n\r\n\r\n\t\t} catch(Exception e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\t\tif(is!=null){\r\n\t\t\ttry {\t    \t\r\n\t\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(is,&quot;utf-8&quot;),8);\r\n\t\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\t\tString line = null;\r\n\t\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tis.close();\r\n\t\t\t\tresult = sb.toString();\t            \r\n\t\t\t} catch(Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tjsonRetorno = new JSONArray(result);            \r\n\t\t\t} catch(JSONException e) {\r\n\t\t\t\te.printStackTrace();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn null;\r\n\t      }\r\n             }\r\n\r\n\r\n\r\nAnd I want to retrieve like this:\r\n\r\n    QueryJsonArray obj = new QueryJsonArray();\r\n    JSONArray jArray = obj.execute(myUrl);\r\n\r\nThanks in advance.","title":"How to get JsonArray from a class who AsyncTask","body":"<p>I'm trying to create a class to retrieve a JsonArray from a url. \nThis class extends AsyncTask to avoid creating multiple AsyncTasks on interfaces. </p>\n\n<p>The class works fine on debugger, but I do not know what to do to get the return object. Can anyone help me?</p>\n\n<p>Here's my class:</p>\n\n<pre><code>public class QueryJsonArray extends AsyncTask&lt;String, Void, Void&gt;{\n\nJSONArray jsonRetorno = null;\n\n@Override\nprotected Void doInBackground(String... params) {\n\n    InputStream is = null;\n    String result = \"\";\n\n    try {           \n\n        Log.i(getClass().getName(), params[0]);\n        HttpClient httpclient = new DefaultHttpClient();\n        HttpGet httpGet = new HttpGet( params[0]);\n        HttpResponse response = httpclient.execute(httpGet);\n        if(response.getStatusLine().getStatusCode()==200){\n            HttpEntity entity = response.getEntity();\n            is = entity.getContent();\n        }else{\n\n            is = null;\n        }\n\n\n    } catch(Exception e) {\n\n        e.printStackTrace();\n\n    }\n\n    if(is!=null){\n        try {           \n            BufferedReader reader = new BufferedReader(new InputStreamReader(is,\"utf-8\"),8);\n            StringBuilder sb = new StringBuilder();\n            String line = null;\n            while ((line = reader.readLine()) != null) {\n                sb.append(line + \"\\n\");\n            }\n            is.close();\n            result = sb.toString();             \n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n\n        try {\n            jsonRetorno = new JSONArray(result);            \n        } catch(JSONException e) {\n            e.printStackTrace();\n\n        }\n\n    }\n    return null;\n      }\n         }\n</code></pre>\n\n<p>And I want to retrieve like this:</p>\n\n<pre><code>QueryJsonArray obj = new QueryJsonArray();\nJSONArray jArray = obj.execute(myUrl);\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"score":0,"creation_date":1679318650,"post_id":75790573,"comment_id":133694959,"body_markdown":"When you say: &quot;main function&quot; what do you mean? Can you add the function code to the question?","body":"When you say: &quot;main function&quot; what do you mean? Can you add the function code to the question?"},{"owner":{"account_id":27973898,"reputation":23,"user_id":21363112,"display_name":"louisMay"},"score":0,"creation_date":1679328608,"post_id":75790573,"comment_id":133698116,"body_markdown":"@gioravered I meant the onCreate function sorry.","body":"@gioravered I meant the onCreate function sorry."}],"answers":[{"tags":[],"owner":{"account_id":27808716,"reputation":122,"user_id":21231507,"display_name":"Bhavyesh Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679382333,"creation_date":1679382333,"answer_id":75798173,"question_id":75790573,"body_markdown":"I can tell you step by step\r\n\r\n`step 1` : first of all you need to declare your textView on the onCreate function\r\n\r\n`step 2` : after findViewById just call the function name that you want to perform for increment value\r\n\r\n\r\n`step 3` : On the button click you need to add that function call\r\n\r\nstep 4 : This is the function of your&#39;s\r\n\r\n    puntuacion++;\r\n    textViewPuntuacion.setText(&quot;Puntuacion:&quot;+puntuacion);\r\n\r\nIt&#39;s works perfect ):","title":"How to change a XML variable in android from a function outside the main fnction?","body":"<p>I can tell you step by step</p>\n<p><code>step 1</code> : first of all you need to declare your textView on the onCreate function</p>\n<p><code>step 2</code> : after findViewById just call the function name that you want to perform for increment value</p>\n<p><code>step 3</code> : On the button click you need to add that function call</p>\n<p>step 4 : This is the function of your's</p>\n<pre><code>puntuacion++;\ntextViewPuntuacion.setText(&quot;Puntuacion:&quot;+puntuacion);\n</code></pre>\n<p>It's works perfect ):</p>\n"}],"owner":{"account_id":27973898,"reputation":23,"user_id":21363112,"display_name":"louisMay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679382333,"creation_date":1679317171,"question_id":75790573,"body_markdown":"I have a TextView element called &quot;textViewPuntuacion&quot; in my .xml file in android. In my activity I have a function outside the main function that changes that element, but the problem is that it doesn&#180;t change. \r\n\r\nIf I make this: \r\n\r\n    puntuacion=puntuacion+1;\r\n    textViewPuntuacion.setText(&quot;Puntuacion:&quot;+puntuacion);\r\n\r\ninside the main function, it works. \r\n\r\nBut if I do it in a function outside the main, it doesn&#180;t work because if the function is called, the textView doen&#180;t change. Any idea? Thank you.","title":"How to change a XML variable in android from a function outside the main fnction?","body":"<p>I have a TextView element called &quot;textViewPuntuacion&quot; in my .xml file in android. In my activity I have a function outside the main function that changes that element, but the problem is that it doesnt change.</p>\n<p>If I make this:</p>\n<pre><code>puntuacion=puntuacion+1;\ntextViewPuntuacion.setText(&quot;Puntuacion:&quot;+puntuacion);\n</code></pre>\n<p>inside the main function, it works.</p>\n<p>But if I do it in a function outside the main, it doesnt work because if the function is called, the textView doent change. Any idea? Thank you.</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","elasticsearch-aggregation","resthighlevelclient"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679382304,"creation_date":1679382304,"answer_id":75798169,"question_id":75797222,"body_markdown":"You cannot get aggregations with repository queries in Spring Data Elasticsearch. You will need to create a `NativeQuery` with the required aggregations and need to use the `ElasticsearchOperations` to process that query.\r\n\r\nYou do not specify what verison of Spring Data Elasticsearch you use, but looking at the tag `resthighlevelclient` and the Elasticsearch version you seem to be using an old version which is deprecated now.","title":"Trying to use aggregations in java using the ElasticsearchRepository to fetch aggregated data from Elasticsearch. But my aggs are always null","body":"<p>You cannot get aggregations with repository queries in Spring Data Elasticsearch. You will need to create a <code>NativeQuery</code> with the required aggregations and need to use the <code>ElasticsearchOperations</code> to process that query.</p>\n<p>You do not specify what verison of Spring Data Elasticsearch you use, but looking at the tag <code>resthighlevelclient</code> and the Elasticsearch version you seem to be using an old version which is deprecated now.</p>\n"}],"owner":{"account_id":10138353,"reputation":597,"user_id":7488940,"accept_rate":60,"display_name":"Mahaveer Jangir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679382304,"creation_date":1679371328,"question_id":75797222,"body_markdown":"Java = 8\r\nElasticSearchServer = 7.16.3\r\n\r\nMy code never returns the value for aggregations , I tried most of the combinations. Below is the code , please see if you can help here\r\n\r\n    @Repository\r\n    public interface ScPayHkIndexRepository extends ElasticsearchRepository&lt;ScPayHkIndex, String&gt; {\r\n       Stream&lt;ScPayHkIndex&gt; findByStatusNotAndExceptionTypeAndTimestampBetween(String status, String exceptionType, long from, long to);\r\n       Stream&lt;ScPayHkIndex&gt; findByPaymentTypeAndTimestampBetween(String paymentType, long from, long to);\r\n       \r\n       @Query((&quot;{\\&quot;bool\\&quot;: {\\&quot;must\\&quot;: [{\\&quot;match\\&quot;: {\\&quot;status\\&quot;: \\&quot;Completed\\&quot;}}]}},\\&quot;aggs\\&quot;: {\\&quot;percentAggs\\&quot;: {\\&quot;percentile_ranks\\&quot;: {\\&quot;field\\&quot;: \\&quot;Total_Time\\&quot;}}}&quot;))\r\n       SearchHits&lt;ScPayHkIndex&gt; getPercentileRank();\r\n    \r\n       \r\n       default double getMyPercentileValue() {\r\n    \t   SearchHits&lt;ScPayHkIndex&gt; response = getPercentileRank();\r\n    \t   Aggregations aggregation = response.getAggregations();\r\n    \t   \r\n    \t   PercentileRanks percentileRanks = aggregation.get(&quot;percentAggs&quot;);\r\n    \r\n           // Get the desired percentile value using the percentile() method of the Percentiles object\r\n           double myPercentileValue = percentileRanks.percent(5000);\r\n    \r\n           return myPercentileValue;\r\n       }\r\n\r\n","title":"Trying to use aggregations in java using the ElasticsearchRepository to fetch aggregated data from Elasticsearch. But my aggs are always null","body":"<p>Java = 8\nElasticSearchServer = 7.16.3</p>\n<p>My code never returns the value for aggregations , I tried most of the combinations. Below is the code , please see if you can help here</p>\n<pre><code>@Repository\npublic interface ScPayHkIndexRepository extends ElasticsearchRepository&lt;ScPayHkIndex, String&gt; {\n   Stream&lt;ScPayHkIndex&gt; findByStatusNotAndExceptionTypeAndTimestampBetween(String status, String exceptionType, long from, long to);\n   Stream&lt;ScPayHkIndex&gt; findByPaymentTypeAndTimestampBetween(String paymentType, long from, long to);\n   \n   @Query((&quot;{\\&quot;bool\\&quot;: {\\&quot;must\\&quot;: [{\\&quot;match\\&quot;: {\\&quot;status\\&quot;: \\&quot;Completed\\&quot;}}]}},\\&quot;aggs\\&quot;: {\\&quot;percentAggs\\&quot;: {\\&quot;percentile_ranks\\&quot;: {\\&quot;field\\&quot;: \\&quot;Total_Time\\&quot;}}}&quot;))\n   SearchHits&lt;ScPayHkIndex&gt; getPercentileRank();\n\n   \n   default double getMyPercentileValue() {\n       SearchHits&lt;ScPayHkIndex&gt; response = getPercentileRank();\n       Aggregations aggregation = response.getAggregations();\n       \n       PercentileRanks percentileRanks = aggregation.get(&quot;percentAggs&quot;);\n\n       // Get the desired percentile value using the percentile() method of the Percentiles object\n       double myPercentileValue = percentileRanks.percent(5000);\n\n       return myPercentileValue;\n   }\n</code></pre>\n"},{"tags":["java","html","css","nfc"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679407021,"post_id":75798163,"comment_id":133713639,"body_markdown":"Maybe QRCode stickers will be more easier. Phone scan QRCode stickers. http://xxx.yyy.zzz/room/11/pos/12, your web site get request , will know guest in room 11, pos 12.","body":"Maybe QRCode stickers will be more easier. Phone scan QRCode stickers. <a href=\"http://xxx.yyy.zzz/room/11/pos/12\" rel=\"nofollow noreferrer\">xxx.yyy.zzz/room/11/pos/12</a>, your web site get request , will know guest in room 11, pos 12."}],"owner":{"account_id":28072927,"reputation":1,"user_id":21445236,"display_name":"Jessica Perez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679382290,"creation_date":1679382261,"question_id":75798163,"body_markdown":"Making a html program for a seating chart. I have a bunch of empty NFC tags and I would like the guests to access the event. It reveals their table and then stays on the seating chart. \r\n\r\nSort of like if you click on the table it will show who is sitting there. \r\n\r\nIs this possible? \r\n\r\n\r\n\r\nI haven&#39;t tried anything yet. Just hoping that the nfc tag when scanned will act like a button for the html. \r\n\r\nThanks in advance ","title":"Is there a way for NFC tag to trigger an event on a website?","body":"<p>Making a html program for a seating chart. I have a bunch of empty NFC tags and I would like the guests to access the event. It reveals their table and then stays on the seating chart.</p>\n<p>Sort of like if you click on the table it will show who is sitting there.</p>\n<p>Is this possible?</p>\n<p>I haven't tried anything yet. Just hoping that the nfc tag when scanned will act like a button for the html.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","json","string"],"comments":[{"owner":{"account_id":1255174,"reputation":69830,"user_id":1214800,"accept_rate":81,"display_name":"brandonscript"},"score":0,"creation_date":1387475804,"post_id":20685241,"comment_id":30982761,"body_markdown":"Have you read this? http://stackoverflow.com/questions/9605913/how-to-parse-json-in-android","body":"Have you read this? <a href=\"http://stackoverflow.com/questions/9605913/how-to-parse-json-in-android\" title=\"how to parse json in android\">stackoverflow.com/questions/9605913/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1306560,"reputation":6829,"user_id":1255453,"accept_rate":68,"display_name":"Husman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1387466459,"creation_date":1387466459,"answer_id":20685340,"question_id":20685241,"body_markdown":"If you want a pure copy/paste example have a look [here][1]\r\nAlternatively I would suggest using one of the many well documented libraries. My personal favourite is [GSON][2]\r\n\r\nPlenty of examples on the net on how to use this.\r\n\r\n\r\n  [1]: http://json.org/java/\r\n  [2]: http://code.google.com/p/google-gson/","title":"Android Converting String to JSON","body":"<p>If you want a pure copy/paste example have a look <a href=\"http://json.org/java/\" rel=\"nofollow\">here</a>\nAlternatively I would suggest using one of the many well documented libraries. My personal favourite is <a href=\"http://code.google.com/p/google-gson/\" rel=\"nofollow\">GSON</a></p>\n\n<p>Plenty of examples on the net on how to use this.</p>\n"},{"tags":[],"owner":{"account_id":272685,"reputation":12778,"user_id":563904,"accept_rate":100,"display_name":"Entreco"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1387466885,"creation_date":1387466482,"answer_id":20685353,"question_id":20685241,"body_markdown":"You can convert a jsonstring back to json using the following `JSONObject(String json)` constructor:\r\n\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n\r\nJust, put it inside a `try` `catch` block and you should be good to go :)","title":"Android Converting String to JSON","body":"<p>You can convert a jsonstring back to json using the following <code>JSONObject(String json)</code> constructor:</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(jsonString);\n</code></pre>\n\n<p>Just, put it inside a <code>try</code> <code>catch</code> block and you should be good to go :)</p>\n"},{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1679382232,"creation_date":1387467195,"answer_id":20685599,"question_id":20685241,"body_markdown":"You can create a `JSONObject` from a `String` using the *constructor*:\r\n\r\n    JSONObject json = new JSONObject(myString);\r\n\r\nAnd to convert your `JSONObject` to a `String`, just use the `toString()` method:\r\n\r\n    String myString = json.toString();\r\n\r\nAdditionally, if you are trying to get a specific `String` value from the `JSONObject`, you can do this:\r\n\r\n    if (json.has(&quot;content&quot;))\r\n    {\r\n        String content = json.getString(&quot;content&quot;);\r\n        //do something with content string\r\n    }\r\n\r\nFinally, if you aren&#39;t very comfortable using `JSONObject`, I recommend using the tools provided by my [droidQuery](http://phil-brown.github.io/droidQuery/) library to help you parse, such as:\r\n\r\n    Object[] array = $.toArray(myJSONArray);\r\n\r\nand\r\n\r\n    Map&lt;String, ?&gt; map = $.map(myJSONObject);","title":"Android Converting String to JSON","body":"<p>You can create a <code>JSONObject</code> from a <code>String</code> using the <em>constructor</em>:</p>\n<pre><code>JSONObject json = new JSONObject(myString);\n</code></pre>\n<p>And to convert your <code>JSONObject</code> to a <code>String</code>, just use the <code>toString()</code> method:</p>\n<pre><code>String myString = json.toString();\n</code></pre>\n<p>Additionally, if you are trying to get a specific <code>String</code> value from the <code>JSONObject</code>, you can do this:</p>\n<pre><code>if (json.has(&quot;content&quot;))\n{\n    String content = json.getString(&quot;content&quot;);\n    //do something with content string\n}\n</code></pre>\n<p>Finally, if you aren't very comfortable using <code>JSONObject</code>, I recommend using the tools provided by my <a href=\"http://phil-brown.github.io/droidQuery/\" rel=\"nofollow noreferrer\">droidQuery</a> library to help you parse, such as:</p>\n<pre><code>Object[] array = $.toArray(myJSONArray);\n</code></pre>\n<p>and</p>\n<pre><code>Map&lt;String, ?&gt; map = $.map(myJSONObject);\n</code></pre>\n"}],"owner":{"account_id":3703109,"reputation":127,"user_id":3082271,"accept_rate":61,"display_name":"user3082271"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39044,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1387477560,"answer_count":3,"score":3,"last_activity_date":1679382232,"creation_date":1387466155,"question_id":20685241,"body_markdown":"I need advice into how to work out a method in Android which has to pick a string loaded with JSON data and then convert it back to JSON.\r\n\r\nFor the time being, I have programmed the following but I&#39;m not sure if I&#39;m on the right track or not.\r\n\r\n    private void convert_JSON()\r\n    \t{\r\n    \tString json;\r\n    \t//funcions per a cridar el string amb JSON i convertir-lo de nou a JSON\r\n    \tJSONArray jsas = new JSONArray(); \r\n    \tfor (int i =0; i &lt; jsas.length(); i++)\r\n    \t{\r\n    \t\tJSONObject message = jsas.getJSONObject(i);\r\n    \t\tString content = message.getString(&quot;content&quot;);\r\n    \t}\r\n    \t\r\n    \t}\r\n\r\nThe JSON is loaded into a String in this other method:\r\n\r\n    private void read_JSON(String json)\r\n    \t{\r\n    \t\r\n    \t\tJSONObject jObject = new JSONObject(json);\r\n    \t\tJSONArray jso3 = new JSONArray (jObject.getString(&quot;Nombres_Hijos&quot;));\r\n    \t\tString name = jso3.getString(&quot;Nombre&quot;);\r\n    \t\tSystem.out.println(name);\r\n    \t\t\r\n    \t\tString surname = jso3.getString(&quot;Apellidos&quot;);\r\n    \t\tSystem.out.println(surname);\r\n    \t\t\r\n    \t\tint date = jso3.getInt(&quot;A&#241;o_nacimiento&quot;);\r\n    \t\tSystem.out.println(date);\r\n    \t\t\r\n    \t\tJSONArray jsa2 = jso3.getJSONArray (&quot;Nombres_Hijos&quot;);\r\n    \t\tString names = jsa2.toString();\r\n    \t\tfor (int i=0; i &lt; jsa2.length(); i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(jsa2.getString(i));\t\r\n    \t\t}\r\n    \t\tjso3.toString(json);\r\n    \t}\r\n\r\nAnd, lastly, the JSON is created within the MainActivity.java, not as a split file yet that does work correctly:\r\n\r\n    private void create_JSON(String json)\r\n    \t{\r\n    \t\tJSONObject jso = new JSONObject();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tjso.put(&quot;Nombre&quot;,&quot;Miguel&quot;);\r\n    \t\t\tjso.put(&quot;Apellidos&quot;, &quot;Garcia&quot;);\r\n    \t\t\tjso.put(&quot;A&#241;o_nacimiento&quot;, 1990);\r\n    \t\t\tJSONArray jsa = new JSONArray();\r\n    \t\t\tjsa.put(&quot;Blur&quot;);\r\n    \t\t\tjsa.put(&quot;Clur&quot;);\r\n    \t\t    jso.put(&quot;Nombres_Hijos&quot;, jsa);\r\n    \t\t\t\r\n    \t\t} catch (JSONException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn jso.toString();\r\n\r\nIn short: what I want to know is if my method convert_JSON is on the right track or I&#39;m misunderstanding how it&#39;s supposed to work like.\r\n\r\nThank you very much for your help.\r\n\r\nYours sincerely,\r\n\r\nMauro.","title":"Android Converting String to JSON","body":"<p>I need advice into how to work out a method in Android which has to pick a string loaded with JSON data and then convert it back to JSON.</p>\n\n<p>For the time being, I have programmed the following but I'm not sure if I'm on the right track or not.</p>\n\n<pre><code>private void convert_JSON()\n    {\n    String json;\n    //funcions per a cridar el string amb JSON i convertir-lo de nou a JSON\n    JSONArray jsas = new JSONArray(); \n    for (int i =0; i &lt; jsas.length(); i++)\n    {\n        JSONObject message = jsas.getJSONObject(i);\n        String content = message.getString(\"content\");\n    }\n\n    }\n</code></pre>\n\n<p>The JSON is loaded into a String in this other method:</p>\n\n<pre><code>private void read_JSON(String json)\n    {\n\n        JSONObject jObject = new JSONObject(json);\n        JSONArray jso3 = new JSONArray (jObject.getString(\"Nombres_Hijos\"));\n        String name = jso3.getString(\"Nombre\");\n        System.out.println(name);\n\n        String surname = jso3.getString(\"Apellidos\");\n        System.out.println(surname);\n\n        int date = jso3.getInt(\"Ao_nacimiento\");\n        System.out.println(date);\n\n        JSONArray jsa2 = jso3.getJSONArray (\"Nombres_Hijos\");\n        String names = jsa2.toString();\n        for (int i=0; i &lt; jsa2.length(); i++)\n        {\n            System.out.println(jsa2.getString(i));  \n        }\n        jso3.toString(json);\n    }\n</code></pre>\n\n<p>And, lastly, the JSON is created within the MainActivity.java, not as a split file yet that does work correctly:</p>\n\n<pre><code>private void create_JSON(String json)\n    {\n        JSONObject jso = new JSONObject();\n\n        try {\n            jso.put(\"Nombre\",\"Miguel\");\n            jso.put(\"Apellidos\", \"Garcia\");\n            jso.put(\"Ao_nacimiento\", 1990);\n            JSONArray jsa = new JSONArray();\n            jsa.put(\"Blur\");\n            jsa.put(\"Clur\");\n            jso.put(\"Nombres_Hijos\", jsa);\n\n        } catch (JSONException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return jso.toString();\n</code></pre>\n\n<p>In short: what I want to know is if my method convert_JSON is on the right track or I'm misunderstanding how it's supposed to work like.</p>\n\n<p>Thank you very much for your help.</p>\n\n<p>Yours sincerely,</p>\n\n<p>Mauro.</p>\n"},{"tags":["java","android","react-native","geolocation","background-process"],"comments":[{"owner":{"account_id":15436993,"reputation":236,"user_id":11136807,"display_name":"Vinit Bhavsar"},"score":0,"creation_date":1621514222,"post_id":67572436,"comment_id":119522492,"body_markdown":"https://github.com/transistorsoft/react-native-background-geolocation\n\nUse This Library","body":"<a href=\"https://github.com/transistorsoft/react-native-background-geolocation\" rel=\"nofollow noreferrer\">github.com/transistorsoft/react-native-background-geolocatio&zwnj;&#8203;n</a>  Use This Library"},{"owner":{"account_id":15436993,"reputation":236,"user_id":11136807,"display_name":"Vinit Bhavsar"},"score":0,"creation_date":1621514265,"post_id":67572436,"comment_id":119522515,"body_markdown":"In Which Device Your Trying To Test?\n\nhttps://dontkillmyapp.com/\n\nPlease Check This Also. Headlesstask will not work especially for Location Services In Killed State. As Devices Now Prefered Batter Optimization.\n\nOS Kill That Service Which Drains Battery.","body":"In Which Device Your Trying To Test?  <a href=\"https://dontkillmyapp.com/\" rel=\"nofollow noreferrer\">dontkillmyapp.com</a>  Please Check This Also. Headlesstask will not work especially for Location Services In Killed State. As Devices Now Prefered Batter Optimization.  OS Kill That Service Which Drains Battery."},{"owner":{"account_id":15436993,"reputation":236,"user_id":11136807,"display_name":"Vinit Bhavsar"},"score":0,"creation_date":1621514611,"post_id":67572436,"comment_id":119522701,"body_markdown":"I Tried the Same For 3 Hours Of Interval. But not all devices are supported. After Android 8/9 OS Battery Optimization Preference Is More.\n\nI Tested in Xiaomi 6 Pro, 9, and Samusng.\n\nYou Might Face Issue In Build, not while Testing because device is attached to charger.","body":"I Tried the Same For 3 Hours Of Interval. But not all devices are supported. After Android 8/9 OS Battery Optimization Preference Is More.  I Tested in Xiaomi 6 Pro, 9, and Samusng.  You Might Face Issue In Build, not while Testing because device is attached to charger."},{"owner":{"account_id":15436993,"reputation":236,"user_id":11136807,"display_name":"Vinit Bhavsar"},"score":0,"creation_date":1621514668,"post_id":67572436,"comment_id":119522736,"body_markdown":"There 90% of chances that service will be stopped after Device Battery Percent Went Lower Than 60%","body":"There 90% of chances that service will be stopped after Device Battery Percent Went Lower Than 60%"}],"owner":{"account_id":15924575,"reputation":162,"user_id":11490508,"display_name":"TyGuy96"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679381342,"creation_date":1621264444,"question_id":67572436,"body_markdown":"I have installed react-native-geolocation-service and got it to work, but my headless version doesn&#39;t log any messages.\r\n\r\n```\r\n//LocationService.java\r\npackage com.myApp.service;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport com.facebook.react.HeadlessJsTaskService;\r\nimport com.facebook.react.bridge.Arguments;\r\nimport com.facebook.react.jstasks.HeadlessJsTaskConfig;\r\nimport javax.annotation.Nullable;\r\n//creating the service class\r\npublic class LocationService extends HeadlessJsTaskService {\r\n    @Override\r\n    protected @Nullable HeadlessJsTaskConfig getTaskConfig(Intent intent) {\r\n        Bundle extras = intent.getExtras();\r\n\t\tif (extras != null){\r\n\t\t\treturn new HeadlessJsTaskConfig(\r\n\t\t\t\t&quot;LocationService&quot;, //JS function to call\r\n\t\t\t\tArguments.fromBundle(extras),\r\n\t\t\t\t5000, // timeout for the task\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n//MainApplication.java\r\n...\r\nimport android.location.LocationManager;\r\nimport android.location.LocationListener;\r\nimport android.location.Location;\r\nimport com.myApp.service.LocationService;\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.content.Intent;\r\nimport com.facebook.react.HeadlessJsTaskService;\r\n...\r\nprivate final LocationListener listener = new LocationListener() {\r\n\t@Override\r\n\tpublic void onStatusChanged(String provider, int status, Bundle extras){\r\n\t}\r\n\t\t\r\n\t@Override\r\n\tpublic void onProviderEnabled(String provider){\r\n\t}\r\n\t\t\r\n\t@Override\r\n\tpublic void onProviderDisabled(String provider){\r\n\t}\r\n\t\t\r\n\t@Override\r\n\tpublic void onLocationChanged(Location location){\r\n\t\tIntent myIntent = new Intent(getApplicationContext(), LocationService.class);\r\n\t\tgetApplicationContext().startService(myIntent);\r\n\t\t\t\r\n\t\tHeadlessJsTaskService.acquireWakeLockNow(getApplicationContext());\r\n\t}\r\n};\r\n\r\n@Override\r\n  public void onCreate() {\r\n    super.onCreate();\r\n\t\t\r\n\tLocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n\tlocationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 2000, 0, listener); // Start requesting for location\r\n\t\t\r\n    SoLoader.init(this, /* native exopackage */ false);\r\n    initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n  }\r\n```\r\nTo my understanding, `requestLocationUpdates(..., 2000, 0, ...)` will request an update every 2 seconds, regardless of distance change.\r\n```\r\n//AndroidManifest.xml\r\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n&lt;application\r\n...\r\n&lt;service android:name=&quot;com.myApp.service.LocationService&quot; /&gt;\r\n...\r\n/application&gt;\r\n```\r\n\r\n```\r\n//LocationService.js\r\nimport Geolocation from &#39;react-native-geolocation-service&#39;;\r\n\r\nmodule.exports = async (data) =&gt; {\r\n    Geolocation.getCurrentPosition(\r\n        (position) =&gt; {\r\n            console.log(position.coords);\r\n        },\r\n        (error) =&gt; {\r\n            console.log(error.code, error.message);\r\n        },\r\n        { enableHighAccuracy: true, timeout: 5000, maximumAge: 10000, forceRequestLocation: true }\r\n    );\r\n}\r\n```\r\n\r\n```\r\n//index.js\r\nimport LocationService from &#39;./src/services/LocationService&#39;;\r\nAppRegistry.registerHeadlessTask(&#39;LocationService&#39;, () =&gt; LocationService);\r\nAppRegistry.registerComponent(appName, () =&gt; App);\r\n```\r\n\r\nSorry for the wall of text, but I cannot find where I am going wrong with this headless task. I can manually request my location by calling `Geolocation.getCurrentPosition(...)`, but it should automatically log the location every 2 seconds to my understanding.","title":"React Native HeadlessJS Geolocation not working","body":"<p>I have installed react-native-geolocation-service and got it to work, but my headless version doesn't log any messages.</p>\n<pre><code>//LocationService.java\npackage com.myApp.service;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport com.facebook.react.HeadlessJsTaskService;\nimport com.facebook.react.bridge.Arguments;\nimport com.facebook.react.jstasks.HeadlessJsTaskConfig;\nimport javax.annotation.Nullable;\n//creating the service class\npublic class LocationService extends HeadlessJsTaskService {\n    @Override\n    protected @Nullable HeadlessJsTaskConfig getTaskConfig(Intent intent) {\n        Bundle extras = intent.getExtras();\n        if (extras != null){\n            return new HeadlessJsTaskConfig(\n                &quot;LocationService&quot;, //JS function to call\n                Arguments.fromBundle(extras),\n                5000, // timeout for the task\n                true\n            );\n        }\n        return null;\n    }\n}\n</code></pre>\n<pre><code>//MainApplication.java\n...\nimport android.location.LocationManager;\nimport android.location.LocationListener;\nimport android.location.Location;\nimport com.myApp.service.LocationService;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.content.Intent;\nimport com.facebook.react.HeadlessJsTaskService;\n...\nprivate final LocationListener listener = new LocationListener() {\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras){\n    }\n        \n    @Override\n    public void onProviderEnabled(String provider){\n    }\n        \n    @Override\n    public void onProviderDisabled(String provider){\n    }\n        \n    @Override\n    public void onLocationChanged(Location location){\n        Intent myIntent = new Intent(getApplicationContext(), LocationService.class);\n        getApplicationContext().startService(myIntent);\n            \n        HeadlessJsTaskService.acquireWakeLockNow(getApplicationContext());\n    }\n};\n\n@Override\n  public void onCreate() {\n    super.onCreate();\n        \n    LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 2000, 0, listener); // Start requesting for location\n        \n    SoLoader.init(this, /* native exopackage */ false);\n    initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n  }\n</code></pre>\n<p>To my understanding, <code>requestLocationUpdates(..., 2000, 0, ...)</code> will request an update every 2 seconds, regardless of distance change.</p>\n<pre><code>//AndroidManifest.xml\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n&lt;application\n...\n&lt;service android:name=&quot;com.myApp.service.LocationService&quot; /&gt;\n...\n/application&gt;\n</code></pre>\n<pre><code>//LocationService.js\nimport Geolocation from 'react-native-geolocation-service';\n\nmodule.exports = async (data) =&gt; {\n    Geolocation.getCurrentPosition(\n        (position) =&gt; {\n            console.log(position.coords);\n        },\n        (error) =&gt; {\n            console.log(error.code, error.message);\n        },\n        { enableHighAccuracy: true, timeout: 5000, maximumAge: 10000, forceRequestLocation: true }\n    );\n}\n</code></pre>\n<pre><code>//index.js\nimport LocationService from './src/services/LocationService';\nAppRegistry.registerHeadlessTask('LocationService', () =&gt; LocationService);\nAppRegistry.registerComponent(appName, () =&gt; App);\n</code></pre>\n<p>Sorry for the wall of text, but I cannot find where I am going wrong with this headless task. I can manually request my location by calling <code>Geolocation.getCurrentPosition(...)</code>, but it should automatically log the location every 2 seconds to my understanding.</p>\n"},{"tags":["java","android","xml","android-resources"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":6,"creation_date":1477571473,"post_id":40284609,"comment_id":67827587,"body_markdown":"You can&#39;t edit resource files at run time. You have to prepare all your localized strings in advance. Refer to the [official docs](https://developer.android.com/guide/topics/resources/localization.html).","body":"You can&#39;t edit resource files at run time. You have to prepare all your localized strings in advance. Refer to the <a href=\"https://developer.android.com/guide/topics/resources/localization.html\" rel=\"nofollow noreferrer\">official docs</a>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1477571474,"post_id":40284609,"comment_id":67827589,"body_markdown":"Use SharedPreferences for dynamic content","body":"Use SharedPreferences for dynamic content"},{"owner":{"account_id":2074381,"reputation":2169,"user_id":1848157,"accept_rate":50,"display_name":"Radhey"},"score":0,"creation_date":1477571897,"post_id":40284609,"comment_id":67827900,"body_markdown":"another tricky tips ! write your json response in to one file and store it in to sd card specific folder,and use it where ever you want .BUT for that you have to clear in advance which string are you going to replace run time from reading that json file.","body":"another tricky tips ! write your json response in to one file and store it in to sd card specific folder,and use it where ever you want .BUT for that you have to clear in advance which string are you going to replace run time from reading that json file."},{"owner":{"account_id":8605629,"reputation":76,"user_id":6445865,"display_name":"adc"},"score":1,"creation_date":1477571993,"post_id":40284609,"comment_id":67827972,"body_markdown":"It is not possible, see this post : http://stackoverflow.com/questions/16147971/adding-values-to-android-resources-eg-string-xml-dynamically","body":"It is not possible, see this post : <a href=\"http://stackoverflow.com/questions/16147971/adding-values-to-android-resources-eg-string-xml-dynamically\" title=\"adding values to android resources eg string xml dynamically\">stackoverflow.com/questions/16147971/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3357277,"reputation":3914,"user_id":2819928,"display_name":"HenriqueMS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477572125,"creation_date":1477572125,"answer_id":40284873,"question_id":40284609,"body_markdown":"You can&#39;t change string resource files during runtime.\r\n\r\nFrom the [docs][1]:\r\n\r\n&gt; String: XML resource that provides a single string. A string resource\r\n&gt; provides text strings for your application with optional text styling\r\n&gt; and formatting.\r\n\r\n There is no editing option, or any reference of the kind in the documents\r\n\r\nstring.xml file is made to be accessed for referencing (by name) previously set values. \r\n\r\nYou could use `SharedPreferences` and still be able to achieve what you are trying to do.\r\nCheck [this][2] guide.\r\n\r\nhope this helps\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/resources/string-resource.html\r\n  [2]: https://developer.android.com/guide/topics/data/data-storage.html#pref","title":"How to store the string dynamically in resource file in android","body":"<p>You can't change string resource files during runtime.</p>\n\n<p>From the <a href=\"https://developer.android.com/guide/topics/resources/string-resource.html\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>String: XML resource that provides a single string. A string resource\n  provides text strings for your application with optional text styling\n  and formatting.</p>\n</blockquote>\n\n<p>There is no editing option, or any reference of the kind in the documents</p>\n\n<p>string.xml file is made to be accessed for referencing (by name) previously set values. </p>\n\n<p>You could use <code>SharedPreferences</code> and still be able to achieve what you are trying to do.\nCheck <a href=\"https://developer.android.com/guide/topics/data/data-storage.html#pref\" rel=\"nofollow\">this</a> guide.</p>\n\n<p>hope this helps</p>\n"},{"tags":[],"owner":{"account_id":5032055,"reputation":564,"user_id":4041955,"display_name":"Sumit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564398789,"creation_date":1564398789,"answer_id":57252627,"question_id":40284609,"body_markdown":"I have not implemented this library but you can try this. There are two library available on GitHub which provides way to dynamically change the string file and localization on the fly. You can check these library named [Restring][1] and [Philology][2].\r\n\r\n\r\n  [1]: https://github.com/hamidness/restring\r\n  [2]: https://github.com/JcMinarro/Philology","title":"How to store the string dynamically in resource file in android","body":"<p>I have not implemented this library but you can try this. There are two library available on GitHub which provides way to dynamically change the string file and localization on the fly. You can check these library named <a href=\"https://github.com/hamidness/restring\" rel=\"nofollow noreferrer\">Restring</a> and <a href=\"https://github.com/JcMinarro/Philology\" rel=\"nofollow noreferrer\">Philology</a>.</p>\n"},{"tags":[],"owner":{"account_id":27808716,"reputation":122,"user_id":21231507,"display_name":"Bhavyesh Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679381330,"creation_date":1678955760,"answer_id":75753720,"question_id":40284609,"body_markdown":"As well as I know we cannot change a string in a resources file but yes you can add your data at runtime dynamically in themiddle of that String with the help of (**%1$s** and **%2$d**).\r\n\r\nThey are called format specifiers. In the xml string they are in the form of\r\n\r\n    %[parameter_index$][format_type] \r\n\r\n`s` string\r\n\r\n`d` decimal integer\r\n\r\n`f` floating point number\r\n\r\n\r\n**Example** :\r\n\r\nWe will create the following formatted string where the gray parts are inserted programmatically.\r\n\r\nThis is a `Article and It&#39;s Written by Me` and I want to `publish` this article.\r\n\r\n**string.xml** \r\n\r\n    &lt;string name=&quot;xml_string&quot;&gt;This is a %1$s I want to %2$s this article.&lt;/string&gt;\r\n\r\n**MainActivity.kt**\r\n\r\n\r\n    val myString = &quot;Article and It&#39;s Written by me&quot;\r\n\r\n    val secondString = &quot;publish&quot;\r\n    \r\n    val formatted = getString(R.string.this_is_a, myString , secondString)\r\n    \r\n    textViewDynamic.text = formatted\r\n\r\n\r\nIt work&#39;s perfectly.","title":"How to store the string dynamically in resource file in android","body":"<p>As well as I know we cannot change a string in a resources file but yes you can add your data at runtime dynamically in themiddle of that String with the help of (<strong>%1$s</strong> and <strong>%2$d</strong>).</p>\n<p>They are called format specifiers. In the xml string they are in the form of</p>\n<pre><code>%[parameter_index$][format_type] \n</code></pre>\n<p><code>s</code> string</p>\n<p><code>d</code> decimal integer</p>\n<p><code>f</code> floating point number</p>\n<p><strong>Example</strong> :</p>\n<p>We will create the following formatted string where the gray parts are inserted programmatically.</p>\n<p>This is a <code>Article and It's Written by Me</code> and I want to <code>publish</code> this article.</p>\n<p><strong>string.xml</strong></p>\n<pre><code>&lt;string name=&quot;xml_string&quot;&gt;This is a %1$s I want to %2$s this article.&lt;/string&gt;\n</code></pre>\n<p><strong>MainActivity.kt</strong></p>\n<pre><code>val myString = &quot;Article and It's Written by me&quot;\n\nval secondString = &quot;publish&quot;\n\nval formatted = getString(R.string.this_is_a, myString , secondString)\n\ntextViewDynamic.text = formatted\n</code></pre>\n<p>It work's perfectly.</p>\n"}],"owner":{"account_id":7044991,"reputation":79,"user_id":5396069,"accept_rate":29,"display_name":"Kartikeya Garg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2285,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1679381330,"creation_date":1477571346,"question_id":40284609,"body_markdown":"I have a string in a `RecyclerView` in  `MainActivity` class. I want to change the language of the content. So for this I have to save the string. \r\n\r\nHow to store the string in the MainActivity class to resource string file&quot;","title":"How to store the string dynamically in resource file in android","body":"<p>I have a string in a <code>RecyclerView</code> in  <code>MainActivity</code> class. I want to change the language of the content. So for this I have to save the string. </p>\n\n<p>How to store the string in the MainActivity class to resource string file\"</p>\n"},{"tags":["java","android-studio","sos"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1679380661,"post_id":75797656,"comment_id":133706798,"body_markdown":"Does this help? https://itnext.io/android-dial-phone-programmatically-5ea3714d801d","body":"Does this help? <a href=\"https://itnext.io/android-dial-phone-programmatically-5ea3714d801d\" rel=\"nofollow noreferrer\">itnext.io/android-dial-phone-programmatically-5ea3714d801d</a>"}],"answers":[{"tags":[],"owner":{"account_id":2111085,"reputation":8537,"user_id":1876355,"accept_rate":91,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679381226,"creation_date":1679380805,"answer_id":75797988,"question_id":75797656,"body_markdown":"It is just a matter of how you use the intent, this should dial the number directly:\r\n\r\n    Intent callIntent = new Intent(Intent.ACTION_CALL);\r\n    callIntent.setData(Uri.parse(&quot;tel:&quot; + &quot;100&quot;));\r\n    startActivity(callIntent);\r\n\r\nHere is documentation on both `ACTION_CALL` and `ACTION_DIAL`.\r\n\r\n`ACTION_DIAL` will only fill in the number in the dialer:\r\n[Intent.ACTION_DIAL][1]\r\n\r\n`ACTION_CALL` will fill in the number in the dialer and attempt to dial it:\r\n[Intent.ACTION_CALL][2]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/Intent#ACTION_DIAL\r\n  [2]: https://developer.android.com/reference/android/content/Intent#ACTION_CALL","title":"How to make a call when click on button in Android studio?","body":"<p>It is just a matter of how you use the intent, this should dial the number directly:</p>\n<pre><code>Intent callIntent = new Intent(Intent.ACTION_CALL);\ncallIntent.setData(Uri.parse(&quot;tel:&quot; + &quot;100&quot;));\nstartActivity(callIntent);\n</code></pre>\n<p>Here is documentation on both <code>ACTION_CALL</code> and <code>ACTION_DIAL</code>.</p>\n<p><code>ACTION_DIAL</code> will only fill in the number in the dialer:\n<a href=\"https://developer.android.com/reference/android/content/Intent#ACTION_DIAL\" rel=\"nofollow noreferrer\">Intent.ACTION_DIAL</a></p>\n<p><code>ACTION_CALL</code> will fill in the number in the dialer and attempt to dial it:\n<a href=\"https://developer.android.com/reference/android/content/Intent#ACTION_CALL\" rel=\"nofollow noreferrer\">Intent.ACTION_CALL</a></p>\n"}],"owner":{"account_id":24459538,"reputation":1,"user_id":18380735,"display_name":"Parth Nandkishor Kulkarni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679381226,"creation_date":1679377243,"question_id":75797656,"body_markdown":"I&#39;m working on a project in which I have created a button.I want to add a feature that if I clicked on that button then it will automatically make a call to police number (100). \r\nI have written the code for the same, and when I clicked on that button my mobile phone&#39;s dial pad is opening and 100 number is displaying in dial pad.\r\nIs there any way to make a call automatically instead of directing me to dial pad? \r\n\r\n\r\nCan anyone guide me regarding this please? ","title":"How to make a call when click on button in Android studio?","body":"<p>I'm working on a project in which I have created a button.I want to add a feature that if I clicked on that button then it will automatically make a call to police number (100).\nI have written the code for the same, and when I clicked on that button my mobile phone's dial pad is opening and 100 number is displaying in dial pad.\nIs there any way to make a call automatically instead of directing me to dial pad?</p>\n<p>Can anyone guide me regarding this please?</p>\n"},{"tags":["java","spring","spring-boot","mockito","spring-cache"],"comments":[{"owner":{"account_id":2987374,"reputation":289,"user_id":2535809,"accept_rate":70,"display_name":"Gowrav"},"score":0,"creation_date":1633077711,"post_id":50519570,"comment_id":122669235,"body_markdown":"did you find a solution to your problem @vallim\nI tried `@Cacheable(value = &quot;keyCache&quot;, key = &quot;#root.methodName&quot;)`, suggestion given by it doesnt seem to work","body":"did you find a solution to your problem @vallim I tried <code>@Cacheable(value = &quot;keyCache&quot;, key = &quot;#root.methodName&quot;)</code>, suggestion given by it doesnt seem to work"},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1700729337,"post_id":50519570,"comment_id":136690850,"body_markdown":"From mockito 5.x.x, `when() requires an argument which has to be &#39;a method call on a mock&#39;.``,  Autowire on KeyService should be mock","body":"From mockito 5.x.x, `when() requires an argument which has to be &#39;a method call on a mock&#39;.``,  Autowire on KeyService should be mock"}],"answers":[{"tags":[],"owner":{"account_id":3940837,"reputation":2674,"user_id":4443351,"accept_rate":71,"display_name":"Bizon4ik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545486866,"creation_date":1545486866,"answer_id":53896222,"question_id":50519570,"body_markdown":"a cache lookup is performed using as key the method parameters. It means you need a key for methods that don&#39;t have params. Try this `@Cacheable(value = &quot;keyCache&quot;, key = &quot;#root.methodName&quot;)`","title":"Spring Boot 2 - Testing @Cacheable with Mockito for method without arguments is not working","body":"<p>a cache lookup is performed using as key the method parameters. It means you need a key for methods that don't have params. Try this <code>@Cacheable(value = \"keyCache\", key = \"#root.methodName\")</code></p>\n"},{"tags":[],"owner":{"account_id":13896008,"reputation":103,"user_id":10032858,"display_name":"Dmytro Verbivskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679380960,"creation_date":1679380960,"answer_id":75798010,"question_id":50519570,"body_markdown":"You cannot reliably test method wrapped with cacheable of spy/mock bean.\r\n\r\nLonger answer: Those two proxies are conflicting with each other, so you need to extract Cacheable on method of higher level bean and mock bean should be inside of that method.\r\n\r\n","title":"Spring Boot 2 - Testing @Cacheable with Mockito for method without arguments is not working","body":"<p>You cannot reliably test method wrapped with cacheable of spy/mock bean.</p>\n<p>Longer answer: Those two proxies are conflicting with each other, so you need to extract Cacheable on method of higher level bean and mock bean should be inside of that method.</p>\n"}],"owner":{"account_id":2122723,"reputation":308,"user_id":1885647,"accept_rate":20,"display_name":"vallim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9528,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1679380960,"creation_date":1527204823,"question_id":50519570,"body_markdown":"I have an application using Spring Boot 2. I would like to test a method with **@Cacheable** (Spring Cache) on it. I made a simple example in order to show the idea:\r\n\r\n    @Service\r\n    public class KeyService {\r\n    \r\n        @Cacheable(&quot;keyCache&quot;)\r\n        public String getKey() {\r\n            return &quot;fakeKey&quot;;\r\n        }\r\n    }\r\n\r\nAnd the test class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class KeyServiceTest {\r\n    \r\n        @Autowired\r\n        private KeyService keyService;\r\n    \r\n        @Test\r\n        public void shouldReturnTheSameKey() {\r\n    \r\n            Mockito.when(keyService.getKey()).thenReturn(&quot;key1&quot;, &quot;key2&quot;);\r\n    \r\n            String firstCall = keyService.getKey();\r\n            assertEquals(&quot;key1&quot;, firstCall);\r\n    \r\n            String secondCall = keyService.getKey();\r\n            assertEquals(&quot;key1&quot;, secondCall);\r\n        }\r\n    \r\n        @EnableCaching\r\n        @Configuration\r\n        static class KeyServiceConfig {\r\n    \r\n            @Bean\r\n            KeyService keyService() {\r\n                return Mockito.mock(KeyService.class);\r\n            }\r\n    \r\n            @Bean\r\n            CacheManager cacheManager() {\r\n                return new ConcurrentMapCacheManager(&quot;keyCache&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe example above does not work. But, if I change the `getKey()` method to receive a parameter:\r\n\r\n    @Service\r\n    public class KeyService {\r\n    \r\n        @Cacheable(&quot;keyCache&quot;)\r\n        public String getKey(String param) {\r\n            return &quot;fakeKey&quot;;\r\n        }\r\n    }\r\n\r\nAnd refactor the test to accommodate that change, the test works successfully:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class KeyServiceTest {\r\n    \r\n        @Autowired\r\n        private KeyService keyService;\r\n    \r\n        @Test\r\n        public void shouldReturnTheSameKey() {\r\n    \r\n            Mockito.when(keyService.getKey(Mockito.anyString())).thenReturn(&quot;key1&quot;, &quot;key2&quot;);\r\n    \r\n            String firstCall = keyService.getKey(&quot;xyz&quot;);\r\n            assertEquals(&quot;key1&quot;, firstCall);\r\n    \r\n            String secondCall = keyService.getKey(&quot;xyz&quot;);\r\n            assertEquals(&quot;key1&quot;, secondCall);\r\n        }\r\n        \r\n        @EnableCaching\r\n        @Configuration\r\n        static class KeyServiceConfig { //The same code as shown above }\r\n    }\r\n\r\nDo you guys have any idea about this issue?","title":"Spring Boot 2 - Testing @Cacheable with Mockito for method without arguments is not working","body":"<p>I have an application using Spring Boot 2. I would like to test a method with <strong>@Cacheable</strong> (Spring Cache) on it. I made a simple example in order to show the idea:</p>\n\n<pre><code>@Service\npublic class KeyService {\n\n    @Cacheable(\"keyCache\")\n    public String getKey() {\n        return \"fakeKey\";\n    }\n}\n</code></pre>\n\n<p>And the test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class KeyServiceTest {\n\n    @Autowired\n    private KeyService keyService;\n\n    @Test\n    public void shouldReturnTheSameKey() {\n\n        Mockito.when(keyService.getKey()).thenReturn(\"key1\", \"key2\");\n\n        String firstCall = keyService.getKey();\n        assertEquals(\"key1\", firstCall);\n\n        String secondCall = keyService.getKey();\n        assertEquals(\"key1\", secondCall);\n    }\n\n    @EnableCaching\n    @Configuration\n    static class KeyServiceConfig {\n\n        @Bean\n        KeyService keyService() {\n            return Mockito.mock(KeyService.class);\n        }\n\n        @Bean\n        CacheManager cacheManager() {\n            return new ConcurrentMapCacheManager(\"keyCache\");\n        }\n    }\n}\n</code></pre>\n\n<p>The example above does not work. But, if I change the <code>getKey()</code> method to receive a parameter:</p>\n\n<pre><code>@Service\npublic class KeyService {\n\n    @Cacheable(\"keyCache\")\n    public String getKey(String param) {\n        return \"fakeKey\";\n    }\n}\n</code></pre>\n\n<p>And refactor the test to accommodate that change, the test works successfully:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class KeyServiceTest {\n\n    @Autowired\n    private KeyService keyService;\n\n    @Test\n    public void shouldReturnTheSameKey() {\n\n        Mockito.when(keyService.getKey(Mockito.anyString())).thenReturn(\"key1\", \"key2\");\n\n        String firstCall = keyService.getKey(\"xyz\");\n        assertEquals(\"key1\", firstCall);\n\n        String secondCall = keyService.getKey(\"xyz\");\n        assertEquals(\"key1\", secondCall);\n    }\n\n    @EnableCaching\n    @Configuration\n    static class KeyServiceConfig { //The same code as shown above }\n}\n</code></pre>\n\n<p>Do you guys have any idea about this issue?</p>\n"},{"tags":["java","maven"],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679380479,"creation_date":1679364634,"question_id":75796785,"body_markdown":"I am currently working on a spring project with multiple modules and I had a question regarding dependency management across modules and dependencies.\r\n\r\nLets say in project A i have modules A1, A2, A3 and A4.\r\nFor these 4 modules I have declared a parent POM on classpath. \r\nIn the child POM of A1 I have imported some dependency D. The version for this dependency D is mentioned in parent POM of project A. Now in Child POM of A1 I also have another dependency L (this is a library which I wrote myself and is also a spring project with maven). This dependency L also has 4 modules L1, L2, L3, L4 and has its own Parent POM. In Child POM A1 I only import module L1. The Child POM L1 also has dependency D as one of its dependencies. The version to be used is specified is in Parent POM of L. The version for dependency D in Parent POMS L and A are different. When I import L1 into A1, what version of D will be used L1 and A1 ?\r\n\r\nWill they use separate versions of D because their parent POMS are different ?\r\n\r\nPlease let me know how I can make the question less confusing. Thanks!","title":"Does the POM of an imported library become child POM of the project its being imported into?","body":"<p>I am currently working on a spring project with multiple modules and I had a question regarding dependency management across modules and dependencies.</p>\n<p>Lets say in project A i have modules A1, A2, A3 and A4.\nFor these 4 modules I have declared a parent POM on classpath.\nIn the child POM of A1 I have imported some dependency D. The version for this dependency D is mentioned in parent POM of project A. Now in Child POM of A1 I also have another dependency L (this is a library which I wrote myself and is also a spring project with maven). This dependency L also has 4 modules L1, L2, L3, L4 and has its own Parent POM. In Child POM A1 I only import module L1. The Child POM L1 also has dependency D as one of its dependencies. The version to be used is specified is in Parent POM of L. The version for dependency D in Parent POMS L and A are different. When I import L1 into A1, what version of D will be used L1 and A1 ?</p>\n<p>Will they use separate versions of D because their parent POMS are different ?</p>\n<p>Please let me know how I can make the question less confusing. Thanks!</p>\n"},{"tags":["java","android","keystore","android-keystore","android-security"],"answers":[{"tags":[],"owner":{"account_id":2401163,"reputation":100,"user_id":2098782,"display_name":"pirogtm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679380342,"creation_date":1679380342,"answer_id":75797937,"question_id":59404282,"body_markdown":"I had gotten the same error and had solved it with surrounding code with try/catch and recursive call method after sleep timeout:\r\n\r\n    private int getDataAttemptNumber = 0;\r\n    public byte[] getData(String key) {\r\n        KeyStore ks = null;\r\n        try {\r\n            ks = KeyStore.getInstance(KEYSTORE_PROVIDER_ANDROID_KEYSTORE);\r\n            ks.load(null);\r\n            PrivateKey privateKey = (PrivateKey) ks.getKey(alias, null);\r\n            return decrypt(privateKey, preferences.getString(key, null));\r\n        } catch (NullPointerException e) {\r\n            getDataAttemptNumber++;\r\n            if (getDataAttemptNumber &gt; 10) {\r\n                try {\r\n                    Thread.sleep(100);\r\n                } catch (InterruptedException ex) {\r\n                    // nothing to do\r\n                }\r\n                getDataAttemptNumber = 0;\r\n                return null;\r\n            }\r\n            return getData(key);\r\n        } catch (Exception e) {\r\n            try {\r\n                if (ks != null)\r\n                    ks.deleteEntry(alias);\r\n            } catch (Exception e1) {\r\n                // Just ignore any errors here\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Android 10 android.security.keymaster.ExportResult.resultCode NullPointerException crash","body":"<p>I had gotten the same error and had solved it with surrounding code with try/catch and recursive call method after sleep timeout:</p>\n<pre><code>private int getDataAttemptNumber = 0;\npublic byte[] getData(String key) {\n    KeyStore ks = null;\n    try {\n        ks = KeyStore.getInstance(KEYSTORE_PROVIDER_ANDROID_KEYSTORE);\n        ks.load(null);\n        PrivateKey privateKey = (PrivateKey) ks.getKey(alias, null);\n        return decrypt(privateKey, preferences.getString(key, null));\n    } catch (NullPointerException e) {\n        getDataAttemptNumber++;\n        if (getDataAttemptNumber &gt; 10) {\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException ex) {\n                // nothing to do\n            }\n            getDataAttemptNumber = 0;\n            return null;\n        }\n        return getData(key);\n    } catch (Exception e) {\n        try {\n            if (ks != null)\n                ks.deleteEntry(alias);\n        } catch (Exception e1) {\n            // Just ignore any errors here\n        }\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":4874402,"reputation":131,"user_id":3929957,"display_name":"Grabiarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1679380342,"creation_date":1576736797,"question_id":59404282,"body_markdown":"My app is getting single crashes reports from Android 10 users only. This is the stacktrace:\r\n\r\n```\r\nFatal Exception: java.lang.NullPointerException: Attempt to read from field &#39;int android.security.keymaster.ExportResult.resultCode&#39; on a null object reference\r\n\r\n       at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:256)\r\n       at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:296)\r\n       at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePrivateKeyFromKeystore(AndroidKeyStoreProvider.java:316)\r\n       at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyFromKeystore(AndroidKeyStoreProvider.java:378)\r\n       at android.security.keystore.AndroidKeyStoreSpi.engineGetKey(AndroidKeyStoreSpi.java:105)\r\n       at java.security.KeyStore.getKey(KeyStore.java:1062)\r\n       at we.lmk.iqQ(we.lmk:19)\r\n       at we.Vmk.apply(we.Vmk:51)\r\n       at io.reactivex.internal.operators.single.SingleMap$MapSingleObserver.onSuccess(SingleMap.java:57)\r\n       at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:56)\r\n       at io.reactivex.Single.subscribe(Single.java:3603)\r\n       at io.reactivex.internal.operators.single.SingleMap.subscribeActual(SingleMap.java:34)\r\n       at io.reactivex.Single.subscribe(Single.java:3603)\r\n       at io.reactivex.internal.operators.single.SingleZipArray.subscribeActual(SingleZipArray.java:63)\r\n       at io.reactivex.Single.subscribe(Single.java:3603)\r\n       at io.reactivex.internal.operators.maybe.MaybeFilterSingle.subscribeActual(MaybeFilterSingle.java:40)\r\n       at io.reactivex.Maybe.subscribe(Maybe.java:4290)\r\n       at io.reactivex.internal.operators.maybe.MaybeMap.subscribeActual(MaybeMap.java:40)\r\n       at io.reactivex.Maybe.subscribe(Maybe.java:4290)\r\n       at io.reactivex.internal.operators.maybe.MaybeMap.subscribeActual(MaybeMap.java:40)\r\n       at io.reactivex.Maybe.subscribe(Maybe.java:4290)\r\n       at io.reactivex.internal.operators.maybe.MaybeFlatMapSingle.subscribeActual(MaybeFlatMapSingle.java:47)\r\n       at io.reactivex.Single.subscribe(Single.java:3603)\r\n       at io.reactivex.internal.operators.single.SingleFlatMap.subscribeActual(SingleFlatMap.java:36)\r\n       at io.reactivex.Single.subscribe(Single.java:3603)\r\n       at io.reactivex.internal.operators.single.SingleFlatMap.subscribeActual(SingleFlatMap.java:36)\r\n       at io.reactivex.Single.subscribe(Single.java:3603)\r\n       at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)\r\n       at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)\r\n       at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\r\n       at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\r\n       at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n       at java.lang.Thread.run(Thread.java:919)\r\n```\r\n\r\nAnd this is my code:\r\n\r\n```lang-java\r\n@NonNull\r\nprivate static KeyStore getKeyStoreInstance() throws SecureStorageException {\r\n    try {\r\n        // Get the AndroidKeyStore instance\r\n        KeyStore keyStore = KeyStore.getInstance(KEY_KEYSTORE_NAME);\r\n\r\n        // Relict of the JCA API - you have to call load even\r\n        // if you do not have an input stream you want to load or it&#39;ll crash\r\n        keyStore.load(null);\r\n\r\n        return keyStore;\r\n    } catch (Exception e) {\r\n        throw new SecureStorageException(e.getMessage(), e, KEYSTORE_EXCEPTION);\r\n    }\r\n}\r\n```\r\n\r\nThis code is provided by this library: [https://github.com/adorsys/secure-storage-android][1]\r\n\r\nI didn&#39;t find any solution yet, is it possible that this is internal Android 10 bug?\r\n\r\n\r\n  [1]: https://github.com/adorsys/secure-storage-android","title":"Android 10 android.security.keymaster.ExportResult.resultCode NullPointerException crash","body":"<p>My app is getting single crashes reports from Android 10 users only. This is the stacktrace:</p>\n<pre><code>Fatal Exception: java.lang.NullPointerException: Attempt to read from field 'int android.security.keymaster.ExportResult.resultCode' on a null object reference\n\n       at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:256)\n       at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:296)\n       at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePrivateKeyFromKeystore(AndroidKeyStoreProvider.java:316)\n       at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyFromKeystore(AndroidKeyStoreProvider.java:378)\n       at android.security.keystore.AndroidKeyStoreSpi.engineGetKey(AndroidKeyStoreSpi.java:105)\n       at java.security.KeyStore.getKey(KeyStore.java:1062)\n       at we.lmk.iqQ(we.lmk:19)\n       at we.Vmk.apply(we.Vmk:51)\n       at io.reactivex.internal.operators.single.SingleMap$MapSingleObserver.onSuccess(SingleMap.java:57)\n       at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:56)\n       at io.reactivex.Single.subscribe(Single.java:3603)\n       at io.reactivex.internal.operators.single.SingleMap.subscribeActual(SingleMap.java:34)\n       at io.reactivex.Single.subscribe(Single.java:3603)\n       at io.reactivex.internal.operators.single.SingleZipArray.subscribeActual(SingleZipArray.java:63)\n       at io.reactivex.Single.subscribe(Single.java:3603)\n       at io.reactivex.internal.operators.maybe.MaybeFilterSingle.subscribeActual(MaybeFilterSingle.java:40)\n       at io.reactivex.Maybe.subscribe(Maybe.java:4290)\n       at io.reactivex.internal.operators.maybe.MaybeMap.subscribeActual(MaybeMap.java:40)\n       at io.reactivex.Maybe.subscribe(Maybe.java:4290)\n       at io.reactivex.internal.operators.maybe.MaybeMap.subscribeActual(MaybeMap.java:40)\n       at io.reactivex.Maybe.subscribe(Maybe.java:4290)\n       at io.reactivex.internal.operators.maybe.MaybeFlatMapSingle.subscribeActual(MaybeFlatMapSingle.java:47)\n       at io.reactivex.Single.subscribe(Single.java:3603)\n       at io.reactivex.internal.operators.single.SingleFlatMap.subscribeActual(SingleFlatMap.java:36)\n       at io.reactivex.Single.subscribe(Single.java:3603)\n       at io.reactivex.internal.operators.single.SingleFlatMap.subscribeActual(SingleFlatMap.java:36)\n       at io.reactivex.Single.subscribe(Single.java:3603)\n       at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)\n       at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)\n       at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\n       at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n       at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n       at java.lang.Thread.run(Thread.java:919)\n</code></pre>\n<p>And this is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NonNull\nprivate static KeyStore getKeyStoreInstance() throws SecureStorageException {\n    try {\n        // Get the AndroidKeyStore instance\n        KeyStore keyStore = KeyStore.getInstance(KEY_KEYSTORE_NAME);\n\n        // Relict of the JCA API - you have to call load even\n        // if you do not have an input stream you want to load or it'll crash\n        keyStore.load(null);\n\n        return keyStore;\n    } catch (Exception e) {\n        throw new SecureStorageException(e.getMessage(), e, KEYSTORE_EXCEPTION);\n    }\n}\n</code></pre>\n<p>This code is provided by this library: <a href=\"https://github.com/adorsys/secure-storage-android\" rel=\"nofollow noreferrer\">https://github.com/adorsys/secure-storage-android</a></p>\n<p>I didn't find any solution yet, is it possible that this is internal Android 10 bug?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679379242,"creation_date":1679316865,"answer_id":75790519,"question_id":75789406,"body_markdown":"&gt; The application will be used by different groups/enterprises, so I don&#39;t want to store all of their info in a central Firebase database. I want each group to be able to provide its own database which can store information about all its employees.\r\n\r\nIf you don&#39;t want to store all the data in a single database, then I recommend you create a new instance for each group/enterprise. So you can [connect your app to multiple database instances][1]. This mechanism is also called data sharding, and it&#39;s the best way in which you can optimize the performance and scalability of your app.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/usage/sharding","title":"How to provide firebase credentials while running the application","body":"<blockquote>\n<p>The application will be used by different groups/enterprises, so I don't want to store all of their info in a central Firebase database. I want each group to be able to provide its own database which can store information about all its employees.</p>\n</blockquote>\n<p>If you don't want to store all the data in a single database, then I recommend you create a new instance for each group/enterprise. So you can <a href=\"https://firebase.google.com/docs/database/usage/sharding\" rel=\"nofollow noreferrer\">connect your app to multiple database instances</a>. This mechanism is also called data sharding, and it's the best way in which you can optimize the performance and scalability of your app.</p>\n"}],"owner":{"account_id":20889861,"reputation":19,"user_id":15345513,"display_name":"Lupin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679379242,"creation_date":1679309682,"question_id":75789406,"body_markdown":"I am working on a counseling chatbot application (android). I am storing sensitive user data in Firebase Realtime Database. While setting up the firebase SDK I am required to store a `google-services.json` file inside the Android Studio project, which contains firebase project authentication information.\r\n\r\nThe application will be used by different groups/enterprises, so I don&#39;t want to store all of their info in a central firebase database. I want each group to be able to provide its own database which can store information about all its employees.\r\n\r\n**Is there any way to provide firebase database credentials after the app is compiled and running? so that each group can connect their own firebase database to the app.**\r\n\r\nAlso, if not Firebase Realtime Database, please suggest any other database service which is more suited to this requirement.\r\n\r\n","title":"How to provide firebase credentials while running the application","body":"<p>I am working on a counseling chatbot application (android). I am storing sensitive user data in Firebase Realtime Database. While setting up the firebase SDK I am required to store a <code>google-services.json</code> file inside the Android Studio project, which contains firebase project authentication information.</p>\n<p>The application will be used by different groups/enterprises, so I don't want to store all of their info in a central firebase database. I want each group to be able to provide its own database which can store information about all its employees.</p>\n<p><strong>Is there any way to provide firebase database credentials after the app is compiled and running? so that each group can connect their own firebase database to the app.</strong></p>\n<p>Also, if not Firebase Realtime Database, please suggest any other database service which is more suited to this requirement.</p>\n"},{"tags":["java","spring-boot","google-app-engine","google-cloud-platform","spring-authorization-server"],"comments":[{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1681407188,"post_id":75797768,"comment_id":134055164,"body_markdown":"&quot;expected was it should return redirect URL of UI&quot; I don&#39;t see where you&#39;ve configured this to happen. Are we missing part of your configuration?","body":"&quot;expected was it should return redirect URL of UI&quot; I don&#39;t see where you&#39;ve configured this to happen. Are we missing part of your configuration?"}],"owner":{"account_id":3135323,"reputation":468,"user_id":2651934,"accept_rate":33,"display_name":"Anoop Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679379200,"creation_date":1679378806,"question_id":75797768,"body_markdown":"I have react app as UI and Spring boot as backend. I deployed this spring boot app in google app engine and `https` is by default enabled in app engine. I can access following URL:\r\n\r\n```\r\nhttps://&lt;project_id&gt;.el.r.appspot.com/\r\n```\r\n\r\nI enabled OAuth server on spring boot app so that UI do not require to handle authentication. it will be done from spring boot app.\r\n\r\n```java\r\n\r\n    // OAuth configuration\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n\r\n        LoginUrlAuthenticationEntryPoint entryPoint = new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;);\r\n        entryPoint.setForceHttps(true);\r\n\r\n        http\r\n                .getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n                .oidc(Customizer.withDefaults());\t// Enable OpenID Connect 1.0\r\n\r\n        http\r\n                .exceptionHandling((exceptions) -&gt; exceptions\r\n                        .authenticationEntryPoint(entryPoint)\r\n                )\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    String[] publicApis = {&quot;/login&quot;, &quot;/register&quot;, &quot;/logout&quot;, &quot;/&quot;};\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests((requests) -&gt; requests\r\n                    .requestMatchers(publicApis).permitAll()\r\n    //                .requestMatchers(toH2Console()).permitAll()\r\n                    .requestMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                    .anyRequest().authenticated()\r\n            )\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt())\r\n                .formLogin(withDefaults());\r\n\r\n    //    http.csrf().ignoringRequestMatchers(toH2Console());\r\n        http.csrf().ignoringRequestMatchers(publicApis);\r\n        http.headers().frameOptions().disable();\r\n        return http.build();\r\n    }\r\n\r\n``` \r\n\r\n```properties\r\nserver.servlet.session.cookie.http-only=true\r\nserver.servlet.session.cookie.secure=true\r\n```\r\n\r\nAuthentication is working fine on localhost. UI is running on `localhost:3000` and backend service (spring boot) is running on `localhost:8080`.\r\n\r\nBut when I deployed spring boot on app engine and UI on vercel. **OAuth after submitting username password is taking to index API of spring boot service** `https://&lt;project_id&gt;.el.r.appspot.com` which is just returning string `hello world`, **expected was it should return redirect URL of UI**.\r\n\r\nWhat I noticed that spring boot internally using `http` instead of `https`. For example:\r\n\r\n`https://&lt;project_id&gt;.el.r.appspot.com/.well-known/openid-configuration`\r\n\r\nis returning all the uri with `http`.\r\n\r\nI tried to enforce `https` with \r\n\r\n```java\r\n    @Bean\r\n    public AuthorizationServerSettings authorizationServerSettings() {\r\n        return AuthorizationServerSettings\r\n                .builder()\r\n                .issuer(&quot;https://&lt;project_id&gt;.el.r.appspot.com&quot;)\r\n                .build();\r\n    }\r\n```\r\n\r\nwhich returned URIs with `https` but then internal redirect like `/login` and `/auth` happening with `http` only.\r\n","title":"Spring OAuth Authorization Server with App Engine redirecting to Index API","body":"<p>I have react app as UI and Spring boot as backend. I deployed this spring boot app in google app engine and <code>https</code> is by default enabled in app engine. I can access following URL:</p>\n<pre><code>https://&lt;project_id&gt;.el.r.appspot.com/\n</code></pre>\n<p>I enabled OAuth server on spring boot app so that UI do not require to handle authentication. it will be done from spring boot app.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    // OAuth configuration\n    @Bean\n    @Order(1)\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http) throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n\n        LoginUrlAuthenticationEntryPoint entryPoint = new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;);\n        entryPoint.setForceHttps(true);\n\n        http\n                .getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n                .oidc(Customizer.withDefaults());   // Enable OpenID Connect 1.0\n\n        http\n                .exceptionHandling((exceptions) -&gt; exceptions\n                        .authenticationEntryPoint(entryPoint)\n                )\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n\n        return http.build();\n    }\n\n    String[] publicApis = {&quot;/login&quot;, &quot;/register&quot;, &quot;/logout&quot;, &quot;/&quot;};\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((requests) -&gt; requests\n                    .requestMatchers(publicApis).permitAll()\n    //                .requestMatchers(toH2Console()).permitAll()\n                    .requestMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\n                    .anyRequest().authenticated()\n            )\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt())\n                .formLogin(withDefaults());\n\n    //    http.csrf().ignoringRequestMatchers(toH2Console());\n        http.csrf().ignoringRequestMatchers(publicApis);\n        http.headers().frameOptions().disable();\n        return http.build();\n    }\n\n</code></pre>\n<pre><code>server.servlet.session.cookie.http-only=true\nserver.servlet.session.cookie.secure=true\n</code></pre>\n<p>Authentication is working fine on localhost. UI is running on <code>localhost:3000</code> and backend service (spring boot) is running on <code>localhost:8080</code>.</p>\n<p>But when I deployed spring boot on app engine and UI on vercel. <strong>OAuth after submitting username password is taking to index API of spring boot service</strong> <code>https://&lt;project_id&gt;.el.r.appspot.com</code> which is just returning string <code>hello world</code>, <strong>expected was it should return redirect URL of UI</strong>.</p>\n<p>What I noticed that spring boot internally using <code>http</code> instead of <code>https</code>. For example:</p>\n<p><code>https://&lt;project_id&gt;.el.r.appspot.com/.well-known/openid-configuration</code></p>\n<p>is returning all the uri with <code>http</code>.</p>\n<p>I tried to enforce <code>https</code> with</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public AuthorizationServerSettings authorizationServerSettings() {\n        return AuthorizationServerSettings\n                .builder()\n                .issuer(&quot;https://&lt;project_id&gt;.el.r.appspot.com&quot;)\n                .build();\n    }\n</code></pre>\n<p>which returned URIs with <code>https</code> but then internal redirect like <code>/login</code> and <code>/auth</code> happening with <code>http</code> only.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1679338978,"post_id":75794283,"comment_id":133700890,"body_markdown":"That message means that that file has been modified on disk different than your unsaved changes in VS Code. Did you edit that file outside of VS Code? Is the file stored in come context where something else might be modifying it such as OneDrive?","body":"That message means that that file has been modified on disk different than your unsaved changes in VS Code. Did you edit that file outside of VS Code? Is the file stored in come context where something else might be modifying it such as OneDrive?"},{"owner":{"account_id":22604780,"reputation":45,"user_id":16785829,"display_name":"Dimitris Malkotsis"},"score":0,"creation_date":1679339345,"post_id":75794283,"comment_id":133700978,"body_markdown":"@user no only opened with notepad++ but not edited. The file is saved in my desktop.","body":"@user no only opened with notepad++ but not edited. The file is saved in my desktop."},{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1679339578,"post_id":75794283,"comment_id":133701037,"body_markdown":"try looking at the comparison and see what is on disk and see if there are any hints you can give us about why this might be happening. Unless this is a known bug (I tried a cursory google and didn&#39;t find any recent issue tickets), there&#39;s not much we can do without your machine (which only you have).","body":"try looking at the comparison and see what is on disk and see if there are any hints you can give us about why this might be happening. Unless this is a known bug (I tried a cursory google and didn&#39;t find any recent issue tickets), there&#39;s not much we can do without your machine (which only you have)."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679378823,"creation_date":1679378823,"answer_id":75797771,"question_id":75794283,"body_markdown":"Perhaps you are using *Git*. If any option exists in the error message popup, you can choose to open the comparison file and decide which one to save.\r\n\r\nIt looks like you have a file conflict. The following setting is a possible solution:\r\n\r\n&gt; A save conflict can occur when a file is saved to disk that was changed by another program in the meantime. To prevent data loss, the user is asked to compare the changes in the editor with the version on disk. This setting should only be changed if you frequently encounter save conflict errors and may result in data loss if used without caution.\r\n\r\n```json\r\n\t&quot;files.saveConflictResolution&quot;: &quot;overwriteFileOnDisk&quot;,\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nSHHD.png","title":"VS code error when I open or try to save a file. Failed to save &quot;fileName.java&quot;","body":"<p>Perhaps you are using <em>Git</em>. If any option exists in the error message popup, you can choose to open the comparison file and decide which one to save.</p>\n<p>It looks like you have a file conflict. The following setting is a possible solution:</p>\n<blockquote>\n<p>A save conflict can occur when a file is saved to disk that was changed by another program in the meantime. To prevent data loss, the user is asked to compare the changes in the editor with the version on disk. This setting should only be changed if you frequently encounter save conflict errors and may result in data loss if used without caution.</p>\n</blockquote>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;files.saveConflictResolution&quot;: &quot;overwriteFileOnDisk&quot;,\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nSHHD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nSHHD.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22604780,"reputation":45,"user_id":16785829,"display_name":"Dimitris Malkotsis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679378823,"creation_date":1679338865,"question_id":75794283,"body_markdown":"I am using VS code for a long time but recently it started showing this error when I try to save java files:\r\n\r\n&gt; Failed to save &#39;App.java&#39;: The content of the file is newer. Please compare your version with the file contents or overwrite the content of the file with your changes.\r\n\r\nI tried to uninstall and install VS code and the extensions I had again but it did not work.\r\n\r\nWhat else should I try? Thank you.","title":"VS code error when I open or try to save a file. Failed to save &quot;fileName.java&quot;","body":"<p>I am using VS code for a long time but recently it started showing this error when I try to save java files:</p>\n<blockquote>\n<p>Failed to save 'App.java': The content of the file is newer. Please compare your version with the file contents or overwrite the content of the file with your changes.</p>\n</blockquote>\n<p>I tried to uninstall and install VS code and the extensions I had again but it did not work.</p>\n<p>What else should I try? Thank you.</p>\n"},{"tags":["java","android","kotlin","mvvm","android-livedata"],"answers":[{"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679378530,"creation_date":1679378530,"answer_id":75797749,"question_id":75327891,"body_markdown":"To receive a result in a synchronous way from Retrofit you must use &quot;execute&quot;.\r\n   \r\n\r\n       /**\r\n       * Synchronously send the request and return its response.\r\n       *\r\n       * @throws IOException if a problem occurred talking to the server.\r\n       * @throws RuntimeException (and subclasses) if an unexpected error occurs creating the request or\r\n       *     decoding the response.\r\n       */\r\n      Response&lt;T&gt; execute() throws IOException;\r\n\r\nThis allows you to return the result and write it to the file. So something like this:\r\n\r\n\r\n    try {\r\n       Response&lt;Content&gt; response = apiService.getContent(request).execute();\r\n       List&lt;Section&gt; sections = response.body() != null ? response.body().getSections() : null;\r\n                if (sections != null &amp;&amp; !sections.isEmpty()) {\r\n                    final List&lt;Section&gt; sectionList = new ArrayList&lt;&gt;();\r\n                    for (Section section : sections) {\r\n                        sectionList.add(section);\r\n                    }\r\n                }\r\n    } catch(IOException) {\r\n       Log.d(TAG, &quot;onFailure&quot; + Thread.currentThread().getName());\r\n    }\r\n\r\n\r\nThe problem is that you then execute the call on the `MainThread` and your app will freeze until the call is finished. With `enqueue` and a callback, the request is performed asynchronously and your `MainThread` is not blocked.","title":"Need to add data returned from api to List, but can only post to LiveData?","body":"<p>To receive a result in a synchronous way from Retrofit you must use &quot;execute&quot;.</p>\n<pre><code>   /**\n   * Synchronously send the request and return its response.\n   *\n   * @throws IOException if a problem occurred talking to the server.\n   * @throws RuntimeException (and subclasses) if an unexpected error occurs creating the request or\n   *     decoding the response.\n   */\n  Response&lt;T&gt; execute() throws IOException;\n</code></pre>\n<p>This allows you to return the result and write it to the file. So something like this:</p>\n<pre><code>try {\n   Response&lt;Content&gt; response = apiService.getContent(request).execute();\n   List&lt;Section&gt; sections = response.body() != null ? response.body().getSections() : null;\n            if (sections != null &amp;&amp; !sections.isEmpty()) {\n                final List&lt;Section&gt; sectionList = new ArrayList&lt;&gt;();\n                for (Section section : sections) {\n                    sectionList.add(section);\n                }\n            }\n} catch(IOException) {\n   Log.d(TAG, &quot;onFailure&quot; + Thread.currentThread().getName());\n}\n</code></pre>\n<p>The problem is that you then execute the call on the <code>MainThread</code> and your app will freeze until the call is finished. With <code>enqueue</code> and a callback, the request is performed asynchronously and your <code>MainThread</code> is not blocked.</p>\n"}],"owner":{"account_id":24580690,"reputation":33,"user_id":18485872,"display_name":"Iam Me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679378530,"creation_date":1675364974,"question_id":75327891,"body_markdown":"From my fragment I call: `videoViewModel.fetchContentSections();`\r\n\r\nFrom my vm I call: `public void fetchContentSections(){repository.getContent();}`\r\n\r\nFrom my repo I do this:\r\n\r\n    apiService.getContent(request).enqueue(new Callback&lt;Content&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Content&gt; call, Response&lt;Content&gt; response) {\r\n                List&lt;Section&gt; sections = response.body() != null ? response.body().getSections() : null;\r\n                if (sections != null &amp;&amp; !sections.isEmpty()) {\r\n                    final List&lt;Section&gt; sectionList = new ArrayList&lt;&gt;();\r\n                    for (Section section : sections) {\r\n                        sectionList.add(section);\r\n                    }\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(Call&lt;Content&gt; call, Throwable t) {\r\n                Log.d(TAG, &quot;onFailure&quot; + Thread.currentThread().getName());\r\n            }\r\n        });\r\n\r\nData is returned, but in this scenario the list is null.\r\n\r\nIf I substitute the if statement for: `sectionsMutableLiveList.postValue(response.body().getSections());`\r\n\r\n...everything works fine. But I need to use a non-LiveData list so I can then write the sectionList to a file. I&#39;m hoping to then read the list from the file and post the value to a LiveData list to my vm.\r\n\r\nDoes anyone know what I&#39;ve done wrong?","title":"Need to add data returned from api to List, but can only post to LiveData?","body":"<p>From my fragment I call: <code>videoViewModel.fetchContentSections();</code></p>\n<p>From my vm I call: <code>public void fetchContentSections(){repository.getContent();}</code></p>\n<p>From my repo I do this:</p>\n<pre><code>apiService.getContent(request).enqueue(new Callback&lt;Content&gt;() {\n        @Override\n        public void onResponse(Call&lt;Content&gt; call, Response&lt;Content&gt; response) {\n            List&lt;Section&gt; sections = response.body() != null ? response.body().getSections() : null;\n            if (sections != null &amp;&amp; !sections.isEmpty()) {\n                final List&lt;Section&gt; sectionList = new ArrayList&lt;&gt;();\n                for (Section section : sections) {\n                    sectionList.add(section);\n                }\n            }\n        }\n        @Override\n        public void onFailure(Call&lt;Content&gt; call, Throwable t) {\n            Log.d(TAG, &quot;onFailure&quot; + Thread.currentThread().getName());\n        }\n    });\n</code></pre>\n<p>Data is returned, but in this scenario the list is null.</p>\n<p>If I substitute the if statement for: <code>sectionsMutableLiveList.postValue(response.body().getSections());</code></p>\n<p>...everything works fine. But I need to use a non-LiveData list so I can then write the sectionList to a file. I'm hoping to then read the list from the file and post the value to a LiveData list to my vm.</p>\n<p>Does anyone know what I've done wrong?</p>\n"},{"tags":["java","spring","rest","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1472578347,"post_id":39233648,"comment_id":65804585,"body_markdown":"(1) Is there a reason you&#39;re layering a separate `BookService` over the repository? (2) Prefer constructor injection to field injection whenever possible.","body":"(1) Is there a reason you&#39;re layering a separate <code>BookService</code> over the repository? (2) Prefer constructor injection to field injection whenever possible."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1472579144,"creation_date":1472579144,"answer_id":39233938,"question_id":39233648,"body_markdown":"In the case of a `DELETE` operation, you aren&#39;t really returning an entity anymore; you&#39;re simply confirming that the resource is gone. As `DELETE` is idempotent (you could delete the record multiple times), you can either return the same status code regardless of whether the record exists or return a 404 if the record isn&#39;t found. You can also simplify the handler method:\r\n\r\n    @DeleteMapping(&quot;/books/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT) // because you deleted it\r\n    public void deleteBook(@PathVariable Long id) {\r\n        try {\r\n            bookService.delete(id); // or just use the repository directly\r\n        } catch (EmptyResultDataAccessException ex) {\r\n            // either do nothing to return a 204, or\r\n            throw new NotFoundException();\r\n        }\r\n    }\r\n\r\nwhere you have an exception that indicates the status:\r\n\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public class NotFoundException extends RuntimeException {}\r\n\r\nIt&#39;s plausible that `EmptyResultDataAccessException` should *already* be annotated with a status of `NOT_FOUND`; this is a potential enhancement request.","title":"JPA EmptyResultDataAccessException handling","body":"<p>In the case of a <code>DELETE</code> operation, you aren't really returning an entity anymore; you're simply confirming that the resource is gone. As <code>DELETE</code> is idempotent (you could delete the record multiple times), you can either return the same status code regardless of whether the record exists or return a 404 if the record isn't found. You can also simplify the handler method:</p>\n\n<pre><code>@DeleteMapping(\"/books/{id}\")\n@ResponseStatus(HttpStatus.NO_CONTENT) // because you deleted it\npublic void deleteBook(@PathVariable Long id) {\n    try {\n        bookService.delete(id); // or just use the repository directly\n    } catch (EmptyResultDataAccessException ex) {\n        // either do nothing to return a 204, or\n        throw new NotFoundException();\n    }\n}\n</code></pre>\n\n<p>where you have an exception that indicates the status:</p>\n\n<pre><code>@ResponseStatus(HttpStatus.NOT_FOUND)\npublic class NotFoundException extends RuntimeException {}\n</code></pre>\n\n<p>It's plausible that <code>EmptyResultDataAccessException</code> should <em>already</em> be annotated with a status of <code>NOT_FOUND</code>; this is a potential enhancement request.</p>\n"},{"tags":[],"owner":{"account_id":8146728,"reputation":2052,"user_id":6135178,"display_name":"Andr&#233;s Cuadros"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1609255505,"creation_date":1609255505,"answer_id":65494510,"question_id":39233648,"body_markdown":"The most elegant way to avoid the `EmptyResultDataAccessException` is to define an specific method in your `Repository` interface to delete by your id field.\r\n\r\nLet&#39;s supppose that your id field is named bookId:\r\n\r\n    public interface BookRepository extends JpaRepository&lt;Book, Long&gt; {\r\n        Long deleteByBookId(Long bookId);\r\n    }\r\n\r\nIn this way the exception won&#39;t be throwed. \r\n\r\nI haven&#39;t tested the solution if your id field is simply called id.","title":"JPA EmptyResultDataAccessException handling","body":"<p>The most elegant way to avoid the <code>EmptyResultDataAccessException</code> is to define an specific method in your <code>Repository</code> interface to delete by your id field.</p>\n<p>Let's supppose that your id field is named bookId:</p>\n<pre><code>public interface BookRepository extends JpaRepository&lt;Book, Long&gt; {\n    Long deleteByBookId(Long bookId);\n}\n</code></pre>\n<p>In this way the exception won't be throwed.</p>\n<p>I haven't tested the solution if your id field is simply called id.</p>\n"},{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679378194,"creation_date":1679362071,"answer_id":75796656,"question_id":39233648,"body_markdown":"You could create a separate exception handler that uses using @ControllerAdvice:\r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n        @ExceptionHandler({ EmptyResultDataAccessException.class })\r\n        public ResponseEntity&lt;Object&gt; handleResourceNotFound(Exception ex, WebRequest req) {\r\n            return new ResponseEntity&lt;Object&gt;(\r\n                ex.getMessage(), new HttpHeaders(), HttpStatus.NOT_FOUND\r\n            );\r\n        }\r\n    }\r\n\r\nAnd you could then simplify your delete endpoint by removing the conditional:\r\n\r\n    @DeleteMapping(&quot;/books/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void deleteBook(@PathVariable Long id) {\r\n        bookRepository.delete(id)\r\n    }\r\n\r\nThe [@ControllerAdvice][1] [approach][2] has the advantage of responding to all controllers, for a unified, application level exception handler. The above handler will by default handle EmptyResultDataExceptions from all controllers.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-exceptionhandler\r\n","title":"JPA EmptyResultDataAccessException handling","body":"<p>You could create a separate exception handler that uses using @ControllerAdvice:</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n    @ExceptionHandler({ EmptyResultDataAccessException.class })\n    public ResponseEntity&lt;Object&gt; handleResourceNotFound(Exception ex, WebRequest req) {\n        return new ResponseEntity&lt;Object&gt;(\n            ex.getMessage(), new HttpHeaders(), HttpStatus.NOT_FOUND\n        );\n    }\n}\n</code></pre>\n<p>And you could then simplify your delete endpoint by removing the conditional:</p>\n<pre><code>@DeleteMapping(&quot;/books/{id}&quot;)\n@ResponseStatus(HttpStatus.NO_CONTENT)\npublic void deleteBook(@PathVariable Long id) {\n    bookRepository.delete(id)\n}\n</code></pre>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\" rel=\"nofollow noreferrer\">@ControllerAdvice</a> <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-exceptionhandler\" rel=\"nofollow noreferrer\">approach</a> has the advantage of responding to all controllers, for a unified, application level exception handler. The above handler will by default handle EmptyResultDataExceptions from all controllers.</p>\n"}],"owner":{"account_id":4660884,"reputation":185,"user_id":3775198,"accept_rate":25,"display_name":"Flopn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9785,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1679378194,"creation_date":1472578130,"question_id":39233648,"body_markdown":"I&#39;m writing a simple library API for a college project. I have a database with books, each with it&#39;s own ID. I&#39;m using Spring Boot to make the service. I have a `BookRepository` which extends `JpaRepository&lt;Book, Long&gt;`, and a service implementation. \r\n  \r\n\r\n    @Service\r\n    public class BookServiceImpl implements BookService{\r\n                \r\n       @Autowired\r\n       private BookRepository bookRepository;\r\n        \r\n       @Async\r\n       @Override\r\n       public void delete (Long id){\r\n           bookRepository.delete(id);\r\n        }\r\n    }\r\n\r\nLater on, a REST controller handles the request:\r\n\r\n    @RestController\r\n    public class BookServiceController{\r\n                    \r\n        @Autowired\r\n        private BookService bookService;\r\n            \r\n        @RequestMapping(value=&quot;books/{id}&quot;, method = RequestMethod.DELETE)\r\n        public ResponseEntity&lt;Book&gt; deleteBook (@PathVariable(&quot;id&quot;) Long id){\r\n            bookService.delete(id);\r\n            return new ResponseEntity&lt;Book&gt;(HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nNow, if I were to delete a Book which is not in the database, for example with an ID of 123, I&#39;d get a EmptyResultDataAccessException thrown. \r\n\r\nMy question is, how and where do I handle the exception, and how do I avoid casting a NullPointerException that way?\r\n\r\nThanks in advance.","title":"JPA EmptyResultDataAccessException handling","body":"<p>I'm writing a simple library API for a college project. I have a database with books, each with it's own ID. I'm using Spring Boot to make the service. I have a <code>BookRepository</code> which extends <code>JpaRepository&lt;Book, Long&gt;</code>, and a service implementation. </p>\n\n<pre><code>@Service\npublic class BookServiceImpl implements BookService{\n\n   @Autowired\n   private BookRepository bookRepository;\n\n   @Async\n   @Override\n   public void delete (Long id){\n       bookRepository.delete(id);\n    }\n}\n</code></pre>\n\n<p>Later on, a REST controller handles the request:</p>\n\n<pre><code>@RestController\npublic class BookServiceController{\n\n    @Autowired\n    private BookService bookService;\n\n    @RequestMapping(value=\"books/{id}\", method = RequestMethod.DELETE)\n    public ResponseEntity&lt;Book&gt; deleteBook (@PathVariable(\"id\") Long id){\n        bookService.delete(id);\n        return new ResponseEntity&lt;Book&gt;(HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>Now, if I were to delete a Book which is not in the database, for example with an ID of 123, I'd get a EmptyResultDataAccessException thrown. </p>\n\n<p>My question is, how and where do I handle the exception, and how do I avoid casting a NullPointerException that way?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679376982,"creation_date":1679376982,"answer_id":75797631,"question_id":75797553,"body_markdown":"`authorizeRequests()` is deprecated and `.antMatchers()` has been removed. Use `.authorizeHttpRequests()` and `.requestMatchers()` instead.\r\n\r\n```java\r\n.authorizeHttpRequests()\r\n.requestMatchers(&quot;/secure/**&quot;).authenticated()\r\n// ...\r\n```","title":"Cannot find antMatchers when using spring-boot-starter-security","body":"<p><code>authorizeRequests()</code> is deprecated and <code>.antMatchers()</code> has been removed. Use <code>.authorizeHttpRequests()</code> and <code>.requestMatchers()</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>.authorizeHttpRequests()\n.requestMatchers(&quot;/secure/**&quot;).authenticated()\n// ...\n</code></pre>\n"}],"owner":{"account_id":25426166,"reputation":337,"user_id":19231322,"display_name":"Arnob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75797631,"answer_count":1,"score":1,"last_activity_date":1679376982,"creation_date":1679376054,"question_id":75797553,"body_markdown":"I&#39;m trying to configure the security policy for spring security. I need some routes to be protected and some to be public. But for test purposes I only have one route called &quot;secure&quot; which needs to be authenticated.\r\n\r\n\r\nBut I am getting this error:\r\n\r\n```\r\nNo candidates found for method call http .sessionManagement() .sessionCreationPolicy(SessionCreationPolicy.STATELESS) .and() .authorizeRequests() .antMatchers(&quot;/secure/**&quot;).\r\n```\r\n\r\nFor ant matchers in my SecurityConfig:\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/secure/**&quot;).authenticated() // Cannot resolve method &#39;antMatchers&#39; in &#39;ExpressionInterceptUrlRegistry&#39;\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .csrf().disable();\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI am using `spring-boot-starter-security` version `3.0.2`. ","title":"Cannot find antMatchers when using spring-boot-starter-security","body":"<p>I'm trying to configure the security policy for spring security. I need some routes to be protected and some to be public. But for test purposes I only have one route called &quot;secure&quot; which needs to be authenticated.</p>\n<p>But I am getting this error:</p>\n<pre><code>No candidates found for method call http .sessionManagement() .sessionCreationPolicy(SessionCreationPolicy.STATELESS) .and() .authorizeRequests() .antMatchers(&quot;/secure/**&quot;).\n</code></pre>\n<p>For ant matchers in my SecurityConfig:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\n\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        http\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/secure/**&quot;).authenticated() // Cannot resolve method 'antMatchers' in 'ExpressionInterceptUrlRegistry'\n                .anyRequest().permitAll()\n                .and()\n                .csrf().disable();\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>I am using <code>spring-boot-starter-security</code> version <code>3.0.2</code>.</p>\n"},{"tags":["java","spring","spring-boot","rx-java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1679399496,"post_id":75742180,"comment_id":133711281,"body_markdown":"Use `takeUntil` with a `timer(120, MINUTES)` in your flow.","body":"Use <code>takeUntil</code> with a <code>timer(120, MINUTES)</code> in your flow."}],"owner":{"account_id":18420170,"reputation":11,"user_id":13418005,"display_name":"Omkar123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679376943,"creation_date":1678869018,"question_id":75742180,"body_markdown":"I am very new to Rx java programming ,I am want to develop a API using Rx java programming which should stop execution after a certain time for example lets assume after 120 minutes. How I can achieve this using RxJava ?\r\n\r\nI have tried using time out but it did not work","title":"How to Stop Execution After a Certain Time using RxJava","body":"<p>I am very new to Rx java programming ,I am want to develop a API using Rx java programming which should stop execution after a certain time for example lets assume after 120 minutes. How I can achieve this using RxJava ?</p>\n<p>I have tried using time out but it did not work</p>\n"},{"tags":["java","sql","postgresql","spring-boot","hibernate"],"owner":{"account_id":28067405,"reputation":1,"user_id":21440578,"display_name":"svapp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679376145,"creation_date":1679331934,"question_id":75793248,"body_markdown":"I have several constraints in my database (for example unique constraint on field) in case of ConstraintViolationException i want to return response with unique code and message, and i want to know the best way to handle ConstraintViolationException and parse each constraint in database. I want client to know which constraint was violated. Which is the best way to do it?\r\n\r\nHere is my response class in case  of exceptions:\r\n\r\n```java\r\n/**\r\n * Response in case of an error\r\n */\r\n@Getter\r\n@AllArgsConstructor\r\n@ParametersAreNonnullByDefault\r\npublic class ApiError {\r\n\r\n    int code;\r\n\r\n    String message;\r\n\r\n    @Nullable\r\n    private final List&lt;ValidationErrors&gt; errors;\r\n}\r\n```\r\n\r\nHere is exception handler:\r\n\r\n```java\r\n@Order(value = 0)\r\n@ControllerAdvice\r\npublic class BadRequestExceptionAdvice {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(BadRequestExceptionAdvice.class);\r\n\r\n    @ExceptionHandler({DataIntegrityViolationException.class})\r\n    public ResponseEntity&lt;ApiError&gt; dataIntegrityViolationException(DataIntegrityViolationException ex) {\r\n\r\n        ApiError error;\r\n\r\n        if (ex.getCause() instanceof org.hibernate.exception.ConstraintViolationException) {\r\n            error = new ApiError(\r\n                    ErrorCode.CONSTRAINT_ERROR.getCode(),\r\n                    &quot;Property value exception&quot;,\r\n                    Collections.emptyList());\r\n\r\n            log.error(&quot;Property value exception&quot;, ex.getCause());\r\n\r\n            return badRequest().body(error);\r\n        }\r\n\r\n        if (ex.getCause() instanceof PropertyValueException) {\r\n            error = new ApiError(\r\n                    ErrorCode.WRONG_PROPERTY_ERROR.getCode(),\r\n                    &quot;Property value exception&quot;,\r\n                    Collections.emptyList());\r\n\r\n            log.error(&quot;Property value exception&quot;, ex.getCause());\r\n\r\n            return badRequest().body(error);\r\n        }\r\n\r\n        if (ex.getCause() instanceof DataException) {\r\n            error = new ApiError(\r\n                    ErrorCode.DATABASE_DATA_ERROR.getCode(),\r\n                    &quot;Database data exception&quot;,\r\n                    Collections.emptyList());\r\n\r\n            log.error(&quot;Database data exception&quot;, ex.getCause());\r\n\r\n            return badRequest().body(error);\r\n        }\r\n\r\n        error = new ApiError(\r\n                ErrorCode.DATA_INTEGRITY_VIOLATION_ERROR.getCode(),\r\n                &quot;Database request handling error&quot;,\r\n                Collections.emptyList());\r\n\r\n        log.error(&quot;Database request handling error:&quot;, ex);\r\n\r\n        return badRequest().body(error);\r\n    }\r\n}\r\n```\r\n\r\nHere is ErrorCode enum:\r\n\r\n```java\r\npublic enum ErrorCode {\r\n\r\n    //Database data integrity violation\r\n    DATA_INTEGRITY_VIOLATION_ERROR(4400),\r\n    DATABASE_CONSTRAINTS_VIOLATION_ERROR(4401),\r\n    WRONG_PROPERTY_ERROR(4402),\r\n    DATABASE_DATA_ERROR(4403),\r\n    SUBSCRIPTION_CONSUMER_GROUP_ERROR(4404),\r\n    EVENT_TOPIC_NAME_DOMAIN_ID_ERROR(4405);\r\n\r\n    @Getter\r\n    private final int code;\r\n\r\n    ErrorCode(int code) {\r\n        this.code = code;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have two solutions.\r\n\r\n1.\r\n\r\nParse ConstraintViolationException in service and return ApiError and use this service in BadRequestExceptionAdvice class\r\n\r\n\r\nService class:\r\n\r\n```java\r\n@Service\r\npublic class ConstraintViolationExceptionMappingService {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ConstraintViolationExceptionMappingService.class);\r\n\r\n    public ApiError mapConstrainToSpecifiedError(ConstraintViolationException exception) {\r\n        ConstraintViolationName constraint = ConstraintViolationName\r\n                .findByName(exception.getConstraintName())\r\n                .orElse(ConstraintViolationName.EDMS_DEFAULT_CONSTRAINT);\r\n\r\n        switch (constraint) {\r\n            case SUBSCRIPTION_CONSUMER_GROUP:\r\n                log.error(&quot;Database constraint subscription_consumer_group exception&quot;, exception.getCause());\r\n\r\n                return new ApiError(\r\n                        ErrorCode.SUBSCRIPTION_CONSUMER_GROUP_ERROR.getCode(),\r\n                        &quot;Consumer-group must correspond only one event&quot;,\r\n                        Collections.emptyList());\r\n\r\n            case TOPIC_NAME_DOMAIN_ID:\r\n                log.error(&quot;Database constraint topic_name_domain_id exception&quot;, exception.getCause());\r\n\r\n                return new ApiError(\r\n                        ErrorCode.DATABASE_CONSTRAINT_EDMS_UI_EVENT_TOPIC_NAME_DOMAIN_ID_ERROR.getCode(),\r\n                        &quot;Topic must correspond only one domain&quot;,\r\n                        Collections.emptyList());\r\n\r\n            default:\r\n                log.error(&quot;Database constraints violation exception&quot;, exception.getCause());\r\n\r\n                return new ApiError(\r\n                        ErrorCode.DATABASE_CONSTRAINTS_VIOLATION_ERROR.getCode(),\r\n                        &quot;Bad request exception&quot;,\r\n                        Collections.emptyList());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nConstrains enum:\r\n\r\n```java\r\npublic enum ConstraintViolationName {\r\n\r\n    SUBSCRIPTION_CONSUMER_GROUP(&quot;subscription_consumer_group&quot;),\r\n\r\n    TOPIC_NAME_DOMAIN_ID(&quot;topic_name_domain_id&quot;),\r\n\r\n    /**\r\n     * Default value in case of we don&#39;t have constraint declared in enum\r\n     */\r\n    DEFAULT_CONSTRAINT(&quot;default_constraint&quot;);\r\n\r\n    /**\r\n     * Database constraint name\r\n     */\r\n    private final String name;\r\n\r\n    ConstraintViolationName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    private static final Map&lt;String, ConstraintViolationName&gt; MAP = Arrays.stream(ConstraintViolationName.values())\r\n            .collect(Collectors.toMap(\r\n                    f -&gt; f.getName().toLowerCase(Locale.ROOT),\r\n                    x -&gt; x\r\n            ));\r\n\r\n    @NonNull\r\n    public static Optional&lt;ConstraintViolationName&gt; findByName(String name) {\r\n        return Optional.ofNullable(MAP.get(name.toLowerCase(Locale.ROOT)));\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\n------------------------------------------------\r\n2.\r\n\r\nGet SQLState from ConstraintViolationException and use it as error code in ApiError class.\r\nI know SQLState in case of ConstraintViolationException is 23XXX, but I don&#39;t know how each constraint violation get its code and will it always be the same even after database restart.\r\n\r\n```java\r\n@Order(value = 0)\r\n@ControllerAdvice\r\npublic class BadRequestExceptionAdvice {\r\n\r\n    @ExceptionHandler({DataIntegrityViolationException.class})\r\n    public ResponseEntity&lt;ApiError&gt; dataIntegrityViolationException(DataIntegrityViolationException ex) {\r\n\r\n        ApiError error;\r\n\r\n        if (ex.getCause() instanceof org.hibernate.exception.ConstraintViolationException) {\r\n            org.hibernate.exception.ConstraintViolationException constraintViolationException = (org.hibernate.exception.ConstraintViolationException) ex.getCause();\r\n\r\n            error = new ApiError(\r\n                    Integer.parseInt(constraintViolationException.getSQLState()),\r\n                    &quot;Database constraint exception&quot;,\r\n                    Collections.emptyList());\r\n\r\n            log.error(&quot;Database constraint exception&quot;);\r\n\r\n            return badRequest().body(error);\r\n        }\r\n\r\n/**\r\nother checks\r\n*/\r\n    }\r\n}\r\n```\r\n----------------------------------------------------\r\n\r\nI want to know the best way to parse ConstraintViolationException, but I don&#39;t like both of my solutions. What can you recommend?\r\n\r\nThanks anyway, I hope I made my point clear.\r\n\r\n","title":"How to handle org.hibernate.exception.ConstraintViolationException in rest api?","body":"<p>I have several constraints in my database (for example unique constraint on field) in case of ConstraintViolationException i want to return response with unique code and message, and i want to know the best way to handle ConstraintViolationException and parse each constraint in database. I want client to know which constraint was violated. Which is the best way to do it?</p>\n<p>Here is my response class in case  of exceptions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Response in case of an error\n */\n@Getter\n@AllArgsConstructor\n@ParametersAreNonnullByDefault\npublic class ApiError {\n\n    int code;\n\n    String message;\n\n    @Nullable\n    private final List&lt;ValidationErrors&gt; errors;\n}\n</code></pre>\n<p>Here is exception handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Order(value = 0)\n@ControllerAdvice\npublic class BadRequestExceptionAdvice {\n\n    private static final Logger log = LoggerFactory.getLogger(BadRequestExceptionAdvice.class);\n\n    @ExceptionHandler({DataIntegrityViolationException.class})\n    public ResponseEntity&lt;ApiError&gt; dataIntegrityViolationException(DataIntegrityViolationException ex) {\n\n        ApiError error;\n\n        if (ex.getCause() instanceof org.hibernate.exception.ConstraintViolationException) {\n            error = new ApiError(\n                    ErrorCode.CONSTRAINT_ERROR.getCode(),\n                    &quot;Property value exception&quot;,\n                    Collections.emptyList());\n\n            log.error(&quot;Property value exception&quot;, ex.getCause());\n\n            return badRequest().body(error);\n        }\n\n        if (ex.getCause() instanceof PropertyValueException) {\n            error = new ApiError(\n                    ErrorCode.WRONG_PROPERTY_ERROR.getCode(),\n                    &quot;Property value exception&quot;,\n                    Collections.emptyList());\n\n            log.error(&quot;Property value exception&quot;, ex.getCause());\n\n            return badRequest().body(error);\n        }\n\n        if (ex.getCause() instanceof DataException) {\n            error = new ApiError(\n                    ErrorCode.DATABASE_DATA_ERROR.getCode(),\n                    &quot;Database data exception&quot;,\n                    Collections.emptyList());\n\n            log.error(&quot;Database data exception&quot;, ex.getCause());\n\n            return badRequest().body(error);\n        }\n\n        error = new ApiError(\n                ErrorCode.DATA_INTEGRITY_VIOLATION_ERROR.getCode(),\n                &quot;Database request handling error&quot;,\n                Collections.emptyList());\n\n        log.error(&quot;Database request handling error:&quot;, ex);\n\n        return badRequest().body(error);\n    }\n}\n</code></pre>\n<p>Here is ErrorCode enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum ErrorCode {\n\n    //Database data integrity violation\n    DATA_INTEGRITY_VIOLATION_ERROR(4400),\n    DATABASE_CONSTRAINTS_VIOLATION_ERROR(4401),\n    WRONG_PROPERTY_ERROR(4402),\n    DATABASE_DATA_ERROR(4403),\n    SUBSCRIPTION_CONSUMER_GROUP_ERROR(4404),\n    EVENT_TOPIC_NAME_DOMAIN_ID_ERROR(4405);\n\n    @Getter\n    private final int code;\n\n    ErrorCode(int code) {\n        this.code = code;\n    }\n}\n</code></pre>\n<p>I have two solutions.</p>\n<p>1.</p>\n<p>Parse ConstraintViolationException in service and return ApiError and use this service in BadRequestExceptionAdvice class</p>\n<p>Service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ConstraintViolationExceptionMappingService {\n\n    private static final Logger log = LoggerFactory.getLogger(ConstraintViolationExceptionMappingService.class);\n\n    public ApiError mapConstrainToSpecifiedError(ConstraintViolationException exception) {\n        ConstraintViolationName constraint = ConstraintViolationName\n                .findByName(exception.getConstraintName())\n                .orElse(ConstraintViolationName.EDMS_DEFAULT_CONSTRAINT);\n\n        switch (constraint) {\n            case SUBSCRIPTION_CONSUMER_GROUP:\n                log.error(&quot;Database constraint subscription_consumer_group exception&quot;, exception.getCause());\n\n                return new ApiError(\n                        ErrorCode.SUBSCRIPTION_CONSUMER_GROUP_ERROR.getCode(),\n                        &quot;Consumer-group must correspond only one event&quot;,\n                        Collections.emptyList());\n\n            case TOPIC_NAME_DOMAIN_ID:\n                log.error(&quot;Database constraint topic_name_domain_id exception&quot;, exception.getCause());\n\n                return new ApiError(\n                        ErrorCode.DATABASE_CONSTRAINT_EDMS_UI_EVENT_TOPIC_NAME_DOMAIN_ID_ERROR.getCode(),\n                        &quot;Topic must correspond only one domain&quot;,\n                        Collections.emptyList());\n\n            default:\n                log.error(&quot;Database constraints violation exception&quot;, exception.getCause());\n\n                return new ApiError(\n                        ErrorCode.DATABASE_CONSTRAINTS_VIOLATION_ERROR.getCode(),\n                        &quot;Bad request exception&quot;,\n                        Collections.emptyList());\n        }\n    }\n}\n</code></pre>\n<p>Constrains enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum ConstraintViolationName {\n\n    SUBSCRIPTION_CONSUMER_GROUP(&quot;subscription_consumer_group&quot;),\n\n    TOPIC_NAME_DOMAIN_ID(&quot;topic_name_domain_id&quot;),\n\n    /**\n     * Default value in case of we don't have constraint declared in enum\n     */\n    DEFAULT_CONSTRAINT(&quot;default_constraint&quot;);\n\n    /**\n     * Database constraint name\n     */\n    private final String name;\n\n    ConstraintViolationName(String name) {\n        this.name = name;\n    }\n\n    private static final Map&lt;String, ConstraintViolationName&gt; MAP = Arrays.stream(ConstraintViolationName.values())\n            .collect(Collectors.toMap(\n                    f -&gt; f.getName().toLowerCase(Locale.ROOT),\n                    x -&gt; x\n            ));\n\n    @NonNull\n    public static Optional&lt;ConstraintViolationName&gt; findByName(String name) {\n        return Optional.ofNullable(MAP.get(name.toLowerCase(Locale.ROOT)));\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<hr />\n<ol start=\"2\">\n<li></li>\n</ol>\n<p>Get SQLState from ConstraintViolationException and use it as error code in ApiError class.\nI know SQLState in case of ConstraintViolationException is 23XXX, but I don't know how each constraint violation get its code and will it always be the same even after database restart.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Order(value = 0)\n@ControllerAdvice\npublic class BadRequestExceptionAdvice {\n\n    @ExceptionHandler({DataIntegrityViolationException.class})\n    public ResponseEntity&lt;ApiError&gt; dataIntegrityViolationException(DataIntegrityViolationException ex) {\n\n        ApiError error;\n\n        if (ex.getCause() instanceof org.hibernate.exception.ConstraintViolationException) {\n            org.hibernate.exception.ConstraintViolationException constraintViolationException = (org.hibernate.exception.ConstraintViolationException) ex.getCause();\n\n            error = new ApiError(\n                    Integer.parseInt(constraintViolationException.getSQLState()),\n                    &quot;Database constraint exception&quot;,\n                    Collections.emptyList());\n\n            log.error(&quot;Database constraint exception&quot;);\n\n            return badRequest().body(error);\n        }\n\n/**\nother checks\n*/\n    }\n}\n</code></pre>\n<hr />\n<p>I want to know the best way to parse ConstraintViolationException, but I don't like both of my solutions. What can you recommend?</p>\n<p>Thanks anyway, I hope I made my point clear.</p>\n"},{"tags":["java","swing","awt","screenshot","x11"],"comments":[{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1679374608,"post_id":75797413,"comment_id":133706072,"body_markdown":"did you try adding following  java parameter  ? -Djava.awt.headless=true&quot;","body":"did you try adding following  java parameter  ? -Djava.awt.headless=true&quot;"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679374894,"post_id":75797413,"comment_id":133706107,"body_markdown":"Does it have a video card?  Or screen attached?","body":"Does it have a video card?  Or screen attached?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679375002,"post_id":75797413,"comment_id":133706120,"body_markdown":"[Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris](https://stackoverflow.com/questions/21131855/could-not-initialize-class-sun-awt-x11graphicsenvironment-on-solaris)?","body":"<a href=\"https://stackoverflow.com/questions/21131855/could-not-initialize-class-sun-awt-x11graphicsenvironment-on-solaris\">Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris</a>?"},{"owner":{"account_id":21132016,"reputation":9,"user_id":15536154,"display_name":"pawan siliwal"},"score":0,"creation_date":1679393638,"post_id":75797413,"comment_id":133709773,"body_markdown":"@AnandDwivedi Djava.awt.headless=true &#160;it is giving headless environment exception","body":"@AnandDwivedi Djava.awt.headless=true  it is giving headless environment exception"},{"owner":{"account_id":21132016,"reputation":9,"user_id":15536154,"display_name":"pawan siliwal"},"score":0,"creation_date":1679393762,"post_id":75797413,"comment_id":133709812,"body_markdown":"@MadProgrammer No","body":"@MadProgrammer No"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679414892,"post_id":75797413,"comment_id":133716321,"body_markdown":"How did you install Java on the Linux server?  What distro are you running?  Ubuntu? RHEL?  Debian?  What version.","body":"How did you install Java on the Linux server?  What distro are you running?  Ubuntu? RHEL?  Debian?  What version."}],"owner":{"account_id":21132016,"reputation":9,"user_id":15536154,"display_name":"pawan siliwal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679374829,"creation_date":1679374132,"question_id":75797413,"body_markdown":"I am using linux server but i get error like : java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment\r\n\r\nI take a screenshot using java.awt.robot class\r\n\r\nHere is my code :\r\n\r\n\r\n    import java.awt.Rectangle;\r\n    import java.awt.Robot;\r\n    import java.awt.Toolkit;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class DesktopScreenshot {\r\n        public static void main(String[] args) throws Exception {\r\n            Robot robot = new Robot();\r\n            Rectangle screenShot = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\r\n            BufferedImage screenFullImage = robot.createScreenCapture(screenShot);\r\n            File screenshotFile = new File(&quot;screenshot.png&quot;);\r\n            ImageIO.write(screenFullImage, &quot;png&quot;, screenshotFile);\r\n        }\r\n    }\r\n\r\nSet headless Property : System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;) then i get java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment\r\n\r\nand when i set this Property this to true it gives &quot;headless environment exception&quot;","title":"How to Use in sun.awt.X11GraphicsEnvironment on linux server?","body":"<p>I am using linux server but i get error like : java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment</p>\n<p>I take a screenshot using java.awt.robot class</p>\n<p>Here is my code :</p>\n<pre><code>import java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport javax.imageio.ImageIO;\n\npublic class DesktopScreenshot {\n    public static void main(String[] args) throws Exception {\n        Robot robot = new Robot();\n        Rectangle screenShot = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\n        BufferedImage screenFullImage = robot.createScreenCapture(screenShot);\n        File screenshotFile = new File(&quot;screenshot.png&quot;);\n        ImageIO.write(screenFullImage, &quot;png&quot;, screenshotFile);\n    }\n}\n</code></pre>\n<p>Set headless Property : System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;) then i get java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment</p>\n<p>and when i set this Property this to true it gives &quot;headless environment exception&quot;</p>\n"},{"tags":["java","android","apk","dex2jar"],"answers":[{"tags":[],"owner":{"account_id":12250366,"reputation":2152,"user_id":8940931,"accept_rate":56,"display_name":"Simeon Ikudabo"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1532540808,"creation_date":1532540808,"answer_id":51524907,"question_id":51524803,"body_markdown":"I found the solution. If anyone is using dex2jar version 2.0 or higher, use this command in windows:\r\n\r\n    C:\\Users\\Zookeeper\\Downloads\\dex2jar-2.0&gt;d2j-dex2jar classes.dex dex2jar classes.dex -&gt;.\\classes-dex2jar.jar\r\n\r\nI now have a jar file from my apk\r\n\r\n","title":"dex2jar is not recognized as an internal or external command, operable program or batch file","body":"<p>I found the solution. If anyone is using dex2jar version 2.0 or higher, use this command in windows:</p>\n\n<pre><code>C:\\Users\\Zookeeper\\Downloads\\dex2jar-2.0&gt;d2j-dex2jar classes.dex dex2jar classes.dex -&gt;.\\classes-dex2jar.jar\n</code></pre>\n\n<p>I now have a jar file from my apk</p>\n"},{"tags":[],"owner":{"account_id":18384715,"reputation":65,"user_id":13392041,"display_name":"Debarghya Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673979240,"creation_date":1673935815,"answer_id":75142535,"question_id":51524803,"body_markdown":"If the above solution doesn&#39;t work, try this:\r\n\r\n1. Copy your .apk file into the dex2jar folder.\r\n2. Open terminal/cmd in that folder.\r\n3. Enter this command `d2j-dex2jar.bat nameOfYourApkFile.apk`\r\n\r\nThis way you will get a .jar file generated from the .apk file in that folder.","title":"dex2jar is not recognized as an internal or external command, operable program or batch file","body":"<p>If the above solution doesn't work, try this:</p>\n<ol>\n<li>Copy your .apk file into the dex2jar folder.</li>\n<li>Open terminal/cmd in that folder.</li>\n<li>Enter this command <code>d2j-dex2jar.bat nameOfYourApkFile.apk</code></li>\n</ol>\n<p>This way you will get a .jar file generated from the .apk file in that folder.</p>\n"}],"owner":{"account_id":12250366,"reputation":2152,"user_id":8940931,"accept_rate":56,"display_name":"Simeon Ikudabo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5754,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51524907,"answer_count":2,"score":3,"last_activity_date":1679374598,"creation_date":1532540422,"question_id":51524803,"body_markdown":"I am trying to convert one of my old APK&#39;s to a jar. \r\n1. I downloaded apk tool in order to get the classes.dex file from my apk.\r\n2. I downloaded dex2 jar and in the command line entered:\r\n\r\n    C:\\Users\\myLaptop\\Downloads\\dex2jar-2.0&gt;dex2jar classes.dex\r\n\r\nThis lead to this Error:\r\n       \r\n    dex2jar is not recognized as an internal or external command, operable program or batch file.\r\nI am using a windows machine. I saw other questions posted on the issue on this site, when I tried them they didn&#39;t work. One solution was to use dex2jar version 0.0.9.15, but I got the same error when attempting to use that version. \r\n","title":"dex2jar is not recognized as an internal or external command, operable program or batch file","body":"<p>I am trying to convert one of my old APK's to a jar. \n1. I downloaded apk tool in order to get the classes.dex file from my apk.\n2. I downloaded dex2 jar and in the command line entered:</p>\n\n<pre><code>C:\\Users\\myLaptop\\Downloads\\dex2jar-2.0&gt;dex2jar classes.dex\n</code></pre>\n\n<p>This lead to this Error:</p>\n\n<pre><code>dex2jar is not recognized as an internal or external command, operable program or batch file.\n</code></pre>\n\n<p>I am using a windows machine. I saw other questions posted on the issue on this site, when I tried them they didn't work. One solution was to use dex2jar version 0.0.9.15, but I got the same error when attempting to use that version. </p>\n"},{"tags":["java","android","gradle","aar","android-gradle-3.0"],"owner":{"account_id":13552285,"reputation":159,"user_id":9776821,"display_name":"Jatin Krishna Habibkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679373863,"creation_date":1679373863,"question_id":75797387,"body_markdown":"i have this code in build.gradle file\r\n```\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src/main/java&#39;]\r\n        }\r\n    }\r\n}\r\ntask runAppDatabase( dependsOn: &#39;classes&#39;, type: JavaExec) {\r\n    mainClass.set(&quot;com.example.card.wallet.database.AppDatabase&quot;)\r\n    classpath = sourceSets.main.runtimeClasspath\r\n}\r\n\r\ndependencies {\r\n    compileOnly fileTree(dir: &#39;libs&#39;, include: [&#39;*.aar&#39;])\r\n    implementation &#39;com.google.code.gson:gson:2.10.1&#39;\r\n    implementation &#39;javax.xml.bind:jaxb-api:2.4.0-b180830.0359&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n}\r\n\r\n```\r\n\r\nwhen i am running runAppDatabase task it is not detecting file from aar file and throwing error method not found which is present in aar file using\r\n\r\ni tried pasting the absolute path of aar file but did&#39;nt get any good result","title":"aar file is not identified by the task in gradle 7.6","body":"<p>i have this code in build.gradle file</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java']\n        }\n    }\n}\ntask runAppDatabase( dependsOn: 'classes', type: JavaExec) {\n    mainClass.set(&quot;com.example.card.wallet.database.AppDatabase&quot;)\n    classpath = sourceSets.main.runtimeClasspath\n}\n\ndependencies {\n    compileOnly fileTree(dir: 'libs', include: ['*.aar'])\n    implementation 'com.google.code.gson:gson:2.10.1'\n    implementation 'javax.xml.bind:jaxb-api:2.4.0-b180830.0359'\n    testImplementation 'junit:junit:4.13.2'\n}\n\n</code></pre>\n<p>when i am running runAppDatabase task it is not detecting file from aar file and throwing error method not found which is present in aar file using</p>\n<p>i tried pasting the absolute path of aar file but did'nt get any good result</p>\n"},{"tags":["java","android","android-studio","android-scrollview","android-nestedscrollview"],"comments":[{"owner":{"account_id":20597863,"reputation":113,"user_id":15119767,"display_name":"REInVent"},"score":0,"creation_date":1679380829,"post_id":75797382,"comment_id":133706817,"body_markdown":"why exactly is this running on an iOS simulator?","body":"why exactly is this running on an iOS simulator?"},{"owner":{"account_id":16952965,"reputation":31,"user_id":12262056,"display_name":"Pasan Induwara"},"score":0,"creation_date":1679385762,"post_id":75797382,"comment_id":133707742,"body_markdown":"@REInVent its just the figma design","body":"@REInVent its just the figma design"},{"owner":{"account_id":20597863,"reputation":113,"user_id":15119767,"display_name":"REInVent"},"score":0,"creation_date":1679386209,"post_id":75797382,"comment_id":133707844,"body_markdown":"and a standard collapsible toolbar isn&#39;t suitable?","body":"and a standard collapsible toolbar isn&#39;t suitable?"},{"owner":{"account_id":20597863,"reputation":113,"user_id":15119767,"display_name":"REInVent"},"score":0,"creation_date":1679386235,"post_id":75797382,"comment_id":133707849,"body_markdown":"https://developer.android.com/reference/com/google/android/material/appbar/CollapsingToolbarLayout","body":"<a href=\"https://developer.android.com/reference/com/google/android/material/appbar/CollapsingToolbarLayout\" rel=\"nofollow noreferrer\">developer.android.com/reference/com/google/android/material/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":16952965,"reputation":31,"user_id":12262056,"display_name":"Pasan Induwara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679373773,"creation_date":1679373773,"question_id":75797382,"body_markdown":"[![This is the initial view when screen opened][1]][1]\r\n\r\n[![This should be the view after scrolling down and soon after image is passed it should locked and bottom should be able to scroll separately][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/09XM9.png\r\n  [2]: https://i.stack.imgur.com/1XOeU.png\r\n\r\n - *1st Image shows initial view when screen opened* \r\n - *2nd Image should be    the view after scrolling down and soon after\r\n   image is passed it    should locked and bottom should be able to\r\n   scroll separately*\r\n\r\nWe have used customised nested scrollview component that has the ability to disable scroll. We listen to the scroll position of main view using onScrollChanged. \r\n\r\nLockableNestedScrollView component\r\n\r\n        public class LockableNestedScrollView extends NestedScrollView {\r\n        // by default is scrollable\r\n        private boolean scrollable = true;\r\n    \r\n        public LockableNestedScrollView(@NonNull Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        public LockableNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        public LockableNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onTouchEvent(MotionEvent ev) {\r\n            return scrollable &amp;&amp; super.onTouchEvent(ev);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onInterceptTouchEvent(MotionEvent ev) {\r\n            return scrollable &amp;&amp; super.onInterceptTouchEvent(ev);\r\n        }\r\n    \r\n        public void setScrollingEnabled(boolean enabled) {\r\n            scrollable = enabled;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nWe use this to listen to scroll postion\r\n\r\n        scroll_view_01.getViewTreeObserver().addOnScrollChangedListener(new ViewTreeObserver.OnScrollChangedListener() {\r\n            @Override public void onScrollChanged() {\r\n                System.out.println(&quot;scroll Y :&quot;+scroll_view_01.getScrollY());\r\n                if(scroll_view_01.getScrollY()&gt;=350){ \r\n                    scroll_view_01.scrollTo(0,350);\r\n\r\n                scroll_view_01.setScrollingEnabled(false);\r\n                }  \r\n            }\r\n        });\r\n\r\nBut the textview is not scrollable on bottom view.\r\n\r\nHow to make bottom content scrollable after locking the main scrollview?\r\n\r\n","title":"Multiple Scrollable views android","body":"<p><a href=\"https://i.stack.imgur.com/09XM9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/09XM9.png\" alt=\"This is the initial view when screen opened\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1XOeU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1XOeU.png\" alt=\"This should be the view after scrolling down and soon after image is passed it should locked and bottom should be able to scroll separately\" /></a></p>\n<ul>\n<li><em>1st Image shows initial view when screen opened</em></li>\n<li><em>2nd Image should be    the view after scrolling down and soon after\nimage is passed it    should locked and bottom should be able to\nscroll separately</em></li>\n</ul>\n<p>We have used customised nested scrollview component that has the ability to disable scroll. We listen to the scroll position of main view using onScrollChanged.</p>\n<p>LockableNestedScrollView component</p>\n<pre><code>    public class LockableNestedScrollView extends NestedScrollView {\n    // by default is scrollable\n    private boolean scrollable = true;\n\n    public LockableNestedScrollView(@NonNull Context context) {\n        super(context);\n    }\n\n    public LockableNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public LockableNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent ev) {\n        return scrollable &amp;&amp; super.onTouchEvent(ev);\n    }\n\n    @Override\n    public boolean onInterceptTouchEvent(MotionEvent ev) {\n        return scrollable &amp;&amp; super.onInterceptTouchEvent(ev);\n    }\n\n    public void setScrollingEnabled(boolean enabled) {\n        scrollable = enabled;\n    }\n\n\n}\n</code></pre>\n<p>We use this to listen to scroll postion</p>\n<pre><code>    scroll_view_01.getViewTreeObserver().addOnScrollChangedListener(new ViewTreeObserver.OnScrollChangedListener() {\n        @Override public void onScrollChanged() {\n            System.out.println(&quot;scroll Y :&quot;+scroll_view_01.getScrollY());\n            if(scroll_view_01.getScrollY()&gt;=350){ \n                scroll_view_01.scrollTo(0,350);\n\n            scroll_view_01.setScrollingEnabled(false);\n            }  \n        }\n    });\n</code></pre>\n<p>But the textview is not scrollable on bottom view.</p>\n<p>How to make bottom content scrollable after locking the main scrollview?</p>\n"},{"tags":["javascript","java","selenium-webdriver","selenium-chromedriver","bdd"],"owner":{"account_id":17082765,"reputation":39,"user_id":12360804,"display_name":"Bhumit Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679372014,"creation_date":1679307775,"question_id":75789095,"body_markdown":"I&#39;m facing webpage refreshing issue at one my web page.\r\n\r\nweb page is start getting refreshing automatically without even calling driver.refresh() method.\r\nand because of that sequence of event is break and test case gets failed.\r\n\r\ncan anyone please help me out? \r\n\r\nhere is the feature file.\r\n\r\n   \r\n\r\n     Scenario Outline: Verify the successfully XXX devices\r\n  1.  Given user &quot;&lt;emailAddress&gt;&quot; is in stations page\r\n  2.  And user search for station with gateway serial number for DEV &quot;&lt;devGatewaySerialNumber&gt;&quot; or QA &quot;&lt;qaGatewaySerialNumber&gt;&quot;\r\n  3.  And user click on station        \r\n  4.  And clicks on devices side navigation tab\r\n  5.  And user clicks on add button on add device page\r\n\r\nhere issue at line no 4 in feature file.\r\nafter clicking on the &quot;devices side&quot; page is getting reload automatically and before reaching at next step(line no: 5).\r\n\r\nPlease check below step def file and actual code.\r\n\r\nstep def file:\r\n\r\n    @And(&quot;^clicks on devices side navigation tab$&quot;)\r\n\tpublic void clickDevicesSideNavigationTab() {\r\n\t\tstationPage.clickTheStationsDevicesTab();\r\n\t}\r\n\r\nactual implementation:\r\n\r\n    public void clickTheStationsDevicesTab() {\r\n\t\tstationDevicesTab.click();\r\n\t}\r\n\r\n\r\nFYI, automation framework which is design with cucumber + BDD approch.\r\n","title":"Webpage is refreshing automatically without calling driver.refresh() in code","body":"<p>I'm facing webpage refreshing issue at one my web page.</p>\n<p>web page is start getting refreshing automatically without even calling driver.refresh() method.\nand because of that sequence of event is break and test case gets failed.</p>\n<p>can anyone please help me out?</p>\n<p>here is the feature file.</p>\n<pre><code> Scenario Outline: Verify the successfully XXX devices\n</code></pre>\n<ol>\n<li>Given user &quot;&quot; is in stations page</li>\n<li>And user search for station with gateway serial number for DEV &quot;&quot; or QA &quot;&quot;</li>\n<li>And user click on station</li>\n<li>And clicks on devices side navigation tab</li>\n<li>And user clicks on add button on add device page</li>\n</ol>\n<p>here issue at line no 4 in feature file.\nafter clicking on the &quot;devices side&quot; page is getting reload automatically and before reaching at next step(line no: 5).</p>\n<p>Please check below step def file and actual code.</p>\n<p>step def file:</p>\n<pre><code>@And(&quot;^clicks on devices side navigation tab$&quot;)\npublic void clickDevicesSideNavigationTab() {\n    stationPage.clickTheStationsDevicesTab();\n}\n</code></pre>\n<p>actual implementation:</p>\n<pre><code>public void clickTheStationsDevicesTab() {\n    stationDevicesTab.click();\n}\n</code></pre>\n<p>FYI, automation framework which is design with cucumber + BDD approch.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9433,"page":559,"page_size":100}
