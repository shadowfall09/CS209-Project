{"items":[{"tags":["java","maven","java-9","jdeps","maven-jdeps-plugin"],"comments":[{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1507629088,"post_id":46662286,"comment_id":80275577,"body_markdown":"How did you make the connection from your error message to Log4J being an MR-JAR and that that&#39;s causing the problem?","body":"How did you make the connection from your error message to Log4J being an MR-JAR and that that&#39;s causing the problem?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1507629460,"post_id":46662286,"comment_id":80275834,"body_markdown":"@Nicolai Complete logs in the question now, and to add to it `INFO` is the level where its reading that `Error`!! (something is messed for sure)","body":"@Nicolai Complete logs in the question now, and to add to it <code>INFO</code> is the level where its reading that <code>Error</code>!! (something is messed for sure)"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1507629694,"post_id":46662286,"comment_id":80275976,"body_markdown":"Ah, that looks as if JDeps creates an error message that the plugin picks up and accidentally logs as INFO. Maybe. Try to get the message by simply executing JDeps on the Log4J-JAR.","body":"Ah, that looks as if JDeps creates an error message that the plugin picks up and accidentally logs as INFO. Maybe. Try to get the message by simply executing JDeps on the Log4J-JAR."}],"answers":[{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1509173533,"creation_date":1509173533,"answer_id":46987097,"question_id":46662286,"body_markdown":"This is user error. Please enter jdeps -? on the command line. You will see you need to enter \r\n\r\n    jdeps --multi-release 9 ~/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar","title":"Error: log4j-api-2.9.0.jar is a multi-release jar file but --multi-release option is not set","body":"<p>This is user error. Please enter jdeps -? on the command line. You will see you need to enter </p>\n\n<pre><code>jdeps --multi-release 9 ~/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1559316628,"creation_date":1559316628,"answer_id":56397912,"question_id":46662286,"body_markdown":"Regarding the plugin itself, following configuration works.\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jdeps-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jdkinternals&lt;/goal&gt; &lt;!-- verify main classes --&gt;\r\n              &lt;goal&gt;test-jdkinternals&lt;/goal&gt; &lt;!-- verify test classes --&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;multiRelease&gt;9&lt;/multiRelease&gt; &lt;!-- Check this out --&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;","title":"Error: log4j-api-2.9.0.jar is a multi-release jar file but --multi-release option is not set","body":"<p>Regarding the plugin itself, following configuration works.</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jdeps-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;jdkinternals&lt;/goal&gt; &lt;!-- verify main classes --&gt;\n          &lt;goal&gt;test-jdkinternals&lt;/goal&gt; &lt;!-- verify test classes --&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;multiRelease&gt;9&lt;/multiRelease&gt; &lt;!-- Check this out --&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642379882,"creation_date":1642379882,"answer_id":70735390,"question_id":46662286,"body_markdown":"We can pass the multi-release property via command line (since [version 3.1.1][1]), eg:\r\n\r\n    mvn jdeps:jdkinternals -Djdeps.multiRelease=9\r\n\r\n\r\n  [1]: https://github.com/apache/maven-jdeps-plugin/blob/52f9e457c651dbf1f0b66f0ebcfecc5ab9f6a91d/src/main/java/org/apache/maven/plugins/jdeps/AbstractJDepsMojo.java#L88","title":"Error: log4j-api-2.9.0.jar is a multi-release jar file but --multi-release option is not set","body":"<p>We can pass the multi-release property via command line (since <a href=\"https://github.com/apache/maven-jdeps-plugin/blob/52f9e457c651dbf1f0b66f0ebcfecc5ab9f6a91d/src/main/java/org/apache/maven/plugins/jdeps/AbstractJDepsMojo.java#L88\" rel=\"nofollow noreferrer\">version 3.1.1</a>), eg:</p>\n<pre><code>mvn jdeps:jdkinternals -Djdeps.multiRelease=9\n</code></pre>\n"}],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7458,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":46987097,"answer_count":3,"score":8,"last_activity_date":1642379882,"creation_date":1507625034,"question_id":46662286,"body_markdown":"Exploring the [`maven-jdeps-plugin:3.1.0`](https://cwiki.apache.org/confluence/display/MAVEN/Java+9+-+Jigsaw) with Java9 using the following minimal `pom.xml`:-\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                   &lt;source&gt;1.9&lt;/source&gt;\r\n                   &lt;target&gt;1.9&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n    \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jdeps-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jdkinternals&lt;/goal&gt; &lt;!-- verify main classes --&gt;\r\n                            &lt;goal&gt;test-jdkinternals&lt;/goal&gt; &lt;!-- verify test classes --&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nOn executing \r\n\r\n    mvn install\r\n\r\nI end up getting a detailed error that reads the following:-\r\n\r\n&gt;     [INFO] Error: log4j-api-2.9.0.jar is a multi-release jar file but --multi-release option is not set\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.389 s\r\n    [INFO] Finished at: ...\r\n    [INFO] Final Memory: 12M/41M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-jdeps-plugin:3.1.0:jdkinternals (default) on project maven-jigsaw: \r\n    [ERROR] Exit code: 2\r\n    [ERROR] Command line was: /bin/sh -c &#39;/Library/Java/JavaVirtualMachines/jdk-9.jdk/Contents/Home/bin/jdeps&#39; &#39;-cp&#39; &#39;.../.m2/repository/org/apache/logging/log4j/log4j-api/2.9.0/log4j-api-2.9.0.jar&#39; &#39;../maven/target/classes&#39;\r\n\r\nI couldn&#39;t find much relevance related to `--multi-release` flag in either [`jdeps:jdkinternals`](https://maven.apache.org/plugins/maven-jdeps-plugin/jdkinternals-mojo.html) goal detailed on Maven&#39;s official site or even in the [`jdeps` tool](https://docs.oracle.com/javase/9/tools/jdeps.htm#JSWOR690) documented at Oracle help center.\r\n\r\nCan someone throw some light on this implementation in `maven-jdeps-plugin`? Is there a way to fix this(set the `--multi-release` option)?\r\n","title":"Error: log4j-api-2.9.0.jar is a multi-release jar file but --multi-release option is not set","body":"<p>Exploring the <a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Java+9+-+Jigsaw\" rel=\"noreferrer\"><code>maven-jdeps-plugin:3.1.0</code></a> with Java9 using the following minimal <code>pom.xml</code>:-</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt;\n            &lt;configuration&gt;\n               &lt;source&gt;1.9&lt;/source&gt;\n               &lt;target&gt;1.9&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jdeps-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jdkinternals&lt;/goal&gt; &lt;!-- verify main classes --&gt;\n                        &lt;goal&gt;test-jdkinternals&lt;/goal&gt; &lt;!-- verify test classes --&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>On executing </p>\n\n<pre><code>mvn install\n</code></pre>\n\n<p>I end up getting a detailed error that reads the following:-</p>\n\n<blockquote>\n<pre><code>[INFO] Error: log4j-api-2.9.0.jar is a multi-release jar file but --multi-release option is not set\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.389 s\n[INFO] Finished at: ...\n[INFO] Final Memory: 12M/41M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-jdeps-plugin:3.1.0:jdkinternals (default) on project maven-jigsaw: \n[ERROR] Exit code: 2\n[ERROR] Command line was: /bin/sh -c '/Library/Java/JavaVirtualMachines/jdk-9.jdk/Contents/Home/bin/jdeps' '-cp' '.../.m2/repository/org/apache/logging/log4j/log4j-api/2.9.0/log4j-api-2.9.0.jar' '../maven/target/classes'\n</code></pre>\n</blockquote>\n\n<p>I couldn't find much relevance related to <code>--multi-release</code> flag in either <a href=\"https://maven.apache.org/plugins/maven-jdeps-plugin/jdkinternals-mojo.html\" rel=\"noreferrer\"><code>jdeps:jdkinternals</code></a> goal detailed on Maven's official site or even in the <a href=\"https://docs.oracle.com/javase/9/tools/jdeps.htm#JSWOR690\" rel=\"noreferrer\"><code>jdeps</code> tool</a> documented at Oracle help center.</p>\n\n<p>Can someone throw some light on this implementation in <code>maven-jdeps-plugin</code>? Is there a way to fix this(set the <code>--multi-release</code> option)?</p>\n"},{"tags":["java","tomcat","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":22387773,"reputation":46,"user_id":16600346,"display_name":"yahya benzha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642378107,"creation_date":1642370864,"answer_id":70734561,"question_id":70734477,"body_markdown":"I was playing around on the tomcat configurations and got it to work.\r\nthere are the configuration that worked for me:\r\n\r\n![**tomcat-configs**][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3om6F.png\r\n\r\n\r\nPS:to show this tab click on tomcat in the top right -&gt; edit configurations.","title":"Auto Restart of Tomcat server in JAVA EE under IntelJ","body":"<p>I was playing around on the tomcat configurations and got it to work.\nthere are the configuration that worked for me:</p>\n<p><img src=\"https://i.stack.imgur.com/3om6F.png\" alt=\"tomcat-configs\" /></p>\n<p>PS:to show this tab click on tomcat in the top right -&gt; edit configurations.</p>\n"}],"owner":{"account_id":22387773,"reputation":46,"user_id":16600346,"display_name":"yahya benzha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642378107,"creation_date":1642369935,"question_id":70734477,"body_markdown":"I have a project built upon JAVA EE, I&#39;m using **tomcat** and for the ide I&#39;m working on **Intellij**.\r\nWhile developping,I have to stop and restart my tomcat server each time I add new line of code or edit on it, which is just so much waste of time.\r\nSo, I was wondring if there is a way to make **an auto-restart of the server on new saved  code**. \r\nLike some sort of  **--watch script**.\r\nThanks in advance.","title":"Auto Restart of Tomcat server in JAVA EE under IntelJ","body":"<p>I have a project built upon JAVA EE, I'm using <strong>tomcat</strong> and for the ide I'm working on <strong>Intellij</strong>.\nWhile developping,I have to stop and restart my tomcat server each time I add new line of code or edit on it, which is just so much waste of time.\nSo, I was wondring if there is a way to make <strong>an auto-restart of the server on new saved  code</strong>.\nLike some sort of  <strong>--watch script</strong>.\nThanks in advance.</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1503303718,"post_id":45792298,"comment_id":78542323,"body_markdown":"I&#39;m not familiar with that appender but it looks like the file contains a list of objects that represent individual log entries. As such I&#39;d assume the closing bracket is written when that list is complete, e.g. when a rolling based on size or time happens.","body":"I&#39;m not familiar with that appender but it looks like the file contains a list of objects that represent individual log entries. As such I&#39;d assume the closing bracket is written when that list is complete, e.g. when a rolling based on size or time happens."},{"owner":{"account_id":6360329,"reputation":467,"user_id":4936019,"accept_rate":40,"display_name":"Laazo"},"score":1,"creation_date":1503304599,"post_id":45792298,"comment_id":78542838,"body_markdown":"Thank you very much @Thomas. It only adds the closing bracket when the next roll happens","body":"Thank you very much @Thomas. It only adds the closing bracket when the next roll happens"},{"owner":{"account_id":6463622,"reputation":2214,"user_id":5006469,"accept_rate":80,"display_name":"rdupz"},"score":0,"creation_date":1589817186,"post_id":45792298,"comment_id":109437230,"body_markdown":"I had to replace `RandomAccessFile` with `File`.","body":"I had to replace <code>RandomAccessFile</code> with <code>File</code>."}],"answers":[{"tags":[],"owner":{"account_id":1214314,"reputation":4355,"user_id":1182207,"accept_rate":74,"display_name":"Moha the almighty camel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642377881,"creation_date":1642377881,"answer_id":70735232,"question_id":45792298,"body_markdown":"For others who might be facing this issue with console appenders, and would like log4j to append the `]` when the execution is finisehd (in case of a CLI for example).\r\n\r\nYou can stop the appender which will make log4j add the closing `]`\r\n\r\n\r\n    // Notice casting from spi.LoggerContext to core.LoggerContext    \r\n    LoggerContext logContext = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\r\n    Map&lt;String, LoggerConfig&gt; map = logContext.getConfiguration().getLoggers();\r\n    map.get(LOGGER_NAME).getAppenders().get(APPENDER_NAME).stop();\r\n\r\nIf you appender is attached to the root logger, use an empty string `&quot;&quot;` for the the variable `LOGGER_NAME`","title":"Log4j2 JSONLayout not appending closing (]) square bracket","body":"<p>For others who might be facing this issue with console appenders, and would like log4j to append the <code>]</code> when the execution is finisehd (in case of a CLI for example).</p>\n<p>You can stop the appender which will make log4j add the closing <code>]</code></p>\n<pre><code>// Notice casting from spi.LoggerContext to core.LoggerContext    \nLoggerContext logContext = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\nMap&lt;String, LoggerConfig&gt; map = logContext.getConfiguration().getLoggers();\nmap.get(LOGGER_NAME).getAppenders().get(APPENDER_NAME).stop();\n</code></pre>\n<p>If you appender is attached to the root logger, use an empty string <code>&quot;&quot;</code> for the the variable <code>LOGGER_NAME</code></p>\n"}],"owner":{"account_id":6360329,"reputation":467,"user_id":4936019,"accept_rate":40,"display_name":"Laazo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642377881,"creation_date":1503303519,"question_id":45792298,"body_markdown":"Here is my `log4j2.xml` config file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;OFF&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;File name=&quot;JsonFile&quot; fileName=&quot;logs/myLog.log&quot; immediateFlush=&quot;true&quot; append=&quot;false&quot;&gt;\r\n                &lt;JSONLayout complete=&quot;true&quot; charset=&quot;UTF-8&quot; compact=&quot;false&quot; eventEol=&quot;false&quot; properties=&quot;true&quot;/&gt;\r\n            &lt;/File&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;all&quot; includeLocation=&quot;true&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;JsonFile&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nThe output looks as follows:\r\n\r\n    [\r\n    {\r\n      &quot;timeMillis&quot; : 1503303149998,\r\n      &quot;thread&quot; : &quot;Restlet-343114711&quot;,\r\n      &quot;level&quot; : &quot;INFO&quot;,\r\n      &quot;loggerName&quot; : &quot;my.logger.name&quot;,\r\n      &quot;message&quot; : &quot;Import completed successfully&quot;,\r\n      &quot;endOfBatch&quot; : false,\r\n      &quot;loggerFqcn&quot; : &quot;org.apache.logging.log4j.spi.AbstractLogger&quot;,\r\n      &quot;contextMap&quot; : {\r\n        &quot;class&quot; : &quot;my.package.Class&quot;,\r\n        &quot;method&quot; : &quot;getProgress&quot;,\r\n        &quot;user&quot; : &quot;myUser&quot;\r\n      },\r\n      &quot;threadId&quot; : 45,\r\n      &quot;threadPriority&quot; : 5\r\n    }\r\n\r\nWhich is missing a closing square bracket. How do I configure log4j2 to add the closing tag? ","title":"Log4j2 JSONLayout not appending closing (]) square bracket","body":"<p>Here is my <code>log4j2.xml</code> config file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"OFF\"&gt;\n    &lt;Appenders&gt;\n        &lt;File name=\"JsonFile\" fileName=\"logs/myLog.log\" immediateFlush=\"true\" append=\"false\"&gt;\n            &lt;JSONLayout complete=\"true\" charset=\"UTF-8\" compact=\"false\" eventEol=\"false\" properties=\"true\"/&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"all\" includeLocation=\"true\"&gt;\n            &lt;AppenderRef ref=\"JsonFile\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>The output looks as follows:</p>\n\n<pre><code>[\n{\n  \"timeMillis\" : 1503303149998,\n  \"thread\" : \"Restlet-343114711\",\n  \"level\" : \"INFO\",\n  \"loggerName\" : \"my.logger.name\",\n  \"message\" : \"Import completed successfully\",\n  \"endOfBatch\" : false,\n  \"loggerFqcn\" : \"org.apache.logging.log4j.spi.AbstractLogger\",\n  \"contextMap\" : {\n    \"class\" : \"my.package.Class\",\n    \"method\" : \"getProgress\",\n    \"user\" : \"myUser\"\n  },\n  \"threadId\" : 45,\n  \"threadPriority\" : 5\n}\n</code></pre>\n\n<p>Which is missing a closing square bracket. How do I configure log4j2 to add the closing tag? </p>\n"},{"tags":["java","javafx","checkbox","treeview","controlsfx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1642260090,"post_id":70721842,"comment_id":125025825,"body_markdown":"don&#39;t use refresh, it&#39;s emergency api - to be used in extremely rare corner-cases only (which this scenario isn&#39;t)!","body":"don&#39;t use refresh, it&#39;s emergency api - to be used in extremely rare corner-cases only (which this scenario isn&#39;t)!"},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1642260404,"post_id":70721842,"comment_id":125025899,"body_markdown":"Thank you for the information. So when should it be used?","body":"Thank you for the information. So when should it be used?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1642260490,"post_id":70721842,"comment_id":125025922,"body_markdown":"if the data doesn&#39;t allow to be observed for some reason you have no control of (which personally, I would say never happens, but then the backend folks have different opinions :)","body":"if the data doesn&#39;t allow to be observed for some reason you have no control of (which personally, I would say never happens, but then the backend folks have different opinions :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1642261111,"post_id":70721842,"comment_id":125026076,"body_markdown":"the slightly fishy thingy in this setup is that you revert the state of the sender in a listener to that state - that&#39;s not recommended (see api doc of ChangeListener).  Again, we get away with doing it most of the time :) Not familar with controlsfx CheckTreeView, might have something that interferes ..","body":"the slightly fishy thingy in this setup is that you revert the state of the sender in a listener to that state - that&#39;s not recommended (see api doc of ChangeListener).  Again, we get away with doing it most of the time :) Not familar with controlsfx CheckTreeView, might have something that interferes .."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1642302866,"post_id":70721842,"comment_id":125033971,"body_markdown":"Find out what is changing the selected property. Execute your guard code that checks if the selection change would be valid *before* the selected property is set, only allowing the selected property if it is valid to do so. To implement this you may need to copy some library code into your project and modify it, as it may not be possible to do this without changing the internal implementation.","body":"Find out what is changing the selected property. Execute your guard code that checks if the selection change would be valid <i>before</i> the selected property is set, only allowing the selected property if it is valid to do so. To implement this you may need to copy some library code into your project and modify it, as it may not be possible to do this without changing the internal implementation."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1642303065,"post_id":70721842,"comment_id":125033996,"body_markdown":"Perhaps disable or don’t show the checkbox if it is not valid to change it.  You then enable it if the user permits it through some action, e.g. clicking on the disabled check box or an additional button or hyperlink.","body":"Perhaps disable or don’t show the checkbox if it is not valid to change it.  You then enable it if the user permits it through some action, e.g. clicking on the disabled check box or an additional button or hyperlink."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1642321953,"post_id":70721842,"comment_id":125036150,"body_markdown":"@jewelsea In my example, the condition to changing the selected property is hitting a &quot;yes&quot; button in a dialog window (like a confirmation). How can I see the library code (in IntelliJ) and how can I implement a condition before the selected property is set?","body":"@jewelsea In my example, the condition to changing the selected property is hitting a &quot;yes&quot; button in a dialog window (like a confirmation). How can I see the library code (in IntelliJ) and how can I implement a condition before the selected property is set?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1642327547,"post_id":70721842,"comment_id":125037096,"body_markdown":"To see library code in idea: [Click the download button in the Maven tool window](https://www.jetbrains.com/help/idea/maven-projects-tool-window.html#toolbar).  There may be a similar option for Gradle, I don’t know.  Then you can browse and debug the library source exactly the same as you can do for your own.  You could also clone the libraries as separate projects from git (openjfx and controlsfx source repos).","body":"To see library code in idea: <a href=\"https://www.jetbrains.com/help/idea/maven-projects-tool-window.html#toolbar\" rel=\"nofollow noreferrer\">Click the download button in the Maven tool window</a>.  There may be a similar option for Gradle, I don’t know.  Then you can browse and debug the library source exactly the same as you can do for your own.  You could also clone the libraries as separate projects from git (openjfx and controlsfx source repos)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1642327837,"post_id":70721842,"comment_id":125037160,"body_markdown":"On implementing a condition before setting a selected property, that is trickier and I would have to spend quite some time to provide specific advice, which I will not do at this time.","body":"On implementing a condition before setting a selected property, that is trickier and I would have to spend quite some time to provide specific advice, which I will not do at this time."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1642328871,"post_id":70721842,"comment_id":125037360,"body_markdown":"Understandable, but thank you very much!","body":"Understandable, but thank you very much!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1642340238,"post_id":70721842,"comment_id":125039616,"body_markdown":"after a bit of digging I think the culprit is the reverting of item&#39;s selected value in the listener: it&#39;s bidi-bound to the checkBox, reverting doesn&#39;t update the checkbox. Same happens if you have two checkboxes - just to see the selected - bound bidirectionally in their selectedProperty: listening/reverting the original directly does revert, doing the same in the bound does not revert the selected in the original.","body":"after a bit of digging I think the culprit is the reverting of item&#39;s selected value in the listener: it&#39;s bidi-bound to the checkBox, reverting doesn&#39;t update the checkbox. Same happens if you have two checkboxes - just to see the selected - bound bidirectionally in their selectedProperty: listening/reverting the original directly does revert, doing the same in the bound does not revert the selected in the original."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1642341414,"post_id":70721842,"comment_id":125039899,"body_markdown":"_listening/reverting the original directly does revert, doing the same in the bound does not revert the selected in the original._\nShouldn&#39;t it be: reverting the original doesn&#39;t revert, but reverting the other does?","body":"<i>listening/reverting the original directly does revert, doing the same in the bound does not revert the selected in the original.</i> Shouldn&#39;t it be: reverting the original doesn&#39;t revert, but reverting the other does?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1642346551,"post_id":70721842,"comment_id":125041243,"body_markdown":"no, but my comment is confusing ;) Will post some code as answer (and probably delete after you read it)","body":"no, but my comment is confusing ;) Will post some code as answer (and probably delete after you read it)"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642259553,"creation_date":1642259553,"answer_id":70722673,"question_id":70721842,"body_markdown":"You are resetting the checkbox item too soon.  It hasn’t finished its event processing yet.\r\n\r\nYou want to wait until it’s finished before you reset it.  Use [Platform.runLater](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)) to make sure you reset it after all pending events have been processed:\r\n\r\n    Platform.runLater(() -&gt; item.setSelected(previousChoice));\r\n","title":"Reset checkbox selection in ChangeListener under condition","body":"<p>You are resetting the checkbox item too soon.  It hasn’t finished its event processing yet.</p>\n<p>You want to wait until it’s finished before you reset it.  Use <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\">Platform.runLater</a> to make sure you reset it after all pending events have been processed:</p>\n<pre><code>Platform.runLater(() -&gt; item.setSelected(previousChoice));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642348270,"creation_date":1642348270,"answer_id":70731691,"question_id":70721842,"body_markdown":"What we are seeing in the OPs example actually is the standard behavior of bidirectionally bound properties, reduced to a simple (no ui, just properties) example. \r\n\r\nThe scenario:\r\n\r\n- there are two boolean properties, representing the data (checkBoxTreeItem) and ui (checkBox) selected properties\r\n- they are wired the same way as in a checkBoxTreeCell, that is the ui is bidirectionally bound to the data\r\n- a listener to the data reverts the data to false on receiving a change from false -&gt; true\r\n \r\nJust for showing that - though nor recommended - reverting a the state of the sender in a listener is working: we set the data property to true. At the end, both data and ui are false as we want it.\r\n\r\n\r\n    before data.set(true)\r\n        state of data/ui: false / false\r\n    enter listener to ui: true\r\n    enter listener to data: true\r\n    enter listener to ui: false\r\n    enter listener to data: false\r\n     ... returning\r\n    listener to data - after reset false\r\n    after data.set(true) - state of data/ui: false / false\r\n\r\nFor the real simulation of the OP&#39;s context: set the ui property (user clicks the checkBox) - at the end, the data property is reverted while the ui property is not. Technically, that&#39;s done in BidirectionalBinding which ignores incoming changes while updating.\r\n   \r\n    before ui.set(true)\r\n        state of data/ui: false / false\r\n    enter listener to data: true\r\n    enter listener to data: false\r\n     ... returning\r\n    listener to data - after reset false\r\n    enter listener to ui: true\r\n    after ui.set(true) - state of data/ui: false / true\r\n\r\nThe example:\r\n\r\n    public class BidiBindingUpdating {\r\n\r\n        public static void main(String[] args) {\r\n            BooleanProperty data = new SimpleBooleanProperty();\r\n            BooleanProperty ui = new SimpleBooleanProperty();\r\n            ui.bindBidirectional(data);\r\n\r\n            // listener to item: revert to false\r\n            data.addListener((src, ov, nv) -&gt; {\r\n                System.out.println(&quot;enter listener to data: &quot; + nv);\r\n                if (!nv) {\r\n                    System.out.println(&quot; ... returning&quot;);\r\n                    return;\r\n                }\r\n                data.set(ov);\r\n                System.out.println(&quot;listener to data - after reset &quot; + data.get());\r\n            });\r\n\r\n            // listener to check: logging only\r\n            ui.addListener((src, ov, nv) -&gt; {\r\n                System.out.println(&quot;enter listener to ui: &quot; + nv);\r\n            });\r\n\r\n            // set item directly:\r\n            System.out.println(&quot;before data.set(true)&quot;);\r\n            System.out.println(&quot;    state of data/ui: &quot; + data.get() + &quot; / &quot; + ui.get());\r\n            data.set(true);\r\n            System.out.println(&quot;after data.set(true) - state of data/ui: &quot; + data.get() + &quot; / &quot; + ui.get());\r\n\r\n            // set bound property:\r\n            System.out.println(&quot;\\nbefore ui.set(true)&quot;);\r\n            System.out.println(&quot;    state of data/ui: &quot; + data.get() + &quot; / &quot; + ui.get());\r\n            ui.set(true);\r\n            System.out.println(&quot;after ui.set(true) - state of data/ui: &quot; + data.get() + &quot; / &quot; + ui.get());\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Reset checkbox selection in ChangeListener under condition","body":"<p>What we are seeing in the OPs example actually is the standard behavior of bidirectionally bound properties, reduced to a simple (no ui, just properties) example.</p>\n<p>The scenario:</p>\n<ul>\n<li>there are two boolean properties, representing the data (checkBoxTreeItem) and ui (checkBox) selected properties</li>\n<li>they are wired the same way as in a checkBoxTreeCell, that is the ui is bidirectionally bound to the data</li>\n<li>a listener to the data reverts the data to false on receiving a change from false -&gt; true</li>\n</ul>\n<p>Just for showing that - though nor recommended - reverting a the state of the sender in a listener is working: we set the data property to true. At the end, both data and ui are false as we want it.</p>\n<pre><code>before data.set(true)\n    state of data/ui: false / false\nenter listener to ui: true\nenter listener to data: true\nenter listener to ui: false\nenter listener to data: false\n ... returning\nlistener to data - after reset false\nafter data.set(true) - state of data/ui: false / false\n</code></pre>\n<p>For the real simulation of the OP's context: set the ui property (user clicks the checkBox) - at the end, the data property is reverted while the ui property is not. Technically, that's done in BidirectionalBinding which ignores incoming changes while updating.</p>\n<pre><code>before ui.set(true)\n    state of data/ui: false / false\nenter listener to data: true\nenter listener to data: false\n ... returning\nlistener to data - after reset false\nenter listener to ui: true\nafter ui.set(true) - state of data/ui: false / true\n</code></pre>\n<p>The example:</p>\n<pre><code>public class BidiBindingUpdating {\n\n    public static void main(String[] args) {\n        BooleanProperty data = new SimpleBooleanProperty();\n        BooleanProperty ui = new SimpleBooleanProperty();\n        ui.bindBidirectional(data);\n\n        // listener to item: revert to false\n        data.addListener((src, ov, nv) -&gt; {\n            System.out.println(&quot;enter listener to data: &quot; + nv);\n            if (!nv) {\n                System.out.println(&quot; ... returning&quot;);\n                return;\n            }\n            data.set(ov);\n            System.out.println(&quot;listener to data - after reset &quot; + data.get());\n        });\n\n        // listener to check: logging only\n        ui.addListener((src, ov, nv) -&gt; {\n            System.out.println(&quot;enter listener to ui: &quot; + nv);\n        });\n\n        // set item directly:\n        System.out.println(&quot;before data.set(true)&quot;);\n        System.out.println(&quot;    state of data/ui: &quot; + data.get() + &quot; / &quot; + ui.get());\n        data.set(true);\n        System.out.println(&quot;after data.set(true) - state of data/ui: &quot; + data.get() + &quot; / &quot; + ui.get());\n\n        // set bound property:\n        System.out.println(&quot;\\nbefore ui.set(true)&quot;);\n        System.out.println(&quot;    state of data/ui: &quot; + data.get() + &quot; / &quot; + ui.get());\n        ui.set(true);\n        System.out.println(&quot;after ui.set(true) - state of data/ui: &quot; + data.get() + &quot; / &quot; + ui.get());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642377510,"creation_date":1642377152,"answer_id":70735179,"question_id":70721842,"body_markdown":"I believe you got all the information about the issue from the previous answers and the comments in this post. So I will not repeat explaining the cause for the issue.\r\n\r\nI can suggest one alternate workaround which is similar to @VGR&#39;s answer of using `Platform.runLater`. Though `Platform.runLater` acts like a master key to most of the issues, mostly it is not recommended regarding its unpredictability and the threading reasons. \r\n\r\nThe key reason for issue as mentioned in @VGR answer :\r\n\r\n&gt; You are resetting the checkbox item too soon. It hasn’t finished its\r\n&gt; event processing yet. You want to wait until it’s finished before you\r\n&gt; reset it.\r\n\r\n\r\nand in @kelopatra comment:\r\n\r\n&gt; I think the culprit is the reverting of item&#39;s selected value in the\r\n&gt; listener\r\n\r\nFrom the above reasons it looks like we can fix the issue, if we run the desired code at the end of the event processing (I mean after all the layout children is finished).\r\n\r\nJavaFX has a very powerful class `AnimationTimer`. You can go through the [API](https://docs.oracle.com/javase/8/javafx/api/javafx/animation/AnimationTimer.html) of this class, but in simple words, it will allow you to run your desired code at the end of every frame. In constrast to Platform.runLater, here we know when it is going to run. Infact usage of this class is actually recommened in Scene -&gt; addPostLayoutPulseListener [API](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Scene.html#addPostLayoutPulseListener(java.lang.Runnable)).\r\n\r\n**Solution:**\r\n\r\nCreate a utility class that accepts a Runnable and runs that code only ONCE at the end of the current scene pulse. By the time this code is executed, the layouting in the scene is already completed, so you will not have any issues.\r\n\r\n    import javafx.animation.AnimationTimer;\r\n    \r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    /**\r\n     * Utility to run the provided runnable in each scene pulse.\r\n     */\r\n    public final class PulseUtil extends AnimationTimer {\r\n    \r\n        /** Specifies the count of current pulse. */\r\n        private static final int CURRENT_PULSE = 0;\r\n    \r\n        /** Specifies the count of the timer once it is started. */\r\n        private final AtomicInteger count = new AtomicInteger(0);\r\n    \r\n        /** Specifies the order at which the runnable need to be executed. */\r\n        private final int order;\r\n    \r\n        /** Runnable to execute in each frame. */\r\n        private final Runnable callback;\r\n    \r\n        /**\r\n         * Constructor.\r\n         *\r\n         * @param aCallBack runnable to execute\r\n         * @param aOrder order at which the runnable need to be executed\r\n         */\r\n        private PulseUtil(final Runnable aCallBack, final int aOrder) {\r\n            callback = aCallBack;\r\n            order = aOrder;\r\n        }\r\n    \r\n        /**\r\n         * Executes the provided runnable at the end of the current pulse.\r\n         *\r\n         * @param callback runnable to execute\r\n         */\r\n        public static void doEndOfPulse(final Runnable callback) {\r\n            new PulseUtil(callback, CURRENT_PULSE).start();\r\n        }\r\n    \r\n        @Override\r\n        public void handle(final long now) {\r\n            if (count.getAndIncrement() == order) {\r\n                try {\r\n                    callback.run();\r\n                } finally {\r\n                    stop();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd you will call this method in the change listener:\r\n\r\n    private ChangeListener&lt;Boolean&gt; onSelectionChanged(CheckBoxTreeItem&lt;String&gt; item) {\r\n        return (observableValue, previousChoice, newChoice) -&gt; {\r\n            if (newChoice) { // if checkbox is selected\r\n                // if anything happens... for example press a &quot;no&quot; button in a dialog window\r\n                if (5 &gt; 4) {\r\n                    System.out.println(&quot;reset checkbox status&quot;);\r\n                    PulseUtil.doEndOfPulse(()-&gt;item.setSelected(previousChoice));\r\n                }\r\n            }\r\n        };\r\n    }","title":"Reset checkbox selection in ChangeListener under condition","body":"<p>I believe you got all the information about the issue from the previous answers and the comments in this post. So I will not repeat explaining the cause for the issue.</p>\n<p>I can suggest one alternate workaround which is similar to @VGR's answer of using <code>Platform.runLater</code>. Though <code>Platform.runLater</code> acts like a master key to most of the issues, mostly it is not recommended regarding its unpredictability and the threading reasons.</p>\n<p>The key reason for issue as mentioned in @VGR answer :</p>\n<blockquote>\n<p>You are resetting the checkbox item too soon. It hasn’t finished its\nevent processing yet. You want to wait until it’s finished before you\nreset it.</p>\n</blockquote>\n<p>and in @kelopatra comment:</p>\n<blockquote>\n<p>I think the culprit is the reverting of item's selected value in the\nlistener</p>\n</blockquote>\n<p>From the above reasons it looks like we can fix the issue, if we run the desired code at the end of the event processing (I mean after all the layout children is finished).</p>\n<p>JavaFX has a very powerful class <code>AnimationTimer</code>. You can go through the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/animation/AnimationTimer.html\" rel=\"nofollow noreferrer\">API</a> of this class, but in simple words, it will allow you to run your desired code at the end of every frame. In constrast to Platform.runLater, here we know when it is going to run. Infact usage of this class is actually recommened in Scene -&gt; addPostLayoutPulseListener <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Scene.html#addPostLayoutPulseListener(java.lang.Runnable)\" rel=\"nofollow noreferrer\">API</a>.</p>\n<p><strong>Solution:</strong></p>\n<p>Create a utility class that accepts a Runnable and runs that code only ONCE at the end of the current scene pulse. By the time this code is executed, the layouting in the scene is already completed, so you will not have any issues.</p>\n<pre><code>import javafx.animation.AnimationTimer;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\n/**\n * Utility to run the provided runnable in each scene pulse.\n */\npublic final class PulseUtil extends AnimationTimer {\n\n    /** Specifies the count of current pulse. */\n    private static final int CURRENT_PULSE = 0;\n\n    /** Specifies the count of the timer once it is started. */\n    private final AtomicInteger count = new AtomicInteger(0);\n\n    /** Specifies the order at which the runnable need to be executed. */\n    private final int order;\n\n    /** Runnable to execute in each frame. */\n    private final Runnable callback;\n\n    /**\n     * Constructor.\n     *\n     * @param aCallBack runnable to execute\n     * @param aOrder order at which the runnable need to be executed\n     */\n    private PulseUtil(final Runnable aCallBack, final int aOrder) {\n        callback = aCallBack;\n        order = aOrder;\n    }\n\n    /**\n     * Executes the provided runnable at the end of the current pulse.\n     *\n     * @param callback runnable to execute\n     */\n    public static void doEndOfPulse(final Runnable callback) {\n        new PulseUtil(callback, CURRENT_PULSE).start();\n    }\n\n    @Override\n    public void handle(final long now) {\n        if (count.getAndIncrement() == order) {\n            try {\n                callback.run();\n            } finally {\n                stop();\n            }\n        }\n    }\n}\n</code></pre>\n<p>And you will call this method in the change listener:</p>\n<pre><code>private ChangeListener&lt;Boolean&gt; onSelectionChanged(CheckBoxTreeItem&lt;String&gt; item) {\n    return (observableValue, previousChoice, newChoice) -&gt; {\n        if (newChoice) { // if checkbox is selected\n            // if anything happens... for example press a &quot;no&quot; button in a dialog window\n            if (5 &gt; 4) {\n                System.out.println(&quot;reset checkbox status&quot;);\n                PulseUtil.doEndOfPulse(()-&gt;item.setSelected(previousChoice));\n            }\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1642377510,"creation_date":1642252946,"question_id":70721842,"body_markdown":"In my JavaFX application I&#39;m using ```Checkboxes``` in a ```TreeView``` to change the visibility of nodes.\r\n\r\n- checkbox selected = some nodes are visible\r\n- checkbox deselected = some nodes are invisible \r\n\r\nIn a special case, however, the user should be prompted to confirm their selection, because problems can arise when activating a specific checkbox.\r\nA dialog window opens in which the user can choose between &quot;Yes&quot; and &quot;No&quot;.\r\nIf the user chooses &quot;Yes&quot;, nodes become visible and everything is fine.\r\nBut if the user chooses &quot;No&quot;, the checkbox should be deselected again.\r\n\r\nMy idea was to check the condition (in this case press &quot;no&quot; in a dialog window) in the ```ChangeListener``` and if it&#39;s true, set the selected value to false. \r\n\r\nBut for whatever reason, it didn&#39;t work. After that, I figured out that it works with the ```refresh()``` method of the ```TreeView```.\r\n\r\n### Questions\r\n\r\n1. Why doesn&#39;t it work without the ```refresh()``` method, why ```setSelected()``` is ignored?\r\n2. Should I use the ```refresh()``` method?\r\n3. Is there a better workaround to change the selection status?\r\n\r\n\r\n### Minimal reproducible example\r\n\r\nUsing the ```refresh()``` line will show the desired behavior: The checkbox remains unselected after clicking because 5 &gt; 4 (5&gt;4 simulates for example pressing &quot;no&quot; in a dialog window).\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.CheckBoxTreeItem;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\nimport org.controlsfx.control.CheckTreeView;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    enum Names { TEST1, TEST2, TEST3, TEST4 }\r\n\r\n    private final CheckTreeView&lt;String&gt; checkTreeView = new CheckTreeView&lt;&gt;();\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        VBox vBox = new VBox();\r\n        Scene scene = new Scene(vBox, 500, 500);\r\n        setTreeView();\r\n        vBox.getChildren().add(checkTreeView);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n\r\n    public void setTreeView() {\r\n        CheckBoxTreeItem&lt;String&gt; rootItem = new CheckBoxTreeItem&lt;&gt;(&quot;Root&quot;);\r\n        rootItem.setExpanded(true);\r\n        for (Names name : Names.values()) {\r\n            CheckBoxTreeItem&lt;String&gt; item = new CheckBoxTreeItem&lt;&gt;(name.toString(), null);\r\n            item.selectedProperty().addListener(this.onSelectionChanged(item));\r\n            rootItem.getChildren().add(item);\r\n        }\r\n        this.checkTreeView.setRoot(rootItem);\r\n    }\r\n\r\n    private ChangeListener&lt;Boolean&gt; onSelectionChanged(CheckBoxTreeItem&lt;String&gt; item) {\r\n        return (observableValue, previousChoice, newChoice) -&gt; {\r\n\r\n            if (newChoice) { // if checkbox is selected\r\n                // if anything happens... for example press a &quot;no&quot; button in a dialog window\r\n                if (5 &gt; 4) {\r\n                    System.out.println(&quot;reset checkbox status&quot;);\r\n                    item.setSelected(previousChoice);\r\n                }\r\n            }\r\n\r\n            // it works with refresh:\r\n            // this.checkTreeView.refresh();\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n### EDIT: ###\r\nThe solution of @VGR with \r\n\r\n```Platform.runLater(() -&gt; item.setSelected(previousChoice));``` \r\n\r\nworks for the minimal reproducible example, but it doesn&#39;t seem to be the best way to do that.\r\nAs already discussed in the comments, with ```Platform.runLater()``` it&#39;s\r\n\r\n&gt; working most of the time\r\n\r\nand \r\n\r\n&gt; there&#39;s no guarantee because the exact timing is unspecified, will break f.i. if something in the pending events does also use runlater.\r\n\r\nA solution / workaround that always works is desired...\r\n\r\n\r\n\r\n","title":"Reset checkbox selection in ChangeListener under condition","body":"<p>In my JavaFX application I'm using <code>Checkboxes</code> in a <code>TreeView</code> to change the visibility of nodes.</p>\n<ul>\n<li>checkbox selected = some nodes are visible</li>\n<li>checkbox deselected = some nodes are invisible</li>\n</ul>\n<p>In a special case, however, the user should be prompted to confirm their selection, because problems can arise when activating a specific checkbox.\nA dialog window opens in which the user can choose between &quot;Yes&quot; and &quot;No&quot;.\nIf the user chooses &quot;Yes&quot;, nodes become visible and everything is fine.\nBut if the user chooses &quot;No&quot;, the checkbox should be deselected again.</p>\n<p>My idea was to check the condition (in this case press &quot;no&quot; in a dialog window) in the <code>ChangeListener</code> and if it's true, set the selected value to false.</p>\n<p>But for whatever reason, it didn't work. After that, I figured out that it works with the <code>refresh()</code> method of the <code>TreeView</code>.</p>\n<h3>Questions</h3>\n<ol>\n<li>Why doesn't it work without the <code>refresh()</code> method, why <code>setSelected()</code> is ignored?</li>\n<li>Should I use the <code>refresh()</code> method?</li>\n<li>Is there a better workaround to change the selection status?</li>\n</ol>\n<h3>Minimal reproducible example</h3>\n<p>Using the <code>refresh()</code> line will show the desired behavior: The checkbox remains unselected after clicking because 5 &gt; 4 (5&gt;4 simulates for example pressing &quot;no&quot; in a dialog window).</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.scene.Scene;\nimport javafx.scene.control.CheckBoxTreeItem;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport org.controlsfx.control.CheckTreeView;\n\npublic class HelloApplication extends Application {\n\n    enum Names { TEST1, TEST2, TEST3, TEST4 }\n\n    private final CheckTreeView&lt;String&gt; checkTreeView = new CheckTreeView&lt;&gt;();\n\n    @Override\n    public void start(Stage stage) {\n        VBox vBox = new VBox();\n        Scene scene = new Scene(vBox, 500, 500);\n        setTreeView();\n        vBox.getChildren().add(checkTreeView);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n\n    public void setTreeView() {\n        CheckBoxTreeItem&lt;String&gt; rootItem = new CheckBoxTreeItem&lt;&gt;(&quot;Root&quot;);\n        rootItem.setExpanded(true);\n        for (Names name : Names.values()) {\n            CheckBoxTreeItem&lt;String&gt; item = new CheckBoxTreeItem&lt;&gt;(name.toString(), null);\n            item.selectedProperty().addListener(this.onSelectionChanged(item));\n            rootItem.getChildren().add(item);\n        }\n        this.checkTreeView.setRoot(rootItem);\n    }\n\n    private ChangeListener&lt;Boolean&gt; onSelectionChanged(CheckBoxTreeItem&lt;String&gt; item) {\n        return (observableValue, previousChoice, newChoice) -&gt; {\n\n            if (newChoice) { // if checkbox is selected\n                // if anything happens... for example press a &quot;no&quot; button in a dialog window\n                if (5 &gt; 4) {\n                    System.out.println(&quot;reset checkbox status&quot;);\n                    item.setSelected(previousChoice);\n                }\n            }\n\n            // it works with refresh:\n            // this.checkTreeView.refresh();\n        };\n    }\n}\n</code></pre>\n<h3>EDIT:</h3>\n<p>The solution of @VGR with</p>\n<p><code>Platform.runLater(() -&gt; item.setSelected(previousChoice));</code></p>\n<p>works for the minimal reproducible example, but it doesn't seem to be the best way to do that.\nAs already discussed in the comments, with <code>Platform.runLater()</code> it's</p>\n<blockquote>\n<p>working most of the time</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>there's no guarantee because the exact timing is unspecified, will break f.i. if something in the pending events does also use runlater.</p>\n</blockquote>\n<p>A solution / workaround that always works is desired...</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642370749,"post_id":70734529,"comment_id":125047045,"body_markdown":"Class names in Java should start with an uppercase letter.","body":"Class names in Java should start with an uppercase letter."},{"owner":{"account_id":22919341,"reputation":4094,"user_id":17055403,"display_name":"skara9"},"score":0,"creation_date":1642371004,"post_id":70734529,"comment_id":125047109,"body_markdown":"Well yes, if you construct a new `archive` it will be a unique object and not equal to anything in your ArrayList. You can instead loop through and compare the `indentifier` and/or `name` values to check for duplicates.","body":"Well yes, if you construct a new <code>archive</code> it will be a unique object and not equal to anything in your ArrayList. You can instead loop through and compare the <code>indentifier</code> and/or <code>name</code> values to check for duplicates."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1642371071,"post_id":70734529,"comment_id":125047117,"body_markdown":"the contains method uses the equals() method to check if objects are equal. Since your `archive` class does not overwrite `equals`, this doesn&#39;t do what you expect.","body":"the contains method uses the equals() method to check if objects are equal. Since your <code>archive</code> class does not overwrite <code>equals</code>, this doesn&#39;t do what you expect."},{"owner":{"account_id":22541471,"reputation":35,"user_id":16731988,"display_name":"user16731988"},"score":0,"creation_date":1642371184,"post_id":70734529,"comment_id":125047139,"body_markdown":"So I have to make my own equals method and loop through each object?","body":"So I have to make my own equals method and loop through each object?"},{"owner":{"account_id":22919341,"reputation":4094,"user_id":17055403,"display_name":"skara9"},"score":1,"creation_date":1642371325,"post_id":70734529,"comment_id":125047177,"body_markdown":"@user16731988 not a loop, just override the `equals` method to compare whichever values you want","body":"@user16731988 not a loop, just override the <code>equals</code> method to compare whichever values you want"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642371973,"creation_date":1642371331,"answer_id":70734611,"question_id":70734529,"body_markdown":"# Override `equals` (&amp; `hashCode`)\r\n\r\nYou neglected to provide overrides of the inherited [`Object#equals`][1] and [`Object#hashCode`][2] methods. \r\n\r\nThe default implementation of `equals` uses identity to compare, that is, &quot;Do the two object references being compared share the same implicit memory address?&quot;. \r\n\r\nInstead, you want to compare the *contents* of the two objects. So you need to write that content-comparison code in your own `equals` method. And whenever overriding `equals`, it is generally best to override `hashCode` using the same logic. \r\n\r\nYour [IDE][3] will assist you in writing that code. For example, in [IntelliJ][5], see [this documentation](https://www.jetbrains.com/help/idea/generate-equals-and-hashcode-wizard.html) and [this discussion][4].\r\n\r\nThis issue has been covered many times on Stack Overflow. So [search to learn more][6]. \r\n\r\n## Records\r\n\r\nBy the way, you can more briefly define your class as a [record][7]. \r\n\r\n    record Archive ( String identifier , String name ) {}\r\n\r\nA record is appropriate when the main purpose of your class is to communicate data transparently and immutably. \r\n\r\nThe compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString` methods. \r\n\r\n&#128073;&#127998; So using a **record makes your problem moot**, assuming you want to compare each and every member field on the class. The `equals` &amp; `hashCode` overrides are provided for you.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\r\n  [3]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [4]: http://#%20Override%20%60equals%60%20(and%20%60hashCode%60)%20%20You%20neglected%20to%20provide%20overrides%20of%20the%20inherited%20[%60Object#equals%60][1]%20and%20[%60Object#hashCode%60][2]%20methods.%20%20%20The%20default%20implementation%20of%20%60equals%60%20uses%20identity%20to%20compare,%20that%20is,%20%22Do%20the%20two%20object%20references%20being%20compared%20share%20the%20same%20implicit%20memory%20address?%22.%20%20%20Instead,%20you%20want%20to%20compare%20the%20*contents*%20of%20the%20two%20objects.%20So%20you%20need%20to%20write%20that%20content-comparison%20code%20in%20your%20own%20%60equals%60%20method.%20And%20whenever%20overriding%20%60equals%60,%20it%20is%20generally%20best%20to%20override%20%60hashCode%60%20using%20the%20same%20logic.%20%20%20Your%20[IDE][3]%20will%20assist%20you%20in%20writing%20that%20code.%20For%20example,%20see%20[this%20documentation](https://www.jetbrains.com/help/idea/generate-equals-and-hashcode-wizard.html)%20for%20[IntelliJ][5].%20%20%20This%20issue%20has%20been%20covered%20many%20times%20on%20Stack%20Overflow.%20So%20[search%20to%20learn%20more][4].%20%20%20##%20Records%20%20By%20the%20way,%20you%20can%20more%20briefly%20define%20your%20class%20as%20a%20[record][6].%20%20%20%20%20%20%20class%20Archive%20(%20String%20identifier%20,%20String%20name%20)%20%7B%7D%20%20A%20record%20is%20appropriate%20when%20the%20main%20purpose%20of%20your%20class%20is%20to%20communicate%20data%20transparently%20and%20immutably.%20The%20compiler%20implicitly%20creates%20the%20constructor,%20getters,%20%60equals%60%20&amp;%20%60hashCode%60,%20and%20%60toString%60%20methods.%20%20%20So%20using%20a%20record%20makes%20your%20problem%20moot.%20The%20%60equals%60%20&amp;%20%60hashCode%60%20are%20done%20for%20you.%20%20%20%20%20[1]:%20https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)%20%20%20[2]:%20https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()%20%20%20[3]:%20https://en.wikipedia.org/wiki/Integrated_development_environment%20%20%20[4]:%20https://duckduckgo.com/?q=site%3Astackoverflow.com%20java%20override%20equals%20hashcode&amp;t=osx&amp;ia=web%20%20%20[5]:%20https://en.wikipedia.org/wiki/IntelliJ_IDEA%20%20%20[6]:%20https://openjdk.java.net/jeps/395\r\n  [5]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [6]: https://duckduckgo.com/?q=site%3Astackoverflow.com%20java%20override%20equals%20hashcode&amp;t=osx&amp;ia=web\r\n  [7]: https://openjdk.java.net/jeps/395","title":"How to look up for exact same objects with .contains() method in java?","body":"<h1>Override <code>equals</code> (&amp; <code>hashCode</code>)</h1>\n<p>You neglected to provide overrides of the inherited <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Object#equals</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Object#hashCode</code></a> methods.</p>\n<p>The default implementation of <code>equals</code> uses identity to compare, that is, &quot;Do the two object references being compared share the same implicit memory address?&quot;.</p>\n<p>Instead, you want to compare the <em>contents</em> of the two objects. So you need to write that content-comparison code in your own <code>equals</code> method. And whenever overriding <code>equals</code>, it is generally best to override <code>hashCode</code> using the same logic.</p>\n<p>Your <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> will assist you in writing that code. For example, in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a>, see <a href=\"https://www.jetbrains.com/help/idea/generate-equals-and-hashcode-wizard.html\" rel=\"nofollow noreferrer\">this documentation</a> and <a href=\"http://#%20Override%20%60equals%60%20(and%20%60hashCode%60)%20%20You%20neglected%20to%20provide%20overrides%20of%20the%20inherited%20%5B%60Object#equals%60%5D%5B1%5D%20and%20%5B%60Object#hashCode%60%5D%5B2%5D%20methods.%20%20%20The%20default%20implementation%20of%20%60equals%60%20uses%20identity%20to%20compare,%20that%20is,%20%22Do%20the%20two%20object%20references%20being%20compared%20share%20the%20same%20implicit%20memory%20address?%22.%20%20%20Instead,%20you%20want%20to%20compare%20the%20*contents*%20of%20the%20two%20objects.%20So%20you%20need%20to%20write%20that%20content-comparison%20code%20in%20your%20own%20%60equals%60%20method.%20And%20whenever%20overriding%20%60equals%60,%20it%20is%20generally%20best%20to%20override%20%60hashCode%60%20using%20the%20same%20logic.%20%20%20Your%20%5BIDE%5D%5B3%5D%20will%20assist%20you%20in%20writing%20that%20code.%20For%20example,%20see%20%5Bthis%20documentation%5D(https://www.jetbrains.com/help/idea/generate-equals-and-hashcode-wizard.html)%20for%20%5BIntelliJ%5D%5B5%5D.%20%20%20This%20issue%20has%20been%20covered%20many%20times%20on%20Stack%20Overflow.%20So%20%5Bsearch%20to%20learn%20more%5D%5B4%5D.%20%20%20##%20Records%20%20By%20the%20way,%20you%20can%20more%20briefly%20define%20your%20class%20as%20a%20%5Brecord%5D%5B6%5D.%20%20%20%20%20%20%20class%20Archive%20(%20String%20identifier%20,%20String%20name%20)%20%7B%7D%20%20A%20record%20is%20appropriate%20when%20the%20main%20purpose%20of%20your%20class%20is%20to%20communicate%20data%20transparently%20and%20immutably.%20The%20compiler%20implicitly%20creates%20the%20constructor,%20getters,%20%60equals%60%20&amp;%20%60hashCode%60,%20and%20%60toString%60%20methods.%20%20%20So%20using%20a%20record%20makes%20your%20problem%20moot.%20The%20%60equals%60%20&amp;%20%60hashCode%60%20are%20done%20for%20you.%20%20%20%20%20%5B1%5D:%20https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)%20%20%20%5B2%5D:%20https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()%20%20%20%5B3%5D:%20https://en.wikipedia.org/wiki/Integrated_development_environment%20%20%20%5B4%5D:%20https://duckduckgo.com/?q=site%3Astackoverflow.com%20java%20override%20equals%20hashcode&amp;t=osx&amp;ia=web%20%20%20%5B5%5D:%20https://en.wikipedia.org/wiki/IntelliJ_IDEA%20%20%20%5B6%5D:%20https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">this discussion</a>.</p>\n<p>This issue has been covered many times on Stack Overflow. So <a href=\"https://duckduckgo.com/?q=site%3Astackoverflow.com%20java%20override%20equals%20hashcode&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">search to learn more</a>.</p>\n<h2>Records</h2>\n<p>By the way, you can more briefly define your class as a <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<pre><code>record Archive ( String identifier , String name ) {}\n</code></pre>\n<p>A record is appropriate when the main purpose of your class is to communicate data transparently and immutably.</p>\n<p>The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code> methods.</p>\n<p>👉🏾 So using a <strong>record makes your problem moot</strong>, assuming you want to compare each and every member field on the class. The <code>equals</code> &amp; <code>hashCode</code> overrides are provided for you.</p>\n"}],"owner":{"account_id":22541471,"reputation":35,"user_id":16731988,"display_name":"user16731988"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642376601,"accepted_answer_id":70734611,"answer_count":1,"score":1,"last_activity_date":1642376750,"creation_date":1642370558,"question_id":70734529,"body_markdown":"The idea is simple I don&#39;t need to add objects that are already on the list. I guess the problem is that it creates a completely new object and it doesn&#39;t find a match with other identical objects that are already on the list(I might be completely wrong).\r\n\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n    \r\n    public class archive {\r\n    \t\r\n    \tprivate String indentifier;\r\n    \tprivate String name;\r\n    \t\r\n    \tpublic archive(String indentifier,String name) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.indentifier = indentifier;\r\n    \t}\r\n    \tpublic String toString() {\r\n    \t\treturn this.indentifier + &quot;: &quot;+this.name;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;archive&gt; arhivs = new ArrayList&lt;&gt;();\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\tString indentifier, name;\r\n    \t\twhile(true) {\r\n    \t\t\tSystem.out.println(&quot;Indentifier? (empty will stop)&quot;);\r\n    \t\t\tindentifier = scan.nextLine();\r\n    \t\t\tif(indentifier.isEmpty()) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Name?(empty will stop)&quot;);\r\n    \t\t\tname = scan.nextLine();\r\n    \t\t\tif(name.isEmpty()) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tarchive newAr = new archive(indentifier,name);\r\n    \t\t\t\r\n    \t\t\tif(arhivs.contains(newAr)) {\r\n    \t\t\t\tSystem.out.println(&quot;Item is on the list&quot;);\r\n    \t\t\t}else {\r\n    \t\t\t\tarhivs.add(newAr);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;==Items==&quot;);\r\n    \t\tfor(archive arhivi:arhivs) {\r\n    \t\t\tSystem.out.println(arhivi);\r\n    \t\t}\r\n    \t\tscan.close();\r\n    \r\n    \t}\r\n    \r\n    }","title":"How to look up for exact same objects with .contains() method in java?","body":"<p>The idea is simple I don't need to add objects that are already on the list. I guess the problem is that it creates a completely new object and it doesn't find a match with other identical objects that are already on the list(I might be completely wrong).</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class archive {\n    \n    private String indentifier;\n    private String name;\n    \n    public archive(String indentifier,String name) {\n        this.name = name;\n        this.indentifier = indentifier;\n    }\n    public String toString() {\n        return this.indentifier + &quot;: &quot;+this.name;\n    }\n\n    public static void main(String[] args) {\n        ArrayList&lt;archive&gt; arhivs = new ArrayList&lt;&gt;();\n        Scanner scan = new Scanner(System.in);\n        String indentifier, name;\n        while(true) {\n            System.out.println(&quot;Indentifier? (empty will stop)&quot;);\n            indentifier = scan.nextLine();\n            if(indentifier.isEmpty()) {\n                break;\n            }\n            System.out.println(&quot;Name?(empty will stop)&quot;);\n            name = scan.nextLine();\n            if(name.isEmpty()) {\n                break;\n            }\n            archive newAr = new archive(indentifier,name);\n            \n            if(arhivs.contains(newAr)) {\n                System.out.println(&quot;Item is on the list&quot;);\n            }else {\n                arhivs.add(newAr);\n            }\n            \n            \n        }\n        System.out.println(&quot;==Items==&quot;);\n        for(archive arhivi:arhivs) {\n            System.out.println(arhivi);\n        }\n        scan.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","validation","input"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1642372044,"post_id":70734693,"comment_id":125047313,"body_markdown":"Think about exactly what `!choice.equals(&quot;1&quot;) || !choice.equals(&quot;2&quot;)` means. `a || b` is false when both `a` and `b` are false. When will both of your !equals checks be false?","body":"Think about exactly what <code>!choice.equals(&quot;1&quot;) || !choice.equals(&quot;2&quot;)</code> means. <code>a || b</code> is false when both <code>a</code> and <code>b</code> are false. When will both of your !equals checks be false?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642372048,"post_id":70734693,"comment_id":125047315,"body_markdown":"Other then maybe using a `boolean` flag to determine correctness (for the loop), what&#39;s wrong with your current approach?","body":"Other then maybe using a <code>boolean</code> flag to determine correctness (for the loop), what&#39;s wrong with your current approach?"},{"owner":{"account_id":18780646,"reputation":1,"user_id":13695391,"display_name":"panosttm"},"score":0,"creation_date":1642372380,"post_id":70734693,"comment_id":125047387,"body_markdown":"@tgdavies When I give input &quot;1&quot;, which make the condition true, it still refuses to stop the loop","body":"@tgdavies When I give input &quot;1&quot;, which make the condition true, it still refuses to stop the loop"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1642372409,"post_id":70734693,"comment_id":125047395,"body_markdown":"@panosttm just FYI validating command line input isn&#39;t (IMO) the best use of your learning time. HTML5&#39;s input validation is really the state of the art. And most of the time these days you&#39;ll mostly likely be using Java on the server side, where you can use a 400 error to say &quot;bad input&quot;","body":"@panosttm just FYI validating command line input isn&#39;t (IMO) the best use of your learning time. HTML5&#39;s input validation is really the state of the art. And most of the time these days you&#39;ll mostly likely be using Java on the server side, where you can use a 400 error to say &quot;bad input&quot;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642372478,"post_id":70734693,"comment_id":125047409,"body_markdown":"The loop will exit when the condition is `false`, not when it&#39;s `true`.","body":"The loop will exit when the condition is <code>false</code>, not when it&#39;s <code>true</code>."},{"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"score":0,"creation_date":1642372808,"post_id":70734693,"comment_id":125047481,"body_markdown":"Hi Guy,\n\nPlease replace || by &amp;&amp; . The problem is with your logic","body":"Hi Guy,  Please replace || by &amp;&amp; . The problem is with your logic"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642375642,"creation_date":1642372682,"answer_id":70734766,"question_id":70734693,"body_markdown":"Your condition is incorrect. \r\nUse logical AND if need to eliminate both 1 and 2.\r\nI think you wanted to achieve this\r\n\r\n```\r\n       do {\r\n            choice = user_input.nextLine();\r\n\r\n            if (!choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;))\r\n                System.out.println(&quot;Invalid input. Give new value&quot;);\r\n        } while (!choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;));\r\n```\r\n\r\nAlso to remove redundancy and improve the readability of code consider removing the validation logic to a separate method.\r\n```\r\npublic static void main(String[] args) {\r\n        Scanner user_input = new Scanner(System.in);\r\n        String choice = &quot;&quot;;\r\n        \r\n        do {\r\n            choice = user_input.nextLine();\r\n\r\n            if (isValid(choice))\r\n                System.out.println(&quot;Invalid input. Give new value&quot;);\r\n        } while (isValid(choice));\r\n\r\n        System.out.println(&quot;Your input is valid: &quot; + choice);\r\n    }\r\n    \r\n    private static boolean isValid(String choice) {\r\n        return !choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;);\r\n    }\r\n```","title":"How to validate user input in Java?","body":"<p>Your condition is incorrect.\nUse logical AND if need to eliminate both 1 and 2.\nI think you wanted to achieve this</p>\n<pre><code>       do {\n            choice = user_input.nextLine();\n\n            if (!choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;))\n                System.out.println(&quot;Invalid input. Give new value&quot;);\n        } while (!choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;));\n</code></pre>\n<p>Also to remove redundancy and improve the readability of code consider removing the validation logic to a separate method.</p>\n<pre><code>public static void main(String[] args) {\n        Scanner user_input = new Scanner(System.in);\n        String choice = &quot;&quot;;\n        \n        do {\n            choice = user_input.nextLine();\n\n            if (isValid(choice))\n                System.out.println(&quot;Invalid input. Give new value&quot;);\n        } while (isValid(choice));\n\n        System.out.println(&quot;Your input is valid: &quot; + choice);\n    }\n    \n    private static boolean isValid(String choice) {\n        return !choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642373325,"creation_date":1642372693,"answer_id":70734769,"question_id":70734693,"body_markdown":"`if (!choice.equals(&quot;1&quot;) || !choice.equals(&quot;2&quot;))` doesn&#39;t make sense\r\n\r\nI&#39;m pretty simple minded, so I always like to do some simple checks, for example...\r\n\r\n    System.out.println(!true || !false); // !&quot;1&quot;.equals(&quot;1&quot;) || !&quot;1&quot;.equals(&quot;2&quot;)\r\n    System.out.println(!false || !true); // !&quot;2&quot;.equals(&quot;1&quot;) || !&quot;2&quot;.equals(&quot;2&quot;)\r\n    System.out.println(!false || !false); // !&quot;3&quot;.equals(&quot;1&quot;) || !&quot;3&quot;.equals(&quot;2&quot;)\r\n\r\nWhich prints\r\n\r\n    true // Show error message ... this is wrong, `1` is valid\r\n    true // Show error message ... this is wrong, `2` is valid \r\n    true // Show error message ... this is correct\r\n\r\nwhich is obvious wrong, the first statement, we when not `1` or `2`, print an error message\r\n\r\nSo, instead, we should invert the result of both sides of the `||`, for example...\r\n\r\n    System.out.println(!(true  || false)); // !(&quot;1&quot;.equals(&quot;1&quot;) || &quot;1&quot;.equals(&quot;2&quot;))\r\n    System.out.println(!(false  || true)); // !(&quot;2&quot;.equals(&quot;1&quot;) || &quot;2&quot;.equals(&quot;2&quot;))\r\n    System.out.println(!(false || false)); // !(&quot;3&quot;.equals(&quot;1&quot;) || &quot;3&quot;.equals(&quot;2&quot;))\r\n\r\nwhich prints...\r\n\r\n    false // Don&#39;t show error message ... `1` is valid\r\n    false // Don&#39;t show error message ... `2` is valid\r\n    true // Show error message ... `3` is invalid\r\n\r\nOkay, that seems better\r\n\r\nI&#39;d also simplify the exit condition along the way...\r\n\r\n    Scanner user_input = new Scanner(System.in);\r\n    String choice = &quot;&quot;;\r\n    boolean isValidChoice = false;\r\n    // Input Validation\r\n    do {\r\n        // Read user choice\r\n        choice = user_input.nextLine();\r\n\r\n        if (!(choice.equals(&quot;1&quot;) || choice.equals(&quot;2&quot;))) {\r\n            System.out.println(&quot;Invalid input. Give new value&quot;);\r\n        } else {\r\n            isValidChoice = true;\r\n        }\r\n    } while (!isValidChoice);\r\n    System.out.println(&quot;Good choice!&quot;);\r\n","title":"How to validate user input in Java?","body":"<p><code>if (!choice.equals(&quot;1&quot;) || !choice.equals(&quot;2&quot;))</code> doesn't make sense</p>\n<p>I'm pretty simple minded, so I always like to do some simple checks, for example...</p>\n<pre><code>System.out.println(!true || !false); // !&quot;1&quot;.equals(&quot;1&quot;) || !&quot;1&quot;.equals(&quot;2&quot;)\nSystem.out.println(!false || !true); // !&quot;2&quot;.equals(&quot;1&quot;) || !&quot;2&quot;.equals(&quot;2&quot;)\nSystem.out.println(!false || !false); // !&quot;3&quot;.equals(&quot;1&quot;) || !&quot;3&quot;.equals(&quot;2&quot;)\n</code></pre>\n<p>Which prints</p>\n<pre><code>true // Show error message ... this is wrong, `1` is valid\ntrue // Show error message ... this is wrong, `2` is valid \ntrue // Show error message ... this is correct\n</code></pre>\n<p>which is obvious wrong, the first statement, we when not <code>1</code> or <code>2</code>, print an error message</p>\n<p>So, instead, we should invert the result of both sides of the <code>||</code>, for example...</p>\n<pre><code>System.out.println(!(true  || false)); // !(&quot;1&quot;.equals(&quot;1&quot;) || &quot;1&quot;.equals(&quot;2&quot;))\nSystem.out.println(!(false  || true)); // !(&quot;2&quot;.equals(&quot;1&quot;) || &quot;2&quot;.equals(&quot;2&quot;))\nSystem.out.println(!(false || false)); // !(&quot;3&quot;.equals(&quot;1&quot;) || &quot;3&quot;.equals(&quot;2&quot;))\n</code></pre>\n<p>which prints...</p>\n<pre><code>false // Don't show error message ... `1` is valid\nfalse // Don't show error message ... `2` is valid\ntrue // Show error message ... `3` is invalid\n</code></pre>\n<p>Okay, that seems better</p>\n<p>I'd also simplify the exit condition along the way...</p>\n<pre><code>Scanner user_input = new Scanner(System.in);\nString choice = &quot;&quot;;\nboolean isValidChoice = false;\n// Input Validation\ndo {\n    // Read user choice\n    choice = user_input.nextLine();\n\n    if (!(choice.equals(&quot;1&quot;) || choice.equals(&quot;2&quot;))) {\n        System.out.println(&quot;Invalid input. Give new value&quot;);\n    } else {\n        isValidChoice = true;\n    }\n} while (!isValidChoice);\nSystem.out.println(&quot;Good choice!&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18780646,"reputation":1,"user_id":13695391,"display_name":"panosttm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642372803,"creation_date":1642372803,"answer_id":70734777,"question_id":70734693,"body_markdown":"There&#39;s a logical error in the conditions. There should be &quot;&amp;&amp;&quot; instead of &quot;||&quot;.\r\n\r\nThanks to @tgdavies.\r\n\r\nLike this...\r\n```Scanner user_input = new Scanner(System.in);\r\n        String choice = &quot;&quot;;\r\n        // Input Validation\r\n        do {\r\n           // Read user choice\r\n           choice = user_input.nextLine();\r\n\r\n           if (!choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;))\r\n              System.out.println(&quot;Invalid input. Give new value&quot;);\r\n        }while (!choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;));","title":"How to validate user input in Java?","body":"<p>There's a logical error in the conditions. There should be &quot;&amp;&amp;&quot; instead of &quot;||&quot;.</p>\n<p>Thanks to @tgdavies.</p>\n<p>Like this...</p>\n<pre><code>        String choice = &quot;&quot;;\n        // Input Validation\n        do {\n           // Read user choice\n           choice = user_input.nextLine();\n\n           if (!choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;))\n              System.out.println(&quot;Invalid input. Give new value&quot;);\n        }while (!choice.equals(&quot;1&quot;) &amp;&amp; !choice.equals(&quot;2&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642376386,"creation_date":1642374798,"answer_id":70734973,"question_id":70734693,"body_markdown":"You can escape in the middle of the loop if the input is valid.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner user_input = new Scanner(System.in);\r\n        String choice = &quot;&quot;;\r\n        // Input Validation\r\n        while (true) {\r\n            // Read user choice\r\n            choice = user_input.nextLine();\r\n            if (choice.equals(&quot;1&quot;) || choice.equals(&quot;2&quot;))\r\n                break;\r\n            System.out.println(&quot;Invalid input. Give new value&quot;);\r\n        }\r\n    }\r\n","title":"How to validate user input in Java?","body":"<p>You can escape in the middle of the loop if the input is valid.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner user_input = new Scanner(System.in);\n    String choice = &quot;&quot;;\n    // Input Validation\n    while (true) {\n        // Read user choice\n        choice = user_input.nextLine();\n        if (choice.equals(&quot;1&quot;) || choice.equals(&quot;2&quot;))\n            break;\n        System.out.println(&quot;Invalid input. Give new value&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18780646,"reputation":1,"user_id":13695391,"display_name":"panosttm"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642376229,"accepted_answer_id":70734766,"answer_count":4,"score":-1,"last_activity_date":1642376386,"creation_date":1642371909,"question_id":70734693,"body_markdown":"I&#39;m trying to get user input and check if it is &quot;1&quot; or &quot;2&quot; and display an error messages if it&#39;s not. I keep getting error messages even when the input is correct.\r\n```\r\nScanner user_input = new Scanner(System.in);\r\nString choice = &quot;&quot;;\r\n// Input Validation\r\ndo {\r\n   // Read user choice\r\n   choice = user_input.nextLine();\r\n            \r\n   if (!choice.equals(&quot;1&quot;) || !choice.equals(&quot;2&quot;))\r\n      System.out.println(&quot;Invalid input. Give new value&quot;);\r\n   }while (!choice.equals(&quot;1&quot;) || !choice.equals(&quot;2&quot;));```\r\n\r\n","title":"How to validate user input in Java?","body":"<p>I'm trying to get user input and check if it is &quot;1&quot; or &quot;2&quot; and display an error messages if it's not. I keep getting error messages even when the input is correct.</p>\n<pre><code>Scanner user_input = new Scanner(System.in);\nString choice = &quot;&quot;;\n// Input Validation\ndo {\n   // Read user choice\n   choice = user_input.nextLine();\n            \n   if (!choice.equals(&quot;1&quot;) || !choice.equals(&quot;2&quot;))\n      System.out.println(&quot;Invalid input. Give new value&quot;);\n   }while (!choice.equals(&quot;1&quot;) || !choice.equals(&quot;2&quot;));```\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14586615,"reputation":176,"user_id":10535200,"display_name":"Oğuzhan Aslan"},"score":3,"creation_date":1642365117,"post_id":70733873,"comment_id":125045858,"body_markdown":"It seems to me that you are trying to generalize the classes but also support the details of the subclasses. From my personal experience, this is not feasible and yet not easy thing to do without typecasting. I think if they do not have a common thing to do you should use their own interface i.e ServiceUM should take a ServerUserService.","body":"It seems to me that you are trying to generalize the classes but also support the details of the subclasses. From my personal experience, this is not feasible and yet not easy thing to do without typecasting. I think if they do not have a common thing to do you should use their own interface i.e ServiceUM should take a ServerUserService."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1642366684,"post_id":70733873,"comment_id":125046225,"body_markdown":"I still don&#39;t understand. Why can&#39;t you just `public ServerUserManager(ServerUserService sus)` ? A DI framework should be able to work with that.","body":"I still don&#39;t understand. Why can&#39;t you just <code>public ServerUserManager(ServerUserService sus)</code> ? A DI framework should be able to work with that."},{"owner":{"account_id":2724258,"reputation":1743,"user_id":2349787,"accept_rate":61,"display_name":"EchtFettigerKeks"},"score":0,"creation_date":1642373585,"post_id":70733873,"comment_id":125047598,"body_markdown":"The problem is that I keep `userService`:UserService as a field in the super class, so I always have to type cast it in the sub-classes. Of course, I could also keep a reference to the same object in the subs from type `ServerUserService` or `ClientUserService`, but that would be redundant. So the parent class would manage the same reference just of a different type. For the methods in the parent/super class, I would consider userService; I would keep the sub-service version in the sub/child class. At the end both would be references to the same object, just of different types.","body":"The problem is that I keep <code>userService</code>:UserService as a field in the super class, so I always have to type cast it in the sub-classes. Of course, I could also keep a reference to the same object in the subs from type <code>ServerUserService</code> or <code>ClientUserService</code>, but that would be redundant. So the parent class would manage the same reference just of a different type. For the methods in the parent/super class, I would consider userService; I would keep the sub-service version in the sub/child class. At the end both would be references to the same object, just of different types."}],"answers":[{"tags":[],"owner":{"account_id":4117933,"reputation":5487,"user_id":3379058,"accept_rate":45,"display_name":"Tal Joffe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642365916,"creation_date":1642365398,"answer_id":70733962,"question_id":70733873,"body_markdown":"I&#39;m not entirely clear what you are trying to achieve but I will suggest in general to try and use design patterns according to your use case.\r\n\r\nThis one seems similar to a &quot;Strategy Pattern&quot;.\r\nYou have a context (UserManager) that should get some specific strategy (UserService) and use it.\r\n\r\nFor example:\r\n\r\n    public interface UserService {    \r\n        public void execute(); \r\n    }\r\n    \r\n    public class ServerUserService implements UserService {\r\n        public void execute(){\r\n           //does something for server    \r\n        }; \r\n    }\r\n    \r\n    class ServerUserManager {\r\n        private UserService userService;\r\n     \r\n        public ServerUserManager(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n     \r\n        public void doSomething() {\r\n            return this.userService.execute();\r\n        }\r\n    };\r\n\r\nYou can google &quot;Strategy Pattern&quot; to see different flavours of implementation\r\n","title":"Avoid type casting for subclasses","body":"<p>I'm not entirely clear what you are trying to achieve but I will suggest in general to try and use design patterns according to your use case.</p>\n<p>This one seems similar to a &quot;Strategy Pattern&quot;.\nYou have a context (UserManager) that should get some specific strategy (UserService) and use it.</p>\n<p>For example:</p>\n<pre><code>public interface UserService {    \n    public void execute(); \n}\n\npublic class ServerUserService implements UserService {\n    public void execute(){\n       //does something for server    \n    }; \n}\n\nclass ServerUserManager {\n    private UserService userService;\n \n    public ServerUserManager(UserService userService) {\n        this.userService = userService;\n    }\n \n    public void doSomething() {\n        return this.userService.execute();\n    }\n};\n</code></pre>\n<p>You can google &quot;Strategy Pattern&quot; to see different flavours of implementation</p>\n"},{"tags":[],"owner":{"account_id":23959813,"reputation":21,"user_id":17950066,"display_name":"Michael Poirier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642376363,"creation_date":1642376363,"answer_id":70735122,"question_id":70733873,"body_markdown":"One option is to use generics:\r\n\r\n```java\r\npublic abstract class UserManager&lt;T extends UserService&gt; {\r\n\r\n    protected final T userService;\r\n\r\n    public UserManager(T userService) {\r\n        this.userService = userService;\r\n    }\r\n}\r\n\r\npublic class ServerUserManager extends UserManager&lt;ServerUserService&gt; {\r\n\r\n    public ServerUserManager(ServerUserService userService) {\r\n        super(userService);\r\n    }\r\n\r\n    public void someMethod() {\r\n        userService.doSomethingForSERVERONLY();\r\n    }\r\n}\r\n```","title":"Avoid type casting for subclasses","body":"<p>One option is to use generics:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class UserManager&lt;T extends UserService&gt; {\n\n    protected final T userService;\n\n    public UserManager(T userService) {\n        this.userService = userService;\n    }\n}\n\npublic class ServerUserManager extends UserManager&lt;ServerUserService&gt; {\n\n    public ServerUserManager(ServerUserService userService) {\n        super(userService);\n    }\n\n    public void someMethod() {\n        userService.doSomethingForSERVERONLY();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2724258,"reputation":1743,"user_id":2349787,"accept_rate":61,"display_name":"EchtFettigerKeks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1642376363,"creation_date":1642364578,"question_id":70733873,"body_markdown":"I have two classes that inherit from the same class:\r\n\r\n```lang-java\r\nClientUserManager extends UserManager\r\n```\r\nand\r\n```lang-java\r\nServerUserManager extends UserManager\r\n```\r\nUserManager is abstract.\r\n\r\n```lang-java\r\npublic abstract class UserManager {\r\n\r\n    protected final UserService userService;\r\n\r\n    public UserManager(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n```\r\n\r\nAs an example, the server subclass:\r\n\r\n```lang-java\r\npublic class ServerUserManager extends UserManager {\r\n\r\n    public ServerUserManager(UserService userService) {\r\n        super(userService);\r\n    }\r\n\r\n    public void someMethod() {\r\n        ((ServerUserSerivice)userService).doSomethingForSERVERONLY();\r\n    }\r\n```\r\n\r\nHowever, my sub-classes should each be able to use their specializations of `UserService` (`ClientUserService` or `ServerUserService`), as you can already see from `someMethod()`. I would like to be able to do without the constant typecasting.\r\n\r\nIs there a more elegant or generic solution?\r\n\r\n&gt; Side info: To justify why I want to both generalize things and keep\r\n&gt; specializations at the same time (as Oğuzhan Aslan already pointed\r\n&gt; out), let me say that I use a dependency injection framework (Dagger\r\n&gt; 2)  which gives me for the same &quot;key&quot;/superclass, the respective\r\n&gt; implementation in return (here client or server).\r\n\r\n","title":"Avoid type casting for subclasses","body":"<p>I have two classes that inherit from the same class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClientUserManager extends UserManager\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServerUserManager extends UserManager\n</code></pre>\n<p>UserManager is abstract.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class UserManager {\n\n    protected final UserService userService;\n\n    public UserManager(UserService userService) {\n        this.userService = userService;\n    }\n</code></pre>\n<p>As an example, the server subclass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServerUserManager extends UserManager {\n\n    public ServerUserManager(UserService userService) {\n        super(userService);\n    }\n\n    public void someMethod() {\n        ((ServerUserSerivice)userService).doSomethingForSERVERONLY();\n    }\n</code></pre>\n<p>However, my sub-classes should each be able to use their specializations of <code>UserService</code> (<code>ClientUserService</code> or <code>ServerUserService</code>), as you can already see from <code>someMethod()</code>. I would like to be able to do without the constant typecasting.</p>\n<p>Is there a more elegant or generic solution?</p>\n<blockquote>\n<p>Side info: To justify why I want to both generalize things and keep\nspecializations at the same time (as Oğuzhan Aslan already pointed\nout), let me say that I use a dependency injection framework (Dagger\n2)  which gives me for the same &quot;key&quot;/superclass, the respective\nimplementation in return (here client or server).</p>\n</blockquote>\n"},{"tags":["java","android","android-11","file-watcher"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1642381478,"post_id":70735026,"comment_id":125048818,"body_markdown":"&quot;I&#39;m writing an Android Service to detect when an image is captured using the camera&quot; -- there is no requirement for a camera app to write its images to a directory that your app can access, let alone to that specific directory. &quot;Is this the typical, or guaranteed behaviour of the Android OS?&quot; -- personally, I doubt that it has much to do with the OS. My guess is that this is the behavior of the specific camera app that you happen to be using.","body":"&quot;I&#39;m writing an Android Service to detect when an image is captured using the camera&quot; -- there is no requirement for a camera app to write its images to a directory that your app can access, let alone to that specific directory. &quot;Is this the typical, or guaranteed behaviour of the Android OS?&quot; -- personally, I doubt that it has much to do with the OS. My guess is that this is the behavior of the specific camera app that you happen to be using."},{"owner":{"account_id":4286646,"reputation":559,"user_id":3504181,"accept_rate":93,"display_name":"sanevys"},"score":0,"creation_date":1661848593,"post_id":70735026,"comment_id":129862889,"body_markdown":"Did you managed to solve the problem?","body":"Did you managed to solve the problem?"}],"owner":{"account_id":4108165,"reputation":1785,"user_id":3395619,"accept_rate":89,"display_name":"ChristianF"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642375373,"creation_date":1642375373,"question_id":70735026,"body_markdown":"I&#39;m writing an Android Service to detect when an image is captured using the camera. Once it&#39;s captured I need to get the image contents into a byte array.\r\n\r\nHere are the important parts of the `onStartCommand` method of the Service:\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        String imgsPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/DCIM/Camera&quot;;\r\n        \r\n        // fileObserver is an instance variable so that it doesn&#39;t get garbage collected after onStartCommand runs\r\n        this.fileObserver = new FileObserver(imgsPath, FileObserver.ALL_EVENTS) {\r\n            @Override\r\n            public void onEvent(int event, @Nullable String path) {\r\n                \r\n                if (event != FileObserver.CREATE)\r\n                    return;\r\n\r\n                byte[] bytes = new byte[0];\r\n                String filePath = imgsPath + &quot;/&quot; + path;\r\n\r\n                try {\r\n                    bytes = org.apache.commons.io.FileUtils.readFileToByteArray(new File(filePath));\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                // ... additional unimportant things for this question.\r\n            }\r\n        };\r\n        this.fileObserver.startWatching();\r\n        return START_STICKY; // If service gets killed, after returning from here then restart\r\n    }\r\n\r\n`onEvent` runs whenever I capture an image with the camera. However, when I attempt to read the file into a byte array (the LOC in the `try` does this), I receive the following exception/stack trace:\r\n\r\n```\r\nW/System.err: java.io.IOException: File &#39;/storage/emulated/0/DCIM/Camera/.pending-1642979007-20220116_150327.jpg&#39; cannot be read\r\nW/System.err:     at org.apache.commons.io.FileUtils.openInputStream(FileUtils.java:294)\r\nW/System.err:     at org.apache.commons.io.FileUtils.readFileToByteArray(FileUtils.java:1851)\r\n```\r\n\r\nMy hunch is that as the file is being written to the system (all the bytes aren&#39;t saved to the disk yet) that the `.pending-1642979007-20220116_150327.jpg` file is used, and then renamed to `20220116_150327.jpg`. Is this the typical, or guaranteed behaviour of the Android OS? Stepping through the debugger I don&#39;t see another `CREATE` event for the `20220116_150327.jpg` file.\r\n\r\nIf I want to only deal with the file once it&#39;s in a non-pending file state (everything has been written to disk) how should I do this? Is detecting the renaming of the `.pending` file how it should be done?","title":"Listening for a camera capture using FileObserver: how to deal with temporary .pending files and get photo into byte array","body":"<p>I'm writing an Android Service to detect when an image is captured using the camera. Once it's captured I need to get the image contents into a byte array.</p>\n<p>Here are the important parts of the <code>onStartCommand</code> method of the Service:</p>\n<pre><code>@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    String imgsPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/DCIM/Camera&quot;;\n    \n    // fileObserver is an instance variable so that it doesn't get garbage collected after onStartCommand runs\n    this.fileObserver = new FileObserver(imgsPath, FileObserver.ALL_EVENTS) {\n        @Override\n        public void onEvent(int event, @Nullable String path) {\n            \n            if (event != FileObserver.CREATE)\n                return;\n\n            byte[] bytes = new byte[0];\n            String filePath = imgsPath + &quot;/&quot; + path;\n\n            try {\n                bytes = org.apache.commons.io.FileUtils.readFileToByteArray(new File(filePath));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            // ... additional unimportant things for this question.\n        }\n    };\n    this.fileObserver.startWatching();\n    return START_STICKY; // If service gets killed, after returning from here then restart\n}\n</code></pre>\n<p><code>onEvent</code> runs whenever I capture an image with the camera. However, when I attempt to read the file into a byte array (the LOC in the <code>try</code> does this), I receive the following exception/stack trace:</p>\n<pre><code>W/System.err: java.io.IOException: File '/storage/emulated/0/DCIM/Camera/.pending-1642979007-20220116_150327.jpg' cannot be read\nW/System.err:     at org.apache.commons.io.FileUtils.openInputStream(FileUtils.java:294)\nW/System.err:     at org.apache.commons.io.FileUtils.readFileToByteArray(FileUtils.java:1851)\n</code></pre>\n<p>My hunch is that as the file is being written to the system (all the bytes aren't saved to the disk yet) that the <code>.pending-1642979007-20220116_150327.jpg</code> file is used, and then renamed to <code>20220116_150327.jpg</code>. Is this the typical, or guaranteed behaviour of the Android OS? Stepping through the debugger I don't see another <code>CREATE</code> event for the <code>20220116_150327.jpg</code> file.</p>\n<p>If I want to only deal with the file once it's in a non-pending file state (everything has been written to disk) how should I do this? Is detecting the renaming of the <code>.pending</code> file how it should be done?</p>\n"},{"tags":["java","garbage-collection","jvm","allocation"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1642374062,"post_id":70732356,"comment_id":125047709,"body_markdown":"JFR has allocation profiling, however, it is not enabled in default settings. Choose `settings=profile` or your custom settings file with enabled allocation events. Or try [async-profiler](https://github.com/jvm-profiling-tools/async-profiler/), which has [`alloc`](https://github.com/jvm-profiling-tools/async-profiler/#allocation-profiling) profiling mode.","body":"JFR has allocation profiling, however, it is not enabled in default settings. Choose <code>settings=profile</code> or your custom settings file with enabled allocation events. Or try <a href=\"https://github.com/jvm-profiling-tools/async-profiler/\" rel=\"nofollow noreferrer\">async-profiler</a>, which has <a href=\"https://github.com/jvm-profiling-tools/async-profiler/#allocation-profiling\" rel=\"nofollow noreferrer\"><code>alloc</code></a> profiling mode."}],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642374787,"creation_date":1642374103,"answer_id":70734903,"question_id":70732356,"body_markdown":"JDK Flight Recorder (JFR) can measure allocation rate per allocation site (method), but it&#39;s sample based, so it trades accuracy for overhead. You need a few thousands samples. The overhead of recording the stack trace (or method) for every allocation is enormous and would bring the application to a halt. \r\n\r\nJDK 16 introduced a new event (ObjectAllocationSample) that caps the number of events per second. You should be able to see it in JMC. If not, here is a small program that will give you a histogram of allocation per method. \r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Path;\r\n    import java.util.*;\r\n    import jdk.jfr.consumer.*;\r\n\r\n    public class AllocationHistogram {\r\n\t  public static void main(String[] args) throws IOException {\r\n\t\tif (args.length != 1) {\r\n\t      System.err.println(&quot;Must specify a recording file.&quot;);\r\n          return;\r\n\t\t}\r\n\t\tMap&lt;String, Long&gt; histogram = new HashMap&lt;&gt;();\r\n\t\ttry (var es = EventStream.openFile(Path.of(args[0]))) {\r\n\t\t  es.onEvent(&quot;jdk.ObjectAllocationSample&quot;, e -&gt; {\r\n\t\t\tRecordedStackTrace s = e.getStackTrace();\r\n\t\t\tif (s != null) {\r\n\t\t\t  RecordedFrame topFrame = s.getFrames().get(0);\r\n\t\t\t  if (topFrame.isJavaFrame()) {\r\n\t\t\t    RecordedMethod m = topFrame.getMethod();\r\n\t\t\t\tString className = m.getType().getName();\r\n\t\t\t\tString key = className + &quot;.&quot; + m.getName();\r\n\t\t\t\thistogram.merge(key, e.getLong(&quot;weight&quot;), (a, b) -&gt; a + b);\r\n\t\t\t   }\r\n\t\t     }\r\n\t       });\r\n\t       es.start();\r\n        }\r\n\t    var list = new ArrayList&lt;&gt;(histogram.entrySet());\r\n\t    list.sort(Map.Entry.&lt;String, Long&gt;comparingByValue().reversed());\r\n\r\n\t    for (var entry : list) {\r\n\t\t  System.out.printf(&quot;%12dk %s\\n&quot;, entry.getValue() /1024, entry.getKey());\r\n\t    }\r\n\t  }\r\n    }\r\n\r\n\r\nUsage:\r\n\r\n    $ java -XX:StartFlightRecording:filename=recording.jfr ...\r\n    $ # Stop the program after two minutes (CTRL+C)\r\n    $ java AllocationHistogram.java recording.jfr\r\n\r\n    16688k java.util.HashMap.newNode \r\n     1022k java.lang.AbstractStringBuilder.&lt;init&gt;\r\n      511k java.lang.Long.valueOf \r\n       ... ...\r\n\r\n\r\n\r\n\r\n","title":"how to measure method allocation rate?","body":"<p>JDK Flight Recorder (JFR) can measure allocation rate per allocation site (method), but it's sample based, so it trades accuracy for overhead. You need a few thousands samples. The overhead of recording the stack trace (or method) for every allocation is enormous and would bring the application to a halt.</p>\n<p>JDK 16 introduced a new event (ObjectAllocationSample) that caps the number of events per second. You should be able to see it in JMC. If not, here is a small program that will give you a histogram of allocation per method.</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Path;\nimport java.util.*;\nimport jdk.jfr.consumer.*;\n\npublic class AllocationHistogram {\n  public static void main(String[] args) throws IOException {\n    if (args.length != 1) {\n      System.err.println(&quot;Must specify a recording file.&quot;);\n      return;\n    }\n    Map&lt;String, Long&gt; histogram = new HashMap&lt;&gt;();\n    try (var es = EventStream.openFile(Path.of(args[0]))) {\n      es.onEvent(&quot;jdk.ObjectAllocationSample&quot;, e -&gt; {\n        RecordedStackTrace s = e.getStackTrace();\n        if (s != null) {\n          RecordedFrame topFrame = s.getFrames().get(0);\n          if (topFrame.isJavaFrame()) {\n            RecordedMethod m = topFrame.getMethod();\n            String className = m.getType().getName();\n            String key = className + &quot;.&quot; + m.getName();\n            histogram.merge(key, e.getLong(&quot;weight&quot;), (a, b) -&gt; a + b);\n           }\n         }\n       });\n       es.start();\n    }\n    var list = new ArrayList&lt;&gt;(histogram.entrySet());\n    list.sort(Map.Entry.&lt;String, Long&gt;comparingByValue().reversed());\n\n    for (var entry : list) {\n      System.out.printf(&quot;%12dk %s\\n&quot;, entry.getValue() /1024, entry.getKey());\n    }\n  }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>$ java -XX:StartFlightRecording:filename=recording.jfr ...\n$ # Stop the program after two minutes (CTRL+C)\n$ java AllocationHistogram.java recording.jfr\n\n16688k java.util.HashMap.newNode \n 1022k java.lang.AbstractStringBuilder.&lt;init&gt;\n  511k java.lang.Long.valueOf \n   ... ...\n</code></pre>\n"}],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70734903,"answer_count":1,"score":1,"last_activity_date":1642374787,"creation_date":1642353276,"question_id":70732356,"body_markdown":"Is there any profiler or tool (`jconsole`, `jfr`, `VisualVM`, ... ) for the `JVM` which shows methods along their allocation rate?\r\n\r\nI mean, something like this\r\n\r\n```\r\norg.package1.Class1.method1, 145k\r\norg.package2.Class3.method5, 34k\r\n```\r\n\r\nAlso I am looking for a way to see which methods are being the most interrupted because of allocation pauses.\r\n\r\n* `VisualVM`, for instance, shows allocation rate by thread, not by method\r\n* `JFR` allows to track Garbage Collection Events and does some kind of memory and method profiling. But later, using JMC I am not able to see allocation rate by method. Method profiling is for cpu flame graph.\r\n\r\nMaybe it is not possible, or does not have sense. But this is all just for gc learning purposes and I would like to investigate further.","title":"how to measure method allocation rate?","body":"<p>Is there any profiler or tool (<code>jconsole</code>, <code>jfr</code>, <code>VisualVM</code>, ... ) for the <code>JVM</code> which shows methods along their allocation rate?</p>\n<p>I mean, something like this</p>\n<pre><code>org.package1.Class1.method1, 145k\norg.package2.Class3.method5, 34k\n</code></pre>\n<p>Also I am looking for a way to see which methods are being the most interrupted because of allocation pauses.</p>\n<ul>\n<li><code>VisualVM</code>, for instance, shows allocation rate by thread, not by method</li>\n<li><code>JFR</code> allows to track Garbage Collection Events and does some kind of memory and method profiling. But later, using JMC I am not able to see allocation rate by method. Method profiling is for cpu flame graph.</li>\n</ul>\n<p>Maybe it is not possible, or does not have sense. But this is all just for gc learning purposes and I would like to investigate further.</p>\n"},{"tags":["java","parsing","cucumber","gherkin","feature-file"],"answers":[{"tags":[],"owner":{"account_id":9337991,"reputation":39,"user_id":6931648,"display_name":"lawrence wamala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642374751,"creation_date":1642374452,"answer_id":70734950,"question_id":69882357,"body_markdown":"I had a similar problem recently, i wanted to store my string and retrieve it without loosing its formating, what i did was to simply compress the string before storing it, then uncompress it at retrievial, more like this:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.zip.GZIPInputStream;\r\n    import java.util.zip.GZIPOutputStream;\r\n    \r\n    public class GZIPCompression {\r\n      public static byte[] compress(final String str) throws IOException {\r\n        if ((str == null) || (str.length() == 0)) {\r\n          return null;\r\n        }\r\n        ByteArrayOutputStream obj = new ByteArrayOutputStream();\r\n        GZIPOutputStream gzip = new GZIPOutputStream(obj);\r\n        gzip.write(str.getBytes(&quot;UTF-8&quot;));\r\n        gzip.flush();\r\n        gzip.close();\r\n        return obj.toByteArray();\r\n      }\r\n    \r\n      public static String decompress(final byte[] compressed) throws IOException {\r\n        final StringBuilder outStr = new StringBuilder();\r\n        if ((compressed == null) || (compressed.length == 0)) {\r\n          return &quot;&quot;;\r\n        }\r\n        if (isCompressed(compressed)) {\r\n          final GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(compressed));\r\n          final BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(gis, &quot;UTF-8&quot;));\r\n    \r\n          String line;\r\n          while ((line = bufferedReader.readLine()) != null) {\r\n            outStr.append(line);\r\n          }\r\n        } else {\r\n          outStr.append(compressed);\r\n        }\r\n        return outStr.toString();\r\n      }\r\n    \r\n      public static boolean isCompressed(final byte[] compressed) {\r\n        return (compressed[0] == (byte) (GZIPInputStream.GZIP_MAGIC)) &amp;&amp; (compressed[1] == (byte) (GZIPInputStream.GZIP_MAGIC &gt;&gt; 8));\r\n      }\r\n    }","title":"Is there a way in Java to format a Gherkin Document as String?","body":"<p>I had a similar problem recently, i wanted to store my string and retrieve it without loosing its formating, what i did was to simply compress the string before storing it, then uncompress it at retrievial, more like this:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.zip.GZIPInputStream;\nimport java.util.zip.GZIPOutputStream;\n\npublic class GZIPCompression {\n  public static byte[] compress(final String str) throws IOException {\n    if ((str == null) || (str.length() == 0)) {\n      return null;\n    }\n    ByteArrayOutputStream obj = new ByteArrayOutputStream();\n    GZIPOutputStream gzip = new GZIPOutputStream(obj);\n    gzip.write(str.getBytes(&quot;UTF-8&quot;));\n    gzip.flush();\n    gzip.close();\n    return obj.toByteArray();\n  }\n\n  public static String decompress(final byte[] compressed) throws IOException {\n    final StringBuilder outStr = new StringBuilder();\n    if ((compressed == null) || (compressed.length == 0)) {\n      return &quot;&quot;;\n    }\n    if (isCompressed(compressed)) {\n      final GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(compressed));\n      final BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(gis, &quot;UTF-8&quot;));\n\n      String line;\n      while ((line = bufferedReader.readLine()) != null) {\n        outStr.append(line);\n      }\n    } else {\n      outStr.append(compressed);\n    }\n    return outStr.toString();\n  }\n\n  public static boolean isCompressed(final byte[] compressed) {\n    return (compressed[0] == (byte) (GZIPInputStream.GZIP_MAGIC)) &amp;&amp; (compressed[1] == (byte) (GZIPInputStream.GZIP_MAGIC &gt;&gt; 8));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":21483716,"reputation":11,"user_id":15830667,"display_name":"DouglasLojta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642374751,"creation_date":1636368985,"question_id":69882357,"body_markdown":"In my Java program, I have parsed a Cucumber Feature File to a GherkinDocument. I have edited some tags in this Document. Now I want to write the Code of the GherkinDocument in a Feature File.\r\n\r\nFor that, I want to translate the Gherkin Document to a String or String Array, a De-Parsing if you will.\r\nThis is how I parsed the Feature File Text to a GherkinDocument: \r\n\r\n            Parser&lt;GherkinDocument&gt; parser = new Parser&lt;&gt;(new GherkinDocumentBuilder(idGenerator));\r\n            GherkinDocument doc = parser.parse(reader);\r\n            return doc;\r\n\r\nThe Parser is from the repo: \r\nhttps://github.com/cucumber/common/blob/gherkin/v21.0.0/gherkin/java/src/test/java/io/cucumber/gherkin/GherkinDocumentBuilderTest.java\r\n\r\nIs there a way to do this?\r\n\r\nThank you very much and regards,\r\nLukas","title":"Is there a way in Java to format a Gherkin Document as String?","body":"<p>In my Java program, I have parsed a Cucumber Feature File to a GherkinDocument. I have edited some tags in this Document. Now I want to write the Code of the GherkinDocument in a Feature File.</p>\n<p>For that, I want to translate the Gherkin Document to a String or String Array, a De-Parsing if you will.\nThis is how I parsed the Feature File Text to a GherkinDocument:</p>\n<pre><code>        Parser&lt;GherkinDocument&gt; parser = new Parser&lt;&gt;(new GherkinDocumentBuilder(idGenerator));\n        GherkinDocument doc = parser.parse(reader);\n        return doc;\n</code></pre>\n<p>The Parser is from the repo:\n<a href=\"https://github.com/cucumber/common/blob/gherkin/v21.0.0/gherkin/java/src/test/java/io/cucumber/gherkin/GherkinDocumentBuilderTest.java\" rel=\"nofollow noreferrer\">https://github.com/cucumber/common/blob/gherkin/v21.0.0/gherkin/java/src/test/java/io/cucumber/gherkin/GherkinDocumentBuilderTest.java</a></p>\n<p>Is there a way to do this?</p>\n<p>Thank you very much and regards,\nLukas</p>\n"},{"tags":["java","android","in-app-purchase","in-app-billing"],"comments":[{"owner":{"account_id":1823661,"reputation":115,"user_id":1657093,"accept_rate":50,"display_name":"Vivek"},"score":0,"creation_date":1658404037,"post_id":69700122,"comment_id":129045889,"body_markdown":"hi did you resolved this issue now, i face the same issue, even on google play billing library v5.0","body":"hi did you resolved this issue now, i face the same issue, even on google play billing library v5.0"}],"owner":{"account_id":22856176,"reputation":11,"user_id":17001012,"display_name":"Riggel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642374692,"creation_date":1635103974,"question_id":69700122,"body_markdown":"I want every time I start the application check if a premium user has bought.\r\nI do not have a server and I want to perform all actions in the client.\r\nI write the value whether there is a premium in a global variable Application class.\r\nI wrote a function and it works, I&#39;ve tested many times everything seems to work.\r\nBut the last time I made a refund through Google Developer Console, the premium version remained in the application. When I deleted the data and cache, Google Play Market premium disappeared.\r\n\r\n    public void checkIsPremium(){\r\n        if (billingClient != null &amp;&amp; billingClient.isReady()){\r\n            billingClient.queryPurchasesAsync(BillingClient.SkuType.INAPP, (billingResult, list) -&gt; {               \r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list.size() != 0){\r\n                    if (list.get(0).getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp; list.get(0).isAcknowledged()){\r\n                        if (verifyValidSignature(list.get(0).getOriginalJson(), list.get(0).getSignature())){\r\n                           //The user has a premium\r\n                            AppGlobal.getInstance().setIsPremium(true);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\nI have 2 questions:\r\n\r\n 1. Can I use `queryPurchasesAsync()` to find out that a user has bought an item?\r\n 2. Users can refund and keep the premium, what should I do?\r\n\r\n       ","title":"Google Billing Library v4 Check if the item was purchased","body":"<p>I want every time I start the application check if a premium user has bought.\nI do not have a server and I want to perform all actions in the client.\nI write the value whether there is a premium in a global variable Application class.\nI wrote a function and it works, I've tested many times everything seems to work.\nBut the last time I made a refund through Google Developer Console, the premium version remained in the application. When I deleted the data and cache, Google Play Market premium disappeared.</p>\n<pre><code>public void checkIsPremium(){\n    if (billingClient != null &amp;&amp; billingClient.isReady()){\n        billingClient.queryPurchasesAsync(BillingClient.SkuType.INAPP, (billingResult, list) -&gt; {               \n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list.size() != 0){\n                if (list.get(0).getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp; list.get(0).isAcknowledged()){\n                    if (verifyValidSignature(list.get(0).getOriginalJson(), list.get(0).getSignature())){\n                       //The user has a premium\n                        AppGlobal.getInstance().setIsPremium(true);\n                    }\n                }\n            }\n        });\n    }\n</code></pre>\n<p>I have 2 questions:</p>\n<ol>\n<li>Can I use <code>queryPurchasesAsync()</code> to find out that a user has bought an item?</li>\n<li>Users can refund and keep the premium, what should I do?</li>\n</ol>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1296841560,"creation_date":1296841560,"answer_id":4901190,"question_id":4901128,"body_markdown":"You can do the following\r\n\r\n    array.getClass() == \r\n        Array.newInstance(array.getClass().getComponentType(), 0).getClass()\r\n\r\nUsually, you don&#39;t need to know the type, you just want to create the array.","title":"Obtaining the array Class of a component type","body":"<p>You can do the following</p>\n\n<pre><code>array.getClass() == \n    Array.newInstance(array.getClass().getComponentType(), 0).getClass()\n</code></pre>\n\n<p>Usually, you don't need to know the type, you just want to create the array.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":63,"is_accepted":true,"score":62,"last_activity_date":1296843314,"creation_date":1296841562,"answer_id":4901192,"question_id":4901128,"body_markdown":"One thing that comes to mind is:\r\n\r\n    java.lang.reflect.Array.newInstance(componentType, 0).getClass();\r\n\r\nBut it creates an unnecessary instance.\r\n\r\nBtw, this appears to work:\r\n\r\n    Class clazz = Class.forName(&quot;[L&quot; + componentType.getName() + &quot;;&quot;);\r\n\r\n\r\nHere is test. It prints `true`:\r\n\r\n    Integer[] ar = new Integer[1];\r\n    Class componentType = ar.getClass().getComponentType();\r\n    Class clazz = Class.forName(&quot;[L&quot; + componentType.getName() + &quot;;&quot;);\r\n\r\n    System.out.println(clazz == ar.getClass());\r\n\r\n&lt;a href=&quot;http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getName%28%29&quot;&gt;The documentation of `Class#getName()`&lt;/a&gt; defines strictly the format of array class names:\r\n\r\n&gt; If this class object represents a class of arrays, then the internal form of the name consists of the name of the element type preceded by one or more &#39;[&#39; characters representing the depth of the array nesting.\r\n\r\nThe `Class.forName(..)` approach won&#39;t directly work for primitives though - for them you&#39;d have to create a mapping between the name (`int`) and the array shorthand - (`I`)","title":"Obtaining the array Class of a component type","body":"<p>One thing that comes to mind is:</p>\n\n<pre><code>java.lang.reflect.Array.newInstance(componentType, 0).getClass();\n</code></pre>\n\n<p>But it creates an unnecessary instance.</p>\n\n<p>Btw, this appears to work:</p>\n\n<pre><code>Class clazz = Class.forName(\"[L\" + componentType.getName() + \";\");\n</code></pre>\n\n<p>Here is test. It prints <code>true</code>:</p>\n\n<pre><code>Integer[] ar = new Integer[1];\nClass componentType = ar.getClass().getComponentType();\nClass clazz = Class.forName(\"[L\" + componentType.getName() + \";\");\n\nSystem.out.println(clazz == ar.getClass());\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getName%28%29\" rel=\"noreferrer\">The documentation of <code>Class#getName()</code></a> defines strictly the format of array class names:</p>\n\n<blockquote>\n  <p>If this class object represents a class of arrays, then the internal form of the name consists of the name of the element type preceded by one or more '[' characters representing the depth of the array nesting.</p>\n</blockquote>\n\n<p>The <code>Class.forName(..)</code> approach won't directly work for primitives though - for them you'd have to create a mapping between the name (<code>int</code>) and the array shorthand - (<code>I</code>)</p>\n"},{"tags":[],"owner":{"account_id":148295,"reputation":31,"user_id":359970,"display_name":"Leigh Klotz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1316041091,"creation_date":1316041091,"answer_id":7423993,"question_id":4901128,"body_markdown":"Another possible refactoring is to use a generic superclass and pass in two class objects to the constructor.\r\n\r\n    protected AbstractMetaProperty(Class&lt;T&gt; valueClass, Class&lt;T[]&gt; valueArrayClass) {\r\n      this.valueClass = valueClass;\r\n      this.valueArrayClass = valueArrayClass;\r\n    }\r\n\r\nThen in subclasses:\r\n\r\n    public IntegerClass() {\r\n      super(Integer.class, Integer[].class);\r\n    }\r\n\r\nThen in the abstract class you can use `valueClass.cast(x)`, `valueArrayClass.isInstance(x) ` etc.\r\n","title":"Obtaining the array Class of a component type","body":"<p>Another possible refactoring is to use a generic superclass and pass in two class objects to the constructor.</p>\n\n<pre><code>protected AbstractMetaProperty(Class&lt;T&gt; valueClass, Class&lt;T[]&gt; valueArrayClass) {\n  this.valueClass = valueClass;\n  this.valueArrayClass = valueArrayClass;\n}\n</code></pre>\n\n<p>Then in subclasses:</p>\n\n<pre><code>public IntegerClass() {\n  super(Integer.class, Integer[].class);\n}\n</code></pre>\n\n<p>Then in the abstract class you can use <code>valueClass.cast(x)</code>, <code>valueArrayClass.isInstance(x)</code> etc.</p>\n"},{"tags":[],"owner":{"account_id":22914,"reputation":5048,"user_id":56994,"display_name":"FroMage"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1393936060,"creation_date":1393936060,"answer_id":22171963,"question_id":4901128,"body_markdown":"Actually due to `ClassLoader`, primitives and multi-dimensional arrays, the answer is a little more complex:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static Class&lt;?&gt; getArrayClass(Class&lt;?&gt; componentType) throws ClassNotFoundException{\r\n        ClassLoader classLoader = componentType.getClassLoader();\r\n        String name;\r\n        if(componentType.isArray()){\r\n            // just add a leading &quot;[&quot;\r\n            name = &quot;[&quot;+componentType.getName();\r\n        }else if(componentType == boolean.class){\r\n            name = &quot;[Z&quot;;\r\n        }else if(componentType == byte.class){\r\n            name = &quot;[B&quot;;\r\n        }else if(componentType == char.class){\r\n            name = &quot;[C&quot;;\r\n        }else if(componentType == double.class){\r\n            name = &quot;[D&quot;;\r\n        }else if(componentType == float.class){\r\n            name = &quot;[F&quot;;\r\n        }else if(componentType == int.class){\r\n            name = &quot;[I&quot;;\r\n        }else if(componentType == long.class){\r\n            name = &quot;[J&quot;;\r\n        }else if(componentType == short.class){\r\n            name = &quot;[S&quot;;\r\n        }else{\r\n            // must be an object non-array class\r\n            name = &quot;[L&quot;+componentType.getName()+&quot;;&quot;;\r\n        }\r\n        return classLoader != null ? classLoader.loadClass(name) : Class.forName(name);\r\n    }\r\n","title":"Obtaining the array Class of a component type","body":"<p>Actually due to <code>ClassLoader</code>, primitives and multi-dimensional arrays, the answer is a little more complex:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Class&lt;?&gt; getArrayClass(Class&lt;?&gt; componentType) throws ClassNotFoundException{\n    ClassLoader classLoader = componentType.getClassLoader();\n    String name;\n    if(componentType.isArray()){\n        // just add a leading \"[\"\n        name = \"[\"+componentType.getName();\n    }else if(componentType == boolean.class){\n        name = \"[Z\";\n    }else if(componentType == byte.class){\n        name = \"[B\";\n    }else if(componentType == char.class){\n        name = \"[C\";\n    }else if(componentType == double.class){\n        name = \"[D\";\n    }else if(componentType == float.class){\n        name = \"[F\";\n    }else if(componentType == int.class){\n        name = \"[I\";\n    }else if(componentType == long.class){\n        name = \"[J\";\n    }else if(componentType == short.class){\n        name = \"[S\";\n    }else{\n        // must be an object non-array class\n        name = \"[L\"+componentType.getName()+\";\";\n    }\n    return classLoader != null ? classLoader.loadClass(name) : Class.forName(name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642373592,"creation_date":1642373592,"answer_id":70734850,"question_id":4901128,"body_markdown":"Java 12 introduced [`arrayType()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#arrayType())\r\n\r\n    String.class.arrayType() == String[].class;","title":"Obtaining the array Class of a component type","body":"<p>Java 12 introduced <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#arrayType()\" rel=\"nofollow noreferrer\"><code>arrayType()</code></a></p>\n<pre><code>String.class.arrayType() == String[].class;\n</code></pre>\n"}],"owner":{"account_id":101106,"reputation":2210,"user_id":272176,"display_name":"Tom Castle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21783,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":4901192,"answer_count":5,"score":50,"last_activity_date":1642373592,"creation_date":1296841147,"question_id":4901128,"body_markdown":"If I have an instance of `Class`, is there a way of obtaining a `Class` instance for its array type? What I&#39;m essentially asking for is the equivalent of a method `getArrayType` which is the inverse of the `getComponentType()` method, such that:\r\n\r\n    array.getClass().getComponentType().getArrayType() == array.getClass()\r\n\r\n","title":"Obtaining the array Class of a component type","body":"<p>If I have an instance of <code>Class</code>, is there a way of obtaining a <code>Class</code> instance for its array type? What I'm essentially asking for is the equivalent of a method <code>getArrayType</code> which is the inverse of the <code>getComponentType()</code> method, such that:</p>\n\n<pre><code>array.getClass().getComponentType().getArrayType() == array.getClass()\n</code></pre>\n"},{"tags":["java","file-io","directory","operating-system","filesystems"],"comments":[{"owner":{"account_id":293069,"reputation":6519,"user_id":596200,"accept_rate":87,"display_name":"Dhaivat Pandya"},"score":0,"creation_date":1307870475,"post_id":6321180,"comment_id":7390079,"body_markdown":"Journaling filesystems are totally different from others.","body":"Journaling filesystems are totally different from others."},{"owner":{"account_id":411773,"reputation":22073,"user_id":784449,"display_name":"Sven"},"score":12,"creation_date":1307870649,"post_id":6321180,"comment_id":7390100,"body_markdown":"This is going to be *very* file system dependant. When you&#39;re accessing a file on an NFS or SMB file share, it might involve establishing a network connection. If the underlying disc is powered off, you&#39;ll have to wait for it to spin up (even worse if it&#39;s an optical drive). Heck, there are situations (such as hierarchical storage) where it might involve loading a tape and literally take minutes!","body":"This is going to be <i>very</i> file system dependant. When you&#39;re accessing a file on an NFS or SMB file share, it might involve establishing a network connection. If the underlying disc is powered off, you&#39;ll have to wait for it to spin up (even worse if it&#39;s an optical drive). Heck, there are situations (such as hierarchical storage) where it might involve loading a tape and literally take minutes!"}],"answers":[{"tags":[],"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1307903632,"creation_date":1307871309,"answer_id":6321240,"question_id":6321180,"body_markdown":"Measure the necessary time and see yourself. As you say it is **absolutely file system dependent**.\r\n\r\n            long t1 = System.currentTimeMillis();\r\n            ...Your File.exists call\r\n            long t2 = System.currentTimeMillis();\r\n            System.out.println(&quot;time: &quot; + (t2 - t1) + &quot; ms&quot;);\r\n\r\nYou will see that it will always give you different results, since it depends also on the way your OS caches data, on its load etc.","title":"How expensive is File.exists in Java","body":"<p>Measure the necessary time and see yourself. As you say it is <strong>absolutely file system dependent</strong>.</p>\n\n<pre><code>        long t1 = System.currentTimeMillis();\n        ...Your File.exists call\n        long t2 = System.currentTimeMillis();\n        System.out.println(\"time: \" + (t2 - t1) + \" ms\");\n</code></pre>\n\n<p>You will see that it will always give you different results, since it depends also on the way your OS caches data, on its load etc.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1307871747,"creation_date":1307871747,"answer_id":6321277,"question_id":6321180,"body_markdown":"How this operation if performed the first time is entirely dependant on the filesystem.  This is done by the OS and Java doesn&#39;t play any part.\r\n\r\nIn terms of performance, a read to a disk is required in all cases.   This typically takes 8-12 ms. @Sven points out some storage could slower, but this relatively rare in cases where performance is important. You may have an additional delay if this is a network file system (usually relatively small but it depends on your network latency).\r\n\r\nEverything else the OS and Java does is very short by comparison.\r\n\r\nHowever, if you check the file exists repeatedly, a Disk access may not be required as the information can cached, in this case the time the OS takes and resources.  One of the largest of these the objects File.exists() creates (you wouldn&#39;t think it would) however it encodes the file&#39;s name on every call creating a lot of objects. If you put File.exists() in a tight loop it can create 400MB of garbage per second. :(\r\n\r\nJournaling filesystems work differently by keeping track of all the changes you make to a file system, however they don&#39;t change how you read the filesystem.\r\n","title":"How expensive is File.exists in Java","body":"<p>How this operation if performed the first time is entirely dependant on the filesystem.  This is done by the OS and Java doesn't play any part.</p>\n\n<p>In terms of performance, a read to a disk is required in all cases.   This typically takes 8-12 ms. @Sven points out some storage could slower, but this relatively rare in cases where performance is important. You may have an additional delay if this is a network file system (usually relatively small but it depends on your network latency).</p>\n\n<p>Everything else the OS and Java does is very short by comparison.</p>\n\n<p>However, if you check the file exists repeatedly, a Disk access may not be required as the information can cached, in this case the time the OS takes and resources.  One of the largest of these the objects File.exists() creates (you wouldn't think it would) however it encodes the file's name on every call creating a lot of objects. If you put File.exists() in a tight loop it can create 400MB of garbage per second. :(</p>\n\n<p>Journaling filesystems work differently by keeping track of all the changes you make to a file system, however they don't change how you read the filesystem.</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1307875928,"creation_date":1307872697,"answer_id":6321342,"question_id":6321180,"body_markdown":"Most of the file-related operations are not performed in Java; native code exists to perform these activities. In reality, most of the work done depends on the nature of the `FileSystem` object (that is backing the `File` object) and the underlying implementation of the native IO operations in the OS.\r\n\r\nI&#39;ll present the case of the implementation in OpenJDK 6, for clarity. The File.exists() implementation defers the actual checks to the FileSystem class:\r\n\r\n    public boolean exists() {\r\n        ... calls to SecurityManager have been omitted for brevity ...\r\n        return ((fs.getBooleanAttributes(this) &amp; FileSystem.BA_EXISTS) != 0);\r\n    }\r\n\r\nThe FileSystem class is abstract, and an implementation exists for all supported filesystems:\r\n\r\n    package java.io;\r\n    \r\n    \r\n    /**\r\n     * Package-private abstract class for the local filesystem abstraction.\r\n     */\r\n    \r\n    abstract class FileSystem\r\n\r\nNotice the package private nature. A Java Runtime Environment, will provide concrete classes that extend the FileSystem class. In the OpenJDK implementation, there are:\r\n\r\n * java.io.WinNTFileSystem, for NTFS\r\n * java.io.Win32FileSystem, for FAT32\r\n * java.io.UnixFileSystem, for *nix filesystems (this is a class with a very broad responsibility).\r\n\r\nAll of the above classes delegate to native code, for the `getBooleanAttributes` method. This implies that performance is not constrained by the managed (Java) code in this case; the implementation of the file system, and the nature of the native calls being made have a greater bearing on performance.\r\n\r\n**Update #2**\r\n\r\nBased on the updated question - \r\n\r\n&gt; I&#39;m not talking about network and tape systems. Lets keep it to ntfs, extX, zfs, jfs\r\n\r\nWell, that still doesn&#39;t matter. Different operating systems will implement support for different file systems in different ways. For example, NTFS support in Windows will be different from the one in *nix, because the operating system will also have to do it&#39;s share of bookkeeping, in addition to communicating with devices via their drivers; not all the work is done in the device.\r\n\r\nIn Windows, you will almost always find the concept of a [file system filter drivers][1] that manages the task of communicating with other file system filter drivers or the file system. This is necessary to support various operations; one example would be the use of filter drivers for anti-virus engines and other software (on-the-fly encryption and compression products) intercepting IO calls.\r\n\r\nIn *nix, you will have the [stat()][2], system call that will perform the necessary activity of reading the inode information for the file descriptor.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/windows/hardware/gg462968\r\n  [2]: http://pubs.opengroup.org/onlinepubs/009695399/functions/stat.html","title":"How expensive is File.exists in Java","body":"<p>Most of the file-related operations are not performed in Java; native code exists to perform these activities. In reality, most of the work done depends on the nature of the <code>FileSystem</code> object (that is backing the <code>File</code> object) and the underlying implementation of the native IO operations in the OS.</p>\n\n<p>I'll present the case of the implementation in OpenJDK 6, for clarity. The File.exists() implementation defers the actual checks to the FileSystem class:</p>\n\n<pre><code>public boolean exists() {\n    ... calls to SecurityManager have been omitted for brevity ...\n    return ((fs.getBooleanAttributes(this) &amp; FileSystem.BA_EXISTS) != 0);\n}\n</code></pre>\n\n<p>The FileSystem class is abstract, and an implementation exists for all supported filesystems:</p>\n\n<pre><code>package java.io;\n\n\n/**\n * Package-private abstract class for the local filesystem abstraction.\n */\n\nabstract class FileSystem\n</code></pre>\n\n<p>Notice the package private nature. A Java Runtime Environment, will provide concrete classes that extend the FileSystem class. In the OpenJDK implementation, there are:</p>\n\n<ul>\n<li>java.io.WinNTFileSystem, for NTFS</li>\n<li>java.io.Win32FileSystem, for FAT32</li>\n<li>java.io.UnixFileSystem, for *nix filesystems (this is a class with a very broad responsibility).</li>\n</ul>\n\n<p>All of the above classes delegate to native code, for the <code>getBooleanAttributes</code> method. This implies that performance is not constrained by the managed (Java) code in this case; the implementation of the file system, and the nature of the native calls being made have a greater bearing on performance.</p>\n\n<p><strong>Update #2</strong></p>\n\n<p>Based on the updated question - </p>\n\n<blockquote>\n  <p>I'm not talking about network and tape systems. Lets keep it to ntfs, extX, zfs, jfs</p>\n</blockquote>\n\n<p>Well, that still doesn't matter. Different operating systems will implement support for different file systems in different ways. For example, NTFS support in Windows will be different from the one in *nix, because the operating system will also have to do it's share of bookkeeping, in addition to communicating with devices via their drivers; not all the work is done in the device.</p>\n\n<p>In Windows, you will almost always find the concept of a <a href=\"http://msdn.microsoft.com/en-us/windows/hardware/gg462968\">file system filter drivers</a> that manages the task of communicating with other file system filter drivers or the file system. This is necessary to support various operations; one example would be the use of filter drivers for anti-virus engines and other software (on-the-fly encryption and compression products) intercepting IO calls.</p>\n\n<p>In *nix, you will have the <a href=\"http://pubs.opengroup.org/onlinepubs/009695399/functions/stat.html\">stat()</a>, system call that will perform the necessary activity of reading the inode information for the file descriptor.</p>\n"},{"tags":[],"owner":{"account_id":14602802,"reputation":81,"user_id":10546644,"display_name":"Travis May"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540302619,"creation_date":1540302317,"answer_id":52950674,"question_id":6321180,"body_markdown":"It&#39;s super fast on any modern machine, my tests show 0.0028 millis (2.8 microseconds) on my 2013 Mac w/SSD\r\n\r\n1,000 files created in 307 millis, 0.0307 millis per file\r\n\r\n1,000 .exists()   done in  28 millis, 0.0028 millis per file\r\n\r\nHere&#39;s a test in Groovy (Java)\r\n\r\n    def index() {\r\n        File fileWrite\r\n\r\n        long start = System.currentTimeMillis()\r\n\r\n        (1..1000).each {\r\n            fileWrite = new File(&quot;/tmp/fileSpeedTest/${it}.txt&quot;)\r\n            fileWrite.write(&#39;Some nice text&#39;)\r\n        }\r\n        long diff = System.currentTimeMillis() - start\r\n        println &quot;1,000 files created in $diff millis, ${diff/10000.0} millis per file&quot;\r\n\r\n\r\n\r\n        start = System.currentTimeMillis()\r\n        (1..1000).each {\r\n            fileWrite = new File(&quot;/tmp/fileSpeedTest/${it}.txt&quot;)\r\n            if ( ! fileWrite.exists() )\r\n                throw new Exception(&quot;where&#39;s the file&quot;)\r\n        }\r\n        diff = System.currentTimeMillis() - start\r\n        println &quot;1,000 .exists()   done in  $diff millis, ${diff/10000.0} millis per file&quot;\r\n\r\n    }","title":"How expensive is File.exists in Java","body":"<p>It's super fast on any modern machine, my tests show 0.0028 millis (2.8 microseconds) on my 2013 Mac w/SSD</p>\n\n<p>1,000 files created in 307 millis, 0.0307 millis per file</p>\n\n<p>1,000 .exists()   done in  28 millis, 0.0028 millis per file</p>\n\n<p>Here's a test in Groovy (Java)</p>\n\n<pre><code>def index() {\n    File fileWrite\n\n    long start = System.currentTimeMillis()\n\n    (1..1000).each {\n        fileWrite = new File(\"/tmp/fileSpeedTest/${it}.txt\")\n        fileWrite.write('Some nice text')\n    }\n    long diff = System.currentTimeMillis() - start\n    println \"1,000 files created in $diff millis, ${diff/10000.0} millis per file\"\n\n\n\n    start = System.currentTimeMillis()\n    (1..1000).each {\n        fileWrite = new File(\"/tmp/fileSpeedTest/${it}.txt\")\n        if ( ! fileWrite.exists() )\n            throw new Exception(\"where's the file\")\n    }\n    diff = System.currentTimeMillis() - start\n    println \"1,000 .exists()   done in  $diff millis, ${diff/10000.0} millis per file\"\n\n}\n</code></pre>\n"}],"owner":{"account_id":323621,"reputation":10723,"user_id":643742,"accept_rate":97,"display_name":"Franz Kafka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13860,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":6321277,"answer_count":4,"score":34,"last_activity_date":1642373166,"creation_date":1307870401,"question_id":6321180,"body_markdown":"I am wondering how `File.exists()` works. I&#39;m not very aware of how filesystems work, so I should maybe start reading there first.\r\n\r\nBut for a quick pre information:\r\n\r\nIs a call to `File.exists()` a single action for the filesystem, if that path and filename are registered in some journal? Or does the OS get the content of the directory and then scan through it for matches?\r\n\r\nI presume this will be filesystem dependent, but maybe all filesystems use the quick approach?\r\n\r\nI&#39;m not talking about network and tape systems. Lets keep it to ntfs, extX, zfs, jfs :-)","title":"How expensive is File.exists in Java","body":"<p>I am wondering how <code>File.exists()</code> works. I'm not very aware of how filesystems work, so I should maybe start reading there first.</p>\n<p>But for a quick pre information:</p>\n<p>Is a call to <code>File.exists()</code> a single action for the filesystem, if that path and filename are registered in some journal? Or does the OS get the content of the directory and then scan through it for matches?</p>\n<p>I presume this will be filesystem dependent, but maybe all filesystems use the quick approach?</p>\n<p>I'm not talking about network and tape systems. Lets keep it to ntfs, extX, zfs, jfs :-)</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2897395,"reputation":11,"user_id":2484844,"display_name":"nljr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642371265,"creation_date":1642371265,"answer_id":70734600,"question_id":66332338,"body_markdown":"You can autowire ConfigurableEnvironment and get the conversion service from there.  If you want to make that available directly, put it in a Bean method.","title":"How to auto-configure ConversionService in non-web Spring environment?","body":"<p>You can autowire ConfigurableEnvironment and get the conversion service from there.  If you want to make that available directly, put it in a Bean method.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1642371265,"creation_date":1614080033,"question_id":66332338,"body_markdown":"I have a non-web environment with `spring-boot`, as I only require some classes:\r\n\r\n    spring.main.web-application-type=none\r\n\r\nQuestion: how can I tell spring to auto-configure the `org.springframework.core.convert.ConversionService` (that I need eg for `@Convert` auto mappings of `@Entity` objects)?\r\n\r\nWhen I try to autowire the conversation service, it fails:\r\n\r\n\t@Autowired\r\n\tprivate ConversionService conversionService;\r\n\r\n    public void fetch() {\r\n         BeanPropertyRowMapper.newInstance(MyObject.class, conversionService));\r\n    }\r\n\r\n`required a bean of type &#39;org.springframework.core.convert.ConversionService&#39; that could not be found.`","title":"How to auto-configure ConversionService in non-web Spring environment?","body":"<p>I have a non-web environment with <code>spring-boot</code>, as I only require some classes:</p>\n<pre><code>spring.main.web-application-type=none\n</code></pre>\n<p>Question: how can I tell spring to auto-configure the <code>org.springframework.core.convert.ConversionService</code> (that I need eg for <code>@Convert</code> auto mappings of <code>@Entity</code> objects)?</p>\n<p>When I try to autowire the conversation service, it fails:</p>\n<pre><code>@Autowired\nprivate ConversionService conversionService;\n\npublic void fetch() {\n     BeanPropertyRowMapper.newInstance(MyObject.class, conversionService));\n}\n</code></pre>\n<p><code>required a bean of type 'org.springframework.core.convert.ConversionService' that could not be found.</code></p>\n"},{"tags":["java","spring-boot","bots","botframework","microsoft-teams"],"comments":[{"owner":{"account_id":22099631,"reputation":757,"user_id":16356296,"display_name":"Prasad-MSFT"},"score":0,"creation_date":1642517884,"post_id":70734567,"comment_id":125088281,"body_markdown":"Please refer to below docs: https://learn.microsoft.com/en-us/azure/bot-service/bot-builder-howto-proactive-message?view=azure-bot-service-4.0&amp;tabs=csharp  Also refer this: https://github.com/OfficeDev/microsoft-teams-apps-newemployeeonboarding/blob/main/Source/Microsoft.Teams.Apps.NewHireOnboarding/Helpers/NotificationHelper.cs#L101","body":"Please refer to below docs: <a href=\"https://learn.microsoft.com/en-us/azure/bot-service/bot-builder-howto-proactive-message?view=azure-bot-service-4.0&amp;tabs=csharp\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/bot-service/&hellip;</a>  Also refer this: <a href=\"https://github.com/OfficeDev/microsoft-teams-apps-newemployeeonboarding/blob/main/Source/Microsoft.Teams.Apps.NewHireOnboarding/Helpers/NotificationHelper.cs#L101\" rel=\"nofollow noreferrer\">github.com/OfficeDev/microsoft-teams-apps-newemployeeonboard&zwnj;&#8203;ing/&hellip;</a>"},{"owner":{"account_id":22099631,"reputation":757,"user_id":16356296,"display_name":"Prasad-MSFT"},"score":0,"creation_date":1642683768,"post_id":70734567,"comment_id":125139651,"body_markdown":"Is your issue resolved or are you still looking for any help?","body":"Is your issue resolved or are you still looking for any help?"},{"owner":{"account_id":23959162,"reputation":1,"user_id":17949541,"display_name":"Raquel Teixeira"},"score":0,"creation_date":1642720728,"post_id":70734567,"comment_id":125154315,"body_markdown":"I&#39;m still looking for help","body":"I&#39;m still looking for help"},{"owner":{"account_id":22099631,"reputation":757,"user_id":16356296,"display_name":"Prasad-MSFT"},"score":0,"creation_date":1642757764,"post_id":70734567,"comment_id":125162044,"body_markdown":"To send proactive messages, acquire a conversation reference from an incoming message using TurnContext.getConversationReference(), then use adapter.continueConversation() to create a TurnContext object that will allow the bot to deliver the new outgoing message. https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/python/16.proactive-messages#readme","body":"To send proactive messages, acquire a conversation reference from an incoming message using TurnContext.getConversationReference(), then use adapter.continueConversation() to create a TurnContext object that will allow the bot to deliver the new outgoing message. <a href=\"https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/python/16.proactive-messages#readme\" rel=\"nofollow noreferrer\">github.com/microsoft/BotBuilder-Samples/tree/main/samples/&hellip;</a>"}],"owner":{"account_id":23959162,"reputation":1,"user_id":17949541,"display_name":"Raquel Teixeira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642370894,"creation_date":1642370894,"question_id":70734567,"body_markdown":"Would anyone know hot to send a proactive message for a specific conversation? I&#39;m using Java in botframework for teams, and I was reading the documentation, it seems that you can only send to a specific receiver with the sample of creating a new thred in a teams channel. If I want to send a person or multiple persons with conversationId for example it&#39;s not possible. This is the code from the sample of proactive messages that I&#39;m using for reference\r\n```\r\n@RestController\r\npublic class NotifyController {\r\n    /**\r\n     * The BotFrameworkHttpAdapter to use. Note is is provided by dependency\r\n     * injection via the constructor.\r\n     *\r\n     * @see com.microsoft.bot.integration.spring.BotDependencyConfiguration\r\n     */\r\n    private final BotFrameworkHttpAdapter adapter;\r\n\r\n    private ConversationReferences conversationReferences;\r\n    private String appId;\r\n\r\n    @Autowired\r\n    public NotifyController(\r\n        BotFrameworkHttpAdapter withAdapter,\r\n        Configuration withConfiguration,\r\n        ConversationReferences withReferences\r\n    ) {\r\n        adapter = withAdapter;\r\n        conversationReferences = withReferences;\r\n        appId = withConfiguration.getProperty(&quot;MicrosoftAppId&quot;);\r\n    }\r\n\r\n    @GetMapping(&quot;/api/notify&quot;)\r\n    public ResponseEntity&lt;Object&gt; proactiveMessage() {\r\n        for (ConversationReference reference : conversationReferences.values()) {\r\n            adapter.continueConversation(\r\n                appId, reference, turnContext -&gt; turnContext.sendActivity(&quot;proactive hello&quot;).thenApply(resourceResponse -&gt; null)\r\n            );\r\n        }\r\n\r\n        // Let the caller know proactive messages have been sent\r\n        return new ResponseEntity&lt;&gt;(\r\n            &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Proactive messages have been sent.&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;,\r\n            HttpStatus.ACCEPTED\r\n        );\r\n    }\r\n}\r\n```\r\nSomeone know how to do this?","title":"Java Botframework for MS Teams - How to send a proactive message for a specific conversation","body":"<p>Would anyone know hot to send a proactive message for a specific conversation? I'm using Java in botframework for teams, and I was reading the documentation, it seems that you can only send to a specific receiver with the sample of creating a new thred in a teams channel. If I want to send a person or multiple persons with conversationId for example it's not possible. This is the code from the sample of proactive messages that I'm using for reference</p>\n<pre><code>@RestController\npublic class NotifyController {\n    /**\n     * The BotFrameworkHttpAdapter to use. Note is is provided by dependency\n     * injection via the constructor.\n     *\n     * @see com.microsoft.bot.integration.spring.BotDependencyConfiguration\n     */\n    private final BotFrameworkHttpAdapter adapter;\n\n    private ConversationReferences conversationReferences;\n    private String appId;\n\n    @Autowired\n    public NotifyController(\n        BotFrameworkHttpAdapter withAdapter,\n        Configuration withConfiguration,\n        ConversationReferences withReferences\n    ) {\n        adapter = withAdapter;\n        conversationReferences = withReferences;\n        appId = withConfiguration.getProperty(&quot;MicrosoftAppId&quot;);\n    }\n\n    @GetMapping(&quot;/api/notify&quot;)\n    public ResponseEntity&lt;Object&gt; proactiveMessage() {\n        for (ConversationReference reference : conversationReferences.values()) {\n            adapter.continueConversation(\n                appId, reference, turnContext -&gt; turnContext.sendActivity(&quot;proactive hello&quot;).thenApply(resourceResponse -&gt; null)\n            );\n        }\n\n        // Let the caller know proactive messages have been sent\n        return new ResponseEntity&lt;&gt;(\n            &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Proactive messages have been sent.&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;,\n            HttpStatus.ACCEPTED\n        );\n    }\n}\n</code></pre>\n<p>Someone know how to do this?</p>\n"},{"tags":["java","multithreading","completable-future","forkjoinpool"],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1540322451,"creation_date":1504632829,"answer_id":46060485,"question_id":46060438,"body_markdown":"When it comes to threading the API documentation is lacking. It takes a bit of inference to understand how threading and futures work. Start with one assumption: the non-`Async` methods of `CompletableFuture` do not spawn new threads on their own. Work will proceed under existing threads.\r\n\r\n`thenApply` will run in the original `CompletableFuture`&#39;s thread. That&#39;s either the thread that calls `complete()`, or the one that calls `thenApply()` if the future is already completed. If you want control over the thread&amp;mdash;a good idea if `fn` is a slow operation&amp;mdash;then you should use `thenApplyAsync`.","title":"In which thread do CompletableFuture&#39;s completion handlers execute?","body":"<p>When it comes to threading the API documentation is lacking. It takes a bit of inference to understand how threading and futures work. Start with one assumption: the non-<code>Async</code> methods of <code>CompletableFuture</code> do not spawn new threads on their own. Work will proceed under existing threads.</p>\n\n<p><code>thenApply</code> will run in the original <code>CompletableFuture</code>'s thread. That's either the thread that calls <code>complete()</code>, or the one that calls <code>thenApply()</code> if the future is already completed. If you want control over the thread&mdash;a good idea if <code>fn</code> is a slow operation&mdash;then you should use <code>thenApplyAsync</code>.</p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1504633359,"creation_date":1504633006,"answer_id":46060517,"question_id":46060438,"body_markdown":"From the [Javadoc][1]:\r\n\r\n&gt; Actions supplied for dependent completions of non-async methods may be performed by the thread that completes the current CompletableFuture, or by any other caller of a completion method.\r\n\r\nMore concretely:\r\n\r\n* `fn` will run during the call to `complete()` in the context of whichever thread has called `complete()`.\r\n\r\n* If `complete()` has already finished by the time `thenApply()` is called, `fn` will be run in the context of the thread calling `thenApply()`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"In which thread do CompletableFuture&#39;s completion handlers execute?","body":"<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\">Javadoc</a>:</p>\n\n<blockquote>\n  <p>Actions supplied for dependent completions of non-async methods may be performed by the thread that completes the current CompletableFuture, or by any other caller of a completion method.</p>\n</blockquote>\n\n<p>More concretely:</p>\n\n<ul>\n<li><p><code>fn</code> will run during the call to <code>complete()</code> in the context of whichever thread has called <code>complete()</code>.</p></li>\n<li><p>If <code>complete()</code> has already finished by the time <code>thenApply()</code> is called, <code>fn</code> will be run in the context of the thread calling <code>thenApply()</code>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1506534107,"creation_date":1504633275,"answer_id":46060587,"question_id":46060438,"body_markdown":"The policies as specified in the [`CompletableFuture`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html) docs could help you understand better:\r\n\r\n&gt;  - Actions supplied for dependent completions of non-async methods may be\r\n&gt; performed by the *thread that completes the current CompletableFuture*,\r\n&gt; *or by any other caller of a completion method*.\r\n&gt; \r\n&gt;  - All async methods without an explicit Executor argument are performed\r\n&gt; using the `ForkJoinPool.commonPool()` (unless it does not support a\r\n&gt; *parallelism level of at least two, in which case, a new Thread is\r\n&gt; created to run each task*). To simplify monitoring, debugging, and\r\n&gt; tracking, all generated asynchronous tasks are instances of the marker\r\n&gt; interface `CompletableFuture.AsynchronousCompletionTask`.\r\n\r\n***Update***: I would also advice on reading [this answer](https://stackoverflow.com/a/46062939/1746118) by @Mike as an interesting analysis further into the details of the documentation.","title":"In which thread do CompletableFuture&#39;s completion handlers execute?","body":"<p>The policies as specified in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\"><code>CompletableFuture</code></a> docs could help you understand better:</p>\n\n<blockquote>\n  <ul>\n  <li><p>Actions supplied for dependent completions of non-async methods may be\n  performed by the <em>thread that completes the current CompletableFuture</em>,\n  <em>or by any other caller of a completion method</em>.</p></li>\n  <li><p>All async methods without an explicit Executor argument are performed\n  using the <code>ForkJoinPool.commonPool()</code> (unless it does not support a\n  <em>parallelism level of at least two, in which case, a new Thread is\n  created to run each task</em>). To simplify monitoring, debugging, and\n  tracking, all generated asynchronous tasks are instances of the marker\n  interface <code>CompletableFuture.AsynchronousCompletionTask</code>.</p></li>\n  </ul>\n</blockquote>\n\n<p><strong><em>Update</em></strong>: I would also advice on reading <a href=\"https://stackoverflow.com/a/46062939/1746118\">this answer</a> by @Mike as an interesting analysis further into the details of the documentation.</p>\n"},{"tags":[],"owner":{"account_id":58477,"reputation":25235,"user_id":175070,"display_name":"Mike Strobel"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1504646599,"creation_date":1504643487,"answer_id":46062939,"question_id":46060438,"body_markdown":"As [@nullpointer](https://stackoverflow.com/a/46060587/175070) points out, the documentation tells you what you need to know.  However, the relevant text is surprisingly vague, and some of the comments (and answers) posted here seem to rely on assumptions that aren&#39;t supported by the documentation.  Thus, I think it&#39;s worthwhile to pick it apart.  Specifically, we should read this paragraph very carefully:\r\n\r\n&gt; Actions supplied for dependent completions of non-async methods may be performed by the thread that completes the current CompletableFuture, or by any other caller of a completion method.\r\n\r\nSounds straightforward enough, but it&#39;s light on details.  It seemingly deliberately avoids describing _when_ a dependent completion may be invoked on the completing thread versus during a call to a completion method like `thenApply`.  As written, the paragraph above is practically _begging_ us to fill in the gaps with assumptions.  That&#39;s dangerous, especially when the topic concerns concurrent and asynchronous programming, where many of the expectations we&#39;ve developed as programmers get turned on their head.  Let&#39;s take a careful look at what the documentation **doesn&#39;t** say.\r\n\r\nThe documentation does **not** claim that dependent completions registered _before_ a call to `complete()` will run on the completing thread.  Moreover, while it states that a dependent completion _might_ be invoked when calling a completion method like `thenApply`, it **does not** state that a completion will be invoked **on the thread that registers it** (note the words &quot;any other&quot;).\r\n\r\nThese are potentially important points for anyone using `CompletableFuture` to schedule and compose tasks.  Consider this sequence of events:\r\n\r\n 1. Thread A registers a dependent completion via `f.thenApply(c1)`.\r\n 2. Some time later, Thread B calls `f.complete()`.\r\n 3. Around the same time, Thread C registers another dependent completion via `f.thenApply(c2)`.\r\n\r\nConceptually, `complete()` does two things: it publishes the result of the future, and then it attempts to invoke dependent completions.  Now, what happens if Thread C runs _after_ the result value is posted, but _before_ Thread B gets around to invoking `c1`?  Depending on the implementation, Thread C may see that `f` has completed, and it may then invoke `c1` _and_ `c2`.  Alternatively, Thread C may invoke `c2` while leaving Thread B to invoke `c1`.  The documentation does not rule out either possibility.  With that in mind, here are assumptions that **are not supported** by the documentation:\r\n\r\n  1. That a dependent completion `c` registered on `f` _prior to completion_ will be invoked during the call to `f.complete()`;\r\n  1. That `c` will have run to completion by the time `f.complete()` returns;\r\n  1. That dependent completions will be invoked in any particular order (e.g., order of registration);\r\n  1. That dependent completions registered _before_ `f` completes will be invoked before completions registered _after_ `f` completes.\r\n\r\nConsider another example:\r\n\r\n  1. Thread A calls `f.complete()`;\r\n  2. Some time later, Thread B registers a completion via `f.thenApply(c1)`;\r\n  3. Around the same time, Thread C registers a separate completion via `f.thenApply(c2)`.\r\n\r\nIf it is known that `f` has already run to completion, one might be tempted to assume that `c1` will be invoked during `f.thenApply(c1)` and that `c2` will be invoked during `f.thenApply(c2)`.  One might further assume that `c1` will have run to completion by the time `f.thenApply(c1)` returns.  However, the documentation **does not** support these assumptions.  It may be possible that _one_ of the threads calling `thenApply` ends up invoking *both* `c1` and `c2`, while the other thread invokes neither.\r\n\r\nA careful analysis of the JDK code could determine how the hypothetical scenarios above might play out.  But even that is risky, because you may end up relying on an implementation detail that is (1) not portable, or (2) subject to change.  Your best bet is not to assume anything that&#39;s not spelled out in the javadocs or the original JSR spec.\r\n\r\n**tldr:** Be careful what you assume, and when you write documentation, be as clear and deliberate as possible.  While brevity is a wonderful thing, be wary of the human tendency to fill in the gaps.","title":"In which thread do CompletableFuture&#39;s completion handlers execute?","body":"<p>As <a href=\"https://stackoverflow.com/a/46060587/175070\">@nullpointer</a> points out, the documentation tells you what you need to know.  However, the relevant text is surprisingly vague, and some of the comments (and answers) posted here seem to rely on assumptions that aren't supported by the documentation.  Thus, I think it's worthwhile to pick it apart.  Specifically, we should read this paragraph very carefully:</p>\n\n<blockquote>\n  <p>Actions supplied for dependent completions of non-async methods may be performed by the thread that completes the current CompletableFuture, or by any other caller of a completion method.</p>\n</blockquote>\n\n<p>Sounds straightforward enough, but it's light on details.  It seemingly deliberately avoids describing <em>when</em> a dependent completion may be invoked on the completing thread versus during a call to a completion method like <code>thenApply</code>.  As written, the paragraph above is practically <em>begging</em> us to fill in the gaps with assumptions.  That's dangerous, especially when the topic concerns concurrent and asynchronous programming, where many of the expectations we've developed as programmers get turned on their head.  Let's take a careful look at what the documentation <strong>doesn't</strong> say.</p>\n\n<p>The documentation does <strong>not</strong> claim that dependent completions registered <em>before</em> a call to <code>complete()</code> will run on the completing thread.  Moreover, while it states that a dependent completion <em>might</em> be invoked when calling a completion method like <code>thenApply</code>, it <strong>does not</strong> state that a completion will be invoked <strong>on the thread that registers it</strong> (note the words \"any other\").</p>\n\n<p>These are potentially important points for anyone using <code>CompletableFuture</code> to schedule and compose tasks.  Consider this sequence of events:</p>\n\n<ol>\n<li>Thread A registers a dependent completion via <code>f.thenApply(c1)</code>.</li>\n<li>Some time later, Thread B calls <code>f.complete()</code>.</li>\n<li>Around the same time, Thread C registers another dependent completion via <code>f.thenApply(c2)</code>.</li>\n</ol>\n\n<p>Conceptually, <code>complete()</code> does two things: it publishes the result of the future, and then it attempts to invoke dependent completions.  Now, what happens if Thread C runs <em>after</em> the result value is posted, but <em>before</em> Thread B gets around to invoking <code>c1</code>?  Depending on the implementation, Thread C may see that <code>f</code> has completed, and it may then invoke <code>c1</code> <em>and</em> <code>c2</code>.  Alternatively, Thread C may invoke <code>c2</code> while leaving Thread B to invoke <code>c1</code>.  The documentation does not rule out either possibility.  With that in mind, here are assumptions that <strong>are not supported</strong> by the documentation:</p>\n\n<ol>\n<li>That a dependent completion <code>c</code> registered on <code>f</code> <em>prior to completion</em> will be invoked during the call to <code>f.complete()</code>;</li>\n<li>That <code>c</code> will have run to completion by the time <code>f.complete()</code> returns;</li>\n<li>That dependent completions will be invoked in any particular order (e.g., order of registration);</li>\n<li>That dependent completions registered <em>before</em> <code>f</code> completes will be invoked before completions registered <em>after</em> <code>f</code> completes.</li>\n</ol>\n\n<p>Consider another example:</p>\n\n<ol>\n<li>Thread A calls <code>f.complete()</code>;</li>\n<li>Some time later, Thread B registers a completion via <code>f.thenApply(c1)</code>;</li>\n<li>Around the same time, Thread C registers a separate completion via <code>f.thenApply(c2)</code>.</li>\n</ol>\n\n<p>If it is known that <code>f</code> has already run to completion, one might be tempted to assume that <code>c1</code> will be invoked during <code>f.thenApply(c1)</code> and that <code>c2</code> will be invoked during <code>f.thenApply(c2)</code>.  One might further assume that <code>c1</code> will have run to completion by the time <code>f.thenApply(c1)</code> returns.  However, the documentation <strong>does not</strong> support these assumptions.  It may be possible that <em>one</em> of the threads calling <code>thenApply</code> ends up invoking <em>both</em> <code>c1</code> and <code>c2</code>, while the other thread invokes neither.</p>\n\n<p>A careful analysis of the JDK code could determine how the hypothetical scenarios above might play out.  But even that is risky, because you may end up relying on an implementation detail that is (1) not portable, or (2) subject to change.  Your best bet is not to assume anything that's not spelled out in the javadocs or the original JSR spec.</p>\n\n<p><strong>tldr:</strong> Be careful what you assume, and when you write documentation, be as clear and deliberate as possible.  While brevity is a wonderful thing, be wary of the human tendency to fill in the gaps.</p>\n"},{"tags":[],"owner":{"account_id":7743843,"reputation":26,"user_id":5862466,"display_name":"ALargeTom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642370543,"creation_date":1642370543,"answer_id":70734526,"question_id":46060438,"body_markdown":"I know this question is old, but I want to use source code to explain this question.\r\n\r\n    public CompletableFuture&lt;Void&gt; thenAccept(Consumer&lt;? super T&gt; action) {\r\n        return uniAcceptStage(null, action);\r\n    }\r\n\r\n    private CompletableFuture&lt;Void&gt; uniAcceptStage(Executor e,\r\n                                                   Consumer&lt;? super T&gt; f) {\r\n        if (f == null) throw new NullPointerException();\r\n        Object r;\r\n        if ((r = result) != null)\r\n            return uniAcceptNow(r, e, f);\r\n        CompletableFuture&lt;Void&gt; d = newIncompleteFuture();\r\n        unipush(new UniAccept&lt;T&gt;(e, d, this, f));\r\n        return d;\r\n    }\r\nThis is the source code from java 16, and we can see, if we trigger thenAccept, we will pass a null executor service reference into our function.\r\nFrom the 2nd function uniAcceptStage() 2nd if condition. If result is not null, it will trigger uniAcceptNow()\r\n\r\n    if (e != null) {\r\n         e.execute(new UniAccept&lt;T&gt;(null, d, this, f));\r\n    } else {\r\n         @SuppressWarnings(&quot;unchecked&quot;) T t = (T) r;\r\n         f.accept(t);\r\n         d.result = NIL;\r\n    }\r\nif executor service is null, we will use lambda function f.accept(t) to execute it. If we are triggering this thenApply/thenAccept from main thread, it will use main thread as executing thread.\r\n\r\nBut if we cannot get previous result from last completablefuture, we will push our current UniAccept/Apply into stack by using uniPush function. And UniAccept class has tryFire() which will be triggered from our postComplete() function\r\n\r\n    final void postComplete() {\r\n        /*\r\n         * On each step, variable f holds current dependents to pop\r\n         * and run.  It is extended along only one path at a time,\r\n         * pushing others to avoid unbounded recursion.\r\n         */\r\n        CompletableFuture&lt;?&gt; f = this; Completion h;\r\n        while ((h = f.stack) != null ||\r\n               (f != this &amp;&amp; (h = (f = this).stack) != null)) {\r\n            CompletableFuture&lt;?&gt; d; Completion t;\r\n            if (STACK.compareAndSet(f, h, t = h.next)) {\r\n                if (t != null) {\r\n                    if (f != this) {\r\n                        pushStack(h);\r\n                        continue;\r\n                    }\r\n                    NEXT.compareAndSet(h, t, null); // try to detach\r\n                }\r\n                f = (d = h.tryFire(NESTED)) == null ? this : d;\r\n            }\r\n        }\r\n    }","title":"In which thread do CompletableFuture&#39;s completion handlers execute?","body":"<p>I know this question is old, but I want to use source code to explain this question.</p>\n<pre><code>public CompletableFuture&lt;Void&gt; thenAccept(Consumer&lt;? super T&gt; action) {\n    return uniAcceptStage(null, action);\n}\n\nprivate CompletableFuture&lt;Void&gt; uniAcceptStage(Executor e,\n                                               Consumer&lt;? super T&gt; f) {\n    if (f == null) throw new NullPointerException();\n    Object r;\n    if ((r = result) != null)\n        return uniAcceptNow(r, e, f);\n    CompletableFuture&lt;Void&gt; d = newIncompleteFuture();\n    unipush(new UniAccept&lt;T&gt;(e, d, this, f));\n    return d;\n}\n</code></pre>\n<p>This is the source code from java 16, and we can see, if we trigger thenAccept, we will pass a null executor service reference into our function.\nFrom the 2nd function uniAcceptStage() 2nd if condition. If result is not null, it will trigger uniAcceptNow()</p>\n<pre><code>if (e != null) {\n     e.execute(new UniAccept&lt;T&gt;(null, d, this, f));\n} else {\n     @SuppressWarnings(&quot;unchecked&quot;) T t = (T) r;\n     f.accept(t);\n     d.result = NIL;\n}\n</code></pre>\n<p>if executor service is null, we will use lambda function f.accept(t) to execute it. If we are triggering this thenApply/thenAccept from main thread, it will use main thread as executing thread.</p>\n<p>But if we cannot get previous result from last completablefuture, we will push our current UniAccept/Apply into stack by using uniPush function. And UniAccept class has tryFire() which will be triggered from our postComplete() function</p>\n<pre><code>final void postComplete() {\n    /*\n     * On each step, variable f holds current dependents to pop\n     * and run.  It is extended along only one path at a time,\n     * pushing others to avoid unbounded recursion.\n     */\n    CompletableFuture&lt;?&gt; f = this; Completion h;\n    while ((h = f.stack) != null ||\n           (f != this &amp;&amp; (h = (f = this).stack) != null)) {\n        CompletableFuture&lt;?&gt; d; Completion t;\n        if (STACK.compareAndSet(f, h, t = h.next)) {\n            if (t != null) {\n                if (f != this) {\n                    pushStack(h);\n                    continue;\n                }\n                NEXT.compareAndSet(h, t, null); // try to detach\n            }\n            f = (d = h.tryFire(NESTED)) == null ? this : d;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15725,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":46060587,"answer_count":5,"score":51,"last_activity_date":1642370543,"creation_date":1504632626,"question_id":46060438,"body_markdown":"I have a question about CompletableFuture method:\r\n\r\n    public &lt;U&gt; CompletableFuture&lt;U&gt; thenApply(Function&lt;? super T, ? extends U&gt; fn)\r\n\r\nThe thing is the JavaDoc says just this:\r\n\r\n&gt; Returns a new CompletionStage that, when this stage completes\r\n&gt; normally, is executed with this stage&#39;s result as the argument to the\r\n&gt; supplied function. See the CompletionStage documentation for rules\r\n&gt; covering exceptional completion.\r\n\r\nWhat about threading? In which thread is this going to be executed? What if the future is completed by a thread pool?","title":"In which thread do CompletableFuture&#39;s completion handlers execute?","body":"<p>I have a question about CompletableFuture method:</p>\n<pre><code>public &lt;U&gt; CompletableFuture&lt;U&gt; thenApply(Function&lt;? super T, ? extends U&gt; fn)\n</code></pre>\n<p>The thing is the JavaDoc says just this:</p>\n<blockquote>\n<p>Returns a new CompletionStage that, when this stage completes\nnormally, is executed with this stage's result as the argument to the\nsupplied function. See the CompletionStage documentation for rules\ncovering exceptional completion.</p>\n</blockquote>\n<p>What about threading? In which thread is this going to be executed? What if the future is completed by a thread pool?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1642360009,"post_id":70733072,"comment_id":125044661,"body_markdown":"Do you mean you click on one of those buttons and it doesn&#39;t start an activity? If so, which button? If it is the `login` button, have you confirmed that `isEmailValid` and `isPasswordValid` are actually true?","body":"Do you mean you click on one of those buttons and it doesn&#39;t start an activity? If so, which button? If it is the <code>login</code> button, have you confirmed that <code>isEmailValid</code> and <code>isPasswordValid</code> are actually true?"},{"owner":{"account_id":6936178,"reputation":159,"user_id":5324005,"display_name":"Temidayo Dtuzzy Omotayo"},"score":0,"creation_date":1642378618,"post_id":70733072,"comment_id":125048423,"body_markdown":"Preferably call the current class name (LoginActivity.this) in place of getApplicationContext()","body":"Preferably call the current class name (LoginActivity.this) in place of getApplicationContext()"}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642369883,"creation_date":1642369883,"answer_id":70734472,"question_id":70733072,"body_markdown":"You apply some conditions to start an `Activity` `isEmailValid &amp;&amp; isPasswordValid`, please check that both of them have value `true`. If one of them has value `false` the new `Activity` won&#39;t start.\r\n\r\nIf you want to start new `Activity` without any conditions:\r\n\r\n    public void SetValidation()\r\n    {\r\n       Intent intent = new Intent(getApplicationContext(), Search_Activity.class);\r\n       startActivity(intent);\r\n    }","title":"Why intent is not start another activity","body":"<p>You apply some conditions to start an <code>Activity</code> <code>isEmailValid &amp;&amp; isPasswordValid</code>, please check that both of them have value <code>true</code>. If one of them has value <code>false</code> the new <code>Activity</code> won't start.</p>\n<p>If you want to start new <code>Activity</code> without any conditions:</p>\n<pre><code>public void SetValidation()\n{\n   Intent intent = new Intent(getApplicationContext(), Search_Activity.class);\n   startActivity(intent);\n}\n</code></pre>\n"}],"owner":{"account_id":23805948,"reputation":13,"user_id":17815481,"display_name":"Momin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642369883,"creation_date":1642358447,"question_id":70733072,"body_markdown":"My LoginActivity is not starting another activity. It starts on the same page on LoginActivity.How to solve it.\r\n  \r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                SetValidation();\r\n            }\r\n        });\r\n\r\n        register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // redirect to RegisterActivity\r\n               Intent intent = new Intent(getApplicationContext(), Register_Activity.class);\r\n                startActivity(intent);\r\n          }\r\n        });\r\n    }\r\n\r\n    public void SetValidation()\r\n    {\r\n       if (isEmailValid &amp;&amp; isPasswordValid)\r\n        {\r\n            Intent intent = new Intent(getApplicationContext(), Search_Activity.class);\r\n            startActivity(intent);\r\n        }\r\n      }","title":"Why intent is not start another activity","body":"<p>My LoginActivity is not starting another activity. It starts on the same page on LoginActivity.How to solve it.</p>\n<pre><code>    login.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v)\n        {\n            SetValidation();\n        }\n    });\n\n    register.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // redirect to RegisterActivity\n           Intent intent = new Intent(getApplicationContext(), Register_Activity.class);\n            startActivity(intent);\n      }\n    });\n}\n\npublic void SetValidation()\n{\n   if (isEmailValid &amp;&amp; isPasswordValid)\n    {\n        Intent intent = new Intent(getApplicationContext(), Search_Activity.class);\n        startActivity(intent);\n    }\n  }\n</code></pre>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1642366799,"post_id":70733682,"comment_id":125046244,"body_markdown":"Your question has nothing to do with C++ and Android Studio. It is about SQLite and Java, so don&#39;t set irrelevant tags.","body":"Your question has nothing to do with C++ and Android Studio. It is about SQLite and Java, so don&#39;t set irrelevant tags."},{"owner":{"account_id":23882973,"reputation":1,"user_id":17883451,"display_name":"Anonymous"},"score":0,"creation_date":1642367446,"post_id":70733682,"comment_id":125046390,"body_markdown":"I added c++ by accident sorry. This project is made in Android Studio, how is it irrelevant? I am asking so I don&#39;t make the same mistake again.","body":"I added c++ by accident sorry. This project is made in Android Studio, how is it irrelevant? I am asking so I don&#39;t make the same mistake again."},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1642367519,"post_id":70733682,"comment_id":125046409,"body_markdown":"The question is not about how to use Android Studio, so it is irrelevant. If you want you can set the `android` tag.","body":"The question is not about how to use Android Studio, so it is irrelevant. If you want you can set the <code>android</code> tag."},{"owner":{"account_id":23882973,"reputation":1,"user_id":17883451,"display_name":"Anonymous"},"score":0,"creation_date":1642368806,"post_id":70733682,"comment_id":125046665,"body_markdown":"Oh okay I understand. Thank you for explaining","body":"Oh okay I understand. Thank you for explaining"}],"owner":{"account_id":23882973,"reputation":1,"user_id":17883451,"display_name":"Anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642369162,"creation_date":1642363040,"question_id":70733682,"body_markdown":"I made a simple app to test the update function. The main page (recyclerView_Activity) is where the data from the database show up. My insert function works just fine. Data is inserted successully and the it appears in the recyclerView. The update function is half functional. The Toast message appears &#39;Successfully Updated!&#39;, but nothing changes in the recyclerView. \r\n\r\nHere is the main page recyclerView_Activity:\r\n\r\n    package com.example.db_app;\r\n\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import android.content.Intent;\r\n    import android.database.Cursor;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class recyclerView_Activity extends AppCompatActivity {\r\n\r\n        Button insertBtn;\r\n        RecyclerView recyclerView;\r\n        DBHelper myDB;\r\n        ArrayList&lt;String&gt; temp_id, temp_input;\r\n        myAdapter myAdapter;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_recycler_view);\r\n\r\n            recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n            insertBtn = (Button) findViewById(R.id.insertBtn);\r\n\r\n            insertBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(recyclerView_Activity.this, Insert_Activity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n\r\n            myDB = new DBHelper(recyclerView_Activity.this);\r\n\r\n            temp_id = new ArrayList&lt;&gt;();\r\n            temp_input = new ArrayList&lt;&gt;();\r\n\r\n            storeDataInArrays();\r\n\r\n            myAdapter = new myAdapter(recyclerView_Activity.this, this, temp_id, temp_input);\r\n            recyclerView.setAdapter(myAdapter);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(recyclerView_Activity.this));\r\n        }\r\n\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == 1)\r\n            {\r\n                recreate();\r\n            }\r\n        }\r\n\r\n        void storeDataInArrays() {\r\n            Cursor cursor = myDB.readData();  // Cursor cursor = myDB.readAllData();\r\n\r\n            if (cursor.getCount() == 0)\r\n            {\r\n                Toast.makeText(recyclerView_Activity.this, &quot;No Data&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else\r\n            {\r\n                while (cursor.moveToNext()) {\r\n\r\n                temp_id.add(cursor.getString(0));\r\n                temp_input.add(cursor.getString(1));\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nHere is the Insert Activity\r\n\r\n    package com.example.db_app;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    public class Insert_Activity extends AppCompatActivity {\r\n    \r\n        EditText input;\r\n        Button insert;\r\n        String temp;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_insert);\r\n    \r\n            input = (EditText) findViewById(R.id.input);\r\n            insert = (Button) findViewById(R.id.insertBtn);\r\n    \r\n            insert.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    DBHelper db = new DBHelper(Insert_Activity.this);\r\n                    temp = input.getText().toString().trim();\r\n                    db.insertData(temp);\r\n    \r\n                    Intent intent = new Intent(Insert_Activity.this, recyclerView_Activity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nHere is the Update Activity\r\n\r\n    package com.example.db_app;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    public class Update_Activity extends AppCompatActivity {\r\n    \r\n        EditText input;\r\n        Button update;\r\n    \r\n        String id, temp, input2;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_update);\r\n    \r\n            input = (EditText) findViewById(R.id.input);\r\n            update = (Button) findViewById(R.id.updateBtn);\r\n    \r\n            getAndSetIntentData();\r\n    \r\n            update.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    DBHelper db = new DBHelper(Update_Activity.this);\r\n                    temp = input.getText().toString().trim();\r\n                    db.updateData(id, temp);\r\n    \r\n                    Intent intent = new Intent(Update_Activity.this, recyclerView_Activity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        void getAndSetIntentData() {\r\n            if (getIntent().hasExtra(&quot;id&quot;) &amp;&amp; getIntent().hasExtra(&quot;input2&quot;))\r\n            {\r\n                // Getting data from Intent\r\n                id = getIntent().getStringExtra(&quot;id&quot;);\r\n                input2 = getIntent().getStringExtra(&quot;input2&quot;);\r\n    \r\n    \r\n                // Setting Intent Data\r\n                input.setText(input2);\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(Update_Activity.this, &quot;No Data&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\nThe Database Helper Class\r\n\r\n    package com.example.db_app;\r\n    \r\n    import android.content.ClipData;\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    \r\n    import java.nio.file.LinkPermission;\r\n    \r\n    public class DBHelper extends SQLiteOpenHelper {\r\n    \r\n        private Context context;\r\n        private static final String DATABASE_NAME = &quot;Database.db&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n    \r\n        // Create table\r\n        private static final String TABLE_TEMP = &quot;TEMPP&quot;;\r\n        private static final String COLUMN_ID = &quot;id&quot;;\r\n        private static final String COLUMN_INPUT = &quot;input&quot;;\r\n    \r\n        public DBHelper(@Nullable Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            String profileQuery = &quot;CREATE TABLE &quot; + TABLE_TEMP +\r\n                    &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    COLUMN_INPUT + &quot; TEXT &quot; + &quot;)&quot;;\r\n            db.execSQL(profileQuery);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_TEMP);\r\n            onCreate(db);\r\n    \r\n    \r\n        }\r\n    \r\n        // Functions for TEMP TABLE ********************************************************************************************************************************************  PROFILE TEMP\r\n        public Boolean insertData(String input) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n    \r\n            cv.put(COLUMN_INPUT, input);\r\n    \r\n            long result = db.insert(TABLE_TEMP, null, cv);\r\n    \r\n            if (result == -1) {\r\n                Toast.makeText(context, &quot;Failed to Insert&quot;, Toast.LENGTH_SHORT).show();\r\n                return  false;\r\n            } else {\r\n                Toast.makeText(context, &quot;Data Inserted Successfully!&quot;, Toast.LENGTH_SHORT).show();\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        Cursor readData() {\r\n            String query = &quot;SELECT * FROM &quot; + TABLE_TEMP;\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n            Cursor cursor = null;\r\n    \r\n            if (db != null) {\r\n                cursor = db.rawQuery(query, null);\r\n            }\r\n            return cursor;\r\n        }\r\n    \r\n        // Update data using where clause;\r\n        public Boolean updateData(String row_id, String input)\r\n        {\r\n            SQLiteDatabase db = this.getWritableDatabase(); // SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n    \r\n            cv.put(COLUMN_INPUT, input);\r\n    \r\n            long result = db.update(TABLE_TEMP, cv, COLUMN_ID + &quot; =? &quot;, new String[]{row_id});\r\n            //long result = db.update(TABLE_TEMP, cv, &quot;_id=? &quot;, new String[]{row_id});\r\n            //  db.update(&quot;Items&quot;, contentValues, whereClause, whereArgs);\r\n    \r\n            if (result == -1)\r\n            {\r\n                Toast.makeText(context, &quot;Failed to Update&quot;,  Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(context, &quot;Successfully Updated!&quot;,  Toast.LENGTH_SHORT).show();\r\n                return true;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAnd the Adapter\r\n\r\n    package com.example.db_app;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class myAdapter extends RecyclerView.Adapter&lt;myAdapter.MyViewHolder&gt; {\r\n    \r\n        private Context context;\r\n        Activity activity;\r\n        private ArrayList id, input;\r\n    \r\n        myAdapter(Activity activity,Context context, ArrayList id, ArrayList input) {\r\n    \r\n            this.activity = activity;\r\n            this.context = context;\r\n            this.id = id;\r\n            this.input = input;\r\n    \r\n        }\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater inflater = LayoutInflater.from(context);\r\n            View view = inflater.inflate(R.layout.my_row, parent, false);\r\n            return new MyViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, final int position) {\r\n            holder.id_txt.setText(String.valueOf(id.get(position)));\r\n            holder.input_txt.setText(String.valueOf(input.get(position)));\r\n            holder.mainLayout.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(context, Update_Activity.class);\r\n                    intent.putExtra(&quot;id&quot;, String.valueOf(id.get(position)));\r\n                    intent.putExtra(&quot;input&quot;, String.valueOf(input.get(position)));\r\n                    activity.startActivityForResult(intent, 1);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n    \r\n            return id.size();\r\n        }\r\n    \r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            TextView id_txt, input_txt;\r\n            LinearLayout mainLayout;\r\n    \r\n            public MyViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                id_txt = itemView.findViewById(R.id.id_txt);\r\n                input_txt = itemView.findViewById(R.id.input_txt);\r\n                mainLayout = itemView.findViewById(R.id.mainLayout);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nI apologise if I entered too much details. I really didn&#39;t know how much info was necessary .\r\nI followed tutorials. I even based this code based on a tutorial, and even though the code is basicaly the same, the update function just doesn&#39;t work. Please help.","title":"Update Function does not work properly Android Studio SQLite","body":"<p>I made a simple app to test the update function. The main page (recyclerView_Activity) is where the data from the database show up. My insert function works just fine. Data is inserted successully and the it appears in the recyclerView. The update function is half functional. The Toast message appears 'Successfully Updated!', but nothing changes in the recyclerView.</p>\n<p>Here is the main page recyclerView_Activity:</p>\n<pre><code>package com.example.db_app;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\n\npublic class recyclerView_Activity extends AppCompatActivity {\n\n    Button insertBtn;\n    RecyclerView recyclerView;\n    DBHelper myDB;\n    ArrayList&lt;String&gt; temp_id, temp_input;\n    myAdapter myAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_recycler_view);\n\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n        insertBtn = (Button) findViewById(R.id.insertBtn);\n\n        insertBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(recyclerView_Activity.this, Insert_Activity.class);\n                startActivity(intent);\n            }\n        });\n\n        myDB = new DBHelper(recyclerView_Activity.this);\n\n        temp_id = new ArrayList&lt;&gt;();\n        temp_input = new ArrayList&lt;&gt;();\n\n        storeDataInArrays();\n\n        myAdapter = new myAdapter(recyclerView_Activity.this, this, temp_id, temp_input);\n        recyclerView.setAdapter(myAdapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(recyclerView_Activity.this));\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 1)\n        {\n            recreate();\n        }\n    }\n\n    void storeDataInArrays() {\n        Cursor cursor = myDB.readData();  // Cursor cursor = myDB.readAllData();\n\n        if (cursor.getCount() == 0)\n        {\n            Toast.makeText(recyclerView_Activity.this, &quot;No Data&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else\n        {\n            while (cursor.moveToNext()) {\n\n            temp_id.add(cursor.getString(0));\n            temp_input.add(cursor.getString(1));\n\n\n        }\n    }\n}\n}\n</code></pre>\n<p>Here is the Insert Activity</p>\n<pre><code>package com.example.db_app;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\npublic class Insert_Activity extends AppCompatActivity {\n\n    EditText input;\n    Button insert;\n    String temp;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_insert);\n\n        input = (EditText) findViewById(R.id.input);\n        insert = (Button) findViewById(R.id.insertBtn);\n\n        insert.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                DBHelper db = new DBHelper(Insert_Activity.this);\n                temp = input.getText().toString().trim();\n                db.insertData(temp);\n\n                Intent intent = new Intent(Insert_Activity.this, recyclerView_Activity.class);\n                startActivity(intent);\n            }\n        });\n\n    }\n\n\n}\n</code></pre>\n<p>Here is the Update Activity</p>\n<pre><code>package com.example.db_app;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\npublic class Update_Activity extends AppCompatActivity {\n\n    EditText input;\n    Button update;\n\n    String id, temp, input2;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_update);\n\n        input = (EditText) findViewById(R.id.input);\n        update = (Button) findViewById(R.id.updateBtn);\n\n        getAndSetIntentData();\n\n        update.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                DBHelper db = new DBHelper(Update_Activity.this);\n                temp = input.getText().toString().trim();\n                db.updateData(id, temp);\n\n                Intent intent = new Intent(Update_Activity.this, recyclerView_Activity.class);\n                startActivity(intent);\n            }\n        });\n\n    }\n\n    void getAndSetIntentData() {\n        if (getIntent().hasExtra(&quot;id&quot;) &amp;&amp; getIntent().hasExtra(&quot;input2&quot;))\n        {\n            // Getting data from Intent\n            id = getIntent().getStringExtra(&quot;id&quot;);\n            input2 = getIntent().getStringExtra(&quot;input2&quot;);\n\n\n            // Setting Intent Data\n            input.setText(input2);\n        }\n        else\n        {\n            Toast.makeText(Update_Activity.this, &quot;No Data&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>The Database Helper Class</p>\n<pre><code>package com.example.db_app;\n\nimport android.content.ClipData;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\n\nimport java.nio.file.LinkPermission;\n\npublic class DBHelper extends SQLiteOpenHelper {\n\n    private Context context;\n    private static final String DATABASE_NAME = &quot;Database.db&quot;;\n    private static final int DATABASE_VERSION = 1;\n\n    // Create table\n    private static final String TABLE_TEMP = &quot;TEMPP&quot;;\n    private static final String COLUMN_ID = &quot;id&quot;;\n    private static final String COLUMN_INPUT = &quot;input&quot;;\n\n    public DBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String profileQuery = &quot;CREATE TABLE &quot; + TABLE_TEMP +\n                &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                COLUMN_INPUT + &quot; TEXT &quot; + &quot;)&quot;;\n        db.execSQL(profileQuery);\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_TEMP);\n        onCreate(db);\n\n\n    }\n\n    // Functions for TEMP TABLE ********************************************************************************************************************************************  PROFILE TEMP\n    public Boolean insertData(String input) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n\n        cv.put(COLUMN_INPUT, input);\n\n        long result = db.insert(TABLE_TEMP, null, cv);\n\n        if (result == -1) {\n            Toast.makeText(context, &quot;Failed to Insert&quot;, Toast.LENGTH_SHORT).show();\n            return  false;\n        } else {\n            Toast.makeText(context, &quot;Data Inserted Successfully!&quot;, Toast.LENGTH_SHORT).show();\n            return true;\n        }\n    }\n\n    Cursor readData() {\n        String query = &quot;SELECT * FROM &quot; + TABLE_TEMP;\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = null;\n\n        if (db != null) {\n            cursor = db.rawQuery(query, null);\n        }\n        return cursor;\n    }\n\n    // Update data using where clause;\n    public Boolean updateData(String row_id, String input)\n    {\n        SQLiteDatabase db = this.getWritableDatabase(); // SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n\n        cv.put(COLUMN_INPUT, input);\n\n        long result = db.update(TABLE_TEMP, cv, COLUMN_ID + &quot; =? &quot;, new String[]{row_id});\n        //long result = db.update(TABLE_TEMP, cv, &quot;_id=? &quot;, new String[]{row_id});\n        //  db.update(&quot;Items&quot;, contentValues, whereClause, whereArgs);\n\n        if (result == -1)\n        {\n            Toast.makeText(context, &quot;Failed to Update&quot;,  Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        else\n        {\n            Toast.makeText(context, &quot;Successfully Updated!&quot;,  Toast.LENGTH_SHORT).show();\n            return true;\n        }\n\n    }\n\n\n}\n</code></pre>\n<p>And the Adapter</p>\n<pre><code>package com.example.db_app;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class myAdapter extends RecyclerView.Adapter&lt;myAdapter.MyViewHolder&gt; {\n\n    private Context context;\n    Activity activity;\n    private ArrayList id, input;\n\n    myAdapter(Activity activity,Context context, ArrayList id, ArrayList input) {\n\n        this.activity = activity;\n        this.context = context;\n        this.id = id;\n        this.input = input;\n\n    }\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.my_row, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, final int position) {\n        holder.id_txt.setText(String.valueOf(id.get(position)));\n        holder.input_txt.setText(String.valueOf(input.get(position)));\n        holder.mainLayout.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(context, Update_Activity.class);\n                intent.putExtra(&quot;id&quot;, String.valueOf(id.get(position)));\n                intent.putExtra(&quot;input&quot;, String.valueOf(input.get(position)));\n                activity.startActivityForResult(intent, 1);\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return id.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView id_txt, input_txt;\n        LinearLayout mainLayout;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            id_txt = itemView.findViewById(R.id.id_txt);\n            input_txt = itemView.findViewById(R.id.input_txt);\n            mainLayout = itemView.findViewById(R.id.mainLayout);\n\n        }\n    }\n}\n</code></pre>\n<p>I apologise if I entered too much details. I really didn't know how much info was necessary .\nI followed tutorials. I even based this code based on a tutorial, and even though the code is basicaly the same, the update function just doesn't work. Please help.</p>\n"},{"tags":["java","hibernate","annotations"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642368848,"creation_date":1642355672,"answer_id":70732673,"question_id":70732392,"body_markdown":"`@Entity` is used to declare a class can be managed by Hibernate. It also defines the entity name through its `name` attribute which is the name that we refer to when writing JPQL/HQL queries. If the entity name is not specified , it is default to the unqualified name of that entity class.\r\n\r\nFor example :\r\n\r\n``` java\r\n@Entity(name=&quot;People&quot;)\r\npublic class Person{\r\n}\r\n```\r\n\r\nThen I need to use `People` to refer to this entity when writing a JPQL/HQL query :\r\n\r\n``` jpql\r\nselect p from People p;\r\n```\r\n\r\n`@Table` defines the actual DB table name that an `@Entity` is mapped to through its name attribute. If it is not specified , its default value will be equal to the entity name (i.e `@Entity` &#39;s `name` attribute) \r\n\r\nAlso `@Table` only make senses if `@Entity` is defined . Otherwise , just defining `@Table` without `@Entity` (i.e case 5) does not have any effect.\r\n\r\n\r\n----------\r\nSo to to summaries:\r\n\r\n**Case 1:**\r\n``` java\r\n@Entity\r\npublic class Person {\r\n\r\n}\r\n\r\nEntity name = Person\r\nDB Table name = Person\r\n```\r\n\r\n**Case 2:**\r\n``` java\r\n@Entity(name = &quot;people&quot;)\r\npublic class Person {\r\n}\r\n\r\nEntity name = people\r\nDB Table name  = people\r\n```\r\n\r\n**Case 3:**\r\n``` java\r\n@Entity\r\n@Table(name=&quot;people&quot;)\r\npublic class Person{\r\n\r\n}\r\n\r\nEntity name = Person\r\nDB Table name =  people\r\n```\r\n\r\n**Case 4:**\r\n``` java\r\n@Entity(name = &quot;person&quot;)\r\n@Table(name = &quot;people&quot;)\r\npublic class Person{\r\n}\r\n\r\nEntity name = person\r\nDB Table name = people\r\n```\r\n\r\n**Case 5:  Invalid**\r\n\r\n\r\n","title":"Entity and Table annotations. Understanding the exact differences between them","body":"<p><code>@Entity</code> is used to declare a class can be managed by Hibernate. It also defines the entity name through its <code>name</code> attribute which is the name that we refer to when writing JPQL/HQL queries. If the entity name is not specified , it is default to the unqualified name of that entity class.</p>\n<p>For example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name=&quot;People&quot;)\npublic class Person{\n}\n</code></pre>\n<p>Then I need to use <code>People</code> to refer to this entity when writing a JPQL/HQL query :</p>\n<pre><code>select p from People p;\n</code></pre>\n<p><code>@Table</code> defines the actual DB table name that an <code>@Entity</code> is mapped to through its name attribute. If it is not specified , its default value will be equal to the entity name (i.e <code>@Entity</code> 's <code>name</code> attribute)</p>\n<p>Also <code>@Table</code> only make senses if <code>@Entity</code> is defined . Otherwise , just defining <code>@Table</code> without <code>@Entity</code> (i.e case 5) does not have any effect.</p>\n<hr />\n<p>So to to summaries:</p>\n<p><strong>Case 1:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Person {\n\n}\n\nEntity name = Person\nDB Table name = Person\n</code></pre>\n<p><strong>Case 2:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;people&quot;)\npublic class Person {\n}\n\nEntity name = people\nDB Table name  = people\n</code></pre>\n<p><strong>Case 3:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;people&quot;)\npublic class Person{\n\n}\n\nEntity name = Person\nDB Table name =  people\n</code></pre>\n<p><strong>Case 4:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;person&quot;)\n@Table(name = &quot;people&quot;)\npublic class Person{\n}\n\nEntity name = person\nDB Table name = people\n</code></pre>\n<p><strong>Case 5:  Invalid</strong></p>\n"}],"owner":{"account_id":20906134,"reputation":483,"user_id":15358022,"display_name":"Dawson Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70732673,"answer_count":1,"score":1,"last_activity_date":1642368848,"creation_date":1642353565,"question_id":70732392,"body_markdown":"I am learning hibernate and have some questions about the differences between Entity and Table, and how they work together/independently?\r\n\r\n**Case 1:**\r\n```\r\n@Entity\r\npublic class Person{\r\n}\r\n\r\nMy understanding - \r\nEntity name - Person\r\nTable name in db - person\r\n\r\n```\r\n**Case 2:**\r\n```\r\n@Entity(name = &quot;people&quot;)\r\npublic class Person{\r\n}\r\n\r\nMy understanding - \r\nEntity name - people\r\nTable name in db - people\r\n\r\n```\r\n**Case 3:**\r\n```\r\n@Entity\r\n@Table(name=&quot;people&quot;)\r\npublic class Person{\r\n}\r\n\r\nMy understanding - \r\nEntity name - Person\r\nTable name in db - people\r\n\r\n```\r\n**Case 4:**\r\n```\r\n@Entity(name = &quot;person&quot;)\r\n@Table(name = &quot;people&quot;)\r\npublic class Person{\r\n}\r\n\r\nMy understanding - \r\nEntity name - person\r\nTable name in db - people\r\n\r\n```\r\n**Case 5:**\r\n```\r\n@Table(name=&quot;people&quot;)\r\npublic class Person{\r\n}\r\n\r\nMy understanding - \r\nEntity name - ??\r\nTable name in db - people\r\n\r\n```\r\n\r\nIs my understanding of these five cases correct? Is there anything else I should know about the working of Entity and Table?","title":"Entity and Table annotations. Understanding the exact differences between them","body":"<p>I am learning hibernate and have some questions about the differences between Entity and Table, and how they work together/independently?</p>\n<p><strong>Case 1:</strong></p>\n<pre><code>@Entity\npublic class Person{\n}\n\nMy understanding - \nEntity name - Person\nTable name in db - person\n\n</code></pre>\n<p><strong>Case 2:</strong></p>\n<pre><code>@Entity(name = &quot;people&quot;)\npublic class Person{\n}\n\nMy understanding - \nEntity name - people\nTable name in db - people\n\n</code></pre>\n<p><strong>Case 3:</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;people&quot;)\npublic class Person{\n}\n\nMy understanding - \nEntity name - Person\nTable name in db - people\n\n</code></pre>\n<p><strong>Case 4:</strong></p>\n<pre><code>@Entity(name = &quot;person&quot;)\n@Table(name = &quot;people&quot;)\npublic class Person{\n}\n\nMy understanding - \nEntity name - person\nTable name in db - people\n\n</code></pre>\n<p><strong>Case 5:</strong></p>\n<pre><code>@Table(name=&quot;people&quot;)\npublic class Person{\n}\n\nMy understanding - \nEntity name - ??\nTable name in db - people\n\n</code></pre>\n<p>Is my understanding of these five cases correct? Is there anything else I should know about the working of Entity and Table?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1642367357,"post_id":70734192,"comment_id":125046364,"body_markdown":"You look to be trying to compress things too much also look to be trying to chain a method on another method, a setter method, that likely returns `void`, not good. Best to break this up, `if (j1.setName(scr.nextLine()).isEmpty())`, into several lines. Get the text from the Scanner and put it into a String variable, `trim()` the String, test if empty, and if not empty, pass it into the setter method.","body":"You look to be trying to compress things too much also look to be trying to chain a method on another method, a setter method, that likely returns <code>void</code>, not good. Best to break this up, <code>if (j1.setName(scr.nextLine()).isEmpty())</code>, into several lines. Get the text from the Scanner and put it into a String variable, <code>trim()</code> the String, test if empty, and if not empty, pass it into the setter method."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642368718,"creation_date":1642367580,"answer_id":70734247,"question_id":70734192,"body_markdown":"You don&#39;t show the JoJo class, but it likely has a setter method for `setName(...)` that returns `void` (as it should). And so this:\r\n\r\n```\r\nif (j1.setName(scr.nextLine()).isEmpty())\r\n```\r\n\r\nis where you appear to be trying to do &quot;method chaining&quot; where you&#39;re trying to call a method off of whatever is returned by the `j1.setName(...)` method.\r\n\r\nSo, if `setName(...)` returned the `this` instance of JoJo:\r\n\r\n```\r\npublic JoJo setName(String name) {\r\n    this.name = name;\r\n    return this;\r\n}\r\n```\r\n\r\nyou&#39;d be in luck, and this would work, but this is a bit non-standard for a setter method, and I don&#39;t recommend it, and instead recommend that you stick with a traditional setter method signature:\r\n\r\n```\r\npublic void setName(String name) {\r\n    this.name = name;\r\n    // return this; ** Nope! **\r\n}\r\n```\r\n\r\nand in this situation, &quot;method chaining&quot;, where you try to call a method on an object returned from a preceding method, doesn&#39;t make sense since you&#39;d be trying to call a method on a preceding method returns void -- and this simply won&#39;t work.\r\n\r\nInstead, separate and simplify:\r\n\r\n```\r\nString txt = scr.nextLine().trim();\r\nif (txt.isEmpty()) {\r\n   System.err.println(&quot;The name cannot be empty, redo the operation correctly.&quot;);\r\n} else {\r\n   j1.setName(txt);\r\n   break;\r\n}\r\n```\r\n\r\nSame for your other attempt at method chaining.\r\n","title":"Problems verifying the value scanned by the user (void cannot be dereferenced)","body":"<p>You don't show the JoJo class, but it likely has a setter method for <code>setName(...)</code> that returns <code>void</code> (as it should). And so this:</p>\n<pre><code>if (j1.setName(scr.nextLine()).isEmpty())\n</code></pre>\n<p>is where you appear to be trying to do &quot;method chaining&quot; where you're trying to call a method off of whatever is returned by the <code>j1.setName(...)</code> method.</p>\n<p>So, if <code>setName(...)</code> returned the <code>this</code> instance of JoJo:</p>\n<pre><code>public JoJo setName(String name) {\n    this.name = name;\n    return this;\n}\n</code></pre>\n<p>you'd be in luck, and this would work, but this is a bit non-standard for a setter method, and I don't recommend it, and instead recommend that you stick with a traditional setter method signature:</p>\n<pre><code>public void setName(String name) {\n    this.name = name;\n    // return this; ** Nope! **\n}\n</code></pre>\n<p>and in this situation, &quot;method chaining&quot;, where you try to call a method on an object returned from a preceding method, doesn't make sense since you'd be trying to call a method on a preceding method returns void -- and this simply won't work.</p>\n<p>Instead, separate and simplify:</p>\n<pre><code>String txt = scr.nextLine().trim();\nif (txt.isEmpty()) {\n   System.err.println(&quot;The name cannot be empty, redo the operation correctly.&quot;);\n} else {\n   j1.setName(txt);\n   break;\n}\n</code></pre>\n<p>Same for your other attempt at method chaining.</p>\n"}],"owner":{"account_id":23959256,"reputation":3,"user_id":17949621,"display_name":"Vince1022"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70734247,"answer_count":1,"score":-1,"last_activity_date":1642368718,"creation_date":1642367178,"question_id":70734192,"body_markdown":"I&#39;m having problems with two lines of my code, the lines are:\r\n```\r\nif (j1.setName(scr.nextLine()).isEmpty())\r\n\r\nif (j1.setStand(scr.nextLine()).isEmpty())\r\n```\r\nThe problem with these two lines is the same: **void cannot be dereferenced**\r\n\r\n - Code\r\n```\r\npackage class;\r\nimport java.util.Scanner;\r\n\r\npublic class Class {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scr = new Scanner(System.in);\r\n        JoJo j1 = new JoJo();\r\n        while(true){\r\n            System.out.print(&quot;Type your name: &quot;);\r\n            if (j1.setName(scr.nextLine()).isEmpty()){\r\n                System.out.println(&quot;The name cannot be empty, redo the operation correctly.&quot;);       \r\n            } else {\r\n                j1.setName(scr.nextLine());\r\n                break;\r\n            }       \r\n        }\r\n        while(true){\r\n            System.out.print(&quot;Enter the stand&quot;);\r\n            if (j1.setStand(teclado.nextLine()).isEmpty()){\r\n                System.out.println(&quot;The stand cannot be empty, please redo the operation correctly.&quot;);   \r\n            } else {\r\n                j1.setStand(scr.nextLine());\r\n                break;\r\n            }  \r\n        }\r\n        j1.interaction();\r\n    }\r\n}\r\n```","title":"Problems verifying the value scanned by the user (void cannot be dereferenced)","body":"<p>I'm having problems with two lines of my code, the lines are:</p>\n<pre><code>if (j1.setName(scr.nextLine()).isEmpty())\n\nif (j1.setStand(scr.nextLine()).isEmpty())\n</code></pre>\n<p>The problem with these two lines is the same: <strong>void cannot be dereferenced</strong></p>\n<ul>\n<li>Code</li>\n</ul>\n<pre><code>package class;\nimport java.util.Scanner;\n\npublic class Class {\n\n    public static void main(String[] args) {\n        Scanner scr = new Scanner(System.in);\n        JoJo j1 = new JoJo();\n        while(true){\n            System.out.print(&quot;Type your name: &quot;);\n            if (j1.setName(scr.nextLine()).isEmpty()){\n                System.out.println(&quot;The name cannot be empty, redo the operation correctly.&quot;);       \n            } else {\n                j1.setName(scr.nextLine());\n                break;\n            }       \n        }\n        while(true){\n            System.out.print(&quot;Enter the stand&quot;);\n            if (j1.setStand(teclado.nextLine()).isEmpty()){\n                System.out.println(&quot;The stand cannot be empty, please redo the operation correctly.&quot;);   \n            } else {\n                j1.setStand(scr.nextLine());\n                break;\n            }  \n        }\n        j1.interaction();\n    }\n}\n</code></pre>\n"},{"tags":["java","java-bytecode-asm","cglib"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1642366219,"post_id":70733847,"comment_id":125046089,"body_markdown":"The official replacement for &quot;define class in an existing ClassLoader&quot; is [`MethodHandles.lookup().defineClass()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass%28byte%5B%5D%29)","body":"The official replacement for &quot;define class in an existing ClassLoader&quot; is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass%28byte%5B%5D%29\" rel=\"nofollow noreferrer\"><code>MethodHandles.lookup().defineClass()</code></a>"},{"owner":{"account_id":7225879,"reputation":227,"user_id":5514444,"display_name":"Tao Chen"},"score":0,"creation_date":1642368307,"post_id":70733847,"comment_id":125046548,"body_markdown":"Thanks, I will try.\n\nBTW, after test. This problem can be resolved by https://github.com/jboss-javassist/javassist/blob/master/src/main/javassist/util/proxy/DefineClassHelper.java perfectly, I will use some of its code to fix this problem","body":"Thanks, I will try.  BTW, after test. This problem can be resolved by <a href=\"https://github.com/jboss-javassist/javassist/blob/master/src/main/javassist/util/proxy/DefineClassHelper.java\" rel=\"nofollow noreferrer\">github.com/jboss-javassist/javassist/blob/master/src/main/&hellip;</a> perfectly, I will use some of its code to fix this problem"},{"owner":{"account_id":7225879,"reputation":227,"user_id":5514444,"display_name":"Tao Chen"},"score":0,"creation_date":1642372822,"post_id":70733847,"comment_id":125047482,"body_markdown":"Hi Johannes\n\nFinally I used this solution, 0.0.1 is published, prefect, thanks","body":"Hi Johannes  Finally I used this solution, 0.0.1 is published, prefect, thanks"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1642497591,"post_id":70733847,"comment_id":125079901,"body_markdown":"The method `sun.misc.Unsafe.defineClass` has been removed. Likewise, the option `--illegal-access` has no effect on recent JDKs anymore. That linked helper class is annoyingly complicated; Johannes Kuhn’s solution exists since JDK&#160;9 and in versions before that, the deep Reflection on `ClassLoader.defineClass` still works. So why bother with more than these two approaches?","body":"The method <code>sun.misc.Unsafe.defineClass</code> has been removed. Likewise, the option <code>--illegal-access</code> has no effect on recent JDKs anymore. That linked helper class is annoyingly complicated; Johannes Kuhn’s solution exists since JDK 9 and in versions before that, the deep Reflection on <code>ClassLoader.defineClass</code> still works. So why bother with more than these two approaches?"}],"owner":{"account_id":7225879,"reputation":227,"user_id":5514444,"display_name":"Tao Chen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642368344,"creation_date":1642364305,"question_id":70733847,"body_markdown":"I met a problem when I work for the framework: https://github.com/babyfish-ct/kimmer/\r\n\r\nAfter I published the first version. I run the example, an exception raised\r\n\r\n```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @74ea2410\r\n```\r\n\r\nThis framework uses [ASM](https://asm.ow2.io/) to generate bytecode directly. It doesn&#39;t matter, using the higher-level [cglib](https://github.com/cglib/cglib) framework will encounter the same problem.\r\n\r\nThe problem is my framework(or cglib) wants to define new classes by runtime generated bytecode on **EXISTING** ClassLoader. To do this, I need to access protection-level methods under java.lang.ClassLoader through reflection, get the **PROTECTED** method and change its visibility, like this\r\n\r\n```kt\r\nprivate val DEFINE_CLASS = ClassLoader::class.java.getDeclaredMethod(\r\n    &quot;defineClass&quot;,\r\n    ByteArray::class.java,\r\n    Int::class.javaPrimitiveType,\r\n    Int::class.javaPrimitiveType,\r\n).also {\r\n    it.isAccessible = true\r\n}\r\n```\r\nActually, I learned this trick from cglib&#39;s source code 10 years ago，this trick has been helping me.\r\n\r\nNow, The JDK has become strict and this behavior is prohibited. I had to go and read the source code of the latest version of cglib. In [ReflectUtils.java](https://github.com/cglib/cglib/blob/975e481faf39c91b8ac5b9b3d62822b7c52c5f47/cglib/src/main/java/net/sf/cglib/core/ReflectUtils.java), I found cglib is trying to use &quot;defineClass&quot; of &quot;sun.misc.Unsafe&quot;. Unfortunately, I can find that class but cannot find that method in &quot;OpenJDK Runtime Environment Zulu16.30+19-CA&quot;.\r\n\r\nI feel this problem is caused by jigsaw but I&#39;m not jigsaw expert, so I left it open and let the user use &quot;--illegal-access=permit&quot;.\r\n\r\nHow to resolve this problem and let my problems can work perfectly on latest JVM?\r\n\r\n ","title":"How to resolve &quot;InaccessibleObjectException&quot; of jdk16","body":"<p>I met a problem when I work for the framework: <a href=\"https://github.com/babyfish-ct/kimmer/\" rel=\"nofollow noreferrer\">https://github.com/babyfish-ct/kimmer/</a></p>\n<p>After I published the first version. I run the example, an exception raised</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @74ea2410\n</code></pre>\n<p>This framework uses <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a> to generate bytecode directly. It doesn't matter, using the higher-level <a href=\"https://github.com/cglib/cglib\" rel=\"nofollow noreferrer\">cglib</a> framework will encounter the same problem.</p>\n<p>The problem is my framework(or cglib) wants to define new classes by runtime generated bytecode on <strong>EXISTING</strong> ClassLoader. To do this, I need to access protection-level methods under java.lang.ClassLoader through reflection, get the <strong>PROTECTED</strong> method and change its visibility, like this</p>\n<pre><code>private val DEFINE_CLASS = ClassLoader::class.java.getDeclaredMethod(\n    &quot;defineClass&quot;,\n    ByteArray::class.java,\n    Int::class.javaPrimitiveType,\n    Int::class.javaPrimitiveType,\n).also {\n    it.isAccessible = true\n}\n</code></pre>\n<p>Actually, I learned this trick from cglib's source code 10 years ago，this trick has been helping me.</p>\n<p>Now, The JDK has become strict and this behavior is prohibited. I had to go and read the source code of the latest version of cglib. In <a href=\"https://github.com/cglib/cglib/blob/975e481faf39c91b8ac5b9b3d62822b7c52c5f47/cglib/src/main/java/net/sf/cglib/core/ReflectUtils.java\" rel=\"nofollow noreferrer\">ReflectUtils.java</a>, I found cglib is trying to use &quot;defineClass&quot; of &quot;sun.misc.Unsafe&quot;. Unfortunately, I can find that class but cannot find that method in &quot;OpenJDK Runtime Environment Zulu16.30+19-CA&quot;.</p>\n<p>I feel this problem is caused by jigsaw but I'm not jigsaw expert, so I left it open and let the user use &quot;--illegal-access=permit&quot;.</p>\n<p>How to resolve this problem and let my problems can work perfectly on latest JVM?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":20906134,"reputation":483,"user_id":15358022,"display_name":"Dawson Smith"},"score":0,"creation_date":1642361287,"post_id":70733397,"comment_id":125044967,"body_markdown":"Because an ObjectNotFoundException should be thrown before that, thereby terminating the program","body":"Because an ObjectNotFoundException should be thrown before that, thereby terminating the program"},{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1642361419,"post_id":70733397,"comment_id":125045000,"body_markdown":"Could you please post the exact output? Exceptions come with a stacktrace.","body":"Could you please post the exact output? Exceptions come with a stacktrace."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1642361860,"post_id":70733397,"comment_id":125045123,"body_markdown":"The javadoc for that load method (https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Session.html#load-java.lang.Class-java.io.Serializable-) says &quot;This method might return a proxied instance that is initialized on-demand, when a non-identifier method is accessed.&quot; Woudn&#39;t that explain the output? Hibernate first creates a proxied instance and only initializes the instance once you actually try to access it (or it&#39;s toString method via printing it). hence only then the exception happens.","body":"The javadoc for that load method (<a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Session.html#load-java.lang.Class-java.io.Serializable-\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/&hellip;</a>) says &quot;This method might return a proxied instance that is initialized on-demand, when a non-identifier method is accessed.&quot; Woudn&#39;t that explain the output? Hibernate first creates a proxied instance and only initializes the instance once you actually try to access it (or it&#39;s toString method via printing it). hence only then the exception happens."},{"owner":{"account_id":20906134,"reputation":483,"user_id":15358022,"display_name":"Dawson Smith"},"score":0,"creation_date":1642361921,"post_id":70733397,"comment_id":125045138,"body_markdown":"Explains a lot. This might be it","body":"Explains a lot. This might be it"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642367744,"creation_date":1642364652,"answer_id":70733881,"question_id":70733397,"body_markdown":"If you use `session.load()` to load an entity and that entity is not retrieved using `session.get()` in the same transaction before , it will return you an uninitialised proxy and it is its expected behaviour.\r\n\r\nAs the returned proxy is uninitialised , there are no DB access during the `session.load()` and hence it will not throws `ObjectNotFoundException` during that time even the ID is invalid. \r\n\r\nIt will only select the record from the DB to actually initialise the proxy if you access the entity &#39;s properties other than its ID after that &lt;sub&gt;(1)&lt;/sub&gt; . During initialising the proxy if it finds that there are no DB records exist for this ID , it will throw `ObjectNotFoundException`. Now you are accessing the `student2` &#39;s properties through its `toString()` when you print it and hence `ObjectNotFoundException` is thrown at that time.\r\n\r\nAlso refer to my answers about 10 years ago about the differences between `session.get()` and `session.load()` at [here][1].\r\n\r\n&lt;sub&gt;*Note (1) : The behaviour is actually defined by the configuration `hibernate.jpa.compliance.proxy`.Please see [it][2] for detail*&lt;/sub&gt; \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8046695/339637\r\n  [2]: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#configurations-jpa-compliance","title":"Not able to understand output while using get() and load() function in hibernate","body":"<p>If you use <code>session.load()</code> to load an entity and that entity is not retrieved using <code>session.get()</code> in the same transaction before , it will return you an uninitialised proxy and it is its expected behaviour.</p>\n<p>As the returned proxy is uninitialised , there are no DB access during the <code>session.load()</code> and hence it will not throws <code>ObjectNotFoundException</code> during that time even the ID is invalid.</p>\n<p>It will only select the record from the DB to actually initialise the proxy if you access the entity 's properties other than its ID after that <sub>(1)</sub> . During initialising the proxy if it finds that there are no DB records exist for this ID , it will throw <code>ObjectNotFoundException</code>. Now you are accessing the <code>student2</code> 's properties through its <code>toString()</code> when you print it and hence <code>ObjectNotFoundException</code> is thrown at that time.</p>\n<p>Also refer to my answers about 10 years ago about the differences between <code>session.get()</code> and <code>session.load()</code> at <a href=\"https://stackoverflow.com/a/8046695/339637\">here</a>.</p>\n<p><sub><em>Note (1) : The behaviour is actually defined by the configuration <code>hibernate.jpa.compliance.proxy</code>.Please see <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#configurations-jpa-compliance\" rel=\"nofollow noreferrer\">it</a> for detail</em></sub></p>\n"}],"owner":{"account_id":20906134,"reputation":483,"user_id":15358022,"display_name":"Dawson Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70733881,"answer_count":1,"score":2,"last_activity_date":1642367744,"creation_date":1642360930,"question_id":70733397,"body_markdown":"I have a student table with the primary key id. I am using Hibernate and session&#39;s load command to fetch the record. The records I am fetching ids 1 and 2, are both not present in the database. I know that get() returns null in such cases and load() returns ObjectNotFoundException() in such cases. But I&#39;m getting a strange output.\r\n```\r\nStudent student1 = session.get(Student.class, 1);\r\nSystem.out.println(student1);\r\nStudent student2 = session.load(Student.class, 2);\r\nSystem.out.println(&quot;ABC&quot;);\r\nSystem.out.println(student2);\r\n```\r\nThe output I&#39;m getting -\r\n```\r\nnull\r\nABC\r\norg.hibernate.ObjectNotFoundException: No row with the given identifier exists: [org.tutorial.Student#2]\r\n```\r\nThe output I was expecting -\r\n```\r\nnull\r\norg.hibernate.ObjectNotFoundException: No row with the given identifier exists: [org.tutorial.Student#2]\r\n```\r\n\r\nIs there something I&#39;m not getting here?","title":"Not able to understand output while using get() and load() function in hibernate","body":"<p>I have a student table with the primary key id. I am using Hibernate and session's load command to fetch the record. The records I am fetching ids 1 and 2, are both not present in the database. I know that get() returns null in such cases and load() returns ObjectNotFoundException() in such cases. But I'm getting a strange output.</p>\n<pre><code>Student student1 = session.get(Student.class, 1);\nSystem.out.println(student1);\nStudent student2 = session.load(Student.class, 2);\nSystem.out.println(&quot;ABC&quot;);\nSystem.out.println(student2);\n</code></pre>\n<p>The output I'm getting -</p>\n<pre><code>null\nABC\norg.hibernate.ObjectNotFoundException: No row with the given identifier exists: [org.tutorial.Student#2]\n</code></pre>\n<p>The output I was expecting -</p>\n<pre><code>null\norg.hibernate.ObjectNotFoundException: No row with the given identifier exists: [org.tutorial.Student#2]\n</code></pre>\n<p>Is there something I'm not getting here?</p>\n"},{"tags":["java","intellij-idea","search"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1642272326,"post_id":70724290,"comment_id":125028832,"body_markdown":"I think &quot;*&quot; doesn&#39;t work because Intellij evaluates mathematical expressions using it(from search everywhere). You could try one of the search methods defined in [IntelliJ: Search everywhere](https://www.jetbrains.com/help/idea/searching-everywhere.html) for you query.","body":"I think &quot;*&quot; doesn&#39;t work because Intellij evaluates mathematical expressions using it(from search everywhere). You could try one of the search methods defined in <a href=\"https://www.jetbrains.com/help/idea/searching-everywhere.html\" rel=\"nofollow noreferrer\">IntelliJ: Search everywhere</a> for you query."}],"answers":[{"tags":[],"owner":{"account_id":20634762,"reputation":66,"user_id":15148740,"display_name":"Joe Vienneau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642367504,"creation_date":1642279128,"answer_id":70725251,"question_id":70724290,"body_markdown":"If you use ```ctrl```+```shift```+```f``` (to find in files) you can hit ```alt```+```x``` to enable regex searching. It&#39;s got all kinds of useful stuff.\r\n\r\n```ctrl```+```n``` (the class search) also understands &#39;*&#39;, but not regex.\r\n\r\n```ctrl```+```h``` will show a hierarchy, but I&#39;m not aware of a filter mechanism that might help there.\r\n\r\nYou can find other useful shortcuts here (and their Mac equivalents): https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf\r\n\r\nIn you first screenshot you seem to be searching a jar; in the 2nd you&#39;re actually searching &#39;in all places&#39;. If you click on that dropdown you can restrict where you&#39;re searching. The filtering button might also be helpful.","title":"Is it possible to search with regular expression in &quot;Intellij Search Everywhere&quot;?","body":"<p>If you use <code>ctrl</code>+<code>shift</code>+<code>f</code> (to find in files) you can hit <code>alt</code>+<code>x</code> to enable regex searching. It's got all kinds of useful stuff.</p>\n<p><code>ctrl</code>+<code>n</code> (the class search) also understands '*', but not regex.</p>\n<p><code>ctrl</code>+<code>h</code> will show a hierarchy, but I'm not aware of a filter mechanism that might help there.</p>\n<p>You can find other useful shortcuts here (and their Mac equivalents): <a href=\"https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf\" rel=\"nofollow noreferrer\">https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf</a></p>\n<p>In you first screenshot you seem to be searching a jar; in the 2nd you're actually searching 'in all places'. If you click on that dropdown you can restrict where you're searching. The filtering button might also be helpful.</p>\n"}],"owner":{"account_id":23950535,"reputation":31,"user_id":17942205,"display_name":"Elif Akg&#252;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1642367504,"creation_date":1642271666,"question_id":70724290,"body_markdown":"In Eclipse there is a feature which is called &quot;Open Type in Hierarchy&quot;. We use the shortcut: ```Ctrl``` + ```Shift``` + ```H``` on Windows or ``` Cmd``` + ```Shift``` + ```H```  on Mac. It provides special characters (*, ?, etc.). So you can list Java types with specific pattern. \r\n\r\n\r\n[Open Type in Hierarchy in Eclipse (Screenshot)][1]\r\n   \r\nWhen I tried to list all classes in IntelliJ, I wasn&#39;t able to get the same result. Probably IntelliJ doesn&#39;t understand this &quot;*&quot; character. \r\n\r\n\r\n[Search Everywhere in IntelliJ (Screenshot)][2]\r\n\r\nIs there any kind of search mechanism in IntelliJ to get the same result?\r\n\r\nThank you for your help.\r\n\r\n  [1]: https://i.stack.imgur.com/wdOlu.png\r\n  [2]: https://i.stack.imgur.com/pSIMi.png","title":"Is it possible to search with regular expression in &quot;Intellij Search Everywhere&quot;?","body":"<p>In Eclipse there is a feature which is called &quot;Open Type in Hierarchy&quot;. We use the shortcut: <code>Ctrl</code> + <code>Shift</code> + <code>H</code> on Windows or <code> Cmd</code> + <code>Shift</code> + <code>H</code>  on Mac. It provides special characters (*, ?, etc.). So you can list Java types with specific pattern.</p>\n<p><a href=\"https://i.stack.imgur.com/wdOlu.png\" rel=\"nofollow noreferrer\">Open Type in Hierarchy in Eclipse (Screenshot)</a></p>\n<p>When I tried to list all classes in IntelliJ, I wasn't able to get the same result. Probably IntelliJ doesn't understand this &quot;*&quot; character.</p>\n<p><a href=\"https://i.stack.imgur.com/pSIMi.png\" rel=\"nofollow noreferrer\">Search Everywhere in IntelliJ (Screenshot)</a></p>\n<p>Is there any kind of search mechanism in IntelliJ to get the same result?</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","netbeans","indentation"],"comments":[{"owner":{"account_id":6569999,"reputation":2092,"user_id":5078385,"display_name":"acm"},"score":0,"creation_date":1641426185,"post_id":70592099,"comment_id":124804967,"body_markdown":"It has been asked before, seems to be a bug: https://stackoverflow.com/q/70582625/5078385","body":"It has been asked before, seems to be a bug: <a href=\"https://stackoverflow.com/q/70582625/5078385\">stackoverflow.com/q/70582625/5078385</a>"}],"answers":[{"tags":[],"owner":{"account_id":23847633,"reputation":66,"user_id":17851946,"display_name":"Henrique Grammelsbacher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641835114,"creation_date":1641835114,"answer_id":70656417,"question_id":70592099,"body_markdown":"Seems there is a bug in NetBeans.\r\n\r\nSee this link for more details\r\nhttps://issues.apache.org/jira/browse/NETBEANS-6281\r\n\r\n","title":"Netbeans isn&#39;t automatically identing (Java)","body":"<p>Seems there is a bug in NetBeans.</p>\n<p>See this link for more details\n<a href=\"https://issues.apache.org/jira/browse/NETBEANS-6281\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/NETBEANS-6281</a></p>\n"},{"tags":[],"owner":{"account_id":7347369,"reputation":41,"user_id":5594646,"display_name":"Steven T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642367462,"creation_date":1642074903,"answer_id":70696177,"question_id":70592099,"body_markdown":"I had this problem as well and solved it by upgrading the JDK version that Netbeans uses. Check my answer here: [Netbeans 12.6 on Linux. Java source code editor misbehaving][1] \r\n\r\n  [1]: https://stackoverflow.com/a/70696001/5594646","title":"Netbeans isn&#39;t automatically identing (Java)","body":"<p>I had this problem as well and solved it by upgrading the JDK version that Netbeans uses. Check my answer here: <a href=\"https://stackoverflow.com/a/70696001/5594646\">Netbeans 12.6 on Linux. Java source code editor misbehaving</a></p>\n"}],"owner":{"account_id":16692256,"reputation":25,"user_id":12064530,"display_name":"Traziiex Productions"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70656417,"answer_count":2,"score":0,"last_activity_date":1642367462,"creation_date":1641382077,"question_id":70592099,"body_markdown":"I have a university project where I must code a Java App. Since we learned java using Netbeans as an IDE, I decided to code the app using this IDE.\r\n\r\nI had never experienced this bug on my previous computer. Right now, when I open &quot;{ }&quot; after writing a function or any other block, the line after when pressing &quot;return&quot; isn&#39;t indented, and pressing &quot;tab&quot; doesn&#39;t do anything.\r\n\r\n```java\r\npublic class App {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\nSystem.out.println(&quot;&quot;);\r\ncode\r\nimpossible\r\nto\r\nindent...\r\n\r\n    }\r\n    \r\n}\r\n```\r\n\r\nMaybe, someone know what the problem is ?\r\n\r\nthanks :D","title":"Netbeans isn&#39;t automatically identing (Java)","body":"<p>I have a university project where I must code a Java App. Since we learned java using Netbeans as an IDE, I decided to code the app using this IDE.</p>\n<p>I had never experienced this bug on my previous computer. Right now, when I open &quot;{ }&quot; after writing a function or any other block, the line after when pressing &quot;return&quot; isn't indented, and pressing &quot;tab&quot; doesn't do anything.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\nSystem.out.println(&quot;&quot;);\ncode\nimpossible\nto\nindent...\n\n    }\n    \n}\n</code></pre>\n<p>Maybe, someone know what the problem is ?</p>\n<p>thanks :D</p>\n"},{"tags":["java","spring-boot","api","rest","get"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642365147,"creation_date":1642363681,"answer_id":70733772,"question_id":70733734,"body_markdown":"In a spring boot application there can be a property `server.servlet.context-path` defined which is the root path of the application. \r\n\r\nSearch in the application.properties for this property and if defined, add it to the url path that you call with Postman.\r\n\r\nIf this is not the case then you can use the following annotation in the class that has the `main` method that has the `@SpringBootApplication` \r\n\r\n    @ComponentScan({&quot;com.example.service&quot;, &quot;com.example.model&quot;})","title":"Spring Boot , GET invocation not working in Postman","body":"<p>In a spring boot application there can be a property <code>server.servlet.context-path</code> defined which is the root path of the application.</p>\n<p>Search in the application.properties for this property and if defined, add it to the url path that you call with Postman.</p>\n<p>If this is not the case then you can use the following annotation in the class that has the <code>main</code> method that has the <code>@SpringBootApplication</code></p>\n<pre><code>@ComponentScan({&quot;com.example.service&quot;, &quot;com.example.model&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15513805,"reputation":277,"user_id":11191942,"display_name":"Oceania Water"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642364414,"creation_date":1642364414,"answer_id":70733861,"question_id":70733734,"body_markdown":"Did you put this @SpringBootApplication to your main class?\r\nSeems your controller is not scanned.\r\nhttps://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html","title":"Spring Boot , GET invocation not working in Postman","body":"<p>Did you put this @SpringBootApplication to your main class?\nSeems your controller is not scanned.\n<a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html</a></p>\n"},{"tags":[],"owner":{"account_id":15513805,"reputation":277,"user_id":11191942,"display_name":"Oceania Water"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642365726,"creation_date":1642365726,"answer_id":70734001,"question_id":70733734,"body_markdown":"As your main application class is under the package demo,\r\nwith the @SpringBootApplication, it scans the demo package and all its children packages. \r\nYour controller is not scanned in this case.\r\nOne of the solutions is to reorganise your packages.\r\nFor example, remove the demo package.\r\n","title":"Spring Boot , GET invocation not working in Postman","body":"<p>As your main application class is under the package demo,\nwith the @SpringBootApplication, it scans the demo package and all its children packages.\nYour controller is not scanned in this case.\nOne of the solutions is to reorganise your packages.\nFor example, remove the demo package.</p>\n"}],"owner":{"account_id":360689,"reputation":1141,"user_id":702813,"accept_rate":70,"display_name":"Raghu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1051,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1642439696,"answer_count":3,"score":-1,"last_activity_date":1642367321,"creation_date":1642363404,"question_id":70733734,"body_markdown":"Spring newbie here. Three classes \r\n\r\n**Employee.java**\r\n\r\n    package com.example.model;\r\n\r\n    public class Employee {\r\n\t\r\n\tprivate int employeeId;\r\n\tprivate String name;\r\n\tprivate String email; \r\n\t\r\n\tpublic Employee(int employeeId, String name, String email)\r\n\t{\r\n\t\tthis.setEmployeeId(employeeId);\r\n\t\tthis.setName(name);\r\n\t\tthis.setEmail(email); \r\n\t}\r\n\r\n\tpublic int getEmployeeId() {\r\n\t\treturn employeeId;\r\n\t}\r\n\r\n\tpublic void setEmployeeId(int employeeId) {\r\n\t\tthis.employeeId = employeeId;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n**EmployeeDao.java**\r\n\r\n    @Component\r\n    public class EmployeeDao {\r\n\t\r\n\tstatic List&lt;Employee&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\tstatic \r\n\t\t\t{\r\n\t\t\t\tlist.add(new Employee(1234,&quot;Nancy&quot;, &quot;nancy@mail.com&quot;));\r\n\t\t\t\tlist.add(new Employee(5678, &quot;Daniel&quot;,&quot;daniel@mail.com&quot;));\r\n\t\t\t\tlist.add(new Employee(9101, &quot;Scott&quot;, &quot;scott@mail.com&quot;));\r\n\t\t\t}\r\n\t\r\n\tpublic List&lt;Employee&gt; getAllEmployees()\r\n\t {\r\n\t\treturn list;\r\n\t }\r\n\r\n    }\r\n\r\n**EmployeeController.java**\r\n\r\n    @RestController\r\n    public class EmployeeController {\r\n\t\r\n\t@Autowired\r\n\tEmployeeDao service;\r\n\t\r\n\t@GetMapping(path = &quot;/employees&quot;)\t\r\n\tpublic List&lt;Employee&gt; getAll()\r\n\t {\r\n\t\tSystem.out.println(service.getAllEmployees());\r\n\t\treturn service.getAllEmployees();\r\n\t }\r\n    }\r\n\r\n**Postman execution of GET employees throws up this error(404)**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Project Setup**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cdHHA.png\r\n  [2]: https://i.stack.imgur.com/5aAA6.jpg","title":"Spring Boot , GET invocation not working in Postman","body":"<p>Spring newbie here. Three classes</p>\n<p><strong>Employee.java</strong></p>\n<pre><code>package com.example.model;\n\npublic class Employee {\n\nprivate int employeeId;\nprivate String name;\nprivate String email; \n\npublic Employee(int employeeId, String name, String email)\n{\n    this.setEmployeeId(employeeId);\n    this.setName(name);\n    this.setEmail(email); \n}\n\npublic int getEmployeeId() {\n    return employeeId;\n}\n\npublic void setEmployeeId(int employeeId) {\n    this.employeeId = employeeId;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n</code></pre>\n<p><strong>EmployeeDao.java</strong></p>\n<pre><code>@Component\npublic class EmployeeDao {\n\nstatic List&lt;Employee&gt; list = new ArrayList&lt;&gt;();\n        \n        static \n        {\n            list.add(new Employee(1234,&quot;Nancy&quot;, &quot;nancy@mail.com&quot;));\n            list.add(new Employee(5678, &quot;Daniel&quot;,&quot;daniel@mail.com&quot;));\n            list.add(new Employee(9101, &quot;Scott&quot;, &quot;scott@mail.com&quot;));\n        }\n\npublic List&lt;Employee&gt; getAllEmployees()\n {\n    return list;\n }\n\n}\n</code></pre>\n<p><strong>EmployeeController.java</strong></p>\n<pre><code>@RestController\npublic class EmployeeController {\n\n@Autowired\nEmployeeDao service;\n\n@GetMapping(path = &quot;/employees&quot;)    \npublic List&lt;Employee&gt; getAll()\n {\n    System.out.println(service.getAllEmployees());\n    return service.getAllEmployees();\n }\n}\n</code></pre>\n<p><strong>Postman execution of GET employees throws up this error(404)</strong>\n<a href=\"https://i.stack.imgur.com/cdHHA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cdHHA.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Project Setup</strong></p>\n<p><a href=\"https://i.stack.imgur.com/5aAA6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5aAA6.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jackson","jackson-modules"],"answers":[{"tags":[],"owner":{"account_id":23959262,"reputation":1,"user_id":17949626,"display_name":"sean-rw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642366749,"creation_date":1642366409,"answer_id":70734103,"question_id":70049306,"body_markdown":"Just figured it out myself.\r\n\r\nIn module-info.java: `requires com.fasterxml.jackson.databind;`\r\n\r\nIn pom.xml: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"using jackson with module-info?","body":"<p>Just figured it out myself.</p>\n<p>In module-info.java: <code>requires com.fasterxml.jackson.databind;</code></p>\n<p>In pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4966474,"reputation":1,"user_id":3995617,"display_name":"dano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642366749,"creation_date":1637437356,"question_id":70049306,"body_markdown":"I can&#39;t for the life of me figure out how to include jackson in a java project using java modules.\r\n\r\nI have tried a combination of using:\r\n\r\n    com.fasterxml.jackson.module  \r\n    com.fasterxml.jackson.datatype\r\n    com.faster.xml.jackson.core\r\n\r\nnothing works...\r\nerrors range from:\r\n\r\n    module not found: com.fasterxml.jackson.module\r\n\r\nand...\r\n    \r\n    package com.fasterxml.jackson.databind is not visible\r\n    [ERROR]   (package com.fasterxml.jackson.databind is declared in the unnamed module, but module org.dshops.infobook does not read it\r\n\r\nDoes anyone have an example pom.xml/module-info.java that builds? or a pointer to one?\r\n\r\nnote this is where I started:\r\n\r\npom.xml:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nand in module-info.java\r\n\r\n    requires com.fasterxml.jackson.core;\r\n\r\n\r\n\r\n","title":"using jackson with module-info?","body":"<p>I can't for the life of me figure out how to include jackson in a java project using java modules.</p>\n<p>I have tried a combination of using:</p>\n<pre><code>com.fasterxml.jackson.module  \ncom.fasterxml.jackson.datatype\ncom.faster.xml.jackson.core\n</code></pre>\n<p>nothing works...\nerrors range from:</p>\n<pre><code>module not found: com.fasterxml.jackson.module\n</code></pre>\n<p>and...</p>\n<pre><code>package com.fasterxml.jackson.databind is not visible\n[ERROR]   (package com.fasterxml.jackson.databind is declared in the unnamed module, but module org.dshops.infobook does not read it\n</code></pre>\n<p>Does anyone have an example pom.xml/module-info.java that builds? or a pointer to one?</p>\n<p>note this is where I started:</p>\n<p>pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and in module-info.java</p>\n<pre><code>requires com.fasterxml.jackson.core;\n</code></pre>\n"},{"tags":["java","node.js","spring","redis"],"answers":[{"tags":[],"owner":{"account_id":3817819,"reputation":409,"user_id":3166720,"display_name":"johnyka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642366158,"creation_date":1642366158,"answer_id":70734063,"question_id":70734013,"body_markdown":"What you need is an [ORM][1], that is that tool in every language that maps your objects into database records.\r\n\r\nWith a quick search you can find [Sequalize][2] that is very popular in the NodeJS world.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping\r\n  [2]: https://sequelize.org/","title":"Spring&#39;s Entity inside nodejs","body":"<p>What you need is an <a href=\"https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping\" rel=\"nofollow noreferrer\">ORM</a>, that is that tool in every language that maps your objects into database records.</p>\n<p>With a quick search you can find <a href=\"https://sequelize.org/\" rel=\"nofollow noreferrer\">Sequalize</a> that is very popular in the NodeJS world.</p>\n"}],"owner":{"account_id":13264688,"reputation":359,"user_id":9577975,"display_name":"157 239n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70734063,"answer_count":1,"score":1,"last_activity_date":1642366158,"creation_date":1642365817,"question_id":70734013,"body_markdown":"The way I manage persistent state inside my backends in the past is by using Spring&#39;s `@Entity`. Basically, I define a regular java class like this:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\nclass User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;user_id&quot;)\r\n    public Long user_id;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    public String email;\r\n}\r\n```\r\n\r\nThen I can use Hibernate to retrieve a managed java object:\r\n\r\n```java\r\nUser user = userFactory.getUserFromId(3L); // uses Hibernate internally to get a managed instance\r\nuser.email = &quot;abc@company.com&quot;; // gets auto-save to mysql database\r\n```\r\n\r\nThis is highly convenient, as I can just change the fields without explicitly worrying about saving data. It&#39;s also quite convenient as I can specify a number of fields to be used as an index, so I can search for matching email names quite fast.\r\n\r\nHow would I go about doing the same thing using NodeJS? I need to use node as my team is not familiar with Java at all. I want to be able to store complex json objects fast, have a cached version in memory that ideally stores data permanently at regular intervals.\r\n\r\nMy current plan is to use Redis for this. Getting user&#39;s object should look something like this:\r\n\r\n```js\r\nclass User {\r\n    constructor(json) {\r\n        this.json = json\r\n    }\r\n\r\n    async save() {\r\n        await redis.set(JSON.stringify(this.json));\r\n    }\r\n}\r\n\r\nasync function user(id) {\r\n    let json = JSON.parse(await redis.get(&quot;user-&quot; + id));\r\n    return User(json);\r\n}\r\n\r\nu3 = await user(3);\r\nu3.json.email = &quot;def@company.com&quot;;\r\nu3.save();\r\n```\r\n\r\nTo get user by name, I&#39;d create my own index (mapping from email to user id), and potentially store this index inside redis as well.\r\n\r\nAll of this seems clunky, and feels like I&#39;m reimplementing basic database features. So before I do it like this, are there different ways to manage json objects well in js, so that the coding experience is somewhat the same as in Spring?","title":"Spring&#39;s Entity inside nodejs","body":"<p>The way I manage persistent state inside my backends in the past is by using Spring's <code>@Entity</code>. Basically, I define a regular java class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;)\nclass User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;user_id&quot;)\n    public Long user_id;\n\n    @Column(name = &quot;email&quot;)\n    public String email;\n}\n</code></pre>\n<p>Then I can use Hibernate to retrieve a managed java object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>User user = userFactory.getUserFromId(3L); // uses Hibernate internally to get a managed instance\nuser.email = &quot;abc@company.com&quot;; // gets auto-save to mysql database\n</code></pre>\n<p>This is highly convenient, as I can just change the fields without explicitly worrying about saving data. It's also quite convenient as I can specify a number of fields to be used as an index, so I can search for matching email names quite fast.</p>\n<p>How would I go about doing the same thing using NodeJS? I need to use node as my team is not familiar with Java at all. I want to be able to store complex json objects fast, have a cached version in memory that ideally stores data permanently at regular intervals.</p>\n<p>My current plan is to use Redis for this. Getting user's object should look something like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>class User {\n    constructor(json) {\n        this.json = json\n    }\n\n    async save() {\n        await redis.set(JSON.stringify(this.json));\n    }\n}\n\nasync function user(id) {\n    let json = JSON.parse(await redis.get(&quot;user-&quot; + id));\n    return User(json);\n}\n\nu3 = await user(3);\nu3.json.email = &quot;def@company.com&quot;;\nu3.save();\n</code></pre>\n<p>To get user by name, I'd create my own index (mapping from email to user id), and potentially store this index inside redis as well.</p>\n<p>All of this seems clunky, and feels like I'm reimplementing basic database features. So before I do it like this, are there different ways to manage json objects well in js, so that the coding experience is somewhat the same as in Spring?</p>\n"},{"tags":["java","bytecode"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1585779095,"post_id":60981074,"comment_id":107887179,"body_markdown":"It&#39;s implicit.  In Java those things are automatic, you don&#39;t specify them.  I can&#39;t figure out what you mean by &quot;abstract.&quot;","body":"It&#39;s implicit.  In Java those things are automatic, you don&#39;t specify them.  I can&#39;t figure out what you mean by &quot;abstract.&quot;"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1585779315,"post_id":60981074,"comment_id":107887252,"body_markdown":"But in the bytecode shoud be in i mean those lines??","body":"But in the bytecode shoud be in i mean those lines??"}],"answers":[{"tags":[],"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1585781731,"creation_date":1585781731,"answer_id":60981588,"question_id":60981074,"body_markdown":"Bytecode != Java source code. \r\n\r\nWhat is *actually* in the classfile is just random bytes. What you are seeing is `javap`&#39;s textual representation of the bytecode, which is designed to be familiar to Java programmers who don&#39;t know much about bytecode, and hence uses Java like syntax where possible. But it is not and is not meant to be actual Java source code.\r\n\r\nIf you used a different disassembler such as [Krakatau][1], the output would look very different, but it would still be a representation of the same binary classfile.\r\n\r\n\r\n  [1]: https://github.com/Storyyeller/Krakatau","title":"Java question about a .class generated with Java 14","body":"<p>Bytecode != Java source code. </p>\n\n<p>What is <em>actually</em> in the classfile is just random bytes. What you are seeing is <code>javap</code>'s textual representation of the bytecode, which is designed to be familiar to Java programmers who don't know much about bytecode, and hence uses Java like syntax where possible. But it is not and is not meant to be actual Java source code.</p>\n\n<p>If you used a different disassembler such as <a href=\"https://github.com/Storyyeller/Krakatau\" rel=\"nofollow noreferrer\">Krakatau</a>, the output would look very different, but it would still be a representation of the same binary classfile.</p>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642365642,"creation_date":1642365642,"answer_id":70733990,"question_id":60981074,"body_markdown":"From `javap`&#39;s  [documentation](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javap.html):  \r\n*&quot;The javap command disassembles one or more class files.&quot;*\r\n\r\nIt does not decompile the class file, that is, it is not intended to create valid java source code.\r\n\r\n*&quot;1. Why the constructor has no body and terminates with ;?&quot;*  \r\nit is not decompiled code, not valid Java, just an *indication* there is such constructor.\r\n\r\n*&quot;2. Why the constructor hasn&#39;t a call to the java.lang.Object constructor?&quot;*  \r\nit is being omitted by `javap`, but it is there, displayed if correct options were used (see below).\r\n\r\n*&quot;3. Why this class is not extending java.lang.Object?&quot;*  \r\nsame as previous, it is, just not displayed by `javap`.\r\n\r\nTo see more details, we must add the `-v` (verbose) option to the `javap` call. Here the output if using `javap -c -v ClassWithDefaultConstructor` (line numbers added by me):\r\n````\r\n1   Classfile /C:/tmp/ClassWithDefaultConstructor.class\r\n2     Last modified 16 Jan 2022; size 228 bytes\r\n3     SHA-256 checksum 101973fdf86b3e7facf263214f6932a9353ef7be914efec9963be3a578b3ddaf\r\n4     Compiled from &quot;ClassWithDefaultConstructor.java&quot;\r\n5   class ClassWithDefaultConstructor\r\n6     minor version: 0\r\n7     major version: 61\r\n8     flags: (0x0020) ACC_SUPER\r\n9     this_class: #7                          // ClassWithDefaultConstructor\r\n10    super_class: #2                         // java/lang/Object\r\n11    interfaces: 0, fields: 0, methods: 1, attributes: 1\r\n12  Constant pool:\r\n13     #1 = Methodref          #2.#3          // java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n14     #2 = Class              #4             // java/lang/Object\r\n15     #3 = NameAndType        #5:#6          // &quot;&lt;init&gt;&quot;:()V\r\n16     #4 = Utf8               java/lang/Object\r\n17     #5 = Utf8               &lt;init&gt;\r\n18     #6 = Utf8               ()V\r\n19     #7 = Class              #8             // ClassWithDefaultConstructor\r\n20     #8 = Utf8               ClassWithDefaultConstructor\r\n21     #9 = Utf8               Code\r\n22    #10 = Utf8               LineNumberTable\r\n23    #11 = Utf8               SourceFile\r\n24    #12 = Utf8               ClassWithDefaultConstructor.java\r\n25  {\r\n26    ClassWithDefaultConstructor();\r\n27      descriptor: ()V\r\n28      flags: (0x0000)\r\n29      Code:\r\n30        stack=1, locals=1, args_size=1\r\n31           0: aload_0\r\n32           1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n33           4: return\r\n34        LineNumberTable:\r\n35          line 1: 0\r\n36  }\r\n37  SourceFile: &quot;ClassWithDefaultConstructor.java&quot;\r\n````\r\n\r\nline number 10: `super_class: #2 // java/lang/Object`  \r\ngives us the super class, that is, `Object`\r\n\r\nline number 32: `  1: invokespecial #1 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V`  \r\nthis is calling the constructor of `Object` for the actual instance (previous line `aload_0`=`this`) - `&lt;init&gt;` is the name used for constructors (independent of class name) - that is the equivalent to `super()`.","title":"Java question about a .class generated with Java 14","body":"<p>From <code>javap</code>'s  <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javap.html\" rel=\"nofollow noreferrer\">documentation</a>:<br />\n<em>&quot;The javap command disassembles one or more class files.&quot;</em></p>\n<p>It does not decompile the class file, that is, it is not intended to create valid java source code.</p>\n<p><em>&quot;1. Why the constructor has no body and terminates with ;?&quot;</em><br />\nit is not decompiled code, not valid Java, just an <em>indication</em> there is such constructor.</p>\n<p><em>&quot;2. Why the constructor hasn't a call to the java.lang.Object constructor?&quot;</em><br />\nit is being omitted by <code>javap</code>, but it is there, displayed if correct options were used (see below).</p>\n<p><em>&quot;3. Why this class is not extending java.lang.Object?&quot;</em><br />\nsame as previous, it is, just not displayed by <code>javap</code>.</p>\n<p>To see more details, we must add the <code>-v</code> (verbose) option to the <code>javap</code> call. Here the output if using <code>javap -c -v ClassWithDefaultConstructor</code> (line numbers added by me):</p>\n<pre><code>1   Classfile /C:/tmp/ClassWithDefaultConstructor.class\n2     Last modified 16 Jan 2022; size 228 bytes\n3     SHA-256 checksum 101973fdf86b3e7facf263214f6932a9353ef7be914efec9963be3a578b3ddaf\n4     Compiled from &quot;ClassWithDefaultConstructor.java&quot;\n5   class ClassWithDefaultConstructor\n6     minor version: 0\n7     major version: 61\n8     flags: (0x0020) ACC_SUPER\n9     this_class: #7                          // ClassWithDefaultConstructor\n10    super_class: #2                         // java/lang/Object\n11    interfaces: 0, fields: 0, methods: 1, attributes: 1\n12  Constant pool:\n13     #1 = Methodref          #2.#3          // java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n14     #2 = Class              #4             // java/lang/Object\n15     #3 = NameAndType        #5:#6          // &quot;&lt;init&gt;&quot;:()V\n16     #4 = Utf8               java/lang/Object\n17     #5 = Utf8               &lt;init&gt;\n18     #6 = Utf8               ()V\n19     #7 = Class              #8             // ClassWithDefaultConstructor\n20     #8 = Utf8               ClassWithDefaultConstructor\n21     #9 = Utf8               Code\n22    #10 = Utf8               LineNumberTable\n23    #11 = Utf8               SourceFile\n24    #12 = Utf8               ClassWithDefaultConstructor.java\n25  {\n26    ClassWithDefaultConstructor();\n27      descriptor: ()V\n28      flags: (0x0000)\n29      Code:\n30        stack=1, locals=1, args_size=1\n31           0: aload_0\n32           1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n33           4: return\n34        LineNumberTable:\n35          line 1: 0\n36  }\n37  SourceFile: &quot;ClassWithDefaultConstructor.java&quot;\n</code></pre>\n<p>line number 10: <code>super_class: #2 // java/lang/Object</code><br />\ngives us the super class, that is, <code>Object</code></p>\n<p>line number 32: <code>  1: invokespecial #1 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</code><br />\nthis is calling the constructor of <code>Object</code> for the actual instance (previous line <code>aload_0</code>=<code>this</code>) - <code>&lt;init&gt;</code> is the name used for constructors (independent of class name) - that is the equivalent to <code>super()</code>.</p>\n"}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60981588,"answer_count":2,"score":0,"last_activity_date":1642365642,"creation_date":1585778779,"question_id":60981074,"body_markdown":"I have a simple class like this:\r\n\r\n    class ClassWithDefaultConstructor{}\r\n\r\nI am working with this JDK:\r\n\r\n    C:\\JavaSE14Folder&gt;java -version\r\n    java version &quot;14&quot; 2020-03-17\r\n    Java(TM) SE Runtime Environment (build 14+36-1461)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 14+36-1461, mixed mode, sharing)\r\n\r\nAs you can see I am using the latest version of the JDK.\r\n\r\nI create this .class like this:\r\n\r\n    C:\\JavaSE14Folder&gt;javac -d . ClassWithDefaultConstructor.java\r\n\r\nThe .class is created later on i try this command:\r\n\r\n    C:\\JavaSE14Folder&gt;javap ClassWithDefaultConstructor.class\r\n\r\nAnd I see the following:\r\n\r\n    Compiled from &quot;ClassWithDefaultConstructor.java&quot;\r\n    class ClassWithDefaultConstructor {\r\n       ClassWithDefaultConstructor();\r\n    }\r\n\r\nTwo things here made me happy; first the default constructor is created and I see that the visibility of the constructor is the same of the class, but three things made feel sad.\r\n\r\nMy questions are:\r\n\r\n1) Why the constructor has no body and terminates with `;`?\r\n2) Why the constructor hasn&#39;t a call to the java.lang.Object constructor?\r\n3) Why this class is not extending `java.lang.Object`?\r\n\r\nI did expect something like this:\r\n\r\n    class ClassWithDefaultConstructor extends java.lang.Object {\r\n       ClassWithDefaultConstructor(){\r\n           super();\r\n       }\r\n    }\r\n\r\nI expected a bytecode something like this post:\r\n\r\n[Post][1]\r\n\r\nDid I miss something?\r\n\r\n  [1]: https://stackoverflow.com/questions/1345043/classes-not-extending-java-lang-object\r\n\r\nIf I put the command like this:\r\n\r\n    C:\\JavaSE14Folder&gt;javap -c ClassWithDefaultConstructor.class\r\n    Compiled from &quot;ClassWithDefaultConstructor.java&quot;\r\n    class ClassWithDefaultConstructor {\r\n     ClassWithDefaultConstructor();\r\n     Code:\r\n       0: aload_0\r\n       1: invokespecial #1                  // Method java/lang/Object.&quot; \r\n    &lt;init&gt;&quot;:\r\n    ()V\r\n       4: return\r\n    }\r\n\r\nIs different but still I don&#39;t see my stuff like extending Object and so.\r\n\r\nI would love see something like this at least like in the post:\r\n\r\n    Compiled from &quot;test.java&quot;\r\n    public class test extends java.lang.Object{\r\n\r\nIn summary, I don&#39;t see the compiler inserting those implicit lines.\r\n\r\nIn this https://stackoverflow.com/questions/60981074/java-question-about-a-class-generated-with-java-14 states that happens the same on the newer versions of Java.\r\n\r\nSame output using: \r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_121\\bin","title":"Java question about a .class generated with Java 14","body":"<p>I have a simple class like this:</p>\n<pre><code>class ClassWithDefaultConstructor{}\n</code></pre>\n<p>I am working with this JDK:</p>\n<pre><code>C:\\JavaSE14Folder&gt;java -version\njava version &quot;14&quot; 2020-03-17\nJava(TM) SE Runtime Environment (build 14+36-1461)\nJava HotSpot(TM) 64-Bit Server VM (build 14+36-1461, mixed mode, sharing)\n</code></pre>\n<p>As you can see I am using the latest version of the JDK.</p>\n<p>I create this .class like this:</p>\n<pre><code>C:\\JavaSE14Folder&gt;javac -d . ClassWithDefaultConstructor.java\n</code></pre>\n<p>The .class is created later on i try this command:</p>\n<pre><code>C:\\JavaSE14Folder&gt;javap ClassWithDefaultConstructor.class\n</code></pre>\n<p>And I see the following:</p>\n<pre><code>Compiled from &quot;ClassWithDefaultConstructor.java&quot;\nclass ClassWithDefaultConstructor {\n   ClassWithDefaultConstructor();\n}\n</code></pre>\n<p>Two things here made me happy; first the default constructor is created and I see that the visibility of the constructor is the same of the class, but three things made feel sad.</p>\n<p>My questions are:</p>\n<ol>\n<li>Why the constructor has no body and terminates with <code>;</code>?</li>\n<li>Why the constructor hasn't a call to the java.lang.Object constructor?</li>\n<li>Why this class is not extending <code>java.lang.Object</code>?</li>\n</ol>\n<p>I did expect something like this:</p>\n<pre><code>class ClassWithDefaultConstructor extends java.lang.Object {\n   ClassWithDefaultConstructor(){\n       super();\n   }\n}\n</code></pre>\n<p>I expected a bytecode something like this post:</p>\n<p><a href=\"https://stackoverflow.com/questions/1345043/classes-not-extending-java-lang-object\">Post</a></p>\n<p>Did I miss something?</p>\n<p>If I put the command like this:</p>\n<pre><code>C:\\JavaSE14Folder&gt;javap -c ClassWithDefaultConstructor.class\nCompiled from &quot;ClassWithDefaultConstructor.java&quot;\nclass ClassWithDefaultConstructor {\n ClassWithDefaultConstructor();\n Code:\n   0: aload_0\n   1: invokespecial #1                  // Method java/lang/Object.&quot; \n&lt;init&gt;&quot;:\n()V\n   4: return\n}\n</code></pre>\n<p>Is different but still I don't see my stuff like extending Object and so.</p>\n<p>I would love see something like this at least like in the post:</p>\n<pre><code>Compiled from &quot;test.java&quot;\npublic class test extends java.lang.Object{\n</code></pre>\n<p>In summary, I don't see the compiler inserting those implicit lines.</p>\n<p>In this <a href=\"https://stackoverflow.com/questions/60981074/java-question-about-a-class-generated-with-java-14\">Java Question about a .class generated with Java 14</a> states that happens the same on the newer versions of Java.</p>\n<p>Same output using:</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_121\\bin\n</code></pre>\n"},{"tags":["java","arrays","stringbuilder"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1642362818,"post_id":70733639,"comment_id":125045343,"body_markdown":"You&#39;re creating __one__ `StringBuilder`, not an array of `StringBuilder`s.","body":"You&#39;re creating <b>one</b> <code>StringBuilder</code>, not an array of <code>StringBuilder</code>s."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1642362831,"post_id":70733639,"comment_id":125045348,"body_markdown":"What do you want to do?","body":"What do you want to do?"}],"answers":[{"tags":[],"owner":{"account_id":13336571,"reputation":493,"user_id":9626243,"display_name":"Vitaliy Tsirkunov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642363468,"creation_date":1642362996,"answer_id":70733676,"question_id":70733639,"body_markdown":"[This is a link to StringBuilder javadoc][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\r\n\r\nAs you can see there is no constructor with a vararg parameter which can accept any number of strings. You can pass only one string to the constructor. But the following example may be what you want:\r\n\r\n    new StringBuilder(&quot;one string&quot;).append(&quot;second string&quot;).append(&quot;third&quot;)\r\n\r\nbut this example will create one string builder. If you want to create one StringBuilder for every string, you can use streams.\r\n\r\n            Arrays.stream(new String[]{&quot;one&quot;, &quot;second&quot;, &quot;third&quot;})\r\n                .map(st -&gt; new StringBuilder(st))\r\n                .toArray();\r\n\r\nBut this can be to match for smbd who has just started to learn Java.","title":"Assigning values in StringBuilder array using {}","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">This is a link to StringBuilder javadoc</a></p>\n<p>As you can see there is no constructor with a vararg parameter which can accept any number of strings. You can pass only one string to the constructor. But the following example may be what you want:</p>\n<pre><code>new StringBuilder(&quot;one string&quot;).append(&quot;second string&quot;).append(&quot;third&quot;)\n</code></pre>\n<p>but this example will create one string builder. If you want to create one StringBuilder for every string, you can use streams.</p>\n<pre><code>        Arrays.stream(new String[]{&quot;one&quot;, &quot;second&quot;, &quot;third&quot;})\n            .map(st -&gt; new StringBuilder(st))\n            .toArray();\n</code></pre>\n<p>But this can be to match for smbd who has just started to learn Java.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642364786,"creation_date":1642364786,"answer_id":70733893,"question_id":70733639,"body_markdown":"Here is how I would do it.\r\n```\r\nStringBuilder[] textArray = Stream\r\n\t\t.of(&quot;Word1&quot;, &quot;Word2&quot;, &quot;Word3&quot;)\r\n        .map(StringBuilder::new)\r\n\t\t.toArray(StringBuilder[]::new);\r\n```\r\nIf you already have an array of strings, you could do it like this.\r\n```\r\nString[] array = {&quot;Word1&quot;, &quot;Word2&quot;, &quot;Word3&quot;};\r\n\r\nStringBuilder[] textArray =\tArrays.stream(array)\r\n        .map(StringBuilder::new)\r\n\t\t.toArray(StringBuilder[]::new);\r\n```\r\nEither way, they print the same.\r\n```\r\nfor (StringBuilder sb : textArray) {\r\n\tSystem.out.println(sb);\r\n}\r\n```\r\nprints\r\n```\r\nWord1\r\nWord2\r\nWord3\r\n```\r\nThe main points are:\r\n- map the string to a `StringBuilder` object\r\n- specify the array type in the `toArray` method","title":"Assigning values in StringBuilder array using {}","body":"<p>Here is how I would do it.</p>\n<pre><code>StringBuilder[] textArray = Stream\n        .of(&quot;Word1&quot;, &quot;Word2&quot;, &quot;Word3&quot;)\n        .map(StringBuilder::new)\n        .toArray(StringBuilder[]::new);\n</code></pre>\n<p>If you already have an array of strings, you could do it like this.</p>\n<pre><code>String[] array = {&quot;Word1&quot;, &quot;Word2&quot;, &quot;Word3&quot;};\n\nStringBuilder[] textArray = Arrays.stream(array)\n        .map(StringBuilder::new)\n        .toArray(StringBuilder[]::new);\n</code></pre>\n<p>Either way, they print the same.</p>\n<pre><code>for (StringBuilder sb : textArray) {\n    System.out.println(sb);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Word1\nWord2\nWord3\n</code></pre>\n<p>The main points are:</p>\n<ul>\n<li>map the string to a <code>StringBuilder</code> object</li>\n<li>specify the array type in the <code>toArray</code> method</li>\n</ul>\n"}],"owner":{"account_id":18206667,"reputation":1,"user_id":13249960,"display_name":"Mackan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1642366168,"accepted_answer_id":70733676,"answer_count":2,"score":-3,"last_activity_date":1642365578,"creation_date":1642362712,"question_id":70733639,"body_markdown":"I can&#39;t do this:\r\n\r\n```StringBuilder[] textArray = new StringBuilder(&quot;Word1&quot;, &quot;Word2&quot;, &quot;Word3&quot;, &quot;e.t.c&quot;);```\r\n\r\nDo I do it wrong? Or is it just not possible? Are there better ways?\r\n","title":"Assigning values in StringBuilder array using {}","body":"<p>I can't do this:</p>\n<p><code>StringBuilder[] textArray = new StringBuilder(&quot;Word1&quot;, &quot;Word2&quot;, &quot;Word3&quot;, &quot;e.t.c&quot;);</code></p>\n<p>Do I do it wrong? Or is it just not possible? Are there better ways?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23959183,"reputation":36,"user_id":17949557,"display_name":"Ali Al-Dughairi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642365452,"creation_date":1642365452,"answer_id":70733966,"question_id":70733600,"body_markdown":"If you&#39;re on an emulator, try reinstalling the application! It works sometimes.","title":"SQLite Database Error - No column named task","body":"<p>If you're on an emulator, try reinstalling the application! It works sometimes.</p>\n"}],"owner":{"account_id":23958833,"reputation":21,"user_id":17949256,"display_name":"Sorin Tudose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70733966,"answer_count":1,"score":2,"last_activity_date":1642365452,"creation_date":1642362424,"question_id":70733600,"body_markdown":"[Error_Database][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sio5Z.png\r\n\r\n    enter code here\r\n\r\npublic class DataBaseHandler extends SQLiteOpenHelper {\r\n\r\n    private static final int VERSION = 1;\r\n    private static final String NAME = &quot;toDoListDatabase&quot;;\r\n    private static final String TODO_TABLE = &quot;todo&quot;;\r\n    private static final String ID = &quot;id&quot;;\r\n    private static final String TASK = &quot;task&quot;;\r\n    private static final String STATUS = &quot;status&quot;;\r\n    private static final String CREATE_TODO_TABLE = &quot;CREATE TABLE &quot; + TODO_TABLE + &quot;(&quot; + ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; + TASK + &quot; TEXT, &quot;\r\n            + STATUS + &quot; INTEGER)&quot;;\r\n\r\n    private SQLiteDatabase db;\r\n\r\n    public DataBaseHandler(Context context) {\r\n        super(context, NAME, null, VERSION);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        db.execSQL(CREATE_TODO_TABLE);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // Drop older table if existed\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TODO_TABLE);\r\n        // Create tables again\r\n        onCreate(db);\r\n    }\r\n\r\n    public void openDatabase() {\r\n        db = this.getWritableDatabase();\r\n    }\r\n\r\n    public void insertTask(ToDoModel task){\r\n        ContentValues cv = new ContentValues();\r\n        cv.put(TASK, task.getTask());\r\n        cv.put(STATUS, 0);\r\n        db.insert(TODO_TABLE, null, cv);\r\n    }\r\n\r\n    public List&lt;ToDoModel&gt; getAllTasks(){\r\n        List&lt;ToDoModel&gt; taskList = new ArrayList&lt;&gt;();\r\n        Cursor cur = null;\r\n        db.beginTransaction();\r\n        try{\r\n            cur = db.query(TODO_TABLE, null, null, null, null, null, null, null);\r\n            if(cur != null){\r\n                if(cur.moveToFirst()){\r\n                    do{\r\n                        ToDoModel task = new ToDoModel();\r\n                        task.setId(cur.getInt(cur.getColumnIndexOrThrow(ID)));\r\n                        task.setTask(cur.getString(cur.getColumnIndexOrThrow(TASK)));\r\n                        task.setStatus(cur.getInt(cur.getColumnIndexOrThrow(STATUS)));\r\n                        taskList.add(task);\r\n                    }\r\n                    while(cur.moveToNext());\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            db.endTransaction();\r\n            assert cur != null;\r\n            cur.close();\r\n        }\r\n        return taskList;\r\n    }\r\n\r\n    public void updateStatus(int id, int status){\r\n        ContentValues cv = new ContentValues();\r\n        cv.put(STATUS, status);\r\n        db.update(TODO_TABLE, cv, ID + &quot;= ?&quot;, new String[] {String.valueOf(id)});\r\n    }\r\n\r\n    public void updateTask(int id, String task) {\r\n        ContentValues cv = new ContentValues();\r\n        cv.put(TASK, task);\r\n        db.update(TODO_TABLE, cv, ID + &quot;= ?&quot;, new String[] {String.valueOf(id)});\r\n    }\r\n\r\n    public void deleteTask(int id){\r\n        db.delete(TODO_TABLE, ID + &quot;= ?&quot;, new String[] {String.valueOf(id)});\r\n    }\r\n}\r\n\r\n\r\n\r\nCan somebody proofread this? The error is :\r\n&quot;no column named task in &quot;INSERT INTO todo(status,task) VALUES (?,?)&quot; \r\n\r\n&quot;android.database.sqlite.SQLiteException: table todo has no column named task (code 1 SQLITE_ERROR): , while compiling: INSERT INTO todo(status,task) VALUES (?,?)&quot;. \r\n\r\nI also attached a ss of the error as a link.\r\n\r\nI&#39;m trying to create a database where I can store tasks. Does anyone has a fix for this? \r\n\r\nThanks!\r\n\r\n\r\n\r\n\r\n","title":"SQLite Database Error - No column named task","body":"<p><a href=\"https://i.stack.imgur.com/sio5Z.png\" rel=\"nofollow noreferrer\">Error_Database</a></p>\n<pre><code>enter code here\n</code></pre>\n<p>public class DataBaseHandler extends SQLiteOpenHelper {</p>\n<pre><code>private static final int VERSION = 1;\nprivate static final String NAME = &quot;toDoListDatabase&quot;;\nprivate static final String TODO_TABLE = &quot;todo&quot;;\nprivate static final String ID = &quot;id&quot;;\nprivate static final String TASK = &quot;task&quot;;\nprivate static final String STATUS = &quot;status&quot;;\nprivate static final String CREATE_TODO_TABLE = &quot;CREATE TABLE &quot; + TODO_TABLE + &quot;(&quot; + ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; + TASK + &quot; TEXT, &quot;\n        + STATUS + &quot; INTEGER)&quot;;\n\nprivate SQLiteDatabase db;\n\npublic DataBaseHandler(Context context) {\n    super(context, NAME, null, VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    db.execSQL(CREATE_TODO_TABLE);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // Drop older table if existed\n    db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TODO_TABLE);\n    // Create tables again\n    onCreate(db);\n}\n\npublic void openDatabase() {\n    db = this.getWritableDatabase();\n}\n\npublic void insertTask(ToDoModel task){\n    ContentValues cv = new ContentValues();\n    cv.put(TASK, task.getTask());\n    cv.put(STATUS, 0);\n    db.insert(TODO_TABLE, null, cv);\n}\n\npublic List&lt;ToDoModel&gt; getAllTasks(){\n    List&lt;ToDoModel&gt; taskList = new ArrayList&lt;&gt;();\n    Cursor cur = null;\n    db.beginTransaction();\n    try{\n        cur = db.query(TODO_TABLE, null, null, null, null, null, null, null);\n        if(cur != null){\n            if(cur.moveToFirst()){\n                do{\n                    ToDoModel task = new ToDoModel();\n                    task.setId(cur.getInt(cur.getColumnIndexOrThrow(ID)));\n                    task.setTask(cur.getString(cur.getColumnIndexOrThrow(TASK)));\n                    task.setStatus(cur.getInt(cur.getColumnIndexOrThrow(STATUS)));\n                    taskList.add(task);\n                }\n                while(cur.moveToNext());\n            }\n        }\n    }\n    finally {\n        db.endTransaction();\n        assert cur != null;\n        cur.close();\n    }\n    return taskList;\n}\n\npublic void updateStatus(int id, int status){\n    ContentValues cv = new ContentValues();\n    cv.put(STATUS, status);\n    db.update(TODO_TABLE, cv, ID + &quot;= ?&quot;, new String[] {String.valueOf(id)});\n}\n\npublic void updateTask(int id, String task) {\n    ContentValues cv = new ContentValues();\n    cv.put(TASK, task);\n    db.update(TODO_TABLE, cv, ID + &quot;= ?&quot;, new String[] {String.valueOf(id)});\n}\n\npublic void deleteTask(int id){\n    db.delete(TODO_TABLE, ID + &quot;= ?&quot;, new String[] {String.valueOf(id)});\n}\n</code></pre>\n<p>}</p>\n<p>Can somebody proofread this? The error is :\n&quot;no column named task in &quot;INSERT INTO todo(status,task) VALUES (?,?)&quot;</p>\n<p>&quot;android.database.sqlite.SQLiteException: table todo has no column named task (code 1 SQLITE_ERROR): , while compiling: INSERT INTO todo(status,task) VALUES (?,?)&quot;.</p>\n<p>I also attached a ss of the error as a link.</p>\n<p>I'm trying to create a database where I can store tasks. Does anyone has a fix for this?</p>\n<p>Thanks!</p>\n"},{"tags":["java","rest","jackson"],"comments":[{"owner":{"account_id":2139333,"reputation":1649,"user_id":1898397,"accept_rate":67,"display_name":"Tarun Gupta"},"score":0,"creation_date":1566375045,"post_id":57587091,"comment_id":101631932,"body_markdown":"What you need to do is - get the contents of the Stream into a String, You need to create a POJO that corresponds to the JSON structure that you are expecting, then do something like - `Car car = objectMapper.readValue(carJson, Car.class);` to parse the json data into an object.","body":"What you need to do is - get the contents of the Stream into a String, You need to create a POJO that corresponds to the JSON structure that you are expecting, then do something like - <code>Car car = objectMapper.readValue(carJson, Car.class);</code> to parse the json data into an object."}],"answers":[{"tags":[],"owner":{"account_id":9896111,"reputation":2731,"user_id":7327572,"accept_rate":80,"display_name":"FilipRistic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566375047,"creation_date":1566375047,"answer_id":57587178,"question_id":57587091,"body_markdown":"You just need to create instance of `ObjectMapper` and then use it to parse received json to class you want, like this:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    YourClass parsed = mapper.readValue(bufferedReader, YourClass.class);\r\n\r\nYou can also use `InputStream` directly:\r\n\r\n    YourClass parsed = mapper.readValue(conn.getInputStream(), YourClass.class);","title":"How to use Jackson to parse JSON from Rest Web Service","body":"<p>You just need to create instance of <code>ObjectMapper</code> and then use it to parse received json to class you want, like this:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nYourClass parsed = mapper.readValue(bufferedReader, YourClass.class);\n</code></pre>\n\n<p>You can also use <code>InputStream</code> directly:</p>\n\n<pre><code>YourClass parsed = mapper.readValue(conn.getInputStream(), YourClass.class);\n</code></pre>\n"}],"owner":{"account_id":2796529,"reputation":2231,"user_id":2405663,"accept_rate":48,"display_name":"bircastri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":894,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642365212,"creation_date":1566374745,"question_id":57587091,"body_markdown":"I&#39;m building a simple Java client to call a Rest Web Service.\r\nI would like to use JACKSON to parse JSON response.\r\n\r\nSo I&#39;m try to build this code:\r\n\r\n    public Object clearF3A(@RequestBody ImportRRData myData){\r\n            try{\r\n                Object RRout = null;\r\n    \r\n                URL url = new URL(\r\n                        &quot;http://localhost:8080/CustomerDB/webresources/co.com.mazf.ciudad&quot;);\r\n                HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n                conn.setRequestMethod(&quot;GET&quot;);\r\n                conn.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\r\n    \r\n                if (conn.getResponseCode() != 200) {\r\n                    throw new RuntimeException(&quot;Failed : HTTP error code : &quot;\r\n                            + conn.getResponseCode());\r\n                }\r\n    \r\n                BufferedReader br = new BufferedReader(new InputStreamReader(\r\n                        (conn.getInputStream())));\r\n    \r\n                String output;\r\n    \r\n               \r\n    \r\n                conn.disconnect();\r\n                return RRout;\r\n            }catch(Exception e){\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n    \r\n    \r\n        }\r\n\r\nWhat can I change to use Jackson to parse the response of web service ?","title":"How to use Jackson to parse JSON from Rest Web Service","body":"<p>I'm building a simple Java client to call a Rest Web Service.\nI would like to use JACKSON to parse JSON response.</p>\n<p>So I'm try to build this code:</p>\n<pre><code>public Object clearF3A(@RequestBody ImportRRData myData){\n        try{\n            Object RRout = null;\n\n            URL url = new URL(\n                    &quot;http://localhost:8080/CustomerDB/webresources/co.com.mazf.ciudad&quot;);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\n\n            if (conn.getResponseCode() != 200) {\n                throw new RuntimeException(&quot;Failed : HTTP error code : &quot;\n                        + conn.getResponseCode());\n            }\n\n            BufferedReader br = new BufferedReader(new InputStreamReader(\n                    (conn.getInputStream())));\n\n            String output;\n\n           \n\n            conn.disconnect();\n            return RRout;\n        }catch(Exception e){\n            e.printStackTrace();\n            return null;\n        }\n\n\n    }\n</code></pre>\n<p>What can I change to use Jackson to parse the response of web service ?</p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642364744,"post_id":70733778,"comment_id":125045781,"body_markdown":"Can you show the stack trace? Where exactly does the error occur? Try using `retrieveUserById` instead of `getUserById`.","body":"Can you show the stack trace? Where exactly does the error occur? Try using <code>retrieveUserById</code> instead of <code>getUserById</code>."},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642365158,"post_id":70733778,"comment_id":125045866,"body_markdown":"i&#39;am add stack trace on message, the error occurs in this line: User user = jda.getUserById(pass[7]);","body":"i&#39;am add stack trace on message, the error occurs in this line: User user = jda.getUserById(pass[7]);"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642365318,"post_id":70733778,"comment_id":125045890,"body_markdown":"What is line 27 of Passport? Does `db.getPassport(args[2])` return `null`?","body":"What is line 27 of Passport? Does <code>db.getPassport(args[2])</code> return <code>null</code>?"},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642365409,"post_id":70733778,"comment_id":125045911,"body_markdown":"line 27: User user = jda.getUserById(pass[7]);\n(If I understand you correctly)","body":"line 27: User user = jda.getUserById(pass[7]); (If I understand you correctly)"},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642365585,"post_id":70733778,"comment_id":125045936,"body_markdown":"no it does not return","body":"no it does not return"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642365892,"post_id":70733778,"comment_id":125046016,"body_markdown":"I think that `jda` is null in your case. Do you set it to anything non-null somewhere?","body":"I think that <code>jda</code> is null in your case. Do you set it to anything non-null somewhere?"},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642365917,"post_id":70733778,"comment_id":125046023,"body_markdown":"maybe error on `private static JDA jda;`?","body":"maybe error on <code>private static JDA jda;</code>?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1642365973,"post_id":70733778,"comment_id":125046034,"body_markdown":"Do you set `jda` to anything? Static variables are null by default.","body":"Do you set <code>jda</code> to anything? Static variables are null by default."},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642366102,"post_id":70733778,"comment_id":125046062,"body_markdown":"nope...........","body":"nope..........."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1642366299,"post_id":70733778,"comment_id":125046113,"body_markdown":"You can only use `jda` if you set it to your `JDA` object. Or you use `event.getJDA()` instead.","body":"You can only use <code>jda</code> if you set it to your <code>JDA</code> object. Or you use <code>event.getJDA()</code> instead."},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642366469,"post_id":70733778,"comment_id":125046167,"body_markdown":"I must to give a value, which value? this or the other? `jda = JDA Builder.create by default (&quot;token&quot;).build()` (stupid translater)","body":"I must to give a value, which value? this or the other? <code>jda = JDA Builder.create by default (&quot;token&quot;).build()</code> (stupid translater)"},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642366522,"post_id":70733778,"comment_id":125046181,"body_markdown":"okay, thanks a lot!","body":"okay, thanks a lot!"},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642366769,"post_id":70733778,"comment_id":125046241,"body_markdown":"it&#39;s not help :/","body":"it&#39;s not help :/"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1642367458,"post_id":70733778,"comment_id":125046392,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it) and https://stackoverflow.com/q/25385173/10871900","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a> and <a href=\"https://stackoverflow.com/q/25385173/10871900\">stackoverflow.com/q/25385173/10871900</a>"},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642367738,"post_id":70733778,"comment_id":125046447,"body_markdown":"I already understood what NPE is, but it didn&#39;t help me solve my problem. :/ But maybe I&#39;ll solve it right now","body":"I already understood what NPE is, but it didn&#39;t help me solve my problem. :/ But maybe I&#39;ll solve it right now"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642368028,"post_id":70733778,"comment_id":125046490,"body_markdown":"Use a debugger in order to find out what is null and why.","body":"Use a debugger in order to find out what is null and why."},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642368602,"post_id":70733778,"comment_id":125046611,"body_markdown":"`User user = event.getJDA().getUserById(args[2]);`\ndebugger show variable user null, one question WHY?","body":"<code>User user = event.getJDA().getUserById(args[2]);</code> debugger show variable user null, one question WHY?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642368660,"post_id":70733778,"comment_id":125046629,"body_markdown":"Because `jda` doesn&#39;t cache users any more. You should use `retrieveUserById` asynchronously instead.","body":"Because <code>jda</code> doesn&#39;t cache users any more. You should use <code>retrieveUserById</code> asynchronously instead."},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642368857,"post_id":70733778,"comment_id":125046672,"body_markdown":"how to do this, can you give me a code line?","body":"how to do this, can you give me a code line?"},{"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"score":0,"creation_date":1642369585,"post_id":70733778,"comment_id":125046812,"body_markdown":"youho, i solve this problem! thank you!","body":"youho, i solve this problem! thank you!"}],"owner":{"account_id":23958892,"reputation":1,"user_id":17949309,"display_name":"ЧoSS"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642388496,"answer_count":0,"score":0,"last_activity_date":1642365025,"creation_date":1642363758,"question_id":70733778,"body_markdown":"please help me, why when i try to use almost all JDA methods, a damn NPE error occurs. I searched the entire internet, found nothing, either i am blind or i am very stupid and the only one who has encountered this problem. There is also a constant problem with editing messages, i stupidly do not know how to get the id of the message sent by the bot.\r\nCode:\r\n```java\r\npublic class Passport {\r\n    private static JDA jda;\r\n    Main main = new Main();\r\n    PlayerDataBase db = new PlayerDataBase();\r\n    public boolean passport(@Nonnull MessageReceivedEvent event, String[] args) {\r\n        try {\r\n            if (args.length &lt;= 1) {\r\n                String[] pass = db.getPassport(event.getAuthor().getId().toString());\r\n                if (pass[5].equalsIgnoreCase(&quot;1212&quot;)) {\r\n                    event.getChannel().sendTyping().queue();\r\n                    TimeUnit.SECONDS.sleep(5);\r\n                    event.getMessage().addReaction(&quot;❌&quot;).queue();\r\n                    event.getChannel().sendMessage(&quot;`[X]` Произошла ошибка! У вас нет паспорта!\\nЕсли вы считаете что это ошибка и он у вас есть, отпишите разработчику бота !Nightmare.#1717&quot;).queue();\r\n                } else {\r\n                    User user = jda.getUserById(pass[7]); //i know what i can get user by args[2]\r\n                    EmbedBuilder help = new EmbedBuilder();\r\n                    help.setAuthor(&quot;\\uD83D\\uDC51Имперский Бот\\uD83D\\uDC51&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;);\r\n                    help.setDescription(&quot;Паспорт игрока &quot; + pass[0]);\r\n                    help.setThumbnail(user.getAvatarUrl());\r\n                    help.addField(&quot;Общие сведенья&quot;, &quot;Имя: &quot; + pass[1] + &quot;\\nРод: &quot; + pass[2] + &quot;\\nДата рождения: &quot; + pass[3] + &quot;\\nМесто жительства: &quot; + pass[4] + &quot;\\nНациональность: &quot; + pass[6], false);\r\n                    help.setColor(0xffda07);\r\n                    help.setFooter(user.getName(), user.getAvatarUrl());\r\n                    event.getChannel().sendTyping().queue();\r\n                    event.getMessage().addReaction(&quot;✅&quot;).queue();\r\n                    TimeUnit.SECONDS.sleep(5);\r\n                    event.getChannel().sendMessageEmbeds(help.build()).queue();\r\n                }\r\n            } else if (args[1].equalsIgnoreCase(&quot;get&quot;)) {\r\n                String[] pass = db.getPassport(args[2]);\r\n                User user = jda.getUserById(pass[7]);\r\n                EmbedBuilder help = new EmbedBuilder();\r\n                help.setAuthor(&quot;\\uD83D\\uDC51Имперский Бот\\uD83D\\uDC51&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;);\r\n                help.setDescription(&quot;Паспорт игрока &quot; + pass[0]);\r\n                help.setThumbnail(user.getAvatarUrl());\r\n                help.addField(&quot;Общие сведенья&quot;, &quot;Имя: &quot; + pass[1] + &quot;\\nРод: &quot; + pass[2] + &quot;\\nДата рождения: &quot; + pass[3] + &quot;\\nМесто жительства: &quot; + pass[4] + &quot;\\nНациональность: &quot; + pass[6], false);\r\n                help.setColor(0xffda07);\r\n                help.setFooter(user.getName(),user.getAvatarUrl());\r\n                event.getChannel().sendTyping().queue();\r\n                event.getMessage().addReaction(&quot;✅&quot;).queue();\r\n                TimeUnit.SECONDS.sleep(5);\r\n                event.getChannel().sendMessageEmbeds(help.build()).queue();\r\n            } else if (args[1].equalsIgnoreCase(&quot;add&quot;)) {\r\n                String[] cusargs = event.getMessage().getContentRaw().split(&quot;  &quot;);\r\n                event.getChannel().sendTyping().queue();\r\n                TimeUnit.SECONDS.sleep(2);\r\n                event.getChannel().sendMessage(&quot;[Создание паспорта] Соединяемся с базой данных&quot;).queue();\r\n                TimeUnit.SECONDS.sleep(2);\r\n                event.getChannel().sendMessage(&quot;[Создание паспорта] Успешно!&quot;).queue(); //here i want to edit the message, if you can help me, please help)))\r\n                TimeUnit.MILLISECONDS.sleep(900);\r\n                event.getChannel().sendMessage(&quot;[Создание паспорта] Конструируем и добавляем паспорт в базу данных&quot;).queue();\r\n                db.addPassport(cusargs[1], cusargs[2], cusargs[3], cusargs[4], cusargs[5], cusargs[6], cusargs[7]); // /passport0 add1(args)  USERID0  NICKNAME1  NAME2  LASTNAME3  DATE4  CITY5(cusargs)\r\n                TimeUnit.SECONDS.sleep(3);\r\n                String[] pass = db.getPassport(cusargs[1]);\r\n                if (pass[5].equalsIgnoreCase(&quot;1212&quot;)) {\r\n                    event.getChannel().sendMessage(&quot;[Создание паспорта] Во время создания паспорта произошла ошибка!&quot;).queue();\r\n                } else {\r\n                    event.getChannel().sendMessage(&quot;[Создание паспорта] Успешно!&quot;).queue();\r\n                    TimeUnit.MILLISECONDS.sleep(900);\r\n                    event.getChannel().sendMessage(&quot;[Создание паспорта] Создание успешно заверешно! Через несколько секунд будет выведен паспорт игрока&quot;).queue();\r\n                    TimeUnit.SECONDS.sleep(2);\r\n                    User user = jda.getUserById(pass[7]);\r\n                    EmbedBuilder help = new EmbedBuilder();\r\n                    help.setAuthor(&quot;\\uD83D\\uDC51Имперский Бот\\uD83D\\uDC51&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;);\r\n                    help.setDescription(&quot;Паспорт игрока &quot; + pass[0]);\r\n                    help.setThumbnail(user.getAvatarUrl());\r\n                    help.addField(&quot;Общие сведенья&quot;, &quot;Имя: &quot; + pass[1] + &quot;\\nРод: &quot; + pass[2] + &quot;\\nДата рождения: &quot; + pass[3] + &quot;\\nМесто жительства: &quot; + pass[4] + &quot;\\nНациональность: &quot; + pass[6], false);\r\n                    help.setColor(0xffda07);\r\n                    help.setFooter(user.getName(), user.getAvatarUrl());\r\n                    event.getChannel().sendTyping().queue();\r\n                    TimeUnit.SECONDS.sleep(1);\r\n                    event.getChannel().sendMessageEmbeds(help.build()).queue();\r\n                }\r\n            } else if (args[1].equalsIgnoreCase(&quot;remove&quot;)) {\r\n                String[] pass = db.getPassport(args[2]);\r\n                if (pass[5].equalsIgnoreCase(&quot;1212&quot;)) {\r\n                    event.getChannel().sendTyping().queue();\r\n                    TimeUnit.SECONDS.sleep(5);\r\n                    event.getMessage().addReaction(&quot;❌&quot;).queue();\r\n                    event.getChannel().sendMessage(&quot;`[X]` Произошла ошибка! Паспорт этого игрока не зарегестрирован!\\nЕсли вы считаете что это ошибка и он зарегестрирован, отпишите разработчику бота !Nightmare.#1717&quot;).queue();\r\n                } else {\r\n                    event.getChannel().sendTyping().queue();\r\n                    TimeUnit.SECONDS.sleep(2);\r\n                    event.getChannel().sendMessage(&quot;[Удаление паспорта] Соединение с базой данных&quot;).queue();\r\n                    TimeUnit.SECONDS.sleep(1);\r\n                    event.getChannel().sendMessage(&quot;[Удаление паспорта] Успешно соединенно&quot;).queue();\r\n                    TimeUnit.SECONDS.sleep(1);\r\n                    event.getChannel().sendMessage(&quot;[Удаление паспорта] Удаление из базы данных&quot;).queue();\r\n                    TimeUnit.SECONDS.sleep(2);\r\n                    event.getChannel().sendMessage(&quot;[Удаление паспорта] Удаление завершено&quot;).queue();\r\n                    event.getChannel().sendMessage(&quot;Паспорт игрока &quot; + args[2] + &quot;успешно удалён из базы данных&quot;).queue();\r\n                    db.deletePassport(args[2]);\r\n                }\r\n            }\r\n            return true;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n}```\r\n\r\nstack trace:\r\njava.lang.NullPointerException\r\n\tat ru46.artem.alaverdyan.emperorbot.commands.Passport.passport(Passport.java:27)\r\n\tat ru46.artem.alaverdyan.emperorbot.Listener.onMessageReceived(Listener.java:141)\r\n\tat net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:358)\r\n\tat net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n\tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n\tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n\tat net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:163)\r\n\tat net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:111)\r\n\tat net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:953)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:840)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:818)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:992)\r\n\tat com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\r\n\tat com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\r\n\tat com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\r\n\tat com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\r\n\tat com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\r\n\tat com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\r\n\tat com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)","title":"Why is there an error when getting a user by his ID? Java, JDA, Discord Bot","body":"<p>please help me, why when i try to use almost all JDA methods, a damn NPE error occurs. I searched the entire internet, found nothing, either i am blind or i am very stupid and the only one who has encountered this problem. There is also a constant problem with editing messages, i stupidly do not know how to get the id of the message sent by the bot.\nCode:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Passport {\n    private static JDA jda;\n    Main main = new Main();\n    PlayerDataBase db = new PlayerDataBase();\n    public boolean passport(@Nonnull MessageReceivedEvent event, String[] args) {\n        try {\n            if (args.length &lt;= 1) {\n                String[] pass = db.getPassport(event.getAuthor().getId().toString());\n                if (pass[5].equalsIgnoreCase(&quot;1212&quot;)) {\n                    event.getChannel().sendTyping().queue();\n                    TimeUnit.SECONDS.sleep(5);\n                    event.getMessage().addReaction(&quot;❌&quot;).queue();\n                    event.getChannel().sendMessage(&quot;`[X]` Произошла ошибка! У вас нет паспорта!\\nЕсли вы считаете что это ошибка и он у вас есть, отпишите разработчику бота !Nightmare.#1717&quot;).queue();\n                } else {\n                    User user = jda.getUserById(pass[7]); //i know what i can get user by args[2]\n                    EmbedBuilder help = new EmbedBuilder();\n                    help.setAuthor(&quot;\\uD83D\\uDC51Имперский Бот\\uD83D\\uDC51&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;);\n                    help.setDescription(&quot;Паспорт игрока &quot; + pass[0]);\n                    help.setThumbnail(user.getAvatarUrl());\n                    help.addField(&quot;Общие сведенья&quot;, &quot;Имя: &quot; + pass[1] + &quot;\\nРод: &quot; + pass[2] + &quot;\\nДата рождения: &quot; + pass[3] + &quot;\\nМесто жительства: &quot; + pass[4] + &quot;\\nНациональность: &quot; + pass[6], false);\n                    help.setColor(0xffda07);\n                    help.setFooter(user.getName(), user.getAvatarUrl());\n                    event.getChannel().sendTyping().queue();\n                    event.getMessage().addReaction(&quot;✅&quot;).queue();\n                    TimeUnit.SECONDS.sleep(5);\n                    event.getChannel().sendMessageEmbeds(help.build()).queue();\n                }\n            } else if (args[1].equalsIgnoreCase(&quot;get&quot;)) {\n                String[] pass = db.getPassport(args[2]);\n                User user = jda.getUserById(pass[7]);\n                EmbedBuilder help = new EmbedBuilder();\n                help.setAuthor(&quot;\\uD83D\\uDC51Имперский Бот\\uD83D\\uDC51&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;);\n                help.setDescription(&quot;Паспорт игрока &quot; + pass[0]);\n                help.setThumbnail(user.getAvatarUrl());\n                help.addField(&quot;Общие сведенья&quot;, &quot;Имя: &quot; + pass[1] + &quot;\\nРод: &quot; + pass[2] + &quot;\\nДата рождения: &quot; + pass[3] + &quot;\\nМесто жительства: &quot; + pass[4] + &quot;\\nНациональность: &quot; + pass[6], false);\n                help.setColor(0xffda07);\n                help.setFooter(user.getName(),user.getAvatarUrl());\n                event.getChannel().sendTyping().queue();\n                event.getMessage().addReaction(&quot;✅&quot;).queue();\n                TimeUnit.SECONDS.sleep(5);\n                event.getChannel().sendMessageEmbeds(help.build()).queue();\n            } else if (args[1].equalsIgnoreCase(&quot;add&quot;)) {\n                String[] cusargs = event.getMessage().getContentRaw().split(&quot;  &quot;);\n                event.getChannel().sendTyping().queue();\n                TimeUnit.SECONDS.sleep(2);\n                event.getChannel().sendMessage(&quot;[Создание паспорта] Соединяемся с базой данных&quot;).queue();\n                TimeUnit.SECONDS.sleep(2);\n                event.getChannel().sendMessage(&quot;[Создание паспорта] Успешно!&quot;).queue(); //here i want to edit the message, if you can help me, please help)))\n                TimeUnit.MILLISECONDS.sleep(900);\n                event.getChannel().sendMessage(&quot;[Создание паспорта] Конструируем и добавляем паспорт в базу данных&quot;).queue();\n                db.addPassport(cusargs[1], cusargs[2], cusargs[3], cusargs[4], cusargs[5], cusargs[6], cusargs[7]); // /passport0 add1(args)  USERID0  NICKNAME1  NAME2  LASTNAME3  DATE4  CITY5(cusargs)\n                TimeUnit.SECONDS.sleep(3);\n                String[] pass = db.getPassport(cusargs[1]);\n                if (pass[5].equalsIgnoreCase(&quot;1212&quot;)) {\n                    event.getChannel().sendMessage(&quot;[Создание паспорта] Во время создания паспорта произошла ошибка!&quot;).queue();\n                } else {\n                    event.getChannel().sendMessage(&quot;[Создание паспорта] Успешно!&quot;).queue();\n                    TimeUnit.MILLISECONDS.sleep(900);\n                    event.getChannel().sendMessage(&quot;[Создание паспорта] Создание успешно заверешно! Через несколько секунд будет выведен паспорт игрока&quot;).queue();\n                    TimeUnit.SECONDS.sleep(2);\n                    User user = jda.getUserById(pass[7]);\n                    EmbedBuilder help = new EmbedBuilder();\n                    help.setAuthor(&quot;\\uD83D\\uDC51Имперский Бот\\uD83D\\uDC51&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;, &quot;https://images-ext-2.discordapp.net/external/nWASMV-67mx7guRheeUpvyD_cb6X2NkxUMH4PtbweyA/%3Fsize%3D512/https/cdn.discordapp.com/avatars/916617120064884796/5028d4861b407575072686657b3c2e9a.png?width=230&amp;height=230&quot;);\n                    help.setDescription(&quot;Паспорт игрока &quot; + pass[0]);\n                    help.setThumbnail(user.getAvatarUrl());\n                    help.addField(&quot;Общие сведенья&quot;, &quot;Имя: &quot; + pass[1] + &quot;\\nРод: &quot; + pass[2] + &quot;\\nДата рождения: &quot; + pass[3] + &quot;\\nМесто жительства: &quot; + pass[4] + &quot;\\nНациональность: &quot; + pass[6], false);\n                    help.setColor(0xffda07);\n                    help.setFooter(user.getName(), user.getAvatarUrl());\n                    event.getChannel().sendTyping().queue();\n                    TimeUnit.SECONDS.sleep(1);\n                    event.getChannel().sendMessageEmbeds(help.build()).queue();\n                }\n            } else if (args[1].equalsIgnoreCase(&quot;remove&quot;)) {\n                String[] pass = db.getPassport(args[2]);\n                if (pass[5].equalsIgnoreCase(&quot;1212&quot;)) {\n                    event.getChannel().sendTyping().queue();\n                    TimeUnit.SECONDS.sleep(5);\n                    event.getMessage().addReaction(&quot;❌&quot;).queue();\n                    event.getChannel().sendMessage(&quot;`[X]` Произошла ошибка! Паспорт этого игрока не зарегестрирован!\\nЕсли вы считаете что это ошибка и он зарегестрирован, отпишите разработчику бота !Nightmare.#1717&quot;).queue();\n                } else {\n                    event.getChannel().sendTyping().queue();\n                    TimeUnit.SECONDS.sleep(2);\n                    event.getChannel().sendMessage(&quot;[Удаление паспорта] Соединение с базой данных&quot;).queue();\n                    TimeUnit.SECONDS.sleep(1);\n                    event.getChannel().sendMessage(&quot;[Удаление паспорта] Успешно соединенно&quot;).queue();\n                    TimeUnit.SECONDS.sleep(1);\n                    event.getChannel().sendMessage(&quot;[Удаление паспорта] Удаление из базы данных&quot;).queue();\n                    TimeUnit.SECONDS.sleep(2);\n                    event.getChannel().sendMessage(&quot;[Удаление паспорта] Удаление завершено&quot;).queue();\n                    event.getChannel().sendMessage(&quot;Паспорт игрока &quot; + args[2] + &quot;успешно удалён из базы данных&quot;).queue();\n                    db.deletePassport(args[2]);\n                }\n            }\n            return true;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n}```\n\nstack trace:\njava.lang.NullPointerException\n    at ru46.artem.alaverdyan.emperorbot.commands.Passport.passport(Passport.java:27)\n    at ru46.artem.alaverdyan.emperorbot.Listener.onMessageReceived(Listener.java:141)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:358)\n    at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n    at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:163)\n    at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:111)\n    at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:953)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:840)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:818)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:992)\n    at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\n    at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\n    at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\n    at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\n    at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\n    at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\n    at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":23517876,"reputation":397,"user_id":17565505,"display_name":"script0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642354192,"creation_date":1642353782,"answer_id":70732413,"question_id":70732254,"body_markdown":"Check it, \r\n```\r\npublic class Main {\r\n        public static void main (String[] args) {\r\n                // Your code here\r\n                Scanner sc = new Scanner(System.in);\r\n                int n = sc.nextInt();\r\n\r\n                int previous_building_height = sc.nextInt();\r\n                int current_building_height = 0;\r\n                int count =0, max_count =0;\r\n\r\n                for(int i = 1; i&lt;n; i++){\r\n                        current_building_height = sc.nextInt();\r\n                        if(current_building_height &gt;= previous_building_height){\r\n                                count ++;\r\n                        }else{\r\n                                max_count = max_count &lt; count ? count : max_count;\r\n                                count =0;\r\n                        }\r\n                        previous_building_height = current_building_height;\r\n                }\r\n\r\n                max_count = max_count &lt; count ? count : max_count;\r\n                System.out.println(max_count);\r\n\r\n        }\r\n}\r\n```\r\n\r\nYou don&#39;t need to save all the buildings height. At a given building, we just need to know the previous building height. If the previous building is shorter than the current you can jump. Else, if your jumps counter has the highest value, you save it. Next, you restart your jumps counter.\r\n\r\n\r\nAlso, try to give a better title to your question.","title":"I tried the question but im getting wrong output","body":"<p>Check it,</p>\n<pre><code>public class Main {\n        public static void main (String[] args) {\n                // Your code here\n                Scanner sc = new Scanner(System.in);\n                int n = sc.nextInt();\n\n                int previous_building_height = sc.nextInt();\n                int current_building_height = 0;\n                int count =0, max_count =0;\n\n                for(int i = 1; i&lt;n; i++){\n                        current_building_height = sc.nextInt();\n                        if(current_building_height &gt;= previous_building_height){\n                                count ++;\n                        }else{\n                                max_count = max_count &lt; count ? count : max_count;\n                                count =0;\n                        }\n                        previous_building_height = current_building_height;\n                }\n\n                max_count = max_count &lt; count ? count : max_count;\n                System.out.println(max_count);\n\n        }\n}\n</code></pre>\n<p>You don't need to save all the buildings height. At a given building, we just need to know the previous building height. If the previous building is shorter than the current you can jump. Else, if your jumps counter has the highest value, you save it. Next, you restart your jumps counter.</p>\n<p>Also, try to give a better title to your question.</p>\n"}],"owner":{"account_id":23957906,"reputation":21,"user_id":17948483,"display_name":"PRANUSHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70732413,"answer_count":1,"score":1,"last_activity_date":1642364930,"creation_date":1642352568,"question_id":70732254,"body_markdown":"Given an array of heights of N buildings in a row. You can start from any building and jump to the adjacent right building till the height of building to the right is less than or equal to the height of your current building. Find the maximum number of jumps you can make.\r\nInput\r\nFirst line of input contains a single integer N.\r\nSecond line of input contains N integers, denoting the array height.\r\n\r\nConstraints:\r\n1 &lt;= N &lt;= 100000\r\n1 &lt;= height[i] &lt;= 1000000000\r\nOutput\r\nPrint the maximum number of jumps you can make.the program i tried \r\n\r\n\r\n\r\n\r\n    class Main {\r\n    \tpublic static void main (String[] args) {\r\n                          // Your code here\r\n                     Scanner sc = new Scanner(System.in);\r\n    \t\t\t\t\t  int n = sc.nextInt();\r\n    \t\t\t\t\t  int[]a = new int[n];\r\n    \t\t\t\t\t  for(int i = 0; i&lt;n; i++){\r\n    \t\t\t\t\t\t  a[i] = sc.nextInt();\r\n    \t\t\t\t\t  }\r\n    \t\t\t\t\t  int count=1;\r\n    \t\t\t\t\t  int max = a[0];\r\n    \t\t\t\t\t  for(int i = 1; i&lt;n; i++){\r\n    \t\t\t\t\t\t  if(a[i] &gt; max)\r\n    \t\t\t\t\t\t  {\r\n    \t\t\t\t\t\t\t  count++;\r\n    \t\t\t\t\t\t\t  max = a[i];\r\n    \t\t\t\t\t\t  }\r\n    \t\t\t\t\t  }\r\n    \t\t\t\t\t  System.out.println(count);\r\n\r\n\r\n","title":"I tried the question but im getting wrong output","body":"<p>Given an array of heights of N buildings in a row. You can start from any building and jump to the adjacent right building till the height of building to the right is less than or equal to the height of your current building. Find the maximum number of jumps you can make.\nInput\nFirst line of input contains a single integer N.\nSecond line of input contains N integers, denoting the array height.</p>\n<p>Constraints:\n1 &lt;= N &lt;= 100000\n1 &lt;= height[i] &lt;= 1000000000\nOutput\nPrint the maximum number of jumps you can make.the program i tried</p>\n<pre><code>class Main {\n    public static void main (String[] args) {\n                      // Your code here\n                 Scanner sc = new Scanner(System.in);\n                      int n = sc.nextInt();\n                      int[]a = new int[n];\n                      for(int i = 0; i&lt;n; i++){\n                          a[i] = sc.nextInt();\n                      }\n                      int count=1;\n                      int max = a[0];\n                      for(int i = 1; i&lt;n; i++){\n                          if(a[i] &gt; max)\n                          {\n                              count++;\n                              max = a[i];\n                          }\n                      }\n                      System.out.println(count);\n</code></pre>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1634829167,"post_id":69664421,"comment_id":123137112,"body_markdown":"Java is trying to tell you that the respective class (or one that is needed to load that class) is not on the classpath. Simply add that class. Or explain what you did to prove Java is wrong...","body":"Java is trying to tell you that the respective class (or one that is needed to load that class) is not on the classpath. Simply add that class. Or explain what you did to prove Java is wrong..."},{"owner":{"account_id":16375808,"reputation":13,"user_id":11827941,"display_name":"Vinoth BS"},"score":0,"creation_date":1634867881,"post_id":69664421,"comment_id":123148087,"body_markdown":"It was working fine before. I have updated the libraries. Then only it shows this error. I am not sure which class should I add. May I know how to find which class is missing?","body":"It was working fine before. I have updated the libraries. Then only it shows this error. I am not sure which class should I add. May I know how to find which class is missing?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1634897393,"post_id":69664421,"comment_id":123155917,"body_markdown":"The missing class is `io.cucumber.messages.internal.com.google.protobuf.GeneratedMessageV3`","body":"The missing class is <code>io.cucumber.messages.internal.com.google.protobuf.GeneratedM&zwnj;&#8203;essageV3</code>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1634938016,"post_id":69664421,"comment_id":123170869,"body_markdown":"@AlexeyR. The exception can even occur if GeneratedMessageV3 is on the classpath. Yet some other class may be missing which is a dependency for GeneratedMessageV3.","body":"@AlexeyR. The exception can even occur if GeneratedMessageV3 is on the classpath. Yet some other class may be missing which is a dependency for GeneratedMessageV3."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1634938095,"post_id":69664421,"comment_id":123170880,"body_markdown":"You should provide minimal reproducible example, otherwise we can only guess..","body":"You should provide minimal reproducible example, otherwise we can only guess.."},{"owner":{"account_id":7356801,"reputation":390,"user_id":5601285,"accept_rate":38,"display_name":"Suraj Gupta"},"score":0,"creation_date":1637141846,"post_id":69664421,"comment_id":123744006,"body_markdown":"@VinothBS Did u find solution to this? I am facing the same issue. Please let me know. Thanks","body":"@VinothBS Did u find solution to this? I am facing the same issue. Please let me know. Thanks"},{"owner":{"account_id":16375808,"reputation":13,"user_id":11827941,"display_name":"Vinoth BS"},"score":0,"creation_date":1639644603,"post_id":69664421,"comment_id":124403057,"body_markdown":"Hi, @SurajGupta I just reverted to the previous versions in pom.xml. Then It&#39;s working fine.","body":"Hi, @SurajGupta I just reverted to the previous versions in pom.xml. Then It&#39;s working fine."}],"answers":[{"tags":[],"owner":{"account_id":17626787,"reputation":222,"user_id":12791698,"display_name":"Taco Verhagen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634829749,"creation_date":1634829749,"answer_id":69664661,"question_id":69664421,"body_markdown":"Ahh, this is a tricky one. From the &#39;PluginFactory&#39; stacktrace, I guess its caused by this:\r\nYou have a class which contains step bindings (&quot;Given I login&quot; for example).\r\nTo create that class you require specflow to Inject some class into the constructor (dependancy injection). If THAT class is in another project, but the StepAssembly (see specflow.json or app.config) or project reference is not correct this can happen.\r\nSee code example (C# unfortunatly, but the point should be clear)\r\n\r\n    [Binding]\r\n    public class Test{\r\n       public Test(ThisClassNotInAssembly getMe){\r\n         getMe.SomeFunction();\r\n       }\r\n    }\r\n\r\nOther option is that a step requires a transform (from string to MyNotDependancy class). Where again, the class is in another project and at runtime the dependancy fails.","title":"Getting NoClassDefFoundError while running my Cucumber Automation","body":"<p>Ahh, this is a tricky one. From the 'PluginFactory' stacktrace, I guess its caused by this:\nYou have a class which contains step bindings (&quot;Given I login&quot; for example).\nTo create that class you require specflow to Inject some class into the constructor (dependancy injection). If THAT class is in another project, but the StepAssembly (see specflow.json or app.config) or project reference is not correct this can happen.\nSee code example (C# unfortunatly, but the point should be clear)</p>\n<pre><code>[Binding]\npublic class Test{\n   public Test(ThisClassNotInAssembly getMe){\n     getMe.SomeFunction();\n   }\n}\n</code></pre>\n<p>Other option is that a step requires a transform (from string to MyNotDependancy class). Where again, the class is in another project and at runtime the dependancy fails.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634938246,"creation_date":1634938246,"answer_id":69683266,"question_id":69664421,"body_markdown":"To find out which class was loaded (and which was not, respectively), run Java in verbose mode but limited to classloading like so:\r\n\r\n    java -verbose:class ...\r\n\r\nFrom that output you should be able to decide which exact class was missing. If again you are looking at GeneratedMessageV3, try to look at the source code of that class. It may be that some static initializer is throwing an exception that simply told the JVM that this class could not be loaded successfully.","title":"Getting NoClassDefFoundError while running my Cucumber Automation","body":"<p>To find out which class was loaded (and which was not, respectively), run Java in verbose mode but limited to classloading like so:</p>\n<pre><code>java -verbose:class ...\n</code></pre>\n<p>From that output you should be able to decide which exact class was missing. If again you are looking at GeneratedMessageV3, try to look at the source code of that class. It may be that some static initializer is throwing an exception that simply told the JVM that this class could not be loaded successfully.</p>\n"},{"tags":[],"owner":{"account_id":7585714,"reputation":21,"user_id":5754895,"display_name":"Ivan Andraschko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642364578,"creation_date":1642364578,"answer_id":70733872,"question_id":69664421,"body_markdown":"Hi I had the same problem when cucumber 7 came out, and just today I was able to solve it, basically what I did was to update the versions of some other frameworks that might be affected by the cucumber version as well (on my `pom.xml` file). These are the frameworks that I use in the stable version:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;klov-reporter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extent-pdf-report&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports-cucumber7-adapter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI hope this helps to solve your problem, best regards!","title":"Getting NoClassDefFoundError while running my Cucumber Automation","body":"<p>Hi I had the same problem when cucumber 7 came out, and just today I was able to solve it, basically what I did was to update the versions of some other frameworks that might be affected by the cucumber version as well (on my <code>pom.xml</code> file). These are the frameworks that I use in the stable version:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;5.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;klov-reporter&lt;/artifactId&gt;\n            &lt;version&gt;5.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n            &lt;artifactId&gt;extent-pdf-report&lt;/artifactId&gt;\n            &lt;version&gt;1.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports-cucumber7-adapter&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I hope this helps to solve your problem, best regards!</p>\n"}],"owner":{"account_id":16375808,"reputation":13,"user_id":11827941,"display_name":"Vinoth BS"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1642364578,"creation_date":1634828814,"question_id":69664421,"body_markdown":"I am facing the following issue while running my automation. This is what I am getting on the console.\r\n\r\nio.cucumber.core.exception.CucumberException: java.lang.NoClassDefFoundError: io/cucumber/messages/internal/com/google/protobuf/GeneratedMessageV3\r\n\r\n\tat io.cucumber.core.plugin.PluginFactory.newInstance(PluginFactory.java:120)\r\n\tat io.cucumber.core.plugin.PluginFactory.instantiate(PluginFactory.java:99)\r\n\tat io.cucumber.core.plugin.PluginFactory.create(PluginFactory.java:63)\r\n\tat io.cucumber.core.plugin.Plugins.createPlugins(Plugins.java:32)\r\n\tat io.cucumber.core.plugin.Plugins.&lt;init&gt;(Plugins.java:25)\r\n\tat io.cucumber.testng.TestNGCucumberRunner.&lt;init&gt;(TestNGCucumberRunner.java:108)\r\n\tat io.cucumber.testng.AbstractTestNGCucumberTests.setUpClass(AbstractTestNGCucumberTests.java:27)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n\tat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: java.lang.NoClassDefFoundError: io/cucumber/messages/internal/com/google/protobuf/GeneratedMessageV3\r\n\tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.&lt;init&gt;(ExtentCucumberAdapter.java:91)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat io.cucumber.core.plugin.PluginFactory.newInstance(PluginFactory.java:116)\r\n\t... 31 more\r\nCaused by: java.lang.ClassNotFoundException: io.cucumber.messages.internal.com.google.protobuf.GeneratedMessageV3\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 37 more\r\n\r\n","title":"Getting NoClassDefFoundError while running my Cucumber Automation","body":"<p>I am facing the following issue while running my automation. This is what I am getting on the console.</p>\n<p>io.cucumber.core.exception.CucumberException: java.lang.NoClassDefFoundError: io/cucumber/messages/internal/com/google/protobuf/GeneratedMessageV3</p>\n<pre><code>at io.cucumber.core.plugin.PluginFactory.newInstance(PluginFactory.java:120)\nat io.cucumber.core.plugin.PluginFactory.instantiate(PluginFactory.java:99)\nat io.cucumber.core.plugin.PluginFactory.create(PluginFactory.java:63)\nat io.cucumber.core.plugin.Plugins.createPlugins(Plugins.java:32)\nat io.cucumber.core.plugin.Plugins.&lt;init&gt;(Plugins.java:25)\nat io.cucumber.testng.TestNGCucumberRunner.&lt;init&gt;(TestNGCucumberRunner.java:108)\nat io.cucumber.testng.AbstractTestNGCucumberTests.setUpClass(AbstractTestNGCucumberTests.java:27)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\nat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\nat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\nat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\nat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.testng.TestRunner.privateRun(TestRunner.java:794)\nat org.testng.TestRunner.run(TestRunner.java:596)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\nat org.testng.SuiteRunner.run(SuiteRunner.java:276)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\nat org.testng.TestNG.runSuites(TestNG.java:1063)\nat org.testng.TestNG.run(TestNG.java:1031)\nat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\nat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n</code></pre>\n<p>Caused by: java.lang.NoClassDefFoundError: io/cucumber/messages/internal/com/google/protobuf/GeneratedMessageV3\nat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.(ExtentCucumberAdapter.java:91)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\nat io.cucumber.core.plugin.PluginFactory.newInstance(PluginFactory.java:116)\n... 31 more\nCaused by: java.lang.ClassNotFoundException: io.cucumber.messages.internal.com.google.protobuf.GeneratedMessageV3\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 37 more</p>\n"},{"tags":["java","spring-boot","kotlin","timer"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642363950,"creation_date":1642363099,"answer_id":70733691,"question_id":70733454,"body_markdown":"[ScheduledExecutorService](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html) that you found is a standard way of scheduling tasks in the future. You can schedule thousands of timers and execute them all using a single thread - no problem with that.\r\n\r\nAlternatively, if you use coroutines, you can use utils like [delay()](https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/delay.html) or [withTimeout()](https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/with-timeout.html).\r\n\r\nAlso, if you really plan to have a big number of such timers, then it could be easier to implement and maintain alternative solution where we only have a single &quot;ticking&quot; thread/coroutine that checks all sensors once per e.g. 10 seconds. It iterates over all sensors and checks when the data was received the last time. When new data arrives, we only update the time, but we don&#39;t need to cancel and restart any timers.","title":"Android CountDownTimer alternative in Spring Boot (Java)","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> that you found is a standard way of scheduling tasks in the future. You can schedule thousands of timers and execute them all using a single thread - no problem with that.</p>\n<p>Alternatively, if you use coroutines, you can use utils like <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/delay.html\" rel=\"nofollow noreferrer\">delay()</a> or <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/with-timeout.html\" rel=\"nofollow noreferrer\">withTimeout()</a>.</p>\n<p>Also, if you really plan to have a big number of such timers, then it could be easier to implement and maintain alternative solution where we only have a single &quot;ticking&quot; thread/coroutine that checks all sensors once per e.g. 10 seconds. It iterates over all sensors and checks when the data was received the last time. When new data arrives, we only update the time, but we don't need to cancel and restart any timers.</p>\n"}],"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70733691,"answer_count":1,"score":0,"last_activity_date":1642363950,"creation_date":1642361333,"question_id":70733454,"body_markdown":"I have this scenario, where data from my sensor is sent to my server every 5 minutes. The server stores received data in the database. Now when a server receives the data, I want to start 6 minutes timer for this specific sensor. If I receive data earlier than those 6 minutes, this timer must be canceled and started again. If the timer happens to finish, `onFinish()` must be called, which then I will send a notification to the user about a possible connection issue with the sensor. I have this list of sensors and a method that gets called when the server receives data:\r\n\r\n    // list to save sensors and their timers\r\n    private val sensors: MutableMap&lt;Long, CountDownTimer&gt; = HashMap()\r\n\r\n    // this method gets called after server receives data from the sensor\r\n    // must keep in mind that CountDownTimer is undefined\r\n    fun initiateTimer(sensorId: Long) {\r\n        sensors[sensorId] = object : CountDownTimer(360000, 1000) {\r\n            fun onTick(duration: Long) {\r\n                // Blank\r\n            }\r\n    \r\n            fun onFinish() {\r\n                // Send notification to user about possible connection issue\r\n            }\r\n        }.start()\r\n    }\r\n\r\nI&#39;ve been looking into `scheduleWithFixedDelay`, but this requires `ExecutorService` with specific threads count. Now what if I have thousands of sensors and I need those thousand timers running at once?\r\n\r\nNow in Android, I can simply use `CountDownTimer`, but since it&#39;s not Android, I am seeking advice for the best possible approach to solve this problem using `Kotlin` in `Spring Boot` environment (or in simple terms, not in `Android` environment). Thank you.","title":"Android CountDownTimer alternative in Spring Boot (Java)","body":"<p>I have this scenario, where data from my sensor is sent to my server every 5 minutes. The server stores received data in the database. Now when a server receives the data, I want to start 6 minutes timer for this specific sensor. If I receive data earlier than those 6 minutes, this timer must be canceled and started again. If the timer happens to finish, <code>onFinish()</code> must be called, which then I will send a notification to the user about a possible connection issue with the sensor. I have this list of sensors and a method that gets called when the server receives data:</p>\n<pre><code>// list to save sensors and their timers\nprivate val sensors: MutableMap&lt;Long, CountDownTimer&gt; = HashMap()\n\n// this method gets called after server receives data from the sensor\n// must keep in mind that CountDownTimer is undefined\nfun initiateTimer(sensorId: Long) {\n    sensors[sensorId] = object : CountDownTimer(360000, 1000) {\n        fun onTick(duration: Long) {\n            // Blank\n        }\n\n        fun onFinish() {\n            // Send notification to user about possible connection issue\n        }\n    }.start()\n}\n</code></pre>\n<p>I've been looking into <code>scheduleWithFixedDelay</code>, but this requires <code>ExecutorService</code> with specific threads count. Now what if I have thousands of sensors and I need those thousand timers running at once?</p>\n<p>Now in Android, I can simply use <code>CountDownTimer</code>, but since it's not Android, I am seeking advice for the best possible approach to solve this problem using <code>Kotlin</code> in <code>Spring Boot</code> environment (or in simple terms, not in <code>Android</code> environment). Thank you.</p>\n"},{"tags":["java","xml","xpath"],"answers":[{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1442006985,"creation_date":1441990003,"answer_id":32528389,"question_id":32527867,"body_markdown":"Your current XPath expression only matches Info and property elements with **no** namespace uri.\r\n\r\nYou must add the `urn:...Service2`-namespace to you `NamespaceContext` inner class:\r\n\r\n    public String getNamespaceURI(String prefix) {\r\n        if (&quot;cam&quot;.equals(prefix))\r\n           // like abvce\r\n        else if (&quot;s2&quot;.equals(prefix))\r\n           return &quot;urn:xxx:1.0:xxx.core.xxx.Service2&quot;;\r\n        else\r\n           return XMLConstants.NULL_NS_URI;\r\n    }\r\n\r\nand qualify the `Info` and `property` step in your XPath accordingly, using prefix `s2`:\r\n\r\n    xpath.compile(&quot;/cam:message/cam:response/soapenv:Envelope/soapenv:Header/s2:Info/s2:property[@name=&#39;response&#39;]/text()&quot;);\r\n\r\nBeyond that there are errors in your code and the XML file:\r\n\r\na) You make the DocumentBuilderFactory namespace-aware *after* you have created the DocumentBuilder. Write instead:\r\n\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    factory.setNamespaceAware(true);\r\n    DocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\nb) Your XML uses the prefix `cam` which is not properly declared in the root element. Write instead:\r\n\r\n    &lt;cam:message xmlns:cam=&quot;urn:xxx:1.0:logging&quot;&gt;\r\n        ....\r\n\r\n\r\n","title":"Java XPath Compile can&#39;t query tag with unique namespace","body":"<p>Your current XPath expression only matches Info and property elements with <strong>no</strong> namespace uri.</p>\n\n<p>You must add the <code>urn:...Service2</code>-namespace to you <code>NamespaceContext</code> inner class:</p>\n\n<pre><code>public String getNamespaceURI(String prefix) {\n    if (\"cam\".equals(prefix))\n       // like abvce\n    else if (\"s2\".equals(prefix))\n       return \"urn:xxx:1.0:xxx.core.xxx.Service2\";\n    else\n       return XMLConstants.NULL_NS_URI;\n}\n</code></pre>\n\n<p>and qualify the <code>Info</code> and <code>property</code> step in your XPath accordingly, using prefix <code>s2</code>:</p>\n\n<pre><code>xpath.compile(\"/cam:message/cam:response/soapenv:Envelope/soapenv:Header/s2:Info/s2:property[@name='response']/text()\");\n</code></pre>\n\n<p>Beyond that there are errors in your code and the XML file:</p>\n\n<p>a) You make the DocumentBuilderFactory namespace-aware <em>after</em> you have created the DocumentBuilder. Write instead:</p>\n\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nfactory.setNamespaceAware(true);\nDocumentBuilder builder = factory.newDocumentBuilder();\n</code></pre>\n\n<p>b) Your XML uses the prefix <code>cam</code> which is not properly declared in the root element. Write instead:</p>\n\n<pre><code>&lt;cam:message xmlns:cam=\"urn:xxx:1.0:logging\"&gt;\n    ....\n</code></pre>\n"}],"owner":{"account_id":49174,"reputation":1251,"user_id":146345,"accept_rate":79,"display_name":"juniorbansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32528389,"answer_count":1,"score":0,"last_activity_date":1642363922,"creation_date":1441988240,"question_id":32527867,"body_markdown":"I got a tag with a unique namespace in it, just that tag alone. I introduced XML name space context but still my program is returning 0 nodes.\r\n\r\n    // Create DocumentBuilderFactory for reading xml file\r\n\t\t\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\t\t\tDocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\n\t\t\tfactory.setNamespaceAware(true);\r\n\r\n\t\t\tDocument doc = builder.parse(new InputSource(new StringReader(text)));\r\n\r\n\t\t\t// Create XPathFactory for creating XPath Object\r\n\t\t\tXPathFactory xPathFactory = XPathFactory.newInstance();\r\n\r\n\t\t\t// Create XPath object from XPathFactory\r\n\t\t\tXPath xpath = xPathFactory.newXPath();\r\n\r\n\t\t\txpath.setNamespaceContext(new NamespaceContext() {\r\n\t\t\t\tpublic String getNamespaceURI(String prefix) {\r\n\t\t\t\t\tif (&quot;cam&quot;.equals(prefix))\r\n\t\t\t\t\t\treturn &quot;urn:xxx:1.0:logging&quot;;\r\n\t\t\t\t\telse if (&quot;soapenv&quot;.equals(prefix))\r\n\t\t\t\t\t\treturn &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;;\r\n\t\t\t\t\telse if (&quot;xml&quot;.equals(prefix))\r\n\t\t\t\t\t\treturn XMLConstants.XML_NS_URI;\r\n\t\t\t\t\treturn XMLConstants.NULL_NS_URI;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// This method isn&#39;t necessary for XPath processing.\r\n\t\t\t\tpublic String getPrefix(String uri) {\r\n\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// This method isn&#39;t necessary for XPath processing either.\r\n\t\t\t\tpublic Iterator getPrefixes(String uri) {\r\n\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Compile the XPath expression for getting the response\r\n\t\t\t XPathExpression xPathExpr =\r\n\t\t\t xpath.compile(&quot;/cam:message/cam:response/soapenv:Envelope/soapenv:Header/Info[1]/property[@name=&#39;response&#39;]/text()&quot;);\r\n\t\t\t\r\n\r\n\t\t\t// XPath text example : executing xpath expression in java\r\n\t\t\t// Object result = xPathExpr.evaluate(doc, XPathConstants.NODESET);\r\n\t\t\t// NodeList nodes = (NodeList) result;\r\n\t\t\t// int length = nodes.getLength();\r\n\r\n\t\t\tString result1 = (String) xPathExpr.evaluate(doc, XPathConstants.STRING);\r\n\r\n\r\nAnd the XML looks like\r\n\r\n   \r\n\r\n     &lt;cam:message xmlns=&quot;urn:xxx:1.0:logging&quot;&gt;\r\n             &lt;cam:response&gt;\r\n               &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n                   &lt;soapenv:Header xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n                       &lt;Info xmlns=&quot;urn:xxx:1.0:xxx.core.xxx.Service1&quot;&gt;\r\n                          &lt;property name=&quot;response&quot;&gt;some value&lt;/property&gt;\r\n                     &lt;/Info&gt;\r\n                     &lt;Info xmlns=&quot;urn:xxx:1.0:xxx.core.xxx.Service2&quot;&gt;\r\n                          &lt;property name=&quot;response&quot;&gt;i am interested in this value&lt;/property&gt;\r\n                     &lt;/Info&gt;\r\n                   &lt;/soapenv:Header&gt;\r\n               &lt;/soapenv:Envelope&gt;\r\n         &lt;/cam:response&gt;\r\n    &lt;/cam:message&gt;\r\n\r\nSo the tag `&lt;Info xmlns=&quot;urn:xxx:1.0:xxx.core.xxx.Service2&quot;&gt;`is having its own name space. My program is not returning value for this. Similarly there are many Info tags. I am interested in the second Info tag that has a namespace ending in Service2.\r\n","title":"Java XPath Compile can&#39;t query tag with unique namespace","body":"<p>I got a tag with a unique namespace in it, just that tag alone. I introduced XML name space context but still my program is returning 0 nodes.</p>\n<pre><code>// Create DocumentBuilderFactory for reading xml file\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n\n        factory.setNamespaceAware(true);\n\n        Document doc = builder.parse(new InputSource(new StringReader(text)));\n\n        // Create XPathFactory for creating XPath Object\n        XPathFactory xPathFactory = XPathFactory.newInstance();\n\n        // Create XPath object from XPathFactory\n        XPath xpath = xPathFactory.newXPath();\n\n        xpath.setNamespaceContext(new NamespaceContext() {\n            public String getNamespaceURI(String prefix) {\n                if (&quot;cam&quot;.equals(prefix))\n                    return &quot;urn:xxx:1.0:logging&quot;;\n                else if (&quot;soapenv&quot;.equals(prefix))\n                    return &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;;\n                else if (&quot;xml&quot;.equals(prefix))\n                    return XMLConstants.XML_NS_URI;\n                return XMLConstants.NULL_NS_URI;\n            }\n\n            // This method isn't necessary for XPath processing.\n            public String getPrefix(String uri) {\n                throw new UnsupportedOperationException();\n            }\n\n            // This method isn't necessary for XPath processing either.\n            public Iterator getPrefixes(String uri) {\n                throw new UnsupportedOperationException();\n            }\n        });\n\n        // Compile the XPath expression for getting the response\n         XPathExpression xPathExpr =\n         xpath.compile(&quot;/cam:message/cam:response/soapenv:Envelope/soapenv:Header/Info[1]/property[@name='response']/text()&quot;);\n        \n\n        // XPath text example : executing xpath expression in java\n        // Object result = xPathExpr.evaluate(doc, XPathConstants.NODESET);\n        // NodeList nodes = (NodeList) result;\n        // int length = nodes.getLength();\n\n        String result1 = (String) xPathExpr.evaluate(doc, XPathConstants.STRING);\n</code></pre>\n<p>And the XML looks like</p>\n<pre><code> &lt;cam:message xmlns=&quot;urn:xxx:1.0:logging&quot;&gt;\n         &lt;cam:response&gt;\n           &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n               &lt;soapenv:Header xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n                   &lt;Info xmlns=&quot;urn:xxx:1.0:xxx.core.xxx.Service1&quot;&gt;\n                      &lt;property name=&quot;response&quot;&gt;some value&lt;/property&gt;\n                 &lt;/Info&gt;\n                 &lt;Info xmlns=&quot;urn:xxx:1.0:xxx.core.xxx.Service2&quot;&gt;\n                      &lt;property name=&quot;response&quot;&gt;i am interested in this value&lt;/property&gt;\n                 &lt;/Info&gt;\n               &lt;/soapenv:Header&gt;\n           &lt;/soapenv:Envelope&gt;\n     &lt;/cam:response&gt;\n&lt;/cam:message&gt;\n</code></pre>\n<p>So the tag <code>&lt;Info xmlns=&quot;urn:xxx:1.0:xxx.core.xxx.Service2&quot;&gt;</code>is having its own name space. My program is not returning value for this. Similarly there are many Info tags. I am interested in the second Info tag that has a namespace ending in Service2.</p>\n"},{"tags":["java","swing","custom-component"],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1290122170,"creation_date":1290122170,"answer_id":4220647,"question_id":4220606,"body_markdown":"If you want custom drawing on a JPanel, you should create a custom class that extends JPanel:\r\n\r\n    class CustomPanel extends JPanel {\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            g.drawLine(x1, y1, x2, y2);\r\n        }\r\n    }\r\n\r\nThen:\r\n\r\n    JPanel  loginMainPanel = new JPanel();\r\n\r\nWoudl become:\r\n\r\n    JPanel  loginMainPanel = new CustomPanel();","title":".drawLine is not drawing onto JTabbedPane (Java)","body":"<p>If you want custom drawing on a JPanel, you should create a custom class that extends JPanel:</p>\n\n<pre><code>class CustomPanel extends JPanel {\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawLine(x1, y1, x2, y2);\n    }\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>JPanel  loginMainPanel = new JPanel();\n</code></pre>\n\n<p>Woudl become:</p>\n\n<pre><code>JPanel  loginMainPanel = new CustomPanel();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290123169,"creation_date":1290123169,"answer_id":4220761,"question_id":4220606,"body_markdown":"&gt; Sorry for the blurge of bloated code \r\n\r\nYes, well that is why people can&#39;t solve problems, because the code is so bloated you can&#39;t see what you are doing.\r\n\r\nIf you want us to help you problem solve then you need to post a [SSCCE][1]\r\n\r\n&gt; Someone told me a way to paint onto a Jframe\r\n\r\nWell, that is wrong, in general you should not be overrding the paint() method, unless you have a specific reason. \r\n\r\nAlso, your whole program is wrong because you are extending JTabbedPane. You should never do this to create a GUI. \r\n\r\nYour paint() method is never invoked because you never use that class anywhere. Look at your code. For your class variables you create a new JTabbedPane. Then in the constructor you add all these components to the frame and make the frame visible.\r\n\r\nYou need to take a look at the [Swing tutorial][2] and follow some of the example there for a better way to create a simple GUI.\r\n\r\nI don&#39;t understand what you are trying to do by drawing a line on the tabbed pane. A tabbed pane displays different panels every time you click on a tab. Where exactly do you want the line to appear?\r\n\r\nAlso, you should learn how to use layout managers. Using a null layout will cause unnecessary problems.\r\n\r\nUntil you post a SSCCE, I can&#39;t be of much help.\r\n\r\n  [1]: http://sscce.org\r\n  [2]: http://download.oracle.com/javase/tutorial/uiswing/TOC.html","title":".drawLine is not drawing onto JTabbedPane (Java)","body":"<blockquote>\n  <p>Sorry for the blurge of bloated code </p>\n</blockquote>\n\n<p>Yes, well that is why people can't solve problems, because the code is so bloated you can't see what you are doing.</p>\n\n<p>If you want us to help you problem solve then you need to post a <a href=\"http://sscce.org\" rel=\"nofollow\">SSCCE</a></p>\n\n<blockquote>\n  <p>Someone told me a way to paint onto a Jframe</p>\n</blockquote>\n\n<p>Well, that is wrong, in general you should not be overrding the paint() method, unless you have a specific reason. </p>\n\n<p>Also, your whole program is wrong because you are extending JTabbedPane. You should never do this to create a GUI. </p>\n\n<p>Your paint() method is never invoked because you never use that class anywhere. Look at your code. For your class variables you create a new JTabbedPane. Then in the constructor you add all these components to the frame and make the frame visible.</p>\n\n<p>You need to take a look at the <a href=\"http://download.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow\">Swing tutorial</a> and follow some of the example there for a better way to create a simple GUI.</p>\n\n<p>I don't understand what you are trying to do by drawing a line on the tabbed pane. A tabbed pane displays different panels every time you click on a tab. Where exactly do you want the line to appear?</p>\n\n<p>Also, you should learn how to use layout managers. Using a null layout will cause unnecessary problems.</p>\n\n<p>Until you post a SSCCE, I can't be of much help.</p>\n"}],"owner":{"account_id":125763,"reputation":7193,"user_id":321763,"accept_rate":85,"display_name":"James Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4220647,"answer_count":2,"score":1,"last_activity_date":1642363777,"creation_date":1290121874,"question_id":4220606,"body_markdown":"Someone told me a way to paint onto a Jframe and it worked fine in the example, but now I have tabs it doesn&#39;t paint onto them.\r\n\r\nI need the paint/drawLine to work in my Tabbed example:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.event.ChangeEvent; \r\n    import javax.swing.event.ChangeListener;\r\n    import java.io.*;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.Line2D;\r\n    \r\n    \r\n    public class GUI extends JTabbedPane implements ActionListener\r\n    {\r\n    \tstatic JFrame aWindow = new JFrame(&quot;Project&quot;);\r\n    \r\n    \tJTabbedPane myTabs = new JTabbedPane();\r\n    \t\r\n    \tJPanel\tloginMainPanel = new JPanel();\r\n    \tJPanel\tdisplayMainPanel = new JPanel();\r\n    \tJPanel\teditMainPanel = new JPanel();\r\n    \r\n    \tJTextField myText1 = new JTextField(&quot;&quot;);\r\n    \tJTextField myText2 = new JTextField(&quot;&quot;);\r\n    \tJTextField myText3 = new JTextField(&quot;&quot;);\r\n    \t\r\n    \tJLabel loginLabel = new JLabel(&quot;Username:&quot;);\r\n    \r\n    \tJTextField loginField = new JTextField();\r\n    \tJLabel loginLabel2 = new JLabel(&quot;Password:&quot;);\r\n    \tJPasswordField loginPass = new JPasswordField();\r\n    \r\n    \tJButton displayButton = new JButton(&quot;Load Data&quot;);\r\n    \tJButton loginButton = new JButton(&quot;Login&quot;);\r\n    \r\n    \tJLabel editLabel = new JLabel(&quot;Write:&quot;);\r\n    \tJTextArea editArea = new JTextArea();\r\n    \r\n    \tpublic GUI()\r\n    \t{\r\n    \t\tToolkit theKit = aWindow.getToolkit();\r\n    \t\tDimension wndSize = theKit.getScreenSize();  \r\n    \t\t\r\n    \t\taWindow.setBounds(wndSize.width/3, wndSize.height/3, 250, 250); \r\n    \t\taWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tGridLayout grid = new GridLayout(1,1);\r\n    \t\tContainer content = aWindow.getContentPane();\r\n    \t\tcontent.setLayout(grid);\r\n    \t\t\r\n    \t\tcreateLoginPanel();\r\n    \t\tcreateDisplayPanel();\r\n    \t\tcreateEditPanel();\r\n    \r\n    \t\tmyTabs.addTab(&quot;Login&quot;, loginMainPanel);\r\n    \t\tmyTabs.addTab(&quot;Main Menu&quot;, displayMainPanel);\r\n    \t\tmyTabs.addTab(&quot;Setting&quot;, editMainPanel);\r\n    \r\n    \t\tmyTabs.setSelectedIndex(0);\r\n    \t\tmyTabs.setEnabledAt(1,false);\r\n    \t\tmyTabs.setEnabledAt(2,false);\r\n    \t\t\r\n    \t\tcontent.add(myTabs);\r\n    \t\taWindow.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic void createLoginPanel()\r\n    \t{\r\n    \t\tloginMainPanel.setLayout(null);\r\n    \t\tloginLabel.setBounds(10, 15, 150, 20);\r\n    \t\tloginMainPanel.add(loginLabel);\r\n    \t\tloginField.setBounds(10, 35, 150, 20);\r\n    \t\tloginMainPanel.add(loginField);\r\n    \t\tloginLabel2.setBounds(10, 60, 150, 20);\r\n    \t\tloginMainPanel.add(loginLabel2);\r\n    \t\tloginPass.setBounds(10, 80, 150, 20);\r\n    \t\tloginMainPanel.add(loginPass);\r\n    \t\tloginButton.addActionListener(this);\r\n    \t\tloginButton.setBounds(50, 110, 80, 20);\r\n    \t\tloginMainPanel.add(loginButton);\r\n    \t}\r\n    \t\r\n    \tpublic void createDisplayPanel()\r\n    \t{\r\n    \t\tdisplayMainPanel.setLayout(null);\r\n    \t\tdisplayButton.addActionListener(this);\r\n    \t\tdisplayButton.setBounds(50, 80, 150, 20);\r\n    \t\tdisplayMainPanel.add(displayButton);\r\n    \t\tmyText1.setBounds(50, 170, 200, 30);\r\n    \t\tmyText2.setBounds(50, 140, 200, 30);\r\n    \t\tmyText3.setBounds(50, 110, 200, 30);\r\n    \t\tdisplayMainPanel.add(myText1);\r\n    \t\tdisplayMainPanel.add(myText2);\r\n    \t\tdisplayMainPanel.add(myText3);\r\n    \t}\r\n    \t\r\n    \tpublic void createEditPanel()\r\n    \t{\r\n    \t\teditMainPanel.setLayout(null);\t\t\r\n    \t\teditLabel.setBounds(10, 15, 150, 20);\r\n    \t\teditMainPanel.add(editLabel);\r\n    \t\teditArea.setBounds(10, 65, 150, 50);\r\n    \t\teditMainPanel.add(editArea);\t\t\r\n    \t}\r\n    \r\n    \tpublic void actionPerformed(ActionEvent e)\r\n    \t{\r\n    \t\tif (e.getSource() == loginButton)\r\n    \t\t{\r\n    \t\t\t//myTabs.setSelectedIndex(1);\r\n    \t\t}\r\n    \t}\r\n     \r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            int locX = 0;\r\n            int locY = 0;\r\n    \tint destX = 210;\r\n    \tint destY = 210;\r\n    \tg.setColor(Color.red);\r\n            // draw a line (there is now drawPoint..)\r\n            g.drawLine(locX, locY, destX, destY); \r\n        }\r\n    \r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tGUI tw1 = new GUI();\r\n    \r\n    \t}\r\n    }\r\n\r\nHow can I find a solution so it will paint that line on the tab (loginMainPanel)?\r\n","title":".drawLine is not drawing onto JTabbedPane (Java)","body":"<p>Someone told me a way to paint onto a Jframe and it worked fine in the example, but now I have tabs it doesn't paint onto them.</p>\n<p>I need the paint/drawLine to work in my Tabbed example:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.event.ChangeEvent; \nimport javax.swing.event.ChangeListener;\nimport java.io.*;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Line2D;\n\n\npublic class GUI extends JTabbedPane implements ActionListener\n{\n    static JFrame aWindow = new JFrame(&quot;Project&quot;);\n\n    JTabbedPane myTabs = new JTabbedPane();\n    \n    JPanel  loginMainPanel = new JPanel();\n    JPanel  displayMainPanel = new JPanel();\n    JPanel  editMainPanel = new JPanel();\n\n    JTextField myText1 = new JTextField(&quot;&quot;);\n    JTextField myText2 = new JTextField(&quot;&quot;);\n    JTextField myText3 = new JTextField(&quot;&quot;);\n    \n    JLabel loginLabel = new JLabel(&quot;Username:&quot;);\n\n    JTextField loginField = new JTextField();\n    JLabel loginLabel2 = new JLabel(&quot;Password:&quot;);\n    JPasswordField loginPass = new JPasswordField();\n\n    JButton displayButton = new JButton(&quot;Load Data&quot;);\n    JButton loginButton = new JButton(&quot;Login&quot;);\n\n    JLabel editLabel = new JLabel(&quot;Write:&quot;);\n    JTextArea editArea = new JTextArea();\n\n    public GUI()\n    {\n        Toolkit theKit = aWindow.getToolkit();\n        Dimension wndSize = theKit.getScreenSize();  \n        \n        aWindow.setBounds(wndSize.width/3, wndSize.height/3, 250, 250); \n        aWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        GridLayout grid = new GridLayout(1,1);\n        Container content = aWindow.getContentPane();\n        content.setLayout(grid);\n        \n        createLoginPanel();\n        createDisplayPanel();\n        createEditPanel();\n\n        myTabs.addTab(&quot;Login&quot;, loginMainPanel);\n        myTabs.addTab(&quot;Main Menu&quot;, displayMainPanel);\n        myTabs.addTab(&quot;Setting&quot;, editMainPanel);\n\n        myTabs.setSelectedIndex(0);\n        myTabs.setEnabledAt(1,false);\n        myTabs.setEnabledAt(2,false);\n        \n        content.add(myTabs);\n        aWindow.setVisible(true);\n    }\n    \n    public void createLoginPanel()\n    {\n        loginMainPanel.setLayout(null);\n        loginLabel.setBounds(10, 15, 150, 20);\n        loginMainPanel.add(loginLabel);\n        loginField.setBounds(10, 35, 150, 20);\n        loginMainPanel.add(loginField);\n        loginLabel2.setBounds(10, 60, 150, 20);\n        loginMainPanel.add(loginLabel2);\n        loginPass.setBounds(10, 80, 150, 20);\n        loginMainPanel.add(loginPass);\n        loginButton.addActionListener(this);\n        loginButton.setBounds(50, 110, 80, 20);\n        loginMainPanel.add(loginButton);\n    }\n    \n    public void createDisplayPanel()\n    {\n        displayMainPanel.setLayout(null);\n        displayButton.addActionListener(this);\n        displayButton.setBounds(50, 80, 150, 20);\n        displayMainPanel.add(displayButton);\n        myText1.setBounds(50, 170, 200, 30);\n        myText2.setBounds(50, 140, 200, 30);\n        myText3.setBounds(50, 110, 200, 30);\n        displayMainPanel.add(myText1);\n        displayMainPanel.add(myText2);\n        displayMainPanel.add(myText3);\n    }\n    \n    public void createEditPanel()\n    {\n        editMainPanel.setLayout(null);      \n        editLabel.setBounds(10, 15, 150, 20);\n        editMainPanel.add(editLabel);\n        editArea.setBounds(10, 65, 150, 50);\n        editMainPanel.add(editArea);        \n    }\n\n    public void actionPerformed(ActionEvent e)\n    {\n        if (e.getSource() == loginButton)\n        {\n            //myTabs.setSelectedIndex(1);\n        }\n    }\n \n    public void paint(Graphics g) {\n        super.paint(g);\n        int locX = 0;\n        int locY = 0;\n    int destX = 210;\n    int destY = 210;\n    g.setColor(Color.red);\n        // draw a line (there is now drawPoint..)\n        g.drawLine(locX, locY, destX, destY); \n    }\n\n\n    public static void main(String[] args)\n    {\n        GUI tw1 = new GUI();\n\n    }\n}\n</code></pre>\n<p>How can I find a solution so it will paint that line on the tab (loginMainPanel)?</p>\n"},{"tags":["java","android","voice","google-assistant-sdk"],"answers":[{"tags":[],"owner":{"account_id":7376042,"reputation":603,"user_id":5614616,"display_name":"Rohit Padma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590387691,"creation_date":1590387691,"answer_id":61996855,"question_id":61996614,"body_markdown":"Maybe you should look at these links - https://developers.google.com/assistant/app/ and https://developer.android.com/guide/slices. If you google assistant to trigger a button action or go to a particular screen. Deep-link or App link is a way to navigate to any part of the app based on the click event on the hyperlink. I had previous research on similar idea. Those links should give you an idea. ","title":"Is it possible for google assistant to press a button in a certain app on Android?","body":"<p>Maybe you should look at these links - <a href=\"https://developers.google.com/assistant/app/\" rel=\"nofollow noreferrer\">https://developers.google.com/assistant/app/</a> and <a href=\"https://developer.android.com/guide/slices\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/slices</a>. If you google assistant to trigger a button action or go to a particular screen. Deep-link or App link is a way to navigate to any part of the app based on the click event on the hyperlink. I had previous research on similar idea. Those links should give you an idea. </p>\n"}],"owner":{"account_id":2286257,"reputation":141,"user_id":2010136,"display_name":"user2010136"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642363098,"creation_date":1590386363,"question_id":61996614,"body_markdown":"I&#39;m new to Android programming. I just created a simple program with a couple of buttons. Each button does something unique. Pushing Button 1 prints out &quot;First Button&quot; and button 2 prints out &quot;Second Button&quot; in a new view.\r\n\r\nI want to ask Google assistant to press button 1 in my app. I want my app to open (if it&#39;s not already open) and show the message &quot;First Button&quot;. I want it to do the same with the button 2 basically showing &quot;Second Button&quot; when I ask it.\r\n\r\nI&#39;m using Java in Android Studio. I researched a few things to try and find an answer and came across &quot;DialogFlow&quot; and &quot;Actions SDK&quot;. I also read about deep links but I&#39;m not really seeing exactly what I&#39;m looking for. They seem more for people that are trying to sell stuff on their website to get the user to the page they want. I got it to open up the app but how do I emulate a button press?\r\n\r\nThank you in advance!","title":"Is it possible for google assistant to press a button in a certain app on Android?","body":"<p>I'm new to Android programming. I just created a simple program with a couple of buttons. Each button does something unique. Pushing Button 1 prints out \"First Button\" and button 2 prints out \"Second Button\" in a new view.</p>\n\n<p>I want to ask Google assistant to press button 1 in my app. I want my app to open (if it's not already open) and show the message \"First Button\". I want it to do the same with the button 2 basically showing \"Second Button\" when I ask it.</p>\n\n<p>I'm using Java in Android Studio. I researched a few things to try and find an answer and came across \"DialogFlow\" and \"Actions SDK\". I also read about deep links but I'm not really seeing exactly what I'm looking for. They seem more for people that are trying to sell stuff on their website to get the user to the page they want. I got it to open up the app but how do I emulate a button press?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"score":0,"creation_date":1593613785,"post_id":62677965,"comment_id":110843358,"body_markdown":"Could you please add your swagger image?","body":"Could you please add your swagger image?"},{"owner":{"account_id":4308682,"reputation":12623,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1652092678,"post_id":62677965,"comment_id":127514073,"body_markdown":"What&#39;s the alternative for annotation based implementation","body":"What&#39;s the alternative for annotation based implementation"}],"answers":[{"tags":[],"owner":{"account_id":4777079,"reputation":430,"user_id":3859889,"display_name":"soul"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1593699642,"creation_date":1593699642,"answer_id":62698493,"question_id":62677965,"body_markdown":"Can be achieved by overriding toString for enum. No need to use @Schema\r\n\r\n   \r\n\r\n     @Override\r\n      public String toString() {\r\n        return value;\r\n      }\r\n\r\n ","title":"Using @Schema(allowableValues=) for enum param using openapi in spring boot","body":"<p>Can be achieved by overriding toString for enum. No need to use @Schema</p>\n<pre><code> @Override\n  public String toString() {\n    return value;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21001389,"reputation":117,"user_id":15432117,"display_name":"guest"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1616152759,"creation_date":1616152759,"answer_id":66707168,"question_id":62677965,"body_markdown":"use\r\n\r\n    @Schema(type = &quot;string&quot;, allowableValues = { &quot;Monday&quot;, &quot;Sunday&quot; })","title":"Using @Schema(allowableValues=) for enum param using openapi in spring boot","body":"<p>use</p>\n<pre><code>@Schema(type = &quot;string&quot;, allowableValues = { &quot;Monday&quot;, &quot;Sunday&quot; })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18550672,"reputation":170,"user_id":13516981,"display_name":"Xiang Rong Lin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628860152,"creation_date":1628860152,"answer_id":68772924,"question_id":62677965,"body_markdown":"If you are using Jackson then swagger added support to use the values defined in the annotations @JsonProperty/@JsonValue which was included in v2.1.3 https://github.com/swagger-api/swagger-core/releases/tag/v2.1.3\r\n\r\nSo you can just write\r\n\r\n     public enum Days{\r\n         @JsonProperty(&quot;Monday&quot;)\r\n         MON,\r\n         @JsonProperty(&quot;Sunday&quot;)\r\n         SUN\r\n    }","title":"Using @Schema(allowableValues=) for enum param using openapi in spring boot","body":"<p>If you are using Jackson then swagger added support to use the values defined in the annotations @JsonProperty/@JsonValue which was included in v2.1.3 <a href=\"https://github.com/swagger-api/swagger-core/releases/tag/v2.1.3\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/releases/tag/v2.1.3</a></p>\n<p>So you can just write</p>\n<pre><code> public enum Days{\n     @JsonProperty(&quot;Monday&quot;)\n     MON,\n     @JsonProperty(&quot;Sunday&quot;)\n     SUN\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10219421,"reputation":100,"user_id":7544022,"display_name":"Dulaj Dilshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642362232,"creation_date":1642362232,"answer_id":70733578,"question_id":62677965,"body_markdown":"Let&#39;s assume your request is defined in the `Request` class and your request attribute is `day`. So what you can easily do is add swagger-ui annotation `@Schema` as follows.\r\n\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n\r\n    class Request {\r\n        @Schema(type = &quot;string&quot;, allowableValues = { &quot;Monday&quot;, &quot;Sunday&quot; })\r\n        String day;\r\n    }\r\n","title":"Using @Schema(allowableValues=) for enum param using openapi in spring boot","body":"<p>Let's assume your request is defined in the <code>Request</code> class and your request attribute is <code>day</code>. So what you can easily do is add swagger-ui annotation <code>@Schema</code> as follows.</p>\n<pre><code>import io.swagger.v3.oas.annotations.media.Schema;\n\nclass Request {\n    @Schema(type = &quot;string&quot;, allowableValues = { &quot;Monday&quot;, &quot;Sunday&quot; })\n    String day;\n}\n</code></pre>\n"}],"owner":{"account_id":4777079,"reputation":430,"user_id":3859889,"display_name":"soul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25363,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1642362232,"creation_date":1593610098,"question_id":62677965,"body_markdown":"My API has a enum field in request body. When I generate swagger UI, its showing enum with allowed value as enum names. Instead of enum names, I need to set it to enum values. For that I used  @Schema(allowableValues=). This lead to a list with both values and names in swagger UI. Can I set this to values only in swagger?\r\n\r\nMy enum example :\r\n\r\n   \r\n\r\n     public enum Days{\r\n      MON(&quot;Monday&quot;),\r\n      SUN(&quot;Sunday&quot;)\r\n    }\r\n\r\nCurrent swagger field looks like :\r\n\r\n&gt; day\tstring Enum: [ MON, SUN ]\r\n\r\n\r\nI want it has :\r\n\r\n&gt; day\tstring Enum: [ Monday, Sunday]\r\n\r\n\r\nWhen I add @Schema(allowableValues={&quot;Monday&quot;, &quot;Sunday&quot;) to the enum field, Swagger becomes:\r\n\r\n&gt; day\tstring Enum: [ MON, SUN, Monday, Sunday]\r\n\r\nAny solution is appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F0jOD.png","title":"Using @Schema(allowableValues=) for enum param using openapi in spring boot","body":"<p>My API has a enum field in request body. When I generate swagger UI, its showing enum with allowed value as enum names. Instead of enum names, I need to set it to enum values. For that I used  @Schema(allowableValues=). This lead to a list with both values and names in swagger UI. Can I set this to values only in swagger?</p>\n<p>My enum example :</p>\n<pre><code> public enum Days{\n  MON(&quot;Monday&quot;),\n  SUN(&quot;Sunday&quot;)\n}\n</code></pre>\n<p>Current swagger field looks like :</p>\n<blockquote>\n<p>day   string Enum: [ MON, SUN ]</p>\n</blockquote>\n<p>I want it has :</p>\n<blockquote>\n<p>day   string Enum: [ Monday, Sunday]</p>\n</blockquote>\n<p>When I add @Schema(allowableValues={&quot;Monday&quot;, &quot;Sunday&quot;) to the enum field, Swagger becomes:</p>\n<blockquote>\n<p>day   string Enum: [ MON, SUN, Monday, Sunday]</p>\n</blockquote>\n<p>Any solution is appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/F0jOD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/F0jOD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":241437,"reputation":5355,"user_id":512251,"accept_rate":59,"display_name":"user"},"score":0,"creation_date":1363068619,"post_id":3307072,"comment_id":21691273,"body_markdown":"You can check [csv-merger](https://github.com/riyadparvez/csv-merger) github project","body":"You can check <a href=\"https://github.com/riyadparvez/csv-merger\" rel=\"nofollow noreferrer\">csv-merger</a> github project"}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1279791202,"creation_date":1279789077,"answer_id":3307225,"question_id":3307072,"body_markdown":"I&#39;d create a model for the &#39;bigger&#39; format (a simple class with four fields and a collection for instances of this class) and implemented two parsers, one for the first, one for the second model. Create records for all rows of both csv files and implement a writer to output the csv in the correct format. IN brief:\r\n\r\n     public void convert(File output, File...input) {\r\n\r\n       List&lt;Record&gt; records = new ArrayList&lt;Record&gt;();\r\n       for (File file:input) {\r\n         if (input.isThreeColumnFormat()) {\r\n            records.addAll(ThreeColumnFormatParser.parse(file));\r\n         } else {\r\n            records.addAll(FourColumnFormatParser.parse(file));\r\n         }\r\n       }\r\n       CsvWriter.write(output, records);\r\n     }\r\n\r\n---\r\n\r\nFrom your comment I see, that you a lot of different csv formats with some common columns.\r\n\r\nYou could define the model for any row in the various csv files like this:\r\n\r\n    public class Record {\r\n      Object id; // some sort of unique identifier\r\n      Map&lt;String, String&gt; values; // all key/values of a single row\r\n      public Record(Object id) {this.id=id;}\r\n      public void put(String key, String value){\r\n        values.put(key, value);\r\n      }\r\n      public void get(String key) {\r\n        values.get(key);\r\n      }\r\n    }\r\n\r\nFor parsing any file you would first read the header and add the column headers to a global keystore (will be needed later on for outputting), then create records for all rows, like:\r\n\r\n    //...\r\n    List&lt;Record&gt; records = new ArrayList&lt;Record&gt;()\r\n\r\n    for (File file:getAllFiles()) {\r\n      List&lt;String&gt; keys = getColumnsHeaders(file);\r\n      KeyStore.addAll(keys);  // the store is a Set\r\n      for (String line:file.getLines()) {\r\n        String[] values = line.split(DELIMITER);\r\n        Record record = new Record(file.getName()+i);  // as an example for id\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n          record.put(keys.get(i), values[i]);\r\n        }\r\n        records.add(record);\r\n      }\r\n    }\r\n    // ...\r\n    \r\nNow the keystore has all used column header names and we can iterate over the collection of all records, get all values for all keys (and get `null` if the file for this record didn&#39;t use the key), assemble the csv lines and write everything to a new file.","title":"How to merge CSV files in Java","body":"<p>I'd create a model for the 'bigger' format (a simple class with four fields and a collection for instances of this class) and implemented two parsers, one for the first, one for the second model. Create records for all rows of both csv files and implement a writer to output the csv in the correct format. IN brief:</p>\n\n<pre><code> public void convert(File output, File...input) {\n\n   List&lt;Record&gt; records = new ArrayList&lt;Record&gt;();\n   for (File file:input) {\n     if (input.isThreeColumnFormat()) {\n        records.addAll(ThreeColumnFormatParser.parse(file));\n     } else {\n        records.addAll(FourColumnFormatParser.parse(file));\n     }\n   }\n   CsvWriter.write(output, records);\n }\n</code></pre>\n\n<hr>\n\n<p>From your comment I see, that you a lot of different csv formats with some common columns.</p>\n\n<p>You could define the model for any row in the various csv files like this:</p>\n\n<pre><code>public class Record {\n  Object id; // some sort of unique identifier\n  Map&lt;String, String&gt; values; // all key/values of a single row\n  public Record(Object id) {this.id=id;}\n  public void put(String key, String value){\n    values.put(key, value);\n  }\n  public void get(String key) {\n    values.get(key);\n  }\n}\n</code></pre>\n\n<p>For parsing any file you would first read the header and add the column headers to a global keystore (will be needed later on for outputting), then create records for all rows, like:</p>\n\n<pre><code>//...\nList&lt;Record&gt; records = new ArrayList&lt;Record&gt;()\n\nfor (File file:getAllFiles()) {\n  List&lt;String&gt; keys = getColumnsHeaders(file);\n  KeyStore.addAll(keys);  // the store is a Set\n  for (String line:file.getLines()) {\n    String[] values = line.split(DELIMITER);\n    Record record = new Record(file.getName()+i);  // as an example for id\n    for (int i = 0; i &lt; values.length; i++) {\n      record.put(keys.get(i), values[i]);\n    }\n    records.add(record);\n  }\n}\n// ...\n</code></pre>\n\n<p>Now the keystore has all used column header names and we can iterate over the collection of all records, get all values for all keys (and get <code>null</code> if the file for this record didn't use the key), assemble the csv lines and write everything to a new file.</p>\n"},{"tags":[],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279790869,"creation_date":1279790869,"answer_id":3307410,"question_id":3307072,"body_markdown":"Read in the header of the first file and create a list of the column names.  Now read the header of the second file and add any column names that don&#39;t exist already in the list to the end of the list.  Now you have your columns in the order that you want and you can write this to the new file first.\r\n\r\nNext I would parse each file and for each row I would create a Map of column name to value.  Once the row is parsed you could then iterate over the new list of column names and pull the values from the map and write them immediately to the new file.  If the value is null don&#39;t print anything (just a comma, if required).\r\n\r\nThere might be more efficient solutions available, but I think this meets the requirements you set out.","title":"How to merge CSV files in Java","body":"<p>Read in the header of the first file and create a list of the column names.  Now read the header of the second file and add any column names that don't exist already in the list to the end of the list.  Now you have your columns in the order that you want and you can write this to the new file first.</p>\n\n<p>Next I would parse each file and for each row I would create a Map of column name to value.  Once the row is parsed you could then iterate over the new list of column names and pull the values from the map and write them immediately to the new file.  If the value is null don't print anything (just a comma, if required).</p>\n\n<p>There might be more efficient solutions available, but I think this meets the requirements you set out.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280132346,"creation_date":1280132346,"answer_id":3333226,"question_id":3307072,"body_markdown":"Try this:\r\n\r\nhttp://ondra.zizka.cz/stranky/programovani/ruzne/querying-transforming-csv-using-sql.texy\r\n\r\n    crunch input.csv output.csv &quot;SELECT AVG(duration) AS durAvg FROM (SELECT * FROM indata ORDER BY duration LIMIT 2 OFFSET 6)&quot;","title":"How to merge CSV files in Java","body":"<p>Try this:</p>\n\n<p><a href=\"http://ondra.zizka.cz/stranky/programovani/ruzne/querying-transforming-csv-using-sql.texy\" rel=\"nofollow noreferrer\">http://ondra.zizka.cz/stranky/programovani/ruzne/querying-transforming-csv-using-sql.texy</a></p>\n\n<pre><code>crunch input.csv output.csv \"SELECT AVG(duration) AS durAvg FROM (SELECT * FROM indata ORDER BY duration LIMIT 2 OFFSET 6)\"\n</code></pre>\n"}],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12521,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3307225,"answer_count":3,"score":4,"last_activity_date":1642362072,"creation_date":1279787778,"question_id":3307072,"body_markdown":"My first CSV file looks like this with header included (header is included only at the top not after every entry):\r\n\r\n    NAME,SURNAME,AGE\r\n    Fred,Krueger,Unknown\r\n    .... n records\r\n\r\nMy second file might look like this:\r\n\r\n    NAME,MIDDLENAME,SURNAME,AGE\r\n    Jason,Noname,Scarry,16\r\n    .... n records with this header template\r\n\r\nThe merged file should look like this:\r\n\r\n    NAME,SURNAME,AGE,MIDDLENAME\r\n    Fred,Krueger,Unknown,\r\n    Jason,Scarry,16,Noname\r\n    ....\r\n\r\nBasically if headers don&#39;t match, all new header titles (columns) should be added after original header and their values according to that order.\r\n\r\nUpdate\r\n---\r\n\r\nAbove CSV were made smaller so I can illustrate what I want to achieve, in reality CSV files are generated one step before this (merge) and can be up to 100 columns\r\n \r\nHow can I do this?\r\n","title":"How to merge CSV files in Java","body":"<p>My first CSV file looks like this with header included (header is included only at the top not after every entry):</p>\n<pre><code>NAME,SURNAME,AGE\nFred,Krueger,Unknown\n.... n records\n</code></pre>\n<p>My second file might look like this:</p>\n<pre><code>NAME,MIDDLENAME,SURNAME,AGE\nJason,Noname,Scarry,16\n.... n records with this header template\n</code></pre>\n<p>The merged file should look like this:</p>\n<pre><code>NAME,SURNAME,AGE,MIDDLENAME\nFred,Krueger,Unknown,\nJason,Scarry,16,Noname\n....\n</code></pre>\n<p>Basically if headers don't match, all new header titles (columns) should be added after original header and their values according to that order.</p>\n<h2>Update</h2>\n<p>Above CSV were made smaller so I can illustrate what I want to achieve, in reality CSV files are generated one step before this (merge) and can be up to 100 columns</p>\n<p>How can I do this?</p>\n"},{"tags":["java","database","sqlite","rollback"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642361959,"creation_date":1642361959,"answer_id":70733539,"question_id":70733146,"body_markdown":"Quick answer: The fact that you&#39;re asking means you&#39;re doing it wrong, probably. However, if you must know: Yes, you need to explicitly rollback.\r\n\r\n## What is happening under the hood\r\n\r\n\r\nAt the JDBC level (and if you&#39;re using JOOQ, JDBI, Hibernate, or something similar, that&#39;s a library built on top of JDBC usually), you have a `Connection` instance. You&#39;d have gotten this via `DriverManager.getConnection(...)` - or a connection pooler got it for you, but something did.\r\n\r\nThat connection can be in the middle of a transaction (auto-commit mode merely means that the connection assumes you meant to write an additional `commit()` after every SQL statement you care to run in that connection&#39;s context, that&#39;s all auto-commit does, but, obviously, if that&#39;s on, you probably are in a &#39;clean&#39; state, that is, the last command processed by that connection was either `COMMIT` or `ROLLBACK`).\r\n\r\nIf it is in the middle of a transaction and you close the connection, __the `ROLLBACK` is implicit__.\r\n\r\nThe connection has to make a choice, it can&#39;t keep existing, so, it commits or rolls back. The spec guarantees it doesn&#39;t just commit for funsies on you, so, therefore, it rolls back.\r\n\r\nThe question then boils down to your specific setup. This, specifically, is dangerous:\r\n\r\n```\r\ntry (Connection con = ...) {\r\n  con.setAutoCommit(false);\r\n  try {\r\n    try (var s = con.createStatement()) {\r\n      s.execute(&quot;DROP TABLE foobar&quot;);\r\n    }\r\n  } catch (SQLException ignore) {\r\n    // ignoring an exception usually bad idea. But for sake of example..\r\n  }\r\n\r\n  // A second statement on the same connection...\r\n  try (var s = con.createStatement()) {\r\n    s.execute(&quot;DROP TABLE quux&quot;);\r\n  }\r\n}\r\n```\r\n\r\n\r\nA JDBC driver is, as far as the spec is concerned, free to throw an SQLException along the lines of &#39;the connection is aborted; you must explicitly rollback first then you can use it again&#39; on the second statement.\r\n\r\nHowever, the above code is quite bad. You __cannot__ use transaction isolation level SERIALIZABLE at all with this kind of code (once you get more than a handful of users, the app will crash and burn in a cavalcade of retry exceptions), and it is either doing something useless (re-using 1 connection for multiple transactions when you have a connection pooler in use), or is solving a problem badly (the problem of: Using a new connection for every transaction is pricey).\r\n\r\n## 1 transaction, 1 connection\r\n\r\nThe only reason the above was dangerous is because we&#39;re doing two unrelated things (namely: 2 transactions) in a single try-block associated with a connection object. We&#39;re re-using the connection. This is a bad idea: connections have baggage associated with them: Properties that were set, and, yes, being in &#39;abort&#39; state (where an explicit ROLLBACK is _required_ before the connection is willing to execute any other SQL). By just closing the connection and getting a new one, you ditch all that baggage. This is the kind of baggage that results in bugs that unit tests are not going to catch easily, a.k.a. bugs that, if they ever trigger, cost a ton of money / eyeballs / goodwill / time to fix. Objectively you must prefer 99 easy-to-catch bugs if it avoids a single 100x-harder-to-catch bug, and this is one of those bugs that falls in the latter category.\r\n\r\n## Connections are pricey? What?\r\n\r\nThere&#39;s one problem with that: Just use a connection for a single transaction and then hand it back, which thus eliminates the need to rollback, as the connection will do that automatically if you `close()` it: Getting connections is quite resource-heavy.\r\n\r\nSo, folks tend to / should probably be using a connection pooler to avoid this cost. Don&#39;t write your own here either; use [HikariCP](https://github.com/brettwooldridge/HikariCP) or something like it. These tools pool connections for you: Instead of invoking `DriverManager.getConnection`, you ask HikariCP for one, and you hand your connection back to HikariCP when you&#39;re done with it. Hikari will take care of resetting it for you, which includes rolling back if the connection is halfway inside a transaction, and tackling any other per-connection settings, getting it back to known state.\r\n\r\nThe common DB interaction model is essentially this &#39;flow&#39;:\r\n\r\n```\r\nsomeDbAccessorObject.act(db -&gt; {\r\n  // do a single transaction here\r\n});\r\n```\r\n\r\nand that&#39;s it. This code, under the hood, does all sorts of things:\r\n* Uses a connection pooler.\r\n* Sets up the connection in the right fashion, which primarily involves setting auto-commit to false, and setting the right transaction isolation level.\r\n* will COMMIT at the end of the lambda block, __if__ no exceptions occurred. Hands back the connection in either case, back to the pool.\r\n* Will catch SQLExceptions and analyse if they are retry exceptions. If yes, does nagle&#39;s algorithm or some other randomized exponential backoff and reruns the lambda block (that&#39;s what retry exceptions mean).\r\n* Takes care of having the code that &#39;gets&#39; a connection (e.g. determines the right JDBC url to use) in a single place, so that a change in db config does not entail going on a global search/replace spree in your codebase.\r\n\r\nIn that model, it is somewhat rare that you run into your problem, because you end up in a &#39;1 transaction? 1 connection!&#39; model. Ordinarily that&#39;s pricey (creating connections is far more expensive that rolling back/committing as usual and then just continuing with a new transaction on the same connection object), but it boils down to the same thing once a pooler is being used.\r\n\r\n\r\nIn other words: Properly written DB code should not have your problem unless you&#39;re writing a connection pooler yourself, in which case the answer is definitely: roll back explicitly.\r\n","title":"Java SQLite: Is it necessary to call rollback when auto commit is false and a transaction fails?","body":"<p>Quick answer: The fact that you're asking means you're doing it wrong, probably. However, if you must know: Yes, you need to explicitly rollback.</p>\n<h2>What is happening under the hood</h2>\n<p>At the JDBC level (and if you're using JOOQ, JDBI, Hibernate, or something similar, that's a library built on top of JDBC usually), you have a <code>Connection</code> instance. You'd have gotten this via <code>DriverManager.getConnection(...)</code> - or a connection pooler got it for you, but something did.</p>\n<p>That connection can be in the middle of a transaction (auto-commit mode merely means that the connection assumes you meant to write an additional <code>commit()</code> after every SQL statement you care to run in that connection's context, that's all auto-commit does, but, obviously, if that's on, you probably are in a 'clean' state, that is, the last command processed by that connection was either <code>COMMIT</code> or <code>ROLLBACK</code>).</p>\n<p>If it is in the middle of a transaction and you close the connection, <strong>the <code>ROLLBACK</code> is implicit</strong>.</p>\n<p>The connection has to make a choice, it can't keep existing, so, it commits or rolls back. The spec guarantees it doesn't just commit for funsies on you, so, therefore, it rolls back.</p>\n<p>The question then boils down to your specific setup. This, specifically, is dangerous:</p>\n<pre><code>try (Connection con = ...) {\n  con.setAutoCommit(false);\n  try {\n    try (var s = con.createStatement()) {\n      s.execute(&quot;DROP TABLE foobar&quot;);\n    }\n  } catch (SQLException ignore) {\n    // ignoring an exception usually bad idea. But for sake of example..\n  }\n\n  // A second statement on the same connection...\n  try (var s = con.createStatement()) {\n    s.execute(&quot;DROP TABLE quux&quot;);\n  }\n}\n</code></pre>\n<p>A JDBC driver is, as far as the spec is concerned, free to throw an SQLException along the lines of 'the connection is aborted; you must explicitly rollback first then you can use it again' on the second statement.</p>\n<p>However, the above code is quite bad. You <strong>cannot</strong> use transaction isolation level SERIALIZABLE at all with this kind of code (once you get more than a handful of users, the app will crash and burn in a cavalcade of retry exceptions), and it is either doing something useless (re-using 1 connection for multiple transactions when you have a connection pooler in use), or is solving a problem badly (the problem of: Using a new connection for every transaction is pricey).</p>\n<h2>1 transaction, 1 connection</h2>\n<p>The only reason the above was dangerous is because we're doing two unrelated things (namely: 2 transactions) in a single try-block associated with a connection object. We're re-using the connection. This is a bad idea: connections have baggage associated with them: Properties that were set, and, yes, being in 'abort' state (where an explicit ROLLBACK is <em>required</em> before the connection is willing to execute any other SQL). By just closing the connection and getting a new one, you ditch all that baggage. This is the kind of baggage that results in bugs that unit tests are not going to catch easily, a.k.a. bugs that, if they ever trigger, cost a ton of money / eyeballs / goodwill / time to fix. Objectively you must prefer 99 easy-to-catch bugs if it avoids a single 100x-harder-to-catch bug, and this is one of those bugs that falls in the latter category.</p>\n<h2>Connections are pricey? What?</h2>\n<p>There's one problem with that: Just use a connection for a single transaction and then hand it back, which thus eliminates the need to rollback, as the connection will do that automatically if you <code>close()</code> it: Getting connections is quite resource-heavy.</p>\n<p>So, folks tend to / should probably be using a connection pooler to avoid this cost. Don't write your own here either; use <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">HikariCP</a> or something like it. These tools pool connections for you: Instead of invoking <code>DriverManager.getConnection</code>, you ask HikariCP for one, and you hand your connection back to HikariCP when you're done with it. Hikari will take care of resetting it for you, which includes rolling back if the connection is halfway inside a transaction, and tackling any other per-connection settings, getting it back to known state.</p>\n<p>The common DB interaction model is essentially this 'flow':</p>\n<pre><code>someDbAccessorObject.act(db -&gt; {\n  // do a single transaction here\n});\n</code></pre>\n<p>and that's it. This code, under the hood, does all sorts of things:</p>\n<ul>\n<li>Uses a connection pooler.</li>\n<li>Sets up the connection in the right fashion, which primarily involves setting auto-commit to false, and setting the right transaction isolation level.</li>\n<li>will COMMIT at the end of the lambda block, <strong>if</strong> no exceptions occurred. Hands back the connection in either case, back to the pool.</li>\n<li>Will catch SQLExceptions and analyse if they are retry exceptions. If yes, does nagle's algorithm or some other randomized exponential backoff and reruns the lambda block (that's what retry exceptions mean).</li>\n<li>Takes care of having the code that 'gets' a connection (e.g. determines the right JDBC url to use) in a single place, so that a change in db config does not entail going on a global search/replace spree in your codebase.</li>\n</ul>\n<p>In that model, it is somewhat rare that you run into your problem, because you end up in a '1 transaction? 1 connection!' model. Ordinarily that's pricey (creating connections is far more expensive that rolling back/committing as usual and then just continuing with a new transaction on the same connection object), but it boils down to the same thing once a pooler is being used.</p>\n<p>In other words: Properly written DB code should not have your problem unless you're writing a connection pooler yourself, in which case the answer is definitely: roll back explicitly.</p>\n"}],"owner":{"account_id":20116120,"reputation":584,"user_id":14751525,"display_name":"Abdulwahab Almestekawy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70733539,"answer_count":1,"score":0,"last_activity_date":1642361959,"creation_date":1642358963,"question_id":70733146,"body_markdown":"When working with a SQLite database in Java, suppose I set auto commit to false. Is it necessary when a SQLException occurs that I call `rollback()` method? Or can I simply ignore calling it and the transaction will automatically be rolled back (all the changes I made during the transaction will be undone automatically)?","title":"Java SQLite: Is it necessary to call rollback when auto commit is false and a transaction fails?","body":"<p>When working with a SQLite database in Java, suppose I set auto commit to false. Is it necessary when a SQLException occurs that I call <code>rollback()</code> method? Or can I simply ignore calling it and the transaction will automatically be rolled back (all the changes I made during the transaction will be undone automatically)?</p>\n"},{"tags":["java","java-module","jlink"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1641906751,"post_id":70664036,"comment_id":124925332,"body_markdown":"[`jdeps`](https://docs.oracle.com/en/java/javase/17/docs/specs/man/jdeps.html) is the right tool for this.","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jdeps.html\" rel=\"nofollow noreferrer\"><code>jdeps</code></a> is the right tool for this."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":1,"creation_date":1641911993,"post_id":70664036,"comment_id":124927712,"body_markdown":"AFAIK there is no way to be sure of it at the moment.","body":"AFAIK there is no way to be sure of it at the moment."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1641917800,"post_id":70664036,"comment_id":124930641,"body_markdown":"Indeed @JohannesKuhn is right, you have got to analyze the dependencies first.","body":"Indeed @JohannesKuhn is right, you have got to analyze the dependencies first."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1641918981,"post_id":70664036,"comment_id":124931189,"body_markdown":"Nice tip, thanks - it shows more modules than just java.base but the crypto module is still not listed.","body":"Nice tip, thanks - it shows more modules than just java.base but the crypto module is still not listed."}],"answers":[{"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1642361496,"creation_date":1642361496,"answer_id":70733470,"question_id":70664036,"body_markdown":"The JAR you&#39;re using there has &quot;no module descriptor&quot; (see first line of output) and thus can&#39;t tell you what modules it depends on, so you have to find out yourself. The canonical tool for that is `jdeps` but it may not be enough.\r\n\r\n## Static Dependencies\r\n\r\nI wrote [a jdeps tutorial](https://nipafx.dev/jdeps-tutorial-analyze-java-project-dependencies/) that gets you started, but the interesting bit is [this section](https://nipafx.dev/jdeps-tutorial-analyze-java-project-dependencies/#configuring-jdeps-output). The gist is this command:\r\n\r\n```\r\njdeps --class-path &#39;jars/*&#39; -summary -recursive logback-core-1.2.3.jar\r\n```\r\n\r\nWhere `jars` contains all Logback dependencies. (If you don&#39;t have those at hand, you can leave `--class-path` and `-recursive` out, but then you don&#39;t know which modules the dependencies.) Besides a few other things, the output will list the dependencies on JDK modules.\r\n\r\n## Dynamic Dependencies\r\n\r\n`jdeps` works by analyzing the byte code, which means it will only find dependencies that are statically linked. Consequently, if a JAR uses reflection, [the service loader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html), or other mechanisms to avoid explicitly mentioning the classes it wants to use, `jdeps` will not notice them.\r\n\r\nTo find those cases, you can run an app with the `java` command-line option `-XX:DumpLoadedClassList=classes.lst` - it will generate a file `classes.lst` that lists all loaded classes.\r\n\r\n## Minimal Runtime\r\n\r\nNote that the base module _java.base_ uses a lot of services that are provided by other modules, for example locale data by _jdk.localedata_. That means a minimal runtime (i.e. one where service provider modules are not included) may miss things that an app needs (in the example, maybe locales).\r\n\r\nYou can list services with `java --describe-module java.base` (see list of `uses ...` in output) and then find potentiual providers for each with `jlink`&#39;s `--suggest-providers` option.\r\n\r\nYou can include all of possible providers with `jlink`&#39;s `--bind-services` option, but that immediately abandons the idea of a &quot;minimal&quot; runtime as it will include a lot of modules. If you&#39;re going for &quot;minimal&quot;, probably better to include them one by one as needed.\r\n\r\nWhatever you do, make sure to thoroughly test your app on the custom-made runtime.","title":"Find the missing module","body":"<p>The JAR you're using there has &quot;no module descriptor&quot; (see first line of output) and thus can't tell you what modules it depends on, so you have to find out yourself. The canonical tool for that is <code>jdeps</code> but it may not be enough.</p>\n<h2>Static Dependencies</h2>\n<p>I wrote <a href=\"https://nipafx.dev/jdeps-tutorial-analyze-java-project-dependencies/\" rel=\"noreferrer\">a jdeps tutorial</a> that gets you started, but the interesting bit is <a href=\"https://nipafx.dev/jdeps-tutorial-analyze-java-project-dependencies/#configuring-jdeps-output\" rel=\"noreferrer\">this section</a>. The gist is this command:</p>\n<pre><code>jdeps --class-path 'jars/*' -summary -recursive logback-core-1.2.3.jar\n</code></pre>\n<p>Where <code>jars</code> contains all Logback dependencies. (If you don't have those at hand, you can leave <code>--class-path</code> and <code>-recursive</code> out, but then you don't know which modules the dependencies.) Besides a few other things, the output will list the dependencies on JDK modules.</p>\n<h2>Dynamic Dependencies</h2>\n<p><code>jdeps</code> works by analyzing the byte code, which means it will only find dependencies that are statically linked. Consequently, if a JAR uses reflection, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"noreferrer\">the service loader</a>, or other mechanisms to avoid explicitly mentioning the classes it wants to use, <code>jdeps</code> will not notice them.</p>\n<p>To find those cases, you can run an app with the <code>java</code> command-line option <code>-XX:DumpLoadedClassList=classes.lst</code> - it will generate a file <code>classes.lst</code> that lists all loaded classes.</p>\n<h2>Minimal Runtime</h2>\n<p>Note that the base module <em>java.base</em> uses a lot of services that are provided by other modules, for example locale data by <em>jdk.localedata</em>. That means a minimal runtime (i.e. one where service provider modules are not included) may miss things that an app needs (in the example, maybe locales).</p>\n<p>You can list services with <code>java --describe-module java.base</code> (see list of <code>uses ...</code> in output) and then find potentiual providers for each with <code>jlink</code>'s <code>--suggest-providers</code> option.</p>\n<p>You can include all of possible providers with <code>jlink</code>'s <code>--bind-services</code> option, but that immediately abandons the idea of a &quot;minimal&quot; runtime as it will include a lot of modules. If you're going for &quot;minimal&quot;, probably better to include them one by one as needed.</p>\n<p>Whatever you do, make sure to thoroughly test your app on the custom-made runtime.</p>\n"}],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70733470,"answer_count":1,"score":6,"last_activity_date":1642361496,"creation_date":1641891558,"question_id":70664036,"body_markdown":"My question: when building a minimal JRE, how can one make sure that no required module is missing?\r\n\r\n----\r\n\r\nTo illustrate the question, here is an example where I want to build a minimal JRE for my project. Let&#39;s assume for this example that logback is my only dependency.\r\n\r\nI run the following command to see what modules are required:\r\n\r\n```lang-none\r\n$ jar --file=logback-core-1.2.3.jar --describe-module\r\nNo module descriptor found. Derived automatic module.\r\n\r\nlogback.core@1.2.3 automatic\r\nrequires java.base mandated\r\ncontains ch.qos.logback.core\r\ncontains ch.qos.logback.core.boolex\r\netc. (there are more &quot;contains ch.qos.logback.XXX&quot; lines)\r\n```\r\n\r\nIt looks like I only need the `java.base` module and I build my minimal JRE accordingly:\r\n\r\n    jlink --output jre-min --add-modules java.base\r\n\r\nHowever when running the project with the minimal JRE, I encounter issues using logback&#39;s email logger (malformed emails over TLS). Through trial and error, I find that `jdk.crypto.cryptoki` module is also required:\r\n\r\n    jlink --output jre-min --add-modules java.base,jdk.crypto.cryptoki\r\n\r\nNow my project works fine. How could I have avoided the trial &amp; error step?","title":"Find the missing module","body":"<p>My question: when building a minimal JRE, how can one make sure that no required module is missing?</p>\n<hr />\n<p>To illustrate the question, here is an example where I want to build a minimal JRE for my project. Let's assume for this example that logback is my only dependency.</p>\n<p>I run the following command to see what modules are required:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ jar --file=logback-core-1.2.3.jar --describe-module\nNo module descriptor found. Derived automatic module.\n\nlogback.core@1.2.3 automatic\nrequires java.base mandated\ncontains ch.qos.logback.core\ncontains ch.qos.logback.core.boolex\netc. (there are more &quot;contains ch.qos.logback.XXX&quot; lines)\n</code></pre>\n<p>It looks like I only need the <code>java.base</code> module and I build my minimal JRE accordingly:</p>\n<pre><code>jlink --output jre-min --add-modules java.base\n</code></pre>\n<p>However when running the project with the minimal JRE, I encounter issues using logback's email logger (malformed emails over TLS). Through trial and error, I find that <code>jdk.crypto.cryptoki</code> module is also required:</p>\n<pre><code>jlink --output jre-min --add-modules java.base,jdk.crypto.cryptoki\n</code></pre>\n<p>Now my project works fine. How could I have avoided the trial &amp; error step?</p>\n"},{"tags":["java","concurrency","synchronized","java-memory-model"],"answers":[{"tags":[],"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358210118,"creation_date":1358208919,"answer_id":14329148,"question_id":14329064,"body_markdown":"Given the assumption that each thread is sharing the same instance of the (incomplete) class you have defined in your question:\r\n\r\n&gt; Is it guaranteed that the code will break out of the while loop?\r\n\r\nIn practice, yes. The lock is only held for a short time to set b in threadOne method. There are enough context switches in threadTwo for threadOne to be able execute the sync block. *&quot;In practice&quot; meaning: in an EXTREMELY unlikely scenario (and poorly implemented JVM threading), it may be possible for threadOne to be kept out of the sync block while threadTwo continues to reacquire the sync lock for the if check.* (In fact, I challenge anyone to produce a working example where the OPs scenario does not complete).\r\n\r\n&gt; What if we remove variable c out of the equation? I&#39;m wondering if\r\n&gt; only b is guaranteed to be visible in threadTwo because it was inside\r\n&gt; the synchronization block.\r\n\r\nSame. In practice, yes.\r\n\r\nFor extra credit (the challenge), find a JVM that executes the following code, such that it does not terminate:\r\n\r\n    public class SyncTest {\r\n    \r\n      public static void main(String args[]) throws Exception {\r\n    \r\n              final Shared s = new Shared();\r\n              Thread t1 = new Thread () { public void run() { s.threadOne(); } };\r\n              Thread t2 = new Thread () { public void run() { s.threadTwo(); } };\r\n    \r\n              t2.start();\r\n              t1.start();\r\n      }\r\n    }\r\n    \r\n    class Shared {\r\n    \r\n      Object lock = new Object();\r\n      boolean a = false, b = false, c = false;\r\n    \r\n      void threadOne() {\r\n        a = true;\r\n        synchronized(lock) {\r\n           b = true;\r\n        }\r\n        c = true;\r\n      }\r\n    \r\n      void threadTwo() {\r\n        while (true) {\r\n          synchronized(lock) {\r\n             if (a &amp;&amp; b &amp;&amp; c) break;\r\n          }\r\n        }\r\n      }\r\n    }","title":"Synchronized and the scope of visibility","body":"<p>Given the assumption that each thread is sharing the same instance of the (incomplete) class you have defined in your question:</p>\n\n<blockquote>\n  <p>Is it guaranteed that the code will break out of the while loop?</p>\n</blockquote>\n\n<p>In practice, yes. The lock is only held for a short time to set b in threadOne method. There are enough context switches in threadTwo for threadOne to be able execute the sync block. <em>\"In practice\" meaning: in an EXTREMELY unlikely scenario (and poorly implemented JVM threading), it may be possible for threadOne to be kept out of the sync block while threadTwo continues to reacquire the sync lock for the if check.</em> (In fact, I challenge anyone to produce a working example where the OPs scenario does not complete).</p>\n\n<blockquote>\n  <p>What if we remove variable c out of the equation? I'm wondering if\n  only b is guaranteed to be visible in threadTwo because it was inside\n  the synchronization block.</p>\n</blockquote>\n\n<p>Same. In practice, yes.</p>\n\n<p>For extra credit (the challenge), find a JVM that executes the following code, such that it does not terminate:</p>\n\n<pre><code>public class SyncTest {\n\n  public static void main(String args[]) throws Exception {\n\n          final Shared s = new Shared();\n          Thread t1 = new Thread () { public void run() { s.threadOne(); } };\n          Thread t2 = new Thread () { public void run() { s.threadTwo(); } };\n\n          t2.start();\n          t1.start();\n  }\n}\n\nclass Shared {\n\n  Object lock = new Object();\n  boolean a = false, b = false, c = false;\n\n  void threadOne() {\n    a = true;\n    synchronized(lock) {\n       b = true;\n    }\n    c = true;\n  }\n\n  void threadTwo() {\n    while (true) {\n      synchronized(lock) {\n         if (a &amp;&amp; b &amp;&amp; c) break;\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1154709,"reputation":4851,"user_id":1135629,"accept_rate":78,"display_name":"Alex DiCarlo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1358210749,"creation_date":1358209128,"answer_id":14329186,"question_id":14329064,"body_markdown":"&gt; Is it guaranteed that the code will break out of the while loop?\r\n\r\nNo. The Java memory model is defined in terms of &quot;[happens before](http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5)&quot; relationships:\r\n\r\n&gt; Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.\r\n\r\nThe spec goes on to say:\r\n\r\n&gt; If an action x synchronizes-with a following action y, then we also have hb(x, y).\r\n\r\nwhere `hb` stands for happens-before, and\r\n\r\n&gt; An unlock action on monitor m synchronizes-with all subsequent lock actions on m (where &quot;subsequent&quot; is defined according to the synchronization order).\r\n\r\nAlso note that:\r\n\r\n&gt; If hb(x, y) and hb(y, z), then hb(x, z).\r\n\r\nSo in your example, the `synchronized(lock)` around `b` will establish a happens-before relationship for the following read, and thus the value of `b` is guaranteed to be visible in other threads that also use `synchronized(lock)`. Explicitly, \r\n\r\n    hb(write to b in threadOne, unlock in threadOne) AND \r\n    hb(unlock in threadOne, lock in threadTwo) AND \r\n    hb(lock in threadTwo, read from a in threadTwo) IMPLIES \r\n    hb(write to b in threadOne, read from b in threadTwo) \r\n\r\nSimilarly, `a` will be guaranteed to be visible to the other thread. Explicitly,\r\n\r\n    hb(write to a in threadOne, lock in threadOne) AND \r\n    hb(lock in threadOne, unlock in threadOne) AND \r\n    hb(unlock in threadOne, lock in threadTwo) AND \r\n    hb(lock in threadTwo, read a in threadTwo) IMPLIES \r\n    hb(write to a in threadOne, read a in threadTwo). \r\n\r\nThe write and then subsequent read of `c` does not have a happens-before relationship, so therefore, according to the spec, the write to `c` is not necessarily visible to `threadTwo`.\r\n\r\n&gt; What if we remove variable c out of the equation? I&#39;m wondering if only b is guaranteed to be visible in threadTwo because it was inside the synchronization block.\r\n\r\nYes, see above.","title":"Synchronized and the scope of visibility","body":"<blockquote>\n  <p>Is it guaranteed that the code will break out of the while loop?</p>\n</blockquote>\n\n<p>No. The Java memory model is defined in terms of \"<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5\" rel=\"nofollow\">happens before</a>\" relationships:</p>\n\n<blockquote>\n  <p>Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.</p>\n</blockquote>\n\n<p>The spec goes on to say:</p>\n\n<blockquote>\n  <p>If an action x synchronizes-with a following action y, then we also have hb(x, y).</p>\n</blockquote>\n\n<p>where <code>hb</code> stands for happens-before, and</p>\n\n<blockquote>\n  <p>An unlock action on monitor m synchronizes-with all subsequent lock actions on m (where \"subsequent\" is defined according to the synchronization order).</p>\n</blockquote>\n\n<p>Also note that:</p>\n\n<blockquote>\n  <p>If hb(x, y) and hb(y, z), then hb(x, z).</p>\n</blockquote>\n\n<p>So in your example, the <code>synchronized(lock)</code> around <code>b</code> will establish a happens-before relationship for the following read, and thus the value of <code>b</code> is guaranteed to be visible in other threads that also use <code>synchronized(lock)</code>. Explicitly, </p>\n\n<pre><code>hb(write to b in threadOne, unlock in threadOne) AND \nhb(unlock in threadOne, lock in threadTwo) AND \nhb(lock in threadTwo, read from a in threadTwo) IMPLIES \nhb(write to b in threadOne, read from b in threadTwo) \n</code></pre>\n\n<p>Similarly, <code>a</code> will be guaranteed to be visible to the other thread. Explicitly,</p>\n\n<pre><code>hb(write to a in threadOne, lock in threadOne) AND \nhb(lock in threadOne, unlock in threadOne) AND \nhb(unlock in threadOne, lock in threadTwo) AND \nhb(lock in threadTwo, read a in threadTwo) IMPLIES \nhb(write to a in threadOne, read a in threadTwo). \n</code></pre>\n\n<p>The write and then subsequent read of <code>c</code> does not have a happens-before relationship, so therefore, according to the spec, the write to <code>c</code> is not necessarily visible to <code>threadTwo</code>.</p>\n\n<blockquote>\n  <p>What if we remove variable c out of the equation? I'm wondering if only b is guaranteed to be visible in threadTwo because it was inside the synchronization block.</p>\n</blockquote>\n\n<p>Yes, see above.</p>\n"}],"owner":{"account_id":1479481,"reputation":521,"user_id":1389177,"accept_rate":100,"display_name":"StrangeLoop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1068,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14329186,"answer_count":2,"score":3,"last_activity_date":1642361141,"creation_date":1358208395,"question_id":14329064,"body_markdown":"I&#39;ve been reading up on Java concurrency and had forgot the fact that synchronization blocks in two threads using the same lock also affect the visibility of variables, even though they were not defined as &quot;volatile&quot;. If I have code like this\r\n\r\n\r\n    Object lock = new Object();\r\n    boolean a = false, b = false, c = false;\r\n\r\n    void threadOne() {\r\n\r\n       a = true;\r\n       synchronized(lock) {\r\n          b = true;\r\n       }\r\n       c = true;\r\n\r\n    }\r\n\r\n    void threadTwo() {\r\n\r\n       while (true) {\r\n          synchronized(lock) {\r\n             if (a &amp;&amp; b &amp;&amp; c) break;\r\n          }\r\n       } \r\n\r\n    }\r\n\r\n... and threadOne and threadTwo will be called by different threads:\r\n\r\n1. Is it guaranteed that the code will break out of the while loop? \r\n\r\n2. What if we remove variable c out of the equation? I&#39;m wondering if only b is guaranteed to be visible in threadTwo because it was inside the synchronization block.","title":"Synchronized and the scope of visibility","body":"<p>I've been reading up on Java concurrency and had forgot the fact that synchronization blocks in two threads using the same lock also affect the visibility of variables, even though they were not defined as \"volatile\". If I have code like this</p>\n\n<pre><code>Object lock = new Object();\nboolean a = false, b = false, c = false;\n\nvoid threadOne() {\n\n   a = true;\n   synchronized(lock) {\n      b = true;\n   }\n   c = true;\n\n}\n\nvoid threadTwo() {\n\n   while (true) {\n      synchronized(lock) {\n         if (a &amp;&amp; b &amp;&amp; c) break;\n      }\n   } \n\n}\n</code></pre>\n\n<p>... and threadOne and threadTwo will be called by different threads:</p>\n\n<ol>\n<li><p>Is it guaranteed that the code will break out of the while loop? </p></li>\n<li><p>What if we remove variable c out of the equation? I'm wondering if only b is guaranteed to be visible in threadTwo because it was inside the synchronization block.</p></li>\n</ol>\n"},{"tags":["java","android","kotlin","datetimepicker"],"comments":[{"owner":{"account_id":2666382,"reputation":745,"user_id":2304741,"accept_rate":75,"display_name":"Sandeep Singh"},"score":0,"creation_date":1642319819,"post_id":70728226,"comment_id":125035836,"body_markdown":"Method is expecting value from 1-12 and you are sending in 0 for January. If you increment the value by one which is being passed to the method, it should resolve the issue.","body":"Method is expecting value from 1-12 and you are sending in 0 for January. If you increment the value by one which is being passed to the method, it should resolve the issue."},{"owner":{"account_id":19638072,"reputation":172,"user_id":14374896,"display_name":"madhall"},"score":0,"creation_date":1642321000,"post_id":70728226,"comment_id":125036000,"body_markdown":"The value 0 is being provided by Java through the DateTimePicker at this point the app crashes -                     val currentMonth = YearMonth.of(\n                        calendar.get(java.util.Calendar.YEAR),\n                        calendar.get(java.util.Calendar.MONTH)\n                    )","body":"The value 0 is being provided by Java through the DateTimePicker at this point the app crashes -                     val currentMonth = YearMonth.of(                         calendar.get(java.util.Calendar.YEAR),                         calendar.get(java.util.Calendar.MONTH)                     )"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1642328359,"post_id":70728226,"comment_id":125037257,"body_markdown":"You shouldn&#39;t use `Calendar`. It&#39;s obsolete, and also confusing, because it&#39;s the cause of the problem here.","body":"You shouldn&#39;t use <code>Calendar</code>. It&#39;s obsolete, and also confusing, because it&#39;s the cause of the problem here."},{"owner":{"account_id":19638072,"reputation":172,"user_id":14374896,"display_name":"madhall"},"score":0,"creation_date":1642334969,"post_id":70728226,"comment_id":125038549,"body_markdown":"Any alternate that you suggest I can explore? Is java.time the right one to use? sorry I am new to this and hacking my way here","body":"Any alternate that you suggest I can explore? Is java.time the right one to use? sorry I am new to this and hacking my way here"}],"answers":[{"tags":[],"owner":{"account_id":23950832,"reputation":101,"user_id":17942447,"display_name":"Eitan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642360789,"creation_date":1642360789,"answer_id":70733386,"question_id":70728226,"body_markdown":"I would use LocalDateTime. For example `val month = LocalDateTime.now().getMonth()`\r\nor `val month = LocalDateTime.now().getMonthValue()` which returns the month as an int from 1 to 12\r\n\r\nref: https://developer.android.com/reference/kotlin/java/time/LocalDateTime","title":"App crashes on using DateTime picker - Invalid value for MonthOfYear (valid values 1 - 12): 0","body":"<p>I would use LocalDateTime. For example <code>val month = LocalDateTime.now().getMonth()</code>\nor <code>val month = LocalDateTime.now().getMonthValue()</code> which returns the month as an int from 1 to 12</p>\n<p>ref: <a href=\"https://developer.android.com/reference/kotlin/java/time/LocalDateTime\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/java/time/LocalDateTime</a></p>\n"}],"owner":{"account_id":19638072,"reputation":172,"user_id":14374896,"display_name":"madhall"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70733386,"answer_count":1,"score":0,"last_activity_date":1642360789,"creation_date":1642319391,"question_id":70728226,"body_markdown":"I have been using the DateTime picker without any issue for my Kotlin based android app, until it was bought to my notice that on using the DateTime picker the app is crashing. On further testing I relaised it is primarily crashing for the month of January with the below error being highlighted. I tried by moving from Java 1.8 to 1.7 but then i loose other functionalities in the app... any suggestions on how I can overcome this issue? This seems to be a know issue but I am not able to find a cause/proper solution\r\n\r\n\r\nThe app crashes on getting YearMonth from the calendar\r\n\r\n                val currentMonth = YearMonth.of(\r\n                    calendar.get(java.util.Calendar.YEAR),\r\n                    calendar.get(java.util.Calendar.MONTH)\r\n                )\r\n\r\n    Fatal Exception: java.time.DateTimeException: Invalid value for MonthOfYear (valid values 1 - 12): 0\r\n       at java.time.temporal.ValueRange.checkValidValue(ValueRange.java:311)\r\n       at java.time.temporal.ChronoField.checkValidValue(ChronoField.java:730)\r\n       at java.time.YearMonth.of(YearMonth.java:221)\r\n       at in.latom.latom.MainActivity.onCreate$lambda-11$lambda-10(MainActivity.kt:505)\r\n       at in.latom.latom.MainActivity.$r8$lambda$fB3ERyY00fXDUSdrgD0tpQQiN-Y()\r\n       at in.latom.latom.MainActivity$$ExternalSyntheticLambda11.onDateSet(:8)\r\n       at android.app.DatePickerDialog.onClick(DatePickerDialog.java:173)\r\n       at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:188)\r\n       at android.os.Handler.dispatchMessage(Handler.java:106)\r\n       at android.os.Looper.loop(Looper.java:246)\r\n       at android.app.ActivityThread.main(ActivityThread.java:8595)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n\r\n\r\n","title":"App crashes on using DateTime picker - Invalid value for MonthOfYear (valid values 1 - 12): 0","body":"<p>I have been using the DateTime picker without any issue for my Kotlin based android app, until it was bought to my notice that on using the DateTime picker the app is crashing. On further testing I relaised it is primarily crashing for the month of January with the below error being highlighted. I tried by moving from Java 1.8 to 1.7 but then i loose other functionalities in the app... any suggestions on how I can overcome this issue? This seems to be a know issue but I am not able to find a cause/proper solution</p>\n<p>The app crashes on getting YearMonth from the calendar</p>\n<pre><code>            val currentMonth = YearMonth.of(\n                calendar.get(java.util.Calendar.YEAR),\n                calendar.get(java.util.Calendar.MONTH)\n            )\n\nFatal Exception: java.time.DateTimeException: Invalid value for MonthOfYear (valid values 1 - 12): 0\n   at java.time.temporal.ValueRange.checkValidValue(ValueRange.java:311)\n   at java.time.temporal.ChronoField.checkValidValue(ChronoField.java:730)\n   at java.time.YearMonth.of(YearMonth.java:221)\n   at in.latom.latom.MainActivity.onCreate$lambda-11$lambda-10(MainActivity.kt:505)\n   at in.latom.latom.MainActivity.$r8$lambda$fB3ERyY00fXDUSdrgD0tpQQiN-Y()\n   at in.latom.latom.MainActivity$$ExternalSyntheticLambda11.onDateSet(:8)\n   at android.app.DatePickerDialog.onClick(DatePickerDialog.java:173)\n   at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:188)\n   at android.os.Handler.dispatchMessage(Handler.java:106)\n   at android.os.Looper.loop(Looper.java:246)\n   at android.app.ActivityThread.main(ActivityThread.java:8595)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n</code></pre>\n"},{"tags":["java","multithreading","lambda"],"comments":[{"owner":{"account_id":20349986,"reputation":11,"user_id":14926876,"display_name":"nquantum"},"score":0,"creation_date":1642360328,"post_id":70733310,"comment_id":125044740,"body_markdown":"How I can fix it tho? I saw someones code that has 1:1 this code and it doesnt error.","body":"How I can fix it tho? I saw someones code that has 1:1 this code and it doesnt error."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1642360521,"post_id":70733310,"comment_id":125044791,"body_markdown":"&quot;*I saw someones code that has 1:1 this code and it doesnt error*&quot; that is very unlikely. Please double-check it and provide link to that resource. You could see *similar* code where lamba/local/anonymous class can use local variable to change some *property* of object (like `person.setName(&quot;Adam&quot;);`) held by variable, but it can&#39;t *reassign* new value to local variable.","body":"&quot;<i>I saw someones code that has 1:1 this code and it doesnt error</i>&quot; that is very unlikely. Please double-check it and provide link to that resource. You could see <i>similar</i> code where lamba/local/anonymous class can use local variable to change some <i>property</i> of object (like <code>person.setName(&quot;Adam&quot;);</code>) held by variable, but it can&#39;t <i>reassign</i> new value to local variable."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":1,"creation_date":1642360568,"post_id":70733310,"comment_id":125044807,"body_markdown":"Also see: https://www.baeldung.com/java-effectively-final","body":"Also see: <a href=\"https://www.baeldung.com/java-effectively-final\" rel=\"nofollow noreferrer\">baeldung.com/java-effectively-final</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1642360942,"post_id":70733310,"comment_id":125044882,"body_markdown":"There are few ways around it, but picking proper solution would require more information about what you are trying to do. For instance instead of `int` you could use `AtomicInteger` which provides *methods* to modify/read its *state* (integer value).","body":"There are few ways around it, but picking proper solution would require more information about what you are trying to do. For instance instead of <code>int</code> you could use <code>AtomicInteger</code> which provides <i>methods</i> to modify/read its <i>state</i> (integer value)."}],"owner":{"account_id":20349986,"reputation":11,"user_id":14926876,"display_name":"nquantum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642360449,"answer_count":0,"score":0,"last_activity_date":1642360280,"creation_date":1642360098,"question_id":70733310,"body_markdown":"When I try to increment &quot;e&quot; in lambda expression, it gives me an &quot;Variable used in lambda expression should be final or effectively final&quot; error.\r\nHere is the code:\r\n\r\n```java\r\nint e = 0;\r\nnew Thread(() -&gt; {\r\n    e++;\r\n});\r\n```\r\nPlease help me. Thank you","title":"Variable used in lambda expression should be final or effectively final JAVA","body":"<p>When I try to increment &quot;e&quot; in lambda expression, it gives me an &quot;Variable used in lambda expression should be final or effectively final&quot; error.\nHere is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int e = 0;\nnew Thread(() -&gt; {\n    e++;\n});\n</code></pre>\n<p>Please help me. Thank you</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":17132282,"reputation":23,"user_id":12398124,"display_name":"Nick Esposito"},"score":0,"creation_date":1644246381,"post_id":70733282,"comment_id":125547352,"body_markdown":"I&#39;ve been getting the same thing under the same circumstances, going from a lower SDKVersion to 31. In my case (a Wear OS watchface), it&#39;s because the user has selected a time-related complication (world clock, day countdown, alarm, or any other of options); the code then tries to pull the icon/name to display in the settings for the complication.","body":"I&#39;ve been getting the same thing under the same circumstances, going from a lower SDKVersion to 31. In my case (a Wear OS watchface), it&#39;s because the user has selected a time-related complication (world clock, day countdown, alarm, or any other of options); the code then tries to pull the icon/name to display in the settings for the complication."},{"owner":{"account_id":17132282,"reputation":23,"user_id":12398124,"display_name":"Nick Esposito"},"score":0,"creation_date":1644246766,"post_id":70733282,"comment_id":125547548,"body_markdown":"It all works fine on my actual watch (granted, it&#39;s a Wear 2.x watch), but on the emulator I get the warning and nothing appears for the icon/title.  I suspect it&#39;s either a bug in their Wear 3.0 (API 30) emulator, or an undisclosed library change in 3.0. It doesn&#39;t occur when I run the same code in an API 28 emulator.","body":"It all works fine on my actual watch (granted, it&#39;s a Wear 2.x watch), but on the emulator I get the warning and nothing appears for the icon/title.  I suspect it&#39;s either a bug in their Wear 3.0 (API 30) emulator, or an undisclosed library change in 3.0. It doesn&#39;t occur when I run the same code in an API 28 emulator."},{"owner":{"account_id":17132282,"reputation":23,"user_id":12398124,"display_name":"Nick Esposito"},"score":0,"creation_date":1644324150,"post_id":70733282,"comment_id":125571333,"body_markdown":"UPDATE: Whatever the root cause, it first appears when going to compileSdkVersion 30. I ran the Google sample complications-master and displayed it in Wear OS emulators built with API 28, 29 and 30; the error only appears when compileSdkVersion is 30 and above, and in the API 30 emulator.","body":"UPDATE: Whatever the root cause, it first appears when going to compileSdkVersion 30. I ran the Google sample complications-master and displayed it in Wear OS emulators built with API 28, 29 and 30; the error only appears when compileSdkVersion is 30 and above, and in the API 30 emulator."},{"owner":{"account_id":5760213,"reputation":203,"user_id":4546890,"display_name":"HendrikFrans"},"score":0,"creation_date":1675161558,"post_id":70733282,"comment_id":132864387,"body_markdown":"This later question seems related (https://stackoverflow.com/questions/73300846/cannot-find-complication-icon-on-galaxy-watch-4) and its answer may help you.","body":"This later question seems related (<a href=\"https://stackoverflow.com/questions/73300846/cannot-find-complication-icon-on-galaxy-watch-4\" title=\"cannot find complication icon on galaxy watch 4\">stackoverflow.com/questions/73300846/&hellip;</a>) and its answer may help you."}],"owner":{"account_id":17132282,"reputation":23,"user_id":12398124,"display_name":"Nick Esposito"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642359880,"creation_date":1642359880,"question_id":70733282,"body_markdown":"Sometime in the last month or so, when I run my project in the emulator, somewhere in the Run window this appears in red:\r\n\r\n    E/Icon: Unable to find pkg=com.google.android.deskclock for icon Icon(typ=RESOURCE pkg=com.google.android.deskclock id=0x7f0800ed)\r\n    android.content.pm.PackageManager$NameNotFoundException: com.google.android.deskclock\r\n        at android.app.ApplicationPackageManager.getApplicationInfoAsUser(ApplicationPackageManager.java:423)\r\n        at android.app.ApplicationPackageManager.getApplicationInfo(ApplicationPackageManager.java:412)\r\n        at android.graphics.drawable.Icon.loadDrawableInner(Icon.java:366)\r\n        at android.graphics.drawable.Icon.loadDrawable(Icon.java:334)\r\n        at android.graphics.drawable.Icon$LoadDrawableTask.run(Icon.java:998)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n\r\nThe app still runs without any other issue.\r\n\r\nMy project (it&#39;s a WearOS project) doesn&#39;t reference or use anything like &quot;deskclock&quot;; the only change I&#39;ve made is upping the targetSdkVersion and compileSdkVersion from 29 to 31.\r\n\r\nDoes anyone have any idea where this could be coming from?\r\n\r\nFor reference, here are my dependencies:\r\n\r\n    dependencies {\r\n    compileOnly &#39;com.google.android.wearable:wearable:2.8.1&#39;\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.google.android.gms:play-services-wearable:17.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;com.google.android.support:wearable:2.8.1&#39;\r\n\r\n    implementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.core:core:1.7.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v13:1.0.0&#39;\r\n    implementation &#39;androidx.preference:preference:1.1.1&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n    implementation &#39;androidx.wear:wear:1.2.0&#39;\r\n\r\n    implementation &#39;com.squareup.okhttp3:okhttp:5.0.0-alpha.2&#39;\r\n\r\n    implementation &quot;com.android.billingclient:billing:4.0.0&quot;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.0.3&#39;)\r\n\r\n    // Declare the dependencies for the Crashlytics and Analytics libraries\r\n    implementation &#39;com.google.firebase:firebase-crashlytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    }\r\n\r\n","title":"Strange &quot;deskclock&quot; error started appearing in my app&#39;s run log","body":"<p>Sometime in the last month or so, when I run my project in the emulator, somewhere in the Run window this appears in red:</p>\n<pre><code>E/Icon: Unable to find pkg=com.google.android.deskclock for icon Icon(typ=RESOURCE pkg=com.google.android.deskclock id=0x7f0800ed)\nandroid.content.pm.PackageManager$NameNotFoundException: com.google.android.deskclock\n    at android.app.ApplicationPackageManager.getApplicationInfoAsUser(ApplicationPackageManager.java:423)\n    at android.app.ApplicationPackageManager.getApplicationInfo(ApplicationPackageManager.java:412)\n    at android.graphics.drawable.Icon.loadDrawableInner(Icon.java:366)\n    at android.graphics.drawable.Icon.loadDrawable(Icon.java:334)\n    at android.graphics.drawable.Icon$LoadDrawableTask.run(Icon.java:998)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>The app still runs without any other issue.</p>\n<p>My project (it's a WearOS project) doesn't reference or use anything like &quot;deskclock&quot;; the only change I've made is upping the targetSdkVersion and compileSdkVersion from 29 to 31.</p>\n<p>Does anyone have any idea where this could be coming from?</p>\n<p>For reference, here are my dependencies:</p>\n<pre><code>dependencies {\ncompileOnly 'com.google.android.wearable:wearable:2.8.1'\n\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.google.android.gms:play-services-wearable:17.1.0'\nimplementation 'com.google.android.gms:play-services-location:19.0.1'\nimplementation 'com.google.android.material:material:1.4.0'\nimplementation 'com.google.android.support:wearable:2.8.1'\n\nimplementation 'androidx.annotation:annotation:1.3.0'\nimplementation 'androidx.appcompat:appcompat:1.4.0'\nimplementation 'androidx.core:core:1.7.0'\nimplementation 'androidx.legacy:legacy-support-v13:1.0.0'\nimplementation 'androidx.preference:preference:1.1.1'\nimplementation 'androidx.recyclerview:recyclerview:1.2.1'\nimplementation 'androidx.wear:wear:1.2.0'\n\nimplementation 'com.squareup.okhttp3:okhttp:5.0.0-alpha.2'\n\nimplementation &quot;com.android.billingclient:billing:4.0.0&quot;\nimplementation platform('com.google.firebase:firebase-bom:29.0.3')\n\n// Declare the dependencies for the Crashlytics and Analytics libraries\nimplementation 'com.google.firebase:firebase-crashlytics'\nimplementation 'com.google.firebase:firebase-analytics'\n}\n</code></pre>\n"},{"tags":["java","ssl","certificate","httprequest"],"answers":[{"tags":[],"owner":{"account_id":10639082,"reputation":105,"user_id":7834822,"display_name":"Petar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642358153,"creation_date":1642358153,"answer_id":70733021,"question_id":70700788,"body_markdown":"The certificate is not supposed to leave the smart card. You need to use a PKCS#11 provider to instantiate your keystore. This answer could be a good starting point:\r\nhttps://stackoverflow.com/questions/4833989/java-access-token-pkcs11-not-found-provider/40956460#40956460","title":"TaxCore - request token using a smart card certificate","body":"<p>The certificate is not supposed to leave the smart card. You need to use a PKCS#11 provider to instantiate your keystore. This answer could be a good starting point:\n<a href=\"https://stackoverflow.com/questions/4833989/java-access-token-pkcs11-not-found-provider/40956460#40956460\">Java Access Token PKCS11 Not found Provider</a></p>\n"}],"owner":{"account_id":7568888,"reputation":109,"user_id":5743452,"accept_rate":83,"display_name":"Bosko Sinobad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642358153,"creation_date":1642095357,"question_id":70700788,"body_markdown":"The app I am trying to make needs to request a token from the TaxCore server by providing it with a personal certificate acquired from a smart card.\r\nI&#39;ve exported the certificate from the smart card, and named it buisness.cer.\r\nI also have 2 more certificates that I need in order to establish the https connection (`Sandbox SUF Issuing CA 1.cer` and `Sandbox SUF RCA.cer`).\r\n\r\nThe official documentation states the following steps:\r\n1. Create HTTPS GET request object\r\n2. Add HTTP headers &quot;Accept: application/json&quot; and &quot;Content-Type: application/json&quot;\r\n3. Read certificate from the PKI Applet\r\n4. Use the certificate from the PKI Applet to establish SSL/TLS connection\r\n5. Send a request to &quot;/api/v3/sdc/token&quot; operation on TaxCore.API web service.\r\n6. Read the response as JSON structure defined below\r\n\r\nI&#39;ve lost days trying to make this work, and tested all of the examples I could find around the internet, but despite my efforts I always end up with a 401 respponse.\r\n`{&quot;Message&quot;:&quot;Authorization has been denied for this request.&quot;}`\r\n\r\nCurrently I have this (non-working):\r\n\r\n\tprivate static X509Certificate getCert(String f) {\r\n\t\tInputStream is0;\r\n\t\ttry {\r\n\t\t\tCertificateFactory cf0 = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\t\tis0 = new FileInputStream(f);\r\n\t\t\tvar cer = (X509Certificate) cf0.generateCertificate(is0);\r\n\t\t\tis0.close();\r\n\t\t\treturn cer;\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (CertificateException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n    public final static void main(String[] args) throws Exception {\r\n    \t\tvar buisnessCert = getCert(&quot;someplace/buisness.cer&quot;);\r\n    \t\tvar issuingCaCert = getCert(&quot;someplace/issuingCa.cer&quot;);\r\n    \t\tvar rcaCert = getCert(&quot;someplace/rca.cer&quot;);\r\n    \t\tvar tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    \t\tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \t\tks.load(null);\r\n\t\t    ks.setCertificateEntry(&quot;issuingCaCert&quot;, issuingCaCert);\r\n\t\t    ks.setCertificateEntry(&quot;rcaCert&quot;, rcaCert);\r\n\t\t    ks.setCertificateEntry(&quot;buisnessCert&quot;, buisnessCert);\r\n    \t\ttmf.init(ks);\r\n    \t\tSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \t\tsslContext.init(null, tmf.getTrustManagers(), null);\r\n    \t\tSSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext, null, null,\r\n\t\t\t\tSSLConnectionSocketFactory.getDefaultHostnameVerifier());\r\n    \t\tCloseableHttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n    \t\ttry {\r\n    \t\t\tHttpGet httpget = new HttpGet(&quot;https://taxcoreservergoeshere/api/v3/sdc/token&quot;);\r\n\t\t\t    httpget.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t\t    httpget.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\tCloseableHttpResponse response = httpclient.execute(httpget);\r\n    \t\t\ttry {\r\n    \t\t\t\tHttpEntity entity = response.getEntity();\r\n    \t\t\t\tSystem.out.println(EntityUtils.toString(entity));\r\n    \t\t\t\tEntityUtils.consume(entity);\r\n    \t\t\t} finally {\r\n    \t\t\t\tresponse.close();\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\thttpclient.close();\r\n    \t\t}\r\n    \t}\r\n\r\nAny help is highly appreciated. ","title":"TaxCore - request token using a smart card certificate","body":"<p>The app I am trying to make needs to request a token from the TaxCore server by providing it with a personal certificate acquired from a smart card.\nI've exported the certificate from the smart card, and named it buisness.cer.\nI also have 2 more certificates that I need in order to establish the https connection (<code>Sandbox SUF Issuing CA 1.cer</code> and <code>Sandbox SUF RCA.cer</code>).</p>\n<p>The official documentation states the following steps:</p>\n<ol>\n<li>Create HTTPS GET request object</li>\n<li>Add HTTP headers &quot;Accept: application/json&quot; and &quot;Content-Type: application/json&quot;</li>\n<li>Read certificate from the PKI Applet</li>\n<li>Use the certificate from the PKI Applet to establish SSL/TLS connection</li>\n<li>Send a request to &quot;/api/v3/sdc/token&quot; operation on TaxCore.API web service.</li>\n<li>Read the response as JSON structure defined below</li>\n</ol>\n<p>I've lost days trying to make this work, and tested all of the examples I could find around the internet, but despite my efforts I always end up with a 401 respponse.\n<code>{&quot;Message&quot;:&quot;Authorization has been denied for this request.&quot;}</code></p>\n<p>Currently I have this (non-working):</p>\n<pre><code>private static X509Certificate getCert(String f) {\n    InputStream is0;\n    try {\n        CertificateFactory cf0 = CertificateFactory.getInstance(&quot;X.509&quot;);\n        is0 = new FileInputStream(f);\n        var cer = (X509Certificate) cf0.generateCertificate(is0);\n        is0.close();\n        return cer;\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (CertificateException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\npublic final static void main(String[] args) throws Exception {\n        var buisnessCert = getCert(&quot;someplace/buisness.cer&quot;);\n        var issuingCaCert = getCert(&quot;someplace/issuingCa.cer&quot;);\n        var rcaCert = getCert(&quot;someplace/rca.cer&quot;);\n        var tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(null);\n        ks.setCertificateEntry(&quot;issuingCaCert&quot;, issuingCaCert);\n        ks.setCertificateEntry(&quot;rcaCert&quot;, rcaCert);\n        ks.setCertificateEntry(&quot;buisnessCert&quot;, buisnessCert);\n        tmf.init(ks);\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, tmf.getTrustManagers(), null);\n        SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext, null, null,\n            SSLConnectionSocketFactory.getDefaultHostnameVerifier());\n        CloseableHttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n        try {\n            HttpGet httpget = new HttpGet(&quot;https://taxcoreservergoeshere/api/v3/sdc/token&quot;);\n            httpget.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n            httpget.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            CloseableHttpResponse response = httpclient.execute(httpget);\n            try {\n                HttpEntity entity = response.getEntity();\n                System.out.println(EntityUtils.toString(entity));\n                EntityUtils.consume(entity);\n            } finally {\n                response.close();\n            }\n        } finally {\n            httpclient.close();\n        }\n    }\n</code></pre>\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","string","input","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":23425047,"reputation":26,"user_id":17484626,"display_name":"Pratik Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642355815,"creation_date":1642355815,"answer_id":70732687,"question_id":70732566,"body_markdown":"`scan.nextDouble()` or `scan.nextInt()` doesn&#39;t finish the line so when `scan.nextLine()` comes simple you can say that it consume the leftover blank line so the String prints nothing. To consume the leftover line put `scan.nextLine()` before `String s = scan.nextLine();`","title":"The Java Scanner is not taking my String Input","body":"<p><code>scan.nextDouble()</code> or <code>scan.nextInt()</code> doesn't finish the line so when <code>scan.nextLine()</code> comes simple you can say that it consume the leftover blank line so the String prints nothing. To consume the leftover line put <code>scan.nextLine()</code> before <code>String s = scan.nextLine();</code></p>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642357746,"creation_date":1642357389,"answer_id":70732915,"question_id":70732566,"body_markdown":"Note that for the single line input `1 1.1 done` you shall get the output:\r\n\r\n```\r\nString:  done\r\nDouble: 1.1\r\nInt: 1\r\n```\r\nThat `done` is preceded in the output by a space character hints to you that scanner is consuming one token at a time. Checkout for example the documentation for [scan.nextInt][1] and [scan.nextLine][2]  \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#nextInt()\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#nextLine()","title":"The Java Scanner is not taking my String Input","body":"<p>Note that for the single line input <code>1 1.1 done</code> you shall get the output:</p>\n<pre><code>String:  done\nDouble: 1.1\nInt: 1\n</code></pre>\n<p>That <code>done</code> is preceded in the output by a space character hints to you that scanner is consuming one token at a time. Checkout for example the documentation for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">scan.nextInt</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">scan.nextLine</a></p>\n"}],"owner":{"account_id":23492792,"reputation":23,"user_id":17543608,"display_name":"Rhitam Chaudhury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732687,"answer_count":2,"score":0,"last_activity_date":1642357746,"creation_date":1642354855,"question_id":70732566,"body_markdown":"\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int i = scan.nextInt();\r\n        double d = scan.nextDouble();\r\n        String s = scan.nextLine();\r\n        \r\n\r\n        System.out.println(&quot;String: &quot; + s);\r\n        System.out.println(&quot;Double: &quot; + d);\r\n        System.out.println(&quot;Int: &quot; + i);\r\n    }\r\n\r\n\r\nHere is my code. It is compiled properly and no syntax error but I can&#39;t understand why my String input is not taken. As soon as I give the integer input and the double input, the output is coming as:\r\n\r\n**INPUT**\r\n\r\n42\r\n\r\n309.23\r\n\r\n**OUTPUT**\r\n\r\nString: \r\n\r\nDouble: 309.23\r\n\r\nInt: 42","title":"The Java Scanner is not taking my String Input","body":"<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int i = scan.nextInt();\n    double d = scan.nextDouble();\n    String s = scan.nextLine();\n    \n\n    System.out.println(&quot;String: &quot; + s);\n    System.out.println(&quot;Double: &quot; + d);\n    System.out.println(&quot;Int: &quot; + i);\n}\n</code></pre>\n<p>Here is my code. It is compiled properly and no syntax error but I can't understand why my String input is not taken. As soon as I give the integer input and the double input, the output is coming as:</p>\n<p><strong>INPUT</strong></p>\n<p>42</p>\n<p>309.23</p>\n<p><strong>OUTPUT</strong></p>\n<p>String:</p>\n<p>Double: 309.23</p>\n<p>Int: 42</p>\n"},{"tags":["java","switch-statement","java.util.scanner"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1642161456,"post_id":70710157,"comment_id":125003163,"body_markdown":"Welcome to Stackoverflow. This is a good start. Consider adding some if checks which check what you are required to check. Other than that it&#39;s hard to help you as it is not clear what part causes you problems.","body":"Welcome to Stackoverflow. This is a good start. Consider adding some if checks which check what you are required to check. Other than that it&#39;s hard to help you as it is not clear what part causes you problems."},{"owner":{"account_id":23939564,"reputation":3,"user_id":17932869,"display_name":"gamespec"},"score":0,"creation_date":1642161596,"post_id":70710157,"comment_id":125003209,"body_markdown":"Well, the problem for me is how to make it remember the number after it adds or remove the customer. So it adds 1 to 6 for example and not 5 again.","body":"Well, the problem for me is how to make it remember the number after it adds or remove the customer. So it adds 1 to 6 for example and not 5 again."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1642163027,"post_id":70710157,"comment_id":125003687,"body_markdown":"I assume `a` is your current queue size. Initially it&#39;s 5. Just add 1 to it on `ADD` like `a = a + 1` and similarly remove 1 on `REMOVE`. And before doing that check if you&#39;ve reached queue limits with an if statement (`if (a == 8) // print error` for example)","body":"I assume <code>a</code> is your current queue size. Initially it&#39;s 5. Just add 1 to it on <code>ADD</code> like <code>a = a + 1</code> and similarly remove 1 on <code>REMOVE</code>. And before doing that check if you&#39;ve reached queue limits with an if statement (<code>if (a == 8) &#47;&#47; print error</code> for example)"}],"answers":[{"tags":[],"owner":{"account_id":3023551,"reputation":688,"user_id":2564032,"display_name":"Vasif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642168764,"creation_date":1642168764,"answer_id":70711727,"question_id":70710157,"body_markdown":"I think you need somehting like below:\r\n\r\n    public static void main(String[] args) {\r\n        boolean isExitRequested = false;\r\n        int queueSize = 5;\r\n        System.out.println (&quot;This queue has &quot;+queueSize+&quot; people in it at the moment.&quot;);\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        while(scan.hasNextLine()){\r\n            String input = scan.nextLine();\r\n            switch (input){\r\n                case &quot;ADD&quot;:\r\n                    System.out.println (&quot;This queue has &quot; + queueSize++ + &quot; people in it at the moment.&quot;);\r\n                    if (queueSize &gt; 8) {\r\n                        System.out.println(&quot;This queue is too big&quot;);\r\n                    }\r\n                    break;\r\n                case &quot;REMOVE&quot;:\r\n                    if (queueSize == 0){\r\n                        System.out.println(&quot;There&#39;s nobody in the queue.&quot;);\r\n                    } else {\r\n                        queueSize--;\r\n                    }\r\n                    break;\r\n                case &quot;EXIT&quot;:\r\n                    isExitRequested = true;\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Unknown input: &quot;+input);\r\n            }\r\n\r\n            if(isExitRequested)\r\n                break;\r\n        }\r\n\r\n    }","title":"How to make a simulation of a shop queue with switch statement and scan utility?","body":"<p>I think you need somehting like below:</p>\n<pre><code>public static void main(String[] args) {\n    boolean isExitRequested = false;\n    int queueSize = 5;\n    System.out.println (&quot;This queue has &quot;+queueSize+&quot; people in it at the moment.&quot;);\n    Scanner scan = new Scanner(System.in);\n\n    while(scan.hasNextLine()){\n        String input = scan.nextLine();\n        switch (input){\n            case &quot;ADD&quot;:\n                System.out.println (&quot;This queue has &quot; + queueSize++ + &quot; people in it at the moment.&quot;);\n                if (queueSize &gt; 8) {\n                    System.out.println(&quot;This queue is too big&quot;);\n                }\n                break;\n            case &quot;REMOVE&quot;:\n                if (queueSize == 0){\n                    System.out.println(&quot;There's nobody in the queue.&quot;);\n                } else {\n                    queueSize--;\n                }\n                break;\n            case &quot;EXIT&quot;:\n                isExitRequested = true;\n                break;\n            default:\n                System.out.println(&quot;Unknown input: &quot;+input);\n        }\n\n        if(isExitRequested)\n            break;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23939564,"reputation":3,"user_id":17932869,"display_name":"gamespec"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70711727,"answer_count":1,"score":0,"last_activity_date":1642356402,"creation_date":1642161132,"question_id":70710157,"body_markdown":"I have to make a Java program using scan, switch and cases in which I can add one customer with a command &quot;add&quot; and remove one customer with a command &quot;remove&quot;. \r\n\r\nThe default number of customers in queue is 5. If the count of customers gets larger than 8 it prints out &quot;This queue is too big.&quot; If there is less than 1 customer it prints out &quot;There&#39;s nobody in the queue.&quot;\r\n\r\nI tried to do some of the code, but I have no idea what to do next.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class fronta {\r\n    public static void main(String[] args) {\r\n    \r\n    System.out.println (&quot;This queue has 5 people in it at the moment.&quot;);\t\r\n    Scanner scan = new Scanner(System.in);\r\n\tboolean x = true;\r\n\tString b = &quot;ADD&quot;;\r\n\tint a = 5;\r\n\tb = scan.nextLine();\r\n    while(x){\r\n    switch (b) {\r\n    case &quot;ADD&quot;:\r\n    \t\r\n    System.out.println (&quot;This queue has &quot; + a + &quot; people in it at the moment.&quot;);\r\n    b = scan.nextLine();\r\n    System.out.println (&quot;This queue is too big&quot;);\r\n    \tbreak;\r\n    \r\n    default:\r\n\tcase &quot;EXIT&quot;:\r\n\t\tSystem.out.println(&quot;End of simulation.&quot;);\r\n\t\tx = false;\r\n\t\tbreak;\t\r\n   }\r\n  }\r\n }\r\n}\r\n```","title":"How to make a simulation of a shop queue with switch statement and scan utility?","body":"<p>I have to make a Java program using scan, switch and cases in which I can add one customer with a command &quot;add&quot; and remove one customer with a command &quot;remove&quot;.</p>\n<p>The default number of customers in queue is 5. If the count of customers gets larger than 8 it prints out &quot;This queue is too big.&quot; If there is less than 1 customer it prints out &quot;There's nobody in the queue.&quot;</p>\n<p>I tried to do some of the code, but I have no idea what to do next.</p>\n<pre><code>import java.util.Scanner;\n\npublic class fronta {\n    public static void main(String[] args) {\n    \n    System.out.println (&quot;This queue has 5 people in it at the moment.&quot;);    \n    Scanner scan = new Scanner(System.in);\n    boolean x = true;\n    String b = &quot;ADD&quot;;\n    int a = 5;\n    b = scan.nextLine();\n    while(x){\n    switch (b) {\n    case &quot;ADD&quot;:\n        \n    System.out.println (&quot;This queue has &quot; + a + &quot; people in it at the moment.&quot;);\n    b = scan.nextLine();\n    System.out.println (&quot;This queue is too big&quot;);\n        break;\n    \n    default:\n    case &quot;EXIT&quot;:\n        System.out.println(&quot;End of simulation.&quot;);\n        x = false;\n        break;  \n   }\n  }\n }\n}\n</code></pre>\n"},{"tags":["java","spring","model-view-controller","view","controller"],"comments":[{"owner":{"account_id":23750428,"reputation":11,"user_id":17767256,"display_name":"programmazione"},"score":0,"creation_date":1642376326,"post_id":70732772,"comment_id":125048098,"body_markdown":"What am I doing wrong? Because the page is visible","body":"What am I doing wrong? Because the page is visible"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1642400783,"post_id":70732772,"comment_id":125051493,"body_markdown":"You are combining the wrong things. First I would strongly suggest to stop using JSP. That is pretty legacy and not really updated anymore (only maintenace). In your JSP you are also trying to use Thymeleaf, don&#39;t either stick with proper JSP (I suggested against it) or indeed do use Thymeleaf properly. As you are learning new technologies I would also strongly advice to use Spring Boot, which will save you a ton on setup.","body":"You are combining the wrong things. First I would strongly suggest to stop using JSP. That is pretty legacy and not really updated anymore (only maintenace). In your JSP you are also trying to use Thymeleaf, don&#39;t either stick with proper JSP (I suggested against it) or indeed do use Thymeleaf properly. As you are learning new technologies I would also strongly advice to use Spring Boot, which will save you a ton on setup."},{"owner":{"account_id":23750428,"reputation":11,"user_id":17767256,"display_name":"programmazione"},"score":0,"creation_date":1642441055,"post_id":70732772,"comment_id":125066411,"body_markdown":"Very first thing Thanks that you answered me. Thymeleaf I know I wrote it wrong. Can you give me an example or if you have an example on how to set up the page? Spring Boot not now, but thanks for the advice","body":"Very first thing Thanks that you answered me. Thymeleaf I know I wrote it wrong. Can you give me an example or if you have an example on how to set up the page? Spring Boot not now, but thanks for the advice"},{"owner":{"account_id":14265505,"reputation":55,"user_id":10304806,"display_name":"Soumik"},"score":0,"creation_date":1653026362,"post_id":70732772,"comment_id":127754512,"body_markdown":"Please post the code of helloController. You posted some xml code.","body":"Please post the code of helloController. You posted some xml code."}],"owner":{"account_id":23750428,"reputation":11,"user_id":17767256,"display_name":"programmazione"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642356390,"creation_date":1642356390,"question_id":70732772,"body_markdown":"premise: sorry for my english\r\n\r\nHi everyone, I&#39;m at the beginning and I&#39;m trying to take the first steps towards the world of Spring Mvc in Java. From the different tutorials they have come to create a page in jsp, to create a page in the controller. But I can&#39;t get the message from the controller to the view.\r\n\r\nhello.jsp\r\n```\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;\r\n    &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;JSP Page due&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\r\n        &lt;h2&gt;${nome}&lt;/h2&gt;\r\n        &lt;h1&gt;Message : &lt;span th:text=&quot;${nome}&quot;&gt;&lt;/span&gt;&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\ndispatcher-servlet.xml\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:context = &quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\r\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\r\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\r\n http://www.springframework.org/schema/context \r\n   http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\r\n\r\n &lt;context:component-scan base-package = &quot;controllerHello&quot; /&gt;\r\n    \r\n    &lt;!--\r\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\r\n    for the index controller we are using ParameterizableViewController, so we must\r\n    define an explicit mapping for it.\r\n    --&gt;\r\n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n        &lt;property name=&quot;mappings&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\r\n                &lt;prop key=&quot;hello.htm&quot;&gt;helloController&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n          p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\r\n\r\n    &lt;!--\r\n    The index controller.\r\n    --&gt;\r\n    &lt;bean name=&quot;indexController&quot; \r\n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n          p:viewName=&quot;index&quot; /&gt;\r\n&lt;bean name=&quot;helloController&quot; \r\n      class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n          p:viewName=&quot;hello&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nweb.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;\r\n            30\r\n        &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;hello.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nhelloController.java\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:context = &quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\r\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\r\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\r\n http://www.springframework.org/schema/context \r\n   http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\r\n\r\n &lt;context:component-scan base-package = &quot;controllerHello&quot; /&gt;\r\n    \r\n    &lt;!--\r\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\r\n    for the index controller we are using ParameterizableViewController, so we must\r\n    define an explicit mapping for it.\r\n    --&gt;\r\n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n        &lt;property name=&quot;mappings&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\r\n                &lt;prop key=&quot;hello.htm&quot;&gt;helloController&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n          p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\r\n\r\n    &lt;!--\r\n    The index controller.\r\n    --&gt;\r\n    &lt;bean name=&quot;indexController&quot; \r\n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n          p:viewName=&quot;index&quot; /&gt;\r\n&lt;bean name=&quot;helloController&quot; \r\n      class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n          p:viewName=&quot;hello&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n","title":"From controller to view hello in Java Spring Mvc 2022.0","body":"<p>premise: sorry for my english</p>\n<p>Hi everyone, I'm at the beginning and I'm trying to take the first steps towards the world of Spring Mvc in Java. From the different tutorials they have come to create a page in jsp, to create a page in the controller. But I can't get the message from the controller to the view.</p>\n<p>hello.jsp</p>\n<pre><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;\n    &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page due&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n        &lt;h2&gt;${nome}&lt;/h2&gt;\n        &lt;h1&gt;Message : &lt;span th:text=&quot;${nome}&quot;&gt;&lt;/span&gt;&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>dispatcher-servlet.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:context = &quot;http://www.springframework.org/schema/context&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\n http://www.springframework.org/schema/context \n   http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\n\n &lt;context:component-scan base-package = &quot;controllerHello&quot; /&gt;\n    \n    &lt;!--\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\n    for the index controller we are using ParameterizableViewController, so we must\n    define an explicit mapping for it.\n    --&gt;\n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\n        &lt;property name=&quot;mappings&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\n                &lt;prop key=&quot;hello.htm&quot;&gt;helloController&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\n          p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\n\n    &lt;!--\n    The index controller.\n    --&gt;\n    &lt;bean name=&quot;indexController&quot; \n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;index&quot; /&gt;\n&lt;bean name=&quot;helloController&quot; \n      class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;hello&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;hello.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>helloController.java</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:context = &quot;http://www.springframework.org/schema/context&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\n http://www.springframework.org/schema/context \n   http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\n\n &lt;context:component-scan base-package = &quot;controllerHello&quot; /&gt;\n    \n    &lt;!--\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\n    for the index controller we are using ParameterizableViewController, so we must\n    define an explicit mapping for it.\n    --&gt;\n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\n        &lt;property name=&quot;mappings&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\n                &lt;prop key=&quot;hello.htm&quot;&gt;helloController&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\n          p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\n\n    &lt;!--\n    The index controller.\n    --&gt;\n    &lt;bean name=&quot;indexController&quot; \n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;index&quot; /&gt;\n&lt;bean name=&quot;helloController&quot; \n      class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;hello&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","generics","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642356270,"creation_date":1642356270,"answer_id":70732751,"question_id":70731092,"body_markdown":"Just use the singleton design pattern\r\n\r\n    public class Options extends Saveable {\r\n        private String example_property;\r\n        private int example_property2;\r\n\r\n        private Options instance = new Options();\r\n\r\n        private Options() {\r\n            super(&quot;filepath.ending&quot;);\r\n        }\r\n        \r\n        public static Options getInstance(){\r\n          return this.instance;\r\n        }\r\n\r\n    }\r\n\r\nThen in saving utility call like follows\r\n\r\n    SaveManager.load(Options.getInstance());","title":"set constructor requirements or static method requirement for abstract class","body":"<p>Just use the singleton design pattern</p>\n<pre><code>public class Options extends Saveable {\n    private String example_property;\n    private int example_property2;\n\n    private Options instance = new Options();\n\n    private Options() {\n        super(&quot;filepath.ending&quot;);\n    }\n    \n    public static Options getInstance(){\n      return this.instance;\n    }\n\n}\n</code></pre>\n<p>Then in saving utility call like follows</p>\n<pre><code>SaveManager.load(Options.getInstance());\n</code></pre>\n"}],"owner":{"account_id":22631013,"reputation":81,"user_id":16808363,"display_name":"Qrashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642356270,"creation_date":1642343988,"question_id":70731092,"body_markdown":"I have the following problem:\r\n\r\nI would like to have an abstract class or something of that type that, when extended will be able to get loaded by my FileLoader. Every class that extends this type will be loaded at startup and there should be an easy way to access this loaded instance.\r\n&lt;br&gt; What I don&#39;t want to to is to have a big hashmap with the save path for each class that extends my &quot;Saveable&quot; type.\r\n\r\nI have this abstract class\r\n```java\r\npublic abstract class Saveable {\r\n    private String path;\r\n  \r\n    public String getPath() {\r\n        return path;\r\n    }\r\n\r\n    public Saveable(String path) {\r\n        this.path = path;\r\n    }\r\n}\r\n```\r\nAnd another class that extends Saveable\r\n```java\r\npublic class Options extends Saveable {\r\n    private String example_property;\r\n    private int example_property2;\r\n\r\n    public Options() {\r\n        super(&quot;filepath.ending&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNow in my saving utility, when I want to load such a class into java I use the following: ``SaveManager.load(Options.class);``. In my load method, I don&#39;t want to create a new instance of Options JUST TO get the path because calling ```new Options()``` will do a lot of other stuff and there is no guarantee that a Constructor with &quot;0 arguments&quot; exists.\r\n\r\nI could solve this problem by:\r\n* Setting a requirement for every class that extends Saveable to have a constructor that takes 1 bool arumgent (``bool generateNew``) so that I can call ``new Options(false)`` and it will make a new class without actually &quot;making a class&quot; so I can call ``new Options(false).getPath()`` and i will get the path for this Options class. &lt;br&gt; The problem is: I can&#39;t define requirements for a constructor.\r\n* Setting a requirement for every class that extends Saveable to provide a static function that returns the filepath, BUT: that&#39;s also not possible.\r\n\r\nAny ideas?","title":"set constructor requirements or static method requirement for abstract class","body":"<p>I have the following problem:</p>\n<p>I would like to have an abstract class or something of that type that, when extended will be able to get loaded by my FileLoader. Every class that extends this type will be loaded at startup and there should be an easy way to access this loaded instance.\n<br> What I don't want to to is to have a big hashmap with the save path for each class that extends my &quot;Saveable&quot; type.</p>\n<p>I have this abstract class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Saveable {\n    private String path;\n  \n    public String getPath() {\n        return path;\n    }\n\n    public Saveable(String path) {\n        this.path = path;\n    }\n}\n</code></pre>\n<p>And another class that extends Saveable</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Options extends Saveable {\n    private String example_property;\n    private int example_property2;\n\n    public Options() {\n        super(&quot;filepath.ending&quot;);\n    }\n}\n</code></pre>\n<p>Now in my saving utility, when I want to load such a class into java I use the following: <code>SaveManager.load(Options.class);</code>. In my load method, I don't want to create a new instance of Options JUST TO get the path because calling <code>new Options()</code> will do a lot of other stuff and there is no guarantee that a Constructor with &quot;0 arguments&quot; exists.</p>\n<p>I could solve this problem by:</p>\n<ul>\n<li>Setting a requirement for every class that extends Saveable to have a constructor that takes 1 bool arumgent (<code>bool generateNew</code>) so that I can call <code>new Options(false)</code> and it will make a new class without actually &quot;making a class&quot; so I can call <code>new Options(false).getPath()</code> and i will get the path for this Options class. <br> The problem is: I can't define requirements for a constructor.</li>\n<li>Setting a requirement for every class that extends Saveable to provide a static function that returns the filepath, BUT: that's also not possible.</li>\n</ul>\n<p>Any ideas?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642338433,"post_id":70729697,"comment_id":125039235,"body_markdown":"Why not just pass the Class as a literal, instead of its name as a String?","body":"Why not just pass the Class as a literal, instead of its name as a String?"},{"owner":{"account_id":21005149,"reputation":46,"user_id":15435130,"display_name":"Ryan van Vuure"},"score":0,"creation_date":1642354038,"post_id":70729697,"comment_id":125043173,"body_markdown":"This is not possible because i would need to instantiate the class with &quot;new&quot; right?\nAnd i can&#39;t do this outside of the function...","body":"This is not possible because i would need to instantiate the class with &quot;new&quot; right? And i can&#39;t do this outside of the function..."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1642356776,"post_id":70729697,"comment_id":125043821,"body_markdown":"Each class has a static member variable, named `class`, that holds a reference to the `Class` object, e.g. `us.ryphael.amongus.tasks.Download$startDownloadTaskRunnable.class`. So instead of passing the class name as a string, pass the `Class` object.","body":"Each class has a static member variable, named <code>class</code>, that holds a reference to the <code>Class</code> object, e.g. <code>us.ryphael.amongus.tasks.Download$startDownloadTaskRunnable.&zwnj;&#8203;class</code>. So instead of passing the class name as a string, pass the <code>Class</code> object."}],"owner":{"account_id":21005149,"reputation":46,"user_id":15435130,"display_name":"Ryan van Vuure"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642356097,"creation_date":1642333395,"question_id":70729697,"body_markdown":"i solved the problem with a $ instead of the . in the class path, so instead of: &quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot;\r\n&quot;us.ryphael.amongus.tasks.Download$startDownloadTaskRunnable&quot;\r\n(a &quot;$&quot; for a nested class)\r\n\r\n\r\nso i am making a amongus plugin for minecraft with java(but i don&#39;t think this matters for the question) and i want to give a class to every one of the values of an enum, but i don&#39;t want to make a new class when i &quot;instantiate&quot; the enum entry&#39;s. This is because i need to change the variables with witch i instantiate the class according to things that can change. (i don&#39;t know if anyone is going to get this explenation so please tell me if you don&#39;t)\r\nSo i tried to do this with Class.forName, so i can only give the class name to the enum entry and &quot;instantiate&quot; the class later, but the classes that i want to give to the enum are in another java class file and it gives me a ClassNotFoundException every time. (I think i am not searching for the class in the right way or it&#39;s just impossible to do this but i don&#39;t know).\r\n\r\nFor extra information:\r\n\r\n&quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot; is a class that implements the Runnable class\r\n\r\nand i only want to &quot;instantiate&quot; that class (with &quot;new&quot;) if i run the COMS_DOWNLOAD.runtask(DUMMYPLAYER) function because i need to give the class a player (&quot;DUMMYPLAYER&quot;) that can change.\r\n\r\nI hope you can help!\r\n\r\n\r\nThis is the full enum:\r\n\r\n    public enum ButtonTasks {\r\n\r\n    COMS_DOWNLOAD(&quot;coms_download&quot;, 14, 4, 30, 14, 4, 29, &quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot;);\r\n\r\n    private final Location button_location;\r\n    private final Location block_location;\r\n    private final Class runnable;\r\n    private final String naam;\r\n\r\n    ButtonTasks(String naam ,int button_x, int button_y, int button_z, int block_x, int block_y, int block_z, String runnableName){\r\n        this.naam = naam;\r\n        Class runnable1;\r\n        try {\r\n            runnable1 =Class.forName(runnableName);\r\n            Bukkit.getLogger().info(&quot;De task &quot; + naam + &quot; is geladen!&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n            runnable1 = null;\r\n            Bukkit.getLogger().warning(&quot;De class &quot; + runnableName + &quot; is niet gevonden! &quot; + naam + &quot; werkt nu niet!&quot;);\r\n        }\r\n\r\n        this.runnable = runnable1;\r\n        this.button_location = new Location(Bukkit.getWorld(&quot;world&quot;), button_x, button_y, button_z);\r\n        Block button = Bukkit.getWorld(&quot;world&quot;).getBlockAt(new Location(Bukkit.getWorld(&quot;world&quot;), button_x, button_y, button_z));\r\n        FaceAttachable fa = (FaceAttachable) button.getBlockData();\r\n        this.block_location = new Location(Bukkit.getWorld(&quot;world&quot;), block_x, block_y, block_z);\r\n    }\r\n\r\n    public void runTask(Player player){\r\n        Runnable runnable2;\r\n        if (runnable != null) {\r\n            try {\r\n                runnable2 = (Runnable) runnable.getDeclaredConstructor(Player.class).newInstance(player);\r\n            } catch (InstantiationException | IllegalAccessException | NoSuchMethodException | InvocationTargetException e) {\r\n                e.printStackTrace();\r\n                runnable2 = null;\r\n            }\r\n        }else{\r\n            runnable2 = null;\r\n        }\r\n        if (runnable2 != null) {\r\n            Bukkit.getScheduler().scheduleSyncDelayedTask(Amongus.get(), runnable2);\r\n        }else{\r\n            Bukkit.getLogger().warning(&quot;De runnable is niet gevonden! &quot; + naam + &quot; werkt nu niet!&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","title":"loading classes from other files with Class.forName (ClassNotFoundException)","body":"<p>i solved the problem with a $ instead of the . in the class path, so instead of: &quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot;\n&quot;us.ryphael.amongus.tasks.Download$startDownloadTaskRunnable&quot;\n(a &quot;$&quot; for a nested class)</p>\n<p>so i am making a amongus plugin for minecraft with java(but i don't think this matters for the question) and i want to give a class to every one of the values of an enum, but i don't want to make a new class when i &quot;instantiate&quot; the enum entry's. This is because i need to change the variables with witch i instantiate the class according to things that can change. (i don't know if anyone is going to get this explenation so please tell me if you don't)\nSo i tried to do this with Class.forName, so i can only give the class name to the enum entry and &quot;instantiate&quot; the class later, but the classes that i want to give to the enum are in another java class file and it gives me a ClassNotFoundException every time. (I think i am not searching for the class in the right way or it's just impossible to do this but i don't know).</p>\n<p>For extra information:</p>\n<p>&quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot; is a class that implements the Runnable class</p>\n<p>and i only want to &quot;instantiate&quot; that class (with &quot;new&quot;) if i run the COMS_DOWNLOAD.runtask(DUMMYPLAYER) function because i need to give the class a player (&quot;DUMMYPLAYER&quot;) that can change.</p>\n<p>I hope you can help!</p>\n<p>This is the full enum:</p>\n<pre><code>public enum ButtonTasks {\n\nCOMS_DOWNLOAD(&quot;coms_download&quot;, 14, 4, 30, 14, 4, 29, &quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot;);\n\nprivate final Location button_location;\nprivate final Location block_location;\nprivate final Class runnable;\nprivate final String naam;\n\nButtonTasks(String naam ,int button_x, int button_y, int button_z, int block_x, int block_y, int block_z, String runnableName){\n    this.naam = naam;\n    Class runnable1;\n    try {\n        runnable1 =Class.forName(runnableName);\n        Bukkit.getLogger().info(&quot;De task &quot; + naam + &quot; is geladen!&quot;);\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n        runnable1 = null;\n        Bukkit.getLogger().warning(&quot;De class &quot; + runnableName + &quot; is niet gevonden! &quot; + naam + &quot; werkt nu niet!&quot;);\n    }\n\n    this.runnable = runnable1;\n    this.button_location = new Location(Bukkit.getWorld(&quot;world&quot;), button_x, button_y, button_z);\n    Block button = Bukkit.getWorld(&quot;world&quot;).getBlockAt(new Location(Bukkit.getWorld(&quot;world&quot;), button_x, button_y, button_z));\n    FaceAttachable fa = (FaceAttachable) button.getBlockData();\n    this.block_location = new Location(Bukkit.getWorld(&quot;world&quot;), block_x, block_y, block_z);\n}\n\npublic void runTask(Player player){\n    Runnable runnable2;\n    if (runnable != null) {\n        try {\n            runnable2 = (Runnable) runnable.getDeclaredConstructor(Player.class).newInstance(player);\n        } catch (InstantiationException | IllegalAccessException | NoSuchMethodException | InvocationTargetException e) {\n            e.printStackTrace();\n            runnable2 = null;\n        }\n    }else{\n        runnable2 = null;\n    }\n    if (runnable2 != null) {\n        Bukkit.getScheduler().scheduleSyncDelayedTask(Amongus.get(), runnable2);\n    }else{\n        Bukkit.getLogger().warning(&quot;De runnable is niet gevonden! &quot; + naam + &quot; werkt nu niet!&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","rabbitmq"],"comments":[{"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"score":0,"creation_date":1642347971,"post_id":70731363,"comment_id":125041575,"body_markdown":"What is the output of line  `System.out.println(&quot;New application has arrived &#39;&quot; + message + &quot;&#39;&quot;);` ?","body":"What is the output of line  <code>System.out.println(&quot;New application has arrived &#39;&quot; + message + &quot;&#39;&quot;);</code> ?"},{"owner":{"account_id":21597629,"reputation":66,"user_id":15926316,"display_name":"CupidONO"},"score":0,"creation_date":1642348114,"post_id":70731363,"comment_id":125041616,"body_markdown":"@Sukhmeet Sethi\nOutput is New application has arrived   stored.So basically blanco because globalmessage is also &quot;&quot;.Nothing ends up stored in it.","body":"@Sukhmeet Sethi Output is New application has arrived   stored.So basically blanco because globalmessage is also &quot;&quot;.Nothing ends up stored in it."},{"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"score":0,"creation_date":1642348446,"post_id":70731363,"comment_id":125041691,"body_markdown":"So reason I asked that because I wanted to first check if you are getting the message at all in your class or not?","body":"So reason I asked that because I wanted to first check if you are getting the message at all in your class or not?"},{"owner":{"account_id":21597629,"reputation":66,"user_id":15926316,"display_name":"CupidONO"},"score":0,"creation_date":1642348702,"post_id":70731363,"comment_id":125041752,"body_markdown":"The message arrives but i am not able to store it in that variable to use it for something else.I am only able to print it inside of delivercallback.","body":"The message arrives but i am not able to store it in that variable to use it for something else.I am only able to print it inside of delivercallback."},{"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"score":0,"creation_date":1642351908,"post_id":70731363,"comment_id":125042551,"body_markdown":"Ok then can you pls try setting it in globalMessage as following: `globalMessage=new String(arg);` in setMsg method.","body":"Ok then can you pls try setting it in globalMessage as following: <code>globalMessage=new String(arg);</code> in setMsg method."},{"owner":{"account_id":21597629,"reputation":66,"user_id":15926316,"display_name":"CupidONO"},"score":0,"creation_date":1642352950,"post_id":70731363,"comment_id":125042874,"body_markdown":"It did work, thank you a world.Could you please post an answer so i could accept it and also could you explain why it worked?","body":"It did work, thank you a world.Could you please post an answer so i could accept it and also could you explain why it worked?"}],"answers":[{"tags":[],"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642355803,"creation_date":1642355803,"answer_id":70732684,"question_id":70731363,"body_markdown":"It seems to be an issue of type pass by reference. You are passing message reference in setMsg method call and that reference points to memory location of message created in driverCallBack. That means globalMessage is just pointing to same message memory block.\r\n\r\nNow as soon as driverCallBack block is executed, the message memory block is deallocated and now globalMessage is pointing to non-existent block, hence value is lost.\r\n\r\nSo you can initialize globalMessage with new String(arg) so that value is copied to a new memory block and is no longer dependent on message memory block.\r\n\r\n```java\r\npublic static void setMsg(String arg) {\r\n        globalMessage = new String(arg);\r\n}\r\n```\r\n","title":"Java RabbitMQ storing a consumed message in local variable not working","body":"<p>It seems to be an issue of type pass by reference. You are passing message reference in setMsg method call and that reference points to memory location of message created in driverCallBack. That means globalMessage is just pointing to same message memory block.</p>\n<p>Now as soon as driverCallBack block is executed, the message memory block is deallocated and now globalMessage is pointing to non-existent block, hence value is lost.</p>\n<p>So you can initialize globalMessage with new String(arg) so that value is copied to a new memory block and is no longer dependent on message memory block.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void setMsg(String arg) {\n        globalMessage = new String(arg);\n}\n</code></pre>\n"}],"owner":{"account_id":21597629,"reputation":66,"user_id":15926316,"display_name":"CupidONO"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732684,"answer_count":1,"score":0,"last_activity_date":1642355803,"creation_date":1642345939,"question_id":70731363,"body_markdown":"The task i am trying to do consists of two classes, one class is **Student** and the other is **University student service**.The class **Student** is supposed to fill out the form and send a message through RabbitMQ queue towards the class **University student service**.Once the Student service checks if the form is valid they are supposed to send an answer to **Student** class so that it acts as some sort of RPC.  \r\n\r\nWhat i tried doing is, i tried storing the message that **University student service** received in a local variable type String and check validity of it so that i can send the message back to **Student** class letting it know what the answer is.\r\n\r\nProblem is i am not able to store the message, i tried using setter but it does not work nor does the normal operator = storing work.\r\n\r\nCode:\r\n\r\nClass **Student**\r\n\r\n```public class Student {\r\n\r\n\tpublic static void main(String[] args) throws IOException, TimeoutException {\r\n\t  \r\n\t String check = &quot;&quot;;\r\n\t \r\n\t while(!check.equals(&quot;End&quot;)) {\r\n\t\t\r\n\t  \r\n\t  Scanner input = new Scanner(System.in);\r\n\t  System.out.println(&quot;Input your name and surname:&quot;);\r\n\t  String imePrezime = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput your ordinal number:&quot;);\r\n\t  String redniBr = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput the year you applied:&quot;);\r\n\t  String godinaUpisa = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput the name of the subject:&quot;);\r\n\t  String nazivPredmeta = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput semester:&quot;);\r\n\t  String semestar = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput current year:&quot;);\r\n\t  String studijskaGodina = input.nextLine();\r\n\t  \r\n\t  String finalnaPoruka = imePrezime + &quot; &quot; +  redniBr + &quot; &quot; + godinaUpisa + &quot; &quot; + nazivPredmeta + &quot; &quot; + semestar + &quot; &quot; + studijskaGodina;\r\n\t  \r\n\t  \r\n\t\t\r\n      ConnectionFactory factory = new ConnectionFactory();\r\n       \r\n      try (Connection connection = factory.newConnection()){\r\n    \t  Channel channel = connection.createChannel();\r\n    \t  channel.queueDeclare(&quot;Apply&quot;,false,false,false,null);\r\n    \t  \r\n    \t  String message = finalnaPoruka;\r\n    \t  channel.basicPublish(&quot;&quot;,&quot;Apply&quot;,false,null,message.getBytes());\r\n    \t  System.out.println(&quot;The message has been delivered.\\n&quot;);\r\n      }\r\n      \r\n      \r\n       \r\n\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAs you can see above, in this class i just send a string.\r\n\r\nClass **University student service**\r\n\r\n```import com.rabbitmq.client.ConnectionFactory;\r\nimport com.rabbitmq.client.DeliverCallback;\r\nimport com.rabbitmq.client.Connection;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.time.LocalDateTime;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\nimport com.rabbitmq.client.Channel;\r\n\r\npublic class Sluzba {\r\n\tstatic String globalMessage = &quot;&quot;;\r\n\t\r\n\tpublic static void setMsg(String arg) {\r\n\t\tglobalMessage = arg;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws IOException, TimeoutException {\r\n\t\t  int check = 0;\r\n\t\t  \r\n\t\t  \r\n          ConnectionFactory factory = new ConnectionFactory();\r\n       \r\n      \t  Connection connection = factory.newConnection();\r\n    \t  Channel channel = connection.createChannel();\r\n    \t  channel.queueDeclare(&quot;Apply&quot;,false,false,false,null);\r\n    \t  \r\n    \t \r\n    \t  DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n    \t\t    String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\r\n    \t\t    setMsg(message);\r\n    \t\t    System.out.println(&quot;New application has arrived &#39;&quot; + message + &quot;&#39;&quot;);\r\n    \t\t};\r\n    \t\tchannel.basicConsume(&quot;Apply&quot;, true, deliverCallback, consumerTag -&gt; { });\r\n    \t\t\r\n    \t\t\r\n\t\t    \r\n\t\t    System.out.println(&quot;Global message &quot; + globalMessage + &quot; stored&quot;);\r\n    \t\t\r\n      \r\n    \t\ttry (Connection connectionReply = factory.newConnection()){\r\n    \t    \t  Channel channelReply = connection.createChannel();\r\n    \t    \t  channelReply.queueDeclare(&quot;Answer&quot;,false,false,false,null);\r\n    \t    \t  \r\n    \t    \t  String messageReply = &quot;Test&quot;;\r\n    \t    \t  channel.basicPublish(&quot;&quot;,&quot;Answer&quot;,false,null,messageReply.getBytes());\r\n    \t    \t  System.out.println(&quot;Answer has been delivered.\\n&quot;);\r\n    \t      }\r\n    \t  \r\n    \t  \r\n    \t\r\n       \r\n\t}\r\n\r\n}\r\n```\r\n\r\nIn the class above i am trying to check if it works(I still did not finish the code), all in all i would like to save that received message, check the validity and try to send an answer back to **Student** so it can work with the result.\r\n\r\n```System.out.println(&quot;Global message &quot; + globalMessage + &quot; stored&quot;);```\r\n\r\nThis was supposed to print that same message once i store it but it does not work, and it does not give any compile errors.\r\n\r\nSide question:Is this the correct way to do this RPC simulation exchange or am i having a bad idea?\r\n\r\nThank you everyone for your time.","title":"Java RabbitMQ storing a consumed message in local variable not working","body":"<p>The task i am trying to do consists of two classes, one class is <strong>Student</strong> and the other is <strong>University student service</strong>.The class <strong>Student</strong> is supposed to fill out the form and send a message through RabbitMQ queue towards the class <strong>University student service</strong>.Once the Student service checks if the form is valid they are supposed to send an answer to <strong>Student</strong> class so that it acts as some sort of RPC.</p>\n<p>What i tried doing is, i tried storing the message that <strong>University student service</strong> received in a local variable type String and check validity of it so that i can send the message back to <strong>Student</strong> class letting it know what the answer is.</p>\n<p>Problem is i am not able to store the message, i tried using setter but it does not work nor does the normal operator = storing work.</p>\n<p>Code:</p>\n<p>Class <strong>Student</strong></p>\n<pre><code>\n    public static void main(String[] args) throws IOException, TimeoutException {\n      \n     String check = &quot;&quot;;\n     \n     while(!check.equals(&quot;End&quot;)) {\n        \n      \n      Scanner input = new Scanner(System.in);\n      System.out.println(&quot;Input your name and surname:&quot;);\n      String imePrezime = input.nextLine();\n      \n      System.out.println(&quot;\\nInput your ordinal number:&quot;);\n      String redniBr = input.nextLine();\n      \n      System.out.println(&quot;\\nInput the year you applied:&quot;);\n      String godinaUpisa = input.nextLine();\n      \n      System.out.println(&quot;\\nInput the name of the subject:&quot;);\n      String nazivPredmeta = input.nextLine();\n      \n      System.out.println(&quot;\\nInput semester:&quot;);\n      String semestar = input.nextLine();\n      \n      System.out.println(&quot;\\nInput current year:&quot;);\n      String studijskaGodina = input.nextLine();\n      \n      String finalnaPoruka = imePrezime + &quot; &quot; +  redniBr + &quot; &quot; + godinaUpisa + &quot; &quot; + nazivPredmeta + &quot; &quot; + semestar + &quot; &quot; + studijskaGodina;\n      \n      \n        \n      ConnectionFactory factory = new ConnectionFactory();\n       \n      try (Connection connection = factory.newConnection()){\n          Channel channel = connection.createChannel();\n          channel.queueDeclare(&quot;Apply&quot;,false,false,false,null);\n          \n          String message = finalnaPoruka;\n          channel.basicPublish(&quot;&quot;,&quot;Apply&quot;,false,null,message.getBytes());\n          System.out.println(&quot;The message has been delivered.\\n&quot;);\n      }\n      \n      \n       \n    }\n    }\n\n}\n</code></pre>\n<p>As you can see above, in this class i just send a string.</p>\n<p>Class <strong>University student service</strong></p>\n<pre><code>import com.rabbitmq.client.DeliverCallback;\nimport com.rabbitmq.client.Connection;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.time.LocalDateTime;\nimport java.util.Scanner;\nimport java.util.concurrent.TimeoutException;\n\nimport com.rabbitmq.client.Channel;\n\npublic class Sluzba {\n    static String globalMessage = &quot;&quot;;\n    \n    public static void setMsg(String arg) {\n        globalMessage = arg;\n    }\n    \n    public static void main(String[] args) throws IOException, TimeoutException {\n          int check = 0;\n          \n          \n          ConnectionFactory factory = new ConnectionFactory();\n       \n          Connection connection = factory.newConnection();\n          Channel channel = connection.createChannel();\n          channel.queueDeclare(&quot;Apply&quot;,false,false,false,null);\n          \n         \n          DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n                String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\n                setMsg(message);\n                System.out.println(&quot;New application has arrived '&quot; + message + &quot;'&quot;);\n            };\n            channel.basicConsume(&quot;Apply&quot;, true, deliverCallback, consumerTag -&gt; { });\n            \n            \n            \n            System.out.println(&quot;Global message &quot; + globalMessage + &quot; stored&quot;);\n            \n      \n            try (Connection connectionReply = factory.newConnection()){\n                  Channel channelReply = connection.createChannel();\n                  channelReply.queueDeclare(&quot;Answer&quot;,false,false,false,null);\n                  \n                  String messageReply = &quot;Test&quot;;\n                  channel.basicPublish(&quot;&quot;,&quot;Answer&quot;,false,null,messageReply.getBytes());\n                  System.out.println(&quot;Answer has been delivered.\\n&quot;);\n              }\n          \n          \n        \n       \n    }\n\n}\n</code></pre>\n<p>In the class above i am trying to check if it works(I still did not finish the code), all in all i would like to save that received message, check the validity and try to send an answer back to <strong>Student</strong> so it can work with the result.</p>\n<p><code>System.out.println(&quot;Global message &quot; + globalMessage + &quot; stored&quot;);</code></p>\n<p>This was supposed to print that same message once i store it but it does not work, and it does not give any compile errors.</p>\n<p>Side question:Is this the correct way to do this RPC simulation exchange or am i having a bad idea?</p>\n<p>Thank you everyone for your time.</p>\n"},{"tags":["java","spring","spring-boot","security","authentication"],"comments":[{"owner":{"account_id":2583876,"reputation":1835,"user_id":2240008,"accept_rate":62,"display_name":"Almazini"},"score":0,"creation_date":1533559921,"post_id":51708076,"comment_id":90377067,"body_markdown":"try to debug, maybe username/password remain the same after first attempt","body":"try to debug, maybe username/password remain the same after first attempt"},{"owner":{"account_id":14100937,"reputation":41,"user_id":10186309,"display_name":"Thomas"},"score":0,"creation_date":1533560003,"post_id":51708076,"comment_id":90377128,"body_markdown":"Yup, it remains the same but I changed username and password in postman","body":"Yup, it remains the same but I changed username and password in postman"},{"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"score":1,"creation_date":1533560761,"post_id":51708076,"comment_id":90377656,"body_markdown":"Remove session policy from spring security config.","body":"Remove session policy from spring security config."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":1,"creation_date":1533560885,"post_id":51708076,"comment_id":90377757,"body_markdown":"`authorizationData = credentials.split(&quot;:&quot;, 2);` =&gt; Are you sure? If `credentials` contains `user:password`, I don&#39;t know what is `credentials.split(&quot;:&quot;, 2);`","body":"<code>authorizationData = credentials.split(&quot;:&quot;, 2);</code> =&gt; Are you sure? If <code>credentials</code> contains <code>user:password</code>, I don&#39;t know what is <code>credentials.split(&quot;:&quot;, 2);</code>"},{"owner":{"account_id":14100937,"reputation":41,"user_id":10186309,"display_name":"Thomas"},"score":0,"creation_date":1533625423,"post_id":51708076,"comment_id":90401965,"body_markdown":"@SumeshTG It doesn&#39;t work for me.","body":"@SumeshTG It doesn&#39;t work for me."}],"answers":[{"tags":[],"owner":{"account_id":8896004,"reputation":1,"user_id":6641047,"display_name":"HsB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533561731,"creation_date":1533561141,"answer_id":51708504,"question_id":51708076,"body_markdown":"Try to write `.deleteCookies(&quot;JSESSONID&quot;)` in your `SpringSecurityConfig` class.","title":"Spring boot security cannot log in after invalid credentials","body":"<p>Try to write <code>.deleteCookies(\"JSESSONID\")</code> in your <code>SpringSecurityConfig</code> class.</p>\n"},{"tags":[],"owner":{"account_id":4289314,"reputation":178,"user_id":3506105,"display_name":"lsantamaria"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534592309,"creation_date":1534590942,"answer_id":51908025,"question_id":51708076,"body_markdown":"The problem is that the request is stored in cache due to your sessionCreationPolicy.\r\n\r\nTo avoid this problem, you could add ```.requestCache().requestCache(new NullRequestCache())``` in your http security config to override the default request cache configuration, but be careful because this could create another side effect (it depends on your application).\r\n\r\nIn case you do not need the session, you can choose another session policy:\r\n\r\n```.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)```.\r\n\r\nAnother alternative is to relay in Spring&#39;s BasicAuthenticationFilter. This filter does all the authentication logic for you. To enable it, you only have to add ```.httpBasic()```in your http security configuration.\r\n\r\nYou may want to add a custom logic on authentication success/failure. In that case, you only have to create a custom filter (```CustomBasicAuthenticationFilter```) that extends ```BasicAuthenticationFilter``` class and overrides the methods ```onSuccessfulAuthentication()```and ```onUnsuccessfulAuthentication()```. You will not need to add ```.httpBasic()``` but you will need to insert your custom filter in the correct place: \r\n\r\n```.addFilterAfter(new CustomBasicAuthenticationFilter(authenticationManager), LogoutFilter.class)```.\r\n\r\nAny of that 3 solutions will avoid your problem.\r\n\r\n","title":"Spring boot security cannot log in after invalid credentials","body":"<p>The problem is that the request is stored in cache due to your sessionCreationPolicy.</p>\n\n<p>To avoid this problem, you could add <code>.requestCache().requestCache(new NullRequestCache())</code> in your http security config to override the default request cache configuration, but be careful because this could create another side effect (it depends on your application).</p>\n\n<p>In case you do not need the session, you can choose another session policy:</p>\n\n<p><code>.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</code>.</p>\n\n<p>Another alternative is to relay in Spring's BasicAuthenticationFilter. This filter does all the authentication logic for you. To enable it, you only have to add <code>.httpBasic()</code>in your http security configuration.</p>\n\n<p>You may want to add a custom logic on authentication success/failure. In that case, you only have to create a custom filter (<code>CustomBasicAuthenticationFilter</code>) that extends <code>BasicAuthenticationFilter</code> class and overrides the methods <code>onSuccessfulAuthentication()</code>and <code>onUnsuccessfulAuthentication()</code>. You will not need to add <code>.httpBasic()</code> but you will need to insert your custom filter in the correct place: </p>\n\n<p><code>.addFilterAfter(new CustomBasicAuthenticationFilter(authenticationManager), LogoutFilter.class)</code>.</p>\n\n<p>Any of that 3 solutions will avoid your problem.</p>\n"}],"owner":{"account_id":14100937,"reputation":41,"user_id":10186309,"display_name":"Thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4905,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642355785,"creation_date":1533559792,"question_id":51708076,"body_markdown":"I have problem with validating user credentials. When I give correct credentials first time everything goes OK but giving invalid credentials first and then give correct ones I get invalid credentials error. I use Postman Basic \r\nAuth.\r\n\r\nMy config class:\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @Autowired\r\n        private CustomAuthenticationEntryPoint authenticationEntryPoint;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n               http.cors().and().csrf().disable().authorizeRequests()\r\n                    .antMatchers(HttpMethod.POST ,&quot;/login&quot;).permitAll()\r\n                    .antMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                    .anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.ALWAYS).and()\r\n                    .logout()\r\n                    .deleteCookies(&quot;remove&quot;)\r\n                    .invalidateHttpSession(true);\r\n    \r\n               http.rememberMe().disable();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n                    auth.userDetailsService(this.userService)\r\n                            .and().eraseCredentials(true);\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n\r\n\r\nAnd my controller class\r\n\r\n\r\n     @PostMapping\r\n            public ResponseEntity&lt;?&gt; loginButtonClicked(HttpServletRequest request) {\r\n                HttpSession session = request.getSession();\r\n                final String authorization = request.getHeader(&quot;Authorization&quot;);\r\n                String[] authorizationData=null;\r\n                if (authorization != null &amp;&amp; authorization.startsWith(&quot;Basic&quot;)) {\r\n                    // Authorization: Basic base64credentials\r\n                    String base64Credentials = authorization.substring(&quot;Basic&quot; .length()).trim();\r\n                    String credentials = new String(Base64.getDecoder().decode(base64Credentials),\r\n                            Charset.forName(&quot;UTF-8&quot;));\r\n                    // credentials = username:password\r\n                    authorizationData = credentials.split(&quot;:&quot;, 2);\r\n                    UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(authorizationData[0], authorizationData[1],Arrays.asList(new SimpleGrantedAuthority(&quot;USER&quot;)));\r\n                    User user = userService.findUserEntityByLogin(authorizationData[0]);\r\n                    if(user != null &amp;&amp; user.getFromWhenAcceptLoginAttempts() != null &amp;&amp; (user.getFromWhenAcceptLoginAttempts()).isBefore(LocalDateTime.now())){\r\n                        // Authenticate the user\r\n                        Authentication authentication = authenticationManager.authenticate(authRequest);\r\n                        SecurityContext securityContext = SecurityContextHolder.getContext();\r\n                        securityContext.setAuthentication(authentication);\r\n        \r\n                        // Create a new session and add the security context.\r\n                        session = request.getSession();\r\n        \r\n                        session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\r\n        \r\n                        return new ResponseEntity&lt;&gt;(new LoginResponseObject(200,&quot;ACCESS GRANTED. YOU HAVE BEEN AUTHENTICATED&quot;), HttpStatus.OK);\r\n                    }else{\r\n                        session.getId();\r\n                        SecurityContextHolder.clearContext();\r\n                        if(session != null) {\r\n                            session.invalidate();\r\n                        }\r\n                        return new ResponseEntity&lt;&gt;(new ErrorObject(403,&quot;TOO MANY LOGIN REQUESTS&quot;,&quot;YOU HAVE ENTERED TOO MANY WRONG CREDENTIALS. YOUR ACCOUNT HAS BEEN BLOCKED FOR 15 MINUTES.&quot;, &quot;/login&quot;), HttpStatus.FORBIDDEN);\r\n                    }\r\n                }else{\r\n                    session.getId();\r\n                    SecurityContextHolder.clearContext();\r\n                    if(session != null) {\r\n                        session.invalidate();\r\n                    }\r\n                    return new ResponseEntity&lt;&gt;(new ErrorObject(401,&quot;INVALID DATA&quot;,&quot;YOU HAVE ENTERED WRONG USERNAME/PASSWORD CREDENTIALS&quot;, &quot;/login&quot;), HttpStatus.UNAUTHORIZED);\r\n                }\r\n        \r\n            } \r\n            @Bean\r\n            public AuthenticationManager authenticationManagerBean() throws Exception {\r\n                return super.authenticationManagerBean();\r\n            }\r\n        \r\n            @Bean\r\n            public ObjectMapper objectMapper(){\r\n                return new ObjectMapper();\r\n            }\r\n        \r\n            @Bean\r\n            public HttpSessionEventPublisher httpSessionEventPublisher() {\r\n                return new HttpSessionEventPublisher();\r\n            } \r\n\r\n\r\n","title":"Spring boot security cannot log in after invalid credentials","body":"<p>I have problem with validating user credentials. When I give correct credentials first time everything goes OK but giving invalid credentials first and then give correct ones I get invalid credentials error. I use Postman Basic\nAuth.</p>\n<p>My config class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private CustomAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n           http.cors().and().csrf().disable().authorizeRequests()\n                .antMatchers(HttpMethod.POST ,&quot;/login&quot;).permitAll()\n                .antMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\n                .anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS).and()\n                .logout()\n                .deleteCookies(&quot;remove&quot;)\n                .invalidateHttpSession(true);\n\n           http.rememberMe().disable();\n\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n                auth.userDetailsService(this.userService)\n                        .and().eraseCredentials(true);\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n</code></pre>\n<p>And my controller class</p>\n<pre><code> @PostMapping\n        public ResponseEntity&lt;?&gt; loginButtonClicked(HttpServletRequest request) {\n            HttpSession session = request.getSession();\n            final String authorization = request.getHeader(&quot;Authorization&quot;);\n            String[] authorizationData=null;\n            if (authorization != null &amp;&amp; authorization.startsWith(&quot;Basic&quot;)) {\n                // Authorization: Basic base64credentials\n                String base64Credentials = authorization.substring(&quot;Basic&quot; .length()).trim();\n                String credentials = new String(Base64.getDecoder().decode(base64Credentials),\n                        Charset.forName(&quot;UTF-8&quot;));\n                // credentials = username:password\n                authorizationData = credentials.split(&quot;:&quot;, 2);\n                UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(authorizationData[0], authorizationData[1],Arrays.asList(new SimpleGrantedAuthority(&quot;USER&quot;)));\n                User user = userService.findUserEntityByLogin(authorizationData[0]);\n                if(user != null &amp;&amp; user.getFromWhenAcceptLoginAttempts() != null &amp;&amp; (user.getFromWhenAcceptLoginAttempts()).isBefore(LocalDateTime.now())){\n                    // Authenticate the user\n                    Authentication authentication = authenticationManager.authenticate(authRequest);\n                    SecurityContext securityContext = SecurityContextHolder.getContext();\n                    securityContext.setAuthentication(authentication);\n    \n                    // Create a new session and add the security context.\n                    session = request.getSession();\n    \n                    session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\n    \n                    return new ResponseEntity&lt;&gt;(new LoginResponseObject(200,&quot;ACCESS GRANTED. YOU HAVE BEEN AUTHENTICATED&quot;), HttpStatus.OK);\n                }else{\n                    session.getId();\n                    SecurityContextHolder.clearContext();\n                    if(session != null) {\n                        session.invalidate();\n                    }\n                    return new ResponseEntity&lt;&gt;(new ErrorObject(403,&quot;TOO MANY LOGIN REQUESTS&quot;,&quot;YOU HAVE ENTERED TOO MANY WRONG CREDENTIALS. YOUR ACCOUNT HAS BEEN BLOCKED FOR 15 MINUTES.&quot;, &quot;/login&quot;), HttpStatus.FORBIDDEN);\n                }\n            }else{\n                session.getId();\n                SecurityContextHolder.clearContext();\n                if(session != null) {\n                    session.invalidate();\n                }\n                return new ResponseEntity&lt;&gt;(new ErrorObject(401,&quot;INVALID DATA&quot;,&quot;YOU HAVE ENTERED WRONG USERNAME/PASSWORD CREDENTIALS&quot;, &quot;/login&quot;), HttpStatus.UNAUTHORIZED);\n            }\n    \n        } \n        @Bean\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n    \n        @Bean\n        public ObjectMapper objectMapper(){\n            return new ObjectMapper();\n        }\n    \n        @Bean\n        public HttpSessionEventPublisher httpSessionEventPublisher() {\n            return new HttpSessionEventPublisher();\n        } \n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1490121008,"post_id":42935208,"comment_id":72967692,"body_markdown":"As a side note, it&#39;s usual to use something like `/resources/**` or `/public/**` for static CSS/JS resources.","body":"As a side note, it&#39;s usual to use something like <code>&#47;resources&#47;**</code> or <code>&#47;public&#47;**</code> for static CSS/JS resources."}],"answers":[{"tags":[],"owner":{"account_id":9995471,"reputation":61,"user_id":7393182,"display_name":"Raga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496039862,"creation_date":1496039862,"answer_id":44236010,"question_id":42935208,"body_markdown":"to ensure that request to your application requires the user to be authenticated use \r\n**.anyRequest().authenticated()**\r\n","title":"Spring security configure access","body":"<p>to ensure that request to your application requires the user to be authenticated use \n<strong>.anyRequest().authenticated()</strong></p>\n"}],"owner":{"account_id":4535391,"reputation":215,"user_id":3684736,"accept_rate":50,"display_name":"wizzle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642355723,"creation_date":1490120352,"question_id":42935208,"body_markdown":"I am configuring endpoint access in Spring Security. What I want to accomplish:\r\n\r\n 1. Everyone has access to resources\r\n 2. Everyone can login/register\r\n 3. Only authenticated users can access logout and all other mapped endpoints\r\n\r\nHere is my configuration, it fulfills firs two requirements and prevents access to /logout for non-logged users.\r\n\r\n\r\n```\r\nhttp.authorizeRequests()\r\n                .antMatchers(&quot;/register&quot;).permitAll()\r\n                .antMatchers(&quot;/register/*&quot;).permitAll()\r\n                .antMatchers(&quot;/favicon.ico&quot;).permitAll()\r\n                .antMatchers(&quot;**/*.html&quot;).permitAll()\r\n                .antMatchers(&quot;**/*.css&quot;).permitAll()\r\n                .antMatchers(&quot;**/*.js&quot;).permitAll()\r\n                .and()\r\n                .formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login-error&quot;).defaultSuccessUrl(&quot;/&quot;)\r\n                    \r\n                .usernameParameter(&quot;username&quot;).passwordParameter(&quot;password&quot;)\r\n                .and()\r\n                    \r\n                .logout().logoutSuccessUrl(&quot;/login&quot;).deleteCookies(&quot;JSESSIONID&quot;).logoutUrl(&quot;/logout&quot;);\r\n```\r\n","title":"Spring security configure access","body":"<p>I am configuring endpoint access in Spring Security. What I want to accomplish:</p>\n<ol>\n<li>Everyone has access to resources</li>\n<li>Everyone can login/register</li>\n<li>Only authenticated users can access logout and all other mapped endpoints</li>\n</ol>\n<p>Here is my configuration, it fulfills firs two requirements and prevents access to /logout for non-logged users.</p>\n<pre><code>http.authorizeRequests()\n                .antMatchers(&quot;/register&quot;).permitAll()\n                .antMatchers(&quot;/register/*&quot;).permitAll()\n                .antMatchers(&quot;/favicon.ico&quot;).permitAll()\n                .antMatchers(&quot;**/*.html&quot;).permitAll()\n                .antMatchers(&quot;**/*.css&quot;).permitAll()\n                .antMatchers(&quot;**/*.js&quot;).permitAll()\n                .and()\n                .formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login-error&quot;).defaultSuccessUrl(&quot;/&quot;)\n                    \n                .usernameParameter(&quot;username&quot;).passwordParameter(&quot;password&quot;)\n                .and()\n                    \n                .logout().logoutSuccessUrl(&quot;/login&quot;).deleteCookies(&quot;JSESSIONID&quot;).logoutUrl(&quot;/logout&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1533067649,"post_id":51614847,"comment_id":90208015,"body_markdown":"What is the location of the redirect (302)?","body":"What is the location of the redirect (302)?"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1533155916,"post_id":51614847,"comment_id":90248228,"body_markdown":"Your are not logged in. Hence you are redirected to the login page (`/test.html`).","body":"Your are not logged in. Hence you are redirected to the login page (<code>&#47;test.html</code>)."}],"answers":[{"tags":[],"owner":{"account_id":14064435,"reputation":11,"user_id":10159666,"display_name":"fish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533173922,"creation_date":1533173922,"answer_id":51644367,"question_id":51614847,"body_markdown":"done\r\n\r\nCross-site request forgery\r\n\r\n---\r\n&lt;pre&gt;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.formLogin()\r\n                .loginPage(&quot;/test.html&quot;).permitAll()\r\n                .loginProcessingUrl(&quot;/user/login&quot;)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/test.html&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()          +\r\n                .csrf()         +\r\n                .disable();     +\r\n\r\n    }\r\n&lt;/pre&gt;\r\n","title":"Spring-Security 5 always 302","body":"<p>done</p>\n\n<p>Cross-site request forgery</p>\n\n<hr>\n\n<pre>\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.formLogin()\n                .loginPage(\"/test.html\").permitAll()\n                .loginProcessingUrl(\"/user/login\")\n                .and()\n                .authorizeRequests()\n                .antMatchers(\"/test.html\").permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()          +\n                .csrf()         +\n                .disable();     +\n\n    }\n</pre>\n"},{"tags":[],"owner":{"account_id":13894974,"reputation":21,"user_id":11548160,"display_name":"Xavier Angeles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573758503,"creation_date":1573756234,"answer_id":58863583,"question_id":51614847,"body_markdown":"You need put after the `.hasAnyRole` and put the user&#39;s role \r\nafter put these you need put `.anyRequest().authenticated()`\r\nand that is all","title":"Spring-Security 5 always 302","body":"<p>You need put after the <code>.hasAnyRole</code> and put the user's role \nafter put these you need put <code>.anyRequest().authenticated()</code>\nand that is all</p>\n"},{"tags":[],"owner":{"account_id":6746622,"reputation":26,"user_id":5198047,"display_name":"Ruwan Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634905329,"creation_date":1634905329,"answer_id":69676825,"question_id":51614847,"body_markdown":"\r\nExclude SecurityAutoConfiguration.class and ManagementWebSecurityAutoConfiguration.class from the main class of my spring boot application works for me.\r\n\r\n      import org.springframework.boot.SpringApplication;\r\n      import org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration;\r\n      import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n      import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\n  \r\n      @SpringBootApplication(exclude = {SecurityAutoConfiguration.class, \r\n       ManagementWebSecurityAutoConfiguration.class})\r\n      public class MainApplication implements WebMvcConfigurer {\r\n      public static void main(String[] args) {\r\n      SpringApplication.run(MainApplication.class, args);\r\n        }\r\n       }\r\n\r\n","title":"Spring-Security 5 always 302","body":"<p>Exclude SecurityAutoConfiguration.class and ManagementWebSecurityAutoConfiguration.class from the main class of my spring boot application works for me.</p>\n<pre><code>  import org.springframework.boot.SpringApplication;\n  import org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration;\n  import org.springframework.boot.autoconfigure.SpringBootApplication;\n  import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\n\n  @SpringBootApplication(exclude = {SecurityAutoConfiguration.class, \n   ManagementWebSecurityAutoConfiguration.class})\n  public class MainApplication implements WebMvcConfigurer {\n  public static void main(String[] args) {\n  SpringApplication.run(MainApplication.class, args);\n    }\n   }\n</code></pre>\n"}],"owner":{"account_id":14064435,"reputation":11,"user_id":10159666,"display_name":"fish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1642355361,"creation_date":1533044569,"question_id":51614847,"body_markdown":"I am trying to test my web api thats secured using the standard Spring Security API,However whenever I login to my application the /test.html api keeps returning a 302 redirect.\r\n**username:admin /\r\npassword:admin**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n![enter image description here][2]\r\n---\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n        @RequestMapping(&quot;/hello&quot;)\r\n        public String hello() {\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class BrowserSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.formLogin()\r\n                    .loginPage(&quot;/test.html&quot;).permitAll()\r\n                    .loginProcessingUrl(&quot;/user/login&quot;)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/test.html&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n        }\r\n    }\r\n\r\n---\r\n\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.security.core.authority.AuthorityUtils;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class UserDetailsServiceImpl implements UserDetailsService {\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\r\n            return new User(&quot;admin&quot;,\r\n               &quot;$2a$10$vs7veyVUaqeGyVlxXpp94O7BcmzcF2HGUmH2va6XDVCj2mK8uFzRi&quot;,\r\n               AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;admin&quot;));\r\n        }\r\n    }\r\n\r\n---\r\nhttps://github.com/woshituotuo/demo.git\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZpUHf.png\r\n  [2]: https://i.stack.imgur.com/3kb1d.png","title":"Spring-Security 5 always 302","body":"<p>I am trying to test my web api thats secured using the standard Spring Security API,However whenever I login to my application the /test.html api keeps returning a 302 redirect.\n<strong>username:admin /\npassword:admin</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ZpUHf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZpUHf.png\" alt=\"enter image description here\" /></a></p>\n<h2><img src=\"https://i.stack.imgur.com/3kb1d.png\" alt=\"enter image description here\" /></h2>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @RequestMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>package com.example.demo;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Configuration\n@EnableWebSecurity\npublic class BrowserSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.formLogin()\n                .loginPage(&quot;/test.html&quot;).permitAll()\n                .loginProcessingUrl(&quot;/user/login&quot;)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/test.html&quot;).permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>package com.example.demo;\n\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\n        return new User(&quot;admin&quot;,\n           &quot;$2a$10$vs7veyVUaqeGyVlxXpp94O7BcmzcF2HGUmH2va6XDVCj2mK8uFzRi&quot;,\n           AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;admin&quot;));\n    }\n}\n</code></pre>\n<hr />\n<p><a href=\"https://github.com/woshituotuo/demo.git\" rel=\"nofollow noreferrer\">https://github.com/woshituotuo/demo.git</a></p>\n"},{"tags":["java","spring-boot","rest","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642354660,"post_id":70732525,"comment_id":125043325,"body_markdown":"either use HTTP sessions or pass an authentication token to the API.","body":"either use HTTP sessions or pass an authentication token to the API."},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1642354826,"post_id":70732525,"comment_id":125043376,"body_markdown":"I do use the JWT token authentication, so I have the Principal.","body":"I do use the JWT token authentication, so I have the Principal."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642354904,"post_id":70732525,"comment_id":125043399,"body_markdown":"just check if `yourPrincipal.getName()` equals the `username` from the path?","body":"just check if <code>yourPrincipal.getName()</code> equals the <code>username</code> from the path?"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1642356991,"post_id":70732525,"comment_id":125043865,"body_markdown":"See this section of our [SpringOne 2021](https://youtu.be/5tlU_Vjv8Ns?t=1731) presentation which shows how to protect an endpoint using advanced authorization scenarios like this with `@PreAuthorize` or `@PostAuthorize` annotations","body":"See this section of our <a href=\"https://youtu.be/5tlU_Vjv8Ns?t=1731\" rel=\"nofollow noreferrer\">SpringOne 2021</a> presentation which shows how to protect an endpoint using advanced authorization scenarios like this with <code>@PreAuthorize</code> or <code>@PostAuthorize</code> annotations"},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1642359859,"post_id":70732525,"comment_id":125044626,"body_markdown":"@dan1st Yeah I thought about it, but how do it effectively without duplicating the code in each controller method.","body":"@dan1st Yeah I thought about it, but how do it effectively without duplicating the code in each controller method."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642361635,"post_id":70732525,"comment_id":125045061,"body_markdown":"What about https://stackoverflow.com/questions/13071191/spring-3-web-mvc-controller-method-pre-post-processing-functionality-thro and throwing an exception if the authentication doesn&#39;t work out?","body":"What about <a href=\"https://stackoverflow.com/questions/13071191/spring-3-web-mvc-controller-method-pre-post-processing-functionality-thro\" title=\"spring 3 web mvc controller method pre post processing functionality thro\">stackoverflow.com/questions/13071191/&hellip;</a> and throwing an exception if the authentication doesn&#39;t work out?"}],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642355034,"creation_date":1642355034,"answer_id":70732591,"question_id":70732525,"body_markdown":"Best way is to use spring security (check [here][1])\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/securing-web/\r\n\r\nYou can add spring security to your project and then you can get user data by authorization header (or it may be a jwt token) and just change the endpoint to this\r\n\r\nPUT /api/v1/users/profile\r\n\r\nsend the updated details with the body, and get userID from auth header and then you can apply the updation. using this method only current logged in users will be updated","title":"How to secure resources of a different user","body":"<p>Best way is to use spring security (check <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>You can add spring security to your project and then you can get user data by authorization header (or it may be a jwt token) and just change the endpoint to this</p>\n<p>PUT /api/v1/users/profile</p>\n<p>send the updated details with the body, and get userID from auth header and then you can apply the updation. using this method only current logged in users will be updated</p>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642355034,"creation_date":1642354562,"question_id":70732525,"body_markdown":"Let&#39;s say we have an endpoint:\r\n`/api/v1/users/{username}/profile` this endpoint is responsible for updating a user profile. The problem is that the current user may update a profile of a different user, so how can we prevent that? Current user should be able to update only his profile, the validation should not validate an administrator. There are many similar endpoints, so I am looking for a good way how to handle it.","title":"How to secure resources of a different user","body":"<p>Let's say we have an endpoint:\n<code>/api/v1/users/{username}/profile</code> this endpoint is responsible for updating a user profile. The problem is that the current user may update a profile of a different user, so how can we prevent that? Current user should be able to update only his profile, the validation should not validate an administrator. There are many similar endpoints, so I am looking for a good way how to handle it.</p>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1642355203,"post_id":70732588,"comment_id":125043465,"body_markdown":"You question needs more clarity. What does your `java -jar` command give you in logs? Does it say that it&#39;s listening on port 9191? Currently it feels like nothing is listening on that port.","body":"You question needs more clarity. What does your <code>java -jar</code> command give you in logs? Does it say that it&#39;s listening on port 9191? Currently it feels like nothing is listening on that port."},{"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"score":0,"creation_date":1642355213,"post_id":70732588,"comment_id":125043467,"body_markdown":"Can you please put the full error","body":"Can you please put the full error"},{"owner":{"account_id":23238140,"reputation":1,"user_id":17327884,"display_name":"ANNA"},"score":0,"creation_date":1642355534,"post_id":70732588,"comment_id":125043544,"body_markdown":"Jenkins initial setup is required. An admin user has been created and a password generated.\nPlease use the following password to proceed to installation:\n\n80b05f10cb6c46c187d36e0bc73d0262\n\nThis may also be found at: C:\\Users\\Administrator\\.jenkins\\secrets\\initialAdminPassword","body":"Jenkins initial setup is required. An admin user has been created and a password generated. Please use the following password to proceed to installation:  80b05f10cb6c46c187d36e0bc73d0262  This may also be found at: C:\\Users\\Administrator\\.jenkins\\secrets\\initialAdminPassword"},{"owner":{"account_id":23238140,"reputation":1,"user_id":17327884,"display_name":"ANNA"},"score":0,"creation_date":1642355574,"post_id":70732588,"comment_id":125043564,"body_markdown":"I was initialized jenkins server on my local machine","body":"I was initialized jenkins server on my local machine"}],"owner":{"account_id":23238140,"reputation":1,"user_id":17327884,"display_name":"ANNA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642355024,"creation_date":1642355024,"question_id":70732588,"body_markdown":"localhost refused to connect .\r\nI have initialized this connection from cmd by write java -jar jenkins.war --httpPort=9191\r\nbut when I write http://localhost:9191/ give me this error \r\n","title":"localhost refused to connect with jenkins","body":"<p>localhost refused to connect .\nI have initialized this connection from cmd by write java -jar jenkins.war --httpPort=9191\nbut when I write http://localhost:9191/ give me this error</p>\n"},{"tags":["java","maven","java-module"],"comments":[{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":1,"creation_date":1641242046,"post_id":70570564,"comment_id":124750889,"body_markdown":"@xerx593 Sorry, my mistake. The `second` module should have a test dependency on the `first` module, see corrections above.","body":"@xerx593 Sorry, my mistake. The <code>second</code> module should have a test dependency on the <code>first</code> module, see corrections above."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1641243405,"post_id":70570564,"comment_id":124751256,"body_markdown":"As it is merely a test dependency, did you add a second `module-info.java` under `src/test/java/`?","body":"As it is merely a test dependency, did you add a second <code>module-info.java</code> under <code>src&#47;test&#47;java&#47;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641245131,"creation_date":1641243115,"answer_id":70571300,"question_id":70570564,"body_markdown":"Do:\r\n```lang-java\r\nmodule com.example.second {\r\n   requires com.example.first;\r\n}\r\n```\r\n... (*additionally*) in second/**`src/test/java`**!\r\n\r\nWhereas in second/`src/main/java`, we can keep it as:\r\n\r\n```lang-java\r\nmodule com.example.second {\r\n    exports com.example.second;\r\n}\r\n```\r\nas in (second) pom (only):\r\n```lang-xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;first&lt;/artifactId&gt;\r\n  &lt;scope&gt;test&lt;/test&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**For modules to work we need `maven-compiler-plugin` &gt;= 3.6!**\r\n","title":"Compilation failure: &quot;cannot find symbol&quot; when applying module-info.java in multi module Maven project?","body":"<p>Do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.second {\n   requires com.example.first;\n}\n</code></pre>\n<p>... (<em>additionally</em>) in second/<strong><code>src/test/java</code></strong>!</p>\n<p>Whereas in second/<code>src/main/java</code>, we can keep it as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.second {\n    exports com.example.second;\n}\n</code></pre>\n<p>as in (second) pom (only):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;first&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/test&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>For modules to work we need <code>maven-compiler-plugin</code> &gt;= 3.6!</strong></p>\n"}],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1642354937,"creation_date":1641238349,"question_id":70570564,"body_markdown":"**Please disregard this question. For unknown reasons, the project started working when I took a second look at it. After reading [this page][1] in the Stack Overflow question I opt to Close it (instead of Deleting it).**\r\n\r\n---\r\n\r\nHow can I get test dependencies to work in a multi module maven project when using Java 9 modules?\r\n\r\nGiven that I have the following project structure:\r\n```bash\r\n+ pom.xml\r\n|\r\n+ first\r\n|  + pom.xml\r\n|  + src/main/java/\r\n|               + module-info.java\r\n|               + com/example/first/First.java\r\n|\r\n+ second\r\n|  + pom.xml\r\n|  + src/main/java/\r\n|               + module-info.java\r\n|               + com/example/second/Second.java\r\n|  + src/test/java/\r\n|               + com/example/second/SecondTest.java\r\n```\r\n\r\n## First module\r\nThe `module-info.java` file in the `first` project looks like this:\r\n```java\r\nmodule com.example.first {\r\n    exports com.example.first;\r\n}\r\n```\r\nand the corresponding `pom.xml` file:\r\n\r\n```xml\r\n&lt;artifactId&gt;first&lt;/artifactId&gt;\r\n&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n```\r\n\r\n## Second module\r\nI would like that the `second` module should have a test dependency on the `first` module. For this reason I have attempted the following configuration.\r\n\r\n`module-info.java` file in the `second` project:\r\n```java\r\nmodule com.example.second {\r\n    exports com.example.second;\r\n}\r\n```\r\n\r\n`pom.xml` file:\r\n\r\n```xml\r\n&lt;artifactId&gt;second&lt;/artifactId&gt;\r\n&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;artifactId&gt;first&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;scope&gt;test&lt;/test&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nAnd the `SecondTest.java` file includes `First` as a dependency:\r\n\r\n```java\r\npackage com.example.second;\r\n\r\nimport com.example.first.First;\r\n\r\npublic class SecondTest {\r\n    First first;\r\n    Second second;\r\n\r\n    // setup and test methods...\r\n}\r\n```\r\n\r\n## Problem\r\n\r\nWith the configuration above, the test compilation fails:\r\n\r\n```bash\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile (default-testCompile) on project second: Compilation failure: Compilation failure: \r\n[ERROR] [...]/src/com/example/SecondTest.java: cannot find symbol\r\n[ERROR]   symbol:   class First\r\n[ERROR]   location: package com.example.first\r\n```\r\n\r\n## Workaround\r\n\r\nI could change the scope of the `com.example.first` in the `pom.xml` file of the to `compile` and add `requires com.example.first` in the `module-info.java` file in the `second` module and the test compilation would work. However, that would also imply that the `second` module would depend on `first` when it is being used elsewhere and that is not desired.\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/what-to-do-instead-of-deleting-question","title":"Compilation failure: &quot;cannot find symbol&quot; when applying module-info.java in multi module Maven project?","body":"<p><strong>Please disregard this question. For unknown reasons, the project started working when I took a second look at it. After reading <a href=\"https://stackoverflow.com/help/what-to-do-instead-of-deleting-question\">this page</a> in the Stack Overflow question I opt to Close it (instead of Deleting it).</strong></p>\n<hr />\n<p>How can I get test dependencies to work in a multi module maven project when using Java 9 modules?</p>\n<p>Given that I have the following project structure:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>+ pom.xml\n|\n+ first\n|  + pom.xml\n|  + src/main/java/\n|               + module-info.java\n|               + com/example/first/First.java\n|\n+ second\n|  + pom.xml\n|  + src/main/java/\n|               + module-info.java\n|               + com/example/second/Second.java\n|  + src/test/java/\n|               + com/example/second/SecondTest.java\n</code></pre>\n<h2>First module</h2>\n<p>The <code>module-info.java</code> file in the <code>first</code> project looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.first {\n    exports com.example.first;\n}\n</code></pre>\n<p>and the corresponding <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;artifactId&gt;first&lt;/artifactId&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n</code></pre>\n<h2>Second module</h2>\n<p>I would like that the <code>second</code> module should have a test dependency on the <code>first</code> module. For this reason I have attempted the following configuration.</p>\n<p><code>module-info.java</code> file in the <code>second</code> project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.second {\n    exports com.example.second;\n}\n</code></pre>\n<p><code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;artifactId&gt;second&lt;/artifactId&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;first&lt;/artifactId&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;scope&gt;test&lt;/test&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And the <code>SecondTest.java</code> file includes <code>First</code> as a dependency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.second;\n\nimport com.example.first.First;\n\npublic class SecondTest {\n    First first;\n    Second second;\n\n    // setup and test methods...\n}\n</code></pre>\n<h2>Problem</h2>\n<p>With the configuration above, the test compilation fails:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile (default-testCompile) on project second: Compilation failure: Compilation failure: \n[ERROR] [...]/src/com/example/SecondTest.java: cannot find symbol\n[ERROR]   symbol:   class First\n[ERROR]   location: package com.example.first\n</code></pre>\n<h2>Workaround</h2>\n<p>I could change the scope of the <code>com.example.first</code> in the <code>pom.xml</code> file of the to <code>compile</code> and add <code>requires com.example.first</code> in the <code>module-info.java</code> file in the <code>second</code> module and the test compilation would work. However, that would also imply that the <code>second</code> module would depend on <code>first</code> when it is being used elsewhere and that is not desired.</p>\n"},{"tags":["java","httpclient","resttemplate","connection-timeout","spring-resttemplate"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1642354066,"post_id":70732440,"comment_id":125043177,"body_markdown":"Correct. You cannot be sure what system default means. No. It will be a default on each operating system. And might change between releases of the operating system(s).","body":"Correct. You cannot be sure what system default means. No. It will be a default on each operating system. And might change between releases of the operating system(s)."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1642354427,"post_id":70732440,"comment_id":125043258,"body_markdown":"@ElliottFrisch, gr8 ++1. Your comment pushes me one step ahead. I have edited my Q based on ur comment.","body":"@ElliottFrisch, gr8 ++1. Your comment pushes me one step ahead. I have edited my Q based on ur comment."}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642354327,"creation_date":1642353943,"question_id":70732440,"body_markdown":"When I look at the source code of HttpClient which in turn uses org.apache.http.client.config.RequestConfig, I see below -\r\n\r\n-taken from org.apache.http.client.config.RequestConfig.java\r\n\r\n    /**\r\n         * Determines the timeout in milliseconds until a connection is established.\r\n         * &lt;p&gt;\r\n         * A timeout value of zero is interpreted as an infinite timeout.\r\n         * A negative value is interpreted as undefined (system default if applicable).\r\n         * &lt;/p&gt;\r\n         * &lt;p&gt;\r\n         * Default: {@code -1}\r\n         * &lt;/p&gt;\r\n         */\r\n        public int getConnectTimeout() {\r\n            return connectTimeout;\r\n        }\r\n\r\nI am not sure what `System default` here means. Does it mean that it will try to read System Properties and use that value. If this is the case then I will assume it will read `connectTimeout` system property and used the value of this property for this timeout config.\r\n\r\nIf I am wrong then kindly let me know what `System default` here means.\r\n\r\n**Edit -** like @elliott-frisch pointed. Default means OS default. But now I am wondering where i can find these values for various Operating Systems. Like for Linux (Ubuntu/CentOS etc) and for Windows.","title":"For HttpClient (org.apache.http.client), what does &quot;A negative value is interpreted as undefined (system default if applicable)&quot; mean?","body":"<p>When I look at the source code of HttpClient which in turn uses org.apache.http.client.config.RequestConfig, I see below -</p>\n<p>-taken from org.apache.http.client.config.RequestConfig.java</p>\n<pre><code>/**\n     * Determines the timeout in milliseconds until a connection is established.\n     * &lt;p&gt;\n     * A timeout value of zero is interpreted as an infinite timeout.\n     * A negative value is interpreted as undefined (system default if applicable).\n     * &lt;/p&gt;\n     * &lt;p&gt;\n     * Default: {@code -1}\n     * &lt;/p&gt;\n     */\n    public int getConnectTimeout() {\n        return connectTimeout;\n    }\n</code></pre>\n<p>I am not sure what <code>System default</code> here means. Does it mean that it will try to read System Properties and use that value. If this is the case then I will assume it will read <code>connectTimeout</code> system property and used the value of this property for this timeout config.</p>\n<p>If I am wrong then kindly let me know what <code>System default</code> here means.</p>\n<p><strong>Edit -</strong> like @elliott-frisch pointed. Default means OS default. But now I am wondering where i can find these values for various Operating Systems. Like for Linux (Ubuntu/CentOS etc) and for Windows.</p>\n"},{"tags":["java","spring","spring-boot","cron","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642347425,"creation_date":1642347425,"answer_id":70731582,"question_id":70731536,"body_markdown":"A schedule like `cron = &quot;0 30 01 * * 3,7&quot;` triggers every 3rd and 7th day of the week.","title":"How can I change di job CRON expression in order to run my Spring Batch job twice a week?","body":"<p>A schedule like <code>cron = &quot;0 30 01 * * 3,7&quot;</code> triggers every 3rd and 7th day of the week.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70731582,"answer_count":1,"score":0,"last_activity_date":1642354314,"creation_date":1642347081,"question_id":70731536,"body_markdown":"in a Spring Batch application on which I am working on I scheduled a job in this way:\r\n\r\n    @Scheduled(cron = &quot;0 30 01 * * 7&quot;)\r\n    public void runUpdateNotaryListInfoJob() {\r\n        LOGGER.info(&quot;SCHEDULED run of updateNotaryListInfoJob STARTED&quot;);\r\n        Map&lt;String, JobParameter&gt; confMap = new HashMap&lt;&gt;();\r\n        confMap.put(&quot;time&quot;, new JobParameter(System.currentTimeMillis()));\r\n        JobParameters jobParameters = new JobParameters(confMap);\r\n        try {\r\n            jobLauncher.run(updateNotaryListInfoJob, jobParameters);\r\n        }catch (Exception ex){\r\n        \tLOGGER.error(ex.getMessage());\r\n        }\r\n    }\r\n\r\nThis works fine and my job is runned every Sunday (day 7) at 01:30 of the night. Ok it is fine but now my client ask me to run it twice in a week (same time but in two different days). Is it possible to change the previous CRON expression so that my job is performed at 01:30 of every Wednesday and every Sunday?\r\n    ","title":"How can I change di job CRON expression in order to run my Spring Batch job twice a week?","body":"<p>in a Spring Batch application on which I am working on I scheduled a job in this way:</p>\n<pre><code>@Scheduled(cron = &quot;0 30 01 * * 7&quot;)\npublic void runUpdateNotaryListInfoJob() {\n    LOGGER.info(&quot;SCHEDULED run of updateNotaryListInfoJob STARTED&quot;);\n    Map&lt;String, JobParameter&gt; confMap = new HashMap&lt;&gt;();\n    confMap.put(&quot;time&quot;, new JobParameter(System.currentTimeMillis()));\n    JobParameters jobParameters = new JobParameters(confMap);\n    try {\n        jobLauncher.run(updateNotaryListInfoJob, jobParameters);\n    }catch (Exception ex){\n        LOGGER.error(ex.getMessage());\n    }\n}\n</code></pre>\n<p>This works fine and my job is runned every Sunday (day 7) at 01:30 of the night. Ok it is fine but now my client ask me to run it twice in a week (same time but in two different days). Is it possible to change the previous CRON expression so that my job is performed at 01:30 of every Wednesday and every Sunday?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642349466,"post_id":70731761,"comment_id":125041920,"body_markdown":"Can you just write your own comparator? I am sure you could wrap this functionality inside your own custom function to make it fit your needs.","body":"Can you just write your own comparator? I am sure you could wrap this functionality inside your own custom function to make it fit your needs."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1642349574,"post_id":70731761,"comment_id":125041942,"body_markdown":"https://www.baeldung.com/java-8-date-time-intro convert the dates to LocalDate using a formatter (strng to LocalDate), then getDayOfYear() and divide by 365 or some other maths to get what you want. i dont know of any ready made fn this might help https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","body":"<a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">baeldung.com/java-8-date-time-intro</a> convert the dates to LocalDate using a formatter (strng to LocalDate), then getDayOfYear() and divide by 365 or some other maths to get what you want. i dont know of any ready made fn this might help <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1642350439,"post_id":70731761,"comment_id":125042144,"body_markdown":"Why not use a count of days? That is what a decimal fraction of years between dates means: a count of days. A decimal fraction to 15 places creates the illusion of precision that is not actually present when comparing two dates.","body":"Why not use a count of days? That is what a decimal fraction of years between dates means: a count of days. A decimal fraction to 15 places creates the illusion of precision that is not actually present when comparing two dates."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1642350946,"post_id":70731761,"comment_id":125042244,"body_markdown":"You can get the days like this `long daysBetween = ChronoUnit.DAYS.between(date1, date2);`, and then divide the days by 365.00(or you can calculate it more precisely yourself by taking into account the number of leap years in the range). \n\nAlso shouldn&#39;t that function return 6.64.... years, not 7.64...?","body":"You can get the days like this <code>long daysBetween = ChronoUnit.DAYS.between(date1, date2);</code>, and then divide the days by 365.00(or you can calculate it more precisely yourself by taking into account the number of leap years in the range).   Also shouldn&#39;t that function return 6.64.... years, not 7.64...?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642351278,"post_id":70731761,"comment_id":125042349,"body_markdown":"What do you mean by “comma”? I do not see how that applies.","body":"What do you mean by “comma”? I do not see how that applies."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642352994,"post_id":70731761,"comment_id":125042892,"body_markdown":"No, that call to `ChronoUnit.YEARS.between` does not return 7, it returns 6. See [code run live at IdeOne.com](https://ideone.com/25UNHZ).","body":"No, that call to <code>ChronoUnit.YEARS.between</code> does not return 7, it returns 6. See <a href=\"https://ideone.com/25UNHZ\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642353942,"post_id":70731761,"comment_id":125043152,"body_markdown":"We shouldn&#39;t need to prove the math with code. A FULL seven years from June, 2012 MUST fall on June of 2019. January 2019 is 5 months short of 7 years. That was me doing an quick &quot;eyeball&quot; test.  Are we that dependent of calculators and software?","body":"We shouldn&#39;t need to prove the math with code. A FULL seven years from June, 2012 MUST fall on June of 2019. January 2019 is 5 months short of 7 years. That was me doing an quick &quot;eyeball&quot; test.  Are we that dependent of calculators and software?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1642354167,"post_id":70731761,"comment_id":125043206,"body_markdown":"&quot;_Days / 365 is to inaccurate. Sometimes you have a leap year sometimes not_&quot; How do you think a library will accomplish this? It will have to calculate it. There are plenty of online resources to figure out how to accomplish this accounting for leap years. If you need better precision (which I seriously doubt) than dividing elapsed time by 365.25, you can make your function as precise as you want if you spend the time researching how to do the calculation. I am willing to bet the formula is somewhere on the web. We&#39;ve given you a solid foundation to solve your problem.","body":"&quot;<i>Days / 365 is to inaccurate. Sometimes you have a leap year sometimes not</i>&quot; How do you think a library will accomplish this? It will have to calculate it. There are plenty of online resources to figure out how to accomplish this accounting for leap years. If you need better precision (which I seriously doubt) than dividing elapsed time by 365.25, you can make your function as precise as you want if you spend the time researching how to do the calculation. I am willing to bet the formula is somewhere on the web. We&#39;ve given you a solid foundation to solve your problem."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1642354371,"post_id":70731761,"comment_id":125043245,"body_markdown":"Read this and figure out how to do a super precise calculation accounting for leap years: https://www.grc.nasa.gov/www/k-12/Numbers/Math/Mathematical_Thinking/calendar_calculations.htm","body":"Read this and figure out how to do a super precise calculation accounting for leap years: <a href=\"https://www.grc.nasa.gov/www/k-12/Numbers/Math/Mathematical_Thinking/calendar_calculations.htm\" rel=\"nofollow noreferrer\">grc.nasa.gov/www/k-12/Numbers/Math/Mathematical_Thinking/&hellip;</a>"},{"owner":{"account_id":4107787,"reputation":1352,"user_id":3371251,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1642354927,"post_id":70731761,"comment_id":125043409,"body_markdown":"@hfontanez \nIn the financial sector, everything is always a bit more precise than anywhere else ;-) But that&#39;s also a solution for me. If there is no library that calculates this accurately, you just have to program your own function.","body":"@hfontanez  In the financial sector, everything is always a bit more precise than anywhere else ;-) But that&#39;s also a solution for me. If there is no library that calculates this accurately, you just have to program your own function."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642355247,"post_id":70731761,"comment_id":125043473,"body_markdown":"@Paul I have been developing software for a long time.  I am aware of that. But I am willing to bet that you don&#39;t know how precise dayjs really is. For all we know, it is doing the calculation exactly like we&#39;re showing you. I read the docs and I could not find anything about how the calculation is being made. I think that is the point you are missing here.  IN FACT, since this is an open-source library, you could crack open the library and see how the calculation is done and do the same in Java. Nothing is stopping you.","body":"@Paul I have been developing software for a long time.  I am aware of that. But I am willing to bet that you don&#39;t know how precise dayjs really is. For all we know, it is doing the calculation exactly like we&#39;re showing you. I read the docs and I could not find anything about how the calculation is being made. I think that is the point you are missing here.  IN FACT, since this is an open-source library, you could crack open the library and see how the calculation is done and do the same in Java. Nothing is stopping you."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642350721,"creation_date":1642350721,"answer_id":70731995,"question_id":70731761,"body_markdown":"I am not saying this is &quot;the answer&quot; but it should be a suggestion for you to base your solution on.\r\n\r\n```\r\npublic static void main(String[] args) {\t\t\r\n\tDate date1 = Date.from(Instant.now());\r\n\tCalendar cal = new GregorianCalendar(2021,Calendar.JANUARY, 1);\r\n\tDate date2 = cal.getTime();\r\n\t\t\r\n\tlong diffInMillies = Math.abs(date2.getTime() - date1.getTime());\r\n    long diff = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\r\n    System.out.println(&quot;Difference in days: &quot; + diff);\r\n    BigDecimal yDiff = new BigDecimal(diff/365.25);\r\n    System.out.println(&quot;Difference in years: &quot; + yDiff.doubleValue());\r\n}\r\n```\r\n\r\nYou could take some code like this, and wrap it in a function that manipulates the difference between two dates using standard Java libraries. As you can see in the example below, I used the Java library to calculate the difference of two dates in days, and then I just did a simple calculation to extrapolate the difference in years. I am not sure why this won&#39;t be an acceptable compromise.\r\n\r\nUsing `BigDecimal` instead of `double` gives you more precision as well as an easier way to define significant digits.","title":"Compare two dates in years with comma and leap year","body":"<p>I am not saying this is &quot;the answer&quot; but it should be a suggestion for you to base your solution on.</p>\n<pre><code>public static void main(String[] args) {        \n    Date date1 = Date.from(Instant.now());\n    Calendar cal = new GregorianCalendar(2021,Calendar.JANUARY, 1);\n    Date date2 = cal.getTime();\n        \n    long diffInMillies = Math.abs(date2.getTime() - date1.getTime());\n    long diff = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\n    System.out.println(&quot;Difference in days: &quot; + diff);\n    BigDecimal yDiff = new BigDecimal(diff/365.25);\n    System.out.println(&quot;Difference in years: &quot; + yDiff.doubleValue());\n}\n</code></pre>\n<p>You could take some code like this, and wrap it in a function that manipulates the difference between two dates using standard Java libraries. As you can see in the example below, I used the Java library to calculate the difference of two dates in days, and then I just did a simple calculation to extrapolate the difference in years. I am not sure why this won't be an acceptable compromise.</p>\n<p>Using <code>BigDecimal</code> instead of <code>double</code> gives you more precision as well as an easier way to define significant digits.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642353313,"creation_date":1642352158,"answer_id":70732192,"question_id":70731761,"body_markdown":"# tl;dr\r\n\r\n    ChronoUnit\r\n    .DAYS\r\n    .between( \r\n        LocalDate.parse( &quot;2012-06-05&quot; ) , \r\n        LocalDate.parse( &quot;2019-01-25&quot; )  \r\n    ) \r\n    /\r\n    365.2425d\r\n\r\nSee this [code run live at IdeOne.com](https://ideone.com/25UNHZ).\r\n\r\n&gt; 6.639424491947131\r\n\r\n\r\n# Details\r\n\r\nWhy not use a count of days? That is what a decimal fraction of years between dates means: a count of days. A decimal fraction to 15 places creates the illusion of precision that is not actually present when comparing two dates.\r\n\r\n    LocalDate start = LocalDate.parse( &quot;2012-06-05&quot; ) ;\r\n    LocalDate end = LocalDate.parse( &quot;2019-01-25&quot; ) ;\r\n   \r\n    long daysElapsed = ChronoUnit.DAYS.between( start , end ) ;\r\n\r\nIf you insist on a fraction, divide by whatever fractional count of days per year makes sense to you.\r\n\r\nThe days per year over a 400 year cycle of the Gregorian calendar is `365.2425`.\r\n\r\n    double DAYS_PER_YEAR = 365.2425d ;\r\n    double yearsElapsed = ( daysElapsed / DAYS_PER_YEAR ) ; \r\n\r\nFor accuracy, use `BigDecimal` rather than `double`. \r\n","title":"Compare two dates in years with comma and leap year","body":"<h1>tl;dr</h1>\n<pre><code>ChronoUnit\n.DAYS\n.between( \n    LocalDate.parse( &quot;2012-06-05&quot; ) , \n    LocalDate.parse( &quot;2019-01-25&quot; )  \n) \n/\n365.2425d\n</code></pre>\n<p>See this <a href=\"https://ideone.com/25UNHZ\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>6.639424491947131</p>\n</blockquote>\n<h1>Details</h1>\n<p>Why not use a count of days? That is what a decimal fraction of years between dates means: a count of days. A decimal fraction to 15 places creates the illusion of precision that is not actually present when comparing two dates.</p>\n<pre><code>LocalDate start = LocalDate.parse( &quot;2012-06-05&quot; ) ;\nLocalDate end = LocalDate.parse( &quot;2019-01-25&quot; ) ;\n\nlong daysElapsed = ChronoUnit.DAYS.between( start , end ) ;\n</code></pre>\n<p>If you insist on a fraction, divide by whatever fractional count of days per year makes sense to you.</p>\n<p>The days per year over a 400 year cycle of the Gregorian calendar is <code>365.2425</code>.</p>\n<pre><code>double DAYS_PER_YEAR = 365.2425d ;\ndouble yearsElapsed = ( daysElapsed / DAYS_PER_YEAR ) ; \n</code></pre>\n<p>For accuracy, use <code>BigDecimal</code> rather than <code>double</code>.</p>\n"}],"owner":{"account_id":4107787,"reputation":1352,"user_id":3371251,"accept_rate":100,"display_name":"Paul"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70732192,"answer_count":2,"score":3,"last_activity_date":1642353664,"creation_date":1642348857,"question_id":70731761,"body_markdown":"There are many entries on the internet how the difference between two dates can be compared. However, I still haven&#39;t found the right solution for me.\r\n\r\nIn short: I&#39;m looking for the equivalent of `dayjs` (javascript library - [dayJs][1]) function `diff` with the parameter &quot;years&quot; and a comma. So that I get the output (example): 7.645161290322581 years\r\n\r\n``` lang-js\r\nconst date1 = dayjs(&#39;2019-01-25&#39;)\r\ndate1.diff(&#39;2012-06-05&#39;, &#39;year&#39;, true) // 6.639424491947131\r\n```\r\n\r\nA nice solution would have been `between`. Unfortunately, the following code only gives me the year without a comma.\r\n\r\n``` lang-java\r\nlong diff = ChronoUnit.YEARS.between(date1, date2);\r\n```\r\n\r\nSadly, this solution gives me only 6 years and NOT 6.639424491947131.\r\n\r\nI&#39;ve found other solutions, but they don&#39;t take leap years into account.\r\n\r\nCould someone please help me here.\r\n\r\n**//EDIT**\r\n\r\nThanks for the anwers. However days is not an option. I need the years with comma.\r\nChanged 7.49 to 6.639424491947131\r\n\r\nDays / 365 is to inaccurate. Sometimes you have a leap year sometimes not.\r\n\r\n  [1]: https://day.js.org/docs/en/display/difference","title":"Compare two dates in years with comma and leap year","body":"<p>There are many entries on the internet how the difference between two dates can be compared. However, I still haven't found the right solution for me.</p>\n<p>In short: I'm looking for the equivalent of <code>dayjs</code> (javascript library - <a href=\"https://day.js.org/docs/en/display/difference\" rel=\"nofollow noreferrer\">dayJs</a>) function <code>diff</code> with the parameter &quot;years&quot; and a comma. So that I get the output (example): 7.645161290322581 years</p>\n<pre class=\"lang-js prettyprint-override\"><code>const date1 = dayjs('2019-01-25')\ndate1.diff('2012-06-05', 'year', true) // 6.639424491947131\n</code></pre>\n<p>A nice solution would have been <code>between</code>. Unfortunately, the following code only gives me the year without a comma.</p>\n<pre class=\"lang-java prettyprint-override\"><code>long diff = ChronoUnit.YEARS.between(date1, date2);\n</code></pre>\n<p>Sadly, this solution gives me only 6 years and NOT 6.639424491947131.</p>\n<p>I've found other solutions, but they don't take leap years into account.</p>\n<p>Could someone please help me here.</p>\n<p><strong>//EDIT</strong></p>\n<p>Thanks for the anwers. However days is not an option. I need the years with comma.\nChanged 7.49 to 6.639424491947131</p>\n<p>Days / 365 is to inaccurate. Sometimes you have a leap year sometimes not.</p>\n"},{"tags":["java","oop","inheritance","abstract-class"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1642242066,"post_id":70719107,"comment_id":125022140,"body_markdown":"You might want to check questions about overriding the `equals()` method like on https://stackoverflow.com/questions/8180430/how-to-override-equals-method-in-java, as the issue might be similar.","body":"You might want to check questions about overriding the <code>equals()</code> method like on <a href=\"https://stackoverflow.com/questions/8180430/how-to-override-equals-method-in-java\" title=\"how to override equals method in java\">stackoverflow.com/questions/8180430/&hellip;</a>, as the issue might be similar."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642229148,"creation_date":1642229148,"answer_id":70719409,"question_id":70719107,"body_markdown":"Your approach is correct. \r\nFor clarification purposes, whenever you are  overriding isSimilar method, you can you this keyword to shows that the comparison will take place between the brand of the device passed and the object which is calling \r\nthe method. your implementation of isSimilar is also correct but you can optimize this by just keeping it as one liner. \r\n\r\n      @Override\r\n      public boolean isSimilar(Device d) {\r\n            return d.getBrand().equalsIgnoreCase(this.getBrand()) ;\r\n      }\r\n\r\nNow to compare them, I have created a main class where I am creating the objects of class Server and Network device and calling the isSimilar method. \r\n\r\n    public class Main \r\n     \r\n    {\r\n      public static void main(String args[]) {\r\n        Device deviceA = new Server(1,&quot;samsung&quot;,&quot;core-4&quot;,&quot;ten&quot;); \r\n        \r\n        Device deviceB = new Server(1,&quot;samsung&quot;,&quot;core-4&quot;,&quot;twenty&quot;); \r\n        \r\n        System.out.println(deviceA.isSimilar(deviceB));\r\n        \r\n        \r\n        Device deviceC = new NetworkDevice(1,&quot;samsung&quot;,4,false); \r\n        \r\n        Device deviceD = new NetworkDevice(1,&quot;galaxy&quot;,6,true); \r\n        \r\n        System.out.println(deviceC.isSimilar(deviceD));\r\n        \r\n      }\r\n    }\r\n\r\nand the output is as follows \r\n\r\n    true\r\n    false\r\n    \r\n\r\n\r\n","title":"Abstract Classes &amp; Methods In Java","body":"<p>Your approach is correct.\nFor clarification purposes, whenever you are  overriding isSimilar method, you can you this keyword to shows that the comparison will take place between the brand of the device passed and the object which is calling\nthe method. your implementation of isSimilar is also correct but you can optimize this by just keeping it as one liner.</p>\n<pre><code>  @Override\n  public boolean isSimilar(Device d) {\n        return d.getBrand().equalsIgnoreCase(this.getBrand()) ;\n  }\n</code></pre>\n<p>Now to compare them, I have created a main class where I am creating the objects of class Server and Network device and calling the isSimilar method.</p>\n<pre><code>public class Main \n \n{\n  public static void main(String args[]) {\n    Device deviceA = new Server(1,&quot;samsung&quot;,&quot;core-4&quot;,&quot;ten&quot;); \n    \n    Device deviceB = new Server(1,&quot;samsung&quot;,&quot;core-4&quot;,&quot;twenty&quot;); \n    \n    System.out.println(deviceA.isSimilar(deviceB));\n    \n    \n    Device deviceC = new NetworkDevice(1,&quot;samsung&quot;,4,false); \n    \n    Device deviceD = new NetworkDevice(1,&quot;galaxy&quot;,6,true); \n    \n    System.out.println(deviceC.isSimilar(deviceD));\n    \n  }\n}\n</code></pre>\n<p>and the output is as follows</p>\n<pre><code>true\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8298463,"reputation":1,"user_id":6237890,"display_name":"Ondrej Čičk&#225;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642231421,"creation_date":1642230791,"answer_id":70719532,"question_id":70719107,"body_markdown":"If I understand the assignment correctly, isSimilar is true only if the device has same subclass, with same properties.\r\n\r\nIn this case you can simply check Device type and cast it to the subclass. For example, for Server class\r\n\r\n    @Override\r\n    public boolean isSimilar(Device d) {\r\n        if (d == null) {\r\n            return false;\r\n        }\r\n\r\n        if (d.getClass() != this.getClass()) {\r\n            return false;\r\n        }\r\n\r\n        final Server  otherServer = (Server) d;\r\n        return this.getBrand().equalsIgnoreCase(otherServer.getBrand()) &amp;&amp;\r\n                this.getOperatingSystemType().equalsIgnoreCase(otherServer.getOperatingSystemType()) &amp;&amp;\r\n                this.getAvailableServices().equalsIgnoreCase(otherServer.getAvailableServices());\r\n\r\n    }\r\n\r\nBy the way this type of logic reminds me default java object function - equals().(https://www.baeldung.com/java-equals-hashcode-contracts)\r\n\r\n\r\n","title":"Abstract Classes &amp; Methods In Java","body":"<p>If I understand the assignment correctly, isSimilar is true only if the device has same subclass, with same properties.</p>\n<p>In this case you can simply check Device type and cast it to the subclass. For example, for Server class</p>\n<pre><code>@Override\npublic boolean isSimilar(Device d) {\n    if (d == null) {\n        return false;\n    }\n\n    if (d.getClass() != this.getClass()) {\n        return false;\n    }\n\n    final Server  otherServer = (Server) d;\n    return this.getBrand().equalsIgnoreCase(otherServer.getBrand()) &amp;&amp;\n            this.getOperatingSystemType().equalsIgnoreCase(otherServer.getOperatingSystemType()) &amp;&amp;\n            this.getAvailableServices().equalsIgnoreCase(otherServer.getAvailableServices());\n\n}\n</code></pre>\n<p>By the way this type of logic reminds me default java object function - equals().(<a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-equals-hashcode-contracts</a>)</p>\n"}],"owner":{"account_id":20406287,"reputation":11,"user_id":14970769,"display_name":"Tareq El-Sayyed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70719409,"answer_count":2,"score":0,"last_activity_date":1642353602,"creation_date":1642224813,"question_id":70719107,"body_markdown":"I am working on a Java exercise where a parent class is abstract, and the subclasses override the `isSimilar` method. This method should take a device parameter. In the `Server` subclass, this method should compare the Brand, Operating System, and Available Services. In the `NetworkDevice` subclass, this method should compare the Brand, Number of Ports, and Power Over Ethernet.  \r\n\r\nThe problem with this method is that I can&#39;t compare the devices if it only takes in one parameter. (At least I could not find out how to do so.)\r\n\r\n-- Device Class -- \r\n\r\n```\r\npublic abstract class Device {\r\n    protected int id;\r\n    protected String brand;\r\n\r\n    // The Constructor Methods.\r\n    public Device(){}\r\n    public Device(int id, String brand){\r\n        this.id = id;\r\n        this.brand = brand;\r\n    }\r\n\r\n    // The Get Methods.\r\n    public int getId() {return id;}\r\n    public String getBrand() {return brand;}\r\n\r\n    // The Set Methods.\r\n    public void setId(int id) {this.id = id;}\r\n    public void setBrand(String brand) {this.brand = brand;}\r\n\r\n    // Returning Information.\r\n    public String toString(){\r\n        String s = &quot;Id; &quot; + brand + &quot;, Brand: &quot; + brand + &quot;. &quot;;\r\n        return s;\r\n    }\r\n\r\n    // Other Abstract Classes.\r\n    public abstract boolean isSimilar(Device d);\r\n}\r\n```\r\n\r\n-- Server Class -- \r\n\r\n```\r\npublic class Server extends Device{\r\n    private String operatingSystemType;\r\n    private String availableServices;\r\n\r\n    // The Constructor Methods.\r\n    public Server(){}\r\n    public Server(int id, String brand, String operatingSystemType, String availableServices){\r\n        super(id, brand);\r\n        this.operatingSystemType = operatingSystemType;\r\n        this.availableServices = availableServices;\r\n    }\r\n\r\n    // The Get Methods.\r\n    public String getOperatingSystemType() {return operatingSystemType;}\r\n    public String getAvailableServices() {return availableServices;}\r\n\r\n    // The Set Methods.\r\n    public void setOperatingSystemType(String operatingSystemType) {this.operatingSystemType = operatingSystemType;}\r\n    public void setAvailableServices(String availableServices) {this.availableServices = availableServices;}\r\n\r\n    // Server Related Methods.\r\n    public boolean addAService(String service){\r\n        String[] services = getAvailableServices().split(&quot;:&quot;);\r\n        for (int i = 0; i &lt; services.length; i++) {\r\n            if (services[i].equalsIgnoreCase(service))\r\n                return false;\r\n        }\r\n        setAvailableServices(getAvailableServices() + &quot;:&quot; + service);\r\n        return true;\r\n    }\r\n\r\n    public boolean findAService(String service){\r\n        String[] services = getAvailableServices().split(&quot;:&quot;);\r\n        for (int i = 0; i &lt; services.length; i++) {\r\n            if (services[i].equalsIgnoreCase(service))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isSimilar(Device d) {\r\n        if(d.getBrand().equalsIgnoreCase(getBrand())) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // Returning Information.\r\n    @Override\r\n    public String toString() {\r\n        String s = super.toString() + &quot;, Operating System: &quot; + getOperatingSystemType() + &quot;, Services: &quot; + getAvailableServices() + &quot;.&quot;;\r\n        return s;\r\n    }\r\n}\r\n```\r\n\r\n-- Network Device Class -- \r\n\r\n```\r\npublic class NetworkDevice extends Device{\r\n    private int numberOfPorts;\r\n    private boolean poweredByEthernet;\r\n\r\n    // The Constructor Methods.\r\n    public NetworkDevice(){}\r\n    public NetworkDevice(int id, String brand, int numberOfPorts, boolean poweredByEthernet){\r\n        super(id, brand);\r\n        this.numberOfPorts = numberOfPorts;\r\n        this.poweredByEthernet = poweredByEthernet;\r\n    }\r\n\r\n    // The Get Methods.\r\n    public int getNumberOfPorts() {return numberOfPorts;}\r\n    public boolean isPoweredByEthernet() {return poweredByEthernet;}\r\n\r\n    // The Set Methods.\r\n    public void setNumberOfPorts(int numberOfPorts) {this.numberOfPorts = numberOfPorts;}\r\n    public void setPoweredByEthernet(boolean poweredByEthernet) {this.poweredByEthernet = poweredByEthernet;}\r\n\r\n    @Override\r\n    public boolean isSimilar(Device d) {\r\n        if(d.getBrand().equalsIgnoreCase(getBrand()))\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    // Returning Information.\r\n    @Override\r\n    public String toString() {\r\n        return super.toString() + &quot;NetworkDevice{&quot; +\r\n                &quot;numberOfPorts=&quot; + numberOfPorts +\r\n                &quot;, poweredByEthernet=&quot; + poweredByEthernet +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```","title":"Abstract Classes &amp; Methods In Java","body":"<p>I am working on a Java exercise where a parent class is abstract, and the subclasses override the <code>isSimilar</code> method. This method should take a device parameter. In the <code>Server</code> subclass, this method should compare the Brand, Operating System, and Available Services. In the <code>NetworkDevice</code> subclass, this method should compare the Brand, Number of Ports, and Power Over Ethernet.</p>\n<p>The problem with this method is that I can't compare the devices if it only takes in one parameter. (At least I could not find out how to do so.)</p>\n<p>-- Device Class --</p>\n<pre><code>public abstract class Device {\n    protected int id;\n    protected String brand;\n\n    // The Constructor Methods.\n    public Device(){}\n    public Device(int id, String brand){\n        this.id = id;\n        this.brand = brand;\n    }\n\n    // The Get Methods.\n    public int getId() {return id;}\n    public String getBrand() {return brand;}\n\n    // The Set Methods.\n    public void setId(int id) {this.id = id;}\n    public void setBrand(String brand) {this.brand = brand;}\n\n    // Returning Information.\n    public String toString(){\n        String s = &quot;Id; &quot; + brand + &quot;, Brand: &quot; + brand + &quot;. &quot;;\n        return s;\n    }\n\n    // Other Abstract Classes.\n    public abstract boolean isSimilar(Device d);\n}\n</code></pre>\n<p>-- Server Class --</p>\n<pre><code>public class Server extends Device{\n    private String operatingSystemType;\n    private String availableServices;\n\n    // The Constructor Methods.\n    public Server(){}\n    public Server(int id, String brand, String operatingSystemType, String availableServices){\n        super(id, brand);\n        this.operatingSystemType = operatingSystemType;\n        this.availableServices = availableServices;\n    }\n\n    // The Get Methods.\n    public String getOperatingSystemType() {return operatingSystemType;}\n    public String getAvailableServices() {return availableServices;}\n\n    // The Set Methods.\n    public void setOperatingSystemType(String operatingSystemType) {this.operatingSystemType = operatingSystemType;}\n    public void setAvailableServices(String availableServices) {this.availableServices = availableServices;}\n\n    // Server Related Methods.\n    public boolean addAService(String service){\n        String[] services = getAvailableServices().split(&quot;:&quot;);\n        for (int i = 0; i &lt; services.length; i++) {\n            if (services[i].equalsIgnoreCase(service))\n                return false;\n        }\n        setAvailableServices(getAvailableServices() + &quot;:&quot; + service);\n        return true;\n    }\n\n    public boolean findAService(String service){\n        String[] services = getAvailableServices().split(&quot;:&quot;);\n        for (int i = 0; i &lt; services.length; i++) {\n            if (services[i].equalsIgnoreCase(service))\n                return true;\n        }\n        return false;\n    }\n\n    @Override\n    public boolean isSimilar(Device d) {\n        if(d.getBrand().equalsIgnoreCase(getBrand())) {\n            return true;\n        }\n        return false;\n    }\n\n    // Returning Information.\n    @Override\n    public String toString() {\n        String s = super.toString() + &quot;, Operating System: &quot; + getOperatingSystemType() + &quot;, Services: &quot; + getAvailableServices() + &quot;.&quot;;\n        return s;\n    }\n}\n</code></pre>\n<p>-- Network Device Class --</p>\n<pre><code>public class NetworkDevice extends Device{\n    private int numberOfPorts;\n    private boolean poweredByEthernet;\n\n    // The Constructor Methods.\n    public NetworkDevice(){}\n    public NetworkDevice(int id, String brand, int numberOfPorts, boolean poweredByEthernet){\n        super(id, brand);\n        this.numberOfPorts = numberOfPorts;\n        this.poweredByEthernet = poweredByEthernet;\n    }\n\n    // The Get Methods.\n    public int getNumberOfPorts() {return numberOfPorts;}\n    public boolean isPoweredByEthernet() {return poweredByEthernet;}\n\n    // The Set Methods.\n    public void setNumberOfPorts(int numberOfPorts) {this.numberOfPorts = numberOfPorts;}\n    public void setPoweredByEthernet(boolean poweredByEthernet) {this.poweredByEthernet = poweredByEthernet;}\n\n    @Override\n    public boolean isSimilar(Device d) {\n        if(d.getBrand().equalsIgnoreCase(getBrand()))\n            return true;\n        return false;\n    }\n\n    // Returning Information.\n    @Override\n    public String toString() {\n        return super.toString() + &quot;NetworkDevice{&quot; +\n                &quot;numberOfPorts=&quot; + numberOfPorts +\n                &quot;, poweredByEthernet=&quot; + poweredByEthernet +\n                '}';\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat"],"answers":[{"tags":[],"owner":{"account_id":21172107,"reputation":34,"user_id":15568225,"display_name":"Digvijay Anand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642353555,"creation_date":1642279794,"answer_id":70725314,"question_id":70720100,"body_markdown":"**With Default Rendering with template**\r\n\r\nIf you are using default &quot;/resources/templates&quot; for rendering view.Spring Boot only includes auto-configuration support for the following templating engines:\r\n\r\n 1. FreeMarker \r\n 2. Groovy \r\n 3. Thyme-leaf \r\n 4. Velocity\r\n\r\nExample:\r\n\r\n**Step1:**\r\n\r\nFor using thymeleaf you should add dependency either with gradle and maven\r\nGradle:\r\n\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-thymeleaf&#39;, version: &#39;2.5.4&#39;\r\n\r\nOR\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Step2:**\r\nAdd below code with properties file\r\n\r\n    (Optional)spring.thymeleaf.prefix=classpath:/templates/\r\n    \r\n    spring.thymeleaf.suffix=.html\r\n\r\n**With MVC support** \r\n\r\nBy default, this handler serves static content from any of /static, /public, /resources, and /META-INF/resources directories that are on the classpath. Since src/main/resources is typically on the classpath by default, we can place any of these directories there.\r\n\r\nOnly static folder is available for rendering view.You can customise using below code with properties file.By default Spring Boot will serve static content from a folder called /static (or /public or /resources or /META-INF/resources) in the classpath or from the root of the ServletContext. It uses the ResourceHttpRequestHandler from Spring MVC so you can modify that behavior by adding your own WebMvcConfigurerAdapter and overriding the addResourceHandlers method.\r\n\r\n   \r\n\r\n    spring.mvc.static-path-pattern=/content/**\r\n    spring.web.resources.static-locations=classpath:/files/,classpath:/static-files\r\n\r\nMore information visit\r\n\r\n&lt;https://docs.spring.io/spring-boot/docs/1.1.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-static-content&gt;\r\n\r\n&lt;https://www.baeldung.com/spring-mvc-static-resources&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"What do spring.mvc.view.prefix and spring.mvc.view.suffix have to be?","body":"<p><strong>With Default Rendering with template</strong></p>\n<p>If you are using default &quot;/resources/templates&quot; for rendering view.Spring Boot only includes auto-configuration support for the following templating engines:</p>\n<ol>\n<li>FreeMarker</li>\n<li>Groovy</li>\n<li>Thyme-leaf</li>\n<li>Velocity</li>\n</ol>\n<p>Example:</p>\n<p><strong>Step1:</strong></p>\n<p>For using thymeleaf you should add dependency either with gradle and maven\nGradle:</p>\n<pre><code>implementation group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf', version: '2.5.4'\n</code></pre>\n<p>OR\nMaven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Step2:</strong>\nAdd below code with properties file</p>\n<pre><code>(Optional)spring.thymeleaf.prefix=classpath:/templates/\n\nspring.thymeleaf.suffix=.html\n</code></pre>\n<p><strong>With MVC support</strong></p>\n<p>By default, this handler serves static content from any of /static, /public, /resources, and /META-INF/resources directories that are on the classpath. Since src/main/resources is typically on the classpath by default, we can place any of these directories there.</p>\n<p>Only static folder is available for rendering view.You can customise using below code with properties file.By default Spring Boot will serve static content from a folder called /static (or /public or /resources or /META-INF/resources) in the classpath or from the root of the ServletContext. It uses the ResourceHttpRequestHandler from Spring MVC so you can modify that behavior by adding your own WebMvcConfigurerAdapter and overriding the addResourceHandlers method.</p>\n<pre><code>spring.mvc.static-path-pattern=/content/**\nspring.web.resources.static-locations=classpath:/files/,classpath:/static-files\n</code></pre>\n<p>More information visit</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.1.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-static-content\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.1.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-static-content</a></p>\n<p><a href=\"https://www.baeldung.com/spring-mvc-static-resources\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-static-resources</a></p>\n"}],"owner":{"account_id":23947002,"reputation":59,"user_id":17939216,"display_name":"Irimitlad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70725314,"answer_count":1,"score":2,"last_activity_date":1642353555,"creation_date":1642237145,"question_id":70720100,"body_markdown":"I created a Spring Boot demo app with Maven using Spring Initializr (that&#39;s my almost the very first usage of Spring). It works, but for some reason doesn&#39;t show any pages besides `index.html`. If I&#39;m right, that&#39;s because of configuration in `application.properties`, but I just don&#39;t know, what have I add there.\r\n\r\nMy project&#39;s sources structure:\r\n\r\n```\r\nsrc\r\n  main\r\n    java\r\n      irimi\r\n        springbootdemo\r\n          SpringBootDemoApplication.java\r\n          SpringBootDemoApplicationController.java\r\n    resources\r\n      static\r\n        index.html\r\n      templates\r\n        test-form.html\r\n        test-page.jsp\r\n      application.properties\r\n```\r\n\r\nI tried to add different prefixes and suffixes into `application.properties`, but nothing works. Just as an example:\r\n\r\n```\r\nspring.mvc.view.prefix=/templates/\r\nspring.mvc.view.suffix=.html\r\n```\r\n\r\nAgain, `index.html` opens perfectly.\r\n\r\nMaybe, it would be good to show here my dependences too:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThat&#39;s an error page:\r\n\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nSat Jan 15 11:49:12 MSK 2022\r\nThere was an unexpected error (type=Not Found, status=404).\r\nNo message available\r\n```\r\n\r\nIf my error is really in `application.properties`, what have I put there?","title":"What do spring.mvc.view.prefix and spring.mvc.view.suffix have to be?","body":"<p>I created a Spring Boot demo app with Maven using Spring Initializr (that's my almost the very first usage of Spring). It works, but for some reason doesn't show any pages besides <code>index.html</code>. If I'm right, that's because of configuration in <code>application.properties</code>, but I just don't know, what have I add there.</p>\n<p>My project's sources structure:</p>\n<pre><code>src\n  main\n    java\n      irimi\n        springbootdemo\n          SpringBootDemoApplication.java\n          SpringBootDemoApplicationController.java\n    resources\n      static\n        index.html\n      templates\n        test-form.html\n        test-page.jsp\n      application.properties\n</code></pre>\n<p>I tried to add different prefixes and suffixes into <code>application.properties</code>, but nothing works. Just as an example:</p>\n<pre><code>spring.mvc.view.prefix=/templates/\nspring.mvc.view.suffix=.html\n</code></pre>\n<p>Again, <code>index.html</code> opens perfectly.</p>\n<p>Maybe, it would be good to show here my dependences too:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>That's an error page:</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nSat Jan 15 11:49:12 MSK 2022\nThere was an unexpected error (type=Not Found, status=404).\nNo message available\n</code></pre>\n<p>If my error is really in <code>application.properties</code>, what have I put there?</p>\n"},{"tags":["java","syntax","import","package"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1427356427,"post_id":29273362,"comment_id":46746307,"body_markdown":"I think it would be much simpler to give different classes, different names. ;) i.e. instead of aliasing the classes, rename them instead.","body":"I think it would be much simpler to give different classes, different names. ;) i.e. instead of aliasing the classes, rename them instead."}],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1427356308,"creation_date":1427356308,"answer_id":29273376,"question_id":29273362,"body_markdown":"There is no way to do this in Java.","title":"Java Package Import Alias","body":"<p>There is no way to do this in Java.</p>\n"},{"tags":[],"owner":{"account_id":2533222,"reputation":4782,"user_id":2201050,"display_name":"folkol"},"down_vote_count":6,"up_vote_count":32,"is_accepted":true,"score":26,"last_activity_date":1642353542,"creation_date":1427356443,"answer_id":29273414,"question_id":29273362,"body_markdown":"No, you can not do &quot;import x as y;&quot; in Java.\r\n\r\nWhat you CAN do is to extend the class, or write a wrapper class for it, and import that one instead.\r\n\r\n    import com.backend.mypackage.a.b.c.d.UserDto;\r\n\r\n    public class ImportAlias {\r\n        static class UserDtoAlias extends com.service.mypackage.a.b.c.d.UserDto {\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            UserDto userBackend = new UserDto();\r\n            UserDtoAlias userService = new UserDtoAlias();\r\n\r\n            mapper(userBackend, userService);\r\n        }\r\n\r\n        private static void mapper(UserDto userBackend, UserDtoAlias userService) {\r\n            // ...\r\n        }\r\n    }\r\n","title":"Java Package Import Alias","body":"<p>No, you can not do &quot;import x as y;&quot; in Java.</p>\n<p>What you CAN do is to extend the class, or write a wrapper class for it, and import that one instead.</p>\n<pre><code>import com.backend.mypackage.a.b.c.d.UserDto;\n\npublic class ImportAlias {\n    static class UserDtoAlias extends com.service.mypackage.a.b.c.d.UserDto {\n    }\n\n    public static void main(String[] args) {\n        UserDto userBackend = new UserDto();\n        UserDtoAlias userService = new UserDtoAlias();\n\n        mapper(userBackend, userService);\n    }\n\n    private static void mapper(UserDto userBackend, UserDtoAlias userService) {\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5341846,"reputation":450,"user_id":4258657,"accept_rate":83,"display_name":"Dirk Rother"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48533,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"closed_date":1442125673,"accepted_answer_id":29273414,"answer_count":2,"score":23,"last_activity_date":1642353542,"creation_date":1427356259,"question_id":29273362,"body_markdown":"Is it possible in Java to import packages and give this package import a specific name?\r\n\r\nI currently have a class, which uses some DTO&#39;s from a backend and a service package. In both packages the DTO&#39;s have the same name. And I think this isn&#39;t quite readable:\r\n\r\n    com.backend.mypackage.a.b.c.d.UserDto userBackend = new com.backend.mypackage.a.b.c.d.UserDto();\r\n    com.service.mypackage.a.b.c.d.UserDto userService = new com.service.mypackage.a.b.c.d.UserDto();\r\n\r\n    mapper(userBackend, userService);\r\n\r\nThis is a small example. The class is actually quite complex and has a lot more code in it. \r\n\r\nDoes Java have something like `import com.backend.mypackage.a.b.c.d.UserDto as userDtoBackend` so i can shorten my source code?","title":"Java Package Import Alias","body":"<p>Is it possible in Java to import packages and give this package import a specific name?</p>\n\n<p>I currently have a class, which uses some DTO's from a backend and a service package. In both packages the DTO's have the same name. And I think this isn't quite readable:</p>\n\n<pre><code>com.backend.mypackage.a.b.c.d.UserDto userBackend = new com.backend.mypackage.a.b.c.d.UserDto();\ncom.service.mypackage.a.b.c.d.UserDto userService = new com.service.mypackage.a.b.c.d.UserDto();\n\nmapper(userBackend, userService);\n</code></pre>\n\n<p>This is a small example. The class is actually quite complex and has a lot more code in it. </p>\n\n<p>Does Java have something like <code>import com.backend.mypackage.a.b.c.d.UserDto as userDtoBackend</code> so i can shorten my source code?</p>\n"},{"tags":["java","regex","string","escaping"],"comments":[{"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"score":0,"creation_date":1432299294,"post_id":30397243,"comment_id":48882228,"body_markdown":"escape the backslash one more time. And don&#39;t forget to add semicolon at the last. `stringA.replaceAll(&quot;\\\\W&quot;,&quot;&quot;);`","body":"escape the backslash one more time. And don&#39;t forget to add semicolon at the last. <code>stringA.replaceAll(&quot;\\\\W&quot;,&quot;&quot;);</code>"},{"owner":{"account_id":1341598,"reputation":4639,"user_id":1283166,"accept_rate":52,"display_name":"Davio"},"score":0,"creation_date":1432299315,"post_id":30397243,"comment_id":48882252,"body_markdown":"Escape the escaper! \\ is not only a Regex escape char, it&#39;s a Java escape char as well!","body":"Escape the escaper! \\ is not only a Regex escape char, it&#39;s a Java escape char as well!"}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1432299515,"creation_date":1432299515,"answer_id":30397360,"question_id":30397243,"body_markdown":"&gt; However, the following code could not even compile in Java \r\n\r\nJava has no idea that the string is going to regex engine. Anything in doublequotes is a string literal to Java compiler, so it tries to interpret `\\W` as a [*Java escape sequence*][1], which does not exist. This trigger a compile-time error.\r\n\r\n&gt; If I use only `\\\\W` rather than `\\W`, the above code turns out to be correct. \r\n\r\nThis is because `\\\\` is a valid escape sequence, which means &quot;a single slash&quot;. When you put two slashes inside a string literal, Java compiler removes one slash, so regex engine sees `\\W`, not `\\\\W`\r\n\r\n&gt; So, what is the differences between `\\W`, `\\\\W`, and when to use brackets like `[^a-zA-Z0-9_]`\r\n\r\nThe third one is a longer version of the second one; the first one does not compile.\r\n\r\n  [1]: https://stackoverflow.com/q/1367322/335858","title":"Differences between \\W, \\\\W, [^a-zA-Z0-9_] in regular expression","body":"<blockquote>\n  <p>However, the following code could not even compile in Java </p>\n</blockquote>\n\n<p>Java has no idea that the string is going to regex engine. Anything in doublequotes is a string literal to Java compiler, so it tries to interpret <code>\\W</code> as a <a href=\"https://stackoverflow.com/q/1367322/335858\"><em>Java escape sequence</em></a>, which does not exist. This trigger a compile-time error.</p>\n\n<blockquote>\n  <p>If I use only <code>\\\\W</code> rather than <code>\\W</code>, the above code turns out to be correct. </p>\n</blockquote>\n\n<p>This is because <code>\\\\</code> is a valid escape sequence, which means \"a single slash\". When you put two slashes inside a string literal, Java compiler removes one slash, so regex engine sees <code>\\W</code>, not <code>\\\\W</code></p>\n\n<blockquote>\n  <p>So, what is the differences between <code>\\W</code>, <code>\\\\W</code>, and when to use brackets like <code>[^a-zA-Z0-9_]</code></p>\n</blockquote>\n\n<p>The third one is a longer version of the second one; the first one does not compile.</p>\n"}],"owner":{"account_id":5355270,"reputation":709,"user_id":4268119,"accept_rate":86,"display_name":"Yao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18642,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30397360,"answer_count":1,"score":3,"last_activity_date":1642353516,"creation_date":1432299181,"question_id":30397243,"body_markdown":"  I am trying to find all characters, which are not letters(upper/lowercase), numbers, and underscore, and remove it.\r\n  \r\n```java\r\nstringA.replaceAll(&quot;[^a-zA-Z0-9_]&quot;,&quot;&quot;)   // works perfectly fine\r\n```\r\n\r\nHowever, the following code could not even compile in Java:\r\n    \r\n```java\r\nstringA.replaceAll(&quot;\\W&quot;,&quot;&quot;);\r\n// or also\r\nstringA.replaceAll(&quot;[\\W]&quot;,&quot;&quot;);\r\n// or also\r\nstringA.replaceAll(&quot;[\\\\W]&quot;,&quot;&quot;);\r\n```\r\n\r\nIf I use only `&quot;\\\\W&quot;` rather than `&quot;\\W&quot;`, the above code turns out to be correct. &lt;br /&gt;\r\nSo, what is the differences between `\\W`, `\\\\W`, and when to use brackets like `[^a-zA-Z0-9_]`","title":"Differences between \\W, \\\\W, [^a-zA-Z0-9_] in regular expression","body":"<p>I am trying to find all characters, which are not letters(upper/lowercase), numbers, and underscore, and remove it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>stringA.replaceAll(&quot;[^a-zA-Z0-9_]&quot;,&quot;&quot;)   // works perfectly fine\n</code></pre>\n<p>However, the following code could not even compile in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stringA.replaceAll(&quot;\\W&quot;,&quot;&quot;);\n// or also\nstringA.replaceAll(&quot;[\\W]&quot;,&quot;&quot;);\n// or also\nstringA.replaceAll(&quot;[\\\\W]&quot;,&quot;&quot;);\n</code></pre>\n<p>If I use only <code>&quot;\\\\W&quot;</code> rather than <code>&quot;\\W&quot;</code>, the above code turns out to be correct. <br />\nSo, what is the differences between <code>\\W</code>, <code>\\\\W</code>, and when to use brackets like <code>[^a-zA-Z0-9_]</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642342438,"post_id":70730841,"comment_id":125040190,"body_markdown":"The variable is _already_ assigned and &quot;stored&quot; before it changes. If you want to store it again somewhere else, use another variable. Please clarify what output you&#39;re expecting","body":"The variable is <i>already</i> assigned and &quot;stored&quot; before it changes. If you want to store it again somewhere else, use another variable. Please clarify what output you&#39;re expecting"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642342607,"post_id":70730841,"comment_id":125040235,"body_markdown":"Also, if I understand your code correctly, the first value of counter will be 5 since you&#39;re multiplying `1 * 5`","body":"Also, if I understand your code correctly, the first value of counter will be 5 since you&#39;re multiplying <code>1 * 5</code>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642342977,"creation_date":1642342977,"answer_id":70730955,"question_id":70730841,"body_markdown":"&gt; saved before counter changes back to 1 \r\n\r\nSure. Put code before it resets that saves it. For example, a list\r\n\r\n```\r\nList&lt;Integer&gt; counters = new ArrayList&lt;&gt;();\r\nfor (int i = input1.length() - 1; i &gt;= 0 ; i--) {\r\n        char charValueOfI = input1.charAt(i);\r\n        String StringValueofI = String.valueOf(charValueOfI);\r\n        int intValueofI = Integer.parseInt(StringValueofI);\r\n        counter = 1;\r\n\r\n        for (int j = intValueofI; j &gt;0 ; j--) {\r\n            counter = counter * j; \r\n        }\r\n        counters.add(counter);\r\n}\r\n```","title":"Storing a temporary value of a constantly changing variable","body":"<blockquote>\n<p>saved before counter changes back to 1</p>\n</blockquote>\n<p>Sure. Put code before it resets that saves it. For example, a list</p>\n<pre><code>List&lt;Integer&gt; counters = new ArrayList&lt;&gt;();\nfor (int i = input1.length() - 1; i &gt;= 0 ; i--) {\n        char charValueOfI = input1.charAt(i);\n        String StringValueofI = String.valueOf(charValueOfI);\n        int intValueofI = Integer.parseInt(StringValueofI);\n        counter = 1;\n\n        for (int j = intValueofI; j &gt;0 ; j--) {\n            counter = counter * j; \n        }\n        counters.add(counter);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19742502,"reputation":30,"user_id":14455658,"display_name":"Likewise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642344720,"creation_date":1642344720,"answer_id":70731189,"question_id":70730841,"body_markdown":"You need to have a sum variable before the for cycles, and in the first for, after the second, have the sum add the counter.","title":"Storing a temporary value of a constantly changing variable","body":"<p>You need to have a sum variable before the for cycles, and in the first for, after the second, have the sum add the counter.</p>\n"}],"owner":{"account_id":23956703,"reputation":3,"user_id":17947477,"display_name":"Valtar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70731189,"answer_count":2,"score":0,"last_activity_date":1642353375,"creation_date":1642342149,"question_id":70730841,"body_markdown":"I would like to know, is it possible to store a temporary value of a variable before it switches to another one?\r\n\r\nFollowing is the code snippet:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int input = Integer.parseInt(scanner.nextLine());\r\n        String input1 = String.valueOf(input);\r\n        int counter = 1;\r\n\r\n        for (int i = input1.length() - 1; i &gt;= 0 ; i--) {\r\n            char charValueOfI = input1.charAt(i);\r\n            String StringValueofI = String.valueOf(charValueOfI);\r\n            int intValueofI = Integer.parseInt(StringValueofI);\r\n            counter = 1;\r\n    \r\n            for (int j = intValueofI; j &gt;0 ; j--) {\r\n                counter = counter * j; // if input = 145, first value saved under counter will be 120, can that value of 120 be saved somewhere, before counter changes back to 1 under the first for loop\r\n\r\n            }\r\n        }\r\n    }","title":"Storing a temporary value of a constantly changing variable","body":"<p>I would like to know, is it possible to store a temporary value of a variable before it switches to another one?</p>\n<p>Following is the code snippet:</p>\n<pre><code>public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        int input = Integer.parseInt(scanner.nextLine());\n        String input1 = String.valueOf(input);\n        int counter = 1;\n\n        for (int i = input1.length() - 1; i &gt;= 0 ; i--) {\n            char charValueOfI = input1.charAt(i);\n            String StringValueofI = String.valueOf(charValueOfI);\n            int intValueofI = Integer.parseInt(StringValueofI);\n            counter = 1;\n    \n            for (int j = intValueofI; j &gt;0 ; j--) {\n                counter = counter * j; // if input = 145, first value saved under counter will be 120, can that value of 120 be saved somewhere, before counter changes back to 1 under the first for loop\n\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","extends","superclass"],"answers":[{"tags":[],"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642353334,"creation_date":1642353334,"answer_id":70732362,"question_id":70732296,"body_markdown":"&gt; I added my own AuthenticationManager to the class\r\n\r\nSo you effectively [shadowed](https://stackoverflow.com/questions/1092099/what-is-variable-shadowing-used-for-in-a-java-class) existing `authenticationManager` instance declared in [AbstractPreAuthenticatedProcessingFilter](https://github.com/spring-projects/spring-security/blob/feff7476693e47a1b28543521dae2bb79e8a1b3e/web/src/main/java/org/springframework/security/web/authentication/preauth/AbstractPreAuthenticatedProcessingFilter.java#L93).\r\n\r\nIf you don&#39;t need to access AuthenticationManager from within your `X509AuthenticationFilter`, just don&#39;t declare it. If you do, you will have to call super setter as you&#39;re already doing. \r\n\r\nMaybe `authenticationManager` should be declared `protected` in `AbstractPreAuthenticatedProcessingFilter`, which would resolve this situation cleanly ...","title":"Why do I have to set AuthenticationManager twice","body":"<blockquote>\n<p>I added my own AuthenticationManager to the class</p>\n</blockquote>\n<p>So you effectively <a href=\"https://stackoverflow.com/questions/1092099/what-is-variable-shadowing-used-for-in-a-java-class\">shadowed</a> existing <code>authenticationManager</code> instance declared in <a href=\"https://github.com/spring-projects/spring-security/blob/feff7476693e47a1b28543521dae2bb79e8a1b3e/web/src/main/java/org/springframework/security/web/authentication/preauth/AbstractPreAuthenticatedProcessingFilter.java#L93\" rel=\"nofollow noreferrer\">AbstractPreAuthenticatedProcessingFilter</a>.</p>\n<p>If you don't need to access AuthenticationManager from within your <code>X509AuthenticationFilter</code>, just don't declare it. If you do, you will have to call super setter as you're already doing.</p>\n<p>Maybe <code>authenticationManager</code> should be declared <code>protected</code> in <code>AbstractPreAuthenticatedProcessingFilter</code>, which would resolve this situation cleanly ...</p>\n"}],"owner":{"account_id":16623950,"reputation":74,"user_id":12013522,"display_name":"Joe D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70732362,"answer_count":1,"score":0,"last_activity_date":1642353334,"creation_date":1642352850,"question_id":70732296,"body_markdown":"In my application I&#39;ve implemented X.509 authentication\r\n\r\nI created the following class named `X509AuthenticationFilter` that extends \r\n[AbstractPreAuthenticatedProcessingFilter][1] provided by spring security by default.\r\n\r\nI added my own AuthenticationManager to the class\r\n\r\n    private AuthenticationManager authenticationManager\r\n\r\nAnd also included the following setter\r\n\r\n    public void setAuthenticationManager(AuthenticationManager authenticationManager)\r\n    {\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\nThe bean is initialized in the spring-security.xml like so:\r\n\r\n\t&lt;beans:bean id=&quot;x509AuthenticationFilter&quot; class=&quot;com.example.sec.x509.X509AuthenticationFilter&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;authenticationManager&quot;/&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\nThe bean named `authenticationManager` does exist and it&#39;s present in the spring context.\r\n\r\nHowever, given such configuration I get the following startup error:\r\n\r\n    An AuthenticationManager must be set\r\n\r\nFor some reason the AuthenticationManager is deliberately set to null in the superclass. Later on `afterPropertiesSet()` gets called and unfortunately throws the exception.\r\n\r\nThe only workaround I came up with is changing the setter in my own class to the following:\r\n\r\n    public void setAuthenticationManager(AuthenticationManager authenticationManager)\r\n    {\r\n        super.setAuthenticationManager(authenticationManager);\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\nIs there a better solution?\r\n\r\n \r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/preauth/AbstractPreAuthenticatedProcessingFilter.java","title":"Why do I have to set AuthenticationManager twice","body":"<p>In my application I've implemented X.509 authentication</p>\n<p>I created the following class named <code>X509AuthenticationFilter</code> that extends\n<a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/preauth/AbstractPreAuthenticatedProcessingFilter.java\" rel=\"nofollow noreferrer\">AbstractPreAuthenticatedProcessingFilter</a> provided by spring security by default.</p>\n<p>I added my own AuthenticationManager to the class</p>\n<pre><code>private AuthenticationManager authenticationManager\n</code></pre>\n<p>And also included the following setter</p>\n<pre><code>public void setAuthenticationManager(AuthenticationManager authenticationManager)\n{\n    this.authenticationManager = authenticationManager;\n}\n</code></pre>\n<p>The bean is initialized in the spring-security.xml like so:</p>\n<pre><code>&lt;beans:bean id=&quot;x509AuthenticationFilter&quot; class=&quot;com.example.sec.x509.X509AuthenticationFilter&quot;&gt;\n    &lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;authenticationManager&quot;/&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n<p>The bean named <code>authenticationManager</code> does exist and it's present in the spring context.</p>\n<p>However, given such configuration I get the following startup error:</p>\n<pre><code>An AuthenticationManager must be set\n</code></pre>\n<p>For some reason the AuthenticationManager is deliberately set to null in the superclass. Later on <code>afterPropertiesSet()</code> gets called and unfortunately throws the exception.</p>\n<p>The only workaround I came up with is changing the setter in my own class to the following:</p>\n<pre><code>public void setAuthenticationManager(AuthenticationManager authenticationManager)\n{\n    super.setAuthenticationManager(authenticationManager);\n    this.authenticationManager = authenticationManager;\n}\n</code></pre>\n<p>Is there a better solution?</p>\n"},{"tags":["java","server","client"],"comments":[{"owner":{"account_id":22065172,"reputation":93,"user_id":16327180,"display_name":"Angela Lopez"},"score":0,"creation_date":1642349945,"post_id":70731718,"comment_id":125042020,"body_markdown":"In the error message it says two lines of your connectToServer method seem to be responsible for the issue : line 20 and line 39. Have you tried examining the code to find the cause of these errors ?","body":"In the error message it says two lines of your connectToServer method seem to be responsible for the issue : line 20 and line 39. Have you tried examining the code to find the cause of these errors ?"},{"owner":{"account_id":17043838,"reputation":3,"user_id":12331122,"display_name":"Barış Seyitoğlu"},"score":0,"creation_date":1642350779,"post_id":70731718,"comment_id":125042210,"body_markdown":"Тhe error occurs in all projects I run. He is not the only one with this code","body":"Тhe error occurs in all projects I run. He is not the only one with this code"}],"owner":{"account_id":17043838,"reputation":3,"user_id":12331122,"display_name":"Barış Seyitoğlu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642353277,"answer_count":0,"score":0,"last_activity_date":1642353268,"creation_date":1642348542,"question_id":70731718,"body_markdown":"Eclipse for Java has stopped working. All the projects I have do not running. I think I have a problem with the server. I&#39;m asking for help.\r\n\r\n    public class Test \r\n    {\r\n        private InetAddress host;\r\n        private static final int port = 2048;\r\n        \r\n        private void connectToServer() \r\n        {\r\n            Socket link=null;\r\n            Scanner input=null;\r\n            Scanner userEntry=null; \r\n            try {\r\n                link=new Socket(host , port);\r\n                input = new Scanner(link.getInputStream());\r\n                PrintWriter output = new PrintWriter(link.getOutputStream(),true);\r\n                userEntry=new Scanner(System.in);\r\n                String message,response;\r\n                do {\r\n                    System.out.println(&quot;Enter message: &quot;);\r\n                    message=userEntry.nextLine();\r\n                    output.println(message);\r\n                    response=input.nextLine();\r\n                    System.out.println(&quot;Server response: &quot;+ response);\r\n                }\r\n                while (!message.equals(&quot;Close&quot;));\r\n            } \r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            finally {\r\n                input.close();\r\n                userEntry.close();\r\n            }   }\r\n        public static void main(String[] args) throws IOException {\r\n            Test client = new Test();\r\n            client.host=InetAddress.getLocalHost();  \r\n            client.connectToServer();\r\n        }   }\r\n\r\n\r\nThe program shows this error:\r\n\r\n    java.net.ConnectException: Connection refused: connect\r\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n    at java.base/sun.nio.ch.Net.connect(Net.java:493)\r\n    at java.base/sun.nio.ch.Net.connect(Net.java:482)\r\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:339)\r\n    at java.base/java.net.Socket.connect(Socket.java:603)\r\n    at java.base/java.net.Socket.connect(Socket.java:552)\r\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:475)\r\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:283)\r\n    at SerializableDemo.Test.connectToServer(Test.java:20)\r\n    at SerializableDemo.Test.main(Test.java:49)\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    at SerializableDemo.Test.connectToServer(Test.java:39)\r\n    at SerializableDemo.Test.main(Test.java:49)","title":"java.net.ConnectException: Connection refused: connect at","body":"<p>Eclipse for Java has stopped working. All the projects I have do not running. I think I have a problem with the server. I'm asking for help.</p>\n<pre><code>public class Test \n{\n    private InetAddress host;\n    private static final int port = 2048;\n    \n    private void connectToServer() \n    {\n        Socket link=null;\n        Scanner input=null;\n        Scanner userEntry=null; \n        try {\n            link=new Socket(host , port);\n            input = new Scanner(link.getInputStream());\n            PrintWriter output = new PrintWriter(link.getOutputStream(),true);\n            userEntry=new Scanner(System.in);\n            String message,response;\n            do {\n                System.out.println(&quot;Enter message: &quot;);\n                message=userEntry.nextLine();\n                output.println(message);\n                response=input.nextLine();\n                System.out.println(&quot;Server response: &quot;+ response);\n            }\n            while (!message.equals(&quot;Close&quot;));\n        } \n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        finally {\n            input.close();\n            userEntry.close();\n        }   }\n    public static void main(String[] args) throws IOException {\n        Test client = new Test();\n        client.host=InetAddress.getLocalHost();  \n        client.connectToServer();\n    }   }\n</code></pre>\n<p>The program shows this error:</p>\n<pre><code>java.net.ConnectException: Connection refused: connect\nat java.base/sun.nio.ch.Net.connect0(Native Method)\nat java.base/sun.nio.ch.Net.connect(Net.java:493)\nat java.base/sun.nio.ch.Net.connect(Net.java:482)\nat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:339)\nat java.base/java.net.Socket.connect(Socket.java:603)\nat java.base/java.net.Socket.connect(Socket.java:552)\nat java.base/java.net.Socket.&lt;init&gt;(Socket.java:475)\nat java.base/java.net.Socket.&lt;init&gt;(Socket.java:283)\nat SerializableDemo.Test.connectToServer(Test.java:20)\nat SerializableDemo.Test.main(Test.java:49)\nException in thread &quot;main&quot; java.lang.NullPointerException\nat SerializableDemo.Test.connectToServer(Test.java:39)\nat SerializableDemo.Test.main(Test.java:49)\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1642352541,"post_id":70732018,"comment_id":125042761,"body_markdown":"Hi. Could reduce your code to some base case where it&#39;s not working? I feel I can help you here, but there&#39;s so much code that I&#39;m not sure what &quot;part&quot; is not working as expected.","body":"Hi. Could reduce your code to some base case where it&#39;s not working? I feel I can help you here, but there&#39;s so much code that I&#39;m not sure what &quot;part&quot; is not working as expected."},{"owner":{"account_id":23499231,"reputation":51,"user_id":17549300,"display_name":"Sankeerthan Kasilingam"},"score":0,"creation_date":1642352921,"post_id":70732018,"comment_id":125042864,"body_markdown":"Thanks. I have edited the question. Pls let me know if anything is not clear. when(sourceYamlPipelineDataSourceConfiguration.getType()).thenReturn(&quot;JDBC&quot;); This line doesn&#39;t work. When i run test, I always get NULL for sourceYamlPipelineDataSourceConfiguration.getType().","body":"Thanks. I have edited the question. Pls let me know if anything is not clear. when(sourceYamlPipelineDataSourceConfiguration.getType()).th&zwnj;&#8203;enReturn(&quot;JDBC&quot;); This line doesn&#39;t work. When i run test, I always get NULL for sourceYamlPipelineDataSourceConfiguration.getType()."}],"owner":{"account_id":23499231,"reputation":51,"user_id":17549300,"display_name":"Sankeerthan Kasilingam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642353103,"creation_date":1642350881,"question_id":70732018,"body_markdown":"I&#39;m writing a unit test. I have to stub instance&#39;s methods and static methods. For the static methods, I use mockStatic of Mockito. After I created mockStatic for Classes, other stubs don&#39;t work. The value I returned are being null. Could you please help me to resolve the issue? \r\n\r\n    public void assertGetConnection() throws SQLException {\r\n        try (MockedStatic&lt;PipelineDataSourceConfigurationFactory&gt; mockedStatic = mockStatic(PipelineDataSourceConfigurationFactory.class, invocation -&gt; {\r\n            Method method = invocation.getMethod();\r\n            if (&quot;newInstance&quot;.equals(method.getName())) {\r\n                return invocation.getMock();\r\n            } else {\r\n                return invocation.callRealMethod();\r\n            }\r\n        })) {\r\n                     when(sourceYamlPipelineDataSourceConfiguration.getType()).thenReturn(&quot;JDBC&quot;); // NOT WORKING ; ALWAYS It&#39;s NULL\r\n    \r\n            \r\n            mockedStatic.when(() -&gt; PipelineDataSourceConfigurationFactory.newInstance(anyString(), eq(&quot;source&quot;))).thenReturn(sourceScalingDataSourceConfig);\r\n\r\n            MySQLDataSourcePreparer mySQLDataSourcePreparer = new MySQLDataSourcePreparer();\r\n            mySQLDataSourcePreparer.prepareTargetTables(prepareTargetTablesParameter);\r\n            verify(sourceDataSource).getConnection();\r\n            verify(targetDataSource).getConnection();\r\n        }\r\n       \r\n    }","title":"Stubbing doesn&#39;t work inside mockstatic block","body":"<p>I'm writing a unit test. I have to stub instance's methods and static methods. For the static methods, I use mockStatic of Mockito. After I created mockStatic for Classes, other stubs don't work. The value I returned are being null. Could you please help me to resolve the issue?</p>\n<pre><code>public void assertGetConnection() throws SQLException {\n    try (MockedStatic&lt;PipelineDataSourceConfigurationFactory&gt; mockedStatic = mockStatic(PipelineDataSourceConfigurationFactory.class, invocation -&gt; {\n        Method method = invocation.getMethod();\n        if (&quot;newInstance&quot;.equals(method.getName())) {\n            return invocation.getMock();\n        } else {\n            return invocation.callRealMethod();\n        }\n    })) {\n                 when(sourceYamlPipelineDataSourceConfiguration.getType()).thenReturn(&quot;JDBC&quot;); // NOT WORKING ; ALWAYS It's NULL\n\n        \n        mockedStatic.when(() -&gt; PipelineDataSourceConfigurationFactory.newInstance(anyString(), eq(&quot;source&quot;))).thenReturn(sourceScalingDataSourceConfig);\n\n        MySQLDataSourcePreparer mySQLDataSourcePreparer = new MySQLDataSourcePreparer();\n        mySQLDataSourcePreparer.prepareTargetTables(prepareTargetTablesParameter);\n        verify(sourceDataSource).getConnection();\n        verify(targetDataSource).getConnection();\n    }\n   \n}\n</code></pre>\n"},{"tags":["java","jar","discord","noclassdeffounderror","discord-jda"],"comments":[{"owner":{"account_id":16432809,"reputation":320,"user_id":11871203,"display_name":"Redi"},"score":0,"creation_date":1642237492,"post_id":70717490,"comment_id":125021302,"body_markdown":"Can you show us your build configuration? (Maven or Gradle)","body":"Can you show us your build configuration? (Maven or Gradle)"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1642254347,"post_id":70717490,"comment_id":125024496,"body_markdown":"https://github.com/DV8FromTheWorld/JDA/wiki/2%29-Setup","body":"<a href=\"https://github.com/DV8FromTheWorld/JDA/wiki/2%29-Setup\" rel=\"nofollow noreferrer\">github.com/DV8FromTheWorld/JDA/wiki/2%29-Setup</a>"},{"owner":{"account_id":22776477,"reputation":91,"user_id":16933054,"display_name":"ShinyDuck21"},"score":0,"creation_date":1642369223,"post_id":70717490,"comment_id":125046747,"body_markdown":"Redi I added my build.gradle to the original post","body":"Redi I added my build.gradle to the original post"}],"owner":{"account_id":22776477,"reputation":91,"user_id":16933054,"display_name":"ShinyDuck21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642353102,"creation_date":1642201580,"question_id":70717490,"body_markdown":"I have built my jda discord to a jar file and it raises the class not found error for the gateway intents class saying that its not found or this error specifically\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/requests/GatewayIntent\r\n        at banos.bot.Main.main(Main.java:14)\r\nCaused by: java.lang.ClassNotFoundException: net.dv8tion.jda.api.requests.GatewayIntent\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        ... 1 more\r\n```\r\n\r\nEdit: Here is my build.gradle if that helps.\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &quot;7.1.0&quot;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;banos.bot&#39;\r\nversion &#39;1.1.0-SNAPSHOT&#39;\r\n\r\next {\r\n    javaMainClass = &quot;banos.bot.Main&quot;\r\n}\r\n\r\napplication {\r\n    mainClass = &#39;banos.bot.Main&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        name &#39;m2-dv8tion&#39;\r\n        url &#39;https://m2.dv8tion.net/releases&#39;\r\n    }\r\n    maven {\r\n        name &#39;duncte123-jfrog&#39;\r\n        url &#39;https://duncte123.jfrog.io/artifactory/maven&#39;\r\n    }}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    implementation group: &#39;net.dv8tion&#39;, name: &#39;JDA&#39;, version: &#39;4.3.0_324&#39;\r\n    implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.3&#39;\r\n    implementation group: &#39;me.duncte123&#39;, name: &#39;botCommons&#39;, version: &#39;2.3.9&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;banos.bot.Main&#39;, &#39;Class-Path&#39;: &#39;./build/libs/Banos_Bot-1.1.0-SNAPSHOT.jar&#39;\r\n    }\r\n}\r\n```","title":"JDA cant find the gateway intents class","body":"<p>I have built my jda discord to a jar file and it raises the class not found error for the gateway intents class saying that its not found or this error specifically</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/requests/GatewayIntent\n        at banos.bot.Main.main(Main.java:14)\nCaused by: java.lang.ClassNotFoundException: net.dv8tion.jda.api.requests.GatewayIntent\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 1 more\n</code></pre>\n<p>Edit: Here is my build.gradle if that helps.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'com.github.johnrengelman.shadow' version &quot;7.1.0&quot;\n    id 'application'\n}\n\ngroup 'banos.bot'\nversion '1.1.0-SNAPSHOT'\n\next {\n    javaMainClass = &quot;banos.bot.Main&quot;\n}\n\napplication {\n    mainClass = 'banos.bot.Main'\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        name 'm2-dv8tion'\n        url 'https://m2.dv8tion.net/releases'\n    }\n    maven {\n        name 'duncte123-jfrog'\n        url 'https://duncte123.jfrog.io/artifactory/maven'\n    }}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n    implementation group: 'net.dv8tion', name: 'JDA', version: '4.3.0_324'\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'\n    implementation group: 'me.duncte123', name: 'botCommons', version: '2.3.9'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'banos.bot.Main', 'Class-Path': './build/libs/Banos_Bot-1.1.0-SNAPSHOT.jar'\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","scheduler"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1642330722,"post_id":70729389,"comment_id":125037711,"body_markdown":"Use Spring retry, sleep for 15 minutes, and then try again.","body":"Use Spring retry, sleep for 15 minutes, and then try again."}],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642352752,"creation_date":1642352752,"answer_id":70732284,"question_id":70729389,"body_markdown":"First of all, you should activate `Spring Retry` on your `App` class.\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    @EnableRetry\r\n    public class App {\r\n        // something\r\n    }\r\n\r\nThen you need to add `@Retryable` to your method that you use as `@Scheduled`.\r\n\r\n    @Scheduled(cron=&quot;0 9 19 * * *&quot;, zone = &quot;Asia/Seoul&quot;)\r\n    // Add this line\r\n    @Retryable(maxAttempts = 3, backoff = @Backoff(delay = 1000), value={ApiCallException.class})\r\n    public void callAPi() throws InterruptedException {\r\n    \r\n        swrList = new ArrayList&lt;&gt;();\r\n        List&lt;GeoInfo&gt; giList = gs.getGeoXY();\r\n        \r\n        for(GeoInfo gi : giList) {\r\n            \r\n            ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;1&quot;,gi.getX(),gi.getY());\r\n            swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\r\n            swr.setNx(gi.getX()); //x좌표값 저장\r\n            swr.setNy(gi.getY()); //y좌표값 저장\r\n            \r\n            swrList.add(swr); //list에 swr 추가\r\n        }\r\n        \r\n        for(GeoInfo gi : giList) {\r\n            \r\n            ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;2&quot;,gi.getX(),gi.getY());\r\n            swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\r\n            swr.setNx(gi.getX()); //x좌표값 저장\r\n            swr.setNy(gi.getY()); //y좌표값 저장\r\n            \r\n            swrList.add(swr); //list에 swr 추가\r\n        }\r\n        \r\n        //위 객체를 가지고 이제 API를 호출할수 있게 Service에게 전해줘야 함\r\n        sws.setSwrList(swrList);\r\n        \r\n        temperList = sws.callSW(); // API 통신 Service 호출\r\n        \r\n        \r\n        //Confirming API call failure\r\n    \r\n        if(temperList.isEmpty()) { //온도 리스트가 비어있다면 진입\r\n            // Add this line\r\n            throw new ApiCallException(&quot;API Connection Fail&quot;)\r\n        }else {\r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            logger.info(&quot;API ConnectionSuccess&quot;);\r\n            \r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            //List에 담긴 온도 DB에 저장\r\n            for(int i = 0;i&lt;temperList.size();i++) {\r\n                Temperature temp = temperList.get(i);\r\n                ts.saveTemp(temp);\r\n            }\r\n            \r\n            logger.info(&quot;DB Store Success&quot;);\r\n        }\r\n    }\r\n\r\nHere is to set the `backoff` parameter with `@Retryable` annotation to set the next runtime you want. In the `Spring Retry` documentation related to the `BackOffPolicies`, a definition is made as follows.\r\n\r\n&gt; When retrying after a transient failure, it often helps to wait a bit before trying again, because usually the failure is caused by some problem that can only be resolved by waiting. If a RetryCallback fails, the RetryTemplate can pause execution according to the BackoffPolicy.\r\n\r\nYou can find detailed information about `Spring Retry` [here][1].\r\n\r\nWhile my answer doesn&#39;t provide for dynamically changing cron statements, I hope it will solve your case.\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html","title":"How can I change @Scheduler cron expression dynamically in spring boot?","body":"<p>First of all, you should activate <code>Spring Retry</code> on your <code>App</code> class.</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\n@EnableRetry\npublic class App {\n    // something\n}\n</code></pre>\n<p>Then you need to add <code>@Retryable</code> to your method that you use as <code>@Scheduled</code>.</p>\n<pre><code>@Scheduled(cron=&quot;0 9 19 * * *&quot;, zone = &quot;Asia/Seoul&quot;)\n// Add this line\n@Retryable(maxAttempts = 3, backoff = @Backoff(delay = 1000), value={ApiCallException.class})\npublic void callAPi() throws InterruptedException {\n\n    swrList = new ArrayList&lt;&gt;();\n    List&lt;GeoInfo&gt; giList = gs.getGeoXY();\n    \n    for(GeoInfo gi : giList) {\n        \n        ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;1&quot;,gi.getX(),gi.getY());\n        swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\n        swr.setNx(gi.getX()); //x좌표값 저장\n        swr.setNy(gi.getY()); //y좌표값 저장\n        \n        swrList.add(swr); //list에 swr 추가\n    }\n    \n    for(GeoInfo gi : giList) {\n        \n        ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;2&quot;,gi.getX(),gi.getY());\n        swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\n        swr.setNx(gi.getX()); //x좌표값 저장\n        swr.setNy(gi.getY()); //y좌표값 저장\n        \n        swrList.add(swr); //list에 swr 추가\n    }\n    \n    //위 객체를 가지고 이제 API를 호출할수 있게 Service에게 전해줘야 함\n    sws.setSwrList(swrList);\n    \n    temperList = sws.callSW(); // API 통신 Service 호출\n    \n    \n    //Confirming API call failure\n\n    if(temperList.isEmpty()) { //온도 리스트가 비어있다면 진입\n        // Add this line\n        throw new ApiCallException(&quot;API Connection Fail&quot;)\n    }else {\n        logger.info(&quot;-------------------&quot;);\n        \n        logger.info(&quot;API ConnectionSuccess&quot;);\n        \n        logger.info(&quot;-------------------&quot;);\n        \n        //List에 담긴 온도 DB에 저장\n        for(int i = 0;i&lt;temperList.size();i++) {\n            Temperature temp = temperList.get(i);\n            ts.saveTemp(temp);\n        }\n        \n        logger.info(&quot;DB Store Success&quot;);\n    }\n}\n</code></pre>\n<p>Here is to set the <code>backoff</code> parameter with <code>@Retryable</code> annotation to set the next runtime you want. In the <code>Spring Retry</code> documentation related to the <code>BackOffPolicies</code>, a definition is made as follows.</p>\n<blockquote>\n<p>When retrying after a transient failure, it often helps to wait a bit before trying again, because usually the failure is caused by some problem that can only be resolved by waiting. If a RetryCallback fails, the RetryTemplate can pause execution according to the BackoffPolicy.</p>\n</blockquote>\n<p>You can find detailed information about <code>Spring Retry</code> <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>While my answer doesn't provide for dynamically changing cron statements, I hope it will solve your case.</p>\n"}],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732284,"answer_count":1,"score":0,"last_activity_date":1642352752,"creation_date":1642330556,"question_id":70729389,"body_markdown":"I am trying to call an API in specific time.\r\nBut sometimes api call can be failed so I made an logic to check when api call has failed.\r\n\r\nAfter confirming the api call failure, I would like to change the @Schedulercron expression from the current cron expression to 15 minutes later.\r\n\r\nHow can I change cron expression dynamically??\r\n\r\nBelow is my API call code.\r\n\r\n\t@Scheduled(cron=&quot;0 9 19 * * *&quot;, zone = &quot;Asia/Seoul&quot;)\r\n\tpublic void callAPi() throws InterruptedException {\r\n\r\n        swrList = new ArrayList&lt;&gt;();\r\n        List&lt;GeoInfo&gt; giList = gs.getGeoXY();\r\n        \r\n        for(GeoInfo gi : giList) {\r\n        \t\r\n        \tShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;1&quot;,gi.getX(),gi.getY());\r\n        \tswr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\r\n        \tswr.setNx(gi.getX()); //x좌표값 저장\r\n        \tswr.setNy(gi.getY()); //y좌표값 저장\r\n        \t\r\n        \tswrList.add(swr); //list에 swr 추가\r\n        }\r\n        \r\n        for(GeoInfo gi : giList) {\r\n        \t\r\n        \tShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;2&quot;,gi.getX(),gi.getY());\r\n        \tswr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\r\n        \tswr.setNx(gi.getX()); //x좌표값 저장\r\n        \tswr.setNy(gi.getY()); //y좌표값 저장\r\n        \t\r\n        \tswrList.add(swr); //list에 swr 추가\r\n        }\r\n        \r\n        //위 객체를 가지고 이제 API를 호출할수 있게 Service에게 전해줘야 함\r\n        sws.setSwrList(swrList);\r\n        \r\n        temperList = sws.callSW(); // API 통신 Service 호출\r\n        \r\n        \r\n        //Confirming API call failure\r\n\r\n        if(temperList.isEmpty()) { //온도 리스트가 비어있다면 진입\r\n        \tlogger.warn(&quot;TemperList is empty&quot;);\r\n        \t//이제 여기서 메일을 보내주는 서비스를 만들어서 메일 전송을 해줘야 함\r\n        \tms.sendErrorMail();\r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            logger.info(&quot;API Connection Fail&quot;);\r\n        }else {\r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            logger.info(&quot;API ConnectionSuccess&quot;);\r\n            \r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            //List에 담긴 온도 DB에 저장\r\n            for(int i = 0;i&lt;temperList.size();i++) {\r\n            \tTemperature temp = temperList.get(i);\r\n            \tts.saveTemp(temp);\r\n            }\r\n            \r\n            logger.info(&quot;DB Store Success&quot;);\r\n        }\r\n\t}\r\n\r\n","title":"How can I change @Scheduler cron expression dynamically in spring boot?","body":"<p>I am trying to call an API in specific time.\nBut sometimes api call can be failed so I made an logic to check when api call has failed.</p>\n<p>After confirming the api call failure, I would like to change the @Schedulercron expression from the current cron expression to 15 minutes later.</p>\n<p>How can I change cron expression dynamically??</p>\n<p>Below is my API call code.</p>\n<pre><code>@Scheduled(cron=&quot;0 9 19 * * *&quot;, zone = &quot;Asia/Seoul&quot;)\npublic void callAPi() throws InterruptedException {\n\n    swrList = new ArrayList&lt;&gt;();\n    List&lt;GeoInfo&gt; giList = gs.getGeoXY();\n    \n    for(GeoInfo gi : giList) {\n        \n        ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;1&quot;,gi.getX(),gi.getY());\n        swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\n        swr.setNx(gi.getX()); //x좌표값 저장\n        swr.setNy(gi.getY()); //y좌표값 저장\n        \n        swrList.add(swr); //list에 swr 추가\n    }\n    \n    for(GeoInfo gi : giList) {\n        \n        ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;2&quot;,gi.getX(),gi.getY());\n        swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\n        swr.setNx(gi.getX()); //x좌표값 저장\n        swr.setNy(gi.getY()); //y좌표값 저장\n        \n        swrList.add(swr); //list에 swr 추가\n    }\n    \n    //위 객체를 가지고 이제 API를 호출할수 있게 Service에게 전해줘야 함\n    sws.setSwrList(swrList);\n    \n    temperList = sws.callSW(); // API 통신 Service 호출\n    \n    \n    //Confirming API call failure\n\n    if(temperList.isEmpty()) { //온도 리스트가 비어있다면 진입\n        logger.warn(&quot;TemperList is empty&quot;);\n        //이제 여기서 메일을 보내주는 서비스를 만들어서 메일 전송을 해줘야 함\n        ms.sendErrorMail();\n        logger.info(&quot;-------------------&quot;);\n        \n        logger.info(&quot;API Connection Fail&quot;);\n    }else {\n        logger.info(&quot;-------------------&quot;);\n        \n        logger.info(&quot;API ConnectionSuccess&quot;);\n        \n        logger.info(&quot;-------------------&quot;);\n        \n        //List에 담긴 온도 DB에 저장\n        for(int i = 0;i&lt;temperList.size();i++) {\n            Temperature temp = temperList.get(i);\n            ts.saveTemp(temp);\n        }\n        \n        logger.info(&quot;DB Store Success&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642351076,"creation_date":1642351076,"answer_id":70732041,"question_id":70731916,"body_markdown":"If you would like to determine whether any rows were updated, the `updateMobileVerified` method can be defined to return `int` instead of `void` to indicate the number of rows updated","title":"Update by JPA native query","body":"<p>If you would like to determine whether any rows were updated, the <code>updateMobileVerified</code> method can be defined to return <code>int</code> instead of <code>void</code> to indicate the number of rows updated</p>\n"},{"tags":[],"owner":{"account_id":23930232,"reputation":118,"user_id":17924830,"display_name":"Ali Arabat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642352669,"creation_date":1642352669,"answer_id":70732274,"question_id":70731916,"body_markdown":"It seems that you are updating an unknown entity in the database. I highly recommend looking for a `tbl_user` entity by a unique id, like user_id or something like that. If the user doesn&#39;t exist, you either throw an exception or return false. In the case the given tbl_user was found, you basically update your desired attributes. This way, you force a strong control over updating users&#39; data. I hope this might clarify your vision.","title":"Update by JPA native query","body":"<p>It seems that you are updating an unknown entity in the database. I highly recommend looking for a <code>tbl_user</code> entity by a unique id, like user_id or something like that. If the user doesn't exist, you either throw an exception or return false. In the case the given tbl_user was found, you basically update your desired attributes. This way, you force a strong control over updating users' data. I hope this might clarify your vision.</p>\n"}],"owner":{"account_id":11503332,"reputation":741,"user_id":8430441,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732041,"answer_count":2,"score":0,"last_activity_date":1642352669,"creation_date":1642350142,"question_id":70731916,"body_markdown":"I am using spring boot repository with native query. While I am trying to update few fields by query and supply wrong values it is not throwing any exception. \r\nhere is my code,\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Query(value = &quot;update tbl_user set is_phone_Verified=true, mobile_verification_otp=&#39;XXX&#39;, updated_At=:updatedAt where &quot; +\r\n            &quot;phone_number=:registeredMobile and &quot; +\r\n            &quot;mobile_verification_otp=:phoneVerificationOtp&quot;, nativeQuery = true)\r\n    void updateMobileVerified(@Param(&quot;registeredMobile&quot;) String registeredMobile,\r\n                             @Param(&quot;phoneVerificationOtp&quot;) String phoneVerificationOtp,\r\n                             @Param(&quot;updatedAt&quot;) Date updatedAt);\r\n\r\nNow, the issue is if I supply even wrong otp value, it is not throwing any exception. From service I am calling this method. and if there is no exception then I am returning true. Please find the service method.\r\n\r\n    @Override\r\n    public Boolean mobileVerification(String registeredMobile, String phoneVerificationOtp) {\r\n        try{\r\n            Date date = new Date();\r\n            userRepository.updateMobileVerified(registeredMobile,phoneVerificationOtp, date);\r\n            return true;\r\n        } catch(Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nCan someone please suggest me some way how can I determine if the update is successful.\r\n\r\nThanks. ","title":"Update by JPA native query","body":"<p>I am using spring boot repository with native query. While I am trying to update few fields by query and supply wrong values it is not throwing any exception.\nhere is my code,</p>\n<pre><code>@Modifying(clearAutomatically = true)\n@Query(value = &quot;update tbl_user set is_phone_Verified=true, mobile_verification_otp='XXX', updated_At=:updatedAt where &quot; +\n        &quot;phone_number=:registeredMobile and &quot; +\n        &quot;mobile_verification_otp=:phoneVerificationOtp&quot;, nativeQuery = true)\nvoid updateMobileVerified(@Param(&quot;registeredMobile&quot;) String registeredMobile,\n                         @Param(&quot;phoneVerificationOtp&quot;) String phoneVerificationOtp,\n                         @Param(&quot;updatedAt&quot;) Date updatedAt);\n</code></pre>\n<p>Now, the issue is if I supply even wrong otp value, it is not throwing any exception. From service I am calling this method. and if there is no exception then I am returning true. Please find the service method.</p>\n<pre><code>@Override\npublic Boolean mobileVerification(String registeredMobile, String phoneVerificationOtp) {\n    try{\n        Date date = new Date();\n        userRepository.updateMobileVerified(registeredMobile,phoneVerificationOtp, date);\n        return true;\n    } catch(Exception e) {\n        return false;\n    }\n}\n</code></pre>\n<p>Can someone please suggest me some way how can I determine if the update is successful.</p>\n<p>Thanks.</p>\n"},{"tags":["java","tomcat","memory-leaks","garbage-collection","out-of-memory"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1642309326,"post_id":70727397,"comment_id":125034662,"body_markdown":"Update your question with which JRE you are using.","body":"Update your question with which JRE you are using."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642310963,"post_id":70727397,"comment_id":125034806,"body_markdown":"edited, indicated the versions of java and tomcat","body":"edited, indicated the versions of java and tomcat"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1642312420,"post_id":70727397,"comment_id":125034934,"body_markdown":"maybe you have some memory leak - are you using some InputStream or such that you don&#39;t close?","body":"maybe you have some memory leak - are you using some InputStream or such that you don&#39;t close?"},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642313533,"post_id":70727397,"comment_id":125035068,"body_markdown":"J Asgarov, It really looks like a leak, only the server has 20 old services with tens of thousands of lines of code. But even in this case, with classic leaks, after a piecewise restart of each service, there should be a release of memory, but this happens only after restarting Tomcat or when starting manual cleaning in visualVM. I read somewhere about a leak in ClassLoader. Maybe someone heard about it, similar to this case?","body":"J Asgarov, It really looks like a leak, only the server has 20 old services with tens of thousands of lines of code. But even in this case, with classic leaks, after a piecewise restart of each service, there should be a release of memory, but this happens only after restarting Tomcat or when starting manual cleaning in visualVM. I read somewhere about a leak in ClassLoader. Maybe someone heard about it, similar to this case?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642315373,"post_id":70727397,"comment_id":125035282,"body_markdown":"Yes, classloader leaks are a thing.  But the solution is the same.  Find the leak, fix the leak.","body":"Yes, classloader leaks are a thing.  But the solution is the same.  Find the leak, fix the leak."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1642315982,"post_id":70727397,"comment_id":125035349,"body_markdown":"Try to configure the garbage collector to be more aggressive, or run another JRE. The default gc settings  java 8 is delaying collection quite much, and even when out of memory does not really reclaim everything it could.","body":"Try to configure the garbage collector to be more aggressive, or run another JRE. The default gc settings  java 8 is delaying collection quite much, and even when out of memory does not really reclaim everything it could."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642316175,"post_id":70727397,"comment_id":125035371,"body_markdown":"Stephen C\nif this is a leak in the program code, then why is memory freed up when manually assembling into a visualvm?","body":"Stephen C if this is a leak in the program code, then why is memory freed up when manually assembling into a visualvm?"},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642316247,"post_id":70727397,"comment_id":125035383,"body_markdown":"Just another Java programmer, Yes, I&#39;m just trying to set up the GC, thanks!","body":"Just another Java programmer, Yes, I&#39;m just trying to set up the GC, thanks!"},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642319226,"post_id":70727397,"comment_id":125035750,"body_markdown":"How can I find a leak if the dump does not show the chunk of memory occupied by the uncollected garbage?","body":"How can I find a leak if the dump does not show the chunk of memory occupied by the uncollected garbage?"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":1,"creation_date":1642329673,"post_id":70727397,"comment_id":125037504,"body_markdown":"Please complete the question with: **1**all memory related JVM flags (You can get the complete list from VisualVM, Overview Tab or Jconsole VM Summary tab). **2** Complete OOO Exception error message, as there are many root causes for them. Each one provides different log output **3** Some logs from an Old and Young Collection in order to see phases and time spended. Enable them using `-XX:+PrintGCDetails`. Specially relevant are the ones before the OOO. **4** Enable this Flag `-XX:+HeapDumpOnOutOfMemoryError` in order to get a Heap Dump just before OOO so you can inspect it with MAT later","body":"Please complete the question with: <b>1</b>all memory related JVM flags (You can get the complete list from VisualVM, Overview Tab or Jconsole VM Summary tab). <b>2</b> Complete OOO Exception error message, as there are many root causes for them. Each one provides different log output <b>3</b> Some logs from an Old and Young Collection in order to see phases and time spended. Enable them using <code>-XX:+PrintGCDetails</code>. Specially relevant are the ones before the OOO. <b>4</b> Enable this Flag <code>-XX:+HeapDumpOnOutOfMemoryError</code> in order to get a Heap Dump just before OOO so you can inspect it with MAT later"},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642352439,"post_id":70727397,"comment_id":125042734,"body_markdown":"@usuario\nThanks for answering\nWhen I try to upload a dump to a profiler (MAT and others), I get a message:\n Removed 15 875 439 unreachable objects using 1 700 938 414 bytes .\n That is how much memory is occupied by garbage that cannot be cleaned.","body":"@usuario Thanks for answering When I try to upload a dump to a profiler (MAT and others), I get a message:  Removed 15 875 439 unreachable objects using 1 700 938 414 bytes .  That is how much memory is occupied by garbage that cannot be cleaned."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642352527,"post_id":70727397,"comment_id":125042754,"body_markdown":"And I don’t understand until the end of the moment why the standard garbage collection does not occur (memory is released only after restarting the tomcat), and when you press the button in the profiler - garbage collect - everything happens normally?","body":"And I don’t understand until the end of the moment why the standard garbage collection does not occur (memory is released only after restarting the tomcat), and when you press the button in the profiler - garbage collect - everything happens normally?"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":1,"creation_date":1642352776,"post_id":70727397,"comment_id":125042824,"body_markdown":"@Thomazzz About `Removed 15 875 439 unreachable objects using 1 700 938 414 bytes` please read this [link](https://wiki.eclipse.org/MemoryAnalyzer/FAQ#How_to_analyse_unreachable_objects). They are dead objects in the heap the moment you took the heap dump. That is not related to an OOO Exception.","body":"@Thomazzz About <code>Removed 15 875 439 unreachable objects using 1 700 938 414 bytes</code> please read this <a href=\"https://wiki.eclipse.org/MemoryAnalyzer/FAQ#How_to_analyse_unreachable_objects\" rel=\"nofollow noreferrer\">link</a>. They are dead objects in the heap the moment you took the heap dump. That is not related to an OOO Exception."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642352874,"post_id":70727397,"comment_id":125042854,"body_markdown":"@usuario So the GC itself cannot clean up these objects, this is the reason OOO","body":"@usuario So the GC itself cannot clean up these objects, this is the reason OOO"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":1,"creation_date":1642353550,"post_id":70727397,"comment_id":125043057,"body_markdown":"Unreachable objects are always reclaimed by GC, they are not the problem. OOO Exceptions are thrown because of too much live objecs, not dead ones. Please provide some gc logs or the complete OOO Exception trace.","body":"Unreachable objects are always reclaimed by GC, they are not the problem. OOO Exceptions are thrown because of too much live objecs, not dead ones. Please provide some gc logs or the complete OOO Exception trace."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642448939,"post_id":70727397,"comment_id":125068754,"body_markdown":"@usuario, you helped me a lot in understanding the work of all this mechanics, thank you very much","body":"@usuario, you helped me a lot in understanding the work of all this mechanics, thank you very much"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1642546926,"post_id":70727397,"comment_id":125098834,"body_markdown":"If your web application(s) fail to shut-down cleanly, you can &quot;pin&quot; the web application&#39;s `ClassLoader` in memory, which will keep all of those previously-loaded classes in memory and, potentially, other data as well (static caches, etc.) forever. Restarting/deploying/etc the web application just makes the problem worse. You need to test your application in a dev environment by running it, using it, then stopping it and using the Tomcat &quot;manager&quot; application to &quot;check for leaks&quot; which will tell you if your application is leaking on shutdown. Fix anything you find.","body":"If your web application(s) fail to shut-down cleanly, you can &quot;pin&quot; the web application&#39;s <code>ClassLoader</code> in memory, which will keep all of those previously-loaded classes in memory and, potentially, other data as well (static caches, etc.) forever. Restarting/deploying/etc the web application just makes the problem worse. You need to test your application in a dev environment by running it, using it, then stopping it and using the Tomcat &quot;manager&quot; application to &quot;check for leaks&quot; which will tell you if your application is leaking on shutdown. Fix anything you find."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642573548,"post_id":70727397,"comment_id":125103427,"body_markdown":"@Christopher Schultz, Thanks for your reply. But as I understand it, then the garbage collection that we call by the button in visualvm would not work?  In my case, when manually pressing the garbage cleanup button, a real cleanup occurs, i.e. as far as I understand, this is still not a leak, but the fact that the garbage collector does not have time to clean up oldgen and you need to further configure it, for example, allocate more space for youngen and increase the number of collector passes to transfer objects to the next phase","body":"@Christopher Schultz, Thanks for your reply. But as I understand it, then the garbage collection that we call by the button in visualvm would not work?  In my case, when manually pressing the garbage cleanup button, a real cleanup occurs, i.e. as far as I understand, this is still not a leak, but the fact that the garbage collector does not have time to clean up oldgen and you need to further configure it, for example, allocate more space for youngen and increase the number of collector passes to transfer objects to the next phase"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1642602067,"post_id":70727397,"comment_id":125114225,"body_markdown":"@Thomazzz I apologize if I didn&#39;t quite understand the circumstances, here. What you described sounded like a classic ClassLoader pinning problem. I was confused by this statement: *it seems to cut off the used memory, leaving only a little free that remains*. I&#39;m not sure if using VisualVM to trigger a GC run is any different than calling System.gc() or allowing the GC to run automatically when it thinks it&#39;s a good time to cleanup. What error message do you get with the OOME? Not all OOMEs are the same.","body":"@Thomazzz I apologize if I didn&#39;t quite understand the circumstances, here. What you described sounded like a classic ClassLoader pinning problem. I was confused by this statement: <i>it seems to cut off the used memory, leaving only a little free that remains</i>. I&#39;m not sure if using VisualVM to trigger a GC run is any different than calling System.gc() or allowing the GC to run automatically when it thinks it&#39;s a good time to cleanup. What error message do you get with the OOME? Not all OOMEs are the same."}],"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642352332,"creation_date":1642307590,"question_id":70727397,"body_markdown":"A strange situation,\r\n\r\ni use java: 1.8.0_271  and tomcat: 9.0.39\r\n\r\nthere are a number of services on tomcat, after a certain time I notice an OutOfMemoryError error in the logs, and indeed all the memory is used up. At the same time, if I manually start garbage collection from visualvm, then the memory is released.\r\n\r\nThe dump does not show anything, analyzed JProfiler and MAT - it seems to cut off the used memory, leaving only a little free that remains.\r\n\r\nAnd yet, after restarting all the services individually, the memory is still not released, you have to restart tomcat\r\n\r\nmy GP parameters (I have experimented with others but to no avail)\r\n```\r\n-XX:+UseG1GC\r\n-XX:+PerfDisableSharedMem\r\n-XX:+ParallelRefProcEnabled\r\n-XX:MaxGCPauseMillis=250\r\n-XX:+AlwaysPreTouch\r\n-XX:+ExplicitGCInvokesConcurrent\r\n-verbose:gc\r\n-XX:+PrintHeapAtGC\r\n-XX:+PrintGCDetails\r\n-XX:+PrintGCDateStamps\r\n-XX:+PrintGCTimeStamps\r\n-XX:+PrintTenuringDistribution\r\n-XX:+PrintGCApplicationStoppedTime\r\n-XX:+PrintGCApplicationConcurrentTime\r\n```\r\nAnd most importantly, when I try to upload a dump to a profiler (MAT and others), I get a message.\r\n```\r\nRemoved 15 875 439 unreachable objects using 1 700 938 414 bytes\r\n```\r\n\r\nWhy can&#39;t he display these objects, I need to see exactly them\r\n\r\nWhat could it be?","title":"When I manually start the garbage collector from visualvm - everything is OK, but the regular GC does not collect garbage","body":"<p>A strange situation,</p>\n<p>i use java: 1.8.0_271  and tomcat: 9.0.39</p>\n<p>there are a number of services on tomcat, after a certain time I notice an OutOfMemoryError error in the logs, and indeed all the memory is used up. At the same time, if I manually start garbage collection from visualvm, then the memory is released.</p>\n<p>The dump does not show anything, analyzed JProfiler and MAT - it seems to cut off the used memory, leaving only a little free that remains.</p>\n<p>And yet, after restarting all the services individually, the memory is still not released, you have to restart tomcat</p>\n<p>my GP parameters (I have experimented with others but to no avail)</p>\n<pre><code>-XX:+UseG1GC\n-XX:+PerfDisableSharedMem\n-XX:+ParallelRefProcEnabled\n-XX:MaxGCPauseMillis=250\n-XX:+AlwaysPreTouch\n-XX:+ExplicitGCInvokesConcurrent\n-verbose:gc\n-XX:+PrintHeapAtGC\n-XX:+PrintGCDetails\n-XX:+PrintGCDateStamps\n-XX:+PrintGCTimeStamps\n-XX:+PrintTenuringDistribution\n-XX:+PrintGCApplicationStoppedTime\n-XX:+PrintGCApplicationConcurrentTime\n</code></pre>\n<p>And most importantly, when I try to upload a dump to a profiler (MAT and others), I get a message.</p>\n<pre><code>Removed 15 875 439 unreachable objects using 1 700 938 414 bytes\n</code></pre>\n<p>Why can't he display these objects, I need to see exactly them</p>\n<p>What could it be?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642352244,"creation_date":1642350779,"answer_id":70732008,"question_id":70731981,"body_markdown":"You can use\r\n\r\n    ^(?:\\w+=\\w+!)*\\w+=\\w+!?$\r\n\r\nIn Java \r\n\r\n    String regex = &quot;^(?:\\\\w+=\\\\w+!)*\\\\w+=\\\\w+!?$&quot;;\r\n\r\nThe pattern matches:\r\n\r\n- `^` Start of string\r\n- `(?:\\w+=\\w+!)*` Optionally repeat 1+ word chars `=` 1+ word chars and `!`\r\n- `\\w+=\\w+!?` Match 1+ word chars `=` 1+ word chars and optional `!`\r\n- `$` End of string\r\n\r\n[Regex demo](https://regex101.com/r/68NMZx/1)\r\n\r\n    String[] strings = {\r\n        &quot;Name=John!Age=25!Gender=M&quot;,\r\n        &quot;Name=John!Name2=Sam!Name3=Josh&quot;,\r\n        &quot;Name=John!Name2=Sam!Name3=Josh!&quot;,\r\n        &quot;N=J!A=25!&quot;,\r\n        &quot;a=ba=b&quot;,\r\n        &quot;Name!John=Name2+Sam=&quot;,\r\n        &quot;Name=John=&quot;,\r\n        &quot;Name=John!!&quot;,\r\n        &quot;Name=John-&quot;\r\n    };\r\n    \r\n    for (String s : strings) {\r\n        if (s.matches(&quot;(?:\\\\w+=\\\\w+!)*\\\\w+=\\\\w+!?&quot;)) {\r\n            System.out.println(&quot;Match: &quot; + s);\r\n        } else {\r\n            System.out.println(&quot;No match: &quot; + s);\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    Match: Name=John!Age=25!Gender=M\r\n    Match: Name=John!Name2=Sam!Name3=Josh\r\n    Match: Name=John!Name2=Sam!Name3=Josh!\r\n    Match: N=J!A=25!\r\n    No match: a=ba=b\r\n    No match: Name!John=Name2+Sam=\r\n    No match: Name=John=\r\n    No match: Name=John!!\r\n    No match: Name=John-","title":"Java regular expression to match the pattern for equals sign between two or more words that has an exclamatory as a delimeter between the ranges","body":"<p>You can use</p>\n<pre><code>^(?:\\w+=\\w+!)*\\w+=\\w+!?$\n</code></pre>\n<p>In Java</p>\n<pre><code>String regex = &quot;^(?:\\\\w+=\\\\w+!)*\\\\w+=\\\\w+!?$&quot;;\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(?:\\w+=\\w+!)*</code> Optionally repeat 1+ word chars <code>=</code> 1+ word chars and <code>!</code></li>\n<li><code>\\w+=\\w+!?</code> Match 1+ word chars <code>=</code> 1+ word chars and optional <code>!</code></li>\n<li><code>$</code> End of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/68NMZx/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<pre><code>String[] strings = {\n    &quot;Name=John!Age=25!Gender=M&quot;,\n    &quot;Name=John!Name2=Sam!Name3=Josh&quot;,\n    &quot;Name=John!Name2=Sam!Name3=Josh!&quot;,\n    &quot;N=J!A=25!&quot;,\n    &quot;a=ba=b&quot;,\n    &quot;Name!John=Name2+Sam=&quot;,\n    &quot;Name=John=&quot;,\n    &quot;Name=John!!&quot;,\n    &quot;Name=John-&quot;\n};\n\nfor (String s : strings) {\n    if (s.matches(&quot;(?:\\\\w+=\\\\w+!)*\\\\w+=\\\\w+!?&quot;)) {\n        System.out.println(&quot;Match: &quot; + s);\n    } else {\n        System.out.println(&quot;No match: &quot; + s);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Match: Name=John!Age=25!Gender=M\nMatch: Name=John!Name2=Sam!Name3=Josh\nMatch: Name=John!Name2=Sam!Name3=Josh!\nMatch: N=J!A=25!\nNo match: a=ba=b\nNo match: Name!John=Name2+Sam=\nNo match: Name=John=\nNo match: Name=John!!\nNo match: Name=John-\n</code></pre>\n"}],"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732008,"answer_count":1,"score":0,"last_activity_date":1642352244,"creation_date":1642350634,"question_id":70731981,"body_markdown":"I&#39;m trying to write a regular expression that matches all the following given pattern examples - \r\n\r\n    1) Name=John!Age=25!Gender=M\r\n    2) Name=John!Name2=Sam!Name3=Josh\r\n    3) Name=John!Name2=Sam!Name3=Josh!\r\n\r\nBasically there has to be an equals to sign between two words or numbers followed by an exclamatory and then the pattern repeats. the pattern can only end with an exclamatory or any alphabets or numbers or spaces but not the &#39;equals&#39; sign or any other special characters\r\n\r\nSo these examples should not be matched - \r\n\r\n    1) Name!John=Name2+Sam=\r\n    2) Name=John=\r\n    3) Name=John!!\r\n    4) Name=John-\r\n\r\nI&#39;m very new to regular expressions and I just learnt a few basic things and I have this following regular expression written so far which doesn&#39;t fully satisfy my requirement `((?:\\w+|=)*)!`\r\n\r\nI&#39;m still trying to modify my regular expression to match my requirement, any help/guidance will be very helpful.\r\n","title":"Java regular expression to match the pattern for equals sign between two or more words that has an exclamatory as a delimeter between the ranges","body":"<p>I'm trying to write a regular expression that matches all the following given pattern examples -</p>\n<pre><code>1) Name=John!Age=25!Gender=M\n2) Name=John!Name2=Sam!Name3=Josh\n3) Name=John!Name2=Sam!Name3=Josh!\n</code></pre>\n<p>Basically there has to be an equals to sign between two words or numbers followed by an exclamatory and then the pattern repeats. the pattern can only end with an exclamatory or any alphabets or numbers or spaces but not the 'equals' sign or any other special characters</p>\n<p>So these examples should not be matched -</p>\n<pre><code>1) Name!John=Name2+Sam=\n2) Name=John=\n3) Name=John!!\n4) Name=John-\n</code></pre>\n<p>I'm very new to regular expressions and I just learnt a few basic things and I have this following regular expression written so far which doesn't fully satisfy my requirement <code>((?:\\w+|=)*)!</code></p>\n<p>I'm still trying to modify my regular expression to match my requirement, any help/guidance will be very helpful.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10932052,"reputation":12327,"user_id":8034839,"display_name":"shizhen"},"score":0,"creation_date":1554217825,"post_id":55477792,"comment_id":97666341,"body_markdown":"Possible duplicate of [Android getResources().getDrawable() deprecated API 22](https://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22\">Android getResources().getDrawable() deprecated API 22</a>"}],"answers":[{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554217453,"creation_date":1554217453,"answer_id":55477949,"question_id":55477792,"body_markdown":"Try this:\r\n```\r\n String resourceName = &quot;clouds&quot;;\r\n int resourceIdentifier = getResources().getIdentifier(resourceName, &quot;drawable&quot;, Constants.CURRENT_CONTEXT.getPackageName());\r\n```\r\n\r\nThen\r\n```\r\nimgView.setImageResource(resourceIdentifier);\r\n```","title":"How to set imageview resource from variable?","body":"<p>Try this:</p>\n\n<pre><code> String resourceName = \"clouds\";\n int resourceIdentifier = getResources().getIdentifier(resourceName, \"drawable\", Constants.CURRENT_CONTEXT.getPackageName());\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>imgView.setImageResource(resourceIdentifier);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11642595,"reputation":192,"user_id":8526518,"display_name":"Adama Traore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554217662,"creation_date":1554217662,"answer_id":55478022,"question_id":55477792,"body_markdown":"I don&#39;t know if I clearly understood your request but why don&#39;t you try to do that instead : \r\n\r\n        int my_image = R.id.my_image;\r\n        img.setImageResource(ContextCompat.getDrawable(this, my_image));\r\n\r\nhttps://stackoverflow.com/a/29146895/8526518 for more informations about ContextCompat","title":"How to set imageview resource from variable?","body":"<p>I don't know if I clearly understood your request but why don't you try to do that instead : </p>\n\n<pre><code>    int my_image = R.id.my_image;\n    img.setImageResource(ContextCompat.getDrawable(this, my_image));\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/29146895/8526518\">https://stackoverflow.com/a/29146895/8526518</a> for more informations about ContextCompat</p>\n"},{"tags":[],"owner":{"account_id":9599831,"reputation":173,"user_id":8654670,"display_name":"Amar Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554217696,"creation_date":1554217696,"answer_id":55478034,"question_id":55477792,"body_markdown":"if you can prefer assets folder rather than resource,\r\nthen you can try this code\r\n\r\ncreate sub-folder in assets directory. use getAssets().list(&lt;folder_name&gt;) for getting all file names from assets:\r\n\r\n    String[] images =getAssets().list(&quot;images&quot;);\r\n    ArrayList&lt;String&gt; listImages = new ArrayList&lt;String&gt;(Arrays.asList(images));\r\n\r\nNow to set image in imageview you first need to get bitmap using image name from assets :\r\n\r\n    InputStream inputstream=mContext.getAssets().open(&quot;images/&quot;\r\n                                          +listImages.get(position));\r\n    Drawable drawable = Drawable.createFromStream(inputstream, null);\r\n    imageView.setImageDrawable(drawable);","title":"How to set imageview resource from variable?","body":"<p>if you can prefer assets folder rather than resource,\nthen you can try this code</p>\n\n<p>create sub-folder in assets directory. use getAssets().list() for getting all file names from assets:</p>\n\n<pre><code>String[] images =getAssets().list(\"images\");\nArrayList&lt;String&gt; listImages = new ArrayList&lt;String&gt;(Arrays.asList(images));\n</code></pre>\n\n<p>Now to set image in imageview you first need to get bitmap using image name from assets :</p>\n\n<pre><code>InputStream inputstream=mContext.getAssets().open(\"images/\"\n                                      +listImages.get(position));\nDrawable drawable = Drawable.createFromStream(inputstream, null);\nimageView.setImageDrawable(drawable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9464560,"reputation":121,"user_id":7037357,"display_name":"albaspazio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642352003,"creation_date":1642352003,"answer_id":70732169,"question_id":55477792,"body_markdown":"just a convenient refactoring of the S-Sh answer if you use kotlin and like using its extensions functions:\r\n\r\n\r\n    fun ImageView.loadDrawableFromName(name:String, ctx: Context, visible:Int=View.VISIBLE){\r\n        val resId = ctx.resources.getIdentifier(name, &quot;drawable&quot;, ctx.packageName)\r\n        this.setImageResource(resId)\r\n        this.visibility = visible\r\n    }\r\n\r\nyou can call it in both ways:\r\n\r\n    imgname=&quot;IMGNAME&quot;\r\n    myimageview.loadDrawableFromName(imgname, ctx)\r\n\r\nand\r\n\r\n    imgname=&quot;IMGNAME&quot;\r\n    myimageview.loadDrawableFromName(&quot;@drawable/$imgname&quot;, ctx)\r\n\r\n","title":"How to set imageview resource from variable?","body":"<p>just a convenient refactoring of the S-Sh answer if you use kotlin and like using its extensions functions:</p>\n<pre><code>fun ImageView.loadDrawableFromName(name:String, ctx: Context, visible:Int=View.VISIBLE){\n    val resId = ctx.resources.getIdentifier(name, &quot;drawable&quot;, ctx.packageName)\n    this.setImageResource(resId)\n    this.visibility = visible\n}\n</code></pre>\n<p>you can call it in both ways:</p>\n<pre><code>imgname=&quot;IMGNAME&quot;\nmyimageview.loadDrawableFromName(imgname, ctx)\n</code></pre>\n<p>and</p>\n<pre><code>imgname=&quot;IMGNAME&quot;\nmyimageview.loadDrawableFromName(&quot;@drawable/$imgname&quot;, ctx)\n</code></pre>\n"}],"owner":{"account_id":14054569,"reputation":11,"user_id":10848982,"display_name":"Black Dragon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1180,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1642352003,"creation_date":1554216978,"question_id":55477792,"body_markdown":"I have a lot of images (hundreds) and I need to put some of them as a resource of `ImageView`, but if I would create If Then set Image to Image name, I die from these tons of code. I want to set Image resource which name is inside a variable, but I can&#39;t find out how. If I have \r\n`img.setImageResource(R.drawable.my_image);`\r\nHow can I assign variable name at `my_image` instead of true image name?\r\nPlease help.\r\nThanks.","title":"How to set imageview resource from variable?","body":"<p>I have a lot of images (hundreds) and I need to put some of them as a resource of <code>ImageView</code>, but if I would create If Then set Image to Image name, I die from these tons of code. I want to set Image resource which name is inside a variable, but I can't find out how. If I have \n<code>img.setImageResource(R.drawable.my_image);</code>\nHow can I assign variable name at <code>my_image</code> instead of true image name?\nPlease help.\nThanks.</p>\n"},{"tags":["java","spring-boot","lambda","logic","refactoring"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1640726185,"post_id":70512552,"comment_id":124644718,"body_markdown":"`item.getValue().equals(Boolean.TRUE)` should be equivalent to `item.getValue()`.","body":"<code>item.getValue().equals(Boolean.TRUE)</code> should be equivalent to <code>item.getValue()</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1640726249,"post_id":70512552,"comment_id":124644742,"body_markdown":"I do not fully understand the business use case. That being said, the fact that we have to do a second, conditional, filtering suggests to met hat this isn&#39;t something well-suited for a streamified solution. Or at least not for a solution that tries to press everything in a single stream-pipeline.","body":"I do not fully understand the business use case. That being said, the fact that we have to do a second, conditional, filtering suggests to met hat this isn&#39;t something well-suited for a streamified solution. Or at least not for a solution that tries to press everything in a single stream-pipeline."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640726728,"post_id":70512552,"comment_id":124644898,"body_markdown":"@Turing85 As I was reading the OP&#39;s question, I was thinkin the same thing.","body":"@Turing85 As I was reading the OP&#39;s question, I was thinkin the same thing."},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1640729434,"post_id":70512552,"comment_id":124645744,"body_markdown":"Both `item.getValue().equals(Boolean.TRUE)`  and `item.getValue()` are prone to NPE if the `getValue` returns `Boolean`","body":"Both <code>item.getValue().equals(Boolean.TRUE)</code>  and <code>item.getValue()</code> are prone to NPE if the <code>getValue</code> returns <code>Boolean</code>"},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":1,"creation_date":1640729862,"post_id":70512552,"comment_id":124645848,"body_markdown":"You cannot know the size of a stream unless you terminate it as it&#39;s not a data structure. So even if you manage to combine that into a single pipeline (e.g. through `Opional`) - it would still look ugly (perhaps even worse). So I agree with @Turing85 that steams may not be the best option to use","body":"You cannot know the size of a stream unless you terminate it as it&#39;s not a data structure. So even if you manage to combine that into a single pipeline (e.g. through <code>Opional</code>) - it would still look ugly (perhaps even worse). So I agree with @Turing85 that steams may not be the best option to use"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1640735478,"post_id":70512552,"comment_id":124647067,"body_markdown":"This assumption _the idea of having to check if the size of the list is less than 2 to know that it has not found the 2 path of the first one_ does not seem to be correct: the _filtered_ list may have size over 2 but this does not guarantee that _all_ entries from the `allowedPath`  set are available in the list.","body":"This assumption <i>the idea of having to check if the size of the list is less than 2 to know that it has not found the 2 path of the first one</i> does not seem to be correct: the <i>filtered</i> list may have size over 2 but this does not guarantee that <i>all</i> entries from the <code>allowedPath</code>  set are available in the list."},{"owner":{"account_id":11906823,"reputation":405,"user_id":8713172,"display_name":"AntoCode"},"score":0,"creation_date":1641375280,"post_id":70512552,"comment_id":124785983,"body_markdown":"I don&#39;t like the idea either, I even think the cost and performance is absurd. But they want to implement the logic and unfortunately I am not yet experienced enough to be able to discuss it with my superiors (although I have tried without success).\nThank you all for your help!","body":"I don&#39;t like the idea either, I even think the cost and performance is absurd. But they want to implement the logic and unfortunately I am not yet experienced enough to be able to discuss it with my superiors (although I have tried without success). Thank you all for your help!"}],"answers":[{"tags":[],"owner":{"account_id":12782866,"reputation":307,"user_id":11079979,"display_name":"Aliaksei Budavei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642351518,"creation_date":1640910893,"answer_id":70537981,"question_id":70512552,"body_markdown":"Consider filtering and collecting matched items against *both*  \r\npath sets simultaneously and paying the cost of having  \r\nanother (sometimes superfluous) list around.\r\n\r\nAdd the following `import` declarations:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.function.Function;\r\n    import java.util.function.Predicate;\r\n\r\nAssuming the unspecified `ItemObject` type is, more or less:\r\n\r\n    interface ItemObject\r\n\t{\r\n\t\tString getPath();\r\n\t\tboolean getValue();\r\n\t}\r\n\r\nImplement `filterPath` as follows:\r\n\r\n\tprivate static List&lt;ItemObject&gt; filterPath(\r\n\t\t\t\t\tfinal List&lt;ItemObject&gt; itemList)\r\n\t{\r\n\t\tclass PairCollector&lt;T, U&gt;\r\n\t\t{\r\n\t\t\tprivate final Predicate&lt;T&gt; primaryFilter;\r\n\t\t\tprivate final Predicate&lt;T&gt; secondaryFilter;\r\n\t\t\tprivate final Predicate&lt;List&lt;T&gt;&gt; selectFilter;\r\n\t\t\tprivate final List&lt;T&gt; primaryList;\r\n\t\t\tprivate final List&lt;T&gt; secondaryList;\r\n\r\n\t\t\tPairCollector(Function&lt;Set&lt;U&gt;, Predicate&lt;T&gt;&gt; pairFilter,\r\n\t\t\t\t\t\tPredicate&lt;List&lt;T&gt;&gt; selectFilter,\r\n\t\t\t\t\t\tSet&lt;U&gt; primarySet,\r\n\t\t\t\t\t\tSet&lt;U&gt; secondarySet,\r\n\t\t\t\t\t\tint listCapacity)\r\n\t\t\t{\r\n\t\t\t\tthis.primaryFilter = pairFilter.apply(\r\n\t\t\t\t\t\t\t\tprimarySet);\r\n\t\t\t\tthis.secondaryFilter = pairFilter.apply(\r\n\t\t\t\t\t\t\t\tsecondarySet);\r\n\t\t\t\tthis.selectFilter = selectFilter;\r\n\t\t\t\tthis.primaryList = new ArrayList&lt;&gt;(\r\n\t\t\t\t\t\t\t\tlistCapacity);\r\n\t\t\t\tthis.secondaryList = new ArrayList&lt;&gt;(\r\n\t\t\t\t\t\t\t\tlistCapacity);\r\n\t\t\t}\r\n\r\n\t\t\tPairCollector&lt;T, U&gt; filter(T item)\r\n\t\t\t{\r\n\t\t\t\tif (primaryFilter.test(item))\r\n\t\t\t\t\tprimaryList.add(item);\r\n\r\n\t\t\t\tif (selectFilter.test(primaryList)\r\n\t\t\t\t\t\t&amp;&amp; secondaryFilter.test(item))\r\n\t\t\t\t\tsecondaryList.add(item);\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tList&lt;T&gt; selectPrimaryElseSecondary()\r\n\t\t\t{\r\n\t\t\t\treturn selectFilter.test(primaryList)\r\n\t\t\t\t\t? secondaryList\r\n\t\t\t\t\t: primaryList;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn Collections.unmodifiableList(itemList\r\n\t\t\t.stream()\r\n\t\t\t.reduce(new PairCollector&lt;&gt;((Set&lt;String&gt; paths) -&gt;\r\n\t\t\t\t\t\t\t(ItemObject item) -&gt;\r\n\t\t\t\t\t\t\t\t\tpaths\r\n\t\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t\t.anyMatch(path -&gt; item\r\n\t\t\t\t\t\t\t\t\t.getPath()\r\n\t\t\t\t\t\t\t\t\t.contains(path)\r\n\t\t\t\t\t\t\t\t&amp;&amp; item.getValue()),\r\n\t\t\t\t\t\tlist -&gt; list.size() &lt; 2,\r\n\t\t\t\t\t\tALLOWED_PATH,\r\n\t\t\t\t\t\tSECOND_ALLOWED_PATH,\r\n\t\t\t\t\t\titemList.size()),\r\n\t\t\t\tPairCollector::filter,\r\n\t\t\t\t(left, right) -&gt; {\r\n\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t})\r\n\t\t\t.selectPrimaryElseSecondary());\r\n\t}\r\n\r\nA variant implementation with bound-only-variables lambda  \r\nexpressions. (`Item` occurs free in the predicate argument  \r\nof `anyMatch` in the above implementation.)\r\n\r\n    private static List&lt;ItemObject&gt; filterPath(\r\n\t\t\t\t\tfinal List&lt;ItemObject&gt; itemList)\r\n\t{\r\n\t\tclass PairCollector&lt;T, U&gt;\r\n\t\t{\r\n\t\t\tprivate final Predicate&lt;Predicate&lt;U&gt;&gt; primaryFilter;\r\n\t\t\tprivate final Predicate&lt;Predicate&lt;U&gt;&gt; secondaryFilter;\r\n\t\t\tprivate final Function&lt;T, Predicate&lt;U&gt;&gt; matcher;\r\n\t\t\tprivate final Predicate&lt;List&lt;T&gt;&gt; selectFilter;\r\n\t\t\tprivate final List&lt;T&gt; primaryList;\r\n\t\t\tprivate final List&lt;T&gt; secondaryList;\r\n\r\n\t\t\tPairCollector(Function&lt;Set&lt;U&gt;, Predicate&lt;Predicate&lt;U&gt;&gt;&gt;\r\n\t\t\t\t\t\t\t\tpairFilter,\r\n\t\t\t\t\tFunction&lt;T, Predicate&lt;U&gt;&gt; matcher,\r\n\t\t\t\t\tPredicate&lt;List&lt;T&gt;&gt; selectFilter,\r\n\t\t\t\t\tSet&lt;U&gt; primarySet,\r\n\t\t\t\t\tSet&lt;U&gt; secondarySet,\r\n\t\t\t\t\tint listCapacity)\r\n\t\t\t{\r\n\t\t\t\tthis.primaryFilter = pairFilter.apply(\r\n\t\t\t\t\t\t\t\tprimarySet);\r\n\t\t\t\tthis.secondaryFilter = pairFilter.apply(\r\n\t\t\t\t\t\t\t\tsecondarySet);\r\n\t\t\t\tthis.matcher = matcher;\r\n\t\t\t\tthis.selectFilter = selectFilter;\r\n\t\t\t\tthis.primaryList = new ArrayList&lt;&gt;(\r\n\t\t\t\t\t\t\t\tlistCapacity);\r\n\t\t\t\tthis.secondaryList = new ArrayList&lt;&gt;(\r\n\t\t\t\t\t\t\t\tlistCapacity);\r\n\t\t\t}\r\n\r\n\t\t\tPairCollector&lt;T, U&gt; filter(T item)\r\n\t\t\t{\r\n\t\t\t\tfinal Predicate&lt;U&gt; matcher_ = matcher.apply(item);\r\n\r\n\t\t\t\tif (primaryFilter.test(matcher_))\r\n\t\t\t\t\tprimaryList.add(item);\r\n\r\n\t\t\t\tif (selectFilter.test(primaryList)\r\n\t\t\t\t\t\t&amp;&amp; secondaryFilter.test(matcher_))\r\n\t\t\t\t\tsecondaryList.add(item);\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tList&lt;T&gt; selectPrimaryElseSecondary()\r\n\t\t\t{\r\n\t\t\t\treturn selectFilter.test(primaryList)\r\n\t\t\t\t\t? secondaryList\r\n\t\t\t\t\t: primaryList;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn Collections.unmodifiableList(itemList\r\n\t\t\t.stream()\r\n\t\t\t.reduce(new PairCollector&lt;&gt;(\r\n\t\t\t\t\tpaths -&gt; paths.stream()::anyMatch,\r\n\t\t\t\t\t(ItemObject item) -&gt;\r\n\t\t\t\t\t\t(String path) -&gt; item\r\n\t\t\t\t\t\t\t.getPath()\r\n\t\t\t\t\t\t\t.contains(path)\r\n\t\t\t\t\t\t&amp;&amp; item.getValue(),\r\n\t\t\t\t\tlist -&gt; list.size() &lt; 2,\r\n\t\t\t\t\tALLOWED_PATH,\r\n\t\t\t\t\tSECOND_ALLOWED_PATH,\r\n\t\t\t\t\titemList.size()),\r\n\t\t\t\tPairCollector::filter,\r\n\t\t\t\t(left, right) -&gt; {\r\n\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t})\r\n\t\t\t.selectPrimaryElseSecondary());\r\n\t}\r\n","title":"Filtering a stream if the previous filter resulted in an empty stream JAVA","body":"<p>Consider filtering and collecting matched items against <em>both</em><br />\npath sets simultaneously and paying the cost of having<br />\nanother (sometimes superfluous) list around.</p>\n<p>Add the following <code>import</code> declarations:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\n</code></pre>\n<p>Assuming the unspecified <code>ItemObject</code> type is, more or less:</p>\n<pre><code>interface ItemObject\n{\n    String getPath();\n    boolean getValue();\n}\n</code></pre>\n<p>Implement <code>filterPath</code> as follows:</p>\n<pre><code>private static List&lt;ItemObject&gt; filterPath(\n                final List&lt;ItemObject&gt; itemList)\n{\n    class PairCollector&lt;T, U&gt;\n    {\n        private final Predicate&lt;T&gt; primaryFilter;\n        private final Predicate&lt;T&gt; secondaryFilter;\n        private final Predicate&lt;List&lt;T&gt;&gt; selectFilter;\n        private final List&lt;T&gt; primaryList;\n        private final List&lt;T&gt; secondaryList;\n\n        PairCollector(Function&lt;Set&lt;U&gt;, Predicate&lt;T&gt;&gt; pairFilter,\n                    Predicate&lt;List&lt;T&gt;&gt; selectFilter,\n                    Set&lt;U&gt; primarySet,\n                    Set&lt;U&gt; secondarySet,\n                    int listCapacity)\n        {\n            this.primaryFilter = pairFilter.apply(\n                            primarySet);\n            this.secondaryFilter = pairFilter.apply(\n                            secondarySet);\n            this.selectFilter = selectFilter;\n            this.primaryList = new ArrayList&lt;&gt;(\n                            listCapacity);\n            this.secondaryList = new ArrayList&lt;&gt;(\n                            listCapacity);\n        }\n\n        PairCollector&lt;T, U&gt; filter(T item)\n        {\n            if (primaryFilter.test(item))\n                primaryList.add(item);\n\n            if (selectFilter.test(primaryList)\n                    &amp;&amp; secondaryFilter.test(item))\n                secondaryList.add(item);\n\n            return this;\n        }\n\n        List&lt;T&gt; selectPrimaryElseSecondary()\n        {\n            return selectFilter.test(primaryList)\n                ? secondaryList\n                : primaryList;\n        }\n    }\n\n    return Collections.unmodifiableList(itemList\n        .stream()\n        .reduce(new PairCollector&lt;&gt;((Set&lt;String&gt; paths) -&gt;\n                        (ItemObject item) -&gt;\n                                paths\n                        .stream()\n                        .anyMatch(path -&gt; item\n                                .getPath()\n                                .contains(path)\n                            &amp;&amp; item.getValue()),\n                    list -&gt; list.size() &lt; 2,\n                    ALLOWED_PATH,\n                    SECOND_ALLOWED_PATH,\n                    itemList.size()),\n            PairCollector::filter,\n            (left, right) -&gt; {\n                throw new UnsupportedOperationException();\n            })\n        .selectPrimaryElseSecondary());\n}\n</code></pre>\n<p>A variant implementation with bound-only-variables lambda<br />\nexpressions. (<code>Item</code> occurs free in the predicate argument<br />\nof <code>anyMatch</code> in the above implementation.)</p>\n<pre><code>private static List&lt;ItemObject&gt; filterPath(\n                final List&lt;ItemObject&gt; itemList)\n{\n    class PairCollector&lt;T, U&gt;\n    {\n        private final Predicate&lt;Predicate&lt;U&gt;&gt; primaryFilter;\n        private final Predicate&lt;Predicate&lt;U&gt;&gt; secondaryFilter;\n        private final Function&lt;T, Predicate&lt;U&gt;&gt; matcher;\n        private final Predicate&lt;List&lt;T&gt;&gt; selectFilter;\n        private final List&lt;T&gt; primaryList;\n        private final List&lt;T&gt; secondaryList;\n\n        PairCollector(Function&lt;Set&lt;U&gt;, Predicate&lt;Predicate&lt;U&gt;&gt;&gt;\n                            pairFilter,\n                Function&lt;T, Predicate&lt;U&gt;&gt; matcher,\n                Predicate&lt;List&lt;T&gt;&gt; selectFilter,\n                Set&lt;U&gt; primarySet,\n                Set&lt;U&gt; secondarySet,\n                int listCapacity)\n        {\n            this.primaryFilter = pairFilter.apply(\n                            primarySet);\n            this.secondaryFilter = pairFilter.apply(\n                            secondarySet);\n            this.matcher = matcher;\n            this.selectFilter = selectFilter;\n            this.primaryList = new ArrayList&lt;&gt;(\n                            listCapacity);\n            this.secondaryList = new ArrayList&lt;&gt;(\n                            listCapacity);\n        }\n\n        PairCollector&lt;T, U&gt; filter(T item)\n        {\n            final Predicate&lt;U&gt; matcher_ = matcher.apply(item);\n\n            if (primaryFilter.test(matcher_))\n                primaryList.add(item);\n\n            if (selectFilter.test(primaryList)\n                    &amp;&amp; secondaryFilter.test(matcher_))\n                secondaryList.add(item);\n\n            return this;\n        }\n\n        List&lt;T&gt; selectPrimaryElseSecondary()\n        {\n            return selectFilter.test(primaryList)\n                ? secondaryList\n                : primaryList;\n        }\n    }\n\n    return Collections.unmodifiableList(itemList\n        .stream()\n        .reduce(new PairCollector&lt;&gt;(\n                paths -&gt; paths.stream()::anyMatch,\n                (ItemObject item) -&gt;\n                    (String path) -&gt; item\n                        .getPath()\n                        .contains(path)\n                    &amp;&amp; item.getValue(),\n                list -&gt; list.size() &lt; 2,\n                ALLOWED_PATH,\n                SECOND_ALLOWED_PATH,\n                itemList.size()),\n            PairCollector::filter,\n            (left, right) -&gt; {\n                throw new UnsupportedOperationException();\n            })\n        .selectPrimaryElseSecondary());\n}\n</code></pre>\n"}],"owner":{"account_id":11906823,"reputation":405,"user_id":8713172,"display_name":"AntoCode"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70537981,"answer_count":1,"score":0,"last_activity_date":1642351518,"creation_date":1640725903,"question_id":70512552,"body_markdown":"I have several hours trying to find an easier solution, but I have not been able to come up with an optimal answer.\r\n\r\nMy problem is that I have two `Set&lt;String&gt;` and a `List&lt;&gt;` I must apply a first filter to the list&lt;&gt; according to a set, in case the result is empty or has only 1 element, I must filter again the `List&lt;&gt;` with the missing `Set&lt;String&gt;`.\r\n\r\nI have this logic and, although it works, it seems to me a little ugly.\r\n\r\n \r\n\r\n      private static final Set&lt;String&gt; ALLOWED_PATH =\r\n          Set.of(&quot;/anto&quot;, &quot;chachi&quot;);\r\n      private static final Set&lt;String&gt; SECOD_ALLOWED_PATH =\r\n          Set.of(&quot;/jose&quot;, &quot;chuchu&quot;);\r\n    \r\n    \r\n      public void valid(final List&lt;itemObject&gt; itemList) {\r\n    \r\n        List&lt;itemObject&gt; itemFiltered = filterPath(itemList, ALLOWED_PATH);\r\n    \r\n        if (itemFiltered.size() &lt; 2) {\r\n          itemFiltered = filterPath(itemList, SECOND_ALLOWED_PATH);\r\n        }\r\n    \r\n        //Continue code\r\n      }\r\n    \r\n    \r\n      private List&lt;itemObject&gt; filterPath(\r\n          final List&lt;itemObject&gt; itemList, final Set&lt;String&gt; allowedPath) {\r\n    \r\n        return itemList\r\n            .stream()\r\n            .filter(\r\n                item -&gt;\r\n                    allowedPath\r\n                        .stream()\r\n                        .anyMatch(\r\n                            path -&gt;\r\n                                item.getPath().contains(path) &amp;&amp; item.getValue().equals(Boolean.TRUE)))\r\n            .collect(Collectors.toList());\r\n      }\r\n\r\nIn my example, it works but I don&#39;t like the idea of having to check if the size of the list is less than 2 to know that it has not found the 2 path of the first one and I must do the second filter.\r\n\r\nI am not an expert in lambda, is there any way to make it more optimal?\r\n\r\nThanks!","title":"Filtering a stream if the previous filter resulted in an empty stream JAVA","body":"<p>I have several hours trying to find an easier solution, but I have not been able to come up with an optimal answer.</p>\n<p>My problem is that I have two <code>Set&lt;String&gt;</code> and a <code>List&lt;&gt;</code> I must apply a first filter to the list&lt;&gt; according to a set, in case the result is empty or has only 1 element, I must filter again the <code>List&lt;&gt;</code> with the missing <code>Set&lt;String&gt;</code>.</p>\n<p>I have this logic and, although it works, it seems to me a little ugly.</p>\n<pre><code>  private static final Set&lt;String&gt; ALLOWED_PATH =\n      Set.of(&quot;/anto&quot;, &quot;chachi&quot;);\n  private static final Set&lt;String&gt; SECOD_ALLOWED_PATH =\n      Set.of(&quot;/jose&quot;, &quot;chuchu&quot;);\n\n\n  public void valid(final List&lt;itemObject&gt; itemList) {\n\n    List&lt;itemObject&gt; itemFiltered = filterPath(itemList, ALLOWED_PATH);\n\n    if (itemFiltered.size() &lt; 2) {\n      itemFiltered = filterPath(itemList, SECOND_ALLOWED_PATH);\n    }\n\n    //Continue code\n  }\n\n\n  private List&lt;itemObject&gt; filterPath(\n      final List&lt;itemObject&gt; itemList, final Set&lt;String&gt; allowedPath) {\n\n    return itemList\n        .stream()\n        .filter(\n            item -&gt;\n                allowedPath\n                    .stream()\n                    .anyMatch(\n                        path -&gt;\n                            item.getPath().contains(path) &amp;&amp; item.getValue().equals(Boolean.TRUE)))\n        .collect(Collectors.toList());\n  }\n</code></pre>\n<p>In my example, it works but I don't like the idea of having to check if the size of the list is less than 2 to know that it has not found the 2 path of the first one and I must do the second filter.</p>\n<p>I am not an expert in lambda, is there any way to make it more optimal?</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","user-interface","jbutton"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1366195683,"post_id":16057124,"comment_id":22915505,"body_markdown":"fix the test environment: it&#39;s broken (as you experience :-) if you are not able to test an icon-only label/button. Adding hacks just for sake of that broken test tool detoriates the code. For identification, it should use either a name or a client property","body":"fix the test environment: it&#39;s broken (as you experience :-) if you are not able to test an icon-only label/button. Adding hacks just for sake of that broken test tool detoriates the code. For identification, it should use either a name or a client property"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1366197254,"post_id":16057124,"comment_id":22916329,"body_markdown":"Rather the using the text, every JComponent can have a name","body":"Rather the using the text, every JComponent can have a name"},{"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"score":0,"creation_date":1367337912,"post_id":16057124,"comment_id":23342333,"body_markdown":"@keopatra has the trick, changed the automatic test to use the name and set an unique name for each button in system.","body":"@keopatra has the trick, changed the automatic test to use the name and set an unique name for each button in system."}],"answers":[{"tags":[],"owner":{"account_id":2637729,"reputation":21771,"user_id":2282011,"accept_rate":90,"display_name":"Devolus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366193149,"creation_date":1366193149,"answer_id":16057242,"question_id":16057124,"body_markdown":"You want to have the text only in the test environment but not in production?\r\n\r\nThen you could so something like this:\r\n\r\n    setText(&quot;&quot;);\r\n    if(test)\r\n       setText(&quot;sometext&quot;);\r\n","title":"JButton with icon and text but hide text","body":"<p>You want to have the text only in the test environment but not in production?</p>\n\n<p>Then you could so something like this:</p>\n\n<pre><code>setText(\"\");\nif(test)\n   setText(\"sometext\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1775623,"reputation":1853,"user_id":1619462,"accept_rate":60,"display_name":"jeroen_de_schutter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366193346,"creation_date":1366193346,"answer_id":16057300,"question_id":16057124,"body_markdown":"I would suggest to set the size of the Font of the button text to 0.\r\nAnd if that does not work, set the size to the lowest possible value and the color of the text equal to the background color of the button (you might have to tweak the layout a little afterwards ...)","title":"JButton with icon and text but hide text","body":"<p>I would suggest to set the size of the Font of the button text to 0.\nAnd if that does not work, set the size to the lowest possible value and the color of the text equal to the background color of the button (you might have to tweak the layout a little afterwards ...)</p>\n"},{"tags":[],"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366200191,"creation_date":1366200191,"answer_id":16059482,"question_id":16057124,"body_markdown":"You could avoid the text of the JButton completely if your work with the TooltipText: \r\n\r\n\r\n       jButton1.setIcon(new ImageIcon(getClass().getResource(&quot;/money.png&quot;)));\r\n       jButton1.setToolTipText(&quot;Foo&quot;);  \r\n       ....\r\n       jButton1.getToolTipText(); // use instead of getText()\r\n\r\n","title":"JButton with icon and text but hide text","body":"<p>You could avoid the text of the JButton completely if your work with the TooltipText: </p>\n\n<pre><code>   jButton1.setIcon(new ImageIcon(getClass().getResource(\"/money.png\")));\n   jButton1.setToolTipText(\"Foo\");  \n   ....\n   jButton1.getToolTipText(); // use instead of getText()\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2575725"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1446023578,"creation_date":1446023578,"answer_id":33386960,"question_id":16057124,"body_markdown":"&gt;  I need to create a JButton with text and icon but only show the icon.\r\n\r\nYou could have possibly used [setActionCommand()](http://docs.oracle.com/javase/7/docs/api/javax/swing/AbstractButton.html#setActionCommand%28java.lang.String%29)\r\n\r\n    jButton.setActionCommand(&quot;Button 1&quot;);\r\n\r\nOr, you may also use [setName()](http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#setName%28java.lang.String%29)\r\n\r\n    jButton.setName(&quot;Button 1&quot;);\r\n","title":"JButton with icon and text but hide text","body":"<blockquote>\n  <p>I need to create a JButton with text and icon but only show the icon.</p>\n</blockquote>\n\n<p>You could have possibly used <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/AbstractButton.html#setActionCommand%28java.lang.String%29\" rel=\"nofollow\">setActionCommand()</a></p>\n\n<pre><code>jButton.setActionCommand(\"Button 1\");\n</code></pre>\n\n<p>Or, you may also use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#setName%28java.lang.String%29\" rel=\"nofollow\">setName()</a></p>\n\n<pre><code>jButton.setName(\"Button 1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23957809,"reputation":1,"user_id":17948405,"display_name":"homebeaver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642351442,"creation_date":1642351442,"answer_id":70732098,"question_id":16057124,"body_markdown":"Button text not shown with painted icons!\r\n\r\nThe code:\r\n```java\r\n        Icon icon = new PlayIcon();\r\n    \tJButton play = new JButton(&quot;PlayIcon with text&quot;, icon);\r\n```\r\n\r\nYou expect a text with the button. But it is not shown!\r\nMaybe your icon paints itsself like this:\r\n\r\n```java\r\npublic class PlayIcon implements Icon ...\r\n\r\n\tpublic void paintIcon(Component c, Graphics g, int x, int y) {\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\r\n\t\tg2d.setColor(color==null ? c.getForeground() : color);\r\n\t\tGeneralPath path = new GeneralPath();\r\n\t\tpath.moveTo(x + 2, y + 2);\r\n\t\tpath.lineTo(x + width - 2, y + height / 2);\r\n\t\tpath.lineTo(x + 2, y + height - 2);\r\n\t\tpath.lineTo(x + 2, y + 2);\r\n\t\tg2d.fill(path);\r\n\t\tg2d.dispose(); // &lt;===========\r\n...\r\n```\r\nThen the problem is the `dispose()` call in the `PlayIcon` class.\r\nRemove it!\r\n\r\n\r\n[The result will be like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1OR6P.png\r\n\r\nSee: [github issue](https://github.com/homebeaver/SwingSet/issues/19)","title":"JButton with icon and text but hide text","body":"<p>Button text not shown with painted icons!</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Icon icon = new PlayIcon();\n        JButton play = new JButton(&quot;PlayIcon with text&quot;, icon);\n</code></pre>\n<p>You expect a text with the button. But it is not shown!\nMaybe your icon paints itsself like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayIcon implements Icon ...\n\n    public void paintIcon(Component c, Graphics g, int x, int y) {\n        Graphics2D g2d = (Graphics2D) g;\n\n        g2d.setColor(color==null ? c.getForeground() : color);\n        GeneralPath path = new GeneralPath();\n        path.moveTo(x + 2, y + 2);\n        path.lineTo(x + width - 2, y + height / 2);\n        path.lineTo(x + 2, y + height - 2);\n        path.lineTo(x + 2, y + 2);\n        g2d.fill(path);\n        g2d.dispose(); // &lt;===========\n...\n</code></pre>\n<p>Then the problem is the <code>dispose()</code> call in the <code>PlayIcon</code> class.\nRemove it!</p>\n<p><a href=\"https://i.stack.imgur.com/1OR6P.png\" rel=\"nofollow noreferrer\">The result will be like this</a></p>\n<p>See: <a href=\"https://github.com/homebeaver/SwingSet/issues/19\" rel=\"nofollow noreferrer\">github issue</a></p>\n"}],"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6432,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1642351442,"creation_date":1366192822,"question_id":16057124,"body_markdown":"For automatic test purposes is a must to have the text set because is the identification used by robot to navigate though screens.\r\nI need to create a `JButton` with text and icon but only show the icon.\r\n\r\nI have tried several things:\r\n\r\n 1. use of `setHideActionText(true)`:\r\n\r\n        jButton button = new JButton(icon);\r\n        jButton.setHideActionText(true);\r\n        jButton.setText(_messageManager.getMessage(messageKey));\r\n\r\n 2. `setHoritzontalTextPosition`\r\n\r\n 3. `setVerticalAlignment`\r\n\r\nbut none worked.\r\n\r\nAnyone has any idea on how to solve this?","title":"JButton with icon and text but hide text","body":"<p>For automatic test purposes is a must to have the text set because is the identification used by robot to navigate though screens.\nI need to create a <code>JButton</code> with text and icon but only show the icon.</p>\n\n<p>I have tried several things:</p>\n\n<ol>\n<li><p>use of <code>setHideActionText(true)</code>:</p>\n\n<pre><code>jButton button = new JButton(icon);\njButton.setHideActionText(true);\njButton.setText(_messageManager.getMessage(messageKey));\n</code></pre></li>\n<li><p><code>setHoritzontalTextPosition</code></p></li>\n<li><p><code>setVerticalAlignment</code></p></li>\n</ol>\n\n<p>but none worked.</p>\n\n<p>Anyone has any idea on how to solve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1521049023,"post_id":49284331,"comment_id":85571474,"body_markdown":"https://en.wikipedia.org/wiki/Sorting_algorithm","body":"<a href=\"https://en.wikipedia.org/wiki/Sorting_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Sorting_algorithm</a>"},{"owner":{"account_id":8526746,"reputation":120,"user_id":6391974,"display_name":"p05p"},"score":0,"creation_date":1521049069,"post_id":49284331,"comment_id":85571502,"body_markdown":"https://www.cs.cmu.edu/~adamchik/15-121/lectures/Sorting%20Algorithms/sorting.html","body":"<a href=\"https://www.cs.cmu.edu/~adamchik/15-121/lectures/Sorting%20Algorithms/sorting.html\" rel=\"nofollow noreferrer\">cs.cmu.edu/~adamchik/15-121/lectures/Sorting%20Algorithms/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12972828,"reputation":433,"user_id":9377942,"accept_rate":71,"display_name":"anna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521049359,"creation_date":1521049359,"answer_id":49284446,"question_id":49284331,"body_markdown":"You can use counting sort instead of insertion sort. Because counting sort takes a linear time, but insertion sort at worst takes О(n^2)\r\nHere is example of using counting sort:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    public class Main {\r\n        public static void print(int []a){\r\n            System.out.println(Arrays.toString(a));\r\n        }\r\n        public static void countingSort(int []a, int []b, int n, int k){\r\n            int []c = new int [k];\r\n            for(int i=0; i&lt;k; i++)\r\n                c[i] = 0;\r\n            for(int j=0; j&lt;n; j++){\r\n                c[a[j]] = c[a[j]]+1;\r\n            }\r\n            for(int i=1; i&lt;k; i++){\r\n                c[i] = c[i]+c[i-1];\r\n            }\r\n            for(int j=n-1; j&gt;=0; j--){\r\n                c[a[j]] = c[a[j]]-1;\r\n                b[c[a[j]]] = a[j];\r\n            }\r\n            for(int i=0; i&lt;n; i++)\r\n                a[i] = b[i];\r\n        }\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            Random ran = new Random();\r\n            int n = Integer.parseInt(in.nextLine());\r\n            int []a = new int[n];\r\n            int []b = new int[n];\r\n            int k = 5; // max value on the array\r\n            for(int i=0; i&lt;n; i++)\r\n                a[i] = ran.nextInt(k);\r\n            print(a);\r\n            countingSort(a,b,n,k);\r\n            print(a);\r\n        }\r\n    }","title":"How to optimize the sorting algorithm?","body":"<p>You can use counting sort instead of insertion sort. Because counting sort takes a linear time, but insertion sort at worst takes О(n^2)\nHere is example of using counting sort:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\nimport java.util.Scanner;\npublic class Main {\n    public static void print(int []a){\n        System.out.println(Arrays.toString(a));\n    }\n    public static void countingSort(int []a, int []b, int n, int k){\n        int []c = new int [k];\n        for(int i=0; i&lt;k; i++)\n            c[i] = 0;\n        for(int j=0; j&lt;n; j++){\n            c[a[j]] = c[a[j]]+1;\n        }\n        for(int i=1; i&lt;k; i++){\n            c[i] = c[i]+c[i-1];\n        }\n        for(int j=n-1; j&gt;=0; j--){\n            c[a[j]] = c[a[j]]-1;\n            b[c[a[j]]] = a[j];\n        }\n        for(int i=0; i&lt;n; i++)\n            a[i] = b[i];\n    }\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        Random ran = new Random();\n        int n = Integer.parseInt(in.nextLine());\n        int []a = new int[n];\n        int []b = new int[n];\n        int k = 5; // max value on the array\n        for(int i=0; i&lt;n; i++)\n            a[i] = ran.nextInt(k);\n        print(a);\n        countingSort(a,b,n,k);\n        print(a);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12880287,"reputation":63,"user_id":9326770,"display_name":"kdorland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521051234,"creation_date":1521051234,"answer_id":49284991,"question_id":49284331,"body_markdown":"You should look into QuickSort or MergeSort if you want faster sorting algorithms. Unlike InsertionSort (and SelectionSort), they are recursive, but still fairly easy to implement. You can find many examples if you look around on the internet.","title":"How to optimize the sorting algorithm?","body":"<p>You should look into QuickSort or MergeSort if you want faster sorting algorithms. Unlike InsertionSort (and SelectionSort), they are recursive, but still fairly easy to implement. You can find many examples if you look around on the internet.</p>\n"},{"tags":[],"owner":{"account_id":13067109,"reputation":162,"user_id":9442047,"display_name":"Tejas Shetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642351323,"creation_date":1642351323,"answer_id":70732073,"question_id":49284331,"body_markdown":"As Anna stated above, counting sort can be a really good algorithm, considering you don&#39;t have a really large data set and the data is not sparse.\r\n\r\nFor example, an array of size 10k with 100 elements duplicated will have much better space efficiency than an array of size 10k with all unique elements and spread in a sparse fashion.\r\n\r\nFor example, the following array -&gt; [5,5,4,...,2,2,1,1,5,6,7,8] will need a space of an array of size 8 (1 being the minimum and 8 being the maximum) while,\r\nThis array -&gt; [5,100,6004,3248,45890,2384,128,8659,...,3892,128] will need a space of an array at least of size 45886 (5 being the minimum and 45890 being the maximum).\r\n\r\nSo, I&#39;ll suggest you use this algorithm when you know that the data set you have is evenly distributed within an acceptable range which won&#39;t make your program run out of memory. Otherwise you can go with something like quicksort or mergesort. That gets the work done just fine.\r\n\r\nThat being said, Anna&#39;s implementation of counting sort seemed a little over coded to me personally, so here&#39;s me sharing my implementation.\r\n\r\n```\r\n    public int[] countSort(int[] nums) {\r\n        int min = nums[0], max = nums[0], counterLength, start = 0;\r\n        int[] counter;\r\n        \r\n        // To dynamically allocate size to the counter.\r\n        // Also an essential step if there are negative elements in the input array.\r\n        // You can actively avoid this step if you know:\r\n        // 1. That the elements are not going to be negative.\r\n        // 2. The upper bound of the elements in the array.\r\n        for (int i : nums) {\r\n            if (i &gt; max)\r\n                max = i;\r\n            else if (i &lt; min)\r\n                min = i;\r\n        }\r\n        \r\n        counterLength = max - min + 1;\r\n        counter = new int[counterLength];\r\n        \r\n        for (int i : nums)\r\n            counter[i - min]++;\r\n        \r\n        for (int i = 0; i &lt; counterLength; i++) {\r\n            if (counter[i] &gt; 0) {\r\n                int end = start + counter[i];\r\n                Arrays.fill(nums, start, end, i + min);\r\n                start = end;\r\n            }\r\n        }\r\n\r\n        return nums;\r\n    }\r\n```","title":"How to optimize the sorting algorithm?","body":"<p>As Anna stated above, counting sort can be a really good algorithm, considering you don't have a really large data set and the data is not sparse.</p>\n<p>For example, an array of size 10k with 100 elements duplicated will have much better space efficiency than an array of size 10k with all unique elements and spread in a sparse fashion.</p>\n<p>For example, the following array -&gt; [5,5,4,...,2,2,1,1,5,6,7,8] will need a space of an array of size 8 (1 being the minimum and 8 being the maximum) while,\nThis array -&gt; [5,100,6004,3248,45890,2384,128,8659,...,3892,128] will need a space of an array at least of size 45886 (5 being the minimum and 45890 being the maximum).</p>\n<p>So, I'll suggest you use this algorithm when you know that the data set you have is evenly distributed within an acceptable range which won't make your program run out of memory. Otherwise you can go with something like quicksort or mergesort. That gets the work done just fine.</p>\n<p>That being said, Anna's implementation of counting sort seemed a little over coded to me personally, so here's me sharing my implementation.</p>\n<pre><code>    public int[] countSort(int[] nums) {\n        int min = nums[0], max = nums[0], counterLength, start = 0;\n        int[] counter;\n        \n        // To dynamically allocate size to the counter.\n        // Also an essential step if there are negative elements in the input array.\n        // You can actively avoid this step if you know:\n        // 1. That the elements are not going to be negative.\n        // 2. The upper bound of the elements in the array.\n        for (int i : nums) {\n            if (i &gt; max)\n                max = i;\n            else if (i &lt; min)\n                min = i;\n        }\n        \n        counterLength = max - min + 1;\n        counter = new int[counterLength];\n        \n        for (int i : nums)\n            counter[i - min]++;\n        \n        for (int i = 0; i &lt; counterLength; i++) {\n            if (counter[i] &gt; 0) {\n                int end = start + counter[i];\n                Arrays.fill(nums, start, end, i + min);\n                start = end;\n            }\n        }\n\n        return nums;\n    }\n</code></pre>\n"}],"owner":{"account_id":13141524,"reputation":51,"user_id":9492955,"display_name":"Sveta Tulova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1642351323,"creation_date":1521048969,"question_id":49284331,"body_markdown":"I need to sort an  array. I write code, i use insertion sort, but for big `n` this code work so slow. How optimize my code. May be there is another algorithm. \r\n\r\n     public void insertionSort(ArrayList&lt;Integer&gt; arrayList) {\r\n            int n = arrayList.size();\r\n            int in, out;\r\n            for(out = 1; out &lt; n; out++)\r\n            {\r\n                int temp = arrayList.get(out);\r\n                in = out;\r\n                while (in &gt; 0 &amp;&amp; arrayList.get(in-1) &gt; temp)\r\n                {\r\n                    arrayList.set(in, arrayList.get(in-1));\r\n                    in--;\r\n                }\r\n                arrayList.set(in,temp);\r\n            }\r\n            print(arrayList);\r\n        }","title":"How to optimize the sorting algorithm?","body":"<p>I need to sort an  array. I write code, i use insertion sort, but for big <code>n</code> this code work so slow. How optimize my code. May be there is another algorithm. </p>\n\n<pre><code> public void insertionSort(ArrayList&lt;Integer&gt; arrayList) {\n        int n = arrayList.size();\n        int in, out;\n        for(out = 1; out &lt; n; out++)\n        {\n            int temp = arrayList.get(out);\n            in = out;\n            while (in &gt; 0 &amp;&amp; arrayList.get(in-1) &gt; temp)\n            {\n                arrayList.set(in, arrayList.get(in-1));\n                in--;\n            }\n            arrayList.set(in,temp);\n        }\n        print(arrayList);\n    }\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642351161,"creation_date":1642351161,"answer_id":70732048,"question_id":70728670,"body_markdown":"Firebase doesn&#39;t support so-called update queries, where you send a condition and the new data to the database and it them writes the new data for all nodes matching the condition.\r\n\r\nInstead you will need to execute the query in your application code, loop through the results, and update each of them in turn:\r\n\r\n```\r\nrootRef\r\n  .child(&quot;ingredients&quot;)\r\n  .orderByChild(&quot;ingredient_name&quot;)\r\n  .equalTo(ingredientToBeUpdate)\r\n  .addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot ingredientSnapshot: dataSnapshot.getChildren()) {\r\n            ingredientSnapshot.getRef().child(&quot;availability&quot;).setValue(1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        throw databaseError.toException();\r\n    }\r\n}\r\n```\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/54814080/firebase-android-set-value-where-x-x/54814458#54814458\r\n* https://stackoverflow.com/questions/58968448/is-it-possible-to-update-a-specific-childs-value-without-id-or-key-in-firebase/58977535#58977535","title":"How to update entry in Firebase Database based on an attribute value","body":"<p>Firebase doesn't support so-called update queries, where you send a condition and the new data to the database and it them writes the new data for all nodes matching the condition.</p>\n<p>Instead you will need to execute the query in your application code, loop through the results, and update each of them in turn:</p>\n<pre><code>rootRef\n  .child(&quot;ingredients&quot;)\n  .orderByChild(&quot;ingredient_name&quot;)\n  .equalTo(ingredientToBeUpdate)\n  .addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for (DataSnapshot ingredientSnapshot: dataSnapshot.getChildren()) {\n            ingredientSnapshot.getRef().child(&quot;availability&quot;).setValue(1);\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n}\n</code></pre>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/54814080/firebase-android-set-value-where-x-x/54814458#54814458\">Firebase Android, set value where x = x?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/58968448/is-it-possible-to-update-a-specific-childs-value-without-id-or-key-in-firebase/58977535#58977535\">Is it possible to update a specific child&#39;s value without ID or key in firebase realtime database from android on button click?</a></li>\n</ul>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732048,"answer_count":1,"score":0,"last_activity_date":1642351161,"creation_date":1642324133,"question_id":70728670,"body_markdown":"I am using the Firebase Realtime Database with Android in Java. I have the following database screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI would like to change the availability value (from 0 to 1) for the ingredient with the attribute &quot;ingredient_name = Lime&quot;. The attribute ingredient_name  is actually something like a primary key meaning that there will be no other database entry with this specific name. \r\n\r\nI tried the following code  \r\n\r\n    DatabaseReference rootRef;\r\n    rootRef = FirebaseDatabase.getInstance(&quot;https://....app&quot;).getReference();\r\n    String ingredientToBeUpdate = &quot;Lime&quot;;\r\n    \r\n    rootRef.child(&quot;ingredients&quot;).orderByChild(&quot;ingredient_name&quot;).equalTo(ingredientToBeUpdate).child(&quot;availability&quot;).setValue(1);\r\n\r\nBut I get the error &quot;Cannot resolve method &#39;child&#39; in &#39;Query&#39;&quot;. Can you tell me how to do this update properly? So I would like to update the value from the database entries who attribute  `&quot;ingredient_name&quot;` is equal to a certain string `ingredientToBeUpdate`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lde7S.png","title":"How to update entry in Firebase Database based on an attribute value","body":"<p>I am using the Firebase Realtime Database with Android in Java. I have the following database screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/lde7S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lde7S.png\" alt=\"enter image description here\" /></a></p>\n<p>I would like to change the availability value (from 0 to 1) for the ingredient with the attribute &quot;ingredient_name = Lime&quot;. The attribute ingredient_name  is actually something like a primary key meaning that there will be no other database entry with this specific name.</p>\n<p>I tried the following code</p>\n<pre><code>DatabaseReference rootRef;\nrootRef = FirebaseDatabase.getInstance(&quot;https://....app&quot;).getReference();\nString ingredientToBeUpdate = &quot;Lime&quot;;\n\nrootRef.child(&quot;ingredients&quot;).orderByChild(&quot;ingredient_name&quot;).equalTo(ingredientToBeUpdate).child(&quot;availability&quot;).setValue(1);\n</code></pre>\n<p>But I get the error &quot;Cannot resolve method 'child' in 'Query'&quot;. Can you tell me how to do this update properly? So I would like to update the value from the database entries who attribute  <code>&quot;ingredient_name&quot;</code> is equal to a certain string <code>ingredientToBeUpdate</code>.</p>\n"},{"tags":["java","spring","redhat","jmx","java-11"],"comments":[{"owner":{"account_id":3635598,"reputation":1,"user_id":3030791,"display_name":"vvitaliykuts"},"score":0,"creation_date":1642357112,"post_id":70731983,"comment_id":125043893,"body_markdown":"It looks like completely not related to jdk vendor. Checked with Eclipse Adopt openjdk. The same issue.","body":"It looks like completely not related to jdk vendor. Checked with Eclipse Adopt openjdk. The same issue."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642367894,"post_id":70731983,"comment_id":125046472,"body_markdown":"How are you building and running the application?  Spring Boot application jar?","body":"How are you building and running the application?  Spring Boot application jar?"},{"owner":{"account_id":3635598,"reputation":1,"user_id":3030791,"display_name":"vvitaliykuts"},"score":0,"creation_date":1642526962,"post_id":70731983,"comment_id":125092261,"body_markdown":"I am building via maven via spring boot maven plugin and using fat jar to start. I have found the problem. I will share soon and answer for my question.","body":"I am building via maven via spring boot maven plugin and using fat jar to start. I have found the problem. I will share soon and answer for my question."}],"owner":{"account_id":3635598,"reputation":1,"user_id":3030791,"display_name":"vvitaliykuts"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642350645,"creation_date":1642350645,"question_id":70731983,"body_markdown":"We recently migrated our app to java 11 and we are experiencing issues when using jmx to access mbeans. We used JDK Mission Control and also jmx term (https://docs.cyclopsgroup.org/welcome, it is based on jconsole) to access. MBeans are exposed via Spring (5.2.5.RELEASE).\r\n\r\nThe same functionality worked fine with java 7 and it looks like it works with java11 adoptjdk (not fully verified on the same conditions, just checked when app runs in Intellij).\r\n\r\nIt could be some problem with locale we use to run but changing of locale doesn&#39;t have any difference.\r\n\r\nEnvironment:\r\njava: \r\nopenjdk version &quot;11.0.13&quot; 2021-10-19 LTS\r\nOpenJDK Runtime Environment 18.9 (build 11.0.13+8-LTS)\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.13+8-LTS, mixed mode, sharing)\r\nVendor is RedHat\r\n\r\nlinux:\r\nNAME=&quot;Red Hat Enterprise Linux Server&quot;\r\nVERSION=&quot;7.9 (Maipo)&quot;\r\n\r\nlocale:\r\n```\r\nLANG=C\r\nLC_CTYPE=&quot;C&quot;\r\nLC_NUMERIC=&quot;C&quot;\r\nLC_TIME=&quot;C&quot;\r\nLC_COLLATE=&quot;C&quot;\r\nLC_MONETARY=&quot;C&quot;\r\nLC_MESSAGES=&quot;C&quot;\r\nLC_PAPER=&quot;C&quot;\r\nLC_NAME=&quot;C&quot;\r\nLC_ADDRESS=&quot;C&quot;\r\nLC_TELEPHONE=&quot;C&quot;\r\nLC_MEASUREMENT=&quot;C&quot;\r\nLC_IDENTIFICATION=&quot;C&quot;\r\nLC_ALL=\r\n```\r\n\r\n\r\nException:\r\n```\r\n\r\n    javax.management.RuntimeMBeanException: java.util.MissingResourceException: Can&#39;t find bundle for base name sun.security.util.Resources, locale en_US\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrow(DefaultMBeanServerInterceptor.java:829)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrowMaybeMBeanException(DefaultMBeanServerInterceptor.java:842)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\r\n    \tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \tat java.rmi/sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:303)\r\n    \tat java.rmi/sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:279)\r\n    \tat java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:161)\r\n    \tat jdk.remoteref/jdk.jmx.remote.internal.rmi.PRef.invoke(Unknown Source)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl_Stub.invoke(Unknown Source)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnector$RemoteMBeanServerConnection.invoke(RMIConnector.java:1021)\r\n    \tat org.openjdk.jmc.rjmx.internal.MCMBeanServerConnection.invoke(MCMBeanServerConnection.java:258)\r\n    \tat org.openjdk.jmc.rjmx.internal.MBeanOperationWrapper$1.call(MBeanOperationWrapper.java:104)\r\n    \tat org.openjdk.jmc.rjmx.ui.operations.ExecuteOperationForm$4.run(ExecuteOperationForm.java:182)\r\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n    Caused by: java.util.MissingResourceException: Can&#39;t find bundle for base name sun.security.util.Resources, locale en_US\r\n    \tat java.base/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2055)\r\n    \tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1689)\r\n    \tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1582)\r\n    \tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1556)\r\n    \tat java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:857)\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n    \tat java.base/sun.security.util.ResourcesMgr.getBundle(ResourcesMgr.java:54)\r\n    \tat java.base/sun.security.util.ResourcesMgr.getString(ResourcesMgr.java:40)\r\n    \tat java.base/javax.security.auth.Subject.collectionNullClean(Subject.java:1004)\r\n    \tat java.base/javax.security.auth.Subject$SecureSet.containsAll(Subject.java:1279)\r\n    \tat java.base/javax.security.auth.Subject$SecureSet.equals(Subject.java:1382)\r\n    \tat java.base/java.util.Collections$SynchronizedSet.equals(Collections.java:2143)\r\n    \tat java.base/javax.security.auth.SubjectDomainCombiner.combine(SubjectDomainCombiner.java:196)\r\n    \tat java.management/com.sun.jmx.remote.security.JMXSubjectDomainCombiner.combine(JMXSubjectDomainCombiner.java:71)\r\n    \tat java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:608)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.getCombinedACC(ProtectionDomain.java:109)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.management/javax.management.modelmbean.RequiredModelMBean.resolveMethod(RequiredModelMBean.java:1047)\r\n    \tat java.management/javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1005)\r\n    \tat org.springframework.jmx.export.SpringModelMBean.invoke(SpringModelMBean.java:90)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\r\n    \tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.IllegalStateException: Recursive update\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1760)\r\n    \tat java.base/sun.security.util.ResourcesMgr.getBundle(ResourcesMgr.java:54)\r\n    \tat java.base/sun.security.util.ResourcesMgr.getString(ResourcesMgr.java:40)\r\n    \tat java.base/javax.security.auth.Subject.collectionNullClean(Subject.java:1004)\r\n    \tat java.base/javax.security.auth.Subject$SecureSet.containsAll(Subject.java:1279)\r\n    \tat java.base/javax.security.auth.Subject$SecureSet.equals(Subject.java:1382)\r\n    \tat java.base/java.util.Collections$SynchronizedSet.equals(Collections.java:2143)\r\n    \tat java.base/javax.security.auth.SubjectDomainCombiner.combine(SubjectDomainCombiner.java:196)\r\n    \tat java.management/com.sun.jmx.remote.security.JMXSubjectDomainCombiner.combine(JMXSubjectDomainCombiner.java:71)\r\n    \tat java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:608)\r\n    \tat java.base/java.security.AccessController.getContext(AccessController.java:839)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:424)\r\n    \tat java.base/java.util.ResourceBundle$ResourceBundleProviderHelper.loadResourceBundle(ResourceBundle.java:3602)\r\n    \tat java.base/java.util.ResourceBundle.loadBundle(ResourceBundle.java:1844)\r\n    \tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1774)\r\n    \tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1728)\r\n    \tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1728)\r\n    \tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1662)\r\n    \t... 42 more\r\n\r\n```","title":"Java 11 java.util.MissingResourceException: Can&#39;t find bundle for base name sun.security.util.Resources, locale en_US when calling jmx Bean","body":"<p>We recently migrated our app to java 11 and we are experiencing issues when using jmx to access mbeans. We used JDK Mission Control and also jmx term (<a href=\"https://docs.cyclopsgroup.org/welcome\" rel=\"nofollow noreferrer\">https://docs.cyclopsgroup.org/welcome</a>, it is based on jconsole) to access. MBeans are exposed via Spring (5.2.5.RELEASE).</p>\n<p>The same functionality worked fine with java 7 and it looks like it works with java11 adoptjdk (not fully verified on the same conditions, just checked when app runs in Intellij).</p>\n<p>It could be some problem with locale we use to run but changing of locale doesn't have any difference.</p>\n<p>Environment:\njava:\nopenjdk version &quot;11.0.13&quot; 2021-10-19 LTS\nOpenJDK Runtime Environment 18.9 (build 11.0.13+8-LTS)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.13+8-LTS, mixed mode, sharing)\nVendor is RedHat</p>\n<p>linux:\nNAME=&quot;Red Hat Enterprise Linux Server&quot;\nVERSION=&quot;7.9 (Maipo)&quot;</p>\n<p>locale:</p>\n<pre><code>LANG=C\nLC_CTYPE=&quot;C&quot;\nLC_NUMERIC=&quot;C&quot;\nLC_TIME=&quot;C&quot;\nLC_COLLATE=&quot;C&quot;\nLC_MONETARY=&quot;C&quot;\nLC_MESSAGES=&quot;C&quot;\nLC_PAPER=&quot;C&quot;\nLC_NAME=&quot;C&quot;\nLC_ADDRESS=&quot;C&quot;\nLC_TELEPHONE=&quot;C&quot;\nLC_MEASUREMENT=&quot;C&quot;\nLC_IDENTIFICATION=&quot;C&quot;\nLC_ALL=\n</code></pre>\n<p>Exception:</p>\n<pre><code>\n    javax.management.RuntimeMBeanException: java.util.MissingResourceException: Can't find bundle for base name sun.security.util.Resources, locale en_US\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrow(DefaultMBeanServerInterceptor.java:829)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrowMaybeMBeanException(DefaultMBeanServerInterceptor.java:842)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at java.rmi/sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:303)\n        at java.rmi/sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:279)\n        at java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:161)\n        at jdk.remoteref/jdk.jmx.remote.internal.rmi.PRef.invoke(Unknown Source)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl_Stub.invoke(Unknown Source)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnector$RemoteMBeanServerConnection.invoke(RMIConnector.java:1021)\n        at org.openjdk.jmc.rjmx.internal.MCMBeanServerConnection.invoke(MCMBeanServerConnection.java:258)\n        at org.openjdk.jmc.rjmx.internal.MBeanOperationWrapper$1.call(MBeanOperationWrapper.java:104)\n        at org.openjdk.jmc.rjmx.ui.operations.ExecuteOperationForm$4.run(ExecuteOperationForm.java:182)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n    Caused by: java.util.MissingResourceException: Can't find bundle for base name sun.security.util.Resources, locale en_US\n        at java.base/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2055)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1689)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1582)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1556)\n        at java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:857)\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n        at java.base/sun.security.util.ResourcesMgr.getBundle(ResourcesMgr.java:54)\n        at java.base/sun.security.util.ResourcesMgr.getString(ResourcesMgr.java:40)\n        at java.base/javax.security.auth.Subject.collectionNullClean(Subject.java:1004)\n        at java.base/javax.security.auth.Subject$SecureSet.containsAll(Subject.java:1279)\n        at java.base/javax.security.auth.Subject$SecureSet.equals(Subject.java:1382)\n        at java.base/java.util.Collections$SynchronizedSet.equals(Collections.java:2143)\n        at java.base/javax.security.auth.SubjectDomainCombiner.combine(SubjectDomainCombiner.java:196)\n        at java.management/com.sun.jmx.remote.security.JMXSubjectDomainCombiner.combine(JMXSubjectDomainCombiner.java:71)\n        at java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:608)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.getCombinedACC(ProtectionDomain.java:109)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n        at java.management/javax.management.modelmbean.RequiredModelMBean.resolveMethod(RequiredModelMBean.java:1047)\n        at java.management/javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1005)\n        at org.springframework.jmx.export.SpringModelMBean.invoke(SpringModelMBean.java:90)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n    Caused by: java.lang.IllegalStateException: Recursive update\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1760)\n        at java.base/sun.security.util.ResourcesMgr.getBundle(ResourcesMgr.java:54)\n        at java.base/sun.security.util.ResourcesMgr.getString(ResourcesMgr.java:40)\n        at java.base/javax.security.auth.Subject.collectionNullClean(Subject.java:1004)\n        at java.base/javax.security.auth.Subject$SecureSet.containsAll(Subject.java:1279)\n        at java.base/javax.security.auth.Subject$SecureSet.equals(Subject.java:1382)\n        at java.base/java.util.Collections$SynchronizedSet.equals(Collections.java:2143)\n        at java.base/javax.security.auth.SubjectDomainCombiner.combine(SubjectDomainCombiner.java:196)\n        at java.management/com.sun.jmx.remote.security.JMXSubjectDomainCombiner.combine(JMXSubjectDomainCombiner.java:71)\n        at java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:608)\n        at java.base/java.security.AccessController.getContext(AccessController.java:839)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:424)\n        at java.base/java.util.ResourceBundle$ResourceBundleProviderHelper.loadResourceBundle(ResourceBundle.java:3602)\n        at java.base/java.util.ResourceBundle.loadBundle(ResourceBundle.java:1844)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1774)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1728)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1728)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1662)\n        ... 42 more\n\n</code></pre>\n"},{"tags":["java","eclipse-plugin","eclipse-rcp"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562958225,"creation_date":1270640416,"answer_id":2592048,"question_id":2590955,"body_markdown":"I did not find any recent File Explorer.\r\n\r\nThe Navigator view based on the [old ResourceNavigator][1] ([bug 268083][2]) is now based on the [CNF (Common Navigator Framework)][3], which can be adatped for all sort of trees.\r\n\r\nOther plugins exist to add explorer-like feature ([pathtools][4]: [![alt text][5]][5]  \n&lt;sub&gt;(source: [googlecode.com](http://pathtools.googlecode.com/files/PathToolsToolbar3.png))&lt;/sub&gt;  \n), but none propose directly a file explorer.\r\n\r\n\r\n  [1]: https://www.eclipse.org/lists/platform-ui-dev/msg04134.html\r\n  [2]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=268083\r\n  [3]: https://wiki.eclipse.org/Common_Navigator_Framework\r\n  [4]: https://code.google.com/archive/p/pathtools\r\n  [5]: https://i.stack.imgur.com/V0mH2.png","title":"Eclipse RCP File Explorer","body":"<p>I did not find any recent File Explorer.</p>\n\n<p>The Navigator view based on the <a href=\"https://www.eclipse.org/lists/platform-ui-dev/msg04134.html\" rel=\"nofollow noreferrer\">old ResourceNavigator</a> (<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=268083\" rel=\"nofollow noreferrer\">bug 268083</a>) is now based on the <a href=\"https://wiki.eclipse.org/Common_Navigator_Framework\" rel=\"nofollow noreferrer\">CNF (Common Navigator Framework)</a>, which can be adatped for all sort of trees.</p>\n\n<p>Other plugins exist to add explorer-like feature (<a href=\"https://code.google.com/archive/p/pathtools\" rel=\"nofollow noreferrer\">pathtools</a>: <a href=\"https://i.stack.imgur.com/V0mH2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V0mH2.png\" alt=\"alt text\"></a><br>\n<sub>(source: <a href=\"http://pathtools.googlecode.com/files/PathToolsToolbar3.png\" rel=\"nofollow noreferrer\">googlecode.com</a>)</sub><br>\n), but none propose directly a file explorer.</p>\n"},{"tags":[],"owner":{"account_id":287538,"reputation":6899,"user_id":587406,"accept_rate":88,"display_name":"Luiz E."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318510944,"creation_date":1318510944,"answer_id":7754547,"question_id":2590955,"body_markdown":"I done something like a File Explorer in college.  \r\nProtip: use CNF with Apache VFS, and you can extend it to explore a FTP, a Zip or anything you want.","title":"Eclipse RCP File Explorer","body":"<p>I done something like a File Explorer in college.<br>\nProtip: use CNF with Apache VFS, and you can extend it to explore a FTP, a Zip or anything you want.</p>\n"}],"owner":{"account_id":602663,"reputation":41,"user_id":310763,"display_name":"yournamehere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642350189,"creation_date":1270629028,"question_id":2590955,"body_markdown":"Is there a good Eclipse RCP file explorer out there? I need a platform independent file explorer which should be extensible through plugins. I only found [File Arranger][1], which seems to be outdated.\r\n\r\nI just ask cause I want to develop such an explorer, but it wouldn&#39;t make sense if there is already a solution out there.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/filearranger/","title":"Eclipse RCP File Explorer","body":"<p>Is there a good Eclipse RCP file explorer out there? I need a platform independent file explorer which should be extensible through plugins. I only found <a href=\"http://sourceforge.net/projects/filearranger/\" rel=\"nofollow noreferrer\">File Arranger</a>, which seems to be outdated.</p>\n<p>I just ask cause I want to develop such an explorer, but it wouldn't make sense if there is already a solution out there.</p>\n"},{"tags":["java","spring-data-rest","springdoc"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642349537,"creation_date":1642349185,"answer_id":70731801,"question_id":70730619,"body_markdown":"Simplest &amp; less intrusive approach would be probably:\r\n```lang-java\r\npackage com.example.springdocdatarest;\r\n\r\nimport io.swagger.v3.oas.annotations.Parameter;\r\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\r\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Parameter(in = ParameterIn.QUERY,\r\n     description = &quot;Zero-based page index (0..N)&quot;,\r\n     name = &quot;offset&quot;, // !\r\n     schema = @Schema(type = &quot;integer&quot;, defaultValue = &quot;0&quot;))\r\n@Parameter(in = ParameterIn.QUERY,\r\n     description = &quot;The size of the page to be returned&quot;,\r\n     name = &quot;limit&quot;, // !\r\n     schema = @Schema(type = &quot;integer&quot;, defaultValue = &quot;20&quot;))\r\n@Parameter(in = ParameterIn.QUERY,\r\n     description = &quot;Sorting criteria in the format: property(,asc|desc). &quot;\r\n    + &quot;Default sort order is ascending. &quot; + &quot;Multiple sort criteria are supported.&quot;,\r\n     name = &quot;sort&quot;,\r\n     array = @ArraySchema(schema = @Schema(type = &quot;string&quot;)))\r\npublic @interface MyPageableAsQueryParam {\r\n\r\n}\r\n```\r\n1. Copying from https://github.com/springdoc/springdoc-openapi/blob/master/springdoc-openapi-common/src/main/java/org/springdoc/core/converters/models/PageableAsQueryParam.java\r\n2. Replacing with the values we want. (also description;)\r\n\r\nAnd using it:\r\n```lang-java\r\n@com.example.springdocdatarest.MyPageableAsQueryParam\r\n@Operation(summary = &quot;&quot;) // ...\r\n@GetMapping ...\r\n```\r\n\r\nTest (switching version and Pageable parameter (order;)):\r\n[![swagger-ui screenshot][1]][1]\r\n\r\n### Note\r\n\r\nThere are also:\r\n```lang-properties\r\nspring.data.rest.page-param-name=foo\r\nspring.data.rest.limit-param-name=bar\r\nspring.data.rest...\r\n```\r\n[tag:spring-data-rest] properties for &quot;these&quot;.\r\n\r\n  [1]: https://i.stack.imgur.com/YqadY.png","title":"Springdoc Data REST ignore overwrite Pageable parameters name","body":"<p>Simplest &amp; less intrusive approach would be probably:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.springdocdatarest;\n\nimport io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Parameter(in = ParameterIn.QUERY,\n     description = &quot;Zero-based page index (0..N)&quot;,\n     name = &quot;offset&quot;, // !\n     schema = @Schema(type = &quot;integer&quot;, defaultValue = &quot;0&quot;))\n@Parameter(in = ParameterIn.QUERY,\n     description = &quot;The size of the page to be returned&quot;,\n     name = &quot;limit&quot;, // !\n     schema = @Schema(type = &quot;integer&quot;, defaultValue = &quot;20&quot;))\n@Parameter(in = ParameterIn.QUERY,\n     description = &quot;Sorting criteria in the format: property(,asc|desc). &quot;\n    + &quot;Default sort order is ascending. &quot; + &quot;Multiple sort criteria are supported.&quot;,\n     name = &quot;sort&quot;,\n     array = @ArraySchema(schema = @Schema(type = &quot;string&quot;)))\npublic @interface MyPageableAsQueryParam {\n\n}\n</code></pre>\n<ol>\n<li>Copying from <a href=\"https://github.com/springdoc/springdoc-openapi/blob/master/springdoc-openapi-common/src/main/java/org/springdoc/core/converters/models/PageableAsQueryParam.java\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/blob/master/springdoc-openapi-common/src/main/java/org/springdoc/core/converters/models/PageableAsQueryParam.java</a></li>\n<li>Replacing with the values we want. (also description;)</li>\n</ol>\n<p>And using it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@com.example.springdocdatarest.MyPageableAsQueryParam\n@Operation(summary = &quot;&quot;) // ...\n@GetMapping ...\n</code></pre>\n<p>Test (switching version and Pageable parameter (order;)):\n<a href=\"https://i.stack.imgur.com/YqadY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YqadY.png\" alt=\"swagger-ui screenshot\" /></a></p>\n<h3>Note</h3>\n<p>There are also:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.data.rest.page-param-name=foo\nspring.data.rest.limit-param-name=bar\nspring.data.rest...\n</code></pre>\n<p><a href=\"/questions/tagged/spring-data-rest\" class=\"post-tag\" title=\"show questions tagged &#39;spring-data-rest&#39;\" rel=\"tag\">spring-data-rest</a> properties for &quot;these&quot;.</p>\n"}],"owner":{"account_id":13559347,"reputation":196,"user_id":9781655,"display_name":"Oromis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2686,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70731801,"answer_count":1,"score":2,"last_activity_date":1642349537,"creation_date":1642340626,"question_id":70730619,"body_markdown":"In my application.properties, I have overwritten the name of the Pageable parameters:\r\n\r\n```yaml\r\nspring.data.web.pageable.page-parameter=offset\r\nspring.data.web.pageable.size-parameter=limit\r\n```\r\n\r\nBut when I go to the Swagger UI to check my Swagger documentation, the new name parameters are not used:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the signature of my function:\r\n\r\n```java\r\n@PageableAsQueryParam\r\n    @Operation(summary = &quot;&quot;)\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;&quot;,\r\n                    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = CustomPage.class))),\r\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;&quot;, content = @Content)\r\n    })\r\n    @GetMapping(path = &quot;/{version}/foo&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @Override\r\n    public ResponseEntity&lt;CustomPage&lt;ReducedAsset&gt;&gt; getAll(@ParameterObject Pageable pageable,\r\n                                                           @Parameter(description = &quot;Version from which to get the list&quot;)\r\n                                                           @PathVariable String version)\r\n```\r\n\r\nHow can I bind the new name to the documentation? And can I change the default description?\r\n\r\nThanks for your answer!\r\n\r\n  [1]: https://i.stack.imgur.com/HgCfJ.png","title":"Springdoc Data REST ignore overwrite Pageable parameters name","body":"<p>In my application.properties, I have overwritten the name of the Pageable parameters:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.data.web.pageable.page-parameter=offset\nspring.data.web.pageable.size-parameter=limit\n</code></pre>\n<p>But when I go to the Swagger UI to check my Swagger documentation, the new name parameters are not used:</p>\n<p><a href=\"https://i.stack.imgur.com/HgCfJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HgCfJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the signature of my function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PageableAsQueryParam\n    @Operation(summary = &quot;&quot;)\n    @ApiResponses(value = {\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;&quot;,\n                    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = CustomPage.class))),\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;&quot;, content = @Content)\n    })\n    @GetMapping(path = &quot;/{version}/foo&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    @Override\n    public ResponseEntity&lt;CustomPage&lt;ReducedAsset&gt;&gt; getAll(@ParameterObject Pageable pageable,\n                                                           @Parameter(description = &quot;Version from which to get the list&quot;)\n                                                           @PathVariable String version)\n</code></pre>\n<p>How can I bind the new name to the documentation? And can I change the default description?</p>\n<p>Thanks for your answer!</p>\n"},{"tags":["java","bit-manipulation"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1642271096,"post_id":70724172,"comment_id":125028491,"body_markdown":"I suggest `num &gt; 0 &amp;&amp; (num&amp;-num)==num` -- [bit twiddling hacks](https://graphics.stanford.edu/~seander/bithacks.html#DetermineIfPowerOf2)","body":"I suggest <code>num &gt; 0 &amp;&amp; (num&amp;-num)==num</code> -- <a href=\"https://graphics.stanford.edu/~seander/bithacks.html#DetermineIfPowerOf2\" rel=\"nofollow noreferrer\">bit twiddling hacks</a>"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1642271227,"post_id":70724172,"comment_id":125028529,"body_markdown":"That first for loop seems completely wrong. Not only does it not calculate the `loops` correctly, it also changes what you have stored in `n`","body":"That first for loop seems completely wrong. Not only does it not calculate the <code>loops</code> correctly, it also changes what you have stored in <code>n</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642276122,"creation_date":1642271663,"answer_id":70724289,"question_id":70724172,"body_markdown":"Here is one way to do it. But certainly not the most efficient.\r\n```\r\nint[] vals = {0, 1, 2, 4, 11, 13, 18, 28, 16, 46, 32 };\r\n\r\nfor (int v : vals) {\r\n\tSystem.out.printf(&quot;%2d - %s%n&quot;, v, isPowerOf2(v) ? &quot;yes&quot; : &quot;no&quot;);\r\n}\r\n```\r\nprints\r\n```\t\r\n 0 - no\r\n 1 - yes\r\n 2 - yes\r\n 4 - yes\r\n11 - no\r\n13 - no\r\n18 - no\r\n28 - no\r\n16 - yes\r\n46 - no\r\n32 - yes\r\n```\r\nThe following simply counts the bits. If the count equals 1, then the value is a power of 2.\r\n\r\n- if v &lt;= 0 return false.\r\n- initialize count\r\n- bump the count by 1 if lower order bit is set.\r\n- if greater than 1, immediately return false\r\n- else do an unsigned right shift by 1 and continue\r\n- when v == 0 terminate testing\r\n- return true since the count must be 1.\r\n```\r\npublic static boolean isPowerOf2(int v) {\r\n\tif (v &lt;= 0) {\r\n\t\treturn false;\r\n\t}\r\n\tint count = 0;\r\n\tdo {\r\n\t\tif ((count += (v &amp; 1)) &gt; 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} while ((v&gt;&gt;&gt;=1) != 0);\r\n\treturn true;\r\n}\r\n```\r\nWithout using bit manipulation one could simply use the `Integer.bitCount()` method to count the bits.\r\n ","title":"java program to check whether a number is a power of 2 or not using bit manipulation","body":"<p>Here is one way to do it. But certainly not the most efficient.</p>\n<pre><code>int[] vals = {0, 1, 2, 4, 11, 13, 18, 28, 16, 46, 32 };\n\nfor (int v : vals) {\n    System.out.printf(&quot;%2d - %s%n&quot;, v, isPowerOf2(v) ? &quot;yes&quot; : &quot;no&quot;);\n}\n</code></pre>\n<p>prints</p>\n<pre><code> 0 - no\n 1 - yes\n 2 - yes\n 4 - yes\n11 - no\n13 - no\n18 - no\n28 - no\n16 - yes\n46 - no\n32 - yes\n</code></pre>\n<p>The following simply counts the bits. If the count equals 1, then the value is a power of 2.</p>\n<ul>\n<li>if v &lt;= 0 return false.</li>\n<li>initialize count</li>\n<li>bump the count by 1 if lower order bit is set.</li>\n<li>if greater than 1, immediately return false</li>\n<li>else do an unsigned right shift by 1 and continue</li>\n<li>when v == 0 terminate testing</li>\n<li>return true since the count must be 1.</li>\n</ul>\n<pre><code>public static boolean isPowerOf2(int v) {\n    if (v &lt;= 0) {\n        return false;\n    }\n    int count = 0;\n    do {\n        if ((count += (v &amp; 1)) &gt; 1) {\n            return false;\n        }\n    } while ((v&gt;&gt;&gt;=1) != 0);\n    return true;\n}\n</code></pre>\n<p>Without using bit manipulation one could simply use the <code>Integer.bitCount()</code> method to count the bits.</p>\n"}],"owner":{"account_id":23950658,"reputation":1,"user_id":17942296,"display_name":"ananya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642272995,"answer_count":1,"score":0,"last_activity_date":1642348910,"creation_date":1642270827,"question_id":70724172,"body_markdown":"something is wrong with my first loop where i find the value of the variable loops. when i comment out that particular loop and run the rest of the code, the code runs perfectly but when i run the code with that for loop, i am getting different answers. please help.\r\n\r\ncode:\r\n```\r\npublic static void main(String [] args){\r\n        Scanner sc = new Scanner (System.in);\r\n        System.out.print(&quot;number : &quot;);\r\n        int n = sc.nextInt();\r\n        int inc = 0;\r\n        int loops = 0;\r\n        \r\n**// problem\r\n        for(int i = 0; n&gt;0; i++){\r\n\r\n            int b = n&gt;&gt;=i;\r\n            loops = i;\r\n        }**\r\n        \r\n        \r\n        \r\n\r\n        for (int i = 0; i&lt;=loops; i++){\r\n            int bit = 1&lt;&lt;i;\r\n            if((bit &amp; n) == 0){\r\n\r\n            }else{\r\n\r\n                inc = inc + 1;\r\n            }\r\n\r\n        }\r\n\r\n\r\n       if (inc==1){\r\n           System.out.println(&quot;power&quot;);\r\n       }else{\r\n           System.out.println(&quot;not power&quot;);\r\n       }\r\n\r\n    }\r\n```","title":"java program to check whether a number is a power of 2 or not using bit manipulation","body":"<p>something is wrong with my first loop where i find the value of the variable loops. when i comment out that particular loop and run the rest of the code, the code runs perfectly but when i run the code with that for loop, i am getting different answers. please help.</p>\n<p>code:</p>\n<pre><code>public static void main(String [] args){\n        Scanner sc = new Scanner (System.in);\n        System.out.print(&quot;number : &quot;);\n        int n = sc.nextInt();\n        int inc = 0;\n        int loops = 0;\n        \n**// problem\n        for(int i = 0; n&gt;0; i++){\n\n            int b = n&gt;&gt;=i;\n            loops = i;\n        }**\n        \n        \n        \n\n        for (int i = 0; i&lt;=loops; i++){\n            int bit = 1&lt;&lt;i;\n            if((bit &amp; n) == 0){\n\n            }else{\n\n                inc = inc + 1;\n            }\n\n        }\n\n\n       if (inc==1){\n           System.out.println(&quot;power&quot;);\n       }else{\n           System.out.println(&quot;not power&quot;);\n       }\n\n    }\n</code></pre>\n"},{"tags":["java","excel","ole"],"answers":[{"tags":[],"owner":{"account_id":197340,"reputation":7480,"user_id":441368,"accept_rate":100,"display_name":"Pushkar"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1301564611,"creation_date":1301564611,"answer_id":5497913,"question_id":5497681,"body_markdown":"JXL supports Excel worksheets created in Excecl 95/97 and 2000 -\r\n\r\nRead the below in the official JXL site - http://www.andykhan.com/jexcelapi/\r\n\r\n&gt; **Features**\r\n&gt; \r\n&gt; Reads data from Excel 95, 97, 2000\r\n&gt; workbooks Reads and writes formulas\r\n&gt; (Excel 97 and later only) Generates\r\n&gt; spreadsheets in Excel 2000 format\r\n\r\nYour excel sheet seems to be created after Excel 2000. That seems to be the problem.\r\n\r\nIf you want to read Excel files created after Excel 2000 then you should use Apache POI. It is also an easy to use API and supports MS Excel 97 to MS Excel 2008.","title":"&quot;Unable to recognize OLE stream&quot; excepion while connecting to Excel","body":"<p>JXL supports Excel worksheets created in Excecl 95/97 and 2000 -</p>\n\n<p>Read the below in the official JXL site - <a href=\"http://www.andykhan.com/jexcelapi/\" rel=\"noreferrer\">http://www.andykhan.com/jexcelapi/</a></p>\n\n<blockquote>\n  <p><strong>Features</strong></p>\n  \n  <p>Reads data from Excel 95, 97, 2000\n  workbooks Reads and writes formulas\n  (Excel 97 and later only) Generates\n  spreadsheets in Excel 2000 format</p>\n</blockquote>\n\n<p>Your excel sheet seems to be created after Excel 2000. That seems to be the problem.</p>\n\n<p>If you want to read Excel files created after Excel 2000 then you should use Apache POI. It is also an easy to use API and supports MS Excel 97 to MS Excel 2008.</p>\n"},{"tags":[],"owner":{"account_id":23956568,"reputation":1,"user_id":17947356,"display_name":"Sabari Nathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642348873,"creation_date":1642340466,"answer_id":70730593,"question_id":5497681,"body_markdown":"Usually testers will save the excel document in current installed version but for data driven framework - excel file need to save in 97-2003 file format.\r\n\r\nbelow is the code to call the excel sheets.\r\n\r\n    String[][] data=null;\r\n\r\n\t@DataProvider(name=&quot;loginData&quot;)\r\n\tpublic String[][] loginDataProvider() throws BiffException, IOException {\r\n\t\tdata=loginUsingExcel();\r\n\t\treturn data;\r\n\r\n\t}\r\n\t\r\n\tpublic String[][] loginUsingExcel() throws BiffException, IOException {\r\n\t\t\r\n\t\tFileInputStream excel=new FileInputStream(&quot;C:\\\\Users\\\\ME\\\\Desktop\\\\Filename.xls&quot;);\r\n\r\n\t\tWorkbook workbook=Workbook.getWorkbook(excel);\r\n\t\tSheet sheet = workbook.getSheet(0);\r\n\t\tint rows = sheet.getRows();\r\n\t\tint columns = sheet.getColumns();\r\n\t\t\r\n\t\tString[][] testData=new String[rows-1][columns];\r\n\t\tfor (int i = 1; i &lt; rows; i++) {\r\n\t\t\tfor (int j = 0; j &lt; columns; j++) {\r\n\t\t\t\ttestData[i-1][j]=sheet.getCell(j, i).getContents();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn testData;\r\n\t}\r\n\t ","title":"&quot;Unable to recognize OLE stream&quot; excepion while connecting to Excel","body":"<p>Usually testers will save the excel document in current installed version but for data driven framework - excel file need to save in 97-2003 file format.</p>\n<p>below is the code to call the excel sheets.</p>\n<pre><code>String[][] data=null;\n\n@DataProvider(name=&quot;loginData&quot;)\npublic String[][] loginDataProvider() throws BiffException, IOException {\n    data=loginUsingExcel();\n    return data;\n\n}\n\npublic String[][] loginUsingExcel() throws BiffException, IOException {\n    \n    FileInputStream excel=new FileInputStream(&quot;C:\\\\Users\\\\ME\\\\Desktop\\\\Filename.xls&quot;);\n\n    Workbook workbook=Workbook.getWorkbook(excel);\n    Sheet sheet = workbook.getSheet(0);\n    int rows = sheet.getRows();\n    int columns = sheet.getColumns();\n    \n    String[][] testData=new String[rows-1][columns];\n    for (int i = 1; i &lt; rows; i++) {\n        for (int j = 0; j &lt; columns; j++) {\n            testData[i-1][j]=sheet.getCell(j, i).getContents();\n        }\n    }\n    return testData;\n}\n \n</code></pre>\n"}],"owner":{"account_id":324050,"reputation":7464,"user_id":644420,"accept_rate":70,"display_name":"V I J E S H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61479,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5497913,"answer_count":2,"score":5,"last_activity_date":1642348873,"creation_date":1301563435,"question_id":5497681,"body_markdown":"I was trying to connect my Java program with an Excel file. I have did upto this. But it throws this excepion\r\n&gt;Unable to recognize OLE stream\r\n\r\nPlease, help me to complete this.\r\n\r\n\r\n    import jxl.*;\r\n    import java.io.*;\r\n    \r\n    public class excel\r\n    {\r\n          public static void main(String[] args)throws Exception\r\n          {\r\n    \r\n           File ex=new File(&quot;D:/worksps/test.xlsx&quot;);\r\n           Workbook w= Workbook.getWorkbook(ex);\r\n           Sheet s= w.getSheet(0);\r\n           for(int i=0;i&lt;s.getColumns();i++)\r\n           {\r\n             for(int j=0;j&lt;s.getRows();j++)\r\n             {\r\n                   Cell cell=s.getCell(i, j);\r\n                   System.out.println(&quot;     &quot;+cell.getContents());\r\n             }\r\n             System.out.println(&quot;\\n&quot;);\r\n           }\r\n          }\r\n    }\r\n\r\n","title":"&quot;Unable to recognize OLE stream&quot; excepion while connecting to Excel","body":"<p>I was trying to connect my Java program with an Excel file. I have did upto this. But it throws this excepion</p>\n\n<blockquote>\n  <p>Unable to recognize OLE stream</p>\n</blockquote>\n\n<p>Please, help me to complete this.</p>\n\n<pre><code>import jxl.*;\nimport java.io.*;\n\npublic class excel\n{\n      public static void main(String[] args)throws Exception\n      {\n\n       File ex=new File(\"D:/worksps/test.xlsx\");\n       Workbook w= Workbook.getWorkbook(ex);\n       Sheet s= w.getSheet(0);\n       for(int i=0;i&lt;s.getColumns();i++)\n       {\n         for(int j=0;j&lt;s.getRows();j++)\n         {\n               Cell cell=s.getCell(i, j);\n               System.out.println(\"     \"+cell.getContents());\n         }\n         System.out.println(\"\\n\");\n       }\n      }\n}\n</code></pre>\n"},{"tags":["java","android","opencv","computer-vision"],"answers":[{"tags":[],"owner":{"account_id":1866190,"reputation":3928,"user_id":1689698,"display_name":"B200011011"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642345491,"creation_date":1642345491,"answer_id":70731294,"question_id":70730028,"body_markdown":"You can look into `dilation` operation in opencv to enhance the edges. \r\n\r\nhttps://docs.opencv.org/4.x/db/df6/tutorial_erosion_dilatation.html\r\n\r\nAlso look into this example below with `Canny` edge detection, `approxPolyDP` and `minEnclosingCircle`. It is very close to your question.\r\n\r\nhttps://docs.opencv.org/4.x/da/d0c/tutorial_bounding_rects_circles.html\r\n\r\nhttps://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga0012a5fdaea70b8a9970165d98722b4c\r\n\r\nhttps://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga8ce13c24081bbc7151e9326f412190f1","title":"Enhance edges in OpenCV (Java) while removing noise","body":"<p>You can look into <code>dilation</code> operation in opencv to enhance the edges.</p>\n<p><a href=\"https://docs.opencv.org/4.x/db/df6/tutorial_erosion_dilatation.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/db/df6/tutorial_erosion_dilatation.html</a></p>\n<p>Also look into this example below with <code>Canny</code> edge detection, <code>approxPolyDP</code> and <code>minEnclosingCircle</code>. It is very close to your question.</p>\n<p><a href=\"https://docs.opencv.org/4.x/da/d0c/tutorial_bounding_rects_circles.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/da/d0c/tutorial_bounding_rects_circles.html</a></p>\n<p><a href=\"https://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga0012a5fdaea70b8a9970165d98722b4c\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga0012a5fdaea70b8a9970165d98722b4c</a></p>\n<p><a href=\"https://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga8ce13c24081bbc7151e9326f412190f1\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga8ce13c24081bbc7151e9326f412190f1</a></p>\n"},{"tags":[],"owner":{"account_id":2567397,"reputation":2254,"user_id":2227070,"display_name":"Shamshirsaz.Navid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642348764,"creation_date":1642346819,"answer_id":70731489,"question_id":70730028,"body_markdown":"You want something like this?  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nNoise is usually present - it can be reduced - you can distinguish the circles with adaptiveThreshold and then find the circles using the method I described below. The point is, the real-world image you get from the camera may contain a whole bunch of other circles - so it might be best to find all the circles. Compare them all in size. Find the 4 circles that are most similar to your marker in terms of color, size and placement.\r\n\r\nA quick **python** code to distinguish the circles:\r\n```python\r\n# Make a gray version\r\ngry = cv2.cvtColor(im, cv2.COLOR_BGR2GRAY)\r\n\r\n# Thresh\r\nada = cv2.adaptiveThreshold(\r\n    gry, 255, cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.THRESH_BINARY, 11, 2\r\n)\r\n\r\n# Remove noises\r\nout = cv2.medianBlur(ada, 7)\r\n\r\n# Invert colors (Not needed)\r\nout = ~out\r\n```\r\n\r\nI tested the Python code and it works; you can find an equivalent for Java or C++. I tried to explain the Java code but I wrote it on the fly and did not test it. The Java code I wrote probably has errors, but it does get the point. With a bit change will probably work. I also wrote the code that should find the circles as the last block. Working with it is tricky and requires adjusting the parameters.\r\n\r\n**Java:**   \r\n```java\r\n...\r\nImgproc.cvtColor(im, gry, Imgproc.COLOR_RGBA2GRAY);\r\nImgproc.adaptiveThreshold(gry, ada, 255, \r\n    Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 11, 2);\r\nImgproc.medianBlur(ada, out, 7);\r\n...\r\n```\r\n\r\nand for finding circles:   \r\n**Java:**   \r\n```java\r\n...\r\nSimpleBlobDetector_Params params = new SimpleBlobDetector_Params();\r\nparams.set_filterByCircularity(true);\r\nparams.set_minCircularity(0.01f);\r\nparams.set_maxArea(50000);//important\r\nSimpleBlobDetector detector = SimpleBlobDetector.create(params);\r\n\r\n// List of detected points \r\nMatOfKeyPoint keyPoints = new MatOfKeyPoint();\r\ndetector.detect(ada, keyPoints);\r\n\r\n// Draw circles on final image\r\nScalar color = new Scalar(127, 0, 255);\r\nfor (KeyPoint key: keyPoints.toList()) {\r\n    Imgproc.circle(im, key.pt, (int) (key.size / 2.0f), color, 3/*Thickness*/);\r\n}\r\n...\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bIpO3.jpg","title":"Enhance edges in OpenCV (Java) while removing noise","body":"<p>You want something like this?</p>\n<p><a href=\"https://i.stack.imgur.com/bIpO3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bIpO3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Noise is usually present - it can be reduced - you can distinguish the circles with adaptiveThreshold and then find the circles using the method I described below. The point is, the real-world image you get from the camera may contain a whole bunch of other circles - so it might be best to find all the circles. Compare them all in size. Find the 4 circles that are most similar to your marker in terms of color, size and placement.</p>\n<p>A quick <strong>python</strong> code to distinguish the circles:</p>\n<pre class=\"lang-py prettyprint-override\"><code># Make a gray version\ngry = cv2.cvtColor(im, cv2.COLOR_BGR2GRAY)\n\n# Thresh\nada = cv2.adaptiveThreshold(\n    gry, 255, cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.THRESH_BINARY, 11, 2\n)\n\n# Remove noises\nout = cv2.medianBlur(ada, 7)\n\n# Invert colors (Not needed)\nout = ~out\n</code></pre>\n<p>I tested the Python code and it works; you can find an equivalent for Java or C++. I tried to explain the Java code but I wrote it on the fly and did not test it. The Java code I wrote probably has errors, but it does get the point. With a bit change will probably work. I also wrote the code that should find the circles as the last block. Working with it is tricky and requires adjusting the parameters.</p>\n<p><strong>Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nImgproc.cvtColor(im, gry, Imgproc.COLOR_RGBA2GRAY);\nImgproc.adaptiveThreshold(gry, ada, 255, \n    Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 11, 2);\nImgproc.medianBlur(ada, out, 7);\n...\n</code></pre>\n<p>and for finding circles:<br />\n<strong>Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nSimpleBlobDetector_Params params = new SimpleBlobDetector_Params();\nparams.set_filterByCircularity(true);\nparams.set_minCircularity(0.01f);\nparams.set_maxArea(50000);//important\nSimpleBlobDetector detector = SimpleBlobDetector.create(params);\n\n// List of detected points \nMatOfKeyPoint keyPoints = new MatOfKeyPoint();\ndetector.detect(ada, keyPoints);\n\n// Draw circles on final image\nScalar color = new Scalar(127, 0, 255);\nfor (KeyPoint key: keyPoints.toList()) {\n    Imgproc.circle(im, key.pt, (int) (key.size / 2.0f), color, 3/*Thickness*/);\n}\n...\n</code></pre>\n"}],"owner":{"account_id":13790140,"reputation":385,"user_id":9952852,"display_name":"primix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70731489,"answer_count":2,"score":0,"last_activity_date":1642348764,"creation_date":1642336017,"question_id":70730028,"body_markdown":"I&#39;m trying to write an OpenCV program in Java that takes a photo of a marker with a phone and finds circular contours on the marker. I have gotten it working in the Android emulator (where the photo has perfect lighting conditions), but can&#39;t get it to work with the phone itself.\r\nThis is the marker I&#39;m trying to capture:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAfter using the combination of transforming to grayscale, a Gaussian blur and a Canny edge detector, I get this output:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf I then try to find the contours on the image, the number of contours returned is really high (over 1000), but they aren&#39;t closed (because the edges seem to be too weak.\r\nThe contours drawn over the original image:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis is the code I use for the segmentation:\r\n\r\n    Mat processed = new Mat(original.height(), original.width(), original.type());\r\n    \r\n    Imgproc.cvtColor(original, processed, Imgproc.COLOR_RGB2GRAY);\r\n    \r\n    Imgproc.GaussianBlur(processed, processed, new Size(7, 7), 0.1);\r\n    \r\n    Imgproc.Canny(processed, processed,  50, 50*3, 3, false);\r\n\r\n\r\nI have tried tweaking the different parameters (thresholds etc.), but feel like that isn&#39;t the ideal solution. I&#39;m thinking there has to be a way to enhance the edges returned by the canny detector, but I haven&#39;t found anything myself.\r\n\r\nAny help is appreciated!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ks2NJ.jpg\r\n  [2]: https://i.stack.imgur.com/N6pDO.jpg\r\n  [3]: https://i.stack.imgur.com/fIPtx.jpg","title":"Enhance edges in OpenCV (Java) while removing noise","body":"<p>I'm trying to write an OpenCV program in Java that takes a photo of a marker with a phone and finds circular contours on the marker. I have gotten it working in the Android emulator (where the photo has perfect lighting conditions), but can't get it to work with the phone itself.\nThis is the marker I'm trying to capture:</p>\n<p><a href=\"https://i.stack.imgur.com/Ks2NJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ks2NJ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>After using the combination of transforming to grayscale, a Gaussian blur and a Canny edge detector, I get this output:</p>\n<p><a href=\"https://i.stack.imgur.com/N6pDO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N6pDO.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If I then try to find the contours on the image, the number of contours returned is really high (over 1000), but they aren't closed (because the edges seem to be too weak.\nThe contours drawn over the original image:</p>\n<p><a href=\"https://i.stack.imgur.com/fIPtx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIPtx.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is the code I use for the segmentation:</p>\n<pre><code>Mat processed = new Mat(original.height(), original.width(), original.type());\n\nImgproc.cvtColor(original, processed, Imgproc.COLOR_RGB2GRAY);\n\nImgproc.GaussianBlur(processed, processed, new Size(7, 7), 0.1);\n\nImgproc.Canny(processed, processed,  50, 50*3, 3, false);\n</code></pre>\n<p>I have tried tweaking the different parameters (thresholds etc.), but feel like that isn't the ideal solution. I'm thinking there has to be a way to enhance the edges returned by the canny detector, but I haven't found anything myself.</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1642344397,"post_id":70731078,"comment_id":125040700,"body_markdown":"When you do `Stock.size()`, what is `Stock` and why are you doing nothing with it? I assume it&#39;s a collection of elements of type `Stock` or a subtype thereof, since you call `size()` on it, but if that&#39;s the case you&#39;re not doing anything with the elements it contains.","body":"When you do <code>Stock.size()</code>, what is <code>Stock</code> and why are you doing nothing with it? I assume it&#39;s a collection of elements of type <code>Stock</code> or a subtype thereof, since you call <code>size()</code> on it, but if that&#39;s the case you&#39;re not doing anything with the elements it contains."},{"owner":{"account_id":23956864,"reputation":13,"user_id":17947610,"display_name":"Aleksandar Haralanov"},"score":0,"creation_date":1642344878,"post_id":70731078,"comment_id":125040832,"body_markdown":"The problem is that I have two stocks, but it only shows the frequency of one because of the way I have made the object above the FindMostFrequency() function. It only uses the values for one of the stock items, can I somehow make it so it uses all of the stock added. Sorry if I did not explain it well.","body":"The problem is that I have two stocks, but it only shows the frequency of one because of the way I have made the object above the FindMostFrequency() function. It only uses the values for one of the stock items, can I somehow make it so it uses all of the stock added. Sorry if I did not explain it well."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1642345070,"post_id":70731078,"comment_id":125040887,"body_markdown":"Where are you adding those stocks? Please post all of the relevant code.","body":"Where are you adding those stocks? Please post all of the relevant code."}],"answers":[{"tags":[],"owner":{"account_id":20634762,"reputation":66,"user_id":15148740,"display_name":"Joe Vienneau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642344839,"creation_date":1642344839,"answer_id":70731208,"question_id":70731078,"body_markdown":"I&#39;d use something like this ... you need a 2nd variable to capture the Stock, and a method to get the Stocks (getStocks()):\r\n\r\n```\r\npublic void FindMostFrequency()\r\n{\r\n    double temp = 0;\r\n    Stock mostFrequentStock = null;\r\n    for (Stock aStock : getStocks()) {\r\n       var frequency = aStock.frequency\r\n       if (temp &lt; frequency) {\r\n           temp = frequency;\r\n           mostFrequentStock = aStock\r\n       }\r\n    }\r\n    System.out.println(&quot;The stock with most frequency is: &quot; + mostFrequentStock);\r\n}\r\n```\r\n\r\nIt would also be better to access the variable using a getter instead of directly, ie getFrequency()","title":"Object can&#39;t access all the data from another object, but only what I&#39;ve specified. How to fix?","body":"<p>I'd use something like this ... you need a 2nd variable to capture the Stock, and a method to get the Stocks (getStocks()):</p>\n<pre><code>public void FindMostFrequency()\n{\n    double temp = 0;\n    Stock mostFrequentStock = null;\n    for (Stock aStock : getStocks()) {\n       var frequency = aStock.frequency\n       if (temp &lt; frequency) {\n           temp = frequency;\n           mostFrequentStock = aStock\n       }\n    }\n    System.out.println(&quot;The stock with most frequency is: &quot; + mostFrequentStock);\n}\n</code></pre>\n<p>It would also be better to access the variable using a getter instead of directly, ie getFrequency()</p>\n"},{"tags":[],"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642348747,"creation_date":1642348747,"answer_id":70731748,"question_id":70731078,"body_markdown":"Your code looks almost correct but it doesn&#39;t seem like you define the body of the for loop with curly braces.  As other posters have mentioned using a foreach loop is usually preferred in cases like this. \r\n\r\nLooping through each of the elements and simply invoking a getFrequency() method would be better. Then compare that with your current maxFrequency value. It&#39;s usually good practice to make the instance variables of a class private and have them only accessible through getters and setters.  ","title":"Object can&#39;t access all the data from another object, but only what I&#39;ve specified. How to fix?","body":"<p>Your code looks almost correct but it doesn't seem like you define the body of the for loop with curly braces.  As other posters have mentioned using a foreach loop is usually preferred in cases like this.</p>\n<p>Looping through each of the elements and simply invoking a getFrequency() method would be better. Then compare that with your current maxFrequency value. It's usually good practice to make the instance variables of a class private and have them only accessible through getters and setters.</p>\n"}],"owner":{"account_id":23956864,"reputation":13,"user_id":17947610,"display_name":"Aleksandar Haralanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642348747,"creation_date":1642343896,"question_id":70731078,"body_markdown":"Before anything, I would like to say that I am entirely new to Java, I only started understanding the very basics of it a few days ago.\r\n\r\nI have a problem with objects here and I will show you what I mean.\r\n\r\nThis is the code for one of the functions, which is supposed to show me the stock item that has the most frequency:\r\n\r\n    InternalComponent ic = new InternalComponent(&quot;Intel&quot;, 4, 35.0, 3200.00);\r\n    \r\n    public void FindMostFrequency()\r\n    {\r\n        double temp = 0;\r\n        for (int i = 0; i&lt; Stock.size(); i++)\r\n           if (ic.frequency &gt; temp)\r\n               temp = ic.frequency;\r\n        System.out.println(&quot;The stock with most frequency is: &quot; + temp );\r\n    }\r\n\r\nThe problem is that it uses the information only from a specific object and I would like to make it so it uses it from all objects.\r\n\r\nOnce again, I would like to point out that, what I&#39;ve done here, is most likely wrong. Please point out any mistakes if possible, I really appreciate any help I can get.\r\n\r\nThis is the code for the InternalComponent class:\r\n\r\n    package com.company;\r\n    \r\n    public class InternalComponent extends Stock {\r\n        protected double frequency;\r\n    \r\n        public InternalComponent(String manufacturer, int count, double price,double frequency) {\r\n            super(manufacturer, count, price);\r\n            this.frequency = frequency;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;InternalComponent{&quot; +\r\n                    &quot;frequency=&quot; + frequency +\r\n                    &#39;}&#39;;\r\n        }\r\n    }","title":"Object can&#39;t access all the data from another object, but only what I&#39;ve specified. How to fix?","body":"<p>Before anything, I would like to say that I am entirely new to Java, I only started understanding the very basics of it a few days ago.</p>\n<p>I have a problem with objects here and I will show you what I mean.</p>\n<p>This is the code for one of the functions, which is supposed to show me the stock item that has the most frequency:</p>\n<pre><code>InternalComponent ic = new InternalComponent(&quot;Intel&quot;, 4, 35.0, 3200.00);\n\npublic void FindMostFrequency()\n{\n    double temp = 0;\n    for (int i = 0; i&lt; Stock.size(); i++)\n       if (ic.frequency &gt; temp)\n           temp = ic.frequency;\n    System.out.println(&quot;The stock with most frequency is: &quot; + temp );\n}\n</code></pre>\n<p>The problem is that it uses the information only from a specific object and I would like to make it so it uses it from all objects.</p>\n<p>Once again, I would like to point out that, what I've done here, is most likely wrong. Please point out any mistakes if possible, I really appreciate any help I can get.</p>\n<p>This is the code for the InternalComponent class:</p>\n<pre><code>package com.company;\n\npublic class InternalComponent extends Stock {\n    protected double frequency;\n\n    public InternalComponent(String manufacturer, int count, double price,double frequency) {\n        super(manufacturer, count, price);\n        this.frequency = frequency;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;InternalComponent{&quot; +\n                &quot;frequency=&quot; + frequency +\n                '}';\n    }\n}\n</code></pre>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1642348765,"post_id":70731738,"comment_id":125041765,"body_markdown":"Explanation: that&#39;s simply not valid Java. If you declare a variable in the constructor, then it is visible *only* within the constructor and nowhere else. You cannot declare a local variable such as this as public, private, or protected. Only class fields (variables declared at the class level) can be declared thusly. For detailed explanation, you will want to search and study the [Java Language Specification](https://docs.oracle.com/javase/specs/).","body":"Explanation: that&#39;s simply not valid Java. If you declare a variable in the constructor, then it is visible <i>only</i> within the constructor and nowhere else. You cannot declare a local variable such as this as public, private, or protected. Only class fields (variables declared at the class level) can be declared thusly. For detailed explanation, you will want to search and study the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java Language Specification</a>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1642348773,"post_id":70731738,"comment_id":125041767,"body_markdown":"Because they should be inside the class but outside the constructor (or any other method)","body":"Because they should be inside the class but outside the constructor (or any other method)"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642349065,"post_id":70731738,"comment_id":125041827,"body_markdown":"Here is a [link to the Java Language Specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.4) that covers what is allowed when declaring *local* variables (as you are doing with the variables within the constructor).","body":"Here is a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.4\" rel=\"nofollow noreferrer\">link to the Java Language Specification</a> that covers what is allowed when declaring <i>local</i> variables (as you are doing with the variables within the constructor)."},{"owner":{"account_id":22148190,"reputation":7,"user_id":16397110,"display_name":"Kishore Suresh"},"score":0,"creation_date":1642349136,"post_id":70731738,"comment_id":125041844,"body_markdown":"@HovercraftFullOfEels So it just won&#39;t help adding public keyword to a local variable? It still remains local?","body":"@HovercraftFullOfEels So it just won&#39;t help adding public keyword to a local variable? It still remains local?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642349174,"post_id":70731738,"comment_id":125041859,"body_markdown":"*&quot;So it just won&#39;t help adding public keyword to a local variable? It still remains local?&quot;* --  Won&#39;t help? No, it won&#39;t work; it won&#39;t be allowed. It&#39;s simply not legal Java and such code won&#39;t compile (which you really should be testing out yourself first).","body":"<i>&quot;So it just won&#39;t help adding public keyword to a local variable? It still remains local?&quot;</i> --  Won&#39;t help? No, it won&#39;t work; it won&#39;t be allowed. It&#39;s simply not legal Java and such code won&#39;t compile (which you really should be testing out yourself first)."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1642352281,"post_id":70731738,"comment_id":125042691,"body_markdown":"Simply because you can&#39;t have `public` inside code blocks. If you want to have instance variables, you need to write `public int a;` in your class body, i.e. outside of the constructor. Then you can assign a value to `a` inside your constructor.","body":"Simply because you can&#39;t have <code>public</code> inside code blocks. If you want to have instance variables, you need to write <code>public int a;</code> in your class body, i.e. outside of the constructor. Then you can assign a value to <code>a</code> inside your constructor."}],"owner":{"account_id":22148190,"reputation":7,"user_id":16397110,"display_name":"Kishore Suresh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1642348874,"answer_count":0,"score":0,"last_activity_date":1642348671,"creation_date":1642348671,"question_id":70731738,"body_markdown":"I&#39;m pretty new to Java so this might be a very silly question.\r\n\r\nI initialized my variables inside the constructor at first, and then learnt that the scope of those variables will be limited only to the scope\r\n\r\nSo I tried adding the PUBLIC keyword to the variables, and still doesn&#39;t work.\r\nCan someone explain why?\r\n```\r\nclass Demo{\r\n  Demo(){\r\n    public int a=3;\r\n    public int b=5;\r\n  }\r\n\r\n  int sum(int x, int y){\r\n    return x+y;\r\n  }\r\n  public static void main(String[] args){\r\n    Demo obj= new Demo();\r\n    System.out.println(obj.a);\r\n  }\r\n}\r\n```","title":"Declaring Public Variable inside Constructor","body":"<p>I'm pretty new to Java so this might be a very silly question.</p>\n<p>I initialized my variables inside the constructor at first, and then learnt that the scope of those variables will be limited only to the scope</p>\n<p>So I tried adding the PUBLIC keyword to the variables, and still doesn't work.\nCan someone explain why?</p>\n<pre><code>class Demo{\n  Demo(){\n    public int a=3;\n    public int b=5;\n  }\n\n  int sum(int x, int y){\n    return x+y;\n  }\n  public static void main(String[] args){\n    Demo obj= new Demo();\n    System.out.println(obj.a);\n  }\n}\n</code></pre>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":17279690,"reputation":68,"user_id":12542617,"display_name":"Lisa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642347557,"creation_date":1642347184,"answer_id":70731551,"question_id":70731462,"body_markdown":"A quick search should lead you to this:\r\nhttps://bukkit.org/threads/creating-a-loop.119088/\r\nhttps://www.codegrepper.com/code-examples/java/bukkit+repeating+task+every+minute+spigot\r\n\r\nThe code, without testing it:\r\n\r\n    Bukkit.getScheduler().scheduleSyncRepeatingTask(plugin, new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            Bukkit.broadcastMessage(&quot;This message is shown immediately and then repeated every second&quot;);\r\n        }\r\n    }, 0L, 20L); //0 Tick initial delay, 20 Tick (1 Second) between repeats\r\n\r\nIt seems like in Minecraft, 20 Ticks equals to one second. So you should calculate 20 x 60 x 5 to get the amount of ticks needed for 5 minutes.\r\n\r\nTry 6000.\r\n\r\nI also recommend to you to read the Javadoc of the Bukkit project.\r\n\r\nhttps://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scheduler/BukkitScheduler.html#scheduleSyncRepeatingTask(org.bukkit.plugin.Plugin,org.bukkit.scheduler.BukkitRunnable,long,long) \r\n\r\nThis should lead you to the current function that is used.","title":"how do i loop an if statement on a timer in java?","body":"<p>A quick search should lead you to this:\n<a href=\"https://bukkit.org/threads/creating-a-loop.119088/\" rel=\"nofollow noreferrer\">https://bukkit.org/threads/creating-a-loop.119088/</a>\n<a href=\"https://www.codegrepper.com/code-examples/java/bukkit+repeating+task+every+minute+spigot\" rel=\"nofollow noreferrer\">https://www.codegrepper.com/code-examples/java/bukkit+repeating+task+every+minute+spigot</a></p>\n<p>The code, without testing it:</p>\n<pre><code>Bukkit.getScheduler().scheduleSyncRepeatingTask(plugin, new Runnable() {\n    @Override\n    public void run() {\n        Bukkit.broadcastMessage(&quot;This message is shown immediately and then repeated every second&quot;);\n    }\n}, 0L, 20L); //0 Tick initial delay, 20 Tick (1 Second) between repeats\n</code></pre>\n<p>It seems like in Minecraft, 20 Ticks equals to one second. So you should calculate 20 x 60 x 5 to get the amount of ticks needed for 5 minutes.</p>\n<p>Try 6000.</p>\n<p>I also recommend to you to read the Javadoc of the Bukkit project.</p>\n<p><a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scheduler/BukkitScheduler.html#scheduleSyncRepeatingTask(org.bukkit.plugin.Plugin,org.bukkit.scheduler.BukkitRunnable,long,long)\" rel=\"nofollow noreferrer\">https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scheduler/BukkitScheduler.html#scheduleSyncRepeatingTask(org.bukkit.plugin.Plugin,org.bukkit.scheduler.BukkitRunnable,long,long)</a></p>\n<p>This should lead you to the current function that is used.</p>\n"}],"owner":{"account_id":23957166,"reputation":11,"user_id":17947871,"display_name":"smurfexe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1642350722,"accepted_answer_id":70731551,"answer_count":1,"score":-3,"last_activity_date":1642347557,"creation_date":1642346594,"question_id":70731462,"body_markdown":"so im trying to make a minecraft plugin that sends a string of text in chat on random intervals. now im trying to make it start from line 1 every 5 minutes. i just dont know how to do this Ps: im new to java. \r\n\r\n\r\n\r\n    Random rand = new Random();\r\n    int n = rand.nextInt(3);\r\n\r\n    if (n == 1) {\r\n        Bukkit.broadcastMessage(&quot;yeet&quot;);\r\n    }\r\n","title":"how do i loop an if statement on a timer in java?","body":"<p>so im trying to make a minecraft plugin that sends a string of text in chat on random intervals. now im trying to make it start from line 1 every 5 minutes. i just dont know how to do this Ps: im new to java.</p>\n<pre><code>Random rand = new Random();\nint n = rand.nextInt(3);\n\nif (n == 1) {\n    Bukkit.broadcastMessage(&quot;yeet&quot;);\n}\n</code></pre>\n"},{"tags":["java","jackson","apache-commons-lang3"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1642344848,"post_id":70731159,"comment_id":125040825,"body_markdown":"`Result&lt;T&lt;R&gt;&gt;` If the T is intended as a generic type parameter, then this isn&#39;t java. You can&#39;t have &quot;Some unknown type but I do know that it has exactly 1 generics param, and that param will be R&quot;. You need T to be an actual type there. `List&lt;R&gt;`, `Map&lt;String, List&lt;Set&lt;Foobar&gt;&gt;&gt;` is all fine. `&lt;X, R extends Collection&lt;X&gt;&gt;` is a valid declaration of type args.","body":"<code>Result&lt;T&lt;R&gt;&gt;</code> If the T is intended as a generic type parameter, then this isn&#39;t java. You can&#39;t have &quot;Some unknown type but I do know that it has exactly 1 generics param, and that param will be R&quot;. You need T to be an actual type there. <code>List&lt;R&gt;</code>, <code>Map&lt;String, List&lt;Set&lt;Foobar&gt;&gt;&gt;</code> is all fine. <code>&lt;X, R extends Collection&lt;X&gt;&gt;</code> is a valid declaration of type args."},{"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"score":0,"creation_date":1642345402,"post_id":70731159,"comment_id":125040969,"body_markdown":"```T``` here is a substantive class like List, not a generic type placeholder. I mean how to represent ```Result&lt;List&lt;Integer&gt;&gt;``` and ```Result&lt;List, Integer&gt;```","body":"<code>T</code> here is a substantive class like List, not a generic type placeholder. I mean how to represent <code>Result&lt;List&lt;Integer&gt;&gt;</code> and <code>Result&lt;List, Integer&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642347239,"creation_date":1642347239,"answer_id":70731562,"question_id":70731159,"body_markdown":"`Map&lt;String, Integer&gt;`:\r\n\r\n```java\r\nType mapOfStringsToIntegers =\r\n  TypeUtils.parameterize(Map.class, String.class, Result.class);\r\n```\r\n\r\n`List&lt;List&lt;String&gt;&gt;`:\r\n\r\n```java\r\nType listOfStrings = TypeUtils.parameterize(List.class, String.class);\r\nType listOfListOfStrings = TypeUtils.parameterize(List.class, listOfStrings);\r\n```\r\n\r\nSeems straightforward.\r\n\r\nI think you&#39;re not using jackson optimally here. Java is highly nominal. You don&#39;t __want__ a `Map&lt;String, List&lt;List&lt;Integer&gt;&gt;&gt;`. You want to create a simple, non-parameterized class that exactly describes the XML or JSON you want to send or receive, and then just supply that. Then jackson will take care of it. If you must, have a field in that class that is e.g. a `List&lt;List&lt;String&gt;&gt;` - jackson can figure out fields with no effort on your part. No need for apache&#39;s `TypeUtils`.\r\n","title":"How can I use TypeUtils.parameterize to represent nested generic type like Result&lt;List&lt;R&gt;&gt;","body":"<p><code>Map&lt;String, Integer&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Type mapOfStringsToIntegers =\n  TypeUtils.parameterize(Map.class, String.class, Result.class);\n</code></pre>\n<p><code>List&lt;List&lt;String&gt;&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Type listOfStrings = TypeUtils.parameterize(List.class, String.class);\nType listOfListOfStrings = TypeUtils.parameterize(List.class, listOfStrings);\n</code></pre>\n<p>Seems straightforward.</p>\n<p>I think you're not using jackson optimally here. Java is highly nominal. You don't <strong>want</strong> a <code>Map&lt;String, List&lt;List&lt;Integer&gt;&gt;&gt;</code>. You want to create a simple, non-parameterized class that exactly describes the XML or JSON you want to send or receive, and then just supply that. Then jackson will take care of it. If you must, have a field in that class that is e.g. a <code>List&lt;List&lt;String&gt;&gt;</code> - jackson can figure out fields with no effort on your part. No need for apache's <code>TypeUtils</code>.</p>\n"}],"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642347239,"creation_date":1642344549,"question_id":70731159,"body_markdown":"I&#39;m using ```org.apache.commons.lang3.reflect.TypeUtils``` and jackson library to handle object deserialization。\r\n\r\nOne layer nested generic type can be handled well with the following code.\r\n```\r\n            final Result&lt;R&gt; ret = mapper.readValue(reader, new TypeReference&lt;&gt;() {\r\n                @Override\r\n                public java.lang.reflect.Type getType() {\r\n                    return TypeUtils.parameterize(Result.class, req.clazz);\r\n                }\r\n            });\r\n```\r\nBut I&#39;m not sure how to handle generic type like ```Result&lt;T&lt;R&gt;&gt;```.\r\n\r\nCan I use ```TypeUtils.parameterize(Result.class, T, R)``` to represent ```Result&lt;T, R&gt;``` and ```TypeUtils.parameterize(Result.class, TypeUtils.parameterize(T, R))``` to ```Result&lt;T&lt;R&gt;```","title":"How can I use TypeUtils.parameterize to represent nested generic type like Result&lt;List&lt;R&gt;&gt;","body":"<p>I'm using <code>org.apache.commons.lang3.reflect.TypeUtils</code> and jackson library to handle object deserialization。</p>\n<p>One layer nested generic type can be handled well with the following code.</p>\n<pre><code>            final Result&lt;R&gt; ret = mapper.readValue(reader, new TypeReference&lt;&gt;() {\n                @Override\n                public java.lang.reflect.Type getType() {\n                    return TypeUtils.parameterize(Result.class, req.clazz);\n                }\n            });\n</code></pre>\n<p>But I'm not sure how to handle generic type like <code>Result&lt;T&lt;R&gt;&gt;</code>.</p>\n<p>Can I use <code>TypeUtils.parameterize(Result.class, T, R)</code> to represent <code>Result&lt;T, R&gt;</code> and <code>TypeUtils.parameterize(Result.class, TypeUtils.parameterize(T, R))</code> to <code>Result&lt;T&lt;R&gt;</code></p>\n"},{"tags":["java","android","post"],"answers":[{"tags":[],"owner":{"account_id":17040528,"reputation":1,"user_id":12328539,"display_name":"Ahmed Awad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642340173,"creation_date":1642340173,"answer_id":70730559,"question_id":70728080,"body_markdown":"Here&#39;s an idea: save also the registration information along with the time registered on (in milliseconds for example) and in your splash screen, and if the 7 days are passed: Just resend these registration info and rewrite the customer&#39;s token.","title":"I want to create a new token for the customer in the background Android Studio application","body":"<p>Here's an idea: save also the registration information along with the time registered on (in milliseconds for example) and in your splash screen, and if the 7 days are passed: Just resend these registration info and rewrite the customer's token.</p>\n"},{"tags":[],"owner":{"account_id":7595730,"reputation":1023,"user_id":5761957,"display_name":"Prem Chand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642346877,"creation_date":1642346877,"answer_id":70731501,"question_id":70728080,"body_markdown":"Ask API developer to add an error with 403 error code when the token is expired. When you get a 403 error in API then redirect to the user on the login page.  ","title":"I want to create a new token for the customer in the background Android Studio application","body":"<p>Ask API developer to add an error with 403 error code when the token is expired. When you get a 403 error in API then redirect to the user on the login page.</p>\n"}],"owner":{"account_id":23954296,"reputation":1,"user_id":17945400,"display_name":"karnushka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642346877,"creation_date":1642317463,"question_id":70728080,"body_markdown":"As part of our Android app.\r\nAfter the registration part, we are using SharedPreferences for staying connected.\r\nso the customer will register one time and then stays connected without the login part.\r\nthe problem is i dont know how to send the registration details when i need to\r\nrenew the custome&#39;s token(We want to create the token after 7 days).\r\n\r\nIn registration we are using json(token creation happans in the backend code(C#)).\r\n\r\nPlease assist.\r\nTnx.","title":"I want to create a new token for the customer in the background Android Studio application","body":"<p>As part of our Android app.\nAfter the registration part, we are using SharedPreferences for staying connected.\nso the customer will register one time and then stays connected without the login part.\nthe problem is i dont know how to send the registration details when i need to\nrenew the custome's token(We want to create the token after 7 days).</p>\n<p>In registration we are using json(token creation happans in the backend code(C#)).</p>\n<p>Please assist.\nTnx.</p>\n"},{"tags":["java","swing","user-interface","awt"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1642280580,"post_id":70725383,"comment_id":125030661,"body_markdown":"`setLayout(null);` --  Learn the layout managers, and ***use*** the layout managers, and this will likely solve many of your layout problems.","body":"<code>setLayout(null);</code> --  Learn the layout managers, and <b><i>use</i></b> the layout managers, and this will likely solve many of your layout problems."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1642281141,"post_id":70725383,"comment_id":125030792,"body_markdown":"Also, looks like you really want to use a JList or JTable","body":"Also, looks like you really want to use a JList or JTable"},{"owner":{"account_id":18820863,"reputation":29,"user_id":13726908,"display_name":"vasll"},"score":0,"creation_date":1642281246,"post_id":70725383,"comment_id":125030817,"body_markdown":"I&#39;ll look into JLists man, thanks.","body":"I&#39;ll look into JLists man, thanks."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1642282071,"post_id":70725383,"comment_id":125031013,"body_markdown":"@JoeMama42069 when you place a component into a container _**without**_ specifying the component&#39;s _preferred_ size, you are basically delegating the responsibility or adjusting the component&#39;s size to the container. In Java Swing, the `setSize()` methods are used to define the size of a component when layout manager is set to `null` . When a component uses a layout manager (including default), you must set the preferred size of the component using the corresponding method. In general, this is how it is done in Swing.","body":"@JoeMama42069 when you place a component into a container <i><b>without</b></i> specifying the component&#39;s <i>preferred</i> size, you are basically delegating the responsibility or adjusting the component&#39;s size to the container. In Java Swing, the <code>setSize()</code> methods are used to define the size of a component when layout manager is set to <code>null</code> . When a component uses a layout manager (including default), you must set the preferred size of the component using the corresponding method. In general, this is how it is done in Swing."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642346319,"creation_date":1642284027,"answer_id":70725786,"question_id":70725383,"body_markdown":"First off, never do this:\r\n\r\n```\r\nsetLayout(null);\r\n```\r\n\r\nNext, if you want things compressed at the top of a container, then use a layout that does this. such as a BorderLayout with the compressed items placed into a JPanel (perhaps one that uses a GridLayout) that is placed BorderLayout.PAGE_START\r\n\r\nActually, it looks as if your best solution is to us a JList, one that uses a custom renderer that places your time JLabel and two text JLabels into a JPanel and displays this in the list. So let&#39;s explore that.\r\n\r\nFirst create a class to hold the data that is displayed by the JList, which looks to be a date and two lines of text:\r\n\r\n```\r\npublic class ListItem {\r\n\tprivate LocalDate date;\r\n\tprivate String text1;\r\n\tprivate String text2;\r\n\r\n\tpublic ListItem(LocalDate date, String text1, String text2) {\r\n\t\tsuper();\r\n\t\tthis.date = date;\r\n\t\tthis.text1 = text1;\r\n\t\tthis.text2 = text2;\r\n\t}\r\n\r\n\tpublic LocalDate getDate() {\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic String getText1() {\r\n\t\treturn text1;\r\n\t}\r\n\r\n\tpublic String getText2() {\r\n\t\treturn text2;\r\n\t}\t\r\n}\r\n```\r\n\r\nThen let&#39;s create a renderer that a JList can use to display the above information in a JPanel. This is more complicated and requires that the class create a JPanel that places the labels where we want them, perhaps using a GridLayout with 1 column and 3 rows, plus some gaps between the rows: `setLayout(new GridLayout(3, 1, 2 * gap, 2 * gap));`. The class must implement the `ListCellRenderer&lt;T&gt;` interface which has one method: `public Component getListCellRendererComponent(...)`. Java will pass in the paramters into this method, including a ListItem value, and we will use that value to fill in the JLabels that we add into this JPanel. Edited to highlight selected items.\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class ListItemRenderer extends JPanel implements ListCellRenderer&lt;ListItem&gt; {\r\n\tprivate static final Color LIGHT_BLUE = new Color(204, 255, 255);\r\n\tprivate static final Color REDDISH_GREY = new Color(205, 126, 121);\r\n\tprivate DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\n\tprivate static final int GAP = 2;\r\n\tprivate Border emptyBorder = BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP);\r\n\tprivate Border blackBorder = BorderFactory.createLineBorder(Color.BLACK);\r\n\tprivate Border redBorder = BorderFactory.createLineBorder(REDDISH_GREY, 2);\r\n\tprivate JLabel dateLabel = new JLabel();\r\n\tprivate JLabel text1Label = new JLabel();\r\n\tprivate JLabel text2Label = new JLabel();\r\n\t\r\n\tpublic ListItemRenderer() {\r\n\t\tdateLabel.setFont(dateLabel.getFont().deriveFont(Font.BOLD, 14f));\r\n\t\ttext1Label.setFont(text1Label.getFont().deriveFont(Font.BOLD));\r\n\t\ttext2Label.setFont(text1Label.getFont().deriveFont(Font.ITALIC));\t\t\r\n\t\t\r\n\t\tint gap = 2;\r\n\t\tsetLayout(new GridLayout(0, 1, 2 * gap, 2 * gap));\r\n\t\t\r\n\t\tsetBorder(BorderFactory.createCompoundBorder(emptyBorder, blackBorder));\r\n\t\tadd(dateLabel);\r\n\t\tadd(text1Label);\r\n\t\tadd(text2Label);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Component getListCellRendererComponent(JList&lt;? extends ListItem&gt; list, ListItem value, int index,\r\n\t\t\tboolean isSelected, boolean cellHasFocus) {\r\n\t\tif (value != null) {\r\n\t\t\tString dateText = dateFormatter.format(value.getDate());\r\n\t\t\tdateLabel.setText(dateText);\r\n\t\t\ttext1Label.setText(value.getText1());\r\n\t\t\ttext2Label.setText(value.getText2());\r\n\t\t} else {\r\n\t\t\tdateLabel.setText(&quot;&quot;);\r\n\t\t\ttext1Label.setText(&quot;&quot;);\r\n\t\t\ttext2Label.setText(&quot;&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (isSelected ) {\r\n\t\t\tsetBackground(LIGHT_BLUE);\r\n\t\t\tsetBorder(BorderFactory.createCompoundBorder(emptyBorder, redBorder));\r\n\t\t} else {\r\n\t\t\tsetBackground(null);\r\n\t\t\tsetBorder(BorderFactory.createCompoundBorder(emptyBorder, blackBorder));\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nAnd now the main program that puts this all together, edited to show removing items:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.KeyEvent;\r\nimport java.time.LocalDate;\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class MainPanel extends JPanel {\r\n\tDefaultListModel&lt;ListItem&gt; listModel = new DefaultListModel&lt;&gt;();\r\n\tprivate JList&lt;ListItem&gt; jList = new JList&lt;&gt;(listModel);\r\n\tprivate JScrollPane scrollPane = new JScrollPane(jList);\r\n\tprivate JButton addButton = new JButton(&quot;Add&quot;);\r\n\tprivate JButton removeButton = new JButton(&quot;Remove&quot;);\r\n\t\r\n\tpublic MainPanel() {\r\n\t\tjList.setPrototypeCellValue(new ListItem(LocalDate.now(), \r\n\t\t\t\t&quot;This is text 1 for testing.  This is text 1 for testing.   This is text 1 for testing&quot;, \r\n\t\t\t\t&quot;This is text 2 for testing.  This is text 2 for testing.   This is text 2 for testing&quot;));\r\n\t\tjList.setVisibleRowCount(4);\r\n\t\tjList.setCellRenderer(new ListItemRenderer());\r\n\t\tscrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\t\r\n\t\tJPanel buttonPanel = new JPanel(new GridLayout(0, 1, 3, 3));\r\n\t\tbuttonPanel.add(addButton);\r\n\t\tbuttonPanel.add(removeButton);\r\n\t\t\r\n\t\taddButton.setMnemonic(KeyEvent.VK_A);\r\n\t\tremoveButton.setMnemonic(KeyEvent.VK_R);\r\n\t\taddButton.addActionListener(e -&gt; addEvent());\r\n\t\tremoveButton.addActionListener(e -&gt; removeEvent());\r\n\t\t\r\n\t\tJPanel rightPanel = new JPanel();\r\n\t\trightPanel.add(buttonPanel);\r\n\t\t\r\n\t\tint gap = 5;\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\t\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(scrollPane);\r\n\t\tadd(rightPanel, BorderLayout.LINE_END);\r\n\t}\r\n\t\r\n\tprivate void removeEvent() {\r\n\t\tint[] selectedIndices = jList.getSelectedIndices();\r\n\t\tfor (int i = selectedIndices.length - 1; i &gt;= 0; i--) {\r\n\t\t\tlistModel.remove(selectedIndices[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void addEvent() {\r\n\t\t// this adds random stuff to the JList\r\n\t\tString text1 = &quot;Some random text: &quot; + randomText();\r\n\t\tString text2 = &quot;Some random text: &quot; + randomText();\r\n\t\t\t\r\n\t\tlistModel.addElement(new ListItem(LocalDate.now(), text1, text2));\r\n\t\t\r\n\t\t// TODO: change this so that it adds *real* data to the JList\r\n\t}\r\n\t\r\n\tprivate String randomText() {\r\n\t\tRandom random = new Random();\r\n\t\tStringBuilder builder = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; 2 + random.nextInt(3); i++) {\r\n\t\t\tfor (int j = 0; j &lt; 3 + random.nextInt(5); j++) {\r\n\t\t\t\tchar c = (char) (&#39;a&#39; + random.nextInt(&#39;z&#39; - &#39;a&#39;));\r\n\t\t\t\tbuilder.append(c);\r\n\t\t\t}\r\n\t\t\tbuilder.append(&quot; &quot;);\r\n\t\t}\r\n\t\treturn builder.toString();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(new MainPanel());\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\n_________________________________\r\n\r\nOutput would look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zuxdb.jpg","title":"JScrollPane &quot;stretching&quot; out the panel that I add to it","body":"<p>First off, never do this:</p>\n<pre><code>setLayout(null);\n</code></pre>\n<p>Next, if you want things compressed at the top of a container, then use a layout that does this. such as a BorderLayout with the compressed items placed into a JPanel (perhaps one that uses a GridLayout) that is placed BorderLayout.PAGE_START</p>\n<p>Actually, it looks as if your best solution is to us a JList, one that uses a custom renderer that places your time JLabel and two text JLabels into a JPanel and displays this in the list. So let's explore that.</p>\n<p>First create a class to hold the data that is displayed by the JList, which looks to be a date and two lines of text:</p>\n<pre><code>public class ListItem {\n    private LocalDate date;\n    private String text1;\n    private String text2;\n\n    public ListItem(LocalDate date, String text1, String text2) {\n        super();\n        this.date = date;\n        this.text1 = text1;\n        this.text2 = text2;\n    }\n\n    public LocalDate getDate() {\n        return date;\n    }\n\n    public String getText1() {\n        return text1;\n    }\n\n    public String getText2() {\n        return text2;\n    }   \n}\n</code></pre>\n<p>Then let's create a renderer that a JList can use to display the above information in a JPanel. This is more complicated and requires that the class create a JPanel that places the labels where we want them, perhaps using a GridLayout with 1 column and 3 rows, plus some gaps between the rows: <code>setLayout(new GridLayout(3, 1, 2 * gap, 2 * gap));</code>. The class must implement the <code>ListCellRenderer&lt;T&gt;</code> interface which has one method: <code>public Component getListCellRendererComponent(...)</code>. Java will pass in the paramters into this method, including a ListItem value, and we will use that value to fill in the JLabels that we add into this JPanel. Edited to highlight selected items.</p>\n<pre><code>import java.awt.*;\nimport java.time.format.DateTimeFormatter;\nimport javax.swing.*;\nimport javax.swing.border.Border;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class ListItemRenderer extends JPanel implements ListCellRenderer&lt;ListItem&gt; {\n    private static final Color LIGHT_BLUE = new Color(204, 255, 255);\n    private static final Color REDDISH_GREY = new Color(205, 126, 121);\n    private DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\n    private static final int GAP = 2;\n    private Border emptyBorder = BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP);\n    private Border blackBorder = BorderFactory.createLineBorder(Color.BLACK);\n    private Border redBorder = BorderFactory.createLineBorder(REDDISH_GREY, 2);\n    private JLabel dateLabel = new JLabel();\n    private JLabel text1Label = new JLabel();\n    private JLabel text2Label = new JLabel();\n    \n    public ListItemRenderer() {\n        dateLabel.setFont(dateLabel.getFont().deriveFont(Font.BOLD, 14f));\n        text1Label.setFont(text1Label.getFont().deriveFont(Font.BOLD));\n        text2Label.setFont(text1Label.getFont().deriveFont(Font.ITALIC));       \n        \n        int gap = 2;\n        setLayout(new GridLayout(0, 1, 2 * gap, 2 * gap));\n        \n        setBorder(BorderFactory.createCompoundBorder(emptyBorder, blackBorder));\n        add(dateLabel);\n        add(text1Label);\n        add(text2Label);\n    }\n\n    @Override\n    public Component getListCellRendererComponent(JList&lt;? extends ListItem&gt; list, ListItem value, int index,\n            boolean isSelected, boolean cellHasFocus) {\n        if (value != null) {\n            String dateText = dateFormatter.format(value.getDate());\n            dateLabel.setText(dateText);\n            text1Label.setText(value.getText1());\n            text2Label.setText(value.getText2());\n        } else {\n            dateLabel.setText(&quot;&quot;);\n            text1Label.setText(&quot;&quot;);\n            text2Label.setText(&quot;&quot;);\n        }\n        \n        if (isSelected ) {\n            setBackground(LIGHT_BLUE);\n            setBorder(BorderFactory.createCompoundBorder(emptyBorder, redBorder));\n        } else {\n            setBackground(null);\n            setBorder(BorderFactory.createCompoundBorder(emptyBorder, blackBorder));\n        }\n        return this;\n    }\n    \n}\n</code></pre>\n<p>And now the main program that puts this all together, edited to show removing items:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.KeyEvent;\nimport java.time.LocalDate;\nimport java.util.Arrays;\nimport java.util.Random;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class MainPanel extends JPanel {\n    DefaultListModel&lt;ListItem&gt; listModel = new DefaultListModel&lt;&gt;();\n    private JList&lt;ListItem&gt; jList = new JList&lt;&gt;(listModel);\n    private JScrollPane scrollPane = new JScrollPane(jList);\n    private JButton addButton = new JButton(&quot;Add&quot;);\n    private JButton removeButton = new JButton(&quot;Remove&quot;);\n    \n    public MainPanel() {\n        jList.setPrototypeCellValue(new ListItem(LocalDate.now(), \n                &quot;This is text 1 for testing.  This is text 1 for testing.   This is text 1 for testing&quot;, \n                &quot;This is text 2 for testing.  This is text 2 for testing.   This is text 2 for testing&quot;));\n        jList.setVisibleRowCount(4);\n        jList.setCellRenderer(new ListItemRenderer());\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        \n        JPanel buttonPanel = new JPanel(new GridLayout(0, 1, 3, 3));\n        buttonPanel.add(addButton);\n        buttonPanel.add(removeButton);\n        \n        addButton.setMnemonic(KeyEvent.VK_A);\n        removeButton.setMnemonic(KeyEvent.VK_R);\n        addButton.addActionListener(e -&gt; addEvent());\n        removeButton.addActionListener(e -&gt; removeEvent());\n        \n        JPanel rightPanel = new JPanel();\n        rightPanel.add(buttonPanel);\n        \n        int gap = 5;\n        setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap)); \n        setLayout(new BorderLayout());\n        add(scrollPane);\n        add(rightPanel, BorderLayout.LINE_END);\n    }\n    \n    private void removeEvent() {\n        int[] selectedIndices = jList.getSelectedIndices();\n        for (int i = selectedIndices.length - 1; i &gt;= 0; i--) {\n            listModel.remove(selectedIndices[i]);\n        }\n    }\n\n    private void addEvent() {\n        // this adds random stuff to the JList\n        String text1 = &quot;Some random text: &quot; + randomText();\n        String text2 = &quot;Some random text: &quot; + randomText();\n            \n        listModel.addElement(new ListItem(LocalDate.now(), text1, text2));\n        \n        // TODO: change this so that it adds *real* data to the JList\n    }\n    \n    private String randomText() {\n        Random random = new Random();\n        StringBuilder builder = new StringBuilder();\n        for (int i = 0; i &lt; 2 + random.nextInt(3); i++) {\n            for (int j = 0; j &lt; 3 + random.nextInt(5); j++) {\n                char c = (char) ('a' + random.nextInt('z' - 'a'));\n                builder.append(c);\n            }\n            builder.append(&quot; &quot;);\n        }\n        return builder.toString();\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(new MainPanel());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<hr />\n<p>Output would look like:</p>\n<p><a href=\"https://i.stack.imgur.com/Zuxdb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zuxdb.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18820863,"reputation":29,"user_id":13726908,"display_name":"vasll"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70725786,"answer_count":1,"score":1,"last_activity_date":1642346319,"creation_date":1642280406,"question_id":70725383,"body_markdown":"I have to make a scrollable list where I can add a panel with 3 labels many times. \r\nI kind of made it work but the first panels are stretched and occupy all the area of the JScrollPane and I can&#39;t figure out how to fix this, I tried changing layouts many times but still didn&#39;t manage to fix it.\r\nI want the added panel to occupy a fixed size but I can&#39;t figure this out. Example in this picture:\r\nhttps://i.stack.imgur.com/LNznP.png\r\nThe one on the left is the one that I get and the one on the right (edited) is how I want it to work.\r\n\r\nThis is my first day of Swing so the code is very likely a mess, sorry in advance.\r\n\r\nHere is the code:\r\n\r\n```\r\npublic class MainWindow extends JFrame implements ActionListener{\r\n\tprivate JPanel viewportPanel;\r\n\tprivate JButton addButton,remButton;\r\n\tprivate JScrollPane scrollPane;\r\n\tprivate int counter = 0;\r\n\tprivate JLabel dateLabel,dateLabel_1,dateLabel_2;\r\n\t\r\n\tpublic MainWindow(boolean run) {\r\n\t\t//BUTTONS\r\n\t\taddButton = new JButton(&quot;Add&quot;);\r\n\t\taddButton.setLocation(521, 11);\r\n\t\taddButton.setSize(101, 100);\r\n\t\taddButton.addActionListener(this);\r\n\t\t\r\n\t\tremButton = new JButton(&quot;Remove&quot;);\r\n\t\tremButton.setLocation(521, 122);\r\n\t\tremButton.setSize(101, 100);\r\n\t\tremButton.addActionListener(this);\r\n\t\t\r\n\t\t//SCROLLPANE\r\n\t\tscrollPane = new JScrollPane();\r\n\t\tscrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\tscrollPane.setBounds(10, 11, 501, 211);\r\n\t\tadd(scrollPane);\r\n\t\t\r\n\t\t//PANELS\r\n\t\tviewportPanel = new JPanel(new GridLayout(0,1));\r\n\t\tscrollPane.setViewportView(viewportPanel);\r\n\t\t\r\n\t\t//FRAME\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 650, 273);\r\n\t\tsetResizable(false);\r\n\t\t//setIconImage(new ImageIcon(&quot;epic.png&quot;).getImage());\r\n\t\tsetLayout(null);\r\n\t\tif(run) setVisible(true);\r\n\t\tadd(addButton);\r\n\t\tadd(remButton);\r\n\t}\r\n\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getSource() == addButton) {\r\n\t\t\t//LABELS\r\n\t\t\tdateLabel = new JLabel(&quot;DATE&quot;);\r\n\t\t\tdateLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 28));\r\n\t\t\tdateLabel.setSize(500,500);\r\n\r\n\t\t\tdateLabel_1 = new JLabel(&quot;LABEL1&quot;);\r\n\t\t\tdateLabel_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 22));\r\n\t\t\tdateLabel_1.setBounds(10, 45, 481, 30);\r\n\t\t\t\r\n\t\t\tdateLabel_2 = new JLabel(&quot;LABEL2&quot;);\r\n\t\t\tdateLabel_2.setFont(new Font(&quot;Tahoma&quot;, Font.ITALIC, 22));\r\n\t\t\tdateLabel_2.setBounds(10, 45, 481, 30);\r\n\t\t\t\r\n\t\t\t//PANEL WITH ALL THE STUFF\r\n\t\t\tJPanel componentPanel = new JPanel();\r\n\t\t\tcomponentPanel.setLayout(new GridLayout(3, 1));\r\n\t\t\tcomponentPanel.setMaximumSize(new Dimension(50,50));\r\n\t\t\tcomponentPanel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.BLACK));\r\n\t\t\tcomponentPanel.setBackground(Color.gray);\r\n\t\t\tcomponentPanel.add(dateLabel);\r\n\t\t\tcomponentPanel.add(dateLabel_1);\r\n\t\t\tcomponentPanel.add(dateLabel_2);\r\n\t\t\t\r\n\t\t\tviewportPanel.add(componentPanel);\t//add panel with labels to viewportpanel\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\t\r\n\t\tif(e.getSource() == remButton) {\r\n\t\t\tComponent[] componentList = viewportPanel.getComponents();\r\n\t\t\tint lastElement = (componentList.length);\r\n\t\t\tviewportPanel.remove(--lastElement);\r\n\t\t\t--counter;\r\n\t\t}\r\n\t\t\r\n\t\tviewportPanel.revalidate();\r\n\t\tviewportPanel.repaint();\r\n\t}\r\n}\r\n```\r\n\r\nSome help would be amazing!\r\n","title":"JScrollPane &quot;stretching&quot; out the panel that I add to it","body":"<p>I have to make a scrollable list where I can add a panel with 3 labels many times.\nI kind of made it work but the first panels are stretched and occupy all the area of the JScrollPane and I can't figure out how to fix this, I tried changing layouts many times but still didn't manage to fix it.\nI want the added panel to occupy a fixed size but I can't figure this out. Example in this picture:\n<a href=\"https://i.stack.imgur.com/LNznP.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/LNznP.png</a>\nThe one on the left is the one that I get and the one on the right (edited) is how I want it to work.</p>\n<p>This is my first day of Swing so the code is very likely a mess, sorry in advance.</p>\n<p>Here is the code:</p>\n<pre><code>public class MainWindow extends JFrame implements ActionListener{\n    private JPanel viewportPanel;\n    private JButton addButton,remButton;\n    private JScrollPane scrollPane;\n    private int counter = 0;\n    private JLabel dateLabel,dateLabel_1,dateLabel_2;\n    \n    public MainWindow(boolean run) {\n        //BUTTONS\n        addButton = new JButton(&quot;Add&quot;);\n        addButton.setLocation(521, 11);\n        addButton.setSize(101, 100);\n        addButton.addActionListener(this);\n        \n        remButton = new JButton(&quot;Remove&quot;);\n        remButton.setLocation(521, 122);\n        remButton.setSize(101, 100);\n        remButton.addActionListener(this);\n        \n        //SCROLLPANE\n        scrollPane = new JScrollPane();\n        scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        scrollPane.setBounds(10, 11, 501, 211);\n        add(scrollPane);\n        \n        //PANELS\n        viewportPanel = new JPanel(new GridLayout(0,1));\n        scrollPane.setViewportView(viewportPanel);\n        \n        //FRAME\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 650, 273);\n        setResizable(false);\n        //setIconImage(new ImageIcon(&quot;epic.png&quot;).getImage());\n        setLayout(null);\n        if(run) setVisible(true);\n        add(addButton);\n        add(remButton);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == addButton) {\n            //LABELS\n            dateLabel = new JLabel(&quot;DATE&quot;);\n            dateLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 28));\n            dateLabel.setSize(500,500);\n\n            dateLabel_1 = new JLabel(&quot;LABEL1&quot;);\n            dateLabel_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 22));\n            dateLabel_1.setBounds(10, 45, 481, 30);\n            \n            dateLabel_2 = new JLabel(&quot;LABEL2&quot;);\n            dateLabel_2.setFont(new Font(&quot;Tahoma&quot;, Font.ITALIC, 22));\n            dateLabel_2.setBounds(10, 45, 481, 30);\n            \n            //PANEL WITH ALL THE STUFF\n            JPanel componentPanel = new JPanel();\n            componentPanel.setLayout(new GridLayout(3, 1));\n            componentPanel.setMaximumSize(new Dimension(50,50));\n            componentPanel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.BLACK));\n            componentPanel.setBackground(Color.gray);\n            componentPanel.add(dateLabel);\n            componentPanel.add(dateLabel_1);\n            componentPanel.add(dateLabel_2);\n            \n            viewportPanel.add(componentPanel);  //add panel with labels to viewportpanel\n            counter++;\n        }\n        \n        if(e.getSource() == remButton) {\n            Component[] componentList = viewportPanel.getComponents();\n            int lastElement = (componentList.length);\n            viewportPanel.remove(--lastElement);\n            --counter;\n        }\n        \n        viewportPanel.revalidate();\n        viewportPanel.repaint();\n    }\n}\n</code></pre>\n<p>Some help would be amazing!</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":0,"creation_date":1542711028,"post_id":53390170,"comment_id":93658075,"body_markdown":"What did you try so far?","body":"What did you try so far?"},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542711214,"post_id":53390170,"comment_id":93658175,"body_markdown":"I found `log.cleanup.policy=compact`, but I don&#39;t know where to put it. Is it somewhere in the `Kafka` config ?","body":"I found <code>log.cleanup.policy=compact</code>, but I don&#39;t know where to put it. Is it somewhere in the <code>Kafka</code> config ?"},{"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":1,"creation_date":1542711388,"post_id":53390170,"comment_id":93658270,"body_markdown":"You should place it under `/etc/kafka/server.properties`.","body":"You should place it under <code>&#47;etc&#47;kafka&#47;server.properties</code>."},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542711608,"post_id":53390170,"comment_id":93658395,"body_markdown":"Does it matter where I place it in this file?","body":"Does it matter where I place it in this file?"},{"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":0,"creation_date":1542711693,"post_id":53390170,"comment_id":93658442,"body_markdown":"No, it doesn&#39;t matter.","body":"No, it doesn&#39;t matter."},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542712060,"post_id":53390170,"comment_id":93658624,"body_markdown":"Thank you. But how do I check if it is compacted. As far as I understood it, `compacted topics` are like `KTable` in the `Kafka Streams` (it only saves the last value for the key). But when I start `kafka consumer` on the topic from the terminal, it writes all the values from the beginning. I&#39;m sorry for so much questions, I started working with Kafka yesterday for the first time, also if it is easier for you, I can edit my question and add the code and the consumer output","body":"Thank you. But how do I check if it is compacted. As far as I understood it, <code>compacted topics</code> are like <code>KTable</code> in the <code>Kafka Streams</code> (it only saves the last value for the key). But when I start <code>kafka consumer</code> on the topic from the terminal, it writes all the values from the beginning. I&#39;m sorry for so much questions, I started working with Kafka yesterday for the first time, also if it is easier for you, I can edit my question and add the code and the consumer output"},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542713437,"post_id":53390170,"comment_id":93659350,"body_markdown":"I edited the post.","body":"I edited the post."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1542727051,"post_id":53390170,"comment_id":93667469,"body_markdown":"Do you want all topics to be compacted? If so, do not put it in the server properties... You need to create your topic as compacted beforehand, and compaction only applies on closed Kafka segments, which are 1GB large by default, so with 83 simple messages, you  won&#39;t see it happening","body":"Do you want all topics to be compacted? If so, do not put it in the server properties... You need to create your topic as compacted beforehand, and compaction only applies on closed Kafka segments, which are 1GB large by default, so with 83 simple messages, you  won&#39;t see it happening"},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542789972,"post_id":53390170,"comment_id":93691180,"body_markdown":"My goal is to have a `Key` of type` Lon`g (represents a `company ID`) and a `Value` of type `JGraph&lt;Card&gt;` (custom class with a lot of variables) and I want every time I change the `Card` values for a given `company ID`, to run the compaction for the given company ID. That way I don&#39;t have multiple Graphs for 1 key.","body":"My goal is to have a <code>Key</code> of type` Lon<code>g (represents a </code>company ID<code>) and a </code>Value` of type <code>JGraph&lt;Card&gt;</code> (custom class with a lot of variables) and I want every time I change the <code>Card</code> values for a given <code>company ID</code>, to run the compaction for the given company ID. That way I don&#39;t have multiple Graphs for 1 key."}],"answers":[{"tags":[],"owner":{"account_id":160298,"reputation":609,"user_id":380250,"display_name":"Gery"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542736307,"creation_date":1542736307,"answer_id":53398750,"question_id":53390170,"body_markdown":"When you set `log.cleanup.policy=compact` in server.properties, it will be the default policy when creating new topics. If you change server.properties after creating your topic, your topic configuration won&#39;t change.\r\n\r\nYou can alter your topic configuration to set `cleanup.policy=compact`\r\n\r\nAs compaction is made by log cleaner, you may want to set specific `delete.retention.ms` on your topic as default retention is 24 hours.\r\n\r\nLast, compaction doesn&#39;t occur on active segment.\r\nsee https://stackoverflow.com/questions/46513527/kafka-log-compaction-not-starting","title":"How to create kafka compacted topic","body":"<p>When you set <code>log.cleanup.policy=compact</code> in server.properties, it will be the default policy when creating new topics. If you change server.properties after creating your topic, your topic configuration won't change.</p>\n\n<p>You can alter your topic configuration to set <code>cleanup.policy=compact</code></p>\n\n<p>As compaction is made by log cleaner, you may want to set specific <code>delete.retention.ms</code> on your topic as default retention is 24 hours.</p>\n\n<p>Last, compaction doesn't occur on active segment.\nsee <a href=\"https://stackoverflow.com/questions/46513527/kafka-log-compaction-not-starting\">Kafka Log Compaction not starting</a></p>\n"},{"tags":[],"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1580427223,"creation_date":1580427223,"answer_id":59996061,"question_id":53390170,"body_markdown":"Just in case somebody finds this helpful, this is the actual CLI command to use if you want to make a specific topic compacted, and don&#39;t want to set all your topics to compacted at the server level.\r\n\r\n    bin/kafka-topics --alter --topic my_topic_name --zookeeper my_zookeeper:2181 --config cleanup.policy=compact\r\n\r\nAssuming the above is being run from the confluent base directory.  I believe you have to change the command to call `bin/kafka-topics.sh` if using just a regular Apache Kafka distribution.","title":"How to create kafka compacted topic","body":"<p>Just in case somebody finds this helpful, this is the actual CLI command to use if you want to make a specific topic compacted, and don't want to set all your topics to compacted at the server level.</p>\n\n<pre><code>bin/kafka-topics --alter --topic my_topic_name --zookeeper my_zookeeper:2181 --config cleanup.policy=compact\n</code></pre>\n\n<p>Assuming the above is being run from the confluent base directory.  I believe you have to change the command to call <code>bin/kafka-topics.sh</code> if using just a regular Apache Kafka distribution.</p>\n"},{"tags":[],"owner":{"account_id":20654871,"reputation":236,"user_id":15164253,"display_name":"Victor Levin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1640523068,"creation_date":1628313013,"answer_id":68689574,"question_id":53390170,"body_markdown":"Use this command:\r\n\r\n    kafka-topics --topic topic_name --bootstrap-server localhost:9092 --config &quot;cleanup.policy=compact&quot; --create\r\n\r\n","title":"How to create kafka compacted topic","body":"<p>Use this command:</p>\n<pre><code>kafka-topics --topic topic_name --bootstrap-server localhost:9092 --config &quot;cleanup.policy=compact&quot; --create\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13343717,"reputation":995,"user_id":9631158,"display_name":"sujithramanathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642345969,"creation_date":1642345969,"answer_id":70731367,"question_id":53390170,"body_markdown":"Create compact kafka topic command:\r\n\r\n```\r\nkafka-topics.sh --bootstrap-server localhost:9092 --create --topic foo --config &quot;cleanup.policy=compact&quot;\r\n```\r\n\r\nDescribe topic ( where you can see cleanup.policy=compact )\r\n\r\n```\r\nkafka-topics.sh --bootstrap-server localhost:9092 --describe --topic foo \r\n```\r\n\r\nPlease note that you should not keep cleanup.policy in server.properties.\r\n\r\n","title":"How to create kafka compacted topic","body":"<p>Create compact kafka topic command:</p>\n<pre><code>kafka-topics.sh --bootstrap-server localhost:9092 --create --topic foo --config &quot;cleanup.policy=compact&quot;\n</code></pre>\n<p>Describe topic ( where you can see cleanup.policy=compact )</p>\n<pre><code>kafka-topics.sh --bootstrap-server localhost:9092 --describe --topic foo \n</code></pre>\n<p>Please note that you should not keep cleanup.policy in server.properties.</p>\n"}],"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13968,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":68689574,"answer_count":4,"score":8,"last_activity_date":1642345969,"creation_date":1542707076,"question_id":53390170,"body_markdown":"I have a `Kafka` application that has a `producer` who produces messages to a topic. A `consumer` then takes the messages from the topic, does some logic to the given messages and then produces them to another topic.\r\nI&#39;m using `ProducerRecord` and `ConsumerRecords`. \r\n\r\nI want my app to create 2 `compacted topics` and then use them. If the `compacted topics` already exist, just display a message and continue.\r\n\r\nMy `SimpleProducer` class:\r\n\r\n  \r\n\r\n      package com.kafkatest.demo;\r\n    \r\n    import java.util.*;\r\n    \r\n    import org.apache.kafka.clients.producer.*;\r\n    public class SimpleProducer extends Thread{\r\n      \r\n       public static void main(String[] args) throws Exception{\r\n               \r\n          String topicName = &quot;nodesTopic&quot;;\r\n    \t  String key = &quot;Key1&quot;;\r\n    \t  String value = &quot;Value-1&quot;;\r\n    \t  \r\n    \t  String key1 = &quot;Key2&quot;;\r\n    \t  String value1 = &quot;Value-2&quot;;\r\n    \r\n    \r\n          \r\n          Properties props = new Properties();\r\n          props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092,localhost:9093&quot;);\r\n          props.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);         \r\n          props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \t        \r\n          Producer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props);\r\n    \t\r\n    \t  ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord&lt;&gt;(topicName,key1,value1);\r\n    \t  producer.send(record2);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record3 = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record3);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record4 = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record4);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record5 = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record5);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record6 = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record6);\r\n    \t  producer.close();\r\n    \t  \r\n    \t  System.out.println(&quot;SimpleProducer Completed.&quot;);\r\n       }\r\n    }\r\n\r\n\r\nMy SimpleConsumer class: \r\n\r\n \r\n\r\n       package com.kafkatest.demo;\r\n    \r\n    import java.time.Duration;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.Arrays;\r\n    import java.util.Properties;\r\n    \r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecords;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.Producer;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    \r\n    public class SimpleConsumer extends Thread{\r\n        \r\n        public static void main(String[] args) {\r\n    \t\r\n    \tProperties props1 = new Properties();\r\n    \tprops1.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092,localhost:9093&quot;);\r\n    \tprops1.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);         \r\n    \tprops1.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \t\t        \r\n    \tProducer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props1);\r\n    \t\r\n    \tDuration duration = Duration.of(2, ChronoUnit.MINUTES);\r\n    \tString topicName = &quot;nodesTopic&quot;;\r\n    \t\r\n    \tProperties props = new Properties();\r\n    \tprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n    \tprops.put(&quot;group.id&quot;, &quot;consumer-tutorial&quot;);\r\n    \tprops.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n    \tprops.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n    \tKafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props); \r\n    \t\r\n    \tconsumer.subscribe(Arrays.asList(topicName));\r\n    \t\r\n    \ttry {\r\n    \t    while (true) {\r\n    \t\ttry {\r\n    \t\t    Thread.sleep(5000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t    e.printStackTrace();\r\n    \t\t}\r\n    \t\tconsumer.beginningOffsets(consumer.assignment());\r\n    \t      ConsumerRecords&lt;String, String&gt; records = consumer.poll(duration);\r\n    \t      for (ConsumerRecord&lt;String, String&gt; record : records) {\r\n    \t        System.out.println(record.offset() + &quot;: &quot; + record.value());\r\n    \t        System.out.println(&quot;Record: &quot; + record.value().toLowerCase());\r\n    \t        ProducerRecord&lt;String, String&gt; record1 = new ProducerRecord&lt;&gt;(&quot;forecastTopic&quot;, &quot;Key&quot;, record.offset() + &quot;. &quot; + record.value().toLowerCase());\r\n    \t        String a = &quot;&quot; + records.count();\r\n    \t        ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord&lt;&gt;(&quot;forecastTopic&quot;, &quot;Key&quot;, record.offset() + &quot;. &quot; + a);\r\n    \t        producer.send(record1);\r\n    \t        producer.send(record2);\r\n    \t      }\r\n    \t    }\r\n    \t  } finally {\r\n    \t    producer.close();\r\n    \t    consumer.close();\r\n    \t  }\r\n    \t\r\n        }\r\n        \r\n    }\r\n\r\nWhen I run `bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic forecastTopic --from-beginning` and I run my producer a couple of time, I get \r\n\r\n    0. value-1\r\n    0. 6\r\n    1. value-2\r\n    1. 6\r\n    2. value-1\r\n    2. 6\r\n    3. value-1\r\n    3. 6\r\n    4. value-1\r\n    4. 6\r\n    5. value-1\r\n    5. 6\r\n    6. value-1\r\n    6. 6\r\n    7. value-2\r\n    7. 6\r\n    8. value-1\r\n    8. 6\r\n    9. value-1\r\n    9. 6\r\n    10. value-1\r\n    10. 6\r\n    11. value-1\r\n    11. 6\r\n    12. value-1\r\n    12. 6\r\n    13. value-2\r\n    13. 6\r\n    14. value-1\r\n    14. 6\r\n    15. value-1\r\n    15. 6\r\n    16. value-1\r\n    16. 6\r\n    17. value-1\r\n    17. 6\r\n    18. value-1\r\n    18. 6\r\n    19. value-2\r\n    19. 6\r\n    20. value-1\r\n    20. 6\r\n    21. value-1\r\n    21. 6\r\n    22. value-1\r\n    22. 6\r\n    23. value-1\r\n    23. 6\r\n    24. value-1\r\n    24. 6\r\n    25. value-2\r\n    25. 6\r\n    26. value-1\r\n    26. 6\r\n    27. value-1\r\n    27. 6\r\n    28. value-1\r\n    28. 6\r\n    29. value-1\r\n    29. 6\r\n    30. value-1\r\n    30. 6\r\n    31. value-2\r\n    31. 6\r\n    32. value-1\r\n    32. 6\r\n    33. value-1\r\n    33. 6\r\n    34. value-1\r\n    34. 6\r\n    35. value-1\r\n    35. 6\r\n    36. value-1\r\n    36. 6\r\n    37. value-2\r\n    37. 6\r\n    38. value-1\r\n    38. 6\r\n    39. value-1\r\n    39. 6\r\n    40. value-1\r\n    40. 6\r\n    41. value-1\r\n    41. 6\r\n    42. value-1\r\n    42. 6\r\n    43. value-2\r\n    43. 6\r\n    44. value-1\r\n    44. 6\r\n    45. value-1\r\n    45. 6\r\n    46. value-1\r\n    46. 6\r\n    47. value-1\r\n    47. 6\r\n    48. value-1\r\n    48. 12\r\n    49. value-2\r\n    49. 12\r\n    50. value-1\r\n    50. 12\r\n    51. value-1\r\n    51. 12\r\n    52. value-1\r\n    52. 12\r\n    53. value-1\r\n    53. 12\r\n    54. value-1\r\n    54. 12\r\n    55. value-2\r\n    55. 12\r\n    56. value-1\r\n    56. 12\r\n    57. value-1\r\n    57. 12\r\n    58. value-1\r\n    58. 12\r\n    59. value-1\r\n    59. 12\r\n    60. value-1\r\n    60. 6\r\n    61. value-2\r\n    61. 6\r\n    62. value-1\r\n    62. 6\r\n    63. value-1\r\n    63. 6\r\n    64. value-1\r\n    64. 6\r\n    65. value-1\r\n    65. 6\r\n    66. value-1\r\n    66. 6\r\n    67. value-2\r\n    67. 6\r\n    68. value-1\r\n    68. 6\r\n    69. value-1\r\n    69. 6\r\n    70. value-1\r\n    70. 6\r\n    71. value-1\r\n    71. 6\r\n    72. value-1\r\n    72. 6\r\n    73. value-2\r\n    73. 6\r\n    74. value-1\r\n    74. 6\r\n    75. value-1\r\n    75. 6\r\n    76. value-1\r\n    76. 6\r\n    77. value-1\r\n    77. 6\r\n    78. value-1\r\n    78. 6\r\n    79. value-2\r\n    79. 6\r\n    80. value-1\r\n    80. 6\r\n    81. value-1\r\n    81. 6\r\n    82. value-1\r\n    82. 6\r\n    83. value-1\r\n    83. 6\r\n\r\nI put the `log.cleanup.policy=compact` in the `server.properties` file, but it doesn&#39;t seem to work, because I have all the 83 offsets in the topic.\r\n\r\nThank you.","title":"How to create kafka compacted topic","body":"<p>I have a <code>Kafka</code> application that has a <code>producer</code> who produces messages to a topic. A <code>consumer</code> then takes the messages from the topic, does some logic to the given messages and then produces them to another topic.\nI'm using <code>ProducerRecord</code> and <code>ConsumerRecords</code>. </p>\n\n<p>I want my app to create 2 <code>compacted topics</code> and then use them. If the <code>compacted topics</code> already exist, just display a message and continue.</p>\n\n<p>My <code>SimpleProducer</code> class:</p>\n\n<pre><code>  package com.kafkatest.demo;\n\nimport java.util.*;\n\nimport org.apache.kafka.clients.producer.*;\npublic class SimpleProducer extends Thread{\n\n   public static void main(String[] args) throws Exception{\n\n      String topicName = \"nodesTopic\";\n      String key = \"Key1\";\n      String value = \"Value-1\";\n\n      String key1 = \"Key2\";\n      String value1 = \"Value-2\";\n\n\n\n      Properties props = new Properties();\n      props.put(\"bootstrap.servers\", \"localhost:9092,localhost:9093\");\n      props.put(\"key.serializer\",\"org.apache.kafka.common.serialization.StringSerializer\");         \n      props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n\n      Producer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props);\n\n      ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record);\n\n\n      ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord&lt;&gt;(topicName,key1,value1);\n      producer.send(record2);\n\n\n      ProducerRecord&lt;String, String&gt; record3 = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record3);\n\n\n      ProducerRecord&lt;String, String&gt; record4 = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record4);\n\n\n      ProducerRecord&lt;String, String&gt; record5 = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record5);\n\n\n      ProducerRecord&lt;String, String&gt; record6 = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record6);\n      producer.close();\n\n      System.out.println(\"SimpleProducer Completed.\");\n   }\n}\n</code></pre>\n\n<p>My SimpleConsumer class: </p>\n\n<pre><code>   package com.kafkatest.demo;\n\nimport java.time.Duration;\nimport java.time.temporal.ChronoUnit;\nimport java.util.Arrays;\nimport java.util.Properties;\n\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.Producer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\npublic class SimpleConsumer extends Thread{\n\n    public static void main(String[] args) {\n\n    Properties props1 = new Properties();\n    props1.put(\"bootstrap.servers\", \"localhost:9092,localhost:9093\");\n    props1.put(\"key.serializer\",\"org.apache.kafka.common.serialization.StringSerializer\");         \n    props1.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n\n    Producer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props1);\n\n    Duration duration = Duration.of(2, ChronoUnit.MINUTES);\n    String topicName = \"nodesTopic\";\n\n    Properties props = new Properties();\n    props.put(\"bootstrap.servers\", \"localhost:9092\");\n    props.put(\"group.id\", \"consumer-tutorial\");\n    props.put(\"key.deserializer\", \"org.apache.kafka.common.serialization.StringDeserializer\");\n    props.put(\"value.deserializer\", \"org.apache.kafka.common.serialization.StringDeserializer\");\n    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props); \n\n    consumer.subscribe(Arrays.asList(topicName));\n\n    try {\n        while (true) {\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        consumer.beginningOffsets(consumer.assignment());\n          ConsumerRecords&lt;String, String&gt; records = consumer.poll(duration);\n          for (ConsumerRecord&lt;String, String&gt; record : records) {\n            System.out.println(record.offset() + \": \" + record.value());\n            System.out.println(\"Record: \" + record.value().toLowerCase());\n            ProducerRecord&lt;String, String&gt; record1 = new ProducerRecord&lt;&gt;(\"forecastTopic\", \"Key\", record.offset() + \". \" + record.value().toLowerCase());\n            String a = \"\" + records.count();\n            ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord&lt;&gt;(\"forecastTopic\", \"Key\", record.offset() + \". \" + a);\n            producer.send(record1);\n            producer.send(record2);\n          }\n        }\n      } finally {\n        producer.close();\n        consumer.close();\n      }\n\n    }\n\n}\n</code></pre>\n\n<p>When I run <code>bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic forecastTopic --from-beginning</code> and I run my producer a couple of time, I get </p>\n\n<pre><code>0. value-1\n0. 6\n1. value-2\n1. 6\n2. value-1\n2. 6\n3. value-1\n3. 6\n4. value-1\n4. 6\n5. value-1\n5. 6\n6. value-1\n6. 6\n7. value-2\n7. 6\n8. value-1\n8. 6\n9. value-1\n9. 6\n10. value-1\n10. 6\n11. value-1\n11. 6\n12. value-1\n12. 6\n13. value-2\n13. 6\n14. value-1\n14. 6\n15. value-1\n15. 6\n16. value-1\n16. 6\n17. value-1\n17. 6\n18. value-1\n18. 6\n19. value-2\n19. 6\n20. value-1\n20. 6\n21. value-1\n21. 6\n22. value-1\n22. 6\n23. value-1\n23. 6\n24. value-1\n24. 6\n25. value-2\n25. 6\n26. value-1\n26. 6\n27. value-1\n27. 6\n28. value-1\n28. 6\n29. value-1\n29. 6\n30. value-1\n30. 6\n31. value-2\n31. 6\n32. value-1\n32. 6\n33. value-1\n33. 6\n34. value-1\n34. 6\n35. value-1\n35. 6\n36. value-1\n36. 6\n37. value-2\n37. 6\n38. value-1\n38. 6\n39. value-1\n39. 6\n40. value-1\n40. 6\n41. value-1\n41. 6\n42. value-1\n42. 6\n43. value-2\n43. 6\n44. value-1\n44. 6\n45. value-1\n45. 6\n46. value-1\n46. 6\n47. value-1\n47. 6\n48. value-1\n48. 12\n49. value-2\n49. 12\n50. value-1\n50. 12\n51. value-1\n51. 12\n52. value-1\n52. 12\n53. value-1\n53. 12\n54. value-1\n54. 12\n55. value-2\n55. 12\n56. value-1\n56. 12\n57. value-1\n57. 12\n58. value-1\n58. 12\n59. value-1\n59. 12\n60. value-1\n60. 6\n61. value-2\n61. 6\n62. value-1\n62. 6\n63. value-1\n63. 6\n64. value-1\n64. 6\n65. value-1\n65. 6\n66. value-1\n66. 6\n67. value-2\n67. 6\n68. value-1\n68. 6\n69. value-1\n69. 6\n70. value-1\n70. 6\n71. value-1\n71. 6\n72. value-1\n72. 6\n73. value-2\n73. 6\n74. value-1\n74. 6\n75. value-1\n75. 6\n76. value-1\n76. 6\n77. value-1\n77. 6\n78. value-1\n78. 6\n79. value-2\n79. 6\n80. value-1\n80. 6\n81. value-1\n81. 6\n82. value-1\n82. 6\n83. value-1\n83. 6\n</code></pre>\n\n<p>I put the <code>log.cleanup.policy=compact</code> in the <code>server.properties</code> file, but it doesn't seem to work, because I have all the 83 offsets in the topic.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","optimization"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1642337822,"post_id":70730186,"comment_id":125039120,"body_markdown":"Why not use the first procedure to load into a map and then convert that map to a new map?","body":"Why not use the first procedure to load into a map and then convert that map to a new map?"},{"owner":{"account_id":15216965,"reputation":101,"user_id":10980057,"display_name":"raiton"},"score":0,"creation_date":1642343663,"post_id":70730186,"comment_id":125040510,"body_markdown":"cause that would double the complexity from n to 2n (wich is pretty much the same but it will grow twice as fast as the map grows to infinity) @RealSkeptic","body":"cause that would double the complexity from n to 2n (wich is pretty much the same but it will grow twice as fast as the map grows to infinity) @RealSkeptic"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1642353493,"post_id":70730186,"comment_id":125043045,"body_markdown":"That&#39;s not how complexity works. 2n is the same as n. Plus it&#39;s not 2. When you read the file, you are I/O bound. Disk operations take a lot longer than in-memory operations. So you could say that your file-reading procedure takes 10N, and with the additional map scan it will be 12N. Negligible.","body":"That&#39;s not how complexity works. 2n is the same as n. Plus it&#39;s not 2. When you read the file, you are I/O bound. Disk operations take a lot longer than in-memory operations. So you could say that your file-reading procedure takes 10N, and with the additional map scan it will be 12N. Negligible."},{"owner":{"account_id":15216965,"reputation":101,"user_id":10980057,"display_name":"raiton"},"score":0,"creation_date":1642353902,"post_id":70730186,"comment_id":125043139,"body_markdown":"1 operation is not 10N, that&#39;s not how it works\nnot to mentioning you would be spending twice as much memory with 2 maps\nI apreciate the input though","body":"1 operation is not 10N, that&#39;s not how it works not to mentioning you would be spending twice as much memory with 2 maps I apreciate the input though"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1642357241,"post_id":70730186,"comment_id":125043924,"body_markdown":"You don&#39;t know what I/O bound is? Look it up. Note that I have a B.Sc in Computer Science, and experience of 33 years in programming. And that experience says that you are optimizing where you shouldn&#39;t, and that you should put more effort into clean code than into saving 2 seconds of computer time.","body":"You don&#39;t know what I/O bound is? Look it up. Note that I have a B.Sc in Computer Science, and experience of 33 years in programming. And that experience says that you are optimizing where you shouldn&#39;t, and that you should put more effort into clean code than into saving 2 seconds of computer time."},{"owner":{"account_id":15216965,"reputation":101,"user_id":10980057,"display_name":"raiton"},"score":0,"creation_date":1642361678,"post_id":70730186,"comment_id":125045073,"body_markdown":"I know what I/O bound is. 1 operation is 1 operation. not 10.\nthere&#39;s no need to bring the Argumentum ad verecundiam into an argument.\nLike I said I&#39;m not gonna use that solution but thanks for the input","body":"I know what I/O bound is. 1 operation is 1 operation. not 10. there&#39;s no need to bring the Argumentum ad verecundiam into an argument. Like I said I&#39;m not gonna use that solution but thanks for the input"}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642345143,"creation_date":1642344778,"answer_id":70731201,"question_id":70730186,"body_markdown":"You can write one method and make it accept a boolean as parameter , if the boolean is true the first version will run and return a Map&lt;String,String&gt;, else the second version run and return a Map&lt;String,LocalDateTime&gt;  .\r\n\r\nSo your method should return a Map&lt;String , ?&gt; :\r\n\r\n    // if you need to return Map&lt;String, LocalDateTime&gt; \r\n\t// you should pass true\r\n\t// if you need to return Map&lt;String,String&gt; you should pass false\r\n\tMap&lt;String, ?&gt; propsLoad(boolean activeStringStringReturn) throws FileNotFoundException, IOException {\r\n\t\tProperties prop = new Properties();\r\n\t\tprop.load(new FileInputStream(&quot;Put your Path here&quot;));\r\n\t\t\r\n        if (activeStringStringReturn== false) {\r\n\t\t\tMap&lt;String, String&gt; mapProp = prop.entrySet().stream()\r\n\t\t\t\t\t.collect(Collectors.toMap(e -&gt; (String) e.getKey(), e -&gt; (String) e.getValue()));\r\n\t\t\treturn mapProp;\r\n\t\t} \r\n        else {\r\n\t\t\tMap&lt;String, LocalDateTime&gt; mapProp = prop.entrySet().stream()\r\n\t\t\t\t\t.filter(e -&gt; !((String) e.getKey()).equals(&quot;U&quot;) &amp;&amp; !((String) e.getKey()).equals(&quot;FB&quot;))\r\n\t\t\t\t\t.collect(Collectors.toMap(e -&gt; (String) e.getKey(), e -&gt; LocalDateTime.parse((CharSequence) (e.getValue()) )));\r\n\t\t\treturn mapProp;\r\n\t\t}\r\n\t}","title":"Can I reuse this duplicate function that reads a property file?","body":"<p>You can write one method and make it accept a boolean as parameter , if the boolean is true the first version will run and return a Map&lt;String,String&gt;, else the second version run and return a Map&lt;String,LocalDateTime&gt;  .</p>\n<p>So your method should return a Map&lt;String , ?&gt; :</p>\n<pre><code>// if you need to return Map&lt;String, LocalDateTime&gt; \n// you should pass true\n// if you need to return Map&lt;String,String&gt; you should pass false\nMap&lt;String, ?&gt; propsLoad(boolean activeStringStringReturn) throws FileNotFoundException, IOException {\n    Properties prop = new Properties();\n    prop.load(new FileInputStream(&quot;Put your Path here&quot;));\n    \n    if (activeStringStringReturn== false) {\n        Map&lt;String, String&gt; mapProp = prop.entrySet().stream()\n                .collect(Collectors.toMap(e -&gt; (String) e.getKey(), e -&gt; (String) e.getValue()));\n        return mapProp;\n    } \n    else {\n        Map&lt;String, LocalDateTime&gt; mapProp = prop.entrySet().stream()\n                .filter(e -&gt; !((String) e.getKey()).equals(&quot;U&quot;) &amp;&amp; !((String) e.getKey()).equals(&quot;FB&quot;))\n                .collect(Collectors.toMap(e -&gt; (String) e.getKey(), e -&gt; LocalDateTime.parse((CharSequence) (e.getValue()) )));\n        return mapProp;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15216965,"reputation":101,"user_id":10980057,"display_name":"raiton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642345143,"creation_date":1642337438,"question_id":70730186,"body_markdown":"   I created a function that reads a given property file and returns a map with the information. This has been useful as the project has multiple files.\r\nHowever 1 file in particular needs me to not only return a different type of map, but also requires an extra &quot;if&quot; clause.\r\nThis is really messing with me as I feel like there&#39;s probably a way to not duplicate all this code\r\n\r\n\r\n    /**\r\n\t * Loads the given property file and places all it&#39;s content in a map\r\n\t * @param properties\r\n\t * @param fileDirectory\r\n\t */\r\n\tpublic static Map&lt;String, String&gt; readProperties(Properties properties, String fileDirectory) {\r\n\t\tMap&lt;String, String&gt; propertiesFileContent = new HashMap&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tproperties.load(new FileInputStream(fileDirectory));\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tUseful.printTimeStampedMessage(Constants.EXCEPTION_FILE_NOT_FOUND);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tUseful.printTimeStampedMessage(Constants.EXCEPTION_IO);\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t\t\r\n\t\tfor (String key : properties.stringPropertyNames()) {\r\n\t\t\tpropertiesFileContent.put(key, properties.get(key).toString());\r\n\t\t}\r\n\t\treturn propertiesFileContent;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Loads the follow property file and places all it&#39;s content in a map\r\n\t * @param properties\r\n\t * @param fileDirectory\r\n\t */\r\n\tpublic static Map&lt;String, LocalDateTime&gt; readFollowProperties(Properties properties, String fileDirectory) {\r\n\t\tMap&lt;String, LocalDateTime&gt; propertiesFileContent = new HashMap&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tproperties.load(new FileInputStream(fileDirectory));\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tUseful.printTimeStampedMessage(Constants.EXCEPTION_FILE_NOT_FOUND);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tUseful.printTimeStampedMessage(Constants.EXCEPTION_IO);\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t\t\r\n\t\tfor (String key : properties.stringPropertyNames()) {\r\n\t\t\tif(!properties.get(key).equals(&quot;U&quot;) &amp;&amp; !properties.get(key).equals(&quot;FB&quot;)) {\r\n\t\t\t\tpropertiesFileContent.put(key, LocalDateTime.parse((CharSequence) properties.get(key)));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn propertiesFileContent;\r\n\t}\r\n\r\nAs you can see, the differences between the 2 functions are very small. \r\n 1) The type of Map changes from `Map&lt;String, String&gt;` to `Map&lt;String, LocalDateTime&gt;`\r\n 2) The second function has one extra `if` inside the `for`, to exclude certain properties from being read\r\n","title":"Can I reuse this duplicate function that reads a property file?","body":"<p>I created a function that reads a given property file and returns a map with the information. This has been useful as the project has multiple files.\nHowever 1 file in particular needs me to not only return a different type of map, but also requires an extra &quot;if&quot; clause.\nThis is really messing with me as I feel like there's probably a way to not duplicate all this code</p>\n<pre><code>/**\n * Loads the given property file and places all it's content in a map\n * @param properties\n * @param fileDirectory\n */\npublic static Map&lt;String, String&gt; readProperties(Properties properties, String fileDirectory) {\n    Map&lt;String, String&gt; propertiesFileContent = new HashMap&lt;&gt;();\n    try {\n        properties.load(new FileInputStream(fileDirectory));\n    } catch (FileNotFoundException e) {\n        Useful.printTimeStampedMessage(Constants.EXCEPTION_FILE_NOT_FOUND);\n        e.printStackTrace();\n    } catch (IOException e) {\n        Useful.printTimeStampedMessage(Constants.EXCEPTION_IO);\n        e.printStackTrace();\n    }   \n    \n    for (String key : properties.stringPropertyNames()) {\n        propertiesFileContent.put(key, properties.get(key).toString());\n    }\n    return propertiesFileContent;\n}\n\n/**\n * Loads the follow property file and places all it's content in a map\n * @param properties\n * @param fileDirectory\n */\npublic static Map&lt;String, LocalDateTime&gt; readFollowProperties(Properties properties, String fileDirectory) {\n    Map&lt;String, LocalDateTime&gt; propertiesFileContent = new HashMap&lt;&gt;();\n    try {\n        properties.load(new FileInputStream(fileDirectory));\n    } catch (FileNotFoundException e) {\n        Useful.printTimeStampedMessage(Constants.EXCEPTION_FILE_NOT_FOUND);\n        e.printStackTrace();\n    } catch (IOException e) {\n        Useful.printTimeStampedMessage(Constants.EXCEPTION_IO);\n        e.printStackTrace();\n    }   \n    \n    for (String key : properties.stringPropertyNames()) {\n        if(!properties.get(key).equals(&quot;U&quot;) &amp;&amp; !properties.get(key).equals(&quot;FB&quot;)) {\n            propertiesFileContent.put(key, LocalDateTime.parse((CharSequence) properties.get(key)));\n        }\n    }\n    return propertiesFileContent;\n}\n</code></pre>\n<p>As you can see, the differences between the 2 functions are very small.</p>\n<ol>\n<li>The type of Map changes from <code>Map&lt;String, String&gt;</code> to <code>Map&lt;String, LocalDateTime&gt;</code></li>\n<li>The second function has one extra <code>if</code> inside the <code>for</code>, to exclude certain properties from being read</li>\n</ol>\n"},{"tags":["java","android","sensors"],"comments":[{"owner":{"account_id":15249444,"reputation":479,"user_id":11003330,"display_name":"Anass ABEA"},"score":0,"creation_date":1641506903,"post_id":70614006,"comment_id":124828795,"body_markdown":"Have you tried to save both totalSteps and previousTotalSteps in sharedPreferences?","body":"Have you tried to save both totalSteps and previousTotalSteps in sharedPreferences?"},{"owner":{"account_id":23202553,"reputation":26,"user_id":17297169,"display_name":"Sachin Khatri"},"score":0,"creation_date":1641509174,"post_id":70614006,"comment_id":124829449,"body_markdown":"Even if I do that, it will again revert to Sensor event value in the calculation part which is starting from zero.","body":"Even if I do that, it will again revert to Sensor event value in the calculation part which is starting from zero."},{"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"score":0,"creation_date":1641517567,"post_id":70614006,"comment_id":124831210,"body_markdown":"I don&#39; t know what is Step Counter Sensor. I can get the event of phone restarts, do you need it?","body":"I don&#39; t know what is Step Counter Sensor. I can get the event of phone restarts, do you need it?"},{"owner":{"account_id":23202553,"reputation":26,"user_id":17297169,"display_name":"Sachin Khatri"},"score":0,"creation_date":1641572082,"post_id":70614006,"comment_id":124846638,"body_markdown":"Its one of the motion sensors on android phones, and is used to count walking steps. Yes, if you can get me event of phone restarts, I will try and see if I can make use of it to solve the issue.","body":"Its one of the motion sensors on android phones, and is used to count walking steps. Yes, if you can get me event of phone restarts, I will try and see if I can make use of it to solve the issue."}],"answers":[{"tags":[],"owner":{"account_id":23202553,"reputation":26,"user_id":17297169,"display_name":"Sachin Khatri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642344921,"creation_date":1642240685,"answer_id":70720412,"question_id":70614006,"body_markdown":"So, I have solved this problem by myself. I am posting this solution for anyone else who find themselves in this situation, so that it might help them solve it.\r\n\r\nFor this, **currentSteps** as well as **previousSteps** need to be saved to SharedPreferences after **each step**. Earlier only **previousSteps** was being saved and that too once daily. \r\n\r\nThus, **totalSteps-previousSteps** will give an increment of one step to be added to currentSteps. \r\n\r\nIn case, the phone reboots, totalSteps value is reset to zero. If that happens(or by any chance, if totalSteps is less than previousSteps), then the previousSteps value will also be set equal to totalSteps for that condition before applying both variables for current steps calculation.  \r\n\r\n```\r\n if (running) {\r\n\r\n            totalSteps = event.values[0];\r\n            loadCurrentStepsData();\r\n            loadPreviousStepsData();\r\n            if (totalSteps == 0 || totalSteps&lt;previousSteps) {\r\n                previousSteps = totalSteps;\r\n                savePreviousStepsData();\r\n            }\r\n            currentSteps = currentSteps + (totalSteps - previousSteps);\r\n            previousSteps = totalSteps;\r\n            saveCurrentStepsData();\r\n            savePreviousStepsData();\r\n        }\r\n        tv_stepsTaken.setText(String.valueOf(currentSteps));\r\n\r\n```","title":"Restore Step Counter data after phone reboot","body":"<p>So, I have solved this problem by myself. I am posting this solution for anyone else who find themselves in this situation, so that it might help them solve it.</p>\n<p>For this, <strong>currentSteps</strong> as well as <strong>previousSteps</strong> need to be saved to SharedPreferences after <strong>each step</strong>. Earlier only <strong>previousSteps</strong> was being saved and that too once daily.</p>\n<p>Thus, <strong>totalSteps-previousSteps</strong> will give an increment of one step to be added to currentSteps.</p>\n<p>In case, the phone reboots, totalSteps value is reset to zero. If that happens(or by any chance, if totalSteps is less than previousSteps), then the previousSteps value will also be set equal to totalSteps for that condition before applying both variables for current steps calculation.</p>\n<pre><code> if (running) {\n\n            totalSteps = event.values[0];\n            loadCurrentStepsData();\n            loadPreviousStepsData();\n            if (totalSteps == 0 || totalSteps&lt;previousSteps) {\n                previousSteps = totalSteps;\n                savePreviousStepsData();\n            }\n            currentSteps = currentSteps + (totalSteps - previousSteps);\n            previousSteps = totalSteps;\n            saveCurrentStepsData();\n            savePreviousStepsData();\n        }\n        tv_stepsTaken.setText(String.valueOf(currentSteps));\n\n</code></pre>\n"}],"owner":{"account_id":23202553,"reputation":26,"user_id":17297169,"display_name":"Sachin Khatri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70720412,"answer_count":1,"score":0,"last_activity_date":1642344921,"creation_date":1641505599,"question_id":70614006,"body_markdown":"I am writing an android app in java which uses Android phone&#39;s Step Counter sensor event values to record walking steps taken by the user.\r\nBasically my java code to display current Steps is as follows:\r\n\r\n```\r\nif (running) {\r\n   totalSteps = event.values[0];\r\n   currentSteps = totalSteps - previousTotalSteps;\r\n   tv_stepsTaken.setText(String.valueOf(currentSteps));\r\n}\r\n```\r\n\r\nI am using SharedPreferences to load, save and reset previousTotalSteps on a daily basis. \r\n\r\nMy problem is that when phone reboots, the **totalSteps** event value from Step Counter Sensor is reset automatically to zero, hence it turns my **currentSteps** value to negative as **previousTotalSteps** value is then being subtracted from zero. Only solution that is coming to my mind is to set previousTotalSteps to zero too. But it will defeat the purpose of recording daily steps. If the user reboots the phone in the middle of the day, then half day&#39;s data will be lost or otherwise turn negative in display. I am also recording this daily steps value to sqlite database as daily history to be shown graphically to user. So, this negative value goes to sqlite databse too and ruins the historical graph. I need suggestions to solve this problem. My reset data code is as follows:\r\n\r\n```\r\npreviousTotalSteps = totalSteps;\r\ntv_stepsTaken.setText(&quot;0&quot;);\r\nsaveStepsData();\r\nreturn true;\r\n```","title":"Restore Step Counter data after phone reboot","body":"<p>I am writing an android app in java which uses Android phone's Step Counter sensor event values to record walking steps taken by the user.\nBasically my java code to display current Steps is as follows:</p>\n<pre><code>if (running) {\n   totalSteps = event.values[0];\n   currentSteps = totalSteps - previousTotalSteps;\n   tv_stepsTaken.setText(String.valueOf(currentSteps));\n}\n</code></pre>\n<p>I am using SharedPreferences to load, save and reset previousTotalSteps on a daily basis.</p>\n<p>My problem is that when phone reboots, the <strong>totalSteps</strong> event value from Step Counter Sensor is reset automatically to zero, hence it turns my <strong>currentSteps</strong> value to negative as <strong>previousTotalSteps</strong> value is then being subtracted from zero. Only solution that is coming to my mind is to set previousTotalSteps to zero too. But it will defeat the purpose of recording daily steps. If the user reboots the phone in the middle of the day, then half day's data will be lost or otherwise turn negative in display. I am also recording this daily steps value to sqlite database as daily history to be shown graphically to user. So, this negative value goes to sqlite databse too and ruins the historical graph. I need suggestions to solve this problem. My reset data code is as follows:</p>\n<pre><code>previousTotalSteps = totalSteps;\ntv_stepsTaken.setText(&quot;0&quot;);\nsaveStepsData();\nreturn true;\n</code></pre>\n"},{"tags":["javascript","java","regex"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1642103111,"post_id":70702221,"comment_id":124989582,"body_markdown":"`if value == &quot;0000-0&quot; : print(&quot;nope&quot;)`","body":"<code>if value == &quot;0000-0&quot; : print(&quot;nope&quot;)</code>"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1642103124,"post_id":70702221,"comment_id":124989585,"body_markdown":"if there is one value to exclude, seems a regex is overkill","body":"if there is one value to exclude, seems a regex is overkill"},{"owner":{"account_id":479759,"reputation":24867,"user_id":892629,"accept_rate":81,"display_name":"Liftoff"},"score":0,"creation_date":1642103260,"post_id":70702221,"comment_id":124989630,"body_markdown":"If there&#39;s more than one value and you&#39;re literally just looking for zeros separated by a single hyphen, `.indexOf(&quot;0-0&quot;) &gt; -1` seems more fitting than a regex as well.","body":"If there&#39;s more than one value and you&#39;re literally just looking for zeros separated by a single hyphen, <code>.indexOf(&quot;0-0&quot;) &gt; -1</code> seems more fitting than a regex as well."},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1642153611,"post_id":70702221,"comment_id":125000458,"body_markdown":"I have been trying with the below format works for few cases but its failed ^(\\d)(?!\\1+$)\\d{8}-(?!\\1+$)\\d{1}$ as part of the response I will give the regex to the caller to validate the data.","body":"I have been trying with the below format works for few cases but its failed ^(\\d)(?!\\1+$)\\d{8}-(?!\\1+$)\\d{1}$ as part of the response I will give the regex to the caller to validate the data."}],"answers":[{"tags":[],"owner":{"account_id":23875762,"reputation":189,"user_id":17876941,"display_name":"Mock Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642344825,"creation_date":1642254681,"answer_id":70722043,"question_id":70702221,"body_markdown":"Using [back references](https://www.regular-expressions.info/backref.html), this problem becomes fairly easy (and thankfully js regex supports this).\r\n\r\nThe regex below matches only the invalid inputs. \r\n\r\n```\r\n^(\\d)\\1+-\\1$\r\n```\r\n\r\n[Regex Demo](https://regex101.com/r/cgykDC/1)\r\n\r\n```\r\n^     - Start of line\r\n(\\d)  - create a capturing group in the first digit (important for the next part to work)\r\n\\1+   - back reference group 1 (\\d+) and match it one or more times\r\n-     - match a hyphen\r\n\\1    - back reference group 1\r\n$     - end of line \r\n```\r\n\r\n\r\nThen for the JS side, if the regex matches you know the input was invalid.\r\n\r\n```\r\nconst inputs = [\r\n&#39;0000-0&#39;,\r\n&#39;0000-1&#39;,\r\n&#39;1111-1&#39;,\r\n&#39;1234-2&#39;\r\n];\r\n\r\nconst regex = /^(\\d)\\1+-\\1$/;\r\n\r\ninputs.forEach(item =&gt; {\r\n if (item.match(regex)) {\r\n \tconsole.log(item + &#39; - INPUT NOT ALLOWED&#39;)\r\n } else {\r\n \tconsole.log(item + &#39; - VALID INPUT&#39;)\r\n } \r\n});\r\n```\r\n\r\n[JS Demo](https://jsfiddle.net/yud6se8r/)\r\n\r\n\r\n\r\n\r\n**EDIT**\r\n\r\nTo handle the new requirements, you can just or the regex to another regex checking the entire length.\r\n\r\n```\r\n^(?:(\\d)\\1+-\\1$|.{7,})\r\n```\r\n\r\n[Demo](https://regex101.com/r/vCX15O/1)\r\n\r\nAnd since it sounds like you&#39;re using Java:\r\n\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        // String to be scanned to find the pattern.\r\n        String[] lines = {\r\n                &quot;0000-0&quot;,\r\n                &quot;0000-1&quot;,\r\n                &quot;1111-1&quot;,\r\n                &quot;1234-2&quot;,\r\n                &quot;1234567-2&quot;,\r\n                &quot;1234-26&quot;\r\n        };\r\n\r\n        String pattern = &quot;^(?:(\\\\d)\\\\1+-\\\\1$|.{7,})&quot;;\r\n        // Create a Pattern object\r\n        Pattern r = Pattern.compile(pattern);\r\n\r\n        for(String line : lines) {\r\n            System.out.print(line);\r\n            Matcher m = r.matcher(line);\r\n            if (m.find()) {\r\n                System.out.println(&quot; - INVALID&quot;);\r\n            }else {\r\n                System.out.println(&quot; - VALID&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n** Output **\r\n\r\n```\r\n0000-0 - INVALID\r\n0000-1 - VALID\r\n1111-1 - INVALID\r\n1234-2 - VALID\r\n1234567-2 - INVALID\r\n1234-26 - INVALID\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n","title":"Regular expression to not allow all same digits separated by hyphen","body":"<p>Using <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">back references</a>, this problem becomes fairly easy (and thankfully js regex supports this).</p>\n<p>The regex below matches only the invalid inputs.</p>\n<pre><code>^(\\d)\\1+-\\1$\n</code></pre>\n<p><a href=\"https://regex101.com/r/cgykDC/1\" rel=\"nofollow noreferrer\">Regex Demo</a></p>\n<pre><code>^     - Start of line\n(\\d)  - create a capturing group in the first digit (important for the next part to work)\n\\1+   - back reference group 1 (\\d+) and match it one or more times\n-     - match a hyphen\n\\1    - back reference group 1\n$     - end of line \n</code></pre>\n<p>Then for the JS side, if the regex matches you know the input was invalid.</p>\n<pre><code>const inputs = [\n'0000-0',\n'0000-1',\n'1111-1',\n'1234-2'\n];\n\nconst regex = /^(\\d)\\1+-\\1$/;\n\ninputs.forEach(item =&gt; {\n if (item.match(regex)) {\n    console.log(item + ' - INPUT NOT ALLOWED')\n } else {\n    console.log(item + ' - VALID INPUT')\n } \n});\n</code></pre>\n<p><a href=\"https://jsfiddle.net/yud6se8r/\" rel=\"nofollow noreferrer\">JS Demo</a></p>\n<p><strong>EDIT</strong></p>\n<p>To handle the new requirements, you can just or the regex to another regex checking the entire length.</p>\n<pre><code>^(?:(\\d)\\1+-\\1$|.{7,})\n</code></pre>\n<p><a href=\"https://regex101.com/r/vCX15O/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>And since it sounds like you're using Java:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        // String to be scanned to find the pattern.\n        String[] lines = {\n                &quot;0000-0&quot;,\n                &quot;0000-1&quot;,\n                &quot;1111-1&quot;,\n                &quot;1234-2&quot;,\n                &quot;1234567-2&quot;,\n                &quot;1234-26&quot;\n        };\n\n        String pattern = &quot;^(?:(\\\\d)\\\\1+-\\\\1$|.{7,})&quot;;\n        // Create a Pattern object\n        Pattern r = Pattern.compile(pattern);\n\n        for(String line : lines) {\n            System.out.print(line);\n            Matcher m = r.matcher(line);\n            if (m.find()) {\n                System.out.println(&quot; - INVALID&quot;);\n            }else {\n                System.out.println(&quot; - VALID&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>** Output **</p>\n<pre><code>0000-0 - INVALID\n0000-1 - VALID\n1111-1 - INVALID\n1234-2 - VALID\n1234567-2 - INVALID\n1234-26 - INVALID\n\nProcess finished with exit code 0\n</code></pre>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1642344825,"creation_date":1642102987,"question_id":70702221,"body_markdown":"Using the following regex:\r\n```none\r\n^(\\d)(?!\\1+$)\\d{3}-\\d{1}$\r\n```\r\nIt works for the pattern but I need to validate all numbers not same even after hyphen (-).\r\n  \r\nExample\r\n\r\n    0000-0 not allowed (because of all are same digits)\r\n    0000-1 allowed\r\n    1111-1 not allowed (because of all are same digits)\r\n    1234-2 allowed\r\n","title":"Regular expression to not allow all same digits separated by hyphen","body":"<p>Using the following regex:</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(\\d)(?!\\1+$)\\d{3}-\\d{1}$\n</code></pre>\n<p>It works for the pattern but I need to validate all numbers not same even after hyphen (-).</p>\n<p>Example</p>\n<pre><code>0000-0 not allowed (because of all are same digits)\n0000-1 allowed\n1111-1 not allowed (because of all are same digits)\n1234-2 allowed\n</code></pre>\n"},{"tags":["java","arrays","string","utf-8"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":7,"creation_date":1641935471,"post_id":70673482,"comment_id":124937329,"body_markdown":"No. Because `String` is immutable. You could perhaps implement `CharSequence` against the `char[]` - e.g. https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html#wrap-char:A-","body":"No. Because <code>String</code> is immutable. You could perhaps implement <code>CharSequence</code> against the <code>char[]</code> - e.g. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html#wrap-char:A-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/nio/&hellip;</a>"},{"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"score":0,"creation_date":1641935671,"post_id":70673482,"comment_id":124937396,"body_markdown":"But the constructor is right there? It&#39;s just not public. Which would mean that it&#39;s only immutable for us but not the JVM I guess.","body":"But the constructor is right there? It&#39;s just not public. Which would mean that it&#39;s only immutable for us but not the JVM I guess."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1641935967,"post_id":70673482,"comment_id":124937493,"body_markdown":"@OsirisTeam Why do you think  that is? It&#39;s &quot;the secret sauce&quot;. I can put that secret sauce on your burger, but I will never tell you how to make it. That&#39;s a package private method. Only members of `java.lang` package are privileged enough to have access to that constructor. Or, you can get the result by calling a public constructor that has access to it internally.","body":"@OsirisTeam Why do you think  that is? It&#39;s &quot;the secret sauce&quot;. I can put that secret sauce on your burger, but I will never tell you how to make it. That&#39;s a package private method. Only members of <code>java.lang</code> package are privileged enough to have access to that constructor. Or, you can get the result by calling a public constructor that has access to it internally."},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":1,"creation_date":1641936092,"post_id":70673482,"comment_id":124937525,"body_markdown":"Also worth noting that String changes significantly in Java 9 for &quot;compact strings&quot;. It now uses byte[] instead of char[] internally. My point is if you crack out the secret sauce you&#39;ll be building in problems for the future.","body":"Also worth noting that String changes significantly in Java 9 for &quot;compact strings&quot;. It now uses byte[] instead of char[] internally. My point is if you crack out the secret sauce you&#39;ll be building in problems for the future."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1641936109,"post_id":70673482,"comment_id":124937529,"body_markdown":"If you explain your situation fully, a proper solution can be suggested. No use getting hung up on a constructor that&#39;s not meant for you to use. How are you getting data, what are you using it for (i.e. do you need it as a `String` instead of for example a streaming solution).","body":"If you explain your situation fully, a proper solution can be suggested. No use getting hung up on a constructor that&#39;s not meant for you to use. How are you getting data, what are you using it for (i.e. do you need it as a <code>String</code> instead of for example a streaming solution)."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1641936450,"post_id":70673482,"comment_id":124937651,"body_markdown":"String is immutable, if this constructor were made public, you can make mutable strings, which goes against the whole idea. Actually you could use reflection to invoke the constructor, but because of the reason mentioned above, that&#39;s a very bad idea.","body":"String is immutable, if this constructor were made public, you can make mutable strings, which goes against the whole idea. Actually you could use reflection to invoke the constructor, but because of the reason mentioned above, that&#39;s a very bad idea."},{"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"score":0,"creation_date":1641936476,"post_id":70673482,"comment_id":124937654,"body_markdown":"How about creating a modified version of the JDK/JVM where that constructor is public lol.","body":"How about creating a modified version of the JDK/JVM where that constructor is public lol."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1641944643,"post_id":70673482,"comment_id":124939689,"body_markdown":"You may want to use [CharBuffer.wrap](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/CharBuffer.html#wrap(char%5B%5D)), which will not copy the array.  And CharBuffer implements CharSequence, so you can use it in a number of places where String can be used.","body":"You may want to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/CharBuffer.html#wrap(char%5B%5D)\" rel=\"nofollow noreferrer\">CharBuffer.wrap</a>, which will not copy the array.  And CharBuffer implements CharSequence, so you can use it in a number of places where String can be used."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1641977882,"post_id":70673482,"comment_id":124946656,"body_markdown":"What performance metrics have you taken which pinpoint this particular String constructor as your issue? It would be surprising if a change here made bigger difference than say more careful use of List, Map, database or file operations.","body":"What performance metrics have you taken which pinpoint this particular String constructor as your issue? It would be surprising if a change here made bigger difference than say more careful use of List, Map, database or file operations."},{"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"score":0,"creation_date":1642077754,"post_id":70673482,"comment_id":124979032,"body_markdown":"Since you all were so curious about the context, I just added the context to the question.","body":"Since you all were so curious about the context, I just added the context to the question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1642078023,"post_id":70673482,"comment_id":124979156,"body_markdown":"Please **DON&#39;T** show us screen shots of your code.  Copy and paste the code into the question **as text**.","body":"Please <b>DON&#39;T</b> show us screen shots of your code.  Copy and paste the code into the question <b>as text</b>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1642078942,"post_id":70673482,"comment_id":124979559,"body_markdown":"If performance is so important and you can actually proof that the copying hurts you, then maybe don&#39;t create `String` objects unless you absolutely need to. You can work with raw `char[]`, a `CharBuffer` (as mentioned  before) or use some other `CharSequence` that doesn&#39;t provide immutability but also doesn&#39;t require copying. Then you only create `String` objects when you absolutely need to (for example to return it from a method call to client code). Also: what Stephen said: [Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"If performance is so important and you can actually proof that the copying hurts you, then maybe don&#39;t create <code>String</code> objects unless you absolutely need to. You can work with raw <code>char[]</code>, a <code>CharBuffer</code> (as mentioned  before) or use some other <code>CharSequence</code> that doesn&#39;t provide immutability but also doesn&#39;t require copying. Then you only create <code>String</code> objects when you absolutely need to (for example to return it from a method call to client code). Also: what Stephen said: <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1642079052,"post_id":70673482,"comment_id":124979605,"body_markdown":"Regarding the &quot;modified JVM&quot;: you *could* probably do that but a.) it&#39;s probably not easy, you need a good understanding of at least some JVM internals, b.) it&#39;s likely to make upgrading to another JVM version exponentially harder and c.) at that point you&#39;re not really writing &quot;Java code&quot; any more, if your code doesn&#39;t run on a standard JVM with all the disadvantages that has (for example new developers on your team will have a much steeper learning curve).","body":"Regarding the &quot;modified JVM&quot;: you <i>could</i> probably do that but a.) it&#39;s probably not easy, you need a good understanding of at least some JVM internals, b.) it&#39;s likely to make upgrading to another JVM version exponentially harder and c.) at that point you&#39;re not really writing &quot;Java code&quot; any more, if your code doesn&#39;t run on a standard JVM with all the disadvantages that has (for example new developers on your team will have a much steeper learning curve)."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1642229712,"post_id":70673482,"comment_id":125020240,"body_markdown":"You are claiming that _&quot;every hundredth of a millisecond is important&quot;_, yet you also make clear that your code is still a work in progress! You are wasting time by looking at this issue now, without even knowing that it is going to cause a problem. Focus on getting your code past the WIP stage first. I also find it odd that you are being very shy about sharing any metrics you have for `String` creation - show us how expensive you think it is.","body":"You are claiming that <i>&quot;every hundredth of a millisecond is important&quot;</i>, yet you also make clear that your code is still a work in progress! You are wasting time by looking at this issue now, without even knowing that it is going to cause a problem. Focus on getting your code past the WIP stage first. I also find it odd that you are being very shy about sharing any metrics you have for <code>String</code> creation - show us how expensive you think it is."},{"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"score":0,"creation_date":1642248069,"post_id":70673482,"comment_id":125023220,"body_markdown":"@skomisa it just seems logical to me that creating a string by copying the array first is more performance demanding than creating a string without copying the array first","body":"@skomisa it just seems logical to me that creating a string by copying the array first is more performance demanding than creating a string without copying the array first"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1642248503,"post_id":70673482,"comment_id":125023282,"body_markdown":"Your code contains `new BufferedReader` which is more likely performance cause. By the way you also double copy char arrays when making strings - `new String(Arrays.copyOfRange(line, indexStart, lineIndex))` should be `new String(line, indexStart, lineIndex-indexStart)`, and create a lot of mostly unnecessary SmartString wrappers per string but I doubt fixing these would be noticable even though it cuts down on memory used.","body":"Your code contains <code>new BufferedReader</code> which is more likely performance cause. By the way you also double copy char arrays when making strings - <code>new String(Arrays.copyOfRange(line, indexStart, lineIndex))</code> should be <code>new String(line, indexStart, lineIndex-indexStart)</code>, and create a lot of mostly unnecessary SmartString wrappers per string but I doubt fixing these would be noticable even though it cuts down on memory used."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1642248884,"post_id":70673482,"comment_id":125023363,"body_markdown":"I meant file IO in place of `new BufferedReader` above","body":"I meant file IO in place of <code>new BufferedReader</code> above"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1642260155,"post_id":70673482,"comment_id":125025842,"body_markdown":"@OsirisTeam In the absence of any metrics to demonstrate that you actually have a real world problem, your question is off topic on SO for two reasons: [1] _&quot;there is no actual problem to be solved...&quot;_ [2] _&quot;you are asking an open-ended, hypothetical question...&quot;_. Please see [What types of questions should I avoid asking?](https://stackoverflow.com/help/dont-ask) and [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) for more information.","body":"@OsirisTeam In the absence of any metrics to demonstrate that you actually have a real world problem, your question is off topic on SO for two reasons: [1] <i>&quot;there is no actual problem to be solved...&quot;</i> [2] <i>&quot;you are asking an open-ended, hypothetical question...&quot;</i>. Please see <a href=\"https://stackoverflow.com/help/dont-ask\">What types of questions should I avoid asking?</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> for more information."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1642260406,"post_id":70673482,"comment_id":125025900,"body_markdown":"I’m voting to close this question because _&quot;there is no actual problem to be solved...&quot;_.","body":"I’m voting to close this question because <i>&quot;there is no actual problem to be solved...&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642344730,"creation_date":1642344730,"answer_id":70731193,"question_id":70673482,"body_markdown":"Simply put the answer is no, which is a bummer.\r\n\r\nThere are however some workarounds that are **not** reasonable:\r\n- Make the private String constructor public via Javas reflection API\r\n- Create a custom JVM distro with the private constructor changed to public\r\n\r\nMore reasonable alternatives would be:\r\n- Working directly with the char[]\r\n- Using a CharSequence or CharBuffer instead\r\n\r\nThanks for all the help in the comments.","title":"Impossible to create String from char[] without copying it?","body":"<p>Simply put the answer is no, which is a bummer.</p>\n<p>There are however some workarounds that are <strong>not</strong> reasonable:</p>\n<ul>\n<li>Make the private String constructor public via Javas reflection API</li>\n<li>Create a custom JVM distro with the private constructor changed to public</li>\n</ul>\n<p>More reasonable alternatives would be:</p>\n<ul>\n<li>Working directly with the char[]</li>\n<li>Using a CharSequence or CharBuffer instead</li>\n</ul>\n<p>Thanks for all the help in the comments.</p>\n"}],"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":70731193,"answer_count":1,"score":-1,"last_activity_date":1642344730,"creation_date":1641935380,"question_id":70673482,"body_markdown":"Is there a way of creating a String from a char[] without copying it?\r\n\r\nAs you can see from the screenshots below (taken from the String class in JDK 1.8):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe constructor with which this would be possible is private and not accessible. Any workarounds maybe? Since I need the performance increase of not copying the char[].\r\n\r\nFor context: I am working on a YAML/DYML parser, where every hundredth of a millisecond is important. Here is the code (its WIP): https://github.com/Osiris-Team/Dream-Yaml/blob/main/src/main/java/com/osiris/dyml/DYReaderV2.java\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9P4F9.png\r\n  [2]: https://i.stack.imgur.com/OZyGy.png","title":"Impossible to create String from char[] without copying it?","body":"<p>Is there a way of creating a String from a char[] without copying it?</p>\n<p>As you can see from the screenshots below (taken from the String class in JDK 1.8):</p>\n<p><a href=\"https://i.stack.imgur.com/9P4F9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9P4F9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OZyGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OZyGy.png\" alt=\"enter image description here\" /></a></p>\n<p>The constructor with which this would be possible is private and not accessible. Any workarounds maybe? Since I need the performance increase of not copying the char[].</p>\n<p>For context: I am working on a YAML/DYML parser, where every hundredth of a millisecond is important. Here is the code (its WIP): <a href=\"https://github.com/Osiris-Team/Dream-Yaml/blob/main/src/main/java/com/osiris/dyml/DYReaderV2.java\" rel=\"nofollow noreferrer\">https://github.com/Osiris-Team/Dream-Yaml/blob/main/src/main/java/com/osiris/dyml/DYReaderV2.java</a></p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1403531335,"post_id":24367572,"comment_id":37681292,"body_markdown":"May [this](http://gal-levinsky.blogspot.de/2012/06/spring-data-jpa-limit-query-size.html) help.","body":"May <a href=\"http://gal-levinsky.blogspot.de/2012/06/spring-data-jpa-limit-query-size.html\" rel=\"nofollow noreferrer\">this</a> help."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1403531412,"post_id":24367572,"comment_id":37681349,"body_markdown":"Ok that at least works, though I though I could somehow use `LIMIT` keyword directly in the sql statement...","body":"Ok that at least works, though I though I could somehow use <code>LIMIT</code> keyword directly in the sql statement..."},{"owner":{"account_id":38769,"reputation":5488,"user_id":111489,"accept_rate":85,"display_name":"rangalo"},"score":1,"creation_date":1403531496,"post_id":24367572,"comment_id":37681405,"body_markdown":"I think LIMIT is highly vendor specific. With JPA you could do q.setMaxResults(limitVal)","body":"I think LIMIT is highly vendor specific. With JPA you could do q.setMaxResults(limitVal)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1403633591,"post_id":24367572,"comment_id":37730115,"body_markdown":"@membersound You aren&#39;t writing SQL you are writing HQL. Very different things. If it would be a SQL query it would work, it doesn&#39;t work in HQL.","body":"@membersound You aren&#39;t writing SQL you are writing HQL. Very different things. If it would be a SQL query it would work, it doesn&#39;t work in HQL."},{"owner":{"account_id":8857535,"reputation":470,"user_id":6614803,"display_name":"Keegs"},"score":1,"creation_date":1598455566,"post_id":24367572,"comment_id":112466405,"body_markdown":"You may find your solution here: https://stackoverflow.com/questions/36255394/jpa-native-query-get-a-single-object [https://stackoverflow.com/a/63600700/6614803](https://stackoverflow.com/a/63600700/6614803)","body":"You may find your solution here: <a href=\"https://stackoverflow.com/questions/36255394/jpa-native-query-get-a-single-object\" title=\"jpa native query get a single object\">stackoverflow.com/questions/36255394/&hellip;</a> <a href=\"https://stackoverflow.com/a/63600700/6614803\">https://stackoverflow.com/a/63600700/6614803</a>"}],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1539531213,"creation_date":1403643172,"answer_id":24396062,"question_id":24367572,"body_markdown":"`LIMIT` is not part of JPQL. The mechanism available in current release version (1.6.0.RELEASE as of the time of writing) is pagination:\r\n\r\n    interface PersonRepository extends Repository&lt;Person, Long&gt; {\r\n\r\n      @Query(&quot;...&quot;)\r\n      List&lt;Person&gt; findLimited(..., Pageable pageable);\r\n    }\r\n\r\nThis can then be used as follows:\r\n\r\n    repository.findLimited(..., new PageRequest(0, 10));\r\n\r\nThis will return the first ten results of the query defined in the `@Query` annotation.\r\n\r\nThe current master branch of Spring Data JPA already contains a new feature that would allow you to rewrite above query as follows:\r\n\r\n    interface PersonRepository extends Repository&lt;Person, Long&gt; {\r\n\r\n      List&lt;Person&gt; findTop3ByCompanyOrderByName(Company company);\r\n    }\r\n\r\nAs of version 1.7.0.M1 (feature [already available][1] in [snapshots][2]) the query derivation mechanism will understand `Top` and `First` in the subject clause To limit the number of results returned.\r\n\r\n**Update**\r\nas `new PageRequest` deprecated you need to use`PageRequest.of(0, 10)` instead\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-jpa/commit/43d035fe545e8ec1f82b5b3cafeca819423feeec\r\n  [2]: http://repo.spring.io/libs-snapshot/org/springframework/data/spring-data-jpa/1.7.0.BUILD-SNAPSHOT/","title":"How to use LIMIT in spring within sql query?","body":"<p><code>LIMIT</code> is not part of JPQL. The mechanism available in current release version (1.6.0.RELEASE as of the time of writing) is pagination:</p>\n\n<pre><code>interface PersonRepository extends Repository&lt;Person, Long&gt; {\n\n  @Query(\"...\")\n  List&lt;Person&gt; findLimited(..., Pageable pageable);\n}\n</code></pre>\n\n<p>This can then be used as follows:</p>\n\n<pre><code>repository.findLimited(..., new PageRequest(0, 10));\n</code></pre>\n\n<p>This will return the first ten results of the query defined in the <code>@Query</code> annotation.</p>\n\n<p>The current master branch of Spring Data JPA already contains a new feature that would allow you to rewrite above query as follows:</p>\n\n<pre><code>interface PersonRepository extends Repository&lt;Person, Long&gt; {\n\n  List&lt;Person&gt; findTop3ByCompanyOrderByName(Company company);\n}\n</code></pre>\n\n<p>As of version 1.7.0.M1 (feature <a href=\"https://github.com/spring-projects/spring-data-jpa/commit/43d035fe545e8ec1f82b5b3cafeca819423feeec\" rel=\"noreferrer\">already available</a> in <a href=\"http://repo.spring.io/libs-snapshot/org/springframework/data/spring-data-jpa/1.7.0.BUILD-SNAPSHOT/\" rel=\"noreferrer\">snapshots</a>) the query derivation mechanism will understand <code>Top</code> and <code>First</code> in the subject clause To limit the number of results returned.</p>\n\n<p><strong>Update</strong>\nas <code>new PageRequest</code> deprecated you need to use<code>PageRequest.of(0, 10)</code> instead</p>\n"},{"tags":[],"owner":{"account_id":10536166,"reputation":261,"user_id":7763988,"display_name":"Augusto Peres"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574024119,"creation_date":1574024119,"answer_id":58905113,"question_id":24367572,"body_markdown":"An alternative is to use HQL instead of the Spring-data-jpa and then use `setMaxResults()`.\r\n\r\nFor example:\r\n```\r\nSessionFactory sessionFactory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\r\nSession session = sessionFactory.openSession();\r\nsession.beginTransaction();\r\n\r\nQuery query = session.createQuery(&quot;FROM Person WHERE company.id = :id ORDER BY name DESC&quot;);\r\nquery.setParameter(&quot;id&quot;, id);\r\nquery.setMaxResults(3); // this replaces the LIMIT in the query\r\nList&lt;Person&gt; personList = query.getResultList();\r\n\r\nsession.getTransaction().commit();\r\nsession.close();\r\n```","title":"How to use LIMIT in spring within sql query?","body":"<p>An alternative is to use HQL instead of the Spring-data-jpa and then use <code>setMaxResults()</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>SessionFactory sessionFactory = new Configuration().configure(\"hibernate.cfg.xml\").buildSessionFactory();\nSession session = sessionFactory.openSession();\nsession.beginTransaction();\n\nQuery query = session.createQuery(\"FROM Person WHERE company.id = :id ORDER BY name DESC\");\nquery.setParameter(\"id\", id);\nquery.setMaxResults(3); // this replaces the LIMIT in the query\nList&lt;Person&gt; personList = query.getResultList();\n\nsession.getTransaction().commit();\nsession.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6093438,"reputation":493,"user_id":4755024,"display_name":"Sofiane"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1642344526,"creation_date":1580396358,"answer_id":59988808,"question_id":24367572,"body_markdown":"My response is perhaps very late, but if I can help anyone else, you can use the nativeQuery like this :\r\n\r\n    @Query(value=&quot;SELECT * from person p WHERE p.company_id = :id ORDER BY p.name DESC LIMIT 3&quot;, nativeQuery = true)","title":"How to use LIMIT in spring within sql query?","body":"<p>My response is perhaps very late, but if I can help anyone else, you can use the nativeQuery like this :</p>\n<pre><code>@Query(value=&quot;SELECT * from person p WHERE p.company_id = :id ORDER BY p.name DESC LIMIT 3&quot;, nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36380,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":24396062,"answer_count":3,"score":34,"last_activity_date":1642344526,"creation_date":1403531038,"question_id":24367572,"body_markdown":"Somehow I cannot use the `LIMIT` qualifier within a sql query using `Spring-data-jpa`:\r\n\r\n    @Query(&quot;SELECT p from Person p WHERE p.company.id = :id ORDER BY p.name DESC LIMIT 3&quot;)\r\n\r\nWhat is wrong here?\r\n\r\n    Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: Limit near line 1, column 146\r\n    \tat org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:91)\r\n    \tat org.hibernate.hql.internal.ast.ErrorCounter.throwQueryException(ErrorCounter.java:109)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:304)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:203)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:158)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:126)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:88)\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:190)\r\n    \tat org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:301)\r\n    \tat org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\r\n    \tat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1800)\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:328)\r\n    \t... 48 more\r\n\r\n","title":"How to use LIMIT in spring within sql query?","body":"<p>Somehow I cannot use the <code>LIMIT</code> qualifier within a sql query using <code>Spring-data-jpa</code>:</p>\n\n<pre><code>@Query(\"SELECT p from Person p WHERE p.company.id = :id ORDER BY p.name DESC LIMIT 3\")\n</code></pre>\n\n<p>What is wrong here?</p>\n\n<pre><code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: Limit near line 1, column 146\n    at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:91)\n    at org.hibernate.hql.internal.ast.ErrorCounter.throwQueryException(ErrorCounter.java:109)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:304)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:203)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:158)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:126)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:88)\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:190)\n    at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:301)\n    at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\n    at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1800)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:328)\n    ... 48 more\n</code></pre>\n"},{"tags":["java","loops","while-loop","do-while"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":4,"creation_date":1384768750,"post_id":20044845,"comment_id":29853400,"body_markdown":"The difference is *when* the condition check occurs, of course. In a do-while, the body is always executed *at least once*. Otherwise, there really is nothing to say.","body":"The difference is <i>when</i> the condition check occurs, of course. In a do-while, the body is always executed <i>at least once</i>. Otherwise, there really is nothing to say."},{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":3,"creation_date":1384768793,"post_id":20044845,"comment_id":29853420,"body_markdown":"`while` is an *entry check loop*, whereas `do-while` is an *exit-check loop*. And **NO**, what you mentioned is not the right way to interchange the loop, while having the functionality intact.","body":"<code>while</code> is an <i>entry check loop</i>, whereas <code>do-while</code> is an <i>exit-check loop</i>. And <b>NO</b>, what you mentioned is not the right way to interchange the loop, while having the functionality intact."},{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":1,"creation_date":1384768822,"post_id":20044845,"comment_id":29853439,"body_markdown":"dont compare by execution , compare by definition first , then you&#39;ll know where to expect the change","body":"dont compare by execution , compare by definition first , then you&#39;ll know where to expect the change"},{"owner":{"account_id":3600130,"reputation":385,"user_id":3003605,"accept_rate":75,"display_name":"user3003605"},"score":0,"creation_date":1384769667,"post_id":20044845,"comment_id":29853889,"body_markdown":"Thank you for explaining this so quickly guys, much appreciated.","body":"Thank you for explaining this so quickly guys, much appreciated."}],"answers":[{"tags":[],"owner":{"account_id":1994800,"reputation":18059,"user_id":1787973,"accept_rate":65,"display_name":"Maxime Ch&#233;ramy"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1384770306,"creation_date":1384768784,"answer_id":20044890,"question_id":20044845,"body_markdown":"The difference between a `do-while` and a `while` is **when** the comparison is done. With a `do-while`, you&#39;ll compare at the end and hence do at least one iteration.\r\n\r\n### Equivalent code for your example\r\n\r\n    do\r\n    { \r\n        i++; \r\n        ++j;\r\n        System.out.println( i * j );\r\n    \r\n    }\r\n    while ((i &lt; 10) &amp;&amp; (j*j != 25));\r\n\r\nis equivalent to:\r\n\r\n    i++; \r\n    ++j;\r\n    System.out.println( i * j );\r\n    while ((i &lt; 10) &amp;&amp; (j*j != 25)) {\r\n        i++; \r\n        ++j;\r\n        System.out.println( i * j );\r\n    }\r\n\r\n### General comprehension\r\n\r\nA `do-while` loop is an *exit controlled loop* which means that it exits at the end. A `while` loop is an *entry controlled loop* which means that the condition is tested at the beginning and as a consequence, the code inside the loop might not even be executed.\r\n\r\n    do {\r\n        &lt;block&gt;\r\n    } while (&lt;condition&gt;);\r\n\r\nis equivalent to:\r\n\r\n    &lt;block&gt;\r\n    while (&lt;condition&gt;) {\r\n        &lt;block&gt;\r\n    };\r\n\r\n### Use case\r\n\r\nA typical use case for a `do-while` is the following: you ask the user something and you want do repeat the operation while the input is not correct.\r\n\r\n    do {\r\n       // Ask something\r\n    } while (input is not correct);\r\n\r\nIn that case, you want to ask at least once and it&#39;s usually more elegant than using a `while` which would require either to duplicate code, or to add an extra condition or setting an arbitrary value to force entering the loop the first time.\r\n\r\nAt the opposite, `while` loops are much more commons and can easily replace a `do-while` (not all languages have both loops).","title":"do-while and while comparison","body":"<p>The difference between a <code>do-while</code> and a <code>while</code> is <strong>when</strong> the comparison is done. With a <code>do-while</code>, you'll compare at the end and hence do at least one iteration.</p>\n\n<h3>Equivalent code for your example</h3>\n\n<pre><code>do\n{ \n    i++; \n    ++j;\n    System.out.println( i * j );\n\n}\nwhile ((i &lt; 10) &amp;&amp; (j*j != 25));\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>i++; \n++j;\nSystem.out.println( i * j );\nwhile ((i &lt; 10) &amp;&amp; (j*j != 25)) {\n    i++; \n    ++j;\n    System.out.println( i * j );\n}\n</code></pre>\n\n<h3>General comprehension</h3>\n\n<p>A <code>do-while</code> loop is an <em>exit controlled loop</em> which means that it exits at the end. A <code>while</code> loop is an <em>entry controlled loop</em> which means that the condition is tested at the beginning and as a consequence, the code inside the loop might not even be executed.</p>\n\n<pre><code>do {\n    &lt;block&gt;\n} while (&lt;condition&gt;);\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>&lt;block&gt;\nwhile (&lt;condition&gt;) {\n    &lt;block&gt;\n};\n</code></pre>\n\n<h3>Use case</h3>\n\n<p>A typical use case for a <code>do-while</code> is the following: you ask the user something and you want do repeat the operation while the input is not correct.</p>\n\n<pre><code>do {\n   // Ask something\n} while (input is not correct);\n</code></pre>\n\n<p>In that case, you want to ask at least once and it's usually more elegant than using a <code>while</code> which would require either to duplicate code, or to add an extra condition or setting an arbitrary value to force entering the loop the first time.</p>\n\n<p>At the opposite, <code>while</code> loops are much more commons and can easily replace a <code>do-while</code> (not all languages have both loops).</p>\n"},{"tags":[],"owner":{"account_id":3481005,"reputation":3302,"user_id":2913064,"display_name":"kviiri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384768884,"creation_date":1384768884,"answer_id":20044926,"question_id":20044845,"body_markdown":"No, the two codes are not equivalent. `do-while` only checks the condition at the end of the loop so `i++`, `++j` and `System.out.println(i * j)` happen at least once regardless of the initial values of `i` and `j`. `while` skips the entire loop if the condition isn&#39;t `true` for the first time the loop is entered.\r\n\r\nYou can achieve the same effect with `while` by copying the loop&#39;s body once before the loop, for instance.","title":"do-while and while comparison","body":"<p>No, the two codes are not equivalent. <code>do-while</code> only checks the condition at the end of the loop so <code>i++</code>, <code>++j</code> and <code>System.out.println(i * j)</code> happen at least once regardless of the initial values of <code>i</code> and <code>j</code>. <code>while</code> skips the entire loop if the condition isn't <code>true</code> for the first time the loop is entered.</p>\n\n<p>You can achieve the same effect with <code>while</code> by copying the loop's body once before the loop, for instance.</p>\n"},{"tags":[],"owner":{"account_id":3410595,"reputation":647,"user_id":2860598,"accept_rate":100,"display_name":"Peter_James"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384768970,"creation_date":1384768970,"answer_id":20044961,"question_id":20044845,"body_markdown":"**The key difference between `do-while` and `while`, with `do-while` you are guaranteed at least one run of your code before the checks.**\r\n\r\n**It does not need to get anymore complicated than that.*","title":"do-while and while comparison","body":"<p><strong>The key difference between <code>do-while</code> and <code>while</code>, with <code>do-while</code> you are guaranteed at least one run of your code before the checks.</strong></p>\n\n<p>*<em>It does not need to get anymore complicated than that.</em></p>\n"},{"tags":[],"owner":{"account_id":10439160,"reputation":162,"user_id":7696418,"accept_rate":50,"display_name":"ViceroyFaust"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502151168,"creation_date":1502135886,"answer_id":45554771,"question_id":20044845,"body_markdown":"Do-While loops are pretty useful for cases like these, where you ask the user a question, and the user has to answer it for the program to terminate.\r\nFor example, this code:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DoWhile {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint answer;\r\n    \t\tdo {\r\n    \t\t\tSystem.out.println(&quot;What is 5+5?&quot;);\r\n    \t\t\tScanner scan = new Scanner(System.in);\r\n    \t\t\tanswer = scan.nextInt();\r\n    \t\t} while (answer != 10);\r\n    \t}\r\n    }\r\n\r\n","title":"do-while and while comparison","body":"<p>Do-While loops are pretty useful for cases like these, where you ask the user a question, and the user has to answer it for the program to terminate.\nFor example, this code:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class DoWhile {\n\n    public static void main(String[] args) {\n        int answer;\n        do {\n            System.out.println(\"What is 5+5?\");\n            Scanner scan = new Scanner(System.in);\n            answer = scan.nextInt();\n        } while (answer != 10);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3600130,"reputation":385,"user_id":3003605,"accept_rate":75,"display_name":"user3003605"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16421,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":20044890,"answer_count":4,"score":6,"last_activity_date":1642343067,"creation_date":1384768672,"question_id":20044845,"body_markdown":"do-while:\r\n\r\n    do\r\n    { \r\n        i++; \r\n        ++j;\r\n        System.out.println( i * j );\r\n\r\n    }\r\n    while ((i &lt; 10) &amp;&amp; (j*j != 25));\r\n\r\nI am learning about do-while vs while at the moment and would like to rewrite the above java fragment (already declared and initialized) using a while instead. Are the below rewritten codes correct way to do so:\r\n\r\nwhile:\r\n\r\n    while ((i &lt; 10) &amp;&amp; (j*j != 25))\r\n    {\r\n        i++;  \r\n        ++j;\r\n        System.out.println( i * j );\r\n    }\r\n","title":"do-while and while comparison","body":"<p>do-while:</p>\n<pre><code>do\n{ \n    i++; \n    ++j;\n    System.out.println( i * j );\n\n}\nwhile ((i &lt; 10) &amp;&amp; (j*j != 25));\n</code></pre>\n<p>I am learning about do-while vs while at the moment and would like to rewrite the above java fragment (already declared and initialized) using a while instead. Are the below rewritten codes correct way to do so:</p>\n<p>while:</p>\n<pre><code>while ((i &lt; 10) &amp;&amp; (j*j != 25))\n{\n    i++;  \n    ++j;\n    System.out.println( i * j );\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642317180,"creation_date":1642317180,"answer_id":70728057,"question_id":70728002,"body_markdown":"Do you have a good guess?  There&#39;s not one standard file header that every format uses.  Some (like .txt) have no header.  The others all have their own custom header.  Sometimes even the header isn&#39;t enough-  there&#39;s multiple subheaders for different types of .wav and .bmp files.  If you have a guess you can test that guess out using whatever header that format has, but if you don&#39;t even have a guess you&#39;re not going to get anywhere.\r\n\r\nThe header of a file isn&#39;t metadata, it&#39;s just (usually) the first N bytes of the file.","title":"How to Get Raw File extension from Header in Kotlin","body":"<p>Do you have a good guess?  There's not one standard file header that every format uses.  Some (like .txt) have no header.  The others all have their own custom header.  Sometimes even the header isn't enough-  there's multiple subheaders for different types of .wav and .bmp files.  If you have a guess you can test that guess out using whatever header that format has, but if you don't even have a guess you're not going to get anywhere.</p>\n<p>The header of a file isn't metadata, it's just (usually) the first N bytes of the file.</p>\n"},{"tags":[],"owner":{"account_id":4543843,"reputation":789,"user_id":3690982,"display_name":"Katana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642342649,"creation_date":1642342649,"answer_id":70730910,"question_id":70728002,"body_markdown":"Usage:\r\n\r\n    GetFileHeader.isPDF(filename)\r\n\r\nGetFileHeader Class written in java but you can use it in kotlin \r\n \r\n    public class GetFileHeader {\r\n        private static final int PDF_MAGIC[] = new int[] { 0x25, 0x50, 0x44, 0x46};\r\n        private static final int DOC1_MAGIC[] = new int[] { 0xd0, 0xcf, 0x11, 0xe0, 0xa1, 0xb1, 0x1a, 0xe1};\r\n        private static final int DOC2_MAGIC[] = new int[] { 0x0d, 0x44, 0x4f, 0x43};\r\n        private static final int DOC3_MAGIC[] = new int[] { 0xcf, 0x11, 0xe0, 0xa1, 0xb1,0x1a, 0xe1, 0x00};\r\n        private static final int DOC4_MAGIC[] = new int[] { 0xdb, 0xa5, 0x2d, 0x00};\r\n        private static final int DOC5_MAGIC[] = new int[] { 0xec, 0xa5, 0xc1, 0x00};\r\n        private static final int DOCX1_MAGIC[] = new int[] { 0x50, 0x4b, 0x03, 0x04};\r\n        private static final int DOCX2_MAGIC[] = new int[] { 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x06, 0x00};\r\n    \r\n        public static boolean isPDF(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; PDF_MAGIC.length; ++i) {\r\n                    if(ins.read() != PDF_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc1(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC1_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC1_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc2(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC2_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC2_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc3(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC3_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC3_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc4(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC4_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC4_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc5(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC5_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC5_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDocX1(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOCX1_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOCX1_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDocX2(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOCX2_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOCX2_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n","title":"How to Get Raw File extension from Header in Kotlin","body":"<p>Usage:</p>\n<pre><code>GetFileHeader.isPDF(filename)\n</code></pre>\n<p>GetFileHeader Class written in java but you can use it in kotlin</p>\n<pre><code>public class GetFileHeader {\n    private static final int PDF_MAGIC[] = new int[] { 0x25, 0x50, 0x44, 0x46};\n    private static final int DOC1_MAGIC[] = new int[] { 0xd0, 0xcf, 0x11, 0xe0, 0xa1, 0xb1, 0x1a, 0xe1};\n    private static final int DOC2_MAGIC[] = new int[] { 0x0d, 0x44, 0x4f, 0x43};\n    private static final int DOC3_MAGIC[] = new int[] { 0xcf, 0x11, 0xe0, 0xa1, 0xb1,0x1a, 0xe1, 0x00};\n    private static final int DOC4_MAGIC[] = new int[] { 0xdb, 0xa5, 0x2d, 0x00};\n    private static final int DOC5_MAGIC[] = new int[] { 0xec, 0xa5, 0xc1, 0x00};\n    private static final int DOCX1_MAGIC[] = new int[] { 0x50, 0x4b, 0x03, 0x04};\n    private static final int DOCX2_MAGIC[] = new int[] { 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x06, 0x00};\n\n    public static boolean isPDF(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; PDF_MAGIC.length; ++i) {\n                if(ins.read() != PDF_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc1(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC1_MAGIC.length; ++i) {\n                if(ins.read() != DOC1_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc2(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC2_MAGIC.length; ++i) {\n                if(ins.read() != DOC2_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc3(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC3_MAGIC.length; ++i) {\n                if(ins.read() != DOC3_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc4(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC4_MAGIC.length; ++i) {\n                if(ins.read() != DOC4_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc5(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC5_MAGIC.length; ++i) {\n                if(ins.read() != DOC5_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDocX1(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOCX1_MAGIC.length; ++i) {\n                if(ins.read() != DOCX1_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDocX2(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOCX2_MAGIC.length; ++i) {\n                if(ins.read() != DOCX2_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22239655,"reputation":157,"user_id":16474396,"display_name":"karma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70730910,"answer_count":2,"score":-1,"last_activity_date":1642342649,"creation_date":1642316450,"question_id":70728002,"body_markdown":"I have a file that extension is unknown.\r\nIs there a way to find the type of extension through the file header?","title":"How to Get Raw File extension from Header in Kotlin","body":"<p>I have a file that extension is unknown.\nIs there a way to find the type of extension through the file header?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8316,"page":1676,"page_size":100}
