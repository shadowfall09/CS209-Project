{"items":[{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":16618686,"reputation":195,"user_id":12009648,"display_name":"BadJuju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1601986189,"creation_date":1601983430,"answer_id":64224785,"question_id":64206786,"body_markdown":"I have solved this!\r\n\r\n**IDEA**\r\n\r\nHibernate will take care of the sql statement and mapping to entity list value when using @ElementCollection. That’s comfortable to use but we have a trade off.\r\nThe more parent results we have, the worse performance we got. If we have 10k records parent, Hibernate will do selecting 10k times to fetch its children relation.\r\n\r\n\r\nInstead of loading children for every single parent. Create native query to load everything.\r\n\r\nwe got the results like this:\r\n```\r\nPARENT_ID    CHILD_ID\r\n1            1\r\n1            2\r\n1            3\r\n2            1\r\n2            2\r\n3            3 \r\n```\r\n\r\n\r\n\r\nthen implementing Hibernate transformer to convert these raw database objects to DTO. \r\n\r\n**Code example.**\r\n\r\nCreate DTO\r\n\r\n```\r\npublic class ADto {\r\n   private long id;\r\n   private Collection&lt;BDto&gt; bList = new HashSet&lt;&gt;();\r\n   \r\n   // Constructor\r\n\r\n   public void addChildren(BDto b) {\r\n       bList.add(b);\r\n   }\r\n\r\n   //equals and hascode\r\n}\r\n\r\npublic class BDto {\r\n   private long id;\r\n   \r\n   // Constructor\r\n   \r\n   //equals and hascode\r\n}\r\n```\r\nAnd transformer\r\n```\r\npublic class CustomTransformer extends AliasedTupleSubsetResultTransformer {\r\n\r\n     private final Map&lt;Long, ADto&gt; result = new HashMap&lt;&gt;();\r\n     private final Map&lt;String, Integer&gt; aliasIndexes = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public List transformList(final List list) {\r\n        return new ArrayList(new LinkedHashSet(list));\r\n    }\r\n\r\n    @Override\r\n    public UsableCapacity transformTuple(final Object[] tuple, final String[] aliases) {\r\n        init(aliases);\r\n        final A aEntity = (A) get(tuple, &quot;parent&quot;); // same as alias in DAO layer\r\n        final B bEntity = (B) get(tuple, &quot;child&quot;);  // same as alias in DAO layer\r\n        final Long id = aEntity.getId();\r\n        final ADto aDto;\r\n        if (result.containsKey(id)) {\r\n            aDto = result.get(id);\r\n        } else {\r\n            aDto = new ADto(...);\r\n        }\r\n        aDto.addChildren(new BDto(...)); // create BDto instance from BEntity\r\n        result.put(id, aDto);\r\n        return aDto;\r\n    }\r\n\r\n    private Object get(final Object[] capacities, final String alias) {\r\n        return capacities[aliasIndexes.get(alias)];\r\n    }\r\n\r\n    private void init(final String[] aliases) {\r\n        if (aliasIndexes.isEmpty()) {\r\n            for (int i = 0; i &lt; aliases.length; i++) {\r\n                final String alias = aliases[i];\r\n                aliasIndexes.put(alias, i);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDAO layer\r\n```\r\nfinal String queryString = &quot;SELECT {parent.*}, {child.*} FROM A parent LEFT JOIN B child ON parent.id = child.parent_id&quot;;\r\nfinal NativeQuery query = getCurrentSession().createNativeQuery(queryString)\r\n                                             .addEntity(&quot;parent&quot;, A.class)\r\n                                             .addEntity(&quot;child&quot;, B.class);\r\n// Todo\r\nquery.setResultTransformer(new CustomTransformer());\r\nreturn safeList(query);\r\n```","title":"Batch fetching into @ElementCollection","body":"<p>I have solved this!</p>\n<p><strong>IDEA</strong></p>\n<p>Hibernate will take care of the sql statement and mapping to entity list value when using @ElementCollection. That’s comfortable to use but we have a trade off.\nThe more parent results we have, the worse performance we got. If we have 10k records parent, Hibernate will do selecting 10k times to fetch its children relation.</p>\n<p>Instead of loading children for every single parent. Create native query to load everything.</p>\n<p>we got the results like this:</p>\n<pre><code>PARENT_ID    CHILD_ID\n1            1\n1            2\n1            3\n2            1\n2            2\n3            3 \n</code></pre>\n<p>then implementing Hibernate transformer to convert these raw database objects to DTO.</p>\n<p><strong>Code example.</strong></p>\n<p>Create DTO</p>\n<pre><code>public class ADto {\n   private long id;\n   private Collection&lt;BDto&gt; bList = new HashSet&lt;&gt;();\n   \n   // Constructor\n\n   public void addChildren(BDto b) {\n       bList.add(b);\n   }\n\n   //equals and hascode\n}\n\npublic class BDto {\n   private long id;\n   \n   // Constructor\n   \n   //equals and hascode\n}\n</code></pre>\n<p>And transformer</p>\n<pre><code>public class CustomTransformer extends AliasedTupleSubsetResultTransformer {\n\n     private final Map&lt;Long, ADto&gt; result = new HashMap&lt;&gt;();\n     private final Map&lt;String, Integer&gt; aliasIndexes = new HashMap&lt;&gt;();\n\n    @Override\n    public List transformList(final List list) {\n        return new ArrayList(new LinkedHashSet(list));\n    }\n\n    @Override\n    public UsableCapacity transformTuple(final Object[] tuple, final String[] aliases) {\n        init(aliases);\n        final A aEntity = (A) get(tuple, &quot;parent&quot;); // same as alias in DAO layer\n        final B bEntity = (B) get(tuple, &quot;child&quot;);  // same as alias in DAO layer\n        final Long id = aEntity.getId();\n        final ADto aDto;\n        if (result.containsKey(id)) {\n            aDto = result.get(id);\n        } else {\n            aDto = new ADto(...);\n        }\n        aDto.addChildren(new BDto(...)); // create BDto instance from BEntity\n        result.put(id, aDto);\n        return aDto;\n    }\n\n    private Object get(final Object[] capacities, final String alias) {\n        return capacities[aliasIndexes.get(alias)];\n    }\n\n    private void init(final String[] aliases) {\n        if (aliasIndexes.isEmpty()) {\n            for (int i = 0; i &lt; aliases.length; i++) {\n                final String alias = aliases[i];\n                aliasIndexes.put(alias, i);\n            }\n        }\n    }\n}\n</code></pre>\n<p>DAO layer</p>\n<pre><code>final String queryString = &quot;SELECT {parent.*}, {child.*} FROM A parent LEFT JOIN B child ON parent.id = child.parent_id&quot;;\nfinal NativeQuery query = getCurrentSession().createNativeQuery(queryString)\n                                             .addEntity(&quot;parent&quot;, A.class)\n                                             .addEntity(&quot;child&quot;, B.class);\n// Todo\nquery.setResultTransformer(new CustomTransformer());\nreturn safeList(query);\n</code></pre>\n"}],"owner":{"account_id":16618686,"reputation":195,"user_id":12009648,"display_name":"BadJuju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64224785,"answer_count":1,"score":1,"last_activity_date":1666092696,"creation_date":1601893418,"question_id":64206786,"body_markdown":"I have following entity with its persistent collection\r\n```\r\n@Entity\r\n@Table(name = &quot;A&quot;)\r\npublic class A implements Identifiable&lt;Long&gt; {\r\n   @Id\r\n   private Long id;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;B&quot;, joinColumns = { @JoinColumn(name = &quot;B_ID&quot;) })\r\n    private Collection&lt;B&gt; bList;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;C&quot;, joinColumns = { @JoinColumn(name = &quot;C_ID&quot;) })\r\n    private Collection&lt;C&gt; cList;\r\n}\r\n```\r\nAfter loading 10k rows A entities, I want to load its collection as well\r\n```\r\n// loading A entities\r\nfinal List&lt;A&gt; aList = getA();\r\n// looping from 10k results\r\nfor (final A a : aList) {\r\n   final List&lt;B&gt; bList = a.getB();\r\n   final List&lt;C&gt; cList = a.getC();\r\n}\r\n```\r\nAnd select statement generated quite a lot (~10k).\r\n\r\nVery poor performance here!\r\n\r\nAny idea to work with batch select here?","title":"Batch fetching into @ElementCollection","body":"<p>I have following entity with its persistent collection</p>\n<pre><code>@Entity\n@Table(name = &quot;A&quot;)\npublic class A implements Identifiable&lt;Long&gt; {\n   @Id\n   private Long id;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;B&quot;, joinColumns = { @JoinColumn(name = &quot;B_ID&quot;) })\n    private Collection&lt;B&gt; bList;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;C&quot;, joinColumns = { @JoinColumn(name = &quot;C_ID&quot;) })\n    private Collection&lt;C&gt; cList;\n}\n</code></pre>\n<p>After loading 10k rows A entities, I want to load its collection as well</p>\n<pre><code>// loading A entities\nfinal List&lt;A&gt; aList = getA();\n// looping from 10k results\nfor (final A a : aList) {\n   final List&lt;B&gt; bList = a.getB();\n   final List&lt;C&gt; cList = a.getC();\n}\n</code></pre>\n<p>And select statement generated quite a lot (~10k).</p>\n<p>Very poor performance here!</p>\n<p>Any idea to work with batch select here?</p>\n"},{"tags":["java","functional-programming","mapreduce","opencsv","groupingby"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666079161,"post_id":74107282,"comment_id":130844250,"body_markdown":"You need to clarify the question to begin with. And the answer doesn&#39;t contain any explanation, which is also not very nice.","body":"You need to clarify the question to begin with. And the answer doesn&#39;t contain any explanation, which is also not very nice."},{"owner":{"account_id":16861259,"reputation":11,"user_id":12191995,"display_name":"TenHorizons"},"score":0,"creation_date":1666079429,"post_id":74107282,"comment_id":130844332,"body_markdown":"Gotcha, I&#39;ll add explanation to my answer in a while. I&#39;ll also mention that my attempt is in answer section","body":"Gotcha, I&#39;ll add explanation to my answer in a while. I&#39;ll also mention that my attempt is in answer section"}],"answers":[{"tags":[],"owner":{"account_id":16861259,"reputation":11,"user_id":12191995,"display_name":"TenHorizons"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666092667,"creation_date":1666078738,"answer_id":74107360,"question_id":74107282,"body_markdown":"My attempt uses some libraries:\r\n - OpenCSV\r\n - apache.commons.collections4 (MultiValuedMap &amp; ArrayListValuedHashMap)\r\n\r\nTo quickly learn how to use OpenCSV I recommend reading the official documentation. Took me a day to read half of it and was enough for me to know how to read from a file:\r\nhttps://opencsv.sourceforge.net/index.html#developer_documentation\r\n\r\ncollections4 is to support OpenCSV operations.\r\n\r\nFirst step is to read csv file using OpenCSV. In my attempt I use annotations to quickly read the file into a class object.\r\n\r\n```\r\n@CsvBindByName(column=&quot;Country/Region&quot;,required=true)\r\nprivate String country;\r\n@CsvBindAndJoinByName(column=&quot;[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,4}&quot;, elementType = String.class, mapType = ArrayListValuedHashMap.class)\r\nprivate MultiValuedMap&lt;String,String&gt; casesByDate;\r\n```\r\n\r\nFirstly, because OpenCSV does not read the file in sorted order (from my knowledge autosort function is not available for MultiValuedMap), the Date Columns and Country rows will not be sorted.\r\n\r\nMy solution is to create a new variable which stores the sorted data:\r\n\r\n    private TreeMap&lt;LocalDate, Integer&gt; sortedCasesByDate = new TreeMap&lt;&gt;();\r\n\r\nBelow is the method used to populate sortedcasesBydate:\r\n\r\n    public CasesByCountry addToSortedCasesByDate(MultiValuedMap&lt;String,String&gt; map) {\r\n        DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;M/d/yy&quot;);\r\n        for(String key:map.keys()){\r\n            sortedCasesByDate.put(LocalDate.parse(key,dateFormat),Integer.valueOf(map.get(key).toString().replaceAll(&quot;[\\\\[\\\\]]&quot;,&quot;&quot;)));\r\n        }\r\n        return this;\r\n    }\r\n\r\nFull code of class file (annnotated for rows/Beans of Countries):\r\n\r\n    imports ...\r\n    \r\n    public class CasesByCountry {\r\n        @CsvBindByName(column=&quot;Country/Region&quot;,required=true)\r\n        private String country;\r\n        @CsvBindAndJoinByName(column=&quot;[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,4}&quot;, elementType = String.class, mapType = ArrayListValuedHashMap.class)\r\n        private MultiValuedMap&lt;String,String&gt; casesByDate;\r\n        private TreeMap&lt;LocalDate, Integer&gt; sortedCasesByDate = new TreeMap&lt;&gt;();\r\n\r\n    public CasesByCountry(){}\r\n\r\n\r\n    public String getCountry() {\r\n        return country;\r\n    }\r\n    public MultiValuedMap&lt;String, String&gt; getCasesByDate() {\r\n        return casesByDate;\r\n    }\r\n    public TreeMap&lt;LocalDate, Integer&gt; getSortedCasesByDate() {\r\n        return sortedCasesByDate;\r\n    }\r\n\r\n    public CasesByCountry addToSortedCasesByDate(MultiValuedMap&lt;String,String&gt; map) {\r\n        DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;M/d/yy&quot;);\r\n        for(String key:map.keys()){\r\n            sortedCasesByDate.put(LocalDate.parse(key,dateFormat),Integer.valueOf(map.get(key).toString().replaceAll(&quot;[\\\\[\\\\]]&quot;,&quot;&quot;)));\r\n        }\r\n        return this;\r\n    }\r\n\r\n    //merges sortedCasesByDate for each CaseOfCountry.\r\n    //Used in reduce() by Reader to merge sortedCasesByDate of 2 provinces.\r\n    public BinaryOperator&lt;CasesByCountry&gt; setSortedCasesByDate = (country1,country2) -&gt;{\r\n        country1.getSortedCasesByDate()\r\n                .forEach(\r\n                        (date, numOfCases) -&gt;\r\n                                country1.getSortedCasesByDate()\r\n                                        .put(\r\n                                                date,\r\n                                                numOfCases + country2.getSortedCasesByDate().get(date)\r\n                                        )\r\n                );\r\n        return country1;\r\n    };\r\n    }\r\n\r\nOnce annotated class is completed, read file using code shared in OpenCSV docmentation. Also add processInput() to process the data later:\r\n\r\n    public static Function&lt;String, List&lt;CasesByCountry&gt;&gt; readFile = (path) -&gt; {\r\n        try {\r\n            List&lt;CasesByCountry&gt;l = new CsvToBeanBuilder(new FileReader(path))\r\n                    .withType(CasesByCountry.class)\r\n                    .build()\r\n                    .parse();\r\n            l = processInput.apply(l);\r\n            l.forEach(System.out::println);\r\n            return l;\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    };\r\n\r\nIn processInput(), Date sorting is performed. Then duplicates of countries are removed using reduce.\r\nStack Overflow Questions I referred to to get this answer:\r\n\r\nhttps://stackoverflow.com/questions/44747750/java-8-stream-sum-entries-for-duplicate-keys\r\n\r\nhttps://stackoverflow.com/questions/53619435/apply-reduction-only-if-certain-condition-is-met\r\n\r\nThe problem with reduce is it cannot accept a condition. For example, it cannot perform the following:\r\n\r\n    if(country1.getName().equals(country2.getName()){\r\n        //reduce()\r\n    }else{\r\n        //go to next.\r\n    }\r\n\r\ntherefore, .groupingBy is used to create a map of Lists (Map&lt;String,List\\&lt;CaseByCountry\\&gt;&gt;). Each list has items of country duplicates. Then reduce is performed on each individual Lists\\&lt;CaseByCountry\\&gt; and joined together again:\r\n\r\n    /**\r\n     * @.map: sort cases by ascending date.\r\n     * @.groupingBy: split into lists of countries to identify duplicates.\r\n     * @.reduce: reduce CasesByCountry by merging sortedCasesByDates TreeMaps.*/\r\n    public static UnaryOperator&lt;List&lt;CasesByCountry&gt;&gt; processInput = casesByCountryList -&gt; {\r\n        BinaryOperator&lt;TreeMap&lt;LocalDate, Integer&gt;&gt; mergeMaps = (Old, New) -&gt; {\r\n            Old.forEach((date, numOfCases) -&gt; Old.put(date, numOfCases + New.get(date)));\r\n            return Old;\r\n        };\r\n\r\n        List&lt;CasesByCountry&gt; toR = new ArrayList&lt;&gt;();\r\n        casesByCountryList.stream().map(\r\n                casesByCountry -&gt;\r\n                        casesByCountry.addToSortedCasesByDate(\r\n                                casesByCountry.getCasesByDate()\r\n                        )\r\n        ).collect(\r\n                Collectors.groupingBy(CasesByCountry::getCountry)\r\n        ).forEach(\r\n                (country, casesByCountry) -&gt;\r\n                        toR.add(casesByCountry.stream().reduce(\r\n                                null,\r\n                                (country1, country2) -&gt;\r\n                                        country1!=null\r\n                                                ? country1.setSortedCasesByDate.apply(country1, country2)\r\n                                                :country2\r\n                        ))\r\n        );\r\n        //.sort to sort by countries.\r\n        toR.sort(Comparator.comparing(CasesByCountry::getCountry));\r\n        return toR;\r\n    };\r\n\r\nFull code of Reader class:\r\n\r\n    imports...\r\n    \r\n    public class Reader{\r\n        private static List&lt;CasesByCountry&gt; confirmedCases;\r\n\r\n    public Reader(){\r\n        //CaseType.CONFIRMED.getPath() is just an enum to store the file path.\r\n        confirmedCases = readFile.apply(CaseType.CONFIRMED.getPath());\r\n    }\r\n\r\n    /**\r\n     * @.map: sort cases by ascending date.\r\n     * @.groupingBy: split into lists of countries to identify duplicates.\r\n     * @.reduce: reduce CasesByCountry by merging sortedCasesByDates TreeMaps.*/\r\n    public static UnaryOperator&lt;List&lt;CasesByCountry&gt;&gt; processInput = casesByCountryList -&gt; {\r\n        BinaryOperator&lt;TreeMap&lt;LocalDate, Integer&gt;&gt; mergeMaps = (Old, New) -&gt; {\r\n            Old.forEach((date, numOfCases) -&gt; Old.put(date, numOfCases + New.get(date)));\r\n            return Old;\r\n        };\r\n\r\n        List&lt;CasesByCountry&gt; toR = new ArrayList&lt;&gt;();\r\n        casesByCountryList.stream().map(\r\n                casesByCountry -&gt;\r\n                        casesByCountry.addToSortedCasesByDate(\r\n                                casesByCountry.getCasesByDate()\r\n                        )\r\n        ).collect(\r\n                Collectors.groupingBy(CasesByCountry::getCountry)\r\n        ).forEach(\r\n                (country, casesByCountry) -&gt;\r\n                        toR.add(casesByCountry.stream().reduce(\r\n                                null,\r\n                                (country1, country2) -&gt;\r\n                                        country1!=null\r\n                                                ? country1.setSortedCasesByDate.apply(country1, country2)\r\n                                                :country2\r\n                        ))\r\n    };\r\n\r\n    public static Function&lt;String, List&lt;CasesByCountry&gt;&gt; readFile = (path) -&gt; {\r\n        try {\r\n            List&lt;CasesByCountry&gt;l = new CsvToBeanBuilder(new FileReader(path))\r\n                    .withType(CasesByCountry.class)\r\n                    .build()\r\n                    .parse();\r\n            l = processInput.apply(l);\r\n            l.forEach(System.out::println);\r\n                return l;\r\n            } catch (FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n\r\n    public List&lt;CasesByCountry&gt; getConfirmedCases() {\r\n        return confirmedCases;\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53619435/apply-reduction-only-if-certain-condition-is-met","title":"Java functionally read .csv using openCSV, sort table headers in ascending order, and merging duplicates using reduce()","body":"<p>My attempt uses some libraries:</p>\n<ul>\n<li>OpenCSV</li>\n<li>apache.commons.collections4 (MultiValuedMap &amp; ArrayListValuedHashMap)</li>\n</ul>\n<p>To quickly learn how to use OpenCSV I recommend reading the official documentation. Took me a day to read half of it and was enough for me to know how to read from a file:\n<a href=\"https://opencsv.sourceforge.net/index.html#developer_documentation\" rel=\"nofollow noreferrer\">https://opencsv.sourceforge.net/index.html#developer_documentation</a></p>\n<p>collections4 is to support OpenCSV operations.</p>\n<p>First step is to read csv file using OpenCSV. In my attempt I use annotations to quickly read the file into a class object.</p>\n<pre><code>@CsvBindByName(column=&quot;Country/Region&quot;,required=true)\nprivate String country;\n@CsvBindAndJoinByName(column=&quot;[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,4}&quot;, elementType = String.class, mapType = ArrayListValuedHashMap.class)\nprivate MultiValuedMap&lt;String,String&gt; casesByDate;\n</code></pre>\n<p>Firstly, because OpenCSV does not read the file in sorted order (from my knowledge autosort function is not available for MultiValuedMap), the Date Columns and Country rows will not be sorted.</p>\n<p>My solution is to create a new variable which stores the sorted data:</p>\n<pre><code>private TreeMap&lt;LocalDate, Integer&gt; sortedCasesByDate = new TreeMap&lt;&gt;();\n</code></pre>\n<p>Below is the method used to populate sortedcasesBydate:</p>\n<pre><code>public CasesByCountry addToSortedCasesByDate(MultiValuedMap&lt;String,String&gt; map) {\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;M/d/yy&quot;);\n    for(String key:map.keys()){\n        sortedCasesByDate.put(LocalDate.parse(key,dateFormat),Integer.valueOf(map.get(key).toString().replaceAll(&quot;[\\\\[\\\\]]&quot;,&quot;&quot;)));\n    }\n    return this;\n}\n</code></pre>\n<p>Full code of class file (annnotated for rows/Beans of Countries):</p>\n<pre><code>imports ...\n\npublic class CasesByCountry {\n    @CsvBindByName(column=&quot;Country/Region&quot;,required=true)\n    private String country;\n    @CsvBindAndJoinByName(column=&quot;[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,4}&quot;, elementType = String.class, mapType = ArrayListValuedHashMap.class)\n    private MultiValuedMap&lt;String,String&gt; casesByDate;\n    private TreeMap&lt;LocalDate, Integer&gt; sortedCasesByDate = new TreeMap&lt;&gt;();\n\npublic CasesByCountry(){}\n\n\npublic String getCountry() {\n    return country;\n}\npublic MultiValuedMap&lt;String, String&gt; getCasesByDate() {\n    return casesByDate;\n}\npublic TreeMap&lt;LocalDate, Integer&gt; getSortedCasesByDate() {\n    return sortedCasesByDate;\n}\n\npublic CasesByCountry addToSortedCasesByDate(MultiValuedMap&lt;String,String&gt; map) {\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;M/d/yy&quot;);\n    for(String key:map.keys()){\n        sortedCasesByDate.put(LocalDate.parse(key,dateFormat),Integer.valueOf(map.get(key).toString().replaceAll(&quot;[\\\\[\\\\]]&quot;,&quot;&quot;)));\n    }\n    return this;\n}\n\n//merges sortedCasesByDate for each CaseOfCountry.\n//Used in reduce() by Reader to merge sortedCasesByDate of 2 provinces.\npublic BinaryOperator&lt;CasesByCountry&gt; setSortedCasesByDate = (country1,country2) -&gt;{\n    country1.getSortedCasesByDate()\n            .forEach(\n                    (date, numOfCases) -&gt;\n                            country1.getSortedCasesByDate()\n                                    .put(\n                                            date,\n                                            numOfCases + country2.getSortedCasesByDate().get(date)\n                                    )\n            );\n    return country1;\n};\n}\n</code></pre>\n<p>Once annotated class is completed, read file using code shared in OpenCSV docmentation. Also add processInput() to process the data later:</p>\n<pre><code>public static Function&lt;String, List&lt;CasesByCountry&gt;&gt; readFile = (path) -&gt; {\n    try {\n        List&lt;CasesByCountry&gt;l = new CsvToBeanBuilder(new FileReader(path))\n                .withType(CasesByCountry.class)\n                .build()\n                .parse();\n        l = processInput.apply(l);\n        l.forEach(System.out::println);\n        return l;\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n};\n</code></pre>\n<p>In processInput(), Date sorting is performed. Then duplicates of countries are removed using reduce.\nStack Overflow Questions I referred to to get this answer:</p>\n<p><a href=\"https://stackoverflow.com/questions/44747750/java-8-stream-sum-entries-for-duplicate-keys\">Java 8 stream sum entries for duplicate keys</a></p>\n<p><a href=\"https://stackoverflow.com/questions/53619435/apply-reduction-only-if-certain-condition-is-met\">Apply reduction only if certain condition is met</a></p>\n<p>The problem with reduce is it cannot accept a condition. For example, it cannot perform the following:</p>\n<pre><code>if(country1.getName().equals(country2.getName()){\n    //reduce()\n}else{\n    //go to next.\n}\n</code></pre>\n<p>therefore, .groupingBy is used to create a map of Lists (Map&lt;String,List&lt;CaseByCountry&gt;&gt;). Each list has items of country duplicates. Then reduce is performed on each individual Lists&lt;CaseByCountry&gt; and joined together again:</p>\n<pre><code>/**\n * @.map: sort cases by ascending date.\n * @.groupingBy: split into lists of countries to identify duplicates.\n * @.reduce: reduce CasesByCountry by merging sortedCasesByDates TreeMaps.*/\npublic static UnaryOperator&lt;List&lt;CasesByCountry&gt;&gt; processInput = casesByCountryList -&gt; {\n    BinaryOperator&lt;TreeMap&lt;LocalDate, Integer&gt;&gt; mergeMaps = (Old, New) -&gt; {\n        Old.forEach((date, numOfCases) -&gt; Old.put(date, numOfCases + New.get(date)));\n        return Old;\n    };\n\n    List&lt;CasesByCountry&gt; toR = new ArrayList&lt;&gt;();\n    casesByCountryList.stream().map(\n            casesByCountry -&gt;\n                    casesByCountry.addToSortedCasesByDate(\n                            casesByCountry.getCasesByDate()\n                    )\n    ).collect(\n            Collectors.groupingBy(CasesByCountry::getCountry)\n    ).forEach(\n            (country, casesByCountry) -&gt;\n                    toR.add(casesByCountry.stream().reduce(\n                            null,\n                            (country1, country2) -&gt;\n                                    country1!=null\n                                            ? country1.setSortedCasesByDate.apply(country1, country2)\n                                            :country2\n                    ))\n    );\n    //.sort to sort by countries.\n    toR.sort(Comparator.comparing(CasesByCountry::getCountry));\n    return toR;\n};\n</code></pre>\n<p>Full code of Reader class:</p>\n<pre><code>imports...\n\npublic class Reader{\n    private static List&lt;CasesByCountry&gt; confirmedCases;\n\npublic Reader(){\n    //CaseType.CONFIRMED.getPath() is just an enum to store the file path.\n    confirmedCases = readFile.apply(CaseType.CONFIRMED.getPath());\n}\n\n/**\n * @.map: sort cases by ascending date.\n * @.groupingBy: split into lists of countries to identify duplicates.\n * @.reduce: reduce CasesByCountry by merging sortedCasesByDates TreeMaps.*/\npublic static UnaryOperator&lt;List&lt;CasesByCountry&gt;&gt; processInput = casesByCountryList -&gt; {\n    BinaryOperator&lt;TreeMap&lt;LocalDate, Integer&gt;&gt; mergeMaps = (Old, New) -&gt; {\n        Old.forEach((date, numOfCases) -&gt; Old.put(date, numOfCases + New.get(date)));\n        return Old;\n    };\n\n    List&lt;CasesByCountry&gt; toR = new ArrayList&lt;&gt;();\n    casesByCountryList.stream().map(\n            casesByCountry -&gt;\n                    casesByCountry.addToSortedCasesByDate(\n                            casesByCountry.getCasesByDate()\n                    )\n    ).collect(\n            Collectors.groupingBy(CasesByCountry::getCountry)\n    ).forEach(\n            (country, casesByCountry) -&gt;\n                    toR.add(casesByCountry.stream().reduce(\n                            null,\n                            (country1, country2) -&gt;\n                                    country1!=null\n                                            ? country1.setSortedCasesByDate.apply(country1, country2)\n                                            :country2\n                    ))\n};\n\npublic static Function&lt;String, List&lt;CasesByCountry&gt;&gt; readFile = (path) -&gt; {\n    try {\n        List&lt;CasesByCountry&gt;l = new CsvToBeanBuilder(new FileReader(path))\n                .withType(CasesByCountry.class)\n                .build()\n                .parse();\n        l = processInput.apply(l);\n        l.forEach(System.out::println);\n            return l;\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n    };\n\npublic List&lt;CasesByCountry&gt; getConfirmedCases() {\n    return confirmedCases;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16861259,"reputation":11,"user_id":12191995,"display_name":"TenHorizons"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666092667,"creation_date":1666078377,"question_id":74107282,"body_markdown":"I spent a ton of time figuring this out and wanted to share my answer. I think this is worthwhile to share because I am handling a complex table of data. This is my first time doing a java project trying to use Functional Programming wherever I can. Solved by looking all over Stack Overflow and piecing things together. Will be glad to get feedback on a better title, tags, and body for this question and feedback on the code too.\r\n\r\nI am using OpenCsv to get a table of values with dates as column headers, which looks something like this:\r\n\r\n| Country | 1/01/22 | 1/02/22 | 1/03/22 | ... |\r\n| ------- | ------- | ------- | ------- | --- |\r\n| Ireland | 0       | 5       | 150     | ... |\r\n| Japan   | 7       | 189     | 3323    | ... |\r\n\r\nThe numbers stand for covid cases for that date in that country.\r\n\r\n.csv file has hundreds of columns, most of which are dates as headers. Furthermore, Country column has duplicate country names for each province of the country.\r\n\r\nTo remove duplicates in Country column, I should add up the cases by date for each province, so that I get sum of cases for all provinces of the country by date.\r\n\r\nMy attempt is down in answer section. Here&#39;s the .csv file for anyone who wants to try:\r\nhttps://drive.google.com/file/d/18DwzH-sse3zJXtcjLRrVCG2vasoGlCLn/view?usp=sharing","title":"Java functionally read .csv using openCSV, sort table headers in ascending order, and merging duplicates using reduce()","body":"<p>I spent a ton of time figuring this out and wanted to share my answer. I think this is worthwhile to share because I am handling a complex table of data. This is my first time doing a java project trying to use Functional Programming wherever I can. Solved by looking all over Stack Overflow and piecing things together. Will be glad to get feedback on a better title, tags, and body for this question and feedback on the code too.</p>\n<p>I am using OpenCsv to get a table of values with dates as column headers, which looks something like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Country</th>\n<th>1/01/22</th>\n<th>1/02/22</th>\n<th>1/03/22</th>\n<th>...</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ireland</td>\n<td>0</td>\n<td>5</td>\n<td>150</td>\n<td>...</td>\n</tr>\n<tr>\n<td>Japan</td>\n<td>7</td>\n<td>189</td>\n<td>3323</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The numbers stand for covid cases for that date in that country.</p>\n<p>.csv file has hundreds of columns, most of which are dates as headers. Furthermore, Country column has duplicate country names for each province of the country.</p>\n<p>To remove duplicates in Country column, I should add up the cases by date for each province, so that I get sum of cases for all provinces of the country by date.</p>\n<p>My attempt is down in answer section. Here's the .csv file for anyone who wants to try:\n<a href=\"https://drive.google.com/file/d/18DwzH-sse3zJXtcjLRrVCG2vasoGlCLn/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/18DwzH-sse3zJXtcjLRrVCG2vasoGlCLn/view?usp=sharing</a></p>\n"},{"tags":["java","red-black-tree","red-black-tree-insertion"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666066482,"post_id":74105624,"comment_id":130841290,"body_markdown":"If by duplicate you mean the int value, there’s so such concept in a tree. You’ll have to track the values separately, like in a set.","body":"If by duplicate you mean the int value, there’s so such concept in a tree. You’ll have to track the values separately, like in a set."}],"answers":[{"tags":[],"owner":{"account_id":2205100,"reputation":766,"user_id":1948525,"display_name":"SJHowe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666092626,"creation_date":1666092626,"answer_id":74110233,"question_id":74105624,"body_markdown":"Something like this\r\n\r\n    public int insert(int i) {\r\n        Node x = this.root;\r\n        Node y = null;\r\n        \r\n        while (x != null) {\r\n            y = x;\r\n            if(i &lt; x.data)\r\n                x = x.left;\r\n            else if (i &gt; x.data)\r\n                x = x.right;\r\n            else\r\n                return -1;\t// FAILURE, data already exists\r\n        }\r\n    \r\n        Node z = new Node(i, Color.RED);\r\n        \r\n        z.parent = y;\r\n        \r\n        if(y == null)\r\n            this.root = z;\r\n        else if(z.data &lt; y.data)\r\n            y.left = z;\r\n        else\r\n            y.right = z;\r\n        \r\n        z.left = z.right = null;\r\n        z.color = Color.RED;\r\n        insertFixup(z);\r\n        return 0; // SUCCESS\r\n    }","title":"Is it possible to avoid duplicate values from being inserted in a Red Black Tree?","body":"<p>Something like this</p>\n<pre><code>public int insert(int i) {\n    Node x = this.root;\n    Node y = null;\n    \n    while (x != null) {\n        y = x;\n        if(i &lt; x.data)\n            x = x.left;\n        else if (i &gt; x.data)\n            x = x.right;\n        else\n            return -1;  // FAILURE, data already exists\n    }\n\n    Node z = new Node(i, Color.RED);\n    \n    z.parent = y;\n    \n    if(y == null)\n        this.root = z;\n    else if(z.data &lt; y.data)\n        y.left = z;\n    else\n        y.right = z;\n    \n    z.left = z.right = null;\n    z.color = Color.RED;\n    insertFixup(z);\n    return 0; // SUCCESS\n}\n</code></pre>\n"}],"owner":{"account_id":26255718,"reputation":3,"user_id":19927799,"display_name":"Tiffany "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74110233,"answer_count":1,"score":0,"last_activity_date":1666092626,"creation_date":1666066312,"question_id":74105624,"body_markdown":"This is currently my code for insertion in a Red Black tree. How would I make it so that duplicate values are not added in so that the tree doesn&#39;t change?\r\n\r\n\tpublic void insert(int i) {\r\n\t\tNode x = this.root;\r\n\t\tNode y = null;\r\n\t\tNode z = new Node(i, Color.RED);\r\n\t\t\r\n\t\t\r\n\t\twhile (x != null) {\r\n\t\t\ty = x;\r\n\t\t\tif(z.data &lt; x.data)\r\n\t\t\t\tx = x.left;\r\n\t\t\telse\r\n\t\t\t\tx = x.right;\r\n\t\t}\r\n\t\t\r\n\t\tz.parent = y;\r\n\t\t\r\n\t\tif(y == null)\r\n\t\t\tthis.root = z;\r\n\t\telse if(z.data &lt; y.data)\r\n\t\t\ty.left = z;\r\n\t\telse\r\n\t\t\ty.right = z;\r\n\t\t\r\n\t\tz.left = z.right = null;\r\n\t\tz.color = Color.RED;\r\n\t\tinsertFixup(z);\r\n\t\t\t\r\n\t}","title":"Is it possible to avoid duplicate values from being inserted in a Red Black Tree?","body":"<p>This is currently my code for insertion in a Red Black tree. How would I make it so that duplicate values are not added in so that the tree doesn't change?</p>\n<pre><code>public void insert(int i) {\n    Node x = this.root;\n    Node y = null;\n    Node z = new Node(i, Color.RED);\n    \n    \n    while (x != null) {\n        y = x;\n        if(z.data &lt; x.data)\n            x = x.left;\n        else\n            x = x.right;\n    }\n    \n    z.parent = y;\n    \n    if(y == null)\n        this.root = z;\n    else if(z.data &lt; y.data)\n        y.left = z;\n    else\n        y.right = z;\n    \n    z.left = z.right = null;\n    z.color = Color.RED;\n    insertFixup(z);\n        \n}\n</code></pre>\n"},{"tags":["java","email","non-ascii-characters","punycode"],"comments":[{"owner":{"account_id":3058076,"reputation":1177,"user_id":2591316,"accept_rate":100,"display_name":"mariuss"},"score":0,"creation_date":1664364856,"post_id":73880651,"comment_id":130453692,"body_markdown":"all strings in java are unicode by default","body":"all strings in java are unicode by default"},{"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"score":1,"creation_date":1664364982,"post_id":73880651,"comment_id":130453731,"body_markdown":"Should be able to use the built-in IDN to convert between ASCII and UNICODE https://docs.oracle.com/javase/8/docs/api/java/net/IDN.html","body":"Should be able to use the built-in IDN to convert between ASCII and UNICODE <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/IDN.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/net/IDN.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":458052,"reputation":9149,"user_id":857727,"display_name":"arnt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666092570,"creation_date":1666092570,"answer_id":74110226,"question_id":73880651,"body_markdown":"You don&#39;t generally need to convert the address to punycode, no. You definitely can use the human-readable form both when formatting email messages (here&#39;s [an example of a valid email message](https://github.com/arnt/eai-test-messages/blob/master/from), note the &#248;) and [when sending mail](https://rant.gulbrandsen.priv.no/eai/one-minute-guide).\r\n\r\nIDN conversion is necessary in order to perform an MX lookup as part of locating the recipient&#39;s mail server, but that task is typically performed by your outgoing mail server. The software you are writing should be able to assume that all the addresses use UTF-8 everywhere, and all the world is simple.","title":"Convert non-ASCII email addresses to punycode in java","body":"<p>You don't generally need to convert the address to punycode, no. You definitely can use the human-readable form both when formatting email messages (here's <a href=\"https://github.com/arnt/eai-test-messages/blob/master/from\" rel=\"nofollow noreferrer\">an example of a valid email message</a>, note the ø) and <a href=\"https://rant.gulbrandsen.priv.no/eai/one-minute-guide\" rel=\"nofollow noreferrer\">when sending mail</a>.</p>\n<p>IDN conversion is necessary in order to perform an MX lookup as part of locating the recipient's mail server, but that task is typically performed by your outgoing mail server. The software you are writing should be able to assume that all the addresses use UTF-8 everywhere, and all the world is simple.</p>\n"}],"owner":{"account_id":26197793,"reputation":23,"user_id":19878667,"display_name":"Anna Stasinopoulou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666092570,"creation_date":1664364603,"question_id":73880651,"body_markdown":"I am new to developing and I have the following task.\r\n\r\nI need to be able to able write and retrieve from my database international email addresses, i.e. addresses that contain non-ascii characters like &#230;, &#248;, &#229;, &#246;, &#228;, &#223;, &#252;. In order to do this I need to convert the email address to punycode if I have understood correctly.\r\n\r\nIs there an easy way to do this in java? ","title":"Convert non-ASCII email addresses to punycode in java","body":"<p>I am new to developing and I have the following task.</p>\n<p>I need to be able to able write and retrieve from my database international email addresses, i.e. addresses that contain non-ascii characters like æ, ø, å, ö, ä, ß, ü. In order to do this I need to convert the email address to punycode if I have understood correctly.</p>\n<p>Is there an easy way to do this in java?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4113633,"reputation":4511,"user_id":3375847,"accept_rate":51,"display_name":"Glen Pierce"},"score":0,"creation_date":1491522376,"post_id":43267419,"comment_id":73603620,"body_markdown":"I know how to get the length of an arbitrary String.","body":"I know how to get the length of an arbitrary String."},{"owner":{"account_id":1570820,"reputation":665,"user_id":1458540,"accept_rate":0,"display_name":"Sumit Gulati"},"score":0,"creation_date":1491523084,"post_id":43267419,"comment_id":73603826,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/2635082/java-counting-of-occurrences-of-a-word-in-a-string","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2635082/java-counting-of-occurrences-of-a-word-in-a-string\" title=\"java counting of occurrences of a word in a string\">stackoverflow.com/questions/2635082/&hellip;</a>"},{"owner":{"account_id":4113633,"reputation":4511,"user_id":3375847,"accept_rate":51,"display_name":"Glen Pierce"},"score":0,"creation_date":1491523271,"post_id":43267419,"comment_id":73603890,"body_markdown":"Not a duplicate in that I&#39;m not asking for the number of occurrences of a String, I&#39;m looking for the length of all Strings that match a regex in my input String. But that question does have some useful information relative to this in it.","body":"Not a duplicate in that I&#39;m not asking for the number of occurrences of a String, I&#39;m looking for the length of all Strings that match a regex in my input String. But that question does have some useful information relative to this in it."},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1491536102,"post_id":43267419,"comment_id":73606924,"body_markdown":"All match objects contain a method to get the length. It&#39;s probably length().","body":"All match objects contain a method to get the length. It&#39;s probably length()."}],"answers":[{"tags":[],"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1491538663,"creation_date":1491522501,"answer_id":43267517,"question_id":43267419,"body_markdown":"Just loop over the matching groups of your Regex, and use `length()` to extract the number of characters. Add them to your counter, and that&#39;s it.\r\n\r\n    public int lengthOfSubStringsMatchingRegex(String input, String regex)\r\n        Pattern p = Pattern.compile(regex);\r\n        Matcher m = p.matcher(input);\r\n\r\n        int count = 0;\r\n        while (m.find())\r\n            count += m.group().length();\r\n\r\n        return count;\r\n    }\r\n\r\nAs an alternative, but slightly less readable, you can use directly the offsets:\r\n\r\n    count += m.end() - m.start();\r\n\r\n*start()* returns the start index of the previous match.  \r\n*end()* returns the offset after the last character matched.  \r\n","title":"How to count the characters in a String that matched a given Regex","body":"<p>Just loop over the matching groups of your Regex, and use <code>length()</code> to extract the number of characters. Add them to your counter, and that's it.</p>\n\n<pre><code>public int lengthOfSubStringsMatchingRegex(String input, String regex)\n    Pattern p = Pattern.compile(regex);\n    Matcher m = p.matcher(input);\n\n    int count = 0;\n    while (m.find())\n        count += m.group().length();\n\n    return count;\n}\n</code></pre>\n\n<p>As an alternative, but slightly less readable, you can use directly the offsets:</p>\n\n<pre><code>count += m.end() - m.start();\n</code></pre>\n\n<p><em>start()</em> returns the start index of the previous match.<br>\n<em>end()</em> returns the offset after the last character matched.  </p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666030230,"creation_date":1666030230,"answer_id":74101438,"question_id":43267419,"body_markdown":"# Java 9+\r\n\r\nHere&#39;s a single-statement stream-based solution.\r\n\r\nSince Java 9 we can use [`Matcher.results()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()) that produces a stream of match results `Stream&lt;MatchResult&gt;` *&quot;for each subsequence of the input sequence that matches the pattern&quot;*.\r\n\r\nThen we can transform `MatchResult` into a captured group and find out its length. To obtain the final value, we just need to add up the elements.\r\n\r\n\r\n    public static int lengthOfSubStringsMatchingRegex(String input, String regex) {\r\n        \r\n        return Pattern.compile(regex).matcher(input) // produces a Matcher\r\n            .results()                // Stream&lt;MatchResult&gt;\r\n            .map(MatchResult::group)  // Stream&lt;String&gt;\r\n            .mapToInt(String::length) // IntStream\r\n            .sum();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        System.out.println(lengthOfSubStringsMatchingRegex(&quot;a_!_b__c_d_e&quot;, &quot;\\\\p{Punct}+&quot;));\r\n        System.out.println(lengthOfSubStringsMatchingRegex(&quot;_?_a_b__c_de_&quot;, &quot;\\\\p{Punct}+&quot;));\r\n    }\r\n\r\n*Output:*\r\n```\r\n7\r\n8\r\n```","title":"How to count the characters in a String that matched a given Regex","body":"<h1>Java 9+</h1>\n<p>Here's a single-statement stream-based solution.</p>\n<p>Since Java 9 we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a> that produces a stream of match results <code>Stream&lt;MatchResult&gt;</code> <em>&quot;for each subsequence of the input sequence that matches the pattern&quot;</em>.</p>\n<p>Then we can transform <code>MatchResult</code> into a captured group and find out its length. To obtain the final value, we just need to add up the elements.</p>\n<pre><code>public static int lengthOfSubStringsMatchingRegex(String input, String regex) {\n    \n    return Pattern.compile(regex).matcher(input) // produces a Matcher\n        .results()                // Stream&lt;MatchResult&gt;\n        .map(MatchResult::group)  // Stream&lt;String&gt;\n        .mapToInt(String::length) // IntStream\n        .sum();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n\n    System.out.println(lengthOfSubStringsMatchingRegex(&quot;a_!_b__c_d_e&quot;, &quot;\\\\p{Punct}+&quot;));\n    System.out.println(lengthOfSubStringsMatchingRegex(&quot;_?_a_b__c_de_&quot;, &quot;\\\\p{Punct}+&quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>7\n8\n</code></pre>\n"}],"owner":{"account_id":4113633,"reputation":4511,"user_id":3375847,"accept_rate":51,"display_name":"Glen Pierce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43267517,"answer_count":2,"score":1,"last_activity_date":1666092439,"creation_date":1491521824,"question_id":43267419,"body_markdown":"Given an arbitrary `String` that contains `0` or more Substrings that **match** a *regular expression*.\r\n\r\nHow can I count the number of characters in that `String` that were part of Substrings that matched the regex?\r\n\r\n*Example:*\r\n\r\nGiven a regex that matches any email address and the String:\r\n```\r\n&quot;I have two email addresses: email@gmail.com and email@hotmail.com&quot;\r\n```\r\nThis would return the int value of `32` (the number of characters in `&quot;email@gmail.com&quot;` plus `&quot;email@hotmail.com&quot;`).\r\n\r\nI&#39;m not being clear enough, it seems. Let&#39;s pretend you want to set a limit to the number of characters in a tweet, but you want to allow people to include their email address in the tweet and have it count as zero characters.\r\n\r\nPossible method signature of solution:\r\n\r\n    public int lengthOfSubStringsMatchingRegex(String input, String regex)","title":"How to count the characters in a String that matched a given Regex","body":"<p>Given an arbitrary <code>String</code> that contains <code>0</code> or more Substrings that <strong>match</strong> a <em>regular expression</em>.</p>\n<p>How can I count the number of characters in that <code>String</code> that were part of Substrings that matched the regex?</p>\n<p><em>Example:</em></p>\n<p>Given a regex that matches any email address and the String:</p>\n<pre><code>&quot;I have two email addresses: email@gmail.com and email@hotmail.com&quot;\n</code></pre>\n<p>This would return the int value of <code>32</code> (the number of characters in <code>&quot;email@gmail.com&quot;</code> plus <code>&quot;email@hotmail.com&quot;</code>).</p>\n<p>I'm not being clear enough, it seems. Let's pretend you want to set a limit to the number of characters in a tweet, but you want to allow people to include their email address in the tweet and have it count as zero characters.</p>\n<p>Possible method signature of solution:</p>\n<pre><code>public int lengthOfSubStringsMatchingRegex(String input, String regex)\n</code></pre>\n"},{"tags":["java","spring","spring-el"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1666106160,"post_id":74110161,"comment_id":130854262,"body_markdown":"Did you try this:  `&#39;SOMETHING&#39;== #this.myEnum`? Or in the end like this `#this.myEnum.name() == &#39;SOMETHING&#39;`","body":"Did you try this:  <code>&#39;SOMETHING&#39;== #this.myEnum</code>? Or in the end like this <code>#this.myEnum.name() == &#39;SOMETHING&#39;</code>"},{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1666113697,"post_id":74110161,"comment_id":130856997,"body_markdown":"First doesn&#39;t work, second does but the aim is to keep-it-simple. I know there are verbose ways to make it work (Enum is just a basic example) but I&#39;d like Spring to use its muscles here instead of me.","body":"First doesn&#39;t work, second does but the aim is to keep-it-simple. I know there are verbose ways to make it work (Enum is just a basic example) but I&#39;d like Spring to use its muscles here instead of me."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1666114603,"post_id":74110161,"comment_id":130857332,"body_markdown":"Probably you expect too much and the mentioned `ConversionService` works only for the output value...","body":"Probably you expect too much and the mentioned <code>ConversionService</code> works only for the output value..."}],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666092269,"creation_date":1666092269,"question_id":74110161,"body_markdown":"I know SpEL is happy to attempt to convert a result into a requested type using Spring&#39;s `ConversionService` framework but I want it to work _within_ the expression itself.\r\n\r\nThis simple snippets fails because it is comparing an `Enum` to a `String`...\r\n```java\r\n  ExpressionParser parser = new SpelExpressionParser(new SpelParserConfiguration(true, true));\r\n  StandardEvaluationContext context = new StandardEvaluationContext();\r\n\r\n  parser.parseExpression(&quot;#this.myEnum == &#39;SOMETHING&#39;&quot;)\r\n    .getValue(context, myThing, Boolean.class);\r\n```\r\n... where this ugly expression would work ...\r\n```\r\n  #this.myEnum == T(com.my.package.MyEnum).SOMETHING\r\n```\r\n\r\nSpring knows very well how to convert between `String`&lt;&gt;`Enum` so is there a way to configure this to work inline.","title":"Spring SpEL type conversion within expression","body":"<p>I know SpEL is happy to attempt to convert a result into a requested type using Spring's <code>ConversionService</code> framework but I want it to work <em>within</em> the expression itself.</p>\n<p>This simple snippets fails because it is comparing an <code>Enum</code> to a <code>String</code>...</p>\n<pre class=\"lang-java prettyprint-override\"><code>  ExpressionParser parser = new SpelExpressionParser(new SpelParserConfiguration(true, true));\n  StandardEvaluationContext context = new StandardEvaluationContext();\n\n  parser.parseExpression(&quot;#this.myEnum == 'SOMETHING'&quot;)\n    .getValue(context, myThing, Boolean.class);\n</code></pre>\n<p>... where this ugly expression would work ...</p>\n<pre><code>  #this.myEnum == T(com.my.package.MyEnum).SOMETHING\n</code></pre>\n<p>Spring knows very well how to convert between <code>String</code>&lt;&gt;<code>Enum</code> so is there a way to configure this to work inline.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":3,"creation_date":1666091296,"post_id":74109887,"comment_id":130848224,"body_markdown":"I wouldn&#39;t count on it","body":"I wouldn&#39;t count on it"}],"answers":[{"tags":[],"owner":{"account_id":11361669,"reputation":36,"user_id":8329636,"display_name":"Erwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091569,"creation_date":1666091569,"answer_id":74110013,"question_id":74109887,"body_markdown":"No it does not, only the object is stored within the cache\r\n\r\nYou could use your own caching solution, such as Spring&#39;s ```@Cacheable``` to store method results in cache","title":"Does java cache method results?","body":"<p>No it does not, only the object is stored within the cache</p>\n<p>You could use your own caching solution, such as Spring's <code>@Cacheable</code> to store method results in cache</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091868,"creation_date":1666091868,"answer_id":74110074,"question_id":74109887,"body_markdown":"No, Java doesn&#39;t cache method results in general.\r\n\r\nSome few methods of the Framework do this, but it&#39;s part of their implementation, e.g. `Integer.valueOf(int)`.\r\n\r\nc.f. [JavaDoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#valueOf(int)):\r\n&gt;This method will always cache values in the range -128 to 127, inclusive, and may cache other values outside of this range.&quot;\r\n\r\nBut with your implementation it would be easy to implement the &quot;caching&quot; by yourself: the class is immutable, that means the inputs don&#39;t change, so you can easily calculate the value on the first request and return the previously calculated value on subsequent requests:\r\n\r\n``` lang-java\r\npublic class MathClass {\r\n    private final int x;\r\n    private transient boolean calculated = false;\r\n    private transient int preCalcSomething;\r\n\r\n    public MathClass(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public int calculateSomething() {\r\n        if (!calculated) {\r\n            preCalcSomething = Math.sqrt(x);\r\n            calculated = true;\r\n        }\r\n        return preCalcSomething;\r\n    }\r\n}\r\n```\r\nI used the `transient` keyword here to mark that those two fields are not part of the &quot;object state&quot;. Don&#39;t forget to exclude them from `equals` and `hashCode` calculations and maybe other state-depending methods!\r\n\r\nIf you are using an object instead of a primitive, I would use `null` as indicator for &quot;not yet calculated&quot; if that is a value that cannot be the actual result of the cached operation. ","title":"Does java cache method results?","body":"<p>No, Java doesn't cache method results in general.</p>\n<p>Some few methods of the Framework do this, but it's part of their implementation, e.g. <code>Integer.valueOf(int)</code>.</p>\n<p>c.f. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#valueOf(int)\" rel=\"nofollow noreferrer\">JavaDoc</a>:</p>\n<blockquote>\n<p>This method will always cache values in the range -128 to 127, inclusive, and may cache other values outside of this range.&quot;</p>\n</blockquote>\n<p>But with your implementation it would be easy to implement the &quot;caching&quot; by yourself: the class is immutable, that means the inputs don't change, so you can easily calculate the value on the first request and return the previously calculated value on subsequent requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MathClass {\n    private final int x;\n    private transient boolean calculated = false;\n    private transient int preCalcSomething;\n\n    public MathClass(int x) {\n        this.x = x;\n    }\n\n    public int calculateSomething() {\n        if (!calculated) {\n            preCalcSomething = Math.sqrt(x);\n            calculated = true;\n        }\n        return preCalcSomething;\n    }\n}\n</code></pre>\n<p>I used the <code>transient</code> keyword here to mark that those two fields are not part of the &quot;object state&quot;. Don't forget to exclude them from <code>equals</code> and <code>hashCode</code> calculations and maybe other state-depending methods!</p>\n<p>If you are using an object instead of a primitive, I would use <code>null</code> as indicator for &quot;not yet calculated&quot; if that is a value that cannot be the actual result of the cached operation.</p>\n"},{"tags":[],"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666092115,"creation_date":1666092115,"answer_id":74110119,"question_id":74109887,"body_markdown":"You could calculate it just once, and then return the result previously calculated.\r\n\r\n        public class MathClass {\r\n        private final int x;\r\n        private final int result;\r\n    \r\n        public MathClass(int x) {\r\n            this.x = x;\r\n            this.result = Math.sqrt(x);\r\n        }\r\n    \r\n        public int calculateSomething() {\r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nThe calculation will not be performed more than one time. This is not a cache but works as one in your scenario. ","title":"Does java cache method results?","body":"<p>You could calculate it just once, and then return the result previously calculated.</p>\n<pre><code>    public class MathClass {\n    private final int x;\n    private final int result;\n\n    public MathClass(int x) {\n        this.x = x;\n        this.result = Math.sqrt(x);\n    }\n\n    public int calculateSomething() {\n        return result;\n    }\n\n}\n</code></pre>\n<p>The calculation will not be performed more than one time. This is not a cache but works as one in your scenario.</p>\n"}],"owner":{"account_id":23825289,"reputation":35,"user_id":17832434,"display_name":"Fexl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1666092115,"creation_date":1666090949,"question_id":74109887,"body_markdown":"If i have an immutable class like this:\r\n\r\n```java\r\npublic class MathClass {\r\n    private final int x;\r\n\r\n    public MathClass(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public int calculateSomething() {\r\n        return Math.sqrt(x);\r\n    }\r\n\r\n}\r\n```\r\n\r\nDoes the jvm cache the result of calculateSomething() on the first call?\r\nI have a more complicated calculation in the MathClass.","title":"Does java cache method results?","body":"<p>If i have an immutable class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MathClass {\n    private final int x;\n\n    public MathClass(int x) {\n        this.x = x;\n    }\n\n    public int calculateSomething() {\n        return Math.sqrt(x);\n    }\n\n}\n</code></pre>\n<p>Does the jvm cache the result of calculateSomething() on the first call?\nI have a more complicated calculation in the MathClass.</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":19744724,"reputation":624,"user_id":14457440,"display_name":"Arjun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621278458,"creation_date":1621278458,"answer_id":67575697,"question_id":67570057,"body_markdown":"Code snippet for new window,\r\n\r\n     WebDriver newWindow = driver.switchTo().newWindow(WindowType.WINDOW);\r\n        newWindow.get(&quot;https://blog.testproject.io/&quot;);\r\n        System.out.println(driver.getTitle());\r\n\r\nCode snippet for new tab,\r\n\r\n     WebDriver newTab = driver.switchTo().newWindow(WindowType.TAB);\r\n        newTab.get(&quot;https://testproject.io/platform/&quot;);\r\n        System.out.println(driver.getTitle());\r\n\r\n-Arjun","title":"How to distinguish between a new window and a new tab in Selenium","body":"<p>Code snippet for new window,</p>\n<pre><code> WebDriver newWindow = driver.switchTo().newWindow(WindowType.WINDOW);\n    newWindow.get(&quot;https://blog.testproject.io/&quot;);\n    System.out.println(driver.getTitle());\n</code></pre>\n<p>Code snippet for new tab,</p>\n<pre><code> WebDriver newTab = driver.switchTo().newWindow(WindowType.TAB);\n    newTab.get(&quot;https://testproject.io/platform/&quot;);\n    System.out.println(driver.getTitle());\n</code></pre>\n<p>-Arjun</p>\n"},{"tags":[],"owner":{"account_id":10078232,"reputation":468,"user_id":7509325,"display_name":"Ankur Parihar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091964,"creation_date":1666091964,"answer_id":74110092,"question_id":67570057,"body_markdown":"I also couldn&#39;t find any way to do this. But if your new window has different dimensions than current window, it&#39;s easy to detect it.\r\n\r\n    // size of current active window\r\n    const originalSize = JSON.stringify(await driver.manage().window().getRect());\r\n    \r\n    // open new window/tab and switch to new windowHandle\r\n    await driver.switchTo().window(windowHandle);\r\n\r\n    // get size of new window\r\n    const size = await driver.executeScript(function () {\r\n        return { x: window.screenX, y: window.screenY, height: window.innerHeight, width: window.innerWidth };\r\n    });\r\n    /** \r\n    * now you can compare the size with originalSize\r\n    * If they&#39;re same - it&#39;s a new tab, otherwise new window\r\n    */\r\n\r\n\r\n\r\nBut please keep in mind, this only works well if new window is supposed to be of different dimension.","title":"How to distinguish between a new window and a new tab in Selenium","body":"<p>I also couldn't find any way to do this. But if your new window has different dimensions than current window, it's easy to detect it.</p>\n<pre><code>// size of current active window\nconst originalSize = JSON.stringify(await driver.manage().window().getRect());\n\n// open new window/tab and switch to new windowHandle\nawait driver.switchTo().window(windowHandle);\n\n// get size of new window\nconst size = await driver.executeScript(function () {\n    return { x: window.screenX, y: window.screenY, height: window.innerHeight, width: window.innerWidth };\n});\n/** \n* now you can compare the size with originalSize\n* If they're same - it's a new tab, otherwise new window\n*/\n</code></pre>\n<p>But please keep in mind, this only works well if new window is supposed to be of different dimension.</p>\n"}],"owner":{"account_id":6426377,"reputation":13,"user_id":4981376,"display_name":"Dieterlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666091964,"creation_date":1621255890,"question_id":67570057,"body_markdown":"I want to know if there is any way to distinguish between a new window and a new tab, natively in Selenium.\r\n\r\nOn my test page there are buttons to open a page in the same window, a new window, or a new tab.\r\n\r\nI know how to switch to the new window or tab using window handles, but I cannot distinguish between the two. How do I know if the button opened the link in a new tab, and not a new window? \r\n\r\ni.e. in pseudocode (need code for ```openedInNewWindow()``` and ```openedInNewTab()```)\r\n```\r\nclick(newTabButton);\r\nif (openedInSameWindow()) {\r\n    Log.Error(&quot;Link opened in same window :(&quot;);\r\n} else if (openedInNewWindow()) {\r\n    Log.Error(&quot;Link opened in new window :(&quot;);\r\n} else if (openedInNewTab()) {\r\n    Log.Success(&quot;Link opened in new tab :)&quot;);\r\n} else {\r\n    Log.Error(&quot;Link didn&#39;t open anything :(&quot;);\r\n}\r\n```","title":"How to distinguish between a new window and a new tab in Selenium","body":"<p>I want to know if there is any way to distinguish between a new window and a new tab, natively in Selenium.</p>\n<p>On my test page there are buttons to open a page in the same window, a new window, or a new tab.</p>\n<p>I know how to switch to the new window or tab using window handles, but I cannot distinguish between the two. How do I know if the button opened the link in a new tab, and not a new window?</p>\n<p>i.e. in pseudocode (need code for <code>openedInNewWindow()</code> and <code>openedInNewTab()</code>)</p>\n<pre><code>click(newTabButton);\nif (openedInSameWindow()) {\n    Log.Error(&quot;Link opened in same window :(&quot;);\n} else if (openedInNewWindow()) {\n    Log.Error(&quot;Link opened in new window :(&quot;);\n} else if (openedInNewTab()) {\n    Log.Success(&quot;Link opened in new tab :)&quot;);\n} else {\n    Log.Error(&quot;Link didn't open anything :(&quot;);\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663471268,"creation_date":1663471268,"answer_id":73759913,"question_id":73759868,"body_markdown":"First stream the keys, and use the [`toMap`][1] collector. You specify what the keys and values of the map are, in terms of an element in the `keys` list. \r\n\r\nThe keys of the map are just the elements of the keys list, unchanged, and that the values of the map are the (inner) lists of `values` that contains the element in the `keys` list. This is where you can stream the `values` list and `filter`.\r\n\r\n    var result = keys.stream().collect(Collectors.toMap(\r\n        key -&gt; key, // or Function.identity()\r\n        key -&gt; values.stream().filter(value -&gt; value.contains(key)).toList()\r\n    ));\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)","title":"Create Map from two lists with some filtering","body":"<p>First stream the keys, and use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>toMap</code></a> collector. You specify what the keys and values of the map are, in terms of an element in the <code>keys</code> list.</p>\n<p>The keys of the map are just the elements of the keys list, unchanged, and that the values of the map are the (inner) lists of <code>values</code> that contains the element in the <code>keys</code> list. This is where you can stream the <code>values</code> list and <code>filter</code>.</p>\n<pre><code>var result = keys.stream().collect(Collectors.toMap(\n    key -&gt; key, // or Function.identity()\n    key -&gt; values.stream().filter(value -&gt; value.contains(key)).toList()\n));\n</code></pre>\n"}],"owner":{"account_id":13089185,"reputation":95,"user_id":9457247,"display_name":"hong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73759913,"answer_count":1,"score":-2,"last_activity_date":1666091912,"creation_date":1663470473,"question_id":73759868,"body_markdown":"I got two Lists as follows\r\n\r\n```java\r\nList&lt;String&gt; keys = List.of(&quot;A1&quot;, &quot;B1&quot;, &quot;A2&quot;, &quot;B2&quot;);\r\nList&lt;List&lt;String&gt;&gt; values = List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;));\r\n```\r\n\r\nAnd I wanted to make a Map from those two Lists *at the declaration time*.\r\n\r\n```java\r\nMap&lt;String, List&lt;List&lt;String&gt;&gt;&gt; result = Map.ofEntries(\r\n\tMap.entry(&quot;A1&quot;, List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;))),\r\n\tMap.entry(&quot;A2&quot;, List.of(List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;))),\r\n\tMap.entry(&quot;B1&quot;, List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;))),\r\n\tMap.entry(&quot;B2&quot;, List.of(List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;)))\r\n)\r\n```\r\n\r\nAs you can see, each `map entry`&#39;s value gathers `values entry` containing the key&#39;s value.\r\n\r\nI tried to make this Map object using `stream` api, `map method` and `filter method`.\r\n```java\r\nMap&lt;Object, Object&gt; result1 = keys.stream()\r\n\t.map(key -&gt; List.of(key, values.stream().filter(value -&gt; value.contains(key)).toList()))\r\n\t.collect(Collectors.toMap(data -&gt; data.get(0), data -&gt; data.get(1)));\t\r\n```\r\n\r\nThis worked but seems ugly.\r\n\r\nI thought there should be an efficient way more than this one.\r\n\r\nShow me the best way to improve this.","title":"Create Map from two lists with some filtering","body":"<p>I got two Lists as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; keys = List.of(&quot;A1&quot;, &quot;B1&quot;, &quot;A2&quot;, &quot;B2&quot;);\nList&lt;List&lt;String&gt;&gt; values = List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;));\n</code></pre>\n<p>And I wanted to make a Map from those two Lists <em>at the declaration time</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; result = Map.ofEntries(\n    Map.entry(&quot;A1&quot;, List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;))),\n    Map.entry(&quot;A2&quot;, List.of(List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;))),\n    Map.entry(&quot;B1&quot;, List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;))),\n    Map.entry(&quot;B2&quot;, List.of(List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;)))\n)\n</code></pre>\n<p>As you can see, each <code>map entry</code>'s value gathers <code>values entry</code> containing the key's value.</p>\n<p>I tried to make this Map object using <code>stream</code> api, <code>map method</code> and <code>filter method</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Object, Object&gt; result1 = keys.stream()\n    .map(key -&gt; List.of(key, values.stream().filter(value -&gt; value.contains(key)).toList()))\n    .collect(Collectors.toMap(data -&gt; data.get(0), data -&gt; data.get(1)));   \n</code></pre>\n<p>This worked but seems ugly.</p>\n<p>I thought there should be an efficient way more than this one.</p>\n<p>Show me the best way to improve this.</p>\n"},{"tags":["java","retrofit2","aop","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666091795,"creation_date":1666091795,"answer_id":74110053,"question_id":73999329,"body_markdown":"Apparently no solution was found. So, assuming it is not possible and moving to spring webclient.","title":"Retry and circuit breaker both with retrofit 2 and resillence4j","body":"<p>Apparently no solution was found. So, assuming it is not possible and moving to spring webclient.</p>\n"}],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74110053,"answer_count":1,"score":0,"last_activity_date":1666091795,"creation_date":1665251759,"question_id":73999329,"body_markdown":"I know the default order of resillence4j is Retry(CircuitBreaker(func())) .... But I am in need of something like this CircuitBreaker(Retry(func())).... And I am on retrofit2. Is it acheivable? If so, how can I acheive this?\r\n\r\nMy retry and circuit breaker: \r\n\r\n     public Retry getRetry() {\r\n\r\n        if (retry == null) {\r\n\r\n            retry = Retry.of(APP_NAME, RetryConfig.custom()\r\n                    .maxAttempts(3)\r\n                    .waitDuration(Duration.ofSeconds(3))\r\n                    .retryExceptions(IOException.class, TimeoutException.class, ServiceException.class)\r\n                    .failAfterMaxAttempts(true)\r\n                    .build());\r\n\r\n            log.debug(&quot;New instance of resilience4j retry created&quot;);\r\n        }\r\n\r\n        return retry;\r\n    }\r\n\r\n    public CircuitBreaker getCircuitBreaker() {\r\n\r\n        if (circuitBreaker == null) {\r\n\r\n            circuitBreaker = CircuitBreaker.of(APP_NAME, CircuitBreakerConfig.custom()\r\n                    .failureRateThreshold(50)\r\n                    .minimumNumberOfCalls(5)\r\n                    .automaticTransitionFromOpenToHalfOpenEnabled(true)\r\n                    .waitDurationInOpenState(Duration.ofSeconds(3))\r\n                    .permittedNumberOfCallsInHalfOpenState(3)\r\n                    .slidingWindowType(COUNT_BASED)\r\n                    .slidingWindowSize(10)\r\n                    .slowCallRateThreshold(50)\r\n                    .slowCallDurationThreshold(Duration.ofSeconds(5))\r\n                    .recordExceptions(IOException.class, TimeoutException.class, ServiceException.class)\r\n                    .build());\r\n\r\n            log.debug(&quot;New instance of resilience4j circuit breaker created&quot;);\r\n        }\r\n\r\n        return circuitBreaker;\r\n    }\r\n\r\nAnd my retrofit builder:\r\n\r\n    protected void initializeRetrofit() {\r\n\r\n        retrofitBuilder.baseUrl(baseUrl());\r\n\r\n        Retrofit retrofit = retrofitBuilder\r\n                .addCallAdapterFactory(RetryCallAdapter.of(retrofitCallerConfigurar.getRetry()))\r\n                .addCallAdapterFactory(CircuitBreakerCallAdapter.of(retrofitCallerConfigurar.getCircuitBreaker()))\r\n                .addConverterFactory(GsonConverterFactory.create(dateTimeFormat()))\r\n                .client(retrofitCallerConfigurar.getOkHttpClient())\r\n                .build();\r\n\r\n        api = retrofit.create(getApiClient());\r\n    }","title":"Retry and circuit breaker both with retrofit 2 and resillence4j","body":"<p>I know the default order of resillence4j is Retry(CircuitBreaker(func())) .... But I am in need of something like this CircuitBreaker(Retry(func())).... And I am on retrofit2. Is it acheivable? If so, how can I acheive this?</p>\n<p>My retry and circuit breaker:</p>\n<pre><code> public Retry getRetry() {\n\n    if (retry == null) {\n\n        retry = Retry.of(APP_NAME, RetryConfig.custom()\n                .maxAttempts(3)\n                .waitDuration(Duration.ofSeconds(3))\n                .retryExceptions(IOException.class, TimeoutException.class, ServiceException.class)\n                .failAfterMaxAttempts(true)\n                .build());\n\n        log.debug(&quot;New instance of resilience4j retry created&quot;);\n    }\n\n    return retry;\n}\n\npublic CircuitBreaker getCircuitBreaker() {\n\n    if (circuitBreaker == null) {\n\n        circuitBreaker = CircuitBreaker.of(APP_NAME, CircuitBreakerConfig.custom()\n                .failureRateThreshold(50)\n                .minimumNumberOfCalls(5)\n                .automaticTransitionFromOpenToHalfOpenEnabled(true)\n                .waitDurationInOpenState(Duration.ofSeconds(3))\n                .permittedNumberOfCallsInHalfOpenState(3)\n                .slidingWindowType(COUNT_BASED)\n                .slidingWindowSize(10)\n                .slowCallRateThreshold(50)\n                .slowCallDurationThreshold(Duration.ofSeconds(5))\n                .recordExceptions(IOException.class, TimeoutException.class, ServiceException.class)\n                .build());\n\n        log.debug(&quot;New instance of resilience4j circuit breaker created&quot;);\n    }\n\n    return circuitBreaker;\n}\n</code></pre>\n<p>And my retrofit builder:</p>\n<pre><code>protected void initializeRetrofit() {\n\n    retrofitBuilder.baseUrl(baseUrl());\n\n    Retrofit retrofit = retrofitBuilder\n            .addCallAdapterFactory(RetryCallAdapter.of(retrofitCallerConfigurar.getRetry()))\n            .addCallAdapterFactory(CircuitBreakerCallAdapter.of(retrofitCallerConfigurar.getCircuitBreaker()))\n            .addConverterFactory(GsonConverterFactory.create(dateTimeFormat()))\n            .client(retrofitCallerConfigurar.getOkHttpClient())\n            .build();\n\n    api = retrofit.create(getApiClient());\n}\n</code></pre>\n"},{"tags":["java","api","swagger","documentation","openapi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666127873,"post_id":74108458,"comment_id":130861399,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26529173,"reputation":1,"user_id":20161655,"display_name":"Nik"},"score":0,"creation_date":1666246188,"post_id":74108458,"comment_id":130891150,"body_markdown":"It&#39;s done, If anybody facing the same issue, Please define schema = @Schema() than only you can able to hit API with data in open api 1.6.x . I am not concluding that this is the only way but you can like this.","body":"It&#39;s done, If anybody facing the same issue, Please define schema = @Schema() than only you can able to hit API with data in open api 1.6.x . I am not concluding that this is the only way but you can like this."},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1666643290,"post_id":74108458,"comment_id":130981781,"body_markdown":"Change `@Parameter(name=&quot;sigma&quot;` to `@Parameter(name=&quot;tableName&quot;`. Does this help?","body":"Change <code>@Parameter(name=&quot;sigma&quot;</code> to <code>@Parameter(name=&quot;tableName&quot;</code>. Does this help?"}],"owner":{"account_id":26529173,"reputation":1,"user_id":20161655,"display_name":"Nik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666091752,"creation_date":1666084409,"question_id":74108458,"body_markdown":"I have implemented the api\r\n\r\n```java\r\n@GetMapping(&quot;/mqsql-data/{tableName}&quot;)\r\npublic List&lt;String, Object&gt; getTableData(@Parameter(name=&quot;sigma&quot;, schema=@Schema(type=&quot;string&quot;, defaultValue=&quot;sigma&quot;) @PathVariable String tableName) {\r\n    return service.getData(tableName);\r\n}\r\n```\r\n\r\nadded dependency : `org.springdoc:springdoc-openapi-ui:1.6.11`\r\n\r\nIt is generating swagger ui.\r\n\r\nwhen I am calling my api from browser and postman, I am getting the data means code is working fine but If I am trying to hitting api from swagger ui, value to tableName is not passing and getting below syntax error \r\n\r\n`Incorrect syntax near &#39;}&#39;. I debug the code It is not taking tableName from swagger ui page.`\r\n\r\nCan anybody help on this. Thanks in advance\r\n\r\n\r\n","title":"Unable to find Path variable data","body":"<p>I have implemented the api</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/mqsql-data/{tableName}&quot;)\npublic List&lt;String, Object&gt; getTableData(@Parameter(name=&quot;sigma&quot;, schema=@Schema(type=&quot;string&quot;, defaultValue=&quot;sigma&quot;) @PathVariable String tableName) {\n    return service.getData(tableName);\n}\n</code></pre>\n<p>added dependency : <code>org.springdoc:springdoc-openapi-ui:1.6.11</code></p>\n<p>It is generating swagger ui.</p>\n<p>when I am calling my api from browser and postman, I am getting the data means code is working fine but If I am trying to hitting api from swagger ui, value to tableName is not passing and getting below syntax error</p>\n<p><code>Incorrect syntax near '}'. I debug the code It is not taking tableName from swagger ui page.</code></p>\n<p>Can anybody help on this. Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":197547,"reputation":2250,"user_id":441692,"accept_rate":100,"display_name":"Sanchit"},"score":0,"creation_date":1363418737,"post_id":15446689,"comment_id":21853277,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read()\n\nIt reads a byte worth of data from the input stream.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a>  It reads a byte worth of data from the input stream."},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1363418738,"post_id":15446689,"comment_id":21853278,"body_markdown":"see here http://www.coderanch.com/t/278751//java/system-read-method","body":"see here <a href=\"http://www.coderanch.com/t/278751//java/system-read-method\" rel=\"nofollow noreferrer\">coderanch.com/t/278751//java/system-read-method</a>"},{"owner":{"account_id":2292952,"reputation":600,"user_id":2015204,"accept_rate":87,"display_name":"Ameer"},"score":0,"creation_date":1363418841,"post_id":15446689,"comment_id":21853299,"body_markdown":"simple it is used to get the input from the user. Google before asking here .","body":"simple it is used to get the input from the user. Google before asking here ."},{"owner":{"account_id":1752028,"reputation":144904,"user_id":1600898,"accept_rate":78,"display_name":"user4815162342"},"score":6,"creation_date":1363422266,"post_id":15446689,"comment_id":21853962,"body_markdown":"@HussainAkhtarWahid The concept (and real-world usages) of &quot;standard input&quot; can be pretty foreign to a Java programmer. While the `read` method is obviously explained in Javadoc, the intended use of `System.in` is not. Googling System.in does not reveal much, either.","body":"@HussainAkhtarWahid The concept (and real-world usages) of &quot;standard input&quot; can be pretty foreign to a Java programmer. While the <code>read</code> method is obviously explained in Javadoc, the intended use of <code>System.in</code> is not. Googling System.in does not reveal much, either."},{"owner":{"account_id":1255478,"reputation":6874,"user_id":1243926,"accept_rate":69,"display_name":"Sergey Orshanskiy"},"score":18,"creation_date":1380916608,"post_id":15446689,"comment_id":28393339,"body_markdown":"Actually, I got here from Google.","body":"Actually, I got here from Google."}],"answers":[{"tags":[],"owner":{"account_id":1752028,"reputation":144904,"user_id":1600898,"accept_rate":78,"display_name":"user4815162342"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363422289,"creation_date":1363418767,"answer_id":15446712,"question_id":15446689,"body_markdown":"[`System.in.read()`][1] reads from the [standard input][2].\r\n\r\nThe standard input can be used to get input from user in a console environment but, as such user interface has no editing facilities, the interactive use of standard input is restricted to courses that teach programming.\r\n\r\nMost production use of standard input is in programs designed to work inside Unix command-line [pipelines][3]. In such programs the payload that the program is processing is coming from the standard input and the program&#39;s result gets written to the standard output. In that case the standard input is never written directly by the user, it is the redirected output of another program or the contents of a file.\r\n\r\nA typical pipeline looks like this:\r\n\r\n    # list files and directories ordered by increasing size\r\n    du -s * | sort -n\r\n\r\n[`sort`][4] reads its data from the standard input, which is in fact the output of the [`du`][5] command. The sorted data is written to the standard output of `sort`, which ends up on the console by default, and can be easily redirected to a file or to another command.\r\n\r\nAs such, the standard input is comparatively rarely used in Java.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28%29\r\n  [2]: http://www.linfo.org/standard_input.html\r\n  [3]: http://en.wikipedia.org/wiki/Pipeline_%28Unix%29\r\n  [4]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CDIQFjAA&amp;url=http://linux.die.net/man/1/sort&amp;ei=xiBEUf6gB8nMPcH9gYAK&amp;usg=AFQjCNHmVN997nPl4AWwzIC4P_4fCswc9g\r\n  [5]: http://linux.die.net/man/1/du","title":"What is the use of System.in.read()?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28%29\" rel=\"nofollow\"><code>System.in.read()</code></a> reads from the <a href=\"http://www.linfo.org/standard_input.html\" rel=\"nofollow\">standard input</a>.</p>\n\n<p>The standard input can be used to get input from user in a console environment but, as such user interface has no editing facilities, the interactive use of standard input is restricted to courses that teach programming.</p>\n\n<p>Most production use of standard input is in programs designed to work inside Unix command-line <a href=\"http://en.wikipedia.org/wiki/Pipeline_%28Unix%29\" rel=\"nofollow\">pipelines</a>. In such programs the payload that the program is processing is coming from the standard input and the program's result gets written to the standard output. In that case the standard input is never written directly by the user, it is the redirected output of another program or the contents of a file.</p>\n\n<p>A typical pipeline looks like this:</p>\n\n<pre><code># list files and directories ordered by increasing size\ndu -s * | sort -n\n</code></pre>\n\n<p><a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CDIQFjAA&amp;url=http://linux.die.net/man/1/sort&amp;ei=xiBEUf6gB8nMPcH9gYAK&amp;usg=AFQjCNHmVN997nPl4AWwzIC4P_4fCswc9g\" rel=\"nofollow\"><code>sort</code></a> reads its data from the standard input, which is in fact the output of the <a href=\"http://linux.die.net/man/1/du\" rel=\"nofollow\"><code>du</code></a> command. The sorted data is written to the standard output of <code>sort</code>, which ends up on the console by default, and can be easily redirected to a file or to another command.</p>\n\n<p>As such, the standard input is comparatively rarely used in Java.</p>\n"},{"tags":[],"owner":{"account_id":1430228,"reputation":424,"user_id":2114059,"display_name":"USER"},"down_vote_count":1,"up_vote_count":31,"is_accepted":true,"score":30,"last_activity_date":1390405917,"creation_date":1363418800,"answer_id":15446718,"question_id":15446689,"body_markdown":"May be this example will help you.\r\n\r\n    import java.io.IOException;\r\n\r\n    public class MainClass {\r\n\r\n        public static void main(String[] args) {\r\n            int inChar;\r\n            System.out.println(&quot;Enter a Character:&quot;);\r\n            try {\r\n                inChar = System.in.read();\r\n                System.out.print(&quot;You entered &quot;);\r\n                System.out.println(inChar);\r\n            }\r\n            catch (IOException e){\r\n                System.out.println(&quot;Error reading from user&quot;);\r\n            }\r\n        }\r\n    }\r\n        ","title":"What is the use of System.in.read()?","body":"<p>May be this example will help you.</p>\n\n<pre><code>import java.io.IOException;\n\npublic class MainClass {\n\n    public static void main(String[] args) {\n        int inChar;\n        System.out.println(\"Enter a Character:\");\n        try {\n            inChar = System.in.read();\n            System.out.print(\"You entered \");\n            System.out.println(inChar);\n        }\n        catch (IOException e){\n            System.out.println(\"Error reading from user\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261786,"reputation":13726,"user_id":546205,"accept_rate":60,"display_name":"Miguel Prz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363418861,"creation_date":1363418861,"answer_id":15446728,"question_id":15446689,"body_markdown":"It allows you to read from the standard input (mainly, the console). [This SO question][1] may helps you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5488072/reading-in-from-system-in-java","title":"What is the use of System.in.read()?","body":"<p>It allows you to read from the standard input (mainly, the console). <a href=\"https://stackoverflow.com/questions/5488072/reading-in-from-system-in-java\">This SO question</a> may helps you.</p>\n"},{"tags":[],"owner":{"account_id":319648,"reputation":6146,"user_id":637517,"accept_rate":85,"display_name":"subodh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1363419447,"creation_date":1363419447,"answer_id":15446818,"question_id":15446689,"body_markdown":"`System` is a final class in `java.lang` package\r\n\r\ncode sample from the source code of api\r\n\r\n    public final class System {\r\n    \r\n       /**\r\n         * The &quot;standard&quot; input stream. This stream is already\r\n         * open and ready to supply input data. Typically this stream\r\n         * corresponds to keyboard input or another input source specified by\r\n         * the host environment or user.\r\n         */\r\n        public final static InputStream in = nullInputStream();\r\n    \r\n    }\r\n\r\n`read()` is an abstract method of abstract class `InputStream`\r\n\r\n\r\n  \r\n\r\n     /**\r\n         * Reads the next byte of data from the input stream. The value byte is\r\n         * returned as an &lt;code&gt;int&lt;/code&gt; in the range &lt;code&gt;0&lt;/code&gt; to\r\n         * &lt;code&gt;255&lt;/code&gt;. If no byte is available because the end of the stream\r\n         * has been reached, the value &lt;code&gt;-1&lt;/code&gt; is returned. This method\r\n         * blocks until input data is available, the end of the stream is detected,\r\n         * or an exception is thrown.\r\n         *\r\n         * &lt;p&gt; A subclass must provide an implementation of this method.\r\n         *\r\n         * @return     the next byte of data, or &lt;code&gt;-1&lt;/code&gt; if the end of the\r\n         *             stream is reached.\r\n         * @exception  IOException  if an I/O error occurs.\r\n         */\r\n        public abstract int read() throws IOException;\r\n\r\nIn short from the api:\r\n\r\n&gt; Reads some number of bytes from the input stream and stores them into\r\n&gt; the buffer array b. The number of bytes actually read is returned as\r\n&gt; an integer. This method blocks until input data is available, end of\r\n&gt; file is detected, or an exception is thrown.\r\n\r\n \r\nfrom [InputStream.html#read()][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28%29","title":"What is the use of System.in.read()?","body":"<p><code>System</code> is a final class in <code>java.lang</code> package</p>\n\n<p>code sample from the source code of api</p>\n\n<pre><code>public final class System {\n\n   /**\n     * The \"standard\" input stream. This stream is already\n     * open and ready to supply input data. Typically this stream\n     * corresponds to keyboard input or another input source specified by\n     * the host environment or user.\n     */\n    public final static InputStream in = nullInputStream();\n\n}\n</code></pre>\n\n<p><code>read()</code> is an abstract method of abstract class <code>InputStream</code></p>\n\n<pre><code> /**\n     * Reads the next byte of data from the input stream. The value byte is\n     * returned as an &lt;code&gt;int&lt;/code&gt; in the range &lt;code&gt;0&lt;/code&gt; to\n     * &lt;code&gt;255&lt;/code&gt;. If no byte is available because the end of the stream\n     * has been reached, the value &lt;code&gt;-1&lt;/code&gt; is returned. This method\n     * blocks until input data is available, the end of the stream is detected,\n     * or an exception is thrown.\n     *\n     * &lt;p&gt; A subclass must provide an implementation of this method.\n     *\n     * @return     the next byte of data, or &lt;code&gt;-1&lt;/code&gt; if the end of the\n     *             stream is reached.\n     * @exception  IOException  if an I/O error occurs.\n     */\n    public abstract int read() throws IOException;\n</code></pre>\n\n<p>In short from the api:</p>\n\n<blockquote>\n  <p>Reads some number of bytes from the input stream and stores them into\n  the buffer array b. The number of bytes actually read is returned as\n  an integer. This method blocks until input data is available, end of\n  file is detected, or an exception is thrown.</p>\n</blockquote>\n\n<p>from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28%29\" rel=\"noreferrer\">InputStream.html#read()</a></p>\n"},{"tags":[],"owner":{"account_id":4634666,"reputation":2759,"user_id":3756232,"accept_rate":40,"display_name":"Guru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416307719,"creation_date":1416307719,"answer_id":26992416,"question_id":15446689,"body_markdown":"System.in.read() is a read input method for System.in class which is &quot;Standard Input file&quot; or 0 in conventional OS.\r\n","title":"What is the use of System.in.read()?","body":"<p>System.in.read() is a read input method for System.in class which is \"Standard Input file\" or 0 in conventional OS.</p>\n"},{"tags":[],"owner":{"account_id":7133283,"reputation":11,"user_id":5453823,"display_name":"MavericksFoundation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445001092,"creation_date":1445000713,"answer_id":33171264,"question_id":15446689,"body_markdown":"This example should help? Along with the comments, of course &gt;:)\r\n\r\nWARNING: MAN IS AN OVERUSED FREQUENT WORD IN THIS PARAGRAPH/POST\r\n\r\nOverall I recommend using the `Scanner` class since you can input large sentences, I&#39;m not entirely sure `System.in.read` has such aspects. If possible, please correct me.\r\n\r\n\r\n    public class InputApp {\r\n    \r\n    // Don&#39;t worry, passing in args in the main method as one of the arguments isn&#39;t required MAN\r\n    \r\n    \tpublic static void main(String[] argumentalManWithAManDisorder){\r\n    \t\tchar inputManAger;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Input Some Crap Man: &quot;);\r\n    \t\ttry{\r\n                // If you forget to cast char you will FAIL YOUR TASK MAN\r\n    \t\t\tinputManAger = (char) System.in.read();\r\n    \t\t\tSystem.out.print(&quot;You entererd &quot; + inputManAger + &quot; MAN&quot;);\r\n    \t\t}\r\n    \t\tcatch(Exception e){\r\n    \t\t\tSystem.out.println(&quot;ELEMENTARY SCHOOL MAN&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"What is the use of System.in.read()?","body":"<p>This example should help? Along with the comments, of course >:)</p>\n\n<p>WARNING: MAN IS AN OVERUSED FREQUENT WORD IN THIS PARAGRAPH/POST</p>\n\n<p>Overall I recommend using the <code>Scanner</code> class since you can input large sentences, I'm not entirely sure <code>System.in.read</code> has such aspects. If possible, please correct me.</p>\n\n<pre><code>public class InputApp {\n\n// Don't worry, passing in args in the main method as one of the arguments isn't required MAN\n\n    public static void main(String[] argumentalManWithAManDisorder){\n        char inputManAger;\n\n        System.out.println(\"Input Some Crap Man: \");\n        try{\n            // If you forget to cast char you will FAIL YOUR TASK MAN\n            inputManAger = (char) System.in.read();\n            System.out.print(\"You entererd \" + inputManAger + \" MAN\");\n        }\n        catch(Exception e){\n            System.out.println(\"ELEMENTARY SCHOOL MAN\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1666091710,"creation_date":1449424180,"answer_id":34120618,"question_id":15446689,"body_markdown":"**Two and a half years late is better than never, right?**\r\n\r\n`int System.in.read()` reads the next byte of data from the input stream.  But I am sure you already knew that, because it is trivial to look up.  So, what you are probably asking is:\r\n\r\n* Why is it declared to return an `int` when the documentation says that it reads a `byte`?\r\n\r\n* and why does it appear to return garbage? (I type `&#39;9&#39;`, but it returns `57`.)\r\n\r\n**It returns an `int`** because besides all the possible values of a byte, it also needs to be able to return an extra value to indicate end-of-stream.  So, it has to return a type which can express more values than a `byte` can.\r\n\r\n&lt;sup&gt;Note: They could have made it a `short`, but they opted for `int` instead, possibly as a tip of the hat of historical significance to C, whose `getc()` function also returns an `int`, but more importantly because `short` is a bit cumbersome to work with, (the language offers no means of specifying a `short` literal, so you have to specify an `int` literal and cast it to `short`,) plus on certain architectures `int` has better performance than `short`.&lt;/sup&gt;\r\n\r\n**It appears to return garbage** because when you view a character as an integer, what you are looking at is the ASCII&lt;sup&gt;(*)&lt;/sup&gt; value of that character.  So, a `&#39;9&#39;` appears as `57`.  But if you cast that integer to a character, you get `&#39;9&#39;`, so all is well.\r\n\r\n&lt;sup&gt;Think of it this way: if you typed the character `&#39;9&#39;` it is nonsensical to expect `System.in.read()` to return the number `9`, because then what number would you expect it to return if you had typed an `&#39;a&#39;`? Obviously, characters must be mapped to numbers.  ASCII&lt;sup&gt;(*)&lt;/sup&gt; is a system of mapping characters to numbers.  And in this system, character `&#39;9&#39;` maps to number `57`, not number `9`.&lt;/sup&gt;\r\n\r\n(*) Not necessarily ASCII; it may be some other encoding, like UTF-16; but in the vast majority of encodings, and certainly in all popular encodings, the first 127 values are the same as ASCII. And this includes all english alphanumeric characters and popular symbols.","title":"What is the use of System.in.read()?","body":"<p><strong>Two and a half years late is better than never, right?</strong></p>\n<p><code>int System.in.read()</code> reads the next byte of data from the input stream.  But I am sure you already knew that, because it is trivial to look up.  So, what you are probably asking is:</p>\n<ul>\n<li><p>Why is it declared to return an <code>int</code> when the documentation says that it reads a <code>byte</code>?</p>\n</li>\n<li><p>and why does it appear to return garbage? (I type <code>'9'</code>, but it returns <code>57</code>.)</p>\n</li>\n</ul>\n<p><strong>It returns an <code>int</code></strong> because besides all the possible values of a byte, it also needs to be able to return an extra value to indicate end-of-stream.  So, it has to return a type which can express more values than a <code>byte</code> can.</p>\n<p><sup>Note: They could have made it a <code>short</code>, but they opted for <code>int</code> instead, possibly as a tip of the hat of historical significance to C, whose <code>getc()</code> function also returns an <code>int</code>, but more importantly because <code>short</code> is a bit cumbersome to work with, (the language offers no means of specifying a <code>short</code> literal, so you have to specify an <code>int</code> literal and cast it to <code>short</code>,) plus on certain architectures <code>int</code> has better performance than <code>short</code>.</sup></p>\n<p><strong>It appears to return garbage</strong> because when you view a character as an integer, what you are looking at is the ASCII<sup>(*)</sup> value of that character.  So, a <code>'9'</code> appears as <code>57</code>.  But if you cast that integer to a character, you get <code>'9'</code>, so all is well.</p>\n<p><sup>Think of it this way: if you typed the character <code>'9'</code> it is nonsensical to expect <code>System.in.read()</code> to return the number <code>9</code>, because then what number would you expect it to return if you had typed an <code>'a'</code>? Obviously, characters must be mapped to numbers.  ASCII<sup>(*)</sup> is a system of mapping characters to numbers.  And in this system, character <code>'9'</code> maps to number <code>57</code>, not number <code>9</code>.</sup></p>\n<p>(*) Not necessarily ASCII; it may be some other encoding, like UTF-16; but in the vast majority of encodings, and certainly in all popular encodings, the first 127 values are the same as ASCII. And this includes all english alphanumeric characters and popular symbols.</p>\n"},{"tags":[],"owner":{"display_name":"user9306701"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1517777771,"creation_date":1517777771,"answer_id":48612930,"question_id":15446689,"body_markdown":"Just to complement the accepted answer, you could also use `System.out.read()` like this:\r\n\r\n    class Example {\r\n\t    public static void main(String args[])\r\n            throws java.io.IOException { // This works! No need to use try{// ...}catch(IOException ex){// ...}        \t\r\n            \r\n            System.out.println(&quot;Type a letter: &quot;);\r\n            char letter = (char) System.in.read();\r\n            System.out.println(&quot;You typed the letter &quot; + letter);\r\n        }\r\n    }","title":"What is the use of System.in.read()?","body":"<p>Just to complement the accepted answer, you could also use <code>System.out.read()</code> like this:</p>\n\n<pre><code>class Example {\n    public static void main(String args[])\n        throws java.io.IOException { // This works! No need to use try{// ...}catch(IOException ex){// ...}         \n\n        System.out.println(\"Type a letter: \");\n        char letter = (char) System.in.read();\n        System.out.println(\"You typed the letter \" + letter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10995672,"reputation":572,"user_id":8077972,"display_name":"Manjitha Teshara"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556458719,"creation_date":1533364228,"answer_id":51683127,"question_id":15446689,"body_markdown":"```java\r\nimport java.io.IOException;\r\n\r\nclass ExamTest{\r\n    \r\n    public static void main(String args[]) throws IOException{\r\n        int sn=System.in.read();\r\n        System.out.println(sn);\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf you want get char input you have to cast like this: `char sn=(char) System.in.read()`\r\n\r\nThe value byte is returned as int in the range 0 to 255. However, unlike in other languages’ methods, `System.in.read()` reads only a byte at a time.\r\n\r\n","title":"What is the use of System.in.read()?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\n\nclass ExamTest{\n\n    public static void main(String args[]) throws IOException{\n        int sn=System.in.read();\n        System.out.println(sn);\n    }\n}\n\n</code></pre>\n\n<p>If you want get char input you have to cast like this: <code>char sn=(char) System.in.read()</code></p>\n\n<p>The value byte is returned as int in the range 0 to 255. However, unlike in other languages’ methods, <code>System.in.read()</code> reads only a byte at a time.</p>\n"},{"tags":[],"owner":{"account_id":15363847,"reputation":31,"user_id":11083944,"display_name":"Shivam Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561884190,"creation_date":1561884190,"answer_id":56823545,"question_id":15446689,"body_markdown":"system.in.read() method reads a byte and returns as an integer but if you enter a no between 1 to 9 ,it will return 48+ values because in ascii code table ,ascii values of 1-9 are 48-57 .\r\n hope , it will help.","title":"What is the use of System.in.read()?","body":"<p>system.in.read() method reads a byte and returns as an integer but if you enter a no between 1 to 9 ,it will return 48+ values because in ascii code table ,ascii values of 1-9 are 48-57 .\n hope , it will help.</p>\n"}],"owner":{"account_id":2501488,"reputation":353,"user_id":2176449,"display_name":"gobi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198896,"favorite_count":0,"down_vote_count":14,"up_vote_count":34,"accepted_answer_id":15446718,"answer_count":10,"score":20,"last_activity_date":1666091710,"creation_date":1363418583,"question_id":15446689,"body_markdown":"What is the use of `System.in.read()` in java?  \r\nPlease explain this.","title":"What is the use of System.in.read()?","body":"<p>What is the use of <code>System.in.read()</code> in java?<br>\nPlease explain this.</p>\n"},{"tags":["java","jackson","deserialization","jackson-databind"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1647693078,"post_id":71537878,"comment_id":126437687,"body_markdown":"`AggregateId` is failing to deserialize for me (the empty beans error, which was supposedly addressed with jackson 2.12). Am I missing something? Does your code as is produce that result?","body":"<code>AggregateId</code> is failing to deserialize for me (the empty beans error, which was supposedly addressed with jackson 2.12). Am I missing something? Does your code as is produce that result?"},{"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"score":0,"creation_date":1647695902,"post_id":71537878,"comment_id":126438170,"body_markdown":"@ernest_k I added a simple example with the default config of `ObjectMapper`.","body":"@ernest_k I added a simple example with the default config of <code>ObjectMapper</code>."}],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647708574,"creation_date":1647700910,"answer_id":71539100,"question_id":71537878,"body_markdown":"**The combination of `@JsonUnwrapped` and `@JsonCreator` is not supported yet**, so we can generate a solution like this:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\n\r\nimport java.util.UUID;\r\n\r\npublic class AggregateTest {\r\n\r\n    static record AggregateId(@JsonProperty(&quot;aggregateId&quot;) UUID id) {}\r\n\r\n    static class Aggregate {\r\n\r\n        @JsonUnwrapped\r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        public final AggregateId _aggregateId;\r\n        public final String otherField;\r\n\r\n        @JsonCreator\r\n        public Aggregate(@JsonProperty(&quot;aggregateId&quot;) UUID aggregateId,\r\n                         @JsonProperty(&quot;otherField&quot;) String otherField) {\r\n            this._aggregateId = new AggregateId(aggregateId);\r\n            this.otherField = otherField;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        String rawJson =\r\n            &quot;{\\&quot;aggregateId\\&quot;: \\&quot;1f61aede-83dd-4049-a6ff-337887b6b807\\&quot;,&quot; +\r\n                    &quot;\\&quot;otherField\\&quot;: \\&quot;İsmail Y.\\&quot;}&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n        Aggregate aggregate = objectMapper\r\n                .readValue(rawJson, Aggregate.class);\r\n        System.out.println(objectMapper\r\n                .writeValueAsString(aggregate));\r\n    }\r\n}\r\n```\r\n\r\nHere we briefly get rid of the `@JsonUnwrapped` field.\r\n\r\nWe get the `UUID` with the name `aggregateId` and create an **`AggregateId` record**.\r\n\r\nDetailed explanations about it:\r\n\r\n- https://github.com/FasterXML/jackson-databind/issues/1467\r\n- https://github.com/FasterXML/jackson-databind/issues/1497","title":"Flat JSON in Jackson for class/record/value object with one field","body":"<p><strong>The combination of <code>@JsonUnwrapped</code> and <code>@JsonCreator</code> is not supported yet</strong>, so we can generate a solution like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\n\nimport java.util.UUID;\n\npublic class AggregateTest {\n\n    static record AggregateId(@JsonProperty(&quot;aggregateId&quot;) UUID id) {}\n\n    static class Aggregate {\n\n        @JsonUnwrapped\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n        public final AggregateId _aggregateId;\n        public final String otherField;\n\n        @JsonCreator\n        public Aggregate(@JsonProperty(&quot;aggregateId&quot;) UUID aggregateId,\n                         @JsonProperty(&quot;otherField&quot;) String otherField) {\n            this._aggregateId = new AggregateId(aggregateId);\n            this.otherField = otherField;\n        }\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        String rawJson =\n            &quot;{\\&quot;aggregateId\\&quot;: \\&quot;1f61aede-83dd-4049-a6ff-337887b6b807\\&quot;,&quot; +\n                    &quot;\\&quot;otherField\\&quot;: \\&quot;İsmail Y.\\&quot;}&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n        Aggregate aggregate = objectMapper\n                .readValue(rawJson, Aggregate.class);\n        System.out.println(objectMapper\n                .writeValueAsString(aggregate));\n    }\n}\n</code></pre>\n<p>Here we briefly get rid of the <code>@JsonUnwrapped</code> field.</p>\n<p>We get the <code>UUID</code> with the name <code>aggregateId</code> and create an <strong><code>AggregateId</code> record</strong>.</p>\n<p>Detailed explanations about it:</p>\n<ul>\n<li><a href=\"https://github.com/FasterXML/jackson-databind/issues/1467\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/1467</a></li>\n<li><a href=\"https://github.com/FasterXML/jackson-databind/issues/1497\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/1497</a></li>\n</ul>\n"}],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2570,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71539100,"answer_count":1,"score":5,"last_activity_date":1666091394,"creation_date":1647690353,"question_id":71537878,"body_markdown":"I have a Java record with one field only:\r\n\r\n```java\r\npublic record AggregateId(UUID id) {}\r\n```\r\n\r\nAnd a class with the `AggregateId` field (other fields removed for readability)\r\n\r\n```java\r\npublic class Aggregate {\r\n\r\n    public final AggregateId aggregateId;\r\n\r\n    @JsonCreator\r\n    public Aggregate(\r\n            @JsonProperty(&quot;aggregateId&quot;) AggregateId aggregateId\r\n    ) {\r\n        this.aggregateId = aggregateId;\r\n    }\r\n}\r\n```\r\n\r\nThe implementation above serialize and deserialize JSON with given example:\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nString content = &quot;&quot;&quot;\r\n        {\r\n           &quot;aggregateId&quot;: {\r\n                &quot;id&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\r\n            }\r\n        }\r\n        &quot;&quot;&quot;;\r\nAggregate aggregate = objectMapper.readValue(content, Aggregate.class);\r\nSystem.out.println(objectMapper.writeValueAsString(aggregate));\r\n```\r\n\r\nHow could I change Jackson config to replace JSON by that:\r\n\r\n```json\r\n{\r\n    &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\r\n}\r\n```\r\n\r\nwithout giving up a separate class for `AggregateId` and access through fields, without getters?\r\n\r\nI tried `@JsonUnwrapper` annotation, but this caused throws\r\n\r\n```log\r\nException in thread &quot;X&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \r\n    Invalid type definition for type `X`: \r\n        Cannot define Creator parameter as `@JsonUnwrapped`: combination not yet supported at [Source: (String)&quot;{\r\n            &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\r\n        }&quot;\r\n```\r\n\r\nor\r\n\r\n```log\r\nException in thread &quot;X&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \r\n    Cannot define Creator property &quot;aggregateId&quot; as `@JsonUnwrapped`: \r\n        combination not yet supported at [Source: (String)&quot;{\r\n            &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\r\n        }&quot;\r\n```\r\n\r\n*Jackson version: 2.13.1*\r\n\r\n```groovy\r\ndependencies {\r\n\tcompile &quot;com.fasterxml.jackson.core:jackson-annotations:2.13.1&quot;\r\n\tcompile &quot;com.fasterxml.jackson.core:jackson-databind:2.13.1&quot;\r\n}\r\n```\r\n\r\n**Of course, it&#39;s possible with a custom serializer/deserializer, but I&#39;m looking for an easier solution because I have many different classes with a similar issue.**","title":"Flat JSON in Jackson for class/record/value object with one field","body":"<p>I have a Java record with one field only:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record AggregateId(UUID id) {}\n</code></pre>\n<p>And a class with the <code>AggregateId</code> field (other fields removed for readability)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Aggregate {\n\n    public final AggregateId aggregateId;\n\n    @JsonCreator\n    public Aggregate(\n            @JsonProperty(&quot;aggregateId&quot;) AggregateId aggregateId\n    ) {\n        this.aggregateId = aggregateId;\n    }\n}\n</code></pre>\n<p>The implementation above serialize and deserialize JSON with given example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nString content = &quot;&quot;&quot;\n        {\n           &quot;aggregateId&quot;: {\n                &quot;id&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\n            }\n        }\n        &quot;&quot;&quot;;\nAggregate aggregate = objectMapper.readValue(content, Aggregate.class);\nSystem.out.println(objectMapper.writeValueAsString(aggregate));\n</code></pre>\n<p>How could I change Jackson config to replace JSON by that:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\n}\n</code></pre>\n<p>without giving up a separate class for <code>AggregateId</code> and access through fields, without getters?</p>\n<p>I tried <code>@JsonUnwrapper</code> annotation, but this caused throws</p>\n<pre><code>Exception in thread &quot;X&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \n    Invalid type definition for type `X`: \n        Cannot define Creator parameter as `@JsonUnwrapped`: combination not yet supported at [Source: (String)&quot;{\n            &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\n        }&quot;\n</code></pre>\n<p>or</p>\n<pre><code>Exception in thread &quot;X&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \n    Cannot define Creator property &quot;aggregateId&quot; as `@JsonUnwrapped`: \n        combination not yet supported at [Source: (String)&quot;{\n            &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\n        }&quot;\n</code></pre>\n<p><em>Jackson version: 2.13.1</em></p>\n<pre><code>dependencies {\n    compile &quot;com.fasterxml.jackson.core:jackson-annotations:2.13.1&quot;\n    compile &quot;com.fasterxml.jackson.core:jackson-databind:2.13.1&quot;\n}\n</code></pre>\n<p><strong>Of course, it's possible with a custom serializer/deserializer, but I'm looking for an easier solution because I have many different classes with a similar issue.</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1666015812,"post_id":74098574,"comment_id":130828820,"body_markdown":"`is the syntax of the programText method right?` &lt;- its not a method, its a private static string array.","body":"<code>is the syntax of the programText method right?</code> &lt;- its not a method, its a private static string array."},{"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"score":1,"creation_date":1666018569,"post_id":74098574,"comment_id":130829828,"body_markdown":"Welcome to SO! What exactly is your task? Do you need to print out the `programText` array (and also execute it?) or do you need to get the source code of the whole `SelfPrint` class without reading the file from the file system?","body":"Welcome to SO! What exactly is your task? Do you need to print out the <code>programText</code> array (and also execute it?) or do you need to get the source code of the whole <code>SelfPrint</code> class without reading the file from the file system?"},{"owner":{"account_id":26609029,"reputation":23,"user_id":20264009,"display_name":"B&#252;ni"},"score":0,"creation_date":1666019309,"post_id":74098574,"comment_id":130830139,"body_markdown":"Yes i have to get the source code oh the whole class without reading it from the file. I don&#39;t even know if that is possible. We got this task in Theoretical computer science and wondering if i have to solve by using &quot;formal language&quot;.. something like: the keyword public has to follow with (static | void | String | int .....)","body":"Yes i have to get the source code oh the whole class without reading it from the file. I don&#39;t even know if that is possible. We got this task in Theoretical computer science and wondering if i have to solve by using &quot;formal language&quot;.. something like: the keyword public has to follow with (static | void | String | int .....)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1666019553,"post_id":74098574,"comment_id":130830230,"body_markdown":"It is not possible to get the source code of a class without reading it from a file.  A compiled (i.e. .class) file does not contain (for example) the comments, the original indentation, etc that were in the .java file. And it is not always possible to correctly reconstruct the original Java statements from the bytecodes.","body":"It is not possible to get the source code of a class without reading it from a file.  A compiled (i.e. .class) file does not contain (for example) the comments, the original indentation, etc that were in the .java file. And it is not always possible to correctly reconstruct the original Java statements from the bytecodes."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666022281,"post_id":74098574,"comment_id":130831411,"body_markdown":"@StephenC I read about this in the 1970s, as a puzzle. Start by imagining code that contains a copy of itself. But, then you have an &quot;infinite regression&quot; problem: Each copy will contain another copy. The puzzle is how to get it to print its own code and avoid infinite regression.","body":"@StephenC I read about this in the 1970s, as a puzzle. Start by imagining code that contains a copy of itself. But, then you have an &quot;infinite regression&quot; problem: Each copy will contain another copy. The puzzle is how to get it to print its own code and avoid infinite regression."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1666027733,"post_id":74098574,"comment_id":130833268,"body_markdown":"Ah.  That puzzle.  The OP has misstated it. The actual problem is to *generate* (write) its own source code.  Not &quot;read&quot; it.   (It is called a [Quine](https://en.wikipedia.org/wiki/Quine_(computing)).)","body":"Ah.  That puzzle.  The OP has misstated it. The actual problem is to <i>generate</i> (write) its own source code.  Not &quot;read&quot; it.   (It is called a <a href=\"https://en.wikipedia.org/wiki/Quine_(computing)\" rel=\"nofollow noreferrer\">Quine</a>.)"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666026549,"creation_date":1666023716,"answer_id":74100278,"question_id":74098574,"body_markdown":"Try this.\r\n\r\n`getMyText` has three for statements. The first one prints the first 5 lines of the program. The second one prints the constant value of `programText`. And the last one prints the rest of the program. So `programText` will be printed twice.\r\n\r\n    public class SelfPrint {\r\n        public static void main(String[] args) {\r\n            System.out.print(getMyText());\r\n        }\r\n        private static String[] programText = {\r\n    &quot;public class SelfPrint {&quot;,\r\n    &quot;    public static void main(String[] args) {&quot;,\r\n    &quot;        System.out.print(getMyText());&quot;,\r\n    &quot;    }&quot;,\r\n    &quot;    private static String[] programText = {&quot;,\r\n    &quot;    };&quot;,\r\n    &quot;    private static String getMyText() {&quot;,\r\n    &quot;        char q = 34, c = 44;&quot;,\r\n    &quot;        String n = System.lineSeparator();&quot;,\r\n    &quot;        StringBuilder sb = new StringBuilder();&quot;,\r\n    &quot;        for (int i = 0; i &lt; 5; i++)&quot;,\r\n    &quot;            sb.append(programText[i]).append(n);&quot;,\r\n    &quot;        for (int i = 0; i &lt; programText.length; i++)&quot;,\r\n    &quot;            sb.append(q + programText[i] + q + c).append(n);&quot;,\r\n    &quot;        for (int i = 5; i &lt; programText.length; i++)&quot;,\r\n    &quot;            sb.append(programText[i]).append(n);&quot;,\r\n    &quot;        return sb.toString();&quot;,\r\n    &quot;    }&quot;,\r\n    &quot;}&quot;,\r\n        };\r\n        private static String getMyText() {\r\n            char q = 34, c = 44;\r\n            String n = System.lineSeparator();\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int i = 0; i &lt; 5; i++)\r\n                sb.append(programText[i]).append(n);\r\n            for (int i = 0; i &lt; programText.length; i++)\r\n                sb.append(q + programText[i] + q + c).append(n);\r\n            for (int i = 5; i &lt; programText.length; i++)\r\n                sb.append(programText[i]).append(n);\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nTest (on Windows11)\r\n\r\n    C:\\temp&gt;javac SelfPrint.java\r\n    \r\n    C:\\temp&gt;java SelfPrint &gt; out\r\n    \r\n    C:\\temp&gt;diff SelfPrint.java out\r\n    \r\n    C:\\temp&gt;echo %ERRORLEVEL%\r\n    0","title":"How can a program print its own source code without reading any file","body":"<p>Try this.</p>\n<p><code>getMyText</code> has three for statements. The first one prints the first 5 lines of the program. The second one prints the constant value of <code>programText</code>. And the last one prints the rest of the program. So <code>programText</code> will be printed twice.</p>\n<pre><code>public class SelfPrint {\n    public static void main(String[] args) {\n        System.out.print(getMyText());\n    }\n    private static String[] programText = {\n&quot;public class SelfPrint {&quot;,\n&quot;    public static void main(String[] args) {&quot;,\n&quot;        System.out.print(getMyText());&quot;,\n&quot;    }&quot;,\n&quot;    private static String[] programText = {&quot;,\n&quot;    };&quot;,\n&quot;    private static String getMyText() {&quot;,\n&quot;        char q = 34, c = 44;&quot;,\n&quot;        String n = System.lineSeparator();&quot;,\n&quot;        StringBuilder sb = new StringBuilder();&quot;,\n&quot;        for (int i = 0; i &lt; 5; i++)&quot;,\n&quot;            sb.append(programText[i]).append(n);&quot;,\n&quot;        for (int i = 0; i &lt; programText.length; i++)&quot;,\n&quot;            sb.append(q + programText[i] + q + c).append(n);&quot;,\n&quot;        for (int i = 5; i &lt; programText.length; i++)&quot;,\n&quot;            sb.append(programText[i]).append(n);&quot;,\n&quot;        return sb.toString();&quot;,\n&quot;    }&quot;,\n&quot;}&quot;,\n    };\n    private static String getMyText() {\n        char q = 34, c = 44;\n        String n = System.lineSeparator();\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; 5; i++)\n            sb.append(programText[i]).append(n);\n        for (int i = 0; i &lt; programText.length; i++)\n            sb.append(q + programText[i] + q + c).append(n);\n        for (int i = 5; i &lt; programText.length; i++)\n            sb.append(programText[i]).append(n);\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Test (on Windows11)</p>\n<pre><code>C:\\temp&gt;javac SelfPrint.java\n\nC:\\temp&gt;java SelfPrint &gt; out\n\nC:\\temp&gt;diff SelfPrint.java out\n\nC:\\temp&gt;echo %ERRORLEVEL%\n0\n</code></pre>\n"}],"owner":{"account_id":26609029,"reputation":23,"user_id":20264009,"display_name":"B&#252;ni"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74100278,"answer_count":1,"score":0,"last_activity_date":1666091339,"creation_date":1666015555,"question_id":74098574,"body_markdown":"I&#39;ve to write a code that outputs its own source code, but I am not allowed to read it from the file.\r\n\r\nThis is what we got from the teacher:\r\n\r\n```\r\npublic class SelfPrint {\r\n  public static void main(String[] args) {\r\n      System.out.print(getMyText());\r\n  }\r\n  private static String programText [] = {\r\n      ....\r\n  };\r\n  private static String getMyText() {\r\n  }\r\n  \r\n}\r\n```\r\n\r\n","title":"How can a program print its own source code without reading any file","body":"<p>I've to write a code that outputs its own source code, but I am not allowed to read it from the file.</p>\n<p>This is what we got from the teacher:</p>\n<pre><code>public class SelfPrint {\n  public static void main(String[] args) {\n      System.out.print(getMyText());\n  }\n  private static String programText [] = {\n      ....\n  };\n  private static String getMyText() {\n  }\n  \n}\n</code></pre>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":26642945,"reputation":76,"user_id":20258316,"display_name":"Uran Lajci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666091295,"creation_date":1665962628,"answer_id":74091309,"question_id":74083861,"body_markdown":"If you want to count how many collections have the &lt;b&gt;value&lt;/b&gt; field you can use count in aggregation.\r\n\r\nBut if you want the sum of the values that the &lt;b&gt;value&lt;/b&gt; field has in your collections you can calculate it like this with mongoDb aggregation\r\n\r\n    Arrays.asList(new Document(&quot;$group&quot;, \r\n       new Document(&quot;_id&quot;, \r\n       new BsonNull())\r\n            .append(&quot;value&quot;, \r\n       new Document(&quot;$sum&quot;, &quot;$value&quot;))))\r\n\r\nvalue is the name of your field in the collection.\r\n\r\nFull example:\r\n\r\n```java\r\nDocument returned = this.getCollection().aggregate(\r\n\tList.of(new Document(\r\n\t\t&quot;$group&quot;,\r\n\t\tnew Document(\r\n\t\t\t&quot;_id&quot;,\r\n\t\t\tnew BsonNull()\r\n\t\t)\r\n\t\t\t.append(\r\n\t\t\t\t&quot;value&quot;,\r\n\t\t\t\tnew Document(&quot;$sum&quot;, &quot;$numExpired&quot;)\r\n\t\t\t)\r\n\t)),\r\n\tDocument.class\r\n).first();\r\n\t\t\r\nreturn returned.getLong(&quot;value&quot;);\r\n```","title":"Get total of field of Mongodb collection in Java","body":"<p>If you want to count how many collections have the <b>value</b> field you can use count in aggregation.</p>\n<p>But if you want the sum of the values that the <b>value</b> field has in your collections you can calculate it like this with mongoDb aggregation</p>\n<pre><code>Arrays.asList(new Document(&quot;$group&quot;, \n   new Document(&quot;_id&quot;, \n   new BsonNull())\n        .append(&quot;value&quot;, \n   new Document(&quot;$sum&quot;, &quot;$value&quot;))))\n</code></pre>\n<p>value is the name of your field in the collection.</p>\n<p>Full example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document returned = this.getCollection().aggregate(\n    List.of(new Document(\n        &quot;$group&quot;,\n        new Document(\n            &quot;_id&quot;,\n            new BsonNull()\n        )\n            .append(\n                &quot;value&quot;,\n                new Document(&quot;$sum&quot;, &quot;$numExpired&quot;)\n            )\n    )),\n    Document.class\n).first();\n        \nreturn returned.getLong(&quot;value&quot;);\n</code></pre>\n"}],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74091309,"answer_count":1,"score":0,"last_activity_date":1666091295,"creation_date":1665879557,"question_id":74083861,"body_markdown":"I can find the answer (think?) for plain Mongodb querying, but nothing for Java for this particular use case...\r\n\r\nI have a collection that is typed to the following object:\r\n\r\n```java\r\npublic class TestObj {\r\n    ObjectId id;\r\n    long value = 0;\r\n    // etc\r\n}\r\n```\r\n\r\nI would like the sum of the `value` field across all objects held in the collection. How can I do this?\r\n\r\nMy current hangup is no matter wat I do, the aggregate method from the collection returns the type `TestObj`, and not a more generic object with the answer I seek. I have tried `project`, but didn&#39;t seem to have any effect.\r\n\r\nCurrent code:\r\n\r\n```java\r\n\tpublic long getTotalValue(){\r\n\t\tObject returned = this.getCollection().aggregate(\r\n\t\t\tList.of(\r\n\t\t\t\tAggregates.group(null, Accumulators.sum(&quot;$value&quot;, 1))\r\n\t\t\t)\r\n\t\t);\r\n\t\t//TODO:: get sum\r\n\t\treturn 0L;\r\n\t}\r\n```\r\n","title":"Get total of field of Mongodb collection in Java","body":"<p>I can find the answer (think?) for plain Mongodb querying, but nothing for Java for this particular use case...</p>\n<p>I have a collection that is typed to the following object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestObj {\n    ObjectId id;\n    long value = 0;\n    // etc\n}\n</code></pre>\n<p>I would like the sum of the <code>value</code> field across all objects held in the collection. How can I do this?</p>\n<p>My current hangup is no matter wat I do, the aggregate method from the collection returns the type <code>TestObj</code>, and not a more generic object with the answer I seek. I have tried <code>project</code>, but didn't seem to have any effect.</p>\n<p>Current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public long getTotalValue(){\n        Object returned = this.getCollection().aggregate(\n            List.of(\n                Aggregates.group(null, Accumulators.sum(&quot;$value&quot;, 1))\n            )\n        );\n        //TODO:: get sum\n        return 0L;\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666089910,"post_id":74109632,"comment_id":130847796,"body_markdown":"Does this answer your question? [Difference between FetchType LAZY and EAGER in Java Persistence API?](https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\">Difference between FetchType LAZY and EAGER in Java Persistence API?</a>"},{"owner":{"account_id":16136204,"reputation":115,"user_id":11648861,"display_name":"Mihail HRS"},"score":0,"creation_date":1666090349,"post_id":74109632,"comment_id":130847937,"body_markdown":"@Federico klez Culloca\nNo, In this case it happens when i get entity from db, but in my case I want to get value then create instance of class in java","body":"@Federico klez Culloca No, In this case it happens when i get entity from db, but in my case I want to get value then create instance of class in java"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666092138,"post_id":74109632,"comment_id":130848511,"body_markdown":"getReferenceById() doesn&#39;t &quot;get (select) it from database&quot;! ... But: &quot;Returns a reference to the entity with the given identifier. Depending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an EntityNotFoundException on first access. Some of them will reject invalid identifiers immediately.&quot;","body":"getReferenceById() doesn&#39;t &quot;get (select) it from database&quot;! ... But: &quot;Returns a reference to the entity with the given identifier. Depending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an EntityNotFoundException on first access. Some of them will reject invalid identifiers immediately.&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666092303,"post_id":74109632,"comment_id":130848572,"body_markdown":"So, you would typically &quot;try, catch&quot; the `save` statement..and have to decide..(how to proceed with unknown author_id)","body":"So, you would typically &quot;try, catch&quot; the <code>save</code> statement..and have to decide..(how to proceed with unknown author_id)"},{"owner":{"account_id":26557785,"reputation":159,"user_id":20186121,"display_name":"Abhishek Kumar Jena"},"score":0,"creation_date":1666093592,"post_id":74109632,"comment_id":130849009,"body_markdown":"hope this will help you https://javatute.com/jpa/spring-data-jpa-nested-property-query-method/","body":"hope this will help you <a href=\"https://javatute.com/jpa/spring-data-jpa-nested-property-query-method/\" rel=\"nofollow noreferrer\">javatute.com/jpa/spring-data-jpa-nested-property-query-metho&zwnj;&#8203;d</a>"}],"owner":{"account_id":16136204,"reputation":115,"user_id":11648861,"display_name":"Mihail HRS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666091270,"creation_date":1666089712,"question_id":74109632,"body_markdown":"I have a case, when from request I get a BookDTO with author id, and I have to create and save new book to database with nested Author entity. Now I get author object from database before creating book, but I am not sure that this is a right way. What if I with have multiple nested entity inside one. I have to get them all from DB before save it, or there is a more clean and fast way to do it?\r\n\r\n```JAVA\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.graphql.data.method.annotation.MutationMapping;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\nclass Book\r\n{\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate Long id;\r\n\r\n\t\tprivate String name;\r\n\r\n\t\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t\t@JoinColumn(name = &quot;author_id&quot;)\r\n\t\tprivate Author author;\r\n\r\n\t\tpublic Book(BookDTO bookDTO, Author author)\r\n\t\t{\r\n\t\t\t\tthis.setName(bookDTO.getName());\r\n\t\t\t\tthis.setAuthor(author);\r\n\t\t}\r\n}\r\n\r\n@Getter\r\n@Setter\r\nclass BookDTO\r\n{\r\n\r\n\t\tprivate String name;\r\n\r\n\t\tprivate Long author_id;\r\n}\r\n\r\n@Entity\r\nclass Author\r\n{\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate Long id;\r\n\r\n\t\tprivate String name;\r\n}\r\n\r\n@Repository\r\ninterface BookRepo extends JpaRepository&lt;Book, Long&gt;\r\n{\r\n\r\n}\r\n\r\n@Repository\r\ninterface AuthorRepo extends JpaRepository&lt;Author, Long&gt;\r\n{\r\n\r\n}\r\n\r\n@Controller\r\nclass BookController\r\n{\r\n\r\n\t\t@Autowired\r\n\t\tAuthorRepo authorRepo;\r\n\r\n\t\t@Autowired\r\n\t\tBookRepo bookRepo;\r\n\r\n\t\t@MutationMapping\r\n\t\tpublic Book createUser(BookDTO bookDTO)\r\n\t\t{\r\n\t\t\t\t// Getting author from DB before create book\r\n\t\t\t\tAuthor author = authorRepo.getReferenceById(bookDTO.getAuthor_id());\r\n\t\t\t\tBook book = new Book(bookDTO, author);\r\n\t\t\t\treturn bookRepo.save(book);\r\n\t\t}\r\n}\r\n```\r\n\r\nHow can I save author ID for book without getting Author from database?","title":"Creating entity with nested entity JPA","body":"<p>I have a case, when from request I get a BookDTO with author id, and I have to create and save new book to database with nested Author entity. Now I get author object from database before creating book, but I am not sure that this is a right way. What if I with have multiple nested entity inside one. I have to get them all from DB before save it, or there is a more clean and fast way to do it?</p>\n<pre><code>\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.graphql.data.method.annotation.MutationMapping;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Repository;\n\nimport javax.persistence.*;\n\n@Entity\n@Getter\n@Setter\nclass Book\n{\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n\n        private String name;\n\n        @ManyToOne(fetch = FetchType.EAGER)\n        @JoinColumn(name = &quot;author_id&quot;)\n        private Author author;\n\n        public Book(BookDTO bookDTO, Author author)\n        {\n                this.setName(bookDTO.getName());\n                this.setAuthor(author);\n        }\n}\n\n@Getter\n@Setter\nclass BookDTO\n{\n\n        private String name;\n\n        private Long author_id;\n}\n\n@Entity\nclass Author\n{\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n\n        private String name;\n}\n\n@Repository\ninterface BookRepo extends JpaRepository&lt;Book, Long&gt;\n{\n\n}\n\n@Repository\ninterface AuthorRepo extends JpaRepository&lt;Author, Long&gt;\n{\n\n}\n\n@Controller\nclass BookController\n{\n\n        @Autowired\n        AuthorRepo authorRepo;\n\n        @Autowired\n        BookRepo bookRepo;\n\n        @MutationMapping\n        public Book createUser(BookDTO bookDTO)\n        {\n                // Getting author from DB before create book\n                Author author = authorRepo.getReferenceById(bookDTO.getAuthor_id());\n                Book book = new Book(bookDTO, author);\n                return bookRepo.save(book);\n        }\n}\n</code></pre>\n<p>How can I save author ID for book without getting Author from database?</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":1350880,"reputation":2554,"user_id":1290557,"accept_rate":60,"display_name":"ruediste"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1430230507,"creation_date":1430230507,"answer_id":29922095,"question_id":29921974,"body_markdown":"Try using a static field. Either your DI framework supports static injections (I know Guice and Salta do), or you have to do it by hand during startup. Consider registering the Injector (Guice, Salta) or an Instance (JavaEE/CDI) in a utility class and using it from wherever you need.","title":"Is there a way to pass dependencies to JPA converters?","body":"<p>Try using a static field. Either your DI framework supports static injections (I know Guice and Salta do), or you have to do it by hand during startup. Consider registering the Injector (Guice, Salta) or an Instance (JavaEE/CDI) in a utility class and using it from wherever you need.</p>\n"},{"tags":[],"owner":{"account_id":5169548,"reputation":560,"user_id":4138535,"accept_rate":43,"display_name":"Akshay Mathur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1590835424,"creation_date":1590835424,"answer_id":62101263,"question_id":29921974,"body_markdown":"This depends on which world are your two objects living :\r\n\r\n - If both are created by CID then there should not have been any issues just using javax.inject would suffice. \r\n - If one is created by a different DI framework say GUICE then you need to write some glue code to connect them. \r\n\r\nOne such technique I used in one of my projects is to create a class like : \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    // create a new class\r\n    class Bridge { @Inject public static ObjectMapper objectMapper; }\r\n\r\n    // in GUICE module \r\n    requestStaticInjection(Bridge.class)\r\n\r\n    // in Convertor \r\n    class MyConvertor {\r\n\r\n      private ObjectMapper objectMapper;\r\n\r\n      public MyConvertor(){\r\n        this.objectMapper = Bridge.objectMapper;\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Is there a way to pass dependencies to JPA converters?","body":"<p>This depends on which world are your two objects living :</p>\n\n<ul>\n<li>If both are created by CID then there should not have been any issues just using javax.inject would suffice. </li>\n<li>If one is created by a different DI framework say GUICE then you need to write some glue code to connect them. </li>\n</ul>\n\n<p>One such technique I used in one of my projects is to create a class like : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>// create a new class\r\nclass Bridge { @Inject public static ObjectMapper objectMapper; }\r\n\r\n// in GUICE module \r\nrequestStaticInjection(Bridge.class)\r\n\r\n// in Convertor \r\nclass MyConvertor {\r\n\r\n  private ObjectMapper objectMapper;\r\n\r\n  public MyConvertor(){\r\n    this.objectMapper = Bridge.objectMapper;\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":121177,"reputation":18547,"user_id":314073,"accept_rate":88,"display_name":"Xorty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1666091124,"creation_date":1430230211,"question_id":29921974,"body_markdown":"I have a custom converter that needs to use few dependencies. \r\n\r\nSince converters are managed by JPA, I can&#39;t figure out a way of passing it dependencies from another component (like dependency injector). Is there such a way?\r\n\r\n    @Converter\r\n    public class CompressingJsonConverter implements AttributeConverter&lt;CompressedJson, Byte[]&gt; {\r\n    \r\n        private final Compressing compressing;\r\n        private final ObjectMapper objectMapper;\r\n    \r\n        public CompressingJsonConverter() {\r\n            // I would like to inject those dependencies instead\r\n            compressing = new Compressing();\r\n            objectMapper = new ObjectMapper();\r\n        }","title":"Is there a way to pass dependencies to JPA converters?","body":"<p>I have a custom converter that needs to use few dependencies. </p>\n\n<p>Since converters are managed by JPA, I can't figure out a way of passing it dependencies from another component (like dependency injector). Is there such a way?</p>\n\n<pre><code>@Converter\npublic class CompressingJsonConverter implements AttributeConverter&lt;CompressedJson, Byte[]&gt; {\n\n    private final Compressing compressing;\n    private final ObjectMapper objectMapper;\n\n    public CompressingJsonConverter() {\n        // I would like to inject those dependencies instead\n        compressing = new Compressing();\n        objectMapper = new ObjectMapper();\n    }\n</code></pre>\n"},{"tags":["java","javacc"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1665643619,"post_id":73992744,"comment_id":130748909,"body_markdown":"Is the condition evaluated at compile-time or at run-time?","body":"Is the condition evaluated at compile-time or at run-time?"},{"owner":{"account_id":26551652,"reputation":1,"user_id":20180872,"display_name":"Malelizarazo"},"score":0,"creation_date":1665726484,"post_id":73992744,"comment_id":130769972,"body_markdown":"at run-time :)..","body":"at run-time :).."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091095,"creation_date":1665741838,"answer_id":74067654,"question_id":73992744,"body_markdown":"There is very little information about your project and the way to approach the question of conditional greately depends on the context.\r\n\r\nFor instance, if your program is compiling code for a target machine like, say JVM bytecode, you would do something like this:\r\n\r\n    void conditional(): {\r\n        ForwardJump jump, savedJump;\r\n    } {\r\n        &lt;IF&gt; condition() { jump = generateJumpIfFalse(); } block()\r\n        [&lt;ELSE&gt; {\r\n            savedJump = jump;\r\n            jump = generateJump();\r\n            fixForwardJump(savedJump);\r\n        }  block()] {\r\n            fixForwardJump(jump);\r\n        } &lt;FI&gt;\r\n    }\r\n\r\nThis assumes that `condition()` will generate the code that calculates a boolean value and that that boolean value is then pushed to the stack. `generateJumpIfFalse()` generates a conditional jump that pops a boolean from the stack and, if false, jumps to a location that is not yet known because the block that follows has not yet been compiled. Forward jumps have to be updated once this location is known.; that&#39;s wat `fixForwardJump` does.\r\n\r\nNow if your program is an interpretor, You want the parser to produce some structure that your java code can then execute.\r\n\r\nIn the present case, you manipulate two basic kind of structure: `Statement`s and `Expression`. They could be the same thing, but the difference is than an `Expression` returns a value when executed, whereas `Statement` does not.\r\n\r\nIn the case of an interpretor, you often want the syntactic methods to return some substructure of the whole input programme; so you would have something like this:\r\n\r\n    Statement conditional(): {\r\n        Expression cond;\r\n        Statement ifBlock;\r\n        Statement elseBlock = null;\r\n    } {\r\n        &lt;IF&gt; cond=condition() ifBlock=block()\r\n        [&lt;ELSE&gt; elseBlock=block()] &lt;FI&gt;\r\n        {\r\n            return new ConditionalStatement(cond, ifBlock, elseBlock);\r\n        }\r\n    }\r\n\r\nLet&#39;s say that `Statement` and `Expression` are interfaces of the following kind:\r\n\r\n    public interface Statement {\r\n        public void execute(MachineState state);\r\n    }\r\n    \r\n    public interface Expression {\r\n        public Object evaluate(MachineState state);\r\n    }\r\n\r\nClass `ConditionalStatement` must of course implement the `Statement` interface. It would look like this:\r\n\r\n    public class ConditionalStatement implements Statement {\r\n        private final Expression cond;\r\n        private final Statement ifStatement;\r\n        private final Statement elseStatement;\r\n    \r\n        public ConditionalStatement(Expression cond, Statement ifStatement, Statement elseStatement) {\r\n            this.cond = cond;\r\n            this.ifStatement = ifStatement;\r\n            this.elseStatement = elseStatement;\r\n        }\r\n\r\n        @Override\r\n        public void execute(MachineState state) {\r\n            Object value = cond.evaluate(state);\r\n            if (value == Boolean.TRUE) {\r\n                ifBlock.execute(state);\r\n            } else if (elseBlock != null) {\r\n                elseBlock.execute(state);\r\n            }\r\n        }\r\n    }\r\n\r\nOf course, it can get a lot more complicated than that.","title":"JavaCC conditionals implement given a grammar","body":"<p>There is very little information about your project and the way to approach the question of conditional greately depends on the context.</p>\n<p>For instance, if your program is compiling code for a target machine like, say JVM bytecode, you would do something like this:</p>\n<pre><code>void conditional(): {\n    ForwardJump jump, savedJump;\n} {\n    &lt;IF&gt; condition() { jump = generateJumpIfFalse(); } block()\n    [&lt;ELSE&gt; {\n        savedJump = jump;\n        jump = generateJump();\n        fixForwardJump(savedJump);\n    }  block()] {\n        fixForwardJump(jump);\n    } &lt;FI&gt;\n}\n</code></pre>\n<p>This assumes that <code>condition()</code> will generate the code that calculates a boolean value and that that boolean value is then pushed to the stack. <code>generateJumpIfFalse()</code> generates a conditional jump that pops a boolean from the stack and, if false, jumps to a location that is not yet known because the block that follows has not yet been compiled. Forward jumps have to be updated once this location is known.; that's wat <code>fixForwardJump</code> does.</p>\n<p>Now if your program is an interpretor, You want the parser to produce some structure that your java code can then execute.</p>\n<p>In the present case, you manipulate two basic kind of structure: <code>Statement</code>s and <code>Expression</code>. They could be the same thing, but the difference is than an <code>Expression</code> returns a value when executed, whereas <code>Statement</code> does not.</p>\n<p>In the case of an interpretor, you often want the syntactic methods to return some substructure of the whole input programme; so you would have something like this:</p>\n<pre><code>Statement conditional(): {\n    Expression cond;\n    Statement ifBlock;\n    Statement elseBlock = null;\n} {\n    &lt;IF&gt; cond=condition() ifBlock=block()\n    [&lt;ELSE&gt; elseBlock=block()] &lt;FI&gt;\n    {\n        return new ConditionalStatement(cond, ifBlock, elseBlock);\n    }\n}\n</code></pre>\n<p>Let's say that <code>Statement</code> and <code>Expression</code> are interfaces of the following kind:</p>\n<pre><code>public interface Statement {\n    public void execute(MachineState state);\n}\n\npublic interface Expression {\n    public Object evaluate(MachineState state);\n}\n</code></pre>\n<p>Class <code>ConditionalStatement</code> must of course implement the <code>Statement</code> interface. It would look like this:</p>\n<pre><code>public class ConditionalStatement implements Statement {\n    private final Expression cond;\n    private final Statement ifStatement;\n    private final Statement elseStatement;\n\n    public ConditionalStatement(Expression cond, Statement ifStatement, Statement elseStatement) {\n        this.cond = cond;\n        this.ifStatement = ifStatement;\n        this.elseStatement = elseStatement;\n    }\n\n    @Override\n    public void execute(MachineState state) {\n        Object value = cond.evaluate(state);\n        if (value == Boolean.TRUE) {\n            ifBlock.execute(state);\n        } else if (elseBlock != null) {\n            elseBlock.execute(state);\n        }\n    }\n}\n</code></pre>\n<p>Of course, it can get a lot more complicated than that.</p>\n"}],"owner":{"account_id":26551652,"reputation":1,"user_id":20180872,"display_name":"Malelizarazo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666091095,"creation_date":1665178086,"question_id":73992744,"body_markdown":"So I&#39;m pretty new to JavaCC, I have this in JavaCC for a conditional grammar. I have to implement it in such a way that if the condition is true in the grammar I established, the rest of commands (block()) execute, but if not, just skip this part. How can I do that?\r\n\r\n```\r\nvoid conditional(): { }\r\n\t{\r\n\t  &lt; IF &gt; condition()  block()\r\n\t  [&lt;ELSE&gt;  block()]&lt; FI&gt;\r\n\t  \r\n\t}\r\n```","title":"JavaCC conditionals implement given a grammar","body":"<p>So I'm pretty new to JavaCC, I have this in JavaCC for a conditional grammar. I have to implement it in such a way that if the condition is true in the grammar I established, the rest of commands (block()) execute, but if not, just skip this part. How can I do that?</p>\n<pre><code>void conditional(): { }\n    {\n      &lt; IF &gt; condition()  block()\n      [&lt;ELSE&gt;  block()]&lt; FI&gt;\n      \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","email","queue","apache-commons"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1666046355,"post_id":74103870,"comment_id":130838501,"body_markdown":"Normally your email server should already do this task. Are you talking about the message contains in the email or the email itself?","body":"Normally your email server should already do this task. Are you talking about the message contains in the email or the email itself?"},{"owner":{"account_id":26653474,"reputation":25,"user_id":20267399,"display_name":"MariaRambo"},"score":0,"creation_date":1666046933,"post_id":74103870,"comment_id":130838600,"body_markdown":"Thanks for answering. To the email itself","body":"Thanks for answering. To the email itself"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1666054355,"post_id":74103870,"comment_id":130839632,"body_markdown":"If it is the email itself I don&#39;t think you need to use Rabbit MQ. The mail server already manage every aspect from the reception to the delivery. You can instead manage the message with Rabbit MQ and wrap it into your email before sending them.","body":"If it is the email itself I don&#39;t think you need to use Rabbit MQ. The mail server already manage every aspect from the reception to the delivery. You can instead manage the message with Rabbit MQ and wrap it into your email before sending them."},{"owner":{"account_id":26653474,"reputation":25,"user_id":20267399,"display_name":"MariaRambo"},"score":0,"creation_date":1666108805,"post_id":74103870,"comment_id":130855405,"body_markdown":"Sorry, but I&#39;m really new to this, it means that then Apache Commons already takes care of queuing these emails through the SMTP protocol, I don&#39;t understand when it says that I can manage the message with RabbitMQ and wrap it in the mail.","body":"Sorry, but I&#39;m really new to this, it means that then Apache Commons already takes care of queuing these emails through the SMTP protocol, I don&#39;t understand when it says that I can manage the message with RabbitMQ and wrap it in the mail."},{"owner":{"account_id":26653474,"reputation":25,"user_id":20267399,"display_name":"MariaRambo"},"score":0,"creation_date":1666110035,"post_id":74103870,"comment_id":130855815,"body_markdown":"On the side of email containment it is that, but to divide the number of emails (let&#39;s say 8 emails) among the senders (2 senders) I could use RabbitMQ or it would be something else outside of it.","body":"On the side of email containment it is that, but to divide the number of emails (let&#39;s say 8 emails) among the senders (2 senders) I could use RabbitMQ or it would be something else outside of it."}],"answers":[{"tags":[],"owner":{"account_id":14070869,"reputation":71,"user_id":10164385,"display_name":"Ngo Tuoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091001,"creation_date":1666091001,"answer_id":74109900,"question_id":74103870,"body_markdown":"if your system is big enough you can try **Kafka**. It&#39;s one of the alternatives **rabbitmq**","title":"Can I use RabbitMQ for email queuing in Spring Boot?","body":"<p>if your system is big enough you can try <strong>Kafka</strong>. It's one of the alternatives <strong>rabbitmq</strong></p>\n"}],"owner":{"account_id":26653474,"reputation":25,"user_id":20267399,"display_name":"MariaRambo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666091001,"creation_date":1666045275,"question_id":74103870,"body_markdown":"I am working on Spring Boot. The scenario is the sending of emails which was achieved using Apache Commons, but the problem is that I can have one or more senders, given the case that there is more than one, it must be distributed\r\nthe number of emails to send between the senders with what is counted so that each sender is working and avoid an overload of emails as it happens in gmail, I thought that I could use RabbitMQ to achieve that, but I don&#39;t know if it is possible with this tool, any suggestions how to achieve this?","title":"Can I use RabbitMQ for email queuing in Spring Boot?","body":"<p>I am working on Spring Boot. The scenario is the sending of emails which was achieved using Apache Commons, but the problem is that I can have one or more senders, given the case that there is more than one, it must be distributed\nthe number of emails to send between the senders with what is counted so that each sender is working and avoid an overload of emails as it happens in gmail, I thought that I could use RabbitMQ to achieve that, but I don't know if it is possible with this tool, any suggestions how to achieve this?</p>\n"},{"tags":["java","android","kotlin","ffmpeg","android-ffmpeg"],"answers":[{"tags":[],"owner":{"account_id":5890946,"reputation":21886,"user_id":4637585,"accept_rate":95,"display_name":"Rolf of Saxony"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665579920,"creation_date":1665565906,"answer_id":74039312,"question_id":74036930,"body_markdown":"Try using `rubberband`\r\n\r\n\r\n    ffplay -i interview.wav -af &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot;\r\n\r\nYou may want to play around with the `transients` variable of this option as well.\r\n\r\nhttps://ffmpeg.org/ffmpeg-filters.html#toc-rubberband\r\n\r\nEdit:\r\nif you&#39;re unfamiliar with ffmpeg and ffplay, the `ffmpeg` command line would be:\r\n\r\n`ffmpeg -i input.wav -af &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot; output.wav`\r\n\r\nIf you require details of some other method, other than the command line, you will have to specify what method you are using, preferably with a code sample of what you have tried so far. (edit your question, don&#39;t add another comment)","title":"How to change or modify pitch of audio file (music etc like .mp3 file)using FFMPEG?","body":"<p>Try using <code>rubberband</code></p>\n<pre><code>ffplay -i interview.wav -af &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot;\n</code></pre>\n<p>You may want to play around with the <code>transients</code> variable of this option as well.</p>\n<p><a href=\"https://ffmpeg.org/ffmpeg-filters.html#toc-rubberband\" rel=\"nofollow noreferrer\">https://ffmpeg.org/ffmpeg-filters.html#toc-rubberband</a></p>\n<p>Edit:\nif you're unfamiliar with ffmpeg and ffplay, the <code>ffmpeg</code> command line would be:</p>\n<p><code>ffmpeg -i input.wav -af &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot; output.wav</code></p>\n<p>If you require details of some other method, other than the command line, you will have to specify what method you are using, preferably with a code sample of what you have tried so far. (edit your question, don't add another comment)</p>\n"}],"owner":{"account_id":24755491,"reputation":21,"user_id":18640466,"display_name":"syed kashifullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666090996,"creation_date":1665552864,"question_id":74036930,"body_markdown":"I want to change and modify pitch an .mp3 audio file using FFMPEG.\r\nBut I am unable to use FFMPEG to change or modify pitch of that sound.\r\nwhat command (exact command) should be exactly use for changing pitch of an audio file?\r\n\r\n     String outPutPath = new File(&quot;/storage/emulated/0/Share it Application/Over_the_HorizonTemp.wav&quot;).getPath();\r\n                     \r\n                    String[] strFfmpeg  = {&quot;ffmpeg&quot;,&quot;-i&quot; ,strInputPath,&quot;-af&quot;, &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot; ,outPutPath};\r\n                    execffmpegBinary(strFfmpeg);\r\n\r\n\r\nexecffmpegBinary Function:\r\n\r\n    public void execffmpegBinary(String[] command) {\r\n        Config.enableLogCallback(new LogCallback() {\r\n            @Override\r\n            public void apply(LogMessage message) {\r\n                Log.e(Config.TAG, message.getText());\r\n                Log.e(&quot;TAG&quot;, &quot;apply: &quot; +message.getText());\r\n            }\r\n        });\r\n        Config.enableStatisticsCallback(new StatisticsCallback() {\r\n            @Override\r\n            public void apply(Statistics statistics) {\r\n\r\n            }\r\n        });\r\n\r\n        long executionId = FFmpeg.executeAsync(command, new ExecuteCallback() {\r\n            @Override\r\n            public void apply(long executionId, int returnCode) {\r\n                if (returnCode == RETURN_CODE_SUCCESS) {\r\n                    \r\n                    Log.e(&quot;1TAG&quot;, &quot;apply:return code &quot;+returnCode );\r\n                    Log.e(&quot;1TAG&quot;, &quot;apply:execution Id &quot;+executionId );\r\n                    Log.e(&quot;1TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\r\n\r\n\r\n                } else if (returnCode == RETURN_CODE_CANCEL) {\r\n                    Log.e(&quot;2TAG&quot;, &quot;apply:return code &quot;+returnCode );\r\n                    Log.e(&quot;2TAG&quot;, &quot;apply:execution Id &quot;+executionId );\r\n                    Log.e(&quot;2TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\r\n\r\n                } else {\r\n                    Log.e(&quot;3TAG&quot;, &quot;apply: returnCode&quot;+ returnCode);\r\n                    Log.e(&quot;3TAG&quot;, &quot;apply:return code &quot;+returnCode );\r\n                    Log.e(&quot;3TAG&quot;, &quot;apply:execution Id &quot;+executionId );\r\n                    Log.e(&quot;3TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\r\n\r\n                }\r\n            }\r\n        });\r\n    }","title":"How to change or modify pitch of audio file (music etc like .mp3 file)using FFMPEG?","body":"<p>I want to change and modify pitch an .mp3 audio file using FFMPEG.\nBut I am unable to use FFMPEG to change or modify pitch of that sound.\nwhat command (exact command) should be exactly use for changing pitch of an audio file?</p>\n<pre><code> String outPutPath = new File(&quot;/storage/emulated/0/Share it Application/Over_the_HorizonTemp.wav&quot;).getPath();\n                 \n                String[] strFfmpeg  = {&quot;ffmpeg&quot;,&quot;-i&quot; ,strInputPath,&quot;-af&quot;, &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot; ,outPutPath};\n                execffmpegBinary(strFfmpeg);\n</code></pre>\n<p>execffmpegBinary Function:</p>\n<pre><code>public void execffmpegBinary(String[] command) {\n    Config.enableLogCallback(new LogCallback() {\n        @Override\n        public void apply(LogMessage message) {\n            Log.e(Config.TAG, message.getText());\n            Log.e(&quot;TAG&quot;, &quot;apply: &quot; +message.getText());\n        }\n    });\n    Config.enableStatisticsCallback(new StatisticsCallback() {\n        @Override\n        public void apply(Statistics statistics) {\n\n        }\n    });\n\n    long executionId = FFmpeg.executeAsync(command, new ExecuteCallback() {\n        @Override\n        public void apply(long executionId, int returnCode) {\n            if (returnCode == RETURN_CODE_SUCCESS) {\n                \n                Log.e(&quot;1TAG&quot;, &quot;apply:return code &quot;+returnCode );\n                Log.e(&quot;1TAG&quot;, &quot;apply:execution Id &quot;+executionId );\n                Log.e(&quot;1TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\n\n\n            } else if (returnCode == RETURN_CODE_CANCEL) {\n                Log.e(&quot;2TAG&quot;, &quot;apply:return code &quot;+returnCode );\n                Log.e(&quot;2TAG&quot;, &quot;apply:execution Id &quot;+executionId );\n                Log.e(&quot;2TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\n\n            } else {\n                Log.e(&quot;3TAG&quot;, &quot;apply: returnCode&quot;+ returnCode);\n                Log.e(&quot;3TAG&quot;, &quot;apply:return code &quot;+returnCode );\n                Log.e(&quot;3TAG&quot;, &quot;apply:execution Id &quot;+executionId );\n                Log.e(&quot;3TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\n\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","selenium","user-interface"],"answers":[{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666018286,"creation_date":1666018286,"answer_id":74099107,"question_id":74094925,"body_markdown":"I had a similar task, and my solution was the following:\r\n\r\nI created a folder where I saved the body html of the page into text files.\r\nThen the logic was to run a test where it creates current text files with the body html. Finally comparing these 2 files and seeing if there is any difference.\r\n\r\nI have used the RestAssured API library to achieve this goal. So it is a mix of using API responses logic and comparing 2 files. You might have to replace some dynamic Strings in between.\r\n\r\nThe code looks similar to this:\r\n\r\n```\r\n@Test --&gt; here you can use a data provider \r\npublic void verifyHTMLConsistency(String URL) throws Exception {\r\n\r\nPath pathCurrent;\r\nPath pathBaseline;\r\n\r\nURL = &quot;url-of-the-page&quot;;\r\n\r\n// get the bodyHTML text, by giving the URL input.\r\nString bodyHTMLText = given()\r\n                .when()\r\n                .get(URL)\r\n                .then()\r\n                .log()\r\n                .body().extract().asString();\r\n\r\nbodyHTMLText = returnAllResultsBetweenValues(bodyHTMLText);\r\n\r\n\r\n        // 2\r\n        pathCurrent = Paths.get(System.getProperty(&quot;user.dir&quot;) + &quot;/reportFolder/CurrentTestTextFiles/&quot; + reportName + &quot;.txt&quot;);\r\n        writeFile(pathCurrent, bodyHTMLText);\r\n        pathBaseline = Paths.get(System.getProperty(&quot;user.dir&quot;) + &quot;/reportFolder/BaseLineTextFiles/&quot; + reportName + &quot;.txt&quot;);\r\n\r\n\r\n        // 3 open the text files in BufferedReader\r\n        BufferedReader readCurrentFile    = new BufferedReader(new FileReader(String.valueOf(pathCurrent)));\r\n        BufferedReader readerBaselineFile = new BufferedReader(new FileReader(String.valueOf(pathBaseline)));\r\n\r\n        assertTrue(sameContentWithFileReader(readCurrentFile, readerBaselineFile,reportName));\r\n}\r\n\r\nstatic void writeFile(Path path, String content) throws IOException {\r\n\r\n        Files.write(path, content.getBytes(StandardCharsets.UTF_8));\r\n}\r\n\r\nprivate static boolean sameContentWithFileReader(BufferedReader reader1, BufferedReader reader2, String reportName) throws IOException {\r\n\r\n        String line1 = reader1.readLine();\r\n        String line2 = reader2.readLine();\r\n\r\n        boolean flag = true;\r\n        int lineNum  = 1;\r\n\r\n        while (line1 != null || line2 != null)\r\n        {\r\n            if(line1 == null || line2 == null)\r\n            {\r\n                flag = false;\r\n\r\n                break;\r\n            }\r\n            else if(! line1.equalsIgnoreCase(line2))\r\n            {\r\n                flag = false;\r\n\r\n                break;\r\n            }\r\n\r\n            line1 = reader1.readLine();\r\n            line2 = reader2.readLine();\r\n\r\n            lineNum++;\r\n        }\r\n\r\n        if(flag)\r\n        {\r\n            System.out.println(&quot;Two files have same content.&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;Two files have different content. They differ at line &quot;+lineNum);\r\n            System.out.println(&quot;-------------------&quot;);\r\n            System.out.println(&quot;CURRENTFILE has &quot;+line1+&quot; || at line &quot;+lineNum);\r\n            System.out.println(&quot;-------------------&quot;);\r\n            System.out.println(&quot;BASELINE has &quot;+line2+&quot; || at line &quot;+lineNum);\r\n        }\r\n\r\n        reader1.close();\r\n        reader2.close();\r\n\r\n        return flag;\r\n}\r\n\r\n// to replace some dynamic values\r\nprivate static String returnAllResultsBetweenValues(String bodyHTMLText){\r\n\r\n        String[] stringToBeReplacedBottomMultiple;\r\n\r\n        try{\r\n\r\n            stringToBeReplacedBottomMultiple = \r\n            StringUtils.substringsBetween(bodyHTMLText,\r\n                    &quot;Text1&quot;,\r\n                    &quot;Text2&quot;);\r\n\r\n            // replace this string with a test text\r\n            for(String results : stringToBeReplacedBottomMultiple){\r\n                bodyHTMLText = bodyHTMLText.replace(results, &quot;---QA---&quot;);\r\n\r\n            }\r\n\r\n        }catch(Exception e){\r\n            System.out.println(e);\r\n        }\r\n\r\n        return bodyHTMLText;\r\n}\r\n\r\n```\r\n\r\nHope this helps.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to validate if any new changes in Page using Selenium java - UI changes","body":"<p>I had a similar task, and my solution was the following:</p>\n<p>I created a folder where I saved the body html of the page into text files.\nThen the logic was to run a test where it creates current text files with the body html. Finally comparing these 2 files and seeing if there is any difference.</p>\n<p>I have used the RestAssured API library to achieve this goal. So it is a mix of using API responses logic and comparing 2 files. You might have to replace some dynamic Strings in between.</p>\n<p>The code looks similar to this:</p>\n<pre><code>@Test --&gt; here you can use a data provider \npublic void verifyHTMLConsistency(String URL) throws Exception {\n\nPath pathCurrent;\nPath pathBaseline;\n\nURL = &quot;url-of-the-page&quot;;\n\n// get the bodyHTML text, by giving the URL input.\nString bodyHTMLText = given()\n                .when()\n                .get(URL)\n                .then()\n                .log()\n                .body().extract().asString();\n\nbodyHTMLText = returnAllResultsBetweenValues(bodyHTMLText);\n\n\n        // 2\n        pathCurrent = Paths.get(System.getProperty(&quot;user.dir&quot;) + &quot;/reportFolder/CurrentTestTextFiles/&quot; + reportName + &quot;.txt&quot;);\n        writeFile(pathCurrent, bodyHTMLText);\n        pathBaseline = Paths.get(System.getProperty(&quot;user.dir&quot;) + &quot;/reportFolder/BaseLineTextFiles/&quot; + reportName + &quot;.txt&quot;);\n\n\n        // 3 open the text files in BufferedReader\n        BufferedReader readCurrentFile    = new BufferedReader(new FileReader(String.valueOf(pathCurrent)));\n        BufferedReader readerBaselineFile = new BufferedReader(new FileReader(String.valueOf(pathBaseline)));\n\n        assertTrue(sameContentWithFileReader(readCurrentFile, readerBaselineFile,reportName));\n}\n\nstatic void writeFile(Path path, String content) throws IOException {\n\n        Files.write(path, content.getBytes(StandardCharsets.UTF_8));\n}\n\nprivate static boolean sameContentWithFileReader(BufferedReader reader1, BufferedReader reader2, String reportName) throws IOException {\n\n        String line1 = reader1.readLine();\n        String line2 = reader2.readLine();\n\n        boolean flag = true;\n        int lineNum  = 1;\n\n        while (line1 != null || line2 != null)\n        {\n            if(line1 == null || line2 == null)\n            {\n                flag = false;\n\n                break;\n            }\n            else if(! line1.equalsIgnoreCase(line2))\n            {\n                flag = false;\n\n                break;\n            }\n\n            line1 = reader1.readLine();\n            line2 = reader2.readLine();\n\n            lineNum++;\n        }\n\n        if(flag)\n        {\n            System.out.println(&quot;Two files have same content.&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;Two files have different content. They differ at line &quot;+lineNum);\n            System.out.println(&quot;-------------------&quot;);\n            System.out.println(&quot;CURRENTFILE has &quot;+line1+&quot; || at line &quot;+lineNum);\n            System.out.println(&quot;-------------------&quot;);\n            System.out.println(&quot;BASELINE has &quot;+line2+&quot; || at line &quot;+lineNum);\n        }\n\n        reader1.close();\n        reader2.close();\n\n        return flag;\n}\n\n// to replace some dynamic values\nprivate static String returnAllResultsBetweenValues(String bodyHTMLText){\n\n        String[] stringToBeReplacedBottomMultiple;\n\n        try{\n\n            stringToBeReplacedBottomMultiple = \n            StringUtils.substringsBetween(bodyHTMLText,\n                    &quot;Text1&quot;,\n                    &quot;Text2&quot;);\n\n            // replace this string with a test text\n            for(String results : stringToBeReplacedBottomMultiple){\n                bodyHTMLText = bodyHTMLText.replace(results, &quot;---QA---&quot;);\n\n            }\n\n        }catch(Exception e){\n            System.out.println(e);\n        }\n\n        return bodyHTMLText;\n}\n\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":26646803,"reputation":1,"user_id":20261636,"display_name":"Shwetha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666090986,"creation_date":1665997738,"question_id":74094925,"body_markdown":"I have been asked to validate the UI changes in the product(on all pages). If there are any new changes/features introduced or if there are any UI issues to be captured in automation ( Selenium, JAVA). What would be the best approach to achieve this result?","title":"How to validate if any new changes in Page using Selenium java - UI changes","body":"<p>I have been asked to validate the UI changes in the product(on all pages). If there are any new changes/features introduced or if there are any UI issues to be captured in automation ( Selenium, JAVA). What would be the best approach to achieve this result?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1665763833,"post_id":74071534,"comment_id":130781815,"body_markdown":"You can use the same algorithm except `temp` would be defined as `int[] temp = arr[i];`","body":"You can use the same algorithm except <code>temp</code> would be defined as <code>int[] temp = arr[i];</code>"}],"answers":[{"tags":[],"owner":{"account_id":25649756,"reputation":24,"user_id":19417216,"display_name":"phornbet"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665764415,"creation_date":1665764415,"answer_id":74072107,"question_id":74071534,"body_markdown":"    \tint[][] arr = {{1, 1, 1, 1, 1, 1,1, 1}, {0, 0, 0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 1, 1, 1, 1}, {1, 0, 1, 0, 1, 0, 1, 0}};\r\n\t\t\r\n\t\t//assuming all arrays in arr have same length!\r\n\t\tint[][] arr2 = new int [arr.length][arr[0].length];\t\t\t\r\n\t\tint k = arr2.length-1;\r\n\t\t\r\n\t\t//copy in reverse order\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\t\t\t\r\n\t\t\tfor (int j = 0; j &lt; arr[i].length; j++) {\r\n\t\t\t\tint temp = arr[i][j];\r\n\t\t\t\tarr2[k][j] = temp;\r\n\t\t\t}\r\n\t\t\tk--;\r\n\t\t}\r\n\t\t\r\n\t\t//print arr2\r\n\t\tfor (int i = 0; i &lt; arr2.length; i++) {\r\n\t\t\tSystem.out.print(&quot;{&quot;);\r\n\t\t\tfor (int j = 0; j &lt; arr2[i].length; j++) {\r\n\t\t\t\tSystem.out.print(arr2[i][j]);\r\n\t\t\t}\r\n\t\t\tSystem.out.print(&quot;}&quot;);\r\n\t\t}\r\nThis solution only works if all Arrays in `arr` have same length","title":"Reverse 2d array rows","body":"<pre><code>    int[][] arr = {{1, 1, 1, 1, 1, 1,1, 1}, {0, 0, 0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 1, 1, 1, 1}, {1, 0, 1, 0, 1, 0, 1, 0}};\n    \n    //assuming all arrays in arr have same length!\n    int[][] arr2 = new int [arr.length][arr[0].length];         \n    int k = arr2.length-1;\n    \n    //copy in reverse order\n    for (int i = 0; i &lt; arr.length; i++) {          \n        for (int j = 0; j &lt; arr[i].length; j++) {\n            int temp = arr[i][j];\n            arr2[k][j] = temp;\n        }\n        k--;\n    }\n    \n    //print arr2\n    for (int i = 0; i &lt; arr2.length; i++) {\n        System.out.print(&quot;{&quot;);\n        for (int j = 0; j &lt; arr2[i].length; j++) {\n            System.out.print(arr2[i][j]);\n        }\n        System.out.print(&quot;}&quot;);\n    }\n</code></pre>\n<p>This solution only works if all Arrays in <code>arr</code> have same length</p>\n"},{"tags":[],"owner":{"account_id":26583611,"reputation":39,"user_id":20207878,"display_name":"IMBABOT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666090944,"creation_date":1665771414,"answer_id":74073306,"question_id":74071534,"body_markdown":"Work for me:\r\n\r\n   \r\n\r\n    for (int j = 0; j &lt; arr.length / 2; j++) {\r\n        int[] temp = arr[j];\r\n        arr[j] = arr[arr.length - j - 1];\r\n        arr[arr.length - j - 1] = temp;\r\n    }","title":"Reverse 2d array rows","body":"<p>Work for me:</p>\n<pre><code>for (int j = 0; j &lt; arr.length / 2; j++) {\n    int[] temp = arr[j];\n    arr[j] = arr[arr.length - j - 1];\n    arr[arr.length - j - 1] = temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665772161,"creation_date":1665772161,"answer_id":74073427,"question_id":74071534,"body_markdown":"There are multiple ways to do that but i&#39;ll suggest you to use the Collections#reverse method which is used to reverse the order of the elements in the specified list. In your case, each element is an array, so the main array will reverse the elements (arrays).\r\n\r\n    import java.util.Collections\r\n    Collections.reverse(Arrays.asList(arr));","title":"Reverse 2d array rows","body":"<p>There are multiple ways to do that but i'll suggest you to use the Collections#reverse method which is used to reverse the order of the elements in the specified list. In your case, each element is an array, so the main array will reverse the elements (arrays).</p>\n<pre><code>import java.util.Collections\nCollections.reverse(Arrays.asList(arr));\n</code></pre>\n"}],"owner":{"account_id":26583611,"reputation":39,"user_id":20207878,"display_name":"IMBABOT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74073427,"answer_count":3,"score":0,"last_activity_date":1666090944,"creation_date":1665761222,"question_id":74071534,"body_markdown":"I&#39;ve got 2d array:\r\n\r\n    int firstDimension = data.length / 8;\r\n    int secondDimension = 8;\r\n    int[][] arr = new int[firstDimension][secondDimension];\r\n\r\n    [[1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1], [1, 0, 1, 0, 1, 0, 1, 0]]\r\n       \r\nI need to reversse array rows and get:\r\n\r\n    [[1, 0, 1, 0, 1, 0, 1, 0], [0, 0, 0, 0, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1]\r\n\r\nI found algorithm to reverse 1d array elements:\r\n\r\n       for (int i = 0; i &lt; validData.length / 2; i++) {\r\n                int temp = validData[i];\r\n                validData[i] = validData[validData.length - i - 1];\r\n                validData[validData.length - i - 1] = temp;\r\n            }\r\n\r\nHow can I reverse array rows?\r\n","title":"Reverse 2d array rows","body":"<p>I've got 2d array:</p>\n<pre><code>int firstDimension = data.length / 8;\nint secondDimension = 8;\nint[][] arr = new int[firstDimension][secondDimension];\n\n[[1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1], [1, 0, 1, 0, 1, 0, 1, 0]]\n   \n</code></pre>\n<p>I need to reversse array rows and get:</p>\n<pre><code>[[1, 0, 1, 0, 1, 0, 1, 0], [0, 0, 0, 0, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1]\n</code></pre>\n<p>I found algorithm to reverse 1d array elements:</p>\n<pre><code>   for (int i = 0; i &lt; validData.length / 2; i++) {\n            int temp = validData[i];\n            validData[i] = validData[validData.length - i - 1];\n            validData[validData.length - i - 1] = temp;\n        }\n</code></pre>\n<p>How can I reverse array rows?</p>\n"},{"tags":["java","spring-boot","email","microsoft-graph-api"],"owner":{"account_id":15362214,"reputation":11,"user_id":11082714,"display_name":"imash sandesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666090926,"creation_date":1666036568,"question_id":74102565,"body_markdown":"I want to get  Mail folders (ex-inbox) using Microsoft Graph API in the spring boot backend. Could you please share the necessary steps and code snippet to develop this?","title":"Email receiving service with Microsoft Graph API in spring boot/Java","body":"<p>I want to get  Mail folders (ex-inbox) using Microsoft Graph API in the spring boot backend. Could you please share the necessary steps and code snippet to develop this?</p>\n"},{"tags":["ubuntu","environment-variables","java"],"answers":[{"tags":[],"owner":{"account_id":1117243,"reputation":6211,"user_id":1106317,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658239563,"creation_date":1331181588,"answer_id":9612972,"question_id":9612941,"body_markdown":"It should put java in your path, probably in `/usr/bin/java`.  The easiest way to find it is to open a term and type `which java`.","title":"How to set Java environment path in Ubuntu","body":"<p>It should put java in your path, probably in <code>/usr/bin/java</code>.  The easiest way to find it is to open a term and type <code>which java</code>.</p>\n"},{"tags":[],"owner":{"account_id":543501,"reputation":3781,"user_id":912658,"display_name":"Vijay Agrawal"},"down_vote_count":0,"up_vote_count":104,"is_accepted":false,"score":104,"last_activity_date":1536663399,"creation_date":1331181724,"answer_id":9612986,"question_id":9612941,"body_markdown":"Java is typically installed in `/usr/java`\r\nlocate the version  you have and then do the following:\r\n\r\nAssuming you are using bash (if you are just starting off, i recommend bash over other shells) you can simply type in bash to start it.\r\n\r\nEdit your `~/.bashrc` file and add the paths as follows:\r\n\r\nfor eg. vi `~/.bashrc`\r\n\r\ninsert following lines:\r\n\r\n    export JAVA_HOME=/usr/java/&lt;your version of java&gt;\r\n    export PATH=${PATH}:${JAVA_HOME}/bin\r\n\r\nafter you save the changes, exit and restart your bash or just type in bash to start a new shell\r\n\r\nType in `export` to ensure paths are right.\r\n\r\nType in `java -version` to ensure Java is accessible.\r\n\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>Java is typically installed in <code>/usr/java</code>\nlocate the version  you have and then do the following:</p>\n\n<p>Assuming you are using bash (if you are just starting off, i recommend bash over other shells) you can simply type in bash to start it.</p>\n\n<p>Edit your <code>~/.bashrc</code> file and add the paths as follows:</p>\n\n<p>for eg. vi <code>~/.bashrc</code></p>\n\n<p>insert following lines:</p>\n\n<pre><code>export JAVA_HOME=/usr/java/&lt;your version of java&gt;\nexport PATH=${PATH}:${JAVA_HOME}/bin\n</code></pre>\n\n<p>after you save the changes, exit and restart your bash or just type in bash to start a new shell</p>\n\n<p>Type in <code>export</code> to ensure paths are right.</p>\n\n<p>Type in <code>java -version</code> to ensure Java is accessible.</p>\n"},{"tags":[],"owner":{"account_id":1207003,"reputation":1936,"user_id":1176394,"display_name":"prajeesh kumar"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1331182217,"creation_date":1331182217,"answer_id":9613062,"question_id":9612941,"body_markdown":"Ubuntu installs openjdk6 to `/usr/lib/jvm/java-6-openjdk` path. So you will have the bin in `/usr/lib/jvm/java-6-openjdk/bin`. Usually the classpath is automatically set for the java &amp; related executables.","title":"How to set Java environment path in Ubuntu","body":"<p>Ubuntu installs openjdk6 to <code>/usr/lib/jvm/java-6-openjdk</code> path. So you will have the bin in <code>/usr/lib/jvm/java-6-openjdk/bin</code>. Usually the classpath is automatically set for the java &amp; related executables.</p>\n"},{"tags":[],"owner":{"account_id":485862,"reputation":1486,"user_id":902423,"accept_rate":82,"display_name":"Raveesh Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658239603,"creation_date":1331183551,"answer_id":9613206,"question_id":9612941,"body_markdown":"open jdk once installed resides generally in your `/usr/lib/java-6-openjdk`\r\n\r\nAs usual you would need to set the `JAVA_HOME`, classpath and Path.\r\n\r\nIn ubuntu 11.04 there is a environment file available in `/etc` where you need to set all the three paths. And then you would need to restart your system for the changes to take effect.. \r\n\r\nHere is a site to help you around \r\nhttp://aliolci.blogspot.com/2011/05/ubuntu-1104-set-new-environment.html","title":"How to set Java environment path in Ubuntu","body":"<p>open jdk once installed resides generally in your <code>/usr/lib/java-6-openjdk</code></p>\n<p>As usual you would need to set the <code>JAVA_HOME</code>, classpath and Path.</p>\n<p>In ubuntu 11.04 there is a environment file available in <code>/etc</code> where you need to set all the three paths. And then you would need to restart your system for the changes to take effect..</p>\n<p>Here is a site to help you around\n<a href=\"http://aliolci.blogspot.com/2011/05/ubuntu-1104-set-new-environment.html\" rel=\"nofollow noreferrer\">http://aliolci.blogspot.com/2011/05/ubuntu-1104-set-new-environment.html</a></p>\n"},{"tags":[],"owner":{"account_id":1379594,"reputation":16270,"user_id":1312904,"accept_rate":83,"display_name":"Atul Arvind"},"down_vote_count":4,"up_vote_count":36,"is_accepted":false,"score":32,"last_activity_date":1368000456,"creation_date":1368000456,"answer_id":16435626,"question_id":9612941,"body_markdown":"To **Set JAVA_HOME / PATH for a single user**, Login to your account and open .bash_profile file\r\n\r\n    $ vi ~/.bash_profile\r\n\r\nSet JAVA_HOME as follows using syntax export `JAVA_HOME=&lt;path-to-java&gt;`. If your path is set to /usr/java/jdk1.5.0_07/bin/java, set it as follows:\r\n\r\n    export JAVA_HOME=/usr/java/jdk1.5.0_07/bin/java\r\n\r\nSet PATH as follows:\r\n\r\n    export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\r\n\r\nFeel free to replace /usr/java/jdk1.5.0_07 as per your setup. Save and close the file. Just logout and login back to see new changes. Alternatively, type the following command to activate the new path settings immediately:\r\n\r\n    $ source ~/.bash_profile\r\n\r\nOR\r\n\r\n    $ . ~/.bash_profile\r\n\r\nVerify new settings:\r\n\r\n    $ echo $JAVA_HOME\r\n    $ echo $PATH\r\n\r\nTip: Use the following command to find out exact path to which java executable under UNIX / Linux:\r\n\r\n    $ which java\r\n\r\nPlease note that the file ~/.bashrc is similar, with the exception that ~/.bash_profile runs only for Bash login shells and .bashrc runs for every new Bash shell.\r\n\r\n\r\n**To Set JAVA_HOME / PATH for all user**, You need to setup global config in `/etc/profile` OR `/etc/bash.bashrc` file for all users:\r\n\r\n    # vi /etc/profile\r\n\r\nNext setup PATH / JAVA_PATH variables as follows:\r\n\r\n    export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\r\n    export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\r\n\r\nSave and close the file. Once again you need to type the following command to activate the path settings immediately:\r\n\r\n    # source /etc/profile\r\n\r\nOR\r\n\r\n    # . /etc/profile","title":"How to set Java environment path in Ubuntu","body":"<p>To <strong>Set JAVA_HOME / PATH for a single user</strong>, Login to your account and open .bash_profile file</p>\n\n<pre><code>$ vi ~/.bash_profile\n</code></pre>\n\n<p>Set JAVA_HOME as follows using syntax export <code>JAVA_HOME=&lt;path-to-java&gt;</code>. If your path is set to /usr/java/jdk1.5.0_07/bin/java, set it as follows:</p>\n\n<pre><code>export JAVA_HOME=/usr/java/jdk1.5.0_07/bin/java\n</code></pre>\n\n<p>Set PATH as follows:</p>\n\n<pre><code>export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\n</code></pre>\n\n<p>Feel free to replace /usr/java/jdk1.5.0_07 as per your setup. Save and close the file. Just logout and login back to see new changes. Alternatively, type the following command to activate the new path settings immediately:</p>\n\n<pre><code>$ source ~/.bash_profile\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>$ . ~/.bash_profile\n</code></pre>\n\n<p>Verify new settings:</p>\n\n<pre><code>$ echo $JAVA_HOME\n$ echo $PATH\n</code></pre>\n\n<p>Tip: Use the following command to find out exact path to which java executable under UNIX / Linux:</p>\n\n<pre><code>$ which java\n</code></pre>\n\n<p>Please note that the file ~/.bashrc is similar, with the exception that ~/.bash_profile runs only for Bash login shells and .bashrc runs for every new Bash shell.</p>\n\n<p><strong>To Set JAVA_HOME / PATH for all user</strong>, You need to setup global config in <code>/etc/profile</code> OR <code>/etc/bash.bashrc</code> file for all users:</p>\n\n<pre><code># vi /etc/profile\n</code></pre>\n\n<p>Next setup PATH / JAVA_PATH variables as follows:</p>\n\n<pre><code>export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\nexport PATH=$PATH:/usr/java/jdk1.5.0_07/bin\n</code></pre>\n\n<p>Save and close the file. Once again you need to type the following command to activate the path settings immediately:</p>\n\n<pre><code># source /etc/profile\n</code></pre>\n\n<p>OR</p>\n\n<pre><code># . /etc/profile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1949540,"reputation":4637,"user_id":1753955,"display_name":"Pratap Singh"},"down_vote_count":3,"up_vote_count":278,"is_accepted":true,"score":275,"last_activity_date":1519546400,"creation_date":1379994618,"answer_id":18972665,"question_id":9612941,"body_markdown":"set  environment variables as follows\r\n\r\nEdit the system Path file /etc/profile\r\n\r\n    sudo gedit /etc/profile\r\n\r\nAdd following lines in end\r\n\r\n    JAVA_HOME=/usr/lib/jvm/jdk1.7.0\r\n    PATH=$PATH:$HOME/bin:$JAVA_HOME/bin\r\n    export JAVA_HOME\r\n    export JRE_HOME\r\n    export PATH\r\n\r\nThen Log out and Log in ubuntu for setting up the paths...","title":"How to set Java environment path in Ubuntu","body":"<p>set  environment variables as follows</p>\n\n<p>Edit the system Path file /etc/profile</p>\n\n<pre><code>sudo gedit /etc/profile\n</code></pre>\n\n<p>Add following lines in end</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/jdk1.7.0\nPATH=$PATH:$HOME/bin:$JAVA_HOME/bin\nexport JAVA_HOME\nexport JRE_HOME\nexport PATH\n</code></pre>\n\n<p>Then Log out and Log in ubuntu for setting up the paths...</p>\n"},{"tags":[],"owner":{"account_id":2521577,"reputation":523,"user_id":2191837,"accept_rate":40,"display_name":"Paramananda"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1658239676,"creation_date":1389721443,"answer_id":21120307,"question_id":9612941,"body_markdown":"To set up system wide scope you need to use the \r\n\r\n`/etc/environment` file `sudo gedit /etc/environment` \r\n\r\nis the location where you can define any environment variable. It can be visible in the whole system scope. After variable is defined system need to be restarted.\r\n\r\nEXAMPLE : \r\n\r\n    sudo gedit /etc/environment\r\n\r\nAdd like following :\r\n\r\n    PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games&quot;\r\n    JAVA_HOME=&quot;/opt/jdk1.6.0_45/&quot;\r\n\r\n\r\nHere is the site you can find more : [http://peesquare.com/blogs/environment-variable-setup-on-ubuntu/][1]\r\n\r\n\r\n  [1]: http://peesquare.com/blogs/environment-variable-setup-on-ubuntu/","title":"How to set Java environment path in Ubuntu","body":"<p>To set up system wide scope you need to use the</p>\n<p><code>/etc/environment</code> file <code>sudo gedit /etc/environment</code></p>\n<p>is the location where you can define any environment variable. It can be visible in the whole system scope. After variable is defined system need to be restarted.</p>\n<p>EXAMPLE :</p>\n<pre><code>sudo gedit /etc/environment\n</code></pre>\n<p>Add like following :</p>\n<pre><code>PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games&quot;\nJAVA_HOME=&quot;/opt/jdk1.6.0_45/&quot;\n</code></pre>\n<p>Here is the site you can find more : <a href=\"http://peesquare.com/blogs/environment-variable-setup-on-ubuntu/\" rel=\"nofollow noreferrer\">http://peesquare.com/blogs/environment-variable-setup-on-ubuntu/</a></p>\n"},{"tags":[],"owner":{"account_id":1077023,"reputation":19,"user_id":1074930,"display_name":"Abu Sayed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658239650,"creation_date":1436010266,"answer_id":31220239,"question_id":9612941,"body_markdown":"Installation of Oracle Java:\r\n\r\n1. Download the tarball (.tar file) from Oracle website\r\n2. unzip it by `sudo tar -xvpzf fileName -C /installation_folder_name`\r\n3. change the files permission and ownership\r\n4. add the following two lines in `/etc/profile`\r\n\r\n```\r\nexport JAVA_HOME=/home/abu/Java/jdk1.8.0_45/\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n```\r\n\r\n5. restart the machine and check by `java -version` and `javac -version`\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>Installation of Oracle Java:</p>\n<ol>\n<li>Download the tarball (.tar file) from Oracle website</li>\n<li>unzip it by <code>sudo tar -xvpzf fileName -C /installation_folder_name</code></li>\n<li>change the files permission and ownership</li>\n<li>add the following two lines in <code>/etc/profile</code></li>\n</ol>\n<pre><code>export JAVA_HOME=/home/abu/Java/jdk1.8.0_45/\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<ol start=\"5\">\n<li>restart the machine and check by <code>java -version</code> and <code>javac -version</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8557095,"reputation":820,"user_id":6412212,"display_name":"Loich"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1491978737,"creation_date":1491978737,"answer_id":43361984,"question_id":9612941,"body_markdown":"if you have intalled only openJDK, the you should update your links, because you can have some OpenJDK intallation.\r\n\r\n    sudo update-alternatives --config java\r\n\r\nafter this\r\n\r\n    $gedit ~/.bashrc\r\n\r\nadd the following line in the file\r\n\r\n`JAVA_HOME=/usr/lib/jvm/YOUR_JAVA_VERSION\r\n export PATH=$PATH:$JAVA_HOME/bin\r\n export JAVA_HOME`\r\n\r\nyou can get you java version with\r\n\r\n    java -version","title":"How to set Java environment path in Ubuntu","body":"<p>if you have intalled only openJDK, the you should update your links, because you can have some OpenJDK intallation.</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n\n<p>after this</p>\n\n<pre><code>$gedit ~/.bashrc\n</code></pre>\n\n<p>add the following line in the file</p>\n\n<p><code>JAVA_HOME=/usr/lib/jvm/YOUR_JAVA_VERSION\n export PATH=$PATH:$JAVA_HOME/bin\n export JAVA_HOME</code></p>\n\n<p>you can get you java version with</p>\n\n<pre><code>java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1515836599,"creation_date":1495217206,"answer_id":44076404,"question_id":9612941,"body_markdown":" - Open terminal (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;t&lt;/kbd&gt;)\r\n - Type \r\n                   \r\n        sudo gedit .bashrc \r\n - Enter password of ubuntu user\r\n - Go to last line of the file\r\n - Type below code in new line\r\n                                                                     \r\n        export JAVA_HOME=enter_java_path_here\r\n        export PATH=$JAVA_HOME/bin:$PATH\r\n        eg: export JAVA_HOME=/home/pranav/jdk1.8.0_131\r\n            export PATH=$JAVA_HOME/bin:$PATH\r\n - Save the file\r\n - Type \r\n\r\n        source ~/.bashrc\r\n in terminal\r\n - Done\r\n\r\n\r\n","title":"How to set Java environment path in Ubuntu","body":"<ul>\n<li>Open terminal (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>t</kbd>)</li>\n<li><p>Type </p>\n\n<pre><code>sudo gedit .bashrc \n</code></pre></li>\n<li>Enter password of ubuntu user</li>\n<li>Go to last line of the file</li>\n<li><p>Type below code in new line</p>\n\n<pre><code>export JAVA_HOME=enter_java_path_here\nexport PATH=$JAVA_HOME/bin:$PATH\neg: export JAVA_HOME=/home/pranav/jdk1.8.0_131\n    export PATH=$JAVA_HOME/bin:$PATH\n</code></pre></li>\n<li>Save the file</li>\n<li><p>Type </p>\n\n<pre><code>source ~/.bashrc\n</code></pre>\n\n<p>in terminal</p></li>\n<li>Done</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user9140345"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658238724,"creation_date":1515430619,"answer_id":48154722,"question_id":9612941,"body_markdown":"Let me simplify:\r\n\r\n\r\n1. download JDK from Oracle Website : [Link][1]\r\n\r\n2. Extract it \r\n\r\n3. Create a folder (jvm) in `/usr/lib/` i.e `/usr/lib/jvm`\r\n\r\n4. move the extracted folder from the jdk to `/usr/lib/jvm/ `\r\n\r\n*Note : use terminal, `sudo`, `mv` command i.e. `sudo mv`   \r\n\r\n5. Create a `.sh` file at `/etc/profile.d/` eg: `/etc/profile.d/myenvvar.sh`\r\n\r\n6. In the `.sh` file type \r\n\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/jdk1.7.0\r\n\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\n```\r\n\r\n*Note : use terminal, `gedit` and `sudo` eg: `sudo gedit myenvvar.sh`\r\n\r\n7. Turn Off the Computer, after all these steps and Restart it\r\n\r\n8. Open Terminal , and type \r\n\r\n`java -version`\r\n\r\n9. Check the output , then type\r\n\r\n`echo $JAVA_HOME`\r\n\r\n[1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html","title":"How to set Java environment path in Ubuntu","body":"<p>Let me simplify:</p>\n<ol>\n<li><p>download JDK from Oracle Website : <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">Link</a></p>\n</li>\n<li><p>Extract it</p>\n</li>\n<li><p>Create a folder (jvm) in <code>/usr/lib/</code> i.e <code>/usr/lib/jvm</code></p>\n</li>\n<li><p>move the extracted folder from the jdk to <code>/usr/lib/jvm/ </code></p>\n</li>\n</ol>\n<p>*Note : use terminal, <code>sudo</code>, <code>mv</code> command i.e. <code>sudo mv</code></p>\n<ol start=\"5\">\n<li><p>Create a <code>.sh</code> file at <code>/etc/profile.d/</code> eg: <code>/etc/profile.d/myenvvar.sh</code></p>\n</li>\n<li><p>In the <code>.sh</code> file type</p>\n</li>\n</ol>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/jdk1.7.0\n\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<p>*Note : use terminal, <code>gedit</code> and <code>sudo</code> eg: <code>sudo gedit myenvvar.sh</code></p>\n<ol start=\"7\">\n<li><p>Turn Off the Computer, after all these steps and Restart it</p>\n</li>\n<li><p>Open Terminal , and type</p>\n</li>\n</ol>\n<p><code>java -version</code></p>\n<ol start=\"9\">\n<li>Check the output , then type</li>\n</ol>\n<p><code>echo $JAVA_HOME</code></p>\n"},{"tags":[],"owner":{"account_id":4423722,"reputation":12877,"user_id":4374291,"accept_rate":80,"display_name":"T04435"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519517036,"creation_date":1519517036,"answer_id":48968905,"question_id":9612941,"body_markdown":"You can install the default Ubuntu(17.10) java from apt:\r\n\r\n    sudo apt install openjdk-8-jdk-headless \r\n    \r\nAnd it will set the PATH for you, if instead you need to install specific version of Java you can follow  this [YouTube](https://www.youtube.com/watch?v=WWDcC9QxcqE)","title":"How to set Java environment path in Ubuntu","body":"<p>You can install the default Ubuntu(17.10) java from apt:</p>\n\n<pre><code>sudo apt install openjdk-8-jdk-headless \n</code></pre>\n\n<p>And it will set the PATH for you, if instead you need to install specific version of Java you can follow  this <a href=\"https://www.youtube.com/watch?v=WWDcC9QxcqE\" rel=\"nofollow noreferrer\">YouTube</a></p>\n"},{"tags":[],"owner":{"account_id":1930781,"reputation":1154,"user_id":1740195,"display_name":"Nithin Raja"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1658238311,"creation_date":1550148037,"answer_id":54690640,"question_id":9612941,"body_markdown":"You need to set the `$JAVA_HOME` variable.\r\n\r\nIn my case while setting up Maven, I had to set it up to where JDK is installed.\r\n\r\nFirst find out where JAVA is installed:\r\n\r\n    $ whereis java\r\n\r\n&gt; java: /usr/bin/java /usr/share/java /usr/share/man/man1/java.1.gz\r\n\r\nNow dig deeper:\r\n\r\n    $ ls -l /usr/bin/java\r\n\r\n&gt; lrwxrwxrwx 1 root root 46 Aug 25  2018 /etc/alternatives/java -&gt; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nDig deeper:\r\n\r\n    $ ls -l /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\n&gt; -rwxr-xr-x 1 root root 6464 Mar 14 18:28 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nAs it is not being referenced to any other directory, we&#39;ll use this.\r\n\r\nOpen `/etc/environment` using nano:\r\n\r\n    $ sudo nano /etc/environment\r\n\r\nAppend the following lines\r\n\r\n```\r\nJAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n\r\nexport JAVA_HOME\r\n```\r\n\r\nReload PATH using:\r\n\r\n    $. /etc/environment\r\n\r\nNow:\r\n\r\n    $ echo $JAVA_HOME\r\n\r\nHere is your output:\r\n\r\n&gt; /usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n\r\nSources I referred to:\r\n\r\nhttps://askubuntu.com/a/175519\r\n\r\nhttps://stackoverflow.com/a/23427862/6297483\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>You need to set the <code>$JAVA_HOME</code> variable.</p>\n<p>In my case while setting up Maven, I had to set it up to where JDK is installed.</p>\n<p>First find out where JAVA is installed:</p>\n<pre><code>$ whereis java\n</code></pre>\n<blockquote>\n<p>java: /usr/bin/java /usr/share/java /usr/share/man/man1/java.1.gz</p>\n</blockquote>\n<p>Now dig deeper:</p>\n<pre><code>$ ls -l /usr/bin/java\n</code></pre>\n<blockquote>\n<p>lrwxrwxrwx 1 root root 46 Aug 25  2018 /etc/alternatives/java -&gt; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java</p>\n</blockquote>\n<p>Dig deeper:</p>\n<pre><code>$ ls -l /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n<blockquote>\n<p>-rwxr-xr-x 1 root root 6464 Mar 14 18:28 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java</p>\n</blockquote>\n<p>As it is not being referenced to any other directory, we'll use this.</p>\n<p>Open <code>/etc/environment</code> using nano:</p>\n<pre><code>$ sudo nano /etc/environment\n</code></pre>\n<p>Append the following lines</p>\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\n\nexport JAVA_HOME\n</code></pre>\n<p>Reload PATH using:</p>\n<pre><code>$. /etc/environment\n</code></pre>\n<p>Now:</p>\n<pre><code>$ echo $JAVA_HOME\n</code></pre>\n<p>Here is your output:</p>\n<blockquote>\n<p>/usr/lib/jvm/java-1.8.0-openjdk-amd64</p>\n</blockquote>\n<p>Sources I referred to:</p>\n<p><a href=\"https://askubuntu.com/a/175519\">https://askubuntu.com/a/175519</a></p>\n<p><a href=\"https://stackoverflow.com/a/23427862/6297483\">https://stackoverflow.com/a/23427862/6297483</a></p>\n"},{"tags":[],"owner":{"account_id":10467366,"reputation":19,"user_id":7716382,"display_name":"tr&#237; nguyễn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552002948,"creation_date":1552002948,"answer_id":55054706,"question_id":9612941,"body_markdown":"Step1:\r\n\r\n    sudo gedit ~/.bash_profile\r\n\r\nStep2:\r\n\r\n    JAVA_HOME=/home/user/tool/jdk-8u201-linux-x64/jdk1.8.0_201\r\n    PATH=$PATH:$HOME/bin:$JAVA_HOME/bin\r\n    export JAVA_HOME\r\n    export JRE_HOME\r\n    export PATH\r\n\r\nStep3:\r\n\r\n    source ~/.bash_profile","title":"How to set Java environment path in Ubuntu","body":"<p>Step1:</p>\n\n<pre><code>sudo gedit ~/.bash_profile\n</code></pre>\n\n<p>Step2:</p>\n\n<pre><code>JAVA_HOME=/home/user/tool/jdk-8u201-linux-x64/jdk1.8.0_201\nPATH=$PATH:$HOME/bin:$JAVA_HOME/bin\nexport JAVA_HOME\nexport JRE_HOME\nexport PATH\n</code></pre>\n\n<p>Step3:</p>\n\n<pre><code>source ~/.bash_profile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557323728,"creation_date":1557323728,"answer_id":56042469,"question_id":9612941,"body_markdown":" \r\n\r\n 1. Update `bashrc` file to add `JAVA_HOME`\r\n\r\n    `sudo nano ~/.bashrc`\r\n\r\n 2. Add `JAVA_HOME` to `bashrc` file.\r\n\r\n    `export JAVA_HOME=/usr/java/&lt;your version of java&gt;`    \r\n`export PATH=${PATH}:${JAVA_HOME}/bin`\r\n\r\n 3. Ensure Java is accessible\r\n\r\n    `java -version`\r\n\r\n 4. In Case of Manual installation of JDK, If you got an error as shown below \r\n    &lt;pre&gt;Error occurred during initialization of VM\r\njava/lang/NoClassDefFoundError: java/lang/Object\r\n&lt;/pre&gt;\r\n\r\n 5. Execute the following command in your JAVA_HOME/lib directory:\r\n\r\n    `unpack200 -r -v -l &quot;&quot; tools.pack tools.jar`\r\n\r\n 6. Execute the following commands in your JAVA_HOME/jre/lib\r\n\r\n    `../../bin/unpack200 rt.pack rt.jar\r\n    ../../bin/unpack200 jsse.pack jsse.rar\r\n    ../../bin/unpack200 charsets.pack charsets.jar`\r\n\r\n 7. Ensure Java is accessible\r\n\r\n    `java -version`\r\n\r\n","title":"How to set Java environment path in Ubuntu","body":"<ol>\n<li><p>Update <code>bashrc</code> file to add <code>JAVA_HOME</code></p>\n\n<p><code>sudo nano ~/.bashrc</code></p></li>\n<li><p>Add <code>JAVA_HOME</code> to <code>bashrc</code> file.</p>\n\n<p><code>export JAVA_HOME=/usr/java/&lt;your version of java&gt;</code><br>\n<code>export PATH=${PATH}:${JAVA_HOME}/bin</code></p></li>\n<li><p>Ensure Java is accessible</p>\n\n<p><code>java -version</code></p></li>\n<li><p>In Case of Manual installation of JDK, If you got an error as shown below </p>\n\n<pre>Error occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object\n</pre></li>\n<li><p>Execute the following command in your JAVA_HOME/lib directory:</p>\n\n<p><code>unpack200 -r -v -l \"\" tools.pack tools.jar</code></p></li>\n<li><p>Execute the following commands in your JAVA_HOME/jre/lib</p>\n\n<p><code>../../bin/unpack200 rt.pack rt.jar\n../../bin/unpack200 jsse.pack jsse.rar\n../../bin/unpack200 charsets.pack charsets.jar</code></p></li>\n<li><p>Ensure Java is accessible</p>\n\n<p><code>java -version</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557927441,"creation_date":1557927441,"answer_id":56150761,"question_id":9612941,"body_markdown":"All you have to do now is to set the `“JAVA_HOME”` and `“PATH”` environment variables and then you are done. Enter the following commands to set your environment variables. Make sure that your environment variables point to a valid installation of JDK on your machine. For Ubuntu 18.04, the path is `/usr/lib/jvm/java-8-openjdk-amd64/`\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n\r\nTo check whether your JAVA_HOME path has been successfully saved, enter the following command to check.\r\n\r\n    echo $JAVA_HOME","title":"How to set Java environment path in Ubuntu","body":"<p>All you have to do now is to set the <code>“JAVA_HOME”</code> and <code>“PATH”</code> environment variables and then you are done. Enter the following commands to set your environment variables. Make sure that your environment variables point to a valid installation of JDK on your machine. For Ubuntu 18.04, the path is <code>/usr/lib/jvm/java-8-openjdk-amd64/</code></p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n\n<p>To check whether your JAVA_HOME path has been successfully saved, enter the following command to check.</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14781650,"reputation":21,"user_id":10675012,"display_name":"Firas Nomaan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1558699528,"creation_date":1558699528,"answer_id":56292360,"question_id":9612941,"body_markdown":"Open file `/etc/environment` with a text editor\r\nAdd the line `JAVA_HOME=&quot;[path to your java]&quot;`\r\nSave and close then run `source /etc/environment`","title":"How to set Java environment path in Ubuntu","body":"<p>Open file <code>/etc/environment</code> with a text editor\nAdd the line <code>JAVA_HOME=\"[path to your java]\"</code>\nSave and close then run <code>source /etc/environment</code></p>\n"},{"tags":[],"owner":{"account_id":7680502,"reputation":111,"user_id":7901651,"display_name":"ReSearchIT Eng"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1574542476,"creation_date":1574542476,"answer_id":59012171,"question_id":9612941,"body_markdown":"# How to install java packages: \r\nInstall desired java version / versions using official ubuntu packages, which are managed using alternatives:      \r\n`sudo apt install -y openjdk-8-jdk`       \r\nor/and other version: \r\n`sudo apt install -y openjdk-11-jdk`      \r\n\r\nAbove answers are correct only when you have only one version for all software on your machine, and you can skip using update-alternatives. So one can quickly  hardcode it in .bashrc or some other place:     \r\n`export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64`           \r\nbut it&#39;s not healthy, as later on you may change the version.\r\n\r\n# Correct way to set JAVA_HOME (and optionally JAVA_SDK, JAVA_JRE )\r\nThe correct way (and mandatory when you have more than one), is to detect what update-alternative is pointing to, and always use update-alternatives to switch active version.\r\n\r\nHere are the suggestions for both: only specific unix account or for all accounts (machine level).\r\n\r\n# 1. for a specific unix account only:     \r\nUse this if you don&#39;t have permissions to do it at machine level.\r\n```\r\ncat &lt;&lt;&#39;EOF&#39; &gt;&gt;~/.bashrc\r\n\r\nexport JAVA_HOME=$(update-alternatives --query java | grep Value | cut -d&quot; &quot; -f2 | sed &#39;s!\\(\\/.*\\)jre\\(.*\\)!\\1!g&#39;)\r\nexport JDK_HOME=${JAVA_HOME}\r\nexport JRE_HOME=${JDK_HOME}/jre/\r\n\r\nEOF\r\n```\r\n\r\n# 2. To do it at machine level, and for all bourne shells, you need 2 steps:    \r\n2.a    \r\n```\r\ncat &lt;&lt;&#39;EOF&#39; | sudo tee /etc/profile.d/java_home_env.sh &gt;/dev/null\r\n\r\nexport JAVA_HOME=$(update-alternatives --query java | grep Value | cut -d&quot; &quot; -f2 | sed &#39;s!\\(\\/.*\\)jre\\(.*\\)!\\1!g&#39;)\r\nexport JDK_HOME=${JAVA_HOME}\r\nexport JRE_HOME=${JDK_HOME}/jre/\r\n\r\nEOF\r\n```\r\n\r\nAs your shell might not be set as interactive by default, you may want to do this also:    \r\n2.b     \r\n```\r\ncat &lt;&lt;&#39;EOF&#39; | sudo tee -a /etc/bash.bashrc &gt;/dev/null\r\nif [ -d /etc/profile.d ]; then\r\n  for i in /etc/profile.d/*.sh; do\r\n    if [ -r $i ]; then\r\n      . $i\r\n    fi\r\n  done\r\n  unset i\r\nfi\r\nEOF\r\n```\r\n\r\nPS: There should be no need to update the $PATH, as update-alternatives takes care of the link to /usr/bin/.     \r\nMore on: https://manpages.ubuntu.com/manpages/trusty/man8/update-alternatives.8.html    \r\n","title":"How to set Java environment path in Ubuntu","body":"<h1>How to install java packages:</h1>\n\n<p>Install desired java version / versions using official ubuntu packages, which are managed using alternatives:<br>\n<code>sudo apt install -y openjdk-8-jdk</code><br>\nor/and other version: \n<code>sudo apt install -y openjdk-11-jdk</code>      </p>\n\n<p>Above answers are correct only when you have only one version for all software on your machine, and you can skip using update-alternatives. So one can quickly  hardcode it in .bashrc or some other place:<br>\n<code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64</code><br>\nbut it's not healthy, as later on you may change the version.</p>\n\n<h1>Correct way to set JAVA_HOME (and optionally JAVA_SDK, JAVA_JRE )</h1>\n\n<p>The correct way (and mandatory when you have more than one), is to detect what update-alternative is pointing to, and always use update-alternatives to switch active version.</p>\n\n<p>Here are the suggestions for both: only specific unix account or for all accounts (machine level).</p>\n\n<h1>1. for a specific unix account only:</h1>\n\n<p>Use this if you don't have permissions to do it at machine level.</p>\n\n<pre><code>cat &lt;&lt;'EOF' &gt;&gt;~/.bashrc\n\nexport JAVA_HOME=$(update-alternatives --query java | grep Value | cut -d\" \" -f2 | sed 's!\\(\\/.*\\)jre\\(.*\\)!\\1!g')\nexport JDK_HOME=${JAVA_HOME}\nexport JRE_HOME=${JDK_HOME}/jre/\n\nEOF\n</code></pre>\n\n<h1>2. To do it at machine level, and for all bourne shells, you need 2 steps:</h1>\n\n<p>2.a    </p>\n\n<pre><code>cat &lt;&lt;'EOF' | sudo tee /etc/profile.d/java_home_env.sh &gt;/dev/null\n\nexport JAVA_HOME=$(update-alternatives --query java | grep Value | cut -d\" \" -f2 | sed 's!\\(\\/.*\\)jre\\(.*\\)!\\1!g')\nexport JDK_HOME=${JAVA_HOME}\nexport JRE_HOME=${JDK_HOME}/jre/\n\nEOF\n</code></pre>\n\n<p>As your shell might not be set as interactive by default, you may want to do this also:<br>\n2.b     </p>\n\n<pre><code>cat &lt;&lt;'EOF' | sudo tee -a /etc/bash.bashrc &gt;/dev/null\nif [ -d /etc/profile.d ]; then\n  for i in /etc/profile.d/*.sh; do\n    if [ -r $i ]; then\n      . $i\n    fi\n  done\n  unset i\nfi\nEOF\n</code></pre>\n\n<p>PS: There should be no need to update the $PATH, as update-alternatives takes care of the link to /usr/bin/.<br>\nMore on: <a href=\"https://manpages.ubuntu.com/manpages/trusty/man8/update-alternatives.8.html\" rel=\"noreferrer\">https://manpages.ubuntu.com/manpages/trusty/man8/update-alternatives.8.html</a>    </p>\n"},{"tags":[],"owner":{"account_id":1739491,"reputation":31,"user_id":1591305,"display_name":"Etmos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583063797,"creation_date":1583063797,"answer_id":60474837,"question_id":9612941,"body_markdown":"I have a Linux Lite 3.8 (It bases on Ubuntu 16.04 LTS) and a path change in the following file (with root privileges) with restart has helped.\r\n\r\n    /etc/profile.d/jdk.sh\r\n\r\n ","title":"How to set Java environment path in Ubuntu","body":"<p>I have a Linux Lite 3.8 (It bases on Ubuntu 16.04 LTS) and a path change in the following file (with root privileges) with restart has helped.</p>\n\n<pre><code>/etc/profile.d/jdk.sh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586354325,"creation_date":1586343491,"answer_id":61099085,"question_id":9612941,"body_markdown":"Set java version from the list of installed. For see the list of the installed version run following command:\r\n\r\n    update-java-alternatives --list\r\n\r\nThen set your java version according to the following command:\r\n\r\n    sudo update-java-alternatives --set /usr/lib/jvm/java-1.8.0-openjdk-amd64","title":"How to set Java environment path in Ubuntu","body":"<p>Set java version from the list of installed. For see the list of the installed version run following command:</p>\n\n<pre><code>update-java-alternatives --list\n</code></pre>\n\n<p>Then set your java version according to the following command:</p>\n\n<pre><code>sudo update-java-alternatives --set /usr/lib/jvm/java-1.8.0-openjdk-amd64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1412524,"reputation":6134,"user_id":1338850,"display_name":"Vinayak"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1658239752,"creation_date":1604320102,"answer_id":64645629,"question_id":9612941,"body_markdown":"Create/Open `~/.bashrc` file `$vim ~/.bashrc`\r\nAdd `JAVA_HOME` and `PATH` as referring to your JDK path \r\n\r\n    export JAVA_HOME=/usr/java/&lt;your version of java&gt;\r\n    export PATH=${PATH}:${JAVA_HOME}/bin\r\n\r\nSave file \r\n\r\nNow type `java -version` it should display what you set in `.bashrc` file.\r\n\r\nThis will persist over sessions as well.\r\n\r\n\r\n\r\n\r\nExample :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZwZgG.png\r\n  [2]: https://i.stack.imgur.com/4lHVX.png","title":"How to set Java environment path in Ubuntu","body":"<p>Create/Open <code>~/.bashrc</code> file <code>$vim ~/.bashrc</code>\nAdd <code>JAVA_HOME</code> and <code>PATH</code> as referring to your JDK path</p>\n<pre><code>export JAVA_HOME=/usr/java/&lt;your version of java&gt;\nexport PATH=${PATH}:${JAVA_HOME}/bin\n</code></pre>\n<p>Save file</p>\n<p>Now type <code>java -version</code> it should display what you set in <code>.bashrc</code> file.</p>\n<p>This will persist over sessions as well.</p>\n<p>Example :</p>\n<p><a href=\"https://i.stack.imgur.com/ZwZgG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwZgG.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/4lHVX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lHVX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15404279,"reputation":149,"user_id":11112803,"display_name":"Cyril Sojan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659922323,"creation_date":1621767046,"answer_id":67658875,"question_id":9612941,"body_markdown":"\r\n1. Once JDK  installed set the `JAVA_HOME` in environment\r\n  \r\n\r\n    `sudo nano /etc/environment` and add the line `JAVA_HOME=&quot;/usr/lib/jvm/jdk-11.0.1/&quot;`\r\n\r\n2. Add the configuration in `.bashrc`\r\n\r\n`sudo nano ~/.bashrc` and add following lines\r\n\r\n    JAVA_HOME=/usr/lib/jvm/jdk-11.0.11/\r\n    PATH=$JAVA_HOME/bin:$PATH\r\n\r\n3. refresh the new configuration with `source ~/.bashrc`\r\n4. enter the command `java -version` and you can see the version installed on your machine\r\n","title":"How to set Java environment path in Ubuntu","body":"<ol>\n<li><p>Once JDK  installed set the <code>JAVA_HOME</code> in environment</p>\n<p><code>sudo nano /etc/environment</code> and add the line <code>JAVA_HOME=&quot;/usr/lib/jvm/jdk-11.0.1/&quot;</code></p>\n</li>\n<li><p>Add the configuration in <code>.bashrc</code></p>\n</li>\n</ol>\n<p><code>sudo nano ~/.bashrc</code> and add following lines</p>\n<pre><code>JAVA_HOME=/usr/lib/jvm/jdk-11.0.11/\nPATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<ol start=\"3\">\n<li>refresh the new configuration with <code>source ~/.bashrc</code></li>\n<li>enter the command <code>java -version</code> and you can see the version installed on your machine</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8461045,"reputation":345,"user_id":6346785,"display_name":"Jafar Amini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658237085,"creation_date":1634405110,"answer_id":69597972,"question_id":9612941,"body_markdown":"Use the following lines to set the path variables in the `/etc/environment`\r\n\r\n    echo export JAVA_HOME=/path/to/java | sudo tee -a /etc/environment\r\n    echo export JRE_HOME=/path/to/jre  | sudo tee -a /etc/environment\r\n\r\nIt should work.\r\n\r\n**Note:**\r\n\r\nYou should reboot the system for changes to take effect.\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>Use the following lines to set the path variables in the <code>/etc/environment</code></p>\n<pre><code>echo export JAVA_HOME=/path/to/java | sudo tee -a /etc/environment\necho export JRE_HOME=/path/to/jre  | sudo tee -a /etc/environment\n</code></pre>\n<p>It should work.</p>\n<p><strong>Note:</strong></p>\n<p>You should reboot the system for changes to take effect.</p>\n"},{"tags":[],"owner":{"account_id":11744636,"reputation":569,"user_id":8595790,"display_name":"hansrajswapnil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641565158,"creation_date":1641546739,"answer_id":70618960,"question_id":9612941,"body_markdown":"I installed **java 11 in my Ubuntu 20.04.** Setting up a JAVA_HOME for the same. \r\n\r\nenter the this command to find out your ubuntu version --\r\n\r\n    swapnil@swapnil-vm:~$ lsb_release -d\r\n    Description:\tUbuntu 20.04.3 LTS\r\n\r\nenter this command to find out the location of your jvm --\r\n\r\n    swapnil@swapnil-vm:~$ whereis jvm\r\n    jvm: /usr/lib/jvm\r\n\r\nopen .bashrc in any editor of your choice --\r\n\r\n    nano .bashrc\r\n\r\nadd the following lines --\r\n\r\n    ## setting JAVA_HOME\r\n    JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n    export JAVA_HOME\r\n    \r\n    PATH=$PATH:$JAVA_HOME/bin\r\n    export PATH\r\n\r\nnow you are good to go!! &lt;br&gt;\r\nopen a new terminal and enter the command --\r\n\r\n    ehco $JAVA_HOME\r\n\r\n\r\n\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>I installed <strong>java 11 in my Ubuntu 20.04.</strong> Setting up a JAVA_HOME for the same.</p>\n<p>enter the this command to find out your ubuntu version --</p>\n<pre><code>swapnil@swapnil-vm:~$ lsb_release -d\nDescription:    Ubuntu 20.04.3 LTS\n</code></pre>\n<p>enter this command to find out the location of your jvm --</p>\n<pre><code>swapnil@swapnil-vm:~$ whereis jvm\njvm: /usr/lib/jvm\n</code></pre>\n<p>open .bashrc in any editor of your choice --</p>\n<pre><code>nano .bashrc\n</code></pre>\n<p>add the following lines --</p>\n<pre><code>## setting JAVA_HOME\nJAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nexport JAVA_HOME\n\nPATH=$PATH:$JAVA_HOME/bin\nexport PATH\n</code></pre>\n<p>now you are good to go!! <br>\nopen a new terminal and enter the command --</p>\n<pre><code>ehco $JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17656603,"reputation":9593,"user_id":12816049,"display_name":"Rafiq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658239820,"creation_date":1648915654,"answer_id":71719150,"question_id":9612941,"body_markdown":"First, check whether env var exists or not\r\n\r\n```\r\necho $JAVA_HOME\r\n```\r\n\r\nif an env var exists with that name then the above command will return the env var Path. if it&#39;s return nothing then copy the env path first then execute below command. such as my java env path is  `/usr/lib/jvm/java-11-openjdk-amd64`\r\n\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n```","title":"How to set Java environment path in Ubuntu","body":"<p>First, check whether env var exists or not</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>if an env var exists with that name then the above command will return the env var Path. if it's return nothing then copy the env path first then execute below command. such as my java env path is  <code>/usr/lib/jvm/java-11-openjdk-amd64</code></p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20747001,"reputation":81,"user_id":15235392,"display_name":"adebayo10k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666090917,"creation_date":1660902620,"answer_id":73414921,"question_id":9612941,"body_markdown":"Once I&#39;ve installed the openjdk version of the Java Development Kit on an Ubuntu machine, I use this procedure to create a JAVA_HOME environment variable that doesn&#39;t need to be changed after every version upgrade of the openjdk installation.\r\n\r\nFirstly, I issue a command to discover the directory in which the java executables are located for this java installation.\r\n\r\n```\r\necho $(readlink -e `which java` | xargs -0 dirname)\r\n```\r\n\r\nIf I&#39;m happy with the output from that, everything else can be derived from it.\r\n\r\n# Configuring the JAVA_HOME and PATH environment variables\r\n\r\nRather than adding more and more configurations to the `~/.bashrc` file I&#39;ve found it a cleaner practice to create a separate small file that  `~/.bashrc` can &quot;include&quot; when it runs.\r\n\r\nLet&#39;s call that file `~/.java_env_vars` (but you could name it whatever you wish).\r\n\r\n## Add an &quot;include condition&quot; to the `~/.bashrc` file\r\nOpen `~/.bashrc` in any text editor and these lines to the end of the file:\r\n\r\n```\r\n# include the java environment configuration file here (if it exists)\r\nif [ -f &quot;$HOME/.java_env_vars&quot; ]; then\r\n    . $HOME/.java_env_vars\r\nfi\r\n```\r\n## Create the Java environment variable configuration file\r\nOpen any text editor, create the Java environment configuration file `~/.java_env_vars` and add this content to it:\r\n\r\n```\r\n#1.  set a java_bin variable to the directory containing the actual Java executables.\r\njava_bin=$(readlink -e `which java` | xargs -0 dirname)\r\n\r\n#2. append &quot;$java_bin&quot; to the PATH environment variable\r\nexport PATH=$PATH:&quot;$java_bin&quot;\r\n\r\n#3. assign the directory of the current Java installation to the JAVA_HOME environment variable.\r\nexport JAVA_HOME=$(dirname &quot;$java_bin&quot;)\r\n```\r\nNOTE: exporting the PATH and JAVA_HOME variables just ensures that they&#39;re always available wherever they&#39;re needed.\r\n\r\nSource your `~/.bashrc` file (so that the changes you made to it are reflected) using the following command:\r\n```sh\r\nsource ~/.bashrc\r\n```\r\n\r\n## Test the Java environment variable configuration\r\n\r\nOpen a new terminal console, and test the new Java environment variables by issuing this command:\r\n\r\n```\r\necho &quot;$PATH&quot; &amp;&amp; echo &quot;$JAVA_HOME&quot;\r\n```\r\n\r\nOutput should be two lines, something like this:\r\n```\r\n/home/user/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-11-openjdk-amd64/bin\r\n/usr/lib/jvm/java-11-openjdk-amd64\r\n```\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>Once I've installed the openjdk version of the Java Development Kit on an Ubuntu machine, I use this procedure to create a JAVA_HOME environment variable that doesn't need to be changed after every version upgrade of the openjdk installation.</p>\n<p>Firstly, I issue a command to discover the directory in which the java executables are located for this java installation.</p>\n<pre><code>echo $(readlink -e `which java` | xargs -0 dirname)\n</code></pre>\n<p>If I'm happy with the output from that, everything else can be derived from it.</p>\n<h1>Configuring the JAVA_HOME and PATH environment variables</h1>\n<p>Rather than adding more and more configurations to the <code>~/.bashrc</code> file I've found it a cleaner practice to create a separate small file that  <code>~/.bashrc</code> can &quot;include&quot; when it runs.</p>\n<p>Let's call that file <code>~/.java_env_vars</code> (but you could name it whatever you wish).</p>\n<h2>Add an &quot;include condition&quot; to the <code>~/.bashrc</code> file</h2>\n<p>Open <code>~/.bashrc</code> in any text editor and these lines to the end of the file:</p>\n<pre><code># include the java environment configuration file here (if it exists)\nif [ -f &quot;$HOME/.java_env_vars&quot; ]; then\n    . $HOME/.java_env_vars\nfi\n</code></pre>\n<h2>Create the Java environment variable configuration file</h2>\n<p>Open any text editor, create the Java environment configuration file <code>~/.java_env_vars</code> and add this content to it:</p>\n<pre><code>#1.  set a java_bin variable to the directory containing the actual Java executables.\njava_bin=$(readlink -e `which java` | xargs -0 dirname)\n\n#2. append &quot;$java_bin&quot; to the PATH environment variable\nexport PATH=$PATH:&quot;$java_bin&quot;\n\n#3. assign the directory of the current Java installation to the JAVA_HOME environment variable.\nexport JAVA_HOME=$(dirname &quot;$java_bin&quot;)\n</code></pre>\n<p>NOTE: exporting the PATH and JAVA_HOME variables just ensures that they're always available wherever they're needed.</p>\n<p>Source your <code>~/.bashrc</code> file (so that the changes you made to it are reflected) using the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>source ~/.bashrc\n</code></pre>\n<h2>Test the Java environment variable configuration</h2>\n<p>Open a new terminal console, and test the new Java environment variables by issuing this command:</p>\n<pre><code>echo &quot;$PATH&quot; &amp;&amp; echo &quot;$JAVA_HOME&quot;\n</code></pre>\n<p>Output should be two lines, something like this:</p>\n<pre><code>/home/user/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-11-openjdk-amd64/bin\n/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n"}],"owner":{"account_id":1194221,"reputation":3565,"user_id":1166283,"accept_rate":44,"display_name":"Ullas Prabhakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819871,"favorite_count":0,"down_vote_count":0,"up_vote_count":220,"accepted_answer_id":18972665,"answer_count":26,"score":220,"last_activity_date":1666090917,"creation_date":1331181331,"question_id":9612941,"body_markdown":"I just installed JDK in Ubuntu with `sudo apt-get install openjdk-6-jdk` command,\r\nafter the installation where&#39;s the Java `bin` directory located? And how can I set the environment path for that directory? I have little experience with Ubuntu, can anyone give some advice or suggest any good website for reference?","title":"How to set Java environment path in Ubuntu","body":"<p>I just installed JDK in Ubuntu with <code>sudo apt-get install openjdk-6-jdk</code> command,\nafter the installation where's the Java <code>bin</code> directory located? And how can I set the environment path for that directory? I have little experience with Ubuntu, can anyone give some advice or suggest any good website for reference?</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1665664571,"post_id":74053446,"comment_id":130755593,"body_markdown":"Please, provide the code template they provide","body":"Please, provide the code template they provide"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1665670241,"post_id":74053446,"comment_id":130757736,"body_markdown":"If the input is `n` 3&#39;s and the goal is 9, the solution is `nC3 = n(n-1)(n-2) / 3!`. This is a cubic expression in `n`. The method of counting 1 for each iteration is `O(n^3)`.","body":"If the input is <code>n</code> 3&#39;s and the goal is 9, the solution is <code>nC3 = n(n-1)(n-2) &#47; 3!</code>. This is a cubic expression in <code>n</code>. The method of counting 1 for each iteration is <code>O(n^3)</code>."}],"answers":[{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665666472,"creation_date":1665666472,"answer_id":74056315,"question_id":74053446,"body_markdown":"I did it in this way, hope I understood it well.\r\n\r\n```\r\npublic static int tripletSum(int[] arr, int num) {\r\n\tint loops = 0; // just to check the quality of the code\r\n\tint counter = 0;\r\n\tfor (int i1 = 0; i1 &lt; arr.length - 2; i1++) {\r\n\t\tfor (int i2 = i1 + 1; i2 &lt; arr.length - 1; i2++) {\r\n\t\t\tfor (int i3 = i2 + 1; i3 &lt; arr.length; i3++) {\r\n\t\t\t\tloops++;\r\n\t\t\t\tif (arr[i1] + arr[i2] + arr[i3] == num) {\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// Check for not exceeding O(n^2)\r\n\tif (loops &lt;= arr.length * arr.length) {\r\n\t\tSystem.io.println(&quot;Well done&quot;);\r\n\t} else {\r\n\t\tSystem.io.println(&quot;Too many cycles&quot;);\r\n\t}\r\n\treturn counter;\r\n}\r\n```\r\n\r\nI iterate from &quot;left&quot; to &quot;right&quot; over the array and walking more and more to the &quot;right&quot;.\r\n\r\n    1st, 2nd, 3rd\r\n    1st, 2nd, 4th\r\n    ...\r\n    1st, 2nd, nth\r\n    2nd, 3rd, 4th\r\n    2nd, 3rd, 5th\r\n    ...\r\n    2nd, 3rd, nth\r\n    .\r\n    .\r\n    .\r\n    nth - 2, nth - 1, nth\r\n\r\nI iterated 35 times, but could iterate 7^2 = 49 times --&gt; &quot;Well done&quot;","title":"Find the number of distinct triplets sums to a given integer","body":"<p>I did it in this way, hope I understood it well.</p>\n<pre><code>public static int tripletSum(int[] arr, int num) {\n    int loops = 0; // just to check the quality of the code\n    int counter = 0;\n    for (int i1 = 0; i1 &lt; arr.length - 2; i1++) {\n        for (int i2 = i1 + 1; i2 &lt; arr.length - 1; i2++) {\n            for (int i3 = i2 + 1; i3 &lt; arr.length; i3++) {\n                loops++;\n                if (arr[i1] + arr[i2] + arr[i3] == num) {\n                    counter++;\n                }\n            }\n        }\n    }\n    // Check for not exceeding O(n^2)\n    if (loops &lt;= arr.length * arr.length) {\n        System.io.println(&quot;Well done&quot;);\n    } else {\n        System.io.println(&quot;Too many cycles&quot;);\n    }\n    return counter;\n}\n</code></pre>\n<p>I iterate from &quot;left&quot; to &quot;right&quot; over the array and walking more and more to the &quot;right&quot;.</p>\n<pre><code>1st, 2nd, 3rd\n1st, 2nd, 4th\n...\n1st, 2nd, nth\n2nd, 3rd, 4th\n2nd, 3rd, 5th\n...\n2nd, 3rd, nth\n.\n.\n.\nnth - 2, nth - 1, nth\n</code></pre>\n<p>I iterated 35 times, but could iterate 7^2 = 49 times --&gt; &quot;Well done&quot;</p>\n"},{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665668014,"creation_date":1665668014,"answer_id":74056678,"question_id":74053446,"body_markdown":"You missed one loop. The fixed code:\r\n\r\n    \tpublic static int tripletSum(int[] arr, int num) {\r\n\t\t//Your code goes here\r\n\t\tmergeSort(arr, 0, arr.length - 1);\r\n\t\tint n = arr.length;\r\n\t\tint count = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; n - 2; i++) {\r\n\t\t\tint sum = num - arr[i];\r\n\t\t\t\r\n\t\t\tfor (int j = i+1; j &lt; n-1; j++) {\r\n\t\t\t\tint k = n-1;\r\n\t\t\t\twhile (j &lt; k) {\r\n\t\t\t\t\tif (arr[j] + arr[k] == sum) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tk--;\r\n\t\t\t\t\t} else if (arr[j] + arr[k] &gt; sum) {\r\n\t\t\t\t\t\tk--;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}","title":"Find the number of distinct triplets sums to a given integer","body":"<p>You missed one loop. The fixed code:</p>\n<pre><code>    public static int tripletSum(int[] arr, int num) {\n    //Your code goes here\n    mergeSort(arr, 0, arr.length - 1);\n    int n = arr.length;\n    int count = 0;\n\n    for (int i = 0; i &lt; n - 2; i++) {\n        int sum = num - arr[i];\n        \n        for (int j = i+1; j &lt; n-1; j++) {\n            int k = n-1;\n            while (j &lt; k) {\n                if (arr[j] + arr[k] == sum) {\n                    count++;\n                    k--;\n                } else if (arr[j] + arr[k] &gt; sum) {\n                    k--;\n                } else {\n                    j++;\n                }\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665670375,"creation_date":1665670375,"answer_id":74057250,"question_id":74053446,"body_markdown":"OK, then optimized version:\r\n\r\n   \tpublic static int tripletSum(int[] arr, int num) {\r\n\t\t//Your code goes here\r\n\t\tmergeSort(arr, 0, arr.length - 1);\r\n\t\tint n = arr.length;\r\n\t\tint count = 0;\r\n\t\tfor (int i = 0; i &lt; n - 2; i++) {\r\n\t\t\tint sum = num - arr[i];\r\n\r\n\t\t\tint maxK = n - 1;\r\n\t\t\tfor (int j = i + 1; j &lt; n - 1; j++) {\r\n\t\t\t\tint k = maxK;\r\n\r\n\t\t\t\twhile (j &lt; k) {\r\n\t\t\t\t\tif (arr[j] + arr[k] == sum) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tk--;\r\n\t\t\t\t\t} else if (arr[j] + arr[k] &gt; sum) {\r\n\t\t\t\t\t\tk--;\r\n\t\t\t\t\t\tmaxK--;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}","title":"Find the number of distinct triplets sums to a given integer","body":"<p>OK, then optimized version:</p>\n<pre><code>public static int tripletSum(int[] arr, int num) {\n    //Your code goes here\n    mergeSort(arr, 0, arr.length - 1);\n    int n = arr.length;\n    int count = 0;\n    for (int i = 0; i &lt; n - 2; i++) {\n        int sum = num - arr[i];\n\n        int maxK = n - 1;\n        for (int j = i + 1; j &lt; n - 1; j++) {\n            int k = maxK;\n\n            while (j &lt; k) {\n                if (arr[j] + arr[k] == sum) {\n                    count++;\n                    k--;\n                } else if (arr[j] + arr[k] &gt; sum) {\n                    k--;\n                    maxK--;\n                } else {\n                    j++;\n                }\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21878013,"reputation":13,"user_id":16166780,"display_name":"Arun Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666090879,"creation_date":1665677861,"answer_id":74058924,"question_id":74053446,"body_markdown":"The given code works fine for all test cases.\r\n\r\n```Java\r\nimport java.util.Arrays;\r\npublic class Solution {\r\n\r\n    public static int tripletSum(int[] arr, int num) {\r\n        Arrays.sort(arr);\r\n        int n = arr.length;\r\n        \r\n        int Numtripletsum = 0;\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            int pairSumFor = num - arr[i];\r\n            int numPairs = pairSum(arr, (i+1), (n-1), pairSumFor);\r\n            Numtripletsum+=numPairs;\r\n        }\r\n        return Numtripletsum;\r\n        \r\n    }\r\n    private static int pairSum(int[] arr, int startIndex, int endIndex, int num ){\r\n        \r\n        int numPair = 0;\r\n        while(startIndex &lt; endIndex){\r\n            if(arr[startIndex] + arr[endIndex] &lt; num){\r\n                startIndex++;\r\n            }\r\n            else if(arr[startIndex] + arr[endIndex] &gt; num){\r\n                endIndex--;\r\n            }\r\n            else\r\n            {\r\n                int elementAtStart = arr[startIndex];\r\n                int elementAtEnd = arr[endIndex];\r\n                \r\n                if(elementAtStart == elementAtEnd){\r\n                    int totalElementsFromStartToEnd = (endIndex - startIndex) + 1;\r\n                    numPair += (totalElementsFromStartToEnd * (totalElementsFromStartToEnd -1) /2);\r\n                    \r\n                    return numPair;\r\n                }\r\n                int tempStartIndex = startIndex + 1;\r\n                int tempEndIndex = endIndex - 1;\r\n                \r\n                while(tempStartIndex &lt;= tempEndIndex &amp;&amp; arr[tempStartIndex] == elementAtStart){\r\n                    tempStartIndex+=1;\r\n                }\r\n                while(tempEndIndex &gt;= tempStartIndex &amp;&amp; arr[tempEndIndex] == elementAtEnd){\r\n                    tempEndIndex-=1;\r\n                }\r\n                int totalElementsFromStart = (tempStartIndex - startIndex);\r\n                int totalElementsFromEnd = (endIndex - tempEndIndex);\r\n                \r\n                numPair += (totalElementsFromStart * totalElementsFromEnd);\r\n                \r\n                startIndex = tempStartIndex;\r\n                endIndex = tempEndIndex;\r\n            }\r\n        }\r\n        return numPair;\r\n    }\r\n}\r\n```","title":"Find the number of distinct triplets sums to a given integer","body":"<p>The given code works fine for all test cases.</p>\n<pre><code>import java.util.Arrays;\npublic class Solution {\n\n    public static int tripletSum(int[] arr, int num) {\n        Arrays.sort(arr);\n        int n = arr.length;\n        \n        int Numtripletsum = 0;\n        for(int i=0;i&lt;n;i++)\n        {\n            int pairSumFor = num - arr[i];\n            int numPairs = pairSum(arr, (i+1), (n-1), pairSumFor);\n            Numtripletsum+=numPairs;\n        }\n        return Numtripletsum;\n        \n    }\n    private static int pairSum(int[] arr, int startIndex, int endIndex, int num ){\n        \n        int numPair = 0;\n        while(startIndex &lt; endIndex){\n            if(arr[startIndex] + arr[endIndex] &lt; num){\n                startIndex++;\n            }\n            else if(arr[startIndex] + arr[endIndex] &gt; num){\n                endIndex--;\n            }\n            else\n            {\n                int elementAtStart = arr[startIndex];\n                int elementAtEnd = arr[endIndex];\n                \n                if(elementAtStart == elementAtEnd){\n                    int totalElementsFromStartToEnd = (endIndex - startIndex) + 1;\n                    numPair += (totalElementsFromStartToEnd * (totalElementsFromStartToEnd -1) /2);\n                    \n                    return numPair;\n                }\n                int tempStartIndex = startIndex + 1;\n                int tempEndIndex = endIndex - 1;\n                \n                while(tempStartIndex &lt;= tempEndIndex &amp;&amp; arr[tempStartIndex] == elementAtStart){\n                    tempStartIndex+=1;\n                }\n                while(tempEndIndex &gt;= tempStartIndex &amp;&amp; arr[tempEndIndex] == elementAtEnd){\n                    tempEndIndex-=1;\n                }\n                int totalElementsFromStart = (tempStartIndex - startIndex);\n                int totalElementsFromEnd = (endIndex - tempEndIndex);\n                \n                numPair += (totalElementsFromStart * totalElementsFromEnd);\n                \n                startIndex = tempStartIndex;\n                endIndex = tempEndIndex;\n            }\n        }\n        return numPair;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21878013,"reputation":13,"user_id":16166780,"display_name":"Arun Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1666090879,"creation_date":1665653228,"question_id":74053446,"body_markdown":"You have been given a random integer array/list(ARR) and a number X. Find and return the number of distinct triplet(s) in the array/list which sum to X.\r\n\r\nI have written this code:\r\n\r\n```\r\npublic class Solution {\t\r\n    public static void merge(int arr[], int lb, int mid, int ub) {\r\n        int n1 = mid - lb + 1;\r\n        int n2 = ub - mid;\r\n \r\n        int arr1[] = new int[n1];\r\n        int arr2[] = new int[n2];\r\n \r\n        for (int i = 0; i &lt; n1; i++)\r\n            arr1[i] = arr[lb + i];\r\n\r\n        for (int j = 0; j &lt; n2; j++)\r\n            arr2[j] = arr[mid + 1 + j];\r\n \r\n        int i = 0, j = 0;\r\n \r\n        int k = lb;\r\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\r\n            if (arr1[i] &lt;= arr2[j])\r\n                arr[k] = arr1[i++];\r\n            else\r\n                arr[k] = arr2[j++];\r\n\r\n            k++;\r\n        }\r\n \r\n        while (i &lt; n1)\r\n            arr[k++] = arr1[i++];\r\n \r\n        while (j &lt; n2)\r\n            arr[k++] = arr2[j++];\r\n    }\r\n    \r\n    public static void mergeSort(int arr[], int lb, int ub) {\r\n        if (lb &lt; ub) {\r\n            int mid = lb + (ub - lb) / 2;\r\n \r\n            mergeSort(arr, lb, mid);\r\n            mergeSort(arr, mid + 1, ub);\r\n            merge(arr, lb, mid, ub);\r\n        }\r\n    }\r\n\r\n\tpublic static int tripletSum(int[] arr, int num) {\r\n        mergeSort(arr, 0, arr.length - 1); \r\n        int n = arr.length;\r\n        int count = 0;\r\n        \r\n        for (int i = 0; i &lt; n - 2; i++) {\r\n        \tint sum = num - arr[i];\r\n            \r\n            int j = i + 1;\r\n            int k = n - 1;\r\n            while (j &lt; k) {\r\n\t\t\t\tif (arr[j] + arr[k] == sum) {\r\n                    count++;\r\n                    k--;\r\n                } else if (arr[j] + arr[k] &gt; sum) {\r\n                    k--;\r\n                } else\r\n                    j++;\r\n        \t}\r\n        }\r\n\r\n        return count;\r\n    }\r\n}\r\n```\r\n\r\nInput array was - `1 3 3 3 3 3 3 `\r\n\r\nInput num = `9`\r\n\r\nOutput Generated - `10`\r\n\r\nExpected output - `20`\r\n\r\nHelp me out with this I&#39;m trying to find the solution for many hours. Also, the time complexity of the program should not exceed O(n&#178;).","title":"Find the number of distinct triplets sums to a given integer","body":"<p>You have been given a random integer array/list(ARR) and a number X. Find and return the number of distinct triplet(s) in the array/list which sum to X.</p>\n<p>I have written this code:</p>\n<pre><code>public class Solution { \n    public static void merge(int arr[], int lb, int mid, int ub) {\n        int n1 = mid - lb + 1;\n        int n2 = ub - mid;\n \n        int arr1[] = new int[n1];\n        int arr2[] = new int[n2];\n \n        for (int i = 0; i &lt; n1; i++)\n            arr1[i] = arr[lb + i];\n\n        for (int j = 0; j &lt; n2; j++)\n            arr2[j] = arr[mid + 1 + j];\n \n        int i = 0, j = 0;\n \n        int k = lb;\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\n            if (arr1[i] &lt;= arr2[j])\n                arr[k] = arr1[i++];\n            else\n                arr[k] = arr2[j++];\n\n            k++;\n        }\n \n        while (i &lt; n1)\n            arr[k++] = arr1[i++];\n \n        while (j &lt; n2)\n            arr[k++] = arr2[j++];\n    }\n    \n    public static void mergeSort(int arr[], int lb, int ub) {\n        if (lb &lt; ub) {\n            int mid = lb + (ub - lb) / 2;\n \n            mergeSort(arr, lb, mid);\n            mergeSort(arr, mid + 1, ub);\n            merge(arr, lb, mid, ub);\n        }\n    }\n\n    public static int tripletSum(int[] arr, int num) {\n        mergeSort(arr, 0, arr.length - 1); \n        int n = arr.length;\n        int count = 0;\n        \n        for (int i = 0; i &lt; n - 2; i++) {\n            int sum = num - arr[i];\n            \n            int j = i + 1;\n            int k = n - 1;\n            while (j &lt; k) {\n                if (arr[j] + arr[k] == sum) {\n                    count++;\n                    k--;\n                } else if (arr[j] + arr[k] &gt; sum) {\n                    k--;\n                } else\n                    j++;\n            }\n        }\n\n        return count;\n    }\n}\n</code></pre>\n<p>Input array was - <code>1 3 3 3 3 3 3 </code></p>\n<p>Input num = <code>9</code></p>\n<p>Output Generated - <code>10</code></p>\n<p>Expected output - <code>20</code></p>\n<p>Help me out with this I'm trying to find the solution for many hours. Also, the time complexity of the program should not exceed O(n²).</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666090009,"post_id":74109677,"comment_id":130847835,"body_markdown":"If you are not going to create a POJO and load the data from database, what is the point? Why load data that is not going to be used?","body":"If you are not going to create a POJO and load the data from database, what is the point? Why load data that is not going to be used?"},{"owner":{"account_id":26621031,"reputation":19,"user_id":20239816,"display_name":"Hari Krishnan"},"score":0,"creation_date":1666090819,"post_id":74109677,"comment_id":130848081,"body_markdown":"@LeonardoEmmanueldeAzevedo  I just want to use the list of data from the database to check the condition match or not matches. there is no need to create a separate POJO class for that","body":"@LeonardoEmmanueldeAzevedo  I just want to use the list of data from the database to check the condition match or not matches. there is no need to create a separate POJO class for that"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666091029,"post_id":74109677,"comment_id":130848153,"body_markdown":"What kind of condition? Can you do the check in a query instead of loading data?","body":"What kind of condition? Can you do the check in a query instead of loading data?"}],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666090153,"creation_date":1666090153,"answer_id":74109715,"question_id":74109677,"body_markdown":"You can use ***jdbctemplate.queryForList*** which will return a **List&lt;Map&lt;String,Object&gt;&gt;** where key will be column name and value will be the column value. ","title":"how to get a list from database without pojo class in spring boot","body":"<p>You can use <em><strong>jdbctemplate.queryForList</strong></em> which will return a <strong>List&lt;Map&lt;String,Object&gt;&gt;</strong> where key will be column name and value will be the column value.</p>\n"}],"owner":{"account_id":26621031,"reputation":19,"user_id":20239816,"display_name":"Hari Krishnan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666090153,"creation_date":1666089964,"question_id":74109677,"body_markdown":"need to get the list of data in MySQL workbench &amp; store the list of data in Arraylist without creating POJO/Model class in spring boot.","title":"how to get a list from database without pojo class in spring boot","body":"<p>need to get the list of data in MySQL workbench &amp; store the list of data in Arraylist without creating POJO/Model class in spring boot.</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1516530405,"post_id":48365775,"comment_id":83718201,"body_markdown":"It&#39;s unclear what IDE , Java Runtime, Environment are you using.","body":"It&#39;s unclear what IDE , Java Runtime, Environment are you using."},{"owner":{"account_id":9582304,"reputation":451,"user_id":7116392,"accept_rate":48,"display_name":"Dotan Raz"},"score":0,"creation_date":1516535183,"post_id":48365775,"comment_id":83719397,"body_markdown":"i&#39;m using Intellij, but I dont think it&#39;s relevant. i&#39;m sure it will happen on Eclipse also. \ni&#39;m using Java 8.","body":"i&#39;m using Intellij, but I dont think it&#39;s relevant. i&#39;m sure it will happen on Eclipse also.  i&#39;m using Java 8."},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1562231094,"post_id":48365775,"comment_id":100316084,"body_markdown":"Did you find the solution ?","body":"Did you find the solution ?"}],"answers":[{"tags":[],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516793535,"creation_date":1516793535,"answer_id":48421481,"question_id":48365775,"body_markdown":"The `async` method only applicable for the [Spring MockMvc module](https://github.com/rest-assured/rest-assured/wiki/Usage#spring-mock-mvc-module). I.e. if you&#39;re specifically testing Spring applications and the using RestAssuredMockMvc API instead of the RestAssured API. The `async` method is thus not available when using the standard RestAssured API.","title":"REST Assured async - cannot find method","body":"<p>The <code>async</code> method only applicable for the <a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage#spring-mock-mvc-module\" rel=\"nofollow noreferrer\">Spring MockMvc module</a>. I.e. if you're specifically testing Spring applications and the using RestAssuredMockMvc API instead of the RestAssured API. The <code>async</code> method is thus not available when using the standard RestAssured API.</p>\n"},{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666089908,"creation_date":1666089908,"answer_id":74109666,"question_id":48365775,"body_markdown":"Try using this:\r\n```\r\ngiven().config(RestAssuredConfig.config() .httpClient(HttpClientConfig.httpClientConfig() .setParam(&quot;http.connection.timeout&quot;,1000)))\r\n```","title":"REST Assured async - cannot find method","body":"<p>Try using this:</p>\n<pre><code>given().config(RestAssuredConfig.config() .httpClient(HttpClientConfig.httpClientConfig() .setParam(&quot;http.connection.timeout&quot;,1000)))\n</code></pre>\n"}],"owner":{"account_id":9582304,"reputation":451,"user_id":7116392,"accept_rate":48,"display_name":"Dotan Raz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3534,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666089908,"creation_date":1516530092,"question_id":48365775,"body_markdown":"I&#39;m trying to set timeout for REST Assured request.\r\nacording the documentations the async method implement it.\r\nhowever, my IDE can&#39;t find this method in the source code.\r\nwhat i&#39;m missing here?\r\nhere is the code:\r\n\r\n    Response response=given().\r\n                    body(&quot;a string&quot;).\r\n                    when().\r\n                    async().with().timeout(20, TimeUnit.SECONDS).post(&quot;/stringBody&quot;).\r\n                    then().\r\n                    body(equalTo(&quot;a string&quot;));\r\n\r\nREST Assured docs: https://github.com/rest-assured/rest-assured/wiki/Usage#asynchronous-requests","title":"REST Assured async - cannot find method","body":"<p>I'm trying to set timeout for REST Assured request.\nacording the documentations the async method implement it.\nhowever, my IDE can't find this method in the source code.\nwhat i'm missing here?\nhere is the code:</p>\n\n<pre><code>Response response=given().\n                body(\"a string\").\n                when().\n                async().with().timeout(20, TimeUnit.SECONDS).post(\"/stringBody\").\n                then().\n                body(equalTo(\"a string\"));\n</code></pre>\n\n<p>REST Assured docs: <a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage#asynchronous-requests\" rel=\"nofollow noreferrer\">https://github.com/rest-assured/rest-assured/wiki/Usage#asynchronous-requests</a></p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1666088025,"post_id":74109224,"comment_id":130847149,"body_markdown":"What do you mean by &quot;he boolean is not print on console I/O&quot;? What output did you actually get? And what did you expect to get?","body":"What do you mean by &quot;he boolean is not print on console I/O&quot;? What output did you actually get? And what did you expect to get?"},{"owner":{"account_id":21615772,"reputation":23,"user_id":15941599,"display_name":"Sumit Baloda"},"score":0,"creation_date":1666088151,"post_id":74109224,"comment_id":130847192,"body_markdown":"i am getting nothing , and the answer i excepted which i had assign to bool , like either true or false.","body":"i am getting nothing , and the answer i excepted which i had assign to bool , like either true or false."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666089779,"creation_date":1666089293,"answer_id":74109530,"question_id":74109224,"body_markdown":"`DataOutputStream` writes *binary*, not human readable *text*. Assuming that you `flush`ed the stream, [`writeBoolean`][1] writes either a 0x00 byte or a 0x01 byte to the stream, depending on the boolean, not the characters &quot;true&quot; or &quot;false&quot;.\r\n\r\n&gt; Writes a boolean to the underlying output stream as a 1-byte value. The value `true` is written out as the value `(byte)1`; the value `false` is written out as the value `(byte)0`.\r\n\r\n*When interpreted as text*, the byte 0x00 and 0x01 are control characters in all the encodings I know, and your console may not display them. This could be why you see no output. Another reason why you see no output is because you did not `flush` your stream.\r\n\r\nSimilarly, [`DataInput.readBoolean`][2] also reads binary.It reads all non-zero bytes as true, and zero as false, which might have created the illusion of &quot;it is able to read text&quot;, when in fact, it is only reading the first byte.\r\n\r\nWhile you can convert the `boolean` to a `String`, and then use `DataOutputStream.writeChars`, I&#39;d suggest just use `System.out` directly. `System.out` is a [`PrintStream`][3], which does all the conversions to `String` for you.\r\n\r\n    System.out.println(bool);\r\n\r\nOtherwise, the [`OutputStreamWriter`][4] and [`InputStreamReader`][5] classes can be used to read text from and write text to arbitrary I/O streams.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html#writeBoolean(boolean)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html#readBoolean()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/OutputStreamWriter.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html","title":"How Object-name.writeBoolean(boolean value) is not showing console output?","body":"<p><code>DataOutputStream</code> writes <em>binary</em>, not human readable <em>text</em>. Assuming that you <code>flush</code>ed the stream, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html#writeBoolean(boolean)\" rel=\"nofollow noreferrer\"><code>writeBoolean</code></a> writes either a 0x00 byte or a 0x01 byte to the stream, depending on the boolean, not the characters &quot;true&quot; or &quot;false&quot;.</p>\n<blockquote>\n<p>Writes a boolean to the underlying output stream as a 1-byte value. The value <code>true</code> is written out as the value <code>(byte)1</code>; the value <code>false</code> is written out as the value <code>(byte)0</code>.</p>\n</blockquote>\n<p><em>When interpreted as text</em>, the byte 0x00 and 0x01 are control characters in all the encodings I know, and your console may not display them. This could be why you see no output. Another reason why you see no output is because you did not <code>flush</code> your stream.</p>\n<p>Similarly, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html#readBoolean()\" rel=\"nofollow noreferrer\"><code>DataInput.readBoolean</code></a> also reads binary.It reads all non-zero bytes as true, and zero as false, which might have created the illusion of &quot;it is able to read text&quot;, when in fact, it is only reading the first byte.</p>\n<p>While you can convert the <code>boolean</code> to a <code>String</code>, and then use <code>DataOutputStream.writeChars</code>, I'd suggest just use <code>System.out</code> directly. <code>System.out</code> is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html\" rel=\"nofollow noreferrer\"><code>PrintStream</code></a>, which does all the conversions to <code>String</code> for you.</p>\n<pre><code>System.out.println(bool);\n</code></pre>\n<p>Otherwise, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/OutputStreamWriter.html\" rel=\"nofollow noreferrer\"><code>OutputStreamWriter</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html\" rel=\"nofollow noreferrer\"><code>InputStreamReader</code></a> classes can be used to read text from and write text to arbitrary I/O streams.</p>\n"}],"owner":{"account_id":21615772,"reputation":23,"user_id":15941599,"display_name":"Sumit Baloda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666089779,"creation_date":1666087705,"question_id":74109224,"body_markdown":"I am learning I/O in Java, in `InputStream` and `OutputStream` classes subclass `DataInputStream` and `DataOutputStream` objects behave differently with the data types when Console I/O such that it does not print boolean values.\r\n\r\n    DataInputStream ObjIn = new DataInputStream(System.in);\r\n    bool = ObjIn.readBoolean();\r\n\r\n`bool` is a variable of boolean type.\r\n\r\n    DataOutputStream ObjOu = new DataOutputStream(System.out);\r\n    ObjOu.writeBoolean(bool);\r\n\r\nAnyone please explain the concept behind it. Why the boolean is not print on console I/O.","title":"How Object-name.writeBoolean(boolean value) is not showing console output?","body":"<p>I am learning I/O in Java, in <code>InputStream</code> and <code>OutputStream</code> classes subclass <code>DataInputStream</code> and <code>DataOutputStream</code> objects behave differently with the data types when Console I/O such that it does not print boolean values.</p>\n<pre><code>DataInputStream ObjIn = new DataInputStream(System.in);\nbool = ObjIn.readBoolean();\n</code></pre>\n<p><code>bool</code> is a variable of boolean type.</p>\n<pre><code>DataOutputStream ObjOu = new DataOutputStream(System.out);\nObjOu.writeBoolean(bool);\n</code></pre>\n<p>Anyone please explain the concept behind it. Why the boolean is not print on console I/O.</p>\n"},{"tags":["java","spring-boot","eclipse","authentication"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1666006955,"post_id":74096117,"comment_id":130825353,"body_markdown":"Please reformat the question. It is impossible to make out the pom here.","body":"Please reformat the question. It is impossible to make out the pom here."}],"answers":[{"tags":[],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666006652,"creation_date":1666006652,"answer_id":74096674,"question_id":74096117,"body_markdown":"Show your security config, mayby here is a problem","title":"Spring Security Basic Authentication shows 404 error","body":"<p>Show your security config, mayby here is a problem</p>\n"}],"owner":{"account_id":26647654,"reputation":1,"user_id":20262394,"display_name":"Nancy Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666089370,"creation_date":1666003813,"question_id":74096117,"body_markdown":"I am trying to do simple basic security in springboot project , when I try to login with default user and generated password its working fine , but when I write my own username and password in application properties , I am unable to login .\r\n\r\nHere is my application properties file.\r\n```none\r\nspring.security.user.name=user  \r\nspring.security.user.password=password  \r\n```\r\nmy pom.xml file where I get security dependency\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.availability&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;employeeStatus&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;employeeStatus&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;  \r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;  \r\n        &lt;/dependency&gt;  \r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\t\t\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Spring Security Basic Authentication shows 404 error","body":"<p>I am trying to do simple basic security in springboot project , when I try to login with default user and generated password its working fine , but when I write my own username and password in application properties , I am unable to login .</p>\n<p>Here is my application properties file.</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.security.user.name=user  \nspring.security.user.password=password  \n</code></pre>\n<p>my pom.xml file where I get security dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.availability&lt;/groupId&gt;\n    &lt;artifactId&gt;employeeStatus&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;employeeStatus&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;  \n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;  \n        &lt;/dependency&gt;  \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;               \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","ms-word","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":23235660,"reputation":72,"user_id":17325694,"display_name":"Xianghua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666089252,"creation_date":1666088713,"answer_id":74109416,"question_id":74108718,"body_markdown":"    public static void main(String[] args) throws InvalidFormatException, IOException {\r\n        InputStream is = new FileInputStream(&quot;D:\\\\Testword.docx&quot;);\r\n        XWPFDocument document = new XWPFDocument(is);\r\n        is.close();\r\n\r\n        //create table\r\n        XWPFTable table = document.createTable();\r\n\r\n        //create first row\r\n        XWPFTableRow tableRowOne = table.getRow(0);\r\n        tableRowOne.getCell(0).setText(&quot;col one, row one&quot;);\r\n        tableRowOne.addNewTableCell().setText(&quot;col two, row one&quot;);\r\n        tableRowOne.addNewTableCell().setText(&quot;col three, row one&quot;);\r\n\r\n        //create second row\r\n        XWPFTableRow tableRowTwo = table.createRow();\r\n        tableRowTwo.getCell(0).setText(&quot;col one, row two&quot;);\r\n        tableRowTwo.getCell(1).setText(&quot;col two, row two&quot;);\r\n        tableRowTwo.getCell(2).setText(&quot;col three, row two&quot;);\r\n\r\n        //create third row\r\n        XWPFTableRow tableRowThree = table.createRow();\r\n        tableRowThree.getCell(0).setText(&quot;col one, row three&quot;);\r\n        tableRowThree.getCell(1).setText(&quot;col two, row three&quot;);\r\n        tableRowThree.getCell(2).setText(&quot;col three, row three&quot;);\r\n\r\n\r\n        FileOutputStream fileOutputStream = new FileOutputStream(&quot;D:\\\\Testword.docx&quot;);\r\n\r\n        document.write(fileOutputStream);\r\n        fileOutputStream.close();\r\n    }","title":"How to open and paste a new table everytime in an already existing word document in Apache poi?","body":"<pre><code>public static void main(String[] args) throws InvalidFormatException, IOException {\n    InputStream is = new FileInputStream(&quot;D:\\\\Testword.docx&quot;);\n    XWPFDocument document = new XWPFDocument(is);\n    is.close();\n\n    //create table\n    XWPFTable table = document.createTable();\n\n    //create first row\n    XWPFTableRow tableRowOne = table.getRow(0);\n    tableRowOne.getCell(0).setText(&quot;col one, row one&quot;);\n    tableRowOne.addNewTableCell().setText(&quot;col two, row one&quot;);\n    tableRowOne.addNewTableCell().setText(&quot;col three, row one&quot;);\n\n    //create second row\n    XWPFTableRow tableRowTwo = table.createRow();\n    tableRowTwo.getCell(0).setText(&quot;col one, row two&quot;);\n    tableRowTwo.getCell(1).setText(&quot;col two, row two&quot;);\n    tableRowTwo.getCell(2).setText(&quot;col three, row two&quot;);\n\n    //create third row\n    XWPFTableRow tableRowThree = table.createRow();\n    tableRowThree.getCell(0).setText(&quot;col one, row three&quot;);\n    tableRowThree.getCell(1).setText(&quot;col two, row three&quot;);\n    tableRowThree.getCell(2).setText(&quot;col three, row three&quot;);\n\n\n    FileOutputStream fileOutputStream = new FileOutputStream(&quot;D:\\\\Testword.docx&quot;);\n\n    document.write(fileOutputStream);\n    fileOutputStream.close();\n}\n</code></pre>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74109416,"answer_count":1,"score":0,"last_activity_date":1666089252,"creation_date":1666085453,"question_id":74108718,"body_markdown":"There is already an existing word document with the header and footer and some text in the front page. The body of the word document is empty. I need to create a table everytime (or overwrite the previous)which is in the second page of the word document. I am creating a table from scratch and trying the update the word document. However I am getting an error. Below is my code\r\n\r\n```\r\n  XWPFDocument document = new XWPFDocument(OPCPackage.open(source\r\n                                                        + &quot;Testword.docx&quot;));\r\n\r\n    //create table\r\n    XWPFTable table = document.createTable();\r\n\r\n    //create first row\r\n    XWPFTableRow tableRowOne = table.getRow(0);\r\n    tableRowOne.getCell(0).setText(&quot;col one, row one&quot;);\r\n    tableRowOne.addNewTableCell().setText(&quot;col two, row one&quot;);\r\n    tableRowOne.addNewTableCell().setText(&quot;col three, row one&quot;);\r\n\r\n    //create second row\r\n    XWPFTableRow tableRowTwo = table.createRow();\r\n    tableRowTwo.getCell(0).setText(&quot;col one, row two&quot;);\r\n    tableRowTwo.getCell(1).setText(&quot;col two, row two&quot;);\r\n    tableRowTwo.getCell(2).setText(&quot;col three, row two&quot;);\r\n\r\n    //create third row\r\n    XWPFTableRow tableRowThree = table.createRow();\r\n    tableRowThree.getCell(0).setText(&quot;col one, row three&quot;);\r\n    tableRowThree.getCell(1).setText(&quot;col two, row three&quot;);\r\n    tableRowThree.getCell(2).setText(&quot;col three, row three&quot;);\r\n\r\n\r\n    document.write(new FileOutputStream(source\r\n                                        + &quot;Testword.docx&quot;)); // This line is generating an error\r\n```\r\n\r\nThe error is \r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.poi.ooxml.POIXMLException: java.io.EOFException: Unexpected end of ZLIB input stream\r\n```","title":"How to open and paste a new table everytime in an already existing word document in Apache poi?","body":"<p>There is already an existing word document with the header and footer and some text in the front page. The body of the word document is empty. I need to create a table everytime (or overwrite the previous)which is in the second page of the word document. I am creating a table from scratch and trying the update the word document. However I am getting an error. Below is my code</p>\n<pre><code>  XWPFDocument document = new XWPFDocument(OPCPackage.open(source\n                                                        + &quot;Testword.docx&quot;));\n\n    //create table\n    XWPFTable table = document.createTable();\n\n    //create first row\n    XWPFTableRow tableRowOne = table.getRow(0);\n    tableRowOne.getCell(0).setText(&quot;col one, row one&quot;);\n    tableRowOne.addNewTableCell().setText(&quot;col two, row one&quot;);\n    tableRowOne.addNewTableCell().setText(&quot;col three, row one&quot;);\n\n    //create second row\n    XWPFTableRow tableRowTwo = table.createRow();\n    tableRowTwo.getCell(0).setText(&quot;col one, row two&quot;);\n    tableRowTwo.getCell(1).setText(&quot;col two, row two&quot;);\n    tableRowTwo.getCell(2).setText(&quot;col three, row two&quot;);\n\n    //create third row\n    XWPFTableRow tableRowThree = table.createRow();\n    tableRowThree.getCell(0).setText(&quot;col one, row three&quot;);\n    tableRowThree.getCell(1).setText(&quot;col two, row three&quot;);\n    tableRowThree.getCell(2).setText(&quot;col three, row three&quot;);\n\n\n    document.write(new FileOutputStream(source\n                                        + &quot;Testword.docx&quot;)); // This line is generating an error\n</code></pre>\n<p>The error is</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.poi.ooxml.POIXMLException: java.io.EOFException: Unexpected end of ZLIB input stream\n</code></pre>\n"},{"tags":["java","api","rest","automated-tests","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":2,"creation_date":1665622179,"post_id":74044679,"comment_id":130745729,"body_markdown":"No, you have to convert response to java object them use Hamcrest to compare.","body":"No, you have to convert response to java object them use Hamcrest to compare."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1666088903,"post_id":74044679,"comment_id":130847457,"body_markdown":"@lucas-nguyen-17, Hamcrest won&#39;t do - its current reflection comparison is quite limited. Unitils&#39; assertReflectionEquals() is much more comprehensive.","body":"@lucas-nguyen-17, Hamcrest won&#39;t do - its current reflection comparison is quite limited. Unitils&#39; assertReflectionEquals() is much more comprehensive."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1666089238,"post_id":74044679,"comment_id":130847584,"body_markdown":"@StanislavBashkyrtsev I don&#39;t know about internal things in Hamcrest. I just use Hamcrest to compare 2 objects with overrided `Equals()` and `hashCode()`. Is this correct?","body":"@StanislavBashkyrtsev I don&#39;t know about internal things in Hamcrest. I just use Hamcrest to compare 2 objects with overrided <code>Equals()</code> and <code>hashCode()</code>. Is this correct?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1666089370,"post_id":74044679,"comment_id":130847633,"body_markdown":"Oh, I thought you meant to leverage Hamcrests + AssertJ and leverage `isEqualToComparingFieldByFieldRecursively()`. As for `equals()` &amp; `hashCode()` - you don&#39;t want to rely on them in tests - see my comment to Alex Karamfilov answer.","body":"Oh, I thought you meant to leverage Hamcrests + AssertJ and leverage <code>isEqualToComparingFieldByFieldRecursively()</code>. As for <code>equals()</code> &amp; <code>hashCode()</code> - you don&#39;t want to rely on them in tests - see my comment to Alex Karamfilov answer."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666089149,"creation_date":1666089149,"answer_id":74109499,"question_id":74044679,"body_markdown":"RestAssured doesn&#39;t have (and shouldn&#39;t have) this capability. A typical approach to this is:\r\n\r\n    SomeClass expected = ...;\r\n    SomeClass actual = given().get(...).as(SomeClass.class);\r\n    assertReflectionEquals(expected, actual);\r\n\r\n`assertReflectionEquals()` comes from Unitils.","title":"Rest assured- comparing api response with java object","body":"<p>RestAssured doesn't have (and shouldn't have) this capability. A typical approach to this is:</p>\n<pre><code>SomeClass expected = ...;\nSomeClass actual = given().get(...).as(SomeClass.class);\nassertReflectionEquals(expected, actual);\n</code></pre>\n<p><code>assertReflectionEquals()</code> comes from Unitils.</p>\n"}],"owner":{"account_id":25365531,"reputation":127,"user_id":19180163,"display_name":"Marcin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666089149,"creation_date":1665589732,"question_id":74044679,"body_markdown":"can you tell me if there is any way to compare API response with java object using only Rest Assured?\r\nI would like to have a test looks like below:\r\n\r\n        var response = api.getRequest();\r\n        response.statusCode(200);\r\n        response.body(JsonValidator.matches........)\r\n        response.body(&lt;test of comparing objects&gt;)\r\n I know I can use hamcrest \r\n`assertThat(&quot;comment&quot;, response.extract.as( XZY.class), equalTo(XXX.class))`. \r\nBut maybe there is solution for my question :)\r\nThanks for any tips ! :) ","title":"Rest assured- comparing api response with java object","body":"<p>can you tell me if there is any way to compare API response with java object using only Rest Assured?\nI would like to have a test looks like below:</p>\n<pre><code>    var response = api.getRequest();\n    response.statusCode(200);\n    response.body(JsonValidator.matches........)\n    response.body(&lt;test of comparing objects&gt;)\n</code></pre>\n<p>I know I can use hamcrest\n<code>assertThat(&quot;comment&quot;, response.extract.as( XZY.class), equalTo(XXX.class))</code>.\nBut maybe there is solution for my question :)\nThanks for any tips ! :)</p>\n"},{"tags":["java","visual-studio-code","mainclass"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1665381275,"post_id":74009151,"comment_id":130678062,"body_markdown":"Please see [ask] and check your grammar. There are tools online.","body":"Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and check your grammar. There are tools online."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1665468133,"post_id":74009151,"comment_id":130700822,"body_markdown":"Under the exact same environment (VScode version, MySQL version, jar version.), my machine has no problems. Can you describe in detail how you created the project and how to run your code?? If possible, show your error interface and post the relevant code.","body":"Under the exact same environment (VScode version, MySQL version, jar version.), my machine has no problems. Can you describe in detail how you created the project and how to run your code?? If possible, show your error interface and post the relevant code."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1665468325,"post_id":74009151,"comment_id":130700867,"body_markdown":"try **Ctrl + Shift + P** --&gt; `Java: Clean Java Language Server Workspace`.","body":"try <b>Ctrl + Shift + P</b> --&gt; <code>Java: Clean Java Language Server Workspace</code>."},{"owner":{"account_id":26574980,"reputation":11,"user_id":20200550,"display_name":"Ternes"},"score":0,"creation_date":1665493050,"post_id":74009151,"comment_id":130709287,"body_markdown":"@HoRn Cant help with my problem?","body":"@HoRn Cant help with my problem?"},{"owner":{"account_id":26574980,"reputation":11,"user_id":20200550,"display_name":"Ternes"},"score":0,"creation_date":1665493449,"post_id":74009151,"comment_id":130709489,"body_markdown":"@JialeDu Already tried, Still with the problem. Updating the post with the code and project details.","body":"@JialeDu Already tried, Still with the problem. Updating the post with the code and project details."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1665539905,"post_id":74009151,"comment_id":130722496,"body_markdown":"Follow your steps to reproduce [without problems](https://imgur.com/k3AtwzU). Please show your project structure. In addition, the first line of `Package banco` in your code should be `package banco`, lowercase `p`. Here&#39;s an [answer](https://stackoverflow.com/a/73644505/19133920) I wrote before that might help.","body":"Follow your steps to reproduce <a href=\"https://imgur.com/k3AtwzU\" rel=\"nofollow noreferrer\">without problems</a>. Please show your project structure. In addition, the first line of <code>Package banco</code> in your code should be <code>package banco</code>, lowercase <code>p</code>. Here&#39;s an <a href=\"https://stackoverflow.com/a/73644505/19133920\">answer</a> I wrote before that might help."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1666341592,"post_id":74009151,"comment_id":130918854,"body_markdown":"Sorry to bother, any update on the question?","body":"Sorry to bother, any update on the question?"},{"owner":{"account_id":26574980,"reputation":11,"user_id":20200550,"display_name":"Ternes"},"score":0,"creation_date":1695006791,"post_id":74009151,"comment_id":135961655,"body_markdown":"Sorry for the long time. But no, I dont have any updates. Actually, I quit coding in Java haha.","body":"Sorry for the long time. But no, I dont have any updates. Actually, I quit coding in Java haha."}],"owner":{"account_id":26574980,"reputation":11,"user_id":20200550,"display_name":"Ternes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666089142,"creation_date":1665359365,"question_id":74009151,"body_markdown":"I was trying to connect java with MySQL. I downloaded the connector and added it to classpath of the app on Eclipse IDE and also moved to the &quot;Referenced Libraries&quot; on VSCode. Different projects each ones.\r\n\r\nOn Eclipse it worked fine, but VSCode display this error:\r\n\r\n```\r\nPS C:\\Users\\User\\Desktop\\Programa&#231;&#227;o\\Java\\J19&gt;  c:; cd &#39;c:\\Users\\User\\Desktop\\Programa&#231;&#227;o\\Java\\J19&#39;; &amp; &#39;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&#39; &#39;-XX:+ShowCodeDetailsInExceptionMessages&#39; &#39;@C:\\Users\\User\\AppData\\Local\\Temp\\cp_fw615ezm0w8yc6egf85gzwbb.argfile&#39; &#39;App&#39; \r\n**Error: Could not find or load main class App\r\nCaused by: java.lang.ClassNotFoundException: App**\r\n```\r\n\r\nI realized this error occurs with any jar files I add, not only with the MySQL connector.  \r\nI already tried to reinstall VSCode, reinstall java, and change from Java 17 to 19 and nothing fix it.\r\n\r\nSome more data:\r\n```\r\nVSCode Version: 1.72.0 (User Setup)\r\nMySql Version: 8.0.30 Build 2054668 CE\r\nConnector: mysql-connector-java-8.0.30.jar\r\nEclipse Version: 2022-09 (4.25.0) Build id 20220908-1902\r\n```\r\n\r\n**Edit 1:**\r\n\r\nThis is the code:\r\n```java\r\npackage banco;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n        \r\npublic class App {\r\n    public static void main(String[] args) {\r\n        final String db_url = &quot;jdbc:mysql://localhost:3306/reuniao&quot;;\r\n        final String db_query = &quot;SELECT * FROM pessoa&quot;;\r\n        final String db_user = &quot;root&quot;;\r\n        final String db_password = &quot;&quot;;\r\n        // Pessoa[]p;\r\n        // int reultSetRows = 0;\r\n        System.out.println(&quot;Iniciando conex&#227;o com o DB.&quot;);\r\n        try (Connection c = DriverManager.getConnection(db_url, db_user, db_password);\r\n                Statement statement = c.createStatement();\r\n                ResultSet resultSet = statement.executeQuery(db_query)) {\r\n            System.out.println(&quot;Conectado ao MySQL&quot;);\r\n        \r\n        } catch (SQLException sqlException) {\r\n            sqlException.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThe project was created with Command Pallete (Ctrl+Shift+P) - Create Java Project - No build Tools - Selected my Code Folder and named my project - Created package and start coding.","title":"VSCode can&#39;t load main class when adding JAR File","body":"<p>I was trying to connect java with MySQL. I downloaded the connector and added it to classpath of the app on Eclipse IDE and also moved to the &quot;Referenced Libraries&quot; on VSCode. Different projects each ones.</p>\n<p>On Eclipse it worked fine, but VSCode display this error:</p>\n<pre><code>PS C:\\Users\\User\\Desktop\\Programação\\Java\\J19&gt;  c:; cd 'c:\\Users\\User\\Desktop\\Programação\\Java\\J19'; &amp; 'C:\\Program Files\\Java\\jdk-19\\bin\\java.exe' '-XX:+ShowCodeDetailsInExceptionMessages' '@C:\\Users\\User\\AppData\\Local\\Temp\\cp_fw615ezm0w8yc6egf85gzwbb.argfile' 'App' \n**Error: Could not find or load main class App\nCaused by: java.lang.ClassNotFoundException: App**\n</code></pre>\n<p>I realized this error occurs with any jar files I add, not only with the MySQL connector.<br />\nI already tried to reinstall VSCode, reinstall java, and change from Java 17 to 19 and nothing fix it.</p>\n<p>Some more data:</p>\n<pre><code>VSCode Version: 1.72.0 (User Setup)\nMySql Version: 8.0.30 Build 2054668 CE\nConnector: mysql-connector-java-8.0.30.jar\nEclipse Version: 2022-09 (4.25.0) Build id 20220908-1902\n</code></pre>\n<p><strong>Edit 1:</strong></p>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package banco;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n        \npublic class App {\n    public static void main(String[] args) {\n        final String db_url = &quot;jdbc:mysql://localhost:3306/reuniao&quot;;\n        final String db_query = &quot;SELECT * FROM pessoa&quot;;\n        final String db_user = &quot;root&quot;;\n        final String db_password = &quot;&quot;;\n        // Pessoa[]p;\n        // int reultSetRows = 0;\n        System.out.println(&quot;Iniciando conexão com o DB.&quot;);\n        try (Connection c = DriverManager.getConnection(db_url, db_user, db_password);\n                Statement statement = c.createStatement();\n                ResultSet resultSet = statement.executeQuery(db_query)) {\n            System.out.println(&quot;Conectado ao MySQL&quot;);\n        \n        } catch (SQLException sqlException) {\n            sqlException.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The project was created with Command Pallete (Ctrl+Shift+P) - Create Java Project - No build Tools - Selected my Code Folder and named my project - Created package and start coding.</p>\n"},{"tags":["java","list","lombok"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":1,"creation_date":1645215737,"post_id":71179430,"comment_id":125821038,"body_markdown":"Yes, because this is a list.","body":"Yes, because this is a list."},{"owner":{"account_id":24304262,"reputation":35,"user_id":18247275,"display_name":"Sarthak Shah"},"score":0,"creation_date":1645215943,"post_id":71179430,"comment_id":125821103,"body_markdown":"Thanks for the response. How can I make sure that order is not compared.  Can I do any tweaking with EqualsAndHashcode or should I use a separate comparator for properties which are list.","body":"Thanks for the response. How can I make sure that order is not compared.  Can I do any tweaking with EqualsAndHashcode or should I use a separate comparator for properties which are list."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645216986,"creation_date":1645216986,"answer_id":71179635,"question_id":71179430,"body_markdown":"By using `@EqualsAndHashcode` it will propagate to use `newClassList.equals(..)` method which according to [java doc][1]\r\n\r\n&gt;**Interface List&lt;E&gt;**\r\n&gt;\r\n&gt; boolean equals(Object o) Compares the specified object with this list\r\n&gt; for equality. Returns true if and only if the specified object is also\r\n&gt; a list, both lists have the same size, and all corresponding pairs of\r\n&gt; elements in the two lists are equal. (Two elements e1 and e2 are equal\r\n&gt; if (e1==null ? e2==null : e1.equals(e2)).) **In other words, two lists\r\n&gt; are defined to be equal if they contain the same elements in the same\r\n&gt; order.** This definition ensures that the equals method works properly\r\n&gt; across different implementations of the List interface.\r\n\r\nIf you want a custom functionality where list does not check the order then you have to drop `@EqualsAndHashcode` and provide your own `equals` method based on what you want.\r\n\r\nThe functionality that you want would be in a simple way\r\n\r\n    (list1 != null &amp;&amp; list2 != null &amp;&amp; list1.size() == list2.size() &amp;&amp; list1.containsAll(list2) &amp;&amp; list2.containsAll(list1) ) || (list1 == null &amp;&amp; list2 == null)\r\n\r\nThis would lead us to the following equals method\r\n\r\n    @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            NewClass newClass = (NewClass) o;\r\n            return Objects.equals(property1, newClass.property1) &amp;&amp;\r\n                    ((newClassList != null &amp;&amp; newClass.newClassList != null &amp;&amp; newClassList.size() == newClass.newClassList.size() &amp;&amp; newClassList.containsAll(newClass.newClassList) &amp;&amp; newClass.newClassList.containsAll(newClassList) ) || (newClassList == null &amp;&amp; list2 == null));\r\n                   \r\n        }\r\n\r\nDon&#39;t forget also to manually override `hashcode` method as well.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-\r\n","title":"Lombok @EqualsAndHashCode on a class which has a list","body":"<p>By using <code>@EqualsAndHashcode</code> it will propagate to use <code>newClassList.equals(..)</code> method which according to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\">java doc</a></p>\n<blockquote>\n<p><strong>Interface List</strong></p>\n<p>boolean equals(Object o) Compares the specified object with this list\nfor equality. Returns true if and only if the specified object is also\na list, both lists have the same size, and all corresponding pairs of\nelements in the two lists are equal. (Two elements e1 and e2 are equal\nif (e1==null ? e2==null : e1.equals(e2)).) <strong>In other words, two lists\nare defined to be equal if they contain the same elements in the same\norder.</strong> This definition ensures that the equals method works properly\nacross different implementations of the List interface.</p>\n</blockquote>\n<p>If you want a custom functionality where list does not check the order then you have to drop <code>@EqualsAndHashcode</code> and provide your own <code>equals</code> method based on what you want.</p>\n<p>The functionality that you want would be in a simple way</p>\n<pre><code>(list1 != null &amp;&amp; list2 != null &amp;&amp; list1.size() == list2.size() &amp;&amp; list1.containsAll(list2) &amp;&amp; list2.containsAll(list1) ) || (list1 == null &amp;&amp; list2 == null)\n</code></pre>\n<p>This would lead us to the following equals method</p>\n<pre><code>@Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        NewClass newClass = (NewClass) o;\n        return Objects.equals(property1, newClass.property1) &amp;&amp;\n                ((newClassList != null &amp;&amp; newClass.newClassList != null &amp;&amp; newClassList.size() == newClass.newClassList.size() &amp;&amp; newClassList.containsAll(newClass.newClassList) &amp;&amp; newClass.newClassList.containsAll(newClassList) ) || (newClassList == null &amp;&amp; list2 == null));\n               \n    }\n</code></pre>\n<p>Don't forget also to manually override <code>hashcode</code> method as well.</p>\n"}],"owner":{"account_id":24304262,"reputation":35,"user_id":18247275,"display_name":"Sarthak Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3560,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71179635,"answer_count":1,"score":3,"last_activity_date":1666088999,"creation_date":1645215621,"question_id":71179430,"body_markdown":"```java\r\n@EqualsAndHashcode\r\nclass MyClass {\r\n    String property1;\r\n    List&lt;NewClass&gt; newClassList;\r\n}\r\n```\r\n\r\n```java\r\n@EqualsAndHashcode\r\nclass NewClass {\r\n    String abc;\r\n    String xyz;\r\n}\r\n```\r\n\r\nIf I compare two objects of `MyClass` (its annotated with `@EqualsAndHashcode`) for equality, will order of `newClassList` property be checked ?","title":"Lombok @EqualsAndHashCode on a class which has a list","body":"<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashcode\nclass MyClass {\n    String property1;\n    List&lt;NewClass&gt; newClassList;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashcode\nclass NewClass {\n    String abc;\n    String xyz;\n}\n</code></pre>\n<p>If I compare two objects of <code>MyClass</code> (its annotated with <code>@EqualsAndHashcode</code>) for equality, will order of <code>newClassList</code> property be checked ?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666082879,"creation_date":1666082879,"answer_id":74108166,"question_id":74107959,"body_markdown":"First, it seems like there is an error in your query, it should be `s.startDate &gt; :fromDate` instead of `s.jobStatus`\r\n\r\nThen, if you want to query `JobStatus` entites then you should use a `JobStatusRepository` as this :\r\n\r\n```\r\n@Repository\r\npublic interface JobStatusRepository extends JpaRepository&lt;JobStatus, Integer&gt; {\r\n\r\n    public List&lt;JobName&gt; findJobNameByCreationDateGreaterThan(Timestamp fromDate);\r\n\r\n}\r\n```\r\n\r\nYou shouldn&#39;t need a query as the method name is enough, you might want to add a `...Distinct...` to avoid duplicates.","title":"JPA repository OneToMany mapping with @Query condition on child column","body":"<p>First, it seems like there is an error in your query, it should be <code>s.startDate &gt; :fromDate</code> instead of <code>s.jobStatus</code></p>\n<p>Then, if you want to query <code>JobStatus</code> entites then you should use a <code>JobStatusRepository</code> as this :</p>\n<pre><code>@Repository\npublic interface JobStatusRepository extends JpaRepository&lt;JobStatus, Integer&gt; {\n\n    public List&lt;JobName&gt; findJobNameByCreationDateGreaterThan(Timestamp fromDate);\n\n}\n</code></pre>\n<p>You shouldn't need a query as the method name is enough, you might want to add a <code>...Distinct...</code> to avoid duplicates.</p>\n"},{"tags":[],"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666088920,"creation_date":1666088840,"answer_id":74109442,"question_id":74107959,"body_markdown":"Worked by adding FETCH in query\r\n```\r\n@Repository\r\npublic interface JobRepository extends JpaRepository&lt;JobName, Integer&gt; {\r\n\r\n\t@Query(&quot;select j from JobName j join fetch j.jobStatus s where s.startDate &gt; :fromDate&quot;)\r\n\tpublic List&lt;JobName&gt; findJobNameBylastTime(@Param(&quot;fromDate&quot;) Timestamp fromDate);\r\n}\r\n```\r\n","title":"JPA repository OneToMany mapping with @Query condition on child column","body":"<p>Worked by adding FETCH in query</p>\n<pre><code>@Repository\npublic interface JobRepository extends JpaRepository&lt;JobName, Integer&gt; {\n\n    @Query(&quot;select j from JobName j join fetch j.jobStatus s where s.startDate &gt; :fromDate&quot;)\n    public List&lt;JobName&gt; findJobNameBylastTime(@Param(&quot;fromDate&quot;) Timestamp fromDate);\n}\n</code></pre>\n"}],"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74109442,"answer_count":2,"score":0,"last_activity_date":1666088920,"creation_date":1666081813,"question_id":74107959,"body_markdown":"JobName id is primary and is mapped with JobStatus jobid\r\n\r\n``` \r\npublic class JobName implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;)\r\n\tprivate Integer id;\r\n\r\n\t@Column(name = &quot;NAME&quot;)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;SCHEDULEDTIME&quot;)\r\n\tprivate String scheduledTime;\r\n\r\n\t@Column(name = &quot;THRESHOLD&quot;)\r\n\tprivate Integer threshold;\r\n\r\n\t@Column(name = &quot;TYPE&quot;)\r\n\tprivate String type;\r\n\r\n\t@OneToMany(mappedBy = &quot;jobName&quot;, fetch = FetchType.EAGER)\r\n\tprivate List&lt;JobStatus&gt; jobStatus;\r\n\r\n}\r\n\r\npublic class JobStatus implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;)\r\n\tprivate Integer statusId;\r\n\r\n\t@Column(name = &quot;STARTDATE&quot;)\r\n\tprivate Timestamp startDate;\r\n\r\n\t@Column(name = &quot;ENDDATE&quot;)\r\n\tprivate Timestamp endDate;\r\n\r\n\t@Column(name = &quot;STATUS&quot;)\r\n\tprivate String status;\r\n\r\n\t@Column(name = &quot;REMARKS&quot;)\r\n\tprivate String remarks;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;JOBID&quot;)\r\n\t@JsonIgnore\r\n\tprivate JobName jobName;\r\n\r\n}\r\n\r\n@Repository\r\npublic interface JobRepository extends JpaRepository&lt;JobName, Integer&gt; {\r\n\r\n\t@Query(&quot;select j from JobName j join j.jobStatus s where s.startDate&gt; :fromDate&quot;)\r\n\tpublic List&lt;JobName&gt; findJobNameBylastTime(@Param(&quot;fromDate&quot;) Timestamp fromDate);\r\n\r\n}\r\n ```\r\nI want to fetch all records from jobstatus table where startDate is greater than the date sent. \r\n\r\nI want response in below json format, I am getting jobName list size correct based on date passed but all jobStatus records present in DB are fetched.\r\n\r\n``` [\r\n\t{\r\n        &quot;id&quot;:&quot;&quot;,   \r\n\t\t&quot;jobName&quot;: &quot;&quot;,\r\n\t\t&quot;scheduledTime&quot;: &quot;&quot;,\r\n\t\t&quot;threshold&quot;: &quot;&quot;,\r\n\t\t&quot;type&quot;: &quot;&quot;,\r\n\t\t&quot;jobStatus&quot;: [\r\n\t\t\t{\r\n                &quot;statusId&quot;:&quot;&quot;, \r\n\t\t\t\t&quot;startDate&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;endDate&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;status&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;remarks&quot;: &quot;&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n                &quot;statusId&quot;:&quot;&quot;,  \r\n\t\t\t\t&quot;startDate&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;endDate&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;status&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;remarks&quot;: &quot;&quot;\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n]\r\n```\r\n","title":"JPA repository OneToMany mapping with @Query condition on child column","body":"<p>JobName id is primary and is mapped with JobStatus jobid</p>\n<pre><code>public class JobName implements Serializable {\n\n    private static final long serialVersionUID = 1;\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Integer id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @Column(name = &quot;SCHEDULEDTIME&quot;)\n    private String scheduledTime;\n\n    @Column(name = &quot;THRESHOLD&quot;)\n    private Integer threshold;\n\n    @Column(name = &quot;TYPE&quot;)\n    private String type;\n\n    @OneToMany(mappedBy = &quot;jobName&quot;, fetch = FetchType.EAGER)\n    private List&lt;JobStatus&gt; jobStatus;\n\n}\n\npublic class JobStatus implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Integer statusId;\n\n    @Column(name = &quot;STARTDATE&quot;)\n    private Timestamp startDate;\n\n    @Column(name = &quot;ENDDATE&quot;)\n    private Timestamp endDate;\n\n    @Column(name = &quot;STATUS&quot;)\n    private String status;\n\n    @Column(name = &quot;REMARKS&quot;)\n    private String remarks;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;JOBID&quot;)\n    @JsonIgnore\n    private JobName jobName;\n\n}\n\n@Repository\npublic interface JobRepository extends JpaRepository&lt;JobName, Integer&gt; {\n\n    @Query(&quot;select j from JobName j join j.jobStatus s where s.startDate&gt; :fromDate&quot;)\n    public List&lt;JobName&gt; findJobNameBylastTime(@Param(&quot;fromDate&quot;) Timestamp fromDate);\n\n}\n</code></pre>\n<p>I want to fetch all records from jobstatus table where startDate is greater than the date sent.</p>\n<p>I want response in below json format, I am getting jobName list size correct based on date passed but all jobStatus records present in DB are fetched.</p>\n<pre><code>    {\n        &quot;id&quot;:&quot;&quot;,   \n        &quot;jobName&quot;: &quot;&quot;,\n        &quot;scheduledTime&quot;: &quot;&quot;,\n        &quot;threshold&quot;: &quot;&quot;,\n        &quot;type&quot;: &quot;&quot;,\n        &quot;jobStatus&quot;: [\n            {\n                &quot;statusId&quot;:&quot;&quot;, \n                &quot;startDate&quot;: &quot;&quot;,\n                &quot;endDate&quot;: &quot;&quot;,\n                &quot;status&quot;: &quot;&quot;,\n                &quot;remarks&quot;: &quot;&quot;\n            },\n            {\n                &quot;statusId&quot;:&quot;&quot;,  \n                &quot;startDate&quot;: &quot;&quot;,\n                &quot;endDate&quot;: &quot;&quot;,\n                &quot;status&quot;: &quot;&quot;,\n                &quot;remarks&quot;: &quot;&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n"},{"tags":["java","variables","while-loop","output","user-input"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1666085033,"post_id":74108468,"comment_id":130846090,"body_markdown":"Please, first make sure your code actually compiles. Because as it looks there are some typos (e.g. `depositetTotalAmount` and `depositedTotalAmount`, `Change` vs `rueckgabebetrag`) which make the current code not compile. Seems like you tried to translate some variables but stopped midway. Then, add your input, actual output and expected output to your question.","body":"Please, first make sure your code actually compiles. Because as it looks there are some typos (e.g. <code>depositetTotalAmount</code> and <code>depositedTotalAmount</code>, <code>Change</code> vs <code>rueckgabebetrag</code>) which make the current code not compile. Seems like you tried to translate some variables but stopped midway. Then, add your input, actual output and expected output to your question."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1666085129,"post_id":74108468,"comment_id":130846122,"body_markdown":"It seems you&#39;re mixing variables: `while (Change &gt;= 1.00)` is followed by `while (rueckgabebetrag &gt;= 0.50)`. Also please note that you&#39;ll make your life easier if you stick to the Java conde conventions which means `change` instead of `Change` etc.","body":"It seems you&#39;re mixing variables: <code>while (Change &gt;= 1.00)</code> is followed by <code>while (rueckgabebetrag &gt;= 0.50)</code>. Also please note that you&#39;ll make your life easier if you stick to the Java conde conventions which means <code>change</code> instead of <code>Change</code> etc."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1666085313,"post_id":74108468,"comment_id":130846174,"body_markdown":"Hint: Print your `change` variable after each subtraction. What do you see? -&gt; [Why not use Double or Float to represent currency?](https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency)","body":"Hint: Print your <code>change</code> variable after each subtraction. What do you see? -&gt; <a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\">Why not use Double or Float to represent currency?</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666085560,"post_id":74108468,"comment_id":130846263,"body_markdown":"Btw, do you already get `&quot;Der R&#252;ckgabebetrag in H&#246;he von 1.85 Euro wird in folgenden M&#252;nzen ausgezahlt&quot;` when you enter a ticket price of 2.10, number of tickets 1 and 2x 2 for the payment? Or does it print &quot;... 1.90 Euro...&quot; along with individual coins that add up to only 1.85?","body":"Btw, do you already get <code>&quot;Der R&#252;ckgabebetrag in H&#246;he von 1.85 Euro wird in folgenden M&#252;nzen ausgezahlt&quot;</code> when you enter a ticket price of 2.10, number of tickets 1 and 2x 2 for the payment? Or does it print &quot;... 1.90 Euro...&quot; along with individual coins that add up to only 1.85?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1666085672,"post_id":74108468,"comment_id":130846300,"body_markdown":"@Thomas the latter is the case.","body":"@Thomas the latter is the case."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666085936,"post_id":74108468,"comment_id":130846387,"body_markdown":"@maloomeister I see, in that case I&#39;d like to double upvote your comment on precision &#128517;","body":"@maloomeister I see, in that case I&#39;d like to double upvote your comment on precision 😅"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1666087320,"post_id":74108468,"comment_id":130846899,"body_markdown":"Floating point is a poor choice for currency because it is imprecise. Only work with integer numbers of cents. So total 210 for the ticket, notes and coins with values 200, 100, 50, 20, 10, 5 etc. after changing to that, everything should be easier and you won&#39;t suffer from inaccurate subtractions of floating point numbers.","body":"Floating point is a poor choice for currency because it is imprecise. Only work with integer numbers of cents. So total 210 for the ticket, notes and coins with values 200, 100, 50, 20, 10, 5 etc. after changing to that, everything should be easier and you won&#39;t suffer from inaccurate subtractions of floating point numbers."}],"answers":[{"tags":[],"owner":{"account_id":20639650,"reputation":1,"user_id":15152619,"display_name":"Markutt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666088811,"creation_date":1666088811,"answer_id":74109435,"question_id":74108468,"body_markdown":"Your problem is with floating-point arithmetic. Computers do not perform calculations same as humans do. For monetary applications you would be better of using BigDecimal rather than double or you can round the Change parameter in each step which is sufficient in your case.&lt;br&gt;\r\nBelow is the output of your code with Change parameter exposed:\r\n&gt;Der R&#252;ckgabebetrag in H&#246;he von 1.90 Euro&lt;br&gt;\r\n&gt;wird in folgenden M&#252;nzen ausgezahlt:&lt;br&gt;\r\n&gt;Change: 1.9&lt;br&gt;\r\n&gt;1 Euro&lt;br&gt;\r\n&gt;Change: 0.8999999999999999&lt;br&gt;\r\n&gt;50 Cent&lt;br&gt;\r\n&gt;Change: 0.3999999999999999&lt;br&gt;\r\n&gt;20 Cent&lt;br&gt;\r\n&gt;Change: 0.1999999999999999&lt;br&gt;\r\n&gt;10 Cent&lt;br&gt;\r\n&gt;5 &lt;br&gt;\r\n\r\nAs you can see calculation is not exact, therefore avoiding your conditions.\r\n\r\nFurther advice:&lt;br&gt;\r\n1. camelCase for variables is common practice for java. &lt;br&gt;\r\n2. I understand that you translated your code for help. You would be better of writing your code in english from the start.&lt;br&gt;\r\n3. I would prefer a switch statement or else if blocks in while loop for the change part if I were you.&lt;br&gt;\r\nHappy coding!","title":"Why is the output not calculating and outputting the correct amount of change correctly?","body":"<p>Your problem is with floating-point arithmetic. Computers do not perform calculations same as humans do. For monetary applications you would be better of using BigDecimal rather than double or you can round the Change parameter in each step which is sufficient in your case.<br>\nBelow is the output of your code with Change parameter exposed:</p>\n<blockquote>\n<p>Der Rückgabebetrag in Höhe von 1.90 Euro<br>\nwird in folgenden Münzen ausgezahlt:<br>\nChange: 1.9<br>\n1 Euro<br>\nChange: 0.8999999999999999<br>\n50 Cent<br>\nChange: 0.3999999999999999<br>\n20 Cent<br>\nChange: 0.1999999999999999<br>\n10 Cent<br>\n5 <br></p>\n</blockquote>\n<p>As you can see calculation is not exact, therefore avoiding your conditions.</p>\n<p>Further advice:<br></p>\n<ol>\n<li>camelCase for variables is common practice for java. <br></li>\n<li>I understand that you translated your code for help. You would be better of writing your code in english from the start.<br></li>\n<li>I would prefer a switch statement or else if blocks in while loop for the change part if I were you.<br>\nHappy coding!</li>\n</ol>\n"}],"owner":{"account_id":23432673,"reputation":9,"user_id":17491244,"display_name":"Dylan Grech"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666088811,"creation_date":1666084433,"question_id":74108468,"body_markdown":"we are doing a small project in school and we have the following problem. A user inputs an amount of how much a busticket costs, in this case - 2.10. The number of tickets has to also be inputted in this case 1. Afterwards the user inputs how much money he is going to give betwee 50c and 2Euro. I input 2 euro twice. The Change is then calculated. However when inputting these particular numbers instead of getting the anser 1.90, I get 1.85.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Fahrkartenautomat {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner tastatur = new Scanner(System.in);\r\n\r\n        double amountToPay;\r\n        double depositetTotalAmount;\r\n        double insertionofCoins;\r\n        double Change;\r\n        double stillToPay;\r\n        double ticketPrice;\r\n        int numberOfTickets;\r\n\r\n        // Geldbetrag eingeben\r\n        System.out.print(&quot;Ticketpreis (Euro): &quot;);\r\n        ticketPrice = tastatur.nextDouble();\r\n        System.out.print(&quot;Anzahl der Tickets: &quot;);\r\n        numberOfTickets = tastatur.nextInt();\r\n        amountToPay = ticketPrice * numberOfTickets;\r\n       \r\n\r\n\r\n\r\n        // Geldeinwurf\r\n        depositedTotalAmount = 0.0;\r\n        stillToPay = 0.0;\r\n        while (depositedTotalAmount &lt; amountToPay) {\r\n            stillToPay = amountToPay - depositedTotalAmount;\r\n            System.out.print(&quot;Noch zu zahlen: &quot;);\r\n            System.out.printf(&quot;%.2f&quot;, nochZuZahlen);\r\n            System.out.println(&quot; Euro&quot;);\r\n            System.out.print(&quot;Eingabe (mind. 5 Cent, h&#246;chstens 2 Euro): &quot;);\r\n            insertionOfCoins = tastatur.nextDouble();\r\n            depositedTotalAmount = depositedTotalAmount + insertionOfCoins;\r\n        }\r\n\r\n        // Fahrscheinausgabe\r\n        System.out.println(&quot;\\nFahrschein wird ausgegeben&quot;);\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            System.out.print(&quot;=&quot;);\r\n            try {\r\n                Thread.sleep(200);\r\n            }\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        System.out.println(&quot;\\n\\n&quot;);\r\n\r\n        \r\n        Change = depositedTotalAmount - amountToPay;\r\n        if (Change &gt; 0.0) {\r\n            System.out.print(&quot;Der R&#252;ckgabebetrag in H&#246;he von &quot;);\r\n            System.out.printf(&quot;%.2f&quot;, Change);\r\n            System.out.println(&quot; Euro&quot;);\r\n            System.out.println(&quot;wird in folgenden M&#252;nzen ausgezahlt:&quot;);\r\n\r\n            while (Change &gt;= 2.00) { // 2-Euro-M&#252;nzen\r\n                System.out.println(&quot;2 Euro&quot;);\r\n                Change = Change - 2.00;\r\n            }\r\n            while (Change &gt;= 1.00) { // 1-Euro-M&#252;nzen\r\n                System.out.println(&quot;1 Euro&quot;);\r\n                Change = Change - 1.00;\r\n            }\r\n            while (rueckgabebetrag &gt;= 0.50) { // 50-Cent-M&#252;nzen\r\n                System.out.println(&quot;50 Cent&quot;);\r\n                Change = Change - 0.50;\r\n            }\r\n            while (Change &gt;= 0.20) { // 20-Cent-M&#252;nzen\r\n                System.out.println(&quot;20 Cent&quot;);\r\n                Change = Change - 0.20;\r\n            }\r\n            while (rueckgabebetrag &gt;= 0.10) { // 10-Cent-M&#252;nzen\r\n                System.out.println(&quot;10 Cent&quot;);\r\n                Change = Change - 0.10;\r\n            }\r\n            while (Change &gt;= 0.05) { // 5-Cent-M&#252;nzen\r\n                System.out.println(&quot;5 Cent&quot;);\r\n                Change = Change - 0.05;\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;\\nVergessen Sie nicht, den Fahrschein\\n&quot; + &quot;vor Fahrtantritt entwerten zu lassen!\\n&quot;\r\n                + &quot;Wir w&#252;nschen Ihnen eine gute Fahrt.&quot;);\r\n\r\n        tastatur.close();\r\n    }\r\n}\r\n```","title":"Why is the output not calculating and outputting the correct amount of change correctly?","body":"<p>we are doing a small project in school and we have the following problem. A user inputs an amount of how much a busticket costs, in this case - 2.10. The number of tickets has to also be inputted in this case 1. Afterwards the user inputs how much money he is going to give betwee 50c and 2Euro. I input 2 euro twice. The Change is then calculated. However when inputting these particular numbers instead of getting the anser 1.90, I get 1.85.</p>\n<pre><code>import java.util.Scanner;\n\nclass Fahrkartenautomat {\n    public static void main(String[] args) {\n\n        Scanner tastatur = new Scanner(System.in);\n\n        double amountToPay;\n        double depositetTotalAmount;\n        double insertionofCoins;\n        double Change;\n        double stillToPay;\n        double ticketPrice;\n        int numberOfTickets;\n\n        // Geldbetrag eingeben\n        System.out.print(&quot;Ticketpreis (Euro): &quot;);\n        ticketPrice = tastatur.nextDouble();\n        System.out.print(&quot;Anzahl der Tickets: &quot;);\n        numberOfTickets = tastatur.nextInt();\n        amountToPay = ticketPrice * numberOfTickets;\n       \n\n\n\n        // Geldeinwurf\n        depositedTotalAmount = 0.0;\n        stillToPay = 0.0;\n        while (depositedTotalAmount &lt; amountToPay) {\n            stillToPay = amountToPay - depositedTotalAmount;\n            System.out.print(&quot;Noch zu zahlen: &quot;);\n            System.out.printf(&quot;%.2f&quot;, nochZuZahlen);\n            System.out.println(&quot; Euro&quot;);\n            System.out.print(&quot;Eingabe (mind. 5 Cent, höchstens 2 Euro): &quot;);\n            insertionOfCoins = tastatur.nextDouble();\n            depositedTotalAmount = depositedTotalAmount + insertionOfCoins;\n        }\n\n        // Fahrscheinausgabe\n        System.out.println(&quot;\\nFahrschein wird ausgegeben&quot;);\n        for (int i = 0; i &lt; 8; i++) {\n            System.out.print(&quot;=&quot;);\n            try {\n                Thread.sleep(200);\n            }\n            catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(&quot;\\n\\n&quot;);\n\n        \n        Change = depositedTotalAmount - amountToPay;\n        if (Change &gt; 0.0) {\n            System.out.print(&quot;Der Rückgabebetrag in Höhe von &quot;);\n            System.out.printf(&quot;%.2f&quot;, Change);\n            System.out.println(&quot; Euro&quot;);\n            System.out.println(&quot;wird in folgenden Münzen ausgezahlt:&quot;);\n\n            while (Change &gt;= 2.00) { // 2-Euro-Münzen\n                System.out.println(&quot;2 Euro&quot;);\n                Change = Change - 2.00;\n            }\n            while (Change &gt;= 1.00) { // 1-Euro-Münzen\n                System.out.println(&quot;1 Euro&quot;);\n                Change = Change - 1.00;\n            }\n            while (rueckgabebetrag &gt;= 0.50) { // 50-Cent-Münzen\n                System.out.println(&quot;50 Cent&quot;);\n                Change = Change - 0.50;\n            }\n            while (Change &gt;= 0.20) { // 20-Cent-Münzen\n                System.out.println(&quot;20 Cent&quot;);\n                Change = Change - 0.20;\n            }\n            while (rueckgabebetrag &gt;= 0.10) { // 10-Cent-Münzen\n                System.out.println(&quot;10 Cent&quot;);\n                Change = Change - 0.10;\n            }\n            while (Change &gt;= 0.05) { // 5-Cent-Münzen\n                System.out.println(&quot;5 Cent&quot;);\n                Change = Change - 0.05;\n            }\n        }\n\n        System.out.println(&quot;\\nVergessen Sie nicht, den Fahrschein\\n&quot; + &quot;vor Fahrtantritt entwerten zu lassen!\\n&quot;\n                + &quot;Wir wünschen Ihnen eine gute Fahrt.&quot;);\n\n        tastatur.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640779976,"creation_date":1640779674,"answer_id":70519193,"question_id":65718548,"body_markdown":"There&#39;s [a class in logbook sources][1] for compacting XMLs: `org.zalando.logbook.CompactingXmlBodyFilter`.\r\n\r\nJust copy and paste it and make your own implementation of XML transform as in `removeEmptyTextNodes()`.\r\n\r\nFor example:\r\n\r\n    class LogbookXmlBodyPasswordFilter implements BodyFilter {\r\n        [...]\r\n        private void removePasswordTag(final Document document) throws Exception {\r\n                final XPathFactory xPathFactory = XPathFactory.newInstance();\r\n                final XPath xpath = xPathFactory.newXPath();\r\n                NodeList nodeList = (NodeList) xpath.evaluate(&quot;Password&quot;, document, XPathConstants.NODESET);\r\n        \r\n                for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n                    final Node node = nodeList.item(i);\r\n                    node.getParentNode().removeChild(node);\r\n                }\r\n            }\r\n    }\r\n    \r\n\r\nThis method will remove any  `&lt;Password&gt;` tag from XML.\r\n\r\nYou can then use it like this:\r\n\r\n     @Bean\r\n     public BodyFilter bodyFilter() {\r\n         return logbookXmlBodyPasswordFilter();\r\n     }\r\n    \r\n     public static BodyFilter logbookXmlBodyPasswordFilter() {\r\n         return new LogbookXmlBodyPasswordFilter();\r\n     }\r\n\r\n  [1]: https://github.com/zalando/logbook/blob/main/logbook-core/src/main/java/org/zalando/logbook/CompactingXmlBodyFilter.java","title":"How to mask sensitive data in a xml body with zalando.logbook","body":"<p>There's <a href=\"https://github.com/zalando/logbook/blob/main/logbook-core/src/main/java/org/zalando/logbook/CompactingXmlBodyFilter.java\" rel=\"nofollow noreferrer\">a class in logbook sources</a> for compacting XMLs: <code>org.zalando.logbook.CompactingXmlBodyFilter</code>.</p>\n<p>Just copy and paste it and make your own implementation of XML transform as in <code>removeEmptyTextNodes()</code>.</p>\n<p>For example:</p>\n<pre><code>class LogbookXmlBodyPasswordFilter implements BodyFilter {\n    [...]\n    private void removePasswordTag(final Document document) throws Exception {\n            final XPathFactory xPathFactory = XPathFactory.newInstance();\n            final XPath xpath = xPathFactory.newXPath();\n            NodeList nodeList = (NodeList) xpath.evaluate(&quot;Password&quot;, document, XPathConstants.NODESET);\n    \n            for (int i = 0; i &lt; nodeList.getLength(); i++) {\n                final Node node = nodeList.item(i);\n                node.getParentNode().removeChild(node);\n            }\n        }\n}\n</code></pre>\n<p>This method will remove any  <code>&lt;Password&gt;</code> tag from XML.</p>\n<p>You can then use it like this:</p>\n<pre><code> @Bean\n public BodyFilter bodyFilter() {\n     return logbookXmlBodyPasswordFilter();\n }\n\n public static BodyFilter logbookXmlBodyPasswordFilter() {\n     return new LogbookXmlBodyPasswordFilter();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4905682,"reputation":839,"user_id":3952494,"display_name":"Klapsa2503"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666087825,"creation_date":1666087825,"answer_id":74109250,"question_id":65718548,"body_markdown":"Different approach that requires less code looks as follows:\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\nfinal class XmlFieldBodyFilter implements BodyFilter {\r\n\r\n    private static final Predicate&lt;String&gt; XML = MediaTypeQuery.compile(&quot;*/xml&quot;, &quot;*/*+xml&quot;);\r\n\r\n    private final Collection&lt;String&gt; parameters;\r\n    private final String replacement;\r\n\r\n    @Override\r\n    public String filter(@Nullable final String contentType, final String body) {\r\n        return XML.test(contentType) &amp;&amp; StringUtils.isNotBlank(body) ? censorBody(body) : body;\r\n    }\r\n\r\n    private String censorBody(final String body) {\r\n        return parameters.stream().reduce(body, this::censorBody);\r\n    }\r\n\r\n    private String censorBody(String text, String parameterToReplace) {\r\n        var pattern = compile(&quot;(&lt;%s&gt;)(.*)(&lt;/%s&gt;)&quot;.formatted(parameterToReplace, parameterToReplace));\r\n        var matcher = pattern.matcher(text);\r\n        var result = new StringBuilder(text.length());\r\n\r\n        while (matcher.find()) {\r\n            if (matcher.groupCount() == 3) {\r\n                matcher.appendReplacement(result, String.join(&quot;&quot;, matcher.group(1), replacement, matcher.group(3)));\r\n            }\r\n        }\r\n        matcher.appendTail(result);\r\n\r\n        return result.toString();\r\n    }\r\n\r\n}\r\n\r\n//Instance creation\r\nnew XmlFieldBodyFilter(List.of(&quot;Password&quot;), &quot;XXX&quot;);\r\n```\r\nIt&#39;s based on regex. And solved issues I had with requirement to set `http://apache.org/xml/features/disallow-doctype-decl` to false.\r\n","title":"How to mask sensitive data in a xml body with zalando.logbook","body":"<p>Different approach that requires less code looks as follows:</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\nfinal class XmlFieldBodyFilter implements BodyFilter {\n\n    private static final Predicate&lt;String&gt; XML = MediaTypeQuery.compile(&quot;*/xml&quot;, &quot;*/*+xml&quot;);\n\n    private final Collection&lt;String&gt; parameters;\n    private final String replacement;\n\n    @Override\n    public String filter(@Nullable final String contentType, final String body) {\n        return XML.test(contentType) &amp;&amp; StringUtils.isNotBlank(body) ? censorBody(body) : body;\n    }\n\n    private String censorBody(final String body) {\n        return parameters.stream().reduce(body, this::censorBody);\n    }\n\n    private String censorBody(String text, String parameterToReplace) {\n        var pattern = compile(&quot;(&lt;%s&gt;)(.*)(&lt;/%s&gt;)&quot;.formatted(parameterToReplace, parameterToReplace));\n        var matcher = pattern.matcher(text);\n        var result = new StringBuilder(text.length());\n\n        while (matcher.find()) {\n            if (matcher.groupCount() == 3) {\n                matcher.appendReplacement(result, String.join(&quot;&quot;, matcher.group(1), replacement, matcher.group(3)));\n            }\n        }\n        matcher.appendTail(result);\n\n        return result.toString();\n    }\n\n}\n\n//Instance creation\nnew XmlFieldBodyFilter(List.of(&quot;Password&quot;), &quot;XXX&quot;);\n</code></pre>\n<p>It's based on regex. And solved issues I had with requirement to set <code>http://apache.org/xml/features/disallow-doctype-decl</code> to false.</p>\n"}],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1666087825,"creation_date":1610625519,"question_id":65718548,"body_markdown":"Zalando.LogBook has some default mask filters but i haven&#39;t found one for xml bodies. I need to mask a password field (`&lt;password&gt;1234&lt;\\password&gt;` -&gt; `&lt;password&gt;masked&lt;\\password&gt;`) in a xml body. Has any body implemented a body filter that can mask a passwort in a xml body?\r\n\r\n```\r\n  @Bean\r\n  public Logbook getLogBook() {\r\n    final Set&lt;String&gt; properties = new HashSet&lt;&gt;(Arrays.asList(&quot;password&quot;);\r\n\r\n    return Logbook.builder()\r\n        .bodyFilter(BodyFilters.replaceFormUrlEncodedProperty(properties, &quot;&lt;masked&gt;&quot;))\r\n                                                 .build();\r\n  }\r\n```","title":"How to mask sensitive data in a xml body with zalando.logbook","body":"<p>Zalando.LogBook has some default mask filters but i haven't found one for xml bodies. I need to mask a password field (<code>&lt;password&gt;1234&lt;\\password&gt;</code> -&gt; <code>&lt;password&gt;masked&lt;\\password&gt;</code>) in a xml body. Has any body implemented a body filter that can mask a passwort in a xml body?</p>\n<pre><code>  @Bean\n  public Logbook getLogBook() {\n    final Set&lt;String&gt; properties = new HashSet&lt;&gt;(Arrays.asList(&quot;password&quot;);\n\n    return Logbook.builder()\n        .bodyFilter(BodyFilters.replaceFormUrlEncodedProperty(properties, &quot;&lt;masked&gt;&quot;))\n                                                 .build();\n  }\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666087637,"creation_date":1666086939,"answer_id":74109057,"question_id":74108792,"body_markdown":"Your `ImageAnalyzer` class is a `ViewModel`, so assuming you have access to its instance, you would create another `read-only` live data and **observe** changes made to it.\r\n\r\n    class ImageAnalyzer(listener: ImageAnalyzerListener? = null) : ImageAnalysis.Analyzer, ViewModel() {\r\n        \r\n            ...\r\n        \r\n            //value I need to update\r\n            private val _country = MutableLiveData&lt;String&gt;(&quot;Canada&quot;)\r\n\r\n            // only expose a readable state\r\n            val country : LiveData&lt;String&gt; = _country\r\n            \r\n            fun updateCountry(newValue: String) {\r\n                country.value = newValue\r\n            }\r\n        }\r\n\r\nThen somewhere in your `CustomCameraActivity`, assuming you already have an instance of `ImageAnalyzer ViewModel`\r\n\r\n    fun someActivityFunction() {\r\n        imageAnalysisVM.updateCountry(&quot;Thailand&quot;)\r\n    }\r\n\r\n\r\nNow if you want to listen to its changes\r\n\r\n    fun listenToCountryChanges() {\r\n\r\n        imageAnalysisVM.country.observe(viewLifecycleOwner) {\r\n                // react to changes made to the country\r\n        }\r\n\r\n    }\r\n\r\n","title":"How to update variables in a class from an activity","body":"<p>Your <code>ImageAnalyzer</code> class is a <code>ViewModel</code>, so assuming you have access to its instance, you would create another <code>read-only</code> live data and <strong>observe</strong> changes made to it.</p>\n<pre><code>class ImageAnalyzer(listener: ImageAnalyzerListener? = null) : ImageAnalysis.Analyzer, ViewModel() {\n    \n        ...\n    \n        //value I need to update\n        private val _country = MutableLiveData&lt;String&gt;(&quot;Canada&quot;)\n\n        // only expose a readable state\n        val country : LiveData&lt;String&gt; = _country\n        \n        fun updateCountry(newValue: String) {\n            country.value = newValue\n        }\n    }\n</code></pre>\n<p>Then somewhere in your <code>CustomCameraActivity</code>, assuming you already have an instance of <code>ImageAnalyzer ViewModel</code></p>\n<pre><code>fun someActivityFunction() {\n    imageAnalysisVM.updateCountry(&quot;Thailand&quot;)\n}\n</code></pre>\n<p>Now if you want to listen to its changes</p>\n<pre><code>fun listenToCountryChanges() {\n\n    imageAnalysisVM.country.observe(viewLifecycleOwner) {\n            // react to changes made to the country\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23146804,"reputation":37,"user_id":17249442,"display_name":"Keshav Khetan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666087637,"creation_date":1666085792,"question_id":74108792,"body_markdown":"I have ImageAnalyzer class for image analysis using cameraX. I need to update variables in class from camera activity.\r\n\r\nCode for camera activity: \r\n\r\n```\r\nclass CustomCameraActivity : AppCompatActivity() {\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n \r\n        viewBinding.currencyHistoryButton.setOnClickListener {\r\n           val intent = Intent(context, CountryPickerActivity::class.java)\r\n           startActivityForResult(intent, 112)\r\n       }\r\n    }\r\n\r\n\r\n// Code to receive data from activity result which i need to pass to the class for updation\r\n\r\n   override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n       super.onActivityResult(requestCode, resultCode, data)\r\n       if (requestCode == 112) {\r\n           if (resultCode == Activity.RESULT_OK) {\r\n               val result = data?.getStringExtra(&quot;COUNTRY&quot;)\r\n               Log.e(TAG, &quot;COUNTRY:$result&quot;)\r\n           }\r\n           if (resultCode == Activity.RESULT_CANCELED) {\r\n               // Write your code if there&#39;s no result\r\n           }\r\n       }\r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\ncode for imageAnalysis class: \r\n\r\n```\r\nclass ImageAnalyzer(listener: ImageAnalyzerListener? = null) : ImageAnalysis.Analyzer, ViewModel() {\r\n\r\n    private val listeners = ArrayList&lt;ImageAnalyzerListener&gt;().apply { listener?.let { add(it) } }\r\n    \r\n    //value I need to update\r\n    private val country = MutableLiveData&lt;String&gt;(&quot;Canada&quot;)\r\n\r\n\r\n}\r\n\r\n```","title":"How to update variables in a class from an activity","body":"<p>I have ImageAnalyzer class for image analysis using cameraX. I need to update variables in class from camera activity.</p>\n<p>Code for camera activity:</p>\n<pre><code>class CustomCameraActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n \n        viewBinding.currencyHistoryButton.setOnClickListener {\n           val intent = Intent(context, CountryPickerActivity::class.java)\n           startActivityForResult(intent, 112)\n       }\n    }\n\n\n// Code to receive data from activity result which i need to pass to the class for updation\n\n   override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n       super.onActivityResult(requestCode, resultCode, data)\n       if (requestCode == 112) {\n           if (resultCode == Activity.RESULT_OK) {\n               val result = data?.getStringExtra(&quot;COUNTRY&quot;)\n               Log.e(TAG, &quot;COUNTRY:$result&quot;)\n           }\n           if (resultCode == Activity.RESULT_CANCELED) {\n               // Write your code if there's no result\n           }\n       }\n   }\n\n}\n\n</code></pre>\n<p>code for imageAnalysis class:</p>\n<pre><code>class ImageAnalyzer(listener: ImageAnalyzerListener? = null) : ImageAnalysis.Analyzer, ViewModel() {\n\n    private val listeners = ArrayList&lt;ImageAnalyzerListener&gt;().apply { listener?.let { add(it) } }\n    \n    //value I need to update\n    private val country = MutableLiveData&lt;String&gt;(&quot;Canada&quot;)\n\n\n}\n\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":7754452,"reputation":1204,"user_id":5869325,"display_name":"aydinugur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666087352,"creation_date":1666087352,"answer_id":74109150,"question_id":74105709,"body_markdown":"You shouldn&#39;t add it with the type of pom as its packaging is jar.","title":"Intellij not recognizing Dropwizard version dependency","body":"<p>You shouldn't add it with the type of pom as its packaging is jar.</p>\n"}],"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666087352,"creation_date":1666067131,"question_id":74105709,"body_markdown":"I&#39;ve started to create a java project using the dropwizard framework and maven. My `pom.xml` file looks like \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.dexcane&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dexcane-backend&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;dropwizard.version&gt;2.1.4-SNAPSHOT&lt;/dropwizard.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.dropwizard.archetypes/dropwizard-archetypes --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.4-SNAPSHOT&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nI&#39;m following the dropwizard [tutorial](https://www.dropwizard.io/en/latest/getting-started.html). When I hover over the &quot;2.1.4-SNAPSHOT&quot; &lt;version&gt; dependency Intellij says &quot;Dependency &#39;io.dropwizard:dropwizard-core:2.1.4-SNAPSHOT&#39; not found &quot;. Does anyone know what&#39;s wrong with the import? The tutorial says the current version of dropwizard is `2.1.4-SNAPSHOT`.","title":"Intellij not recognizing Dropwizard version dependency","body":"<p>I've started to create a java project using the dropwizard framework and maven. My <code>pom.xml</code> file looks like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.dexcane&lt;/groupId&gt;\n    &lt;artifactId&gt;dexcane-backend&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;dropwizard.version&gt;2.1.4-SNAPSHOT&lt;/dropwizard.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.dropwizard.archetypes/dropwizard-archetypes --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n            &lt;version&gt;2.1.4-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I'm following the dropwizard <a href=\"https://www.dropwizard.io/en/latest/getting-started.html\" rel=\"nofollow noreferrer\">tutorial</a>. When I hover over the &quot;2.1.4-SNAPSHOT&quot;  dependency Intellij says &quot;Dependency 'io.dropwizard:dropwizard-core:2.1.4-SNAPSHOT' not found &quot;. Does anyone know what's wrong with the import? The tutorial says the current version of dropwizard is <code>2.1.4-SNAPSHOT</code>.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":1,"creation_date":1502457261,"post_id":45635827,"comment_id":78231387,"body_markdown":"are you using autegenerated id for your entity?","body":"are you using autegenerated id for your entity?"},{"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"score":0,"creation_date":1502457567,"post_id":45635827,"comment_id":78231579,"body_markdown":"No. We see this happening on 2 tables. One of them there is a single field for the primary key, which we actually get from another table of pre-generated numbers.  I&#39;m using a simple Id for that table. The other is a composite Id, where I&#39;m using an EmbeddedId","body":"No. We see this happening on 2 tables. One of them there is a single field for the primary key, which we actually get from another table of pre-generated numbers.  I&#39;m using a simple Id for that table. The other is a composite Id, where I&#39;m using an EmbeddedId"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1502463124,"post_id":45635827,"comment_id":78235593,"body_markdown":"Being able to see the sql logs you refer to would be kind of useful.","body":"Being able to see the sql logs you refer to would be kind of useful."},{"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"score":0,"creation_date":1502464723,"post_id":45635827,"comment_id":78236610,"body_markdown":"@Gimby what specifically are you looking for, and how can I get it? Is there a logging level and jpa/hibernate package I can set to more detail? we&#39;re using an application.yml for configuration; It&#39;s currently logging the generated sql it&#39;s using; I actually just took that sql and ran it in dbvisualizer; it ran immediately in dbvisualizer, but took several seconds while running in the app","body":"@Gimby what specifically are you looking for, and how can I get it? Is there a logging level and jpa/hibernate package I can set to more detail? we&#39;re using an application.yml for configuration; It&#39;s currently logging the generated sql it&#39;s using; I actually just took that sql and ran it in dbvisualizer; it ran immediately in dbvisualizer, but took several seconds while running in the app"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1502701402,"post_id":45635827,"comment_id":78299190,"body_markdown":"Yes, the generated SQL. Generally it is a good idea that when you&#39;re talking about something you actually show it. The same goes for the code of your entity.","body":"Yes, the generated SQL. Generally it is a good idea that when you&#39;re talking about something you actually show it. The same goes for the code of your entity."}],"answers":[{"tags":[],"owner":{"account_id":1254379,"reputation":711,"user_id":1214174,"display_name":"Bertrand88"},"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1533982627,"creation_date":1510220654,"answer_id":47198528,"question_id":45635827,"body_markdown":"Here is the code of Spring SimpleJpaRepository you are using by using Spring Data repository:\r\n\r\n    @Transactional\r\n\tpublic &lt;S extends T&gt; S save(S entity) {\r\n\r\n\t\tif (entityInformation.isNew(entity)) {\r\n\t\t\tem.persist(entity);\r\n\t\t\treturn entity;\r\n\t\t} else {\r\n\t\t\treturn em.merge(entity);\r\n\t\t}\r\n\t}\r\n\r\n\r\nIt does the following:\r\n\r\n&gt; By default Spring Data JPA inspects the identifier property of the given entity. If the identifier property is null, then the entity will be assumed as new, otherwise as not new.\r\n\r\n[Link to Spring Data documentation][1]\r\n\r\nAnd so if one of your entity has an ID field not null, Spring will make Hibernate do an update (and so a SELECT before).\r\n\r\nYou can override this behavior by the 2 ways listed in the same documentation. An easy way is to make your Entity implements Persistable (instead of Serializable), which will make you implement the method &quot;isNew&quot;.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>Here is the code of Spring SimpleJpaRepository you are using by using Spring Data repository:</p>\n\n<pre><code>@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n\n    if (entityInformation.isNew(entity)) {\n        em.persist(entity);\n        return entity;\n    } else {\n        return em.merge(entity);\n    }\n}\n</code></pre>\n\n<p>It does the following:</p>\n\n<blockquote>\n  <p>By default Spring Data JPA inspects the identifier property of the given entity. If the identifier property is null, then the entity will be assumed as new, otherwise as not new.</p>\n</blockquote>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites\" rel=\"noreferrer\">Link to Spring Data documentation</a></p>\n\n<p>And so if one of your entity has an ID field not null, Spring will make Hibernate do an update (and so a SELECT before).</p>\n\n<p>You can override this behavior by the 2 ways listed in the same documentation. An easy way is to make your Entity implements Persistable (instead of Serializable), which will make you implement the method \"isNew\".</p>\n"},{"tags":[],"owner":{"account_id":1782050,"reputation":629,"user_id":1624512,"display_name":"Paul Hilliar"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1525340332,"creation_date":1525340332,"answer_id":50151751,"question_id":45635827,"body_markdown":"If you provide your own id value then Spring Data will assume that you need to check the DB for a duplicate key (hence the select+insert).\r\n\r\nBetter practice is to use an id generator, like this:\r\n\r\n    @Entity\r\n    public class MyThing {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;uuid2&quot;)\r\n        @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n        private UUID id;\r\n    }\r\n\r\nIf you really must insert your own id and want to prevent the select+insert then implement Persistable, e.g.\r\n\r\n    @Entity\r\n    public class MyThing implements Persistable&lt;UUID&gt; {\r\n    \r\n        @Id\r\n        private UUID id;\r\n        \r\n        @Override\r\n        public UUID getId() {\r\n            return id;\r\n        }\r\n    \r\n        //prevent Spring Data doing a select-before-insert - this particular entity is never updated\r\n        @Override\r\n        public boolean isNew() {\r\n            return true;\r\n        }\r\n    }\r\n","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>If you provide your own id value then Spring Data will assume that you need to check the DB for a duplicate key (hence the select+insert).</p>\n\n<p>Better practice is to use an id generator, like this:</p>\n\n<pre><code>@Entity\npublic class MyThing {\n    @Id\n    @GeneratedValue(generator = \"uuid2\")\n    @GenericGenerator(name = \"uuid2\", strategy = \"uuid2\")\n    private UUID id;\n}\n</code></pre>\n\n<p>If you really must insert your own id and want to prevent the select+insert then implement Persistable, e.g.</p>\n\n<pre><code>@Entity\npublic class MyThing implements Persistable&lt;UUID&gt; {\n\n    @Id\n    private UUID id;\n\n    @Override\n    public UUID getId() {\n        return id;\n    }\n\n    //prevent Spring Data doing a select-before-insert - this particular entity is never updated\n    @Override\n    public boolean isNew() {\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637864105,"creation_date":1637864105,"answer_id":70115682,"question_id":45635827,"body_markdown":"I created a custom method in the `@Repository`:\r\n\r\n```java\r\n    public void persistAll(Iterable&lt;MyThing&gt; toPersist) {\r\n        toPersist.forEach(thing -&gt; entityManager.persist(thing));\r\n    }\r\n```","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>I created a custom method in the <code>@Repository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void persistAll(Iterable&lt;MyThing&gt; toPersist) {\n        toPersist.forEach(thing -&gt; entityManager.persist(thing));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666087206,"creation_date":1665925308,"answer_id":74087321,"question_id":45635827,"body_markdown":"If you provide your own ID value then Spring Data will assume that you need to check the DB for a duplicate key (hence the select+insert).\r\n\r\nOne option is to use a separate autogenerated ID column as Primary key but this option seems redundant. Because if you already have a Business/Natural ID that is unique then it is easier to make this as the `@ID` column instead of having a separate ID column.\r\n\r\nSo how to solve the problem?\r\n\r\nThe solution is to use `@javax.persistence.Version` on a new versionNumber column in all the tables. If you have a parent and child table then use `@Version` column in all the entity classes.\r\n\r\nAdd a column in the Entity class like this:\r\n\r\n      @javax.persistence.Version\r\n      @Column(name = &quot;data_version&quot;)\r\n      private Long dataVersion;\r\n\r\nadd column in SQL file:\r\n\r\n    &quot;data_version&quot;          INTEGER DEFAULT 0\r\n\r\nThen I see that Spring data does not do `Select` before doing `Insert`.\r\n\r\n\r\n","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>If you provide your own ID value then Spring Data will assume that you need to check the DB for a duplicate key (hence the select+insert).</p>\n<p>One option is to use a separate autogenerated ID column as Primary key but this option seems redundant. Because if you already have a Business/Natural ID that is unique then it is easier to make this as the <code>@ID</code> column instead of having a separate ID column.</p>\n<p>So how to solve the problem?</p>\n<p>The solution is to use <code>@javax.persistence.Version</code> on a new versionNumber column in all the tables. If you have a parent and child table then use <code>@Version</code> column in all the entity classes.</p>\n<p>Add a column in the Entity class like this:</p>\n<pre><code>  @javax.persistence.Version\n  @Column(name = &quot;data_version&quot;)\n  private Long dataVersion;\n</code></pre>\n<p>add column in SQL file:</p>\n<pre><code>&quot;data_version&quot;          INTEGER DEFAULT 0\n</code></pre>\n<p>Then I see that Spring data does not do <code>Select</code> before doing <code>Insert</code>.</p>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44105,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"answer_count":4,"score":58,"last_activity_date":1666087206,"creation_date":1502456270,"question_id":45635827,"body_markdown":"We are writing a new app against an existing database. I&#39;m using Spring Data JPA, and simply doing a \r\n\r\n    MyRepository.save() \r\n\r\non my new entity, using \r\n\r\n    MyRepository extends CrudRepository&lt;MyThing, String&gt;\r\n\r\nI&#39;ve noticed in the logs that hibernate is doing a Select before the insert, and that they are taking a long time, even when using the indexes. \r\n\r\nI&#39;ve searched for this here, and the [answers I&#39;ve found][1] usually are related to Hibernate specifically. I&#39;m pretty new to JPA and it seems like JPA and Hibernate are pretty closely intertwined, at least when using it within the context of Spring Data. The linked answers suggest using Hibernate persist(), or somehow using a session, possibly from an entityManager? I haven&#39;t had to do anything with sessions or entityManagers, or any Hibernate API directly. So far I&#39;ve gotten simple inserts done with save() and a couple @Query in my Repositories.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7588657/force-hibernate-insert-without-select-statements","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>We are writing a new app against an existing database. I'm using Spring Data JPA, and simply doing a </p>\n\n<pre><code>MyRepository.save() \n</code></pre>\n\n<p>on my new entity, using </p>\n\n<pre><code>MyRepository extends CrudRepository&lt;MyThing, String&gt;\n</code></pre>\n\n<p>I've noticed in the logs that hibernate is doing a Select before the insert, and that they are taking a long time, even when using the indexes. </p>\n\n<p>I've searched for this here, and the <a href=\"https://stackoverflow.com/questions/7588657/force-hibernate-insert-without-select-statements\">answers I've found</a> usually are related to Hibernate specifically. I'm pretty new to JPA and it seems like JPA and Hibernate are pretty closely intertwined, at least when using it within the context of Spring Data. The linked answers suggest using Hibernate persist(), or somehow using a session, possibly from an entityManager? I haven't had to do anything with sessions or entityManagers, or any Hibernate API directly. So far I've gotten simple inserts done with save() and a couple @Query in my Repositories.</p>\n"},{"tags":["java","singleton","immutability","java-9"],"comments":[{"owner":{"account_id":8316464,"reputation":1047,"user_id":6249567,"display_name":"DamCx"},"score":1,"creation_date":1525090704,"post_id":50100249,"comment_id":87217264,"body_markdown":"Possible duplicate of [How can I implement @Singleton annotation?](https://stackoverflow.com/questions/18795041/how-can-i-implement-singleton-annotation)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18795041/how-can-i-implement-singleton-annotation\">How can I implement @Singleton annotation?</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1525273681,"post_id":50100249,"comment_id":87294092,"body_markdown":"When you are writing so many singletons that you are thinking about how to avoid the associated “boilerplate” (one line of code), you are doing something wrong.","body":"When you are writing so many singletons that you are thinking about how to avoid the associated “boilerplate” (one line of code), you are doing something wrong."}],"answers":[{"tags":[],"owner":{"account_id":2329372,"reputation":61,"user_id":2043153,"display_name":"lucas-ms"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525090818,"creation_date":1525090818,"answer_id":50100412,"question_id":50100249,"body_markdown":"In Java EJB you can use @Singleton:\r\n\r\n    @Singleton\r\n    @Startup\r\n    public class mySingleton {....}\r\n\r\nI Usually use it with @Startup as well.\r\n\r\nMore on Singleton [here][1]\r\n\r\nHope that helps. \r\n\r\n  [1]: https://docs.oracle.com/javaee/6/tutorial/doc/gipvi.html","title":"Do annotations for marking a class as singleton or immutable exist in Java 9?","body":"<p>In Java EJB you can use @Singleton:</p>\n\n<pre><code>@Singleton\n@Startup\npublic class mySingleton {....}\n</code></pre>\n\n<p>I Usually use it with @Startup as well.</p>\n\n<p>More on Singleton <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/gipvi.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Hope that helps. </p>\n"},{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1571768137,"creation_date":1525090857,"answer_id":50100426,"question_id":50100249,"body_markdown":"No, as far as I know, no such constructs exist in Java 9. Surely that would have been documented in the [list of new features][1].\r\n\r\n---\r\n\r\nAs a side note, Java EE has the [`@Singleton`][2] annotation, which specifies that a bean is a singleton.\r\n\r\n---\r\n\r\nAs a further side note there exists an extension to [Project Lombok][3] called \r\n[lombok-pg][4] which has an implementation of a [`@Singleton`][5] annotation:\r\n\r\n    @Singleton(style=Singleton.Style.HOLDER)\r\n    public class SingletonHolderExample {\r\n      private String s;\r\n\r\n      public void foo() {\r\n      }\r\n    }\r\n\r\nThis is equivalent to the following code:\r\n\r\n    public class SingletonHolderExample {\r\n\r\n      private static class SingletonHolderExampleHolder {\r\n        private static final SingletonHolderExample INSTANCE = new SingletonHolderExample();\r\n      }\r\n\r\n      public static SingletonHolderExample getInstance() {\r\n        return SingletonHolderExampleHolder.INSTANCE;\r\n      }\r\n\r\n      private String s;\r\n\r\n      public void foo() {\r\n      }\r\n    }\r\n\r\nNote that Lombok hooks iteslf into the compilation process, and modifies the classes. This is considered by some people as a &quot;hacky&quot; thing to do, and should perhaps be used with causion. Another downside is that you have to modify the IDE in order for it to understand what code Lombok generates. This is done by running the downloaded Lombok jar file.\r\n\r\nA good summary of how Lombok works, with its pros and cons, can be found [here][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/whatsnew/toc.htm#JSNEW-GUID-5B808B2F-E891-43CD-BF6E-78787E547071\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/ejb/Singleton.html\r\n  [3]: https://projectlombok.org/\r\n  [4]: https://github.com/peichhorn/lombok-pg\r\n  [5]: https://github.com/peichhorn/lombok-pg/wiki/%40Singleton\r\n  [6]: http://notatube.blogspot.se/2010/11/project-lombok-trick-explained.html","title":"Do annotations for marking a class as singleton or immutable exist in Java 9?","body":"<p>No, as far as I know, no such constructs exist in Java 9. Surely that would have been documented in the <a href=\"https://docs.oracle.com/javase/9/whatsnew/toc.htm#JSNEW-GUID-5B808B2F-E891-43CD-BF6E-78787E547071\" rel=\"nofollow noreferrer\">list of new features</a>.</p>\n\n<hr>\n\n<p>As a side note, Java EE has the <a href=\"https://docs.oracle.com/javaee/7/api/javax/ejb/Singleton.html\" rel=\"nofollow noreferrer\"><code>@Singleton</code></a> annotation, which specifies that a bean is a singleton.</p>\n\n<hr>\n\n<p>As a further side note there exists an extension to <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a> called \n<a href=\"https://github.com/peichhorn/lombok-pg\" rel=\"nofollow noreferrer\">lombok-pg</a> which has an implementation of a <a href=\"https://github.com/peichhorn/lombok-pg/wiki/%40Singleton\" rel=\"nofollow noreferrer\"><code>@Singleton</code></a> annotation:</p>\n\n<pre><code>@Singleton(style=Singleton.Style.HOLDER)\npublic class SingletonHolderExample {\n  private String s;\n\n  public void foo() {\n  }\n}\n</code></pre>\n\n<p>This is equivalent to the following code:</p>\n\n<pre><code>public class SingletonHolderExample {\n\n  private static class SingletonHolderExampleHolder {\n    private static final SingletonHolderExample INSTANCE = new SingletonHolderExample();\n  }\n\n  public static SingletonHolderExample getInstance() {\n    return SingletonHolderExampleHolder.INSTANCE;\n  }\n\n  private String s;\n\n  public void foo() {\n  }\n}\n</code></pre>\n\n<p>Note that Lombok hooks iteslf into the compilation process, and modifies the classes. This is considered by some people as a \"hacky\" thing to do, and should perhaps be used with causion. Another downside is that you have to modify the IDE in order for it to understand what code Lombok generates. This is done by running the downloaded Lombok jar file.</p>\n\n<p>A good summary of how Lombok works, with its pros and cons, can be found <a href=\"http://notatube.blogspot.se/2010/11/project-lombok-trick-explained.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20538,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"answer_count":2,"score":11,"last_activity_date":1666086967,"creation_date":1525090176,"question_id":50100249,"body_markdown":"In most programming languages, it is the developer&#39;s responsibility to write ***immutable, singleton classes*** etc. \r\n\r\nHowever, I feel like this is kind of ***repeated boilerplate code***. More recent programming languages provide better support for achieving this.\r\n\r\nHas Java 9 introduced any annotation or similar construct to mark a class as immutable or singleton?","title":"Do annotations for marking a class as singleton or immutable exist in Java 9?","body":"<p>In most programming languages, it is the developer's responsibility to write <em><strong>immutable, singleton classes</strong></em> etc.</p>\n<p>However, I feel like this is kind of <em><strong>repeated boilerplate code</strong></em>. More recent programming languages provide better support for achieving this.</p>\n<p>Has Java 9 introduced any annotation or similar construct to mark a class as immutable or singleton?</p>\n"},{"tags":["java","arrays","indexing","uppercase"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666084598,"post_id":74108421,"comment_id":130845954,"body_markdown":"You need an additional `int cursor = 0;`, then you can `j[cursor++] = u;` ..but better: do it in a list (mutable size;)(with one loop)..and return list.toArray();)","body":"You need an additional <code>int cursor = 0;</code>, then you can <code>j[cursor++] = u;</code> ..but better: do it in a list (mutable size;)(with one loop)..and return list.toArray();)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1666084752,"post_id":74108421,"comment_id":130846014,"body_markdown":"Do you get any `count` greater than zero? I ask this because you are checking if `x` is upper case, but `x` is the index, **not** the value at that index. Read about how to access elements of an array… Reading it will reveal how to add elements (hint: arrays don&#39;t have the method `add`).","body":"Do you get any <code>count</code> greater than zero? I ask this because you are checking if <code>x</code> is upper case, but <code>x</code> is the index, <b>not</b> the value at that index. Read about how to access elements of an array… Reading it will reveal how to add elements (hint: arrays don&#39;t have the method <code>add</code>)."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666084867,"post_id":74108421,"comment_id":130846044,"body_markdown":"Yes, 1st loop also does not, what it supposed to...!? :)) It should &quot;analyze&quot; the caracters of `st` not the &quot;indices&quot;","body":"Yes, 1st loop also does not, what it supposed to...!? :)) It should &quot;analyze&quot; the caracters of <code>st</code> not the &quot;indices&quot;"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666086877,"creation_date":1666086877,"answer_id":74109042,"question_id":74108421,"body_markdown":"As you can read from the comments, there are several ways to get the desired results. **Some** of them:\r\n\r\n**Approach 1**\r\n\r\n1. count := count of the uppercase letters\r\n2. Create an array of length count\r\n3. Set each element in this array to the index of the corresponding uppercase letter\r\n\r\nIn code:\r\n\r\n```\r\npublic static int[] allCapLocations(String st) {\r\n    int count = 0;\r\n    for (int i = 0; i &lt; st.length(); i++) {\r\n        char ch = st.charAt(i);\r\n        if (Character.isUpperCase(ch)) {\r\n            count++;\r\n        }\r\n    }\r\n\r\n    int[] uppercaseIndices = new int[count];\r\n    int cursor = 0;\r\n    for (int index = 0; index &lt; st.length(); index++) {\r\n        char ch = st.charAt(index);\r\n        if (Character.isUpperCase(ch)) {\r\n            uppercaseIndices[cursor] = index;\r\n            cursor++;\r\n        }\r\n    }\r\n    return uppercaseIndices;\r\n}\r\n```\r\n\r\n**Approach 2**\r\n\r\n1. Create an array of length text.length()\r\n2. Count the uppercase letters, and while counting, update the array.\r\n3. Return a copy of the partial array ranging from 0 to count - 1.\r\n\r\n```\r\npublic static int[] allCapLocations(String st) {\r\n    int[] uppercaseIndices = new int[st.length()];\r\n    int count = 0;\r\n    for (int index = 0; index &lt; st.length(); index++) {\r\n        char ch = st.charAt(index);\r\n        if (Character.isUpperCase(ch)) {\r\n            uppercaseIndices[count] = index;\r\n            count++;\r\n        }\r\n    }\r\n\r\n    return java.util.Arrays.copyOfRange(uppercaseIndices, 0, count);\r\n}\r\n```\r\n\r\n**Approach 3**\r\n\r\n1. list := an empty List\r\n2. Count the uppercase letters, and while counting, add elements to list.\r\n3. Return list.toArray()\r\n\r\nDrawback: as List uses complex types, the wrapper type `java.lang.Integer` instead of the primitive type `int` is used and returned by toArray(). That is, you have to either change the return type to `Integer[]` or convert the array.\r\n\r\n```\r\npublic static Integer[] allCapLocations(String st) {\r\n    List&lt;Integer&gt; uppercaseIndices = new ArrayList&lt;&gt;();\r\n    for (int index = 0; index &lt; st.length(); index++) {\r\n        char ch = st.charAt(index);\r\n        if (Character.isUpperCase(ch)) {\r\n            uppercaseIndices.add(index);\r\n        }\r\n    }\r\n    return uppercaseIndices.toArray(new Integer[0]);\r\n}\r\n```\r\n\r\n**Approach 4**\r\n\r\n1. Use a stream of indices in the range between 0 and st.length()\r\n2. Filter the stream to retain only those indices that point to an uppercase character in st.\r\n3. Return an array from the resulting stream.\r\n\r\n```\r\npublic static int[] allCapLocations(String st) {\r\n    return IntStream.range(0, st.length())\r\n            .filter(index -&gt; Character.isUpperCase(st.charAt(index)))\r\n            .toArray();\r\n}\r\n```\r\n\r\n","title":"How to add the index of every uppercase character in a string in Java?","body":"<p>As you can read from the comments, there are several ways to get the desired results. <strong>Some</strong> of them:</p>\n<p><strong>Approach 1</strong></p>\n<ol>\n<li>count := count of the uppercase letters</li>\n<li>Create an array of length count</li>\n<li>Set each element in this array to the index of the corresponding uppercase letter</li>\n</ol>\n<p>In code:</p>\n<pre><code>public static int[] allCapLocations(String st) {\n    int count = 0;\n    for (int i = 0; i &lt; st.length(); i++) {\n        char ch = st.charAt(i);\n        if (Character.isUpperCase(ch)) {\n            count++;\n        }\n    }\n\n    int[] uppercaseIndices = new int[count];\n    int cursor = 0;\n    for (int index = 0; index &lt; st.length(); index++) {\n        char ch = st.charAt(index);\n        if (Character.isUpperCase(ch)) {\n            uppercaseIndices[cursor] = index;\n            cursor++;\n        }\n    }\n    return uppercaseIndices;\n}\n</code></pre>\n<p><strong>Approach 2</strong></p>\n<ol>\n<li>Create an array of length text.length()</li>\n<li>Count the uppercase letters, and while counting, update the array.</li>\n<li>Return a copy of the partial array ranging from 0 to count - 1.</li>\n</ol>\n<pre><code>public static int[] allCapLocations(String st) {\n    int[] uppercaseIndices = new int[st.length()];\n    int count = 0;\n    for (int index = 0; index &lt; st.length(); index++) {\n        char ch = st.charAt(index);\n        if (Character.isUpperCase(ch)) {\n            uppercaseIndices[count] = index;\n            count++;\n        }\n    }\n\n    return java.util.Arrays.copyOfRange(uppercaseIndices, 0, count);\n}\n</code></pre>\n<p><strong>Approach 3</strong></p>\n<ol>\n<li>list := an empty List</li>\n<li>Count the uppercase letters, and while counting, add elements to list.</li>\n<li>Return list.toArray()</li>\n</ol>\n<p>Drawback: as List uses complex types, the wrapper type <code>java.lang.Integer</code> instead of the primitive type <code>int</code> is used and returned by toArray(). That is, you have to either change the return type to <code>Integer[]</code> or convert the array.</p>\n<pre><code>public static Integer[] allCapLocations(String st) {\n    List&lt;Integer&gt; uppercaseIndices = new ArrayList&lt;&gt;();\n    for (int index = 0; index &lt; st.length(); index++) {\n        char ch = st.charAt(index);\n        if (Character.isUpperCase(ch)) {\n            uppercaseIndices.add(index);\n        }\n    }\n    return uppercaseIndices.toArray(new Integer[0]);\n}\n</code></pre>\n<p><strong>Approach 4</strong></p>\n<ol>\n<li>Use a stream of indices in the range between 0 and st.length()</li>\n<li>Filter the stream to retain only those indices that point to an uppercase character in st.</li>\n<li>Return an array from the resulting stream.</li>\n</ol>\n<pre><code>public static int[] allCapLocations(String st) {\n    return IntStream.range(0, st.length())\n            .filter(index -&gt; Character.isUpperCase(st.charAt(index)))\n            .toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74109042,"answer_count":1,"score":0,"last_activity_date":1666086877,"creation_date":1666084289,"question_id":74108421,"body_markdown":"I&#39;m trying to create a class `Capslock` which will take in a string and return an `int[]` of the indexes of the character in uppercase. Here is my code so far:\r\n\r\n    public class Capslock {\r\n        public static int[] allCapLocations(String st) {\r\n            int count = 0;\r\n            for (int x = 0; x &lt; st.length(); x++) {\r\n                if (Character.isUpperCase(x)) {\r\n                    count++;\r\n                }\r\n            }\r\n            int[] j = new int[count];\r\n            for (int u = 0; u &lt; st.length(); u++) {\r\n                if (Character.isUpperCase(u)) {\r\n                    j.add(u);\r\n                }\r\n\r\nI&#39;m struggling to understand how to add `u` into my `int[] j`. Can anyone please explain?\r\n\r\n","title":"How to add the index of every uppercase character in a string in Java?","body":"<p>I'm trying to create a class <code>Capslock</code> which will take in a string and return an <code>int[]</code> of the indexes of the character in uppercase. Here is my code so far:</p>\n<pre><code>public class Capslock {\n    public static int[] allCapLocations(String st) {\n        int count = 0;\n        for (int x = 0; x &lt; st.length(); x++) {\n            if (Character.isUpperCase(x)) {\n                count++;\n            }\n        }\n        int[] j = new int[count];\n        for (int u = 0; u &lt; st.length(); u++) {\n            if (Character.isUpperCase(u)) {\n                j.add(u);\n            }\n</code></pre>\n<p>I'm struggling to understand how to add <code>u</code> into my <code>int[] j</code>. Can anyone please explain?</p>\n"},{"tags":["java","android","react-native","google-mlkit"],"answers":[{"tags":[],"owner":{"account_id":18397088,"reputation":226,"user_id":13401226,"display_name":"zhouyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665989465,"creation_date":1665989465,"answer_id":74093476,"question_id":74052196,"body_markdown":"#process is an async call so the #onSuccess callback could be called after the method return.","title":"Java map.putString not working within listener","body":"<p>#process is an async call so the #onSuccess callback could be called after the method return.</p>\n"},{"tags":[],"owner":{"account_id":20796824,"reputation":33,"user_id":15273674,"display_name":"Mees Maas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666086685,"creation_date":1666086685,"answer_id":74108999,"question_id":74052196,"body_markdown":"Okay so to solve the problem I used a notifier as following:\r\n\r\n```\r\n    @Override\r\n    public Object callback(ImageProxy imageProxy, Object[] params) {\r\n        // Added this\r\n        final AtomicReference&lt;WritableNativeMap&gt; notifier = new AtomicReference();\r\n\r\n        WritableNativeMap writableNativeMap = new WritableNativeMap();\r\n\r\n        BarcodeScannerOptions options =\r\n                new BarcodeScannerOptions.Builder()\r\n                        .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\r\n                        .build();\r\n\r\n        Image mediaImage = imageProxy.getImage();\r\n\r\n        final List&lt;Barcode&gt;[] barcodesList = new List[]{Collections.&lt;Barcode&gt;emptyList()};\r\n\r\n        if (mediaImage != null) {\r\n            InputImage image =\r\n                    InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\r\n\r\n            BarcodeScanner scanner = BarcodeScanning.getClient(options);\r\n\r\n            Task &lt; List &lt; Barcode &gt;&gt; result = scanner.process(image);\r\n\r\n            result.addOnSuccessListener(new OnSuccessListener &lt; List &lt; Barcode &gt;&gt; () {\r\n                @Override\r\n                public void onSuccess(List &lt; Barcode &gt; barcodes) {\r\n                    if (barcodes.size() &gt; 0){\r\n                        Barcode barcode = barcodes.get(0);\r\n\r\n                        int valueType = barcode.getValueType();\r\n\r\n                        switch (valueType) {\r\n                            case Barcode.TYPE_TEXT:\r\n                                writableNativeMap.putString(&quot;type&quot;, &quot;TEXT&quot;);\r\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getRawValue());\r\n                                break;\r\n                            case Barcode.TYPE_URL:\r\n                                writableNativeMap.putString(&quot;type&quot;, &quot;URL&quot;);\r\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getUrl().getUrl());\r\n                                break;\r\n                            default:\r\n                                writableNativeMap.putString(&quot;type&quot;, &quot;OTHER&quot;);\r\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getRawValue());\r\n                        }\r\n                    }\r\n\r\n                    // Added this\r\n                    synchronized (notifier) {\r\n                        notifier.set(writableNativeMap);\r\n                        notifier.notify();\r\n                    }\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    // Added this\r\n                    synchronized (notifier) {\r\n                        notifier.set(writableNativeMap);\r\n                        notifier.notify();\r\n                    }\r\n                }\r\n            })\r\n            .addOnCompleteListener(results -&gt; imageProxy.close());\r\n        }\r\n\r\n        // Added this\r\n        synchronized (notifier) {\r\n            while (notifier.get() == null) {\r\n                try {\r\n                    notifier.wait();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n\r\n        return notifier.get();\r\n    }\r\n\r\n```","title":"Java map.putString not working within listener","body":"<p>Okay so to solve the problem I used a notifier as following:</p>\n<pre><code>    @Override\n    public Object callback(ImageProxy imageProxy, Object[] params) {\n        // Added this\n        final AtomicReference&lt;WritableNativeMap&gt; notifier = new AtomicReference();\n\n        WritableNativeMap writableNativeMap = new WritableNativeMap();\n\n        BarcodeScannerOptions options =\n                new BarcodeScannerOptions.Builder()\n                        .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\n                        .build();\n\n        Image mediaImage = imageProxy.getImage();\n\n        final List&lt;Barcode&gt;[] barcodesList = new List[]{Collections.&lt;Barcode&gt;emptyList()};\n\n        if (mediaImage != null) {\n            InputImage image =\n                    InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n\n            BarcodeScanner scanner = BarcodeScanning.getClient(options);\n\n            Task &lt; List &lt; Barcode &gt;&gt; result = scanner.process(image);\n\n            result.addOnSuccessListener(new OnSuccessListener &lt; List &lt; Barcode &gt;&gt; () {\n                @Override\n                public void onSuccess(List &lt; Barcode &gt; barcodes) {\n                    if (barcodes.size() &gt; 0){\n                        Barcode barcode = barcodes.get(0);\n\n                        int valueType = barcode.getValueType();\n\n                        switch (valueType) {\n                            case Barcode.TYPE_TEXT:\n                                writableNativeMap.putString(&quot;type&quot;, &quot;TEXT&quot;);\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getRawValue());\n                                break;\n                            case Barcode.TYPE_URL:\n                                writableNativeMap.putString(&quot;type&quot;, &quot;URL&quot;);\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getUrl().getUrl());\n                                break;\n                            default:\n                                writableNativeMap.putString(&quot;type&quot;, &quot;OTHER&quot;);\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getRawValue());\n                        }\n                    }\n\n                    // Added this\n                    synchronized (notifier) {\n                        notifier.set(writableNativeMap);\n                        notifier.notify();\n                    }\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    // Added this\n                    synchronized (notifier) {\n                        notifier.set(writableNativeMap);\n                        notifier.notify();\n                    }\n                }\n            })\n            .addOnCompleteListener(results -&gt; imageProxy.close());\n        }\n\n        // Added this\n        synchronized (notifier) {\n            while (notifier.get() == null) {\n                try {\n                    notifier.wait();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n\n        return notifier.get();\n    }\n\n</code></pre>\n"}],"owner":{"account_id":20796824,"reputation":33,"user_id":15273674,"display_name":"Mees Maas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74108999,"answer_count":2,"score":0,"last_activity_date":1666086685,"creation_date":1665647436,"question_id":74052196,"body_markdown":"I am working on a program in Java that is reading QR codes from images. I have the following code: \r\n\r\n```\r\n@Override\r\n    public Object callback(ImageProxy imageProxy, Object[] params) {\r\n        WritableNativeMap writableNativeMap = new WritableNativeMap();\r\n\r\n        BarcodeScannerOptions options =\r\n                new BarcodeScannerOptions.Builder()\r\n                        .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\r\n                        .build();\r\n\r\n        Image mediaImage = imageProxy.getImage();\r\n\r\n        final List&lt;Barcode&gt;[] barcodesList = new List[]{Collections.&lt;Barcode&gt;emptyList()};\r\n\r\n        if (mediaImage != null) {\r\n            InputImage image =\r\n                    InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\r\n\r\n            BarcodeScanner scanner = BarcodeScanning.getClient(options);\r\n\r\n            Task &lt; List &lt; Barcode &gt;&gt; result = scanner.process(image);\r\n\r\n            result.addOnSuccessListener(new OnSuccessListener &lt; List &lt; Barcode &gt;&gt; () {\r\n                @Override\r\n                public void onSuccess(List &lt; Barcode &gt; barcodes) {\r\n                    for (Barcode barcode: barcodes) {\r\n                        int valueType = barcode.getValueType();\r\n\r\n                        switch (valueType) {\r\n                            case Barcode.TYPE_TEXT:\r\n                                // TODO\r\n                            case Barcode.TYPE_URL:\r\n                                Log.d(TAG, barcode.getUrl().getUrl());\r\n                                writableNativeMap.putString(&quot;URL&quot;, barcode.getUrl().getUrl());\r\n                                // TODO\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    // ...\r\n                }\r\n            })\r\n            .addOnCompleteListener(results -&gt; imageProxy.close());\r\n        }\r\n\r\n        return writableNativeMap;\r\n    }\r\n```\r\n\r\nWhen I call this function it will return `{}`. Even when it reached the `Log.d` statement in the `Barcode.TYPE_URL` case. So I know that it is putting stuff in the writableNativeMap. When I do a `.putString` just before the return statement then it works. Can someone help me with this?","title":"Java map.putString not working within listener","body":"<p>I am working on a program in Java that is reading QR codes from images. I have the following code:</p>\n<pre><code>@Override\n    public Object callback(ImageProxy imageProxy, Object[] params) {\n        WritableNativeMap writableNativeMap = new WritableNativeMap();\n\n        BarcodeScannerOptions options =\n                new BarcodeScannerOptions.Builder()\n                        .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\n                        .build();\n\n        Image mediaImage = imageProxy.getImage();\n\n        final List&lt;Barcode&gt;[] barcodesList = new List[]{Collections.&lt;Barcode&gt;emptyList()};\n\n        if (mediaImage != null) {\n            InputImage image =\n                    InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n\n            BarcodeScanner scanner = BarcodeScanning.getClient(options);\n\n            Task &lt; List &lt; Barcode &gt;&gt; result = scanner.process(image);\n\n            result.addOnSuccessListener(new OnSuccessListener &lt; List &lt; Barcode &gt;&gt; () {\n                @Override\n                public void onSuccess(List &lt; Barcode &gt; barcodes) {\n                    for (Barcode barcode: barcodes) {\n                        int valueType = barcode.getValueType();\n\n                        switch (valueType) {\n                            case Barcode.TYPE_TEXT:\n                                // TODO\n                            case Barcode.TYPE_URL:\n                                Log.d(TAG, barcode.getUrl().getUrl());\n                                writableNativeMap.putString(&quot;URL&quot;, barcode.getUrl().getUrl());\n                                // TODO\n                                break;\n                        }\n                    }\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    // ...\n                }\n            })\n            .addOnCompleteListener(results -&gt; imageProxy.close());\n        }\n\n        return writableNativeMap;\n    }\n</code></pre>\n<p>When I call this function it will return <code>{}</code>. Even when it reached the <code>Log.d</code> statement in the <code>Barcode.TYPE_URL</code> case. So I know that it is putting stuff in the writableNativeMap. When I do a <code>.putString</code> just before the return statement then it works. Can someone help me with this?</p>\n"},{"tags":["java","scala","visual-studio-code","java-8","scala-metals"],"comments":[{"owner":{"account_id":3475577,"reputation":285,"user_id":2908871,"display_name":"hughj"},"score":1,"creation_date":1641504757,"post_id":70609825,"comment_id":124828156,"body_markdown":"It sounds like the metals installer can&#39;t get a JVM to run utils.  You might try:\n1) verify that the path &#39;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&#39; is valid.\n2) make sure your vscode can find java.  see https://code.visualstudio.com/docs/languages/java\n\nMetals is probably trying to download bits from the net and that is failing for some reason.  The proxy thing is usually only an issue if you are doing this in the office and they proxy the internet.","body":"It sounds like the metals installer can&#39;t get a JVM to run utils.  You might try: 1) verify that the path &#39;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&#39; is valid. 2) make sure your vscode can find java.  see <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/languages/java</a>  Metals is probably trying to download bits from the net and that is failing for some reason.  The proxy thing is usually only an issue if you are doing this in the office and they proxy the internet."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666086623,"post_id":70609825,"comment_id":130846642,"body_markdown":"Does this answer your question? [Why should JAVA\\_HOME environment variable value point to SDK directory instead of bin?](https://stackoverflow.com/questions/30241171/why-should-java-home-environment-variable-value-point-to-sdk-directory-instead-o)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30241171/why-should-java-home-environment-variable-value-point-to-sdk-directory-instead-o\">Why should JAVA_HOME environment variable value point to SDK directory instead of bin?</a>"}],"answers":[{"tags":[],"owner":{"account_id":296726,"reputation":665,"user_id":601855,"display_name":"Beege"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654270684,"creation_date":1654270684,"answer_id":72491999,"question_id":70609825,"body_markdown":"@hughj is correct. I had the same problem and reviewing/updating my java install and configuration allowed the Metals extension to download.","title":"Downloading Metals (Vscode Scala extension) failed with the following: spawn C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin\\bin\\java ENOENT","body":"<p>@hughj is correct. I had the same problem and reviewing/updating my java install and configuration allowed the Metals extension to download.</p>\n"},{"tags":[],"owner":{"account_id":2437777,"reputation":123,"user_id":2127217,"display_name":"Jeremy Townson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666085666,"creation_date":1666085666,"answer_id":74108763,"question_id":70609825,"body_markdown":"Your JAVA_HOME should _not_ have the bin part at the end. i.e. it should be C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\","title":"Downloading Metals (Vscode Scala extension) failed with the following: spawn C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin\\bin\\java ENOENT","body":"<p>Your JAVA_HOME should <em>not</em> have the bin part at the end. i.e. it should be C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\</p>\n"}],"owner":{"account_id":23847861,"reputation":61,"user_id":17852147,"display_name":"Karrine_Pope"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2458,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1666086679,"creation_date":1641484409,"question_id":70609825,"body_markdown":"I&#39;m trying to run a Scala program on the vscode. I tried downloading Scala (Metals) Extension but it gives me the following error.\r\n\r\nFailed to download Metals, make sure you have an internet connection and the Java Home &#39;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&#39; is valid. You can configure the Java Home in the settings.\r\nSee https://scalameta.org/metals/docs/editors/vscode.html#http-proxy for instructions if you are using an HTTP proxy.\r\n\r\nI&#39;m not using any proxy. I checked my environment variables and the JAVA_HOME system variable is set to &quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&quot;\r\n\r\nI have Java 8 installed on my machine but not on VSCODE. Can that be a problem?\r\n\r\n","title":"Downloading Metals (Vscode Scala extension) failed with the following: spawn C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin\\bin\\java ENOENT","body":"<p>I'm trying to run a Scala program on the vscode. I tried downloading Scala (Metals) Extension but it gives me the following error.</p>\n<p>Failed to download Metals, make sure you have an internet connection and the Java Home 'C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin' is valid. You can configure the Java Home in the settings.\nSee <a href=\"https://scalameta.org/metals/docs/editors/vscode.html#http-proxy\" rel=\"nofollow noreferrer\">https://scalameta.org/metals/docs/editors/vscode.html#http-proxy</a> for instructions if you are using an HTTP proxy.</p>\n<p>I'm not using any proxy. I checked my environment variables and the JAVA_HOME system variable is set to &quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&quot;</p>\n<p>I have Java 8 installed on my machine but not on VSCODE. Can that be a problem?</p>\n"},{"tags":["java","amazon-s3","zipinputstream"],"answers":[{"tags":[],"owner":{"account_id":998999,"reputation":17775,"user_id":1032504,"accept_rate":80,"display_name":"Michel Feldheim"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571837829,"creation_date":1571833659,"answer_id":58522878,"question_id":58497808,"body_markdown":"The problem is your inner while loop. Basically you&#39;re reading 1024 bytes from the ZipInputStream and upload those into S3.\r\nInstead of streaming into S3, you will overwrite the target key again and again and again.\r\n\r\nThe solution to this is a bit more complex because you don&#39;t have one stream per file but one stream per zip container.\r\nThis means you can&#39;t do something like below because the stream will be closed by AWS after the first upload is done\r\n\r\n\r\n    // Not possible\r\n    PutObjectRequest request = new PutObjectRequest(targetBucket, name, \r\n    zipInputStream, meta);\r\n\r\n\r\nYou have to write the ZipInputStream into a PipedOutputStream object - for each of the ZipEntry positions.\r\nBelow is a working example\r\n\r\n\r\n    import com.amazonaws.auth.profile.ProfileCredentialsProvider;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\n    import com.amazonaws.services.s3.model.GetObjectRequest;\r\n    import com.amazonaws.services.s3.model.ObjectMetadata;\r\n    import com.amazonaws.services.s3.model.PutObjectRequest;\r\n    import com.amazonaws.services.s3.model.S3Object;\r\n    import com.amazonaws.services.s3.transfer.TransferManager;\r\n    import com.amazonaws.services.s3.transfer.TransferManagerBuilder;\r\n    \r\n    import java.io.*;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipInputStream;\r\n    \r\n    public class Pipes {\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Regions clientRegion = Regions.DEFAULT;\r\n            String sourceBucket = &quot;&lt;sourceBucket&gt;&quot;;\r\n            String key = &quot;&lt;sourceArchive.zip&gt;&quot;;\r\n            String targetBucket = &quot;&lt;targetBucket&gt;&quot;;\r\n    \r\n            PipedOutputStream out = null;\r\n            PipedInputStream in = null;\r\n            S3Object s3Object = null;\r\n            ZipInputStream zipInputStream = null;\r\n    \r\n            try {\r\n                AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n                        .withRegion(clientRegion)\r\n                        .withCredentials(new ProfileCredentialsProvider())\r\n                        .build();\r\n    \r\n                TransferManager transferManager = TransferManagerBuilder.standard()\r\n                        .withS3Client(s3Client)\r\n                        .build();\r\n    \r\n                System.out.println(&quot;Downloading an object&quot;);\r\n                s3Object = s3Client.getObject(new GetObjectRequest(sourceBucket, key));\r\n                zipInputStream = new ZipInputStream(s3Object.getObjectContent());\r\n    \r\n                ZipEntry zipEntry;\r\n                while (null != (zipEntry = zipInputStream.getNextEntry())) {\r\n    \r\n                    long size = zipEntry.getSize();\r\n                    String name = zipEntry.getName();\r\n                    if (zipEntry.isDirectory()) {\r\n                        System.out.println(&quot;Skipping directory &quot; + name);\r\n                        continue;\r\n                    }\r\n    \r\n                    System.out.printf(&quot;Processing ZipEntry %s : %d bytes\\n&quot;, name, size);\r\n    \r\n                    // take the copy of the stream and re-write it to an InputStream\r\n                    out = new PipedOutputStream();\r\n                    in = new PipedInputStream(out);\r\n    \r\n                    ObjectMetadata metadata = new ObjectMetadata();\r\n                    metadata.setContentLength(size);\r\n    \r\n                    PutObjectRequest request = new PutObjectRequest(targetBucket, name, in, metadata);\r\n    \r\n                    transferManager.upload(request);\r\n    \r\n                    long actualSize = copy(zipInputStream, out, 1024);\r\n                    if (actualSize != size) {\r\n                        throw new RuntimeException(&quot;Filesize of ZipEntry &quot; + name + &quot; is wrong&quot;);\r\n                    }\r\n    \r\n                    out.flush();\r\n                    out.close();\r\n                }\r\n            } finally {\r\n                if (out != null) {\r\n                    out.close();\r\n                }\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n                if (s3Object != null) {\r\n                    s3Object.close();\r\n                }\r\n                if (zipInputStream != null) {\r\n                    zipInputStream.close();\r\n                }\r\n                System.exit(0);\r\n            }\r\n        }\r\n    \r\n        private static long copy(final InputStream input, final OutputStream output, final int buffersize) throws IOException {\r\n            if (buffersize &lt; 1) {\r\n                throw new IllegalArgumentException(&quot;buffersize must be bigger than 0&quot;);\r\n            }\r\n            final byte[] buffer = new byte[buffersize];\r\n            int n = 0;\r\n            long count=0;\r\n            while (-1 != (n = input.read(buffer))) {\r\n                output.write(buffer, 0, n);\r\n                count += n;\r\n            }\r\n            return count;\r\n        }\r\n    }\r\n\r\n","title":"Is there any way to upload extracted zip file using &quot;java.util.zip&quot; to AWS-S3 using multipart upload (Java high level API)","body":"<p>The problem is your inner while loop. Basically you're reading 1024 bytes from the ZipInputStream and upload those into S3.\nInstead of streaming into S3, you will overwrite the target key again and again and again.</p>\n\n<p>The solution to this is a bit more complex because you don't have one stream per file but one stream per zip container.\nThis means you can't do something like below because the stream will be closed by AWS after the first upload is done</p>\n\n<pre><code>// Not possible\nPutObjectRequest request = new PutObjectRequest(targetBucket, name, \nzipInputStream, meta);\n</code></pre>\n\n<p>You have to write the ZipInputStream into a PipedOutputStream object - for each of the ZipEntry positions.\nBelow is a working example</p>\n\n<pre><code>import com.amazonaws.auth.profile.ProfileCredentialsProvider;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.GetObjectRequest;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\nimport com.amazonaws.services.s3.model.PutObjectRequest;\nimport com.amazonaws.services.s3.model.S3Object;\nimport com.amazonaws.services.s3.transfer.TransferManager;\nimport com.amazonaws.services.s3.transfer.TransferManagerBuilder;\n\nimport java.io.*;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\n\npublic class Pipes {\n    public static void main(String[] args) throws IOException {\n\n        Regions clientRegion = Regions.DEFAULT;\n        String sourceBucket = \"&lt;sourceBucket&gt;\";\n        String key = \"&lt;sourceArchive.zip&gt;\";\n        String targetBucket = \"&lt;targetBucket&gt;\";\n\n        PipedOutputStream out = null;\n        PipedInputStream in = null;\n        S3Object s3Object = null;\n        ZipInputStream zipInputStream = null;\n\n        try {\n            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n                    .withRegion(clientRegion)\n                    .withCredentials(new ProfileCredentialsProvider())\n                    .build();\n\n            TransferManager transferManager = TransferManagerBuilder.standard()\n                    .withS3Client(s3Client)\n                    .build();\n\n            System.out.println(\"Downloading an object\");\n            s3Object = s3Client.getObject(new GetObjectRequest(sourceBucket, key));\n            zipInputStream = new ZipInputStream(s3Object.getObjectContent());\n\n            ZipEntry zipEntry;\n            while (null != (zipEntry = zipInputStream.getNextEntry())) {\n\n                long size = zipEntry.getSize();\n                String name = zipEntry.getName();\n                if (zipEntry.isDirectory()) {\n                    System.out.println(\"Skipping directory \" + name);\n                    continue;\n                }\n\n                System.out.printf(\"Processing ZipEntry %s : %d bytes\\n\", name, size);\n\n                // take the copy of the stream and re-write it to an InputStream\n                out = new PipedOutputStream();\n                in = new PipedInputStream(out);\n\n                ObjectMetadata metadata = new ObjectMetadata();\n                metadata.setContentLength(size);\n\n                PutObjectRequest request = new PutObjectRequest(targetBucket, name, in, metadata);\n\n                transferManager.upload(request);\n\n                long actualSize = copy(zipInputStream, out, 1024);\n                if (actualSize != size) {\n                    throw new RuntimeException(\"Filesize of ZipEntry \" + name + \" is wrong\");\n                }\n\n                out.flush();\n                out.close();\n            }\n        } finally {\n            if (out != null) {\n                out.close();\n            }\n            if (in != null) {\n                in.close();\n            }\n            if (s3Object != null) {\n                s3Object.close();\n            }\n            if (zipInputStream != null) {\n                zipInputStream.close();\n            }\n            System.exit(0);\n        }\n    }\n\n    private static long copy(final InputStream input, final OutputStream output, final int buffersize) throws IOException {\n        if (buffersize &lt; 1) {\n            throw new IllegalArgumentException(\"buffersize must be bigger than 0\");\n        }\n        final byte[] buffer = new byte[buffersize];\n        int n = 0;\n        long count=0;\n        while (-1 != (n = input.read(buffer))) {\n            output.write(buffer, 0, n);\n            count += n;\n        }\n        return count;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5576966,"reputation":609,"user_id":4420094,"accept_rate":80,"display_name":"nejckorasa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666086168,"creation_date":1666086168,"answer_id":74108883,"question_id":58497808,"body_markdown":"I faced a similar problem and have solved it by utilising Java s3 sdk library. As you say key here is that since the files are large you want to &quot;stream&quot; the content, without keeping any data in memory or writing to disk.\r\n\r\nI&#39;ve made a library that can be used for this purpose and is available in [Maven Central][1], here is the GitHub link: [nejckorasa/s3-stream-unzip][2]\r\n\r\n\r\n  [1]: https://search.maven.org/search?q=a:s3-stream-unzip\r\n  [2]: https://github.com/nejckorasa/s3-stream-unzip","title":"Is there any way to upload extracted zip file using &quot;java.util.zip&quot; to AWS-S3 using multipart upload (Java high level API)","body":"<p>I faced a similar problem and have solved it by utilising Java s3 sdk library. As you say key here is that since the files are large you want to &quot;stream&quot; the content, without keeping any data in memory or writing to disk.</p>\n<p>I've made a library that can be used for this purpose and is available in <a href=\"https://search.maven.org/search?q=a:s3-stream-unzip\" rel=\"nofollow noreferrer\">Maven Central</a>, here is the GitHub link: <a href=\"https://github.com/nejckorasa/s3-stream-unzip\" rel=\"nofollow noreferrer\">nejckorasa/s3-stream-unzip</a></p>\n"}],"owner":{"account_id":11243844,"reputation":71,"user_id":8247178,"display_name":"Shajesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2252,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666086168,"creation_date":1571723472,"question_id":58497808,"body_markdown":"Need to upload a large file to AWS S3 using multipart-upload using stream instead of using /tmp of lambda.The file is uploaded but not uploading completely.\r\n\r\nIn my case the size of each file in zip cannot be predicted, may be a file goes up to 1 Gib of size.So I used ZipInputStream to read from S3 and I want to upload it back to S3.Since I am working on lambda, I cannot save the file in /tmp of lambda due to the large file size.So I tried to read and upload directly to S3 without saving in /tmp using S3-multipart upload.\r\nBut I faced an issue that the file is not writing completely.I suspect that the file is overwritten every time. Please review my code and help.\r\n\r\n\tpublic void zipAndUpload {\r\n\t\tbyte[] buffer = new byte[1024];\r\n        try{\r\n       \tFile folder = new File(outputFolder);\r\n       \tif(!folder.exists()){\r\n       \t\tfolder.mkdir();\r\n       \t}\r\n       \t\t\r\n       \tAmazonS3 s3Client = AmazonS3ClientBuilder.defaultClient();  \r\n    \tS3Object object = s3Client.getObject(&quot;mybucket.s3.com&quot;,&quot;MyFilePath/MyZip.zip&quot;);\r\n    \t\r\n    \tTransferManager tm = TransferManagerBuilder.standard()\r\n                .withS3Client(s3Client)\r\n                .build();\r\n    \t\r\n       \tZipInputStream zis = \r\n       \t\tnew ZipInputStream(object.getObjectContent());\r\n       \tZipEntry ze = zis.getNextEntry();\r\n\r\n       \twhile(ze!=null){\t\r\n       \tString fileName = ze.getName();\r\n       \tSystem.out.println(&quot;ZE &quot; + ze + &quot; : &quot; + fileName);\r\n       \t\r\n              File newFile = new File(outputFolder + File.separator + fileName);\r\n              if (ze.isDirectory()) {\r\n            \t  System.out.println(&quot;DIRECTORY&quot; + newFile.mkdirs());\r\n              }\r\n              else {\r\n            \t  filePaths.add(newFile);\r\n            \t  int len;\r\n            \t  while ((len = zis.read(buffer)) &gt; 0) {\r\n\r\n            \t\t  ObjectMetadata meta = new ObjectMetadata();\r\n            \t\t  meta.setContentLength(len);\r\n            \t\t  InputStream targetStream = new ByteArrayInputStream(buffer);\r\n\r\n            \t\t  PutObjectRequest request = new PutObjectRequest(&quot;mybucket.s3.com&quot;, fileName, targetStream ,meta); \r\n            \t\t  request.setGeneralProgressListener(new ProgressListener() {\r\n                          public void progressChanged(ProgressEvent progressEvent) {\r\n                              System.out.println(&quot;Transferred bytes: &quot; + progressEvent.getBytesTransferred());\r\n                          }\r\n                      });\r\n            \t\t  Upload upload = tm.upload(request);\r\n                     }\r\n              }  \r\n               ze = zis.getNextEntry();\r\n       \t}\r\n       \t\r\n           zis.closeEntry();\r\n\t\t   zis.close();\t\r\n       \t   System.out.println(&quot;Done&quot;);\t\r\n       }catch(IOException ex){\r\n          ex.printStackTrace(); \r\n       }\r\n\t\t}","title":"Is there any way to upload extracted zip file using &quot;java.util.zip&quot; to AWS-S3 using multipart upload (Java high level API)","body":"<p>Need to upload a large file to AWS S3 using multipart-upload using stream instead of using /tmp of lambda.The file is uploaded but not uploading completely.</p>\n\n<p>In my case the size of each file in zip cannot be predicted, may be a file goes up to 1 Gib of size.So I used ZipInputStream to read from S3 and I want to upload it back to S3.Since I am working on lambda, I cannot save the file in /tmp of lambda due to the large file size.So I tried to read and upload directly to S3 without saving in /tmp using S3-multipart upload.\nBut I faced an issue that the file is not writing completely.I suspect that the file is overwritten every time. Please review my code and help.</p>\n\n<pre><code>public void zipAndUpload {\n    byte[] buffer = new byte[1024];\n    try{\n    File folder = new File(outputFolder);\n    if(!folder.exists()){\n        folder.mkdir();\n    }\n\n    AmazonS3 s3Client = AmazonS3ClientBuilder.defaultClient();  \n    S3Object object = s3Client.getObject(\"mybucket.s3.com\",\"MyFilePath/MyZip.zip\");\n\n    TransferManager tm = TransferManagerBuilder.standard()\n            .withS3Client(s3Client)\n            .build();\n\n    ZipInputStream zis = \n        new ZipInputStream(object.getObjectContent());\n    ZipEntry ze = zis.getNextEntry();\n\n    while(ze!=null){    \n    String fileName = ze.getName();\n    System.out.println(\"ZE \" + ze + \" : \" + fileName);\n\n          File newFile = new File(outputFolder + File.separator + fileName);\n          if (ze.isDirectory()) {\n              System.out.println(\"DIRECTORY\" + newFile.mkdirs());\n          }\n          else {\n              filePaths.add(newFile);\n              int len;\n              while ((len = zis.read(buffer)) &gt; 0) {\n\n                  ObjectMetadata meta = new ObjectMetadata();\n                  meta.setContentLength(len);\n                  InputStream targetStream = new ByteArrayInputStream(buffer);\n\n                  PutObjectRequest request = new PutObjectRequest(\"mybucket.s3.com\", fileName, targetStream ,meta); \n                  request.setGeneralProgressListener(new ProgressListener() {\n                      public void progressChanged(ProgressEvent progressEvent) {\n                          System.out.println(\"Transferred bytes: \" + progressEvent.getBytesTransferred());\n                      }\n                  });\n                  Upload upload = tm.upload(request);\n                 }\n          }  \n           ze = zis.getNextEntry();\n    }\n\n       zis.closeEntry();\n       zis.close(); \n       System.out.println(\"Done\");  \n   }catch(IOException ex){\n      ex.printStackTrace(); \n   }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","weblogic","weblogic12c","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649856368,"creation_date":1649856368,"answer_id":71858285,"question_id":71510442,"body_markdown":"There is a major issue due to dependencies incompatibility. Unfortunately, Weblogic uses Jersey 2.x but Eureka use 1.9.x and this makes the eureka server under WebLogic unstable.  \r\n\r\nThis is happening now, with the latest Spring boot version 2.6.x and 2021.0.x Spring Cloud version, maybe in future this will be solved.","title":"Unable to register services with Eureka under Weblogic","body":"<p>There is a major issue due to dependencies incompatibility. Unfortunately, Weblogic uses Jersey 2.x but Eureka use 1.9.x and this makes the eureka server under WebLogic unstable.</p>\n<p>This is happening now, with the latest Spring boot version 2.6.x and 2021.0.x Spring Cloud version, maybe in future this will be solved.</p>\n"}],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71858285,"answer_count":1,"score":1,"last_activity_date":1666085975,"creation_date":1647511535,"question_id":71510442,"body_markdown":"I have a Eureka server that must be deployed under Weblogic. So, I configured maven to generate a war file and deploy it on WebLogic. Everything worked as expected and I am able to reach the Eureka web application calling URL:\r\n\r\nhttp://localhost:7001/domain/gateway\r\n\r\nThe problem is with the registration of services. It seems, for some reason, a demo service (insice DiscoveryClient) is not able to reach the URL: http://localhost:7001/domain/gateway/eureka. The strange thing is, if I try to run the server as a Spring boot jar application (and properly configured with the same URL /domain/gateway) services registration works fine. \r\n\r\nWhat could be the issue? Inside WebLogic? \r\n\r\nThis is the error:\r\n\r\n    2022-03-17 11:02:51.009  INFO 7676 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DEMOMS/demoms:3c6a23c2fc062f8b0baf4c5f7af277cb: registering service...\r\n    2022-03-17 11:02:51.263  WARN 7676 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failure with status code 500; retrying on another server if available\r\n    2022-03-17 11:02:51.283  WARN 7676 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DEMOMS/demoms:3c6a23c2fc062f8b0baf4c5f7af277cb - registration failed Cannot execute request on any known server\r\n    \r\n    com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\r\n\r\nMy configuration is exactly the same as the other hundreds of configurations found here and on the documentation.\r\n\r\n**UPDATE**: if the service is deployed under the same WebLogic it works as expected so, the problem is definitely due to communication between applications deployed under WebLogic and outside Weblogic.","title":"Unable to register services with Eureka under Weblogic","body":"<p>I have a Eureka server that must be deployed under Weblogic. So, I configured maven to generate a war file and deploy it on WebLogic. Everything worked as expected and I am able to reach the Eureka web application calling URL:</p>\n<p>http://localhost:7001/domain/gateway</p>\n<p>The problem is with the registration of services. It seems, for some reason, a demo service (insice DiscoveryClient) is not able to reach the URL: http://localhost:7001/domain/gateway/eureka. The strange thing is, if I try to run the server as a Spring boot jar application (and properly configured with the same URL /domain/gateway) services registration works fine.</p>\n<p>What could be the issue? Inside WebLogic?</p>\n<p>This is the error:</p>\n<pre><code>2022-03-17 11:02:51.009  INFO 7676 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DEMOMS/demoms:3c6a23c2fc062f8b0baf4c5f7af277cb: registering service...\n2022-03-17 11:02:51.263  WARN 7676 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failure with status code 500; retrying on another server if available\n2022-03-17 11:02:51.283  WARN 7676 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DEMOMS/demoms:3c6a23c2fc062f8b0baf4c5f7af277cb - registration failed Cannot execute request on any known server\n\ncom.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n</code></pre>\n<p>My configuration is exactly the same as the other hundreds of configurations found here and on the documentation.</p>\n<p><strong>UPDATE</strong>: if the service is deployed under the same WebLogic it works as expected so, the problem is definitely due to communication between applications deployed under WebLogic and outside Weblogic.</p>\n"},{"tags":["java","maven","javafx","javafx-11","openjfx"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1546789740,"post_id":54063041,"comment_id":94959398,"body_markdown":"I doubt anything better than the option 1 is what you would be left with as a choice while choosing to publish a non-modular application relying on the javafx jars.","body":"I doubt anything better than the option 1 is what you would be left with as a choice while choosing to publish a non-modular application relying on the javafx jars."}],"answers":[{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1546805499,"creation_date":1546805499,"answer_id":54065502,"question_id":54063041,"body_markdown":"These are a few options for packaging/distributing a (non-modular) JavaFX 11 end application. Most of them are explained in the official OpenJFX [docs](https://openjfx.io/openjfx-docs/#modular).\r\n\r\nI&#39;ll use [this sample](https://github.com/openjfx/samples/tree/master/CommandLine/Non-modular/Gradle) as reference. I&#39;ll also use Gradle. Similar can be done with Maven (different plugins), and even without build tools (but this is not recommended...). Build tools are a must nowadays.\r\n\r\n&lt;h1&gt;Fat Jar&lt;/h1&gt;\r\n\r\nThis is still a valid option, but not the preferred one, as it breaks the modular design and bundles everything all together, and it is not cross-platform unless you take care of that.\r\n\r\nFor the given sample, you have a build.gradle file like this:\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.5&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    }\r\n    \r\n    javafx {\r\n        modules = [ &#39;javafx.controls&#39; ]\r\n    }\r\n    \r\n    mainClassName = &#39;hellofx.HelloFX&#39;\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;hellofx.Launcher&#39;\r\n        }\r\n        from {\r\n            configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\nNote the use of a `Launcher` class. As mentioned by the OP or explained [here](https://stackoverflow.com/a/52571719/3956070), a launcher class that not extends from `Application` is required now to create a fat jar.\r\n\r\nRunning `./gradlew jar` produces a fat jar (~8 MB) that includes the JavaFX classes, and the native libraries of _your_ current platform.\r\n\r\nYou can run `java -jar build/libs/hellofx.jar` as usual, but only in the same platform.\r\n\r\nAs explained in the OpenJFX docs or [here](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing/52654791#52654791), you can still create a cross-platform jar.\r\n\r\nIn this case, we can include the three graphics jars, as those are the ones that have platform-dependent code and libraries. Base, controls and fxml modules are the platform-independent.\r\n\r\n    dependencies {\r\n        compile &quot;org.openjfx:javafx-graphics:11.0.1:win&quot;\r\n        compile &quot;org.openjfx:javafx-graphics:11.0.1:linux&quot;\r\n        compile &quot;org.openjfx:javafx-graphics:11.0.1:mac&quot;\r\n    }\r\n   \r\n`./gradlew jar` will produce a fat jar (19 MB) now that can be distributed to these three platforms.\r\n\r\n(Note Media and Web have also platform-dependent code/native libraries).\r\n\r\nSo this works as it used to on Java 8. But as I said before, it breaks how modules work, and it doesn&#39;t align on how libraries and apps are distributed nowadays. \r\n\r\nAnd don&#39;t forget that the users of these jars will still have to install a JRE.\r\n\r\n&lt;h1&gt;jlink&lt;/h1&gt;\r\n\r\nSo what about distributing a custom image with your project, that already includes a native JRE and a launcher?\r\n\r\nYou will say that if you have a non-modular project, that won&#39;t work. True. But let&#39;s examine two options here, before talking about jpackage.\r\n\r\n&lt;h2&gt;runtime-plugin&lt;/h2&gt;\r\n\r\nThe [badass-runtime-plugin](https://github.com/beryx/badass-runtime-plugin) is a Gradle plugin that creates runtime images from non-modular projects.\r\n \r\nWith this build.gradle:\r\n\r\n    plugins {\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.5&#39;\r\n        id &#39;org.beryx.runtime&#39; version &#39;1.0.0&#39;\r\n        id &quot;com.github.johnrengelman.shadow&quot; version &quot;4.0.3&quot;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    }\r\n    \r\n    javafx {\r\n        modules = [ &#39;javafx.controls&#39; ]\r\n    }\r\n    \r\n    mainClassName = &#39;hellofx.Launcher&#39;\r\n    \r\n    runtime {\r\n        options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    }\r\n  \r\nWhen you run `./gradlew runtime` it will create a runtime, with its launcher, so you can run:\r\n\r\n    cd build/image/hellofx/bin\r\n    ./hellofx\r\n\r\nNote it relies on the shadow plugin, and it requires a Launcher class as well. \r\n\r\nIf you run `./gradlew runtimeZip`, you can get a zip for this custom image of about 32.5 MB.\r\n\r\nAgain, you can distribute this zip to any user with the same platform, but now there is no need of an installed JRE.\r\n\r\nSee [`targetPlatform`](https://badass-runtime-plugin.beryx.org/releases/latest/#_methods) for building images for other platforms.\r\n\r\n&lt;h2&gt;Going Modular&lt;/h2&gt;\r\n\r\nWe keep thinking that we have non-modular project, and that can&#39;t be changed... but what if we do change it?\r\n\r\n_Going modular_ is not that big of a change: you add a `module-info.java` descriptor, and you include the required modules on it, even if those are non-modular jars (based on automatic names).\r\n\r\nBased on the same sample, I&#39;ll add a descriptor:\r\n\r\n    module hellofx {\r\n        requires javafx.controls;\r\n        \r\n        exports hellofx;\r\n    }\r\n\r\nAnd now I can use `jlink` on command line, or use a plugin for it. The [badass-gradle-plugin](https://github.com/beryx/badass-jlink-plugin) is a gradle plugin, from the same author as the one mentioned before, that allows creating a custom runtime.\r\n\r\nWith this build file:\r\n\r\n    plugins {\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.5&#39;\r\n        id &#39;org.beryx.jlink&#39; version &#39;2.3.0&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n    }\r\n\r\n    javafx {\r\n        modules = [ &#39;javafx.controls&#39; ]\r\n    }\r\n\r\n    mainClassName = &#39;hellofx/hellofx.HelloFX&#39;\r\n\r\n    \r\nyou can run now:\r\n\r\n    ./gradlew jlink\r\n    cd build/image/bin/hellofx\r\n    ./hellofx\r\n\r\nor `./gradlew jlinkZip` for a zipped version (31 MB) that can be distributed and run in machines, of the same platform, even if there is no JRE installed.\r\n\r\nAs you can see, no need for shadow plugin or Launcher class. You can also target other platforms, or include non-modular dependencies, like in this [question](https://stackoverflow.com/a/53764547/3956070). \r\n\r\n&lt;h2&gt;jpackage&lt;/h2&gt;\r\n\r\nFinally, there is a new tool to create executable installers that you can use to distribute your application.\r\n\r\nSo far there is no GA version yet (probably we&#39;ll have to wait for Java 13), but there are two options to use it now with Java 11 or 12:\r\n\r\nWith Java/JavaFX 11 there is a back port from the initial work on the JPackager on Java 12 that you can find [here](https://mail.openjdk.java.net/pipermail/openjfx-dev/2018-September/022500.html). There is a nice article about using it [here](https://medium.com/@adam_carroll/java-packager-with-jdk11-31b3d620f4a8), and a gradle project to use it [here](https://github.com/Santulator/Santulator/tree/master/package).\r\n\r\nWith Java/JavaFX 12 there is already a [build 0 version](https://jdk.java.net/jpackage/) of the `jpackage` tool that will be available with Java 13.\r\n\r\nThis is a very preliminary use of the tool:\r\n\r\n    plugins {\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.5&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n    }\r\n\r\n    javafx {\r\n        version = &quot;12-ea+5&quot;\r\n        modules = [ &#39;javafx.controls&#39; ]\r\n    }\r\n\r\n    mainClassName = &#39;hellofx/hellofx.HelloFX&#39;\r\n\r\n    def java_home = &#39;/Users/&lt;user&gt;/Downloads/jdk-12.jdk/Contents/Home&#39;\r\n    def installer = &#39;build/installer&#39;\r\n    def appName = &#39;HelloFXApp&#39;\r\n\r\n    task copyDependencies(type: Copy) {\r\n        dependsOn &#39;build&#39;\r\n        from configurations.runtime\r\n        into &quot;${buildDir}/libs&quot;\r\n    }\r\n\r\n    task jpackage(type: Exec) {\r\n        dependsOn &#39;clean&#39;\r\n        dependsOn &#39;copyDependencies&#39;\r\n\r\n        commandLine &quot;${java_home}/bin/jpackage&quot;, &#39;create-installer&#39;, &quot;dmg&quot;,\r\n                &#39;--output&#39;, &quot;${installer}&quot;, &quot;--name&quot;, &quot;${appName}&quot;,\r\n                &#39;--verbose&#39;, &#39;--echo-mode&#39;, &#39;--module-path&#39;, &#39;build/libs&#39;,\r\n                &#39;--add-modules&#39;, &quot;${moduleName}&quot;, &#39;--input&#39;, &#39;builds/libraries&#39;,\r\n                &#39;--class&#39;, &quot;${mainClassName}&quot;, &#39;--module&#39;, &quot;${mainClassName}&quot;\r\n    }\r\n\r\nNow running `./gradlew jpackage` generates a dmg (65 MB), that I can distribute to be installed:\r\n\r\n[![installer][1]][1]\r\n\r\n&lt;h2&gt;Conclusion&lt;/h2&gt;\r\n\r\nWhile you can stick to classic fat jars, when moving to Java 11 and beyond, everything is supposed to be modular. The new (soon to be) available tools and plugins, including the IDE support, are helping during this transition.\r\n\r\nI know I&#39;ve presented here the simplest use case, and that when trying more complex real cases, there will be several issues... But we should better work on solving those issues rather than keep using outdated solutions. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lQUU1.png","title":"Package a non-modular JavaFX application","body":"<p>These are a few options for packaging/distributing a (non-modular) JavaFX 11 end application. Most of them are explained in the official OpenJFX <a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"noreferrer\">docs</a>.</p>\n\n<p>I'll use <a href=\"https://github.com/openjfx/samples/tree/master/CommandLine/Non-modular/Gradle\" rel=\"noreferrer\">this sample</a> as reference. I'll also use Gradle. Similar can be done with Maven (different plugins), and even without build tools (but this is not recommended...). Build tools are a must nowadays.</p>\n\n<h1>Fat Jar</h1>\n\n<p>This is still a valid option, but not the preferred one, as it breaks the modular design and bundles everything all together, and it is not cross-platform unless you take care of that.</p>\n\n<p>For the given sample, you have a build.gradle file like this:</p>\n\n<pre><code>plugins {\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n}\n\njavafx {\n    modules = [ 'javafx.controls' ]\n}\n\nmainClassName = 'hellofx.HelloFX'\n\njar {\n    manifest {\n        attributes 'Main-Class': 'hellofx.Launcher'\n    }\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n\n<p>Note the use of a <code>Launcher</code> class. As mentioned by the OP or explained <a href=\"https://stackoverflow.com/a/52571719/3956070\">here</a>, a launcher class that not extends from <code>Application</code> is required now to create a fat jar.</p>\n\n<p>Running <code>./gradlew jar</code> produces a fat jar (~8 MB) that includes the JavaFX classes, and the native libraries of <em>your</em> current platform.</p>\n\n<p>You can run <code>java -jar build/libs/hellofx.jar</code> as usual, but only in the same platform.</p>\n\n<p>As explained in the OpenJFX docs or <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing/52654791#52654791\">here</a>, you can still create a cross-platform jar.</p>\n\n<p>In this case, we can include the three graphics jars, as those are the ones that have platform-dependent code and libraries. Base, controls and fxml modules are the platform-independent.</p>\n\n<pre><code>dependencies {\n    compile \"org.openjfx:javafx-graphics:11.0.1:win\"\n    compile \"org.openjfx:javafx-graphics:11.0.1:linux\"\n    compile \"org.openjfx:javafx-graphics:11.0.1:mac\"\n}\n</code></pre>\n\n<p><code>./gradlew jar</code> will produce a fat jar (19 MB) now that can be distributed to these three platforms.</p>\n\n<p>(Note Media and Web have also platform-dependent code/native libraries).</p>\n\n<p>So this works as it used to on Java 8. But as I said before, it breaks how modules work, and it doesn't align on how libraries and apps are distributed nowadays. </p>\n\n<p>And don't forget that the users of these jars will still have to install a JRE.</p>\n\n<h1>jlink</h1>\n\n<p>So what about distributing a custom image with your project, that already includes a native JRE and a launcher?</p>\n\n<p>You will say that if you have a non-modular project, that won't work. True. But let's examine two options here, before talking about jpackage.</p>\n\n<h2>runtime-plugin</h2>\n\n<p>The <a href=\"https://github.com/beryx/badass-runtime-plugin\" rel=\"noreferrer\">badass-runtime-plugin</a> is a Gradle plugin that creates runtime images from non-modular projects.</p>\n\n<p>With this build.gradle:</p>\n\n<pre><code>plugins {\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n    id 'org.beryx.runtime' version '1.0.0'\n    id \"com.github.johnrengelman.shadow\" version \"4.0.3\"\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n}\n\njavafx {\n    modules = [ 'javafx.controls' ]\n}\n\nmainClassName = 'hellofx.Launcher'\n\nruntime {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n}\n</code></pre>\n\n<p>When you run <code>./gradlew runtime</code> it will create a runtime, with its launcher, so you can run:</p>\n\n<pre><code>cd build/image/hellofx/bin\n./hellofx\n</code></pre>\n\n<p>Note it relies on the shadow plugin, and it requires a Launcher class as well. </p>\n\n<p>If you run <code>./gradlew runtimeZip</code>, you can get a zip for this custom image of about 32.5 MB.</p>\n\n<p>Again, you can distribute this zip to any user with the same platform, but now there is no need of an installed JRE.</p>\n\n<p>See <a href=\"https://badass-runtime-plugin.beryx.org/releases/latest/#_methods\" rel=\"noreferrer\"><code>targetPlatform</code></a> for building images for other platforms.</p>\n\n<h2>Going Modular</h2>\n\n<p>We keep thinking that we have non-modular project, and that can't be changed... but what if we do change it?</p>\n\n<p><em>Going modular</em> is not that big of a change: you add a <code>module-info.java</code> descriptor, and you include the required modules on it, even if those are non-modular jars (based on automatic names).</p>\n\n<p>Based on the same sample, I'll add a descriptor:</p>\n\n<pre><code>module hellofx {\n    requires javafx.controls;\n\n    exports hellofx;\n}\n</code></pre>\n\n<p>And now I can use <code>jlink</code> on command line, or use a plugin for it. The <a href=\"https://github.com/beryx/badass-jlink-plugin\" rel=\"noreferrer\">badass-gradle-plugin</a> is a gradle plugin, from the same author as the one mentioned before, that allows creating a custom runtime.</p>\n\n<p>With this build file:</p>\n\n<pre><code>plugins {\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n    id 'org.beryx.jlink' version '2.3.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n}\n\njavafx {\n    modules = [ 'javafx.controls' ]\n}\n\nmainClassName = 'hellofx/hellofx.HelloFX'\n</code></pre>\n\n<p>you can run now:</p>\n\n<pre><code>./gradlew jlink\ncd build/image/bin/hellofx\n./hellofx\n</code></pre>\n\n<p>or <code>./gradlew jlinkZip</code> for a zipped version (31 MB) that can be distributed and run in machines, of the same platform, even if there is no JRE installed.</p>\n\n<p>As you can see, no need for shadow plugin or Launcher class. You can also target other platforms, or include non-modular dependencies, like in this <a href=\"https://stackoverflow.com/a/53764547/3956070\">question</a>. </p>\n\n<h2>jpackage</h2>\n\n<p>Finally, there is a new tool to create executable installers that you can use to distribute your application.</p>\n\n<p>So far there is no GA version yet (probably we'll have to wait for Java 13), but there are two options to use it now with Java 11 or 12:</p>\n\n<p>With Java/JavaFX 11 there is a back port from the initial work on the JPackager on Java 12 that you can find <a href=\"https://mail.openjdk.java.net/pipermail/openjfx-dev/2018-September/022500.html\" rel=\"noreferrer\">here</a>. There is a nice article about using it <a href=\"https://medium.com/@adam_carroll/java-packager-with-jdk11-31b3d620f4a8\" rel=\"noreferrer\">here</a>, and a gradle project to use it <a href=\"https://github.com/Santulator/Santulator/tree/master/package\" rel=\"noreferrer\">here</a>.</p>\n\n<p>With Java/JavaFX 12 there is already a <a href=\"https://jdk.java.net/jpackage/\" rel=\"noreferrer\">build 0 version</a> of the <code>jpackage</code> tool that will be available with Java 13.</p>\n\n<p>This is a very preliminary use of the tool:</p>\n\n<pre><code>plugins {\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n}\n\njavafx {\n    version = \"12-ea+5\"\n    modules = [ 'javafx.controls' ]\n}\n\nmainClassName = 'hellofx/hellofx.HelloFX'\n\ndef java_home = '/Users/&lt;user&gt;/Downloads/jdk-12.jdk/Contents/Home'\ndef installer = 'build/installer'\ndef appName = 'HelloFXApp'\n\ntask copyDependencies(type: Copy) {\n    dependsOn 'build'\n    from configurations.runtime\n    into \"${buildDir}/libs\"\n}\n\ntask jpackage(type: Exec) {\n    dependsOn 'clean'\n    dependsOn 'copyDependencies'\n\n    commandLine \"${java_home}/bin/jpackage\", 'create-installer', \"dmg\",\n            '--output', \"${installer}\", \"--name\", \"${appName}\",\n            '--verbose', '--echo-mode', '--module-path', 'build/libs',\n            '--add-modules', \"${moduleName}\", '--input', 'builds/libraries',\n            '--class', \"${mainClassName}\", '--module', \"${mainClassName}\"\n}\n</code></pre>\n\n<p>Now running <code>./gradlew jpackage</code> generates a dmg (65 MB), that I can distribute to be installed:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lQUU1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lQUU1.png\" alt=\"installer\"></a></p>\n\n<h2>Conclusion</h2>\n\n<p>While you can stick to classic fat jars, when moving to Java 11 and beyond, everything is supposed to be modular. The new (soon to be) available tools and plugins, including the IDE support, are helping during this transition.</p>\n\n<p>I know I've presented here the simplest use case, and that when trying more complex real cases, there will be several issues... But we should better work on solving those issues rather than keep using outdated solutions. </p>\n"}],"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16909,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":54065502,"answer_count":1,"score":26,"last_activity_date":1666085865,"creation_date":1546788642,"question_id":54063041,"body_markdown":"I have a Java 8 application, that uses JavaFX and where the main class extends \r\n*javafx.application.Application* . Currently, I deliver it as a fat jar and it runs fine on Oracle Java 8.\r\n\r\nNow I want it to be able to run on OpenJDK 11. To add JavaFX, I already added the artifacts from org.openjfx to the classpath and am including them in the fat jar. If I start my jar from the command line, I get\r\n\r\n    Error: JavaFX runtime components are missing, and are required to run this\r\n    application\r\n\r\nI found two possible ways around this problem:\r\n\r\n 1. The dirty one: Write a special launcher that does not extend Application and circumvent the module check. See http://mail.openjdk.java.net/pipermail/openjfx-dev/2018-June/021977.html\r\n 2. The clean one: Add --module-path and --add-modules to my command line. The problem with this solution is, that I want my end users to be able to just launch the application by double clicking it.\r\n\r\nWhile I could go with 1. as a workaround, I wonder what is currently (OpenJDK 11) the intended way to build/deliver executable fat jars of non-modular JavaFX applications. Can anyone help?","title":"Package a non-modular JavaFX application","body":"<p>I have a Java 8 application, that uses JavaFX and where the main class extends \n<em>javafx.application.Application</em> . Currently, I deliver it as a fat jar and it runs fine on Oracle Java 8.</p>\n\n<p>Now I want it to be able to run on OpenJDK 11. To add JavaFX, I already added the artifacts from org.openjfx to the classpath and am including them in the fat jar. If I start my jar from the command line, I get</p>\n\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this\napplication\n</code></pre>\n\n<p>I found two possible ways around this problem:</p>\n\n<ol>\n<li>The dirty one: Write a special launcher that does not extend Application and circumvent the module check. See <a href=\"http://mail.openjdk.java.net/pipermail/openjfx-dev/2018-June/021977.html\" rel=\"noreferrer\">http://mail.openjdk.java.net/pipermail/openjfx-dev/2018-June/021977.html</a></li>\n<li>The clean one: Add --module-path and --add-modules to my command line. The problem with this solution is, that I want my end users to be able to just launch the application by double clicking it.</li>\n</ol>\n\n<p>While I could go with 1. as a workaround, I wonder what is currently (OpenJDK 11) the intended way to build/deliver executable fat jars of non-modular JavaFX applications. Can anyone help?</p>\n"},{"tags":["java","jpa","testing","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"score":0,"creation_date":1666068792,"post_id":74103513,"comment_id":130841626,"body_markdown":"I don&#39;t see any obvious issues in your code - but is there a reason why you use prepared statements instead of the JPA repository itself? `reportRepository` should offer a bunch of default methods already if you let it extend `CrudRepository`, for example `.findAll()`: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#findAll--\n\nMaybe there is an issue between the `reportRepository` and however `multiTenantConnectionProvider` works in regards to the transactions that you are using.","body":"I don&#39;t see any obvious issues in your code - but is there a reason why you use prepared statements instead of the JPA repository itself? <code>reportRepository</code> should offer a bunch of default methods already if you let it extend <code>CrudRepository</code>, for example <code>.findAll()</code>: <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#findAll--\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/commons/docs/current/api/org/&hellip;</a>  Maybe there is an issue between the <code>reportRepository</code> and however <code>multiTenantConnectionProvider</code> works in regards to the transactions that you are using."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666084819,"creation_date":1666084819,"answer_id":74108559,"question_id":74103513,"body_markdown":"There are two possible explanations:\r\n\r\n 1. Since your test is annotated with `@Transactional` everything is running in a single transaction.\r\nJPA does not save your entities when you ask it it to do it. \r\nInstead it just tracks them to save them to the database ones it becomes necessary, which often only is at the end of the transaction.\r\nIt also flushes changes to the database before queries are executed, but only if they are executed via JPA, otherwise it wouldn&#39;t know about them.\r\n 2. You are using `getAnyConnection` from the `multiTenantConnectionProvider`. This might or might not be the same connection that is used by the `EntityManager`. \r\nIf it isn&#39;t it will never see changes by the `EntityManager` if your database prevents dirty reads because a test rolls back transactions at the end of a test.","title":"SQL select in Java not returning any results from H2 database in unit test","body":"<p>There are two possible explanations:</p>\n<ol>\n<li>Since your test is annotated with <code>@Transactional</code> everything is running in a single transaction.\nJPA does not save your entities when you ask it it to do it.\nInstead it just tracks them to save them to the database ones it becomes necessary, which often only is at the end of the transaction.\nIt also flushes changes to the database before queries are executed, but only if they are executed via JPA, otherwise it wouldn't know about them.</li>\n<li>You are using <code>getAnyConnection</code> from the <code>multiTenantConnectionProvider</code>. This might or might not be the same connection that is used by the <code>EntityManager</code>.\nIf it isn't it will never see changes by the <code>EntityManager</code> if your database prevents dirty reads because a test rolls back transactions at the end of a test.</li>\n</ol>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74108559,"answer_count":1,"score":0,"last_activity_date":1666084848,"creation_date":1666042644,"question_id":74103513,"body_markdown":"Why is it that after saving an Entity to the db, the `select` SQL query returns 0 results?\r\n\r\nI&#39;m using Spring 2.6.2, Hibernate 5, H2 db in tests.\r\n\r\nThis is my test:\r\n\r\n```\r\n@Transactional\r\n@Test\r\nvoid test_OptimisticLockExceptionOnUpdate() throws SQLException {\r\n  String reportText = &quot;Initial value: &quot; + new Date();\r\n  ReportDTO reportDTO = new ReportDTO();\r\n  reportDTO.setText(reportText);\r\n\r\n  // Save a report\r\n  reportDTO = reportService.submit(reportDTO);\r\n\r\n  Connection connection = multiTenantConnectionProvider.getAnyConnection();\r\n  String sql = &quot;select * from PUBLIC.report&quot;;\r\n  Statement statement = connection.createStatement();\r\n  ResultSet resultSet = statement.executeQuery(sql);\r\n\r\n  while (resultSet.next()) {\r\n    String text = resultSet.getString(&quot;text&quot;);\r\n    System.out.println(text);\r\n  }\r\n```\r\n\r\nThe method from my Service which persists a new Entity representing the DTO object:\r\n```\r\n@Transactional\r\npublic ReportDTO submit(ReportDTO input) {\r\n\r\n  ReportEntity reportEntity = new ReportEntity();\r\n  reportEntity.setText(input.getText());\r\n\r\n  reportEntity = reportRepository.save(reportEntity);\r\n\r\n  input.setId(reportEntity.getId());\r\n  input.setVersion(reportEntity.getVersion());\r\n\r\n  return input;\r\n}\r\n```","title":"SQL select in Java not returning any results from H2 database in unit test","body":"<p>Why is it that after saving an Entity to the db, the <code>select</code> SQL query returns 0 results?</p>\n<p>I'm using Spring 2.6.2, Hibernate 5, H2 db in tests.</p>\n<p>This is my test:</p>\n<pre><code>@Transactional\n@Test\nvoid test_OptimisticLockExceptionOnUpdate() throws SQLException {\n  String reportText = &quot;Initial value: &quot; + new Date();\n  ReportDTO reportDTO = new ReportDTO();\n  reportDTO.setText(reportText);\n\n  // Save a report\n  reportDTO = reportService.submit(reportDTO);\n\n  Connection connection = multiTenantConnectionProvider.getAnyConnection();\n  String sql = &quot;select * from PUBLIC.report&quot;;\n  Statement statement = connection.createStatement();\n  ResultSet resultSet = statement.executeQuery(sql);\n\n  while (resultSet.next()) {\n    String text = resultSet.getString(&quot;text&quot;);\n    System.out.println(text);\n  }\n</code></pre>\n<p>The method from my Service which persists a new Entity representing the DTO object:</p>\n<pre><code>@Transactional\npublic ReportDTO submit(ReportDTO input) {\n\n  ReportEntity reportEntity = new ReportEntity();\n  reportEntity.setText(input.getText());\n\n  reportEntity = reportRepository.save(reportEntity);\n\n  input.setId(reportEntity.getId());\n  input.setVersion(reportEntity.getVersion());\n\n  return input;\n}\n</code></pre>\n"},{"tags":["java","android-room"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666079897,"post_id":74107504,"comment_id":130844503,"body_markdown":"Did you step through your code with a debugger? What does `void delUser (Users usr)` do exactly, i.e. which query does it use? It seems when you call that method the user you pass only has a name, is that the required parameter for the query?","body":"Did you step through your code with a debugger? What does <code>void delUser (Users usr)</code> do exactly, i.e. which query does it use? It seems when you call that method the user you pass only has a name, is that the required parameter for the query?"},{"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"score":0,"creation_date":1666082543,"post_id":74107504,"comment_id":130845327,"body_markdown":"I did not, I have just done that now. After stepping through the code I can see the void delUser (Users usr) is deleting the user I have just created which is the name only. I need to delete the entire user object found from the @Query but I am not sure how to do this.","body":"I did not, I have just done that now. After stepping through the code I can see the void delUser (Users usr) is deleting the user I have just created which is the name only. I need to delete the entire user object found from the @Query but I am not sure how to do this."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666083049,"post_id":74107504,"comment_id":130845451,"body_markdown":"Normally a DAO uses a query to delete a record it identifies by some id. That id would be the only thing needed to be passed to a delete method, e.g. `deleteUser(userId)`. The question is: is the user name used as the user&#39;s id, i.e. does it uniquely identify the user? If so, your query should reflect that.","body":"Normally a DAO uses a query to delete a record it identifies by some id. That id would be the only thing needed to be passed to a delete method, e.g. <code>deleteUser(userId)</code>. The question is: is the user name used as the user&#39;s id, i.e. does it uniquely identify the user? If so, your query should reflect that."},{"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"score":0,"creation_date":1666084766,"post_id":74107504,"comment_id":130846017,"body_markdown":"The username is being used as the unique identifier at least in this project. Thank you Thomas, that makes complete sense now! I have managed to get it working correctly.","body":"The username is being used as the unique identifier at least in this project. Thank you Thomas, that makes complete sense now! I have managed to get it working correctly."}],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666084089,"creation_date":1666084089,"answer_id":74108386,"question_id":74107504,"body_markdown":"That is because you are creating new user and it only has the &quot;name&quot; value.\r\n\r\n```\r\n    Users activeUser = new Users();\r\n    activeUser.setName(usrNam); // This user is not equal what&#39;s in db.\r\n    LoginMenu.mainDatabase.dao().delUser(activeUser);\r\n```\r\nInstead when you loop the users in your db if you found the user, fetch it from there like this:\r\n```\r\n      Users activeUser = new Users();\r\n      for (Users usr : users) {\r\n           // User is successfully found\r\n           if (usr.getName().equals(usrNam)) {\r\n               userFound = true;\r\n               activeUser = usr; // now we got the exact item on db\r\n               break;\r\n           }\r\n      }\r\n```\r\nNow your function will delete the correct user.\r\n```\r\n      //Users activeUser = new Users();\r\n      //activeUser.setName(usrNam); //you don&#39;t need them anymore.\r\n      LoginMenu.mainDatabase.dao().delUser(activeUser);\r\n```\r\n","title":"Room Database Query - Delete User","body":"<p>That is because you are creating new user and it only has the &quot;name&quot; value.</p>\n<pre><code>    Users activeUser = new Users();\n    activeUser.setName(usrNam); // This user is not equal what's in db.\n    LoginMenu.mainDatabase.dao().delUser(activeUser);\n</code></pre>\n<p>Instead when you loop the users in your db if you found the user, fetch it from there like this:</p>\n<pre><code>      Users activeUser = new Users();\n      for (Users usr : users) {\n           // User is successfully found\n           if (usr.getName().equals(usrNam)) {\n               userFound = true;\n               activeUser = usr; // now we got the exact item on db\n               break;\n           }\n      }\n</code></pre>\n<p>Now your function will delete the correct user.</p>\n<pre><code>      //Users activeUser = new Users();\n      //activeUser.setName(usrNam); //you don't need them anymore.\n      LoginMenu.mainDatabase.dao().delUser(activeUser);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666084682,"creation_date":1666084682,"answer_id":74108521,"question_id":74107504,"body_markdown":"I changed the Dao query to:\r\n\r\n```\r\n\r\n// Delete user from DB\r\n    @Query(&quot;DELETE FROM Users WHERE name =:userId&quot;)\r\n    abstract void deleteByUserId(String userId);\r\n\r\n```\r\n\r\nAnd the query itself under RemoveUsers class\r\n\r\n```\r\n\r\n// Delete User from database\r\nLoginMenu.mainDatabase.dao().deleteByUserId(usrNam);\r\n\r\n```\r\n\r\nQuery now works as intended","title":"Room Database Query - Delete User","body":"<p>I changed the Dao query to:</p>\n<pre><code>\n// Delete user from DB\n    @Query(&quot;DELETE FROM Users WHERE name =:userId&quot;)\n    abstract void deleteByUserId(String userId);\n\n</code></pre>\n<p>And the query itself under RemoveUsers class</p>\n<pre><code>\n// Delete User from database\nLoginMenu.mainDatabase.dao().deleteByUserId(usrNam);\n\n</code></pre>\n<p>Query now works as intended</p>\n"}],"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74108386,"answer_count":2,"score":1,"last_activity_date":1666084682,"creation_date":1666079456,"question_id":74107504,"body_markdown":"I have built an app that acts as a user and inventory database using the Room persistence library. Currently I am able to make queries to view/output users to a recycler view, but I need to be able to delete a user using their **name** as the query object. Currently I have the following.\r\n\r\nRemove User Class\r\n\r\n``` \r\n                String usrNam = edtTxtUsrNam2.getText().toString();\r\n\r\n                // Get all users from database + log\r\n                List&lt;Users&gt; users = LoginMenu.mainDatabase.dao().getUsers();\r\n                Log.d(LoginMenu.TAG, &quot;Searching for &quot; + usrNam);\r\n                boolean userFound = false;\r\n\r\n                // Check for User from text entry\r\n                for (Users usr : users) {\r\n                    // User is successfully found\r\n                    if (usr.getName().equals(usrNam)) {\r\n                        userFound = true;\r\n                        break;\r\n                    }\r\n                }if (!userFound) {\r\n\r\n                    Toast.makeText(getBaseContext(), &quot;User not found&quot;, \r\n                    Toast.LENGTH_SHORT).show();\r\n                    Log.d(LoginMenu.TAG, &quot; User &quot; + usrNam + &quot; Not found&quot;);\r\n                    edtTxtUsrNam2.getText().clear();\r\n\r\n                } else {\r\n                    // Build Messagebox Confirmation\r\n                    builder.setTitle(&quot;User &quot; + usrNam + &quot; found!&quot;);\r\n                    builder.setMessage(&quot;Confirm user deletion?&quot;);\r\n\r\n                    // Selecting yes in Alert\r\n                    builder.setPositiveButton(&quot;Yes&quot;, (dialogInterface, i) -&gt; {\r\n\r\n                        // Delete User from database\r\n\r\n                        Users activeUser = new Users();\r\n                        activeUser.setName(usrNam);\r\n                        LoginMenu.mainDatabase.dao().delUser(activeUser);\r\n                        \r\n                        // Toast message + Log\r\n                        Toast.makeText(getApplicationContext(),&quot;User &quot; + usrNam +\r\n                                &quot; successfully deleted!&quot;,Toast.LENGTH_SHORT).show();\r\n                        \r\n                        Log.d(LoginMenu.TAG,&quot;User &quot; + usrNam + &quot; Successfully deleted&quot;);\r\n                        \r\n                        edtTxtUsrNam2.getText().clear();\r\n                        dialogInterface.dismiss();\r\n                    });\r\n                    // Selecting no in Alert\r\n                    builder.setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; dialogInterface.dismiss());\r\n                    // Create Alert Dialog\r\n                    AlertDialog alert = builder.create();\r\n                    alert.show();\r\n\r\n\r\n```\r\n\r\nDAO\r\n\r\n```\r\n@androidx.room.Dao\r\npublic interface Dao {\r\n\r\n    // Add Users to Database\r\n    @Insert\r\n    void AddUsers(Users usr);\r\n\r\n    // Request all users from DB\r\n    @Query(&quot;SELECT * FROM Users&quot;)\r\n    List&lt;Users&gt; getUsers();\r\n\r\n    // Delete user from DB\r\n    @Delete\r\n    void delUser (Users usr);\r\n```\r\n \r\nUser Class\r\n\r\n```\r\n\r\n@Entity(tableName = &quot;Users&quot;)\r\npublic class Users {\r\n\r\n    // Set User Entries for Database\r\n    @ColumnInfo (name = &quot;ID&quot;)\r\n    @PrimaryKey (autoGenerate = true)\r\n    private int id;\r\n\r\n    @ColumnInfo(name = &quot;EmployeeId&quot;)\r\n    private String  employeeId;\r\n\r\n    @ColumnInfo(name = &quot;Name&quot;)\r\n    private String name;\r\n\r\n    @ColumnInfo(name = &quot;Password&quot;)\r\n    private String password;\r\n\r\n    @ColumnInfo(name = &quot;DateOfBirth&quot;)\r\n    private String dateOfBirth;\r\n\r\n    @ColumnInfo(name = &quot;ContactNumber&quot;)\r\n    private String contactNumber;\r\n\r\n    @ColumnInfo(name = &quot;Address&quot;)\r\n    private String address;\r\n\r\n```\r\n\r\nIt detects the user no problem at all but does not delete the User object, I&#39;m quite new to this and would appreciate any assistance as I am sure its something simple.","title":"Room Database Query - Delete User","body":"<p>I have built an app that acts as a user and inventory database using the Room persistence library. Currently I am able to make queries to view/output users to a recycler view, but I need to be able to delete a user using their <strong>name</strong> as the query object. Currently I have the following.</p>\n<p>Remove User Class</p>\n<pre><code>                String usrNam = edtTxtUsrNam2.getText().toString();\n\n                // Get all users from database + log\n                List&lt;Users&gt; users = LoginMenu.mainDatabase.dao().getUsers();\n                Log.d(LoginMenu.TAG, &quot;Searching for &quot; + usrNam);\n                boolean userFound = false;\n\n                // Check for User from text entry\n                for (Users usr : users) {\n                    // User is successfully found\n                    if (usr.getName().equals(usrNam)) {\n                        userFound = true;\n                        break;\n                    }\n                }if (!userFound) {\n\n                    Toast.makeText(getBaseContext(), &quot;User not found&quot;, \n                    Toast.LENGTH_SHORT).show();\n                    Log.d(LoginMenu.TAG, &quot; User &quot; + usrNam + &quot; Not found&quot;);\n                    edtTxtUsrNam2.getText().clear();\n\n                } else {\n                    // Build Messagebox Confirmation\n                    builder.setTitle(&quot;User &quot; + usrNam + &quot; found!&quot;);\n                    builder.setMessage(&quot;Confirm user deletion?&quot;);\n\n                    // Selecting yes in Alert\n                    builder.setPositiveButton(&quot;Yes&quot;, (dialogInterface, i) -&gt; {\n\n                        // Delete User from database\n\n                        Users activeUser = new Users();\n                        activeUser.setName(usrNam);\n                        LoginMenu.mainDatabase.dao().delUser(activeUser);\n                        \n                        // Toast message + Log\n                        Toast.makeText(getApplicationContext(),&quot;User &quot; + usrNam +\n                                &quot; successfully deleted!&quot;,Toast.LENGTH_SHORT).show();\n                        \n                        Log.d(LoginMenu.TAG,&quot;User &quot; + usrNam + &quot; Successfully deleted&quot;);\n                        \n                        edtTxtUsrNam2.getText().clear();\n                        dialogInterface.dismiss();\n                    });\n                    // Selecting no in Alert\n                    builder.setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; dialogInterface.dismiss());\n                    // Create Alert Dialog\n                    AlertDialog alert = builder.create();\n                    alert.show();\n\n\n</code></pre>\n<p>DAO</p>\n<pre><code>@androidx.room.Dao\npublic interface Dao {\n\n    // Add Users to Database\n    @Insert\n    void AddUsers(Users usr);\n\n    // Request all users from DB\n    @Query(&quot;SELECT * FROM Users&quot;)\n    List&lt;Users&gt; getUsers();\n\n    // Delete user from DB\n    @Delete\n    void delUser (Users usr);\n</code></pre>\n<p>User Class</p>\n<pre><code>\n@Entity(tableName = &quot;Users&quot;)\npublic class Users {\n\n    // Set User Entries for Database\n    @ColumnInfo (name = &quot;ID&quot;)\n    @PrimaryKey (autoGenerate = true)\n    private int id;\n\n    @ColumnInfo(name = &quot;EmployeeId&quot;)\n    private String  employeeId;\n\n    @ColumnInfo(name = &quot;Name&quot;)\n    private String name;\n\n    @ColumnInfo(name = &quot;Password&quot;)\n    private String password;\n\n    @ColumnInfo(name = &quot;DateOfBirth&quot;)\n    private String dateOfBirth;\n\n    @ColumnInfo(name = &quot;ContactNumber&quot;)\n    private String contactNumber;\n\n    @ColumnInfo(name = &quot;Address&quot;)\n    private String address;\n\n</code></pre>\n<p>It detects the user no problem at all but does not delete the User object, I'm quite new to this and would appreciate any assistance as I am sure its something simple.</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1666084896,"post_id":74108517,"comment_id":130846055,"body_markdown":"The canonical placeholders would be AcroForm form fields. In your code you then have the choice of either simply reading the position of those form fields, manually drawing your replacement there, and removing the fields, or filling the fields and flattening them.","body":"The canonical placeholders would be AcroForm form fields. In your code you then have the choice of either simply reading the position of those form fields, manually drawing your replacement there, and removing the fields, or filling the fields and flattening them."}],"owner":{"account_id":83276,"reputation":6162,"user_id":233598,"accept_rate":76,"display_name":"MohamedSanaulla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666084662,"creation_date":1666084662,"question_id":74108517,"body_markdown":"I have a requirement where I need to put signature, name and job title to PDFs. The position of this data to be placed varies from PDF to PDF. For example for a PDF it might be at certain x,y and say page no 5 whilst for other PDF it might be in page no 8. \r\n\r\nFor now I have done the implementation for a specific PDF type by choosing the page number and the x,y location of the signature. \r\n\r\nIs there a way we can add some placeholder or some identifier in the PDF so that in my iText code I can search for that placeholder, gets its x,y and then insert my signature data at that location. ","title":"Adding content to PDF based on some placeholder area in iText and Java","body":"<p>I have a requirement where I need to put signature, name and job title to PDFs. The position of this data to be placed varies from PDF to PDF. For example for a PDF it might be at certain x,y and say page no 5 whilst for other PDF it might be in page no 8.</p>\n<p>For now I have done the implementation for a specific PDF type by choosing the page number and the x,y location of the signature.</p>\n<p>Is there a way we can add some placeholder or some identifier in the PDF so that in my iText code I can search for that placeholder, gets its x,y and then insert my signature data at that location.</p>\n"},{"tags":["java","android","android-volley"],"answers":[{"tags":[],"owner":{"account_id":5987089,"reputation":1329,"user_id":4704337,"display_name":"Robert Banyai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457346903,"creation_date":1457346903,"answer_id":35841480,"question_id":35841118,"body_markdown":"you have to override parseNetworkError and deliverError methods and you can get errormessage from them.","title":"How to get error message description using Volley","body":"<p>you have to override parseNetworkError and deliverError methods and you can get errormessage from them.</p>\n"},{"tags":[],"owner":{"account_id":5987089,"reputation":1329,"user_id":4704337,"display_name":"Robert Banyai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457350497,"creation_date":1457350497,"answer_id":35842659,"question_id":35841118,"body_markdown":"Example to override methods : \r\n\r\n    final JsonObjectRequest request = new JsonObjectRequest(JsonObjectRequest.Method.POST,\r\n                url, json,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        TextView mTextView = (TextView) findViewById(R.id.output);\r\n                        print(&quot;Success&quot;);\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                TextView mTextView = (TextView) findViewById(R.id.output);\r\n                print(&quot;Failure (&quot; + error.networkResponse.statusCode + &quot;)&quot;);\r\n            }\r\n        }){\r\n            @Override\r\n            protected VolleyError parseNetworkError(VolleyError volleyError) {\r\n                return super.parseNetworkError(volleyError);\r\n            }\r\n\r\n            @Override\r\n            public void deliverError(VolleyError error) {\r\n                super.deliverError(error);\r\n            }\r\n        };","title":"How to get error message description using Volley","body":"<p>Example to override methods : </p>\n\n<pre><code>final JsonObjectRequest request = new JsonObjectRequest(JsonObjectRequest.Method.POST,\n            url, json,\n            new Response.Listener&lt;JSONObject&gt;() {\n\n                @Override\n                public void onResponse(JSONObject response) {\n                    TextView mTextView = (TextView) findViewById(R.id.output);\n                    print(\"Success\");\n                }\n            }, new Response.ErrorListener() {\n\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            TextView mTextView = (TextView) findViewById(R.id.output);\n            print(\"Failure (\" + error.networkResponse.statusCode + \")\");\n        }\n    }){\n        @Override\n        protected VolleyError parseNetworkError(VolleyError volleyError) {\n            return super.parseNetworkError(volleyError);\n        }\n\n        @Override\n        public void deliverError(VolleyError error) {\n            super.deliverError(error);\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5832747,"reputation":902,"user_id":4596754,"display_name":"Ivan Ivanov"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1457352403,"creation_date":1457352403,"answer_id":35843328,"question_id":35841118,"body_markdown":"Try with this custom method:\r\n\r\n    public void parseVolleyError(VolleyError error) {\r\n            try {\r\n                String responseBody = new String(error.networkResponse.data, &quot;utf-8&quot;);\r\n                JSONObject data = new JSONObject(responseBody);\r\n                JSONArray errors = data.getJSONArray(&quot;errors&quot;);\r\n                JSONObject jsonMessage = errors.getJSONObject(0);\r\n                String message = jsonMessage.getString(&quot;message&quot;);\r\n                Toast.makeText(getApplicationContext(), message, Toast.LENGTH_LONG).show();\r\n            } catch (JSONException e) {\r\n            } catch (UnsupportedEncodingException errorr) {\r\n            }\r\n        }\r\n\r\nIt will show toast with error message from the request. Call this in onErrorResponse method in your volley request:\r\n\r\n    new Response.ErrorListener() {\r\n                            @Override\r\n                            public void onErrorResponse(VolleyError error) {\r\n                               parseVolleyError(error);\r\n                            }\r\n                        }","title":"How to get error message description using Volley","body":"<p>Try with this custom method:</p>\n\n<pre><code>public void parseVolleyError(VolleyError error) {\n        try {\n            String responseBody = new String(error.networkResponse.data, \"utf-8\");\n            JSONObject data = new JSONObject(responseBody);\n            JSONArray errors = data.getJSONArray(\"errors\");\n            JSONObject jsonMessage = errors.getJSONObject(0);\n            String message = jsonMessage.getString(\"message\");\n            Toast.makeText(getApplicationContext(), message, Toast.LENGTH_LONG).show();\n        } catch (JSONException e) {\n        } catch (UnsupportedEncodingException errorr) {\n        }\n    }\n</code></pre>\n\n<p>It will show toast with error message from the request. Call this in onErrorResponse method in your volley request:</p>\n\n<pre><code>new Response.ErrorListener() {\n                        @Override\n                        public void onErrorResponse(VolleyError error) {\n                           parseVolleyError(error);\n                        }\n                    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457400531,"creation_date":1457400531,"answer_id":35857316,"question_id":35841118,"body_markdown":"IMO, you should override `parseNetworkError` as below:\r\n\r\n    @Override\r\n    protected VolleyError parseNetworkError(VolleyError volleyError) {\r\n    \tString json;\r\n    \tif (volleyError.networkResponse != null &amp;&amp; volleyError.networkResponse.data != null) {\r\n    \t\ttry {\r\n    \t\t\tjson = new String(volleyError.networkResponse.data,\r\n    \t\t\t\t\tHttpHeaderParser.parseCharset(volleyError.networkResponse.headers));\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\treturn new VolleyError(e.getMessage());\r\n    \t\t}\r\n    \t\treturn new VolleyError(json);\r\n    \t}\r\n    \treturn volleyError;\r\n    }\r\n\r\nThen, inside `onErrorResponse(VolleyError error)`, you can use `Log.e(LOG_TAG, error.toString());` for example. Hope it helps!","title":"How to get error message description using Volley","body":"<p>IMO, you should override <code>parseNetworkError</code> as below:</p>\n\n<pre><code>@Override\nprotected VolleyError parseNetworkError(VolleyError volleyError) {\n    String json;\n    if (volleyError.networkResponse != null &amp;&amp; volleyError.networkResponse.data != null) {\n        try {\n            json = new String(volleyError.networkResponse.data,\n                    HttpHeaderParser.parseCharset(volleyError.networkResponse.headers));\n        } catch (UnsupportedEncodingException e) {\n            return new VolleyError(e.getMessage());\n        }\n        return new VolleyError(json);\n    }\n    return volleyError;\n}\n</code></pre>\n\n<p>Then, inside <code>onErrorResponse(VolleyError error)</code>, you can use <code>Log.e(LOG_TAG, error.toString());</code> for example. Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":389145,"reputation":2149,"user_id":3933188,"display_name":"Uncaught Exception"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1547035885,"creation_date":1547035885,"answer_id":54109856,"question_id":35841118,"body_markdown":"The data field of networkResponse is a JSON string of the form:\r\n\r\n&gt; {&quot;response&quot;:false,&quot;msg&quot;:&quot;Old Password is not correct.&quot;}\r\n\r\nSo you need to get the value corresponding to &quot;msg&quot; field, like this (ofcourse with all exception catching):\r\n\r\n    String responseBody = new String(error.networkResponse.data, &quot;utf-8&quot;);\r\n    JSONObject data = new JSONObject(responseBody);\r\n    String message = data.optString(&quot;msg&quot;);\r\n\r\nTested with Volley 1.1.1","title":"How to get error message description using Volley","body":"<p>The data field of networkResponse is a JSON string of the form:</p>\n\n<blockquote>\n  <p>{\"response\":false,\"msg\":\"Old Password is not correct.\"}</p>\n</blockquote>\n\n<p>So you need to get the value corresponding to \"msg\" field, like this (ofcourse with all exception catching):</p>\n\n<pre><code>String responseBody = new String(error.networkResponse.data, \"utf-8\");\nJSONObject data = new JSONObject(responseBody);\nString message = data.optString(\"msg\");\n</code></pre>\n\n<p>Tested with Volley 1.1.1</p>\n"},{"tags":[],"owner":{"account_id":15049793,"reputation":1414,"user_id":10861790,"display_name":"Diako Hasani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577272214,"creation_date":1577272214,"answer_id":59477791,"question_id":35841118,"body_markdown":"for get type error you can use this code\r\n\r\n    JsonArrayRequest request=new JsonArrayRequest(Request.Method.POST,Url,input,response -&gt;{}  ,error -&gt; {\r\n\r\n     if (error instanceof TimeoutError) {\r\n          //For example your timeout is 3 seconds but the operation takes longer\r\n     }\r\n    \r\n     else if (error instanceof ServerError) {\r\n            //error in server\r\n     }\r\n    \r\n     else if (error instanceof NetworkError) {\r\n            //network is disconnect\r\n     }\r\n    \r\n     else if (error instanceof ParseError) {\r\n            //for cant convert data\r\n     }\r\n    \r\n     else {\r\n            //other error\r\n     }\r\n     });\r\n\r\n\r\nfor get error message you can use this code\r\n\r\n    String Message=error.toString();","title":"How to get error message description using Volley","body":"<p>for get type error you can use this code</p>\n\n<pre><code>JsonArrayRequest request=new JsonArrayRequest(Request.Method.POST,Url,input,response -&gt;{}  ,error -&gt; {\n\n if (error instanceof TimeoutError) {\n      //For example your timeout is 3 seconds but the operation takes longer\n }\n\n else if (error instanceof ServerError) {\n        //error in server\n }\n\n else if (error instanceof NetworkError) {\n        //network is disconnect\n }\n\n else if (error instanceof ParseError) {\n        //for cant convert data\n }\n\n else {\n        //other error\n }\n });\n</code></pre>\n\n<p>for get error message you can use this code</p>\n\n<pre><code>String Message=error.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16369435,"reputation":160,"user_id":11823044,"display_name":"Stephen Hechio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617186131,"creation_date":1617186131,"answer_id":66885899,"question_id":35841118,"body_markdown":"For Kotlin, you can use this in your request class or singleton \r\n\r\n     override fun parseNetworkError(volleyError: VolleyError): VolleyError {\r\n                val json: String\r\n                if (volleyError.networkResponse != null &amp;&amp; volleyError.networkResponse.data != null) {\r\n                        json = try {\r\n                                String(volleyError.networkResponse.data,\r\n                                        Charset.forName(HttpHeaderParser.parseCharset(volleyError.networkResponse.headers)))\r\n                        } catch (e: UnsupportedEncodingException) {\r\n                                return VolleyError(e.message)\r\n                        }\r\n                        return VolleyError(json)\r\n                }\r\n                return volleyError\r\n        }","title":"How to get error message description using Volley","body":"<p>For Kotlin, you can use this in your request class or singleton</p>\n<pre><code> override fun parseNetworkError(volleyError: VolleyError): VolleyError {\n            val json: String\n            if (volleyError.networkResponse != null &amp;&amp; volleyError.networkResponse.data != null) {\n                    json = try {\n                            String(volleyError.networkResponse.data,\n                                    Charset.forName(HttpHeaderParser.parseCharset(volleyError.networkResponse.headers)))\n                    } catch (e: UnsupportedEncodingException) {\n                            return VolleyError(e.message)\n                    }\n                    return VolleyError(json)\n            }\n            return volleyError\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666084436,"creation_date":1666084436,"answer_id":74108470,"question_id":35841118,"body_markdown":"Use this way \r\n\r\n      Response.ErrorListener {\r\n\r\n                var errorMsg =it.message\r\n\r\n            }","title":"How to get error message description using Volley","body":"<p>Use this way</p>\n<pre><code>  Response.ErrorListener {\n\n            var errorMsg =it.message\n\n        }\n</code></pre>\n"}],"owner":{"account_id":7594294,"reputation":173,"user_id":5760918,"display_name":"GraphiteEdge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20209,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":35843328,"answer_count":8,"score":17,"last_activity_date":1666084436,"creation_date":1457345965,"question_id":35841118,"body_markdown":"I&#39;m sending an http request from Android Java using the Volley library to a c# backend. The backend application responds with a error code and description as intended, as well as a StatusDescription. I can see the response status description through wireshark but do not know how to get the description string on the android side. \r\n\r\n        final JsonObjectRequest request = new JsonObjectRequest(JsonObjectRequest.Method.POST,\r\n                                    url,json,\r\n                                new Response.Listener&lt;JSONObject&gt;() {\r\n        \r\n                                    @Override\r\n                                    public void onResponse(JSONObject response) {\r\n                                        TextView mTextView = (TextView) findViewById(R.id.output);\r\n                                        print(&quot;Success&quot;);\r\n                                    }\r\n                                }, new Response.ErrorListener() {\r\n        \r\n                                    @Override\r\n                                    public void onErrorResponse(VolleyError error) {\r\n                                        TextView mTextView = (TextView) findViewById(R.id.output);\r\n                                        print(&quot;Failure (&quot; + error.networkResponse.statusCode + &quot;)&quot;);\r\n    //Trying to get the error description/response phrase here\r\n                                }\r\n                            }\r\n                        );\r\n\r\nThis is the C# code processing the request:\r\n\r\n[WebInvoke(Method = &quot;POST&quot;, UriTemplate = &quot;users&quot;, BodyStyle = WebMessageBodyStyle.Wrapped, RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]\r\n        [OperationContract]\r\n        void addUser(String username, String firstname, String lastname, String email, String hash)\r\n        {\r\n            Console.WriteLine(DateTime.Now + &quot; Packet receieved&quot;);\r\n\r\n            //Stores the response object that will be sent back to the android client\r\n            OutgoingWebResponseContext response = WebOperationContext.Current.OutgoingResponse;\r\n            String description = &quot;User added&quot;;\r\n            response.StatusCode = System.Net.HttpStatusCode.OK;\r\n\r\n            //Tries to add the new user\r\n            try\r\n            {\r\n                userTable.Insert(username,firstname,lastname,email,hash);\r\n            }\r\n            catch (SqlException e)\r\n            {\r\n                //Default response is a conflict\r\n                response.StatusCode = System.Net.HttpStatusCode.Conflict;\r\n\r\n                description = &quot;Bad Request (&quot; + e.Message + &quot;)&quot;;\r\n\r\n                //Check what the conflict is\r\n                if (userTable.GetData().AsEnumerable().Any(row =&gt; username == row.Field&lt;String&gt;(&quot;username&quot;)))\r\n                {\r\n                    description = &quot;Username in use&quot;;\r\n                }\r\n                else if (userTable.GetData().AsEnumerable().Any(row =&gt; email == row.Field&lt;String&gt;(&quot;email&quot;)))\r\n                {\r\n                    description = &quot;Email address in use&quot;;\r\n                }\r\n                else\r\n                {\r\n                    response.StatusCode = System.Net.HttpStatusCode.BadRequest;\r\n                }\r\n            }\r\n\r\n            //display and respond with the description\r\n            Console.WriteLine(description);\r\n            response.StatusDescription = description;\r\n        }\r\n\r\nI&#39;ve looked through other peoples questions but can&#39;t seem to find the answer I&#39;m looking for. Anyone know how to do this? Many methods I have tried resulted in empty curly braces, indicating JSON with an empty body. I am trying specifically to get the status description.","title":"How to get error message description using Volley","body":"<p>I'm sending an http request from Android Java using the Volley library to a c# backend. The backend application responds with a error code and description as intended, as well as a StatusDescription. I can see the response status description through wireshark but do not know how to get the description string on the android side. </p>\n\n<pre><code>    final JsonObjectRequest request = new JsonObjectRequest(JsonObjectRequest.Method.POST,\n                                url,json,\n                            new Response.Listener&lt;JSONObject&gt;() {\n\n                                @Override\n                                public void onResponse(JSONObject response) {\n                                    TextView mTextView = (TextView) findViewById(R.id.output);\n                                    print(\"Success\");\n                                }\n                            }, new Response.ErrorListener() {\n\n                                @Override\n                                public void onErrorResponse(VolleyError error) {\n                                    TextView mTextView = (TextView) findViewById(R.id.output);\n                                    print(\"Failure (\" + error.networkResponse.statusCode + \")\");\n//Trying to get the error description/response phrase here\n                            }\n                        }\n                    );\n</code></pre>\n\n<p>This is the C# code processing the request:</p>\n\n<p>[WebInvoke(Method = \"POST\", UriTemplate = \"users\", BodyStyle = WebMessageBodyStyle.Wrapped, RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]\n        [OperationContract]\n        void addUser(String username, String firstname, String lastname, String email, String hash)\n        {\n            Console.WriteLine(DateTime.Now + \" Packet receieved\");</p>\n\n<pre><code>        //Stores the response object that will be sent back to the android client\n        OutgoingWebResponseContext response = WebOperationContext.Current.OutgoingResponse;\n        String description = \"User added\";\n        response.StatusCode = System.Net.HttpStatusCode.OK;\n\n        //Tries to add the new user\n        try\n        {\n            userTable.Insert(username,firstname,lastname,email,hash);\n        }\n        catch (SqlException e)\n        {\n            //Default response is a conflict\n            response.StatusCode = System.Net.HttpStatusCode.Conflict;\n\n            description = \"Bad Request (\" + e.Message + \")\";\n\n            //Check what the conflict is\n            if (userTable.GetData().AsEnumerable().Any(row =&gt; username == row.Field&lt;String&gt;(\"username\")))\n            {\n                description = \"Username in use\";\n            }\n            else if (userTable.GetData().AsEnumerable().Any(row =&gt; email == row.Field&lt;String&gt;(\"email\")))\n            {\n                description = \"Email address in use\";\n            }\n            else\n            {\n                response.StatusCode = System.Net.HttpStatusCode.BadRequest;\n            }\n        }\n\n        //display and respond with the description\n        Console.WriteLine(description);\n        response.StatusDescription = description;\n    }\n</code></pre>\n\n<p>I've looked through other peoples questions but can't seem to find the answer I'm looking for. Anyone know how to do this? Many methods I have tried resulted in empty curly braces, indicating JSON with an empty body. I am trying specifically to get the status description.</p>\n"},{"tags":["java","set","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666039521,"post_id":74102182,"comment_id":130836798,"body_markdown":"Nested `for`-loops could be used perfectly well for generating [Cartesian product](https://en.wikipedia.org/wiki/Cartesian_product), as described in [this currently associated question](https://stackoverflow.com/questions/41653798/convert-classic-nested-for-loop-with-java-8-streams). But the question listed above has nothing to do with Cartesian product.","body":"Nested <code>for</code>-loops could be used perfectly well for generating <a href=\"https://en.wikipedia.org/wiki/Cartesian_product\" rel=\"nofollow noreferrer\">Cartesian product</a>, as described in <a href=\"https://stackoverflow.com/questions/41653798/convert-classic-nested-for-loop-with-java-8-streams\">this currently associated question</a>. But the question listed above has nothing to do with Cartesian product."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666035274,"creation_date":1666034769,"answer_id":74102255,"question_id":74102182,"body_markdown":"You can use [`Stream.flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) to achieve the same result:\r\n\r\n```\r\nSet&lt;Type2&gt; set = testlist1.stream()             // Stream&lt;Type1&gt;\r\n    .flatMap(test1 -&gt; test1.getList().stream()) // Stream&lt;Type2&gt;\r\n    .collect(Collectors.toSet());\r\n```\r\n\r\nAnother option is to use Java 16 [`Stream.mapMulti()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)), which would be more performant than `flatMap()` in case if lists returned by `test1.getList()` would contain only a few elements or even can be empty.\r\n\r\n```\r\nSet&lt;Type2&gt; set = testlist1.stream()\r\n    .&lt;Type2&gt;mapMulti((test1, c) -&gt; test1.getList().forEach(c))\r\n    .collect(Collectors.toSet());\r\n```","title":"Simplifing the Nested for-loop using Stream API","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Stream.flatMap()</code></a> to achieve the same result:</p>\n<pre><code>Set&lt;Type2&gt; set = testlist1.stream()             // Stream&lt;Type1&gt;\n    .flatMap(test1 -&gt; test1.getList().stream()) // Stream&lt;Type2&gt;\n    .collect(Collectors.toSet());\n</code></pre>\n<p>Another option is to use Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Stream.mapMulti()</code></a>, which would be more performant than <code>flatMap()</code> in case if lists returned by <code>test1.getList()</code> would contain only a few elements or even can be empty.</p>\n<pre><code>Set&lt;Type2&gt; set = testlist1.stream()\n    .&lt;Type2&gt;mapMulti((test1, c) -&gt; test1.getList().forEach(c))\n    .collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":12449717,"reputation":392,"user_id":9064757,"display_name":"LearningToCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1666035482,"accepted_answer_id":74102255,"answer_count":1,"score":0,"last_activity_date":1666084284,"creation_date":1666034380,"question_id":74102182,"body_markdown":"I am trying to achieve the following by converting two for loops using Java Streams.\r\n```\r\nSet&lt;Type2&gt; set = new HashSet&lt;&gt;();\r\n\r\nfor (Test1 test1 : testlist1) {           // testlist1 is a list\r\n    for (Test2 test2 : test1.getList()) { // test1.getList() returns a list\r\n        set.add(test2);\r\n    }\r\n}\r\n```\r\n\r\nNew to Java streams and trying to convert it.","title":"Simplifing the Nested for-loop using Stream API","body":"<p>I am trying to achieve the following by converting two for loops using Java Streams.</p>\n<pre><code>Set&lt;Type2&gt; set = new HashSet&lt;&gt;();\n\nfor (Test1 test1 : testlist1) {           // testlist1 is a list\n    for (Test2 test2 : test1.getList()) { // test1.getList() returns a list\n        set.add(test2);\n    }\n}\n</code></pre>\n<p>New to Java streams and trying to convert it.</p>\n"},{"tags":["java","eclipse","maven","osgi","windowsbuilder"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1666024381,"post_id":74100274,"comment_id":130832229,"body_markdown":"The contents of `configuration/org.eclipse.osgi` changes all the time, you should never touch that. It is not likely to be related to the problem.","body":"The contents of <code>configuration&#47;org.eclipse.osgi</code> changes all the time, you should never touch that. It is not likely to be related to the problem."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1666024503,"post_id":74100274,"comment_id":130832276,"body_markdown":"Do you mean [WindowBuilder](https://www.eclipse.org/windowbuilder/)? How did you install it? Does the issue go away when uninstalling WindowBuilder? Can you reproduce it with the current Eclipse? Where do you get this error message? If there is something in the error log, please add the full error message to your question.","body":"Do you mean <a href=\"https://www.eclipse.org/windowbuilder/\" rel=\"nofollow noreferrer\">WindowBuilder</a>? How did you install it? Does the issue go away when uninstalling WindowBuilder? Can you reproduce it with the current Eclipse? Where do you get this error message? If there is something in the error log, please add the full error message to your question."}],"answers":[{"tags":[],"owner":{"account_id":8240991,"reputation":13,"user_id":6198651,"display_name":"Schulefant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666084236,"creation_date":1666084236,"answer_id":74108415,"question_id":74100274,"body_markdown":"I finally found the source of the problem. The Admin installed the Nightly Build of WindowBuilder. If instead just the version 1.9.8 is installed everything works again.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SDkYa.png","title":"java.lang.NoClassDefFoundError in Maven build after installing eclipse WindowsBuilder plugin","body":"<p>I finally found the source of the problem. The Admin installed the Nightly Build of WindowBuilder. If instead just the version 1.9.8 is installed everything works again.\n<a href=\"https://i.stack.imgur.com/SDkYa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SDkYa.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8240991,"reputation":13,"user_id":6198651,"display_name":"Schulefant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74108415,"answer_count":1,"score":0,"last_activity_date":1666084236,"creation_date":1666023706,"question_id":74100274,"body_markdown":"I am working with eclipse Version: 2022-03 (4.23.0) Build id: 20220310-1457\r\nand Maven. If I build without Maven - it works. \r\n\r\nMy Maven build also worked fine until a new plugin &quot;Windows Builder&quot; was installed. Since then I am getting the following error message:\r\n\r\n    constituent[40]: file:/C:/eclipse/configuration/org.eclipse.osgi/1285/0/.cp/\r\n    constituent[41]: file:/C:/eclipse/configuration/org.eclipse.osgi/443/0/.cp/\r\n    constituent[42]: file:/C:/eclipse/configuration/org.eclipse.osgi/20/0/.cp/\r\n    ---------------------------------------------------\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/util/concurrent/internal/InternalFutureFailureAccess\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\r\nI included the first 3 lines, because when I compare the old configurations, there are  a lot of new folders in the configuration/org.eclipse.osgi - these three folders are definitely not in the old configuration and that seems to be causing the problem. If I delete these folders eclipse doesn&#39;t work any more.\r\n\r\nJust in case it is necessary this is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;Schulefant&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;MavenMitarbeiterGUIAndCI&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;&lt;!-- Auf diese properties wird unten mit ${} zugegriffen --&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;junit.jupiter.version&gt;5.8.1&lt;/junit.jupiter.version&gt; \r\n    \t\t&lt;junit.platform.version&gt;1.8.1&lt;/junit.platform.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;&lt;!-- wird nur bei mvn test durchgef&#252;hrt, aber nicht bei mvn compile --&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.platform.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;\r\n                            --illegal-access=permit\r\n                        &lt;/argLine&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;\r\n                            --illegal-access=permit\r\n                        &lt;/argLine&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;!-- Configures the content of the created manifest --&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;!-- Adds the classpath to the created manifest --&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;!-- Specifies that all dependencies of our application are found --&gt;\r\n    \t\t\t\t\t\t\t&lt;!-- Configures the main class of the application --&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;RunMitarbeiterverwaltung&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"java.lang.NoClassDefFoundError in Maven build after installing eclipse WindowsBuilder plugin","body":"<p>I am working with eclipse Version: 2022-03 (4.23.0) Build id: 20220310-1457\nand Maven. If I build without Maven - it works.</p>\n<p>My Maven build also worked fine until a new plugin &quot;Windows Builder&quot; was installed. Since then I am getting the following error message:</p>\n<pre><code>constituent[40]: file:/C:/eclipse/configuration/org.eclipse.osgi/1285/0/.cp/\nconstituent[41]: file:/C:/eclipse/configuration/org.eclipse.osgi/443/0/.cp/\nconstituent[42]: file:/C:/eclipse/configuration/org.eclipse.osgi/20/0/.cp/\n---------------------------------------------------\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/util/concurrent/internal/InternalFutureFailureAccess\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n</code></pre>\n<p>I included the first 3 lines, because when I compare the old configurations, there are  a lot of new folders in the configuration/org.eclipse.osgi - these three folders are definitely not in the old configuration and that seems to be causing the problem. If I delete these folders eclipse doesn't work any more.</p>\n<p>Just in case it is necessary this is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;Schulefant&lt;/groupId&gt;\n    &lt;artifactId&gt;MavenMitarbeiterGUIAndCI&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;&lt;!-- Auf diese properties wird unten mit ${} zugegriffen --&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;junit.jupiter.version&gt;5.8.1&lt;/junit.jupiter.version&gt; \n        &lt;junit.platform.version&gt;1.8.1&lt;/junit.platform.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;&lt;!-- wird nur bei mvn test durchgeführt, aber nicht bei mvn compile --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;version&gt;${junit.platform.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --illegal-access=permit\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --illegal-access=permit\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;!-- Configures the content of the created manifest --&gt;\n                        &lt;manifest&gt;\n                            &lt;!-- Adds the classpath to the created manifest --&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;!-- Specifies that all dependencies of our application are found --&gt;\n                            &lt;!-- Configures the main class of the application --&gt;\n                            &lt;mainClass&gt;RunMitarbeiterverwaltung&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1666091877,"post_id":74105325,"comment_id":130848424,"body_markdown":"Which Eclipse version? Please show the error log message starting with `!SESSION`.","body":"Which Eclipse version? Please show the error log message starting with <code>!SESSION</code>."}],"answers":[{"tags":[],"owner":{"account_id":26557785,"reputation":159,"user_id":20186121,"display_name":"Abhishek Kumar Jena"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666083419,"creation_date":1666072370,"answer_id":74106278,"question_id":74105325,"body_markdown":"I was facing the same issue, no need of doing that thing,\r\n\r\nyou can use [spring tool suite][1] similar to your IDE\r\n\r\nor\r\n\r\ncreate a project using [this spring initializer][2] link, add all the dependencies and download the project,\r\n\r\nafter that open the project in eclipse IDE as a Maven project and wait for a while till the project import all jars and built it (this process is automatic, the ide will handle it), then hopefully your program will work as a Maven project.\r\n\r\nping me if you need any other help.\r\n\r\n\r\n  [1]: https://spring.io/tools\r\n  [2]: https://start.spring.io/","title":"Installing spring boot 4 on eclipse marketplace bug","body":"<p>I was facing the same issue, no need of doing that thing,</p>\n<p>you can use <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">spring tool suite</a> similar to your IDE</p>\n<p>or</p>\n<p>create a project using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">this spring initializer</a> link, add all the dependencies and download the project,</p>\n<p>after that open the project in eclipse IDE as a Maven project and wait for a while till the project import all jars and built it (this process is automatic, the ide will handle it), then hopefully your program will work as a Maven project.</p>\n<p>ping me if you need any other help.</p>\n"},{"tags":[],"owner":{"account_id":26421658,"reputation":7,"user_id":20069248,"display_name":"Dinesh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666079911,"creation_date":1666079911,"answer_id":74107593,"question_id":74105325,"body_markdown":"You can use `STS(Spring Tool Suite)` while using eclipse. &lt;br /&gt;\r\nSTS Link [here][1]\r\n\r\n\r\n  [1]: https://spring.io/tools","title":"Installing spring boot 4 on eclipse marketplace bug","body":"<p>You can use <code>STS(Spring Tool Suite)</code> while using eclipse. <br />\nSTS Link <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":19400325,"reputation":21,"user_id":14187037,"display_name":"Raphael01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74106278,"answer_count":2,"score":1,"last_activity_date":1666083419,"creation_date":1666063280,"question_id":74105325,"body_markdown":"When i try to install spring boot 4 from the eclipse enterprise marketplace it gives me this error:\r\n```\r\nAn error occurred while collecting items to be installed\r\nsession context was:(profile=epp.package.jee, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nProblems downloading artifact: org.eclipse.update.feature,org.springframework.boot.ide.main.feature,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile4943392527699778307.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile4943392527699778307.jar\r\nProblems downloading artifact: binary,org.springframework.boot.ide.main.feature_root,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile6217771959087543644.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile6217771959087543644.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.beans.ui.live,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile7582271787004894753.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile7582271787004894753.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile17455786453498510958.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile17455786453498510958.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.dash,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile1007839680012004648.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile1007839680012004648.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.dash.cf,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile9177732891863162585.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile9177732891863162585.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.dash.docker,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile10670787780309912168.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile10670787780309912168.jar\r\nProblems downloading artifact: org.eclipse.update.feature,org.springframework.ide.eclipse.boot.dash.feature,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile674815030375978216.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile674815030375978216.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.launch,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2565548804631224580.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2565548804631224580.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.refactoring,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile5678240629295744215.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile5678240629295744215.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.restart,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile8032861415938568316.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile8032861415938568316.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.templates,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2435013977189726989.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2435013977189726989.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.validation,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile14233253980832995429.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile14233253980832995429.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.wizard,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile18322017414743641069.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile18322017414743641069.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.buildship30,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile12754653215161193585.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile12754653215161193585.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.docker.client,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile15021084922616637580.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile15021084922616637580.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.imports,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile3905959110866512809.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile3905959110866512809.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.maven.pom,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile9535522334882972957.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile9535522334882972957.jar\r\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.xml.namespaces,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile12146099126646089231.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile12146099126646089231.jar\r\nProblems downloading artifact: org.eclipse.update.feature,org.springframework.ide.eclipse.xml.namespaces.feature,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile17322411091426765788.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile17322411091426765788.jar\r\nProblems downloading artifact: osgi.bundle,org.springsource.ide.eclipse.commons.cloudfoundry.client.v2,4.16.0.202209151144.\r\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2325110498129798983.jar\r\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2325110498129798983.jar\r\n```\r\n\r\nHow do i fix this error?","title":"Installing spring boot 4 on eclipse marketplace bug","body":"<p>When i try to install spring boot 4 from the eclipse enterprise marketplace it gives me this error:</p>\n<pre><code>An error occurred while collecting items to be installed\nsession context was:(profile=epp.package.jee, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nProblems downloading artifact: org.eclipse.update.feature,org.springframework.boot.ide.main.feature,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile4943392527699778307.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile4943392527699778307.jar\nProblems downloading artifact: binary,org.springframework.boot.ide.main.feature_root,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile6217771959087543644.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile6217771959087543644.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.beans.ui.live,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile7582271787004894753.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile7582271787004894753.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile17455786453498510958.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile17455786453498510958.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.dash,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile1007839680012004648.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile1007839680012004648.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.dash.cf,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile9177732891863162585.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile9177732891863162585.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.dash.docker,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile10670787780309912168.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile10670787780309912168.jar\nProblems downloading artifact: org.eclipse.update.feature,org.springframework.ide.eclipse.boot.dash.feature,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile674815030375978216.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile674815030375978216.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.launch,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2565548804631224580.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2565548804631224580.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.refactoring,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile5678240629295744215.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile5678240629295744215.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.restart,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile8032861415938568316.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile8032861415938568316.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.templates,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2435013977189726989.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2435013977189726989.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.validation,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile14233253980832995429.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile14233253980832995429.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.boot.wizard,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile18322017414743641069.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile18322017414743641069.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.buildship30,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile12754653215161193585.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile12754653215161193585.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.docker.client,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile15021084922616637580.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile15021084922616637580.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.imports,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile3905959110866512809.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile3905959110866512809.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.maven.pom,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile9535522334882972957.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile9535522334882972957.jar\nProblems downloading artifact: osgi.bundle,org.springframework.ide.eclipse.xml.namespaces,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile12146099126646089231.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile12146099126646089231.jar\nProblems downloading artifact: org.eclipse.update.feature,org.springframework.ide.eclipse.xml.namespaces.feature,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile17322411091426765788.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile17322411091426765788.jar\nProblems downloading artifact: osgi.bundle,org.springsource.ide.eclipse.commons.cloudfoundry.client.v2,4.16.0.202209151144.\nError reading signed content:C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2325110498129798983.jar\nAn error occurred while processing the signatures for the file: C:\\Users\\otoja\\AppData\\Local\\Temp\\signatureFile2325110498129798983.jar\n</code></pre>\n<p>How do i fix this error?</p>\n"},{"tags":["java","unit-testing","apache-kafka","junit","mockito"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1666020446,"post_id":74098818,"comment_id":130830612,"body_markdown":"As a rule of thumb, [do not mock classes you don&#39;t own](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own). You test is not testing anything. It&#39;s just coupling the implementation to your test for no gain.","body":"As a rule of thumb, <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own\" rel=\"nofollow noreferrer\">do not mock classes you don&#39;t own</a>. You test is not testing anything. It&#39;s just coupling the implementation to your test for no gain."}],"answers":[{"tags":[],"owner":{"account_id":26611340,"reputation":1,"user_id":20231490,"display_name":"Steven Garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666083326,"creation_date":1666031457,"answer_id":74101639,"question_id":74098818,"body_markdown":"```\r\nMockito.when(mockClient.getKafka().createTopics(Mockito.anyList()))\r\n       .thenReturn(mockCreateTopicResult);\r\n```\r\n\r\nThe issue was that I was using `anyList()`, when the `createTopics()` only accepts `Collections`.\r\n\r\nThe fix: `Mockito.anyCollections()`","title":"NullPointer Mocking Kafka Results","body":"<pre><code>Mockito.when(mockClient.getKafka().createTopics(Mockito.anyList()))\n       .thenReturn(mockCreateTopicResult);\n</code></pre>\n<p>The issue was that I was using <code>anyList()</code>, when the <code>createTopics()</code> only accepts <code>Collections</code>.</p>\n<p>The fix: <code>Mockito.anyCollections()</code></p>\n"}],"owner":{"account_id":26611340,"reputation":1,"user_id":20231490,"display_name":"Steven Garcia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666083326,"creation_date":1666016999,"question_id":74098818,"body_markdown":"I am writing tests and I was looking to mock the result of the kafka admin client, when a topic is created.\r\n\r\nI am using Mockito to write my unit tests.\r\n\r\n\r\nHere is the test code:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.TreeMap;\r\nimport java.util.concurrent.ExecutionException;\r\n\r\nimport org.apache.kafka.clients.admin.Admin;\r\nimport org.apache.kafka.clients.admin.CreateTopicsResult;\r\nimport org.apache.kafka.clients.admin.ListTopicsResult;\r\nimport org.apache.kafka.common.KafkaFuture;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\nimport org.mockito.Mock;\r\nimport io.quarkus.test.junit.QuarkusTest;\r\nimport io.quarkus.test.junit.main.Launch;\r\nimport io.restassured.RestAssured;\r\nimport io.restassured.filter.log.RequestLoggingFilter;\r\nimport io.restassured.filter.log.ResponseLoggingFilter;\r\n\r\n@QuarkusTest\r\npublic class AppTest {\r\n\r\n    @InjectMocks\r\n    private App mockApp;\r\n\r\n    @Mock\r\n    private Client mockClient;\r\n\r\n    @Mock\r\n    private Database mockDatabase;\r\n\r\n    @Mock\r\n    private Admin mockKafkaAdmin;\r\n\r\n    @Mock\r\n    private ListTopicsResult mockListTopicResult;\r\n\r\n    @Mock\r\n    private KafkaFuture&lt;Set&lt;String&gt;&gt; mockKafkaFuture;\r\n\r\n    @Mock\r\n    private KafkaFuture&lt;Void&gt; mockKafkaFutureVoid;\r\n\r\n    @Mock\r\n    private Set&lt;String&gt; mockSet;\r\n\r\n    @Mock\r\n    private CreateTopicsResult mockCreateTopicResult;\r\n\r\n    @Mock\r\n    private Map&lt;String, KafkaFuture&lt;Void&gt;&gt; mockKafkaTopicResult;\r\n    \r\n    @BeforeAll\r\n    public static void setupAll() {\r\n        RestAssured.filters(new RequestLoggingFilter(), new ResponseLoggingFilter());\r\n    }\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    @Launch(value = {}, exitCode = 1)\r\n    public void testLaunchCommandFailed() {}\r\n\r\n    @Test\r\n    public void testCreateTopic() throws InterruptedException, ExecutionException {\r\n        Mockito.when(mockClient.getKafka()).thenReturn(mockKafkaAdmin);\r\n        Mockito.when(mockClient.getKafka().createTopics(Mockito.anyList())).thenReturn(mockCreateTopicResult);\r\n        Mockito.when(mockCreateTopicResult.values()).thenReturn(mockKafkaTopicResult);\r\n        Mockito.when(mockKafkaTopicResult.get(&quot;meme.transmit.test&quot;)).thenReturn(mockKafkaFutureVoid);\r\n        mockApp.createTopic(&quot;test&quot;);\r\n        Mockito.when(mockClient.getKafka().listTopics()).thenReturn(mockListTopicResult);\r\n        Mockito.when(mockClient.getKafka().listTopics().names()).thenReturn(mockKafkaFuture);\r\n        Mockito.when(mockClient.getKafka().listTopics().names().get()).thenReturn(mockSet);\r\n        Assertions.assertTrue(mockApp.containsTopic(&quot;test&quot;));\r\n    }\r\n// ...\r\n}\r\n```\r\n\r\nI get a nullpointer error when this line is called in the production code:\r\n\r\n`Mockito.when(mockCreateTopicResult.values()).thenReturn(mockKafkaTopicResult);`\r\n\r\nBut as you can see I mocked it with `mockKafkaTopicResult`. What might I be missing here? Also is there an easier method to work with `KafkaAdminClient` when writing unit tests?","title":"NullPointer Mocking Kafka Results","body":"<p>I am writing tests and I was looking to mock the result of the kafka admin client, when a topic is created.</p>\n<p>I am using Mockito to write my unit tests.</p>\n<p>Here is the test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeMap;\nimport java.util.concurrent.ExecutionException;\n\nimport org.apache.kafka.clients.admin.Admin;\nimport org.apache.kafka.clients.admin.CreateTopicsResult;\nimport org.apache.kafka.clients.admin.ListTopicsResult;\nimport org.apache.kafka.common.KafkaFuture;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\n\nimport org.mockito.Mock;\nimport io.quarkus.test.junit.QuarkusTest;\nimport io.quarkus.test.junit.main.Launch;\nimport io.restassured.RestAssured;\nimport io.restassured.filter.log.RequestLoggingFilter;\nimport io.restassured.filter.log.ResponseLoggingFilter;\n\n@QuarkusTest\npublic class AppTest {\n\n    @InjectMocks\n    private App mockApp;\n\n    @Mock\n    private Client mockClient;\n\n    @Mock\n    private Database mockDatabase;\n\n    @Mock\n    private Admin mockKafkaAdmin;\n\n    @Mock\n    private ListTopicsResult mockListTopicResult;\n\n    @Mock\n    private KafkaFuture&lt;Set&lt;String&gt;&gt; mockKafkaFuture;\n\n    @Mock\n    private KafkaFuture&lt;Void&gt; mockKafkaFutureVoid;\n\n    @Mock\n    private Set&lt;String&gt; mockSet;\n\n    @Mock\n    private CreateTopicsResult mockCreateTopicResult;\n\n    @Mock\n    private Map&lt;String, KafkaFuture&lt;Void&gt;&gt; mockKafkaTopicResult;\n    \n    @BeforeAll\n    public static void setupAll() {\n        RestAssured.filters(new RequestLoggingFilter(), new ResponseLoggingFilter());\n    }\n\n    @BeforeEach\n    public void setUp() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    @Launch(value = {}, exitCode = 1)\n    public void testLaunchCommandFailed() {}\n\n    @Test\n    public void testCreateTopic() throws InterruptedException, ExecutionException {\n        Mockito.when(mockClient.getKafka()).thenReturn(mockKafkaAdmin);\n        Mockito.when(mockClient.getKafka().createTopics(Mockito.anyList())).thenReturn(mockCreateTopicResult);\n        Mockito.when(mockCreateTopicResult.values()).thenReturn(mockKafkaTopicResult);\n        Mockito.when(mockKafkaTopicResult.get(&quot;meme.transmit.test&quot;)).thenReturn(mockKafkaFutureVoid);\n        mockApp.createTopic(&quot;test&quot;);\n        Mockito.when(mockClient.getKafka().listTopics()).thenReturn(mockListTopicResult);\n        Mockito.when(mockClient.getKafka().listTopics().names()).thenReturn(mockKafkaFuture);\n        Mockito.when(mockClient.getKafka().listTopics().names().get()).thenReturn(mockSet);\n        Assertions.assertTrue(mockApp.containsTopic(&quot;test&quot;));\n    }\n// ...\n}\n</code></pre>\n<p>I get a nullpointer error when this line is called in the production code:</p>\n<p><code>Mockito.when(mockCreateTopicResult.values()).thenReturn(mockKafkaTopicResult);</code></p>\n<p>But as you can see I mocked it with <code>mockKafkaTopicResult</code>. What might I be missing here? Also is there an easier method to work with <code>KafkaAdminClient</code> when writing unit tests?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1346022620,"creation_date":1346022620,"answer_id":12134649,"question_id":12134231,"body_markdown":"Using a custom [`JsonSerializer`][1].\r\n\r\n    public class Response {\r\n      private String status;\r\n      private String error;\r\n        \r\n      @JsonProperty(&quot;p&quot;)\r\n      @JsonSerialize(using = CustomSerializer.class)\r\n      private Object data;\r\n        \r\n      // ...\r\n    }\r\n\r\n    public class CustomSerializer extends JsonSerializer&lt;Object&gt; {\r\n      public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\r\n        jgen.writeStartObject();\r\n    \tjgen.writeObjectField(value.getClass().getName(), value);\r\n        jgen.writeEndObject();\r\n      }\r\n    }\r\n\r\nAnd then, suppose you want to serialize the following two objects:\r\n\r\n    public static void main(String... args) throws Exception {\r\n      ObjectMapper mapper = new ObjectMapper();\r\n      Response r1 = new Response(&quot;Error&quot;, &quot;Some error&quot;, 20);\r\n      System.out.println(mapper.writeValueAsString(r1));\r\n      Response r2 = new Response(&quot;Error&quot;, &quot;Some error&quot;, &quot;some string&quot;);\r\n      System.out.println(mapper.writeValueAsString(r2));\r\n    }\r\n\r\nThe first one will print:\r\n\r\n    {&quot;status&quot;:&quot;Error&quot;,&quot;error&quot;:&quot;Some error&quot;,&quot;p&quot;:{&quot;java.lang.Integer&quot;:20}}\r\n\r\nAnd the second one:\r\n\r\n    {&quot;status&quot;:&quot;Error&quot;,&quot;error&quot;:&quot;Some error&quot;,&quot;p&quot;:{&quot;java.lang.String&quot;:&quot;some string&quot;}}\r\n\r\nI have used the name `p` for the wrapper object since it will merely serve as a `p`laceholder. If you want to remove it, you&#39;d have to write a custom serializer for the *entire* class, i.e., a `JsonSerializer&lt;Response&gt;`.\r\n\r\n  [1]: http://wiki.fasterxml.com/JsonSerializer","title":"Jackson dynamic property names","body":"<p>Using a custom <a href=\"http://wiki.fasterxml.com/JsonSerializer\"><code>JsonSerializer</code></a>.</p>\n\n<pre><code>public class Response {\n  private String status;\n  private String error;\n\n  @JsonProperty(\"p\")\n  @JsonSerialize(using = CustomSerializer.class)\n  private Object data;\n\n  // ...\n}\n\npublic class CustomSerializer extends JsonSerializer&lt;Object&gt; {\n  public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\n    jgen.writeStartObject();\n    jgen.writeObjectField(value.getClass().getName(), value);\n    jgen.writeEndObject();\n  }\n}\n</code></pre>\n\n<p>And then, suppose you want to serialize the following two objects:</p>\n\n<pre><code>public static void main(String... args) throws Exception {\n  ObjectMapper mapper = new ObjectMapper();\n  Response r1 = new Response(\"Error\", \"Some error\", 20);\n  System.out.println(mapper.writeValueAsString(r1));\n  Response r2 = new Response(\"Error\", \"Some error\", \"some string\");\n  System.out.println(mapper.writeValueAsString(r2));\n}\n</code></pre>\n\n<p>The first one will print:</p>\n\n<pre><code>{\"status\":\"Error\",\"error\":\"Some error\",\"p\":{\"java.lang.Integer\":20}}\n</code></pre>\n\n<p>And the second one:</p>\n\n<pre><code>{\"status\":\"Error\",\"error\":\"Some error\",\"p\":{\"java.lang.String\":\"some string\"}}\n</code></pre>\n\n<p>I have used the name <code>p</code> for the wrapper object since it will merely serve as a <code>p</code>laceholder. If you want to remove it, you'd have to write a custom serializer for the <em>entire</em> class, i.e., a <code>JsonSerializer&lt;Response&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1498585,"reputation":2754,"user_id":1403954,"display_name":"Pascal G&#233;linas"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1479884455,"creation_date":1346085386,"answer_id":12145964,"question_id":12134231,"body_markdown":"You can use the annotation `JsonTypeInfo`, which tell Jackson exactly that and you don&#39;t need to write a custom serializer. There&#39;s various way to include this information, but for your specific question you&#39;d use `As.WRAPPER_OBJECT` and `Id.CLASS`. For example:\r\n\r\n    public static class Response {\r\n        private Status status;\r\n        private String error;\r\n        @JsonTypeInfo(include = As.WRAPPER_OBJECT, use = Id.CLASS)\r\n        private Object data;\r\n    }\r\n\r\nThis, however, will not work on primitive type, such as a String or Integer. You don&#39;t need that information for primitives anyways, since they are natively represented in JSON and Jackson knows how to handle them. The added bonus with using the annotation is that you get deserialization for free, if you ever need it. Here&#39;s an example:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Response r1 = new Response(&quot;Status&quot;, &quot;An error&quot;, &quot;some data&quot;);\r\n        Response r2 = new Response(&quot;Status&quot;, &quot;An error&quot;, 10);\r\n        Response r3 = new Response(&quot;Status&quot;, &quot;An error&quot;, new MyClass(&quot;data&quot;));\r\n        System.out.println(mapper.writeValueAsString(r1));\r\n        System.out.println(mapper.writeValueAsString(r2));\r\n        System.out.println(mapper.writeValueAsString(r3));\r\n    }\r\n    \t\r\n    @JsonAutoDetect(fieldVisibility=Visibility.ANY)\r\n    public static class MyClass{\r\n        private String data;\r\n        public MyClass(String data) {\r\n            this.data = data;\r\n        }\r\n    }\r\n\r\nand the result:\r\n\r\n    {&quot;status&quot;:&quot;Status&quot;,&quot;error&quot;:&quot;An error&quot;,&quot;data&quot;:&quot;some data&quot;}\r\n    {&quot;status&quot;:&quot;Status&quot;,&quot;error&quot;:&quot;An error&quot;,&quot;data&quot;:10}\r\n    {&quot;status&quot;:&quot;Status&quot;,&quot;error&quot;:&quot;An error&quot;,&quot;data&quot;:{&quot;some.package.MyClass&quot;:{&quot;data&quot;:&quot;data&quot;}}}","title":"Jackson dynamic property names","body":"<p>You can use the annotation <code>JsonTypeInfo</code>, which tell Jackson exactly that and you don't need to write a custom serializer. There's various way to include this information, but for your specific question you'd use <code>As.WRAPPER_OBJECT</code> and <code>Id.CLASS</code>. For example:</p>\n\n<pre><code>public static class Response {\n    private Status status;\n    private String error;\n    @JsonTypeInfo(include = As.WRAPPER_OBJECT, use = Id.CLASS)\n    private Object data;\n}\n</code></pre>\n\n<p>This, however, will not work on primitive type, such as a String or Integer. You don't need that information for primitives anyways, since they are natively represented in JSON and Jackson knows how to handle them. The added bonus with using the annotation is that you get deserialization for free, if you ever need it. Here's an example:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    ObjectMapper mapper = new ObjectMapper();\n    Response r1 = new Response(\"Status\", \"An error\", \"some data\");\n    Response r2 = new Response(\"Status\", \"An error\", 10);\n    Response r3 = new Response(\"Status\", \"An error\", new MyClass(\"data\"));\n    System.out.println(mapper.writeValueAsString(r1));\n    System.out.println(mapper.writeValueAsString(r2));\n    System.out.println(mapper.writeValueAsString(r3));\n}\n\n@JsonAutoDetect(fieldVisibility=Visibility.ANY)\npublic static class MyClass{\n    private String data;\n    public MyClass(String data) {\n        this.data = data;\n    }\n}\n</code></pre>\n\n<p>and the result:</p>\n\n<pre><code>{\"status\":\"Status\",\"error\":\"An error\",\"data\":\"some data\"}\n{\"status\":\"Status\",\"error\":\"An error\",\"data\":10}\n{\"status\":\"Status\",\"error\":\"An error\",\"data\":{\"some.package.MyClass\":{\"data\":\"data\"}}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":614546,"reputation":89,"user_id":344777,"display_name":"sylvek"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1346934725,"creation_date":1346934725,"answer_id":12300207,"question_id":12134231,"body_markdown":"my own solution.\r\n\r\n    @Data\r\n    @EqualsAndHashCode\r\n    @ToString\r\n    @JsonSerialize(using = ElementsListBean.CustomSerializer.class)\r\n    public class ElementsListBean&lt;T&gt; {\r\n    \r\n        public ElementsListBean()\r\n        {\r\n        }\r\n    \r\n        public ElementsListBean(final String fieldName, final List&lt;T&gt; elements)\r\n        {\r\n            this.fieldName = fieldName;\r\n            this.elements = elements;\r\n        }\r\n    \r\n        private String fieldName;\r\n    \r\n        private List&lt;T&gt; elements;\r\n    \r\n        public int length()\r\n        {\r\n            return (this.elements != null) ? this.elements.size() : 0;\r\n        }\r\n    \r\n        private static class CustomSerializer extends JsonSerializer&lt;Object&gt; {\r\n            public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException,\r\n                    JsonProcessingException\r\n            {\r\n                if (value instanceof ElementsListBean) {\r\n                    final ElementsListBean&lt;?&gt; o = (ElementsListBean&lt;?&gt;) value;\r\n                    jgen.writeStartObject();\r\n                    jgen.writeArrayFieldStart(o.getFieldName());\r\n                    for (Object e : o.getElements()) {\r\n                        jgen.writeObject(e);\r\n                    }\r\n                    jgen.writeEndArray();\r\n                    jgen.writeNumberField(&quot;length&quot;, o.length());\r\n                    jgen.writeEndObject();\r\n                }\r\n            }\r\n        }\r\n    }","title":"Jackson dynamic property names","body":"<p>my own solution.</p>\n\n<pre><code>@Data\n@EqualsAndHashCode\n@ToString\n@JsonSerialize(using = ElementsListBean.CustomSerializer.class)\npublic class ElementsListBean&lt;T&gt; {\n\n    public ElementsListBean()\n    {\n    }\n\n    public ElementsListBean(final String fieldName, final List&lt;T&gt; elements)\n    {\n        this.fieldName = fieldName;\n        this.elements = elements;\n    }\n\n    private String fieldName;\n\n    private List&lt;T&gt; elements;\n\n    public int length()\n    {\n        return (this.elements != null) ? this.elements.size() : 0;\n    }\n\n    private static class CustomSerializer extends JsonSerializer&lt;Object&gt; {\n        public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException,\n                JsonProcessingException\n        {\n            if (value instanceof ElementsListBean) {\n                final ElementsListBean&lt;?&gt; o = (ElementsListBean&lt;?&gt;) value;\n                jgen.writeStartObject();\n                jgen.writeArrayFieldStart(o.getFieldName());\n                for (Object e : o.getElements()) {\n                    jgen.writeObject(e);\n                }\n                jgen.writeEndArray();\n                jgen.writeNumberField(\"length\", o.length());\n                jgen.writeEndObject();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451896,"reputation":1220,"user_id":848034,"display_name":"tlogbon"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1513589330,"creation_date":1513589330,"answer_id":47865406,"question_id":12134231,"body_markdown":"I had a simpler solution using `@JsonAnyGetter` annotation, and it worked like a charm.\r\n\r\n\r\n\timport java.util.Collections;\r\n\timport java.util.Map;\r\n    \r\n    public class Response {\r\n\t    private Status status;\r\n\t    private String error;\r\n\r\n\t    @JsonIgnore\r\n\t    private Object data;\r\n\r\n\t    [getters, setters]\r\n\r\n\t    @JsonAnyGetter\r\n\t    public Map&lt;String, Object&gt; any() {\r\n\t    \t//add the custom name here\r\n\t    \t//use full HashMap if you need more than one property\r\n\t    \treturn Collections.singletonMap(data.getClass().getName(), data);\r\n\t    }\r\n    }\r\n\r\nNo wrapper needed, no custom serializer needed.","title":"Jackson dynamic property names","body":"<p>I had a simpler solution using <code>@JsonAnyGetter</code> annotation, and it worked like a charm.</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.Map;\n\npublic class Response {\n    private Status status;\n    private String error;\n\n    @JsonIgnore\n    private Object data;\n\n    [getters, setters]\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; any() {\n        //add the custom name here\n        //use full HashMap if you need more than one property\n        return Collections.singletonMap(data.getClass().getName(), data);\n    }\n}\n</code></pre>\n\n<p>No wrapper needed, no custom serializer needed.</p>\n"},{"tags":[],"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666082744,"creation_date":1666082744,"answer_id":74108156,"question_id":12134231,"body_markdown":"Based on @tlogbon response,\r\nHere is my solution to wrap a List of Items with a specific/dynamic filed name\r\n\r\n```\r\npublic class ListResource&lt;T&gt; {\r\n\r\n    @JsonIgnore\r\n    private List&lt;T&gt; items;\r\n\r\n    @JsonIgnore\r\n    private String fieldName;\r\n\r\n    public ListResource(String fieldName, List&lt;T&gt; items) {\r\n        this.items = items;\r\n        this.fieldName = fieldName;\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, List&lt;T&gt;&gt; getMap() {\r\n        return Collections.singletonMap(fieldName, items);\r\n    }\r\n```","title":"Jackson dynamic property names","body":"<p>Based on @tlogbon response,\nHere is my solution to wrap a List of Items with a specific/dynamic filed name</p>\n<pre><code>public class ListResource&lt;T&gt; {\n\n    @JsonIgnore\n    private List&lt;T&gt; items;\n\n    @JsonIgnore\n    private String fieldName;\n\n    public ListResource(String fieldName, List&lt;T&gt; items) {\n        this.items = items;\n        this.fieldName = fieldName;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, List&lt;T&gt;&gt; getMap() {\n        return Collections.singletonMap(fieldName, items);\n    }\n</code></pre>\n"}],"owner":{"account_id":804216,"reputation":4662,"user_id":862193,"accept_rate":88,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66972,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":12134649,"answer_count":5,"score":35,"last_activity_date":1666082744,"creation_date":1346018207,"question_id":12134231,"body_markdown":"I would like serialize an object such that one of the fields will be named differently based on the type of the field. For example:\r\n\r\n    public class Response {\r\n    \tprivate Status status;\r\n    \tprivate String error;\r\n    \tprivate Object data;\r\n            [ getters, setters ]\r\n        }\r\n\r\nHere, I would like the field `data` to be serialized to something like `data.getClass.getName()` instead of always having a field called `data` which contains a different type depending on the situation.\r\n\r\nHow might I achieve such a trick using Jackson?","title":"Jackson dynamic property names","body":"<p>I would like serialize an object such that one of the fields will be named differently based on the type of the field. For example:</p>\n\n<pre><code>public class Response {\n    private Status status;\n    private String error;\n    private Object data;\n        [ getters, setters ]\n    }\n</code></pre>\n\n<p>Here, I would like the field <code>data</code> to be serialized to something like <code>data.getClass.getName()</code> instead of always having a field called <code>data</code> which contains a different type depending on the situation.</p>\n\n<p>How might I achieve such a trick using Jackson?</p>\n"},{"tags":["java","spring","jpa","nativequery"],"owner":{"account_id":7720262,"reputation":41,"user_id":5846703,"display_name":"T. Aris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666082728,"creation_date":1666082728,"question_id":74108150,"body_markdown":"I have this entity that i need to join with another unrelated entity, this is why I am using a native query.\r\n```\r\n@Entity\r\n@Table(name = &quot;surveillance_questionnaires&quot;)\r\n@Setter @Getter\r\npublic class SurveillanceQuestionnaire {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;surveillance_questionnaires_sequence&quot;)\r\n    @SequenceGenerator(name = &quot;surveillance_questionnaires_sequence&quot;, allocationSize = 5)\r\n    private Integer id;\r\n\r\n    @ElementCollection\r\n    @Fetch(FetchMode.JOIN)\r\n    @CollectionTable(name = &quot;surveillance_questionnaires_years&quot;, \r\n          joinColumns = @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;id&quot;))\r\n    @Column(name = &quot;year&quot;)\r\n    private List&lt;String&gt; years;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nIs there any way to fetch the SurveillanceQuestionnaire entity with its ElementCollection (years) using native query?","title":"Get ElementCollection with native query","body":"<p>I have this entity that i need to join with another unrelated entity, this is why I am using a native query.</p>\n<pre><code>@Entity\n@Table(name = &quot;surveillance_questionnaires&quot;)\n@Setter @Getter\npublic class SurveillanceQuestionnaire {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;surveillance_questionnaires_sequence&quot;)\n    @SequenceGenerator(name = &quot;surveillance_questionnaires_sequence&quot;, allocationSize = 5)\n    private Integer id;\n\n    @ElementCollection\n    @Fetch(FetchMode.JOIN)\n    @CollectionTable(name = &quot;surveillance_questionnaires_years&quot;, \n          joinColumns = @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;id&quot;))\n    @Column(name = &quot;year&quot;)\n    private List&lt;String&gt; years;\n\n    ...\n}\n</code></pre>\n<p>Is there any way to fetch the SurveillanceQuestionnaire entity with its ElementCollection (years) using native query?</p>\n"},{"tags":["java","maven","checksum"],"answers":[{"tags":[],"owner":{"account_id":9054285,"reputation":136,"user_id":6743192,"display_name":"rellabacode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666082583,"creation_date":1666023206,"answer_id":74100188,"question_id":73988550,"body_markdown":"Your need to change your include attribute to:\r\n\r\n    &lt;includes&gt;\r\n       &lt;include&gt;**/*.java&lt;/include&gt;\r\n    &lt;/includes&gt;\r\n\r\nWith this configuration the plugin will generate a sha1 file for every file. You can prevent this adding this attribute under the plugin configuration tag:\r\n\r\n    &lt;individualFiles&gt;false&lt;/individualFiles&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/InOxr.png\r\n\r\n&gt; #File,SHA-1 App.java,b0a90b4032c3fac0fda478551c2217f18b9f0452 Bottle.java,aa70994f30105c0dfc9276c2340e15c9f80be170\r\n&gt; BottleDao.java,23c7c76d5dcdd24fe159ed738f05cf0be607e94a\r\n&gt; BottleService.java,a1a3845b5a1be4031f63837c005f9b0bb4f7177f\r\n\r\nYou can run this specific plugin from command line with -f option (you need to correct pom.xml first): \r\n\r\n    mvn net.nicoulaj.maven.plugins:checksum-maven-plugin:1.10:files -f &quot;path_to_pom.xml&quot;","title":"create checksum of all files under src","body":"<p>Your need to change your include attribute to:</p>\n<pre><code>&lt;includes&gt;\n   &lt;include&gt;**/*.java&lt;/include&gt;\n&lt;/includes&gt;\n</code></pre>\n<p>With this configuration the plugin will generate a sha1 file for every file. You can prevent this adding this attribute under the plugin configuration tag:</p>\n<pre><code>&lt;individualFiles&gt;false&lt;/individualFiles&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/InOxr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/InOxr.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>#File,SHA-1 App.java,b0a90b4032c3fac0fda478551c2217f18b9f0452 Bottle.java,aa70994f30105c0dfc9276c2340e15c9f80be170\nBottleDao.java,23c7c76d5dcdd24fe159ed738f05cf0be607e94a\nBottleService.java,a1a3845b5a1be4031f63837c005f9b0bb4f7177f</p>\n</blockquote>\n<p>You can run this specific plugin from command line with -f option (you need to correct pom.xml first):</p>\n<pre><code>mvn net.nicoulaj.maven.plugins:checksum-maven-plugin:1.10:files -f &quot;path_to_pom.xml&quot;\n</code></pre>\n"}],"owner":{"account_id":6857956,"reputation":76,"user_id":11988137,"display_name":"patrinox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666082583,"creation_date":1665152239,"question_id":73988550,"body_markdown":"I&#39;m using below configuration in my project&#39;s pom.xml file.\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;net.nicoulaj.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;checksum-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.10&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;checksum-maven-plugin-files&lt;/id&gt;\r\n    \t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;files&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;fileSets&gt;\r\n    \t\t\t\t\t&lt;fileSet&gt;\r\n    \t\t\t\t\t\t&lt;directory&gt;${project.build.sourceDirectory}&lt;/directory&gt;\r\n    \t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t&lt;include&gt;*.java&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t&lt;/fileSet&gt;\r\n    \t\t\t\t&lt;/fileSets&gt;\r\n    \t\t\t\t&lt;algorithms&gt;\r\n    \t\t\t\t\t&lt;algorithm&gt;SHA-1&lt;/algorithm&gt;\r\n    \t\t\t\t&lt;/algorithms&gt;\r\n    \t\t\t\t&lt;csvSummary&gt;true&lt;/csvSummary&gt;\r\n    \t\t\t\t&lt;csvSummaryFile&gt;artifacts-checksums.csv&lt;/csvSummaryFile&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t\r\n    \t\t...\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI expect a dependencies-checksums.csv file somewhere in my project but after running `mvn clean install` command, I cannot get any file produced even though the command finishes successfully.\r\n\r\nAdditionally, I&#39;ve tried to run `mvn net.nicoulaj.maven.plugins:checksum-maven-plugin:1.10:files -DfileSets=[&#39;someClassPath&#39;]` command but I got `The parameters &#39;fileSets&#39; for goal net.nicoulaj.maven.plugins:checksum-maven-plugin:1.10:files are missing or invalid` message with failure result. I couldn&#39;t find any correct usage of this command with fileSets parameter. So, I couldn&#39;t run that command to get a result.\r\n\r\nI don&#39;t understand whether I misinterpreting the whole logic. Do I need to change a parameter in this configuration or run with another command to get a correct result of this?\r\n\r\nThanks in advance.","title":"create checksum of all files under src","body":"<p>I'm using below configuration in my project's pom.xml file.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.nicoulaj.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;checksum-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.10&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;checksum-maven-plugin-files&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;files&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;fileSets&gt;\n                    &lt;fileSet&gt;\n                        &lt;directory&gt;${project.build.sourceDirectory}&lt;/directory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;*.java&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/fileSet&gt;\n                &lt;/fileSets&gt;\n                &lt;algorithms&gt;\n                    &lt;algorithm&gt;SHA-1&lt;/algorithm&gt;\n                &lt;/algorithms&gt;\n                &lt;csvSummary&gt;true&lt;/csvSummary&gt;\n                &lt;csvSummaryFile&gt;artifacts-checksums.csv&lt;/csvSummaryFile&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        \n        ...\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I expect a dependencies-checksums.csv file somewhere in my project but after running <code>mvn clean install</code> command, I cannot get any file produced even though the command finishes successfully.</p>\n<p>Additionally, I've tried to run <code>mvn net.nicoulaj.maven.plugins:checksum-maven-plugin:1.10:files -DfileSets=['someClassPath']</code> command but I got <code>The parameters 'fileSets' for goal net.nicoulaj.maven.plugins:checksum-maven-plugin:1.10:files are missing or invalid</code> message with failure result. I couldn't find any correct usage of this command with fileSets parameter. So, I couldn't run that command to get a result.</p>\n<p>I don't understand whether I misinterpreting the whole logic. Do I need to change a parameter in this configuration or run with another command to get a correct result of this?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jdbctemplate"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1666080406,"post_id":74107625,"comment_id":130844655,"body_markdown":"Can you try renaming one of the `Ticker` maybe thats the issue.","body":"Can you try renaming one of the <code>Ticker</code> maybe thats the issue."},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1666080747,"post_id":74107625,"comment_id":130844769,"body_markdown":"If you can read it, just maybe you can debug it","body":"If you can read it, just maybe you can debug it"},{"owner":{"account_id":11029524,"reputation":321,"user_id":8101251,"accept_rate":38,"display_name":"Raghavi"},"score":0,"creation_date":1666083044,"post_id":74107625,"comment_id":130845450,"body_markdown":"sorry, my bad.. removed the duplicate setparamter. But the result is coming as empty","body":"sorry, my bad.. removed the duplicate setparamter. But the result is coming as empty"}],"owner":{"account_id":11029524,"reputation":321,"user_id":8101251,"accept_rate":38,"display_name":"Raghavi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666082445,"creation_date":1666080072,"question_id":74107625,"body_markdown":"Hi I am new to hibernate and named query. \r\n\r\n&gt;java.lang.IllegalArgumentException: org.hibernate.QueryException: Not all named parameters have been set: [] \r\n\r\nWithout passing the sectorId the query is working as expected. But after passing sectorId getting the above error. sectorId is received as List&lt;String&gt;. Ex- sectorId= [250, 254];\r\n\r\n    [SELECT CM.COMPANY_NAME_FULL as companyNameFull ,\r\n            MAX(CM.COMPANY_ID) as companyId , \r\n            CM.TICKER as Ticker, CM.YEAR_ENDING as YearEndingId, \r\n            CM.gics_id \r\n    FROM DETAILS_SMT  SM \r\n        JOIN META_DATA CM ON CM.TICKER = SM.TICKER JOIN M_DETAILS M ON M.ID = SM.ID \r\n        JOIN SMT_MAPPING TCM ON TCM.TICKER = M.TICKER \r\n    WHERE CM.TICKER NOT IN(:Ticker) \r\n    AND SM.IS_DELETED=&#39;N&#39; \r\n    AND M.IS_DELETED=&#39;N&#39; \r\n    AND CM.NOMY=(   SELECT DISTINCT NOMY FROM META_DATA  \r\n                    WHERE TICKER=:Ticker \r\n                    and cm.sectorId_id IN (:sectorId) \r\n                )\r\n    GROUP BY CM.COMPANY_NAME_FULL,CM.TICKER,CM.YEAR_ENDING\r\n    ]\r\n\r\nJava code:\r\n\t\r\n\r\n    Query nativeQuery= entityManager.createNativeQuery(QueryConstants.GET_LIST_BY_SECTOR);\r\n    nativeQuery.unwrap(SQLQuery.class)\r\n\t\t    .addScalar(&quot;companyId&quot;,new LongType())\r\n\t\t    .addScalar(&quot;Ticker&quot;,StandardBasicTypes.STRING)\r\n\t\t    .addScalar(&quot;companyNameFull&quot;, StandardBasicTypes.STRING)\r\n\t\t    .addScalar(&quot;YearEndingId&quot;, new LongType())\r\n\t\t    .setParameter(&quot;sectorId&quot;, sectorId)\r\n\t\t    .setParameter(&quot;Ticker&quot;, Ticker)\r\n    \t    .setResultTransformer(Transformers.aliasToBean(CompanyMetaMasterDto.class));\r\n    List&lt;CompanyMetaMasterDto&gt; list= nativeQuery.getResultList();","title":"java.lang.IllegalArgumentException: org.hibernate.QueryException: Not all named parameters have been set: []","body":"<p>Hi I am new to hibernate and named query.</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: org.hibernate.QueryException: Not all named parameters have been set: []</p>\n</blockquote>\n<p>Without passing the sectorId the query is working as expected. But after passing sectorId getting the above error. sectorId is received as List. Ex- sectorId= [250, 254];</p>\n<pre><code>[SELECT CM.COMPANY_NAME_FULL as companyNameFull ,\n        MAX(CM.COMPANY_ID) as companyId , \n        CM.TICKER as Ticker, CM.YEAR_ENDING as YearEndingId, \n        CM.gics_id \nFROM DETAILS_SMT  SM \n    JOIN META_DATA CM ON CM.TICKER = SM.TICKER JOIN M_DETAILS M ON M.ID = SM.ID \n    JOIN SMT_MAPPING TCM ON TCM.TICKER = M.TICKER \nWHERE CM.TICKER NOT IN(:Ticker) \nAND SM.IS_DELETED='N' \nAND M.IS_DELETED='N' \nAND CM.NOMY=(   SELECT DISTINCT NOMY FROM META_DATA  \n                WHERE TICKER=:Ticker \n                and cm.sectorId_id IN (:sectorId) \n            )\nGROUP BY CM.COMPANY_NAME_FULL,CM.TICKER,CM.YEAR_ENDING\n]\n</code></pre>\n<p>Java code:</p>\n<pre><code>Query nativeQuery= entityManager.createNativeQuery(QueryConstants.GET_LIST_BY_SECTOR);\nnativeQuery.unwrap(SQLQuery.class)\n        .addScalar(&quot;companyId&quot;,new LongType())\n        .addScalar(&quot;Ticker&quot;,StandardBasicTypes.STRING)\n        .addScalar(&quot;companyNameFull&quot;, StandardBasicTypes.STRING)\n        .addScalar(&quot;YearEndingId&quot;, new LongType())\n        .setParameter(&quot;sectorId&quot;, sectorId)\n        .setParameter(&quot;Ticker&quot;, Ticker)\n        .setResultTransformer(Transformers.aliasToBean(CompanyMetaMasterDto.class));\nList&lt;CompanyMetaMasterDto&gt; list= nativeQuery.getResultList();\n</code></pre>\n"},{"tags":["java","jar","java-11","noclassdeffounderror","chromium-embedded"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1666079598,"post_id":74107507,"comment_id":130844399,"body_markdown":"What command are you using to execute the JAR? What are the contents of the JAR?","body":"What command are you using to execute the JAR? What are the contents of the JAR?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666079701,"post_id":74107507,"comment_id":130844435,"body_markdown":"`NoClassDefFoundError` usually means the class was found when the project was compiled but it was not found when the JAR was executed. Please [edit] your question and post the entire stack trace. Also, does the JAR manifest file contain the `Class-Path` header?","body":"<code>NoClassDefFoundError</code> usually means the class was found when the project was compiled but it was not found when the JAR was executed. Please <a href=\"https://stackoverflow.com/posts/74107507/edit\">edit</a> your question and post the entire stack trace. Also, does the JAR manifest file contain the <code>Class-Path</code> header?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1666079709,"post_id":74107507,"comment_id":130844436,"body_markdown":"I think you expect Jar_Name.jar to be a fat jar (meaning a jar that packages all the dependencies), but it&#39;s instead a simple jar (and nobody gives the dependencies at runtime).","body":"I think you expect Jar_Name.jar to be a fat jar (meaning a jar that packages all the dependencies), but it&#39;s instead a simple jar (and nobody gives the dependencies at runtime)."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666079726,"post_id":74107507,"comment_id":130844444,"body_markdown":"The problem is that Eclipse automatically adds the libraries to your class or module path. When you use `java -jar ...` you need to provide that yourself, e.g. by using`-cp` along with the path to the libraries.","body":"The problem is that Eclipse automatically adds the libraries to your class or module path. When you use <code>java -jar ...</code> you need to provide that yourself, e.g. by using<code>-cp</code> along with the path to the libraries."},{"owner":{"account_id":26656983,"reputation":11,"user_id":20270371,"display_name":"jeremy jullienne"},"score":0,"creation_date":1666079851,"post_id":74107507,"comment_id":130844491,"body_markdown":"I use &quot;Path to java jdk11&quot; -jar &quot;Jar_Name&quot;.jar and the contents are &quot;bin&quot;, &quot;src with Main.class&quot;, &quot;lib&quot; with all .jar I used for my project","body":"I use &quot;Path to java jdk11&quot; -jar &quot;Jar_Name&quot;.jar and the contents are &quot;bin&quot;, &quot;src with Main.class&quot;, &quot;lib&quot; with all .jar I used for my project"},{"owner":{"account_id":26656983,"reputation":11,"user_id":20270371,"display_name":"jeremy jullienne"},"score":0,"creation_date":1666080331,"post_id":74107507,"comment_id":130844643,"body_markdown":"The library where the CerfSettings class is **jcef-78.1-win64.jar** and it is in my lib folder","body":"The library where the CerfSettings class is <b>jcef-78.1-win64.jar</b> and it is in my lib folder"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1666080370,"post_id":74107507,"comment_id":130844647,"body_markdown":"That&#39;s not the proper way to package a JAR. Class files should be placed directly in the JAR&#39;s root (inside their packages of course), and adding a lib directory does exactly nothing. If you want to include libraries in the JAR you need to place their contents in the archive root as well (this is what is known as a fat Jar, i.e. the thing that @MatteoNNZ referred to). Maven projects generally do this by using the maven-shade-plugin, but I&#39;m not sure if you&#39;re using Maven","body":"That&#39;s not the proper way to package a JAR. Class files should be placed directly in the JAR&#39;s root (inside their packages of course), and adding a lib directory does exactly nothing. If you want to include libraries in the JAR you need to place their contents in the archive root as well (this is what is known as a fat Jar, i.e. the thing that @MatteoNNZ referred to). Maven projects generally do this by using the maven-shade-plugin, but I&#39;m not sure if you&#39;re using Maven"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1666082144,"post_id":74107507,"comment_id":130845198,"body_markdown":"@JeroenSteenbeeke You can specify relative paths to jar files in the Class-Path entry of the manifest. Using a `lib` directory relative to the main JAR file is relatively common.","body":"@JeroenSteenbeeke You can specify relative paths to jar files in the Class-Path entry of the manifest. Using a <code>lib</code> directory relative to the main JAR file is relatively common."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666082294,"post_id":74107507,"comment_id":130845245,"body_markdown":"What is the content of the manifest file (`META-INF/MANIFEST.MF`) of your JAR? Likely it doesn&#39;t have a `Class-Path` entry, or the relative paths are wrong.","body":"What is the content of the manifest file (<code>META-INF&#47;MANIFEST.MF</code>) of your JAR? Likely it doesn&#39;t have a <code>Class-Path</code> entry, or the relative paths are wrong."},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1666082813,"post_id":74107507,"comment_id":130845398,"body_markdown":"@MarkRotteveel you&#39;d think that after twenty years of using Java I&#39;d have encountered that at least once &#128517; Glad to have learned something new today, thanks","body":"@MarkRotteveel you&#39;d think that after twenty years of using Java I&#39;d have encountered that at least once 😅 Glad to have learned something new today, thanks"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666083066,"post_id":74107507,"comment_id":130845457,"body_markdown":"@JeroenSteenbeeke To be honest, I find the (very) common practice to create fat-jars horrible. I wonder if people use it because they don&#39;t know about the alternative, or because they simply won&#39;t one file that does all.","body":"@JeroenSteenbeeke To be honest, I find the (very) common practice to create fat-jars horrible. I wonder if people use it because they don&#39;t know about the alternative, or because they simply won&#39;t one file that does all."},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1666083982,"post_id":74107507,"comment_id":130845776,"body_markdown":"@MarkRotteveel I don&#39;t know, I mostly work with WARs and EARs, and those have builtin mechanisms for libraries anyway","body":"@MarkRotteveel I don&#39;t know, I mostly work with WARs and EARs, and those have builtin mechanisms for libraries anyway"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1666111604,"post_id":74107507,"comment_id":130856309,"body_markdown":"@MarkRotteveel it depends on how &quot;fat&quot; your jar is. Often your dependencies come from the platform where you run and in that case, you will have them at runtime. But sometimes some deps are only for you andyou don&#39;t want to depend on them changing. Fat jars shouldn&#39;t be a quick way to have your jar work, but a responsible way to segregate dependencies that should be provided by dependencies that you do not want to be provided to avoid future compatibility issues. P.s. Spring is based on fat jars, and is far from being an example of bad practice :)","body":"@MarkRotteveel it depends on how &quot;fat&quot; your jar is. Often your dependencies come from the platform where you run and in that case, you will have them at runtime. But sometimes some deps are only for you andyou don&#39;t want to depend on them changing. Fat jars shouldn&#39;t be a quick way to have your jar work, but a responsible way to segregate dependencies that should be provided by dependencies that you do not want to be provided to avoid future compatibility issues. P.s. Spring is based on fat jars, and is far from being an example of bad practice :)"}],"owner":{"account_id":26656983,"reputation":11,"user_id":20270371,"display_name":"jeremy jullienne"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666081952,"answer_count":0,"score":1,"last_activity_date":1666082214,"creation_date":1666079468,"question_id":74107507,"body_markdown":"For my java project on Eclipse, I added libraries to my project and the code runs fine (I open a web page with JCEF chromium and perform JSBridge).\r\n\r\nI exported my project to a .jar and and when i want to execute my .jar with this command\r\n\r\n    &quot;Path to java jdk11&quot; -jar &quot;Jar_Name&quot;.jar\r\n\r\nI get this error\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/cef/CefSettings\r\n\r\nI don&#39;t understand why, indeed, when I start my project under Eclipse, it works.\r\n\r\nI&#39;m using Java 11, I exported as Jar files, Do you have any tips on how to make my .jar work on the command line?\r\n","title":"Error : Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:","body":"<p>For my java project on Eclipse, I added libraries to my project and the code runs fine (I open a web page with JCEF chromium and perform JSBridge).</p>\n<p>I exported my project to a .jar and and when i want to execute my .jar with this command</p>\n<pre><code>&quot;Path to java jdk11&quot; -jar &quot;Jar_Name&quot;.jar\n</code></pre>\n<p>I get this error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\norg/cef/CefSettings</p>\n</blockquote>\n<p>I don't understand why, indeed, when I start my project under Eclipse, it works.</p>\n<p>I'm using Java 11, I exported as Jar files, Do you have any tips on how to make my .jar work on the command line?</p>\n"},{"tags":["java","spring","jsp","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1305578222,"creation_date":1305578222,"answer_id":6023084,"question_id":6022980,"body_markdown":"Annotate your login method with @RequestMapping, like so:\r\n\r\n    @Controller\r\n    public class GuestBookController {\r\n      ...\r\n      @RequestMapping(value=&quot;/mycontextroot/login&quot;, method = RequestMethod.GET)\r\n      public String login() {\r\n        ...\r\n      }\r\n      ...\r\n    }\r\n\r\nThen, in your JSP, create a link something like this:\r\n\r\n    &lt;c:url var=&quot;loginlink&quot; value=&quot;/mycontextroot/login.html&quot;&gt;\r\n    &lt;/c:url&gt;\r\n    &lt;a href=&quot;${loginlink}&quot;&gt;Login&lt;/a&gt;\r\n\r\nThis assumes that your dispatcher servlet is looking for *.html URLs.\r\n\r\n","title":"How can I create a URL based on controller and action method in Spring MVC?","body":"<p>Annotate your login method with @RequestMapping, like so:</p>\n\n<pre><code>@Controller\npublic class GuestBookController {\n  ...\n  @RequestMapping(value=\"/mycontextroot/login\", method = RequestMethod.GET)\n  public String login() {\n    ...\n  }\n  ...\n}\n</code></pre>\n\n<p>Then, in your JSP, create a link something like this:</p>\n\n<pre><code>&lt;c:url var=\"loginlink\" value=\"/mycontextroot/login.html\"&gt;\n&lt;/c:url&gt;\n&lt;a href=\"${loginlink}\"&gt;Login&lt;/a&gt;\n</code></pre>\n\n<p>This assumes that your dispatcher servlet is looking for *.html URLs.</p>\n"},{"tags":[],"owner":{"account_id":19918,"reputation":53180,"user_id":47110,"accept_rate":98,"display_name":"Abdullah Jibaly"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1305578260,"creation_date":1305578260,"answer_id":6023092,"question_id":6022980,"body_markdown":"Spring MVC uses the standard JSTL tags in JSPs so:\r\n\r\n    &lt;c:url value=&quot;/guestBook.html&quot; var=&quot;guestBookLink&quot; /&gt;\r\n    &lt;a href=&quot;${guestBookLink}&quot;&gt;Guest Book&lt;/a&gt;\r\n\r\nIn your controller:\r\n\r\n    @RequestMapping(value = &quot;/guestBook&quot;)\r\n    public String handleGuestBook() { ... }","title":"How can I create a URL based on controller and action method in Spring MVC?","body":"<p>Spring MVC uses the standard JSTL tags in JSPs so:</p>\n\n<pre><code>&lt;c:url value=\"/guestBook.html\" var=\"guestBookLink\" /&gt;\n&lt;a href=\"${guestBookLink}\"&gt;Guest Book&lt;/a&gt;\n</code></pre>\n\n<p>In your controller:</p>\n\n<pre><code>@RequestMapping(value = \"/guestBook\")\npublic String handleGuestBook() { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53073,"reputation":24000,"user_id":158658,"accept_rate":75,"display_name":"sourcedelica"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1305591186,"creation_date":1305591186,"answer_id":6024857,"question_id":6022980,"body_markdown":"The short answer is no, you can&#39;t do this with Spring MVC currently.\r\n\r\nIt&#39;s a shame because you can do this in other frameworks including Grails (which uses Spring MVC under the hood).\r\n\r\nSee the discussion [here][1] which includes a link to a Spring feature request to add this (vote for it!)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1082759/can-i-find-the-url-for-a-spring-mvc-controller-in-the-view-layer","title":"How can I create a URL based on controller and action method in Spring MVC?","body":"<p>The short answer is no, you can't do this with Spring MVC currently.</p>\n\n<p>It's a shame because you can do this in other frameworks including Grails (which uses Spring MVC under the hood).</p>\n\n<p>See the discussion <a href=\"https://stackoverflow.com/questions/1082759/can-i-find-the-url-for-a-spring-mvc-controller-in-the-view-layer\">here</a> which includes a link to a Spring feature request to add this (vote for it!)</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664990905,"creation_date":1383241306,"answer_id":19713258,"question_id":6022980,"body_markdown":"The [**Spring HATEOS library**][1] provides an API to generate links to MVC controller methods in various ways.\r\n\r\nFor example:\r\n\r\n```java\r\nURI url = linkTo(methodOn(GuestBookController.class).login()).toUri();\r\n```\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-hateoas","title":"How can I create a URL based on controller and action method in Spring MVC?","body":"<p>The <a href=\"https://spring.io/projects/spring-hateoas\" rel=\"nofollow noreferrer\"><strong>Spring HATEOS library</strong></a> provides an API to generate links to MVC controller methods in various ways.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URI url = linkTo(methodOn(GuestBookController.class).login()).toUri();\n</code></pre>\n"}],"owner":{"display_name":"user308808"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17519,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"closed_date":1665044780,"accepted_answer_id":6024857,"answer_count":4,"score":14,"last_activity_date":1666081905,"creation_date":1305577660,"question_id":6022980,"body_markdown":"I am using Spring MVC 3.0\r\n\r\nI have a guestbook.jsp page where I want to create a link that points to GuestBookController&#39;s login method.\r\n\r\nThis is a simple task that most web frameworks handle this (e.g grails does it with g:link tag) but I couldn&#39;t find any documentation on this in the official SpringMVC docs. \r\n\r\nSo I am scratching my head - Is this functionality in some tag library? Does the framework expose it? Do I have to extend the framework to get this to work?\r\n\r\nNote, I am not taking about hardcoding the url (which is an obvious but weak solution) but rather generating it based on controller and action name.\r\n\r\n**UPDATE**:\r\nSpring MVC doesn&#39;t provide this functionality. There is a JIRA ticket though. You can vote here [https://jira.springsource.org/browse/SPR-5779][1]\r\n\r\n\r\n  [1]: https://jira.springsource.org/browse/SPR-5779","title":"How can I create a URL based on controller and action method in Spring MVC?","body":"<p>I am using Spring MVC 3.0</p>\n\n<p>I have a guestbook.jsp page where I want to create a link that points to GuestBookController's login method.</p>\n\n<p>This is a simple task that most web frameworks handle this (e.g grails does it with g:link tag) but I couldn't find any documentation on this in the official SpringMVC docs. </p>\n\n<p>So I am scratching my head - Is this functionality in some tag library? Does the framework expose it? Do I have to extend the framework to get this to work?</p>\n\n<p>Note, I am not taking about hardcoding the url (which is an obvious but weak solution) but rather generating it based on controller and action name.</p>\n\n<p><strong>UPDATE</strong>:\nSpring MVC doesn't provide this functionality. There is a JIRA ticket though. You can vote here <a href=\"https://jira.springsource.org/browse/SPR-5779\">https://jira.springsource.org/browse/SPR-5779</a></p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666081823,"creation_date":1666081823,"answer_id":74107963,"question_id":74093103,"body_markdown":"You should to make sure your item reader is correctly defined and returning data from the table. A unit test can validate that.\r\n\r\nOnce your reader is correctly defined, then if the writer is not called, this means the table is empty (the reader is returning `null` on the first call). ","title":"How to validate database is pulling data or not in spring batch since ItemWriter is not getting called","body":"<p>You should to make sure your item reader is correctly defined and returning data from the table. A unit test can validate that.</p>\n<p>Once your reader is correctly defined, then if the writer is not called, this means the table is empty (the reader is returning <code>null</code> on the first call).</p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666081823,"creation_date":1665986536,"question_id":74093103,"body_markdown":"How to validate  database is pulling data or not in spring batch since ItemWriter is not getting called. \r\n\r\nI am following this example where I am reading the data from the table and trying to print the list. \r\n\r\n[Read from Table][1]\r\n\r\nGitHub link for that\r\n[GitHub Link][2]\r\n\r\nSo here is my batch config :\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfing {\r\n    \r\n        private static final String QUERY_FIND_STUDENTS =\r\n                &quot;select &quot; +\r\n                        &quot;stu_info &quot; +\r\n                        &quot;from myTable &quot; +\r\n                        &quot;where status = &#39;\\&quot;+PASS + \\&quot;&#39; &quot; ;\r\n    \r\n        @Bean\r\n        public ItemReader&lt;StudentDTO&gt; itemReader(DataSource dataSource) {\r\n            System.out.println(&quot;Reached Reader&quot;);\r\n            return new JdbcCursorItemReaderBuilder&lt;StudentDTO&gt;()\r\n                    .name(&quot;cursorItemReader&quot;)\r\n                    .dataSource(dataSource)\r\n                    .sql(QUERY_FIND_STUDENTS)\r\n                    .rowMapper(new BeanPropertyRowMapper&lt;&gt;(StudentDTO.class))\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public ItemWriter&lt;StudentDTO&gt; itemWriter(){\r\n            System.out.println(&quot;I am in writer&quot;);\r\n            return new LoggingItemWriter();\r\n           /* return student -&gt; {\r\n                System.out.println(&quot;student.toString()&quot;);\r\n    \r\n            };*/\r\n        }\r\n        \r\n        @Bean\r\n        public JobExecutionListener listener() {\r\n            return new ScheduelListener();\r\n        }\r\n        \r\n        @Bean\r\n        public Step stepA(@Qualifier(&quot;itemReader&quot;) ItemReader&lt;StudentDTO&gt; reader,\r\n                          @Qualifier(&quot;itemWriter&quot;) ItemWriter&lt;StudentDTO&gt; writer,\r\n                          StepBuilderFactory stepBuilderFactory) {\r\n            return stepBuilderFactory.get(&quot;stepA&quot;)\r\n                    .&lt;StudentDTO,StudentDTO&gt;chunk(2)\r\n                    .reader(reader)\r\n                    .writer(writer)\r\n                    .build()\r\n                    ;\r\n        }\r\n    \r\n        @Bean\r\n        public Job jobA(@Qualifier(&quot;stepA&quot;) Step exampleJobStep,\r\n                        JobBuilderFactory jobBuilderFactory){\r\n            return jobBuilderFactory.get(&quot;jobA&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .listener(listener())\r\n                    .flow(exampleJobStep)\r\n                    .end()\r\n                    .build()\r\n                    ;\r\n        }\r\n    \r\n    }\r\n\r\nHere I can see itemreader and itemwriter is getting called but from item writer it si not going to write method of LoggingItemWriter\r\n\r\n    public class LoggingItemWriter  implements ItemWriter&lt;StudentDTO&gt; {\r\n        public LoggingItemWriter() {\r\n            System.out.println(&quot;test LoggingItemWriter &quot;);\r\n    \r\n        }\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(LoggingItemWriter.class);\r\n    \r\n        @Override\r\n        public void write(List&lt;? extends StudentDTO&gt; list) throws Exception {\r\n            LOGGER.info(&quot;Writing student info: {}&quot;, list);\r\n            for (StudentDTO item : list) {\r\n                System.out.println(&quot;test&quot;+list);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.petrikainulainen.net/programming/spring-framework/spring-batch-tutorial-reading-information-from-a-database/\r\n  [2]: https://github.com/pkainulainen/spring-batch-examples/blob/master/reading-data/database/src/main/java/net/petrikainulainen/spring/batch/LoggingItemWriter.java","title":"How to validate database is pulling data or not in spring batch since ItemWriter is not getting called","body":"<p>How to validate  database is pulling data or not in spring batch since ItemWriter is not getting called.</p>\n<p>I am following this example where I am reading the data from the table and trying to print the list.</p>\n<p><a href=\"https://www.petrikainulainen.net/programming/spring-framework/spring-batch-tutorial-reading-information-from-a-database/\" rel=\"nofollow noreferrer\">Read from Table</a></p>\n<p>GitHub link for that\n<a href=\"https://github.com/pkainulainen/spring-batch-examples/blob/master/reading-data/database/src/main/java/net/petrikainulainen/spring/batch/LoggingItemWriter.java\" rel=\"nofollow noreferrer\">GitHub Link</a></p>\n<p>So here is my batch config :</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfing {\n\n    private static final String QUERY_FIND_STUDENTS =\n            &quot;select &quot; +\n                    &quot;stu_info &quot; +\n                    &quot;from myTable &quot; +\n                    &quot;where status = '\\&quot;+PASS + \\&quot;' &quot; ;\n\n    @Bean\n    public ItemReader&lt;StudentDTO&gt; itemReader(DataSource dataSource) {\n        System.out.println(&quot;Reached Reader&quot;);\n        return new JdbcCursorItemReaderBuilder&lt;StudentDTO&gt;()\n                .name(&quot;cursorItemReader&quot;)\n                .dataSource(dataSource)\n                .sql(QUERY_FIND_STUDENTS)\n                .rowMapper(new BeanPropertyRowMapper&lt;&gt;(StudentDTO.class))\n                .build();\n    }\n\n    @Bean\n    public ItemWriter&lt;StudentDTO&gt; itemWriter(){\n        System.out.println(&quot;I am in writer&quot;);\n        return new LoggingItemWriter();\n       /* return student -&gt; {\n            System.out.println(&quot;student.toString()&quot;);\n\n        };*/\n    }\n    \n    @Bean\n    public JobExecutionListener listener() {\n        return new ScheduelListener();\n    }\n    \n    @Bean\n    public Step stepA(@Qualifier(&quot;itemReader&quot;) ItemReader&lt;StudentDTO&gt; reader,\n                      @Qualifier(&quot;itemWriter&quot;) ItemWriter&lt;StudentDTO&gt; writer,\n                      StepBuilderFactory stepBuilderFactory) {\n        return stepBuilderFactory.get(&quot;stepA&quot;)\n                .&lt;StudentDTO,StudentDTO&gt;chunk(2)\n                .reader(reader)\n                .writer(writer)\n                .build()\n                ;\n    }\n\n    @Bean\n    public Job jobA(@Qualifier(&quot;stepA&quot;) Step exampleJobStep,\n                    JobBuilderFactory jobBuilderFactory){\n        return jobBuilderFactory.get(&quot;jobA&quot;)\n                .incrementer(new RunIdIncrementer())\n                .listener(listener())\n                .flow(exampleJobStep)\n                .end()\n                .build()\n                ;\n    }\n\n}\n</code></pre>\n<p>Here I can see itemreader and itemwriter is getting called but from item writer it si not going to write method of LoggingItemWriter</p>\n<pre><code>public class LoggingItemWriter  implements ItemWriter&lt;StudentDTO&gt; {\n    public LoggingItemWriter() {\n        System.out.println(&quot;test LoggingItemWriter &quot;);\n\n    }\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(LoggingItemWriter.class);\n\n    @Override\n    public void write(List&lt;? extends StudentDTO&gt; list) throws Exception {\n        LOGGER.info(&quot;Writing student info: {}&quot;, list);\n        for (StudentDTO item : list) {\n            System.out.println(&quot;test&quot;+list);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666081627,"creation_date":1666081627,"answer_id":74107920,"question_id":74096395,"body_markdown":"Adding a `@Scheduled` annotation on a method does nothing on its own. You need to enable the task scheduling feature that will introspect methods annotated with that annotation and create scheduled tasks for them. \r\n\r\nThis is done by adding `@EnableScheduling` on one of your configuration classes, please refer to the [task scheduling guide](https://spring.io/guides/gs/scheduling-tasks/) for more details and a complete example.","title":"Spring batch exiting after task done. How to trigger on every 5 minuters interval","body":"<p>Adding a <code>@Scheduled</code> annotation on a method does nothing on its own. You need to enable the task scheduling feature that will introspect methods annotated with that annotation and create scheduled tasks for them.</p>\n<p>This is done by adding <code>@EnableScheduling</code> on one of your configuration classes, please refer to the <a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">task scheduling guide</a> for more details and a complete example.</p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666081627,"creation_date":1666005192,"question_id":74096395,"body_markdown":"Spring batch exiting after task done. How to trigger on every 5 minuters interval. \r\n\r\nMy Spring batch is getting complete once the job is done `Process finished with exit code 0`\r\n\r\nI want my batch to run after every 5 minutes. \r\n\r\nHere is what i am trying \r\n\r\nJob Runner :\r\n\r\n    @Component\r\n    public class JobRunner implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        private JobLauncher jobLauncher;\r\n    \r\n        @Autowired\r\n        private Job jobA;\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n    \r\n            JobParameters jobParameters =\r\n                    new JobParametersBuilder()\r\n                            .addLong(&quot;time&quot;, System.currentTimeMillis())\r\n                            .toJobParameters();\r\n    \r\n            jobLauncher.run(jobA, jobParameters);\r\n            System.out.println(&quot;JOB Execution completed!&quot;);\r\n        }\r\n    }\r\n\r\nJob Launcher :\r\n\r\n    public class JobLaunch {\r\n        private final Job job;\r\n        private final org.springframework.batch.core.launch.JobLauncher jobLauncher;\r\n    \r\n        @Autowired\r\n        public JobLaunch(Job job, org.springframework.batch.core.launch.JobLauncher jobLauncher) {\r\n            this.job = job;\r\n            this.jobLauncher = jobLauncher;\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 1000)\r\n        public void runSpringBatchExampleJob() throws JobParametersInvalidException, JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException {\r\n            jobLauncher.run(job, newExecution());\r\n        }\r\n    \r\n        private JobParameters newExecution() {\r\n            Map&lt;String, JobParameter&gt; parameters = new HashMap&lt;&gt;();\r\n    \r\n            JobParameter parameter = new JobParameter(new Date());\r\n            parameters.put(&quot;currentTime&quot;, parameter);\r\n    \r\n            return new JobParameters(parameters);\r\n        }\r\n    }\r\n\r\n\r\nBatch config :\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfing {\r\n        @Bean\r\n        public ItemReader&lt;LeadDTO&gt; itemReader(DataSource dataSource) {\r\n            // reader code\r\n        }\r\n    \r\n        @Bean\r\n        public ItemWriter&lt;LeadDTO&gt; itemWriter(){\r\n            // writer code\r\n        }\r\n        @Bean\r\n        public JobExecutionListener listener() {\r\n            return new ScheduelListener();\r\n        }\r\n        @Bean\r\n        public Step stepA(@Qualifier(&quot;itemReader&quot;) ItemReader&lt;dto&gt; reader,\r\n                          @Qualifier(&quot;itemWriter&quot;) ItemWriter&lt;dto&gt; writer,\r\n                          StepBuilderFactory stepBuilderFactory) {\r\n            return stepBuilderFactory.get(&quot;stepA&quot;)\r\n                    .&lt;dto,dto&gt;chunk(2)\r\n                    .reader(reader)\r\n                    .writer(writer)\r\n                    .build()\r\n                    ;\r\n        }\r\n    \r\n        @Bean\r\n        public Job jobA(@Qualifier(&quot;stepA&quot;) Step exampleJobStep,\r\n                        JobBuilderFactory jobBuilderFactory){\r\n            return jobBuilderFactory.get(&quot;jobA&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .listener(listener())\r\n                    .flow(exampleJobStep)\r\n                    .end()\r\n                    //.start(stepA())\r\n                    .build()\r\n                    ;\r\n        }\r\n    \r\n    }\r\n\r\nJob Scheduler :\r\n\r\n    public class ScheduelListener implements JobExecutionListener {\r\n    \r\n        @Override\r\n        public void beforeJob(JobExecution jobExecution) {\r\n    \r\n            System.out.println(&quot;Job started at: &quot;+ jobExecution.getStartTime());\r\n            System.out.println(&quot;Status of the Job: &quot;+jobExecution.getStatus());\r\n        }\r\n    \r\n        @Override\r\n        public void afterJob(JobExecution jobExecution) {\r\n    \r\n            System.out.println(&quot;Job Ended at: &quot;+ jobExecution.getEndTime());\r\n            System.out.println(&quot;Status of the Job: &quot;+jobExecution.getStatus());\r\n        }\r\n    }\r\n\r\nWhat should I do that job should run again after 5 minutes.\r\n\r\n","title":"Spring batch exiting after task done. How to trigger on every 5 minuters interval","body":"<p>Spring batch exiting after task done. How to trigger on every 5 minuters interval.</p>\n<p>My Spring batch is getting complete once the job is done <code>Process finished with exit code 0</code></p>\n<p>I want my batch to run after every 5 minutes.</p>\n<p>Here is what i am trying</p>\n<p>Job Runner :</p>\n<pre><code>@Component\npublic class JobRunner implements CommandLineRunner {\n\n    @Autowired\n    private JobLauncher jobLauncher;\n\n    @Autowired\n    private Job jobA;\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        JobParameters jobParameters =\n                new JobParametersBuilder()\n                        .addLong(&quot;time&quot;, System.currentTimeMillis())\n                        .toJobParameters();\n\n        jobLauncher.run(jobA, jobParameters);\n        System.out.println(&quot;JOB Execution completed!&quot;);\n    }\n}\n</code></pre>\n<p>Job Launcher :</p>\n<pre><code>public class JobLaunch {\n    private final Job job;\n    private final org.springframework.batch.core.launch.JobLauncher jobLauncher;\n\n    @Autowired\n    public JobLaunch(Job job, org.springframework.batch.core.launch.JobLauncher jobLauncher) {\n        this.job = job;\n        this.jobLauncher = jobLauncher;\n    }\n\n    @Scheduled(fixedRate = 1000)\n    public void runSpringBatchExampleJob() throws JobParametersInvalidException, JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException {\n        jobLauncher.run(job, newExecution());\n    }\n\n    private JobParameters newExecution() {\n        Map&lt;String, JobParameter&gt; parameters = new HashMap&lt;&gt;();\n\n        JobParameter parameter = new JobParameter(new Date());\n        parameters.put(&quot;currentTime&quot;, parameter);\n\n        return new JobParameters(parameters);\n    }\n}\n</code></pre>\n<p>Batch config :</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfing {\n    @Bean\n    public ItemReader&lt;LeadDTO&gt; itemReader(DataSource dataSource) {\n        // reader code\n    }\n\n    @Bean\n    public ItemWriter&lt;LeadDTO&gt; itemWriter(){\n        // writer code\n    }\n    @Bean\n    public JobExecutionListener listener() {\n        return new ScheduelListener();\n    }\n    @Bean\n    public Step stepA(@Qualifier(&quot;itemReader&quot;) ItemReader&lt;dto&gt; reader,\n                      @Qualifier(&quot;itemWriter&quot;) ItemWriter&lt;dto&gt; writer,\n                      StepBuilderFactory stepBuilderFactory) {\n        return stepBuilderFactory.get(&quot;stepA&quot;)\n                .&lt;dto,dto&gt;chunk(2)\n                .reader(reader)\n                .writer(writer)\n                .build()\n                ;\n    }\n\n    @Bean\n    public Job jobA(@Qualifier(&quot;stepA&quot;) Step exampleJobStep,\n                    JobBuilderFactory jobBuilderFactory){\n        return jobBuilderFactory.get(&quot;jobA&quot;)\n                .incrementer(new RunIdIncrementer())\n                .listener(listener())\n                .flow(exampleJobStep)\n                .end()\n                //.start(stepA())\n                .build()\n                ;\n    }\n\n}\n</code></pre>\n<p>Job Scheduler :</p>\n<pre><code>public class ScheduelListener implements JobExecutionListener {\n\n    @Override\n    public void beforeJob(JobExecution jobExecution) {\n\n        System.out.println(&quot;Job started at: &quot;+ jobExecution.getStartTime());\n        System.out.println(&quot;Status of the Job: &quot;+jobExecution.getStatus());\n    }\n\n    @Override\n    public void afterJob(JobExecution jobExecution) {\n\n        System.out.println(&quot;Job Ended at: &quot;+ jobExecution.getEndTime());\n        System.out.println(&quot;Status of the Job: &quot;+jobExecution.getStatus());\n    }\n}\n</code></pre>\n<p>What should I do that job should run again after 5 minutes.</p>\n"},{"tags":["java","eclipse","jar","export"],"comments":[{"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":5,"creation_date":1234183931,"post_id":528007,"comment_id":341077,"body_markdown":"Please explain why you can&#39;t use farjar. Everyone recommends it because that&#39;s what everyone uses and it works well. So why should there be a another tool to do the same thing?? *confused*","body":"Please explain why you can&#39;t use farjar. Everyone recommends it because that&#39;s what everyone uses and it works well. So why should there be a another tool to do the same thing?? <i>confused</i>"}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1249930273,"creation_date":1234184145,"answer_id":528036,"question_id":528007,"body_markdown":"The next version of Eclipse (3.5, due next June) has an option to include all necessary jars. It was introduced in 3.5M5 (thanks, [basszero][1]).\r\n\r\nOr you can try to build your project with [Maven 2][2]. Then, you can build a &quot;fat&quot; jar with [`mvn assembly:assembly`][3].\r\n\r\nAnother option is to use [ant][4]. Unpack all JAR files into a temp directory and jar them up again.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/287/basszero\r\n  [2]: http://maven.apache.org/\r\n  [3]: http://maven.apache.org/plugins/maven-assembly-plugin/index.html\r\n  [4]: http://ant.apache.org/","title":"Eclipse Java; export jar, include referenced libraries, without fatjar","body":"<p>The next version of Eclipse (3.5, due next June) has an option to include all necessary jars. It was introduced in 3.5M5 (thanks, <a href=\"https://stackoverflow.com/users/287/basszero\">basszero</a>).</p>\n\n<p>Or you can try to build your project with <a href=\"http://maven.apache.org/\" rel=\"nofollow noreferrer\">Maven 2</a>. Then, you can build a \"fat\" jar with <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/index.html\" rel=\"nofollow noreferrer\"><code>mvn assembly:assembly</code></a>.</p>\n\n<p>Another option is to use <a href=\"http://ant.apache.org/\" rel=\"nofollow noreferrer\">ant</a>. Unpack all JAR files into a temp directory and jar them up again.</p>\n"},{"tags":[],"owner":{"account_id":25041,"reputation":4646,"user_id":64095,"accept_rate":92,"display_name":"Jens Jansson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234184253,"creation_date":1234184253,"answer_id":528039,"question_id":528007,"body_markdown":"I guess you could modify your build script to include the libraries. If I undestand correctly you can put into your \r\n`&lt;jar destfile=&quot;myProject.jar&quot;&gt; ... &lt;zipfileset src=&quot;theExternalLib.jar&quot;&gt; &lt;/jar&gt;`","title":"Eclipse Java; export jar, include referenced libraries, without fatjar","body":"<p>I guess you could modify your build script to include the libraries. If I undestand correctly you can put into your \n<code>&lt;jar destfile=\"myProject.jar\"&gt; ... &lt;zipfileset src=\"theExternalLib.jar\"&gt; &lt;/jar&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":1495,"reputation":12523,"user_id":1992,"accept_rate":86,"display_name":"Bernie Perez"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1234202917,"creation_date":1234202917,"answer_id":529202,"question_id":528007,"body_markdown":"I think its version 3.3 of Eclipse (ganymede) that has Export as **Runnable JAR file**. Last time I tried it, it did include the referenced libraries and also un-jars all the jars.","title":"Eclipse Java; export jar, include referenced libraries, without fatjar","body":"<p>I think its version 3.3 of Eclipse (ganymede) that has Export as <strong>Runnable JAR file</strong>. Last time I tried it, it did include the referenced libraries and also un-jars all the jars.</p>\n"},{"tags":[],"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307093759,"creation_date":1307093759,"answer_id":6225349,"question_id":528007,"body_markdown":"Just posting a little (Helios) gotcha for using the Eclipse export Jar - you must first run (in Eclipse) a class with a main() method, otherwise the &quot;Launch configuration&quot; dropdown will be blank and you&#39;ll not be able to export.","title":"Eclipse Java; export jar, include referenced libraries, without fatjar","body":"<p>Just posting a little (Helios) gotcha for using the Eclipse export Jar - you must first run (in Eclipse) a class with a main() method, otherwise the \"Launch configuration\" dropdown will be blank and you'll not be able to export.</p>\n"},{"tags":[],"owner":{"account_id":342810,"reputation":221,"user_id":674158,"display_name":"user674158"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326154519,"creation_date":1307183656,"answer_id":6236204,"question_id":528007,"body_markdown":"You can export an XML file from eclipse,then analyse the file to get the jars you want - see [this](http://www.avajava.com/tutorials/lessons/how-do-i-share-an-eclipse-user-library-with-other-users.html) link.\r\n","title":"Eclipse Java; export jar, include referenced libraries, without fatjar","body":"<p>You can export an XML file from eclipse,then analyse the file to get the jars you want - see <a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-share-an-eclipse-user-library-with-other-users.html\" rel=\"nofollow\">this</a> link.</p>\n"},{"tags":[],"owner":{"account_id":3474869,"reputation":41,"user_id":2908351,"display_name":"inspiron"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1382465275,"creation_date":1382465275,"answer_id":19525218,"question_id":528007,"body_markdown":"This feature of eclipse works just fine to dump only the referenced libraries into separate folder. &quot;Export as Runnable Jar&quot; with &quot;Copy the referenced libraries into a subfolder ..&quot; option.\r\n\r\n","title":"Eclipse Java; export jar, include referenced libraries, without fatjar","body":"<p>This feature of eclipse works just fine to dump only the referenced libraries into separate folder. \"Export as Runnable Jar\" with \"Copy the referenced libraries into a subfolder ..\" option.</p>\n"},{"tags":[],"owner":{"account_id":26656983,"reputation":11,"user_id":20270371,"display_name":"jeremy jullienne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666081372,"creation_date":1666081372,"answer_id":74107872,"question_id":528007,"body_markdown":"I used a maven project instead of a java project and it worked !","title":"Eclipse Java; export jar, include referenced libraries, without fatjar","body":"<p>I used a maven project instead of a java project and it worked !</p>\n"}],"owner":{"display_name":"boomathon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59202,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":528036,"answer_count":7,"score":22,"last_activity_date":1666081372,"creation_date":1234183595,"question_id":528007,"body_markdown":"I need to export jar from my Eclipse Java project and I want to include the referenced libraries. I can&#39;t use fatjar for this, which is what everyone seems to recommend. There must be another way of doing this. Does anyone know what this is?!\r\n","title":"Eclipse Java; export jar, include referenced libraries, without fatjar","body":"<p>I need to export jar from my Eclipse Java project and I want to include the referenced libraries. I can't use fatjar for this, which is what everyone seems to recommend. There must be another way of doing this. Does anyone know what this is?!</p>\n"},{"tags":["java","maven","openapi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666081146,"creation_date":1666081146,"answer_id":74107832,"question_id":74106595,"body_markdown":"It is not a workaround.  The standard name of the file is openapi.yml, if you do not want to have it then you need to provide a custom one, under a specific directory.  That is how smallrye does it, and Quarkus uses SmallRye\r\n\r\nExample:\r\n\r\nhttps://github.com/watermelonjam/openapi-docs-bug\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\napplication.yml\r\n\r\n    quarkus:\r\n      log:\r\n        level: INFO\r\n        min-level: TRACE\r\n        console:\r\n          enable: true\r\n          format: &quot;%d{dd-MM-yyyy HH:mm:ss.SSSZ} [%t] %-5p %c %M - %s%e%n&quot;\r\n        category:\r\n          io.extr.odb:\r\n            level: INFO\r\n      swagger-ui:\r\n        always-include: false\r\n      smallrye-openapi:\r\n        auto-add-security: false\r\n        additional-docs-directory: META-INF/openapi/prod\r\n\r\n\r\n\r\nFolder structure:\r\n\r\n    resources/META-INF/openapi/prod/someFile.yaml\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e6ZVB.png","title":"Quarkus OpenApi custom filename","body":"<p>It is not a workaround.  The standard name of the file is openapi.yml, if you do not want to have it then you need to provide a custom one, under a specific directory.  That is how smallrye does it, and Quarkus uses SmallRye</p>\n<p>Example:</p>\n<p><a href=\"https://github.com/watermelonjam/openapi-docs-bug\" rel=\"nofollow noreferrer\">https://github.com/watermelonjam/openapi-docs-bug</a></p>\n<p><a href=\"https://i.stack.imgur.com/e6ZVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e6ZVB.png\" alt=\"enter image description here\" /></a></p>\n<p>application.yml</p>\n<pre><code>quarkus:\n  log:\n    level: INFO\n    min-level: TRACE\n    console:\n      enable: true\n      format: &quot;%d{dd-MM-yyyy HH:mm:ss.SSSZ} [%t] %-5p %c %M - %s%e%n&quot;\n    category:\n      io.extr.odb:\n        level: INFO\n  swagger-ui:\n    always-include: false\n  smallrye-openapi:\n    auto-add-security: false\n    additional-docs-directory: META-INF/openapi/prod\n</code></pre>\n<p>Folder structure:</p>\n<pre><code>resources/META-INF/openapi/prod/someFile.yaml\n</code></pre>\n"}],"owner":{"account_id":26578873,"reputation":11,"user_id":20203830,"display_name":"kadir_j"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666081146,"creation_date":1666074531,"question_id":74106595,"body_markdown":"I&#39;m using Quarkus with Java 11 and I&#39;m trying to configure the OpenApi specification with Swagger with static files (see [link][1]). In the docs of Quarkus it is recommended to use ```META-INF/openapi.yml``` but I prefer not the name ```openapi``` for the ```.yml``` file but the name of my microservice. It is possible only if I configure [an additional docs directory][2] with the directory e.g. ```META-INF```. It will scan the desired folder for ```.yaml```/```.yaml``` and/or ```.json``` files. But this feels like a workaround to me. Is it possible to configure that Quarkus is scanning for a custom filename instead of a folder?\r\n\r\n\r\n  [1]: https://quarkus.io/guides/openapi-swaggerui#loading-openapi-schema-from-static-files\r\n  [2]: https://quarkus.io/guides/openapi-swaggerui#quarkus-smallrye-openapi_quarkus.smallrye-openapi.additional-docs-directory","title":"Quarkus OpenApi custom filename","body":"<p>I'm using Quarkus with Java 11 and I'm trying to configure the OpenApi specification with Swagger with static files (see <a href=\"https://quarkus.io/guides/openapi-swaggerui#loading-openapi-schema-from-static-files\" rel=\"nofollow noreferrer\">link</a>). In the docs of Quarkus it is recommended to use <code>META-INF/openapi.yml</code> but I prefer not the name <code>openapi</code> for the <code>.yml</code> file but the name of my microservice. It is possible only if I configure <a href=\"https://quarkus.io/guides/openapi-swaggerui#quarkus-smallrye-openapi_quarkus.smallrye-openapi.additional-docs-directory\" rel=\"nofollow noreferrer\">an additional docs directory</a> with the directory e.g. <code>META-INF</code>. It will scan the desired folder for <code>.yaml</code>/<code>.yaml</code> and/or <code>.json</code> files. But this feels like a workaround to me. Is it possible to configure that Quarkus is scanning for a custom filename instead of a folder?</p>\n"},{"tags":["java","spring","rest","spring-security","spring-security-oauth2"],"owner":{"account_id":25710715,"reputation":11,"user_id":19469308,"display_name":"Elisey Osadchy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666080842,"creation_date":1666080396,"question_id":74107680,"body_markdown":"I have a spring rest web application where I am doing authentication with a single game token. I would like to add Google (or GitHub, Facebook, Telegram) account binding (oauth2) so that I can log in with oauth2, because it takes a long time to generate a token every time, how can this be implemented?\r\n\r\nMy code https://github.com/iNiceHero/VueAuthSpring\r\n\r\n**WebSecurityConfig.java** \r\n```java \r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true)\r\n@EnableOAuth2Sso\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .mvcMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/js/**&quot;, &quot;/error**&quot;, &quot;/login&quot;, &quot;/api/user/**&quot;).permitAll()\r\n                .mvcMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and().logout().logoutSuccessUrl(&quot;/login&quot;)\r\n                .and().csrf().disable();\r\n        http.sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\r\n        http.sessionManagement()\r\n                .sessionFixation().migrateSession();\r\n\r\n    }\r\n\r\n}\r\n```\r\n**UserDetailsServiceImpl.java**\r\n```java\r\n\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n    @Autowired\r\n    UserRepository userRepository;\r\n    @Override\r\n    @Transactional\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUsername(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User Not Found with username: &quot; + username));\r\n        return UserDetailsImpl.build(user);\r\n    }\r\n}\r\n```\r\n\r\n**UserDetailsImpl.java**\r\n\r\n    public class UserDetailsImpl implements UserDetails {\r\n        private static final long serialVersionUID = 1L;\r\n        private Long id;\r\n        private String username;\r\n        private Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n        public UserDetailsImpl(Long id, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n            this.id = id;\r\n            this.username = username;\r\n            this.authorities = authorities;\r\n        }\r\n        public static UserDetailsImpl build(User user) {\r\n            List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\r\n                    .map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\r\n                    .collect(Collectors.toList());\r\n            return new UserDetailsImpl(\r\n                    user.getId(),\r\n                    user.getUsername(),\r\n                    authorities);\r\n        }\r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return null;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n        @Override\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n        @Override\r\n        public boolean isEnabled() {\r\n            return true;\r\n        }\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o)\r\n                return true;\r\n            if (o == null || getClass() != o.getClass())\r\n                return false;\r\n            UserDetailsImpl user = (UserDetailsImpl) o;\r\n            return Objects.equals(id, user.id);\r\n        }\r\n    }\r\n\r\n**AuthController.java authenticateUser**\r\n\r\n     if (!userRepository.existsByUsername(username)) {\r\n            User user;\r\n            if (userRepository.existsById(id)) {\r\n                user = userRepository.findById(id).orElseThrow();\r\n                user.setUsername(username);\r\n            } else {\r\n                user = new User(username, id);\r\n            }\r\n            Set&lt;String&gt; strRoles = loginRequest.getRole();\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n            if (strRoles == null) {\r\n                Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                roles.add(userRole);\r\n            } else {\r\n                strRoles.forEach(role -&gt; {\r\n                    switch (role) {\r\n                        case &quot;admin&quot;:\r\n                            Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\r\n                                    .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                            roles.add(adminRole);\r\n                            break;\r\n                        case &quot;mod&quot;:\r\n                            Role modRole = roleRepository.findByName(ERole.ROLE_MODERATOR)\r\n                                    .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                            roles.add(modRole);\r\n                            break;\r\n                        default:\r\n                            Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n                                    .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                            roles.add(userRole);\r\n                    }\r\n                });\r\n            }\r\n            user.setEnabled(true);\r\n            user.setRoles(roles);\r\n            userRepository.save(user);\r\n        }\r\n        User user = userRepository.findById(id).orElseThrow();\r\n        UserDetailsImpl userDetails1 = UserDetailsImpl.build(user);\r\n        Authentication authentication = new UsernamePasswordAuthenticationToken(userDetails1, null, userDetails1.getAuthorities());\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\r\n      \r\n        List&lt;String&gt; rolesUser = userDetails.getAuthorities().stream()\r\n                .map(GrantedAuthority::getAuthority)\r\n                .collect(Collectors.toList());\r\n        return ResponseEntity.ok(new UserResponse(\r\n                userDetails.getId(),\r\n                userDetails.getUsername(),\r\n                rolesUser));\r\n\r\n","title":"Linking a Google account (oauth2) spring security","body":"<p>I have a spring rest web application where I am doing authentication with a single game token. I would like to add Google (or GitHub, Facebook, Telegram) account binding (oauth2) so that I can log in with oauth2, because it takes a long time to generate a token every time, how can this be implemented?</p>\n<p>My code <a href=\"https://github.com/iNiceHero/VueAuthSpring\" rel=\"nofollow noreferrer\">https://github.com/iNiceHero/VueAuthSpring</a></p>\n<p><strong>WebSecurityConfig.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true)\n@EnableOAuth2Sso\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .mvcMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/js/**&quot;, &quot;/error**&quot;, &quot;/login&quot;, &quot;/api/user/**&quot;).permitAll()\n                .mvcMatchers(&quot;/api/test/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().logout().logoutSuccessUrl(&quot;/login&quot;)\n                .and().csrf().disable();\n        http.sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\n        http.sessionManagement()\n                .sessionFixation().migrateSession();\n\n    }\n\n}\n</code></pre>\n<p><strong>UserDetailsServiceImpl.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    @Autowired\n    UserRepository userRepository;\n    @Override\n    @Transactional\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User Not Found with username: &quot; + username));\n        return UserDetailsImpl.build(user);\n    }\n}\n</code></pre>\n<p><strong>UserDetailsImpl.java</strong></p>\n<pre><code>public class UserDetailsImpl implements UserDetails {\n    private static final long serialVersionUID = 1L;\n    private Long id;\n    private String username;\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\n    public UserDetailsImpl(Long id, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        this.id = id;\n        this.username = username;\n        this.authorities = authorities;\n    }\n    public static UserDetailsImpl build(User user) {\n        List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\n                .collect(Collectors.toList());\n        return new UserDetailsImpl(\n                user.getId(),\n                user.getUsername(),\n                authorities);\n    }\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return null;\n    }\n\n    public Long getId() {\n        return id;\n    }\n    @Override\n    public String getUsername() {\n        return username;\n    }\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n    @Override\n    public boolean equals(Object o) {\n        if (this == o)\n            return true;\n        if (o == null || getClass() != o.getClass())\n            return false;\n        UserDetailsImpl user = (UserDetailsImpl) o;\n        return Objects.equals(id, user.id);\n    }\n}\n</code></pre>\n<p><strong>AuthController.java authenticateUser</strong></p>\n<pre><code> if (!userRepository.existsByUsername(username)) {\n        User user;\n        if (userRepository.existsById(id)) {\n            user = userRepository.findById(id).orElseThrow();\n            user.setUsername(username);\n        } else {\n            user = new User(username, id);\n        }\n        Set&lt;String&gt; strRoles = loginRequest.getRole();\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n        if (strRoles == null) {\n            Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n            roles.add(userRole);\n        } else {\n            strRoles.forEach(role -&gt; {\n                switch (role) {\n                    case &quot;admin&quot;:\n                        Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                        roles.add(adminRole);\n                        break;\n                    case &quot;mod&quot;:\n                        Role modRole = roleRepository.findByName(ERole.ROLE_MODERATOR)\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                        roles.add(modRole);\n                        break;\n                    default:\n                        Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                        roles.add(userRole);\n                }\n            });\n        }\n        user.setEnabled(true);\n        user.setRoles(roles);\n        userRepository.save(user);\n    }\n    User user = userRepository.findById(id).orElseThrow();\n    UserDetailsImpl userDetails1 = UserDetailsImpl.build(user);\n    Authentication authentication = new UsernamePasswordAuthenticationToken(userDetails1, null, userDetails1.getAuthorities());\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\n  \n    List&lt;String&gt; rolesUser = userDetails.getAuthorities().stream()\n            .map(GrantedAuthority::getAuthority)\n            .collect(Collectors.toList());\n    return ResponseEntity.ok(new UserResponse(\n            userDetails.getId(),\n            userDetails.getUsername(),\n            rolesUser));\n</code></pre>\n"},{"tags":["java","optimization","jvm","jit"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":3,"creation_date":1666075566,"post_id":74106557,"comment_id":130843134,"body_markdown":"Have you tried default ```V getOrDefault(Object key, V defaultValue)```?","body":"Have you tried default <code>V getOrDefault(Object key, V defaultValue)</code>?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666076484,"post_id":74106557,"comment_id":130843416,"body_markdown":"I do not believe such optimization will be done - the system does not know what is happening or can happen between the map lookups.","body":"I do not believe such optimization will be done - the system does not know what is happening or can happen between the map lookups."},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1666084082,"post_id":74106557,"comment_id":130845806,"body_markdown":"Thanks @ChengThao I’m aware of that, just writing it this way for the benefits of argument.","body":"Thanks @ChengThao I’m aware of that, just writing it this way for the benefits of argument."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666079646,"creation_date":1666079248,"answer_id":74107456,"question_id":74106557,"body_markdown":"Eliminating duplicate method calls can only work if the optimizer can prove that the two operations are [idempotent], which requires looking into the method’s actual implementation code.\r\n\r\nYour assumption that the two occurrences of `map.get(1)` will do the same, relies on several premises, the JVM can’t take for granted.\r\n\r\n - You’re calling the method on the same object instance. Even in this simple code with adjacent calls, the optimizer can’t assume this, without knowing what `get` actually does. If `get` changes the `map` reference, this assumption would be void.\r\n\r\n - You’re passing the same key. Your code suggests that we’re talking about a `Map&lt;Integer, String&gt;`, so the expression is subject to auto-boxing. You’re effectively passing `Integer.valueOf(1)` to `get` and another occurrence of `Integer.valueOf(1)` for the other `get` call.  \r\n   The specific contract of auto-boxing/`Integer.valueOf(int)` allows substituting one for the other, regardless of how the implementation looks like, the question is whether the optimizer will know and exploit this.\r\n - The method is free of side effects. While it’s reasonable to assume that a `Map`’s `get` implementation does not modify the map, it might contain logging or benchmark statements which are ineffective by default but could be activated, depending on some runtime state. If it has such statements, proving their ineffectiveness requires predicting that runtime state.\r\n\r\nSince eliminating the redundancy can only work when knowing the implementation code, it only works after inlining the code when the prerequisites for inlining are met (e.g. the invocation does always end up at the same implementation). Then, optimizations like [*common subexpression elimination*] will be applied.\r\n\r\nThe effectivity of this optimization depends on the actual implementation code. For empty maps like `Map.of()` or `Collections.emptyMap()` and for singleton maps like `Map.of(1, &quot;foo&quot;)` or `Collections.singletonMap(1, &quot;foo&quot;)` this might work well. But for maps like `TreeMap` or `HashMap`&#185;, the actual implementation is way too complex to assume that redundant evaluations can be eliminated completely. It’s important to keep in mind that this would also require inlining the `hashCode` and `equals` (or `compareTo`) implementations of the key, to prove their idempotence. Not an issue for `Integer` keys, but could be for other key types.\r\n\r\nTo illustrate this, we’re talking about an implementation like this for `HashMap`:\r\n\r\n```java\r\npublic V get(Object key) {\r\n    Node&lt;K,V&gt; e;\r\n    return (e = getNode(hash(key), key)) == null ? null : e.value;\r\n}\r\nfinal Node&lt;K,V&gt; getNode(int hash, Object key) {\r\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k;\r\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;\r\n        (first = tab[(n - 1) &amp; hash]) != null) {\r\n        if (first.hash == hash &amp;&amp; // always check first node\r\n            ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n            return first;\r\n        if ((e = first.next) != null) {\r\n            if (first instanceof TreeNode)\r\n                return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);\r\n            do {\r\n                if (e.hash == hash &amp;&amp;\r\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n                    return e;\r\n            } while ((e = e.next) != null);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nThe optimizer would have to inline this code twice (chances are high that it won’t due to code size thresholds) and then prove that the two occurrences do the same and are free of side effects…\r\n\r\n---\r\nAs already mentioned in the comments, you can simply use [`map.getOrDefault(1, DEFAULT)`] if you want concise code and avoid duplicate lookup operations.\r\n\r\n---\r\n\r\n&#185; and concurrent or synchronized maps are out of the game anyway, unless the optimizer can prove that they have never been seen by another thread.\r\n\r\n[idempotent]: https://en.wikipedia.org/wiki/Idempotence\r\n[*common subexpression elimination*]: https://en.wikipedia.org/wiki/Common_subexpression_elimination\r\n[`map.getOrDefault(1, DEFAULT)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)","title":"Is JVM or JIT able to reduce duplicate method calls?","body":"<p>Eliminating duplicate method calls can only work if the optimizer can prove that the two operations are <a href=\"https://en.wikipedia.org/wiki/Idempotence\" rel=\"noreferrer\">idempotent</a>, which requires looking into the method’s actual implementation code.</p>\n<p>Your assumption that the two occurrences of <code>map.get(1)</code> will do the same, relies on several premises, the JVM can’t take for granted.</p>\n<ul>\n<li><p>You’re calling the method on the same object instance. Even in this simple code with adjacent calls, the optimizer can’t assume this, without knowing what <code>get</code> actually does. If <code>get</code> changes the <code>map</code> reference, this assumption would be void.</p>\n</li>\n<li><p>You’re passing the same key. Your code suggests that we’re talking about a <code>Map&lt;Integer, String&gt;</code>, so the expression is subject to auto-boxing. You’re effectively passing <code>Integer.valueOf(1)</code> to <code>get</code> and another occurrence of <code>Integer.valueOf(1)</code> for the other <code>get</code> call.<br />\nThe specific contract of auto-boxing/<code>Integer.valueOf(int)</code> allows substituting one for the other, regardless of how the implementation looks like, the question is whether the optimizer will know and exploit this.</p>\n</li>\n<li><p>The method is free of side effects. While it’s reasonable to assume that a <code>Map</code>’s <code>get</code> implementation does not modify the map, it might contain logging or benchmark statements which are ineffective by default but could be activated, depending on some runtime state. If it has such statements, proving their ineffectiveness requires predicting that runtime state.</p>\n</li>\n</ul>\n<p>Since eliminating the redundancy can only work when knowing the implementation code, it only works after inlining the code when the prerequisites for inlining are met (e.g. the invocation does always end up at the same implementation). Then, optimizations like <a href=\"https://en.wikipedia.org/wiki/Common_subexpression_elimination\" rel=\"noreferrer\"><em>common subexpression elimination</em></a> will be applied.</p>\n<p>The effectivity of this optimization depends on the actual implementation code. For empty maps like <code>Map.of()</code> or <code>Collections.emptyMap()</code> and for singleton maps like <code>Map.of(1, &quot;foo&quot;)</code> or <code>Collections.singletonMap(1, &quot;foo&quot;)</code> this might work well. But for maps like <code>TreeMap</code> or <code>HashMap</code>¹, the actual implementation is way too complex to assume that redundant evaluations can be eliminated completely. It’s important to keep in mind that this would also require inlining the <code>hashCode</code> and <code>equals</code> (or <code>compareTo</code>) implementations of the key, to prove their idempotence. Not an issue for <code>Integer</code> keys, but could be for other key types.</p>\n<p>To illustrate this, we’re talking about an implementation like this for <code>HashMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public V get(Object key) {\n    Node&lt;K,V&gt; e;\n    return (e = getNode(hash(key), key)) == null ? null : e.value;\n}\nfinal Node&lt;K,V&gt; getNode(int hash, Object key) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k;\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;\n        (first = tab[(n - 1) &amp; hash]) != null) {\n        if (first.hash == hash &amp;&amp; // always check first node\n            ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))\n            return first;\n        if ((e = first.next) != null) {\n            if (first instanceof TreeNode)\n                return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);\n            do {\n                if (e.hash == hash &amp;&amp;\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>The optimizer would have to inline this code twice (chances are high that it won’t due to code size thresholds) and then prove that the two occurrences do the same and are free of side effects…</p>\n<hr />\n<p>As already mentioned in the comments, you can simply use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\" rel=\"noreferrer\"><code>map.getOrDefault(1, DEFAULT)</code></a> if you want concise code and avoid duplicate lookup operations.</p>\n<hr />\n<p>¹ and concurrent or synchronized maps are out of the game anyway, unless the optimizer can prove that they have never been seen by another thread.</p>\n"}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74107456,"answer_count":1,"score":2,"last_activity_date":1666079820,"creation_date":1666074260,"question_id":74106557,"body_markdown":"I have a function that checks if a map has some value for key (`map.get(key) != null`) and then returns the value, or else create new value.  \r\nI&#39;m wondering is there any JVM or JIT magic that doesn&#39;t have to do 2 map lookups when the value exists for the given key?\r\n\r\n```java\r\nValue someValue = map.get(key) != null ? map.get(key) : new Value();\r\n```\r\n\r\n---\r\nAccording to my benchmark, it seems no optimisation can be done as it&#39;s visibly slower than if we have a local variable to hold the value:\r\n```java\r\n@Benchmark\r\npublic String duplicateCall() {\r\n    return map.get(1) != null ? map.get(1) : DEFAULT;\r\n}\r\n\r\n@Benchmark\r\npublic String nonDuplicateCall() {\r\n    final String s = map.get(1);\r\n    return s != null ? s : DEFAULT;\r\n}\r\n```\r\nResults:\r\n```\r\nBenchmark                                  Mode  Cnt       Score       Error   Units\r\nduplicateCall     thrpt    5  634001.515 &#177; 69181.631  ops/ms\r\nnonDuplicateCall  thrpt    5  869980.580 &#177; 66572.021  ops/ms\r\n```","title":"Is JVM or JIT able to reduce duplicate method calls?","body":"<p>I have a function that checks if a map has some value for key (<code>map.get(key) != null</code>) and then returns the value, or else create new value.<br />\nI'm wondering is there any JVM or JIT magic that doesn't have to do 2 map lookups when the value exists for the given key?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Value someValue = map.get(key) != null ? map.get(key) : new Value();\n</code></pre>\n<hr />\n<p>According to my benchmark, it seems no optimisation can be done as it's visibly slower than if we have a local variable to hold the value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Benchmark\npublic String duplicateCall() {\n    return map.get(1) != null ? map.get(1) : DEFAULT;\n}\n\n@Benchmark\npublic String nonDuplicateCall() {\n    final String s = map.get(1);\n    return s != null ? s : DEFAULT;\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>Benchmark                                  Mode  Cnt       Score       Error   Units\nduplicateCall     thrpt    5  634001.515 ± 69181.631  ops/ms\nnonDuplicateCall  thrpt    5  869980.580 ± 66572.021  ops/ms\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666002406,"post_id":74095843,"comment_id":130823759,"body_markdown":"Have you tried using `parent=&quot;Theme.MaterialComponents.NoActionBar&quot;`?","body":"Have you tried using <code>parent=&quot;Theme.MaterialComponents.NoActionBar&quot;</code>?"},{"owner":{"account_id":26647346,"reputation":1,"user_id":20262110,"display_name":"Testing Netscapelabs"},"score":0,"creation_date":1666002672,"post_id":74095843,"comment_id":130823860,"body_markdown":"@TheLibrarian  yes, i have tried just now, but same issue occurring","body":"@TheLibrarian  yes, i have tried just now, but same issue occurring"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666002964,"post_id":74095843,"comment_id":130823944,"body_markdown":"How does the `onCreate` look like? (Do you call it before or after `super.onCreate()`)","body":"How does the <code>onCreate</code> look like? (Do you call it before or after <code>super.onCreate()</code>)"},{"owner":{"account_id":26647346,"reputation":1,"user_id":20262110,"display_name":"Testing Netscapelabs"},"score":0,"creation_date":1666003150,"post_id":74095843,"comment_id":130824003,"body_markdown":"after super.onCreate i called it sir.\n\nsuper.onCreate(savedInstanceState) \n setContentView(R.layout.activity_splash)\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO)","body":"after super.onCreate i called it sir.  super.onCreate(savedInstanceState)   setContentView(R.layout.activity_splash)         AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE&zwnj;&#8203;_NIGHT_NO)"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666003299,"post_id":74095843,"comment_id":130824055,"body_markdown":"Try calling `AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO)` before `super.onCreate(savedInstanceState)`","body":"Try calling <code>AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE&zwnj;&#8203;_NIGHT_NO)</code> before <code>super.onCreate(savedInstanceState)</code>"},{"owner":{"account_id":26647346,"reputation":1,"user_id":20262110,"display_name":"Testing Netscapelabs"},"score":0,"creation_date":1666003406,"post_id":74095843,"comment_id":130824092,"body_markdown":"i have tried below , but same problem coming.\n\n override fun onCreate(savedInstanceState: Bundle?) {\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO)\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_splash)","body":"i have tried below , but same problem coming.   override fun onCreate(savedInstanceState: Bundle?) {         AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE&zwnj;&#8203;_NIGHT_NO)         super.onCreate(savedInstanceState)         setContentView(R.layout.activity_splash)"}],"answers":[{"tags":[],"owner":{"account_id":25688940,"reputation":162,"user_id":19525299,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666009196,"creation_date":1666009196,"answer_id":74097170,"question_id":74095843,"body_markdown":"Change the parent attribute of your app style in themes.xml from\r\n\r\n    &lt;style name=&quot;Theme.AppName&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n\r\nto\r\n\r\n    &lt;style name=&quot;Theme.AppName&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n\r\n","title":"How to disable dark mode in android 9","body":"<p>Change the parent attribute of your app style in themes.xml from</p>\n<pre><code>&lt;style name=&quot;Theme.AppName&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;style name=&quot;Theme.AppName&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666079717,"creation_date":1666079717,"answer_id":74107565,"question_id":74095843,"body_markdown":"Is it Right As **Josh** and another way to see if You have the theme(night) then delete it ","title":"How to disable dark mode in android 9","body":"<p>Is it Right As <strong>Josh</strong> and another way to see if You have the theme(night) then delete it</p>\n"}],"owner":{"account_id":26647346,"reputation":1,"user_id":20262110,"display_name":"Testing Netscapelabs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666079717,"creation_date":1666002272,"question_id":74095843,"body_markdown":"i am trying to disable dark mode in my app and its working on android 10 or higher but its not working on android 9. Can anyone please help me out here. Thanks in advance.\r\n\r\nIn on create method i have done below,\r\nin theme or theme(night), in both files i placed \r\n\r\n    &lt;style name=&quot;Theme.VideoTradieProvider&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n    &lt;!--    &lt;style name=&quot;Theme.VideoTradieProvider&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;--&gt;\r\n            &lt;!-- Primary brand color. --&gt;\r\n    \r\n            &lt;item name=&quot;android:windowActivityTransitions&quot;&gt;true&lt;/item&gt;\r\n    \r\n    &lt;!--        &lt;item name=&quot;android:windowEnterTransition&quot;&gt;@transition/explode_old&lt;/item&gt;--&gt;\r\n    &lt;!--        &lt;item name=&quot;android:windowExitTransition&quot;&gt;@transition/explode_old&lt;/item&gt;--&gt;\r\n    \r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n    \r\n            &lt;!-- Secondary brand color. --&gt;\r\n            &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n            &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;!-- Status bar color. --&gt;\r\n            &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/white&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n        &lt;/style&gt;\r\n\r\nalso write below line but not working with anroid 9\r\n\r\n    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO)","title":"How to disable dark mode in android 9","body":"<p>i am trying to disable dark mode in my app and its working on android 10 or higher but its not working on android 9. Can anyone please help me out here. Thanks in advance.</p>\n<p>In on create method i have done below,\nin theme or theme(night), in both files i placed</p>\n<pre><code>&lt;style name=&quot;Theme.VideoTradieProvider&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n&lt;!--    &lt;style name=&quot;Theme.VideoTradieProvider&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;--&gt;\n        &lt;!-- Primary brand color. --&gt;\n\n        &lt;item name=&quot;android:windowActivityTransitions&quot;&gt;true&lt;/item&gt;\n\n&lt;!--        &lt;item name=&quot;android:windowEnterTransition&quot;&gt;@transition/explode_old&lt;/item&gt;--&gt;\n&lt;!--        &lt;item name=&quot;android:windowExitTransition&quot;&gt;@transition/explode_old&lt;/item&gt;--&gt;\n\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>also write below line but not working with anroid 9</p>\n<pre><code>AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO)\n</code></pre>\n"},{"tags":["java","spring-boot","log4j","logback","sumologic"],"answers":[{"tags":[],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666077912,"creation_date":1666077912,"answer_id":74107190,"question_id":74106677,"body_markdown":"My hunch is that you are missing the `sumologic-logback-appender` jar from the classpath at runtime.","title":"Could not create an Appender of type [com.sumologic.logback.SumoLogicAppender]","body":"<p>My hunch is that you are missing the <code>sumologic-logback-appender</code> jar from the classpath at runtime.</p>\n"},{"tags":[],"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666079533,"creation_date":1666079533,"answer_id":74107522,"question_id":74106677,"body_markdown":"I found answer for my question. It is my mistake. I was using the log4j jar and looking for logback class file. I fixed by using the logback jar as below\r\n\r\n    // https://mvnrepository.com/artifact/com.sumologic.plugins.logback/sumologic-logback-appender\r\n    implementation group: &#39;com.sumologic.plugins.logback&#39;, name: &#39;sumologic-logback-appender&#39;, version: &#39;1.8&#39;\r\n","title":"Could not create an Appender of type [com.sumologic.logback.SumoLogicAppender]","body":"<p>I found answer for my question. It is my mistake. I was using the log4j jar and looking for logback class file. I fixed by using the logback jar as below</p>\n<pre><code>// https://mvnrepository.com/artifact/com.sumologic.plugins.logback/sumologic-logback-appender\nimplementation group: 'com.sumologic.plugins.logback', name: 'sumologic-logback-appender', version: '1.8'\n</code></pre>\n"}],"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666079533,"creation_date":1666075227,"question_id":74106677,"body_markdown":"I am using Spring boot application. When I try to add the https://github.com/SumoLogic/sumologic-logback-appender to my project and added configuration in logback.xml as below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;SumoAppender&quot; class=&quot;com.sumologic.logback.SumoLogicAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;Pattern&gt;\r\n                    %date{ISO8601,UTC} [%t] %-5p %c - %m%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n            &lt;url&gt;[collector-url]&lt;/url&gt;\r\n        &lt;/appender&gt;\r\n        &lt;Logger name=&quot;SumoLogger&quot; level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;SumoAppender&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\nI got this below error and unable to proceed\r\n\r\n\r\n    ERROR in ch.qos.logback.core.joran.action.AppenderAction - Could not create an Appender of type [com.sumologic.logback.SumoLogicAppender]. ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type com.sumologic.logback.SumoLogicAppender\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@52:79 - ActionException in Action for tag [appender] ch.qos.logback.core.joran.spi.ActionException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type com.sumologic.logback.SumoLogicAppender\r\n    ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [SumoAppender]. Did you define it below instead of above in the configuration file?\r\n    ERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.\r\n\r\n\r\n\r\nMaven dependency link - https://mvnrepository.com/artifact/com.sumologic.plugins.log4j/sumologic-log4j2-appender/1.13\r\n\r\n\r\nAny help would be useful","title":"Could not create an Appender of type [com.sumologic.logback.SumoLogicAppender]","body":"<p>I am using Spring boot application. When I try to add the <a href=\"https://github.com/SumoLogic/sumologic-logback-appender\" rel=\"nofollow noreferrer\">https://github.com/SumoLogic/sumologic-logback-appender</a> to my project and added configuration in logback.xml as below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;SumoAppender&quot; class=&quot;com.sumologic.logback.SumoLogicAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;Pattern&gt;\n                %date{ISO8601,UTC} [%t] %-5p %c - %m%n\n            &lt;/Pattern&gt;\n        &lt;/encoder&gt;\n        &lt;url&gt;[collector-url]&lt;/url&gt;\n    &lt;/appender&gt;\n    &lt;Logger name=&quot;SumoLogger&quot; level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;SumoAppender&quot; /&gt;\n    &lt;/Logger&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I got this below error and unable to proceed</p>\n<pre><code>ERROR in ch.qos.logback.core.joran.action.AppenderAction - Could not create an Appender of type [com.sumologic.logback.SumoLogicAppender]. ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type com.sumologic.logback.SumoLogicAppender\nERROR in ch.qos.logback.core.joran.spi.Interpreter@52:79 - ActionException in Action for tag [appender] ch.qos.logback.core.joran.spi.ActionException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type com.sumologic.logback.SumoLogicAppender\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [SumoAppender]. Did you define it below instead of above in the configuration file?\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.\n</code></pre>\n<p>Maven dependency link - <a href=\"https://mvnrepository.com/artifact/com.sumologic.plugins.log4j/sumologic-log4j2-appender/1.13\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.sumologic.plugins.log4j/sumologic-log4j2-appender/1.13</a></p>\n<p>Any help would be useful</p>\n"},{"tags":["java","javafx","java-11","launch4j","javafx-11"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1666077138,"post_id":74106463,"comment_id":130843606,"body_markdown":"One scenario that error pops up is when JavaFX is placed on the class-path—instead of the module-path—and the main class is a subclass of `javafx.application.Application` (which causes some internal checks to see if the `javafx.graphics` module is in the _boot_ module layer). The workaround is to make a separate main class that is _not_ a subclass of `Application` and all it does is launch the JavaFX application (e.g., `Application.launch(TheAppClass.class, args)`). Though I&#39;m not sure why JavaFX would be on the class-path given you&#39;re specifying the module-path, but I don&#39;t know Launch4j much","body":"One scenario that error pops up is when JavaFX is placed on the class-path—instead of the module-path—and the main class is a subclass of <code>javafx.application.Application</code> (which causes some internal checks to see if the <code>javafx.graphics</code> module is in the <i>boot</i> module layer). The workaround is to make a separate main class that is <i>not</i> a subclass of <code>Application</code> and all it does is launch the JavaFX application (e.g., <code>Application.launch(TheAppClass.class, args)</code>). Though I&#39;m not sure why JavaFX would be on the class-path given you&#39;re specifying the module-path, but I don&#39;t know Launch4j much"},{"owner":{"account_id":18422632,"reputation":77,"user_id":13419857,"display_name":"Edisson Gabriel L&#243;pez"},"score":0,"creation_date":1666080150,"post_id":74106463,"comment_id":130844597,"body_markdown":"@Slaw I what you meant, I think that is the setting. I&#39;m not sure","body":"@Slaw I what you meant, I think that is the setting. I&#39;m not sure"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1666082248,"post_id":74106463,"comment_id":130845230,"body_markdown":"Well, some progress seems to have been made. That new error suggests the native code of JavaFX is not being found. As I said, I don&#39;t know Launch4j well, but if it is attempting to bundle the JavaFX library with your application, then it is failing to include the native libraries. In the JavaFXF SDK, those are located in the `bin` directory. Note the JavaFX JARs from Maven Central embed the native code (though that also means when using those JARs that the native code has to be extracted to someplace on the user&#39;s computer before it can be used; that happens automatically).","body":"Well, some progress seems to have been made. That new error suggests the native code of JavaFX is not being found. As I said, I don&#39;t know Launch4j well, but if it is attempting to bundle the JavaFX library with your application, then it is failing to include the native libraries. In the JavaFXF SDK, those are located in the <code>bin</code> directory. Note the JavaFX JARs from Maven Central embed the native code (though that also means when using those JARs that the native code has to be extracted to someplace on the user&#39;s computer before it can be used; that happens automatically)."}],"owner":{"account_id":18422632,"reputation":77,"user_id":13419857,"display_name":"Edisson Gabriel L&#243;pez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666079469,"creation_date":1666073690,"question_id":74106463,"body_markdown":"I am trying to convert with `Launch4j`, but I have the following error:\r\n```\r\nError: JavaFX runtime components are missing, and are required to run this application\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is how I have the configuration:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAt the moment I&#39;m running it with a run.sh that I run with Git-bash `$ sh run.sh`\r\n\r\n```\r\njava --module-path &quot;C:\\Users\\test\\Documents\\JavaFX\\javafx-sdk-11.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml -jar MC_Clearing.jar\r\n```\r\n\r\nI made this project with intellij idea and the JavaFX I used the one from gluonhq, but I can&#39;t manage to add those two missing modules to the .jar application to create the .exe.\r\n\r\n\r\n**UPDATE**\r\nChange Main as indicated @Slaw\r\n```\r\npublic class Main  {\r\n    public static class Window extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n\r\n            GraphicsDevice gd = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\r\n            int width = gd.getDisplayMode().getWidth();\r\n            int height = gd.getDisplayMode().getHeight();\r\n\r\n            FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            stage.setScene(scene);\r\n            stage.setMaximized(true);\r\n            stage.show();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(Window.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\n`module-info.java`\r\n\r\n```\r\nmodule MC_Clearing {\r\n    \r\n    requires javafx.graphics;\r\n    requires javafx.controls;\r\n    requires javafx.media;\r\n    requires javafx.base;\r\n    requires javafx.web;\r\n    requires javafx.swing;\r\n    requires javafx.fxml;\r\n\r\n\r\n    opens com.data.t140.mc_clearing;\r\n\r\n}\r\n```\r\n\r\nNow I have the following error:\r\n```\r\nGraphics Device initialization failed for :  d3d, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:222)\r\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:260)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:678)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\r\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\r\n        ... 1 more\r\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\r\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:272)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:678)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n\r\n\r\nThank you.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DuKMm.png\r\n  [2]: https://i.stack.imgur.com/f1Jfh.png\r\n\r\n\r\n","title":"Converting JavaFX application(.Jar) to Windows application(.exe) - Launch4j (JDK 11)","body":"<p>I am trying to convert with <code>Launch4j</code>, but I have the following error:</p>\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DuKMm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DuKMm.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how I have the configuration:\n<a href=\"https://i.stack.imgur.com/f1Jfh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f1Jfh.png\" alt=\"enter image description here\" /></a></p>\n<p>At the moment I'm running it with a run.sh that I run with Git-bash <code>$ sh run.sh</code></p>\n<pre><code>java --module-path &quot;C:\\Users\\test\\Documents\\JavaFX\\javafx-sdk-11.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml -jar MC_Clearing.jar\n</code></pre>\n<p>I made this project with intellij idea and the JavaFX I used the one from gluonhq, but I can't manage to add those two missing modules to the .jar application to create the .exe.</p>\n<p><strong>UPDATE</strong>\nChange Main as indicated @Slaw</p>\n<pre><code>public class Main  {\n    public static class Window extends Application {\n        @Override\n        public void start(Stage stage) throws IOException {\n\n            GraphicsDevice gd = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\n            int width = gd.getDisplayMode().getWidth();\n            int height = gd.getDisplayMode().getHeight();\n\n            FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;view.fxml&quot;));\n            Scene scene = new Scene(fxmlLoader.load());\n            stage.setScene(scene);\n            stage.setMaximized(true);\n            stage.show();\n        }\n    }\n\n    public static void main(String[] args) {\n        Application.launch(Window.class, args);\n    }\n}\n\n</code></pre>\n<p><code>module-info.java</code></p>\n<pre><code>module MC_Clearing {\n    \n    requires javafx.graphics;\n    requires javafx.controls;\n    requires javafx.media;\n    requires javafx.base;\n    requires javafx.web;\n    requires javafx.swing;\n    requires javafx.fxml;\n\n\n    opens com.data.t140.mc_clearing;\n\n}\n</code></pre>\n<p>Now I have the following error:</p>\n<pre><code>Graphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:222)\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:260)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:678)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\n        ... 1 more\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:272)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:678)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1666022750,"post_id":74095197,"comment_id":130831582,"body_markdown":"This shouldn&#39;t be an issue as it is a regular 1:1 mapping. Parent doesn&#39;t need to know it is referenced by anything else for this to work, (hibernate and other providers should detect the class dependency and so delete Parent last) so something else is going on. Can you turn off constraint checking and see the order of all the statements in the transaction? This might point you at something else - an unshown dependency maybe from Parent to something else that is forcing your provider to think Parent needs to go first.","body":"This shouldn&#39;t be an issue as it is a regular 1:1 mapping. Parent doesn&#39;t need to know it is referenced by anything else for this to work, (hibernate and other providers should detect the class dependency and so delete Parent last) so something else is going on. Can you turn off constraint checking and see the order of all the statements in the transaction? This might point you at something else - an unshown dependency maybe from Parent to something else that is forcing your provider to think Parent needs to go first."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1666030364,"post_id":74095197,"comment_id":130834123,"body_markdown":"Hibernate 5.2 is very old at this point and unsupported. Try updating to Hibernate 5.6 at least. If you have the same issue on that version, please create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"Hibernate 5.2 is very old at this point and unsupported. Try updating to Hibernate 5.6 at least. If you have the same issue on that version, please create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."},{"owner":{"account_id":4418726,"reputation":59,"user_id":3599459,"display_name":"contivero"},"score":0,"creation_date":1666035717,"post_id":74095197,"comment_id":130835669,"body_markdown":"@Chris I realized this first because our test suite is failing. The test is a transactional test, where among other things we delete the child, and we then proceed to call a `loadAll` to see that there is nothing in the DB remaining. When `loadAll` is called, Hibernate flushes the deletion, and is issuing the deletion of the parent before that of the child (I enabled debug logging to see the SQL statements Hibernate was generating). But I&#39;ll try digging a bit deeper into the order and see if I can find something, thanks!","body":"@Chris I realized this first because our test suite is failing. The test is a transactional test, where among other things we delete the child, and we then proceed to call a <code>loadAll</code> to see that there is nothing in the DB remaining. When <code>loadAll</code> is called, Hibernate flushes the deletion, and is issuing the deletion of the parent before that of the child (I enabled debug logging to see the SQL statements Hibernate was generating). But I&#39;ll try digging a bit deeper into the order and see if I can find something, thanks!"},{"owner":{"account_id":4418726,"reputation":59,"user_id":3599459,"display_name":"contivero"},"score":0,"creation_date":1666035962,"post_id":74095197,"comment_id":130835732,"body_markdown":"@ChristianBeikov though I completely agree with you, the jump from 3 to 5 hasn&#39;t been small (I haven&#39;t finished it yet), and going past 5.2 implies having to migrate a lot of legacy queries using positional parameters. So I&#39;m hoping I can fix this without needing to do that (right now, but I hope to do that too eventually). In any case, I can likely try with 5.6 and see if the tests work fine there, so I&#39;ll do that, thanks for the idea!","body":"@ChristianBeikov though I completely agree with you, the jump from 3 to 5 hasn&#39;t been small (I haven&#39;t finished it yet), and going past 5.2 implies having to migrate a lot of legacy queries using positional parameters. So I&#39;m hoping I can fix this without needing to do that (right now, but I hope to do that too eventually). In any case, I can likely try with 5.6 and see if the tests work fine there, so I&#39;ll do that, thanks for the idea!"},{"owner":{"account_id":4418726,"reputation":59,"user_id":3599459,"display_name":"contivero"},"score":0,"creation_date":1666042475,"post_id":74095197,"comment_id":130837588,"body_markdown":"@ChristianBeikov was able to try with 5.6.12 and it works fine there, so it looks like it&#39;s a bug with 5.2.18. Thanks for the help! You might want to post it as an answer so that I can accept it.","body":"@ChristianBeikov was able to try with 5.6.12 and it works fine there, so it looks like it&#39;s a bug with 5.2.18. Thanks for the help! You might want to post it as an answer so that I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666079351,"creation_date":1666079351,"answer_id":74107479,"question_id":74095197,"body_markdown":"Reposting this as answer - Hibernate 5.2 is very old and lots of bugs have been fixed in the meantime in newer versions. As you found out by trying, the problem is gone in Hibernate 5.6.12.Final, so the solution is to update your dependencies ;)","title":"Unidirectional OneToOne cascading from Child to Parent","body":"<p>Reposting this as answer - Hibernate 5.2 is very old and lots of bugs have been fixed in the meantime in newer versions. As you found out by trying, the problem is gone in Hibernate 5.6.12.Final, so the solution is to update your dependencies ;)</p>\n"}],"owner":{"account_id":4418726,"reputation":59,"user_id":3599459,"display_name":"contivero"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74107479,"answer_count":1,"score":0,"last_activity_date":1666079351,"creation_date":1665999087,"question_id":74095197,"body_markdown":"I&#39;m in the process of migrating a Hibernate 3 application to Hibernate 5.2. We have a couple of one-to-one unidirectional mappings with cascading (which we can&#39;t make bidirectional because the parent can&#39;t know anything about the other entities). The following (simplified example) worked fine in the latest Hibernate 3.x and latest Hibernate 4.x, but started running into ConstraintViolationExceptions in Hibernate 5.2:\r\n```java\r\npublic class Person {\r\n\t@Id\r\n\t@GeneratedValue(generator=&quot;system-uuid&quot;)\r\n\t@GenericGenerator(name=&quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n\t@Column(name=&quot;person_id&quot;, length=32)\r\n\tpublic String id;\r\n\r\n\t/* other fields, getters and setters */\r\n}\r\n```\r\n```java\r\npublic class EnhancedPerson {\r\n\t@Id\r\n\t@Column(name=&quot;person_id&quot;, length=32)\r\n\t@GeneratedValue(generator=&quot;foreign&quot;)\r\n\t@GenericGenerator(\r\n\t\tname=&quot;foreign&quot;,\r\n\t\tstrategy = &quot;foreign&quot;,\r\n\t\tparameters = { @Parameter(name=&quot;property&quot;, value=&quot;person&quot;) }\r\n\t)\r\n\tprivate String id;\r\n\r\n\t@OneToOne(cascade = CascadeType.ALL, optional = false)\r\n\t@PrimaryKeyJoinColumn\r\n\tprivate Person person;\r\n\r\n\t/* other fields, getters and setters */\r\n}\r\n```\r\n\r\nAs far as I could dig, when deleting an `EnhancedPerson`, hibernate tries first to delete the `Person` (because of the cascade), and of course this runs into a foreign key violation (because the `EnhancedPerson` must reference a `Person`, so it needs to be deleted first).\r\n\r\nI tried simplifying the mapping to use JPA annotations as follows:\r\n\r\n```java\r\npublic class EnhancedPerson {\r\n\t@Id\r\n\tprivate String id;\r\n\r\n\t@OneToOne(cascade = CascadeType.ALL, optional = false)\r\n\t@MapsId\r\n\t@JoinColumn(&quot;person_id&quot;)\r\n\tprivate Person person;\r\n\r\n\t/* other fields, getters and setters */\r\n}\r\n```\r\n\r\nBut the result has been the same. As far as I could dig, the usual recommendation is not to cascade from child to parent (e.g. [this answer][1]), also [hibernate&#39;s documentation][2] says **Only the parent side of an association makes sense to cascade its entity state transitions to children.**\r\n\r\nI&#39;ve also found [this conversation that seems related][3], but the complaint is from Hibernate 5.3 to 5.4, and in my case it stopped working when going from 4.x to to 5.2. Also, I think the terminology is swapped there (what&#39;s called Child is the parent/owner of the relation, and what&#39;s called Parent is the child/has the foreign key) unless I&#39;m the one with the confusion.\r\n\r\nAny pointers how I could fix this, or if this works fine in more recent Hibernate versions? It might not normally make sense to cascade from child to parent, but in our case if the child is deleted, it makes no sense to keep the parent around (also, if the parent reference is modified through the child, those changes should also be persisted when persisting the child). Also, I wonder why this used to be supported and isn&#39;t anymore (I&#39;m guessing a bug, but it could have been a purposeful breaking change).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45613450/3599459\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/domain/associations.html\r\n  [3]: https://discourse.hibernate.org/t/not-able-to-persist-the-parent-child-with-5-4-x-version-while-working-the-same-with-lower-versions/4974","title":"Unidirectional OneToOne cascading from Child to Parent","body":"<p>I'm in the process of migrating a Hibernate 3 application to Hibernate 5.2. We have a couple of one-to-one unidirectional mappings with cascading (which we can't make bidirectional because the parent can't know anything about the other entities). The following (simplified example) worked fine in the latest Hibernate 3.x and latest Hibernate 4.x, but started running into ConstraintViolationExceptions in Hibernate 5.2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    @Id\n    @GeneratedValue(generator=&quot;system-uuid&quot;)\n    @GenericGenerator(name=&quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    @Column(name=&quot;person_id&quot;, length=32)\n    public String id;\n\n    /* other fields, getters and setters */\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class EnhancedPerson {\n    @Id\n    @Column(name=&quot;person_id&quot;, length=32)\n    @GeneratedValue(generator=&quot;foreign&quot;)\n    @GenericGenerator(\n        name=&quot;foreign&quot;,\n        strategy = &quot;foreign&quot;,\n        parameters = { @Parameter(name=&quot;property&quot;, value=&quot;person&quot;) }\n    )\n    private String id;\n\n    @OneToOne(cascade = CascadeType.ALL, optional = false)\n    @PrimaryKeyJoinColumn\n    private Person person;\n\n    /* other fields, getters and setters */\n}\n</code></pre>\n<p>As far as I could dig, when deleting an <code>EnhancedPerson</code>, hibernate tries first to delete the <code>Person</code> (because of the cascade), and of course this runs into a foreign key violation (because the <code>EnhancedPerson</code> must reference a <code>Person</code>, so it needs to be deleted first).</p>\n<p>I tried simplifying the mapping to use JPA annotations as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EnhancedPerson {\n    @Id\n    private String id;\n\n    @OneToOne(cascade = CascadeType.ALL, optional = false)\n    @MapsId\n    @JoinColumn(&quot;person_id&quot;)\n    private Person person;\n\n    /* other fields, getters and setters */\n}\n</code></pre>\n<p>But the result has been the same. As far as I could dig, the usual recommendation is not to cascade from child to parent (e.g. <a href=\"https://stackoverflow.com/a/45613450/3599459\">this answer</a>), also <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/domain/associations.html\" rel=\"nofollow noreferrer\">hibernate's documentation</a> says <strong>Only the parent side of an association makes sense to cascade its entity state transitions to children.</strong></p>\n<p>I've also found <a href=\"https://discourse.hibernate.org/t/not-able-to-persist-the-parent-child-with-5-4-x-version-while-working-the-same-with-lower-versions/4974\" rel=\"nofollow noreferrer\">this conversation that seems related</a>, but the complaint is from Hibernate 5.3 to 5.4, and in my case it stopped working when going from 4.x to to 5.2. Also, I think the terminology is swapped there (what's called Child is the parent/owner of the relation, and what's called Parent is the child/has the foreign key) unless I'm the one with the confusion.</p>\n<p>Any pointers how I could fix this, or if this works fine in more recent Hibernate versions? It might not normally make sense to cascade from child to parent, but in our case if the child is deleted, it makes no sense to keep the parent around (also, if the parent reference is modified through the child, those changes should also be persisted when persisting the child). Also, I wonder why this used to be supported and isn't anymore (I'm guessing a bug, but it could have been a purposeful breaking change).</p>\n"},{"tags":["java","spring","ibm-mq","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666079339,"creation_date":1666079339,"answer_id":74107474,"question_id":74089558,"body_markdown":"For Spring you will be using Spring-JMS, so step 1 will be to familiarise yourself with Spring-JMS. \r\n\r\nTo use IBM MQ you will need to set the JMS dependency to `mq-jms-spring-boot-starter`, for how and which attribute properties to set, see the documentation at https://github.com/ibm-messaging/mq-jms-spring\r\n\r\nFor usage samples see https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS \r\n\r\nThe 101 sample has the minimal code needed to get a schedule based producer and consumer running.","title":"How to replace an old ibm mq batch V7","body":"<p>For Spring you will be using Spring-JMS, so step 1 will be to familiarise yourself with Spring-JMS.</p>\n<p>To use IBM MQ you will need to set the JMS dependency to <code>mq-jms-spring-boot-starter</code>, for how and which attribute properties to set, see the documentation at <a href=\"https://github.com/ibm-messaging/mq-jms-spring\" rel=\"nofollow noreferrer\">https://github.com/ibm-messaging/mq-jms-spring</a></p>\n<p>For usage samples see <a href=\"https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS\" rel=\"nofollow noreferrer\">https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS</a></p>\n<p>The 101 sample has the minimal code needed to get a schedule based producer and consumer running.</p>\n"}],"owner":{"account_id":7094282,"reputation":61,"user_id":5428466,"display_name":"dreamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74107474,"answer_count":1,"score":0,"last_activity_date":1666079339,"creation_date":1665943565,"question_id":74089558,"body_markdown":"I&#39;m wondering what is the best way to replace and old ibm batch java application:\r\n\r\nIn fact , I have a java application which contains basically two classes and can be started using two shell files; a shell to send and message and another one to consume messages present in the Queue.\r\n\r\nsendMessage.ksh =&gt; start the application and calls send method in the SendMessage class.\r\nreceiveMessage.ksh =&gt; start the application and calls receive method in the ReceiveMessage class.\r\n\r\nthese two shells are scheduled.\r\n\r\nI want to use a spring boot application with MQ V9 but I don&#39;t know how to process sending and retrieving messages in the best way ? with REST endpoints ? @jmsListener ?\r\n\r\nThanks.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to replace an old ibm mq batch V7","body":"<p>I'm wondering what is the best way to replace and old ibm batch java application:</p>\n<p>In fact , I have a java application which contains basically two classes and can be started using two shell files; a shell to send and message and another one to consume messages present in the Queue.</p>\n<p>sendMessage.ksh =&gt; start the application and calls send method in the SendMessage class.\nreceiveMessage.ksh =&gt; start the application and calls receive method in the ReceiveMessage class.</p>\n<p>these two shells are scheduled.</p>\n<p>I want to use a spring boot application with MQ V9 but I don't know how to process sending and retrieving messages in the best way ? with REST endpoints ? @jmsListener ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","syntax-error"],"comments":[{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":1,"creation_date":1349800958,"post_id":12804598,"comment_id":17315671,"body_markdown":"Well,you don&#39;t have a **method** `Kremalation`, you have a **class** `Kremalation` (which by the way has code outside of any method).","body":"Well,you don&#39;t have a <b>method</b> <code>Kremalation</code>, you have a <b>class</b> <code>Kremalation</code> (which by the way has code outside of any method)."}],"answers":[{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349800923,"creation_date":1349800923,"answer_id":12804623,"question_id":12804598,"body_markdown":"You can not define method as class.\r\nIt should be \r\n\r\n    public static void kremalation()\r\n    {\r\n    String ena[]={&quot;PEINAW&quot;,&quot;PEINOUSA&quot;,&quot;PETHAINW&quot;};\r\n    int i;\r\n    for (i=0; i&lt;=ena.lenght; i++)\r\n        System.out.println(ena[i]);\r\n    }","title":"Syntax error on token &quot;;&quot;, &quot;{&quot; expected after this token","body":"<p>You can not define method as class.\nIt should be </p>\n\n<pre><code>public static void kremalation()\n{\nString ena[]={\"PEINAW\",\"PEINOUSA\",\"PETHAINW\"};\nint i;\nfor (i=0; i&lt;=ena.lenght; i++)\n    System.out.println(ena[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1349800949,"creation_date":1349800949,"answer_id":12804628,"question_id":12804598,"body_markdown":"You have code (which is not declaring a variable and/or initializing it) ouside a method, which is: \r\n\r\n    for (i=0; i&lt;=ena.lenght; i++)\r\n        System.out.println(ena[i]);\r\n\r\nIn Java, code **MUST** reside inside a method. You can&#39;t _call_ a class, you have to call a method that is declared __inside__ a class.\r\n\r\n__WRONG__:\r\n\r\n    class ClassName {\r\n       for (...) \r\n    }\r\n\r\n    \r\n\r\n__CORRECT__:\r\n    \r\n    class ClassName {\r\n      static void method() {\r\n        for (...)\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        ClassName.method();\r\n      }\r\n    }","title":"Syntax error on token &quot;;&quot;, &quot;{&quot; expected after this token","body":"<p>You have code (which is not declaring a variable and/or initializing it) ouside a method, which is: </p>\n\n<pre><code>for (i=0; i&lt;=ena.lenght; i++)\n    System.out.println(ena[i]);\n</code></pre>\n\n<p>In Java, code <strong>MUST</strong> reside inside a method. You can't <em>call</em> a class, you have to call a method that is declared <strong>inside</strong> a class.</p>\n\n<p><strong>WRONG</strong>:</p>\n\n<pre><code>class ClassName {\n   for (...) \n}\n</code></pre>\n\n<p><strong>CORRECT</strong>:</p>\n\n<pre><code>class ClassName {\n  static void method() {\n    for (...)\n  }\n\n  public static void main(String[] args) {\n    ClassName.method();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349800979,"creation_date":1349800979,"answer_id":12804640,"question_id":12804598,"body_markdown":"Two possible answers. \r\n\r\n1) Remove public from second one if you would like to define it as class.\r\n\r\n2) Move Kremalation inside closing brace and replace class with void and make it as static method.\r\n","title":"Syntax error on token &quot;;&quot;, &quot;{&quot; expected after this token","body":"<p>Two possible answers. </p>\n\n<p>1) Remove public from second one if you would like to define it as class.</p>\n\n<p>2) Move Kremalation inside closing brace and replace class with void and make it as static method.</p>\n"},{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349801277,"creation_date":1349800988,"answer_id":12804644,"question_id":12804598,"body_markdown":"    public class AytiMain {\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n            AytiMain.Kremalation();\r\n        }\r\n        \r\n        public static void Kremalation() {// change here.\r\n        \r\n            String ena[]={&quot;PEINAW&quot;,&quot;PEINOUSA&quot;,&quot;PETHAINW&quot;};\r\n            int i;\r\n        \r\n            for (i=0; i&lt;=ena.lenght; i++)\r\n                System.out.println(ena[i]);\r\n        \r\n        }    \r\n    }\r\n\r\n\r\n","title":"Syntax error on token &quot;;&quot;, &quot;{&quot; expected after this token","body":"<pre><code>public class AytiMain {\n\n\n    public static void main(String[] args) {\n        AytiMain.Kremalation();\n    }\n\n    public static void Kremalation() {// change here.\n\n        String ena[]={\"PEINAW\",\"PEINOUSA\",\"PETHAINW\"};\n        int i;\n\n        for (i=0; i&lt;=ena.lenght; i++)\n            System.out.println(ena[i]);\n\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349801004,"creation_date":1349801004,"answer_id":12804647,"question_id":12804598,"body_markdown":"You cannot have executable code directly inside a class.. Add a method and use instance of that class to call that method..\r\n\r\n    public class Kremalation {\r\n    \r\n        public void method() {\r\n    \r\n            String ena[]={&quot;PEINAW&quot;,&quot;PEINOUSA&quot;,&quot;PETHAINW&quot;};\r\n            int i;\r\n    \r\n            for (i=0; i&lt;=ena.lenght; i++)\r\n                System.out.println(ena[i]);\r\n        }\r\n    \r\n    }\r\n\r\nNow, in your main method, write: - \r\n\r\n    public static void main(String[] args) {\r\n        new Kremalation().method();    \r\n    }\r\n\r\n    \r\n\r\n","title":"Syntax error on token &quot;;&quot;, &quot;{&quot; expected after this token","body":"<p>You cannot have executable code directly inside a class.. Add a method and use instance of that class to call that method..</p>\n\n<pre><code>public class Kremalation {\n\n    public void method() {\n\n        String ena[]={\"PEINAW\",\"PEINOUSA\",\"PETHAINW\"};\n        int i;\n\n        for (i=0; i&lt;=ena.lenght; i++)\n            System.out.println(ena[i]);\n    }\n\n}\n</code></pre>\n\n<p>Now, in your main method, write: - </p>\n\n<pre><code>public static void main(String[] args) {\n    new Kremalation().method();    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349802248,"creation_date":1349802248,"answer_id":12804912,"question_id":12804598,"body_markdown":"**Two approaches** to solve this problem.....\r\n\r\n**1st there are 2 classes in the same file :**\r\n\r\n\r\n    public class AytiMain {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            new Kremalation().doIt();\r\n        }\r\n    \r\n    }\r\n    \r\n    class Kremalation {\r\n    \r\n      public void doIt(){        // In Java Codes should be in blocks\r\n                                 // Like methods or instance initializer blocks\r\n    \r\n        String ena[]={&quot;PEINAW&quot;,&quot;PEINOUSA&quot;,&quot;PETHAINW&quot;};\r\n        int i;\r\n    \r\n        for (i=0; i&lt;=ena.lenght; i++)\r\n            System.out.println(ena[i]);\r\n    \r\n       }\r\n    \r\n    }\r\n\r\n\r\n**2nd change the class to method :**\r\n\r\n\r\n    public class AytiMain {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            AytiMain.Kremalation();\r\n        }\r\n    \r\n        public static void Kremalation() {     // change here.\r\n    \r\n            String ena[]={&quot;PEINAW&quot;,&quot;PEINOUSA&quot;,&quot;PETHAINW&quot;};\r\n            int i;\r\n    \r\n            for (i=0; i&lt;=ena.lenght; i++)\r\n                System.out.println(ena[i]);\r\n    \r\n        }    \r\n    }\r\n\r\n","title":"Syntax error on token &quot;;&quot;, &quot;{&quot; expected after this token","body":"<p><strong>Two approaches</strong> to solve this problem.....</p>\n\n<p><strong>1st there are 2 classes in the same file :</strong></p>\n\n<pre><code>public class AytiMain {\n\n\n    public static void main(String[] args) {\n\n        new Kremalation().doIt();\n    }\n\n}\n\nclass Kremalation {\n\n  public void doIt(){        // In Java Codes should be in blocks\n                             // Like methods or instance initializer blocks\n\n    String ena[]={\"PEINAW\",\"PEINOUSA\",\"PETHAINW\"};\n    int i;\n\n    for (i=0; i&lt;=ena.lenght; i++)\n        System.out.println(ena[i]);\n\n   }\n\n}\n</code></pre>\n\n<p><strong>2nd change the class to method :</strong></p>\n\n<pre><code>public class AytiMain {\n\n\n    public static void main(String[] args) {\n        AytiMain.Kremalation();\n    }\n\n    public static void Kremalation() {     // change here.\n\n        String ena[]={\"PEINAW\",\"PEINOUSA\",\"PETHAINW\"};\n        int i;\n\n        for (i=0; i&lt;=ena.lenght; i++)\n            System.out.println(ena[i]);\n\n    }    \n}\n</code></pre>\n"}],"owner":{"account_id":1920568,"reputation":133,"user_id":1732191,"accept_rate":100,"display_name":"belonious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37894,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":12804628,"answer_count":6,"score":3,"last_activity_date":1666079103,"creation_date":1349800832,"question_id":12804598,"body_markdown":"Just a simple class calls a class that prints an array. I get a syntax error in Eclipse. I also get an error that I don&#39;t have a method called Kremalation.\t\r\n\r\n    public class AytiMain {\r\n\r\n        public static void main(String[] args) {\r\n            AytiMain.Kremalation();\r\n        }\r\n    }\r\n\r\n    public class Kremalation {\r\n\r\n        String[] ena = { &quot;PEINAW&quot;, &quot;PEINOUSA&quot;, &quot;PETHAINW&quot; };\r\n        int i; // &lt;= syntax error on token &quot;;&quot;, { expected after this token\r\n\r\n        for (i = 0; i &lt;= ena.lenght; i++)\r\n            System.out.println(ena[i]);\r\n    }\r\n    }","title":"Syntax error on token &quot;;&quot;, &quot;{&quot; expected after this token","body":"<p>Just a simple class calls a class that prints an array. I get a syntax error in Eclipse. I also get an error that I don't have a method called Kremalation. </p>\n\n<pre><code>public class AytiMain {\n\n    public static void main(String[] args) {\n        AytiMain.Kremalation();\n    }\n}\n\npublic class Kremalation {\n\n    String[] ena = { \"PEINAW\", \"PEINOUSA\", \"PETHAINW\" };\n    int i; // &lt;= syntax error on token \";\", { expected after this token\n\n    for (i = 0; i &lt;= ena.lenght; i++)\n        System.out.println(ena[i]);\n}\n}\n</code></pre>\n"},{"tags":["java","maven","ant","pom.xml","build.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1666080541,"post_id":74107276,"comment_id":130844693,"body_markdown":"First step. Migrate to the correct directory structure `src/main/java`, `src/main/resources`, `src/test/java` and `src/test/resources`... Second why does a single module produce several jar&#39;s? What is the differenct? presumably based on packages? What do you mean by &quot;a lot of subfolders&quot;? Do you mean java packages?","body":"First step. Migrate to the correct directory structure <code>src&#47;main&#47;java</code>, <code>src&#47;main&#47;resources</code>, <code>src&#47;test&#47;java</code> and <code>src&#47;test&#47;resources</code>... Second why does a single module produce several jar&#39;s? What is the differenct? presumably based on packages? What do you mean by &quot;a lot of subfolders&quot;? Do you mean java packages?"},{"owner":{"account_id":15466975,"reputation":117,"user_id":11158058,"display_name":"Arun"},"score":0,"creation_date":1666081274,"post_id":74107276,"comment_id":130844931,"body_markdown":"yes, java packages. It&#39;s a legacy ant project (Please see the project structure in the attached image).","body":"yes, java packages. It&#39;s a legacy ant project (Please see the project structure in the attached image)."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1666082365,"post_id":74107276,"comment_id":130845274,"body_markdown":"So you should separate the packages into separate Ant modules and afterwards migrate to modules... because rule of thumb one module one jar...","body":"So you should separate the packages into separate Ant modules and afterwards migrate to modules... because rule of thumb one module one jar..."},{"owner":{"account_id":15466975,"reputation":117,"user_id":11158058,"display_name":"Arun"},"score":0,"creation_date":1666085174,"post_id":74107276,"comment_id":130846140,"body_markdown":"Some modules have only a few classes (3-8), can&#39;t we make it a multi-module maven project, which will generate jars separately right?","body":"Some modules have only a few classes (3-8), can&#39;t we make it a multi-module maven project, which will generate jars separately right?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1666089876,"post_id":74107276,"comment_id":130847784,"body_markdown":"It does not really matter if a module has only a few classes ... make it separate it&#39;s easier... than fiddle the configuration to create more than one jar from a single module...","body":"It does not really matter if a module has only a few classes ... make it separate it&#39;s easier... than fiddle the configuration to create more than one jar from a single module..."},{"owner":{"account_id":15466975,"reputation":117,"user_id":11158058,"display_name":"Arun"},"score":0,"creation_date":1666090184,"post_id":74107276,"comment_id":130847888,"body_markdown":"Thanks, your comments are valuable :)","body":"Thanks, your comments are valuable :)"}],"owner":{"account_id":15466975,"reputation":117,"user_id":11158058,"display_name":"Arun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666078354,"creation_date":1666078354,"question_id":74107276,"body_markdown":"The ant project has different modules, which produce multiple jars. Some of the submodules produce again multiple jars. The requirement is to convert it to a maven project and get rid of ant.\r\nI have seen some suggestions to maven a multi-project or use profiles in pom.xml to create multiple jars.\r\n\r\n[![Ant project structure][1]][1]\r\n\r\nAbove is the folder structure for my ant project. What is the best way to convert it to a maven project? Convert big modules to the stand-alone project and small modules to a maven multi-project?\r\n\r\nCan someone help me with this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7tpbM.png","title":"Ant multi module projects to maven","body":"<p>The ant project has different modules, which produce multiple jars. Some of the submodules produce again multiple jars. The requirement is to convert it to a maven project and get rid of ant.\nI have seen some suggestions to maven a multi-project or use profiles in pom.xml to create multiple jars.</p>\n<p><a href=\"https://i.stack.imgur.com/7tpbM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7tpbM.png\" alt=\"Ant project structure\" /></a></p>\n<p>Above is the folder structure for my ant project. What is the best way to convert it to a maven project? Convert big modules to the stand-alone project and small modules to a maven multi-project?</p>\n<p>Can someone help me with this?</p>\n"},{"tags":["java","web-services","soap","cxf"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1470908043,"post_id":38891640,"comment_id":65144613,"body_markdown":"Fix the web service - it should set the &quot;charset=utf8&quot; attribute correctly on the content-type.","body":"Fix the web service - it should set the &quot;charset=utf8&quot; attribute correctly on the content-type."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1470908430,"post_id":38891640,"comment_id":65144898,"body_markdown":"I have no control over the webservice. If course it should, but it&#39;s not possible.","body":"I have no control over the webservice. If course it should, but it&#39;s not possible."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1470910035,"post_id":38891640,"comment_id":65146053,"body_markdown":"We services/soap/http is not exactly s new technology. You should report a bug and depending on your relationship with the supplier, push for a fix. And otherwise you may consider a proxy server to add the correct header so you keep the kludges out of your client code. Someone will thank you in a few years time when they do fix the we service because in most companies it&#39;s much easier to remove a rule from a proxy server than to redeploy a java application to production.","body":"We services/soap/http is not exactly s new technology. You should report a bug and depending on your relationship with the supplier, push for a fix. And otherwise you may consider a proxy server to add the correct header so you keep the kludges out of your client code. Someone will thank you in a few years time when they do fix the we service because in most companies it&#39;s much easier to remove a rule from a proxy server than to redeploy a java application to production."}],"answers":[{"tags":[],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470942617,"creation_date":1470942617,"answer_id":38904351,"question_id":38891640,"body_markdown":"You can set encoding as shown below.\r\n\r\n    @Bean\r\n    \tpublic KPWs kpMath(SpringBus bus) {\r\n    \t\tfinal JAXWSSpringClientProxyFactoryBean client = new JAXWSSpringClientProxyFactoryBean();\r\n    \t\tclient.setBus(bus);\r\n    \t\tclient.setAddress(&quot;http://localhost:8080/services/ws ?wsdl&quot;);\r\n    \t\tclient.getFeatures().add(new LoggingFeature());\r\n    \t\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    \t\tmap.put(&quot;org.apache.cxf.message.Message.ENCODING&quot;, &quot;ISO-8859-1&quot;);\r\n    \t\tclient.setProperties(map);\r\n    \t\treturn client.create(KPWs.class);\r\n    \r\n    \t}","title":"How to set encoding of SOAP responses in CXF client?","body":"<p>You can set encoding as shown below.</p>\n\n<pre><code>@Bean\n    public KPWs kpMath(SpringBus bus) {\n        final JAXWSSpringClientProxyFactoryBean client = new JAXWSSpringClientProxyFactoryBean();\n        client.setBus(bus);\n        client.setAddress(\"http://localhost:8080/services/ws ?wsdl\");\n        client.getFeatures().add(new LoggingFeature());\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(\"org.apache.cxf.message.Message.ENCODING\", \"ISO-8859-1\");\n        client.setProperties(map);\n        return client.create(KPWs.class);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6803,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666078266,"creation_date":1470905579,"question_id":38891640,"body_markdown":"I&#39;m using Apache CXF to create a SOAP client. A web service response contains the following umlaut character: `[0xc3][0x9c]`, which is an `&#220;`.\r\n\r\nOf course I could manually convert this field when I read the response like:\r\n\r\n    String utfString = new String(isoString.getBytes(&quot;ISO-8859-1&quot;), &quot;utf-8&quot;);\r\n\r\nBut I&#39;d rather set the client to convert the ISO to UTF8 strings automatically.\r\n\r\nQuestion: how can I configure this in a CXF client globally for any incoming requests?","title":"How to set encoding of SOAP responses in CXF client?","body":"<p>I'm using Apache CXF to create a SOAP client. A web service response contains the following umlaut character: <code>[0xc3][0x9c]</code>, which is an <code>Ü</code>.</p>\n\n<p>Of course I could manually convert this field when I read the response like:</p>\n\n<pre><code>String utfString = new String(isoString.getBytes(\"ISO-8859-1\"), \"utf-8\");\n</code></pre>\n\n<p>But I'd rather set the client to convert the ISO to UTF8 strings automatically.</p>\n\n<p>Question: how can I configure this in a CXF client globally for any incoming requests?</p>\n"},{"tags":["java","maven","pom.xml","rpm"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1666080603,"post_id":74107052,"comment_id":130844719,"body_markdown":"Why do you need to separate between two environments? Does that mean you have to create two diffferent rpm&#39;s with different content? Yes than make two executions...so you get rid of profiles...","body":"Why do you need to separate between two environments? Does that mean you have to create two diffferent rpm&#39;s with different content? Yes than make two executions...so you get rid of profiles..."},{"owner":{"account_id":15675263,"reputation":3,"user_id":11310665,"display_name":"jay"},"score":0,"creation_date":1666081240,"post_id":74107052,"comment_id":130844918,"body_markdown":"@khmarbaise Contents are same. just the access levels are different.","body":"@khmarbaise Contents are same. just the access levels are different."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1666082392,"post_id":74107052,"comment_id":130845281,"body_markdown":"What do you mean by access levels? Permissions in RPM configuratioN?","body":"What do you mean by access levels? Permissions in RPM configuratioN?"},{"owner":{"account_id":15675263,"reputation":3,"user_id":11310665,"display_name":"jay"},"score":0,"creation_date":1666086189,"post_id":74107052,"comment_id":130846481,"body_markdown":"@khmarbaise yes permission levels and user/usergroup owning the file/directory","body":"@khmarbaise yes permission levels and user/usergroup owning the file/directory"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1666089822,"post_id":74107052,"comment_id":130847765,"body_markdown":"That means simply you have to create two different RPM&#39;s.. separate executions of rpm-maven-plugin... that will remove the need for profiles...","body":"That means simply you have to create two different RPM&#39;s.. separate executions of rpm-maven-plugin... that will remove the need for profiles..."},{"owner":{"account_id":15675263,"reputation":3,"user_id":11310665,"display_name":"jay"},"score":0,"creation_date":1666187317,"post_id":74107052,"comment_id":130876445,"body_markdown":"@khmarbaise unfortunately we need maintain the same set of code base and automations. Hence having seperate executions are not possible","body":"@khmarbaise unfortunately we need maintain the same set of code base and automations. Hence having seperate executions are not possible"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1666187684,"post_id":74107052,"comment_id":130876604,"body_markdown":"Sorry but: `Hence having seperate executions are not possible` this shows that you don&#39;t understand Maven nor rpm-maven-plugin. The code base is independant of that.","body":"Sorry but: <code>Hence having seperate executions are not possible</code> this shows that you don&#39;t understand Maven nor rpm-maven-plugin. The code base is independant of that."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1666187988,"post_id":74107052,"comment_id":130876730,"body_markdown":"Here is an example of multiple executions (for the maven-compiler-plugin) https://maven.apache.org/plugins/maven-compiler-plugin/examples/module-info.html but that can be done as well for the rpm-maven-plugin...","body":"Here is an example of multiple executions (for the maven-compiler-plugin) <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/module-info.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/examples/&hellip;</a> but that can be done as well for the rpm-maven-plugin..."}],"owner":{"account_id":15675263,"reputation":3,"user_id":11310665,"display_name":"jay"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666077661,"creation_date":1666077180,"question_id":74107052,"body_markdown":"I am using maven profile to differentiate between two environments. A directory structure is created using pom with different user details for each profile\r\n```\r\n    &lt;profiles&gt;\r\n\t&lt;profile&gt;\r\n\t&lt;id&gt;profile1&lt;/id&gt;\r\n\t&lt;mapping&gt;\r\n\t\t\t\t  &lt;directory&gt;/a/b&lt;/directory&gt;\r\n\t\t\t\t  &lt;username&gt;user1&lt;/username&gt;\r\n\t\t\t\t  &lt;groupname&gt;group1&lt;/groupname&gt;\r\n\t\t\t\t  &lt;sources&gt;\r\n\t\t\t\t\t&lt;source&gt;\r\n\t\t\t\t\t  &lt;location&gt;../install2.properties&lt;/location&gt;\r\n\t\t\t\t\t&lt;/source&gt;\r\n\t\t\t\t  &lt;/sources&gt;\r\n\t&lt;/mapping&gt;\r\n\t&lt;/profile&gt;\r\n\t&lt;profile&gt;\r\n\t&lt;id&gt;profile2&lt;/id&gt;\r\n\t&lt;mapping&gt;\r\n\t\t\t\t  &lt;directory&gt;/a/b&lt;/directory&gt;\r\n\t\t\t\t  &lt;username&gt;user2&lt;/username&gt;\r\n\t\t\t\t  &lt;groupname&gt;group2&lt;/groupname&gt;\r\n\t\t\t\t  &lt;sources&gt;\r\n\t\t\t\t\t&lt;source&gt;\r\n\t\t\t\t\t  &lt;location&gt;../install2.properties&lt;/location&gt;\r\n\t\t\t\t\t&lt;/source&gt;\r\n\t\t\t\t  &lt;/sources&gt;\r\n\t&lt;/mapping&gt;\r\n\t&lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\nDuring the rpm generation I am using -P option to select the desired profile. \r\n\r\nI am not able to see that user/group is getting set based on the profile selected. Can anyone please let me know what is the issue here","title":"Maven profiles and rpm installation","body":"<p>I am using maven profile to differentiate between two environments. A directory structure is created using pom with different user details for each profile</p>\n<pre><code>    &lt;profiles&gt;\n    &lt;profile&gt;\n    &lt;id&gt;profile1&lt;/id&gt;\n    &lt;mapping&gt;\n                  &lt;directory&gt;/a/b&lt;/directory&gt;\n                  &lt;username&gt;user1&lt;/username&gt;\n                  &lt;groupname&gt;group1&lt;/groupname&gt;\n                  &lt;sources&gt;\n                    &lt;source&gt;\n                      &lt;location&gt;../install2.properties&lt;/location&gt;\n                    &lt;/source&gt;\n                  &lt;/sources&gt;\n    &lt;/mapping&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n    &lt;id&gt;profile2&lt;/id&gt;\n    &lt;mapping&gt;\n                  &lt;directory&gt;/a/b&lt;/directory&gt;\n                  &lt;username&gt;user2&lt;/username&gt;\n                  &lt;groupname&gt;group2&lt;/groupname&gt;\n                  &lt;sources&gt;\n                    &lt;source&gt;\n                      &lt;location&gt;../install2.properties&lt;/location&gt;\n                    &lt;/source&gt;\n                  &lt;/sources&gt;\n    &lt;/mapping&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>During the rpm generation I am using -P option to select the desired profile.</p>\n<p>I am not able to see that user/group is getting set based on the profile selected. Can anyone please let me know what is the issue here</p>\n"},{"tags":["java","apache-camel","kafka-consumer-api"],"owner":{"account_id":5351318,"reputation":61,"user_id":4265390,"display_name":"Ivan Rododendro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666077637,"creation_date":1666003739,"question_id":74096096,"body_markdown":"I&#39;m really new to Camel concepts, our need is to create some identical routes, identical excepted for some parameters, from a Kafka topic to a http endpoint, with some processing in-between.\r\n\r\nBesides this we want to explicitly commit the message consumption only when the http endpoint has been successfully called.\r\n\r\nIn order to achieve this we set up a route template that carries the Route parameterization and set it up to manually commit after having called the http endpoint : \r\n```\r\npublic void configure() throws Exception {\r\n\t\t// @formatter:off\r\n\t\trouteTemplate(Constantes.KAFKA_GENERIC_ROUTE)\r\n\t\t\t.templateParameter(Constantes.JOB_NAME)\r\n\t\t\t.templateParameter(Constantes.TOPIC)\r\n\t\t\t.templateParameter(Constantes.PUBLISHER_ID)\r\n\t\t\t.templateParameter(Constantes.CORRELATION_ID_PARAMETER)\r\n\t\t\t.templateParameter(Constantes.JOB_NAME_PARAMETER)\r\n\t\t\t.templateParameter(Constantes.CORRELATION_ID_PARAMETER)\r\n\t\t\t.from(getKafkaEndpoint())\r\n\t\t\t.messageHistory()\r\n\t\t\t.filter(simple(&quot;${header.publisherId} == &#39;{{publisherId}}&#39;&quot;))\r\n\t\t\t.process(messageLoggerProcessor)\r\n\t\t\t.process(modelMapperProcessor)\r\n\t\t\t.process(jsonlToArrayProcessor)\r\n\t\t\t.process(payloadProcessor)\t\r\n\t\t\t.resequence(header(&quot;dmlTimestamp&quot;)).batch().timeout(maximumRequestCount)\r\n\t\t\t.setHeader(Exchange.HTTP_METHOD, simple(&quot;POST&quot;))\r\n\t\t\t.setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json;charset=UTF-8&quot;))\r\n\t\t\t.setHeader(Constantes.ACCEPT,constant(&quot;application/json&quot;))\r\n\t\t\t.setHeader(Constantes.API_KEY, constant(apiKey))\t\t\t\r\n.throttle(maximumRequestCount).timePeriodMillis(timePeriodMillis).asyncDelayed(true)\r\n\t\t\t.process(apiConsumerProcessorLogger)\t\r\n\t\t\t.to(this.url)\r\n\t\t\t.process(kafkaOffsetProcessor);\r\n\t\t// @formatter:on\r\n\t}\r\n\r\n\tprivate String getKafkaEndpoint() {\r\n\t\tString endpoint = &quot;kafka:{{topic}}?allowManualCommit=true&amp;autoCommitEnable=false&amp;brokers=&quot; + kafkaBrokers;\r\n\r\n\t\tif (securityEnabled()) {\r\n\t\t\tendpoint += &quot;&amp;securityProtocol=SASL_SSL&quot; + &quot;&amp;saslMechanism=PLAIN&quot;\r\n\t\t\t\t\t+ &quot;&amp;saslJaasConfig=org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot;\r\n\t\t\t\t\t+ username + &quot;\\&quot; password=\\&quot;&quot; + password + &quot;\\&quot;;&quot; + &quot;&amp;sslTruststoreLocation=&quot; + sslTrustStoreLocation\r\n\t\t\t\t\t+ &quot;&amp;sslTruststorePassword=&quot; + sslTruststorePassword;\r\n\t\t}\r\n\r\n\t\treturn endpoint;\r\n\t}\r\n```\r\n```\r\npublic class KafkaOffsetProcessor implements Processor {\r\n\r\n\t@Override\r\n\tpublic void process(Exchange exchange) throws Exception {\r\n\t\tKafkaManualCommit manual = exchange.getIn().getHeader(KafkaConstants.MANUAL_COMMIT, KafkaManualCommit.class);\r\n\t\tmanual.commit();\r\n\t\t\r\n\t\tlog.info(&quot;Committed Kafka offset&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThe problem is that we systematically get this error when a message is consumed by a route :\r\n```\r\nTrace: java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n    at org.apache.kafka.clients.consumer.KafkaConsumer.acquire(KafkaConsumer.java:1824)\r\n    at org.apache.kafka.clients.consumer.KafkaConsumer.acquireAndEnsureOpen(KafkaConsumer.java:1808)\r\n    at org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1255)\r\n    at org.apache.camel.component.kafka.DefaultKafkaManualCommit.commitOffset(DefaultKafkaManualCommit.java:60)\r\n    at org.apache.camel.component.kafka.DefaultKafkaManualCommit.commitSync(DefaultKafkaManualCommit.java:51)\r\n```\r\nMy understanding is that the instance of KafkaConsumer is reused in multiple routes and therefore it generates the error, but it could be related to using SEDA endpoint as stated here (https://issues.apache.org/jira/browse/CAMEL-12722), which we dont explicitly do.\r\n\r\nWe tried injecting a KafkaComponent local bean in the route : \r\n```\r\n.templateBean(&quot;myKafkaConfiguration&quot;).typeClass(&quot;org.apache.camel.component.kafka.KafkaConfiguration&quot;).property(&quot;topic&quot;, &quot;{{&quot; + Constantes.TOPIC +&quot;}}&quot;).properties(kafkaConfiguration)\r\n\t\t\t.end()\r\n\t\t    .templateBean(&quot;myKafka&quot;).typeClass(&quot;org.apache.camel.component.kafka.KafkaComponent&quot;).property(&quot;configuration&quot;, &quot;#{{myKafkaConfiguration}}&quot;)\r\n\t\t    .end()\r\n\t\t\t.from(&quot;#{{myKafka}}&quot;)\r\n```\r\nBut it ends up with another error because you cannot consume a Bean endpoint (https://camel.apache.org/components/3.18.x/bean-component.html) \r\n\r\nHow use a different KafkaConsumer for every created route ? Or, if the issue is SEDA related, how to make this route a direct route? \r\n\r\nThank you for your help \r\n\r\n\r\n\r\n","title":"Camel and Kafka manual commit : java.util.ConcurrentModificationException","body":"<p>I'm really new to Camel concepts, our need is to create some identical routes, identical excepted for some parameters, from a Kafka topic to a http endpoint, with some processing in-between.</p>\n<p>Besides this we want to explicitly commit the message consumption only when the http endpoint has been successfully called.</p>\n<p>In order to achieve this we set up a route template that carries the Route parameterization and set it up to manually commit after having called the http endpoint :</p>\n<pre><code>public void configure() throws Exception {\n        // @formatter:off\n        routeTemplate(Constantes.KAFKA_GENERIC_ROUTE)\n            .templateParameter(Constantes.JOB_NAME)\n            .templateParameter(Constantes.TOPIC)\n            .templateParameter(Constantes.PUBLISHER_ID)\n            .templateParameter(Constantes.CORRELATION_ID_PARAMETER)\n            .templateParameter(Constantes.JOB_NAME_PARAMETER)\n            .templateParameter(Constantes.CORRELATION_ID_PARAMETER)\n            .from(getKafkaEndpoint())\n            .messageHistory()\n            .filter(simple(&quot;${header.publisherId} == '{{publisherId}}'&quot;))\n            .process(messageLoggerProcessor)\n            .process(modelMapperProcessor)\n            .process(jsonlToArrayProcessor)\n            .process(payloadProcessor)  \n            .resequence(header(&quot;dmlTimestamp&quot;)).batch().timeout(maximumRequestCount)\n            .setHeader(Exchange.HTTP_METHOD, simple(&quot;POST&quot;))\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json;charset=UTF-8&quot;))\n            .setHeader(Constantes.ACCEPT,constant(&quot;application/json&quot;))\n            .setHeader(Constantes.API_KEY, constant(apiKey))            \n.throttle(maximumRequestCount).timePeriodMillis(timePeriodMillis).asyncDelayed(true)\n            .process(apiConsumerProcessorLogger)    \n            .to(this.url)\n            .process(kafkaOffsetProcessor);\n        // @formatter:on\n    }\n\n    private String getKafkaEndpoint() {\n        String endpoint = &quot;kafka:{{topic}}?allowManualCommit=true&amp;autoCommitEnable=false&amp;brokers=&quot; + kafkaBrokers;\n\n        if (securityEnabled()) {\n            endpoint += &quot;&amp;securityProtocol=SASL_SSL&quot; + &quot;&amp;saslMechanism=PLAIN&quot;\n                    + &quot;&amp;saslJaasConfig=org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot;\n                    + username + &quot;\\&quot; password=\\&quot;&quot; + password + &quot;\\&quot;;&quot; + &quot;&amp;sslTruststoreLocation=&quot; + sslTrustStoreLocation\n                    + &quot;&amp;sslTruststorePassword=&quot; + sslTruststorePassword;\n        }\n\n        return endpoint;\n    }\n</code></pre>\n<pre><code>public class KafkaOffsetProcessor implements Processor {\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        KafkaManualCommit manual = exchange.getIn().getHeader(KafkaConstants.MANUAL_COMMIT, KafkaManualCommit.class);\n        manual.commit();\n        \n        log.info(&quot;Committed Kafka offset&quot;);\n    }\n}\n</code></pre>\n<p>The problem is that we systematically get this error when a message is consumed by a route :</p>\n<pre><code>Trace: java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\n    at org.apache.kafka.clients.consumer.KafkaConsumer.acquire(KafkaConsumer.java:1824)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.acquireAndEnsureOpen(KafkaConsumer.java:1808)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1255)\n    at org.apache.camel.component.kafka.DefaultKafkaManualCommit.commitOffset(DefaultKafkaManualCommit.java:60)\n    at org.apache.camel.component.kafka.DefaultKafkaManualCommit.commitSync(DefaultKafkaManualCommit.java:51)\n</code></pre>\n<p>My understanding is that the instance of KafkaConsumer is reused in multiple routes and therefore it generates the error, but it could be related to using SEDA endpoint as stated here (<a href=\"https://issues.apache.org/jira/browse/CAMEL-12722\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CAMEL-12722</a>), which we dont explicitly do.</p>\n<p>We tried injecting a KafkaComponent local bean in the route :</p>\n<pre><code>.templateBean(&quot;myKafkaConfiguration&quot;).typeClass(&quot;org.apache.camel.component.kafka.KafkaConfiguration&quot;).property(&quot;topic&quot;, &quot;{{&quot; + Constantes.TOPIC +&quot;}}&quot;).properties(kafkaConfiguration)\n            .end()\n            .templateBean(&quot;myKafka&quot;).typeClass(&quot;org.apache.camel.component.kafka.KafkaComponent&quot;).property(&quot;configuration&quot;, &quot;#{{myKafkaConfiguration}}&quot;)\n            .end()\n            .from(&quot;#{{myKafka}}&quot;)\n</code></pre>\n<p>But it ends up with another error because you cannot consume a Bean endpoint (<a href=\"https://camel.apache.org/components/3.18.x/bean-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/bean-component.html</a>)</p>\n<p>How use a different KafkaConsumer for every created route ? Or, if the issue is SEDA related, how to make this route a direct route?</p>\n<p>Thank you for your help</p>\n"},{"tags":["java","jooq","jooq-codegen"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1666020217,"post_id":74098561,"comment_id":130830523,"body_markdown":"*&quot;From what I understand I have to create a class that extends &quot;DefaultGeneratorStrategy&quot; with the override on the &quot;getJavaClassName&quot; method&quot;* - Yes, that&#39;s one way to do it. Want to answer yourself?","body":"<i>&quot;From what I understand I have to create a class that extends &quot;DefaultGeneratorStrategy&quot; with the override on the &quot;getJavaClassName&quot; method&quot;</i> - Yes, that&#39;s one way to do it. Want to answer yourself?"},{"owner":{"account_id":2927787,"reputation":1363,"user_id":2508770,"accept_rate":94,"display_name":"Emax"},"score":0,"creation_date":1666096327,"post_id":74098561,"comment_id":130850052,"body_markdown":"@LukasEder I realized I had to extend &quot;DefaultGeneratorStrategy&quot; but honestly I didn&#39;t understand where to add it in the configuration object, however the solution proposed by you is exactly what I was looking for","body":"@LukasEder I realized I had to extend &quot;DefaultGeneratorStrategy&quot; but honestly I didn&#39;t understand where to add it in the configuration object, however the solution proposed by you is exactly what I was looking for"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1666097082,"post_id":74098561,"comment_id":130850314,"body_markdown":"Anything specific unclear about the [manual section](https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy/)? What could be improved?","body":"Anything specific unclear about the <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy/\" rel=\"nofollow noreferrer\">manual section</a>? What could be improved?"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666077363,"creation_date":1666077363,"answer_id":74107093,"question_id":74098561,"body_markdown":"From the way you phrased this last part:\r\n\r\n&gt; From what I understand I have to create a class that extends &quot;DefaultGeneratorStrategy&quot; with the override on the &quot;getJavaClassName&quot; method\r\n\r\nI take that you&#39;ve already found how to do this, i.e. using a [generator strategy][1], and would like to reach out for someone else to implement it for you, specifically?\r\n\r\nInstead, let me offer a simpler approach than the above programmatic strategy, using a configurative one, if this is really only about a class name prefix. Use the [matcher strategies][2]:\r\n\r\n```java\r\nnew Configuration()\r\n  .withGenerator(new Generator()\r\n    .withStrategy(new Strategy()\r\n      .withMatchers(new Matchers()\r\n        .withTables(\r\n          new MatchersTableType()\r\n            .withExpression(&quot;MY_TABLE&quot;)\r\n            .withPojoClass(new MatcherRule()\r\n              .withTransform(MatcherTransformType.PASCAL)\r\n              .withExpression(&quot;PREFIX_$0&quot;)\r\n            )\r\n        )\r\n      )\r\n    )\r\n  );\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy\r\n  [2]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-matcherstrategy/","title":"JOOQ add prefix to pojo class name","body":"<p>From the way you phrased this last part:</p>\n<blockquote>\n<p>From what I understand I have to create a class that extends &quot;DefaultGeneratorStrategy&quot; with the override on the &quot;getJavaClassName&quot; method</p>\n</blockquote>\n<p>I take that you've already found how to do this, i.e. using a <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy\" rel=\"nofollow noreferrer\">generator strategy</a>, and would like to reach out for someone else to implement it for you, specifically?</p>\n<p>Instead, let me offer a simpler approach than the above programmatic strategy, using a configurative one, if this is really only about a class name prefix. Use the <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-matcherstrategy/\" rel=\"nofollow noreferrer\">matcher strategies</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Configuration()\n  .withGenerator(new Generator()\n    .withStrategy(new Strategy()\n      .withMatchers(new Matchers()\n        .withTables(\n          new MatchersTableType()\n            .withExpression(&quot;MY_TABLE&quot;)\n            .withPojoClass(new MatcherRule()\n              .withTransform(MatcherTransformType.PASCAL)\n              .withExpression(&quot;PREFIX_$0&quot;)\n            )\n        )\n      )\n    )\n  );\n</code></pre>\n"}],"owner":{"account_id":2927787,"reputation":1363,"user_id":2508770,"accept_rate":94,"display_name":"Emax"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74107093,"answer_count":1,"score":0,"last_activity_date":1666077363,"creation_date":1666015499,"question_id":74098561,"body_markdown":"I am generating the pojo classes with jooq codegen, I am trying to create them with a prefix, but I cannot understand how to do it. I am using this configuration to generate them\r\n\r\n    Configuration configuration = new Configuration()\r\n    \t.withJdbc(\r\n    \t\tnew Jdbc()\r\n    \t\t\t.withDriver(&quot;org.mariadb.jdbc.Driver&quot;)\r\n    \t\t\t.withUrl(&quot;jdbc:mariadb://**:3306/**&quot;)\r\n    \t\t\t.withUser(&quot;**&quot;)\r\n    \t\t\t.withPassword(&quot;**&quot;)\r\n    \t)\r\n    \t.withGenerator(\r\n    \t\tnew Generator()\r\n    \t\t\t.withGenerate(\r\n    \t\t\t\tnew Generate()\r\n    \t\t\t\t\t.withPojos(true)\r\n    \t\t\t\t\t.withPojosEqualsAndHashCode(true)\r\n    \t\t\t\t\t.withPojosToString(true)\r\n    \t\t\t\t\t.withDaos(true)\r\n    \t\t\t)\r\n    \t\t\t.withDatabase(\r\n    \t\t\t\tnew Database()\r\n    \t\t\t\t\t.withName(&quot;org.jooq.meta.mariadb.MariaDBDatabase&quot;)\r\n    \t\t\t\t\t.withIncludes(&quot;.*&quot;)\r\n    \t\t\t\t\t.withExcludes(&quot;&quot;)\r\n    \t\t\t\t\t.withInputSchema(&quot;name-db&quot;)\r\n    \t\t\t)\r\n    \t\t\t.withTarget(\r\n    \t\t\t\tnew Target()\r\n    \t\t\t\t\t.withPackageName(&quot;model.pack&quot;)\r\n    \t\t\t\t\t.withDirectory(&quot;model/&quot;)\r\n    \t\t\t)\r\n    \t\t);\r\n    \r\n    GenerationTool.generate(configuration);\r\n\r\nFrom what I understand I have to create a class that extends &quot;DefaultGeneratorStrategy&quot; with the override on the &quot;getJavaClassName&quot; method","title":"JOOQ add prefix to pojo class name","body":"<p>I am generating the pojo classes with jooq codegen, I am trying to create them with a prefix, but I cannot understand how to do it. I am using this configuration to generate them</p>\n<pre><code>Configuration configuration = new Configuration()\n    .withJdbc(\n        new Jdbc()\n            .withDriver(&quot;org.mariadb.jdbc.Driver&quot;)\n            .withUrl(&quot;jdbc:mariadb://**:3306/**&quot;)\n            .withUser(&quot;**&quot;)\n            .withPassword(&quot;**&quot;)\n    )\n    .withGenerator(\n        new Generator()\n            .withGenerate(\n                new Generate()\n                    .withPojos(true)\n                    .withPojosEqualsAndHashCode(true)\n                    .withPojosToString(true)\n                    .withDaos(true)\n            )\n            .withDatabase(\n                new Database()\n                    .withName(&quot;org.jooq.meta.mariadb.MariaDBDatabase&quot;)\n                    .withIncludes(&quot;.*&quot;)\n                    .withExcludes(&quot;&quot;)\n                    .withInputSchema(&quot;name-db&quot;)\n            )\n            .withTarget(\n                new Target()\n                    .withPackageName(&quot;model.pack&quot;)\n                    .withDirectory(&quot;model/&quot;)\n            )\n        );\n\nGenerationTool.generate(configuration);\n</code></pre>\n<p>From what I understand I have to create a class that extends &quot;DefaultGeneratorStrategy&quot; with the override on the &quot;getJavaClassName&quot; method</p>\n"},{"tags":["java","cdi","jboss-weld"],"answers":[{"tags":[],"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665651823,"creation_date":1665651823,"answer_id":74053146,"question_id":74053088,"body_markdown":"I think what you&#39;re looking for is [Instance](https://jakarta.ee/specifications/platform/8/apidocs/javax/enterprise/inject/instance):\r\n\r\n```java\r\n\r\n@Inject\r\nInstance&lt;GenericScheduleController&gt; instances;\r\n\r\npublic &lt;T extends GenericScheduleController&gt; T getScheduleController(String chaine) {\r\n    return instances.stream()\r\n\t\t\t\t.filter(s -&gt; s.getLabel().equals(chaine))\r\n\t\t\t\t.findAny()\r\n\t\t\t\t.orElse(null);\r\n}\r\n\r\n\r\n```","title":"How to programmatically lookup and inject a new CDI managed bean of an abstract class?","body":"<p>I think what you're looking for is <a href=\"https://jakarta.ee/specifications/platform/8/apidocs/javax/enterprise/inject/instance\" rel=\"nofollow noreferrer\">Instance</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Inject\nInstance&lt;GenericScheduleController&gt; instances;\n\npublic &lt;T extends GenericScheduleController&gt; T getScheduleController(String chaine) {\n    return instances.stream()\n                .filter(s -&gt; s.getLabel().equals(chaine))\n                .findAny()\n                .orElse(null);\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5971747,"reputation":9,"user_id":4693877,"display_name":"olivier P"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666077323,"creation_date":1665652425,"answer_id":74053266,"question_id":74053088,"body_markdown":"I do this and it&#39;s ok\r\n\r\n\r\n        \r\n\r\n\r\n\r\n    public abstract class GenericScheduleController implements Serializable {\r\n    \r\n        @Inject\r\n        private Service service;\r\n    \r\n        @PostConstruct\r\n        private void init() {\r\n            if (getLabel() != null) {\r\n                    service.doSomething(getLabel());\r\n            }\r\n        }\r\n    \r\n        protected abstract String getLabel();\r\n    }\r\n    \r\n    \r\n    \r\n    @Named\r\n    public class FooScheduleController extends GenericScheduleController  {\r\n    \r\n        private String label;\r\n    \r\n        @Override\r\n        public String getLabel() {\r\n            return label;\r\n        }\r\n    \r\n        public void refreshInit(String label) {\r\n            this.label = label;\r\n            super.init();\r\n        }\r\n    }\r\n    \r\n    \r\n    @Named\r\n    @ViewScoped\r\n    public class ReportingSchedulerMenuController implements Serializable {\r\n    \r\n        @Inject\r\n        private FooScheduleController fooScheduleController;\r\n    \r\n        public GenericScheduleController getScheduleController(String chaine) throws Exception {\r\n            if (fooScheduleController.getValue() == null) {\r\n                fooScheduleController.refreshInit(chaine);\r\n            }\r\n            return fooScheduleController;\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to programmatically lookup and inject a new CDI managed bean of an abstract class?","body":"<p>I do this and it's ok</p>\n<pre><code>public abstract class GenericScheduleController implements Serializable {\n\n    @Inject\n    private Service service;\n\n    @PostConstruct\n    private void init() {\n        if (getLabel() != null) {\n                service.doSomething(getLabel());\n        }\n    }\n\n    protected abstract String getLabel();\n}\n\n\n\n@Named\npublic class FooScheduleController extends GenericScheduleController  {\n\n    private String label;\n\n    @Override\n    public String getLabel() {\n        return label;\n    }\n\n    public void refreshInit(String label) {\n        this.label = label;\n        super.init();\n    }\n}\n\n\n@Named\n@ViewScoped\npublic class ReportingSchedulerMenuController implements Serializable {\n\n    @Inject\n    private FooScheduleController fooScheduleController;\n\n    public GenericScheduleController getScheduleController(String chaine) throws Exception {\n        if (fooScheduleController.getValue() == null) {\n            fooScheduleController.refreshInit(chaine);\n        }\n        return fooScheduleController;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5971747,"reputation":9,"user_id":4693877,"display_name":"olivier P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665653871,"answer_count":2,"score":0,"last_activity_date":1666077323,"creation_date":1665651535,"question_id":74053088,"body_markdown":"I have this abstract class\r\n\r\n    public abstract class GenericScheduleController implements Serializable {\r\n    \r\n    \t@Inject\r\n    \tprivate Service service;\r\n    \r\n    \t@PostConstruct\r\n    \tprivate void init() {\r\n    \t\tservice.doSomething(getLabel());\r\n    \t}\r\n\r\n    \tprotected abstract String getLabel();\r\n    }\r\n\r\n\r\nand I would like programmatically inject a new one dynamically.\r\n\r\n    public &lt;T extends GenericScheduleController&gt; T getScheduleController(String chaine) {\r\n        //TODO\r\n        //get new CDI instance programmatically with abstract getLabel() return chaine\r\n    }\r\n\r\nIs it possible ?\r\n\r\nThx\r\n","title":"How to programmatically lookup and inject a new CDI managed bean of an abstract class?","body":"<p>I have this abstract class</p>\n<pre><code>public abstract class GenericScheduleController implements Serializable {\n\n    @Inject\n    private Service service;\n\n    @PostConstruct\n    private void init() {\n        service.doSomething(getLabel());\n    }\n\n    protected abstract String getLabel();\n}\n</code></pre>\n<p>and I would like programmatically inject a new one dynamically.</p>\n<pre><code>public &lt;T extends GenericScheduleController&gt; T getScheduleController(String chaine) {\n    //TODO\n    //get new CDI instance programmatically with abstract getLabel() return chaine\n}\n</code></pre>\n<p>Is it possible ?</p>\n<p>Thx</p>\n"},{"tags":["java","protocol-buffers","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":3965893,"reputation":66,"user_id":3271866,"display_name":"user3271866"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666076470,"creation_date":1666076470,"answer_id":74106920,"question_id":70375668,"body_markdown":"You need to use some protobuf type:\r\n```&lt;T extends com.google.protobuf.Message&gt;```","title":"No instance(s) of type variable(s) exist so that String conforms to Message","body":"<p>You need to use some protobuf type:\n<code>&lt;T extends com.google.protobuf.Message&gt;</code></p>\n"}],"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74106920,"answer_count":1,"score":1,"last_activity_date":1666076470,"creation_date":1639641828,"question_id":70375668,"body_markdown":"I have a field called &quot;key&quot; of type `google.protobuf.Any`. I know that this is a String, so I&#39;d like to &quot;cast&quot; it using the `unpack()` method.\r\n\r\nHowever, when I write `request.getKey().unpack(String.class)`, I get a compilation error:\r\n\r\n    Required type: Class&lt;T&gt;\r\n    Provided: Class&lt;String&gt;\r\n    reason: no instance(s) of type variable(s) exist so that String conforms to Message\r\n\r\nI don&#39;t really understand what this really means.\r\n\r\nThis is my proto file:\r\n\r\n    message SearchCriteria{\r\n      google.protobuf.Any key = 1;\r\n      string storeName = 2;\r\n    }","title":"No instance(s) of type variable(s) exist so that String conforms to Message","body":"<p>I have a field called &quot;key&quot; of type <code>google.protobuf.Any</code>. I know that this is a String, so I'd like to &quot;cast&quot; it using the <code>unpack()</code> method.</p>\n<p>However, when I write <code>request.getKey().unpack(String.class)</code>, I get a compilation error:</p>\n<pre><code>Required type: Class&lt;T&gt;\nProvided: Class&lt;String&gt;\nreason: no instance(s) of type variable(s) exist so that String conforms to Message\n</code></pre>\n<p>I don't really understand what this really means.</p>\n<p>This is my proto file:</p>\n<pre><code>message SearchCriteria{\n  google.protobuf.Any key = 1;\n  string storeName = 2;\n}\n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1666002059,"post_id":74095708,"comment_id":130823645,"body_markdown":"Use `LocalDate#getYear` on both and loop over it. Then create new dates with those years and maybe use `Period` to create those ranges. Its a bit unclear what exactly ur facing trouble with.","body":"Use <code>LocalDate#getYear</code> on both and loop over it. Then create new dates with those years and maybe use <code>Period</code> to create those ranges. Its a bit unclear what exactly ur facing trouble with."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666021445,"post_id":74095708,"comment_id":130831051,"body_markdown":"@Zabuzard `getYear()` is a perfect suggestion.  I haven&#39;t seen what we want the `Period` class for (you did say *maybe*).","body":"@Zabuzard <code>getYear()</code> is a perfect suggestion.  I haven&#39;t seen what we want the <code>Period</code> class for (you did say <i>maybe</i>)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666307782,"post_id":74095708,"comment_id":130912435,"body_markdown":"[My suggestions here](https://rextester.com/NGRJ77329)","body":"<a href=\"https://rextester.com/NGRJ77329\" rel=\"nofollow noreferrer\">My suggestions here</a>"}],"answers":[{"tags":[],"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666076011,"creation_date":1666003493,"answer_id":74096056,"question_id":74095708,"body_markdown":"A simple approach for this might be working with `TemporalAdjusters[1]`\r\nOf course, there are plenty of other approaches as well ;)\r\n\r\nAssume we create the following value object:\r\n\r\n    class Period{\r\n        final LocalDate begin;\r\n        final LocalDate end;\r\n    \r\n        Period(LocalDate begin, LocalDate end) {\r\n            this.begin = begin;\r\n            this.end = end;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;%s - %s&quot;, begin, end);\r\n        }\r\n    }\r\n\r\nThe (in this case recursive) logic might be as follows - starting with a startdate, finishdate, and an empty list - add periods as long as the finishdate is after the last periods end:\r\n\r\n    List&lt;Period&gt; periods(LocalDate startdate, LocalDate finishdate, List&lt;Period&gt; periodsList){\r\n            final LocalDate periodEnd = startdate.with(lastDayOfYear());\r\n            if(periodEnd.isBefore(finishdate)){\r\n                periodsList.add(new Period(startdate, periodEnd));\r\n                return periods(periodEnd.plusDays(1), finishdate, periodsList);\r\n            }\r\n            periodsList.add(new Period(finishdate.with(firstDayOfYear()), finishdate));\r\n            return periodsList;\r\n        }\r\n\r\nA complete working example with a simple main might look like this:\r\n\r\n    import java.time.LocalDate;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static java.time.temporal.TemporalAdjusters.firstDayOfYear;\r\n    import static java.time.temporal.TemporalAdjusters.lastDayOfYear;\r\n    \r\n    public class Periods {\r\n    \r\n        public static void main(String[] args) {\r\n            final LocalDate startdate = LocalDate.parse(&quot;2022-12-01&quot;);\r\n            final LocalDate finishdate = LocalDate.parse(&quot;2024-10-05&quot;);\r\n    \r\n            periods(startdate, finishdate).forEach(System.out::println);\r\n        }\r\n    \r\n        private static List&lt;Period&gt; periods(LocalDate startdate, LocalDate finishdate){\r\n            return periods(startdate, finishdate, new ArrayList&lt;&gt;());\r\n        }\r\n    \r\n        private static List&lt;Period&gt; periods(LocalDate startdate, LocalDate finishdate, List&lt;Period&gt; periodsList){\r\n            final LocalDate periodEnd = startdate.with(lastDayOfYear());\r\n            if(periodEnd.isBefore(finishdate)){\r\n                periodsList.add(new Period(startdate, periodEnd));\r\n                return periods(periodEnd.plusDays(1), finishdate, periodsList);\r\n            }\r\n            periodsList.add(new Period(finishdate.with(firstDayOfYear()), finishdate));\r\n            return periodsList;\r\n        }\r\n    \r\n    }\r\n    \r\n    class Period{\r\n        final LocalDate begin;\r\n        final LocalDate end;\r\n    \r\n        Period(LocalDate begin, LocalDate end) {\r\n            this.begin = begin;\r\n            this.end = end;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;%s - %s&quot;, begin, end);\r\n        }\r\n    }\r\n\r\nAs pointed out in the comments Java provides a `Period[2]` class which can be used as well. For the reason of simplicity - printing start and end - here a simple bean class is introduced.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Period.html","title":"java: Split period of time in single years","body":"<p>A simple approach for this might be working with <code>TemporalAdjusters[1]</code>\nOf course, there are plenty of other approaches as well ;)</p>\n<p>Assume we create the following value object:</p>\n<pre><code>class Period{\n    final LocalDate begin;\n    final LocalDate end;\n\n    Period(LocalDate begin, LocalDate end) {\n        this.begin = begin;\n        this.end = end;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;%s - %s&quot;, begin, end);\n    }\n}\n</code></pre>\n<p>The (in this case recursive) logic might be as follows - starting with a startdate, finishdate, and an empty list - add periods as long as the finishdate is after the last periods end:</p>\n<pre><code>List&lt;Period&gt; periods(LocalDate startdate, LocalDate finishdate, List&lt;Period&gt; periodsList){\n        final LocalDate periodEnd = startdate.with(lastDayOfYear());\n        if(periodEnd.isBefore(finishdate)){\n            periodsList.add(new Period(startdate, periodEnd));\n            return periods(periodEnd.plusDays(1), finishdate, periodsList);\n        }\n        periodsList.add(new Period(finishdate.with(firstDayOfYear()), finishdate));\n        return periodsList;\n    }\n</code></pre>\n<p>A complete working example with a simple main might look like this:</p>\n<pre><code>import java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static java.time.temporal.TemporalAdjusters.firstDayOfYear;\nimport static java.time.temporal.TemporalAdjusters.lastDayOfYear;\n\npublic class Periods {\n\n    public static void main(String[] args) {\n        final LocalDate startdate = LocalDate.parse(&quot;2022-12-01&quot;);\n        final LocalDate finishdate = LocalDate.parse(&quot;2024-10-05&quot;);\n\n        periods(startdate, finishdate).forEach(System.out::println);\n    }\n\n    private static List&lt;Period&gt; periods(LocalDate startdate, LocalDate finishdate){\n        return periods(startdate, finishdate, new ArrayList&lt;&gt;());\n    }\n\n    private static List&lt;Period&gt; periods(LocalDate startdate, LocalDate finishdate, List&lt;Period&gt; periodsList){\n        final LocalDate periodEnd = startdate.with(lastDayOfYear());\n        if(periodEnd.isBefore(finishdate)){\n            periodsList.add(new Period(startdate, periodEnd));\n            return periods(periodEnd.plusDays(1), finishdate, periodsList);\n        }\n        periodsList.add(new Period(finishdate.with(firstDayOfYear()), finishdate));\n        return periodsList;\n    }\n\n}\n\nclass Period{\n    final LocalDate begin;\n    final LocalDate end;\n\n    Period(LocalDate begin, LocalDate end) {\n        this.begin = begin;\n        this.end = end;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;%s - %s&quot;, begin, end);\n    }\n}\n</code></pre>\n<p>As pointed out in the comments Java provides a <code>Period[2]</code> class which can be used as well. For the reason of simplicity - printing start and end - here a simple bean class is introduced.</p>\n"}],"owner":{"account_id":1456511,"reputation":703,"user_id":1371947,"accept_rate":44,"display_name":"Mike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1666076011,"creation_date":1666001661,"question_id":74095708,"body_markdown":"i have two dates in java. One date is the start date, the second the finish date. Plz see my code:\r\n\r\n    LocalDate startdate = LocalDate.parse(&quot;2022-12-01&quot;);\r\n    LocalDate finishdate = LocalDate.parse(&quot;2024-10-05&quot;);\r\n\t\t\t\t\t\t\t   \r\nI like to split this period into the single years. For example\r\n\r\n    p1 = 2022-12-01 ... 2022-12-31\r\n    p2 = 2023-01-01 ... 2023-12-31\r\n    P3 = 2024-01-01 ... 2024-10-05\r\n\r\nBut how can i loop throug the years? And check?\r\n","title":"java: Split period of time in single years","body":"<p>i have two dates in java. One date is the start date, the second the finish date. Plz see my code:</p>\n<pre><code>LocalDate startdate = LocalDate.parse(&quot;2022-12-01&quot;);\nLocalDate finishdate = LocalDate.parse(&quot;2024-10-05&quot;);\n                           \n</code></pre>\n<p>I like to split this period into the single years. For example</p>\n<pre><code>p1 = 2022-12-01 ... 2022-12-31\np2 = 2023-01-01 ... 2023-12-31\nP3 = 2024-01-01 ... 2024-10-05\n</code></pre>\n<p>But how can i loop throug the years? And check?</p>\n"},{"tags":["java","jsp","tomcat"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666076142,"post_id":74106761,"comment_id":130843305,"body_markdown":"Make sure you have everything in the web.xml.  Otherwise, you need to use annotation.","body":"Make sure you have everything in the web.xml.  Otherwise, you need to use annotation."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1666076739,"post_id":74106761,"comment_id":130843475,"body_markdown":"`loginservlet` != `loginServlet`  Also, I think your signature for `doPost` is not correct.  Also better to query the DB using the received paramaters","body":"<code>loginservlet</code> != <code>loginServlet</code>  Also, I think your signature for <code>doPost</code> is not correct.  Also better to query the DB using the received paramaters"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666080070,"post_id":74106761,"comment_id":130844572,"body_markdown":"The servlet is not in the correct package. That&#39;s why you&#39;re having to import that utility class. Also class names begin uppercase","body":"The servlet is not in the correct package. That&#39;s why you&#39;re having to import that utility class. Also class names begin uppercase"}],"owner":{"account_id":26656340,"reputation":1,"user_id":20269815,"display_name":"senthamizh maran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666075632,"creation_date":1666075632,"question_id":74106761,"body_markdown":"login.jsp;\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;login&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div align=&quot;center&quot;&gt;\r\n    &lt;h1&gt;user Login&lt;/h1&gt;\r\n    \r\n    &lt;/div&gt;\r\n    \r\n    &lt;form action=loginServlet &gt;\r\n      &lt;table&gt;\r\n      &lt;tr&gt;&lt;td&gt;ENTER USERNAME:&lt;/td&gt;&lt;td&gt;&lt;input type= text name=username&gt;&lt;/td&gt;&lt;/tr&gt;\r\n      &lt;tr&gt;&lt;td&gt;ENTER password:&lt;/td&gt;&lt;td&gt;&lt;input type=password name=password&gt;&lt;/td&gt;&lt;/tr&gt;\r\n     &lt;tr&gt;&lt;td&gt;&lt;input type= submit&gt;&lt;/td&gt;&lt;/tr&gt;\r\n      &lt;/table&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nlogin.servlet;\r\n\r\n    import jakarta.servlet.RequestDispatcher;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.annotation.WebServlet;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import org.railway.Utilityclass;\r\n    \r\n    /**\r\n     * Servlet implementation class loginservlet\r\n     * utility\r\n     */\r\n    public class loginservlet extends HttpServlet {\r\n    Utilityclass a = new Utilityclass();\r\n    \r\n    \t/**\r\n    \t * @return \r\n    \t * @throws IllegalAccessException \r\n    \t * @throws InstantiationException \r\n    \t * @throws ClassNotFoundException \r\n    \t * @throws IOException \r\n    \t * @throws ServletException \r\n    \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected boolean doPost(String u,String p,   HttpServletRequest request, HttpServletResponse response) throws ClassNotFoundException, InstantiationException, IllegalAccessException, ServletException, IOException {\r\n    \t\t  \r\n            try {\r\n            \t PrintWriter out =  response.getWriter();\r\n            \t Connection con = Utilityclass.getConnection();\r\n     \t\t\tStatement st =\t(Statement) con.createStatement();\r\n                String queryString = &quot;SELECT username, password  FROM loginpage &quot;;\r\n                ResultSet results = st.executeQuery(queryString);\r\n    \r\n            while (results.next()) {\r\n                String txtusername = results.getString(&quot;username&quot;);\r\n                String txtpassword =  results.getString(&quot;password&quot;);\r\n                \r\n            if ((u.equals(txtusername)) &amp;&amp; (p.equals(txtpassword))) {\r\n    \r\n              RequestDispatcher rd = request.getRequestDispatcher(&quot;login sucessfullu&quot;);\r\n               rd.forward(request, response);\r\n                return true;\r\n                }\r\n                }\r\n            out.println(&quot;&lt;font color =red size 20&gt;loginfailed!!&lt;br&gt;&quot;);\r\n              \r\n             \r\n                return false;\r\n                }\r\n             catch (SQLException sql) {\r\n    \r\n               System. out.println(sql);\r\n            }finally {\r\n            \tResultSet results = null;\r\n            Connection con= null;\r\n            Statement st = null;\r\n    \t\t\tUtilityclass.closeConnection(results, st, con);\r\n            \t\r\n    \t\t\t\r\n    \t\t}\r\n            return false;\r\n    \r\n    }\r\n    \r\n    }\r\n\r\nwelcome.jsp;\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;\r\n    login successfully\r\n    &lt;/h1&gt;&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nError : \r\n\r\n    SEVERE: Allocate exception for servlet [loginServlet]\r\n    java.lang.ClassNotFoundException: org.railway.loginServlet\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1449)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1257)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:535)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:516)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:150)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1071)\r\n    \tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:789)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:867)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nI tried to login by using tomcat jsp and I stored the data in the sql. If I enter the username and password means It should go to login severlet and validate, then it needs to go to sql to check and then it has to login successfully... But while I trying to do this, I&#39;m getting the above mentioned error, kindly help to solve this.\r\n\r\n\r\n","title":"Trying to create a login pages by using severlet","body":"<p>login.jsp;</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;login&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div align=&quot;center&quot;&gt;\n&lt;h1&gt;user Login&lt;/h1&gt;\n\n&lt;/div&gt;\n\n&lt;form action=loginServlet &gt;\n  &lt;table&gt;\n  &lt;tr&gt;&lt;td&gt;ENTER USERNAME:&lt;/td&gt;&lt;td&gt;&lt;input type= text name=username&gt;&lt;/td&gt;&lt;/tr&gt;\n  &lt;tr&gt;&lt;td&gt;ENTER password:&lt;/td&gt;&lt;td&gt;&lt;input type=password name=password&gt;&lt;/td&gt;&lt;/tr&gt;\n &lt;tr&gt;&lt;td&gt;&lt;input type= submit&gt;&lt;/td&gt;&lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>login.servlet;</p>\n<pre><code>import jakarta.servlet.RequestDispatcher;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport org.railway.Utilityclass;\n\n/**\n * Servlet implementation class loginservlet\n * utility\n */\npublic class loginservlet extends HttpServlet {\nUtilityclass a = new Utilityclass();\n\n    /**\n     * @return \n     * @throws IllegalAccessException \n     * @throws InstantiationException \n     * @throws ClassNotFoundException \n     * @throws IOException \n     * @throws ServletException \n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected boolean doPost(String u,String p,   HttpServletRequest request, HttpServletResponse response) throws ClassNotFoundException, InstantiationException, IllegalAccessException, ServletException, IOException {\n          \n        try {\n             PrintWriter out =  response.getWriter();\n             Connection con = Utilityclass.getConnection();\n            Statement st =  (Statement) con.createStatement();\n            String queryString = &quot;SELECT username, password  FROM loginpage &quot;;\n            ResultSet results = st.executeQuery(queryString);\n\n        while (results.next()) {\n            String txtusername = results.getString(&quot;username&quot;);\n            String txtpassword =  results.getString(&quot;password&quot;);\n            \n        if ((u.equals(txtusername)) &amp;&amp; (p.equals(txtpassword))) {\n\n          RequestDispatcher rd = request.getRequestDispatcher(&quot;login sucessfullu&quot;);\n           rd.forward(request, response);\n            return true;\n            }\n            }\n        out.println(&quot;&lt;font color =red size 20&gt;loginfailed!!&lt;br&gt;&quot;);\n          \n         \n            return false;\n            }\n         catch (SQLException sql) {\n\n           System. out.println(sql);\n        }finally {\n            ResultSet results = null;\n        Connection con= null;\n        Statement st = null;\n            Utilityclass.closeConnection(results, st, con);\n            \n            \n        }\n        return false;\n\n}\n\n}\n</code></pre>\n<p>welcome.jsp;</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;\nlogin successfully\n&lt;/h1&gt;&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Error :</p>\n<pre><code>SEVERE: Allocate exception for servlet [loginServlet]\njava.lang.ClassNotFoundException: org.railway.loginServlet\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1449)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1257)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:535)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:516)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:150)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1071)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:789)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:867)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I tried to login by using tomcat jsp and I stored the data in the sql. If I enter the username and password means It should go to login severlet and validate, then it needs to go to sql to check and then it has to login successfully... But while I trying to do this, I'm getting the above mentioned error, kindly help to solve this.</p>\n"},{"tags":["java","design-patterns","dynamic-proxy","proxy-pattern"],"answers":[{"tags":[],"owner":{"account_id":3404528,"reputation":193,"user_id":2855946,"display_name":"Ugrasen Banchhor"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1666075615,"creation_date":1401174824,"answer_id":23883212,"question_id":20584281,"body_markdown":" Dynamic proxy is essentially the proxy design pattern, in which the proxy object is created dynamically during runtime.\r\n\r\nProxy design pattern uses a proxy, which acts as a mediator between client and underlying real object. Programmer can perform access control, validation and additional action in proxy before delegating the request to real object.\r\n\r\nNow suppose you want to perform some generic action before calling any method of any class for example you want to keep log of all the method calls made by client.\r\nIn that case, if you want to implement proxy design pattern, steps are as following:\r\n\r\n1. create proxy class for each class.\r\n2. implement proxy class in a way, that first it make a log entry of the method call made by the client, than delegate the call to real object.\r\n\r\nThe problem with the above technique is that, suppose you have 1000 classes, you&#39;ll need to write 1000 proxy classes for each class and implement all the methods in all the classes which are essentially doing the same thing (performing logging action in our case), which is very tedious process and wastage of memory.\r\n\r\nWon&#39;t it be better, if somehow at runtime, we are able to create a proxy object based on the client&#39;s call and then perform generic action(logging action in our case) before delegating the call to the real object? Well, that is what dynamic proxies does.\r\n\r\nThe process in case of dynamic proxy is as following:\r\n\r\n1. client calls some action on an object.\r\n2. system creates a proxy object at runtime based on client&#39;s call.\r\n3. proxy object calls a generic method to perform a generic action in case of each call.\r\n4. after the action, proxy object delegates the call to real object.\r\n\r\n\r\nSo in a nutshell, if you have some generic action to perform, use dynamic proxy, but if you want each class to be treated differenlty (in some classes perform logging, in some don&#39;t, in some access control etc.) use simple proxy.\r\nHope I helped. If you need a code example, please let me know.","title":"differences between proxy and dynamic proxy patterns","body":"<p>Dynamic proxy is essentially the proxy design pattern, in which the proxy object is created dynamically during runtime.</p>\n<p>Proxy design pattern uses a proxy, which acts as a mediator between client and underlying real object. Programmer can perform access control, validation and additional action in proxy before delegating the request to real object.</p>\n<p>Now suppose you want to perform some generic action before calling any method of any class for example you want to keep log of all the method calls made by client.\nIn that case, if you want to implement proxy design pattern, steps are as following:</p>\n<ol>\n<li>create proxy class for each class.</li>\n<li>implement proxy class in a way, that first it make a log entry of the method call made by the client, than delegate the call to real object.</li>\n</ol>\n<p>The problem with the above technique is that, suppose you have 1000 classes, you'll need to write 1000 proxy classes for each class and implement all the methods in all the classes which are essentially doing the same thing (performing logging action in our case), which is very tedious process and wastage of memory.</p>\n<p>Won't it be better, if somehow at runtime, we are able to create a proxy object based on the client's call and then perform generic action(logging action in our case) before delegating the call to the real object? Well, that is what dynamic proxies does.</p>\n<p>The process in case of dynamic proxy is as following:</p>\n<ol>\n<li>client calls some action on an object.</li>\n<li>system creates a proxy object at runtime based on client's call.</li>\n<li>proxy object calls a generic method to perform a generic action in case of each call.</li>\n<li>after the action, proxy object delegates the call to real object.</li>\n</ol>\n<p>So in a nutshell, if you have some generic action to perform, use dynamic proxy, but if you want each class to be treated differenlty (in some classes perform logging, in some don't, in some access control etc.) use simple proxy.\nHope I helped. If you need a code example, please let me know.</p>\n"},{"tags":[],"owner":{"account_id":1329420,"reputation":1035,"user_id":1273619,"display_name":"isaolmez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492090540,"creation_date":1492090540,"answer_id":43393785,"question_id":20584281,"body_markdown":"I will try to give info on Java&#39;s dynamic proxy and classic proxy pattern. In fact, Java&#39;s dynamic proxy is also an example of proxy pattern. \r\n\r\nIn dynamic proxy case, proxy class is created at runtime and you use InvocationHandler&#39;s to define its behaviour. This means that dynamic proxy class uses InvocationHandler as its strategy and delegates calls to its InvocationHandler.\r\n\r\nIn classic proxy pattern, you explicitly create the proxy class and implement your logic here.\r\nYou can look at [here][1] for samples codes.\r\n\r\n\r\n  [1]: https://github.com/isaolmez/design_patterns_java/tree/master/src/main/java/com/isa/patterns/proxy","title":"differences between proxy and dynamic proxy patterns","body":"<p>I will try to give info on Java's dynamic proxy and classic proxy pattern. In fact, Java's dynamic proxy is also an example of proxy pattern. </p>\n\n<p>In dynamic proxy case, proxy class is created at runtime and you use InvocationHandler's to define its behaviour. This means that dynamic proxy class uses InvocationHandler as its strategy and delegates calls to its InvocationHandler.</p>\n\n<p>In classic proxy pattern, you explicitly create the proxy class and implement your logic here.\nYou can look at <a href=\"https://github.com/isaolmez/design_patterns_java/tree/master/src/main/java/com/isa/patterns/proxy\" rel=\"nofollow noreferrer\">here</a> for samples codes.</p>\n"}],"owner":{"account_id":2078632,"reputation":1638,"user_id":1851268,"accept_rate":59,"display_name":"Shai Zarzewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5131,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1666075615,"creation_date":1387030053,"question_id":20584281,"body_markdown":"I&#39;m trying to understand what are the differences between proxy and dynamic proxy patterns.\r\nfrom what I&#39;ve read so far the only thing that I found out is that the proxy class byte-code is created during compile time and on dynamic proxy it&#39;s created during run-time.\r\nare there another differences that i&#39;m missing? if not then what&#39;s the reason to prefer proxy over dynamic proxy (except performance issues) \r\n","title":"differences between proxy and dynamic proxy patterns","body":"<p>I'm trying to understand what are the differences between proxy and dynamic proxy patterns.\nfrom what I've read so far the only thing that I found out is that the proxy class byte-code is created during compile time and on dynamic proxy it's created during run-time.\nare there another differences that i'm missing? if not then what's the reason to prefer proxy over dynamic proxy (except performance issues) </p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1665950293,"post_id":74090110,"comment_id":130813845,"body_markdown":"Are you posting the [same Question](https://stackoverflow.com/q/74086835/642706) under two identities?","body":"Are you posting the <a href=\"https://stackoverflow.com/q/74086835/642706\">same Question</a> under two identities?"},{"owner":{"account_id":26642224,"reputation":1,"user_id":20257695,"display_name":"jack marson"},"score":0,"creation_date":1665951617,"post_id":74090110,"comment_id":130814117,"body_markdown":"unfortunately yes , cause i posted wrong title and caption sorry ...","body":"unfortunately yes , cause i posted wrong title and caption sorry ..."}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665949567,"creation_date":1665949567,"answer_id":74090251,"question_id":74090110,"body_markdown":"It looks like the Insert sql query is wrong.\r\n\r\nI think you are trying to insert String values without &#39;&#39; and String values into float columns.\r\n\r\n    INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,&#39;U&#39;)\r\n\r\nThis is not a valid sql query since prepaid_balance is not a number and SUBSCRIBERI is not a string (try &#39;SUBSCRIBERI&#39; etc)\r\n","title":"How can insert into a created table in JDBC after using if statement","body":"<p>It looks like the Insert sql query is wrong.</p>\n<p>I think you are trying to insert String values without '' and String values into float columns.</p>\n<pre><code>INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,'U')\n</code></pre>\n<p>This is not a valid sql query since prepaid_balance is not a number and SUBSCRIBERI is not a string (try 'SUBSCRIBERI' etc)</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665956389,"creation_date":1665956389,"answer_id":74090867,"question_id":74090110,"body_markdown":"&gt; `stmt.executeUpdate(&quot;INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,&#39;U&#39;)&quot;));`\r\n\r\nThis doesn&#39;t work. You can&#39;t use java variable names inside a string and expect the system to figure it out. That string is based _verbatim_ to the SQL JDBC driver which is not capable of doing that sort of thing.\r\n\r\nWhat you want is [A] not `executeUpdate`, it can&#39;t do this. You want `prepareStatement`. The statement would be something like:\r\n\r\n```\r\n&quot;INSERT INTO aggregation VALUES (?,?,?,?,?,?,?,&#39;U&#39;)&quot;\r\n```\r\n\r\nand then you use the various `.setX` methods that PreparedStatement has to set the values: `.setString(1, SUBSCRIBERI);`, and so on for all the other question marks. Once you&#39;ve done all that, you can run `.executeUpdate()` on the prepared statement object.\r\n\r\nThere are thousands of tutorials out on the web that show you how to use PreparedStatement here.\r\n","title":"How can insert into a created table in JDBC after using if statement","body":"<blockquote>\n<p><code>stmt.executeUpdate(&quot;INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,'U')&quot;));</code></p>\n</blockquote>\n<p>This doesn't work. You can't use java variable names inside a string and expect the system to figure it out. That string is based <em>verbatim</em> to the SQL JDBC driver which is not capable of doing that sort of thing.</p>\n<p>What you want is [A] not <code>executeUpdate</code>, it can't do this. You want <code>prepareStatement</code>. The statement would be something like:</p>\n<pre><code>&quot;INSERT INTO aggregation VALUES (?,?,?,?,?,?,?,'U')&quot;\n</code></pre>\n<p>and then you use the various <code>.setX</code> methods that PreparedStatement has to set the values: <code>.setString(1, SUBSCRIBERI);</code>, and so on for all the other question marks. Once you've done all that, you can run <code>.executeUpdate()</code> on the prepared statement object.</p>\n<p>There are thousands of tutorials out on the web that show you how to use PreparedStatement here.</p>\n"}],"owner":{"account_id":26642224,"reputation":1,"user_id":20257695,"display_name":"jack marson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666075578,"creation_date":1665948338,"question_id":74090110,"body_markdown":"Hi guy&#39;s I need to know how can I (insert into) a created table cause I&#39;m getting a lot of errors : \r\n\r\n``` public static void ViewTable() throws SQLException {\r\n        Connection con = DriverManager.getConnection(DB_URL,username,password);\r\n        //query for the offer Validity\r\n        String query = &quot;SELECT chargingtime,CHARGINGPARTYNUMBER,SUBSCRIBERID,OFFERNAME,OFFERID,prepaidbalance,LIFECYCLE_DAYS,LVL,OPERATIONID FROM ncs_sub_unsub&quot;;\r\n\r\n        try (Statement stmt = con.createStatement()) {\r\n            ResultSet rs = stmt.executeQuery(query);\r\n            while (rs.next()) {\r\n                String SUBSCRIBERI = rs.getString(&quot;SUBSCRIBERID&quot;);\r\n                String OFFERNAME = rs.getString(&quot;OFFERNAME&quot;);\r\n                String OFFERID = rs.getString(&quot;OFFERID&quot;);\r\n                String LIFECYCLE_DAYS = rs.getString(&quot;LIFECYCLE_DAYS&quot;);\r\n                int LEVEL1 = rs.getInt(&quot;LVL&quot;);\r\n                String CHARGINGPARTY =rs.getString(&quot;CHARGINGPARTYNUMBER&quot;);\r\n                int OPERATIONID= rs.getInt(&quot;OPERATIONID&quot;);\r\n                float prepaid_balance = rs.getFloat(&quot;PREPAIDBALANCE&quot;);\r\n                LocalDate CHARGINGTIME1 = rs.getObject(&quot;CHARGINGTIME&quot;, LocalDate.class);\r\n                LocalDate CHARGINGTIME7 = CHARGINGTIME1.plusDays(7);\r\n                LocalDate CHARGINGTIME14 = CHARGINGTIME1.plusDays(14);\r\n                //if the level is one , the time should be 7 days\r\n                if(LEVEL1 == 1){\r\n                    if((OPERATIONID == 4050001 &amp;&amp; CHARGINGTIME1.isBefore(CHARGINGTIME7)) || CHARGINGTIME1.isEqual(CHARGINGTIME7)){\r\n                     String q = String.valueOf(stmt.executeUpdate(&quot;INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,&#39;S&#39;)&quot;));\r\n                    } else if ((OPERATIONID == 4050018 &amp;&amp; CHARGINGTIME7.isAfter(CHARGINGTIME1)) || CHARGINGTIME7.isEqual(CHARGINGTIME1)) {\r\n                        String q = String.valueOf(stmt.executeUpdate(&quot;INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,&#39;U&#39;)&quot;));\r\n                    }else {\r\n                        String q = String.valueOf(stmt.executeUpdate(&quot;INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,&#39;E&#39;)&quot;));\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n            }// end of try\r\n        catch (SQLException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        }\r\n\r\n    public static void main(String[] args) throws SQLException {\r\n        ViewTable();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe error: \r\n```\r\nCaused by: Error : 984, Position : 111, Sql = INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,&#39;U&#39;), OriginalSql = INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,&#39;U&#39;), Error Msg = ORA-00984: column not allowed here\r\n```","title":"How can insert into a created table in JDBC after using if statement","body":"<p>Hi guy's I need to know how can I (insert into) a created table cause I'm getting a lot of errors :</p>\n<pre><code>        Connection con = DriverManager.getConnection(DB_URL,username,password);\n        //query for the offer Validity\n        String query = &quot;SELECT chargingtime,CHARGINGPARTYNUMBER,SUBSCRIBERID,OFFERNAME,OFFERID,prepaidbalance,LIFECYCLE_DAYS,LVL,OPERATIONID FROM ncs_sub_unsub&quot;;\n\n        try (Statement stmt = con.createStatement()) {\n            ResultSet rs = stmt.executeQuery(query);\n            while (rs.next()) {\n                String SUBSCRIBERI = rs.getString(&quot;SUBSCRIBERID&quot;);\n                String OFFERNAME = rs.getString(&quot;OFFERNAME&quot;);\n                String OFFERID = rs.getString(&quot;OFFERID&quot;);\n                String LIFECYCLE_DAYS = rs.getString(&quot;LIFECYCLE_DAYS&quot;);\n                int LEVEL1 = rs.getInt(&quot;LVL&quot;);\n                String CHARGINGPARTY =rs.getString(&quot;CHARGINGPARTYNUMBER&quot;);\n                int OPERATIONID= rs.getInt(&quot;OPERATIONID&quot;);\n                float prepaid_balance = rs.getFloat(&quot;PREPAIDBALANCE&quot;);\n                LocalDate CHARGINGTIME1 = rs.getObject(&quot;CHARGINGTIME&quot;, LocalDate.class);\n                LocalDate CHARGINGTIME7 = CHARGINGTIME1.plusDays(7);\n                LocalDate CHARGINGTIME14 = CHARGINGTIME1.plusDays(14);\n                //if the level is one , the time should be 7 days\n                if(LEVEL1 == 1){\n                    if((OPERATIONID == 4050001 &amp;&amp; CHARGINGTIME1.isBefore(CHARGINGTIME7)) || CHARGINGTIME1.isEqual(CHARGINGTIME7)){\n                     String q = String.valueOf(stmt.executeUpdate(&quot;INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,'S')&quot;));\n                    } else if ((OPERATIONID == 4050018 &amp;&amp; CHARGINGTIME7.isAfter(CHARGINGTIME1)) || CHARGINGTIME7.isEqual(CHARGINGTIME1)) {\n                        String q = String.valueOf(stmt.executeUpdate(&quot;INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,'U')&quot;));\n                    }else {\n                        String q = String.valueOf(stmt.executeUpdate(&quot;INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,'E')&quot;));\n                    }\n\n                }\n\n            }\n            }// end of try\n        catch (SQLException e){\n            e.printStackTrace();\n        }\n\n\n        }\n\n    public static void main(String[] args) throws SQLException {\n        ViewTable();\n\n\n    }\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>Caused by: Error : 984, Position : 111, Sql = INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,'U'), OriginalSql = INSERT INTO aggregation VALUES (SUBSCRIBERI,CHARGINGPARTY,OPERATIONID,OFFERNAME,prepaid_balance,LIFECYCLE_DAYS,LEVEL1,'U'), Error Msg = ORA-00984: column not allowed here\n</code></pre>\n"},{"tags":["java","spring-boot","logging","slf4j","metrics"],"comments":[{"owner":{"account_id":4803957,"reputation":83,"user_id":3879688,"display_name":"sp_artacus_code"},"score":0,"creation_date":1650624764,"post_id":71952437,"comment_id":127168696,"body_markdown":"Sorry but I can&#39;t get what I wanted, I probably explained myself wrong.\nMy goal is to get information in this format in a separate log file:\n{\n&quot;timestamp&quot;: &quot;2022-04-22T10: 30: 49.776 + 02: 00&quot;,\n&quot;name&quot;: &quot;John&quot;,\n&quot;surname&quot;: &quot;Doe&quot;,\n&quot;level&quot;: &quot;INFO&quot;,\n.....\n}","body":"Sorry but I can&#39;t get what I wanted, I probably explained myself wrong. My goal is to get information in this format in a separate log file: { &quot;timestamp&quot;: &quot;2022-04-22T10: 30: 49.776 + 02: 00&quot;, &quot;name&quot;: &quot;John&quot;, &quot;surname&quot;: &quot;Doe&quot;, &quot;level&quot;: &quot;INFO&quot;, ..... }"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650535076,"creation_date":1650535076,"answer_id":71952505,"question_id":71952437,"body_markdown":"Add dependencies\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nAdd file `logback.xml` has content\r\n\r\n```xml\r\n&lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n        &lt;jsonFormatter\r\n            class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n            &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n        &lt;/jsonFormatter&gt;\r\n        &lt;timestampFormat&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/timestampFormat&gt;\r\n    &lt;/layout&gt;\r\n&lt;/appender&gt;\r\n\r\n&lt;logger name=&quot;jsonLogger&quot; level=&quot;TRACE&quot;&gt;\r\n    &lt;appender-ref ref=&quot;json&quot; /&gt;\r\n&lt;/logger&gt;\r\n```\r\n\r\nCall logger\r\n\r\n```java\r\nLogger logger = LoggerFactory.getLogger(&quot;jsonLogger&quot;);\r\nlogger.debug(&quot;Debug/INFO/ERROR message&quot;);\r\n```","title":"Log in both text and JSON format in a Spring Boot application","body":"<p>Add dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n        &lt;version&gt;0.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n        &lt;version&gt;0.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Add file <code>logback.xml</code> has content</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n        &lt;jsonFormatter\n            class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n            &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n        &lt;/jsonFormatter&gt;\n        &lt;timestampFormat&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/timestampFormat&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;logger name=&quot;jsonLogger&quot; level=&quot;TRACE&quot;&gt;\n    &lt;appender-ref ref=&quot;json&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>Call logger</p>\n<pre class=\"lang-java prettyprint-override\"><code>Logger logger = LoggerFactory.getLogger(&quot;jsonLogger&quot;);\nlogger.debug(&quot;Debug/INFO/ERROR message&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12468013,"reputation":14,"user_id":9077192,"display_name":"Ionut Adrian Ene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650535217,"creation_date":1650535217,"answer_id":71952543,"question_id":71952437,"body_markdown":"you will need to proper configure the logback plugin adding a business required template, you can inspire from: https://mathieularose.com/logback-json","title":"Log in both text and JSON format in a Spring Boot application","body":"<p>you will need to proper configure the logback plugin adding a business required template, you can inspire from: <a href=\"https://mathieularose.com/logback-json\" rel=\"nofollow noreferrer\">https://mathieularose.com/logback-json</a></p>\n"},{"tags":[],"owner":{"account_id":2119687,"reputation":178,"user_id":2808207,"display_name":"Shmarkus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666075508,"creation_date":1666075508,"answer_id":74106738,"question_id":71952437,"body_markdown":"If you want to log all the messages as JSON, use the following in logback.xml\r\n\r\n      &lt;logger name=&quot;ROOT&quot; level=&quot;${logging.level.root}&quot;&gt;\r\n        &lt;appender-ref ref=&quot;json&quot;/&gt;\r\n      &lt;/logger&gt;\r\nThe ROOT appender writes all logs as JSON and the level is configurable from application configuration","title":"Log in both text and JSON format in a Spring Boot application","body":"<p>If you want to log all the messages as JSON, use the following in logback.xml</p>\n<pre><code>  &lt;logger name=&quot;ROOT&quot; level=&quot;${logging.level.root}&quot;&gt;\n    &lt;appender-ref ref=&quot;json&quot;/&gt;\n  &lt;/logger&gt;\n</code></pre>\n<p>The ROOT appender writes all logs as JSON and the level is configurable from application configuration</p>\n"}],"owner":{"account_id":4803957,"reputation":83,"user_id":3879688,"display_name":"sp_artacus_code"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1666075508,"creation_date":1650534820,"question_id":71952437,"body_markdown":"I have a Spring Boot application and for the log we are using the Logback library. As per project requirements it is necessary to add the log in JSON format so that it is possible to obtain metrics. This log must be added to the existing one and will be used in the same methods and for same level, but will log other information.\r\n\r\nHow is this situation handled? I add an example for clarity:\r\n\r\n    public class UserService {\r\n        \r\n    private final Logger logger = LoggerFactory.getLogger(UserService.class);\r\n    \r\n    public UserResponse getUser(UserRequest userRequest) {\r\n    \r\n    \tUser user = userRepository.findById(userRequest.getId());\r\n    \r\n    \t//text log\r\n    \tlogger.info(&quot;User &quot; + user.getFullName().toString() + &quot; found&quot;);\r\n    \r\n        //json log to add\r\n    \tLogInfo logInfo = new LogInfo(LocalDateTime.now(), getClass().getName(), user.getName(), user.getSurname(), ...);\r\n    \tnewLogger.info(logInfo);\r\n    \t\r\n    \treturn new UserResponse(user);\r\n        }\r\n    }","title":"Log in both text and JSON format in a Spring Boot application","body":"<p>I have a Spring Boot application and for the log we are using the Logback library. As per project requirements it is necessary to add the log in JSON format so that it is possible to obtain metrics. This log must be added to the existing one and will be used in the same methods and for same level, but will log other information.</p>\n<p>How is this situation handled? I add an example for clarity:</p>\n<pre><code>public class UserService {\n    \nprivate final Logger logger = LoggerFactory.getLogger(UserService.class);\n\npublic UserResponse getUser(UserRequest userRequest) {\n\n    User user = userRepository.findById(userRequest.getId());\n\n    //text log\n    logger.info(&quot;User &quot; + user.getFullName().toString() + &quot; found&quot;);\n\n    //json log to add\n    LogInfo logInfo = new LogInfo(LocalDateTime.now(), getClass().getName(), user.getName(), user.getSurname(), ...);\n    newLogger.info(logInfo);\n    \n    return new UserResponse(user);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666075357,"creation_date":1666075357,"answer_id":74106703,"question_id":74106344,"body_markdown":"your processor should extend [AbstractSessionFactoryProcessor][1] and create/commit sessions for incoming file and for each outgoing file.\r\n\r\nfiles going to output queue as soon as session been committed.\r\n\r\n\r\n  [1]: https://github.com/apache/nifi/blob/main/nifi-api/src/main/java/org/apache/nifi/processor/AbstractSessionFactoryProcessor.java","title":"NIFI custom processor return multipleflow files in recursion","body":"<p>your processor should extend <a href=\"https://github.com/apache/nifi/blob/main/nifi-api/src/main/java/org/apache/nifi/processor/AbstractSessionFactoryProcessor.java\" rel=\"nofollow noreferrer\">AbstractSessionFactoryProcessor</a> and create/commit sessions for incoming file and for each outgoing file.</p>\n<p>files going to output queue as soon as session been committed.</p>\n"}],"owner":{"account_id":12683754,"reputation":1345,"user_id":9216423,"display_name":"Dulanga Heshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74106703,"answer_count":1,"score":0,"last_activity_date":1666075357,"creation_date":1666072806,"question_id":74106344,"body_markdown":"I have to do some custom preprocessing tasks on a huge data file (~200GB).\r\ncurrently, its works as below way.\r\n\r\n 1. select * from table\r\n 2. preprocessing line by line\r\n 3. return a new single flow file\r\n \r\nso I decided to convert the above approach to the below way.\r\n\r\n 1. get the row count from the user (let&#39;s assume the user gives 1000)\r\n 2. execute select * query as resultSet\r\n 3. read the results line by line (rs.next())\r\n 3. when the line count reaches 1000 return the flow file and continues to other lines\r\n\r\nSo my approach is as below\r\n**onTrigger**\r\n\r\n     public void onTrigger(final ProcessContext context, final ProcessSession session) throws ProcessException {\r\n            logger = getLogger();\r\n            FlowFile flowFile = session.get();\r\n            if (flowFile == null) {\r\n                return;\r\n            }\r\n            try {\r\n                final Long rowLimit = context.getProperty(ProcessorUtils.MAX_RECORD).evaluateAttributeExpressions(flowFile).asLong(); \r\n                Connection conn = DriverManager.getConnection(\r\n                        // db connection properties\r\n                );\r\n                Statement stm = conn.createStatement(ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_READ_ONLY);\r\n                ResultSet rs = stm.executeQuery(&quot;sql query&quot;);\r\n                Map&lt;String, String&gt; flowFileAttributes = flowFile.getAttributes();\r\n                process(\r\n                        rs,\r\n                        session,\r\n                        flowFileAttributes,\r\n                        rowLimit,\r\n                );\r\n        \r\n                FlowFile stateFlowFile = session.create();\r\n                session.putAttribute(stateFlowFile, &quot;processing_status&quot;, &quot;end&quot;);\r\n                session.putAttribute(stateFlowFile, &quot;record_count&quot;, &quot;0&quot;);\r\n                session.transfer(stateFlowFile, GPReaderProcessorUtils.STATUS); // working line\r\n    \r\n            } catch (Exception e) {\r\n                logger.warn(&quot; conn &quot; + e);\r\n                session.transfer(flowFile, GPReaderProcessorUtils.FAILURE);\r\n            }\r\n        }\r\n\r\n**Recursion Approach for termination based on line count**\r\n\r\n\r\n            private void process(ResultSet rs, ProcessSession session, Map&lt;String, String&gt; flowFileAttributes, Long rowLimit) throws SQLException {\r\n               try{\r\n                    logger.info(&quot;-&gt;  start processing with row limit = &quot; + rowLimit);\r\n                    AtomicInteger mainI = new AtomicInteger(0);\r\n                    FlowFile flowFile = \r\n                    session.write(session.putAllAttributes(session.create(), flowFileAttributes), (OutputStream out) -&gt; {\r\n                    int i = 0;\r\n                    Map&lt;String, String&gt; preProcessResults = null;\r\n                    try {\r\n                         String res = &quot;&quot;;\r\n                         while (i &lt; rowLimit &amp;&amp; rs.next()) {\r\n                               //preprocessing happens here\r\n                                i++;\r\n                                mainI.set(i);\r\n                                out.write(preprocess results.toString().getBytes(StandardCharsets.UTF_8));\r\n                           }\r\n                        }catch (SQLException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                    logger.info(&quot;gp-log -&gt;&quot;+ (String.valueOf(i)));\r\n                    out.close();\r\n                });\r\n    \r\n    \r\n                FlowFile stateFlowFile = session.create();\r\n                session.putAttribute(stateFlowFile, &quot;processing_status&quot;, &quot;processing&quot;);\r\n                session.putAttribute(stateFlowFile, &quot;record_count&quot;, mainI.toString());\r\n                session.transfer(stateFlowFile, GPReaderProcessorUtils.STATUS); // state relationship\r\n   \r\n    \r\n                session.transfer(flowFile, GPReaderProcessorUtils.SUCCESS); // preprocessed flow files returns\r\n    \r\n                if(!rs.isAfterLast() &amp;&amp; mainI != 0  &amp;&amp; !rs.isLast()){ // recurrsion call\r\n                    logger.info(&quot;gp-log -&gt; recursion call&quot; );\r\n                    process(rs, session,flowFileAttributes,column,rowLimit);\r\n                }\r\n    \r\n            }catch (Exception e){\r\n                logger.info(e.getMessage());\r\n                logger.error(e.getMessage());\r\n          session.transfer(session.putAllAttributes(session.create(),flowFileAttributes), GPReaderProcessorUtils.FAILURE);\r\n            }\r\n    \r\n    \r\n        }\r\n\r\nExpected Behaviour -&gt; while processing this one return completed rows as flow files\r\n\r\nCurrent Behaviour -&gt; after finishing all return all flow files (generated in recursion) once.\r\n\r\n\r\nplease advise on this.","title":"NIFI custom processor return multipleflow files in recursion","body":"<p>I have to do some custom preprocessing tasks on a huge data file (~200GB).\ncurrently, its works as below way.</p>\n<ol>\n<li>select * from table</li>\n<li>preprocessing line by line</li>\n<li>return a new single flow file</li>\n</ol>\n<p>so I decided to convert the above approach to the below way.</p>\n<ol>\n<li>get the row count from the user (let's assume the user gives 1000)</li>\n<li>execute select * query as resultSet</li>\n<li>read the results line by line (rs.next())</li>\n<li>when the line count reaches 1000 return the flow file and continues to other lines</li>\n</ol>\n<p>So my approach is as below\n<strong>onTrigger</strong></p>\n<pre><code> public void onTrigger(final ProcessContext context, final ProcessSession session) throws ProcessException {\n        logger = getLogger();\n        FlowFile flowFile = session.get();\n        if (flowFile == null) {\n            return;\n        }\n        try {\n            final Long rowLimit = context.getProperty(ProcessorUtils.MAX_RECORD).evaluateAttributeExpressions(flowFile).asLong(); \n            Connection conn = DriverManager.getConnection(\n                    // db connection properties\n            );\n            Statement stm = conn.createStatement(ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_READ_ONLY);\n            ResultSet rs = stm.executeQuery(&quot;sql query&quot;);\n            Map&lt;String, String&gt; flowFileAttributes = flowFile.getAttributes();\n            process(\n                    rs,\n                    session,\n                    flowFileAttributes,\n                    rowLimit,\n            );\n    \n            FlowFile stateFlowFile = session.create();\n            session.putAttribute(stateFlowFile, &quot;processing_status&quot;, &quot;end&quot;);\n            session.putAttribute(stateFlowFile, &quot;record_count&quot;, &quot;0&quot;);\n            session.transfer(stateFlowFile, GPReaderProcessorUtils.STATUS); // working line\n\n        } catch (Exception e) {\n            logger.warn(&quot; conn &quot; + e);\n            session.transfer(flowFile, GPReaderProcessorUtils.FAILURE);\n        }\n    }\n</code></pre>\n<p><strong>Recursion Approach for termination based on line count</strong></p>\n<pre><code>        private void process(ResultSet rs, ProcessSession session, Map&lt;String, String&gt; flowFileAttributes, Long rowLimit) throws SQLException {\n           try{\n                logger.info(&quot;-&gt;  start processing with row limit = &quot; + rowLimit);\n                AtomicInteger mainI = new AtomicInteger(0);\n                FlowFile flowFile = \n                session.write(session.putAllAttributes(session.create(), flowFileAttributes), (OutputStream out) -&gt; {\n                int i = 0;\n                Map&lt;String, String&gt; preProcessResults = null;\n                try {\n                     String res = &quot;&quot;;\n                     while (i &lt; rowLimit &amp;&amp; rs.next()) {\n                           //preprocessing happens here\n                            i++;\n                            mainI.set(i);\n                            out.write(preprocess results.toString().getBytes(StandardCharsets.UTF_8));\n                       }\n                    }catch (SQLException e) {\n                        e.printStackTrace();\n                    }\n                }\n                logger.info(&quot;gp-log -&gt;&quot;+ (String.valueOf(i)));\n                out.close();\n            });\n\n\n            FlowFile stateFlowFile = session.create();\n            session.putAttribute(stateFlowFile, &quot;processing_status&quot;, &quot;processing&quot;);\n            session.putAttribute(stateFlowFile, &quot;record_count&quot;, mainI.toString());\n            session.transfer(stateFlowFile, GPReaderProcessorUtils.STATUS); // state relationship\n\n\n            session.transfer(flowFile, GPReaderProcessorUtils.SUCCESS); // preprocessed flow files returns\n\n            if(!rs.isAfterLast() &amp;&amp; mainI != 0  &amp;&amp; !rs.isLast()){ // recurrsion call\n                logger.info(&quot;gp-log -&gt; recursion call&quot; );\n                process(rs, session,flowFileAttributes,column,rowLimit);\n            }\n\n        }catch (Exception e){\n            logger.info(e.getMessage());\n            logger.error(e.getMessage());\n      session.transfer(session.putAllAttributes(session.create(),flowFileAttributes), GPReaderProcessorUtils.FAILURE);\n        }\n\n\n    }\n</code></pre>\n<p>Expected Behaviour -&gt; while processing this one return completed rows as flow files</p>\n<p>Current Behaviour -&gt; after finishing all return all flow files (generated in recursion) once.</p>\n<p>please advise on this.</p>\n"},{"tags":["java","xml","jackson","pojo","xmlmapper"],"comments":[{"owner":{"account_id":2452792,"reputation":6158,"user_id":2138633,"accept_rate":80,"display_name":"ManojP"},"score":0,"creation_date":1416989592,"post_id":27143936,"comment_id":42784402,"body_markdown":"You are having list of address(Multiple) in customer class. so you need to have parent node addresses and its child node will be adress.","body":"You are having list of address(Multiple) in customer class. so you need to have parent node addresses and its child node will be adress."},{"owner":{"account_id":5392858,"reputation":315,"user_id":4294849,"display_name":"Sharmistha Sinha"},"score":0,"creation_date":1416989722,"post_id":27143936,"comment_id":42784449,"body_markdown":"Thx Manoj, but I do not want any parental node. Can we somehow omit the parental node?","body":"Thx Manoj, but I do not want any parental node. Can we somehow omit the parental node?"},{"owner":{"account_id":5392858,"reputation":315,"user_id":4294849,"display_name":"Sharmistha Sinha"},"score":1,"creation_date":1416991558,"post_id":27143936,"comment_id":42785317,"body_markdown":"I got the answer - Just need to use  @JacksonXmlElementWrapper(useWrapping = false) Thx for spending time to read it.","body":"I got the answer - Just need to use  @JacksonXmlElementWrapper(useWrapping = false) Thx for spending time to read it."},{"owner":{"account_id":931121,"reputation":21651,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1626772459,"post_id":27143936,"comment_id":120976435,"body_markdown":"real question is how to get back. good luck with that.","body":"real question is how to get back. good luck with that."}],"answers":[{"tags":[],"owner":{"account_id":2452792,"reputation":6158,"user_id":2138633,"accept_rate":80,"display_name":"ManojP"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1666075334,"creation_date":1416991390,"answer_id":27144625,"question_id":27143936,"body_markdown":"Try the below code\r\n\r\n    @JacksonXmlRootElement(localName = &quot;customer&quot;) \r\n    class Customer {\r\n\r\n\t    @JacksonXmlProperty(localName = &quot;id&quot;)\r\n\t    private int id;\r\n\t    @JacksonXmlProperty(localName = &quot;name&quot;)\r\n\t    private String  name;\r\n\t\r\n        @JacksonXmlProperty(localName = &quot;addresses&quot;)\r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        private Address[] address;\r\n\r\n        // you can add it on getter method instead of declaration.  \r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        public Address[] getAddress(){ \r\n            return address;\r\n       }\r\n\r\n       //getters, setters, toString             \r\n    }\r\n\r\n    class Address {\r\n\r\n\t    @JacksonXmlProperty(localName = &quot;city&quot;)\r\n        private String city;\r\n\r\n        @JacksonXmlProperty(localName = &quot;state&quot;)\r\n        private String state;\r\n        // getter/setter \r\n    }","title":"Serialize Java List to XML using Jackson XML mapper","body":"<p>Try the below code</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;customer&quot;) \nclass Customer {\n\n    @JacksonXmlProperty(localName = &quot;id&quot;)\n    private int id;\n    @JacksonXmlProperty(localName = &quot;name&quot;)\n    private String  name;\n\n    @JacksonXmlProperty(localName = &quot;addresses&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private Address[] address;\n\n    // you can add it on getter method instead of declaration.  \n    @JacksonXmlElementWrapper(useWrapping = false)\n    public Address[] getAddress(){ \n        return address;\n   }\n\n   //getters, setters, toString             \n}\n\nclass Address {\n\n    @JacksonXmlProperty(localName = &quot;city&quot;)\n    private String city;\n\n    @JacksonXmlProperty(localName = &quot;state&quot;)\n    private String state;\n    // getter/setter \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2278737,"reputation":209,"user_id":2004397,"display_name":"alphathesis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475453755,"creation_date":1475453755,"answer_id":39823051,"question_id":27143936,"body_markdown":"Just to add to ManojP&#39;s answer, if adding the `@JacksonXmlElementWrapper(useWrapping = false)` on the declaration of your variable doesn&#39;t work (which was the case for me), adding it to the getter method will do the trick.","title":"Serialize Java List to XML using Jackson XML mapper","body":"<p>Just to add to ManojP's answer, if adding the <code>@JacksonXmlElementWrapper(useWrapping = false)</code> on the declaration of your variable doesn't work (which was the case for me), adding it to the getter method will do the trick.</p>\n"},{"tags":[],"owner":{"account_id":1926150,"reputation":42835,"user_id":1736537,"display_name":"A Kunin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1504988501,"creation_date":1504988501,"answer_id":46134797,"question_id":27143936,"body_markdown":"This setting changes default wrapping behavior, if you don&#39;t want to deal with annotation everywhere in your code.\r\n\r\n    XmlMapper mapper = new XmlMapper();\r\n    mapper.setDefaultUseWrapper(false);","title":"Serialize Java List to XML using Jackson XML mapper","body":"<p>This setting changes default wrapping behavior, if you don't want to deal with annotation everywhere in your code.</p>\n\n<pre><code>XmlMapper mapper = new XmlMapper();\nmapper.setDefaultUseWrapper(false);\n</code></pre>\n"}],"owner":{"account_id":5392858,"reputation":315,"user_id":4294849,"display_name":"Sharmistha Sinha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40322,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":27144625,"answer_count":3,"score":28,"last_activity_date":1666075334,"creation_date":1416988905,"question_id":27143936,"body_markdown":"Hi I need to create an XML from JAVA using Jackson-dataformat XMLMapper.\r\nThe XML should be like\r\n\r\n    &lt;Customer&gt;\r\n      &lt;id&gt;1&lt;/id&gt;\r\n      &lt;name&gt;Mighty Pulpo&lt;/name&gt;\r\n        &lt;addresses&gt;\r\n          &lt;city&gt;austin&lt;/city&gt;\r\n          &lt;state&gt;TX&lt;/state&gt;\r\n        &lt;/addresses&gt;\r\n        &lt;addresses&gt;\r\n          &lt;city&gt;Hong Kong&lt;/city&gt;\r\n          &lt;state&gt;Hong Kong&lt;/state&gt;\r\n        &lt;/addresses&gt;\r\n    &lt;/Customer&gt;\r\n\r\n\r\nBut I get it always like with an extra &quot;&lt; addresses&gt; &lt; /addresses&gt;&quot; tag.\r\n\r\n    &lt;Customer&gt;\r\n      &lt;id&gt;1&lt;/id&gt;\r\n      &lt;name&gt;Mighty Pulpo&lt;/name&gt;\r\n    &lt;addresses&gt;\r\n        &lt;addresses&gt;\r\n          &lt;city&gt;austin&lt;/city&gt;\r\n          &lt;state&gt;TX&lt;/state&gt;\r\n        &lt;/addresses&gt;\r\n        &lt;addresses&gt;\r\n          &lt;city&gt;Hong Kong&lt;/city&gt;\r\n          &lt;state&gt;Hong Kong&lt;/state&gt;\r\n        &lt;/addresses&gt;\r\n    &lt;addresses&gt;\r\n    &lt;/Customer&gt;\r\n\r\nI am using below code to create XML  \r\n\r\n    JaxbAnnotationModule jaxbAnnotationModule = new JaxbAnnotationModule();\r\n    XmlMapper mapper = new XmlMapper();\r\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    mapper.registerModule(jaxbAnnotationModule);\r\n    mapper.registerModule(new GuavaModule());\r\n    String xml = mapper.writeValueAsString(customer);\r\n    System.out.println(xml);\r\n\r\nPlease can some one help me? How can I remove the extra tag please. I have tried to use  @XmlElement but it does not help help. TIA!!","title":"Serialize Java List to XML using Jackson XML mapper","body":"<p>Hi I need to create an XML from JAVA using Jackson-dataformat XMLMapper.\nThe XML should be like</p>\n\n<pre><code>&lt;Customer&gt;\n  &lt;id&gt;1&lt;/id&gt;\n  &lt;name&gt;Mighty Pulpo&lt;/name&gt;\n    &lt;addresses&gt;\n      &lt;city&gt;austin&lt;/city&gt;\n      &lt;state&gt;TX&lt;/state&gt;\n    &lt;/addresses&gt;\n    &lt;addresses&gt;\n      &lt;city&gt;Hong Kong&lt;/city&gt;\n      &lt;state&gt;Hong Kong&lt;/state&gt;\n    &lt;/addresses&gt;\n&lt;/Customer&gt;\n</code></pre>\n\n<p>But I get it always like with an extra \"&lt; addresses> &lt; /addresses>\" tag.</p>\n\n<pre><code>&lt;Customer&gt;\n  &lt;id&gt;1&lt;/id&gt;\n  &lt;name&gt;Mighty Pulpo&lt;/name&gt;\n&lt;addresses&gt;\n    &lt;addresses&gt;\n      &lt;city&gt;austin&lt;/city&gt;\n      &lt;state&gt;TX&lt;/state&gt;\n    &lt;/addresses&gt;\n    &lt;addresses&gt;\n      &lt;city&gt;Hong Kong&lt;/city&gt;\n      &lt;state&gt;Hong Kong&lt;/state&gt;\n    &lt;/addresses&gt;\n&lt;addresses&gt;\n&lt;/Customer&gt;\n</code></pre>\n\n<p>I am using below code to create XML  </p>\n\n<pre><code>JaxbAnnotationModule jaxbAnnotationModule = new JaxbAnnotationModule();\nXmlMapper mapper = new XmlMapper();\nmapper.enable(SerializationFeature.INDENT_OUTPUT);\nmapper.registerModule(jaxbAnnotationModule);\nmapper.registerModule(new GuavaModule());\nString xml = mapper.writeValueAsString(customer);\nSystem.out.println(xml);\n</code></pre>\n\n<p>Please can some one help me? How can I remove the extra tag please. I have tried to use  @XmlElement but it does not help help. TIA!!</p>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1554909064,"post_id":55615864,"comment_id":97925307,"body_markdown":"Have you tried using Maven profiles to activate by OS version? See https://stackoverflow.com/questions/18015178/detect-os-and-java-on-windows-and-linux","body":"Have you tried using Maven profiles to activate by OS version? See <a href=\"https://stackoverflow.com/questions/18015178/detect-os-and-java-on-windows-and-linux\" title=\"detect os and java on windows and linux\">stackoverflow.com/questions/18015178/&hellip;</a>"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1554909115,"post_id":55615864,"comment_id":97925335,"body_markdown":"`javafx.platform` would expect a _platform_, something like `mac`, `win` or `linux`. See [pom](https://search.maven.org/artifact/org.openjfx/javafx/12/pom).","body":"<code>javafx.platform</code> would expect a <i>platform</i>, something like <code>mac</code>, <code>win</code> or <code>linux</code>. See <a href=\"https://search.maven.org/artifact/org.openjfx/javafx/12/pom\" rel=\"nofollow noreferrer\">pom</a>."},{"owner":{"account_id":5570477,"reputation":182,"user_id":5149141,"display_name":"Doralitze"},"score":0,"creation_date":1554909341,"post_id":55615864,"comment_id":97925471,"body_markdown":"I already tried profiles without any effect.","body":"I already tried profiles without any effect."},{"owner":{"account_id":5570477,"reputation":182,"user_id":5149141,"display_name":"Doralitze"},"score":0,"creation_date":1554909393,"post_id":55615864,"comment_id":97925506,"body_markdown":"I just switched &#39;sources&#39; to &#39;linux&#39; and invoced\n\n    mvn clean; mvn package\n\nresulting in to effect.","body":"I just switched &#39;sources&#39; to &#39;linux&#39; and invoced      mvn clean; mvn package  resulting in to effect."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1554909642,"post_id":55615864,"comment_id":97925656,"body_markdown":"Typically you don&#39;t need to define the platform: `&lt;dependency&gt;\n  &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n  &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n  &lt;version&gt;12&lt;/version&gt;\n&lt;/dependency&gt;`","body":"Typically you don&#39;t need to define the platform: <code>&lt;dependency&gt;   &lt;groupId&gt;org.openjfx&lt;&#47;groupId&gt;   &lt;artifactId&gt;javafx-controls&lt;&#47;artifactId&gt;   &lt;version&gt;12&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":5570477,"reputation":182,"user_id":5149141,"display_name":"Doralitze"},"score":0,"creation_date":1554909952,"post_id":55615864,"comment_id":97925828,"body_markdown":"As I said I only added I while debugging. It had no effect on the failure of the builds dough.","body":"As I said I only added I while debugging. It had no effect on the failure of the builds dough."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1554912382,"post_id":55615864,"comment_id":97927205,"body_markdown":"Unless you post the pom, hard to say what is wrong.","body":"Unless you post the pom, hard to say what is wrong."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1554914803,"post_id":55615864,"comment_id":97928468,"body_markdown":"Can you post the result of running `mvn -X clean compile`?","body":"Can you post the result of running <code>mvn -X clean compile</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5570477,"reputation":182,"user_id":5149141,"display_name":"Doralitze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1555341078,"creation_date":1555341078,"answer_id":55692217,"question_id":55615864,"body_markdown":"I was able to get it working by replacing ````&lt;javafx.platform&gt;linux&lt;/javafx.platform&gt;```` with ````&lt;javafx.platform&gt;\\%linux\\%&lt;/javafx.platform&gt;````. A colleague suggested this to me but I&#39;ve got no clue why this is working.","title":"How to make maven request the correct javafx dependancies on linux","body":"<p>I was able to get it working by replacing <code>&lt;javafx.platform&gt;linux&lt;/javafx.platform&gt;</code> with <code>&lt;javafx.platform&gt;\\%linux\\%&lt;/javafx.platform&gt;</code>. A colleague suggested this to me but I've got no clue why this is working.</p>\n"},{"tags":[],"owner":{"account_id":67886,"reputation":2022,"user_id":198397,"accept_rate":83,"display_name":"msteiger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577368368,"creation_date":1577368368,"answer_id":59489426,"question_id":55615864,"body_markdown":"I was unable to reproduce the solution proposed by Doralitze. It seems that the `&lt;javafx.platform&gt;` property is overriden in org.openjfx.javafx by OS-specific profiles.\r\n\r\nI managed to solve the issue by enforcing the exact jar with a classifier. For example:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t    &lt;version&gt;11.0.2&lt;/version&gt;\r\n\t    &lt;classifier&gt;linux&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nValid values are: `linux, win, mac`\r\n\r\nIn my opinion this is merely an ugly workaround, but surprisingly the official docs suggest the same approach: https://openjfx.io/openjfx-docs/#modular","title":"How to make maven request the correct javafx dependancies on linux","body":"<p>I was unable to reproduce the solution proposed by Doralitze. It seems that the <code>&lt;javafx.platform&gt;</code> property is overriden in org.openjfx.javafx by OS-specific profiles.</p>\n\n<p>I managed to solve the issue by enforcing the exact jar with a classifier. For example:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;11.0.2&lt;/version&gt;\n    &lt;classifier&gt;linux&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Valid values are: <code>linux, win, mac</code></p>\n\n<p>In my opinion this is merely an ugly workaround, but surprisingly the official docs suggest the same approach: <a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#modular</a></p>\n"},{"tags":[],"owner":{"account_id":15006874,"reputation":31,"user_id":10832653,"display_name":"Jerome Hordies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666074902,"creation_date":1665700653,"answer_id":74062516,"question_id":55615864,"body_markdown":"None of the solutions worked for me using `javafx 19`, the javafx.platform property is referred in the pom of the dependency and can&#39;t be resolved even if I set the `javafx.platform` property in my pom.\r\n\r\nBUT what did work was to pass the property to mvn :\r\n\r\n    mvn install -Djavafx.platform=linux\r\n\r\n","title":"How to make maven request the correct javafx dependancies on linux","body":"<p>None of the solutions worked for me using <code>javafx 19</code>, the javafx.platform property is referred in the pom of the dependency and can't be resolved even if I set the <code>javafx.platform</code> property in my pom.</p>\n<p>BUT what did work was to pass the property to mvn :</p>\n<pre><code>mvn install -Djavafx.platform=linux\n</code></pre>\n"}],"owner":{"account_id":5570477,"reputation":182,"user_id":5149141,"display_name":"Doralitze"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3720,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":55692217,"answer_count":3,"score":8,"last_activity_date":1666074902,"creation_date":1554908767,"question_id":55615864,"body_markdown":"I&#39;ve got a java project build by maven, compiling and running fine on FreeBSD, Mac and Windows. However when I try to compile it on Linux I get the following error:\r\n\r\n    The following artifacts could not be resolved: org.openjfx:javafx-controls:jar:${javafx.platform}:12, org.openjfx:javafx-graphics:jar:${javafx.platform}:12, org.openjfx:javafx-base:jar:${javafx.platform}:12: Could not find artifact org.openjfx:javafx-controls:jar:${javafx.platform}:12 in central (https://repo.maven.apache.org/maven2)\r\n\r\nObviously it can&#39;t determine the fact that it&#39;s running on linux so I added \r\n\r\n    &lt;javafx.platform&gt;sources&lt;/javafx.platform&gt;\r\n\r\nto the properties division of the pom.xml with no effect. This however has the effect, that other OS try to download the linux version, and aren&#39;t capable to run the software anymore (being expected but showing to me that I wrote that property correctly). I&#39;m testing inside a fresh Ubuntu VM and the VM is capable of compiling and running other (non JFX) project fine. I&#39;m officially out of ideas.\r\n\r\nEdit: My current pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;swengf&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;china&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;ferfehlt&lt;/name&gt;\r\n    \t&lt;url&gt;https://projects.isp.uni-luebeck.de/grp_f/sweng_f&lt;/url&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;10&lt;/java.version&gt;\r\n    \t\t&lt;junit.version&gt;5.4.1&lt;/junit.version&gt;\r\n    \t\t&lt;javafx.version&gt;12&lt;/javafx.version&gt;\r\n    \t\t&lt;javafx.platform&gt;linux&lt;/javafx.platform&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;swengf.Main&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"How to make maven request the correct javafx dependancies on linux","body":"<p>I've got a java project build by maven, compiling and running fine on FreeBSD, Mac and Windows. However when I try to compile it on Linux I get the following error:</p>\n\n<pre><code>The following artifacts could not be resolved: org.openjfx:javafx-controls:jar:${javafx.platform}:12, org.openjfx:javafx-graphics:jar:${javafx.platform}:12, org.openjfx:javafx-base:jar:${javafx.platform}:12: Could not find artifact org.openjfx:javafx-controls:jar:${javafx.platform}:12 in central (https://repo.maven.apache.org/maven2)\n</code></pre>\n\n<p>Obviously it can't determine the fact that it's running on linux so I added </p>\n\n<pre><code>&lt;javafx.platform&gt;sources&lt;/javafx.platform&gt;\n</code></pre>\n\n<p>to the properties division of the pom.xml with no effect. This however has the effect, that other OS try to download the linux version, and aren't capable to run the software anymore (being expected but showing to me that I wrote that property correctly). I'm testing inside a fresh Ubuntu VM and the VM is capable of compiling and running other (non JFX) project fine. I'm officially out of ideas.</p>\n\n<p>Edit: My current pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;swengf&lt;/groupId&gt;\n    &lt;artifactId&gt;china&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ferfehlt&lt;/name&gt;\n    &lt;url&gt;https://projects.isp.uni-luebeck.de/grp_f/sweng_f&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;10&lt;/java.version&gt;\n        &lt;junit.version&gt;5.4.1&lt;/junit.version&gt;\n        &lt;javafx.version&gt;12&lt;/javafx.version&gt;\n        &lt;javafx.platform&gt;linux&lt;/javafx.platform&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;swengf.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n            &lt;version&gt;1.18&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","autoboxing","equivalence"],"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1455712761,"post_id":2021374,"comment_id":58610255,"body_markdown":"@CiroSantilli六四事件法轮功包卓轩 How is it possible mine is a duplicate of that one when mine was asked four years earlier. Let&#39;s at least consider order of events with duplicate posts.","body":"@CiroSantilli六四事件法轮功包卓轩 How is it possible mine is a duplicate of that one when mine was asked four years earlier. Let&#39;s at least consider order of events with duplicate posts."},{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1455713342,"post_id":2021374,"comment_id":58610666,"body_markdown":"http://meta.stackexchange.com/questions/147643/should-i-vote-to-close-a-duplicate-question-even-though-its-much-newer-and-ha","body":"<a href=\"http://meta.stackexchange.com/questions/147643/should-i-vote-to-close-a-duplicate-question-even-though-its-much-newer-and-ha\" title=\"should i vote to close a duplicate question even though its much newer and ha\">meta.stackexchange.com/questions/147643/&hellip;</a>"},{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1455713439,"post_id":2021374,"comment_id":58610740,"body_markdown":"But possible duplicate of http://stackoverflow.com/questions/1700081/why-does-128-128-return-false-but-127-127-return-true-when-converting-to-integ is more appropriate, the previous one was wrong. But maybe both are wrong ;-)","body":"But possible duplicate of <a href=\"http://stackoverflow.com/questions/1700081/why-does-128-128-return-false-but-127-127-return-true-when-converting-to-integ\" title=\"why does 128 128 return false but 127 127 return true when converting to integ\">stackoverflow.com/questions/1700081/&hellip;</a> is more appropriate, the previous one was wrong. But maybe both are wrong ;-)"}],"answers":[{"tags":[],"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1372052871,"creation_date":1262878381,"answer_id":2021413,"question_id":2021374,"body_markdown":"Boxed values between -128 to 127 are cached. Boxing uses `Integer.valueOf` method, which uses the cache. Values outside the range are not cached and always created as a new instance. Since your values fall into the cached range, values are equal using == operator.\r\n\r\nQuote from Java language specification:\r\n\r\n&gt; If the value p being boxed is true,\r\n&gt; false, a byte, a char in the range\r\n&gt; \\u0000 to \\u007f, or an **int or short\r\n&gt; number between -128 and 127, then let\r\n&gt; r1 and r2 be the results of any two\r\n&gt; boxing conversions of p. It is always\r\n&gt; the case that r1 == r2.**\r\n\r\nhttp://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7","title":"Boxed Primitives and Equivalence","body":"<p>Boxed values between -128 to 127 are cached. Boxing uses <code>Integer.valueOf</code> method, which uses the cache. Values outside the range are not cached and always created as a new instance. Since your values fall into the cached range, values are equal using == operator.</p>\n\n<p>Quote from Java language specification:</p>\n\n<blockquote>\n  <p>If the value p being boxed is true,\n  false, a byte, a char in the range\n  \\u0000 to \\u007f, or an <strong>int or short\n  number between -128 and 127, then let\n  r1 and r2 be the results of any two\n  boxing conversions of p. It is always\n  the case that r1 == r2.</strong></p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7\" rel=\"noreferrer\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7</a></p>\n"},{"tags":[],"owner":{"account_id":17915,"reputation":13985,"user_id":40581,"accept_rate":75,"display_name":"David Grant"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1262878488,"creation_date":1262878488,"answer_id":2021426,"question_id":2021374,"body_markdown":"This is what is really happening:\r\n\r\n    Integer c = Integer.valueOf(5);\r\n    Integer d = Integer.valueOf(a.intValue() + b.intValue());\r\n\r\nJava maintains a cache of `Integer` objects between -128 and 127.  Compare with the following:\r\n\r\n    Integer a = 300;\r\n    Integer b = 200;\r\n    Integer c = 500;\r\n    Integer d = a + b;\r\n    System.out.println(c == d);\r\n\r\nWhich should print `false`.","title":"Boxed Primitives and Equivalence","body":"<p>This is what is really happening:</p>\n\n<pre><code>Integer c = Integer.valueOf(5);\nInteger d = Integer.valueOf(a.intValue() + b.intValue());\n</code></pre>\n\n<p>Java maintains a cache of <code>Integer</code> objects between -128 and 127.  Compare with the following:</p>\n\n<pre><code>Integer a = 300;\nInteger b = 200;\nInteger c = 500;\nInteger d = a + b;\nSystem.out.println(c == d);\n</code></pre>\n\n<p>Which should print <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":23037,"reputation":6947,"user_id":57448,"accept_rate":71,"display_name":"Rahel L&#252;thy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1262878589,"creation_date":1262878589,"answer_id":2021442,"question_id":2021374,"body_markdown":"It&#39;s because some of the (auto-boxed) Integers are cached, so you&#39;re actually comparing the same reference -- [this post][1] has more detailed examples and an explanation.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1995113/strangest-language-feature/2001861#2001861","title":"Boxed Primitives and Equivalence","body":"<p>It's because some of the (auto-boxed) Integers are cached, so you're actually comparing the same reference -- <a href=\"https://stackoverflow.com/questions/1995113/strangest-language-feature/2001861#2001861\">this post</a> has more detailed examples and an explanation.</p>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666074889,"creation_date":1262879437,"answer_id":2021560,"question_id":2021374,"body_markdown":"Caching happens outside of autoboxing too, consider this:\r\n\r\n    Integer a = 1;\r\n    Integer b = new Integer(1);\r\n    Integer c = Integer.valueOf(1);\r\n\r\n    System.out.println(a == b);\r\n    System.out.println(b == c);\r\n    System.out.println(c == a);\r\n\r\n\r\nthis will print:\r\n\r\n    false\r\n    false\r\n    true\r\n\r\nGenerally you want to stay away from `==` when comparing Objects \r\n\r\n","title":"Boxed Primitives and Equivalence","body":"<p>Caching happens outside of autoboxing too, consider this:</p>\n<pre><code>Integer a = 1;\nInteger b = new Integer(1);\nInteger c = Integer.valueOf(1);\n\nSystem.out.println(a == b);\nSystem.out.println(b == c);\nSystem.out.println(c == a);\n</code></pre>\n<p>this will print:</p>\n<pre><code>false\nfalse\ntrue\n</code></pre>\n<p>Generally you want to stay away from <code>==</code> when comparing Objects</p>\n"}],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5302,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":2021413,"answer_count":4,"score":17,"last_activity_date":1666074889,"creation_date":1262878162,"question_id":2021374,"body_markdown":"So I was asked this question today.\r\n    \r\n    Integer a = 3;\r\n    Integer b = 2;\r\n    Integer c = 5;\r\n    Integer d = a + b;\r\n    System.out.println(c == d);\r\n\r\nWhat will this program print out?  It returns true. I answered it will always print out false because of how I understood auto (and auto un) boxing.  I was under the impression that assigning Integer a = 3 will create a new Integer(3) so that an == will evaluate the reference rather then the primitive value.\r\n\r\nCan anyone explain this?","title":"Boxed Primitives and Equivalence","body":"<p>So I was asked this question today.</p>\n\n<pre><code>Integer a = 3;\nInteger b = 2;\nInteger c = 5;\nInteger d = a + b;\nSystem.out.println(c == d);\n</code></pre>\n\n<p>What will this program print out?  It returns true. I answered it will always print out false because of how I understood auto (and auto un) boxing.  I was under the impression that assigning Integer a = 3 will create a new Integer(3) so that an == will evaluate the reference rather then the primitive value.</p>\n\n<p>Can anyone explain this?</p>\n"},{"tags":["java","spring-boot","rest","spring-security","spring-test-mvc"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1665487935,"post_id":74024642,"comment_id":130707224,"body_markdown":"Does this answer your question? [@WithMockUser with custom User implementation](https://stackoverflow.com/questions/52861849/withmockuser-with-custom-user-implementation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52861849/withmockuser-with-custom-user-implementation\">@WithMockUser with custom User implementation</a>"},{"owner":{"account_id":15875464,"reputation":163,"user_id":11459084,"display_name":"vivi"},"score":0,"creation_date":1665494077,"post_id":74024642,"comment_id":130709768,"body_markdown":"thanks for the link. It is very interesting however when implementing @WithMockUser the user provided to the controller is not the proper one","body":"thanks for the link. It is very interesting however when implementing @WithMockUser the user provided to the controller is not the proper one"}],"answers":[{"tags":[],"owner":{"account_id":15875464,"reputation":163,"user_id":11459084,"display_name":"vivi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666074873,"creation_date":1666074873,"answer_id":74106635,"question_id":74024642,"body_markdown":"I rewrote the test to initialise the security context within the test\r\n\r\n\r\n```java\r\n@WebMvcTest(RestController.class)\r\n@AutoConfigureMockMvc\r\n@Import(value = {\r\n    CustomAuthenticationFilter.class\r\n})\r\nclass RestControllerTest {\r\n\r\n  @Autowired private MockMvc mockMvc;\r\n  private CustomerUser userMock;\r\n\r\n  @BeforeEach\r\n  public void skipSecurityFilter() {\r\n    userMock = Mockito.mock(CustomUser.class);\r\n  }\r\n\r\n  @Test\r\n  void test() {\r\n    PreAuthenticatedAuthenticationToken(userMock, null, List.of());\r\n    SecurityContextHolder.getContext().setAuthentication(auth);\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/get&quot;).contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.status().isOk());\r\n  }\r\n}\r\n```\r\n\r\nand it works.\r\n\r\nNot sure exactly why the it does not work with the @BeforeEach.","title":"Unit Testing rest controller with @AuthenticationPrincipal","body":"<p>I rewrote the test to initialise the security context within the test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(RestController.class)\n@AutoConfigureMockMvc\n@Import(value = {\n    CustomAuthenticationFilter.class\n})\nclass RestControllerTest {\n\n  @Autowired private MockMvc mockMvc;\n  private CustomerUser userMock;\n\n  @BeforeEach\n  public void skipSecurityFilter() {\n    userMock = Mockito.mock(CustomUser.class);\n  }\n\n  @Test\n  void test() {\n    PreAuthenticatedAuthenticationToken(userMock, null, List.of());\n    SecurityContextHolder.getContext().setAuthentication(auth);\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/get&quot;).contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.status().isOk());\n  }\n}\n</code></pre>\n<p>and it works.</p>\n<p>Not sure exactly why the it does not work with the @BeforeEach.</p>\n"}],"owner":{"account_id":15875464,"reputation":163,"user_id":11459084,"display_name":"vivi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74106635,"answer_count":1,"score":0,"last_activity_date":1666074873,"creation_date":1665474369,"question_id":74024642,"body_markdown":"I am developing a rest api with spring boot and spring security.\r\n\r\nthe code looks like so:\r\n\r\n``` java\r\n@RestController\r\n@RequestMapping(path = &quot;/api&quot;)\r\n@PreAuthorize(&quot;isAuthenticated()&quot;)\r\npublic class RestController {\r\n\r\n  @GetMapping(path = &quot;/get&quot;, produces = &quot;application/json&quot;)\r\n  public ResponseEntity&lt;InDto&gt; get(\r\n      @AuthenticationPrincipal final CustomUser user) {\r\n\r\n    // ...\r\n\r\n    return ResponseEntity.ok(outDto);\r\n  }\r\n}\r\n\r\n\r\npublic class CustomUser {\r\n    // does not inherit from UserDetails\r\n}\r\n\r\n\r\npublic class CustomAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n  @Override\r\n  protected void doFilterInternal(\r\n    @NonNull final HttpServletRequest request,\r\n    @NonNull final HttpServletResponse response,\r\n    @NonNull final FilterChain filterChain)\r\n    throws ServletException, IOException {\r\n\r\n    if (/* condition */) {\r\n      // ...\r\n      final CustomUser user = new CustomUser(/* parameters */);\r\n\r\n      final Authentication authentication =\r\n          new PreAuthenticatedAuthenticationToken(user, &quot;&quot;, new ArrayList&lt;&gt;());\r\n      SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    }\r\n\r\n    filterChain.doFilter(request, response);\r\n  }\r\n}\r\n```\r\n\r\nI would like to unit test the RestController class ideally without the security feature but I don&#39;t know how to inject a specific CustomUser object during test.\r\n\r\nI have tried to manually add a user to the security context before each test (see below) but the user injected into the controller during test is not the mocked on.\r\n\r\n``` java\r\n@WebMvcTest(RestController.class)\r\n@AutoConfigureMockMvc(addFilters = false)\r\nclass RestControllerTest {\r\n\r\n  @Autowired private MockMvc mockMvc;\r\n  private CustomerUser userMock;\r\n\r\n  @BeforeEach\r\n  public void skipSecurityFilter() {\r\n    userMock = Mockito.mock(CustomUser.class);\r\n    SecurityContextHolder.setContext(SecurityContextHolder.createEmptyContext());\r\n    final Authentication auth = new PreAuthenticatedAuthenticationToken(userMock, null, List.of());\r\n    SecurityContextHolder.getContext().setAuthentication(auth);\r\n  }\r\n\r\n  @Test\r\n  void test() {\r\n    mockMvc.perform(\r\n            MockMvcRequestBuilders.get(&quot;/api/get&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.status().isOk());\r\n\r\n  }\r\n}\r\n```\r\n\r\nWhat is wrong? How to inject the specific userMock into the controller to perform the test?\r\n\r\n\r\nEDIT to test with @WithMockCustomUser\r\n\r\nas suggested in the doc https://docs.spring.io/spring-security/reference/servlet/test/method.html#test-method-withsecuritycontext i have updated the test to:\r\n\r\n``` java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@WithSecurityContext(factory = WithMockCustomUserSecurityContextFactory.class)\r\npublic @interface WithMockCustomUser {\r\n}\r\n\r\n@Service\r\npublic class WithMockCustomUserSecurityContextFactory\r\n    implements WithSecurityContextFactory&lt;WithMockCustomUser&gt; {\r\n\r\n  @Override\r\n  public SecurityContext createSecurityContext(final WithMockCustomUser customUser) {\r\n    final SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n\r\n    final Authentication auth =\r\n        new PreAuthenticatedAuthenticationToken(Mockito.mock(IUser.class), null, List.of());\r\n    context.setAuthentication(auth);\r\n    return context;\r\n  }\r\n}\r\n\r\n@WebMvcTest(RestController.class)\r\n@AutoConfigureMockMvc(addFilters = false)\r\nclass RestControllerTest {\r\n\r\n  @Autowired private MockMvc mockMvc;\r\n  private CustomerUser userMock;\r\n\r\n  @BeforeEach\r\n  public void skipSecurityFilter() {\r\n    userMock = Mockito.mock(CustomUser.class);\r\n  }\r\n\r\n  @Test\r\n  @WithMockCustomUser\r\n  void test() {\r\n    mockMvc.perform(\r\n            MockMvcRequestBuilders.get(&quot;/api/get&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.status().isOk());\r\n\r\n  }\r\n}\r\n\r\n```\r\n\r\nbut the user object in the controller is still not the mock (created in the factory)","title":"Unit Testing rest controller with @AuthenticationPrincipal","body":"<p>I am developing a rest api with spring boot and spring security.</p>\n<p>the code looks like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(path = &quot;/api&quot;)\n@PreAuthorize(&quot;isAuthenticated()&quot;)\npublic class RestController {\n\n  @GetMapping(path = &quot;/get&quot;, produces = &quot;application/json&quot;)\n  public ResponseEntity&lt;InDto&gt; get(\n      @AuthenticationPrincipal final CustomUser user) {\n\n    // ...\n\n    return ResponseEntity.ok(outDto);\n  }\n}\n\n\npublic class CustomUser {\n    // does not inherit from UserDetails\n}\n\n\npublic class CustomAuthenticationFilter extends OncePerRequestFilter {\n\n  @Override\n  protected void doFilterInternal(\n    @NonNull final HttpServletRequest request,\n    @NonNull final HttpServletResponse response,\n    @NonNull final FilterChain filterChain)\n    throws ServletException, IOException {\n\n    if (/* condition */) {\n      // ...\n      final CustomUser user = new CustomUser(/* parameters */);\n\n      final Authentication authentication =\n          new PreAuthenticatedAuthenticationToken(user, &quot;&quot;, new ArrayList&lt;&gt;());\n      SecurityContextHolder.getContext().setAuthentication(authentication);\n    }\n\n    filterChain.doFilter(request, response);\n  }\n}\n</code></pre>\n<p>I would like to unit test the RestController class ideally without the security feature but I don't know how to inject a specific CustomUser object during test.</p>\n<p>I have tried to manually add a user to the security context before each test (see below) but the user injected into the controller during test is not the mocked on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(RestController.class)\n@AutoConfigureMockMvc(addFilters = false)\nclass RestControllerTest {\n\n  @Autowired private MockMvc mockMvc;\n  private CustomerUser userMock;\n\n  @BeforeEach\n  public void skipSecurityFilter() {\n    userMock = Mockito.mock(CustomUser.class);\n    SecurityContextHolder.setContext(SecurityContextHolder.createEmptyContext());\n    final Authentication auth = new PreAuthenticatedAuthenticationToken(userMock, null, List.of());\n    SecurityContextHolder.getContext().setAuthentication(auth);\n  }\n\n  @Test\n  void test() {\n    mockMvc.perform(\n            MockMvcRequestBuilders.get(&quot;/api/get&quot;)\n                .contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.status().isOk());\n\n  }\n}\n</code></pre>\n<p>What is wrong? How to inject the specific userMock into the controller to perform the test?</p>\n<p>EDIT to test with @WithMockCustomUser</p>\n<p>as suggested in the doc <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/method.html#test-method-withsecuritycontext\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/test/method.html#test-method-withsecuritycontext</a> i have updated the test to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@WithSecurityContext(factory = WithMockCustomUserSecurityContextFactory.class)\npublic @interface WithMockCustomUser {\n}\n\n@Service\npublic class WithMockCustomUserSecurityContextFactory\n    implements WithSecurityContextFactory&lt;WithMockCustomUser&gt; {\n\n  @Override\n  public SecurityContext createSecurityContext(final WithMockCustomUser customUser) {\n    final SecurityContext context = SecurityContextHolder.createEmptyContext();\n\n    final Authentication auth =\n        new PreAuthenticatedAuthenticationToken(Mockito.mock(IUser.class), null, List.of());\n    context.setAuthentication(auth);\n    return context;\n  }\n}\n\n@WebMvcTest(RestController.class)\n@AutoConfigureMockMvc(addFilters = false)\nclass RestControllerTest {\n\n  @Autowired private MockMvc mockMvc;\n  private CustomerUser userMock;\n\n  @BeforeEach\n  public void skipSecurityFilter() {\n    userMock = Mockito.mock(CustomUser.class);\n  }\n\n  @Test\n  @WithMockCustomUser\n  void test() {\n    mockMvc.perform(\n            MockMvcRequestBuilders.get(&quot;/api/get&quot;)\n                .contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.status().isOk());\n\n  }\n}\n\n</code></pre>\n<p>but the user object in the controller is still not the mock (created in the factory)</p>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"comments":[{"owner":{"account_id":20534898,"reputation":199,"user_id":15071236,"display_name":"Himesh Perera"},"score":0,"creation_date":1665934640,"post_id":74087778,"comment_id":130810421,"body_markdown":"try to put HorizontalScrollView inside a main layout ex:- linear or relative","body":"try to put HorizontalScrollView inside a main layout ex:- linear or relative"}],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666029775,"creation_date":1666029775,"answer_id":74101357,"question_id":74087778,"body_markdown":"In your code you have `android:background=&quot;&quot;` you have not given any value for background attribute in your `&lt;TextView&gt;` whose with `android:id=&quot;@+id/services&quot;`\r\nGive some value for background.\r\n\r\n       &lt;TextView\r\n            android:id=&quot;@+id/services&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:background=&quot;&quot;     //give value here\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Services&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\n\r\n**Note:** Also you can simply your xml code by using `&lt;RecyclerView&gt;` with adapter and item layout. Make layout file for one item only then use recycler view and adapter. To make recycler view horizontal use these two attributes inside recycler view              `app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;`                 `android:orientation=&quot;horizontal&quot;`. Then create an List of items with their values to pass to adapter and adapter will automatically set them. To handle click events you can use interface. So your xml will be simplified a lot. With this you can easily add as many items as you want with your code without making changes to xml. \r\n\r\n","title":"Android resource linking failed (None pre-existing solutions worked)","body":"<p>In your code you have <code>android:background=&quot;&quot;</code> you have not given any value for background attribute in your <code>&lt;TextView&gt;</code> whose with <code>android:id=&quot;@+id/services&quot;</code>\nGive some value for background.</p>\n<pre><code>   &lt;TextView\n        android:id=&quot;@+id/services&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;&quot;     //give value here\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Services&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n</code></pre>\n<p><strong>Note:</strong> Also you can simply your xml code by using <code>&lt;RecyclerView&gt;</code> with adapter and item layout. Make layout file for one item only then use recycler view and adapter. To make recycler view horizontal use these two attributes inside recycler view              <code>app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;</code>                 <code>android:orientation=&quot;horizontal&quot;</code>. Then create an List of items with their values to pass to adapter and adapter will automatically set them. To handle click events you can use interface. So your xml will be simplified a lot. With this you can easily add as many items as you want with your code without making changes to xml.</p>\n"},{"tags":[],"owner":{"account_id":26656130,"reputation":1,"user_id":20269634,"display_name":"a-champagne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666074750,"creation_date":1666074637,"answer_id":74106608,"question_id":74087778,"body_markdown":"You are referencing the TextView `services` in the `hsv_services` HorizontalScrollView as `@+id/services`. \r\n\r\n\r\n    &lt;TextView\r\n                android:id=&quot;@+id/services&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:background=&quot;&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;Services&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n            &lt;HorizontalScrollView\r\n                android:id=&quot;@+id/hsv_services&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/services&quot;\r\n                android:background=&quot;@color/silver&quot;&gt; \r\n\r\n\r\n\r\nYou need to remove the `+` when referencing other view IDs as the `+` is used to note that it is a new resource and should be added to the resources file. \r\n\r\n    &lt;TextView\r\n                android:id=&quot;@+id/services&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:background=&quot;&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;Services&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n            &lt;HorizontalScrollView\r\n                android:id=&quot;@+id/hsv_services&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/services&quot;\r\n                android:background=&quot;@color/silver&quot;&gt; \r\n\r\n\r\n More detailed explanation [here](https://stackoverflow.com/questions/11160954/what-is-the-difference-between-id-and-id)\r\n\r\n","title":"Android resource linking failed (None pre-existing solutions worked)","body":"<p>You are referencing the TextView <code>services</code> in the <code>hsv_services</code> HorizontalScrollView as <code>@+id/services</code>.</p>\n<pre><code>&lt;TextView\n            android:id=&quot;@+id/services&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:background=&quot;&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Services&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;HorizontalScrollView\n            android:id=&quot;@+id/hsv_services&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/services&quot;\n            android:background=&quot;@color/silver&quot;&gt; \n</code></pre>\n<p>You need to remove the <code>+</code> when referencing other view IDs as the <code>+</code> is used to note that it is a new resource and should be added to the resources file.</p>\n<pre><code>&lt;TextView\n            android:id=&quot;@+id/services&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:background=&quot;&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Services&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;HorizontalScrollView\n            android:id=&quot;@+id/hsv_services&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/services&quot;\n            android:background=&quot;@color/silver&quot;&gt; \n</code></pre>\n<p>More detailed explanation <a href=\"https://stackoverflow.com/questions/11160954/what-is-the-difference-between-id-and-id\">here</a></p>\n"}],"owner":{"account_id":22206273,"reputation":1,"user_id":16446131,"display_name":"Shaurya Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666074750,"creation_date":1665929154,"question_id":74087778,"body_markdown":"**Android resource linking failed**\r\n\r\nThere&#39;s no error shown while coding in the XML file but when I debug, it popups an error message saying,&quot;Android resource linking failed&quot;. Commenting the horizontal scroll-views makes the error go away but I need to use it. It&#39;s a fragment layout app. Please provide a solution asap!\r\n\r\n&gt; XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/l1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:weightSum=&quot;1&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_margin=&quot;5dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@color/black&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;MECHDROID&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;28sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/r1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/l1&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/services&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:background=&quot;&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;Services&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n            &lt;HorizontalScrollView\r\n                android:id=&quot;@+id/hsv_services&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/services&quot;\r\n                android:background=&quot;@color/silver&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n    \r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:id=&quot;@+id/web_dev_btn&quot;\r\n                        android:layout_width=&quot;150dp&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        android:layout_margin=&quot;3dp&quot;\r\n                        app:cardCornerRadius=&quot;20dp&quot;\r\n                        app:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                                android:layout_width=&quot;100dp&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                android:src=&quot;@color/black&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n    \r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;Website Development&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:id=&quot;@+id/web_support_btn&quot;\r\n                        android:layout_width=&quot;150dp&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        android:layout_margin=&quot;3dp&quot;\r\n                        app:cardCornerRadius=&quot;20dp&quot;\r\n                        app:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                                android:layout_width=&quot;100dp&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                android:src=&quot;@color/black&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;Website Support&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:id=&quot;@+id/android_dev_btn&quot;\r\n                        android:layout_width=&quot;150dp&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        android:layout_margin=&quot;3dp&quot;\r\n                        app:cardCornerRadius=&quot;20dp&quot;\r\n                        app:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                                android:layout_width=&quot;100dp&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                android:src=&quot;@color/black&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;Android App Development&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:id=&quot;@+id/ios_dev_btn&quot;\r\n                        android:layout_width=&quot;150dp&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        android:layout_margin=&quot;3dp&quot;\r\n                        app:cardCornerRadius=&quot;20dp&quot;\r\n                        app:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                                android:layout_width=&quot;100dp&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                android:src=&quot;@color/black&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;iOS App Development&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:id=&quot;@+id/dm_btn&quot;\r\n                        android:layout_width=&quot;150dp&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        android:layout_margin=&quot;3dp&quot;\r\n                        app:cardCornerRadius=&quot;20dp&quot;\r\n                        app:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                                android:layout_width=&quot;100dp&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                android:src=&quot;@color/black&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;Digital Marketing&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n            &lt;/HorizontalScrollView&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/career&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/hsv_services&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;Career&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n            &lt;HorizontalScrollView\r\n                android:id=&quot;@+id/hsv_career&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/career&quot;\r\n                android:background=&quot;@color/silver&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n    \r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:id=&quot;@+id/electrician_btn&quot;\r\n                        android:layout_width=&quot;150dp&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        android:layout_margin=&quot;3dp&quot;\r\n                        app:cardCornerRadius=&quot;20dp&quot;\r\n                        app:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                                android:layout_width=&quot;100dp&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                android:src=&quot;@color/black&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;Electrician&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:id=&quot;@+id/flutter_dev_btn&quot;\r\n                        android:layout_width=&quot;150dp&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        android:layout_margin=&quot;3dp&quot;\r\n                        app:cardCornerRadius=&quot;20dp&quot;\r\n                        app:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                                android:layout_width=&quot;100dp&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                android:src=&quot;@color/black&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;Flutter Developer&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:id=&quot;@+id/ai_engineer_btn&quot;\r\n                        android:layout_width=&quot;150dp&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        android:layout_margin=&quot;3dp&quot;\r\n                        app:cardCornerRadius=&quot;20dp&quot;\r\n                        app:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                                android:layout_width=&quot;100dp&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                android:src=&quot;@color/black&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;AI Engineer&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:id=&quot;@+id/marketing_manager_btn&quot;\r\n                        android:layout_width=&quot;150dp&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        android:layout_margin=&quot;3dp&quot;\r\n                        app:cardCornerRadius=&quot;20dp&quot;\r\n                        app:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                                android:layout_width=&quot;100dp&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                android:src=&quot;@color/black&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;Marketing Manager&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n            &lt;/HorizontalScrollView&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n&gt; Java\r\n\r\n    package com.mechdroid.mechtech.ui.home;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.lifecycle.ViewModelProvider;\r\n    \r\n    import com.mechdroid.mechtech.databinding.FragmentHomeBinding;\r\n    \r\n    public class HomeFragment extends Fragment {\r\n    \r\n        private FragmentHomeBinding binding;\r\n    \r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n            HomeViewModel homeViewModel =\r\n                    new ViewModelProvider(this).get(HomeViewModel.class);\r\n    \r\n            binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            return root;\r\n        }\r\n    }","title":"Android resource linking failed (None pre-existing solutions worked)","body":"<p><strong>Android resource linking failed</strong></p>\n<p>There's no error shown while coding in the XML file but when I debug, it popups an error message saying,&quot;Android resource linking failed&quot;. Commenting the horizontal scroll-views makes the error go away but I need to use it. It's a fragment layout app. Please provide a solution asap!</p>\n<blockquote>\n<p>XML</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/l1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:weightSum=&quot;1&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@color/black&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;MECHDROID&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;28sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/r1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/l1&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/services&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:background=&quot;&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Services&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;HorizontalScrollView\n            android:id=&quot;@+id/hsv_services&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/services&quot;\n            android:background=&quot;@color/silver&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:id=&quot;@+id/web_dev_btn&quot;\n                    android:layout_width=&quot;150dp&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_margin=&quot;3dp&quot;\n                    app:cardCornerRadius=&quot;20dp&quot;\n                    app:cardElevation=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_horizontal&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=&quot;100dp&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:layout_marginTop=&quot;10dp&quot;\n                            android:src=&quot;@color/black&quot; /&gt;\n\n                        &lt;TextView\n\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:text=&quot;Website Development&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:id=&quot;@+id/web_support_btn&quot;\n                    android:layout_width=&quot;150dp&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_margin=&quot;3dp&quot;\n                    app:cardCornerRadius=&quot;20dp&quot;\n                    app:cardElevation=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_horizontal&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=&quot;100dp&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:layout_marginTop=&quot;10dp&quot;\n                            android:src=&quot;@color/black&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:text=&quot;Website Support&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:id=&quot;@+id/android_dev_btn&quot;\n                    android:layout_width=&quot;150dp&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_margin=&quot;3dp&quot;\n                    app:cardCornerRadius=&quot;20dp&quot;\n                    app:cardElevation=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_horizontal&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=&quot;100dp&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:layout_marginTop=&quot;10dp&quot;\n                            android:src=&quot;@color/black&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:text=&quot;Android App Development&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:id=&quot;@+id/ios_dev_btn&quot;\n                    android:layout_width=&quot;150dp&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_margin=&quot;3dp&quot;\n                    app:cardCornerRadius=&quot;20dp&quot;\n                    app:cardElevation=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_horizontal&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=&quot;100dp&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:layout_marginTop=&quot;10dp&quot;\n                            android:src=&quot;@color/black&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:text=&quot;iOS App Development&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:id=&quot;@+id/dm_btn&quot;\n                    android:layout_width=&quot;150dp&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_margin=&quot;3dp&quot;\n                    app:cardCornerRadius=&quot;20dp&quot;\n                    app:cardElevation=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_horizontal&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=&quot;100dp&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:layout_marginTop=&quot;10dp&quot;\n                            android:src=&quot;@color/black&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:text=&quot;Digital Marketing&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/HorizontalScrollView&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/career&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/hsv_services&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Career&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;HorizontalScrollView\n            android:id=&quot;@+id/hsv_career&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/career&quot;\n            android:background=&quot;@color/silver&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:id=&quot;@+id/electrician_btn&quot;\n                    android:layout_width=&quot;150dp&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_margin=&quot;3dp&quot;\n                    app:cardCornerRadius=&quot;20dp&quot;\n                    app:cardElevation=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_horizontal&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=&quot;100dp&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:layout_marginTop=&quot;10dp&quot;\n                            android:src=&quot;@color/black&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:text=&quot;Electrician&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:id=&quot;@+id/flutter_dev_btn&quot;\n                    android:layout_width=&quot;150dp&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_margin=&quot;3dp&quot;\n                    app:cardCornerRadius=&quot;20dp&quot;\n                    app:cardElevation=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_horizontal&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=&quot;100dp&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:layout_marginTop=&quot;10dp&quot;\n                            android:src=&quot;@color/black&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:text=&quot;Flutter Developer&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:id=&quot;@+id/ai_engineer_btn&quot;\n                    android:layout_width=&quot;150dp&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_margin=&quot;3dp&quot;\n                    app:cardCornerRadius=&quot;20dp&quot;\n                    app:cardElevation=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_horizontal&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=&quot;100dp&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:layout_marginTop=&quot;10dp&quot;\n                            android:src=&quot;@color/black&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:text=&quot;AI Engineer&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:id=&quot;@+id/marketing_manager_btn&quot;\n                    android:layout_width=&quot;150dp&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    android:layout_margin=&quot;3dp&quot;\n                    app:cardCornerRadius=&quot;20dp&quot;\n                    app:cardElevation=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_horizontal&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=&quot;100dp&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:layout_marginTop=&quot;10dp&quot;\n                            android:src=&quot;@color/black&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:text=&quot;Marketing Manager&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/androidx.cardview.widget.CardView&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/HorizontalScrollView&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<blockquote>\n<p>Java</p>\n</blockquote>\n<pre><code>package com.mechdroid.mechtech.ui.home;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport com.mechdroid.mechtech.databinding.FragmentHomeBinding;\n\npublic class HomeFragment extends Fragment {\n\n    private FragmentHomeBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel homeViewModel =\n                new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        return root;\n    }\n}\n</code></pre>\n"},{"tags":["java","ubuntu","ssh","javafx","x11"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1389878421,"creation_date":1389878421,"answer_id":21162967,"question_id":21162383,"body_markdown":"I don&#39;t think JavaFX 2.x supports running in a headless mode.  I don&#39;t know of any workaround.\r\n\r\nFor further info see the JavaFX issue tracker feature request: [RT-34241 Use of WebEngine in a headless system](https://javafx-jira.kenai.com/browse/RT-34241), currently scheduled for implementation for Java 9.","title":"Deploy JavaFX on Ubuntu server without display","body":"<p>I don't think JavaFX 2.x supports running in a headless mode.  I don't know of any workaround.</p>\n\n<p>For further info see the JavaFX issue tracker feature request: <a href=\"https://javafx-jira.kenai.com/browse/RT-34241\" rel=\"nofollow\">RT-34241 Use of WebEngine in a headless system</a>, currently scheduled for implementation for Java 9.</p>\n"},{"tags":[],"owner":{"account_id":2270908,"reputation":3270,"user_id":2313177,"accept_rate":59,"display_name":"Andriy Kryvtsun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465569904,"creation_date":1465507745,"answer_id":37736517,"question_id":21162383,"body_markdown":"I had almost the same problem\r\n\r\n    Failed in XOpenDisplay\r\n    (java:2593): Gtk-WARNING **: cannot open display:\r\n\r\nwhile running unit tests for my JavaFX application in headless Ubuntu docker container on [Travis CI](http://travis-ci.com). \r\n\r\nThe solution is installing X Virtual Framebuffer (xvfb) in the container to imitate a display presents via the container configuration change in `.travis.yml`\r\n\r\n    before_script:\r\n      - &quot;export DISPLAY=:99.0&quot;\r\n      - &quot;sh -e /etc/init.d/xvfb start&quot;\r\n      - sleep 3 # give xvfb some time to start\r\n\r\nThis allows JavaFX successfully initialize it&#39;s core and create JavaFX components without actually showing them on screen.\r\n\r\nSee details of this solution in article [Using xvfb to Run Tests That Require a GUI ](https://docs.travis-ci.com/user/gui-and-headless-browsers/#Using-xvfb-to-Run-Tests-That-Require-a-GUI)","title":"Deploy JavaFX on Ubuntu server without display","body":"<p>I had almost the same problem</p>\n\n<pre><code>Failed in XOpenDisplay\n(java:2593): Gtk-WARNING **: cannot open display:\n</code></pre>\n\n<p>while running unit tests for my JavaFX application in headless Ubuntu docker container on <a href=\"http://travis-ci.com\" rel=\"nofollow\">Travis CI</a>. </p>\n\n<p>The solution is installing X Virtual Framebuffer (xvfb) in the container to imitate a display presents via the container configuration change in <code>.travis.yml</code></p>\n\n<pre><code>before_script:\n  - \"export DISPLAY=:99.0\"\n  - \"sh -e /etc/init.d/xvfb start\"\n  - sleep 3 # give xvfb some time to start\n</code></pre>\n\n<p>This allows JavaFX successfully initialize it's core and create JavaFX components without actually showing them on screen.</p>\n\n<p>See details of this solution in article <a href=\"https://docs.travis-ci.com/user/gui-and-headless-browsers/#Using-xvfb-to-Run-Tests-That-Require-a-GUI\" rel=\"nofollow\">Using xvfb to Run Tests That Require a GUI </a></p>\n"},{"tags":[],"owner":{"account_id":26614880,"reputation":1,"user_id":20234478,"display_name":"Dharshan BJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666074675,"creation_date":1665688856,"answer_id":74060792,"question_id":21162383,"body_markdown":"Running `dbus-update-activation-environment --systemd DISPLAY XAUTHORITY` in that shell before launching the UI app fixed this issue for me.","title":"Deploy JavaFX on Ubuntu server without display","body":"<p>Running <code>dbus-update-activation-environment --systemd DISPLAY XAUTHORITY</code> in that shell before launching the UI app fixed this issue for me.</p>\n"}],"owner":{"account_id":930553,"reputation":4996,"user_id":960504,"accept_rate":62,"display_name":"RDM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3571,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":21162967,"answer_count":3,"score":5,"last_activity_date":1666074675,"creation_date":1389876834,"question_id":21162383,"body_markdown":"I&#39;m developing a JavaFX application using jdk1.7.0_51 on Mac OS X (10.9.1) in Netbeans. I can run it without a problem and after a clean build I can also launch the jar from the dist/ folder.\r\n\r\nNow I want to deploy this on a 64 bit Ubuntu 13.04 server. I&#39;ve had a lot of issues doing this but have finally set up the server to have the correct JRE, fonts and libraries. Running the jar resulted in errors going way deeper than my code (going to UnsatisfiedLinks to native libraries where MACOS was mentioned) so I figured it would be best to package my app on Ubuntu itself. I ended up installing NetBeans to make a new (native) JavaFX project and uploaded the src/ and lib/ folders from my machine using sftp. Running the code through the reconstructed project in NetBeans works fine, though I get a warning in the console during run:\r\n\r\n    libGL error: failed to load driver: swrast\r\n    libGL error: Try again with LIBGL_DEBUG=verbose for more details.\r\n    Prism-ES2 Error : GL_VERSION (major.minor) = 1.4\r\n\r\nRegardless, the application DOES run. After a clean build, I can similarly run the jar from the dist/ folder. The same warning appears in the terminal but then the application launches.\r\n\r\nHowever, if I ssh to the server without the -X flag and try to run the application, I get the following:\r\n\r\n    Failed in XOpenDisplay\r\n    (java:29341): Gtk-WARNING **: cannot open display: \r\n\r\nHowever, my application does not have a UI. It simply uses JavaFX for the WebEngine (this is required and can not be changed). I was wondering if anyone knows if (and if so, how) it&#39;s possible to launch my JavaFX jar without a display (to just run as a daemon on the server).\r\n\r\nKind regards,\r\nWarkst\r\n\r\n**EDIT:**\r\n\r\nI&#39;ve tried some things described here: https://stackoverflow.com/questions/10165761/java-cant-connect-to-x11-window-server-using-localhost10-0-as-the-value-of-t?rq=1\r\n\r\n    You need to specify the -Djava.awt.headless=true parameter at startup time.\r\n\r\n(Assuming I&#39;m doing it right with the command `java -Djava.awt.headless=true -jar MyApp.jar`), this yielded no results (the same errors occur).\r\n\r\n    export DISPLAY=:0\r\n\r\nStill no result, though the error obviously changed slightly to now read:\r\n\r\n    (java:30765): Gtk-WARNING **: cannot open display: :0\r\n\r\nThen finally I also tried the following:\r\n\r\n    unset DISPLAY\r\n\r\nThis resulted in the original error (where obviously DISPLAY was not set).","title":"Deploy JavaFX on Ubuntu server without display","body":"<p>I'm developing a JavaFX application using jdk1.7.0_51 on Mac OS X (10.9.1) in Netbeans. I can run it without a problem and after a clean build I can also launch the jar from the dist/ folder.</p>\n\n<p>Now I want to deploy this on a 64 bit Ubuntu 13.04 server. I've had a lot of issues doing this but have finally set up the server to have the correct JRE, fonts and libraries. Running the jar resulted in errors going way deeper than my code (going to UnsatisfiedLinks to native libraries where MACOS was mentioned) so I figured it would be best to package my app on Ubuntu itself. I ended up installing NetBeans to make a new (native) JavaFX project and uploaded the src/ and lib/ folders from my machine using sftp. Running the code through the reconstructed project in NetBeans works fine, though I get a warning in the console during run:</p>\n\n<pre><code>libGL error: failed to load driver: swrast\nlibGL error: Try again with LIBGL_DEBUG=verbose for more details.\nPrism-ES2 Error : GL_VERSION (major.minor) = 1.4\n</code></pre>\n\n<p>Regardless, the application DOES run. After a clean build, I can similarly run the jar from the dist/ folder. The same warning appears in the terminal but then the application launches.</p>\n\n<p>However, if I ssh to the server without the -X flag and try to run the application, I get the following:</p>\n\n<pre><code>Failed in XOpenDisplay\n(java:29341): Gtk-WARNING **: cannot open display: \n</code></pre>\n\n<p>However, my application does not have a UI. It simply uses JavaFX for the WebEngine (this is required and can not be changed). I was wondering if anyone knows if (and if so, how) it's possible to launch my JavaFX jar without a display (to just run as a daemon on the server).</p>\n\n<p>Kind regards,\nWarkst</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I've tried some things described here: <a href=\"https://stackoverflow.com/questions/10165761/java-cant-connect-to-x11-window-server-using-localhost10-0-as-the-value-of-t?rq=1\">Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable</a></p>\n\n<pre><code>You need to specify the -Djava.awt.headless=true parameter at startup time.\n</code></pre>\n\n<p>(Assuming I'm doing it right with the command <code>java -Djava.awt.headless=true -jar MyApp.jar</code>), this yielded no results (the same errors occur).</p>\n\n<pre><code>export DISPLAY=:0\n</code></pre>\n\n<p>Still no result, though the error obviously changed slightly to now read:</p>\n\n<pre><code>(java:30765): Gtk-WARNING **: cannot open display: :0\n</code></pre>\n\n<p>Then finally I also tried the following:</p>\n\n<pre><code>unset DISPLAY\n</code></pre>\n\n<p>This resulted in the original error (where obviously DISPLAY was not set).</p>\n"},{"tags":["java","google-bigquery","google-groups"],"owner":{"account_id":25151582,"reputation":11,"user_id":18996848,"display_name":"multiverse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666073943,"creation_date":1666073943,"question_id":74106505,"body_markdown":"I am new to google cloud. I am currently working on **Bigquery**.  For a project in bigquery, I am creating Authorized views through **java** using service account which is created in Bigquery. In this process I am in a situation where I have to create Authorized view for members of google group. For this I have thought about fetching the member of a google group and restricting / granting views accordingly.  Well I searched [here][1] the google documentation, but I couldn&#39;t understand the credentials.json part.  \r\n\r\n 1. For Bigquery in order to access from the java, we are creating a service account identified by a json file, so does this means I have to have two json file in my java code (one for bigquery and one for google groups) ? \r\n\r\n 2. And can any one share a link or any resource of a java code that fetches list of member of a gmail group.\r\n\r\n 3. Finally in order access the google apps like drive, gmail, etc through java do we need separate json file for each?\r\n\r\n Thank you.\r\n  \r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://developers.google.com/admin-sdk/directory/v1/quickstart/java#prerequisites","title":"Using Java how to get the list of members from a google group","body":"<p>I am new to google cloud. I am currently working on <strong>Bigquery</strong>.  For a project in bigquery, I am creating Authorized views through <strong>java</strong> using service account which is created in Bigquery. In this process I am in a situation where I have to create Authorized view for members of google group. For this I have thought about fetching the member of a google group and restricting / granting views accordingly.  Well I searched <a href=\"https://developers.google.com/admin-sdk/directory/v1/quickstart/java#prerequisites\" rel=\"nofollow noreferrer\">here</a> the google documentation, but I couldn't understand the credentials.json part.</p>\n<ol>\n<li><p>For Bigquery in order to access from the java, we are creating a service account identified by a json file, so does this means I have to have two json file in my java code (one for bigquery and one for google groups) ?</p>\n</li>\n<li><p>And can any one share a link or any resource of a java code that fetches list of member of a gmail group.</p>\n</li>\n<li><p>Finally in order access the google apps like drive, gmail, etc through java do we need separate json file for each?</p>\n</li>\n</ol>\n<p>Thank you.</p>\n"},{"tags":["java","kotlin","serialization","rest-assured","web-api-testing"],"comments":[{"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"score":0,"creation_date":1665420692,"post_id":73988989,"comment_id":130691240,"body_markdown":"The class that you are trying to convert to map, does it have only primitive types and strings or can it also have a list, map or another data class inside?","body":"The class that you are trying to convert to map, does it have only primitive types and strings or can it also have a list, map or another data class inside?"},{"owner":{"account_id":3843692,"reputation":1119,"user_id":3185964,"accept_rate":81,"display_name":"ᴜsᴇʀ"},"score":0,"creation_date":1665480962,"post_id":73988989,"comment_id":130704800,"body_markdown":"@ArpitShukla It can have also lists or other classes.","body":"@ArpitShukla It can have also lists or other classes."},{"owner":{"account_id":3843692,"reputation":1119,"user_id":3185964,"accept_rate":81,"display_name":"ᴜsᴇʀ"},"score":0,"creation_date":1666021190,"post_id":73988989,"comment_id":130830943,"body_markdown":"@ArpitShukla List in particular; I can avoid using other classes if you have any idea.","body":"@ArpitShukla List in particular; I can avoid using other classes if you have any idea."}],"answers":[{"tags":[],"owner":{"account_id":6753742,"reputation":1209,"user_id":5202960,"display_name":"Vinujan.S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666073826,"creation_date":1665934017,"answer_id":74088342,"question_id":73988989,"body_markdown":"According to the rest-assured java documentation, it doesn&#39;t have an interface to pass an object as argument for `params`\r\n\r\nref - https://www.javadoc.io/doc/io.rest-assured/rest-assured/latest/io/restassured/specification/RequestSpecification.html\r\n\r\naviailable params interfaces\r\n\r\n```\r\nRequestSpecification params(String firstParameterName,\r\n                            Object firstParameterValue,\r\n                            Object... parameterNameValuePairs)\r\n```\r\n\r\nand \r\n\r\n```\r\nRequestSpecification params(Map&lt;String,?&gt; parametersMap)\r\n\r\n```\r\n\r\nSeems map is the only way here, we could do a workaround for this by converting object to map\r\n\r\nyou could use approaches mentioned here for converting data class to map - https://www.baeldung.com/kotlin/data-class-to-map\r\n\r\nPlease let me know if you need any help on any of the appoaches","title":"Convert class to parameters map in REST Assured","body":"<p>According to the rest-assured java documentation, it doesn't have an interface to pass an object as argument for <code>params</code></p>\n<p>ref - <a href=\"https://www.javadoc.io/doc/io.rest-assured/rest-assured/latest/io/restassured/specification/RequestSpecification.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/io.rest-assured/rest-assured/latest/io/restassured/specification/RequestSpecification.html</a></p>\n<p>aviailable params interfaces</p>\n<pre><code>RequestSpecification params(String firstParameterName,\n                            Object firstParameterValue,\n                            Object... parameterNameValuePairs)\n</code></pre>\n<p>and</p>\n<pre><code>RequestSpecification params(Map&lt;String,?&gt; parametersMap)\n\n</code></pre>\n<p>Seems map is the only way here, we could do a workaround for this by converting object to map</p>\n<p>you could use approaches mentioned here for converting data class to map - <a href=\"https://www.baeldung.com/kotlin/data-class-to-map\" rel=\"nofollow noreferrer\">https://www.baeldung.com/kotlin/data-class-to-map</a></p>\n<p>Please let me know if you need any help on any of the appoaches</p>\n"}],"owner":{"account_id":3843692,"reputation":1119,"user_id":3185964,"accept_rate":81,"display_name":"ᴜsᴇʀ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666073826,"creation_date":1665154218,"question_id":73988989,"body_markdown":"I have the following class:\r\n\r\n```\r\ndata class Person(\r\n    val name: String,\r\n    val surname: String,\r\n    val age: Int\r\n}\r\n```\r\n\r\nand I want to do this:\r\n\r\n```\r\nval person = Person(&quot;John&quot;, &quot;Locke&quot;, 66)\r\n\r\nGiven {\r\n\tparams(person)\r\n} When {\r\n\tpost(&quot;/api/example&quot;)\r\n}\r\n```\r\n\r\nObviously it doesn&#39;t work, because `params()` needs a Map.\r\n\r\nI would like to be able to do something like what you can do with JSONs:\r\n\r\n```\r\n@Serializable\r\ndata class Person(\r\n    @JsonProperty(&quot;name&quot;)\r\n    val name: String,\r\n    @JsonProperty(&quot;surname&quot;)\r\n    val surname: String,\r\n    @JsonProperty(&quot;age&quot;)\r\n    val age: Int\r\n}\r\n```\r\n\r\n```\r\nval person = Person(&quot;John&quot;, &quot;Locke&quot;, 66)\r\n\r\nGiven {\r\n\tbody(person)\r\n} When {\r\n\tpost(&quot;/api/example&quot;)\r\n}\r\n```\r\n\r\nIs it possible?","title":"Convert class to parameters map in REST Assured","body":"<p>I have the following class:</p>\n<pre><code>data class Person(\n    val name: String,\n    val surname: String,\n    val age: Int\n}\n</code></pre>\n<p>and I want to do this:</p>\n<pre><code>val person = Person(&quot;John&quot;, &quot;Locke&quot;, 66)\n\nGiven {\n    params(person)\n} When {\n    post(&quot;/api/example&quot;)\n}\n</code></pre>\n<p>Obviously it doesn't work, because <code>params()</code> needs a Map.</p>\n<p>I would like to be able to do something like what you can do with JSONs:</p>\n<pre><code>@Serializable\ndata class Person(\n    @JsonProperty(&quot;name&quot;)\n    val name: String,\n    @JsonProperty(&quot;surname&quot;)\n    val surname: String,\n    @JsonProperty(&quot;age&quot;)\n    val age: Int\n}\n</code></pre>\n<pre><code>val person = Person(&quot;John&quot;, &quot;Locke&quot;, 66)\n\nGiven {\n    body(person)\n} When {\n    post(&quot;/api/example&quot;)\n}\n</code></pre>\n<p>Is it possible?</p>\n"},{"tags":["java","ant","junit","testing"],"comments":[{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":0,"creation_date":1237794139,"post_id":672466,"comment_id":486098,"body_markdown":"Does your tests work in Eclipse/NetBeans/your favourite IDE?","body":"Does your tests work in Eclipse/NetBeans/your favourite IDE?"},{"owner":{"account_id":21692,"reputation":18582,"user_id":52954,"accept_rate":78,"display_name":"LiorH"},"score":0,"creation_date":1237794913,"post_id":672466,"comment_id":486111,"body_markdown":"I use eclipse. Actually there is no problem there, somehow eclipse doesn&#39;t try to run these classes. I wonder how?","body":"I use eclipse. Actually there is no problem there, somehow eclipse doesn&#39;t try to run these classes. I wonder how?"},{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":0,"creation_date":1237795351,"post_id":672466,"comment_id":486117,"body_markdown":"I don&#39;t know if we understood your question. Please re-read your question and probably add some more information.","body":"I don&#39;t know if we understood your question. Please re-read your question and probably add some more information."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1237795632,"post_id":672466,"comment_id":486128,"body_markdown":"@guerda: The question seems pretty clear to me. His Ant task is finding classes which don&#39;t contain tests, because the filter is picking up the utility class. Hence my answer, which I still believe is entirely relevant.","body":"@guerda: The question seems pretty clear to me. His Ant task is finding classes which don&#39;t contain tests, because the filter is picking up the utility class. Hence my answer, which I still believe is entirely relevant."},{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":0,"creation_date":1237795884,"post_id":672466,"comment_id":486130,"body_markdown":"LiorH: Thanks for clarification, so my answer is waste :)","body":"LiorH: Thanks for clarification, so my answer is waste :)"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":6,"up_vote_count":58,"is_accepted":true,"score":52,"last_activity_date":1237794300,"creation_date":1237794300,"answer_id":672497,"question_id":672466,"body_markdown":"Assuming you&#39;re in control of the pattern used to find test classes, I&#39;d suggest changing it to match `*Test` rather than `*Test*`. That way `TestHelper` won&#39;t get matched, but `FooTest` will.","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>Assuming you're in control of the pattern used to find test classes, I'd suggest changing it to match <code>*Test</code> rather than <code>*Test*</code>. That way <code>TestHelper</code> won't get matched, but <code>FooTest</code> will.</p>\n"},{"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1237800691,"creation_date":1237800691,"answer_id":672688,"question_id":672466,"body_markdown":"What about adding an empty test method to these classes? \r\n\r\n    public void avoidAnnoyingErrorMessageWhenRunningTestsInAnt() {\r\n        assertTrue(true); // do nothing;\r\n    }","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>What about adding an empty test method to these classes? </p>\n\n<pre><code>public void avoidAnnoyingErrorMessageWhenRunningTestsInAnt() {\n    assertTrue(true); // do nothing;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4977,"reputation":1752,"user_id":7764,"display_name":"JoelPM"},"down_vote_count":8,"up_vote_count":152,"is_accepted":false,"score":144,"last_activity_date":1244744167,"creation_date":1244744167,"answer_id":982764,"question_id":672466,"body_markdown":"Annotate your util classes with @Ignore. This will cause JUnit not to try and run them as tests.","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>Annotate your util classes with @Ignore. This will cause JUnit not to try and run them as tests.</p>\n"},{"tags":[],"owner":{"account_id":70075,"reputation":5526,"user_id":203573,"accept_rate":67,"display_name":"gmoore"},"down_vote_count":1,"up_vote_count":88,"is_accepted":false,"score":87,"last_activity_date":1276187680,"creation_date":1276187680,"answer_id":3016401,"question_id":672466,"body_markdown":"My specific case has the following scenario.  Our tests \r\n\r\n    public class VenueResourceContainerTest extends BaseTixContainerTest\r\n\r\nall extend \r\n\r\n    BaseTixContainerTest\r\n\r\nand JUnit was trying to run BaseTixContainerTest.  Poor BaseTixContainerTest was just trying to setup the container, setup the client, order some pizza and relax... man.  \r\n\r\nAs mentioned previously, you can annotate the class with \r\n\r\n    @Ignore\r\n\r\nBut that caused JUnit to report that test as skipped (as opposed to completely ignored).  \r\n\r\n    Tests run: 4, Failures: 0, Errors: 0, Skipped: 1\r\n\r\nThat kind of irritated me. \r\n\r\nSo I made BaseTixContainerTest abstract, and now JUnit truly ignores it.\r\n\r\n    Tests run: 3, Failures: 0, Errors: 0, Skipped: 0","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>My specific case has the following scenario.  Our tests </p>\n\n<pre><code>public class VenueResourceContainerTest extends BaseTixContainerTest\n</code></pre>\n\n<p>all extend </p>\n\n<pre><code>BaseTixContainerTest\n</code></pre>\n\n<p>and JUnit was trying to run BaseTixContainerTest.  Poor BaseTixContainerTest was just trying to setup the container, setup the client, order some pizza and relax... man.  </p>\n\n<p>As mentioned previously, you can annotate the class with </p>\n\n<pre><code>@Ignore\n</code></pre>\n\n<p>But that caused JUnit to report that test as skipped (as opposed to completely ignored).  </p>\n\n<pre><code>Tests run: 4, Failures: 0, Errors: 0, Skipped: 1\n</code></pre>\n\n<p>That kind of irritated me. </p>\n\n<p>So I made BaseTixContainerTest abstract, and now JUnit truly ignores it.</p>\n\n<pre><code>Tests run: 3, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23873,"reputation":5200,"user_id":60229,"accept_rate":100,"display_name":"froh42"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1337678330,"creation_date":1337678330,"answer_id":10699141,"question_id":672466,"body_markdown":"To prevent JUnit from instantiating your test base class just make it \r\n\r\n    public abstract class MyTestBaseClass { ... whatever... }\r\n\r\n(@Ignore reports it as ignored which I reserve for *temporarily* ignored tests.)\r\n\r\n","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>To prevent JUnit from instantiating your test base class just make it </p>\n\n<pre><code>public abstract class MyTestBaseClass { ... whatever... }\n</code></pre>\n\n<p>(@Ignore reports it as ignored which I reserve for <em>temporarily</em> ignored tests.)</p>\n"},{"tags":[],"owner":{"account_id":482077,"reputation":716,"user_id":896262,"accept_rate":55,"display_name":"Rahul Vig"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1366747292,"creation_date":1366747292,"answer_id":16178116,"question_id":672466,"body_markdown":"I was also facing a similar issue (&quot;no runnable methods..&quot;) on running the simplest of simple piece of code (Using @Test, @Before etc.) and found the solution nowhere. I was using Junit4 and Eclipse SDK version 4.1.2. Resolved my problem by using the latest Eclipse SDK 4.2.2. I hope this helps people who are struggling with a somewhat similar issue.","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>I was also facing a similar issue (\"no runnable methods..\") on running the simplest of simple piece of code (Using @Test, @Before etc.) and found the solution nowhere. I was using Junit4 and Eclipse SDK version 4.1.2. Resolved my problem by using the latest Eclipse SDK 4.2.2. I hope this helps people who are struggling with a somewhat similar issue.</p>\n"},{"tags":[],"owner":{"account_id":1921540,"reputation":1030,"user_id":1732941,"display_name":"mc1arke"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1560949956,"creation_date":1396302250,"answer_id":22772804,"question_id":672466,"body_markdown":"Ant now comes with the `skipNonTests` attribute which was designed to do exactly what you seem to be looking for. No need to change your base classes to abstract or add annotations to them.","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>Ant now comes with the <code>skipNonTests</code> attribute which was designed to do exactly what you seem to be looking for. No need to change your base classes to abstract or add annotations to them.</p>\n"},{"tags":[],"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1520108730,"creation_date":1438646587,"answer_id":31798648,"question_id":672466,"body_markdown":"Be careful when using an IDE&#39;s code-completion to add the import for `@Test`. \n\nIt has to be `import org.junit.Test` and not `import org.testng.annotations.Test`, for example. If you do the latter, you&#39;ll get the &quot;no runnable methods&quot; error.","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>Be careful when using an IDE's code-completion to add the import for <code>@Test</code>. </p>\n\n<p>It has to be <code>import org.junit.Test</code> and not <code>import org.testng.annotations.Test</code>, for example. If you do the latter, you'll get the \"no runnable methods\" error.</p>\n"},{"tags":[],"owner":{"account_id":2524791,"reputation":3884,"user_id":2194364,"accept_rate":77,"display_name":"Raghu K Nair"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1454453121,"creation_date":1454453121,"answer_id":35165262,"question_id":672466,"body_markdown":"1. If this is your base test class for example AbstractTest  and all your tests extends this  then define this class as **abstract**\r\n2. If it is Util class then better remove *Test from the class rename it is MyTestUtil or Utils etc. ","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<ol>\n<li>If this is your base test class for example AbstractTest  and all your tests extends this  then define this class as <strong>abstract</strong></li>\n<li>If it is Util class then better remove *Test from the class rename it is MyTestUtil or Utils etc. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6249645,"reputation":51,"user_id":6322600,"display_name":"illuminatos"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1521725891,"creation_date":1521725891,"answer_id":49430169,"question_id":672466,"body_markdown":"In your test class if wrote import org.junit.jupiter.api.Test; delete it and write import org.junit.Test; In this case it worked me as well.","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>In your test class if wrote import org.junit.jupiter.api.Test; delete it and write import org.junit.Test; In this case it worked me as well.</p>\n"},{"tags":[],"owner":{"account_id":13584660,"reputation":41,"user_id":9799706,"display_name":"AKASH DUBEY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666073754,"creation_date":1666073754,"answer_id":74106471,"question_id":672466,"body_markdown":"I also faced the same issue once. In my case I was running my tests using Enclosed Runner of Junit. I created a class called SharedSetup to enable common features for my 2 test classes. But somehow facing the same issue.\r\n\r\n    @RunWith(Enclosed.class)\r\n    public class StructApprovalNodeTest {\r\n\r\n    abstract static class SharedSetup {\r\n\r\n        StructApprovalNode sut;\r\n\r\n        ExecutionContext ctx = mock(ExecutionContext.class);\r\n        DTDDAOService dtd = mock(DTDDAOService.class);\r\n\r\n        @Rule\r\n        public ExpectedException expectedException = ExpectedException.none();\r\n\r\n        @Before\r\n        public void before() throws Exception {\r\n            PowerMockito.mockStatic(ServiceHelper.class);\r\n\r\n            when(ServiceHelper.getService(&quot;dtd&quot;)).thenReturn(dtd);\r\n            when(ctx.getContextInstance()).thenReturn(mock(ContextInstance.class));\r\n\r\n            when(dtd.getLatestStructures(Matchers.anyInt(), Matchers.anyString(), Matchers.anyString())).thenReturn(\r\n                    new ArrayList&lt;Trade&gt;());\r\n\r\n            sut = new StructApprovalNode();\r\n            spy(sut);\r\n        }\r\n    }\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ ServiceHelper.class, StructApprovalNode.class })\r\n    @PowerMockIgnore(&quot;javax.management.*&quot;)\r\n    @PowerMockRunnerDelegate(Parameterized.class)\r\n    public static class ParamaterizedBatchTest extends SharedSetup {\r\n\r\n        private String batchName;\r\n        private String approvalStatus;\r\n\r\n        public ParamaterizedBatchTest(String batchName, String approvalStatus) {\r\n            this.batchName = batchName;\r\n            this.approvalStatus = approvalStatus;\r\n        }\r\n\r\n        @Parameterized.Parameters\r\n        public static Collection testValues() {\r\n            return Arrays.asList(new Object[][] {\r\n                    { &quot;SDC_HK_AUTOMATION_BATCH&quot;, Constants.APRVLSTATUS_APPROVED },\r\n                    { &quot;SDC_PB_AUTOMATION_BATCH&quot;, Constants.APRVLSTATUS_APPROVED },\r\n                    { &quot;SDC_FX_AUTOMATION_BATCH&quot;, Constants.APRVLSTATUS_APPROVED }\r\n            });\r\n        }\r\n\r\n        @Test\r\n        public void test1_SDCBatchSourceSystems() throws Exception {\r\n            Trade trade = new Trade();\r\n            String tradeXml = FileHelper.getResourceFromJar(&quot;/testdata/SDC_BATCH_TRADE_XML.xml&quot;);\r\n            trade.setTradeXml(tradeXml);\r\n            trade.setTradeDoc(XmlHelper.createDocument(trade.getTradeXml()));\r\n            trade.setStatus(Constants.STATUS_LIVE);\r\n            trade.setSourceSystem(this.batchName);\r\n\r\n            when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\r\n            when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(null);\r\n\r\n            sut.execute(ctx);\r\n\r\n            PowerMockito.verifyPrivate(sut, times(1)).invoke(&quot;resetApprovalDetails&quot;, trade);\r\n            Assert.assertEquals(this.approvalStatus, trade.getApprovalStatus());\r\n        }\r\n\r\n    }\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ ServiceHelper.class, StructApprovalNode.class })\r\n    @PowerMockIgnore(&quot;javax.management.*&quot;)\r\n    public static class NonParamaterizedBatchTest extends SharedSetup {\r\n\r\n        @Test\r\n        public void test2_PrevInvalidTrade() throws Exception {\r\n            expectedException.expect(Exception.class);\r\n            expectedException.expectMessage(&quot;External Id of STRUCTURE_TRADE cannot be changed.&quot;);\r\n\r\n            Trade trade = new Trade();\r\n            trade.setExternalId(123);\r\n            PrevTrade prevTrade = new PrevTrade();\r\n            prevTrade.setExternalId(1234);\r\n\r\n            when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\r\n            when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(prevTrade);\r\n\r\n            sut.execute(ctx);\r\n        }\r\n\r\n        @Test\r\n        public void test3_ValidPrevTrade() throws Exception {\r\n            Trade trade = new Trade();\r\n            String tradeXml = FileHelper.getResourceFromJar(&quot;/testdata/SDC_BATCH_TRADE_XML.xml&quot;);\r\n            trade.setTradeXml(tradeXml);\r\n            trade.setTradeDoc(XmlHelper.createDocument(trade.getTradeXml()));\r\n            trade.setStatus(Constants.STATUS_LIVE);\r\n            trade.setSourceSystem(&quot;BATCH&quot;);\r\n            trade.setExternalId(1277402441);\r\n\r\n            PrevTrade prevTrade = new PrevTrade();\r\n            prevTrade.setExternalId(1277402441);\r\n\r\n            when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\r\n            when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(prevTrade);\r\n\r\n            sut.execute(ctx);\r\n\r\n            PowerMockito.verifyPrivate(sut, times(1)).invoke(&quot;resetApprovalDetails&quot;, trade);\r\n            Assert.assertEquals(&quot;APPROVED&quot;, trade.getApprovalStatus());\r\n        }\r\n\r\n        @Test\r\n        public void test4_ValidPrevTradeAutoApprpve() throws Exception {\r\n            Trade trade = new Trade();\r\n            String tradeXml = FileHelper.getResourceFromJar(&quot;/testdata/SDC_BATCH_TRADE_XML_AUTO_APPRV.xml&quot;);\r\n            trade.setTradeXml(tradeXml);\r\n            trade.setTradeDoc(XmlHelper.createDocument(trade.getTradeXml()));\r\n            trade.setStatus(Constants.STATUS_LIVE);\r\n            trade.setSourceSystem(&quot;BATCH&quot;);\r\n            trade.setExternalId(1277402441);\r\n\r\n            PrevTrade prevTrade = new PrevTrade();\r\n            prevTrade.setExternalId(1277402441);\r\n            prevTrade.setApprovalStatus(Constants.APRVLSTATUS_NOTAPPROVED);\r\n\r\n            when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\r\n            when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(prevTrade);\r\n\r\n            sut.execute(ctx);\r\n\r\n            PowerMockito.verifyPrivate(sut, times(1)).invoke(&quot;resetApprovalDetails&quot;, trade);\r\n            Assert.assertEquals(prevTrade.getApprovalStatus(), trade.getApprovalStatus());\r\n        }\r\n\r\n        @Test\r\n        public void test5_tradeStatusDraft() throws Exception {\r\n            Trade trade = new Trade();\r\n            String tradeXml = FileHelper.getResourceFromJar(&quot;/testdata/SDC_BATCH_TRADE_XML.xml&quot;);\r\n            trade.setTradeXml(tradeXml);\r\n            trade.setTradeDoc(XmlHelper.createDocument(trade.getTradeXml()));\r\n            trade.setStatus(Constants.STATUS_DRAFT);\r\n            trade.setSourceSystem(&quot;BATCH&quot;);\r\n            trade.setExternalId(1277402441);\r\n\r\n            when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\r\n            when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(null);\r\n\r\n            sut.execute(ctx);\r\n\r\n            PowerMockito.verifyPrivate(sut, times(1)).invoke(&quot;resetApprovalDetails&quot;, trade);\r\n            Assert.assertEquals(Constants.APRVLSTATUS_NONE, trade.getApprovalStatus());\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nTo solve the issue, I just removed the public modifier from the abstract super class SharedSetup and issue is fixed for good","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>I also faced the same issue once. In my case I was running my tests using Enclosed Runner of Junit. I created a class called SharedSetup to enable common features for my 2 test classes. But somehow facing the same issue.</p>\n<pre><code>@RunWith(Enclosed.class)\npublic class StructApprovalNodeTest {\n\nabstract static class SharedSetup {\n\n    StructApprovalNode sut;\n\n    ExecutionContext ctx = mock(ExecutionContext.class);\n    DTDDAOService dtd = mock(DTDDAOService.class);\n\n    @Rule\n    public ExpectedException expectedException = ExpectedException.none();\n\n    @Before\n    public void before() throws Exception {\n        PowerMockito.mockStatic(ServiceHelper.class);\n\n        when(ServiceHelper.getService(&quot;dtd&quot;)).thenReturn(dtd);\n        when(ctx.getContextInstance()).thenReturn(mock(ContextInstance.class));\n\n        when(dtd.getLatestStructures(Matchers.anyInt(), Matchers.anyString(), Matchers.anyString())).thenReturn(\n                new ArrayList&lt;Trade&gt;());\n\n        sut = new StructApprovalNode();\n        spy(sut);\n    }\n}\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({ ServiceHelper.class, StructApprovalNode.class })\n@PowerMockIgnore(&quot;javax.management.*&quot;)\n@PowerMockRunnerDelegate(Parameterized.class)\npublic static class ParamaterizedBatchTest extends SharedSetup {\n\n    private String batchName;\n    private String approvalStatus;\n\n    public ParamaterizedBatchTest(String batchName, String approvalStatus) {\n        this.batchName = batchName;\n        this.approvalStatus = approvalStatus;\n    }\n\n    @Parameterized.Parameters\n    public static Collection testValues() {\n        return Arrays.asList(new Object[][] {\n                { &quot;SDC_HK_AUTOMATION_BATCH&quot;, Constants.APRVLSTATUS_APPROVED },\n                { &quot;SDC_PB_AUTOMATION_BATCH&quot;, Constants.APRVLSTATUS_APPROVED },\n                { &quot;SDC_FX_AUTOMATION_BATCH&quot;, Constants.APRVLSTATUS_APPROVED }\n        });\n    }\n\n    @Test\n    public void test1_SDCBatchSourceSystems() throws Exception {\n        Trade trade = new Trade();\n        String tradeXml = FileHelper.getResourceFromJar(&quot;/testdata/SDC_BATCH_TRADE_XML.xml&quot;);\n        trade.setTradeXml(tradeXml);\n        trade.setTradeDoc(XmlHelper.createDocument(trade.getTradeXml()));\n        trade.setStatus(Constants.STATUS_LIVE);\n        trade.setSourceSystem(this.batchName);\n\n        when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\n        when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(null);\n\n        sut.execute(ctx);\n\n        PowerMockito.verifyPrivate(sut, times(1)).invoke(&quot;resetApprovalDetails&quot;, trade);\n        Assert.assertEquals(this.approvalStatus, trade.getApprovalStatus());\n    }\n\n}\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({ ServiceHelper.class, StructApprovalNode.class })\n@PowerMockIgnore(&quot;javax.management.*&quot;)\npublic static class NonParamaterizedBatchTest extends SharedSetup {\n\n    @Test\n    public void test2_PrevInvalidTrade() throws Exception {\n        expectedException.expect(Exception.class);\n        expectedException.expectMessage(&quot;External Id of STRUCTURE_TRADE cannot be changed.&quot;);\n\n        Trade trade = new Trade();\n        trade.setExternalId(123);\n        PrevTrade prevTrade = new PrevTrade();\n        prevTrade.setExternalId(1234);\n\n        when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\n        when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(prevTrade);\n\n        sut.execute(ctx);\n    }\n\n    @Test\n    public void test3_ValidPrevTrade() throws Exception {\n        Trade trade = new Trade();\n        String tradeXml = FileHelper.getResourceFromJar(&quot;/testdata/SDC_BATCH_TRADE_XML.xml&quot;);\n        trade.setTradeXml(tradeXml);\n        trade.setTradeDoc(XmlHelper.createDocument(trade.getTradeXml()));\n        trade.setStatus(Constants.STATUS_LIVE);\n        trade.setSourceSystem(&quot;BATCH&quot;);\n        trade.setExternalId(1277402441);\n\n        PrevTrade prevTrade = new PrevTrade();\n        prevTrade.setExternalId(1277402441);\n\n        when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\n        when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(prevTrade);\n\n        sut.execute(ctx);\n\n        PowerMockito.verifyPrivate(sut, times(1)).invoke(&quot;resetApprovalDetails&quot;, trade);\n        Assert.assertEquals(&quot;APPROVED&quot;, trade.getApprovalStatus());\n    }\n\n    @Test\n    public void test4_ValidPrevTradeAutoApprpve() throws Exception {\n        Trade trade = new Trade();\n        String tradeXml = FileHelper.getResourceFromJar(&quot;/testdata/SDC_BATCH_TRADE_XML_AUTO_APPRV.xml&quot;);\n        trade.setTradeXml(tradeXml);\n        trade.setTradeDoc(XmlHelper.createDocument(trade.getTradeXml()));\n        trade.setStatus(Constants.STATUS_LIVE);\n        trade.setSourceSystem(&quot;BATCH&quot;);\n        trade.setExternalId(1277402441);\n\n        PrevTrade prevTrade = new PrevTrade();\n        prevTrade.setExternalId(1277402441);\n        prevTrade.setApprovalStatus(Constants.APRVLSTATUS_NOTAPPROVED);\n\n        when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\n        when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(prevTrade);\n\n        sut.execute(ctx);\n\n        PowerMockito.verifyPrivate(sut, times(1)).invoke(&quot;resetApprovalDetails&quot;, trade);\n        Assert.assertEquals(prevTrade.getApprovalStatus(), trade.getApprovalStatus());\n    }\n\n    @Test\n    public void test5_tradeStatusDraft() throws Exception {\n        Trade trade = new Trade();\n        String tradeXml = FileHelper.getResourceFromJar(&quot;/testdata/SDC_BATCH_TRADE_XML.xml&quot;);\n        trade.setTradeXml(tradeXml);\n        trade.setTradeDoc(XmlHelper.createDocument(trade.getTradeXml()));\n        trade.setStatus(Constants.STATUS_DRAFT);\n        trade.setSourceSystem(&quot;BATCH&quot;);\n        trade.setExternalId(1277402441);\n\n        when(ctx.getContextInstance().getVariable(&quot;trade&quot;)).thenReturn(trade);\n        when(ctx.getContextInstance().getTransientVariable(&quot;prevTrade&quot;)).thenReturn(null);\n\n        sut.execute(ctx);\n\n        PowerMockito.verifyPrivate(sut, times(1)).invoke(&quot;resetApprovalDetails&quot;, trade);\n        Assert.assertEquals(Constants.APRVLSTATUS_NONE, trade.getApprovalStatus());\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>To solve the issue, I just removed the public modifier from the abstract super class SharedSetup and issue is fixed for good</p>\n"}],"owner":{"account_id":21692,"reputation":18582,"user_id":52954,"accept_rate":78,"display_name":"LiorH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125355,"favorite_count":0,"down_vote_count":0,"up_vote_count":121,"accepted_answer_id":672497,"answer_count":11,"score":121,"last_activity_date":1666073754,"creation_date":1237793182,"question_id":672466,"body_markdown":"I have switched to JUnit4.4 from JUnit3.8. I run my tests using ant, all my tests run successfully but test utility classes fail with &quot;No runnable methods&quot; error. The pattern I am using is to include all classes with name \\*Test\\* under test folder.\r\n\r\nI understand that the runner can&#39;t find any method annotated with @Test attribute. But they don&#39;t contain such annotation because these classes are not tests.\r\nSurprisingly when running these tests in eclipse, it doesn&#39;t complain about these classes.\r\n\r\nIn JUnit3.8 it wasn&#39;t a problem at all since these utility classes didn&#39;t extend TestCase so the runner didn&#39;t try to execute them. \r\n\r\nI know I can exclude these specific classes in the junit target in ant script. But I don&#39;t want to change the build file upon every new utility class I add. I can also rename the classes (but giving good names to classes was always my weakest talent :-) )\r\n\r\n\r\nIs there any elegant solution for this problem?\r\n\r\n\r\n","title":"JUnit: how to avoid &quot;no runnable methods&quot; in test utils classes","body":"<p>I have switched to JUnit4.4 from JUnit3.8. I run my tests using ant, all my tests run successfully but test utility classes fail with \"No runnable methods\" error. The pattern I am using is to include all classes with name *Test* under test folder.</p>\n\n<p>I understand that the runner can't find any method annotated with @Test attribute. But they don't contain such annotation because these classes are not tests.\nSurprisingly when running these tests in eclipse, it doesn't complain about these classes.</p>\n\n<p>In JUnit3.8 it wasn't a problem at all since these utility classes didn't extend TestCase so the runner didn't try to execute them. </p>\n\n<p>I know I can exclude these specific classes in the junit target in ant script. But I don't want to change the build file upon every new utility class I add. I can also rename the classes (but giving good names to classes was always my weakest talent :-) )</p>\n\n<p>Is there any elegant solution for this problem?</p>\n"},{"tags":["java","rest","micronaut","http-status-code-401"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1666028519,"post_id":74094061,"comment_id":130833506,"body_markdown":"Are you assigning a value to `micronaut.security.intercept-url-map` anywhere (`application.yml`, distributed config server, OS env variables, etc...)?","body":"Are you assigning a value to <code>micronaut.security.intercept-url-map</code> anywhere (<code>application.yml</code>, distributed config server, OS env variables, etc...)?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1666058084,"post_id":74094061,"comment_id":130840175,"body_markdown":"Is your `emailService.SendActivationEmail`(or anything that it calls) method marked with security restrictions?","body":"Is your <code>emailService.SendActivationEmail</code>(or anything that it calls) method marked with security restrictions?"},{"owner":{"account_id":2165459,"reputation":3660,"user_id":1918669,"accept_rate":56,"display_name":"Jacob"},"score":0,"creation_date":1666073558,"post_id":74094061,"comment_id":130842553,"body_markdown":"No email service isn&#39;t marked with any security restrictions. And I added application.yml to my question....","body":"No email service isn&#39;t marked with any security restrictions. And I added application.yml to my question...."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1666097375,"post_id":74094061,"comment_id":130850394,"body_markdown":"I cannot reproduce the problem.  If you can share a sample app that demonstrates the issue I would be happy to look into it.  If you believe what you are seeing is a bug in the framework, please file an issue at https://github.com/micronaut-projects/micronaut-security/issues and we will investigate.","body":"I cannot reproduce the problem.  If you can share a sample app that demonstrates the issue I would be happy to look into it.  If you believe what you are seeing is a bug in the framework, please file an issue at <a href=\"https://github.com/micronaut-projects/micronaut-security/issues\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-security/issues</a> and we will investigate."}],"answers":[{"tags":[],"owner":{"account_id":14473495,"reputation":473,"user_id":10454720,"display_name":"Иван Зыков"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666007350,"creation_date":1666007350,"answer_id":74096802,"question_id":74094061,"body_markdown":"I tried your code without `EmailService`. So my code looks like this:\r\n\r\n```\r\nimport io.micronaut.http.MediaType;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Post;\r\nimport io.micronaut.http.annotation.Produces;\r\nimport io.micronaut.security.annotation.Secured;\r\nimport io.micronaut.security.rules.SecurityRule;\r\nimport jakarta.annotation.security.PermitAll;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n@Controller(&quot;/v1/connect&quot;)\r\n@Secured(SecurityRule.IS_ANONYMOUS)\r\npublic class ConnectController {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(ConnectController.class);\r\n\r\n    @Post(&quot;/activation&quot;)\r\n    @Secured(SecurityRule.IS_ANONYMOUS)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @PermitAll\r\n    public void sendActivationEmail(ActivationRequest activationRequest) {\r\n        LOG.info(String.format(&quot;Send activation mail for &lt;email: %s&gt;&quot;, activationRequest.getRecipientEmail()));\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ActivationRequest {\r\n\r\n    private String recipientEmail;\r\n    private String activationLink;\r\n\r\n    public ActivationRequest() {\r\n    }\r\n\r\n    public String getRecipientEmail() {\r\n        return recipientEmail;\r\n    }\r\n\r\n    public void setRecipientEmail(String recipientEmail) {\r\n        this.recipientEmail = recipientEmail;\r\n    }\r\n\r\n    public String getActivationLink() {\r\n        return activationLink;\r\n    }\r\n\r\n    public void setActivationLink(String activationLink) {\r\n        this.activationLink = activationLink;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThere wasn&#39;t any error and I received 200. Maybe your `EmailService` have been throwing something?\r\n\r\nAnd your response time is strange. Why is it ~400ms?\r\nDo you sure you use the right port? The default port is 8080. Maybe you did something in application.yml which affected to the security?","title":"Micronaut endpoint responding with 401","body":"<p>I tried your code without <code>EmailService</code>. So my code looks like this:</p>\n<pre><code>import io.micronaut.http.MediaType;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Post;\nimport io.micronaut.http.annotation.Produces;\nimport io.micronaut.security.annotation.Secured;\nimport io.micronaut.security.rules.SecurityRule;\nimport jakarta.annotation.security.PermitAll;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@Controller(&quot;/v1/connect&quot;)\n@Secured(SecurityRule.IS_ANONYMOUS)\npublic class ConnectController {\n\n    private static final Logger LOG = LoggerFactory.getLogger(ConnectController.class);\n\n    @Post(&quot;/activation&quot;)\n    @Secured(SecurityRule.IS_ANONYMOUS)\n    @Produces(MediaType.APPLICATION_JSON)\n    @PermitAll\n    public void sendActivationEmail(ActivationRequest activationRequest) {\n        LOG.info(String.format(&quot;Send activation mail for &lt;email: %s&gt;&quot;, activationRequest.getRecipientEmail()));\n    }\n}\n</code></pre>\n<pre><code>public class ActivationRequest {\n\n    private String recipientEmail;\n    private String activationLink;\n\n    public ActivationRequest() {\n    }\n\n    public String getRecipientEmail() {\n        return recipientEmail;\n    }\n\n    public void setRecipientEmail(String recipientEmail) {\n        this.recipientEmail = recipientEmail;\n    }\n\n    public String getActivationLink() {\n        return activationLink;\n    }\n\n    public void setActivationLink(String activationLink) {\n        this.activationLink = activationLink;\n    }\n\n}\n</code></pre>\n<p>There wasn't any error and I received 200. Maybe your <code>EmailService</code> have been throwing something?</p>\n<p>And your response time is strange. Why is it ~400ms?\nDo you sure you use the right port? The default port is 8080. Maybe you did something in application.yml which affected to the security?</p>\n"}],"owner":{"account_id":2165459,"reputation":3660,"user_id":1918669,"accept_rate":56,"display_name":"Jacob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666073588,"creation_date":1665993109,"question_id":74094061,"body_markdown":"I have a REST endpoint(POST) in my Micronaut microservice. The endpoint is intended to work without any authentication. However, testing the endpoint I cannot reach it. \r\n\r\nI tried several annotations on the endpoint. But that does not seem to do the trick. Seems like I am missing something obvious here. Could you please advise any ideas?\r\n\r\nThis is my controller: \r\n\r\n        @Controller(&quot;/v1/connect&quot;)\r\n    @Secured(SecurityRule.IS_ANONYMOUS)\r\n    public class ConnectController {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(ConnectController.class);\r\n        \r\n        @Inject\r\n        private EmailService emailService;\r\n    \r\n        @Post(&quot;/activation&quot;)\r\n        @Secured(SecurityRule.IS_ANONYMOUS)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @PermitAll\r\n        public SuccessResponse sendActivationEmail(ActivationRequest activationRequest) throws MessagingException {\r\n            LOG.info(String.format(&quot;Send activation mail for &lt;email: %s&gt;&quot;, activationRequest.getRecipientEmail()));\r\n            emailService.SendActivationEmail(activationRequest.getRecipientEmail(), activationRequest.getActivationLink());\r\n            return new SuccessResponse(true);\r\n        }\r\n    }\r\n\r\n\r\nActivationRequest which is basically the payload: \r\n\r\n    public class ActivationRequest {\r\n\r\n    private String recipientEmail;\r\n    private String activationLink;\r\n\r\n    public ActivationRequest() {\r\n    }\r\n\r\n    public String getRecipientEmail() {\r\n        return recipientEmail;\r\n    }\r\n\r\n    public void setRecipientEmail(String recipientEmail) {\r\n        this.recipientEmail = recipientEmail;\r\n    }\r\n\r\n    public String getActivationLink() {\r\n        return activationLink;\r\n    }\r\n\r\n    public void setActivationLink(String activationLink) {\r\n        this.activationLink = activationLink;\r\n    }\r\n}\r\n\r\n\r\nHere is how I call the endpoit: \r\n\r\n[![enter image description here][1]][1]\r\n [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PGh3J.png\r\n  [2]: https://i.stack.imgur.com/H5WCN.png\r\n\r\nApplication.yml \r\n\r\n        micronaut:\r\n      application:\r\n        name: hdsEmailMicroservice\r\n      server:\r\n        port: 4001\r\n      security:\r\n        intercept-url-map:\r\n          - pattern: /swagger/**\r\n            http-method: GET\r\n            access:\r\n              - isAnonymous()\r\n          - pattern: /swagger-ui/**\r\n            http-method: GET\r\n            access:\r\n              - isAnonymous()\r\n      router:\r\n        static-resources:\r\n          swagger:\r\n            paths: classpath:META-INF/swagger\r\n            mapping: /swagger/**\r\n          swagger-ui:\r\n            paths: classpath:META-INF/swagger/views/swagger-ui\r\n            mapping: /swagger-ui/**\r\n    netty:\r\n      default:\r\n        allocator:\r\n          max-order: 3\r\n    \r\n    logger:\r\n      fullStackTrace: true\r\n\r\n","title":"Micronaut endpoint responding with 401","body":"<p>I have a REST endpoint(POST) in my Micronaut microservice. The endpoint is intended to work without any authentication. However, testing the endpoint I cannot reach it.</p>\n<p>I tried several annotations on the endpoint. But that does not seem to do the trick. Seems like I am missing something obvious here. Could you please advise any ideas?</p>\n<p>This is my controller:</p>\n<pre><code>    @Controller(&quot;/v1/connect&quot;)\n@Secured(SecurityRule.IS_ANONYMOUS)\npublic class ConnectController {\n\n    private static final Logger LOG = LoggerFactory.getLogger(ConnectController.class);\n    \n    @Inject\n    private EmailService emailService;\n\n    @Post(&quot;/activation&quot;)\n    @Secured(SecurityRule.IS_ANONYMOUS)\n    @Produces(MediaType.APPLICATION_JSON)\n    @PermitAll\n    public SuccessResponse sendActivationEmail(ActivationRequest activationRequest) throws MessagingException {\n        LOG.info(String.format(&quot;Send activation mail for &lt;email: %s&gt;&quot;, activationRequest.getRecipientEmail()));\n        emailService.SendActivationEmail(activationRequest.getRecipientEmail(), activationRequest.getActivationLink());\n        return new SuccessResponse(true);\n    }\n}\n</code></pre>\n<p>ActivationRequest which is basically the payload:</p>\n<pre><code>public class ActivationRequest {\n\nprivate String recipientEmail;\nprivate String activationLink;\n\npublic ActivationRequest() {\n}\n\npublic String getRecipientEmail() {\n    return recipientEmail;\n}\n\npublic void setRecipientEmail(String recipientEmail) {\n    this.recipientEmail = recipientEmail;\n}\n\npublic String getActivationLink() {\n    return activationLink;\n}\n\npublic void setActivationLink(String activationLink) {\n    this.activationLink = activationLink;\n}\n</code></pre>\n<p>}</p>\n<p>Here is how I call the endpoit:</p>\n<p><a href=\"https://i.stack.imgur.com/PGh3J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PGh3J.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/H5WCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H5WCN.png\" alt=\"enter image description here\" /></a></p>\n<p>Application.yml</p>\n<pre><code>    micronaut:\n  application:\n    name: hdsEmailMicroservice\n  server:\n    port: 4001\n  security:\n    intercept-url-map:\n      - pattern: /swagger/**\n        http-method: GET\n        access:\n          - isAnonymous()\n      - pattern: /swagger-ui/**\n        http-method: GET\n        access:\n          - isAnonymous()\n  router:\n    static-resources:\n      swagger:\n        paths: classpath:META-INF/swagger\n        mapping: /swagger/**\n      swagger-ui:\n        paths: classpath:META-INF/swagger/views/swagger-ui\n        mapping: /swagger-ui/**\nnetty:\n  default:\n    allocator:\n      max-order: 3\n\nlogger:\n  fullStackTrace: true\n</code></pre>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1665488587,"post_id":74027186,"comment_id":130707480,"body_markdown":"Do you use a build tool? If so, can you share the build configuration (e.g. pom.xml or build.gradle)?","body":"Do you use a build tool? If so, can you share the build configuration (e.g. pom.xml or build.gradle)?"},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1665489629,"post_id":74027186,"comment_id":130707909,"body_markdown":"@dan1st I don&#39;t have anything special there, just the dependencies and nothing else.","body":"@dan1st I don&#39;t have anything special there, just the dependencies and nothing else."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1665510669,"post_id":74027186,"comment_id":130716066,"body_markdown":"Note that annotation processors do not process dependencies. If you want to process your dependencies, those artifacts need to declare/use the annotation processor by themselves.","body":"Note that annotation processors do not process dependencies. If you want to process your dependencies, those artifacts need to declare/use the annotation processor by themselves."}],"answers":[{"tags":[],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666073220,"creation_date":1666073220,"answer_id":74106396,"question_id":74027186,"body_markdown":"One possible way to do it is to generate some sort of a dictionary in the first 2 modules, this could be a class that holds references to all generated types, for example each module might generate a class like this\r\n\r\n    @ModuleClasses({TypeA.class, TypeB.class, TypeC.class})    \r\n    public class ModuleATypeRegistery {\r\n           \r\n    }\r\n\r\nnow in the third module you can define an annotation that can list those classes, maybe it goes into a package-info\r\n\r\n    @MyGeneratedClassesRegistry({ModuleATypeRegistery.class,ModuleBTypeRegistery.class})\r\n    package com.mycompany.sample;\r\n\r\nThen you implement your third module annotation processor to also consider those package-info when it is needed","title":"Annotation Processor - Multiple modules","body":"<p>One possible way to do it is to generate some sort of a dictionary in the first 2 modules, this could be a class that holds references to all generated types, for example each module might generate a class like this</p>\n<pre><code>@ModuleClasses({TypeA.class, TypeB.class, TypeC.class})    \npublic class ModuleATypeRegistery {\n       \n}\n</code></pre>\n<p>now in the third module you can define an annotation that can list those classes, maybe it goes into a package-info</p>\n<pre><code>@MyGeneratedClassesRegistry({ModuleATypeRegistery.class,ModuleBTypeRegistery.class})\npackage com.mycompany.sample;\n</code></pre>\n<p>Then you implement your third module annotation processor to also consider those package-info when it is needed</p>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74106396,"answer_count":1,"score":0,"last_activity_date":1666073220,"creation_date":1665486744,"question_id":74027186,"body_markdown":"I have 3 modules. Two of them have generated classes, and on the third I would like to generate a mapper based on the generated classes from the other two modules.\r\n\r\nI&#39;ve added the other 2 modules as dependencies to the 3 modules, but the annotation processor never gets called.\r\n\r\nThe generated classes have the correct annotation, and if I create a class with the annotation on the third module, the annotation processor gets called.\r\n\r\nMy feeling is that the 3 module is unable to get the classes from the other modules because they are already compiled.\r\n\r\nIs there any way to solve this problem?\r\n\r\nThanks\r\n\r\n    dependencies {\r\n        implementation(project(&quot;:module-1&quot;))\r\n        implementation(project(&quot;:module-2&quot;))\r\n    \r\n        annotationProcessor(project(&quot;:processor&quot;))\r\n    }","title":"Annotation Processor - Multiple modules","body":"<p>I have 3 modules. Two of them have generated classes, and on the third I would like to generate a mapper based on the generated classes from the other two modules.</p>\n<p>I've added the other 2 modules as dependencies to the 3 modules, but the annotation processor never gets called.</p>\n<p>The generated classes have the correct annotation, and if I create a class with the annotation on the third module, the annotation processor gets called.</p>\n<p>My feeling is that the 3 module is unable to get the classes from the other modules because they are already compiled.</p>\n<p>Is there any way to solve this problem?</p>\n<p>Thanks</p>\n<pre><code>dependencies {\n    implementation(project(&quot;:module-1&quot;))\n    implementation(project(&quot;:module-2&quot;))\n\n    annotationProcessor(project(&quot;:processor&quot;))\n}\n</code></pre>\n"},{"tags":["java","maven","apache-spark","junit"],"comments":[{"owner":{"account_id":20713103,"reputation":356,"user_id":15209268,"display_name":"Oded"},"score":0,"creation_date":1615273569,"post_id":66426624,"comment_id":117633247,"body_markdown":"Someone can help me with that, please?","body":"Someone can help me with that, please?"},{"owner":{"account_id":1816348,"reputation":170,"user_id":1651356,"accept_rate":50,"display_name":"aksankar"},"score":0,"creation_date":1624949193,"post_id":66426624,"comment_id":120489508,"body_markdown":": Did you fixed this issue? I am also facing the same issue. I am getting jsc() as null","body":": Did you fixed this issue? I am also facing the same issue. I am getting jsc() as null"},{"owner":{"account_id":986881,"reputation":537,"user_id":1005162,"display_name":"weikangchia"},"score":0,"creation_date":1625283354,"post_id":66426624,"comment_id":120592841,"body_markdown":"Hi, I was also looking for JUnit 5 capability in the spark-testing-base library a few weeks back and it seems like the library only works for JUnit 4. In the end, I went to write my own JUnit 5 extension and have written a medium article on how to do it.\n\nArticle: weikangchia.medium.com/junit-5-spark-testing-bc8eb29b2238","body":"Hi, I was also looking for JUnit 5 capability in the spark-testing-base library a few weeks back and it seems like the library only works for JUnit 4. In the end, I went to write my own JUnit 5 extension and have written a medium article on how to do it.  Article: weikangchia.medium.com/junit-5-spark-testing-bc8eb29b2238"}],"answers":[{"tags":[],"owner":{"account_id":1816348,"reputation":170,"user_id":1651356,"accept_rate":50,"display_name":"aksankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624954702,"creation_date":1624954702,"answer_id":68174989,"question_id":66426624,"body_markdown":"I figured out the issue for my case.I was using Junit 5 for my test(org.junit.jupiter.api.Test) .And the lib was referring to &quot;org.junit.Test&quot; .If we move to junit4 It will work properly.\r\nRaised an issue with the lib -&gt;https://github.com/holdenk/spark-testing-base/issues/340 .\r\n\r\nHope you also had the same issue.","title":"How to compile spark-testing-base in Java project built with maven?","body":"<p>I figured out the issue for my case.I was using Junit 5 for my test(org.junit.jupiter.api.Test) .And the lib was referring to &quot;org.junit.Test&quot; .If we move to junit4 It will work properly.\nRaised an issue with the lib -&gt;https://github.com/holdenk/spark-testing-base/issues/340 .</p>\n<p>Hope you also had the same issue.</p>\n"},{"tags":[],"owner":{"account_id":986881,"reputation":537,"user_id":1005162,"display_name":"weikangchia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625283616,"creation_date":1625283616,"answer_id":68233044,"question_id":66426624,"body_markdown":"I was also looking for JUnit 5 capability in the spark-testing-base library a few weeks back and it seems like the library only works for JUnit 4. In the end, I went to write my own JUnit 5 extension and have written a medium article on how to do it.\r\n\r\nArticle: [weikangchia.medium.com/junit-5-spark-testing-bc8eb29b2238][1]\r\n\r\n\r\n  [1]: http://weikangchia.medium.com/junit-5-spark-testing-bc8eb29b2238","title":"How to compile spark-testing-base in Java project built with maven?","body":"<p>I was also looking for JUnit 5 capability in the spark-testing-base library a few weeks back and it seems like the library only works for JUnit 4. In the end, I went to write my own JUnit 5 extension and have written a medium article on how to do it.</p>\n<p>Article: <a href=\"http://weikangchia.medium.com/junit-5-spark-testing-bc8eb29b2238\" rel=\"nofollow noreferrer\">weikangchia.medium.com/junit-5-spark-testing-bc8eb29b2238</a></p>\n"}],"owner":{"account_id":20713103,"reputation":356,"user_id":15209268,"display_name":"Oded"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68174989,"answer_count":2,"score":2,"last_activity_date":1666072792,"creation_date":1614619118,"question_id":66426624,"body_markdown":"I don&#39;t have a lot of experience with Java, but I built a Spark application using Java.\r\nI want to write some unit tests for my Spark application.\r\nI saw that spark-testing-base is very useful for that purpose.\r\nI have added the following to my pom.xml:\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;         &lt;groupId&gt;com.holdenkarau&lt;/groupId&gt;\r\n&gt;         &lt;artifactId&gt;spark-testing-base_2.12&lt;/artifactId&gt;\r\n&gt;         &lt;version&gt;2.4.5_1.0.0&lt;/version&gt;\r\n&gt;         &lt;scope&gt;test&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\nI&#39;m using Junit framework and my tests fail when trying to reach jsc().\r\nMy current test (Not much logic yet):\r\n    \r\n    public class SparkTest extends SharedJavaSparkContext {\r\n\r\n     @Test\r\n     public void verifyMapTest() {\r\n         // Create and run the test\r\n         List&lt;String&gt; input = Arrays.asList(&quot;1\\tHeart&quot;, &quot;2\\tDiamonds&quot;);\r\n         JavaRDD&lt;String&gt; inputRDD = jsc().parallelize(input);\r\n     }\r\n    }\r\n\r\nI used the following maven command to build the Jar:\r\nmaven clean install\r\n\r\nIt seems like I didn&#39;t really compile spark-testing-base. jsc() returns null and I&#39;m getting null pointer exception.","title":"How to compile spark-testing-base in Java project built with maven?","body":"<p>I don't have a lot of experience with Java, but I built a Spark application using Java.\nI want to write some unit tests for my Spark application.\nI saw that spark-testing-base is very useful for that purpose.\nI have added the following to my pom.xml:</p>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.holdenkarau&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-testing-base_2.12&lt;/artifactId&gt;\n    &lt;version&gt;2.4.5_1.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>I'm using Junit framework and my tests fail when trying to reach jsc().\nMy current test (Not much logic yet):</p>\n<pre><code>public class SparkTest extends SharedJavaSparkContext {\n\n @Test\n public void verifyMapTest() {\n     // Create and run the test\n     List&lt;String&gt; input = Arrays.asList(&quot;1\\tHeart&quot;, &quot;2\\tDiamonds&quot;);\n     JavaRDD&lt;String&gt; inputRDD = jsc().parallelize(input);\n }\n}\n</code></pre>\n<p>I used the following maven command to build the Jar:\nmaven clean install</p>\n<p>It seems like I didn't really compile spark-testing-base. jsc() returns null and I'm getting null pointer exception.</p>\n"},{"tags":["java","repository","program-entry-point"],"answers":[{"tags":[],"owner":{"account_id":15119194,"reputation":7,"user_id":10910433,"display_name":"mhdl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666072703,"creation_date":1666072703,"answer_id":74106324,"question_id":74106223,"body_markdown":"You are trying to find something your local repository doesn&#39;t know about.\r\n\r\nIf you arent sure about your remotes, execute `git remote -v`.\r\n\r\nIf you got some there you can try to update the status of your local repository by executing `git fetch`\r\n\r\n[FUp][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10847016/10910433","title":"facing issue to push local repo to git hub","body":"<p>You are trying to find something your local repository doesn't know about.</p>\n<p>If you arent sure about your remotes, execute <code>git remote -v</code>.</p>\n<p>If you got some there you can try to update the status of your local repository by executing <code>git fetch</code></p>\n<p><a href=\"https://stackoverflow.com/a/10847016/10910433\">FUp</a></p>\n"}],"owner":{"account_id":26655866,"reputation":1,"user_id":20269410,"display_name":"Durgasri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666072703,"creation_date":1666071986,"question_id":74106223,"body_markdown":"I had created a Main folder on desktop and inside that i have 2 sub folders. I created some java programs in IntelliJ in one of the sub folder and committed the programs. When I was trying to push the code to remote but is giving me the following error  &quot;\r\nfatal: remote error: is not a valid repository name. Visit git hub for help.&quot; \r\nHow should I save it in remote and move further?","title":"facing issue to push local repo to git hub","body":"<p>I had created a Main folder on desktop and inside that i have 2 sub folders. I created some java programs in IntelliJ in one of the sub folder and committed the programs. When I was trying to push the code to remote but is giving me the following error  &quot;\nfatal: remote error: is not a valid repository name. Visit git hub for help.&quot;\nHow should I save it in remote and move further?</p>\n"},{"tags":["java","unit-testing","junit","mockito","any"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1665993142,"post_id":74094043,"comment_id":130820648,"body_markdown":"that depends on what you want to be tested. do you want to test for specific values? do you just want to test no matter what call?","body":"that depends on what you want to be tested. do you want to test for specific values? do you just want to test no matter what call?"},{"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"score":0,"creation_date":1665993809,"post_id":74094043,"comment_id":130820865,"body_markdown":"If I have an option to use a specific value, in those cases which would be a better option?","body":"If I have an option to use a specific value, in those cases which would be a better option?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665993877,"post_id":74094043,"comment_id":130820888,"body_markdown":"if you are testing for a specific scenario, use the specific values. That way, if your code does something unexpected and uses other params than the ones you expect, you&#39;ll know","body":"if you are testing for a specific scenario, use the specific values. That way, if your code does something unexpected and uses other params than the ones you expect, you&#39;ll know"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665993910,"post_id":74094043,"comment_id":130820907,"body_markdown":"Of course 1. is &quot;better&quot;,  more exact (especially in a complex test context/with many tests) 2. can be sufficient (quicker, simpler...without &quot;dirtying&quot; the context!??) In any case: you cannot mix both approaches (in one `when`)..so sometimes you just *have to* use &quot;any&quot;...","body":"Of course 1. is &quot;better&quot;,  more exact (especially in a complex test context/with many tests) 2. can be sufficient (quicker, simpler...without &quot;dirtying&quot; the context!??) In any case: you cannot mix both approaches (in one <code>when</code>)..so sometimes you just <i>have to</i> use &quot;any&quot;..."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665994832,"post_id":74094043,"comment_id":130821213,"body_markdown":"@xerx593 sure you can mix, no? `when(mockFoo.func1(eq(&quot;value1&quot;), eq(&quot;1&quot;), any(Bar.class)).thenReturn(true);`","body":"@xerx593 sure you can mix, no? <code>when(mockFoo.func1(eq(&quot;value1&quot;), eq(&quot;1&quot;), any(Bar.class)).thenReturn(true);</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665994963,"post_id":74094043,"comment_id":130821259,"body_markdown":"..runtime exception,@knittl (with detailed description...https://stackoverflow.com/a/63485861/592355) (the last time I tried this, maybe newer Mockito can do it... [nope, still so](https://github.com/mockito/mockito/issues/1398)!)","body":"..runtime exception,@knittl (with detailed description...<a href=\"https://stackoverflow.com/a/63485861/592355\">stackoverflow.com/a/63485861/592355</a>) (the last time I tried this, maybe newer Mockito can do it... <a href=\"https://github.com/mockito/mockito/issues/1398\" rel=\"nofollow noreferrer\">nope, still so</a>!)"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1666001112,"post_id":74094043,"comment_id":130823285,"body_markdown":"@xerx593 Using the `eq` matcher is not the same as using raw values. Maybe we were both saying different things :) Nevertheless, it is still possible to match some specfic values while ignoring other parameters&#39; values.","body":"@xerx593 Using the <code>eq</code> matcher is not the same as using raw values. Maybe we were both saying different things :) Nevertheless, it is still possible to match some specfic values while ignoring other parameters&#39; values."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666072240,"creation_date":1666072240,"answer_id":74106254,"question_id":74094043,"body_markdown":"For a function `install(String id)`, any of the following are possible:\r\n\r\n- `id` will be a random and unpredictable set of characters such that `anyString()` is the best you can do. If you were to pick a value, it risks the test failing at random, making the code _brittle_ or _flaky_.\r\n- `id` should be `&quot;yourProgramName&quot;` specifically, and any deviation should fail the test. This is where `eq` and raw  values would be appropriate.\r\n- `id` should be `&quot;yourProgramName&quot;`, but that&#39;s important to some test other than the one you&#39;re writing right now, so it should be `eq` in the `id`-validating test and `anyString` here.\r\n\r\nIt is entirely up to you: You&#39;ll need to pick which parameters matter to your test, and whether your test errs on the side of _brittle_ (failing when it should pass) or permissive (passing when it should fail).\r\n\r\n---\r\n\r\nAs a side note, you can mix any combination of specific matchers like `eq` and general matchers like `anyString`, or you can use all real values that test `equals` just like `eq`; [you just can&#39;t mix both styles in the same call](https://stackoverflow.com/a/32729215/1426891).\r\n\r\n```java\r\n/* Any mix of matchers is OK, but you can&#39;t mix unwrapped values. Use eq() instead. */\r\n/*  bad: */ when(mockFoo.func1(   &quot;example&quot; , anyInt(), any())).thenReturn(true);\r\n/* good: */ when(mockFoo.func1(eq(&quot;example&quot;), anyInt(), any())).thenReturn(true);\r\n\r\n/* Unwrapped values are OK as long as you use them for every parameter you pass. */\r\n/* good: */ when(mockFoo.func1(   &quot;example&quot; ,    0 ,    bar1 )).thenReturn(true);\r\n/* same: */ when(mockFoo.func1(eq(&quot;example&quot;), eq(0), eq(bar1))).thenReturn(true);\r\n```","title":"Is it recommended to use any() or a specific value for unit tests","body":"<p>For a function <code>install(String id)</code>, any of the following are possible:</p>\n<ul>\n<li><code>id</code> will be a random and unpredictable set of characters such that <code>anyString()</code> is the best you can do. If you were to pick a value, it risks the test failing at random, making the code <em>brittle</em> or <em>flaky</em>.</li>\n<li><code>id</code> should be <code>&quot;yourProgramName&quot;</code> specifically, and any deviation should fail the test. This is where <code>eq</code> and raw  values would be appropriate.</li>\n<li><code>id</code> should be <code>&quot;yourProgramName&quot;</code>, but that's important to some test other than the one you're writing right now, so it should be <code>eq</code> in the <code>id</code>-validating test and <code>anyString</code> here.</li>\n</ul>\n<p>It is entirely up to you: You'll need to pick which parameters matter to your test, and whether your test errs on the side of <em>brittle</em> (failing when it should pass) or permissive (passing when it should fail).</p>\n<hr />\n<p>As a side note, you can mix any combination of specific matchers like <code>eq</code> and general matchers like <code>anyString</code>, or you can use all real values that test <code>equals</code> just like <code>eq</code>; <a href=\"https://stackoverflow.com/a/32729215/1426891\">you just can't mix both styles in the same call</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* Any mix of matchers is OK, but you can't mix unwrapped values. Use eq() instead. */\n/*  bad: */ when(mockFoo.func1(   &quot;example&quot; , anyInt(), any())).thenReturn(true);\n/* good: */ when(mockFoo.func1(eq(&quot;example&quot;), anyInt(), any())).thenReturn(true);\n\n/* Unwrapped values are OK as long as you use them for every parameter you pass. */\n/* good: */ when(mockFoo.func1(   &quot;example&quot; ,    0 ,    bar1 )).thenReturn(true);\n/* same: */ when(mockFoo.func1(eq(&quot;example&quot;), eq(0), eq(bar1))).thenReturn(true);\n</code></pre>\n"}],"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74106254,"answer_count":1,"score":1,"last_activity_date":1666072240,"creation_date":1665992990,"question_id":74094043,"body_markdown":"I am curious about the best / recommended approach to follow when writing a unit test.\r\n\r\nIf I can easily create the specific values that would get passed for a function, should I create those in my unit tests and use them? Or can I use `any()` to mock for all values?\r\n\r\n```\r\nclass Foo {\r\n    bool func1(String abc, int xyz, Bar bar) {\r\n        // ...\r\n    } \r\n}\r\n```\r\n\r\nIf I have a class like this that I want to mock for a specific behavior, which is a better approach?\r\n```\r\n@Mock\r\nFoo mockFoo;\r\n```\r\n1. ```\r\n   Bar dummyBar = getTestBar();\r\n   when(mockFoo.func1(&quot;value1&quot;, 1, dummyBar)).thenReturn(true);\r\n   ```\r\n\r\n2. ```\r\n   when(mockFoo.func1(anyString(), anyInt(), any())).thenReturn(true);\r\n   ```\r\n\r\nI am trying to identify when to use each. I feel using specific values will be better whenever possible and if it is simple to create those values. Use `any()` only when it is not easy to create such objects. i.e. Say I am refactoring a codebase and I see almost all unit tests are using `any()` even if I could use specific values. Will it be worth doing some cleanup on the code and make the unit tests use specific values? \r\n","title":"Is it recommended to use any() or a specific value for unit tests","body":"<p>I am curious about the best / recommended approach to follow when writing a unit test.</p>\n<p>If I can easily create the specific values that would get passed for a function, should I create those in my unit tests and use them? Or can I use <code>any()</code> to mock for all values?</p>\n<pre><code>class Foo {\n    bool func1(String abc, int xyz, Bar bar) {\n        // ...\n    } \n}\n</code></pre>\n<p>If I have a class like this that I want to mock for a specific behavior, which is a better approach?</p>\n<pre><code>@Mock\nFoo mockFoo;\n</code></pre>\n<ol>\n<li>\n<pre><code>Bar dummyBar = getTestBar();\nwhen(mockFoo.func1(&quot;value1&quot;, 1, dummyBar)).thenReturn(true);\n</code></pre>\n</li>\n<li>\n<pre><code>when(mockFoo.func1(anyString(), anyInt(), any())).thenReturn(true);\n</code></pre>\n</li>\n</ol>\n<p>I am trying to identify when to use each. I feel using specific values will be better whenever possible and if it is simple to create those values. Use <code>any()</code> only when it is not easy to create such objects. i.e. Say I am refactoring a codebase and I see almost all unit tests are using <code>any()</code> even if I could use specific values. Will it be worth doing some cleanup on the code and make the unit tests use specific values?</p>\n"},{"tags":["java","arrays","for-loop","java-stream"],"comments":[{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":5,"creation_date":1665670479,"post_id":74057221,"comment_id":130757823,"body_markdown":"Does it have to be a stream? Can&#39;t you use `persons.values().toArray(new String[0])`?","body":"Does it have to be a stream? Can&#39;t you use <code>persons.values().toArray(new String[0])</code>?"},{"owner":{"account_id":26611978,"reputation":11,"user_id":20232041,"display_name":"Dmitriy Dmitruk"},"score":0,"creation_date":1665670930,"post_id":74057221,"comment_id":130757997,"body_markdown":"@Ivar Yeah, sure, it have to be a stream. But thanks for suggested solution.","body":"@Ivar Yeah, sure, it have to be a stream. But thanks for suggested solution."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1665671837,"post_id":74057221,"comment_id":130758342,"body_markdown":"@DmitriyDmitruk It is suspicious that you do not accept Ivar&#39;s solution. What you really want to achieve? Ivar&#39;s solution is the most correct replacement of your code. Please read https://xyproblem.info/","body":"@DmitriyDmitruk It is suspicious that you do not accept Ivar&#39;s solution. What you really want to achieve? Ivar&#39;s solution is the most correct replacement of your code. Please read <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665672091,"post_id":74057221,"comment_id":130758439,"body_markdown":"@Alexander Are you sure it is `people` and not `responseItems` as originally posted? Not the best idea to make such changes to posted code IMO! Or did I miss some comment?","body":"@Alexander Are you sure it is <code>people</code> and not <code>responseItems</code> as originally posted? Not the best idea to make such changes to posted code IMO! Or did I miss some comment?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665672697,"post_id":74057221,"comment_id":130758691,"body_markdown":"@user16320675 I&#39;ve made a conclusion that these collections are the same, judging by the OP&#39;s [response](https://stackoverflow.com/questions/74057221/replace-java-for-loop-with-stream-api/74057484#comment130757997_74057221) to the comment \n*Ivar*, where OP says that the [code](https://stackoverflow.com/questions/74057221/replace-java-for-loop-with-stream-api/74057484#comment130757823_74057221) which *Ivar* has provided does **what expected**, but they want to use a Stream.","body":"@user16320675 I&#39;ve made a conclusion that these collections are the same, judging by the OP&#39;s <a href=\"https://stackoverflow.com/questions/74057221/replace-java-for-loop-with-stream-api/74057484#comment130757997_74057221\">response</a> to the comment  <i>Ivar</i>, where OP says that the <a href=\"https://stackoverflow.com/questions/74057221/replace-java-for-loop-with-stream-api/74057484#comment130757823_74057221\">code</a> which <i>Ivar</i> has provided does <b>what expected</b>, but they want to use a Stream."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665672943,"post_id":74057221,"comment_id":130758780,"body_markdown":"Can you clarify what `responseItems` is? Is it the `peaple` map mistakenly named like that, or a separate collection?","body":"Can you clarify what <code>responseItems</code> is? Is it the <code>peaple</code> map mistakenly named like that, or a separate collection?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665673442,"post_id":74057221,"comment_id":130758990,"body_markdown":"@Alexander  [When should I make edits to code?](https://meta.stackoverflow.com/questions/260245/when-should-i-make-edits-to-code): &quot;*...  Code in questions should only be edited for formatting and readability ... **Don&#39;t:** Change the code logic or functionality ...*&quot; ||| as it is now, most previous comments are incomplete/confusing/wrong (it is sure adding value to your answer ... but with a *sour taste*)","body":"@Alexander  <a href=\"https://meta.stackoverflow.com/questions/260245/when-should-i-make-edits-to-code\">When should I make edits to code?</a>: &quot;<i>...  Code in questions should only be edited for formatting and readability ... <b>Don&#39;t:</b> Change the code logic or functionality ...</i>&quot; ||| as it is now, most previous comments are incomplete/confusing/wrong (it is sure adding value to your answer ... but with a <i>sour taste</i>)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665727391,"creation_date":1665671272,"answer_id":74057484,"question_id":74057221,"body_markdown":"You can use [`IntStream.range()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#range(int,int)) (or `rangeClosed()`) and [`Stream.toArray()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toArray(java.util.function.IntFunction)) to implement the same logic with Stream API:\r\n\r\n```\r\nMap&lt;Integer, String&gt; people = Map.of(\r\n    1, &quot;John&quot;, 2, &quot;Michael&quot;, 3, &quot;Bob&quot;, 4, &quot;Liza&quot;, 5, &quot;Anna&quot;\r\n);\r\n        \r\nString[] names = IntStream.rangeClosed(1, 5)\r\n    .mapToObj(people::get)\r\n    .toArray(String[]::new);\r\n```\r\n\r\nIf the *keys* of the original map are not integers, or the map is represented by a plain `HashMap` which is incapable of maintaining the order, but you need to reflect the ordering of *keys* in the resulting array, then create a stream of entries and sort them by *key* as suggested by *@Holger*:\r\n\r\n```\r\nString[] names = people.entrySet().stream()\r\n    .sorted(Map.Entry.comparingByKey())\r\n    .map(Map.Entry::getValue)\r\n    .toArray(String[]::new);\r\n```\r\n\r\nIn case if the order of elements is not important, then you can use [`Collection.toArray()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)):\r\n\r\n```\r\nString[] names = people.values().toArray(String[]::new);\r\n```","title":"Replace Java for loop with Stream API","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#range(int,int)\" rel=\"nofollow noreferrer\"><code>IntStream.range()</code></a> (or <code>rangeClosed()</code>) and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\"><code>Stream.toArray()</code></a> to implement the same logic with Stream API:</p>\n<pre><code>Map&lt;Integer, String&gt; people = Map.of(\n    1, &quot;John&quot;, 2, &quot;Michael&quot;, 3, &quot;Bob&quot;, 4, &quot;Liza&quot;, 5, &quot;Anna&quot;\n);\n        \nString[] names = IntStream.rangeClosed(1, 5)\n    .mapToObj(people::get)\n    .toArray(String[]::new);\n</code></pre>\n<p>If the <em>keys</em> of the original map are not integers, or the map is represented by a plain <code>HashMap</code> which is incapable of maintaining the order, but you need to reflect the ordering of <em>keys</em> in the resulting array, then create a stream of entries and sort them by <em>key</em> as suggested by <em>@Holger</em>:</p>\n<pre><code>String[] names = people.entrySet().stream()\n    .sorted(Map.Entry.comparingByKey())\n    .map(Map.Entry::getValue)\n    .toArray(String[]::new);\n</code></pre>\n<p>In case if the order of elements is not important, then you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\"><code>Collection.toArray()</code></a>:</p>\n<pre><code>String[] names = people.values().toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22576767,"reputation":169,"user_id":16762098,"display_name":"AbrahamSantos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665671658,"creation_date":1665671658,"answer_id":74057579,"question_id":74057221,"body_markdown":"I hope this can help you.\r\n\r\n```java   \r\n Map&lt;Integer, String&gt; persons = new HashMap&lt;&gt;();\r\n//Option one\r\n    String[] names = persons.entrySet().stream().map(e-&gt; e.getValue())\r\n    \t\t\t\t\t\t.collect(Collectors.toList()).toArray(new String[0]);\r\n\t//Option two\r\n\t\t\tpersons.values().stream().collect(Collectors.toList()).toArray(new String[0]);\r\n```\r\n\r\nJust transform the map to list and then make it an Array, well, we use a stream  in the collection values or in the entrySet.","title":"Replace Java for loop with Stream API","body":"<p>I hope this can help you.</p>\n<pre class=\"lang-java prettyprint-override\"><code> Map&lt;Integer, String&gt; persons = new HashMap&lt;&gt;();\n//Option one\n    String[] names = persons.entrySet().stream().map(e-&gt; e.getValue())\n                            .collect(Collectors.toList()).toArray(new String[0]);\n    //Option two\n            persons.values().stream().collect(Collectors.toList()).toArray(new String[0]);\n</code></pre>\n<p>Just transform the map to list and then make it an Array, well, we use a stream  in the collection values or in the entrySet.</p>\n"},{"tags":[],"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665675668,"creation_date":1665675668,"answer_id":74058482,"question_id":74057221,"body_markdown":"```\r\nMap&lt;Integer, String&gt; people = Map.of(\r\n    1, &quot;John&quot;, 2, &quot;Michael&quot;, 3, &quot;Bob&quot;, 4, &quot;Liza&quot;, 5, &quot;Anna&quot;\r\n);\r\n\r\nString[] unorderedNames = people.values().toArray(String[]::new);\r\nString[] namesInTheSameOrder = people.entrySet().stream().map(Map.Entry::getValue).toArray(String[]::new);\r\n```","title":"Replace Java for loop with Stream API","body":"<pre><code>Map&lt;Integer, String&gt; people = Map.of(\n    1, &quot;John&quot;, 2, &quot;Michael&quot;, 3, &quot;Bob&quot;, 4, &quot;Liza&quot;, 5, &quot;Anna&quot;\n);\n\nString[] unorderedNames = people.values().toArray(String[]::new);\nString[] namesInTheSameOrder = people.entrySet().stream().map(Map.Entry::getValue).toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665798345,"creation_date":1665797958,"answer_id":74076104,"question_id":74057221,"body_markdown":"***You can use the below approaches to get the desired results:***\r\n\r\n***Here,***\r\n\r\n- **Approach 1 :** Took the values from the map and converted into Array. *No sorting is considered here.*\r\n- **Approach 2:** Took the `entrySet()` and sorted by the key of the map and converted the entryset into values using `map()` and then converted into Array. *Sorting is considered here.*\r\n\r\n**Code:**\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Map&lt;Integer, String&gt; people = \r\n                    Map.of(1, &quot;John&quot;, 2, &quot;Michael&quot;, 3, &quot;Bob&quot;, 4, &quot;Liza&quot;, 5, &quot;Anna&quot;);\r\n    \r\n            //Approach 1 : Data without sorting\r\n            String[] peopleNames = people.values().toArray(String[]::new);\r\n    \r\n            //Approach 2: Data with sorting by key of the map\r\n            String[] peopleNamesSortedByKey = people.entrySet().stream()\r\n                    .sorted(Map.Entry.comparingByKey())\r\n                    .map(Map.Entry::getValue).toArray(String[]::new);\r\n        }\r\n    }\r\n\r\n**Output::**\r\n\r\n    Bob Michael John Anna Liza // No sorting\r\n    John Michael Bob Liza Anna // Sorted by Key","title":"Replace Java for loop with Stream API","body":"<p><em><strong>You can use the below approaches to get the desired results:</strong></em></p>\n<p><em><strong>Here,</strong></em></p>\n<ul>\n<li><strong>Approach 1 :</strong> Took the values from the map and converted into Array. <em>No sorting is considered here.</em></li>\n<li><strong>Approach 2:</strong> Took the <code>entrySet()</code> and sorted by the key of the map and converted the entryset into values using <code>map()</code> and then converted into Array. <em>Sorting is considered here.</em></li>\n</ul>\n<p><strong>Code:</strong></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Map&lt;Integer, String&gt; people = \n                Map.of(1, &quot;John&quot;, 2, &quot;Michael&quot;, 3, &quot;Bob&quot;, 4, &quot;Liza&quot;, 5, &quot;Anna&quot;);\n\n        //Approach 1 : Data without sorting\n        String[] peopleNames = people.values().toArray(String[]::new);\n\n        //Approach 2: Data with sorting by key of the map\n        String[] peopleNamesSortedByKey = people.entrySet().stream()\n                .sorted(Map.Entry.comparingByKey())\n                .map(Map.Entry::getValue).toArray(String[]::new);\n    }\n}\n</code></pre>\n<p><strong>Output::</strong></p>\n<pre><code>Bob Michael John Anna Liza // No sorting\nJohn Michael Bob Liza Anna // Sorted by Key\n</code></pre>\n"}],"owner":{"account_id":26611978,"reputation":11,"user_id":20232041,"display_name":"Dmitriy Dmitruk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1666071557,"creation_date":1665670253,"question_id":74057221,"body_markdown":"*My code:*  \r\n\r\n    Map&lt;Integer, String&gt; people = Map.of(\r\n          1, &quot;John&quot;, 2, &quot;Michael&quot;, 3, &quot;Bob&quot;, 4, &quot;Liza&quot;, 5, &quot;Anna&quot;\r\n     );\r\n\r\n    String[] names = new String[people.size];\r\n\r\n    for (int i = 1; i &lt; names.length; i++) {\r\n         names[i] = people.get(i);\r\n    }\r\n\r\n\r\nI want to replace `for`-loop with something like:\r\n\r\n    Arrays.stream(people.forEach(person -&gt; names[i] = persons.get(i)));\r\n\r\n","title":"Replace Java for loop with Stream API","body":"<p><em>My code:</em></p>\n<pre><code>Map&lt;Integer, String&gt; people = Map.of(\n      1, &quot;John&quot;, 2, &quot;Michael&quot;, 3, &quot;Bob&quot;, 4, &quot;Liza&quot;, 5, &quot;Anna&quot;\n );\n\nString[] names = new String[people.size];\n\nfor (int i = 1; i &lt; names.length; i++) {\n     names[i] = people.get(i);\n}\n</code></pre>\n<p>I want to replace <code>for</code>-loop with something like:</p>\n<pre><code>Arrays.stream(people.forEach(person -&gt; names[i] = persons.get(i)));\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9040,"page":952,"page_size":100}
