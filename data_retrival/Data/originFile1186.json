{"items":[{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"גלעד ברקן"},"score":0,"creation_date":1656772120,"post_id":72839667,"comment_id":128655599,"body_markdown":"I thought [Wikipedia](https://en.wikipedia.org/wiki/Longest_increasing_subsequence#Efficient_algorithms) includes a demonstration of how to do that.","body":"I thought <a href=\"https://en.wikipedia.org/wiki/Longest_increasing_subsequence#Efficient_algorithms\" rel=\"nofollow noreferrer\">Wikipedia</a> includes a demonstration of how to do that."},{"owner":{"account_id":25591139,"reputation":75,"user_id":19367829,"display_name":"Save Soil"},"score":0,"creation_date":1656772241,"post_id":72839667,"comment_id":128655619,"body_markdown":"@גלעדברקן yes for tabulation  approach.I wanted to know how to do it in Recursion solution","body":"@גלעדברקן yes for tabulation  approach.I wanted to know how to do it in Recursion solution"}],"answers":[{"tags":[],"owner":{"account_id":7279640,"reputation":46,"user_id":5549819,"display_name":"lap hoanglap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657819742,"creation_date":1657131733,"answer_id":72888270,"question_id":72839667,"body_markdown":"\r\n```\r\npublic void longestIncreasingSubsequence(int[] numbers)\r\n   {\r\n       List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n       List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n       for (int i = 0; i &lt; numbers.length; i++) {\r\n           temp.add(numbers[i]);\r\n           if ( i + 1 == numbers.length || numbers[i] &gt; numbers[i + 1])\r\n           {\r\n               if(temp.size() &gt;= result.size())\r\n               {\r\n                   result.clear();\r\n                   result.addAll(temp);\r\n               }\r\n               temp.clear();\r\n           }\r\n       }\r\n       System.out.println(result);\r\n   }\r\n```\r\nTry this\r\n\r\nI got your point. Plz Check my new code\r\n```\r\n  public void longestSubSequence(int[] nums)\r\n    {\r\n        int index=0;\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n         while (index&lt;nums.length)\r\n        {\r\n            int val=nums[index];\r\n            List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n            temp.add(val);\r\n            for (int i = index+1; i &lt; nums.length; i++) {\r\n                int currentVal = nums[i];\r\n                if (val &lt; currentVal)\r\n                {\r\n                    val= currentVal;\r\n                    temp.add(currentVal);\r\n                }\r\n\r\n            }\r\n            if(temp.size()&gt;= result.size())\r\n            {\r\n                result.clear();\r\n                result.addAll(temp);\r\n                temp.clear();\r\n            }\r\n            index++;\r\n        }\r\n        System.out.println(result);\r\n    }","title":"Longest Increasing Subsequence Length and Value","body":"<pre><code>public void longestIncreasingSubsequence(int[] numbers)\n   {\n       List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n       List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n       for (int i = 0; i &lt; numbers.length; i++) {\n           temp.add(numbers[i]);\n           if ( i + 1 == numbers.length || numbers[i] &gt; numbers[i + 1])\n           {\n               if(temp.size() &gt;= result.size())\n               {\n                   result.clear();\n                   result.addAll(temp);\n               }\n               temp.clear();\n           }\n       }\n       System.out.println(result);\n   }\n</code></pre>\n<p>Try this</p>\n<p>I got your point. Plz Check my new code</p>\n<pre><code>  public void longestSubSequence(int[] nums)\n    {\n        int index=0;\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n         while (index&lt;nums.length)\n        {\n            int val=nums[index];\n            List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n            temp.add(val);\n            for (int i = index+1; i &lt; nums.length; i++) {\n                int currentVal = nums[i];\n                if (val &lt; currentVal)\n                {\n                    val= currentVal;\n                    temp.add(currentVal);\n                }\n\n            }\n            if(temp.size()&gt;= result.size())\n            {\n                result.clear();\n                result.addAll(temp);\n                temp.clear();\n            }\n            index++;\n        }\n        System.out.println(result);\n    }\n</code></pre>\n"}],"owner":{"account_id":25591139,"reputation":75,"user_id":19367829,"display_name":"Save Soil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657819742,"creation_date":1656770909,"question_id":72839667,"body_markdown":"Below code gives the length of longest increasing subsequence. Code works fine.\r\n\r\n**Input:** nums = [10,9,2,5,3,7,101,18]  \r\n**Output:** 4  \r\n**Explanation:** The longest increasing subsequence is [2,3,7,101], therefore the length is 4.\r\n\r\nWith the help of below code I want to print which array elements are part of the subsequence i.e [2,3,7,101], \r\nHow can I do it? Or do I need to write completely different code?\r\n\r\nIs there any generic way to do for other problems to do like longest palindromic subsequence?\r\n\r\n    public int lengthOfLIS(int[] nums) {\r\n      return helper(nums, 0, Integer.MIN_VALUE);\r\n    }\r\n    \r\n    public int helper(int[] arr, int i, int prev) {\r\n      if (i == arr.length)\r\n        return 0;\r\n      int include = 0;\r\n      if (arr[i] &gt; prev) {\r\n        include = 1 + helper(arr, i + 1, arr[i]);\r\n      }\r\n      int exclude = helper(arr, i + 1, prev);\r\n      return Math.max(include, exclude);\r\n    }\r\n","title":"Longest Increasing Subsequence Length and Value","body":"<p>Below code gives the length of longest increasing subsequence. Code works fine.</p>\n<p><strong>Input:</strong> nums = [10,9,2,5,3,7,101,18]<br />\n<strong>Output:</strong> 4<br />\n<strong>Explanation:</strong> The longest increasing subsequence is [2,3,7,101], therefore the length is 4.</p>\n<p>With the help of below code I want to print which array elements are part of the subsequence i.e [2,3,7,101],\nHow can I do it? Or do I need to write completely different code?</p>\n<p>Is there any generic way to do for other problems to do like longest palindromic subsequence?</p>\n<pre><code>public int lengthOfLIS(int[] nums) {\n  return helper(nums, 0, Integer.MIN_VALUE);\n}\n\npublic int helper(int[] arr, int i, int prev) {\n  if (i == arr.length)\n    return 0;\n  int include = 0;\n  if (arr[i] &gt; prev) {\n    include = 1 + helper(arr, i + 1, arr[i]);\n  }\n  int exclude = helper(arr, i + 1, prev);\n  return Math.max(include, exclude);\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657819334,"creation_date":1657819334,"answer_id":72984396,"question_id":72983574,"body_markdown":"there is no unsigned integer in java, but there is `long`, which can hold whole unsigned integer. You can convert between long, and bytes https://stackoverflow.com/questions/4485128/how-do-i-convert-long-to-byte-and-back-in-java","title":"How to I convert to Unsigned Integer?","body":"<p>there is no unsigned integer in java, but there is <code>long</code>, which can hold whole unsigned integer. You can convert between long, and bytes <a href=\"https://stackoverflow.com/questions/4485128/how-do-i-convert-long-to-byte-and-back-in-java\">How do I convert Long to byte[] and back in java</a></p>\n"}],"owner":{"account_id":329401,"reputation":1513,"user_id":652890,"accept_rate":44,"display_name":"allthenutsandbolts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657819773,"answer_count":1,"score":0,"last_activity_date":1657819334,"creation_date":1657814980,"question_id":72983574,"body_markdown":"I have some data which I&#39;m reading from a Binary File, I see that the data is of unsigned type. How can I read the file in Java to convert it correctly? Right now I&#39;m having to do \r\n```\r\n byte[] bdata = new byte[DataLen];\r\n Integer.reverseBytes(ByteBuffer.wrap(bdata).getInt(0)) &amp; (-1L &gt;&gt;&gt; 32)\r\n```\r\n\r\nto get the data correctly. Is there a easier way to do it ?","title":"How to I convert to Unsigned Integer?","body":"<p>I have some data which I'm reading from a Binary File, I see that the data is of unsigned type. How can I read the file in Java to convert it correctly? Right now I'm having to do</p>\n<pre><code> byte[] bdata = new byte[DataLen];\n Integer.reverseBytes(ByteBuffer.wrap(bdata).getInt(0)) &amp; (-1L &gt;&gt;&gt; 32)\n</code></pre>\n<p>to get the data correctly. Is there a easier way to do it ?</p>\n"},{"tags":["java","loops","recursion"],"answers":[{"tags":[],"owner":{"account_id":25792782,"reputation":11,"user_id":19536572,"display_name":"Ethan Rajkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657819101,"creation_date":1657790562,"answer_id":72978168,"question_id":72977945,"body_markdown":"You would be correct about the state of your variables at the end of the first loop to finish (this is NOT the same as your first loop to begin due to recursion), but keep in mind your iteration statement increments `i` after every loop. \r\n\r\nInside the loop, the length of `remainingLetters` is decreased by one before making another recursive call. This continues until the length of the String is 0, in which case the if statement in the function evaluates as true and ignores the for loop (effectively ending that chain of recursion and advancing the outer loop).","title":"Statements after Recursion Call in Java","body":"<p>You would be correct about the state of your variables at the end of the first loop to finish (this is NOT the same as your first loop to begin due to recursion), but keep in mind your iteration statement increments <code>i</code> after every loop.</p>\n<p>Inside the loop, the length of <code>remainingLetters</code> is decreased by one before making another recursive call. This continues until the length of the String is 0, in which case the if statement in the function evaluates as true and ignores the for loop (effectively ending that chain of recursion and advancing the outer loop).</p>\n"}],"owner":{"account_id":25806462,"reputation":11,"user_id":19547929,"display_name":"Angie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657819101,"creation_date":1657789502,"question_id":72977945,"body_markdown":"I&#39;m trying to learn recursion but am having a hard time understanding the following code.Specifically, When these two statements [remainLetters = insertAtIndex(remainLetters, tmpString, i);scramLetters = removeFromIndex(scramLetters, scramLetters.length() - 1) ]execute for the first time, remainLetters is set to be &quot;d&quot;, making the remainLetters length of 1 while i = 0, but why didn&#39;t it enter the for loop afterwards since it satisfies the condition: i &lt; remainLetters.length()? Thank you in advance! \r\n\r\n    public class WordScrambler {\r\n    /* Output every possible combination of a word.\r\n       Each recursive call moves a letter from\r\n       remainLetters&quot; to scramLetters&quot;.\r\n    */\r\n    public static void scrambleLetters(String remainLetters,  // Remaining letters\r\n                                       String scramLetters) { // Scrambled letters\r\n        String tmpString;      // Temp word combinations\r\n        int i;                 // Loop index\r\n\r\n        if (remainLetters.length() == 0) { // Base case: All letters used\r\n            System.out.println(scramLetters);\r\n        }\r\n        else {                             // Recursive case: move a letter from\r\n            // remaining to scrambled letters\r\n            for (i = 0; i &lt; remainLetters.length(); ++i) {\r\n                // Move letter to scrambled letters\r\n\r\n                tmpString = remainLetters.substring(i, i + 1);\r\n                remainLetters = removeFromIndex(remainLetters, i);\r\n                scramLetters = scramLetters + tmpString;\r\n\r\n                scrambleLetters(remainLetters, scramLetters);\r\n\r\n                // Put letter back in remaining letters\r\n\r\n                remainLetters = insertAtIndex(remainLetters, tmpString, i);\r\n                scramLetters = removeFromIndex(scramLetters, scramLetters.length() - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Returns a new String without the character at location remLoc\r\n    public static String removeFromIndex(String origStr, int remLoc) {\r\n        String finalStr;      // Temp string to extract char\r\n\r\n        finalStr = origStr.substring(0, remLoc);                     // Copy before location remLoc\r\n        finalStr += origStr.substring(remLoc + 1, origStr.length()); // Copy after location remLoc\r\n\r\n        return finalStr;\r\n    }\r\n\r\n    // Returns a new String with the character specified by insertStr\r\n    // inserted at location addLoc\r\n    public static String insertAtIndex(String origStr, String insertStr, int addLoc) {\r\n        String finalStr;      // Temp string to extract char\r\n\r\n        finalStr = origStr.substring(0, addLoc);                 // Copy before location addLoc\r\n        finalStr += insertStr;                                   // Copy character to location addLoc\r\n        finalStr += origStr.substring(addLoc, origStr.length()); // Copy after location addLoc\r\n\r\n        return finalStr;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        scrambleLetters(&quot;word&quot;, &quot;&quot;);\r\n    }\r\n}\r\n\r\n","title":"Statements after Recursion Call in Java","body":"<p>I'm trying to learn recursion but am having a hard time understanding the following code.Specifically, When these two statements [remainLetters = insertAtIndex(remainLetters, tmpString, i);scramLetters = removeFromIndex(scramLetters, scramLetters.length() - 1) ]execute for the first time, remainLetters is set to be &quot;d&quot;, making the remainLetters length of 1 while i = 0, but why didn't it enter the for loop afterwards since it satisfies the condition: i &lt; remainLetters.length()? Thank you in advance!</p>\n<pre><code>public class WordScrambler {\n/* Output every possible combination of a word.\n   Each recursive call moves a letter from\n   remainLetters&quot; to scramLetters&quot;.\n*/\npublic static void scrambleLetters(String remainLetters,  // Remaining letters\n                                   String scramLetters) { // Scrambled letters\n    String tmpString;      // Temp word combinations\n    int i;                 // Loop index\n\n    if (remainLetters.length() == 0) { // Base case: All letters used\n        System.out.println(scramLetters);\n    }\n    else {                             // Recursive case: move a letter from\n        // remaining to scrambled letters\n        for (i = 0; i &lt; remainLetters.length(); ++i) {\n            // Move letter to scrambled letters\n\n            tmpString = remainLetters.substring(i, i + 1);\n            remainLetters = removeFromIndex(remainLetters, i);\n            scramLetters = scramLetters + tmpString;\n\n            scrambleLetters(remainLetters, scramLetters);\n\n            // Put letter back in remaining letters\n\n            remainLetters = insertAtIndex(remainLetters, tmpString, i);\n            scramLetters = removeFromIndex(scramLetters, scramLetters.length() - 1);\n        }\n    }\n}\n\n// Returns a new String without the character at location remLoc\npublic static String removeFromIndex(String origStr, int remLoc) {\n    String finalStr;      // Temp string to extract char\n\n    finalStr = origStr.substring(0, remLoc);                     // Copy before location remLoc\n    finalStr += origStr.substring(remLoc + 1, origStr.length()); // Copy after location remLoc\n\n    return finalStr;\n}\n\n// Returns a new String with the character specified by insertStr\n// inserted at location addLoc\npublic static String insertAtIndex(String origStr, String insertStr, int addLoc) {\n    String finalStr;      // Temp string to extract char\n\n    finalStr = origStr.substring(0, addLoc);                 // Copy before location addLoc\n    finalStr += insertStr;                                   // Copy character to location addLoc\n    finalStr += origStr.substring(addLoc, origStr.length()); // Copy after location addLoc\n\n    return finalStr;\n}\n\npublic static void main(String[] args) {\n    \n    scrambleLetters(&quot;word&quot;, &quot;&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-studio","android-layout","window-soft-input-mode"],"answers":[{"tags":[],"owner":{"account_id":25737161,"reputation":169,"user_id":19491703,"display_name":"Beant Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657818677,"creation_date":1657818677,"answer_id":72984290,"question_id":72982883,"body_markdown":"Try this code this will show buttons above the keyboard. When we do want to display any view above the keyboard that view should be aligned bottom.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/addnote&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/my_toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;?attr/colorPrimary&quot;\r\n        android:elevation=&quot;4dp&quot;\r\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n        app:titleTextColor=&quot;@color/white&quot; /&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_below=&quot;@id/my_toolbar&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;\r\n        android:layout_above=&quot;@id/bottom_layout&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/addnote_title&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:hint=&quot;Title&quot;&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/addnote_title_text&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    tools:layout_editor_absoluteX=&quot;23dp&quot;\r\n                    tools:layout_editor_absoluteY=&quot;28dp&quot; /&gt;\r\n\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/addnote_descp&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:hint=&quot;Notes&quot;&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/addnote_descp_text&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;top&quot;\r\n                    android:lines=&quot;10&quot;\r\n                    tools:layout_editor_absoluteX=&quot;23dp&quot;\r\n                    tools:layout_editor_absoluteY=&quot;28dp&quot; /&gt;\r\n\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n        \r\n    &lt;/ScrollView&gt;\r\n    \r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/bottom_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:padding=&quot;2dp&quot;&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/check_btn&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:background=&quot;@color/black&quot;\r\n            android:layout_marginRight=&quot;2dp&quot;/&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/bold_btn&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:background=&quot;@color/black&quot;\r\n            android:layout_marginLeft=&quot;2dp&quot;/&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/RelativeLayout&gt;","title":"Android: Adjust the buttons above soft keyboard on clicking edittext","body":"<p>Try this code this will show buttons above the keyboard. When we do want to display any view above the keyboard that view should be aligned bottom.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/addnote&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/my_toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?attr/actionBarSize&quot;\n    android:background=&quot;?attr/colorPrimary&quot;\n    android:elevation=&quot;4dp&quot;\n    android:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\n    app:titleTextColor=&quot;@color/white&quot; /&gt;\n\n&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_below=&quot;@id/my_toolbar&quot;\n    android:layout_marginBottom=&quot;20dp&quot;\n    android:layout_above=&quot;@id/bottom_layout&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    \n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/addnote_title&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:layout_marginRight=&quot;5dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:hint=&quot;Title&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/addnote_title_text&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                tools:layout_editor_absoluteX=&quot;23dp&quot;\n                tools:layout_editor_absoluteY=&quot;28dp&quot; /&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/addnote_descp&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:layout_marginRight=&quot;5dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:hint=&quot;Notes&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/addnote_descp_text&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;top&quot;\n                android:lines=&quot;10&quot;\n                tools:layout_editor_absoluteX=&quot;23dp&quot;\n                tools:layout_editor_absoluteY=&quot;28dp&quot; /&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;/LinearLayout&gt;\n    \n&lt;/ScrollView&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/bottom_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:padding=&quot;2dp&quot;&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/check_btn&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:background=&quot;@color/black&quot;\n        android:layout_marginRight=&quot;2dp&quot;/&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/bold_btn&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:background=&quot;@color/black&quot;\n        android:layout_marginLeft=&quot;2dp&quot;/&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n"}],"owner":{"account_id":25354345,"reputation":1,"user_id":19170719,"display_name":"Abhilash Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657818677,"creation_date":1657811780,"question_id":72982883,"body_markdown":"I am trying to adjust the softkeyboard right below the image buttons, but it covers the image buttons which does not makes it clickable . I want the buttons to be right above the softkeyboard when the user clicks on the edittext. I have tried using the `windowSoftInputMode=&quot;adjustResize&quot;`, but it does not seem to work.\r\n\r\n\r\nBelow is my layout.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/addnote&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/my_toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            android:elevation=&quot;4dp&quot;\r\n            android:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n            app:titleTextColor=&quot;@color/white&quot; /&gt;\r\n    \r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/addnote_title&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;5dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:hint=&quot;Title&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:id=&quot;@+id/addnote_title_text&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                tools:layout_editor_absoluteX=&quot;23dp&quot;\r\n                tools:layout_editor_absoluteY=&quot;28dp&quot; /&gt;\r\n    \r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/addnote_descp&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;5dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:hint=&quot;Notes&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:id=&quot;@+id/addnote_descp_text&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;top&quot;\r\n                android:lines=&quot;10&quot;\r\n                tools:layout_editor_absoluteX=&quot;23dp&quot;\r\n                tools:layout_editor_absoluteY=&quot;28dp&quot; /&gt;\r\n    \r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:padding=&quot;2dp&quot;&gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/check_btn&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@color/black&quot;\r\n                android:layout_marginRight=&quot;2dp&quot;\r\n                android:src=&quot;@drawable/checkbox&quot;/&gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/bold_btn&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@color/black&quot;\r\n                android:layout_marginLeft=&quot;2dp&quot;\r\n                android:src=&quot;@drawable/format_bold&quot;/&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nand in the AndroidManifest.xml file i have \r\n\r\n    &lt;activity\r\n        android:name=&quot;.AddNote&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:windowSoftInputMode=&quot;adjustResize&quot;/&gt;","title":"Android: Adjust the buttons above soft keyboard on clicking edittext","body":"<p>I am trying to adjust the softkeyboard right below the image buttons, but it covers the image buttons which does not makes it clickable . I want the buttons to be right above the softkeyboard when the user clicks on the edittext. I have tried using the <code>windowSoftInputMode=&quot;adjustResize&quot;</code>, but it does not seem to work.</p>\n<p>Below is my layout.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/addnote&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/my_toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        android:background=&quot;?attr/colorPrimary&quot;\n        android:elevation=&quot;4dp&quot;\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\n        app:titleTextColor=&quot;@color/white&quot; /&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/addnote_title&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;5dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginRight=&quot;5dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:hint=&quot;Title&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/addnote_title_text&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            tools:layout_editor_absoluteX=&quot;23dp&quot;\n            tools:layout_editor_absoluteY=&quot;28dp&quot; /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/addnote_descp&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;5dp&quot;\n        android:layout_marginRight=&quot;5dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:hint=&quot;Notes&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/addnote_descp_text&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;top&quot;\n            android:lines=&quot;10&quot;\n            tools:layout_editor_absoluteX=&quot;23dp&quot;\n            tools:layout_editor_absoluteY=&quot;28dp&quot; /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;2dp&quot;&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/check_btn&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@color/black&quot;\n            android:layout_marginRight=&quot;2dp&quot;\n            android:src=&quot;@drawable/checkbox&quot;/&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/bold_btn&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@color/black&quot;\n            android:layout_marginLeft=&quot;2dp&quot;\n            android:src=&quot;@drawable/format_bold&quot;/&gt;\n\n\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>and in the AndroidManifest.xml file i have</p>\n<pre><code>&lt;activity\n    android:name=&quot;.AddNote&quot;\n    android:exported=&quot;true&quot;\n    android:windowSoftInputMode=&quot;adjustResize&quot;/&gt;\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-rcp","nattable"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1623858748,"creation_date":1623858748,"answer_id":68006124,"question_id":68005564,"body_markdown":"If you only want to highlight parts of a text inside a cell, you need the Nebula Extension. It is described in the New &amp; Noteworthy of 1.5\r\n\r\nhttps://www.eclipse.org/nattable/nandn/nandn_150.php\r\n\r\nThere is also a pointer to the corresponding example. ","title":"Highlight text in nattable cell","body":"<p>If you only want to highlight parts of a text inside a cell, you need the Nebula Extension. It is described in the New &amp; Noteworthy of 1.5</p>\n<p><a href=\"https://www.eclipse.org/nattable/nandn/nandn_150.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/nattable/nandn/nandn_150.php</a></p>\n<p>There is also a pointer to the corresponding example.</p>\n"}],"owner":{"account_id":1792527,"reputation":2445,"user_id":1632609,"accept_rate":72,"display_name":"Wearybands"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68006124,"answer_count":1,"score":0,"last_activity_date":1657817315,"creation_date":1623856712,"question_id":68005564,"body_markdown":"I have a nettable with different columns and rows filled with data. I want to highlight specific text in cells when some text is searched in a text field. \r\n\r\nAfter lookin into https://www.eclipse.org/nattable/nandn/nandn_150.php\r\nI tried the following but nothing is highlighted when I press the apply button\r\n\r\n    this.applyButton = new Button(parent, SWT.PUSH);\r\n\tthis.applyButton.addSelectionListener(getSelectionListener());\r\n\r\n    private SelectionListener getSelectionListener(){\r\n\t\treturn new SelectionAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void widgetSelected(SelectionEvent e) {\r\n\t\t\t\tString text = textBox.getText();\r\n\t\t\t\tif(!text.trim().isEmpty()) {\r\n\t\t\t\t\tapplyHighlighting(text);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n    public void applyHighlighting(String text) {\r\n\t\tRegexMarkupValue regexMarkup = new RegexMarkupValue(&quot;&quot;, &quot;&lt;span style=\\&quot;background-color:rgb(255, 255, 0)\\&quot;&gt;&quot;,\r\n\t\t\t\t&quot;&lt;/span&gt;&quot;);\r\n\t\tnatTable.addConfiguration(new DefaultNatTableStyleConfiguration() {\r\n\t\t\t{\r\n\t\t\t\tthis.cellPainter = new BackgroundPainter(new PaddingDecorator(new RichTextCellPainter(), 2));\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void configureRegistry(IConfigRegistry configRegistry) {\r\n\t\t\t\tsuper.configureRegistry(configRegistry);\r\n\t\t\t\t// markup for highlighting\r\n\t\t\t\tMarkupDisplayConverter markupConverter = new MarkupDisplayConverter();\r\n\t\t\t\tmarkupConverter.registerMarkup(&quot;highlight&quot;, regexMarkup);\r\n\t\t\t\t// register markup display converter for normal display mode in the body\r\n\t\t\t\tconfigRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER, markupConverter,\r\n\t\t\t\t\t\tDisplayMode.NORMAL, GridRegion.BODY);\r\n\t\t\t}\r\n\t\t});\r\n\t\tregexMarkup.setRegexValue(text.isEmpty() ? &quot;&quot; : &quot;(&quot; + text + &quot;)&quot;);\r\n\t}\r\n\r\n\r\n\r\nso with this I assumed when I type something in the text field and click on apply button text in the cells provided in the text field should be highlighted but nothing is changed. Any help?\r\n\r\nThanks","title":"Highlight text in nattable cell","body":"<p>I have a nettable with different columns and rows filled with data. I want to highlight specific text in cells when some text is searched in a text field.</p>\n<p>After lookin into <a href=\"https://www.eclipse.org/nattable/nandn/nandn_150.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/nattable/nandn/nandn_150.php</a>\nI tried the following but nothing is highlighted when I press the apply button</p>\n<pre><code>this.applyButton = new Button(parent, SWT.PUSH);\nthis.applyButton.addSelectionListener(getSelectionListener());\n\nprivate SelectionListener getSelectionListener(){\n    return new SelectionAdapter() {\n        @Override\n        public void widgetSelected(SelectionEvent e) {\n            String text = textBox.getText();\n            if(!text.trim().isEmpty()) {\n                applyHighlighting(text);\n            }\n        }\n    };\n}\n\npublic void applyHighlighting(String text) {\n    RegexMarkupValue regexMarkup = new RegexMarkupValue(&quot;&quot;, &quot;&lt;span style=\\&quot;background-color:rgb(255, 255, 0)\\&quot;&gt;&quot;,\n            &quot;&lt;/span&gt;&quot;);\n    natTable.addConfiguration(new DefaultNatTableStyleConfiguration() {\n        {\n            this.cellPainter = new BackgroundPainter(new PaddingDecorator(new RichTextCellPainter(), 2));\n        }\n\n        @Override\n        public void configureRegistry(IConfigRegistry configRegistry) {\n            super.configureRegistry(configRegistry);\n            // markup for highlighting\n            MarkupDisplayConverter markupConverter = new MarkupDisplayConverter();\n            markupConverter.registerMarkup(&quot;highlight&quot;, regexMarkup);\n            // register markup display converter for normal display mode in the body\n            configRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER, markupConverter,\n                    DisplayMode.NORMAL, GridRegion.BODY);\n        }\n    });\n    regexMarkup.setRegexValue(text.isEmpty() ? &quot;&quot; : &quot;(&quot; + text + &quot;)&quot;);\n}\n</code></pre>\n<p>so with this I assumed when I type something in the text field and click on apply button text in the cells provided in the text field should be highlighted but nothing is changed. Any help?</p>\n<p>Thanks</p>\n"},{"tags":["java","telegram"],"comments":[{"owner":{"account_id":14369619,"reputation":1049,"user_id":10379728,"display_name":"Roj"},"score":1,"creation_date":1656060552,"post_id":72739412,"comment_id":128484366,"body_markdown":"You get the payload from your WebRTC client. You should have an active WebRTC connection alongside that if you want to stay in the call.","body":"You get the payload from your WebRTC client. You should have an active WebRTC connection alongside that if you want to stay in the call."},{"owner":{"account_id":3233742,"reputation":95,"user_id":2728393,"accept_rate":78,"display_name":"pswrdf"},"score":0,"creation_date":1656061521,"post_id":72739412,"comment_id":128484697,"body_markdown":"@roj1512 what does WebRTC mean relative to telegram? What should I do?","body":"@roj1512 what does WebRTC mean relative to telegram? What should I do?"}],"answers":[{"tags":[],"owner":{"account_id":3233742,"reputation":95,"user_id":2728393,"accept_rate":78,"display_name":"pswrdf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657816387,"creation_date":1657816387,"answer_id":72983856,"question_id":72739412,"body_markdown":"This data could be received from tgcalls library.\r\n\r\nhttps://github.com/tdlib/td/issues/1522","title":"Telegram api returns error on join videocall","body":"<p>This data could be received from tgcalls library.</p>\n<p><a href=\"https://github.com/tdlib/td/issues/1522\" rel=\"nofollow noreferrer\">https://github.com/tdlib/td/issues/1522</a></p>\n"}],"owner":{"account_id":3233742,"reputation":95,"user_id":2728393,"accept_rate":78,"display_name":"pswrdf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72983856,"answer_count":1,"score":1,"last_activity_date":1657816387,"creation_date":1656048923,"question_id":72739412,"body_markdown":"I have create telegram client with library https://github.com/tdlight-team/tdlight-java\r\n\r\nI&#39;m trying to join just created videoCall:\r\n```\r\n        simpleTelegramClient.send(new TdApi.JoinGroupCall(groupCallID,\r\n                        null,\r\n                        0,\r\n                        &quot;{}&quot;,\r\n                        true,\r\n                        false,\r\n                        null),\r\n```\r\nBut it returns GROUPCALL_SSRC_DUPLICATE_MUCH. Whate does it mean? and what mean parameters: audioSourceId and payload? Where I could get it? It&#39;s about a java wrap around tdlib, but I believe the answer will match with native lib.","title":"Telegram api returns error on join videocall","body":"<p>I have create telegram client with library <a href=\"https://github.com/tdlight-team/tdlight-java\" rel=\"nofollow noreferrer\">https://github.com/tdlight-team/tdlight-java</a></p>\n<p>I'm trying to join just created videoCall:</p>\n<pre><code>        simpleTelegramClient.send(new TdApi.JoinGroupCall(groupCallID,\n                        null,\n                        0,\n                        &quot;{}&quot;,\n                        true,\n                        false,\n                        null),\n</code></pre>\n<p>But it returns GROUPCALL_SSRC_DUPLICATE_MUCH. Whate does it mean? and what mean parameters: audioSourceId and payload? Where I could get it? It's about a java wrap around tdlib, but I believe the answer will match with native lib.</p>\n"},{"tags":["java","c","sockets"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1657816632,"post_id":72983844,"comment_id":128905808,"body_markdown":"What do you mean with &quot;C file&quot;? You don&#39;t make socket connections to files (except maybe Unix domain sockets), did you mean a program (which happens to be written in C)?","body":"What do you mean with &quot;C file&quot;? You don&#39;t make socket connections to files (except maybe Unix domain sockets), did you mean a program (which happens to be written in C)?"},{"owner":{"account_id":25809986,"reputation":9,"user_id":19550925,"display_name":"Sola Delhi"},"score":0,"creation_date":1657817494,"post_id":72983844,"comment_id":128906091,"body_markdown":"yes the program written in C which is on local system and Java is as a war file on tomcat.","body":"yes the program written in C which is on local system and Java is as a war file on tomcat."},{"owner":{"account_id":9115493,"reputation":11798,"user_id":6782754,"display_name":"Gerhardh"},"score":0,"creation_date":1657818895,"post_id":72983844,"comment_id":128906578,"body_markdown":"AFAIR tomcat is some server application. Also you mention `localhost:8080` which indicates that Jave application is a server. Then you state &quot;Is it not connecting to local C file&quot;. This should be &quot;The local program compiled from C file cannot connect to Java application&quot;, correct?","body":"AFAIR tomcat is some server application. Also you mention <code>localhost:8080</code> which indicates that Jave application is a server. Then you state &quot;Is it not connecting to local C file&quot;. This should be &quot;The local program compiled from C file cannot connect to Java application&quot;, correct?"},{"owner":{"account_id":25809986,"reputation":9,"user_id":19550925,"display_name":"Sola Delhi"},"score":0,"creation_date":1657821717,"post_id":72983844,"comment_id":128907568,"body_markdown":"yes local c file not connected to Java code on tomcat","body":"yes local c file not connected to Java code on tomcat"},{"owner":{"account_id":7024615,"reputation":31207,"user_id":5382650,"display_name":"Craig Estey"},"score":0,"creation_date":1657825573,"post_id":72983844,"comment_id":128908747,"body_markdown":"After a cursory look at tomcat, it seems it has a lot of API calls available. So, if your java program works standalone, it is using standard low-level calls like (the equiv. of) `socket`, `bind`, `listen`, `accept`, etc? If you want to run it in tomcat, don&#39;t you have to use the tomcat API calls instead?","body":"After a cursory look at tomcat, it seems it has a lot of API calls available. So, if your java program works standalone, it is using standard low-level calls like (the equiv. of) <code>socket</code>, <code>bind</code>, <code>listen</code>, <code>accept</code>, etc? If you want to run it in tomcat, don&#39;t you have to use the tomcat API calls instead?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657863939,"post_id":72983844,"comment_id":128915502,"body_markdown":"@CraigEstey As far as I&#39;m aware, Tomcat allows you to create normal socket connections using the Java Socket API if you want to.","body":"@CraigEstey As far as I&#39;m aware, Tomcat allows you to create normal socket connections using the Java Socket API if you want to."}],"owner":{"account_id":25809986,"reputation":9,"user_id":19550925,"display_name":"Sola Delhi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1657816342,"creation_date":1657816342,"question_id":72983844,"body_markdown":"I have a project in which I have to make socket connection between war file on tomcat (localhost:8080) and a C file runs on local system. the war file is written in spring boot. The thing is when I run the java code on IDE . It is making the socket connection. But when I deploy that as a war file on tomcat outside the IDE. Its not connecting to local C file.\r\nPlease help.\r\nThanks","title":"Socket connection between war file on tomcat and local file","body":"<p>I have a project in which I have to make socket connection between war file on tomcat (localhost:8080) and a C file runs on local system. the war file is written in spring boot. The thing is when I run the java code on IDE . It is making the socket connection. But when I deploy that as a war file on tomcat outside the IDE. Its not connecting to local C file.\nPlease help.\nThanks</p>\n"},{"tags":["java","postgresql","autosuggest","tsvector"],"comments":[{"owner":{"account_id":11715678,"reputation":11897,"user_id":13808319,"display_name":"Mike Organek"},"score":3,"creation_date":1657734488,"post_id":72970446,"comment_id":128883203,"body_markdown":"The single character, `t`, is a stopword in my copy of `/usr/share/postgresql/10/tsearch_data/english.stop`.","body":"The single character, <code>t</code>, is a stopword in my copy of <code>&#47;usr&#47;share&#47;postgresql&#47;10&#47;tsearch_data&#47;english.stop</code>."}],"owner":{"account_id":17920709,"reputation":11,"user_id":13020647,"display_name":"manas chinta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657816307,"creation_date":1657733875,"question_id":72970446,"body_markdown":"I am trying to write a autosuggest API using tsVectors in postgres. When I am running the following query:\r\n\r\n    select to_tsvector(&#39;english&#39;, &#39;This is a test&#39;) @@  to_tsquery(&#39;tes:*&#39;);```\r\n\r\nPostgres is returning `true`, which is expected. But when I am running the following one,\r\n\r\n    select to_tsvector(&#39;english&#39;, &#39;This is test&#39;) @@  to_tsquery(&#39;t:*&#39;);\r\n\r\nPostgres is returning `false`, which is unexpected. Does tsQueries don&#39;t work when used with a single alphabet followed by an wildcard operator ? \r\nIs there a solution for this situation ?","title":"TsVector in postgres is returning uncertain results when used with single alphabets","body":"<p>I am trying to write a autosuggest API using tsVectors in postgres. When I am running the following query:</p>\n<pre><code>select to_tsvector('english', 'This is a test') @@  to_tsquery('tes:*');```\n</code></pre>\n<p>Postgres is returning <code>true</code>, which is expected. But when I am running the following one,</p>\n<pre><code>select to_tsvector('english', 'This is test') @@  to_tsquery('t:*');\n</code></pre>\n<p>Postgres is returning <code>false</code>, which is unexpected. Does tsQueries don't work when used with a single alphabet followed by an wildcard operator ?\nIs there a solution for this situation ?</p>\n"},{"tags":["java","sql-server","spring","maven","connection"],"comments":[{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1657830125,"post_id":72983828,"comment_id":128910101,"body_markdown":"Might be TLS secure tunnel failure. Try capture the connection packets using Wireshark, see if there is a TLS failure","body":"Might be TLS secure tunnel failure. Try capture the connection packets using Wireshark, see if there is a TLS failure"}],"owner":{"account_id":22915104,"reputation":125,"user_id":17051811,"display_name":"sunShine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657816267,"creation_date":1657816267,"question_id":72983828,"body_markdown":"I am trying to connect to Microsoft SQL Server. However, I am getting some errors. I tried many things to fix it. Like to check TCP/IP protocols, Java version, password login name etc... \r\n\r\nThis is my error:\r\n&gt;com.microsoft.sqlserver.jdbc.SQLServerException: Connection reset ClientConnectionId:4e2e3738-a56c-4372-9ac8-0dbf0b15a950\r\n\r\nFor connection reset error, there is no too much information, that&#39;s why I couldn&#39;t solve the problem. And I don&#39;t get it.\r\n\r\nIntellij 2022.2\r\nJava JDK: 17\r\nMicrosoft SQL Server 2022\r\n\r\nThis is my code:\r\n\r\nconnection.java\r\n``` package com.example.ms;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\npublic class connection {\r\n    // Connect to your database.\r\n    // Replace server name, username, and password with your credentials\r\n    public static void main(String[] args) {\r\n        String connectionUrl =\r\n                &quot;jdbc:sqlserver://LAPTOP-BHJGHRUA\\\\SQL2022;&quot;\r\n                        + &quot;database=customer;&quot;\r\n                        + &quot;user=username;&quot;\r\n                        + &quot;password=123;&quot;\r\n                        + &quot;encrypt=true;&quot;\r\n                        + &quot;trustServerCertificate=true;&quot;\r\n                        + &quot;loginTimeout=15;&quot;;\r\n\r\n        try (Connection connection = DriverManager.getConnection(connectionUrl);) {\r\n            // Code here.\r\n            System.out.println(&quot;connected&quot;);\r\n        }\r\n        // Handle any errors that may have occurred.\r\n        catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n ```\r\n\r\npom.xml\r\n``` &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ms&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ms&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for ms sql&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.2.1.jre17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n ```","title":"Why am i getting &quot;connection reset&quot; error in SQL Server?","body":"<p>I am trying to connect to Microsoft SQL Server. However, I am getting some errors. I tried many things to fix it. Like to check TCP/IP protocols, Java version, password login name etc...</p>\n<p>This is my error:</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: Connection reset ClientConnectionId:4e2e3738-a56c-4372-9ac8-0dbf0b15a950</p>\n</blockquote>\n<p>For connection reset error, there is no too much information, that's why I couldn't solve the problem. And I don't get it.</p>\n<p>Intellij 2022.2\nJava JDK: 17\nMicrosoft SQL Server 2022</p>\n<p>This is my code:</p>\n<p>connection.java</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class connection {\n    // Connect to your database.\n    // Replace server name, username, and password with your credentials\n    public static void main(String[] args) {\n        String connectionUrl =\n                &quot;jdbc:sqlserver://LAPTOP-BHJGHRUA\\\\SQL2022;&quot;\n                        + &quot;database=customer;&quot;\n                        + &quot;user=username;&quot;\n                        + &quot;password=123;&quot;\n                        + &quot;encrypt=true;&quot;\n                        + &quot;trustServerCertificate=true;&quot;\n                        + &quot;loginTimeout=15;&quot;;\n\n        try (Connection connection = DriverManager.getConnection(connectionUrl);) {\n            // Code here.\n            System.out.println(&quot;connected&quot;);\n        }\n        // Handle any errors that may have occurred.\n        catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ms&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ms&lt;/name&gt;\n    &lt;description&gt;Demo project for ms sql&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;10.2.1.jre17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","h2"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1657667189,"post_id":72959168,"comment_id":128864075,"body_markdown":"The create statement you are trying to run was prepared for MySQL not H2, the `engine... ` part of the command is what is probably causing you the error. Try changing your `spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;` to `spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;MODE=MySQL`  not the `mode` at the end","body":"The create statement you are trying to run was prepared for MySQL not H2, the <code>engine... </code> part of the command is what is probably causing you the error. Try changing your <code>spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;D&zwnj;&#8203;ATABASE_TO_UPPER=fal&zwnj;&#8203;se;</code> to <code>spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;D&zwnj;&#8203;ATABASE_TO_UPPER=fal&zwnj;&#8203;se;MODE=MySQL</code>  not the <code>mode</code> at the end"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1657667206,"post_id":72959168,"comment_id":128864076,"body_markdown":"Let me know if it works and I can add it as an answer","body":"Let me know if it works and I can add it as an answer"},{"owner":{"account_id":20792942,"reputation":33,"user_id":15270673,"display_name":"YgLK"},"score":0,"creation_date":1657669002,"post_id":72959168,"comment_id":128864350,"body_markdown":"@JorgeCampos thank you very much, It solved the second error and some tests pass right now. but the  first error: `Table &quot;store_order_items&quot; not found; SQL statement` still occurs","body":"@JorgeCampos thank you very much, It solved the second error and some tests pass right now. but the  first error: <code>Table &quot;store_order_items&quot; not found; SQL statement</code> still occurs"},{"owner":{"account_id":20792942,"reputation":33,"user_id":15270673,"display_name":"YgLK"},"score":1,"creation_date":1657669608,"post_id":72959168,"comment_id":128864433,"body_markdown":"Okay, @JorgeCampos I solved the first error by changing `spring.jpa.hibernate.ddl-auto=create` to `spring.jpa.hibernate.ddl-auto=update`. Since all problems are solved free to add your solution as answer, you helped me a lot.","body":"Okay, @JorgeCampos I solved the first error by changing <code>spring.jpa.hibernate.ddl-auto=create</code> to <code>spring.jpa.hibernate.ddl-auto=update</code>. Since all problems are solved free to add your solution as answer, you helped me a lot."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1657670652,"post_id":72959168,"comment_id":128864584,"body_markdown":"Answer added! Glad that I could be of help!","body":"Answer added! Glad that I could be of help!"}],"answers":[{"tags":[],"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1657816249,"creation_date":1657670636,"answer_id":72959530,"question_id":72959168,"body_markdown":"Based on our conversation on the comments, using the parameter MODE worked for OP.\r\nSo the solution was to change this configuration from:\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;\r\n```\r\nTo\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;MODE=MySQL\r\n```\r\nNote the `MODE=MySQL` added to the end. This will make H2 database implementation to ignore or replace certain MySQL reserved words with its (H2) equivalent ones.\r\n\r\nOp also had to change another configuration for it to solve all problems and the other one as setting the `ddl-auto` setting \r\nfrom:\r\n```\r\nspring.jpa.hibernate.ddl-auto=create\r\n```\r\nTo\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nPlease also note comment from [Evgenij Ryazanov](https://stackoverflow.com/users/11731987/evgenij-ryazanov) so check the version you are in and correct it accordingly: \r\n\r\n&gt; `DATABASE_TO_UPPER=FALSE` should only be used with H2 1.4.197 and older versions, for H2 1.4.198 Beta and newer versions `DATABASE_TO_LOWER=TRUE` should be specified with MySQL compatibility mode, otherwise all unquoted identifiers will be case-sensitive.\r\nBy ","title":"Spring Boot H2 db for testing throws &quot;Table not found&quot; and &quot;SQL syntax error&quot;","body":"<p>Based on our conversation on the comments, using the parameter MODE worked for OP.\nSo the solution was to change this configuration from:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;\n</code></pre>\n<p>To</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;MODE=MySQL\n</code></pre>\n<p>Note the <code>MODE=MySQL</code> added to the end. This will make H2 database implementation to ignore or replace certain MySQL reserved words with its (H2) equivalent ones.</p>\n<p>Op also had to change another configuration for it to solve all problems and the other one as setting the <code>ddl-auto</code> setting\nfrom:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>To</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>Please also note comment from <a href=\"https://stackoverflow.com/users/11731987/evgenij-ryazanov\">Evgenij Ryazanov</a> so check the version you are in and correct it accordingly:</p>\n<blockquote>\n<p><code>DATABASE_TO_UPPER=FALSE</code> should only be used with H2 1.4.197 and older versions, for H2 1.4.198 Beta and newer versions <code>DATABASE_TO_LOWER=TRUE</code> should be specified with MySQL compatibility mode, otherwise all unquoted identifiers will be case-sensitive.\nBy</p>\n</blockquote>\n"}],"owner":{"account_id":20792942,"reputation":33,"user_id":15270673,"display_name":"YgLK"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5948,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72959530,"answer_count":1,"score":1,"last_activity_date":1657816249,"creation_date":1657666493,"question_id":72959168,"body_markdown":"I develop simple Store app with Spring boot. My app uses MySQL database deployed in the docker container and it works fine. Now I want to test my app and I came to the conclusion that `H2 in-memory db` would be enough for testing. As I&#39;m fresh to testing spring apps, I encountered errors associated with creating tables in the H2 test database. Those are errors which I came across\r\n\r\n**First error**:\r\n```org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    alter table store_order_items \r\n       drop \r\n       foreign key FKikqpbj6xmmyoblsolyhk250tq&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java \r\n[...]\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;STORE_ORDER_ITEMS&quot; not found (this database is empty); SQL statement:\r\n\r\n ```\r\n**Second error**:\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    create table store_order_items (\r\n       Id bigint not null auto_increment,\r\n        quantity bigint,\r\n        order_Id bigint,\r\n        product_Id bigint,\r\n        primary key (Id)\r\n    ) engine=InnoDB&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n[...]\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;\\000a    create table store_order_items (\\000a       Id bigint not null auto_increment,\\000a        quantity bigint,\\000a        order_Id bigint,\\000a        product_Id bigint,\\000a        primary key (Id)\\000a    ) engine[*]=InnoDB&quot;; expected &quot;identifier&quot;; SQL statement:\r\n\r\n```\r\n\r\nsrc/test/resources/**application.properties**:\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;\r\n\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.h2.console.enabled=true\r\n\r\n\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n```\r\n\r\n**Test class**:\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@Transactional\r\npublic class UserRepositoryTests {\r\n\r\n    private static final Logger LOGGER = Logger.getLogger(UserRepositoryTests.class.getName());\r\n\r\n    @Autowired\r\n    private UserRepositoryImpl userRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder encoder;\r\n\r\n\r\n    @Test\r\n    void contextLoads() {\r\n        System.out.println(encoder.encode(&quot;123&quot;));\r\n// dummy test just to test if tables are built properly\r\n    }\r\n```\r\n\r\n\r\nmodel/OrderItem.java:\r\n```\r\n@Entity\r\n@Table(name = &quot;store_order_items&quot;)\r\n@NamedQueries({\r\n        @NamedQuery(name=OrderItem.ORDER_ITEM_FIND_ALL, query=OrderItem.ORDER_ITEM_FIND_ALL_JPQL)\r\n})\r\npublic class OrderItem {\r\n\r\n    // get list of all orders\r\n    public static final String ORDER_ITEM_FIND_ALL = &quot;orderItemAll&quot;;\r\n    public static final String ORDER_ITEM_FIND_ALL_JPQL = &quot;SELECT oi FROM OrderItem oi&quot;;\r\n\r\n\r\n    // id will be replaced with two foreign keys\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long Id;\r\n\r\n    private Long quantity;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne\r\n    private Order order;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne\r\n    private Product product;\r\n\r\n// getters and setters omitted\r\n}\r\n```\r\n\r\nmodel/Order.java:\r\n```\r\n@Entity\r\n@Table(name = &quot;store_orders&quot;)\r\n@NamedQueries({\r\n        @NamedQuery(name=Order.ORDER_FIND_ALL, query=Order.ORDER_FIND_ALL_JPQL),\r\n        @NamedQuery(name=Order.ORDER_SUMMARIES, query=Order.ORDER_SUMMARIES_JPQL)\r\n})\r\npublic class Order {\r\n\r\n// named queries omitted\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long Id;\r\n\r\n    private String orderDate;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne\r\n    private User user;\r\n\r\n    @JsonManagedReference\r\n    @OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private List&lt;OrderItem&gt; orderItems = new ArrayList&lt;&gt;();\r\n\r\n// getters and setters omitted\r\n}\r\n```\r\n\r\n\r\nI tried changing column names or using different `spring.datasource.url`&#39;s but id didn&#39;t work. I can upload more source code if needed. ","title":"Spring Boot H2 db for testing throws &quot;Table not found&quot; and &quot;SQL syntax error&quot;","body":"<p>I develop simple Store app with Spring boot. My app uses MySQL database deployed in the docker container and it works fine. Now I want to test my app and I came to the conclusion that <code>H2 in-memory db</code> would be enough for testing. As I'm fresh to testing spring apps, I encountered errors associated with creating tables in the H2 test database. Those are errors which I came across</p>\n<p><strong>First error</strong>:</p>\n<pre><code>    alter table store_order_items \n       drop \n       foreign key FKikqpbj6xmmyoblsolyhk250tq&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java \n[...]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;STORE_ORDER_ITEMS&quot; not found (this database is empty); SQL statement:\n\n</code></pre>\n<p><strong>Second error</strong>:</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    create table store_order_items (\n       Id bigint not null auto_increment,\n        quantity bigint,\n        order_Id bigint,\n        product_Id bigint,\n        primary key (Id)\n    ) engine=InnoDB&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n[...]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;\\000a    create table store_order_items (\\000a       Id bigint not null auto_increment,\\000a        quantity bigint,\\000a        order_Id bigint,\\000a        product_Id bigint,\\000a        primary key (Id)\\000a    ) engine[*]=InnoDB&quot;; expected &quot;identifier&quot;; SQL statement:\n\n</code></pre>\n<p>src/test/resources/<strong>application.properties</strong>:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;\n\nspring.datasource.username=sa\nspring.datasource.password=\nspring.datasource.driver-class-name=org.h2.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.h2.console.enabled=true\n\n\nlogging.level.org.hibernate.SQL=DEBUG\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.generate-ddl=true\nspring.jpa.defer-datasource-initialization=true\n\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p><strong>Test class</strong>:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@Transactional\npublic class UserRepositoryTests {\n\n    private static final Logger LOGGER = Logger.getLogger(UserRepositoryTests.class.getName());\n\n    @Autowired\n    private UserRepositoryImpl userRepository;\n\n    @Autowired\n    private PasswordEncoder encoder;\n\n\n    @Test\n    void contextLoads() {\n        System.out.println(encoder.encode(&quot;123&quot;));\n// dummy test just to test if tables are built properly\n    }\n</code></pre>\n<p>model/OrderItem.java:</p>\n<pre><code>@Entity\n@Table(name = &quot;store_order_items&quot;)\n@NamedQueries({\n        @NamedQuery(name=OrderItem.ORDER_ITEM_FIND_ALL, query=OrderItem.ORDER_ITEM_FIND_ALL_JPQL)\n})\npublic class OrderItem {\n\n    // get list of all orders\n    public static final String ORDER_ITEM_FIND_ALL = &quot;orderItemAll&quot;;\n    public static final String ORDER_ITEM_FIND_ALL_JPQL = &quot;SELECT oi FROM OrderItem oi&quot;;\n\n\n    // id will be replaced with two foreign keys\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long Id;\n\n    private Long quantity;\n\n    @JsonBackReference\n    @ManyToOne\n    private Order order;\n\n    @JsonBackReference\n    @ManyToOne\n    private Product product;\n\n// getters and setters omitted\n}\n</code></pre>\n<p>model/Order.java:</p>\n<pre><code>@Entity\n@Table(name = &quot;store_orders&quot;)\n@NamedQueries({\n        @NamedQuery(name=Order.ORDER_FIND_ALL, query=Order.ORDER_FIND_ALL_JPQL),\n        @NamedQuery(name=Order.ORDER_SUMMARIES, query=Order.ORDER_SUMMARIES_JPQL)\n})\npublic class Order {\n\n// named queries omitted\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long Id;\n\n    private String orderDate;\n\n    @JsonBackReference\n    @ManyToOne\n    private User user;\n\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private List&lt;OrderItem&gt; orderItems = new ArrayList&lt;&gt;();\n\n// getters and setters omitted\n}\n</code></pre>\n<p>I tried changing column names or using different <code>spring.datasource.url</code>'s but id didn't work. I can upload more source code if needed.</p>\n"},{"tags":["java","swing","abstract-class","jspinner"],"answers":[{"tags":[],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1419852310,"creation_date":1419797089,"answer_id":27680127,"question_id":27680037,"body_markdown":"        jSpinner1.setModel(new SpinnerNumberModel(1, null, null, 1) {\r\n            @Override\r\n            public Object getNextValue() {                \r\n                Object nextValue = super.getValue();\r\n                int x = Integer.valueOf(nextValue.toString())*2;\r\n                //Object o = x;\r\n                return x;\r\n            }\r\n        });\r\n\r\nIt works 100%","title":"Creating Custom Spinner Model","body":"<pre><code>    jSpinner1.setModel(new SpinnerNumberModel(1, null, null, 1) {\n        @Override\n        public Object getNextValue() {                \n            Object nextValue = super.getValue();\n            int x = Integer.valueOf(nextValue.toString())*2;\n            //Object o = x;\n            return x;\n        }\n    });\n</code></pre>\n\n<p>It works 100%</p>\n"},{"tags":[],"owner":{"account_id":25810016,"reputation":1,"user_id":19550954,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657816223,"creation_date":1657816223,"answer_id":72983815,"question_id":27680037,"body_markdown":"I had this problem this week, and here&#39;s the answer to your question: The JSpinner operates through the use of ChangeListeners, and those ChangeListeners need to be activated when the model&#39;s value changes.\r\n\r\nYou may have had difficulty finding this (as I did), because you thought that getNextValue and getPreviousValue, in your custom class, were returning bad values. They aren&#39;t; but the JSpinner just doesn&#39;t use them directly. It feeds them straight back to the SpinnerModel through setValue.\r\n\r\n(Except if getNextValue or getPreviousValue return null, which is a special case. Then the JSpinner does nothing.)\r\n\r\nSo, in code, your setValue function needs a fireStateChanged call after the change to i:\r\n\r\n    @Override\r\n    public void setValue(Object value) {\r\n        i = (Integer) value;\r\n        fireStateChanged ();\r\n    }\r\n\r\nYou might think that the JSpinner shouldn&#39;t operate this way, and should take the value from getNextValue and getPreviousValue to display immediately, instead of this indirect process. But the JSpinner has to call setValue in any case, and setValue has to notify the ChangeListeners in any case (because a single model can be passed around to many places in your program).\r\n\r\nFor instance, if you had two JSpinners in different places, with the same SpinnerModel, then changes to the model need to be reflected on both JSpinners, but only one JSpinner gets to call getNextValue or getPreviousValue at one time.","title":"Creating Custom Spinner Model","body":"<p>I had this problem this week, and here's the answer to your question: The JSpinner operates through the use of ChangeListeners, and those ChangeListeners need to be activated when the model's value changes.</p>\n<p>You may have had difficulty finding this (as I did), because you thought that getNextValue and getPreviousValue, in your custom class, were returning bad values. They aren't; but the JSpinner just doesn't use them directly. It feeds them straight back to the SpinnerModel through setValue.</p>\n<p>(Except if getNextValue or getPreviousValue return null, which is a special case. Then the JSpinner does nothing.)</p>\n<p>So, in code, your setValue function needs a fireStateChanged call after the change to i:</p>\n<pre><code>@Override\npublic void setValue(Object value) {\n    i = (Integer) value;\n    fireStateChanged ();\n}\n</code></pre>\n<p>You might think that the JSpinner shouldn't operate this way, and should take the value from getNextValue and getPreviousValue to display immediately, instead of this indirect process. But the JSpinner has to call setValue in any case, and setValue has to notify the ChangeListeners in any case (because a single model can be passed around to many places in your program).</p>\n<p>For instance, if you had two JSpinners in different places, with the same SpinnerModel, then changes to the model need to be reflected on both JSpinners, but only one JSpinner gets to call getNextValue or getPreviousValue at one time.</p>\n"}],"owner":{"account_id":4437586,"reputation":187,"user_id":3613007,"accept_rate":69,"display_name":"Hmerac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1496,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":27680127,"answer_count":2,"score":3,"last_activity_date":1657816223,"creation_date":1419796308,"question_id":27680037,"body_markdown":"I&#39;m trying to create a custom JSpinner that represents a sequence of numbers of power 2. Like, 1-2-4-8-16 and so on. I have to do that with extending AbstractSpinnerModel and changing its implemented methods (getNextValue etc.). The problem is, the arrow keys on my custom JSpinner don&#39;t work. Nothing changes when I click one of them. I need to show previous and next values of current value. ( Previous value = 4 Current Value = 8 Next Value = 16 ).\r\n\r\nHere is my code :\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public class Hw5SpinnerModel extends JFrame {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Hw5SpinnerModel frame = new Hw5SpinnerModel();\r\n\r\n    }\r\n\r\n    public Hw5SpinnerModel() {\r\n\r\n        setTitle(&quot;Hw5SpinnerModel&quot;);\r\n        setSize(350, 300);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        final JSpinner jspn = new JSpinner(new CustomSpinnerModel());\r\n\r\n        final JLabel jlbl = new JLabel(&quot;&quot;);\r\n\r\n        add(jspn, BorderLayout.NORTH);\r\n        add(jlbl, BorderLayout.CENTER);\r\n\r\n        jspn.addChangeListener(new ChangeListener() {\r\n\r\n            @Override\r\n            public void stateChanged(ChangeEvent e) {\r\n\r\n                jlbl.setText(jspn.getPreviousValue() + jspn.getValue() + jspn.getNextValue());\r\n                \r\n            }\r\n\r\n        });\r\n        \r\n        //jlbl.setText(jspn.getNextValue() + &quot;&quot;);\r\n\r\n        setVisible(true);\r\n\r\n    }\r\n\r\n    public class CustomSpinnerModel extends AbstractSpinnerModel {\r\n\r\n        Integer i = 1;\r\n\r\n        @Override\r\n        public Object getValue() {\r\n            return i;\r\n        }\r\n\r\n        @Override\r\n        public void setValue(Object value) {\r\n            i = (Integer) value;\r\n        }\r\n\r\n        @Override\r\n        public Object getNextValue() {\r\n            return 2 * i;\r\n        }\r\n\r\n        @Override\r\n        public Object getPreviousValue() {\r\n            return i / 2;\r\n        }\r\n\r\n    }\r\n\r\n    }\r\n\r\nAny help will be appreciated.","title":"Creating Custom Spinner Model","body":"<p>I'm trying to create a custom JSpinner that represents a sequence of numbers of power 2. Like, 1-2-4-8-16 and so on. I have to do that with extending AbstractSpinnerModel and changing its implemented methods (getNextValue etc.). The problem is, the arrow keys on my custom JSpinner don't work. Nothing changes when I click one of them. I need to show previous and next values of current value. ( Previous value = 4 Current Value = 8 Next Value = 16 ).</p>\n\n<p>Here is my code :</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class Hw5SpinnerModel extends JFrame {\n\npublic static void main(String[] args) {\n\n    Hw5SpinnerModel frame = new Hw5SpinnerModel();\n\n}\n\npublic Hw5SpinnerModel() {\n\n    setTitle(\"Hw5SpinnerModel\");\n    setSize(350, 300);\n    setLocationRelativeTo(null);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    final JSpinner jspn = new JSpinner(new CustomSpinnerModel());\n\n    final JLabel jlbl = new JLabel(\"\");\n\n    add(jspn, BorderLayout.NORTH);\n    add(jlbl, BorderLayout.CENTER);\n\n    jspn.addChangeListener(new ChangeListener() {\n\n        @Override\n        public void stateChanged(ChangeEvent e) {\n\n            jlbl.setText(jspn.getPreviousValue() + jspn.getValue() + jspn.getNextValue());\n\n        }\n\n    });\n\n    //jlbl.setText(jspn.getNextValue() + \"\");\n\n    setVisible(true);\n\n}\n\npublic class CustomSpinnerModel extends AbstractSpinnerModel {\n\n    Integer i = 1;\n\n    @Override\n    public Object getValue() {\n        return i;\n    }\n\n    @Override\n    public void setValue(Object value) {\n        i = (Integer) value;\n    }\n\n    @Override\n    public Object getNextValue() {\n        return 2 * i;\n    }\n\n    @Override\n    public Object getPreviousValue() {\n        return i / 2;\n    }\n\n}\n\n}\n</code></pre>\n\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","typescript","react-native","ts-jest"],"answers":[{"tags":[],"owner":{"account_id":4784142,"reputation":2430,"user_id":3865138,"accept_rate":71,"display_name":"Mr Heelis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657815749,"creation_date":1657814992,"answer_id":72983579,"question_id":72982551,"body_markdown":"the answer is to mock out the function\r\n\r\nin the test file, (the test to whatever part of your code in react-native *calls* `helloWorld(&quot;bob chips&quot;)`) (i.e *not* where it exports) you have to mock out the Java module as follows. Note this is global (once) at the top of the file that launched the failed test - perhaps you put `helloWorld(&quot;bob chips&quot;)` in `Place.tsx` if so perhaps the `Place.test.tsx` fails - because it references `helloWorld(&quot;bob chips&quot;)`, if so in the one that has tests that fail - inside `Place.test.tsx` - do this *once* at the top of the file:\r\n\r\n    jest.mock(&#39;react-native&#39;, () =&gt; {\r\n      const RN = jest.requireActual(&#39;react-native&#39;);\r\n      RN.NativeModules.SomeModule = {\r\n        HelloWorld: jest.fn(),\r\n      };\r\n    \r\n      // mock modules created through UIManager\r\n      RN.UIManager.getViewManagerConfig = (name) =&gt; {\r\n        if (name === &#39;SomeModule&#39;) {\r\n          return { HelloWorld: jest.fn() };\r\n        }\r\n        return {};\r\n      };\r\n      return RN;\r\n    });\r\n\r\nthis then `suppresses` jest trying to test it, and allows you to write tests in `java` to compensate","title":"React Native - unit test fails because of Native Module","body":"<p>the answer is to mock out the function</p>\n<p>in the test file, (the test to whatever part of your code in react-native <em>calls</em> <code>helloWorld(&quot;bob chips&quot;)</code>) (i.e <em>not</em> where it exports) you have to mock out the Java module as follows. Note this is global (once) at the top of the file that launched the failed test - perhaps you put <code>helloWorld(&quot;bob chips&quot;)</code> in <code>Place.tsx</code> if so perhaps the <code>Place.test.tsx</code> fails - because it references <code>helloWorld(&quot;bob chips&quot;)</code>, if so in the one that has tests that fail - inside <code>Place.test.tsx</code> - do this <em>once</em> at the top of the file:</p>\n<pre><code>jest.mock('react-native', () =&gt; {\n  const RN = jest.requireActual('react-native');\n  RN.NativeModules.SomeModule = {\n    HelloWorld: jest.fn(),\n  };\n\n  // mock modules created through UIManager\n  RN.UIManager.getViewManagerConfig = (name) =&gt; {\n    if (name === 'SomeModule') {\n      return { HelloWorld: jest.fn() };\n    }\n    return {};\n  };\n  return RN;\n});\n</code></pre>\n<p>this then <code>suppresses</code> jest trying to test it, and allows you to write tests in <code>java</code> to compensate</p>\n"}],"owner":{"account_id":4784142,"reputation":2430,"user_id":3865138,"accept_rate":71,"display_name":"Mr Heelis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657815749,"creation_date":1657810381,"question_id":72982551,"body_markdown":"I am getting a weird anomaly when I declare a [Native Java Module][1] the new code doesn&#39;t pass unit test. Basically whatever I import from `NativeModules` in React Native lacks a definition: So the Unit test fails because `TypeError: Cannot read property &#39;HelloWorld&#39; of undefined` \r\n\r\nSteps to reproduce:\r\n\r\n    import { NativeModules } from &#39;react-native&#39;;\r\n    \r\n    const Thing = NativeModules.SomeModule;\r\n    \r\n    export const helloWorld = (addedText: string) =&gt; {\r\n      return Thing.HelloWorld(addedText);\r\n    };\r\n    \r\n    export default Thing;\r\n\r\nbut the error is \r\n\r\n      TypeError: Cannot read property &#39;HelloWorld&#39; of undefined\r\n\r\n      4 |\r\n      5 | export const helloWorld = (addedText: string) =&gt; {\r\n    &gt; 6 |   return Thing.HelloWorld(addedText);\r\n        |                ^\r\n      7 | };\r\n      8 |\r\n      9 | export default Thing;\r\n\r\nthe actual  Java is \r\n\r\n    public class SomeModule extends ReactContextBaseJavaModule  {\r\n    \r\n      SomeModule(ReactApplicationContext context) {\r\n        super(context);\r\n      }\r\n      \r\n      @Override\r\n      public String getName() {\r\n        return &quot;SomeModule&quot;;\r\n      }\r\n      void HelloWorld(String addedText){\r\n         try {\r\n           Log.w(&quot;HELLO_WORLD&quot;, addedText);\r\n         }\r\n         catch (Exception e) {\r\n           Log.e(&quot;DEVICE_MODULE_HELLO_WORLD_FAILED&quot;, &quot;HelloWorld() Failed&quot;);\r\n         }\r\n      }\r\n    }\r\n\r\nand this *runs* fine (when you run it) but the unit tests hate it. The issue seems to be that the React Native test lacks an awareness of the structure of `const helloWorld = (addedText: string) =&gt; {  return Thing.HelloWorld(addedText); };` so I dutifully [made this `d.ts`][2] to help\r\n\r\n    declare namespace Thing {\r\n       function helloWorld(addedText: string): void;\r\n    }\r\n\r\nbut it still fails when at unit test, it feels wrong for me to simply assume this has been overlooked, so I am assuming I must have implemented something incorrectly. Can anyone shed light on the correct way of doing this?\r\n\r\n  [1]: https://reactnative.dev/docs/native-modules-android\r\n  [2]: https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-d-ts.html","title":"React Native - unit test fails because of Native Module","body":"<p>I am getting a weird anomaly when I declare a <a href=\"https://reactnative.dev/docs/native-modules-android\" rel=\"nofollow noreferrer\">Native Java Module</a> the new code doesn't pass unit test. Basically whatever I import from <code>NativeModules</code> in React Native lacks a definition: So the Unit test fails because <code>TypeError: Cannot read property 'HelloWorld' of undefined</code></p>\n<p>Steps to reproduce:</p>\n<pre><code>import { NativeModules } from 'react-native';\n\nconst Thing = NativeModules.SomeModule;\n\nexport const helloWorld = (addedText: string) =&gt; {\n  return Thing.HelloWorld(addedText);\n};\n\nexport default Thing;\n</code></pre>\n<p>but the error is</p>\n<pre><code>  TypeError: Cannot read property 'HelloWorld' of undefined\n\n  4 |\n  5 | export const helloWorld = (addedText: string) =&gt; {\n&gt; 6 |   return Thing.HelloWorld(addedText);\n    |                ^\n  7 | };\n  8 |\n  9 | export default Thing;\n</code></pre>\n<p>the actual  Java is</p>\n<pre><code>public class SomeModule extends ReactContextBaseJavaModule  {\n\n  SomeModule(ReactApplicationContext context) {\n    super(context);\n  }\n  \n  @Override\n  public String getName() {\n    return &quot;SomeModule&quot;;\n  }\n  void HelloWorld(String addedText){\n     try {\n       Log.w(&quot;HELLO_WORLD&quot;, addedText);\n     }\n     catch (Exception e) {\n       Log.e(&quot;DEVICE_MODULE_HELLO_WORLD_FAILED&quot;, &quot;HelloWorld() Failed&quot;);\n     }\n  }\n}\n</code></pre>\n<p>and this <em>runs</em> fine (when you run it) but the unit tests hate it. The issue seems to be that the React Native test lacks an awareness of the structure of <code>const helloWorld = (addedText: string) =&gt; {  return Thing.HelloWorld(addedText); };</code> so I dutifully <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-d-ts.html\" rel=\"nofollow noreferrer\">made this <code>d.ts</code></a> to help</p>\n<pre><code>declare namespace Thing {\n   function helloWorld(addedText: string): void;\n}\n</code></pre>\n<p>but it still fails when at unit test, it feels wrong for me to simply assume this has been overlooked, so I am assuming I must have implemented something incorrectly. Can anyone shed light on the correct way of doing this?</p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657815628,"creation_date":1657815628,"answer_id":72983715,"question_id":72943361,"body_markdown":"As of jOOQ 3.17, to-many path expressions aren&#39;t yet available, see https://github.com/jOOQ/jOOQ/issues/13639\r\n\r\nBut you don&#39;t need them anyway, they&#39;re just syntax sugar for an `IN` or `EXISTS` predicate. E.g.\r\n\r\n```java\r\nFOO.ID.in(select(BAR.FOO_ID).from(BAR).where(BAR.NAME.eq(&quot;test&quot;)))\r\n```\r\n\r\nIt&#39;s a bit more verbose, but straightforward, I think? Note that [every jOOQ query is a dynamic SQL query][1]. You&#39;re not required to write the predicate like this. You can compose it from its individual parts completely dynamically.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/","title":"Best way to use dynamic SQL with jOOQ","body":"<p>As of jOOQ 3.17, to-many path expressions aren't yet available, see <a href=\"https://github.com/jOOQ/jOOQ/issues/13639\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/13639</a></p>\n<p>But you don't need them anyway, they're just syntax sugar for an <code>IN</code> or <code>EXISTS</code> predicate. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FOO.ID.in(select(BAR.FOO_ID).from(BAR).where(BAR.NAME.eq(&quot;test&quot;)))\n</code></pre>\n<p>It's a bit more verbose, but straightforward, I think? Note that <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/\" rel=\"nofollow noreferrer\">every jOOQ query is a dynamic SQL query</a>. You're not required to write the predicate like this. You can compose it from its individual parts completely dynamically.</p>\n"}],"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657815636,"creation_date":1657565700,"question_id":72943361,"body_markdown":"Currently I&#39;m using RQL (https://github.com/persvr/rql) as rest query language. Previously, Query DSL was used with the meta model for the SQL queries.\r\n\r\nIt is very easy to navigate over the metamodel to create a Predicate.\r\nIt is enough to use the root entity and was able to work your way through all the relationships and find out the Predicate\r\n\r\nExample:\r\n\r\n    class Foo{\r\n      private Set&lt;Bar&gt; bars\r\n    }\r\n    \r\n    class Bar{\r\n      private String name;\r\n    }\r\n\r\nrql: `filter=eq(bars.name, &quot;test)`\r\n\r\nQuery DSL is: `QFoo.bars` --&gt; SetPath and then navigate to `bars.name` is a SimpleExpression then you can call SimpleExpression.eq returns the Predicate.\r\n\r\nIs there also this possibility with jOOQ to create the condition dynamically?\r\n\r\nI can&#39;t find way with the statically generated fields because they don&#39;t contain any relationships, do they?\r\n\r\nWhat is the best way to create the condition using the root resource? Hints?\r\n\r\nOr can I simply create a condition from the predicate?\r\n","title":"Best way to use dynamic SQL with jOOQ","body":"<p>Currently I'm using RQL (<a href=\"https://github.com/persvr/rql\" rel=\"nofollow noreferrer\">https://github.com/persvr/rql</a>) as rest query language. Previously, Query DSL was used with the meta model for the SQL queries.</p>\n<p>It is very easy to navigate over the metamodel to create a Predicate.\nIt is enough to use the root entity and was able to work your way through all the relationships and find out the Predicate</p>\n<p>Example:</p>\n<pre><code>class Foo{\n  private Set&lt;Bar&gt; bars\n}\n\nclass Bar{\n  private String name;\n}\n</code></pre>\n<p>rql: <code>filter=eq(bars.name, &quot;test)</code></p>\n<p>Query DSL is: <code>QFoo.bars</code> --&gt; SetPath and then navigate to <code>bars.name</code> is a SimpleExpression then you can call SimpleExpression.eq returns the Predicate.</p>\n<p>Is there also this possibility with jOOQ to create the condition dynamically?</p>\n<p>I can't find way with the statically generated fields because they don't contain any relationships, do they?</p>\n<p>What is the best way to create the condition using the root resource? Hints?</p>\n<p>Or can I simply create a condition from the predicate?</p>\n"},{"tags":["java","rest","netbeans","glassfish"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1657460418,"post_id":72928483,"comment_id":128810536,"body_markdown":"Show any messages that are written to the Glassfish log when the URI is submitted. Also specify the version of NetBeans, Java and Glassfish that you are using.","body":"Show any messages that are written to the Glassfish log when the URI is submitted. Also specify the version of NetBeans, Java and Glassfish that you are using."},{"owner":{"account_id":3957256,"reputation":9,"user_id":3265349,"display_name":"pradip318"},"score":0,"creation_date":1657814299,"post_id":72928483,"comment_id":128905025,"body_markdown":"@skomisa Apache NetBeans IDE 14 , Java 11, GlassFish Server 6.2.1.\nGlassfish server console logs snippet :\n\nInitializing Soteria 2.0.1 for context &#39;/rest-chapter-3&#39;|#]\nLoading application [rest-chapter-3-service] at [/rest-chapter-3]|#]\nrest-chapter-3-service was successfully deployed in 4,724 milliseconds.|#]","body":"@skomisa Apache NetBeans IDE 14 , Java 11, GlassFish Server 6.2.1. Glassfish server console logs snippet :  Initializing Soteria 2.0.1 for context &#39;/rest-chapter-3&#39;|#] Loading application [rest-chapter-3-service] at [/rest-chapter-3]|#] rest-chapter-3-service was successfully deployed in 4,724 milliseconds.|#]"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1657814700,"post_id":72928483,"comment_id":128905153,"body_markdown":"OK, but  please don&#39;t provide information about your question in the comments. Instead, directly update your question with the additional details.","body":"OK, but  please don&#39;t provide information about your question in the comments. Instead, directly update your question with the additional details."}],"owner":{"account_id":3957256,"reputation":9,"user_id":3265349,"display_name":"pradip318"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657815305,"creation_date":1657456292,"question_id":72928483,"body_markdown":"I am using netbeans IDE and GlasssFish server to run simple RESTFUL web application.\r\n*Version Details : Apache NetBeans IDE 14 , Java 11, GlassFish Server 6.2.1*\r\nProcess I did followed\r\n\r\n1. right click on project\r\n2. click on run(it will build and deploy project on server)\r\n3. right click on right-click on the appropriate HTTP methods, as shown in the following screenshot, and select Test Resource Uri.\r\n\r\nThis is the error I am getting:\r\n\r\n[![ResourceURLerror][1]][1]\r\n\r\nGlassfish Server Logs:\r\n\r\n    Launching GlassFish on Felix platform\r\n    INFO: Create bundle provisioner class = class com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.\r\n    Registered com.sun.enterprise.glassfish.bootstrap.osgi.EmbeddedOSGiGlassFishRuntime@1d0b497e in service registry.\r\n    #!## LogManagerService.postConstruct : rootFolder=C:\\Users\\Pradeep\\GlassFish_Server\\glassfish\r\n    #!## LogManagerService.postConstruct : templateDir=C:\\Users\\Pradeep\\GlassFish_Server\\glassfish\\lib\\templates\r\n    #!## LogManagerService.postConstruct : src=C:\\Users\\Pradeep\\GlassFish_Server\\glassfish\\lib\\templates\\logging.properties\r\n    #!## LogManagerService.postConstruct : dest=C:\\Users\\Pradeep\\GlassFish_Server\\glassfish\\domains\\domain1\\config\\logging.properties\r\n      Running GlassFish Version: Eclipse GlassFish  6.2.1  (build master-b569-gad91414 2021-08-26T23:45:22+0000)|#]\r\n      Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter|#]\r\n      Realm [admin-realm] of classtype [com.sun.enterprise.security.auth.realm.file.FileRealm] successfully created.|#]\r\n      Realm [file] of classtype [com.sun.enterprise.security.auth.realm.file.FileRealm] successfully created.|#]\r\n      Realm [certificate] of classtype [com.sun.enterprise.security.auth.realm.certificate.CertificateRealm] successfully created.|#]\r\n      Registered org.glassfish.ha.store.adapter.cache.ShoalBackingStoreProxy for persistence-type = replicated in BackingStoreFactoryRegistry|#]\r\n      Authorization Service has successfully initialized.|#]\r\n      Grizzly Framework 3.0.0 started in: 163ms - bound to [/0.0.0.0:8080]|#]\r\n      visiting unvisited references|#]\r\n      Grizzly Framework 3.0.0 started in: 105ms - bound to [/0.0.0.0:8181]|#]\r\n      Grizzly Framework 3.0.0 started in: 81ms - bound to [/0.0.0.0:4848]|#]\r\n      Grizzly Framework 3.0.0 started in: 3ms - bound to [/0.0.0.0:3700]|#]\r\n      HV000001: Hibernate Validator 7.0.1.Final|#]\r\n      Grizzly Framework 3.0.0 started in: 28ms - bound to [/0.0.0.0:8080]|#]\r\n      Grizzly Framework 3.0.0 started in: 9ms - bound to [/0.0.0.0:8181]|#]\r\n      Java security manager is disabled.|#]\r\n      Entering Security Startup Service.|#]\r\n      Loading policy provider org.glassfish.exousia.modules.locked.SimplePolicyProvider.|#]\r\n      Security Service(s) started successfully.|#]\r\n      Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080|#]\r\n      Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181|#]\r\n      Created HTTP listener admin-listener on host/port 0.0.0.0:4848|#]\r\n      Created virtual server server|#]\r\n      Created virtual server __asadmin|#]\r\n      Setting JAAS app name glassfish-web|#]\r\n      Virtual server server loaded default web module |#]\r\n      visiting unvisited references|#]\r\n      visiting unvisited references|#]\r\n      Loading application [rest-chapter3-service] at [/rest-chapter3-service]|#]\r\n      Loading application rest-chapter3-service done in 15,895 ms|#]\r\n      visiting unvisited references|#]\r\n      visiting unvisited references|#]\r\n      visiting unvisited references|#]\r\n      WELD-000900: 4.0.2 (Final)|#]\r\n      AS-CDI-00005|#]\r\n      AS-CDI-00005|#]\r\n      WELD-000411: Observer method [BackedAnnotatedMethod] public org.glassfish.jms.injection.JMSCDIExtension.processAnnotatedType(@Observes ProcessAnnotatedType&lt;T&gt;) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\r\n      WELD-000411: Observer method [BackedAnnotatedMethod] org.glassfish.sse.impl.ServerSentEventCdiExtension.processAnnotatedType(@Observes ProcessAnnotatedType&lt;T&gt;, BeanManager) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\r\n      WELD-000411: Observer method [BackedAnnotatedMethod] public org.glassfish.jersey.ext.cdi1x.internal.ProcessAllAnnotatedTypes.processAnnotatedType(@Observes ProcessAnnotatedType&lt;?&gt;, BeanManager) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\r\n      WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType&lt;?&gt;) used for class com.ibm.jbatch.container.cdi.BatchProducerBean is deprecated from CDI 1.1!|#]\r\n      Listening to REST requests at context: /management/domain.|#]\r\n      WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.resources.JavaEE8Resource because of underlying class loading error: Type javax.ws.rs.core.Response not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\r\n      WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.resources.RestAppConfig because of underlying class loading error: Type javax.ws.rs.core.Application not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\r\n      WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.JAXRSConfiguration because of underlying class loading error: Type javax.ws.rs.core.Application not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\r\n      Initializing Soteria 2.0.1 for context &#39;/rest-chapter-3&#39;|#]\r\n      Loading application [rest-chapter-3-service] at [/rest-chapter-3]|#]\r\n      Loading application rest-chapter-3-service done in 9,413 ms|#]\r\n      Eclipse GlassFish  6.2.1  (master-b569-gad91414 2021-08-26T23:45:22+0000) startup time : Felix (54,621ms), startup services(28,203ms), total(82,824ms)|#]\r\n      Grizzly Framework 3.0.0 started in: 44ms - bound to [/0.0.0.0:7676]|#]\r\n      Registered com.sun.enterprise.glassfish.bootstrap.osgi.EmbeddedOSGiGlassFishImpl@a20b94b as OSGi service registration: org.apache.felix.framework.ServiceRegistrationImpl@5cdf39b2.|#]\r\n      Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181|#]\r\n      Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.|#]\r\n      Grizzly Framework 3.0.0 started in: 72ms - bound to [/0.0.0.0:8181]|#]\r\n      visiting unvisited references|#]\r\n      visiting unvisited references|#]\r\n      visiting unvisited references|#]\r\n      visiting unvisited references|#]\r\n      JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://DESKTOP-55BQ260:8686/jndi/rmi://DESKTOP-55BQ260:8686/jmxrmi|#]\r\n      Initializing Mojarra 3.0.1 for context &#39;&#39;|#]\r\n      Loading application [__admingui] at [/]|#]\r\n      Loading application __admingui done in 11,930 ms|#]\r\n      Context path from ServletContext:  differs from path from bundle: /|#]\r\n      visiting unvisited references|#]\r\n      visiting unvisited references|#]\r\n      visiting unvisited references|#]\r\n      AS-CDI-00005|#]\r\n      AS-CDI-00005|#]\r\n      WELD-000411: Observer method [BackedAnnotatedMethod] org.glassfish.sse.impl.ServerSentEventCdiExtension.processAnnotatedType(@Observes ProcessAnnotatedType&lt;T&gt;, BeanManager) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\r\n      WELD-000411: Observer method [BackedAnnotatedMethod] public org.glassfish.jms.injection.JMSCDIExtension.processAnnotatedType(@Observes ProcessAnnotatedType&lt;T&gt;) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\r\n      WELD-000411: Observer method [BackedAnnotatedMethod] public org.glassfish.jersey.ext.cdi1x.internal.ProcessAllAnnotatedTypes.processAnnotatedType(@Observes ProcessAnnotatedType&lt;?&gt;, BeanManager) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\r\n      WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType&lt;?&gt;) used for class com.ibm.jbatch.container.cdi.BatchProducerBean is deprecated from CDI 1.1!|#]\r\n      WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.resources.JavaEE8Resource because of underlying class loading error: Type javax.ws.rs.core.Response not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\r\n      WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.resources.RestAppConfig because of underlying class loading error: Type javax.ws.rs.core.Application not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\r\n      WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.JAXRSConfiguration because of underlying class loading error: Type javax.ws.rs.core.Application not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\r\n      Initializing Soteria 2.0.1 for context &#39;/rest-chapter-3&#39;|#]\r\n      Loading application [rest-chapter-3-service] at [/rest-chapter-3]|#]\r\n      rest-chapter-3-service was successfully deployed in 4,724 milliseconds.|#]\r\n\r\nThis is my code:\r\n\r\n    package com.principal.rest.chapter.service;\r\n    \r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    /**\r\n     *\r\n     * @author Pradip\r\n     */\r\n    @Path(&quot;departments&quot;)\r\n    public class DepartmentService {\r\n        @GET\r\n        @Path(&quot;hello&quot;)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public String helloWorld(){\r\n            return &quot;Hello World&quot;;\r\n        }\r\n    }\r\n    \r\n    package com.principal.rest.chapter.service.resources;\r\n    \r\n    import java.util.Set;\r\n    import javax.ws.rs.core.Application;\r\n    /**\r\n     *\r\n     * @author Pradeep\r\n     */\r\n    @javax.ws.rs.ApplicationPath(&quot;webresources&quot;) \r\n    public class RestAppConfig extends Application {\r\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n       Set&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet&lt;&gt;();\r\n       resources.add(com.principal.rest.chapter.service.DepartmentService.class);\r\n       return resources;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7zvJY.png\r\n","title":"Unable to open resource URI while running simple RESTFUL API using JAX-RS","body":"<p>I am using netbeans IDE and GlasssFish server to run simple RESTFUL web application.\n<em>Version Details : Apache NetBeans IDE 14 , Java 11, GlassFish Server 6.2.1</em>\nProcess I did followed</p>\n<ol>\n<li>right click on project</li>\n<li>click on run(it will build and deploy project on server)</li>\n<li>right click on right-click on the appropriate HTTP methods, as shown in the following screenshot, and select Test Resource Uri.</li>\n</ol>\n<p>This is the error I am getting:</p>\n<p><a href=\"https://i.stack.imgur.com/7zvJY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7zvJY.png\" alt=\"ResourceURLerror\" /></a></p>\n<p>Glassfish Server Logs:</p>\n<pre><code>Launching GlassFish on Felix platform\nINFO: Create bundle provisioner class = class com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.\nRegistered com.sun.enterprise.glassfish.bootstrap.osgi.EmbeddedOSGiGlassFishRuntime@1d0b497e in service registry.\n#!## LogManagerService.postConstruct : rootFolder=C:\\Users\\Pradeep\\GlassFish_Server\\glassfish\n#!## LogManagerService.postConstruct : templateDir=C:\\Users\\Pradeep\\GlassFish_Server\\glassfish\\lib\\templates\n#!## LogManagerService.postConstruct : src=C:\\Users\\Pradeep\\GlassFish_Server\\glassfish\\lib\\templates\\logging.properties\n#!## LogManagerService.postConstruct : dest=C:\\Users\\Pradeep\\GlassFish_Server\\glassfish\\domains\\domain1\\config\\logging.properties\n  Running GlassFish Version: Eclipse GlassFish  6.2.1  (build master-b569-gad91414 2021-08-26T23:45:22+0000)|#]\n  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter|#]\n  Realm [admin-realm] of classtype [com.sun.enterprise.security.auth.realm.file.FileRealm] successfully created.|#]\n  Realm [file] of classtype [com.sun.enterprise.security.auth.realm.file.FileRealm] successfully created.|#]\n  Realm [certificate] of classtype [com.sun.enterprise.security.auth.realm.certificate.CertificateRealm] successfully created.|#]\n  Registered org.glassfish.ha.store.adapter.cache.ShoalBackingStoreProxy for persistence-type = replicated in BackingStoreFactoryRegistry|#]\n  Authorization Service has successfully initialized.|#]\n  Grizzly Framework 3.0.0 started in: 163ms - bound to [/0.0.0.0:8080]|#]\n  visiting unvisited references|#]\n  Grizzly Framework 3.0.0 started in: 105ms - bound to [/0.0.0.0:8181]|#]\n  Grizzly Framework 3.0.0 started in: 81ms - bound to [/0.0.0.0:4848]|#]\n  Grizzly Framework 3.0.0 started in: 3ms - bound to [/0.0.0.0:3700]|#]\n  HV000001: Hibernate Validator 7.0.1.Final|#]\n  Grizzly Framework 3.0.0 started in: 28ms - bound to [/0.0.0.0:8080]|#]\n  Grizzly Framework 3.0.0 started in: 9ms - bound to [/0.0.0.0:8181]|#]\n  Java security manager is disabled.|#]\n  Entering Security Startup Service.|#]\n  Loading policy provider org.glassfish.exousia.modules.locked.SimplePolicyProvider.|#]\n  Security Service(s) started successfully.|#]\n  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080|#]\n  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181|#]\n  Created HTTP listener admin-listener on host/port 0.0.0.0:4848|#]\n  Created virtual server server|#]\n  Created virtual server __asadmin|#]\n  Setting JAAS app name glassfish-web|#]\n  Virtual server server loaded default web module |#]\n  visiting unvisited references|#]\n  visiting unvisited references|#]\n  Loading application [rest-chapter3-service] at [/rest-chapter3-service]|#]\n  Loading application rest-chapter3-service done in 15,895 ms|#]\n  visiting unvisited references|#]\n  visiting unvisited references|#]\n  visiting unvisited references|#]\n  WELD-000900: 4.0.2 (Final)|#]\n  AS-CDI-00005|#]\n  AS-CDI-00005|#]\n  WELD-000411: Observer method [BackedAnnotatedMethod] public org.glassfish.jms.injection.JMSCDIExtension.processAnnotatedType(@Observes ProcessAnnotatedType&lt;T&gt;) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\n  WELD-000411: Observer method [BackedAnnotatedMethod] org.glassfish.sse.impl.ServerSentEventCdiExtension.processAnnotatedType(@Observes ProcessAnnotatedType&lt;T&gt;, BeanManager) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\n  WELD-000411: Observer method [BackedAnnotatedMethod] public org.glassfish.jersey.ext.cdi1x.internal.ProcessAllAnnotatedTypes.processAnnotatedType(@Observes ProcessAnnotatedType&lt;?&gt;, BeanManager) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\n  WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType&lt;?&gt;) used for class com.ibm.jbatch.container.cdi.BatchProducerBean is deprecated from CDI 1.1!|#]\n  Listening to REST requests at context: /management/domain.|#]\n  WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.resources.JavaEE8Resource because of underlying class loading error: Type javax.ws.rs.core.Response not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\n  WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.resources.RestAppConfig because of underlying class loading error: Type javax.ws.rs.core.Application not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\n  WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.JAXRSConfiguration because of underlying class loading error: Type javax.ws.rs.core.Application not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\n  Initializing Soteria 2.0.1 for context '/rest-chapter-3'|#]\n  Loading application [rest-chapter-3-service] at [/rest-chapter-3]|#]\n  Loading application rest-chapter-3-service done in 9,413 ms|#]\n  Eclipse GlassFish  6.2.1  (master-b569-gad91414 2021-08-26T23:45:22+0000) startup time : Felix (54,621ms), startup services(28,203ms), total(82,824ms)|#]\n  Grizzly Framework 3.0.0 started in: 44ms - bound to [/0.0.0.0:7676]|#]\n  Registered com.sun.enterprise.glassfish.bootstrap.osgi.EmbeddedOSGiGlassFishImpl@a20b94b as OSGi service registration: org.apache.felix.framework.ServiceRegistrationImpl@5cdf39b2.|#]\n  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181|#]\n  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.|#]\n  Grizzly Framework 3.0.0 started in: 72ms - bound to [/0.0.0.0:8181]|#]\n  visiting unvisited references|#]\n  visiting unvisited references|#]\n  visiting unvisited references|#]\n  visiting unvisited references|#]\n  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://DESKTOP-55BQ260:8686/jndi/rmi://DESKTOP-55BQ260:8686/jmxrmi|#]\n  Initializing Mojarra 3.0.1 for context ''|#]\n  Loading application [__admingui] at [/]|#]\n  Loading application __admingui done in 11,930 ms|#]\n  Context path from ServletContext:  differs from path from bundle: /|#]\n  visiting unvisited references|#]\n  visiting unvisited references|#]\n  visiting unvisited references|#]\n  AS-CDI-00005|#]\n  AS-CDI-00005|#]\n  WELD-000411: Observer method [BackedAnnotatedMethod] org.glassfish.sse.impl.ServerSentEventCdiExtension.processAnnotatedType(@Observes ProcessAnnotatedType&lt;T&gt;, BeanManager) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\n  WELD-000411: Observer method [BackedAnnotatedMethod] public org.glassfish.jms.injection.JMSCDIExtension.processAnnotatedType(@Observes ProcessAnnotatedType&lt;T&gt;) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\n  WELD-000411: Observer method [BackedAnnotatedMethod] public org.glassfish.jersey.ext.cdi1x.internal.ProcessAllAnnotatedTypes.processAnnotatedType(@Observes ProcessAnnotatedType&lt;?&gt;, BeanManager) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.|#]\n  WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType&lt;?&gt;) used for class com.ibm.jbatch.container.cdi.BatchProducerBean is deprecated from CDI 1.1!|#]\n  WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.resources.JavaEE8Resource because of underlying class loading error: Type javax.ws.rs.core.Response not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\n  WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.resources.RestAppConfig because of underlying class loading error: Type javax.ws.rs.core.Application not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\n  WELD-000119: Not generating any bean definitions from com.principal.rest.chapter.service.JAXRSConfiguration because of underlying class loading error: Type javax.ws.rs.core.Application not found.  If this is unexpected, enable DEBUG logging to see the full error.|#]\n  Initializing Soteria 2.0.1 for context '/rest-chapter-3'|#]\n  Loading application [rest-chapter-3-service] at [/rest-chapter-3]|#]\n  rest-chapter-3-service was successfully deployed in 4,724 milliseconds.|#]\n</code></pre>\n<p>This is my code:</p>\n<pre><code>package com.principal.rest.chapter.service;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\n/**\n *\n * @author Pradip\n */\n@Path(&quot;departments&quot;)\npublic class DepartmentService {\n    @GET\n    @Path(&quot;hello&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public String helloWorld(){\n        return &quot;Hello World&quot;;\n    }\n}\n\npackage com.principal.rest.chapter.service.resources;\n\nimport java.util.Set;\nimport javax.ws.rs.core.Application;\n/**\n *\n * @author Pradeep\n */\n@javax.ws.rs.ApplicationPath(&quot;webresources&quot;) \npublic class RestAppConfig extends Application {\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n   Set&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet&lt;&gt;();\n   resources.add(com.principal.rest.chapter.service.DepartmentService.class);\n   return resources;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","exception","error-handling","println"],"comments":[{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":0,"creation_date":1657653204,"post_id":72957252,"comment_id":128860550,"body_markdown":"Move `String txtFile = args[0]; String jsonFile = args[1];`  inside `if (args.length &gt; 0)`  Also change `if (args.length &gt; 0)` to `if (args.length &gt; 1)` because you expect args[1] and finally you don&#39;t need for loop.","body":"Move <code>String txtFile = args[0]; String jsonFile = args[1];</code>  inside <code>if (args.length &gt; 0)</code>  Also change <code>if (args.length &gt; 0)</code> to <code>if (args.length &gt; 1)</code> because you expect args[1] and finally you don&#39;t need for loop."}],"answers":[{"tags":[],"owner":{"account_id":19914473,"reputation":28,"user_id":17403432,"display_name":"Tom Burrows"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657654550,"creation_date":1657653408,"answer_id":72957334,"question_id":72957252,"body_markdown":"Your if statement is asking **is `args.length` greater than 0**. When you should be asking, **is `args.length` equal to 0**.\r\n\r\nTo do this you would use `if(args.length == 0)`. This is because `args.length` cannot be less than 0, and if it is greater than 0, then it&#39;s passed your test, and your program can continue. However, if it is equal to 0, then it means no arguments were passed.\r\n\r\n\r\nI personally, would suggest you use a `try catch` block.\r\n```\r\ntry{\r\n  B1TextLoader loader = new TextLoader();\r\n  String txtFile = args[0];\r\n  String jsonFile = args[1];\r\n\r\n} catch (Exception e){\r\n   System.err.println(&quot;Error: No valid file has been entered&quot;);\r\n   System.exit(1);\r\n}\r\n\r\nfor (int x = 0; x &lt; args.length; x++){\r\n      loader.LoadTextFile(args[0]);           \r\n      loader.SaveDocumentsToJSON(args[1]);\r\n}","title":"How to print out the exception error in Java","body":"<p>Your if statement is asking <strong>is <code>args.length</code> greater than 0</strong>. When you should be asking, <strong>is <code>args.length</code> equal to 0</strong>.</p>\n<p>To do this you would use <code>if(args.length == 0)</code>. This is because <code>args.length</code> cannot be less than 0, and if it is greater than 0, then it's passed your test, and your program can continue. However, if it is equal to 0, then it means no arguments were passed.</p>\n<p>I personally, would suggest you use a <code>try catch</code> block.</p>\n<pre><code>try{\n  B1TextLoader loader = new TextLoader();\n  String txtFile = args[0];\n  String jsonFile = args[1];\n\n} catch (Exception e){\n   System.err.println(&quot;Error: No valid file has been entered&quot;);\n   System.exit(1);\n}\n\nfor (int x = 0; x &lt; args.length; x++){\n      loader.LoadTextFile(args[0]);           \n      loader.SaveDocumentsToJSON(args[1]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657815226,"creation_date":1657653946,"answer_id":72957423,"question_id":72957252,"body_markdown":"You want to do stuff if there _are_ input arguments, and other stuff if there are _not_ input arguments. Right now, your code is mixing those two together (and as a result, it does not function correctly).\r\n\r\nHere&#39;s a simpler approach that checks for your initial requirement up front (expect two arguments) and skips everything else if those arguments are not present.\r\n\r\n```\r\nif (args.length &lt; 2) {\r\n\r\n\t// if missing expected two arguments, eject right away\r\n\tSystem.err.println(&quot;No valid file has been entered. Please enter the file.&quot;);\r\n\r\n} else {\r\n\r\n\t// ok, you have 2 (or possibly more) arguments\r\n\t// go ahead and do everything else here\r\n\r\n\tB1TextLoader loader = new TextLoader();\r\n\tString txtFile = args[0];\r\n\tString jsonFile = args[1];\r\n\r\n\tfor (int x = 0; x &lt; args.length; x++) {    // remove this, it isn&#39;t needed\r\n\t\tloader.LoadTextFile(args[0]);           \r\n\t\tloader.SaveDocumentsToJSON(args[1]);\r\n\t}                                          // remove this, too\r\n}\r\n\r\n```\r\n\r\nNote: I added braces around the two lines after the &quot;for&quot; loop. The indendation makes it look like you want both &quot;loader&quot; lines to run inside the loop, but without braces that would not be the case.\r\n\r\nEDIT: I added comment lines to the code that the &quot;for&quot; loop should be removed.\r\n","title":"How to print out the exception error in Java","body":"<p>You want to do stuff if there <em>are</em> input arguments, and other stuff if there are <em>not</em> input arguments. Right now, your code is mixing those two together (and as a result, it does not function correctly).</p>\n<p>Here's a simpler approach that checks for your initial requirement up front (expect two arguments) and skips everything else if those arguments are not present.</p>\n<pre><code>if (args.length &lt; 2) {\n\n    // if missing expected two arguments, eject right away\n    System.err.println(&quot;No valid file has been entered. Please enter the file.&quot;);\n\n} else {\n\n    // ok, you have 2 (or possibly more) arguments\n    // go ahead and do everything else here\n\n    B1TextLoader loader = new TextLoader();\n    String txtFile = args[0];\n    String jsonFile = args[1];\n\n    for (int x = 0; x &lt; args.length; x++) {    // remove this, it isn't needed\n        loader.LoadTextFile(args[0]);           \n        loader.SaveDocumentsToJSON(args[1]);\n    }                                          // remove this, too\n}\n\n</code></pre>\n<p>Note: I added braces around the two lines after the &quot;for&quot; loop. The indendation makes it look like you want both &quot;loader&quot; lines to run inside the loop, but without braces that would not be the case.</p>\n<p>EDIT: I added comment lines to the code that the &quot;for&quot; loop should be removed.</p>\n"}],"owner":{"account_id":15285573,"reputation":1147,"user_id":11028689,"display_name":"Bluetail"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72957334,"answer_count":2,"score":0,"last_activity_date":1657815226,"creation_date":1657652852,"question_id":72957252,"body_markdown":"I am trying my Java program to print an error message if nothing is entered in the command prompt.\r\nThe user is expected to enter two file names in the command-line in Eclipse as arguments separated by a space. So if he/she has not entered anything I want this message to appear.\r\n\r\nMy code is as follows.\r\n\r\n    public class BTextLoader {\r\n    \r\n    \tConcurrentHashMap&lt;String, String&gt; documents = new ConcurrentHashMap&lt;String, String&gt;();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// instantiate an instance of the TextLoader class.\r\n    \t\tB1TextLoader loader = new TextLoader();\r\n    \r\n    \t\t// map .txt and .json names to the array of strings\r\n    \t\tString txtFile = args[0];\r\n    \t\tString jsonFile = args[1];\r\n    \r\n    \t\t// Check if command line arguments are NOT empty and then enter the file names.\r\n    \t\tif (args.length &gt; 0) {\r\n    \r\n    \t\t\tfor (int x = 0; x &lt; args.length; x++)\r\n    \t\t\t\tloader.LoadTextFile(args[0]);    \t\t\r\n    \t\t\t    loader.SaveDocumentsToJSON(args[1]);\r\n    \t\t\r\n    \t\t}\r\n    \r\n    \t\t// Print a message if a required file name is not provided...\r\n    \t\telse {\r\n    \t\t\tSystem.err.println(&quot;No valid file has been entered. Please enter the file.&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\nI do not understand why my else statement does not work?\r\nInstead of printing out my error message in the console, I am getting \r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    \tat pipeline.TextLoader.main(TextLoader.java:18)\r\n\r\nThank you!\r\n","title":"How to print out the exception error in Java","body":"<p>I am trying my Java program to print an error message if nothing is entered in the command prompt.\nThe user is expected to enter two file names in the command-line in Eclipse as arguments separated by a space. So if he/she has not entered anything I want this message to appear.</p>\n<p>My code is as follows.</p>\n<pre><code>public class BTextLoader {\n\n    ConcurrentHashMap&lt;String, String&gt; documents = new ConcurrentHashMap&lt;String, String&gt;();\n\n    public static void main(String[] args) {\n        // instantiate an instance of the TextLoader class.\n        B1TextLoader loader = new TextLoader();\n\n        // map .txt and .json names to the array of strings\n        String txtFile = args[0];\n        String jsonFile = args[1];\n\n        // Check if command line arguments are NOT empty and then enter the file names.\n        if (args.length &gt; 0) {\n\n            for (int x = 0; x &lt; args.length; x++)\n                loader.LoadTextFile(args[0]);           \n                loader.SaveDocumentsToJSON(args[1]);\n        \n        }\n\n        // Print a message if a required file name is not provided...\n        else {\n            System.err.println(&quot;No valid file has been entered. Please enter the file.&quot;);\n        }\n\n    }\n</code></pre>\n<p>I do not understand why my else statement does not work?\nInstead of printing out my error message in the console, I am getting</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at pipeline.TextLoader.main(TextLoader.java:18)\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1657814634,"creation_date":1657814634,"answer_id":72983509,"question_id":72966915,"body_markdown":"I made changes to your script and this was working fine as expected, please check the below!\r\nIf still you encountered any issues, kindly share complete logs for issue resolution.\r\n\r\n```\r\npackage com.selenium;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.PageLoadStrategy;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\npublic class Kream {\r\n\r\n  private static WebDriver driver;\r\n  public static final String WEB_DRIVER_ID = &quot;webdriver.chrome.driver&quot;;   // 크롬 드라이버\r\n  public static final String WEB_DRIVER_PATH = &quot;C://chromedriver.exe&quot;;\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    Kream krm = new Kream();\r\n    int rank = 0;   // 순서 주려고 선언\r\n\r\n    System.setProperty(WEB_DRIVER_ID, WEB_DRIVER_PATH);   // 운영체제 드라이버 설정\r\n    ChromeOptions options = new ChromeOptions();   // 옵션 쓰려고 객체화\r\n    options.addArguments(&quot;headless&quot;);\r\n    options.setPageLoadStrategy(PageLoadStrategy.NORMAL);\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n\r\n    try {\r\n      String url = &quot;https://kream.co.kr/search?category_id=34&amp;sort=popular&amp;per_page=40&quot;;\r\n      driver.get(url);\r\n\r\n      List&lt;WebElement&gt; el = driver.findElements(By.className(&quot;search_result_item&quot;));\r\n\r\n      var stTime = new Date().getTime(); //현재시간\r\n\r\n      while (new Date().getTime() &lt; stTime + 15000) { //30초 동안 무한스크롤 지속\r\n        Thread.sleep(500); //리소스 초과 방지\r\n        //executeScript: 해당 페이지에 JavaScript 명령을 보내는 거\r\n        ((JavascriptExecutor) driver)\r\n            .executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;, el);\r\n\r\n        for (WebElement element : el) {\r\n          System.out.println(++rank + &quot;. &quot;);\r\n          System.out.print(element.findElement(By.tagName(&quot;img&quot;)).getAttribute(&quot;src&quot;));\r\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;brand&quot;)).getText());\r\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;name&quot;)).getText());\r\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;translated_name&quot;)).getText());\r\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;amount&quot;)).getText());\r\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;desc&quot;)).getText());\r\n//          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;express_mark&quot;)).getText());\r\n          /*The above tag with class name as express_mark doesn&#39;t have any text attribute and hence, this is commented out!*/\r\n          System.out.println();\r\n        }\r\n      }\r\n    } finally {\r\n      driver.close();\r\n      driver.quit();\r\n    }\r\n  }\r\n}\r\n\r\n```","title":"Selenium test in Java returns the error: Connection reset","body":"<p>I made changes to your script and this was working fine as expected, please check the below!\nIf still you encountered any issues, kindly share complete logs for issue resolution.</p>\n<pre><code>package com.selenium;\n\nimport java.util.Date;\nimport java.util.List;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.PageLoadStrategy;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class Kream {\n\n  private static WebDriver driver;\n  public static final String WEB_DRIVER_ID = &quot;webdriver.chrome.driver&quot;;   // 크롬 드라이버\n  public static final String WEB_DRIVER_PATH = &quot;C://chromedriver.exe&quot;;\n\n  public static void main(String[] args) throws InterruptedException {\n    Kream krm = new Kream();\n    int rank = 0;   // 순서 주려고 선언\n\n    System.setProperty(WEB_DRIVER_ID, WEB_DRIVER_PATH);   // 운영체제 드라이버 설정\n    ChromeOptions options = new ChromeOptions();   // 옵션 쓰려고 객체화\n    options.addArguments(&quot;headless&quot;);\n    options.setPageLoadStrategy(PageLoadStrategy.NORMAL);\n\n    WebDriver driver = new ChromeDriver();\n\n    try {\n      String url = &quot;https://kream.co.kr/search?category_id=34&amp;sort=popular&amp;per_page=40&quot;;\n      driver.get(url);\n\n      List&lt;WebElement&gt; el = driver.findElements(By.className(&quot;search_result_item&quot;));\n\n      var stTime = new Date().getTime(); //현재시간\n\n      while (new Date().getTime() &lt; stTime + 15000) { //30초 동안 무한스크롤 지속\n        Thread.sleep(500); //리소스 초과 방지\n        //executeScript: 해당 페이지에 JavaScript 명령을 보내는 거\n        ((JavascriptExecutor) driver)\n            .executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;, el);\n\n        for (WebElement element : el) {\n          System.out.println(++rank + &quot;. &quot;);\n          System.out.print(element.findElement(By.tagName(&quot;img&quot;)).getAttribute(&quot;src&quot;));\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;brand&quot;)).getText());\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;name&quot;)).getText());\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;translated_name&quot;)).getText());\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;amount&quot;)).getText());\n          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;desc&quot;)).getText());\n//          System.out.print(&quot;|&quot; + element.findElement(By.className(&quot;express_mark&quot;)).getText());\n          /*The above tag with class name as express_mark doesn't have any text attribute and hence, this is commented out!*/\n          System.out.println();\n        }\n      }\n    } finally {\n      driver.close();\n      driver.quit();\n    }\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23797953,"reputation":55,"user_id":17808561,"display_name":"hyunseo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72983509,"answer_count":1,"score":0,"last_activity_date":1657814634,"creation_date":1657717838,"question_id":72966915,"body_markdown":"I tried some selenium and it worked but stopped in the middle of the crawling process\r\n\r\nthese are codes:\r\n\r\n\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.PageLoadStrategy;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    \r\n    public class Kream {\r\n       private static WebDriver driver;\r\n       public static final String WEB_DRIVER_ID = &quot;webdriver.chrome.driver&quot;;   // 크롬 드라이버\r\n       public static final String WEB_DRIVER_PATH = &quot;C://chromedriver.exe&quot;;\r\n       \r\n       public static void main(String[] args) throws InterruptedException {\r\n          Kream krm = new Kream();\r\n          int rank = 0;   // 순서 주려고 선언\r\n          \r\n          System.setProperty(WEB_DRIVER_ID, WEB_DRIVER_PATH);   // 운영체제 드라이버 설정\r\n          ChromeOptions options = new ChromeOptions();   // 옵션 쓰려고 객체화\r\n          options.addArguments(&quot;headless&quot;);\r\n          options.setPageLoadStrategy(PageLoadStrategy.NORMAL);\r\n          \r\n          WebDriver driver = new ChromeDriver(options);\r\n          \r\n          try {\r\n             String url = &quot;https://kream.co.kr/search?category_id=34&amp;sort=popular&amp;per_page=40&quot;;\r\n             driver.get(url);\r\n             \r\n             List&lt;WebElement&gt; el = driver.findElements(By.className(&quot;search_result_item&quot;));\r\n    \r\n             var stTime = new Date().getTime(); //현재시간\r\n               \r\n             while (new Date().getTime() &lt; stTime + 15000) { //30초 동안 무한스크롤 지속\r\n                   Thread.sleep(500); //리소스 초과 방지\r\n                   //executeScript: 해당 페이지에 JavaScript 명령을 보내는 거\r\n                   ((JavascriptExecutor)driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;, el);\r\n    \r\n                for (WebElement element:el) {\r\n                   System.out.println(++rank+&quot;. &quot;);\r\n                   System.out.print(element.findElement(By.tagName(&quot;img&quot;)).getAttribute(&quot;src&quot;));\r\n                   System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;brand&quot;)).getText());         \r\n                   System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;name&quot;)).getText());\r\n                   System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;translated_name&quot;)).getText());\r\n                   System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;amount&quot;)).getText());\r\n                   System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;desc&quot;)).getText());\r\n                   System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;express_mark&quot;)).getText());\r\n                   System.out.println();\r\n                   \r\n                }\r\n          \r\n             }\r\n               \r\n          } finally {\r\n             driver.close();\r\n             driver.quit();\r\n          }\r\n       }\r\n    \r\n    }\r\n\r\n\r\n\r\nand return the error that says \r\n\r\n\r\n    onError\r\n\r\n\r\n    java.net.SocketException: Connection reset\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n    \tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n    \tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n    \tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\ncurrent versions:\r\nchromedriver version:103.0.5060.24\r\nchrome version: 103.0.5060.114\r\n\r\nI already tried to match the both versions so mismatching wouldn&#39;t be the reason probably.\r\n\r\nThank you for the answer in advance.\r\n\r\n","title":"Selenium test in Java returns the error: Connection reset","body":"<p>I tried some selenium and it worked but stopped in the middle of the crawling process</p>\n<p>these are codes:</p>\n<pre><code>import java.util.Date;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.PageLoadStrategy;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\n\npublic class Kream {\n   private static WebDriver driver;\n   public static final String WEB_DRIVER_ID = &quot;webdriver.chrome.driver&quot;;   // 크롬 드라이버\n   public static final String WEB_DRIVER_PATH = &quot;C://chromedriver.exe&quot;;\n   \n   public static void main(String[] args) throws InterruptedException {\n      Kream krm = new Kream();\n      int rank = 0;   // 순서 주려고 선언\n      \n      System.setProperty(WEB_DRIVER_ID, WEB_DRIVER_PATH);   // 운영체제 드라이버 설정\n      ChromeOptions options = new ChromeOptions();   // 옵션 쓰려고 객체화\n      options.addArguments(&quot;headless&quot;);\n      options.setPageLoadStrategy(PageLoadStrategy.NORMAL);\n      \n      WebDriver driver = new ChromeDriver(options);\n      \n      try {\n         String url = &quot;https://kream.co.kr/search?category_id=34&amp;sort=popular&amp;per_page=40&quot;;\n         driver.get(url);\n         \n         List&lt;WebElement&gt; el = driver.findElements(By.className(&quot;search_result_item&quot;));\n\n         var stTime = new Date().getTime(); //현재시간\n           \n         while (new Date().getTime() &lt; stTime + 15000) { //30초 동안 무한스크롤 지속\n               Thread.sleep(500); //리소스 초과 방지\n               //executeScript: 해당 페이지에 JavaScript 명령을 보내는 거\n               ((JavascriptExecutor)driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;, el);\n\n            for (WebElement element:el) {\n               System.out.println(++rank+&quot;. &quot;);\n               System.out.print(element.findElement(By.tagName(&quot;img&quot;)).getAttribute(&quot;src&quot;));\n               System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;brand&quot;)).getText());         \n               System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;name&quot;)).getText());\n               System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;translated_name&quot;)).getText());\n               System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;amount&quot;)).getText());\n               System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;desc&quot;)).getText());\n               System.out.print(&quot;|&quot;+element.findElement(By.className(&quot;express_mark&quot;)).getText());\n               System.out.println();\n               \n            }\n      \n         }\n           \n      } finally {\n         driver.close();\n         driver.quit();\n      }\n   }\n\n}\n</code></pre>\n<p>and return the error that says</p>\n<pre><code>onError\n\n\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>current versions:\nchromedriver version:103.0.5060.24\nchrome version: 103.0.5060.114</p>\n<p>I already tried to match the both versions so mismatching wouldn't be the reason probably.</p>\n<p>Thank you for the answer in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657814102,"post_id":72983321,"comment_id":128904932,"body_markdown":"Whether or not it works depends on what the current working directory is. When you execute for IntelliJ, this seems to be the root of your project, but when you run from Gradle, it is probably the build output directory from Gradle, which doesn&#39;t contain your `libs` directory. Either modify your Gradle script so the lib directory and its contents are copied to the right location, or use some form of configuration (e.g. using absolute paths) to locate the right directory.","body":"Whether or not it works depends on what the current working directory is. When you execute for IntelliJ, this seems to be the root of your project, but when you run from Gradle, it is probably the build output directory from Gradle, which doesn&#39;t contain your <code>libs</code> directory. Either modify your Gradle script so the lib directory and its contents are copied to the right location, or use some form of configuration (e.g. using absolute paths) to locate the right directory."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1657814154,"post_id":72983321,"comment_id":128904958,"body_markdown":"At start you may extract the lib to a temp folder. I would put the lib into resources and  access direct from Java.","body":"At start you may extract the lib to a temp folder. I would put the lib into resources and  access direct from Java."},{"owner":{"account_id":23852974,"reputation":1,"user_id":17856717,"display_name":"SynnK"},"score":0,"creation_date":1657814399,"post_id":72983321,"comment_id":128905063,"body_markdown":"You got the point @MarkRotteveel, when I ran the gradle&#39;s built Jar, it doesn&#39;t finds the `libs` directory, but how can I do the `libs` directory and the file get copied to the build folder or put the &quot;procyon.jar&quot; file inside the built jar? so I can send it to my friends and they don&#39;t need to download procyon.jar, because it would be already inside the jar.","body":"You got the point @MarkRotteveel, when I ran the gradle&#39;s built Jar, it doesn&#39;t finds the <code>libs</code> directory, but how can I do the <code>libs</code> directory and the file get copied to the build folder or put the &quot;procyon.jar&quot; file inside the built jar? so I can send it to my friends and they don&#39;t need to download procyon.jar, because it would be already inside the jar."}],"owner":{"account_id":23852974,"reputation":1,"user_id":17856717,"display_name":"SynnK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657813954,"creation_date":1657813714,"question_id":72983321,"body_markdown":"I need to reference the file `procyon-0.6.0.jar` that is inside `libs` folder. I need to execute the command `java -jar libs/procyon-0.6.0 --arguments` but:\r\n- It works if I execute the project from IntelliJ IDEA\r\n- It doesn&#39;t works if I execute the built Jar (Gradle) because it cannot find `libs/procyon-0.6.0`\r\n\r\nMy project structure looks like this:\r\n```none\r\nlibs\r\n\\&gt; procyon-0.6.0.jar\r\n\r\nsrc\r\n\\&gt; main\r\n   \\&gt; java\r\n      \\&gt; me.synnk.jd\r\n         \\&gt; Main.java\r\n```\r\n\r\nI don&#39;t want to use any of the `libs/procyon-0.6.0.jar` classes, I just want to reference it to be used on `Runtime.getRuntime().exec(&quot;java -jar &quot;)` command.\r\n\r\nI don&#39;t want to use any additional &quot;java -jar Main.java&quot; arguments, no classpath or -cp. Only the common executing method.\r\n\r\nAny ideas on how can I solve this?","title":"How can I reference a jar that is in lib folder to &quot;java -jar&quot;?","body":"<p>I need to reference the file <code>procyon-0.6.0.jar</code> that is inside <code>libs</code> folder. I need to execute the command <code>java -jar libs/procyon-0.6.0 --arguments</code> but:</p>\n<ul>\n<li>It works if I execute the project from IntelliJ IDEA</li>\n<li>It doesn't works if I execute the built Jar (Gradle) because it cannot find <code>libs/procyon-0.6.0</code></li>\n</ul>\n<p>My project structure looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>libs\n\\&gt; procyon-0.6.0.jar\n\nsrc\n\\&gt; main\n   \\&gt; java\n      \\&gt; me.synnk.jd\n         \\&gt; Main.java\n</code></pre>\n<p>I don't want to use any of the <code>libs/procyon-0.6.0.jar</code> classes, I just want to reference it to be used on <code>Runtime.getRuntime().exec(&quot;java -jar &quot;)</code> command.</p>\n<p>I don't want to use any additional &quot;java -jar Main.java&quot; arguments, no classpath or -cp. Only the common executing method.</p>\n<p>Any ideas on how can I solve this?</p>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1657801520,"post_id":72977760,"comment_id":128899832,"body_markdown":"At the heart of it, most markup languages consist of either Map (Blocks in YAML) or List (Series in YAML). The `String` will be the key for each section (block or series), and the `Object` will either be a `Map`, `List`, or some scalar value (`String`, `Integer`, etc). A `Map` should always have a `String` key, and you&#39;ll have to check the values each time if you don&#39;t know what they are. That said, consider the fact that by parsing+loading the file, you&#39;ve already &quot;determined&quot; the contents.","body":"At the heart of it, most markup languages consist of either Map (Blocks in YAML) or List (Series in YAML). The <code>String</code> will be the key for each section (block or series), and the <code>Object</code> will either be a <code>Map</code>, <code>List</code>, or some scalar value (<code>String</code>, <code>Integer</code>, etc). A <code>Map</code> should always have a <code>String</code> key, and you&#39;ll have to check the values each time if you don&#39;t know what they are. That said, consider the fact that by parsing+loading the file, you&#39;ve already &quot;determined&quot; the contents."}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657803376,"creation_date":1657800228,"answer_id":72980180,"question_id":72977760,"body_markdown":"I wrote this function that recursively reads all the fields in the yml file.\r\nI have not tested it thoroughly, but I would say that it works as expected.\r\n\r\n     public static void readMapRec(Map&lt;String,Object&gt; map){\r\n            if(Objects.isNull(map) || map.entrySet().size()==0){\r\n                return;\r\n            }\r\n            for(Map.Entry&lt;String,Object&gt; entry: map.entrySet()){\r\n                try {\r\n                    if (entry.getValue() instanceof List) {\r\n                        for(int i = 0 ; i&lt; ((List&lt;?&gt;) entry.getValue()).size();i++) {\r\n                            Map&lt;String, Object&gt; casted = (Map&lt;String, Object&gt;) ((List&lt;?&gt;) entry.getValue()).get(i);\r\n                            readMapRec(casted);\r\n                        }\r\n                    }\r\n                    else {\r\n                        System.out.println(entry.getKey() +&quot; &quot;+entry.getValue());\r\n                    }\r\n                }catch (Exception ex){\r\n                    System.out.println(ex.getMessage());\r\n                }\r\n            }\r\n   \r\n        }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n    \r\n            \r\n            InputStream inputStream = new FileInputStream(new File(&quot;myFile.yml&quot;));\r\n    \r\n            Yaml yaml = new Yaml();\r\n            Map&lt;String, Object&gt; data = yaml.load(inputStream);\r\n    \r\n            readYml(data);\r\n\r\n        }\r\n\r\nSo, If you have yml file like this:\r\n\r\n    id: 20\r\n    name: Bruce\r\n    year: 2020\r\n    address: Gotham City\r\n    department: Computer Science\r\n    courses:\r\n      - name: Algorithms\r\n        credits: 6\r\n      - name: Data Structures\r\n        credits: 5\r\n      - name: Design Patterns\r\n        credits: 3\r\n    books:\r\n      - ds:\r\n          - a: test\r\n          - b: test\r\n          - c:\r\n              - e: test\r\n              - f: test\r\n\r\nYou should see output like this:\r\n\r\n    id 20\r\n    name Bruce\r\n    year 2020\r\n    address Gotham City\r\n    department Computer Science\r\n    name Algorithms\r\n    credits 6\r\n    name Data Structures\r\n    credits 5\r\n    name Design Patterns\r\n    credits 3\r\n    a test\r\n    b test\r\n    e test\r\n    f test\r\n\r\n","title":"How to safely extract nested values from YAML file using SnakeYaml?","body":"<p>I wrote this function that recursively reads all the fields in the yml file.\nI have not tested it thoroughly, but I would say that it works as expected.</p>\n<pre><code> public static void readMapRec(Map&lt;String,Object&gt; map){\n        if(Objects.isNull(map) || map.entrySet().size()==0){\n            return;\n        }\n        for(Map.Entry&lt;String,Object&gt; entry: map.entrySet()){\n            try {\n                if (entry.getValue() instanceof List) {\n                    for(int i = 0 ; i&lt; ((List&lt;?&gt;) entry.getValue()).size();i++) {\n                        Map&lt;String, Object&gt; casted = (Map&lt;String, Object&gt;) ((List&lt;?&gt;) entry.getValue()).get(i);\n                        readMapRec(casted);\n                    }\n                }\n                else {\n                    System.out.println(entry.getKey() +&quot; &quot;+entry.getValue());\n                }\n            }catch (Exception ex){\n                System.out.println(ex.getMessage());\n            }\n        }\n\n    }\n\npublic static void main(String[] args) throws IOException {\n\n        \n        InputStream inputStream = new FileInputStream(new File(&quot;myFile.yml&quot;));\n\n        Yaml yaml = new Yaml();\n        Map&lt;String, Object&gt; data = yaml.load(inputStream);\n\n        readYml(data);\n\n    }\n</code></pre>\n<p>So, If you have yml file like this:</p>\n<pre><code>id: 20\nname: Bruce\nyear: 2020\naddress: Gotham City\ndepartment: Computer Science\ncourses:\n  - name: Algorithms\n    credits: 6\n  - name: Data Structures\n    credits: 5\n  - name: Design Patterns\n    credits: 3\nbooks:\n  - ds:\n      - a: test\n      - b: test\n      - c:\n          - e: test\n          - f: test\n</code></pre>\n<p>You should see output like this:</p>\n<pre><code>id 20\nname Bruce\nyear 2020\naddress Gotham City\ndepartment Computer Science\nname Algorithms\ncredits 6\nname Data Structures\ncredits 5\nname Design Patterns\ncredits 3\na test\nb test\ne test\nf test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657813748,"creation_date":1657813748,"answer_id":72983325,"question_id":72977760,"body_markdown":"I slightly adapted the function you proposed up top to catch indiscriminate cases:\r\n```java\r\nprivate @NotNull Map&lt;String[], Object&gt; parseMap(@NotNull Map&lt;String, Object&gt; map, String[] previousRoot) {\r\n            Map&lt;String[], Object&gt; values = new HashMap&lt;&gt;();\r\n            if(map.entrySet().size()==0){\r\n                return values;\r\n            }\r\n            for(Map.Entry&lt;String, Object&gt; entry: map.entrySet()){\r\n                try {\r\n                    LinkedList&lt;String&gt; list = new LinkedList&lt;&gt;(Arrays.asList(previousRoot));\r\n                    list.add(entry.getKey());\r\n                    String[] key = list.toArray(previousRoot);\r\n                    if (entry.getValue() instanceof List) {\r\n                        List&lt;Map&lt;String, Object&gt;&gt; objectItems = new ArrayList&lt;&gt;();\r\n                        for(int i = 0 ; i&lt; ((List&lt;?&gt;) entry.getValue()).size();i++) {\r\n                            Map&lt;String, Object&gt; casted = (Map&lt;String, Object&gt;) ((List&lt;?&gt;) entry.getValue()).get(i);\r\n                            if(casted.size() &gt; 1) {\r\n                                objectItems.add(casted);\r\n                            } else {\r\n                                values.putAll(parseMap(casted, key));\r\n                            }\r\n                        }\r\n                        if(!objectItems.isEmpty()) {\r\n                            System.out.println(&quot;Putting Key: &quot; + Arrays.toString(key) + &quot; with Value: &quot; + objectItems);\r\n                            values.put(key, objectItems);\r\n                        }\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;Putting Key: &quot; + Arrays.toString(key) + &quot; with Value: &quot; + entry.getValue());\r\n                        values.put(key, entry.getValue());\r\n                    }\r\n                }catch (Exception ex){\r\n                    System.out.println(&quot;Exception: &quot; + ex.getMessage());\r\n                }\r\n            }\r\n            return values;\r\n        }\r\n```\r\nWhat do you think?\r\nIf you have any suggestions as to how it could be refined, I would be happy to hear them. :)","title":"How to safely extract nested values from YAML file using SnakeYaml?","body":"<p>I slightly adapted the function you proposed up top to catch indiscriminate cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private @NotNull Map&lt;String[], Object&gt; parseMap(@NotNull Map&lt;String, Object&gt; map, String[] previousRoot) {\n            Map&lt;String[], Object&gt; values = new HashMap&lt;&gt;();\n            if(map.entrySet().size()==0){\n                return values;\n            }\n            for(Map.Entry&lt;String, Object&gt; entry: map.entrySet()){\n                try {\n                    LinkedList&lt;String&gt; list = new LinkedList&lt;&gt;(Arrays.asList(previousRoot));\n                    list.add(entry.getKey());\n                    String[] key = list.toArray(previousRoot);\n                    if (entry.getValue() instanceof List) {\n                        List&lt;Map&lt;String, Object&gt;&gt; objectItems = new ArrayList&lt;&gt;();\n                        for(int i = 0 ; i&lt; ((List&lt;?&gt;) entry.getValue()).size();i++) {\n                            Map&lt;String, Object&gt; casted = (Map&lt;String, Object&gt;) ((List&lt;?&gt;) entry.getValue()).get(i);\n                            if(casted.size() &gt; 1) {\n                                objectItems.add(casted);\n                            } else {\n                                values.putAll(parseMap(casted, key));\n                            }\n                        }\n                        if(!objectItems.isEmpty()) {\n                            System.out.println(&quot;Putting Key: &quot; + Arrays.toString(key) + &quot; with Value: &quot; + objectItems);\n                            values.put(key, objectItems);\n                        }\n                    }\n                    else {\n                        System.out.println(&quot;Putting Key: &quot; + Arrays.toString(key) + &quot; with Value: &quot; + entry.getValue());\n                        values.put(key, entry.getValue());\n                    }\n                }catch (Exception ex){\n                    System.out.println(&quot;Exception: &quot; + ex.getMessage());\n                }\n            }\n            return values;\n        }\n</code></pre>\n<p>What do you think?\nIf you have any suggestions as to how it could be refined, I would be happy to hear them. :)</p>\n"}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657813748,"creation_date":1657788523,"question_id":72977760,"body_markdown":"I am working on extracting values from YAML Files in Java using the Snakeyaml library. Unfortunately, I am having a hard time extracting values from these files when I do not know the contents of the file in advance.\r\n\r\nAs such I am looking for a safe why to extract nested values from a given YAML File.\r\n\r\nHere my approach:\r\n```java\r\nMap&lt;String, Object&gt; dataMap = yaml.load(FileUtils.readFileToString(file, StrandardCharsets.UTF_8));\r\nfor(Map.Entry&lt;String, Object&gt; entry: dataMap.entrySet()) {\r\n    if(entry.getValue() instanceof Map&lt;String, Object&gt;) {\r\n        // Do something. Potentially loop again, because I do not know the depth of the File\r\n    } else {\r\n        // Get actual Value\r\n    }\r\n}\r\n```","title":"How to safely extract nested values from YAML file using SnakeYaml?","body":"<p>I am working on extracting values from YAML Files in Java using the Snakeyaml library. Unfortunately, I am having a hard time extracting values from these files when I do not know the contents of the file in advance.</p>\n<p>As such I am looking for a safe why to extract nested values from a given YAML File.</p>\n<p>Here my approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; dataMap = yaml.load(FileUtils.readFileToString(file, StrandardCharsets.UTF_8));\nfor(Map.Entry&lt;String, Object&gt; entry: dataMap.entrySet()) {\n    if(entry.getValue() instanceof Map&lt;String, Object&gt;) {\n        // Do something. Potentially loop again, because I do not know the depth of the File\n    } else {\n        // Get actual Value\n    }\n}\n</code></pre>\n"},{"tags":["java","c++","compression","geospatial"],"comments":[{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":3,"creation_date":1657814994,"post_id":72983303,"comment_id":128905239,"body_markdown":"C/C++ rounds ties _away from zero_, whereas Java rounds ties _up_. So for example, in Java, `StrictMath.round(-1.5)` gives `-1`, whereas in C `lround(-1.5)` gives `-2`.","body":"C/C++ rounds ties <i>away from zero</i>, whereas Java rounds ties <i>up</i>. So for example, in Java, <code>StrictMath.round(-1.5)</code> gives <code>-1</code>, whereas in C <code>lround(-1.5)</code> gives <code>-2</code>."},{"owner":{"account_id":23710598,"reputation":59302,"user_id":17732522,"display_name":"user17732522"},"score":2,"creation_date":1657816349,"post_id":72983303,"comment_id":128905700,"body_markdown":"&quot;_I wanted to avoid cases where a compiler might change associativity as part of its optimization._&quot;: The C and C++ standards do not allow a compiler to do that and they don&#39;t by-default, although they typically have a compilation flag to enable &quot;fast math&quot; that is not conforming. Adding redundant parentheses wouldn&#39;t change anything either way. However, `+` is left-to-right associative in C and C++, so you are grouping them against their natural parsing direction.","body":"&quot;<i>I wanted to avoid cases where a compiler might change associativity as part of its optimization.</i>&quot;: The C and C++ standards do not allow a compiler to do that and they don&#39;t by-default, although they typically have a compilation flag to enable &quot;fast math&quot; that is not conforming. Adding redundant parentheses wouldn&#39;t change anything either way. However, <code>+</code> is left-to-right associative in C and C++, so you are grouping them against their natural parsing direction."},{"owner":{"account_id":14628856,"reputation":426,"user_id":12664668,"display_name":"Gary Lucas"},"score":0,"creation_date":1657818629,"post_id":72983303,"comment_id":128906490,"body_markdown":"Thanks to both of you. This is really useful information.  And, if you&#39;ll excuse me, it&#39;s kind of neat to get a comment related to data compression from Mark Adler himself.","body":"Thanks to both of you. This is really useful information.  And, if you&#39;ll excuse me, it&#39;s kind of neat to get a comment related to data compression from Mark Adler himself."},{"owner":{"account_id":4612377,"reputation":5671,"user_id":3740047,"display_name":"Sedenion"},"score":1,"creation_date":1657865017,"post_id":72983303,"comment_id":128915700,"body_markdown":"You might want to have a look at this article: https://randomascii.wordpress.com/2013/07/16/floating-point-determinism/","body":"You might want to have a look at this article: <a href=\"https://randomascii.wordpress.com/2013/07/16/floating-point-determinism/\" rel=\"nofollow noreferrer\">randomascii.wordpress.com/2013/07/16/floating-point-determin&zwnj;&#8203;ism</a>"},{"owner":{"account_id":14628856,"reputation":426,"user_id":12664668,"display_name":"Gary Lucas"},"score":0,"creation_date":1658232030,"post_id":72983303,"comment_id":128995556,"body_markdown":"Thank you all three for your help. It led to some real progress on the C/C++ investigation. I am hoping that this discussion will help bring some more attention to data compression using the method of Lagrange multipliers for optimal predictors. It&#39;s really quite an elegant technique.","body":"Thank you all three for your help. It led to some real progress on the C/C++ investigation. I am hoping that this discussion will help bring some more attention to data compression using the method of Lagrange multipliers for optimal predictors. It&#39;s really quite an elegant technique."}],"owner":{"account_id":14628856,"reputation":426,"user_id":12664668,"display_name":"Gary Lucas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1657813620,"creation_date":1657813620,"question_id":72983303,"body_markdown":"Does anyone have recommendations on ensuring the repeatability of floating-point operations across platforms for data compression using optimal predictors?\r\n\r\nI have a Java implementation of data compression for terrestrial elevation and ocean depth information using the technique proposed by [Smith and Lewis, 1994][1]. The technique uses Lagrange Multipliers to find the coefficients for a predictor function that can be integrated into a lossless data compression operation.  The results are pretty good.  For SRTM elevation data, I am seeing average rates of 1.9 bits per value (more or less depending on local terrain).   Implementation details are available at [Lossless Compression for Raster Data using Optimal Predictors][2]\r\n\r\nI am porting my code to C/C++, but I am concerned about numerical precision issues. The method absolutely depends on the ability to get the same results for floating-point calculations when the data is stored and when the data is recovered.  The key computation (there’s only one of them) is shown below (u and z variables are all IEEE-754 single-precision floats):\r\n\r\n \r\n\r\n                    float p\r\n                    = u1 * z1\r\n                    + (u2 * z2\r\n                    + (u3 * z3\r\n                    + (u4 * z4\r\n                    + (u5 * z5\r\n                    + (u6 * z6\r\n                    + (u7 * z7\r\n                    + (u8 * z8\r\n                    + (u9 * z9\r\n                    + (u10 * z10\r\n                    + (u11 * z11 + u12 * z12))))))))));\r\n                int estimate = StrictMath.round(p); // this is the key result\r\n\r\nThe computation has a lot of extra parentheses because I wanted to avoid cases where a compiler might change associativity as part of its optimization.\r\n\r\nI have run C-language tests processing millions of data points under Windows and Linux and, so far, I haven’t seen a single problem…  Of course, I’ve been working on similar hardware and the same compiler (gcc)  and  a few hundred million points don’t really prove anything.\r\n\r\nWould it be sufficient to include a compiler directive such as\r\n\r\n    #pragma float_control(precise, on)\r\n\r\nAre there particular environments out there that will be problematic? Also, I have the source code for Java’s StrictMath.round method (it works directly on bits). Do I need to implement an explicit C version or are there stock C/C++ functions I can rely on to work the same way?\r\n\r\n\r\n  [1]: https://cartogis.org/docs/proceedings/archive/auto-carto-11/pdf/optimal-predictors-for-the-data-compression-of-digital-elevation-models-using-the-method-of-lagrange-multipliers.pdf\r\n  [2]: https://gwlucastrig.github.io/GridfourDocs/notes/CompressionUsingOptimalPredictors.html","title":"Floating-point issues in data compression using optimal predictors","body":"<p>Does anyone have recommendations on ensuring the repeatability of floating-point operations across platforms for data compression using optimal predictors?</p>\n<p>I have a Java implementation of data compression for terrestrial elevation and ocean depth information using the technique proposed by <a href=\"https://cartogis.org/docs/proceedings/archive/auto-carto-11/pdf/optimal-predictors-for-the-data-compression-of-digital-elevation-models-using-the-method-of-lagrange-multipliers.pdf\" rel=\"nofollow noreferrer\">Smith and Lewis, 1994</a>. The technique uses Lagrange Multipliers to find the coefficients for a predictor function that can be integrated into a lossless data compression operation.  The results are pretty good.  For SRTM elevation data, I am seeing average rates of 1.9 bits per value (more or less depending on local terrain).   Implementation details are available at <a href=\"https://gwlucastrig.github.io/GridfourDocs/notes/CompressionUsingOptimalPredictors.html\" rel=\"nofollow noreferrer\">Lossless Compression for Raster Data using Optimal Predictors</a></p>\n<p>I am porting my code to C/C++, but I am concerned about numerical precision issues. The method absolutely depends on the ability to get the same results for floating-point calculations when the data is stored and when the data is recovered.  The key computation (there’s only one of them) is shown below (u and z variables are all IEEE-754 single-precision floats):</p>\n<pre><code>                float p\n                = u1 * z1\n                + (u2 * z2\n                + (u3 * z3\n                + (u4 * z4\n                + (u5 * z5\n                + (u6 * z6\n                + (u7 * z7\n                + (u8 * z8\n                + (u9 * z9\n                + (u10 * z10\n                + (u11 * z11 + u12 * z12))))))))));\n            int estimate = StrictMath.round(p); // this is the key result\n</code></pre>\n<p>The computation has a lot of extra parentheses because I wanted to avoid cases where a compiler might change associativity as part of its optimization.</p>\n<p>I have run C-language tests processing millions of data points under Windows and Linux and, so far, I haven’t seen a single problem…  Of course, I’ve been working on similar hardware and the same compiler (gcc)  and  a few hundred million points don’t really prove anything.</p>\n<p>Would it be sufficient to include a compiler directive such as</p>\n<pre><code>#pragma float_control(precise, on)\n</code></pre>\n<p>Are there particular environments out there that will be problematic? Also, I have the source code for Java’s StrictMath.round method (it works directly on bits). Do I need to implement an explicit C version or are there stock C/C++ functions I can rely on to work the same way?</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":22805042,"reputation":307,"user_id":16957185,"display_name":"Gumpf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657813613,"creation_date":1657813613,"answer_id":72983301,"question_id":72971428,"body_markdown":"Ok, seems like the fix was pretty simple, I just needed to implement a proper ```equals``` method for C class. Using that, I&#39;m guessing JPA was able to determine that both representations were identical, and had no problems merging them.\r\n\r\nHoping this works for anyone else running into a similar issue.","title":"JPA: Resolving &quot;Muliple respresentations of the same entity&quot; while still permitting merging","body":"<p>Ok, seems like the fix was pretty simple, I just needed to implement a proper <code>equals</code> method for C class. Using that, I'm guessing JPA was able to determine that both representations were identical, and had no problems merging them.</p>\n<p>Hoping this works for anyone else running into a similar issue.</p>\n"}],"owner":{"account_id":22805042,"reputation":307,"user_id":16957185,"display_name":"Gumpf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657813613,"creation_date":1657739273,"question_id":72971428,"body_markdown":"So, I know this question has been asked a lot, but I haven&#39;t seen it asked about a case like this.\r\n\r\nI have the following entities:\r\n\r\n```\r\n@Entity\r\npublic class A {\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(updatable=false)\r\n    private Integer id;\r\n\r\n    @OneToMany(mappedBy=&quot;a&quot;, cascade=CascadeType.ALL)   \r\n\tprivate List&lt;B&gt; bs;\r\n}\r\n\r\n@Entity\r\npublic class B {\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(updatable=false)\r\n    private Integer id;\r\n\r\n    @ManyToMany(cascade=CascadeType.ALL)\r\n\t@JoinTable(\r\n\t\tname=&quot;BToC&quot;\r\n\t\t, joinColumns={\r\n\t\t\t@JoinColumn(name=&quot;BId&quot;, referencedColumnName=&quot;id&quot;)\r\n\t\t\t}\r\n\t\t, inverseJoinColumns={\r\n\t\t\t@JoinColumn(name=&quot;CId&quot;, referencedColumnName=&quot;id&quot;)\r\n\t\t\t}\r\n\t\t)\r\n\tprivate List&lt;C&gt; cs;\r\n}\r\n\r\n@Entity\r\npublic class C {\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(updatable=false)\r\n    private Integer id;\r\n\r\n    @ManyToMany(mappedBy=&quot;cs&quot;,cascade=CascadeType.ALL)\r\n\tprivate List&lt;B&gt; bs;\r\n}\r\n```\r\n\r\nIf you had an A, a1, containing two B&#39;s with id&#39;s 1 and 2 respectively (let&#39;s call them b1 and b2), each containing a single C with id 1 (let&#39;s call them c1 and c2), that would make c1 and c2 each have a bs list containing b1 and b2. When trying to merge A, the merge cascades to b1 and b2, and each of the B&#39;s merges then cascade to c1 and c2. Since c1 and c2 have identical contents, I would expect the following result to be pushed to table BtoC:\r\n\r\n```\r\nBId | CId\r\n----------\r\n  1 |   1\r\n  2 |   1\r\n```\r\n\r\nHowever, the merge fails because c1 and c2 both represent the same entity but are technically different objects.\r\n\r\nSo, my question is this: Is there a change I can make to allow merges applied to either A, B, or C to succeed and cascade, while permitting cases like with c1 and c2 where the contents are identical but the Object is different? Or would I need to omit the Merge Cascade Type from at least one of the entities, and have merges I would like to &quot;cascade&quot; from one object to another be handled manually (i.e. iterate through each entity, merging only those whose contents have not been previously merged OR assigning objects with identical contents to a single reference)?","title":"JPA: Resolving &quot;Muliple respresentations of the same entity&quot; while still permitting merging","body":"<p>So, I know this question has been asked a lot, but I haven't seen it asked about a case like this.</p>\n<p>I have the following entities:</p>\n<pre><code>@Entity\npublic class A {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(updatable=false)\n    private Integer id;\n\n    @OneToMany(mappedBy=&quot;a&quot;, cascade=CascadeType.ALL)   \n    private List&lt;B&gt; bs;\n}\n\n@Entity\npublic class B {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(updatable=false)\n    private Integer id;\n\n    @ManyToMany(cascade=CascadeType.ALL)\n    @JoinTable(\n        name=&quot;BToC&quot;\n        , joinColumns={\n            @JoinColumn(name=&quot;BId&quot;, referencedColumnName=&quot;id&quot;)\n            }\n        , inverseJoinColumns={\n            @JoinColumn(name=&quot;CId&quot;, referencedColumnName=&quot;id&quot;)\n            }\n        )\n    private List&lt;C&gt; cs;\n}\n\n@Entity\npublic class C {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(updatable=false)\n    private Integer id;\n\n    @ManyToMany(mappedBy=&quot;cs&quot;,cascade=CascadeType.ALL)\n    private List&lt;B&gt; bs;\n}\n</code></pre>\n<p>If you had an A, a1, containing two B's with id's 1 and 2 respectively (let's call them b1 and b2), each containing a single C with id 1 (let's call them c1 and c2), that would make c1 and c2 each have a bs list containing b1 and b2. When trying to merge A, the merge cascades to b1 and b2, and each of the B's merges then cascade to c1 and c2. Since c1 and c2 have identical contents, I would expect the following result to be pushed to table BtoC:</p>\n<pre><code>BId | CId\n----------\n  1 |   1\n  2 |   1\n</code></pre>\n<p>However, the merge fails because c1 and c2 both represent the same entity but are technically different objects.</p>\n<p>So, my question is this: Is there a change I can make to allow merges applied to either A, B, or C to succeed and cascade, while permitting cases like with c1 and c2 where the contents are identical but the Object is different? Or would I need to omit the Merge Cascade Type from at least one of the entities, and have merges I would like to &quot;cascade&quot; from one object to another be handled manually (i.e. iterate through each entity, merging only those whose contents have not been previously merged OR assigning objects with identical contents to a single reference)?</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657813323,"creation_date":1657813323,"answer_id":72983240,"question_id":72882869,"body_markdown":"You will need to change your domain; from `Cost`, I can see you require the Jobs to be ordered, but `Job` does not have any problem properties (i.e. non-planning variable fields) that can be used to determine the order (for example, a datetime field).\r\n\r\nTo enforce an order,there are two different models you can use:\r\n\r\n - the chained model, where each `Job` point to the previous `Job` (and the first `Job` points to `Employee`). This is explained by https://www.optaplanner.org/docs/optaplanner/latest/planner-configuration/planner-configuration.html#chainedPlanningVariable and https://www.optaplanner.org/docs/optaplanner/latest/design-patterns/design-patterns.html#chainedThroughTimePattern .\r\n \r\n - Using `@PlanningListVariable`, where each `Employee` is assigned an ordered `List` of jobs (and each job goes to exactly one employee). This changes `Employee` to the `@PlanningEntity` with a `@PlanningListVariable` for jobs, and `Job` to a `shadow entity` (changing its `@PlanningVariable` to an `@InverseRelationShadowVariable`). An example of this is https://github.com/kiegroup/optaplanner-quickstarts/tree/stable/use-cases/vehicle-routing .\r\n\r\nThe final form of the constraints will vary depending on which model is used.","title":"How to add constraints for solving scheduling problem in OptaPlanner?","body":"<p>You will need to change your domain; from <code>Cost</code>, I can see you require the Jobs to be ordered, but <code>Job</code> does not have any problem properties (i.e. non-planning variable fields) that can be used to determine the order (for example, a datetime field).</p>\n<p>To enforce an order,there are two different models you can use:</p>\n<ul>\n<li><p>the chained model, where each <code>Job</code> point to the previous <code>Job</code> (and the first <code>Job</code> points to <code>Employee</code>). This is explained by <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/planner-configuration/planner-configuration.html#chainedPlanningVariable\" rel=\"nofollow noreferrer\">https://www.optaplanner.org/docs/optaplanner/latest/planner-configuration/planner-configuration.html#chainedPlanningVariable</a> and <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/design-patterns/design-patterns.html#chainedThroughTimePattern\" rel=\"nofollow noreferrer\">https://www.optaplanner.org/docs/optaplanner/latest/design-patterns/design-patterns.html#chainedThroughTimePattern</a> .</p>\n</li>\n<li><p>Using <code>@PlanningListVariable</code>, where each <code>Employee</code> is assigned an ordered <code>List</code> of jobs (and each job goes to exactly one employee). This changes <code>Employee</code> to the <code>@PlanningEntity</code> with a <code>@PlanningListVariable</code> for jobs, and <code>Job</code> to a <code>shadow entity</code> (changing its <code>@PlanningVariable</code> to an <code>@InverseRelationShadowVariable</code>). An example of this is <a href=\"https://github.com/kiegroup/optaplanner-quickstarts/tree/stable/use-cases/vehicle-routing\" rel=\"nofollow noreferrer\">https://github.com/kiegroup/optaplanner-quickstarts/tree/stable/use-cases/vehicle-routing</a> .</p>\n</li>\n</ul>\n<p>The final form of the constraints will vary depending on which model is used.</p>\n"}],"owner":{"account_id":25648217,"reputation":65,"user_id":19415969,"display_name":"Scott A. Levinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657813323,"creation_date":1657107131,"question_id":72882869,"body_markdown":"I am trying to solve the following problem with OptaPlanner:\r\n* It is necessary to divide list of jobs between employees.\r\n* There is a minimum and maximum amount of job that 1 employee can perform. (For example, 5 - 10)\r\n* Each job has a fixed time to complete (30 minutes)\r\n* Also, the works are located in different places and, accordingly, there is a cost matrix (`List&lt;Cost&gt;` only the time to reach the place of work is important). I&#39;m using GraphHopper for building cost matrix.\r\n* The employee has a work schedule. For example, 9 hours (540 minutes).\r\n* Jobs should be divided between employees in such a way that, taking into account the time it takes to complete (30 mins for each job) it and the cost matrix, the total time does not exceed the work schedule (540 minutes).\r\n\r\nSource code:\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@PlanningEntity\r\npublic class Job {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\r\n    private Employee employee;\r\n\r\n    private Coordinate coordinate;\r\n\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@PlanningEntity\r\npublic class Employee {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    @InverseRelationShadowVariable(sourceVariableName = &quot;employee&quot;)\r\n    private List&lt;Job&gt; jobs;\r\n\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@PlanningSolution\r\npublic class Plan {\r\n\r\n    @ProblemFactCollectionProperty\r\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\r\n    private List&lt;Employee&gt; employees;\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;Job&gt; jobs;\r\n\r\n    @PlanningScore\r\n    private HardSoftScore score;\r\n\r\n}\r\n\r\n@Data\r\npublic class Cost {\r\n\r\n    private Job from;\r\n\r\n    private Job to;\r\n\r\n    private Long time;\r\n\r\n}\r\n```\r\n\r\nHere is the Constraint class:\r\n```java\r\npublic class CustomConstraintProvider implements ConstraintProvider {\r\n\r\n    @Override\r\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n        return new Constraint[] {\r\n                minInspectionNumberConflict(constraintFactory),\r\n                maxInspectionNumberConflict(constraintFactory)\r\n        };\r\n    }\r\n\r\n    Constraint minInspectionNumberConflict(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Employee.class)\r\n                .filter(employee -&gt; employee.getApplications().size() &lt; 5)\r\n                .penalize(&quot;Min Count&quot;,\r\n                        HardSoftScore.ONE_HARD,\r\n                        employee -&gt; 5 - employee.getApplications().size());\r\n    }\r\n\r\n    Constraint maxInspectionNumberConflict(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Employee.class)\r\n                .filter(employee -&gt; employee.getApplications().size() &gt; 10)\r\n                .penalize(&quot;Max Count&quot;, HardSoftScore.ONE_HARD,\r\n                        employee -&gt; employee.getApplications().size() - 10);\r\n    }\r\n}\r\n```\r\n\r\nHow can I solve such a problem?\r\n\r\nThank you in advance for your help.","title":"How to add constraints for solving scheduling problem in OptaPlanner?","body":"<p>I am trying to solve the following problem with OptaPlanner:</p>\n<ul>\n<li>It is necessary to divide list of jobs between employees.</li>\n<li>There is a minimum and maximum amount of job that 1 employee can perform. (For example, 5 - 10)</li>\n<li>Each job has a fixed time to complete (30 minutes)</li>\n<li>Also, the works are located in different places and, accordingly, there is a cost matrix (<code>List&lt;Cost&gt;</code> only the time to reach the place of work is important). I'm using GraphHopper for building cost matrix.</li>\n<li>The employee has a work schedule. For example, 9 hours (540 minutes).</li>\n<li>Jobs should be divided between employees in such a way that, taking into account the time it takes to complete (30 mins for each job) it and the cost matrix, the total time does not exceed the work schedule (540 minutes).</li>\n</ul>\n<p>Source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@PlanningEntity\npublic class Job {\n\n    @PlanningId\n    private Long id;\n\n    @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\n    private Employee employee;\n\n    private Coordinate coordinate;\n\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@PlanningEntity\npublic class Employee {\n\n    @PlanningId\n    private Long id;\n\n    @InverseRelationShadowVariable(sourceVariableName = &quot;employee&quot;)\n    private List&lt;Job&gt; jobs;\n\n}\n\n@Data\n@NoArgsConstructor\n@PlanningSolution\npublic class Plan {\n\n    @ProblemFactCollectionProperty\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\n    private List&lt;Employee&gt; employees;\n\n    @PlanningEntityCollectionProperty\n    private List&lt;Job&gt; jobs;\n\n    @PlanningScore\n    private HardSoftScore score;\n\n}\n\n@Data\npublic class Cost {\n\n    private Job from;\n\n    private Job to;\n\n    private Long time;\n\n}\n</code></pre>\n<p>Here is the Constraint class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomConstraintProvider implements ConstraintProvider {\n\n    @Override\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n        return new Constraint[] {\n                minInspectionNumberConflict(constraintFactory),\n                maxInspectionNumberConflict(constraintFactory)\n        };\n    }\n\n    Constraint minInspectionNumberConflict(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Employee.class)\n                .filter(employee -&gt; employee.getApplications().size() &lt; 5)\n                .penalize(&quot;Min Count&quot;,\n                        HardSoftScore.ONE_HARD,\n                        employee -&gt; 5 - employee.getApplications().size());\n    }\n\n    Constraint maxInspectionNumberConflict(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Employee.class)\n                .filter(employee -&gt; employee.getApplications().size() &gt; 10)\n                .penalize(&quot;Max Count&quot;, HardSoftScore.ONE_HARD,\n                        employee -&gt; employee.getApplications().size() - 10);\n    }\n}\n</code></pre>\n<p>How can I solve such a problem?</p>\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","multithreading","queue","threadpool","threadpoolexecutor"],"comments":[{"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"score":1,"creation_date":1657803591,"post_id":72980707,"comment_id":128900701,"body_markdown":"Why parallize the jobs when you in reality expect them to execute sequential?","body":"Why parallize the jobs when you in reality expect them to execute sequential?"},{"owner":{"account_id":23617390,"reputation":43,"user_id":17651258,"display_name":"Harsh"},"score":0,"creation_date":1658132493,"post_id":72980707,"comment_id":128965759,"body_markdown":"Actually, We have 30 jobs from diff customers which are independent hence we can execute in parallel. But we also need to execute in a order it is received.","body":"Actually, We have 30 jobs from diff customers which are independent hence we can execute in parallel. But we also need to execute in a order it is received."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657813194,"creation_date":1657810539,"answer_id":72982583,"question_id":72980707,"body_markdown":"The behaviour you see is due to the implementation of `ThreadPoolExecutor` when `corePoolSize != maxPoolSize`, which in JDK I have is below. Tasks 1-5 cause 5 `addWorker` calls, tasks 6-25 get queued. As the queue could be full by the time when submitting tasks 26-30 these end up in the `else if` and cause more `addWorker` calls. Thus tasks 26-30 may be run out of expected sequence if tasks 1-5 are running and the work queue is full with tasks 6-25. Adding more than 30 tasks would give rise to `RejectedExecutionException`. \r\n\r\n\tif (workerCountOf(c) &lt; corePoolSize) {\r\n\t\tif (addWorker(command, true))\r\n\t\t\treturn;\r\n\t\t...\r\n\t}\r\n\tif (isRunning(c) &amp;&amp; workQueue.offer(command)) {\r\n\t\tint recheck = ctl.get();\r\n\t\tif (! isRunning(recheck) &amp;&amp; remove(command))\r\n\t\t\treject(command);\r\n\t\telse if (workerCountOf(recheck) == 0)\r\n\t\t\taddWorker(null, false);\r\n\t}\r\n\telse if (!addWorker(command, false))\r\n\t\treject(command);\r\n\r\nYou could use an unbounded `LinkedBlockingQueue` which means that items 1-30 are added to the executor in expected order:\r\n\r\n     ThreadPoolExecutor exeSer = new ThreadPoolExecutor(5, 10, 0, TimeUnit.SECONDS,new LinkedBlockingQueue&lt;Runnable&gt;());\r\n\r\nNote that above might introduce other issues if adding large numbers of tasks and won&#39;t guarantee execution order 1 to 30 because at any stage up to `maxPoolSize` tasks may be run at once there is no guarantee which one of those task start first.","title":"Java ThreadPoolExecutor should follow the sequence of submitted jobs","body":"<p>The behaviour you see is due to the implementation of <code>ThreadPoolExecutor</code> when <code>corePoolSize != maxPoolSize</code>, which in JDK I have is below. Tasks 1-5 cause 5 <code>addWorker</code> calls, tasks 6-25 get queued. As the queue could be full by the time when submitting tasks 26-30 these end up in the <code>else if</code> and cause more <code>addWorker</code> calls. Thus tasks 26-30 may be run out of expected sequence if tasks 1-5 are running and the work queue is full with tasks 6-25. Adding more than 30 tasks would give rise to <code>RejectedExecutionException</code>.</p>\n<pre><code>if (workerCountOf(c) &lt; corePoolSize) {\n    if (addWorker(command, true))\n        return;\n    ...\n}\nif (isRunning(c) &amp;&amp; workQueue.offer(command)) {\n    int recheck = ctl.get();\n    if (! isRunning(recheck) &amp;&amp; remove(command))\n        reject(command);\n    else if (workerCountOf(recheck) == 0)\n        addWorker(null, false);\n}\nelse if (!addWorker(command, false))\n    reject(command);\n</code></pre>\n<p>You could use an unbounded <code>LinkedBlockingQueue</code> which means that items 1-30 are added to the executor in expected order:</p>\n<pre><code> ThreadPoolExecutor exeSer = new ThreadPoolExecutor(5, 10, 0, TimeUnit.SECONDS,new LinkedBlockingQueue&lt;Runnable&gt;());\n</code></pre>\n<p>Note that above might introduce other issues if adding large numbers of tasks and won't guarantee execution order 1 to 30 because at any stage up to <code>maxPoolSize</code> tasks may be run at once there is no guarantee which one of those task start first.</p>\n"}],"owner":{"account_id":23617390,"reputation":43,"user_id":17651258,"display_name":"Harsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1657813194,"creation_date":1657802570,"question_id":72980707,"body_markdown":"I am a beginner with ThreadPoolExecutor and need your expert advice for below scenario\r\n\r\n\r\nHere,I submit 30 jobs in a thread executor which should get executed in sequence.\r\n\r\n    ThreadPoolExecutor exeSer = new ThreadPoolExecutor(5, 10, 15, TimeUnit.SECONDS,new ArrayBlockingQueue&lt;Runnable&gt;(20));\r\n    \r\n    for(int i = 0; i&lt;30; i++) {\r\n    \texeSer.submit(new MyRunnableService(i));\r\n    }\r\n\r\n**Current Behaviour**\r\n\r\nWhen I submit 30 jobs to execute, the executor created 5 threads for first 5 jobs and start execution.\r\nThe next 20 jobs goes into Queue and then it executes remaining 5 jobs.\r\nSo first 5 (1-5) and last 5 (26-30) jobs get executed and other (6-25) jobs goes into queue.\r\n\r\n\r\n**Expectation**\r\n\r\nThe expected behaviour is that, first 5(1-5) should get executed as per corePoolSize and next 5 (6-10) should also get executed as per maxPoolSize and remaining 20 (11-30) should go into the queue.\r\n\r\n**Problem**\r\n\r\nI want to execute the job in a sequence but the problem is that last 5 (26-30) jobs executed first.\r\n\r\nIs there any way I can change the behaviour as expected or any other Executor implementation avialable who meets the requirement?\r\n\r\nPlease guide.","title":"Java ThreadPoolExecutor should follow the sequence of submitted jobs","body":"<p>I am a beginner with ThreadPoolExecutor and need your expert advice for below scenario</p>\n<p>Here,I submit 30 jobs in a thread executor which should get executed in sequence.</p>\n<pre><code>ThreadPoolExecutor exeSer = new ThreadPoolExecutor(5, 10, 15, TimeUnit.SECONDS,new ArrayBlockingQueue&lt;Runnable&gt;(20));\n\nfor(int i = 0; i&lt;30; i++) {\n    exeSer.submit(new MyRunnableService(i));\n}\n</code></pre>\n<p><strong>Current Behaviour</strong></p>\n<p>When I submit 30 jobs to execute, the executor created 5 threads for first 5 jobs and start execution.\nThe next 20 jobs goes into Queue and then it executes remaining 5 jobs.\nSo first 5 (1-5) and last 5 (26-30) jobs get executed and other (6-25) jobs goes into queue.</p>\n<p><strong>Expectation</strong></p>\n<p>The expected behaviour is that, first 5(1-5) should get executed as per corePoolSize and next 5 (6-10) should also get executed as per maxPoolSize and remaining 20 (11-30) should go into the queue.</p>\n<p><strong>Problem</strong></p>\n<p>I want to execute the job in a sequence but the problem is that last 5 (26-30) jobs executed first.</p>\n<p>Is there any way I can change the behaviour as expected or any other Executor implementation avialable who meets the requirement?</p>\n<p>Please guide.</p>\n"},{"tags":["java","angular","spring-boot","jar"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657824158,"post_id":72980449,"comment_id":128908283,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":24774354,"reputation":116,"user_id":18657988,"display_name":"riccadema"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657812880,"creation_date":1657812880,"answer_id":72983134,"question_id":72980449,"body_markdown":"If I haven&#39;t misunderstood, you can achieve this by doing this :\r\n\r\nIn **angular.json** &gt; **build** &gt; **options**, add this two lines\r\n\r\n    &quot;baseHref&quot; : &quot;/web-app/&quot;,\r\n    &quot;deployUrl&quot; : &quot;/web-app/&quot;,\r\n\r\nas they advised in [this answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50889024/deploying-angular-app-in-a-different-folder-than-root-folder","title":"I want to serve angular application from jar with custom context: localhost:9001/web-app","body":"<p>If I haven't misunderstood, you can achieve this by doing this :</p>\n<p>In <strong>angular.json</strong> &gt; <strong>build</strong> &gt; <strong>options</strong>, add this two lines</p>\n<pre><code>&quot;baseHref&quot; : &quot;/web-app/&quot;,\n&quot;deployUrl&quot; : &quot;/web-app/&quot;,\n</code></pre>\n<p>as they advised in <a href=\"https://stackoverflow.com/questions/50889024/deploying-angular-app-in-a-different-folder-than-root-folder\">this answer</a></p>\n"}],"owner":{"account_id":13030863,"reputation":139,"user_id":9417266,"display_name":"Ionita Bogdan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657812880,"creation_date":1657801415,"question_id":72980449,"body_markdown":"I created a single jar file with both server and frontend (spring + angular12). Everything is working fine, but i want to create a custom context for the web app (localhost:9001/web-app). I tried to create a different folder structure inside the static folder and i also tried to add a basePath in angular.json.\r\n\r\nThanks!","title":"I want to serve angular application from jar with custom context: localhost:9001/web-app","body":"<p>I created a single jar file with both server and frontend (spring + angular12). Everything is working fine, but i want to create a custom context for the web app (localhost:9001/web-app). I tried to create a different folder structure inside the static folder and i also tried to add a basePath in angular.json.</p>\n<p>Thanks!</p>\n"},{"tags":["java","integration","processbuilder"],"comments":[{"owner":{"account_id":15572374,"reputation":108,"user_id":12490479,"display_name":"Woutenator"},"score":1,"creation_date":1657798895,"post_id":72979862,"comment_id":128898854,"body_markdown":"The method doesn&#39;t come from an import, you should write it yourself. I suggest you take another look at the file you copied the code from (the github linked at the bottom of the page).","body":"The method doesn&#39;t come from an import, you should write it yourself. I suggest you take another look at the file you copied the code from (the github linked at the bottom of the page)."}],"answers":[{"tags":[],"owner":{"account_id":25669539,"reputation":36,"user_id":19434028,"display_name":"yairramit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657812119,"creation_date":1657812119,"answer_id":72982951,"question_id":72979862,"body_markdown":"You should write your own method. it could be something like:\r\n\r\n```java\r\nprivate String resolvePythonScriptPath(String path){\r\n   File file = new File(path);\r\n   return file.getAbsolutePath();\r\n}\r\n```","title":"Cannot resolve method &#39;resolvePythonScriptPath&#39;","body":"<p>You should write your own method. it could be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String resolvePythonScriptPath(String path){\n   File file = new File(path);\n   return file.getAbsolutePath();\n}\n</code></pre>\n"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72982951,"answer_count":1,"score":2,"last_activity_date":1657812119,"creation_date":1657798543,"question_id":72979862,"body_markdown":"I&#39;m following [this][1] tutorial about integrating `Java` and `Python`.\r\n\r\nAnd I keep getting `Cannot resolve method &#39;resolvePythonScriptPath&#39; in &#39;TestIntegration&#39;`\r\nwhat import am I missing for this method `resolvePythonScriptPath()` ?\r\n\r\nThis is my code:\r\n```java\r\nimport org.junit.Test;\r\nimport javax.script.ScriptContext;\r\nimport javax.script.ScriptEngine;\r\nimport javax.script.ScriptEngineManager;\r\nimport javax.script.SimpleScriptContext;\r\nimport java.io.FileReader;\r\nimport java.io.StringWriter;\r\n\r\nimport static org.junit.Assert.*;\r\n\r\npublic class TestIntegration {\r\n    @Test\r\n    public void givenPythonScriptEngineIsAvailable_whenScriptInvoked_thenOutputDisplayed() throws Exception {\r\n        StringWriter writer = new StringWriter();\r\n        ScriptContext context = new SimpleScriptContext();\r\n        context.setWriter(writer);\r\n\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\r\n        engine.eval(new FileReader(resolvePythonScriptPath(&quot;hello.py&quot;)), context);\r\n        assertEquals(&quot;Should contain script output: &quot;, &quot;Hello Baeldung Readers!!&quot;, writer.toString().trim());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-working-with-python","title":"Cannot resolve method &#39;resolvePythonScriptPath&#39;","body":"<p>I'm following <a href=\"https://www.baeldung.com/java-working-with-python\" rel=\"nofollow noreferrer\">this</a> tutorial about integrating <code>Java</code> and <code>Python</code>.</p>\n<p>And I keep getting <code>Cannot resolve method 'resolvePythonScriptPath' in 'TestIntegration'</code>\nwhat import am I missing for this method <code>resolvePythonScriptPath()</code> ?</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test;\nimport javax.script.ScriptContext;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\nimport javax.script.SimpleScriptContext;\nimport java.io.FileReader;\nimport java.io.StringWriter;\n\nimport static org.junit.Assert.*;\n\npublic class TestIntegration {\n    @Test\n    public void givenPythonScriptEngineIsAvailable_whenScriptInvoked_thenOutputDisplayed() throws Exception {\n        StringWriter writer = new StringWriter();\n        ScriptContext context = new SimpleScriptContext();\n        context.setWriter(writer);\n\n        ScriptEngineManager manager = new ScriptEngineManager();\n        ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\n        engine.eval(new FileReader(resolvePythonScriptPath(&quot;hello.py&quot;)), context);\n        assertEquals(&quot;Should contain script output: &quot;, &quot;Hello Baeldung Readers!!&quot;, writer.toString().trim());\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","api"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657810737,"creation_date":1657810737,"answer_id":72982627,"question_id":72982437,"body_markdown":"You can do all this with standard java tools. You will need to use [ScheduledExecutorService][1] or possibly just an `ExecutorService` To get an istance of one use [Executors] class[2]. You will need to create (or modify) your own class to implement `Runnable` interface where method `run()` would be responsible for sending a single request. Than you will need to submit all your Runnables to your ScheduledExecutorService to run at the same time. Set the number of threads equal to the number of your runnables and they will run concurrently\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html","title":"Send multiple API requests simultaneously with different authorization header for each API Call request using Java","body":"<p>You can do all this with standard java tools. You will need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> or possibly just an <code>ExecutorService</code> To get an istance of one use [Executors] class<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">2</a>. You will need to create (or modify) your own class to implement <code>Runnable</code> interface where method <code>run()</code> would be responsible for sending a single request. Than you will need to submit all your Runnables to your ScheduledExecutorService to run at the same time. Set the number of threads equal to the number of your runnables and they will run concurrently</p>\n"},{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657812001,"creation_date":1657812001,"answer_id":72982928,"question_id":72982437,"body_markdown":"The resulting code following @michael-gantman suggestion:\r\n\r\n    public void sendMultipleAPIRequests() throws IOException \r\n    {\r\n    \tExecutorService executorService = Executors.newFixedThreadPool(10); // max 10 concurrent threads\r\n        for (Map.Entry mapElement : usersMap.entrySet()) {\r\n    \t\tRunnable thread = () -&gt; {\r\n    \t\t  LabAPIChecker labAPIChecker = new LabAPIChecker(HOST, mapElement.getValue());\r\n    \t\t  JsonObject jsonObject = labAPIChecker.launchLabGetRequest();\r\n    \t\t};\r\n    \t\texecutorService.execute(thread);\r\n         }\r\n         executorService.shutdown(); \r\n     }\r\n\r\n\r\nAll credit goes to @michael-gantman","title":"Send multiple API requests simultaneously with different authorization header for each API Call request using Java","body":"<p>The resulting code following @michael-gantman suggestion:</p>\n<pre><code>public void sendMultipleAPIRequests() throws IOException \n{\n    ExecutorService executorService = Executors.newFixedThreadPool(10); // max 10 concurrent threads\n    for (Map.Entry mapElement : usersMap.entrySet()) {\n        Runnable thread = () -&gt; {\n          LabAPIChecker labAPIChecker = new LabAPIChecker(HOST, mapElement.getValue());\n          JsonObject jsonObject = labAPIChecker.launchLabGetRequest();\n        };\n        executorService.execute(thread);\n     }\n     executorService.shutdown(); \n }\n</code></pre>\n<p>All credit goes to @michael-gantman</p>\n"}],"owner":{"account_id":14166407,"reputation":658,"user_id":10234240,"display_name":"tupac shakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72982627,"answer_count":2,"score":1,"last_activity_date":1657812001,"creation_date":1657809944,"question_id":72982437,"body_markdown":"I am struggling in sending multiple API requests simultaneously, below are the steps of which I am doing in order to send multiple API calls simultaneously:\r\n\r\n1. Creating hashmap with 40 authorization values.\r\n2. iterating over the hashmap in order to retrieve different authorization value for each call.\r\n\r\nI know how to make it sequentially, I want to be able to do it with threads.\r\n\r\nThis is my code:\r\n\r\n    private void createUsers() throws ApiException {\r\n        AuthAPI authAPI = new AuthAPI(HOST);\r\n        usersMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; 40 - 1; i++) {\r\n            String USER_NAME = &quot;Introductory Content User &quot; + StringUtils.getRandomString(5, true, false);\r\n            usersAPIUnitTest.createUser(USER_NAME, UserRole.ADMIN, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n            String email = UsersAPIUnitTest.getEmail();\r\n            System.out.println(email);\r\n            String userToken = authAPI.generateToken(email);\r\n            usersMap.put(USER_NAME, userToken);\r\n        }\r\n    }\r\n\r\nThen I use this method to send the api calls:\r\n\r\n    public void sendMultipleAPIRequests() throws IOException {\r\n            for(Map.Entry mapElement : usersMap.entrySet()){\r\n                LabAPIChecker labAPIChecker = new LabAPIChecker(HOST, mapElement.getValue());\r\n                JsonObject jsonObject = labAPIChecker.launchLabGetRequest();//this line perform simple &#39;get&#39; request\r\n            }\r\n            \r\n        }\r\n\r\n","title":"Send multiple API requests simultaneously with different authorization header for each API Call request using Java","body":"<p>I am struggling in sending multiple API requests simultaneously, below are the steps of which I am doing in order to send multiple API calls simultaneously:</p>\n<ol>\n<li>Creating hashmap with 40 authorization values.</li>\n<li>iterating over the hashmap in order to retrieve different authorization value for each call.</li>\n</ol>\n<p>I know how to make it sequentially, I want to be able to do it with threads.</p>\n<p>This is my code:</p>\n<pre><code>private void createUsers() throws ApiException {\n    AuthAPI authAPI = new AuthAPI(HOST);\n    usersMap = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; 40 - 1; i++) {\n        String USER_NAME = &quot;Introductory Content User &quot; + StringUtils.getRandomString(5, true, false);\n        usersAPIUnitTest.createUser(USER_NAME, UserRole.ADMIN, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n        String email = UsersAPIUnitTest.getEmail();\n        System.out.println(email);\n        String userToken = authAPI.generateToken(email);\n        usersMap.put(USER_NAME, userToken);\n    }\n}\n</code></pre>\n<p>Then I use this method to send the api calls:</p>\n<pre><code>public void sendMultipleAPIRequests() throws IOException {\n        for(Map.Entry mapElement : usersMap.entrySet()){\n            LabAPIChecker labAPIChecker = new LabAPIChecker(HOST, mapElement.getValue());\n            JsonObject jsonObject = labAPIChecker.launchLabGetRequest();//this line perform simple 'get' request\n        }\n        \n    }\n</code></pre>\n"},{"tags":["java","cryptography","bouncycastle","elliptic-curve","ecdsa"],"answers":[{"tags":[],"owner":{"account_id":992738,"reputation":408,"user_id":1009540,"display_name":"BarbetNL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657811693,"creation_date":1657752578,"answer_id":72973452,"question_id":72971636,"body_markdown":"You just did system out on the object. These are indeed the public specs. If you check the actual bytes of the key, you&#39;ll see the difference:\r\n\r\n```java\r\n@Test\r\nvoid stackOverflowQuestion() throws Exception{\r\n    Security.addProvider(new BouncyCastleFipsProvider());\r\n\r\n    final KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;ECDSA&quot;, BouncyCastleFipsProvider.PROVIDER_NAME);\r\n    final SecureRandom secureRandom = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n    final ECGenParameterSpec params = new ECGenParameterSpec(&quot;prime256v1&quot;);\r\n    keyPairGenerator.initialize(params, secureRandom);\r\n    final KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n\r\n    System.out.println(keyToBase64String(keyPair.getPrivate()));\r\n    System.out.println(keyToBase64String(keyPair.getPublic()));\r\n}\r\n\r\npublic static String keyToBase64String(final Key key) {\r\n    return bytesToBase64(key.getEncoded());\r\n}\r\n\r\nprivate static String bytesToBase64(final byte[] bytes) {\r\n    return Base64.getEncoder().encodeToString(bytes);\r\n}\r\n```\r\n\r\noutput:\r\n```none\r\nMIGTAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQggbwdSOULxslgm+ckKNW9d0gtPAPUrSjU29Rtk6szTeKgCgYIKoZIzj0DAQehRANCAASP3lAcUGCqmvYUt9hZEjPArtcdBlUYC3Sac9XSpZFRkFnWmIHxwx40ejFXxE9U2mq+VDMe21rjXBvdnqxHyCV4\r\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEj95QHFBgqpr2FLfYWRIzwK7XHQZVGAt0mnPV0qWRUZBZ1piB8cMeNHoxV8RPVNpqvlQzHtta41wb3Z6sR8gleA==\r\n```\r\n\r\nAlso, don&#39;t use SHA1PRNG. You can trust the provide secure random of BC. Use instead:\r\n`keyPairGenerator.initialize(params);`","title":"Elliptic Curve Cryptography (ECDSA) Private Key Matches Public Key (Java - Bouncy Castle)","body":"<p>You just did system out on the object. These are indeed the public specs. If you check the actual bytes of the key, you'll see the difference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid stackOverflowQuestion() throws Exception{\n    Security.addProvider(new BouncyCastleFipsProvider());\n\n    final KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;ECDSA&quot;, BouncyCastleFipsProvider.PROVIDER_NAME);\n    final SecureRandom secureRandom = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\n    final ECGenParameterSpec params = new ECGenParameterSpec(&quot;prime256v1&quot;);\n    keyPairGenerator.initialize(params, secureRandom);\n    final KeyPair keyPair = keyPairGenerator.generateKeyPair();\n\n    System.out.println(keyToBase64String(keyPair.getPrivate()));\n    System.out.println(keyToBase64String(keyPair.getPublic()));\n}\n\npublic static String keyToBase64String(final Key key) {\n    return bytesToBase64(key.getEncoded());\n}\n\nprivate static String bytesToBase64(final byte[] bytes) {\n    return Base64.getEncoder().encodeToString(bytes);\n}\n</code></pre>\n<p>output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>MIGTAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQggbwdSOULxslgm+ckKNW9d0gtPAPUrSjU29Rtk6szTeKgCgYIKoZIzj0DAQehRANCAASP3lAcUGCqmvYUt9hZEjPArtcdBlUYC3Sac9XSpZFRkFnWmIHxwx40ejFXxE9U2mq+VDMe21rjXBvdnqxHyCV4\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEj95QHFBgqpr2FLfYWRIzwK7XHQZVGAt0mnPV0qWRUZBZ1piB8cMeNHoxV8RPVNpqvlQzHtta41wb3Z6sR8gleA==\n</code></pre>\n<p>Also, don't use SHA1PRNG. You can trust the provide secure random of BC. Use instead:\n<code>keyPairGenerator.initialize(params);</code></p>\n"}],"owner":{"account_id":17025808,"reputation":17,"user_id":12317105,"display_name":"balazsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72973452,"answer_count":1,"score":0,"last_activity_date":1657811693,"creation_date":1657740508,"question_id":72971636,"body_markdown":"I try to use Elliptic Curve Digital Signature Algorithm (ECDSA) with Bouncy Castle and Java. I want to generate a public key and private key. The problem is that these keys have the exact same values. Let&#39;s look at the code:\r\n\r\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n\tSecureRandom secureRandom = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n\tECGenParameterSpec params = new ECGenParameterSpec(&quot;prime256v1&quot;);\r\n\tkeyPairGenerator.initialize(params, secureRandom); \r\n\tKeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n\r\nI use the `java.security` related classes:\r\n\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.PrivateKey;\r\n    import java.security.PublicKey;\r\n    import java.security.SecureRandom;\r\n    import java.security.Signature;\r\n\r\nEverything is working fine, but the problem is that the public key matches the private key. I am confused because the public key should be a point on the elliptic curve (so far so good). The private key should be an integer, but it is the same point (on the curve) as the public key. Am I missing something? When I print the public key and private key values:\r\n\r\n    EC Public Key [f9:63:ec:0b:ca:a4:c6:f8:50:d0:2f:29:8b:23:10:13:d8:1c:2f:16]\r\n            X: 818af4b0ed955e273c4d81c1480db282293b95881b7f04dba897da0cef3a91de\r\n            Y: 3b00a30ced960780a8a830b928601dbfd32ac09e8e19e2297f8831f66e80fd15\r\n\r\n    EC Private Key [f9:63:ec:0b:ca:a4:c6:f8:50:d0:2f:29:8b:23:10:13:d8:1c:2f:16]\r\n            X: 818af4b0ed955e273c4d81c1480db282293b95881b7f04dba897da0cef3a91de\r\n            Y: 3b00a30ced960780a8a830b928601dbfd32ac09e8e19e2297f8831f66e80fd15\r\n\r\n","title":"Elliptic Curve Cryptography (ECDSA) Private Key Matches Public Key (Java - Bouncy Castle)","body":"<p>I try to use Elliptic Curve Digital Signature Algorithm (ECDSA) with Bouncy Castle and Java. I want to generate a public key and private key. The problem is that these keys have the exact same values. Let's look at the code:</p>\n<pre><code>KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\nSecureRandom secureRandom = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\nECGenParameterSpec params = new ECGenParameterSpec(&quot;prime256v1&quot;);\nkeyPairGenerator.initialize(params, secureRandom); \nKeyPair keyPair = keyPairGenerator.generateKeyPair();\n</code></pre>\n<p>I use the <code>java.security</code> related classes:</p>\n<pre><code>import java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.SecureRandom;\nimport java.security.Signature;\n</code></pre>\n<p>Everything is working fine, but the problem is that the public key matches the private key. I am confused because the public key should be a point on the elliptic curve (so far so good). The private key should be an integer, but it is the same point (on the curve) as the public key. Am I missing something? When I print the public key and private key values:</p>\n<pre><code>EC Public Key [f9:63:ec:0b:ca:a4:c6:f8:50:d0:2f:29:8b:23:10:13:d8:1c:2f:16]\n        X: 818af4b0ed955e273c4d81c1480db282293b95881b7f04dba897da0cef3a91de\n        Y: 3b00a30ced960780a8a830b928601dbfd32ac09e8e19e2297f8831f66e80fd15\n\nEC Private Key [f9:63:ec:0b:ca:a4:c6:f8:50:d0:2f:29:8b:23:10:13:d8:1c:2f:16]\n        X: 818af4b0ed955e273c4d81c1480db282293b95881b7f04dba897da0cef3a91de\n        Y: 3b00a30ced960780a8a830b928601dbfd32ac09e8e19e2297f8831f66e80fd15\n</code></pre>\n"},{"tags":["java","android","unit-testing","android-debug","test-coverage"],"comments":[{"owner":{"account_id":1793578,"reputation":178,"user_id":1633493,"display_name":"GSD.Aaz"},"score":0,"creation_date":1627052166,"post_id":60428832,"comment_id":121062036,"body_markdown":"See similar error and possible solutions here: https://stackoverflow.com/a/68501093/1633493","body":"See similar error and possible solutions here: <a href=\"https://stackoverflow.com/a/68501093/1633493\">stackoverflow.com/a/68501093/1633493</a>"}],"answers":[{"tags":[],"owner":{"account_id":16569445,"reputation":222,"user_id":11973019,"display_name":"Nuwan Harshakumara Piyarathna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635177412,"creation_date":1635177093,"answer_id":69711141,"question_id":60428832,"body_markdown":"I just did the following  and It solved my problem.\r\n\r\n 1. Invalidate caches and Restart (File -&gt; Invalidate Caches / Restart)\r\n 2. Clean Project (Build -&gt; Clean Project)\r\n","title":"Unit testing: Entry name &#39;res/layout/test_toolbar.xml&#39; collided","body":"<p>I just did the following  and It solved my problem.</p>\n<ol>\n<li>Invalidate caches and Restart (File -&gt; Invalidate Caches / Restart)</li>\n<li>Clean Project (Build -&gt; Clean Project)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10701544,"reputation":1,"user_id":7876682,"display_name":"Suraj Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657811676,"creation_date":1657811676,"answer_id":72982859,"question_id":60428832,"body_markdown":"This happens due to same xml may be included in third party SDKs.\r\nSolution: exclude &#39;res/layout/test_toolbar.xml&#39; in packagingOptions of app&#39;s build.gradle file.\r\n\r\n`packagingOptions {\r\n        exclude &#39;res/layout/test_toolbar.xml&#39;\r\n    }`","title":"Unit testing: Entry name &#39;res/layout/test_toolbar.xml&#39; collided","body":"<p>This happens due to same xml may be included in third party SDKs.\nSolution: exclude 'res/layout/test_toolbar.xml' in packagingOptions of app's build.gradle file.</p>\n<p><code>packagingOptions { exclude 'res/layout/test_toolbar.xml' }</code></p>\n"}],"owner":{"account_id":8241700,"reputation":776,"user_id":6199167,"accept_rate":83,"display_name":"Abderazak Amiar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1783,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1657811676,"creation_date":1582791194,"question_id":60428832,"body_markdown":"I&#39;ve tried to do some unit test example that included in an Android Studio project like `ExampleInstrumentedTest` and `ExampleUnitTest`, so the result is :\r\n\r\n&gt; Entry name &#39;res/layout/test_toolbar.xml&#39; collided\r\n \r\n\r\n\r\nI&#39;ve searched everywhere on google but there&#39;s not answers to this specific problem, so any help will be grateful \r\n\r\nhere&#39;s the source of the basic unit test example :  \r\n\r\n**ExampleUnitTest**\r\n\r\n``` /**\r\n * Example local unit test, which will execute on the development machine (host).\r\n *\r\n * @see &lt;a href=&quot;http://d.android.com/tools/testing&quot;&gt;Testing documentation&lt;/a&gt;\r\n */\r\npublic class ExampleUnitTest {\r\n    @Test\r\n    public void addition_isCorrect() {\r\n        assertEquals(4, 2 + 2);\r\n    }}\r\n```\r\n[![enter image description here][1]][1]\r\n    \r\n**ExampleInstrumentedTest**\r\n\r\n```/**\r\n * Instrumented test, which will execute on an Android device.\r\n *\r\n * @see &lt;a href=&quot;http://d.android.com/tools/testing&quot;&gt;Testing documentation&lt;/a&gt;\r\n */\r\n@RunWith(AndroidJUnit4.class)\r\npublic class ExampleInstrumentedTest {\r\n    @Test\r\n    public void useAppContext() {\r\n        // Context of the app under test.\r\n        Context appContext = InstrumentationRegistry.getInstrumentation().getContext();\r\n\r\n        assertEquals(&quot;com.example.abder.emarque&quot;, appContext.getPackageName());\r\n    }}\r\n ```\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PA2f0.png\r\n  [2]: https://i.stack.imgur.com/yZRqZ.png","title":"Unit testing: Entry name &#39;res/layout/test_toolbar.xml&#39; collided","body":"<p>I've tried to do some unit test example that included in an Android Studio project like <code>ExampleInstrumentedTest</code> and <code>ExampleUnitTest</code>, so the result is :</p>\n\n<blockquote>\n  <p>Entry name 'res/layout/test_toolbar.xml' collided</p>\n</blockquote>\n\n<p>I've searched everywhere on google but there's not answers to this specific problem, so any help will be grateful </p>\n\n<p>here's the source of the basic unit test example :  </p>\n\n<p><strong>ExampleUnitTest</strong></p>\n\n<pre><code> * Example local unit test, which will execute on the development machine (host).\n *\n * @see &lt;a href=\"http://d.android.com/tools/testing\"&gt;Testing documentation&lt;/a&gt;\n */\npublic class ExampleUnitTest {\n    @Test\n    public void addition_isCorrect() {\n        assertEquals(4, 2 + 2);\n    }}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PA2f0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PA2f0.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>ExampleInstrumentedTest</strong></p>\n\n<pre><code> * Instrumented test, which will execute on an Android device.\n *\n * @see &lt;a href=\"http://d.android.com/tools/testing\"&gt;Testing documentation&lt;/a&gt;\n */\n@RunWith(AndroidJUnit4.class)\npublic class ExampleInstrumentedTest {\n    @Test\n    public void useAppContext() {\n        // Context of the app under test.\n        Context appContext = InstrumentationRegistry.getInstrumentation().getContext();\n\n        assertEquals(\"com.example.abder.emarque\", appContext.getPackageName());\n    }}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yZRqZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZRqZ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646987618,"creation_date":1646987618,"answer_id":71435699,"question_id":71434640,"body_markdown":"I did not find a way to use different ThreadPoolTaskScheduler for two scheduled tasks. I think using @Async can do something similar. Put the business code in an asynchronous task and specify a different thread pool to run.","title":"I have two different classes which uses @EnableScheduling but they are using same executor service","body":"<p>I did not find a way to use different ThreadPoolTaskScheduler for two scheduled tasks. I think using @Async can do something similar. Put the business code in an asynchronous task and specify a different thread pool to run.</p>\n"}],"owner":{"account_id":17689252,"reputation":11,"user_id":12841460,"display_name":"Ankur Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657811670,"creation_date":1646981513,"question_id":71434640,"body_markdown":"I want both classes to use different executor services. but both are picking the same executor. \r\n\r\nclass implements SchedulingConfigurer \r\n\r\n```\r\n@Override\r\npublic void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n    taskRegistrar.setScheduler(taskExecutor());\r\n}\r\n\r\n@Bean()\r\npublic ThreadPoolTaskScheduler taskScheduler() {\r\n    ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\r\n    taskScheduler.setPoolSize(2);\r\n    taskScheduler.setThreadNamePrefix(&quot;taskScheduler1 - &quot;);\r\n    return taskScheduler;\r\n}\r\n\r\n```\r\nSimilarly in another class, I&#39;m using this setup with setThreadNamePrefix as taskScheduler2.\r\n\r\nBut both the classes are using taskScheduler1","title":"I have two different classes which uses @EnableScheduling but they are using same executor service","body":"<p>I want both classes to use different executor services. but both are picking the same executor.</p>\n<p>class implements SchedulingConfigurer</p>\n<pre><code>@Override\npublic void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n    taskRegistrar.setScheduler(taskExecutor());\n}\n\n@Bean()\npublic ThreadPoolTaskScheduler taskScheduler() {\n    ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\n    taskScheduler.setPoolSize(2);\n    taskScheduler.setThreadNamePrefix(&quot;taskScheduler1 - &quot;);\n    return taskScheduler;\n}\n\n</code></pre>\n<p>Similarly in another class, I'm using this setup with setThreadNamePrefix as taskScheduler2.</p>\n<p>But both the classes are using taskScheduler1</p>\n"},{"tags":["java","azure","sas-token"],"answers":[{"tags":[],"owner":{"account_id":21648949,"reputation":1274,"user_id":15969858,"display_name":"RKM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657811464,"creation_date":1657782317,"answer_id":72976510,"question_id":72973340,"body_markdown":"&gt; But I don&#39;t know what `resourceUri`, `keyName`, and key to use. Do I use the full url for the `eventHub`?\r\n\r\nYou can get these three parameters from the azure portal as shown in the below screenshot: \r\n\r\n--&gt; Goto your EventHub Namespace --&gt;shared access policies--&gt; Select default shared access policy(**RootManageSharedAccessKey**)--&gt;copy `Connection string–primary key`.\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/Z9JrJ.png)\r\n\r\n\r\nThese are the parameters we need to pass to that method for generating the SAS token.\r\n\r\n```none\r\nEndpoint=sb://mmxxxxxxxdows.net/; \r\nSharedAccessKeyName=RootManageSharedAccessKey;\r\nSharedAccessKey=K4Qxxxxxxxxxxxx9o=\r\n```\r\n","title":"What are the proper arguments for the generation of a SAS token to connect to Azure eventhub?","body":"<blockquote>\n<p>But I don't know what <code>resourceUri</code>, <code>keyName</code>, and key to use. Do I use the full url for the <code>eventHub</code>?</p>\n</blockquote>\n<p>You can get these three parameters from the azure portal as shown in the below screenshot:</p>\n<p>--&gt; Goto your EventHub Namespace --&gt;shared access policies--&gt; Select default shared access policy(<strong>RootManageSharedAccessKey</strong>)--&gt;copy <code>Connection string–primary key</code>.</p>\n<p><img src=\"https://i.stack.imgur.com/Z9JrJ.png\" alt=\"enter image description here\" /></p>\n<p>These are the parameters we need to pass to that method for generating the SAS token.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Endpoint=sb://mmxxxxxxxdows.net/; \nSharedAccessKeyName=RootManageSharedAccessKey;\nSharedAccessKey=K4Qxxxxxxxxxxxx9o=\n</code></pre>\n"}],"owner":{"account_id":3128387,"reputation":752,"user_id":2646836,"accept_rate":67,"display_name":"carlos palma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72976510,"answer_count":1,"score":0,"last_activity_date":1657811506,"creation_date":1657751585,"question_id":72973340,"body_markdown":"While reading this https://stackoverflow.com/questions/39451705/http-post-between-postman-and-eventhub, I was directed to this:\r\nhttps://learn.microsoft.com/en-us/rest/api/eventhub/generate-sas-token#java\r\n\r\nI don&#39;t know what `resourceUri`, `keyName`, and key to use. Do I use the full URL for the `eventHub`?\r\n\r\nMaybe somebody here could clarify where to get these three parameters.","title":"What are the proper arguments for the generation of a SAS token to connect to Azure eventhub?","body":"<p>While reading this <a href=\"https://stackoverflow.com/questions/39451705/http-post-between-postman-and-eventhub\">HTTP POST between Postman and EventHub</a>, I was directed to this:\n<a href=\"https://learn.microsoft.com/en-us/rest/api/eventhub/generate-sas-token#java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/rest/api/eventhub/generate-sas-token#java</a></p>\n<p>I don't know what <code>resourceUri</code>, <code>keyName</code>, and key to use. Do I use the full URL for the <code>eventHub</code>?</p>\n<p>Maybe somebody here could clarify where to get these three parameters.</p>\n"},{"tags":["java","windows","elasticsearch"],"comments":[{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1657522878,"post_id":72934100,"comment_id":128820956,"body_markdown":"can you share your elasticsearch.yml content?","body":"can you share your elasticsearch.yml content?"}],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657811095,"creation_date":1657526030,"answer_id":72935317,"question_id":72934100,"body_markdown":"As mentioned in the error messages, \r\n\r\n&gt; high disk watermark [90%] exceeded on [blR5jASzR-GtHp8cCsqjNA][MUTHU][\r\n\r\nand  \r\n\r\n&gt; [MUTHU] exception during geoip databases update\r\n&gt; org.elasticsearch.ElasticsearchException: not all primary shards of\r\n&gt; [.geoip_databases] index are active at\r\n\r\nIt seems you don&#39;t have enough space allocated to your data folder of Elasticsearch, where Elasticsearch will store the index data. Try freeing up space in your Elasticsearch data folder, which you can find in the `elasticsearch.yml`. It&#39;s defined under `path.data` setting.","title":"Not able to Start Elastic Search in Windows","body":"<p>As mentioned in the error messages,</p>\n<blockquote>\n<p>high disk watermark [90%] exceeded on [blR5jASzR-GtHp8cCsqjNA][MUTHU][</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>[MUTHU] exception during geoip databases update\norg.elasticsearch.ElasticsearchException: not all primary shards of\n[.geoip_databases] index are active at</p>\n</blockquote>\n<p>It seems you don't have enough space allocated to your data folder of Elasticsearch, where Elasticsearch will store the index data. Try freeing up space in your Elasticsearch data folder, which you can find in the <code>elasticsearch.yml</code>. It's defined under <code>path.data</code> setting.</p>\n"}],"owner":{"account_id":24398535,"reputation":13,"user_id":18327558,"display_name":"Lightning Arc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72935317,"answer_count":1,"score":0,"last_activity_date":1657811095,"creation_date":1657517403,"question_id":72934100,"body_markdown":"On running elasticsearch.bat in cmd :\r\n\r\n&gt; warning: ignoring JAVA_HOME=C:\\Program Files\\JAVA_HOME\\openjdk-17.0.1;\r\n&gt; using bundled JDK [2022-07-11T10:50:46,384][INFO ][o.e.n.Node         \r\n&gt; ] [MUTHU] version[8.3.0], pid[6080],\r\n&gt; build[zip/5b8b981647acdf1ba1d88751646b49d1b461b4cc/2022-06-23T22:48:49.607492124Z],\r\n&gt; OS[Windows 11/10.0/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit\r\n&gt; Server VM/18.0.1.1/18.0.1.1+2-6] [2022-07-11T10:50:46,391][INFO\r\n&gt; ][o.e.n.Node               ] [MUTHU] JVM home\r\n&gt; [C:\\Users\\muthu\\Downloads\\elasticsearch-8.3.0-windows-x86_64\\elasticsearch-8.3.0\\jdk],\r\n&gt; using bundled JDK [true] [2022-07-11T10:50:46,392][INFO ][o.e.n.Node  \r\n&gt; ] [MUTHU] JVM arguments [-Des.networkaddress.cache.ttl=60,\r\n&gt; -Des.networkaddress.cache.negative.ttl=10, -Djava.security.manager=allow, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j2.formatMsgNoLookups=true, -Djava.locale.providers=SPI,COMPAT, --add-opens=java.base/java.io=ALL-UNNAMED, -XX:+UseG1GC, -Djava.io.tmpdir=C:\\Users\\muthu\\AppData\\Local\\Temp\\elasticsearch, -XX:+HeapDumpOnOutOfMemoryError, -XX:+ExitOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m,\r\n&gt; -Xms8138m, -Xmx8138m, -XX:MaxDirectMemorySize=4267704320, -XX:G1HeapRegionSize=4m, -XX:InitiatingHeapOccupancyPercent=30, -XX:G1ReservePercent=15, -Des.distribution.type=zip, --module-path=C:\\Users\\muthu\\Downloads\\elasticsearch-8.3.0-windows-x86_64\\elasticsearch-8.3.0\\lib,\r\n&gt; -Djdk.module.main=org.elasticsearch.server] [2022-07-11T10:50:49,211][INFO ][c.a.c.i.j.JacksonVersion ] [MUTHU]\r\n&gt; Package versions: jackson-annotations=2.13.2, jackson-core=2.13.2,\r\n&gt; jackson-databind=2.13.2.2, jackson-dataformat-xml=2.13.2,\r\n&gt; jackson-datatype-jsr310=2.13.2, azure-core=1.27.0, Troubleshooting\r\n&gt; version conflicts: https://aka.ms/azsdk/java/dependency/troubleshoot\r\n&gt; [2022-07-11T10:50:51,545][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [aggs-matrix-stats] [2022-07-11T10:50:51,545][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [analysis-common]\r\n&gt; [2022-07-11T10:50:51,546][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [constant-keyword] [2022-07-11T10:50:51,546][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [data-streams]\r\n&gt; [2022-07-11T10:50:51,546][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [frozen-indices] [2022-07-11T10:50:51,547][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [ingest-common]\r\n&gt; [2022-07-11T10:50:51,547][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [ingest-geoip] [2022-07-11T10:50:51,547][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [ingest-user-agent]\r\n&gt; [2022-07-11T10:50:51,548][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [kibana] [2022-07-11T10:50:51,548][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [lang-expression]\r\n&gt; [2022-07-11T10:50:51,549][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [lang-mustache] [2022-07-11T10:50:51,549][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [lang-painless]\r\n&gt; [2022-07-11T10:50:51,550][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [legacy-geo] [2022-07-11T10:50:51,550][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [mapper-extras]\r\n&gt; [2022-07-11T10:50:51,550][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [mapper-version] [2022-07-11T10:50:51,551][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [old-lucene-versions] [2022-07-11T10:50:51,551][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [parent-join]\r\n&gt; [2022-07-11T10:50:51,552][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [percolator] [2022-07-11T10:50:51,552][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [rank-eval]\r\n&gt; [2022-07-11T10:50:51,553][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [reindex] [2022-07-11T10:50:51,553][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [repositories-metering-api] [2022-07-11T10:50:51,553][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [repository-azure]\r\n&gt; [2022-07-11T10:50:51,554][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [repository-encrypted] [2022-07-11T10:50:51,554][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [repository-gcs]\r\n&gt; [2022-07-11T10:50:51,555][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [repository-s3] [2022-07-11T10:50:51,555][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [repository-url]\r\n&gt; [2022-07-11T10:50:51,556][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [runtime-fields-common] [2022-07-11T10:50:51,556][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [search-business-rules] [2022-07-11T10:50:51,557][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [searchable-snapshots] [2022-07-11T10:50:51,557][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [snapshot-based-recoveries] [2022-07-11T10:50:51,558][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [snapshot-repo-test-kit] [2022-07-11T10:50:51,558][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [spatial]\r\n&gt; [2022-07-11T10:50:51,559][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [transform] [2022-07-11T10:50:51,559][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [transport-netty4]\r\n&gt; [2022-07-11T10:50:51,560][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [unsigned-long] [2022-07-11T10:50:51,560][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [vector-tile]\r\n&gt; [2022-07-11T10:50:51,561][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [vectors] [2022-07-11T10:50:51,561][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [wildcard]\r\n&gt; [2022-07-11T10:50:51,562][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-aggregate-metric] [2022-07-11T10:50:51,562][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-analytics]\r\n&gt; [2022-07-11T10:50:51,563][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-async] [2022-07-11T10:50:51,563][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [x-pack-async-search] [2022-07-11T10:50:51,563][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [x-pack-autoscaling] [2022-07-11T10:50:51,564][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-ccr]\r\n&gt; [2022-07-11T10:50:51,564][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-core] [2022-07-11T10:50:51,565][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [x-pack-deprecation] [2022-07-11T10:50:51,565][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-enrich]\r\n&gt; [2022-07-11T10:50:51,566][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-eql] [2022-07-11T10:50:51,566][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-fleet]\r\n&gt; [2022-07-11T10:50:51,566][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-graph] [2022-07-11T10:50:51,567][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [x-pack-identity-provider] [2022-07-11T10:50:51,567][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-ilm]\r\n&gt; [2022-07-11T10:50:51,567][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-logstash] [2022-07-11T10:50:51,568][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-ml]\r\n&gt; [2022-07-11T10:50:51,568][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-monitoring] [2022-07-11T10:50:51,569][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-ql]\r\n&gt; [2022-07-11T10:50:51,569][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-rollup] [2022-07-11T10:50:51,570][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-security]\r\n&gt; [2022-07-11T10:50:51,570][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-shutdown] [2022-07-11T10:50:51,570][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-sql]\r\n&gt; [2022-07-11T10:50:51,571][INFO ][o.e.p.PluginsService     ] [MUTHU]\r\n&gt; loaded module [x-pack-stack] [2022-07-11T10:50:51,571][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [x-pack-text-structure] [2022-07-11T10:50:51,572][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module\r\n&gt; [x-pack-voting-only-node] [2022-07-11T10:50:51,572][INFO\r\n&gt; ][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-watcher]\r\n&gt; [2022-07-11T10:50:51,573][INFO ][o.e.p.PluginsService     ] [MUTHU] no\r\n&gt; plugins loaded [2022-07-11T10:50:55,410][INFO ][o.e.e.NodeEnvironment \r\n&gt; ] [MUTHU] using [1] data paths, mounts [[Windows (C:)]], net\r\n&gt; usable_space [6.6gb], net total_space [117.9gb], types [NTFS]\r\n&gt; [2022-07-11T10:50:55,411][INFO ][o.e.e.NodeEnvironment    ] [MUTHU]\r\n&gt; heap size [7.9gb], compressed ordinary object pointers [true]\r\n&gt; [2022-07-11T10:50:55,525][INFO ][o.e.n.Node               ] [MUTHU]\r\n&gt; node name [MUTHU], node ID [blR5jASzR-GtHp8cCsqjNA], cluster name\r\n&gt; [elasticsearch], roles [ml, data_hot, transform, data_content,\r\n&gt; data_warm, master, remote_cluster_client, data, data_cold, ingest,\r\n&gt; data_frozen] [2022-07-11T10:50:59,905][INFO ][o.e.x.s.Security        \r\n&gt; ] [MUTHU] Security is enabled [2022-07-11T10:51:00,479][INFO\r\n&gt; ][o.e.x.s.a.s.FileRolesStore] [MUTHU] parsed [0] roles from file\r\n&gt; [C:\\Users\\muthu\\Downloads\\elasticsearch-8.3.0-windows-x86_64\\elasticsearch-8.3.0\\config\\roles.yml]\r\n&gt; \r\n&gt; [2022-07-11T10:51:01,649][INFO ][o.e.x.m.p.l.CppLogMessageHandler]\r\n&gt; [MUTHU] [controller/5312] [Main.cc@123] controller (64 bit): Version\r\n&gt; 8.3.0 (Build 2ddb5323b2ad5a) Copyright (c) 2022 Elasticsearch BV [2022-07-11T10:51:02,533][INFO ][o.e.t.n.NettyAllocator   ] [MUTHU]\r\n&gt; creating NettyAllocator with the following configs:\r\n&gt; [name=elasticsearch_configured, chunk_size=1mb,\r\n&gt; suggested_max_allocation_size=1mb,\r\n&gt; factors={es.unsafe.use_netty_default_chunk_and_page_size=false,\r\n&gt; g1gc_enabled=true, g1gc_region_size=4mb}]\r\n&gt; [2022-07-11T10:51:02,578][INFO ][o.e.i.r.RecoverySettings ] [MUTHU]\r\n&gt; using rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b]\r\n&gt; [2022-07-11T10:51:02,635][INFO ][o.e.d.DiscoveryModule    ] [MUTHU]\r\n&gt; using discovery type [multi-node] and seed hosts providers [settings]\r\n&gt; [2022-07-11T10:51:04,703][INFO ][o.e.n.Node               ] [MUTHU]\r\n&gt; initialized [2022-07-11T10:51:04,704][INFO ][o.e.n.Node              \r\n&gt; ] [MUTHU] starting ... [2022-07-11T10:51:04,722][INFO\r\n&gt; ][o.e.x.s.c.f.PersistentCache] [MUTHU] persistent cache index loaded\r\n&gt; [2022-07-11T10:51:04,723][INFO\r\n&gt; ][o.e.x.d.l.DeprecationIndexingComponent] [MUTHU] deprecation\r\n&gt; component started [2022-07-11T10:51:05,004][INFO\r\n&gt; ][o.e.t.TransportService   ] [MUTHU] publish_address {127.0.0.1:9300},\r\n&gt; bound_addresses {127.0.0.1:9300}, {[::1]:9300}\r\n&gt; [2022-07-11T10:51:05,617][WARN ][o.e.c.c.ClusterBootstrapService]\r\n&gt; [MUTHU] this node is locked into cluster UUID [vICcQF0LRnGmaEJTavBbaQ]\r\n&gt; but [cluster.initial_master_nodes] is set to [MUTHU]; remove this\r\n&gt; setting to avoid possible data loss caused by subsequent cluster\r\n&gt; bootstrap attempts [2022-07-11T10:51:05,802][INFO\r\n&gt; ][o.e.c.s.MasterService    ] [MUTHU] elected-as-master ([1] nodes\r\n&gt; joined)[_FINISH_ELECTION_,\r\n&gt; {MUTHU}{blR5jASzR-GtHp8cCsqjNA}{lHHp8n91TFCQtiZV56u4ZA}{MUTHU}{127.0.0.1}{127.0.0.1:9300}{cdfhilmrstw}\r\n&gt; completing election], term: 5, version: 40, delta: master node changed\r\n&gt; {previous [], current\r\n&gt; [{MUTHU}{blR5jASzR-GtHp8cCsqjNA}{lHHp8n91TFCQtiZV56u4ZA}{MUTHU}{127.0.0.1}{127.0.0.1:9300}{cdfhilmrstw}]}\r\n&gt; [2022-07-11T10:51:05,922][INFO ][o.e.c.s.ClusterApplierService]\r\n&gt; [MUTHU] master node changed {previous [], current\r\n&gt; [{MUTHU}{blR5jASzR-GtHp8cCsqjNA}{lHHp8n91TFCQtiZV56u4ZA}{MUTHU}{127.0.0.1}{127.0.0.1:9300}{cdfhilmrstw}]},\r\n&gt; term: 5, version: 40, reason: Publication{term=5, version=40}\r\n&gt; [2022-07-11T10:51:05,983][WARN ][o.e.c.r.a.DiskThresholdMonitor]\r\n&gt; [MUTHU] high disk watermark [90%] exceeded on\r\n&gt; [blR5jASzR-GtHp8cCsqjNA][MUTHU][C:\\Users\\muthu\\Downloads\\elasticsearch-8.3.0-windows-x86_64\\elasticsearch-8.3.0\\data]\r\n&gt; free: 6.6gb[5.6%], shards will be relocated away from this node;\r\n&gt; currently relocating away shards totalling [0] bytes; the node is\r\n&gt; expected to continue to exceed the high disk watermark when these\r\n&gt; relocations are complete [2022-07-11T10:51:06,038][INFO\r\n&gt; ][o.e.h.AbstractHttpServerTransport] [MUTHU] publish_address\r\n&gt; {192.168.1.6:9200}, bound_addresses {[::]:9200}\r\n&gt; [2022-07-11T10:51:06,041][INFO ][o.e.n.Node               ] [MUTHU]\r\n&gt; started\r\n&gt; {MUTHU}{blR5jASzR-GtHp8cCsqjNA}{lHHp8n91TFCQtiZV56u4ZA}{MUTHU}{127.0.0.1}{127.0.0.1:9300}{cdfhilmrstw}{ml.max_jvm_size=8535408640,\r\n&gt; ml.machine_memory=17066790912, xpack.installed=true}\r\n&gt; [2022-07-11T10:51:06,089][INFO ][o.e.l.LicenseService     ] [MUTHU]\r\n&gt; license [4b383951-c19c-4efc-8fb2-201b91e32e8c] mode [basic] - valid\r\n&gt; [2022-07-11T10:51:06,092][INFO ][o.e.x.s.a.Realms         ] [MUTHU]\r\n&gt; license mode is [basic], currently licensed security realms are\r\n&gt; [reserved/reserved,file/default_file,native/default_native]\r\n&gt; [2022-07-11T10:51:06,098][INFO ][o.e.g.GatewayService     ] [MUTHU]\r\n&gt; recovered [2] indices into cluster_state\r\n&gt; [2022-07-11T10:51:06,257][ERROR][o.e.i.g.GeoIpDownloader  ] [MUTHU]\r\n&gt; exception during geoip databases update\r\n&gt; org.elasticsearch.ElasticsearchException: not all primary shards of\r\n&gt; [.geoip_databases] index are active\r\n&gt;         at org.elasticsearch.ingest.geoip.GeoIpDownloader.updateDatabases(GeoIpDownloader.java:134)\r\n&gt; ~[ingest-geoip-8.3.0.jar:8.3.0]\r\n&gt;         at org.elasticsearch.ingest.geoip.GeoIpDownloader.runDownloader(GeoIpDownloader.java:274)\r\n&gt; [ingest-geoip-8.3.0.jar:8.3.0]\r\n&gt;         at org.elasticsearch.ingest.geoip.GeoIpDownloaderTaskExecutor.nodeOperation(GeoIpDownloaderTaskExecutor.java:102)\r\n&gt; [ingest-geoip-8.3.0.jar:8.3.0]\r\n&gt;         at org.elasticsearch.ingest.geoip.GeoIpDownloaderTaskExecutor.nodeOperation(GeoIpDownloaderTaskExecutor.java:48)\r\n&gt; [ingest-geoip-8.3.0.jar:8.3.0]\r\n&gt;         at org.elasticsearch.persistent.NodePersistentTasksExecutor$1.doRun(NodePersistentTasksExecutor.java:42)\r\n&gt; [elasticsearch-8.3.0.jar:?]\r\n&gt;         at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:768)\r\n&gt; [elasticsearch-8.3.0.jar:?]\r\n&gt;         at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:26)\r\n&gt; [elasticsearch-8.3.0.jar:?]\r\n&gt;         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; [?:?]\r\n&gt;         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; [?:?]\r\n&gt;         at java.lang.Thread.run(Thread.java:833) [?:?] [2022-07-11T10:51:06,266][INFO ][o.e.c.r.a.AllocationService] [MUTHU]\r\n&gt; current.health=&quot;RED&quot; message=&quot;Cluster health status changed from\r\n&gt; [YELLOW] to [RED] (reason: [state recovered]).&quot;\r\n&gt; previous.health=&quot;YELLOW&quot; reason=&quot;state recovered&quot;","title":"Not able to Start Elastic Search in Windows","body":"<p>On running elasticsearch.bat in cmd :</p>\n<blockquote>\n<p>warning: ignoring JAVA_HOME=C:\\Program Files\\JAVA_HOME\\openjdk-17.0.1;\nusing bundled JDK [2022-07-11T10:50:46,384][INFO ][o.e.n.Node<br />\n] [MUTHU] version[8.3.0], pid[6080],\nbuild[zip/5b8b981647acdf1ba1d88751646b49d1b461b4cc/2022-06-23T22:48:49.607492124Z],\nOS[Windows 11/10.0/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit\nServer VM/18.0.1.1/18.0.1.1+2-6] [2022-07-11T10:50:46,391][INFO\n][o.e.n.Node               ] [MUTHU] JVM home\n[C:\\Users\\muthu\\Downloads\\elasticsearch-8.3.0-windows-x86_64\\elasticsearch-8.3.0\\jdk],\nusing bundled JDK [true] [2022-07-11T10:50:46,392][INFO ][o.e.n.Node<br />\n] [MUTHU] JVM arguments [-Des.networkaddress.cache.ttl=60,\n-Des.networkaddress.cache.negative.ttl=10, -Djava.security.manager=allow, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j2.formatMsgNoLookups=true, -Djava.locale.providers=SPI,COMPAT, --add-opens=java.base/java.io=ALL-UNNAMED, -XX:+UseG1GC, -Djava.io.tmpdir=C:\\Users\\muthu\\AppData\\Local\\Temp\\elasticsearch, -XX:+HeapDumpOnOutOfMemoryError, -XX:+ExitOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m,\n-Xms8138m, -Xmx8138m, -XX:MaxDirectMemorySize=4267704320, -XX:G1HeapRegionSize=4m, -XX:InitiatingHeapOccupancyPercent=30, -XX:G1ReservePercent=15, -Des.distribution.type=zip, --module-path=C:\\Users\\muthu\\Downloads\\elasticsearch-8.3.0-windows-x86_64\\elasticsearch-8.3.0\\lib,\n-Djdk.module.main=org.elasticsearch.server] [2022-07-11T10:50:49,211][INFO ][c.a.c.i.j.JacksonVersion ] [MUTHU]\nPackage versions: jackson-annotations=2.13.2, jackson-core=2.13.2,\njackson-databind=2.13.2.2, jackson-dataformat-xml=2.13.2,\njackson-datatype-jsr310=2.13.2, azure-core=1.27.0, Troubleshooting\nversion conflicts: https://aka.ms/azsdk/java/dependency/troubleshoot\n[2022-07-11T10:50:51,545][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [aggs-matrix-stats] [2022-07-11T10:50:51,545][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [analysis-common]\n[2022-07-11T10:50:51,546][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [constant-keyword] [2022-07-11T10:50:51,546][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [data-streams]\n[2022-07-11T10:50:51,546][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [frozen-indices] [2022-07-11T10:50:51,547][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [ingest-common]\n[2022-07-11T10:50:51,547][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [ingest-geoip] [2022-07-11T10:50:51,547][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [ingest-user-agent]\n[2022-07-11T10:50:51,548][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [kibana] [2022-07-11T10:50:51,548][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [lang-expression]\n[2022-07-11T10:50:51,549][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [lang-mustache] [2022-07-11T10:50:51,549][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [lang-painless]\n[2022-07-11T10:50:51,550][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [legacy-geo] [2022-07-11T10:50:51,550][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [mapper-extras]\n[2022-07-11T10:50:51,550][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [mapper-version] [2022-07-11T10:50:51,551][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[old-lucene-versions] [2022-07-11T10:50:51,551][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [parent-join]\n[2022-07-11T10:50:51,552][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [percolator] [2022-07-11T10:50:51,552][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [rank-eval]\n[2022-07-11T10:50:51,553][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [reindex] [2022-07-11T10:50:51,553][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[repositories-metering-api] [2022-07-11T10:50:51,553][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [repository-azure]\n[2022-07-11T10:50:51,554][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [repository-encrypted] [2022-07-11T10:50:51,554][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [repository-gcs]\n[2022-07-11T10:50:51,555][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [repository-s3] [2022-07-11T10:50:51,555][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [repository-url]\n[2022-07-11T10:50:51,556][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [runtime-fields-common] [2022-07-11T10:50:51,556][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[search-business-rules] [2022-07-11T10:50:51,557][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[searchable-snapshots] [2022-07-11T10:50:51,557][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[snapshot-based-recoveries] [2022-07-11T10:50:51,558][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[snapshot-repo-test-kit] [2022-07-11T10:50:51,558][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [spatial]\n[2022-07-11T10:50:51,559][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [transform] [2022-07-11T10:50:51,559][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [transport-netty4]\n[2022-07-11T10:50:51,560][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [unsigned-long] [2022-07-11T10:50:51,560][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [vector-tile]\n[2022-07-11T10:50:51,561][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [vectors] [2022-07-11T10:50:51,561][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [wildcard]\n[2022-07-11T10:50:51,562][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-aggregate-metric] [2022-07-11T10:50:51,562][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-analytics]\n[2022-07-11T10:50:51,563][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-async] [2022-07-11T10:50:51,563][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[x-pack-async-search] [2022-07-11T10:50:51,563][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[x-pack-autoscaling] [2022-07-11T10:50:51,564][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-ccr]\n[2022-07-11T10:50:51,564][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-core] [2022-07-11T10:50:51,565][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[x-pack-deprecation] [2022-07-11T10:50:51,565][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-enrich]\n[2022-07-11T10:50:51,566][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-eql] [2022-07-11T10:50:51,566][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-fleet]\n[2022-07-11T10:50:51,566][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-graph] [2022-07-11T10:50:51,567][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[x-pack-identity-provider] [2022-07-11T10:50:51,567][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-ilm]\n[2022-07-11T10:50:51,567][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-logstash] [2022-07-11T10:50:51,568][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-ml]\n[2022-07-11T10:50:51,568][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-monitoring] [2022-07-11T10:50:51,569][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-ql]\n[2022-07-11T10:50:51,569][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-rollup] [2022-07-11T10:50:51,570][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-security]\n[2022-07-11T10:50:51,570][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-shutdown] [2022-07-11T10:50:51,570][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-sql]\n[2022-07-11T10:50:51,571][INFO ][o.e.p.PluginsService     ] [MUTHU]\nloaded module [x-pack-stack] [2022-07-11T10:50:51,571][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[x-pack-text-structure] [2022-07-11T10:50:51,572][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module\n[x-pack-voting-only-node] [2022-07-11T10:50:51,572][INFO\n][o.e.p.PluginsService     ] [MUTHU] loaded module [x-pack-watcher]\n[2022-07-11T10:50:51,573][INFO ][o.e.p.PluginsService     ] [MUTHU] no\nplugins loaded [2022-07-11T10:50:55,410][INFO ][o.e.e.NodeEnvironment\n] [MUTHU] using [1] data paths, mounts [[Windows (C:)]], net\nusable_space [6.6gb], net total_space [117.9gb], types [NTFS]\n[2022-07-11T10:50:55,411][INFO ][o.e.e.NodeEnvironment    ] [MUTHU]\nheap size [7.9gb], compressed ordinary object pointers [true]\n[2022-07-11T10:50:55,525][INFO ][o.e.n.Node               ] [MUTHU]\nnode name [MUTHU], node ID [blR5jASzR-GtHp8cCsqjNA], cluster name\n[elasticsearch], roles [ml, data_hot, transform, data_content,\ndata_warm, master, remote_cluster_client, data, data_cold, ingest,\ndata_frozen] [2022-07-11T10:50:59,905][INFO ][o.e.x.s.Security<br />\n] [MUTHU] Security is enabled [2022-07-11T10:51:00,479][INFO\n][o.e.x.s.a.s.FileRolesStore] [MUTHU] parsed [0] roles from file\n[C:\\Users\\muthu\\Downloads\\elasticsearch-8.3.0-windows-x86_64\\elasticsearch-8.3.0\\config\\roles.yml]</p>\n<p>[2022-07-11T10:51:01,649][INFO ][o.e.x.m.p.l.CppLogMessageHandler]\n[MUTHU] [controller/5312] [Main.cc@123] controller (64 bit): Version\n8.3.0 (Build 2ddb5323b2ad5a) Copyright (c) 2022 Elasticsearch BV [2022-07-11T10:51:02,533][INFO ][o.e.t.n.NettyAllocator   ] [MUTHU]\ncreating NettyAllocator with the following configs:\n[name=elasticsearch_configured, chunk_size=1mb,\nsuggested_max_allocation_size=1mb,\nfactors={es.unsafe.use_netty_default_chunk_and_page_size=false,\ng1gc_enabled=true, g1gc_region_size=4mb}]\n[2022-07-11T10:51:02,578][INFO ][o.e.i.r.RecoverySettings ] [MUTHU]\nusing rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b]\n[2022-07-11T10:51:02,635][INFO ][o.e.d.DiscoveryModule    ] [MUTHU]\nusing discovery type [multi-node] and seed hosts providers [settings]\n[2022-07-11T10:51:04,703][INFO ][o.e.n.Node               ] [MUTHU]\ninitialized [2022-07-11T10:51:04,704][INFO ][o.e.n.Node<br />\n] [MUTHU] starting ... [2022-07-11T10:51:04,722][INFO\n][o.e.x.s.c.f.PersistentCache] [MUTHU] persistent cache index loaded\n[2022-07-11T10:51:04,723][INFO\n][o.e.x.d.l.DeprecationIndexingComponent] [MUTHU] deprecation\ncomponent started [2022-07-11T10:51:05,004][INFO\n][o.e.t.TransportService   ] [MUTHU] publish_address {127.0.0.1:9300},\nbound_addresses {127.0.0.1:9300}, {[::1]:9300}\n[2022-07-11T10:51:05,617][WARN ][o.e.c.c.ClusterBootstrapService]\n[MUTHU] this node is locked into cluster UUID [vICcQF0LRnGmaEJTavBbaQ]\nbut [cluster.initial_master_nodes] is set to [MUTHU]; remove this\nsetting to avoid possible data loss caused by subsequent cluster\nbootstrap attempts [2022-07-11T10:51:05,802][INFO\n][o.e.c.s.MasterService    ] [MUTHU] elected-as-master ([1] nodes\njoined)[<em>FINISH_ELECTION</em>,\n{MUTHU}{blR5jASzR-GtHp8cCsqjNA}{lHHp8n91TFCQtiZV56u4ZA}{MUTHU}{127.0.0.1}{127.0.0.1:9300}{cdfhilmrstw}\ncompleting election], term: 5, version: 40, delta: master node changed\n{previous [], current\n[{MUTHU}{blR5jASzR-GtHp8cCsqjNA}{lHHp8n91TFCQtiZV56u4ZA}{MUTHU}{127.0.0.1}{127.0.0.1:9300}{cdfhilmrstw}]}\n[2022-07-11T10:51:05,922][INFO ][o.e.c.s.ClusterApplierService]\n[MUTHU] master node changed {previous [], current\n[{MUTHU}{blR5jASzR-GtHp8cCsqjNA}{lHHp8n91TFCQtiZV56u4ZA}{MUTHU}{127.0.0.1}{127.0.0.1:9300}{cdfhilmrstw}]},\nterm: 5, version: 40, reason: Publication{term=5, version=40}\n[2022-07-11T10:51:05,983][WARN ][o.e.c.r.a.DiskThresholdMonitor]\n[MUTHU] high disk watermark [90%] exceeded on\n[blR5jASzR-GtHp8cCsqjNA][MUTHU][C:\\Users\\muthu\\Downloads\\elasticsearch-8.3.0-windows-x86_64\\elasticsearch-8.3.0\\data]\nfree: 6.6gb[5.6%], shards will be relocated away from this node;\ncurrently relocating away shards totalling [0] bytes; the node is\nexpected to continue to exceed the high disk watermark when these\nrelocations are complete [2022-07-11T10:51:06,038][INFO\n][o.e.h.AbstractHttpServerTransport] [MUTHU] publish_address\n{192.168.1.6:9200}, bound_addresses {[::]:9200}\n[2022-07-11T10:51:06,041][INFO ][o.e.n.Node               ] [MUTHU]\nstarted\n{MUTHU}{blR5jASzR-GtHp8cCsqjNA}{lHHp8n91TFCQtiZV56u4ZA}{MUTHU}{127.0.0.1}{127.0.0.1:9300}{cdfhilmrstw}{ml.max_jvm_size=8535408640,\nml.machine_memory=17066790912, xpack.installed=true}\n[2022-07-11T10:51:06,089][INFO ][o.e.l.LicenseService     ] [MUTHU]\nlicense [4b383951-c19c-4efc-8fb2-201b91e32e8c] mode [basic] - valid\n[2022-07-11T10:51:06,092][INFO ][o.e.x.s.a.Realms         ] [MUTHU]\nlicense mode is [basic], currently licensed security realms are\n[reserved/reserved,file/default_file,native/default_native]\n[2022-07-11T10:51:06,098][INFO ][o.e.g.GatewayService     ] [MUTHU]\nrecovered [2] indices into cluster_state\n[2022-07-11T10:51:06,257][ERROR][o.e.i.g.GeoIpDownloader  ] [MUTHU]\nexception during geoip databases update\norg.elasticsearch.ElasticsearchException: not all primary shards of\n[.geoip_databases] index are active\nat org.elasticsearch.ingest.geoip.GeoIpDownloader.updateDatabases(GeoIpDownloader.java:134)\n~[ingest-geoip-8.3.0.jar:8.3.0]\nat org.elasticsearch.ingest.geoip.GeoIpDownloader.runDownloader(GeoIpDownloader.java:274)\n[ingest-geoip-8.3.0.jar:8.3.0]\nat org.elasticsearch.ingest.geoip.GeoIpDownloaderTaskExecutor.nodeOperation(GeoIpDownloaderTaskExecutor.java:102)\n[ingest-geoip-8.3.0.jar:8.3.0]\nat org.elasticsearch.ingest.geoip.GeoIpDownloaderTaskExecutor.nodeOperation(GeoIpDownloaderTaskExecutor.java:48)\n[ingest-geoip-8.3.0.jar:8.3.0]\nat org.elasticsearch.persistent.NodePersistentTasksExecutor$1.doRun(NodePersistentTasksExecutor.java:42)\n[elasticsearch-8.3.0.jar:?]\nat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:768)\n[elasticsearch-8.3.0.jar:?]\nat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:26)\n[elasticsearch-8.3.0.jar:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n[?:?]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n[?:?]\nat java.lang.Thread.run(Thread.java:833) [?:?] [2022-07-11T10:51:06,266][INFO ][o.e.c.r.a.AllocationService] [MUTHU]\ncurrent.health=&quot;RED&quot; message=&quot;Cluster health status changed from\n[YELLOW] to [RED] (reason: [state recovered]).&quot;\nprevious.health=&quot;YELLOW&quot; reason=&quot;state recovered&quot;</p>\n</blockquote>\n"},{"tags":["java","multithreading","logging","logback","mdc"],"answers":[{"tags":[],"owner":{"account_id":1573896,"reputation":793,"user_id":1460924,"display_name":"rudi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1657810859,"creation_date":1567517813,"answer_id":57772891,"question_id":53875204,"body_markdown":"The only solution I found, is to copy the context into a final variable outside of the stream and apply it for every single iteration:\r\n\r\n```lang-java\r\nMap&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\r\nStream.iterate(0, i -&gt; i + 1).parallel()\r\n\t.peek(i -&gt; MDC.setContextMap(contextMap))\r\n\t// ...logic...\r\n\t// in case you&#39;re using a filter, you need to use a predicate and combine it with a clear step:\r\n\tfilter(yourPredicate.or(i -&gt; {\r\n\t\t\t\tMDC.clear();\r\n\t\t\t\treturn false;\r\n\t\t\t}))\r\n\t// clear right before terminal operation\r\n\t.peek(i -&gt; MDC.clear())\r\n\t.findFirst();\r\n\r\n// since the initial thread is also used within the stream and the context is cleared there, \r\n// we need to set it again to its initial state\r\nMDC.setContextMap(contextMap);    \r\n```\r\n\r\nThe cost for that solution is 1) a few microseconds per 100 iterations and 2) worse readability, but both are acceptable:\r\n\r\n1. This is a benchmark comparing an `IntStream.range(0, 100).parallel().sum()` (=baseline) with same stream that uses that MDC copy logic:\r\n\r\n```\r\nBenchmark               Mode  Cnt   Score   Error   Units\r\nMDC_CopyTest.baseline  thrpt    5   0,038 &#177; 0,005  ops/us\r\nMDC_CopyTest.withMdc   thrpt    5   0,024 &#177; 0,001  ops/us\r\nMDC_CopyTest.baseline   avgt    5  28,239 &#177; 1,308   us/op\r\nMDC_CopyTest.withMdc    avgt    5  40,178 &#177; 0,761   us/op\r\n```\r\n\r\n2. To improve readability, it can be wrapped into a small helper class:\r\n\r\n```\r\npublic class MDCCopyHelper {\r\n\tprivate Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\r\n\r\n\tpublic void set(Object... any) {\r\n\t\tMDC.setContextMap(contextMap);\r\n\t}\r\n\r\n\tpublic void clear(Object... any) {\r\n\t\tMDC.clear();\r\n\t}\r\n\r\n\tpublic boolean clearAndFail() {\r\n\t\tMDC.clear();\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\nThe streaming code looks then a bit nicer:\r\n\r\n``` lang-java\r\nMDCCopyHelper mdcHelper = new MDCCopyHelper();\r\ntry {\r\n    Optional&lt;Integer&gt; findFirst = Stream.iterate(0, i -&gt; i + 1)\r\n\t\t.parallel()\r\n\t\t.peek(mdcHelper::set)\r\n\t\t// ...logic...\r\n\t\t// filters predicates should be combined with clear step\r\n\t\t.filter(yourPredicate.or(mdcHelper::clearAndFail))\r\n\t\t// before terminal call:\r\n\t\t.peek(mdcHelper::clear)\r\n\t\t.findFirst();\r\n} finally {\r\n    // set the correct MDC at the main thread again\r\n    mdcHelper.set();\r\n}\r\n```","title":"How to use MDC with parallelStream in Java and logback","body":"<p>The only solution I found, is to copy the context into a final variable outside of the stream and apply it for every single iteration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\nStream.iterate(0, i -&gt; i + 1).parallel()\n    .peek(i -&gt; MDC.setContextMap(contextMap))\n    // ...logic...\n    // in case you're using a filter, you need to use a predicate and combine it with a clear step:\n    filter(yourPredicate.or(i -&gt; {\n                MDC.clear();\n                return false;\n            }))\n    // clear right before terminal operation\n    .peek(i -&gt; MDC.clear())\n    .findFirst();\n\n// since the initial thread is also used within the stream and the context is cleared there, \n// we need to set it again to its initial state\nMDC.setContextMap(contextMap);    \n</code></pre>\n<p>The cost for that solution is 1) a few microseconds per 100 iterations and 2) worse readability, but both are acceptable:</p>\n<ol>\n<li>This is a benchmark comparing an <code>IntStream.range(0, 100).parallel().sum()</code> (=baseline) with same stream that uses that MDC copy logic:</li>\n</ol>\n<pre><code>Benchmark               Mode  Cnt   Score   Error   Units\nMDC_CopyTest.baseline  thrpt    5   0,038 ± 0,005  ops/us\nMDC_CopyTest.withMdc   thrpt    5   0,024 ± 0,001  ops/us\nMDC_CopyTest.baseline   avgt    5  28,239 ± 1,308   us/op\nMDC_CopyTest.withMdc    avgt    5  40,178 ± 0,761   us/op\n</code></pre>\n<ol start=\"2\">\n<li>To improve readability, it can be wrapped into a small helper class:</li>\n</ol>\n<pre><code>public class MDCCopyHelper {\n    private Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\n\n    public void set(Object... any) {\n        MDC.setContextMap(contextMap);\n    }\n\n    public void clear(Object... any) {\n        MDC.clear();\n    }\n\n    public boolean clearAndFail() {\n        MDC.clear();\n        return false;\n    }\n}\n</code></pre>\n<p>The streaming code looks then a bit nicer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MDCCopyHelper mdcHelper = new MDCCopyHelper();\ntry {\n    Optional&lt;Integer&gt; findFirst = Stream.iterate(0, i -&gt; i + 1)\n        .parallel()\n        .peek(mdcHelper::set)\n        // ...logic...\n        // filters predicates should be combined with clear step\n        .filter(yourPredicate.or(mdcHelper::clearAndFail))\n        // before terminal call:\n        .peek(mdcHelper::clear)\n        .findFirst();\n} finally {\n    // set the correct MDC at the main thread again\n    mdcHelper.set();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13831699,"reputation":23,"user_id":9984380,"display_name":"eason huang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610457648,"creation_date":1610457648,"answer_id":65684803,"question_id":53875204,"body_markdown":"My solution is to wrap those&#39;s functional interface. Similar to the static proxy pattern.  \r\nFor example\r\n\r\n    public static void main(String[] args) {\r\n        System.err.println(Thread.currentThread().getName());\r\n        String traceId = &quot;100&quot;;\r\n        MDC.put(&quot;id&quot;, traceId);\r\n        System.err.println(&quot;------------------------&quot;);\r\n        Stream.of(1, 2, 3, 4)\r\n              .parallel()\r\n              .forEach((num -&gt; {\r\n                  System.err.println(Thread.currentThread().getName()+&quot; &quot;+ traceId.equals(MDC.get(&quot;id&quot;)));\r\n              }));\r\n        System.err.println(&quot;------------------------&quot;);\r\n        Stream.of(1, 2, 3, 4)\r\n              .parallel()\r\n              // the key is the TraceableConsumer\r\n              .forEach(new TraceableConsumer&lt;&gt;(num -&gt; {\r\n                  System.err.println(Thread.currentThread().getName() + &quot; &quot; + traceId.equals(MDC.get(&quot;id&quot;)));\r\n              }));\r\n    }\r\n---\r\n\r\n    public class TraceableConsumer&lt;T&gt; extends MDCTraceable implements Consumer&lt;T&gt; {\r\n\r\n        private final Consumer&lt;T&gt; target;\r\n\r\n        public TraceableConsumer(Consumer&lt;T&gt; target) {\r\n            this.target = target;\r\n        }\r\n\r\n        @Override\r\n        public void accept(T t) {\r\n            setMDC();\r\n            target.accept(t);\r\n        }\r\n    }\r\n---\r\n\r\n    public abstract class MDCTraceable {\r\n\r\n        private final Long id;\r\n\r\n        private final Long userId;\r\n\r\n        public MDCTraceable() {\r\n            id = Optional.ofNullable(MDC.get(&quot;id&quot;)).map(Long::parseLong).orElse(0L);\r\n            userId = Optional.ofNullable(MDC.get(&quot;userId&quot;)).map(Long::parseLong).orElse(0L);\r\n        }\r\n\r\n        public void setMDC(){\r\n            MDC.put(&quot;id&quot;, id.toString());\r\n            MDC.put(&quot;userId&quot;, userId.toString());\r\n        }\r\n\r\n        public void cleanMDC(){\r\n            MDC.clear();\r\n        }\r\n    }","title":"How to use MDC with parallelStream in Java and logback","body":"<p>My solution is to wrap those's functional interface. Similar to the static proxy pattern.<br />\nFor example</p>\n<pre><code>public static void main(String[] args) {\n    System.err.println(Thread.currentThread().getName());\n    String traceId = &quot;100&quot;;\n    MDC.put(&quot;id&quot;, traceId);\n    System.err.println(&quot;------------------------&quot;);\n    Stream.of(1, 2, 3, 4)\n          .parallel()\n          .forEach((num -&gt; {\n              System.err.println(Thread.currentThread().getName()+&quot; &quot;+ traceId.equals(MDC.get(&quot;id&quot;)));\n          }));\n    System.err.println(&quot;------------------------&quot;);\n    Stream.of(1, 2, 3, 4)\n          .parallel()\n          // the key is the TraceableConsumer\n          .forEach(new TraceableConsumer&lt;&gt;(num -&gt; {\n              System.err.println(Thread.currentThread().getName() + &quot; &quot; + traceId.equals(MDC.get(&quot;id&quot;)));\n          }));\n}\n</code></pre>\n<hr />\n<pre><code>public class TraceableConsumer&lt;T&gt; extends MDCTraceable implements Consumer&lt;T&gt; {\n\n    private final Consumer&lt;T&gt; target;\n\n    public TraceableConsumer(Consumer&lt;T&gt; target) {\n        this.target = target;\n    }\n\n    @Override\n    public void accept(T t) {\n        setMDC();\n        target.accept(t);\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public abstract class MDCTraceable {\n\n    private final Long id;\n\n    private final Long userId;\n\n    public MDCTraceable() {\n        id = Optional.ofNullable(MDC.get(&quot;id&quot;)).map(Long::parseLong).orElse(0L);\n        userId = Optional.ofNullable(MDC.get(&quot;userId&quot;)).map(Long::parseLong).orElse(0L);\n    }\n\n    public void setMDC(){\n        MDC.put(&quot;id&quot;, id.toString());\n        MDC.put(&quot;userId&quot;, userId.toString());\n    }\n\n    public void cleanMDC(){\n        MDC.clear();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2189611,"reputation":2147,"user_id":1937081,"accept_rate":25,"display_name":"Guido Celada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4073,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1657810859,"creation_date":1545335695,"question_id":53875204,"body_markdown":"I need to log a few attributes of the request like the request id and the locale, but when using parallelStream, it seems that the ThreadLocal of the MDC looses the information. \r\n\r\nIve analyzed the solution of passing the MDC context between the threads when creating the parallelStream but it seems dirty and I also have a lot of usages of the parallelStream.\r\n\r\nIs there any other way of doing this?\r\n\r\nThank you","title":"How to use MDC with parallelStream in Java and logback","body":"<p>I need to log a few attributes of the request like the request id and the locale, but when using parallelStream, it seems that the ThreadLocal of the MDC looses the information. </p>\n\n<p>Ive analyzed the solution of passing the MDC context between the threads when creating the parallelStream but it seems dirty and I also have a lot of usages of the parallelStream.</p>\n\n<p>Is there any other way of doing this?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","internationalization","spring-webflux"],"comments":[{"owner":{"account_id":1874231,"reputation":602,"user_id":1695807,"accept_rate":84,"display_name":"RST"},"score":0,"creation_date":1615207885,"post_id":62712195,"comment_id":117611828,"body_markdown":"Checkout: https://stackoverflow.com/questions/51780423/spring-boot-starter-webflux-cant-use-acceptheaderlocaleresolver","body":"Checkout: <a href=\"https://stackoverflow.com/questions/51780423/spring-boot-starter-webflux-cant-use-acceptheaderlocaleresolver\" title=\"spring boot starter webflux cant use acceptheaderlocaleresolver\">stackoverflow.com/questions/51780423/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4359147,"reputation":1,"user_id":3556835,"display_name":"user3556835"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657810784,"creation_date":1657810696,"answer_id":72982622,"question_id":62712195,"body_markdown":"Have you tried with\r\n\r\n```\r\n\t@Primary\r\n\t@Bean\r\n\tpublic LocaleContextResolver localeResolver() {\r\n\t\tAcceptHeaderLocaleContextResolver localeResolver = new AcceptHeaderLocaleContextResolver();\r\n\t\tlocaleResolver.setDefaultLocale(Locale.US);\r\n    }\r\n```\t\r\n@Primary is matter","title":"How to configure WebFlux for i18n","body":"<p>Have you tried with</p>\n<pre><code>    @Primary\n    @Bean\n    public LocaleContextResolver localeResolver() {\n        AcceptHeaderLocaleContextResolver localeResolver = new AcceptHeaderLocaleContextResolver();\n        localeResolver.setDefaultLocale(Locale.US);\n    }\n</code></pre>\n<p>@Primary is matter</p>\n"}],"owner":{"account_id":8021623,"reputation":515,"user_id":6050113,"display_name":"Nasibulloh Yandashev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657810784,"creation_date":1593767518,"question_id":62712195,"body_markdown":"How to implement localization support in WebFlux. \r\nI tried to configure Localization using\r\n\r\n                \r\n     @Bean\r\n     public MessageSource messageSource() {\r\n     var messageSource = new ReloadableResourceBundleMessageSource();\r\n     messageSource.setBasenames(&quot;i18n/messages&quot;);\r\n     messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n     return messageSource;\r\n    }\r\n\r\n    @Bean(name = &quot;localeResolver&quot;)\r\n    public LocaleContextResolver localeResolver() {\r\n    return new AcceptHeaderLocaleContextResolver();\r\n    }\r\n\r\nI&#39;m sending a request with localization key like &#39;en-US&#39;. I put &#39;Accept-Language&#39; in the header. I set my locale into that header.\r\nBut it did not work. Spring got default locale.\r\nHow is it fixed?","title":"How to configure WebFlux for i18n","body":"<p>How to implement localization support in WebFlux.\nI tried to configure Localization using</p>\n<pre><code> @Bean\n public MessageSource messageSource() {\n var messageSource = new ReloadableResourceBundleMessageSource();\n messageSource.setBasenames(&quot;i18n/messages&quot;);\n messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n return messageSource;\n}\n\n@Bean(name = &quot;localeResolver&quot;)\npublic LocaleContextResolver localeResolver() {\nreturn new AcceptHeaderLocaleContextResolver();\n}\n</code></pre>\n<p>I'm sending a request with localization key like 'en-US'. I put 'Accept-Language' in the header. I set my locale into that header.\nBut it did not work. Spring got default locale.\nHow is it fixed?</p>\n"},{"tags":["java","utf-8","java.util.scanner","utf","byte-order-mark"],"comments":[{"owner":{"account_id":11089842,"reputation":313,"user_id":8142131,"display_name":"funky"},"score":3,"creation_date":1657722907,"post_id":72967970,"comment_id":128878876,"body_markdown":"I think that might be a BOM marker. See here https://stackoverflow.com/questions/4897876/reading-utf-8-bom-marker","body":"I think that might be a BOM marker. See here <a href=\"https://stackoverflow.com/questions/4897876/reading-utf-8-bom-marker\" title=\"reading utf 8 bom marker\">stackoverflow.com/questions/4897876/reading-utf-8-bom-marker</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1657723789,"post_id":72967970,"comment_id":128879259,"body_markdown":"agreed with first comment.. probably the file was created with some Micrsosoft application (or formatted for one). Opening the file from the resources directory of given Github, we can see that it starts with a BOM (sort of): [screenshot](https://i.stack.imgur.com/yMZX8.png) (most text editors are smart enough to handle that, that is, hide it)","body":"agreed with first comment.. probably the file was created with some Micrsosoft application (or formatted for one). Opening the file from the resources directory of given Github, we can see that it starts with a BOM (sort of): <a href=\"https://i.stack.imgur.com/yMZX8.png\" rel=\"nofollow noreferrer\">screenshot</a> (most text editors are smart enough to handle that, that is, hide it)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1657724189,"post_id":72967970,"comment_id":128879438,"body_markdown":"you can check if the first character is either `0xfeff` (or `0xffef`?) and, if so, ignore/remove it","body":"you can check if the first character is either <code>0xfeff</code> (or <code>0xffef</code>?) and, if so, ignore/remove it"}],"answers":[{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657723916,"creation_date":1657723916,"answer_id":72968320,"question_id":72967970,"body_markdown":"@funky is correct. Your file starts with a UTF8-BOM. \r\n\r\noutput of `xxd`:\r\n\r\n    00000000: efbb bf64 652c 4a6f 6e67 0a2c 4a61 6e73  ...de,Jong.,Jans\r\n    00000010: 656e 0a64 652c 5672 6965 730a 7661 6e20  en.de,Vries.van \r\n\r\nThe first three bytes are: `ef bb bf` \r\n","title":"While reading a CSV I get a question mark at the beginning","body":"<p>@funky is correct. Your file starts with a UTF8-BOM.</p>\n<p>output of <code>xxd</code>:</p>\n<pre><code>00000000: efbb bf64 652c 4a6f 6e67 0a2c 4a61 6e73  ...de,Jong.,Jans\n00000010: 656e 0a64 652c 5672 6965 730a 7661 6e20  en.de,Vries.van \n</code></pre>\n<p>The first three bytes are: <code>ef bb bf</code></p>\n"},{"tags":[],"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657726818,"creation_date":1657725417,"answer_id":72968689,"question_id":72967970,"body_markdown":"I found an easy solution:\r\n\r\n    final String UTF8_BOM = &quot;\\uFEFF&quot;;\r\n\r\n    if (line.startsWith(UTF8_BOM)) {\r\n        line = line.substring(1);\r\n    }\r\n\r\nA simple workable example:\r\n\r\n    File file = new File(&quot;resources/NamenlijstGroot.csv&quot;);\r\n    \r\n    try (\r\n        Scanner scanner = new Scanner(file, StandardCharsets.UTF_8);\r\n    ) {\r\n        while (scanner.hasNext()) {\r\n            String line = scanner.nextLine().strip();\r\n    \r\n            final String UTF8_BOM = &quot;\\uFEFF&quot;;\r\n    \r\n            if (line.startsWith(UTF8_BOM)) {\r\n                line = line.substring(1);\r\n            }\r\n    \r\n            String[] values = line.split(&quot;,&quot;);\r\n            String namePrefix = values[0];\r\n            String surname = values[1];\r\n            namenLijst.add(namePrefix + &quot; &quot; + surname);\r\n        }\r\n    } catch (FileNotFoundException e) {\r\n        System.err.println(&quot;Data file doesn&#39;t exist!&quot;);\r\n    } catch (Exception e) {\r\n        System.err.println(&quot;Something went wrong&quot;);\r\n        e.printStackTrace();\r\n    }","title":"While reading a CSV I get a question mark at the beginning","body":"<p>I found an easy solution:</p>\n<pre><code>final String UTF8_BOM = &quot;\\uFEFF&quot;;\n\nif (line.startsWith(UTF8_BOM)) {\n    line = line.substring(1);\n}\n</code></pre>\n<p>A simple workable example:</p>\n<pre><code>File file = new File(&quot;resources/NamenlijstGroot.csv&quot;);\n\ntry (\n    Scanner scanner = new Scanner(file, StandardCharsets.UTF_8);\n) {\n    while (scanner.hasNext()) {\n        String line = scanner.nextLine().strip();\n\n        final String UTF8_BOM = &quot;\\uFEFF&quot;;\n\n        if (line.startsWith(UTF8_BOM)) {\n            line = line.substring(1);\n        }\n\n        String[] values = line.split(&quot;,&quot;);\n        String namePrefix = values[0];\n        String surname = values[1];\n        namenLijst.add(namePrefix + &quot; &quot; + surname);\n    }\n} catch (FileNotFoundException e) {\n    System.err.println(&quot;Data file doesn't exist!&quot;);\n} catch (Exception e) {\n    System.err.println(&quot;Something went wrong&quot;);\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657727960,"creation_date":1657727434,"answer_id":72969162,"question_id":72967970,"body_markdown":"To mitigate the BOM using a &#39;standard&#39; component, you can use Apache&#39;s [BOMInputStream][1]. Note that BOMs come in *multiple* flavours (see [here][2] for more details), and this should handle them all reliably.\r\n\r\nIf you have a sizeable project, you may find you have the `BOMInputStream` in your project already via [commons-io][3]\r\n\r\nScanner will take an input stream (see [here][4])\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/input/BOMInputStream.html\r\n  [2]: https://en.wikipedia.org/wiki/Byte_order_mark\r\n  [3]: https://commons.apache.org/proper/commons-io/\r\n  [4]: https://stackoverflow.com/a/24521844/12960","title":"While reading a CSV I get a question mark at the beginning","body":"<p>To mitigate the BOM using a 'standard' component, you can use Apache's <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/input/BOMInputStream.html\" rel=\"nofollow noreferrer\">BOMInputStream</a>. Note that BOMs come in <em>multiple</em> flavours (see <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">here</a> for more details), and this should handle them all reliably.</p>\n<p>If you have a sizeable project, you may find you have the <code>BOMInputStream</code> in your project already via <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">commons-io</a></p>\n<p>Scanner will take an input stream (see <a href=\"https://stackoverflow.com/a/24521844/12960\">here</a>)</p>\n"}],"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1543,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72968689,"answer_count":3,"score":1,"last_activity_date":1657810768,"creation_date":1657722398,"question_id":72967970,"body_markdown":"I&#39;m trying to do a small school practice about Java Text I/O and while trying to read a CSV file with name prefixes (a Dutch thing) and surnames I got a question mark in the beginning.\r\n\r\nIt&#39;s a small exercise where I need to add my code to an already existing project with 3 small files to practice the use of Text I/O, see project code: https://github.com/Remzi1993/klantenBestand\r\n\r\n    public void vulNamenLijst() {\r\n        // TODO: Lees het bestand &quot;resources/NamenlijstGroot.csv&quot; en zet elke regel (&lt;tussenvoegsel&gt;,&lt;achternaam&gt;)\r\n        // in de ArrayList namenLijst.\r\n\r\n        file = new File(&quot;resources/NamenlijstGroot.csv&quot;);\r\n\r\n        try (\r\n                Scanner scanner = new Scanner(file);\r\n        ) {\r\n            while (scanner.hasNext()) {\r\n                String line = scanner.nextLine();\r\n                String[] values = line.split(&quot;,&quot;);\r\n                String namePrefix = values[0];\r\n                String surname = values[1];\r\n                namenLijst.add(namePrefix + &quot; &quot; + surname);\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            System.err.println(&quot;Data file doesn&#39;t exist!&quot;);\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Something went wrong&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nI&#39;m sorry for the use of Dutch and English at the same time in the code. I try to write my own code in English, but this code exercise already existed and I only needed to add some code with the //TODO to practice Text I/O.\r\n\r\nThis is what I get:\r\n[![Screenshot][1]][1]\r\n\r\n\r\nMy CSV file:\r\n[![CSV file screenshot][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EzN5k.png\r\n  [2]: https://i.stack.imgur.com/FjOrh.png","title":"While reading a CSV I get a question mark at the beginning","body":"<p>I'm trying to do a small school practice about Java Text I/O and while trying to read a CSV file with name prefixes (a Dutch thing) and surnames I got a question mark in the beginning.</p>\n<p>It's a small exercise where I need to add my code to an already existing project with 3 small files to practice the use of Text I/O, see project code: <a href=\"https://github.com/Remzi1993/klantenBestand\" rel=\"nofollow noreferrer\">https://github.com/Remzi1993/klantenBestand</a></p>\n<pre><code>public void vulNamenLijst() {\n    // TODO: Lees het bestand &quot;resources/NamenlijstGroot.csv&quot; en zet elke regel (&lt;tussenvoegsel&gt;,&lt;achternaam&gt;)\n    // in de ArrayList namenLijst.\n\n    file = new File(&quot;resources/NamenlijstGroot.csv&quot;);\n\n    try (\n            Scanner scanner = new Scanner(file);\n    ) {\n        while (scanner.hasNext()) {\n            String line = scanner.nextLine();\n            String[] values = line.split(&quot;,&quot;);\n            String namePrefix = values[0];\n            String surname = values[1];\n            namenLijst.add(namePrefix + &quot; &quot; + surname);\n        }\n    } catch (FileNotFoundException e) {\n        System.err.println(&quot;Data file doesn't exist!&quot;);\n    } catch (Exception e) {\n        System.err.println(&quot;Something went wrong&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I'm sorry for the use of Dutch and English at the same time in the code. I try to write my own code in English, but this code exercise already existed and I only needed to add some code with the //TODO to practice Text I/O.</p>\n<p>This is what I get:\n<a href=\"https://i.stack.imgur.com/EzN5k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EzN5k.png\" alt=\"Screenshot\" /></a></p>\n<p>My CSV file:\n<a href=\"https://i.stack.imgur.com/FjOrh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FjOrh.png\" alt=\"CSV file screenshot\" /></a></p>\n"},{"tags":["java","spring","spring-boot","web-services","soap"],"answers":[{"tags":[],"owner":{"account_id":10241233,"reputation":129,"user_id":7558585,"display_name":"Nikita Zamalyutdinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657810092,"creation_date":1657810092,"answer_id":72982464,"question_id":72667804,"body_markdown":"I faced the same issue. In my case it was related to using **Jakarta** XML bind.\r\nWhen I change it to **Javax instead of Jakarta** everything works fine.\r\nSo when you check imports in your generated sources, it should be smth like that:\r\n\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n\r\nAdditional dependencies for Java 8+ listed below:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nNote if your Java version is 8 or less, this [guide][1] works fine w/o changes, because Java 8 is still shipped with JAXB implementation.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/producing-web-service/\r\n\r\nI saw that Spring 5 doesn&#39;t support Jakarta, they planned to add support in future 6 version.","title":"No adapter for endpoint Spring WS SOAP","body":"<p>I faced the same issue. In my case it was related to using <strong>Jakarta</strong> XML bind.\nWhen I change it to <strong>Javax instead of Jakarta</strong> everything works fine.\nSo when you check imports in your generated sources, it should be smth like that:</p>\n<pre><code>import javax.xml.bind.annotation.XmlRootElement;\n</code></pre>\n<p>Additional dependencies for Java 8+ listed below:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Note if your Java version is 8 or less, this <a href=\"https://spring.io/guides/gs/producing-web-service/\" rel=\"nofollow noreferrer\">guide</a> works fine w/o changes, because Java 8 is still shipped with JAXB implementation.</p>\n<p>I saw that Spring 5 doesn't support Jakarta, they planned to add support in future 6 version.</p>\n"}],"owner":{"account_id":24858378,"reputation":1,"user_id":19363438,"display_name":"driypeen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657810092,"creation_date":1655540611,"question_id":72667804,"body_markdown":"I have a very strange problem.\r\nI&#39;m trying send request to my SOAP-app, and I get this logs (logging-level=trace):\r\n```\r\n2022-06-18 12:08:33.341 DEBUG 11612 --- [nio-8080-exec-1] yloadRootAnnotationMethodEndpointMapping : Looking up endpoint for [{localhost/soap}GetAllUser]\r\n2022-06-18 12:08:33.341 DEBUG 11612 --- [nio-8080-exec-1] o.s.w.soap.server.SoapMessageDispatcher  : Endpoint mapping [org.springframework.ws.server.endpoint.mapping.PayloadRootAnnotationMethodEndpointMapping@113c4ad6] maps request to endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]\r\nTesting endpoint adapter [org.springframework.ws.server.endpoint.adapter.DefaultMethodEndpointAdapter@1f6f0fe2]\r\n2022-06-18 12:08:33.343 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.dom.DomPayloadMethodProcessor@352c3d70] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.344 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.MessageContextMethodArgumentResolver@4c13ca07] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.344 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.SourcePayloadMethodProcessor@7d17906] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.344 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.XPathParamMethodArgumentResolver@97beeaf] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.345 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.soap.server.endpoint.adapter.method.SoapMethodArgumentResolver@5d68954d] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.345 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.soap.server.endpoint.adapter.method.SoapHeaderElementMethodArgumentResolver@f793f15] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.345 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.jaxb.XmlRootElementPayloadMethodProcessor@3ec7eb5] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.351 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.jaxb.JaxbElementPayloadMethodProcessor@5534e6f1] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.352 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.dom.JDomPayloadMethodProcessor@4c6fc3e7] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.352 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.StaxPayloadMethodArgumentResolver@aa8dce8] supports [class localhost.soap.GetAllUserRequest]\r\n2022-06-18 12:08:33.353 DEBUG 11612 --- [nio-8080-exec-1] o.s.w.soap.server.SoapMessageDispatcher  : Testing endpoint adapter [org.springframework.ws.server.endpoint.adapter.PayloadEndpointAdapter@ab2009f]\r\n2022-06-18 12:08:33.353 DEBUG 11612 --- [nio-8080-exec-1] s.e.SoapFaultAnnotationExceptionResolver : Resolving exception from endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]: java.lang.IllegalStateException: No adapter for endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\r\n2022-06-18 12:08:33.354 DEBUG 11612 --- [nio-8080-exec-1] o.s.w.s.s.e.SimpleSoapExceptionResolver  : Resolving exception from endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]: java.lang.IllegalStateException: No adapter for endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\r\n2022-06-18 12:08:33.370 DEBUG 11612 --- [nio-8080-exec-1] o.s.w.soap.server.SoapMessageDispatcher  : Endpoint invocation resulted in exception - responding with Fault\r\n```\r\nIt turns out that the server finds the endpoint, but does not find the adapter?\r\nSo, i written this:\r\n```\r\n    @Autowired\r\n    List&lt;EndpointAdapter&gt; adapters;\r\n\r\n    @PostConstruct\r\n    public void a () {\r\n        log.info(&quot;ADAPTERS:&quot;);\r\n        adapters.forEach(System.out::println);\r\n    }\r\n```\r\nAnd get this output:\r\n```\r\n2022-06-18 12:07:03.106  INFO 11612 --- [           main] c.d.u.endpoint.UserEndpoint              : ADAPTERS:\r\norg.springframework.ws.server.endpoint.adapter.DefaultMethodEndpointAdapter@1f6f0fe2\r\norg.springframework.ws.server.endpoint.adapter.PayloadEndpointAdapter@ab2009f\r\n```\r\nMy XSD file contains this:\r\n```\r\n    &lt;xs:element name=&quot;GetAllUserRequest&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n\r\n    &lt;xs:element name=&quot;GetAllUserResponse&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;users&quot; type=&quot;tns:UserWithoutRole&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n```\r\nGenerated classes look like this:\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(\r\n    name = &quot;&quot;\r\n)\r\n@XmlRootElement(\r\n    name = &quot;GetAllUserRequest&quot;\r\n)\r\npublic class GetAllUserRequest {\r\n    public GetAllUserRequest() {\r\n    }\r\n}\r\n```\r\nMy request:\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n                  xmlns:gs=&quot;localhost/soap&quot;&gt;\r\n    &lt;soapenv:Header/&gt;\r\n    &lt;soapenv:Body&gt;\r\n        &lt;gs:GetAllUser/&gt;\r\n    &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\nEndpoint class:\r\n```\r\n@Endpoint\r\n@Slf4j\r\npublic class UserEndpoint {\r\n    private static final String NAMESPACE_URI = &quot;localhost/soap&quot;;\r\n\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    public void setUserService(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @Autowired\r\n    List&lt;EndpointAdapter&gt; adapters;\r\n\r\n    @PostConstruct\r\n    public void a () {\r\n        log.info(&quot;ADAPTERS:&quot;);\r\n        adapters.forEach(System.out::println);\r\n    }\r\n\r\n    @PayloadRoot(localPart = &quot;GetAllUser&quot;, namespace = NAMESPACE_URI)\r\n    @ResponsePayload\r\n    public GetAllUserResponse getAllUsers(@RequestPayload GetAllUserRequest request) {\r\n        log.info(&quot;GET ALL USERS&quot;);\r\n\r\n        GetAllUserResponse response = new GetAllUserResponse();\r\n        response.getUsers().addAll(userService.findAll());\r\n\r\n        return response;\r\n    }\r\n}\r\n```\r\nWebServiceConfig:\r\n```\r\n@EnableWs\r\n@Configuration\r\npublic class WebServiceConfig extends WsConfigurerAdapter {\r\n    @Bean\r\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\r\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\r\n        servlet.setApplicationContext(applicationContext);\r\n        servlet.setTransformWsdlLocations(true);\r\n        return new ServletRegistrationBean(servlet, &quot;/ws/*&quot;);\r\n    }\r\n\r\n    @Bean(name = &quot;soap&quot;)\r\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema countriesSchema) {\r\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n        wsdl11Definition.setPortTypeName(&quot;SoapPort&quot;);\r\n        wsdl11Definition.setLocationUri(&quot;/ws&quot;);\r\n        wsdl11Definition.setTargetNamespace(&quot;localhost/soap&quot;);\r\n        wsdl11Definition.setSchema(countriesSchema);\r\n        return wsdl11Definition;\r\n    }\r\n\r\n    @Bean\r\n    public XsdSchema countriesSchema() {\r\n        return new SimpleXsdSchema(new ClassPathResource(&quot;userServiceSOAP.xsd&quot;));\r\n    }\r\n\r\n    @Bean\r\n    public EndpointAdapter messageEndpointAdapter() {\r\n        return new PayloadEndpointAdapter();\r\n    }\r\n}\r\n```\r\nWhy does none of the adapters support my endpoint?\r\nThanks!","title":"No adapter for endpoint Spring WS SOAP","body":"<p>I have a very strange problem.\nI'm trying send request to my SOAP-app, and I get this logs (logging-level=trace):</p>\n<pre><code>2022-06-18 12:08:33.341 DEBUG 11612 --- [nio-8080-exec-1] yloadRootAnnotationMethodEndpointMapping : Looking up endpoint for [{localhost/soap}GetAllUser]\n2022-06-18 12:08:33.341 DEBUG 11612 --- [nio-8080-exec-1] o.s.w.soap.server.SoapMessageDispatcher  : Endpoint mapping [org.springframework.ws.server.endpoint.mapping.PayloadRootAnnotationMethodEndpointMapping@113c4ad6] maps request to endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]\nTesting endpoint adapter [org.springframework.ws.server.endpoint.adapter.DefaultMethodEndpointAdapter@1f6f0fe2]\n2022-06-18 12:08:33.343 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.dom.DomPayloadMethodProcessor@352c3d70] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.344 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.MessageContextMethodArgumentResolver@4c13ca07] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.344 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.SourcePayloadMethodProcessor@7d17906] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.344 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.XPathParamMethodArgumentResolver@97beeaf] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.345 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.soap.server.endpoint.adapter.method.SoapMethodArgumentResolver@5d68954d] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.345 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.soap.server.endpoint.adapter.method.SoapHeaderElementMethodArgumentResolver@f793f15] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.345 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.jaxb.XmlRootElementPayloadMethodProcessor@3ec7eb5] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.351 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.jaxb.JaxbElementPayloadMethodProcessor@5534e6f1] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.352 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.dom.JDomPayloadMethodProcessor@4c6fc3e7] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.352 TRACE 11612 --- [nio-8080-exec-1] o.s.w.s.e.a.DefaultMethodEndpointAdapter : Testing if argument resolver [org.springframework.ws.server.endpoint.adapter.method.StaxPayloadMethodArgumentResolver@aa8dce8] supports [class localhost.soap.GetAllUserRequest]\n2022-06-18 12:08:33.353 DEBUG 11612 --- [nio-8080-exec-1] o.s.w.soap.server.SoapMessageDispatcher  : Testing endpoint adapter [org.springframework.ws.server.endpoint.adapter.PayloadEndpointAdapter@ab2009f]\n2022-06-18 12:08:33.353 DEBUG 11612 --- [nio-8080-exec-1] s.e.SoapFaultAnnotationExceptionResolver : Resolving exception from endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]: java.lang.IllegalStateException: No adapter for endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\n2022-06-18 12:08:33.354 DEBUG 11612 --- [nio-8080-exec-1] o.s.w.s.s.e.SimpleSoapExceptionResolver  : Resolving exception from endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]: java.lang.IllegalStateException: No adapter for endpoint [public localhost.soap.GetAllUserResponse com.driypeen.userServiceSOAP.endpoint.UserEndpoint.getAllUsers(localhost.soap.GetAllUserRequest)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\n2022-06-18 12:08:33.370 DEBUG 11612 --- [nio-8080-exec-1] o.s.w.soap.server.SoapMessageDispatcher  : Endpoint invocation resulted in exception - responding with Fault\n</code></pre>\n<p>It turns out that the server finds the endpoint, but does not find the adapter?\nSo, i written this:</p>\n<pre><code>    @Autowired\n    List&lt;EndpointAdapter&gt; adapters;\n\n    @PostConstruct\n    public void a () {\n        log.info(&quot;ADAPTERS:&quot;);\n        adapters.forEach(System.out::println);\n    }\n</code></pre>\n<p>And get this output:</p>\n<pre><code>2022-06-18 12:07:03.106  INFO 11612 --- [           main] c.d.u.endpoint.UserEndpoint              : ADAPTERS:\norg.springframework.ws.server.endpoint.adapter.DefaultMethodEndpointAdapter@1f6f0fe2\norg.springframework.ws.server.endpoint.adapter.PayloadEndpointAdapter@ab2009f\n</code></pre>\n<p>My XSD file contains this:</p>\n<pre><code>    &lt;xs:element name=&quot;GetAllUserRequest&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n\n    &lt;xs:element name=&quot;GetAllUserResponse&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;users&quot; type=&quot;tns:UserWithoutRole&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n</code></pre>\n<p>Generated classes look like this:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(\n    name = &quot;&quot;\n)\n@XmlRootElement(\n    name = &quot;GetAllUserRequest&quot;\n)\npublic class GetAllUserRequest {\n    public GetAllUserRequest() {\n    }\n}\n</code></pre>\n<p>My request:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n                  xmlns:gs=&quot;localhost/soap&quot;&gt;\n    &lt;soapenv:Header/&gt;\n    &lt;soapenv:Body&gt;\n        &lt;gs:GetAllUser/&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>Endpoint class:</p>\n<pre><code>@Endpoint\n@Slf4j\npublic class UserEndpoint {\n    private static final String NAMESPACE_URI = &quot;localhost/soap&quot;;\n\n    private UserService userService;\n\n    @Autowired\n    public void setUserService(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Autowired\n    List&lt;EndpointAdapter&gt; adapters;\n\n    @PostConstruct\n    public void a () {\n        log.info(&quot;ADAPTERS:&quot;);\n        adapters.forEach(System.out::println);\n    }\n\n    @PayloadRoot(localPart = &quot;GetAllUser&quot;, namespace = NAMESPACE_URI)\n    @ResponsePayload\n    public GetAllUserResponse getAllUsers(@RequestPayload GetAllUserRequest request) {\n        log.info(&quot;GET ALL USERS&quot;);\n\n        GetAllUserResponse response = new GetAllUserResponse();\n        response.getUsers().addAll(userService.findAll());\n\n        return response;\n    }\n}\n</code></pre>\n<p>WebServiceConfig:</p>\n<pre><code>@EnableWs\n@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n    @Bean\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\n        servlet.setApplicationContext(applicationContext);\n        servlet.setTransformWsdlLocations(true);\n        return new ServletRegistrationBean(servlet, &quot;/ws/*&quot;);\n    }\n\n    @Bean(name = &quot;soap&quot;)\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema countriesSchema) {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(&quot;SoapPort&quot;);\n        wsdl11Definition.setLocationUri(&quot;/ws&quot;);\n        wsdl11Definition.setTargetNamespace(&quot;localhost/soap&quot;);\n        wsdl11Definition.setSchema(countriesSchema);\n        return wsdl11Definition;\n    }\n\n    @Bean\n    public XsdSchema countriesSchema() {\n        return new SimpleXsdSchema(new ClassPathResource(&quot;userServiceSOAP.xsd&quot;));\n    }\n\n    @Bean\n    public EndpointAdapter messageEndpointAdapter() {\n        return new PayloadEndpointAdapter();\n    }\n}\n</code></pre>\n<p>Why does none of the adapters support my endpoint?\nThanks!</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":2,"creation_date":1333037908,"post_id":9929321,"comment_id":12674591,"body_markdown":"POst the definition of your ArrayList and the complete error message","body":"POst the definition of your ArrayList and the complete error message"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1333037947,"post_id":9929321,"comment_id":12674605,"body_markdown":"What do you mean by &quot;it failed saying ...&quot;? That looks like the result of printing `dsf.toString()`...","body":"What do you mean by &quot;it failed saying ...&quot;? That looks like the result of printing <code>dsf.toString()</code>..."},{"owner":{"account_id":106983,"reputation":44143,"user_id":284685,"accept_rate":67,"display_name":"Adam"},"score":0,"creation_date":1333038033,"post_id":9929321,"comment_id":12674633,"body_markdown":"Do you want an array of arrays of Strings, i.e. a 2 dimensional array?","body":"Do you want an array of arrays of Strings, i.e. a 2 dimensional array?"},{"owner":{"account_id":4576460,"reputation":1015,"user_id":3714913,"display_name":"Nateowami"},"score":2,"creation_date":1417686346,"post_id":9929321,"comment_id":43047437,"body_markdown":"possible duplicate of [Convert ArrayList containing Strings to an array of Strings in Java?](http://stackoverflow.com/questions/4042434/convert-arraylist-containing-strings-to-an-array-of-strings-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4042434/convert-arraylist-containing-strings-to-an-array-of-strings-in-java\">Convert ArrayList containing Strings to an array of Strings in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"down_vote_count":1,"up_vote_count":128,"is_accepted":false,"score":127,"last_activity_date":1333037925,"creation_date":1333037925,"answer_id":9929344,"question_id":9929321,"body_markdown":"You don&#39;t need to reinvent the wheel, [here][1]&#39;s the `toArray()` method:\r\n\r\n    String []dsf = new String[al.size()];\r\n    al.toArray(dsf);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#toArray%28%29","title":"Converting ArrayList to Array in java","body":"<p>You don't need to reinvent the wheel, <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#toArray%28%29\">here</a>'s the <code>toArray()</code> method:</p>\n\n<pre><code>String []dsf = new String[al.size()];\nal.toArray(dsf);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120353,"reputation":17402,"user_id":312743,"display_name":"Hans Cappelle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333038606,"creation_date":1333038606,"answer_id":9929532,"question_id":9929321,"body_markdown":"What you did with the iteration is not wrong from what I can make of it based on the question. It gives you a valid array of String objects. Like mentioned in another answer it is however easier to use the toArray() method available for the ArrayList object =&gt; http://docs.oracle.com/javase/1.5.0/docs/api/java/util/ArrayList.html#toArray%28%29\r\n\r\nJust a side note. If you would iterate your dsf array properly and print each element on its own you would get valid output. Like this:\r\n\r\n    for(String str : dsf){\r\n       System.out.println(str);\r\n    }\r\n\r\nWhat you probably tried to do was print the complete Array object at once since that would give an object memory address like you got in your question. If you see that kind of output you need to provide a toString() method for the object you&#39;re printing.","title":"Converting ArrayList to Array in java","body":"<p>What you did with the iteration is not wrong from what I can make of it based on the question. It gives you a valid array of String objects. Like mentioned in another answer it is however easier to use the toArray() method available for the ArrayList object => <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/ArrayList.html#toArray%28%29\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/ArrayList.html#toArray%28%29</a></p>\n\n<p>Just a side note. If you would iterate your dsf array properly and print each element on its own you would get valid output. Like this:</p>\n\n<pre><code>for(String str : dsf){\n   System.out.println(str);\n}\n</code></pre>\n\n<p>What you probably tried to do was print the complete Array object at once since that would give an object memory address like you got in your question. If you see that kind of output you need to provide a toString() method for the object you're printing.</p>\n"},{"tags":[],"owner":{"account_id":117025,"reputation":5019,"user_id":306643,"accept_rate":76,"display_name":"kandarp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333039144,"creation_date":1333039144,"answer_id":9929651,"question_id":9929321,"body_markdown":"    package com.v4common.shared.beans.audittrail;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class test1 {\r\n    \tpublic static void main(String arg[]){\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t\tlist.add(&quot;abcd#xyz&quot;);\r\n    \t\tlist.add(&quot;mnop#qrs&quot;);\r\n    \t\t\r\n    \t\tObject[] s = list.toArray();\r\n    \t\tString[] s1= new String[list.size()];\r\n    \t\tString[] s2= new String[list.size()];\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;s.length;i++){\r\n    \t\t\tif(s[i] instanceof String){\r\n    \t\t\t\tString temp = (String)s[i];\r\n    \t\t\t\tif(temp.contains(&quot;#&quot;)){\r\n    \t\t\t\t\tString[] tempString = temp.split(&quot;#&quot;);\r\n    \t\t\t\t\tfor(int j=0;j&lt;tempString.length;j++) {\r\n    \t\t\t\t\t\ts1[i] = tempString[0];\r\n    \t\t\t\t\t\ts2[i] = tempString[1];\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t\tSystem.out.println(s1.length);\r\n    \t\tSystem.out.println(s2.length);\r\n    \t\tSystem.out.println(s1[0]);\r\n    \t\tSystem.out.println(s1[1]);\r\n    \t}\r\n    }","title":"Converting ArrayList to Array in java","body":"<pre><code>package com.v4common.shared.beans.audittrail;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class test1 {\n    public static void main(String arg[]){\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        list.add(\"abcd#xyz\");\n        list.add(\"mnop#qrs\");\n\n        Object[] s = list.toArray();\n        String[] s1= new String[list.size()];\n        String[] s2= new String[list.size()];\n\n        for(int i=0;i&lt;s.length;i++){\n            if(s[i] instanceof String){\n                String temp = (String)s[i];\n                if(temp.contains(\"#\")){\n                    String[] tempString = temp.split(\"#\");\n                    for(int j=0;j&lt;tempString.length;j++) {\n                        s1[i] = tempString[0];\n                        s2[i] = tempString[1];\n                    }\n\n                }\n            }   \n        }\n        System.out.println(s1.length);\n        System.out.println(s2.length);\n        System.out.println(s1[0]);\n        System.out.println(s1[1]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1284185,"reputation":3821,"user_id":1237610,"accept_rate":25,"display_name":"kundan bora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333040928,"creation_date":1333040928,"answer_id":9930115,"question_id":9929321,"body_markdown":"Here is the solution for you given scenario - \r\n\r\n    List&lt;String&gt;ls = new ArrayList&lt;String&gt;();\r\n\t\tls.add(&quot;dfsa#FSDfsd&quot;);\r\n\t\tls.add(&quot;dfsdaor#ooiui&quot;);\r\n\t\tString[] firstArray = new String[ls.size()];\t\r\n\t firstArray =ls.toArray(firstArray);\r\n\tString[] secondArray = new String[ls.size()];\r\n\tfor(int i=0;i&lt;ls.size();i++){\r\n\tsecondArray[i]=firstArray[i].split(&quot;#&quot;)[0];\r\n\tfirstArray[i]=firstArray[i].split(&quot;#&quot;)[1];\r\n\t} ","title":"Converting ArrayList to Array in java","body":"<p>Here is the solution for you given scenario - </p>\n\n<pre><code>List&lt;String&gt;ls = new ArrayList&lt;String&gt;();\n    ls.add(\"dfsa#FSDfsd\");\n    ls.add(\"dfsdaor#ooiui\");\n    String[] firstArray = new String[ls.size()];    \n firstArray =ls.toArray(firstArray);\nString[] secondArray = new String[ls.size()];\nfor(int i=0;i&lt;ls.size();i++){\nsecondArray[i]=firstArray[i].split(\"#\")[0];\nfirstArray[i]=firstArray[i].split(\"#\")[1];\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2150036,"reputation":641,"user_id":1906689,"display_name":"Sravan Kumar Limbadri"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1355596655,"creation_date":1355595498,"answer_id":13894859,"question_id":9929321,"body_markdown":"\r\n    List&lt;String&gt; list=new ArrayList&lt;String&gt;();\r\n    list.add(&quot;sravan&quot;);\r\n    list.add(&quot;vasu&quot;);\r\n    list.add(&quot;raki&quot;);\r\n    String names[]=list.toArray(new String[list.size()])\r\n\r\n\r\n","title":"Converting ArrayList to Array in java","body":"<pre><code>List&lt;String&gt; list=new ArrayList&lt;String&gt;();\nlist.add(\"sravan\");\nlist.add(\"vasu\");\nlist.add(\"raki\");\nString names[]=list.toArray(new String[list.size()])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7493295,"reputation":17,"user_id":5694280,"display_name":"Satyendra Jaiswal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452600521,"creation_date":1452600521,"answer_id":34743314,"question_id":9929321,"body_markdown":"\r\n\r\n    import java.util.*;\r\n    public class arrayList {\r\n        public static void main(String[] args) {\r\n            Scanner sc=new Scanner(System.in);\r\n            ArrayList&lt;String &gt; x=new ArrayList&lt;&gt;();\r\n            //inserting element\r\n            x.add(sc.next());\r\n            x.add(sc.next());\r\n            x.add(sc.next());\r\n            x.add(sc.next());\r\n            x.add(sc.next());\r\n             //to show element\r\n             System.out.println(x);\r\n            //converting arraylist to stringarray\r\n             String[]a=x.toArray(new String[x.size()]);\r\n              for(String s:a)\r\n               System.out.print(s+&quot; &quot;);\r\n      }\r\n        \r\n    }\r\n\r\n","title":"Converting ArrayList to Array in java","body":"<pre><code>import java.util.*;\npublic class arrayList {\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        ArrayList&lt;String &gt; x=new ArrayList&lt;&gt;();\n        //inserting element\n        x.add(sc.next());\n        x.add(sc.next());\n        x.add(sc.next());\n        x.add(sc.next());\n        x.add(sc.next());\n         //to show element\n         System.out.println(x);\n        //converting arraylist to stringarray\n         String[]a=x.toArray(new String[x.size()]);\n          for(String s:a)\n           System.out.print(s+\" \");\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6889317,"reputation":79,"user_id":5293400,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465381919,"creation_date":1465381919,"answer_id":37700000,"question_id":9929321,"body_markdown":"    String[] values = new String[arrayList.size()];\r\n            for (int i = 0; i &lt; arrayList.size(); i++) {\r\n                values[i] = arrayList.get(i).type;\r\n            }","title":"Converting ArrayList to Array in java","body":"<pre><code>String[] values = new String[arrayList.size()];\n        for (int i = 0; i &lt; arrayList.size(); i++) {\n            values[i] = arrayList.get(i).type;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4122859,"reputation":101,"user_id":3382726,"display_name":"nandy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1485115800,"creation_date":1485115800,"answer_id":41795614,"question_id":9929321,"body_markdown":"    List&lt;String&gt; list=new ArrayList&lt;String&gt;();\r\n    list.add(&quot;sravan&quot;);\r\n    list.add(&quot;vasu&quot;);\r\n    list.add(&quot;raki&quot;); \r\n    String names[]=list.toArray(new String[0]);\r\n\r\n\r\n\r\nif you see the last line (new String[0]), you don&#39;t have to give the size, there are time when we don&#39;t know the length of the list, so to start with giving it as 0 , the constructed array will resize.","title":"Converting ArrayList to Array in java","body":"<pre><code>List&lt;String&gt; list=new ArrayList&lt;String&gt;();\nlist.add(\"sravan\");\nlist.add(\"vasu\");\nlist.add(\"raki\"); \nString names[]=list.toArray(new String[0]);\n</code></pre>\n\n<p>if you see the last line (new String[0]), you don't have to give the size, there are time when we don't know the length of the list, so to start with giving it as 0 , the constructed array will resize.</p>\n"},{"tags":[],"owner":{"account_id":11633745,"reputation":11,"user_id":8520888,"display_name":"Abhinav khosla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503759947,"creation_date":1503759947,"answer_id":45896771,"question_id":9929321,"body_markdown":"This is the right answer you want and this solution i have run my self on netbeans\r\n\r\n\r\n\r\n        \r\n    \r\n\r\n    ArrayList a=new ArrayList();\r\n    a.add(1);\r\n    a.add(3);\r\n    a.add(4);\r\n    a.add(5);\r\n    a.add(8);\r\n    a.add(12);\r\n\r\n    int b[]= new int [6];\r\n            Integer m[] = new Integer[a.size()];//***Very important conversion to array*****\r\n            m=(Integer[]) a.toArray(m);\r\n    for(int i=0;i&lt;a.size();i++)\r\n    {\r\n        b[i]=m[i]; \r\n        System.out.println(b[i]);\r\n    }   \r\n        System.out.println(a.size());","title":"Converting ArrayList to Array in java","body":"<p>This is the right answer you want and this solution i have run my self on netbeans</p>\n\n<pre><code>ArrayList a=new ArrayList();\na.add(1);\na.add(3);\na.add(4);\na.add(5);\na.add(8);\na.add(12);\n\nint b[]= new int [6];\n        Integer m[] = new Integer[a.size()];//***Very important conversion to array*****\n        m=(Integer[]) a.toArray(m);\nfor(int i=0;i&lt;a.size();i++)\n{\n    b[i]=m[i]; \n    System.out.println(b[i]);\n}   \n    System.out.println(a.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4772187,"reputation":32,"user_id":3894467,"display_name":"Shreyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527162163,"creation_date":1527160957,"answer_id":50508099,"question_id":9929321,"body_markdown":"This can be done using stream:\r\n\r\n    List&lt;String&gt; stringList = Arrays.asList(&quot;abc#bcd&quot;, &quot;mno#pqr&quot;);\r\n        List&lt;String[]&gt; objects = stringList.stream()\r\n                                           .map(s -&gt; s.split(&quot;#&quot;))\r\n                                           .collect(Collectors.toList());\r\n\r\nThe return value would be arrays of split string. \r\nThis avoids converting the arraylist to an array and performing the operation.","title":"Converting ArrayList to Array in java","body":"<p>This can be done using stream:</p>\n\n<pre><code>List&lt;String&gt; stringList = Arrays.asList(\"abc#bcd\", \"mno#pqr\");\n    List&lt;String[]&gt; objects = stringList.stream()\n                                       .map(s -&gt; s.split(\"#\"))\n                                       .collect(Collectors.toList());\n</code></pre>\n\n<p>The return value would be arrays of split string. \nThis avoids converting the arraylist to an array and performing the operation.</p>\n"},{"tags":[],"owner":{"account_id":8240151,"reputation":194,"user_id":6198018,"display_name":"akshay shetty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654075910,"creation_date":1654075910,"answer_id":72459526,"question_id":9929321,"body_markdown":"`NameOfArray.toArray(new String[0])` \r\n\r\nThis will convert ArrayList to Array in java","title":"Converting ArrayList to Array in java","body":"<p><code>NameOfArray.toArray(new String[0])</code></p>\n<p>This will convert ArrayList to Array in java</p>\n"},{"tags":[],"owner":{"account_id":25192535,"reputation":1,"user_id":19032564,"display_name":"kunj_jariwala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657809921,"creation_date":1657809921,"answer_id":72982426,"question_id":9929321,"body_markdown":"    // A Java program to convert an ArrayList to arr[]\r\n    import java.io.*;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n\r\n    class Main {\r\n\t     public static void main(String[] args)\r\n\t    {\r\n\t\t    List&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\r\n\t\t    al.add(10);\r\n\t\t    al.add(20);\r\n\t\t    al.add(30);\r\n\t\t    al.add(40);\r\n\r\n\t\t    Integer[] arr = new Integer[al.size()];\r\n\t\t    arr = al.toArray(arr);\r\n\r\n\t\t    for (Integer x : arr)\r\n\t\t\t    System.out.print(x + &quot; &quot;);\r\n\t     }\r\n     }\r\n\r\n","title":"Converting ArrayList to Array in java","body":"<pre><code>// A Java program to convert an ArrayList to arr[]\nimport java.io.*;\nimport java.util.List;\nimport java.util.ArrayList;\n\nclass Main {\n     public static void main(String[] args)\n    {\n        List&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\n        al.add(10);\n        al.add(20);\n        al.add(30);\n        al.add(40);\n\n        Integer[] arr = new Integer[al.size()];\n        arr = al.toArray(arr);\n\n        for (Integer x : arr)\n            System.out.print(x + &quot; &quot;);\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":1313781,"reputation":809,"user_id":1261190,"display_name":"Shruthi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264258,"favorite_count":0,"down_vote_count":1,"up_vote_count":79,"answer_count":12,"score":78,"last_activity_date":1657809921,"creation_date":1333037817,"question_id":9929321,"body_markdown":"I have an ArrayList with values like &quot;abcd#xyz&quot; and &quot;mnop#qrs&quot;. I want to convert it into an Array and then split it with # as delimiter and have abcd,mnop in an array and xyz,qrs in another array. I tried the following code:\r\n\r\n\r\n    String dsf[] = new String[al.size()];              \r\n    for(int i =0;i&lt;al.size();i++){\r\n      dsf[i] = al.get(i);\r\n    }\r\n\r\nBut it failed saying &quot;Ljava.lang.String;@57ba57ba&quot;\r\n ","title":"Converting ArrayList to Array in java","body":"<p>I have an ArrayList with values like \"abcd#xyz\" and \"mnop#qrs\". I want to convert it into an Array and then split it with # as delimiter and have abcd,mnop in an array and xyz,qrs in another array. I tried the following code:</p>\n\n<pre><code>String dsf[] = new String[al.size()];              \nfor(int i =0;i&lt;al.size();i++){\n  dsf[i] = al.get(i);\n}\n</code></pre>\n\n<p>But it failed saying \"Ljava.lang.String;@57ba57ba\"</p>\n"},{"tags":["java","spring-boot","resttemplate","spring-rest","spring-resttemplate"],"comments":[{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1657806273,"post_id":72981448,"comment_id":128901877,"body_markdown":"It looks, your control is not reaching to handleConflictException method and Postman might be doing some additional stuff on its own ( since , it can&#39;t throw a Java exception to end user as it being a UI client ). What is `CustomException` &amp; why control would go there in case of `HttpClientErrorException` ?","body":"It looks, your control is not reaching to handleConflictException method and Postman might be doing some additional stuff on its own ( since , it can&#39;t throw a Java exception to end user as it being a UI client ). What is <code>CustomException</code> &amp; why control would go there in case of <code>HttpClientErrorException</code> ?"},{"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"score":0,"creation_date":1657807108,"post_id":72981448,"comment_id":128902211,"body_markdown":"The code is reaching handleConflictException method. I had added logs and checked. Besides its custom response with 403. And spring security is not added. How postman would get exact response.","body":"The code is reaching handleConflictException method. I had added logs and checked. Besides its custom response with 403. And spring security is not added. How postman would get exact response."},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1657855934,"post_id":72981448,"comment_id":128914246,"body_markdown":"Possibly [related](https://stackoverflow.com/questions/13670692/403-forbidden-with-java-but-not-web-browser) &amp; [this one too](https://stackoverflow.com/questions/47272962/403-when-using-spring-boot-but-works-well-with-postman?noredirect=1&amp;lq=1)","body":"Possibly <a href=\"https://stackoverflow.com/questions/13670692/403-forbidden-with-java-but-not-web-browser\">related</a> &amp; <a href=\"https://stackoverflow.com/questions/47272962/403-when-using-spring-boot-but-works-well-with-postman?noredirect=1&amp;lq=1\">this one too</a>"},{"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"score":0,"creation_date":1657866919,"post_id":72981448,"comment_id":128916126,"body_markdown":"Setting the user agent doesn&#39;t help. Also tried accepting all types instead of just json","body":"Setting the user agent doesn&#39;t help. Also tried accepting all types instead of just json"}],"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657809451,"creation_date":1657805752,"question_id":72981448,"body_markdown":"I have 2 spring boot applications with Rest APIs and I&#39;m running it locally for testing. I&#39;m using Rest Template to connect from one service to the second service and getting the response data and processing based on the response. \r\n\r\nSpring security is not implemented in both services. Both are simple REST API services only. \r\n\r\nAs part of it, error responses is handled through exception handling and reading the error json. But for 403 error I&#39;m getting the response body as empty in the *HttpClientErrorException*. However in postman I&#39;m getting proper json format. \r\n\r\nIn first service, I use Exception Handler to send error response. \r\n\r\nApart from 403, I&#39;m getting all other response body as json string and I&#39;m handling it. But for 403, the response body is empty. And through postman response coming properly. So I believe the server code is fine. \r\nWhat could be the issue?\r\n\r\n**Service 1**\r\n\r\n    @ExceptionHandler(CustomException.class)\r\n    \tpublic final ResponseEntity&lt;FailureResponse&gt; handleConflictException(OperationNotAllowed exception,\r\n    \t\t\tWebRequest request) {\r\n    \t\tErrorResult response = new ErrorResult (&quot;Unauthorized&quot;, &quot;Unauthorized&quot;, exception.getErrorList());\r\n    \t\treturn ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(response);\r\n    \t}\r\n\r\n**Service 2  - Rest Template**\r\n\r\n    public SuccessResult&lt;MyResponseObject&gt; restConnectPost(String url, MyRequestObj request,\r\n    \t\tMultiValueMap&lt;String, String&gt; headers) throws MyCustomException {\r\n    \tlog.debug(&quot;{} - Connecting to service&quot;, url);\r\n    \tSuccessResult&lt;MyResponseObject&gt; response = null;\r\n    \ttry {\r\n    \t\theaders.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\r\n    \t\tHttpEntity&lt;MyRequestObj&gt; requestEntity = new HttpEntity&lt;MyRequestObj&gt;(request, headers);\r\n    \t\tResponseEntity&lt;SuccessResult&lt;MyResponseObject&gt;&gt; exchange = restClient.getTemplate().exchange(url,\r\n    \t\t\t\tHttpMethod.post, requestEntity, new ParameterizedTypeReference&lt;SuccessResult&lt;MyResponseObject&gt;&gt;() {\r\n    \t\t\t\t});\r\n    \t\tresponse = exchange.getBody();\r\n    \t} catch (HttpClientErrorException | HttpServerErrorException http) {\r\n    \t\tlog.error(&quot;Response contain errors: {}&quot;, http.getResponseBodyAsString());\r\n    \t\t// Handling code\r\n    \t} catch (Exception e) {\r\n    \t\tlog.error(&quot;Exception while connecting to service {} &quot; + e.getMessage());\r\n    \t\tthrow e;\r\n    \t}\r\n    \treturn response;\r\n    }\r\n\r\n","title":"RestTemplate exchange - getting empty response body incase of 403 error","body":"<p>I have 2 spring boot applications with Rest APIs and I'm running it locally for testing. I'm using Rest Template to connect from one service to the second service and getting the response data and processing based on the response.</p>\n<p>Spring security is not implemented in both services. Both are simple REST API services only.</p>\n<p>As part of it, error responses is handled through exception handling and reading the error json. But for 403 error I'm getting the response body as empty in the <em>HttpClientErrorException</em>. However in postman I'm getting proper json format.</p>\n<p>In first service, I use Exception Handler to send error response.</p>\n<p>Apart from 403, I'm getting all other response body as json string and I'm handling it. But for 403, the response body is empty. And through postman response coming properly. So I believe the server code is fine.\nWhat could be the issue?</p>\n<p><strong>Service 1</strong></p>\n<pre><code>@ExceptionHandler(CustomException.class)\n    public final ResponseEntity&lt;FailureResponse&gt; handleConflictException(OperationNotAllowed exception,\n            WebRequest request) {\n        ErrorResult response = new ErrorResult (&quot;Unauthorized&quot;, &quot;Unauthorized&quot;, exception.getErrorList());\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(response);\n    }\n</code></pre>\n<p><strong>Service 2  - Rest Template</strong></p>\n<pre><code>public SuccessResult&lt;MyResponseObject&gt; restConnectPost(String url, MyRequestObj request,\n        MultiValueMap&lt;String, String&gt; headers) throws MyCustomException {\n    log.debug(&quot;{} - Connecting to service&quot;, url);\n    SuccessResult&lt;MyResponseObject&gt; response = null;\n    try {\n        headers.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\n        HttpEntity&lt;MyRequestObj&gt; requestEntity = new HttpEntity&lt;MyRequestObj&gt;(request, headers);\n        ResponseEntity&lt;SuccessResult&lt;MyResponseObject&gt;&gt; exchange = restClient.getTemplate().exchange(url,\n                HttpMethod.post, requestEntity, new ParameterizedTypeReference&lt;SuccessResult&lt;MyResponseObject&gt;&gt;() {\n                });\n        response = exchange.getBody();\n    } catch (HttpClientErrorException | HttpServerErrorException http) {\n        log.error(&quot;Response contain errors: {}&quot;, http.getResponseBodyAsString());\n        // Handling code\n    } catch (Exception e) {\n        log.error(&quot;Exception while connecting to service {} &quot; + e.getMessage());\n        throw e;\n    }\n    return response;\n}\n</code></pre>\n"},{"tags":["java","model-view-controller","architecture","arguments","factory"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":1,"creation_date":1657811186,"post_id":72982256,"comment_id":128903806,"body_markdown":"The second option would be better, but I suggest you use some design pattern for this , like `Factory pattern` or `Abstract factory` pattern, to create objects! Also creating objects one by one would be overhead for code !","body":"The second option would be better, but I suggest you use some design pattern for this , like <code>Factory pattern</code> or <code>Abstract factory</code> pattern, to create objects! Also creating objects one by one would be overhead for code !"},{"owner":{"account_id":14805118,"reputation":21,"user_id":10692346,"display_name":"Joao Barros"},"score":0,"creation_date":1657811501,"post_id":72982256,"comment_id":128903918,"body_markdown":"Really thank you for your comment.\nI will look into those patterns.\nI&#39;m sorry, what do you mean by creating objects one by one? Is this fixed by using those design patterns?","body":"Really thank you for your comment. I will look into those patterns. I&#39;m sorry, what do you mean by creating objects one by one? Is this fixed by using those design patterns?"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1657862919,"post_id":72982256,"comment_id":128915296,"body_markdown":"One by one means , the way you are creating will create more overhead! If you are using framework like `Spring` or `spring boot` , I suggest you use `@Autowired` on objects, this way you won&#39;t be creating objects everytime you call that method","body":"One by one means , the way you are creating will create more overhead! If you are using framework like <code>Spring</code> or <code>spring boot</code> , I suggest you use <code>@Autowired</code> on objects, this way you won&#39;t be creating objects everytime you call that method"}],"owner":{"account_id":14805118,"reputation":21,"user_id":10692346,"display_name":"Joao Barros"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657809173,"creation_date":1657809173,"question_id":72982256,"body_markdown":"I&#39;m doing an assignment for a company and I would like to deliver a nice solution. I should create a shopping cart with special offers, where the products will be inputted by args.\r\nI&#39;m using a switch case to create this products, like:\r\n\r\n    public Product createByName(String productName) {\r\n        switch (productName) {\r\n            case &quot;Soup&quot;: return new Soup();\r\n            case &quot;Bread&quot;: return new Bread();\r\n            case &quot;Milk&quot; : return new Milk();\r\n            case &quot;Apple&quot; : return new Apple();\r\n            default: throw new IllegalArgumentException(&quot;Unknown product &quot; + productName);\r\n        }\r\n    }\r\n\r\nmy question is, is it better to call this createByName inside a loop in my Main, or pass the List&lt;String&gt; args to a UI, that will pass it to a Controller, and create this objects inside the controller?\r\n\r\nThank you.","title":"Where to create objects received by args?","body":"<p>I'm doing an assignment for a company and I would like to deliver a nice solution. I should create a shopping cart with special offers, where the products will be inputted by args.\nI'm using a switch case to create this products, like:</p>\n<pre><code>public Product createByName(String productName) {\n    switch (productName) {\n        case &quot;Soup&quot;: return new Soup();\n        case &quot;Bread&quot;: return new Bread();\n        case &quot;Milk&quot; : return new Milk();\n        case &quot;Apple&quot; : return new Apple();\n        default: throw new IllegalArgumentException(&quot;Unknown product &quot; + productName);\n    }\n}\n</code></pre>\n<p>my question is, is it better to call this createByName inside a loop in my Main, or pass the List args to a UI, that will pass it to a Controller, and create this objects inside the controller?</p>\n<p>Thank you.</p>\n"},{"tags":["java","apache-spark","hadoop","azure-functions","azure-container-apps"],"answers":[{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657808996,"creation_date":1657617535,"answer_id":72949916,"question_id":72949764,"body_markdown":"Below is applicable for `azure-functions` as well as `azure-container-apps`. The behavior may be different for other managed services.\r\n\r\n[hadoop-azure][1] provides a mechanism for custom token provider.\r\n\r\n    package org.acme;\r\n    \r\n    import com.azure.core.credential.AccessToken;\r\n    import com.azure.core.credential.TokenRequestContext;\r\n    import com.azure.identity.DefaultAzureCredential;\r\n    import com.azure.identity.DefaultAzureCredentialBuilder;\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.time.OffsetDateTime;\r\n    import java.util.Date;\r\n    \r\n    class CustomToken implements  org.apache.hadoop.fs.azurebfs.extensions.CustomTokenProviderAdaptee {\r\n        private Logger log = LoggerFactory.getLogger(getClass());\r\n        private String accountName;\r\n        private volatile AccessToken token;\r\n    \r\n        @Override\r\n        public void initialize(Configuration configuration, String accountName) {\r\n            log.info(&quot;Custom Token to be initialized. Config: &quot; + configuration + &quot;. AccountName: &quot; + accountName);\r\n            this.accountName = accountName;\r\n        }\r\n    \r\n        @Override\r\n        public String getAccessToken() {\r\n            if (token != null &amp;&amp; OffsetDateTime.now().isBefore(token.getExpiresAt().minusHours(2))) {\r\n                return token.getToken();\r\n            } else {\r\n                log.info(&quot;token has expired or not been set. &quot; +  token);\r\n                fetchAndSetToken();\r\n                return token.getToken();\r\n            }\r\n        }\r\n    \r\n        private void fetchAndSetToken() {\r\n            DefaultAzureCredential creds = new DefaultAzureCredentialBuilder()\r\n                    .build();\r\n            TokenRequestContext request = new TokenRequestContext();\r\n            request.addScopes(&quot;https://&quot; + accountName);\r\n            this.token = creds.getToken(request).block();\r\n            log.info(&quot;Token has been set. Expires at: &quot; + token.getExpiresAt() + &quot; . &quot; + token.isExpired());\r\n        }\r\n    \r\n        @Override\r\n        public Date getExpiryTime() {\r\n            return new Date(token.getExpiresAt().toInstant().toEpochMilli());\r\n        }\r\n    }\r\n\r\n------------------------------------------\r\n\r\nTo further debug: ssh onto the container apps or azure functions vm.\r\n\r\nTo obtain the MSI Secret: `echo $MSI_SECRET`. And then obtain the token by making a curl call to:\r\n\r\n    curl -v -H &quot;X-IDENTITY-HEADER: msi_secret_from_above&quot; &quot;http://127.0.0.1:42356/msi/token/?resource=https://storage-account-name.dfs.core.windows.net/&amp;api-version=2019-08-01&quot;\r\n\r\nThe java code earlier written replicates the above behavior. I found this link useful to understand MSI. https://dev.to/stratiteq/managed-identity-how-it-works-behind-the-scenes-co4\r\n\r\n  [1]: https://hadoop.apache.org/docs/stable/hadoop-azure/abfs.html#Custom_OAuth_2.0_Token_Provider\r\n","title":"Hadoop Azure: Issue when authenticating storage account using MSI in App Service Plan (Azure Functions)","body":"<p>Below is applicable for <code>azure-functions</code> as well as <code>azure-container-apps</code>. The behavior may be different for other managed services.</p>\n<p><a href=\"https://hadoop.apache.org/docs/stable/hadoop-azure/abfs.html#Custom_OAuth_2.0_Token_Provider\" rel=\"nofollow noreferrer\">hadoop-azure</a> provides a mechanism for custom token provider.</p>\n<pre><code>package org.acme;\n\nimport com.azure.core.credential.AccessToken;\nimport com.azure.core.credential.TokenRequestContext;\nimport com.azure.identity.DefaultAzureCredential;\nimport com.azure.identity.DefaultAzureCredentialBuilder;\nimport org.apache.hadoop.conf.Configuration;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.time.OffsetDateTime;\nimport java.util.Date;\n\nclass CustomToken implements  org.apache.hadoop.fs.azurebfs.extensions.CustomTokenProviderAdaptee {\n    private Logger log = LoggerFactory.getLogger(getClass());\n    private String accountName;\n    private volatile AccessToken token;\n\n    @Override\n    public void initialize(Configuration configuration, String accountName) {\n        log.info(&quot;Custom Token to be initialized. Config: &quot; + configuration + &quot;. AccountName: &quot; + accountName);\n        this.accountName = accountName;\n    }\n\n    @Override\n    public String getAccessToken() {\n        if (token != null &amp;&amp; OffsetDateTime.now().isBefore(token.getExpiresAt().minusHours(2))) {\n            return token.getToken();\n        } else {\n            log.info(&quot;token has expired or not been set. &quot; +  token);\n            fetchAndSetToken();\n            return token.getToken();\n        }\n    }\n\n    private void fetchAndSetToken() {\n        DefaultAzureCredential creds = new DefaultAzureCredentialBuilder()\n                .build();\n        TokenRequestContext request = new TokenRequestContext();\n        request.addScopes(&quot;https://&quot; + accountName);\n        this.token = creds.getToken(request).block();\n        log.info(&quot;Token has been set. Expires at: &quot; + token.getExpiresAt() + &quot; . &quot; + token.isExpired());\n    }\n\n    @Override\n    public Date getExpiryTime() {\n        return new Date(token.getExpiresAt().toInstant().toEpochMilli());\n    }\n}\n</code></pre>\n<hr />\n<p>To further debug: ssh onto the container apps or azure functions vm.</p>\n<p>To obtain the MSI Secret: <code>echo $MSI_SECRET</code>. And then obtain the token by making a curl call to:</p>\n<pre><code>curl -v -H &quot;X-IDENTITY-HEADER: msi_secret_from_above&quot; &quot;http://127.0.0.1:42356/msi/token/?resource=https://storage-account-name.dfs.core.windows.net/&amp;api-version=2019-08-01&quot;\n</code></pre>\n<p>The java code earlier written replicates the above behavior. I found this link useful to understand MSI. <a href=\"https://dev.to/stratiteq/managed-identity-how-it-works-behind-the-scenes-co4\" rel=\"nofollow noreferrer\">https://dev.to/stratiteq/managed-identity-how-it-works-behind-the-scenes-co4</a></p>\n"}],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72949916,"answer_count":1,"score":0,"last_activity_date":1657808996,"creation_date":1657617022,"question_id":72949764,"body_markdown":"This is similar to what has been discussed here: https://www.mail-archive.com/user@hadoop.apache.org/msg24204.html\r\n\r\nThe MSI endpoint that the hadoop-azure client expects (I think) is applicable only for VM&#39;s and not for functions. So, I retrieved the MSI endpoint from the environment variable `IDENTITY_ENDPOINT`\r\n\r\n    sparkContext.hadoopConfiguration().set(&quot;fs.azure.account.auth.type&quot;, &quot;OAuth&quot;);\r\n    sparkContext.hadoopConfiguration().set(&quot;fs.azure.account.oauth.provider.type&quot;, &quot;org.apache.hadoop.fs.azurebfs.oauth2.MsiTokenProvider&quot;);\r\n    if (System.getenv(&quot;IDENTITY_ENDPOINT&quot;) != null) {\r\n        sparkContext.hadoopConfiguration().set(&quot;fs.azure.account.oauth2.msi.endpoint&quot;, System.getenv(&quot;MSI_ENDPOINT&quot;));\r\n    }\r\n    sparkContext.hadoopConfiguration().set(&quot;fs.azure.account.oauth2.msi.tenant&quot;, &quot;xx&quot;);\r\n    sparkContext.hadoopConfiguration().set(&quot;fs.azure.account.oauth2.client.id&quot;, &quot;yy&quot;);\r\n    spark.parquet.read(&quot;&quot;)\r\n\r\nRunning  above gives me the following error:\r\n\r\n&gt; Status code: -1 error code: null error message: Auth failure: HTTP\r\n&gt; Error 400; url=&#39;http://169.254.138.2:8081/msi/token&#39; AADToken: HTTP\r\n&gt; connection to http://169.254.138.2:8081/msi/token failed for getting\r\n&gt; token from AzureAD.; contentType=&#39;application/json; charset=utf-8&#39;;\r\n&gt; response &#39;{&quot;error&quot;:{&quot;code&quot;:&quot;UnsupportedApiVersion&quot;,&quot;message&quot;:&quot;The HTTP\r\n&gt; resource that matches the request URI\r\n&gt; &#39;http://169.254.138.2:8081/msi/token&#39; does not support the API version\r\n&gt; &#39;2018-02-01&#39;.&quot;,&quot;innerError&quot;:null}}&#39;org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator$HttpException:\r\n&gt; HTTP Error 400; url=&#39;http://169.254.138.2:8081/msi/token&#39; AADToken:\r\n&gt; HTTP connection to http://169.254.138.2:8081/msi/token failed for\r\n&gt; getting token from AzureAD.; contentType=&#39;application/json;\r\n&gt; charset=utf-8&#39;; response\r\n&gt; &#39;{&quot;error&quot;:{&quot;code&quot;:&quot;UnsupportedApiVersion&quot;,&quot;message&quot;:&quot;The HTTP resource\r\n&gt; that matches the request URI &#39;http://169.254.138.2:8081/msi/token&#39;\r\n&gt; does not support the API version &#39;2018-02-01&#39;.&quot;,&quot;innerError&quot;:null}}&#39; \r\n&gt; at\r\n&gt; org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.executeHttpOperation(AbfsRestOperation.java:274)\r\n&gt;         at org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.completeExecute(AbfsRestOperation.java:217)\r\n&gt;     at org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.lambda$execute$0(AbfsRestOperation.java:191)\r\n&gt;        at org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.trackDurationOfInvocation(IOStatisticsBinding.java:464)\r\n&gt;        at org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.execute(AbfsRestOperation.java:189)\r\n&gt; at\r\n&gt; org.apache.hadoop.fs.azurebfs.services.AbfsClient.getAclStatus(AbfsClient.java:911)\r\n&gt;         at org.apache.hadoop.fs.azurebfs.services.AbfsClient.getAclStatus(AbfsClient.java:892)\r\n&gt;      at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.getIsNamespaceEnabled(AzureBlobFileSystemStore.java:358)\r\n&gt;       at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.getFileStatus(AzureBlobFileSystemStore.java:932)\r\n&gt;        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.getFileStatus(AzureBlobFileSystem.java:609)\r\n&gt; at\r\n&gt; org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.getFileStatus(AzureBlobFileSystem.java:599)\r\n&gt;      at org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1760)  at\r\n&gt; org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.exists(AzureBlobFileSystem.java:1177)\r\n&gt; at\r\n&gt; org.apache.spark.sql.execution.datasources.DataSource$.$anonfun$checkAndGlobPathIfNecessary$4(DataSource.scala:784)\r\n&gt;        at org.apache.spark.sql.execution.datasources.DataSource$.$anonfun$checkAndGlobPathIfNecessary$4$adapted(DataSource.scala:782)\r\n&gt;     at org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\r\n&gt; at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:678)\r\n&gt;       at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:467)   \r\n&gt; at\r\n&gt; java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1426)\r\n&gt;      at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n&gt;     at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n&gt; at\r\n&gt; java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n&gt; at\r\n&gt; java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n&gt;      at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n&gt; Caused by:\r\n&gt; org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator$HttpException:\r\n&gt; HTTP Error 400; url=&#39;http://169.254.138.2:8081/msi/token&#39; AADToken:\r\n&gt; HTTP connection to http://169.254.138.2:8081/msi/token failed for\r\n&gt; getting token from AzureAD.; contentType=&#39;application/json;\r\n&gt; charset=utf-8&#39;; response\r\n&gt; &#39;{&quot;error&quot;:{&quot;code&quot;:&quot;UnsupportedApiVersion&quot;,&quot;message&quot;:&quot;The HTTP resource\r\n&gt; that matches the request URI &#39;http://169.254.138.2:8081/msi/token&#39;\r\n&gt; does not support the API version &#39;2018-02-01&#39;.&quot;,&quot;innerError&quot;:null}}&#39;  \r\n&gt; at\r\n&gt; org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.getTokenSingleCall(AzureADAuthenticator.java:430)\r\n&gt;        at org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.getTokenCall(AzureADAuthenticator.java:306)\r\n&gt; at\r\n&gt; org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.getTokenFromMsi(AzureADAuthenticator.java:154)\r\n&gt; at\r\n&gt; org.apache.hadoop.fs.azurebfs.oauth2.MsiTokenProvider.refreshToken(MsiTokenProvider.java:57)\r\n&gt;       at org.apache.hadoop.fs.azurebfs.oauth2.AccessTokenProvider.getToken(AccessTokenProvider.java:50)\r\n&gt;         at org.apache.hadoop.fs.azurebfs.services.AbfsClient.getAccessToken(AbfsClient.java:1055)\r\n&gt; at\r\n&gt; org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.executeHttpOperation(AbfsRestOperation.java:256)\r\n&gt; ... 23 more","title":"Hadoop Azure: Issue when authenticating storage account using MSI in App Service Plan (Azure Functions)","body":"<p>This is similar to what has been discussed here: <a href=\"https://www.mail-archive.com/user@hadoop.apache.org/msg24204.html\" rel=\"nofollow noreferrer\">https://www.mail-archive.com/user@hadoop.apache.org/msg24204.html</a></p>\n<p>The MSI endpoint that the hadoop-azure client expects (I think) is applicable only for VM's and not for functions. So, I retrieved the MSI endpoint from the environment variable <code>IDENTITY_ENDPOINT</code></p>\n<pre><code>sparkContext.hadoopConfiguration().set(&quot;fs.azure.account.auth.type&quot;, &quot;OAuth&quot;);\nsparkContext.hadoopConfiguration().set(&quot;fs.azure.account.oauth.provider.type&quot;, &quot;org.apache.hadoop.fs.azurebfs.oauth2.MsiTokenProvider&quot;);\nif (System.getenv(&quot;IDENTITY_ENDPOINT&quot;) != null) {\n    sparkContext.hadoopConfiguration().set(&quot;fs.azure.account.oauth2.msi.endpoint&quot;, System.getenv(&quot;MSI_ENDPOINT&quot;));\n}\nsparkContext.hadoopConfiguration().set(&quot;fs.azure.account.oauth2.msi.tenant&quot;, &quot;xx&quot;);\nsparkContext.hadoopConfiguration().set(&quot;fs.azure.account.oauth2.client.id&quot;, &quot;yy&quot;);\nspark.parquet.read(&quot;&quot;)\n</code></pre>\n<p>Running  above gives me the following error:</p>\n<blockquote>\n<p>Status code: -1 error code: null error message: Auth failure: HTTP\nError 400; url='http://169.254.138.2:8081/msi/token' AADToken: HTTP\nconnection to <a href=\"http://169.254.138.2:8081/msi/token\" rel=\"nofollow noreferrer\">http://169.254.138.2:8081/msi/token</a> failed for getting\ntoken from AzureAD.; contentType='application/json; charset=utf-8';\nresponse '{&quot;error&quot;:{&quot;code&quot;:&quot;UnsupportedApiVersion&quot;,&quot;message&quot;:&quot;The HTTP\nresource that matches the request URI\n'http://169.254.138.2:8081/msi/token' does not support the API version\n'2018-02-01'.&quot;,&quot;innerError&quot;:null}}'org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator$HttpException:\nHTTP Error 400; url='http://169.254.138.2:8081/msi/token' AADToken:\nHTTP connection to <a href=\"http://169.254.138.2:8081/msi/token\" rel=\"nofollow noreferrer\">http://169.254.138.2:8081/msi/token</a> failed for\ngetting token from AzureAD.; contentType='application/json;\ncharset=utf-8'; response\n'{&quot;error&quot;:{&quot;code&quot;:&quot;UnsupportedApiVersion&quot;,&quot;message&quot;:&quot;The HTTP resource\nthat matches the request URI 'http://169.254.138.2:8081/msi/token'\ndoes not support the API version '2018-02-01'.&quot;,&quot;innerError&quot;:null}}'\nat\norg.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.executeHttpOperation(AbfsRestOperation.java:274)\nat org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.completeExecute(AbfsRestOperation.java:217)\nat org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.lambda$execute$0(AbfsRestOperation.java:191)\nat org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.trackDurationOfInvocation(IOStatisticsBinding.java:464)\nat org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.execute(AbfsRestOperation.java:189)\nat\norg.apache.hadoop.fs.azurebfs.services.AbfsClient.getAclStatus(AbfsClient.java:911)\nat org.apache.hadoop.fs.azurebfs.services.AbfsClient.getAclStatus(AbfsClient.java:892)\nat org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.getIsNamespaceEnabled(AzureBlobFileSystemStore.java:358)\nat org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.getFileStatus(AzureBlobFileSystemStore.java:932)\nat org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.getFileStatus(AzureBlobFileSystem.java:609)\nat\norg.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.getFileStatus(AzureBlobFileSystem.java:599)\nat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1760)  at\norg.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.exists(AzureBlobFileSystem.java:1177)\nat\norg.apache.spark.sql.execution.datasources.DataSource$.$anonfun$checkAndGlobPathIfNecessary$4(DataSource.scala:784)\nat org.apache.spark.sql.execution.datasources.DataSource$.$anonfun$checkAndGlobPathIfNecessary$4$adapted(DataSource.scala:782)\nat org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\nat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:678)\nat scala.concurrent.impl.Promise$Transformation.run(Promise.scala:467)<br />\nat\njava.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1426)\nat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\nat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\nat\njava.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\nat\njava.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\nat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\nCaused by:\norg.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator$HttpException:\nHTTP Error 400; url='http://169.254.138.2:8081/msi/token' AADToken:\nHTTP connection to <a href=\"http://169.254.138.2:8081/msi/token\" rel=\"nofollow noreferrer\">http://169.254.138.2:8081/msi/token</a> failed for\ngetting token from AzureAD.; contentType='application/json;\ncharset=utf-8'; response\n'{&quot;error&quot;:{&quot;code&quot;:&quot;UnsupportedApiVersion&quot;,&quot;message&quot;:&quot;The HTTP resource\nthat matches the request URI 'http://169.254.138.2:8081/msi/token'\ndoes not support the API version '2018-02-01'.&quot;,&quot;innerError&quot;:null}}'<br />\nat\norg.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.getTokenSingleCall(AzureADAuthenticator.java:430)\nat org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.getTokenCall(AzureADAuthenticator.java:306)\nat\norg.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.getTokenFromMsi(AzureADAuthenticator.java:154)\nat\norg.apache.hadoop.fs.azurebfs.oauth2.MsiTokenProvider.refreshToken(MsiTokenProvider.java:57)\nat org.apache.hadoop.fs.azurebfs.oauth2.AccessTokenProvider.getToken(AccessTokenProvider.java:50)\nat org.apache.hadoop.fs.azurebfs.services.AbfsClient.getAccessToken(AbfsClient.java:1055)\nat\norg.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.executeHttpOperation(AbfsRestOperation.java:256)\n... 23 more</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24379805,"reputation":696,"user_id":18311567,"display_name":"akaAbdullahMateen"},"score":0,"creation_date":1657786103,"post_id":72977192,"comment_id":128894517,"body_markdown":"Please try to enclose your code within triple back ticks. Something like this: ``` {new_line} some_code {new_line} ```","body":"Please try to enclose your code within triple back ticks. Something like this: ``` {new_line} some_code {new_line} ```"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1657786341,"post_id":72977192,"comment_id":128894593,"body_markdown":"This doesn&#39;t look like valid Java code... where did you get this? Please provide more context.","body":"This doesn&#39;t look like valid Java code... where did you get this? Please provide more context."},{"owner":{"account_id":25353628,"reputation":33,"user_id":19170117,"display_name":"rdre8"},"score":0,"creation_date":1657786963,"post_id":72977192,"comment_id":128894781,"body_markdown":"Hi Jon, if the code snippet is placed within {} as a search query on a search website, preceded by * or ? or # of course,  it DOES provide information regarding that server, for example details of the user running the server. It definitely works, but I need to understand what the code is actually doing.","body":"Hi Jon, if the code snippet is placed within {} as a search query on a search website, preceded by * or ? or # of course,  it DOES provide information regarding that server, for example details of the user running the server. It definitely works, but I need to understand what the code is actually doing."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1657786979,"post_id":72977192,"comment_id":128894784,"body_markdown":"**Java**: `T()` could be a method call, but `T(java.lang.Runtime)` is invalid since there is no class `java.lang` from which `Runtime` could be a member | `toString(105)` is calling the `toString(int)` method that returns the string representation of given integer: `&quot;105&quot;`  || maybe the question should not be tagged (only) with the [tag:java] tag... (this comment was written before reading previous one - no idea what mentioned site does with its input)","body":"<b>Java</b>: <code>T()</code> could be a method call, but <code>T(java.lang.Runtime)</code> is invalid since there is no class <code>java.lang</code> from which <code>Runtime</code> could be a member | <code>toString(105)</code> is calling the <code>toString(int)</code> method that returns the string representation of given integer: <code>&quot;105&quot;</code>  || maybe the question should not be tagged (only) with the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag... (this comment was written before reading previous one - no idea what mentioned site does with its input)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1657787659,"post_id":72977192,"comment_id":128895042,"body_markdown":"in that query (just guessing) `T(java.lang.Character)` could mean the class (**T**ype) `java.lang.Character` - `T(java.lang.Character).toString(105)` would be `Character.toString(105)` (reuslting in `&quot;i&quot;`), same for `100` (`&quot;d&quot;`) - so basically it looks like it is trying to execute  `IOUtils.toString(Runtime.getRuntime.exec(&quot;id&quot;).getInputStream())` || so `T()` in that (unknown to me) query language PROBABLY means the class given by its argument","body":"in that query (just guessing) <code>T(java.lang.Character)</code> could mean the class (<b>T</b>ype) <code>java.lang.Character</code> - <code>T(java.lang.Character).toString(105)</code> would be <code>Character.toString(105)</code> (reuslting in <code>&quot;i&quot;</code>), same for <code>100</code> (<code>&quot;d&quot;</code>) - so basically it looks like it is trying to execute  <code>IOUtils.toString(Runtime.getRuntime.exec(&quot;id&quot;).getInputStrea&zwnj;&#8203;m())</code> || so <code>T()</code> in that (unknown to me) query language PROBABLY means the class given by its argument"}],"answers":[{"tags":[],"owner":{"account_id":2985522,"reputation":2419,"user_id":2534472,"display_name":"UniversE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657789291,"creation_date":1657786665,"answer_id":72977354,"question_id":72977192,"body_markdown":"The `toString()` method that seems to be invoked here is actually the `toString(char)` (static) method of `java.lang.Character`. Quoting the documentation:\r\n\r\n```plain\r\npublic static String toString(char c)\r\n\r\nReturns a String object representing the specified char.\r\nThe result is a string of length 1 consisting solely of the specified char.\r\n\r\nParameters:\r\n    c - the char to be converted\r\nReturns:\r\n    the string representation of the specified char\r\nSince:\r\n    1.4 \r\n```\r\n\r\nNote that 100 and 105 are also valid `char` values where `100 == &#39;d&#39;` and `105 == &#39;i&#39;`.\r\n\r\n**Update:** after knowing the context, I am now confident that this code is intended to be injected into a template for a web page. The template engine used provides special syntax for accessing static methods where `T(Classname)` resolves to just `Classname` (not `Classname.class`!) in the resulting Java code.\r\n\r\nSo your code would be translated to:\r\n\r\n```\r\norg.apache.commons.io.IOUtils.toString(java.lang.Runtime\r\n   .getRuntime().exec(java.lang.Character.toString(105)\r\n   .concat(java.lang.Character.toString(100))).getInputStream())\r\n```\r\n\r\nThe full qualification of the class names is necessary because we do not know if those classes are imported on the attacked site (or if the template engine even allows imports or class names must always be fully qualified).\r\n\r\nA more readable version of the code that assumes imports is\r\n\r\n```\r\nIOUtils.toString(\r\n    Runtime.getRuntime().exec(\r\n        Character.toString(105).concat(Character.toString(100))\r\n    ).getInputStream()\r\n)\r\n```\r\n\r\nAnd after a little de-obfuscation...\r\n\r\n```\r\nIOUtils.toString(Runtime.getRuntime().exec(&quot;id&quot;).getInputStream())\r\n```\r\n","title":"Java Runtime query - toString() and T","body":"<p>The <code>toString()</code> method that seems to be invoked here is actually the <code>toString(char)</code> (static) method of <code>java.lang.Character</code>. Quoting the documentation:</p>\n<pre><code>public static String toString(char c)\n\nReturns a String object representing the specified char.\nThe result is a string of length 1 consisting solely of the specified char.\n\nParameters:\n    c - the char to be converted\nReturns:\n    the string representation of the specified char\nSince:\n    1.4 \n</code></pre>\n<p>Note that 100 and 105 are also valid <code>char</code> values where <code>100 == 'd'</code> and <code>105 == 'i'</code>.</p>\n<p><strong>Update:</strong> after knowing the context, I am now confident that this code is intended to be injected into a template for a web page. The template engine used provides special syntax for accessing static methods where <code>T(Classname)</code> resolves to just <code>Classname</code> (not <code>Classname.class</code>!) in the resulting Java code.</p>\n<p>So your code would be translated to:</p>\n<pre><code>org.apache.commons.io.IOUtils.toString(java.lang.Runtime\n   .getRuntime().exec(java.lang.Character.toString(105)\n   .concat(java.lang.Character.toString(100))).getInputStream())\n</code></pre>\n<p>The full qualification of the class names is necessary because we do not know if those classes are imported on the attacked site (or if the template engine even allows imports or class names must always be fully qualified).</p>\n<p>A more readable version of the code that assumes imports is</p>\n<pre><code>IOUtils.toString(\n    Runtime.getRuntime().exec(\n        Character.toString(105).concat(Character.toString(100))\n    ).getInputStream()\n)\n</code></pre>\n<p>And after a little de-obfuscation...</p>\n<pre><code>IOUtils.toString(Runtime.getRuntime().exec(&quot;id&quot;).getInputStream())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657808023,"creation_date":1657787826,"answer_id":72977623,"question_id":72977192,"body_markdown":"Whatever this is, it is definitely NOT meaningful Java code.  \r\n\r\nAnd the fact that you can provide it as as a search query on some site is not evidence that it is Java either.\r\n\r\nI suspect that this is actually some custom (site-specific?) query language.  That makes it futile to try to understand it as a Java snippet.\r\n\r\nYour theory that `T` could denote a generic type parameter doesn&#39;t work.  Java would not allow you to write `T(...)` if that was the case.\r\n\r\nFurthermore, if we assume that `org.apache.commons.io.IOUtils`, `java.lang.Runtime` and so on are intended to refer to Java class objects, then the correct Java syntax would be `org.apache.commons.io.IOUtils.class`, `java.lang.Runtime.class` and so on.\r\n\r\n--------------------\r\n\r\nSo what *does* it mean?\r\n\r\nWell a bit of Googling found me some other examples that look like yours.   For instance;\r\n\r\n  - https://github.com/VikasVarshney/ssti-payload\r\n\r\nappears to generate &quot;code&quot; that is reminiscent of your example.  This is SSTI - Server Side Template Injection, and it appears to be targeting Java EE Expression Language (EL).\r\n\r\nAnd I think this particular example is an attempt to run the Linux `id` program ... which would output some basic information about the  user and group ids for the account running your web server.\r\n\r\nDoes it matter?  Well only if your site is vulnerable to SSTI attacks!\r\n\r\nHow would you know if your site is vulnerable?\r\n\r\n  - By understanding the nature of SSTI with respect to EL and other potential attack vectors ... and auditing your codebase and configurations.\r\n\r\n  - By using a vulnerability scanner to test your site and/or your code-base.\r\n\r\n  - By employing the services of a trustworthy IT security company to do some penetration testing.\r\n\r\nIn this case, you could also try to use `curl` to repeat the attempted attack ... as the hacker would have done ... based on what is in your logs.  Just see if it actually works.  Note that running the `id` program does no actual damage to your system.  The harm would be in the information that is leaked to a hacker ... if they succeed.\r\n\r\nNote that if this hack did succeed, then the hacker would probably try to run other programs.  These *could* do some damage to your system, depending on how how well your server was hardened against such things.","title":"Java Runtime query - toString() and T","body":"<p>Whatever this is, it is definitely NOT meaningful Java code.</p>\n<p>And the fact that you can provide it as as a search query on some site is not evidence that it is Java either.</p>\n<p>I suspect that this is actually some custom (site-specific?) query language.  That makes it futile to try to understand it as a Java snippet.</p>\n<p>Your theory that <code>T</code> could denote a generic type parameter doesn't work.  Java would not allow you to write <code>T(...)</code> if that was the case.</p>\n<p>Furthermore, if we assume that <code>org.apache.commons.io.IOUtils</code>, <code>java.lang.Runtime</code> and so on are intended to refer to Java class objects, then the correct Java syntax would be <code>org.apache.commons.io.IOUtils.class</code>, <code>java.lang.Runtime.class</code> and so on.</p>\n<hr />\n<p>So what <em>does</em> it mean?</p>\n<p>Well a bit of Googling found me some other examples that look like yours.   For instance;</p>\n<ul>\n<li><a href=\"https://github.com/VikasVarshney/ssti-payload\" rel=\"nofollow noreferrer\">https://github.com/VikasVarshney/ssti-payload</a></li>\n</ul>\n<p>appears to generate &quot;code&quot; that is reminiscent of your example.  This is SSTI - Server Side Template Injection, and it appears to be targeting Java EE Expression Language (EL).</p>\n<p>And I think this particular example is an attempt to run the Linux <code>id</code> program ... which would output some basic information about the  user and group ids for the account running your web server.</p>\n<p>Does it matter?  Well only if your site is vulnerable to SSTI attacks!</p>\n<p>How would you know if your site is vulnerable?</p>\n<ul>\n<li><p>By understanding the nature of SSTI with respect to EL and other potential attack vectors ... and auditing your codebase and configurations.</p>\n</li>\n<li><p>By using a vulnerability scanner to test your site and/or your code-base.</p>\n</li>\n<li><p>By employing the services of a trustworthy IT security company to do some penetration testing.</p>\n</li>\n</ul>\n<p>In this case, you could also try to use <code>curl</code> to repeat the attempted attack ... as the hacker would have done ... based on what is in your logs.  Just see if it actually works.  Note that running the <code>id</code> program does no actual damage to your system.  The harm would be in the information that is leaked to a hacker ... if they succeed.</p>\n<p>Note that if this hack did succeed, then the hacker would probably try to run other programs.  These <em>could</em> do some damage to your system, depending on how how well your server was hardened against such things.</p>\n"}],"owner":{"account_id":25353628,"reputation":33,"user_id":19170117,"display_name":"rdre8"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72977354,"answer_count":2,"score":-1,"last_activity_date":1657808023,"creation_date":1657785962,"question_id":72977192,"body_markdown":"In the following expression:\r\n\r\n```\r\nT(org.apache.commons.io.IOUtils).toString(T(java.lang.Runtime)\r\n   .getRuntime().exec(T(java.lang.Character).toString(105)\r\n   .concat(T(java.lang.Character).toString(100))).getInputStream())\r\n```\r\n\r\nDoes the &#39;105&#39; in `toString(105)` refer to an itemized object within the Character class?\r\n\r\nand\r\n\r\nWhy is the &#39;T&#39;, which I believe expresses a generic type, and is used 4 times in this expression, a necessary feature of Java? ","title":"Java Runtime query - toString() and T","body":"<p>In the following expression:</p>\n<pre><code>T(org.apache.commons.io.IOUtils).toString(T(java.lang.Runtime)\n   .getRuntime().exec(T(java.lang.Character).toString(105)\n   .concat(T(java.lang.Character).toString(100))).getInputStream())\n</code></pre>\n<p>Does the '105' in <code>toString(105)</code> refer to an itemized object within the Character class?</p>\n<p>and</p>\n<p>Why is the 'T', which I believe expresses a generic type, and is used 4 times in this expression, a necessary feature of Java?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1657807695,"post_id":72981877,"comment_id":128902452,"body_markdown":"Java is call-by-value. `a` and `b` are copies of what you pass in. If you change them inside of `swap`, these changes will not affect anything else than the scope of that method. Change your code so that `swap` operates on the array.","body":"Java is call-by-value. <code>a</code> and <code>b</code> are copies of what you pass in. If you change them inside of <code>swap</code>, these changes will not affect anything else than the scope of that method. Change your code so that <code>swap</code> operates on the array."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657807789,"creation_date":1657807789,"answer_id":72981918,"question_id":72981877,"body_markdown":"Java is call-by-value. In `swap`, `a` and `b` are copies of what you pass in. If you change them inside of `swap`, these changes will not affect anything else than in the scope of that method.\r\n\r\nChange your `swap` method so that it operates on the array directly:\r\n\r\n    public void swap(char[] s, int a, in b) {\r\n        char temp = s[b];\r\n        s[b] = s[a];\r\n        s[a] = temp;\r\n    }\r\n\r\nThen call it like this:\r\n\r\n    swap(s, left, right);","title":"helper function for char does not work as expected","body":"<p>Java is call-by-value. In <code>swap</code>, <code>a</code> and <code>b</code> are copies of what you pass in. If you change them inside of <code>swap</code>, these changes will not affect anything else than in the scope of that method.</p>\n<p>Change your <code>swap</code> method so that it operates on the array directly:</p>\n<pre><code>public void swap(char[] s, int a, in b) {\n    char temp = s[b];\n    s[b] = s[a];\n    s[a] = temp;\n}\n</code></pre>\n<p>Then call it like this:</p>\n<pre><code>swap(s, left, right);\n</code></pre>\n"}],"owner":{"account_id":19309253,"reputation":1,"user_id":14115410,"display_name":"Will"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1657809334,"answer_count":1,"score":-4,"last_activity_date":1657807789,"creation_date":1657807588,"question_id":72981877,"body_markdown":"I am solving reverse string problem. I wonder why the helper function for swapping 2 char does not work in my code. But it works if I write the code for swapping inside the while loop.\r\n\r\n```\r\nclass Solution {\r\n    public void reverseString(char[] s) {\r\n        \r\n        int left = 0;\r\n        int right = s.length - 1;\r\n        \r\n        while (left &lt; right) {\r\n            swap(s[left], s[right]);\r\n            left++;\r\n            right--;\r\n        }\r\n    }\r\n    // not working as expected\r\n    public void swap(char a, char b) {\r\n        char temp = b;\r\n        b = a;\r\n        a = temp;\r\n    }\r\n}\r\n```","title":"helper function for char does not work as expected","body":"<p>I am solving reverse string problem. I wonder why the helper function for swapping 2 char does not work in my code. But it works if I write the code for swapping inside the while loop.</p>\n<pre><code>class Solution {\n    public void reverseString(char[] s) {\n        \n        int left = 0;\n        int right = s.length - 1;\n        \n        while (left &lt; right) {\n            swap(s[left], s[right]);\n            left++;\n            right--;\n        }\n    }\n    // not working as expected\n    public void swap(char a, char b) {\n        char temp = b;\n        b = a;\n        a = temp;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1657807660,"post_id":72981856,"comment_id":128902434,"body_markdown":"Try doing a full clean &amp; build of your project","body":"Try doing a full clean &amp; build of your project"},{"owner":{"account_id":22958677,"reputation":1,"user_id":17088902,"display_name":"&#214;mer Alper G&#252;neş"},"score":0,"creation_date":1657807848,"post_id":72981856,"comment_id":128902519,"body_markdown":"I&#39;m getting this error when I reinstall.","body":"I&#39;m getting this error when I reinstall."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657809110,"post_id":72981856,"comment_id":128903030,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1657814954,"post_id":72981856,"comment_id":128905219,"body_markdown":"What exactly are you trying to do?","body":"What exactly are you trying to do?"}],"owner":{"account_id":22958677,"reputation":1,"user_id":17088902,"display_name":"&#214;mer Alper G&#252;neş"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657807506,"creation_date":1657807506,"question_id":72981856,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ErwhS.png\r\n\r\n\r\nHello. I&#39;m facing this error while running Eclipse. Is there anyone who can help?\r\n\r\n","title":"Eclipse cannot find; Failed to find a main class eclipse","body":"<p><a href=\"https://i.stack.imgur.com/ErwhS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Hello. I'm facing this error while running Eclipse. Is there anyone who can help?</p>\n"},{"tags":["java","jackson","marshalling","unmarshalling","objectmapper"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":1,"creation_date":1657741438,"post_id":72971601,"comment_id":128885456,"body_markdown":"`int` can’t be null, for that you would at least need an `Integer`","body":"<code>int</code> can’t be null, for that you would at least need an <code>Integer</code>"}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657807210,"creation_date":1657743472,"answer_id":72972147,"question_id":72971601,"body_markdown":"`int` can&#39;t be `null` since it&#39;s a primitive datatype. You can use `Integer` because it&#39;s an object and therefore can be `null`.\r\n\r\nI think then you still have to tell json that it can ignore fields that are not in the json with `@JsonIgnoreProperties(ignoreUnknown = true)`\r\n\r\n\r\n----------\r\n\r\nWhen you&#39;re goal is to just get the output without the id when you print the user you can override the ``toString`` method:\r\n```java\r\n@Override\r\npublic String toString() {\r\n    return &quot;User(name=&quot; + name + &quot;)&quot;;\r\n}\r\n```\r\nOr since you use the `Data` annotation which contains the `ToString` annotation you can add `@ToString.Exclude` over your id field","title":"Converting String to Object using ObjectMapper but ignore field with @JsonIgnore property","body":"<p><code>int</code> can't be <code>null</code> since it's a primitive datatype. You can use <code>Integer</code> because it's an object and therefore can be <code>null</code>.</p>\n<p>I think then you still have to tell json that it can ignore fields that are not in the json with <code>@JsonIgnoreProperties(ignoreUnknown = true)</code></p>\n<hr />\n<p>When you're goal is to just get the output without the id when you print the user you can override the <code>toString</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String toString() {\n    return &quot;User(name=&quot; + name + &quot;)&quot;;\n}\n</code></pre>\n<p>Or since you use the <code>Data</code> annotation which contains the <code>ToString</code> annotation you can add <code>@ToString.Exclude</code> over your id field</p>\n"}],"owner":{"account_id":10441450,"reputation":194,"user_id":7697959,"display_name":"Shivangi Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":821,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72972147,"answer_count":1,"score":-1,"last_activity_date":1657807210,"creation_date":1657740297,"question_id":72971601,"body_markdown":"User class:\r\n\r\n    @Data\r\n    class User {\r\n        @JsonIgnore\r\n        private int id;\r\n        private String name;\r\n    }\r\n\r\nI have the scenario where I have to write user object as string, but I don&#39;t want &#39;id&#39; field to be included in it for which I have used @JsonIgnore property\r\nI am using objectMapper to write the value as String:\r\n\r\n    String s = mapper.writer().withDefaultPrettyPrinter().writeValueAsString(user);\r\n\r\nThis creates String value as expected (exluding id field).\r\n\r\nBut at next step I required the object from String s(But it should not have id field - But when I am trying to do it using readValue, I am getting the id field in the object with default value - which I do not want.)\r\n\r\n    User value = mapper.readValue(s, User.class);\r\n\r\nBelow is the whole code:\r\n\r\n    @Data\r\n    class User {\r\n        @JsonIgnore\r\n        private int id;\r\n        private String name;\r\n    }\r\n    \r\n    public class Test {\r\n        ObjectMapper objMapper;\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            Test t = new Test();\r\n            t.meth();\r\n        }\r\n    \r\n        public void meth() throws IOException {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            User user = new User();\r\n            user.setId(2);\r\n            user.setName(&quot;Bob&quot;);\r\n            System.out.println(user);\r\n            String s = mapper.writer().withDefaultPrettyPrinter().writeValueAsString(user);\r\n            User value = mapper.readValue(s, User.class);\r\n            System.out.println(&quot;==&gt;String Value:\\n&quot; + s);\r\n            System.out.println(&quot;===&gt;Object Value:\\n&quot; + value);\r\n        }\r\n    }\r\n\r\nOutput I am getting:\r\n\r\n    ==&gt;String Value:\r\n    {\r\n      &quot;name&quot; : &quot;Bob&quot;\r\n    }\r\n    ===&gt;Object Value:\r\n    User(id=0, name=Bob)\r\n\r\nExpected output:\r\n\r\n    ==&gt;String Value:\r\n    {\r\n      &quot;name&quot; : &quot;Bob&quot;\r\n    }\r\n    ===&gt;Object Value:\r\n    User(name=Bob)\r\n\r\nPlease see Object Value in both Actual and Expected output.\r\n\r\n\r\nLooking forward to a simple solution.\r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"Converting String to Object using ObjectMapper but ignore field with @JsonIgnore property","body":"<p>User class:</p>\n<pre><code>@Data\nclass User {\n    @JsonIgnore\n    private int id;\n    private String name;\n}\n</code></pre>\n<p>I have the scenario where I have to write user object as string, but I don't want 'id' field to be included in it for which I have used @JsonIgnore property\nI am using objectMapper to write the value as String:</p>\n<pre><code>String s = mapper.writer().withDefaultPrettyPrinter().writeValueAsString(user);\n</code></pre>\n<p>This creates String value as expected (exluding id field).</p>\n<p>But at next step I required the object from String s(But it should not have id field - But when I am trying to do it using readValue, I am getting the id field in the object with default value - which I do not want.)</p>\n<pre><code>User value = mapper.readValue(s, User.class);\n</code></pre>\n<p>Below is the whole code:</p>\n<pre><code>@Data\nclass User {\n    @JsonIgnore\n    private int id;\n    private String name;\n}\n\npublic class Test {\n    ObjectMapper objMapper;\n\n    public static void main(String[] args) throws IOException {\n        Test t = new Test();\n        t.meth();\n    }\n\n    public void meth() throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        User user = new User();\n        user.setId(2);\n        user.setName(&quot;Bob&quot;);\n        System.out.println(user);\n        String s = mapper.writer().withDefaultPrettyPrinter().writeValueAsString(user);\n        User value = mapper.readValue(s, User.class);\n        System.out.println(&quot;==&gt;String Value:\\n&quot; + s);\n        System.out.println(&quot;===&gt;Object Value:\\n&quot; + value);\n    }\n}\n</code></pre>\n<p>Output I am getting:</p>\n<pre><code>==&gt;String Value:\n{\n  &quot;name&quot; : &quot;Bob&quot;\n}\n===&gt;Object Value:\nUser(id=0, name=Bob)\n</code></pre>\n<p>Expected output:</p>\n<pre><code>==&gt;String Value:\n{\n  &quot;name&quot; : &quot;Bob&quot;\n}\n===&gt;Object Value:\nUser(name=Bob)\n</code></pre>\n<p>Please see Object Value in both Actual and Expected output.</p>\n<p>Looking forward to a simple solution.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","maven","maven-2","maven-3","maven-surefire-plugin"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1657805751,"post_id":72981341,"comment_id":128901652,"body_markdown":"This will most likely end very badly (except for the most experienced).  Could you back up a step and describe the actual problem that you have?","body":"This will most likely end very badly (except for the most experienced).  Could you back up a step and describe the actual problem that you have?"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1657807314,"post_id":72981341,"comment_id":128902299,"body_markdown":"Why did you specify the surefire plugin? Is it related to the tests? In any case even without maven, if you have two different artifacts that differ only by versions, java application probably won&#39;t be working properly because it won&#39;t be clear which artifact to take. So could you elaborate more on your use case, maybe there is another (and more appropriate solution) to your issue?","body":"Why did you specify the surefire plugin? Is it related to the tests? In any case even without maven, if you have two different artifacts that differ only by versions, java application probably won&#39;t be working properly because it won&#39;t be clear which artifact to take. So could you elaborate more on your use case, maybe there is another (and more appropriate solution) to your issue?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657836013,"post_id":72981341,"comment_id":128911501,"body_markdown":"Please describe in detail the situation you have and what is the idea and why do you need two versions?","body":"Please describe in detail the situation you have and what is the idea and why do you need two versions?"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657806973,"creation_date":1657806380,"answer_id":72981583,"question_id":72981341,"body_markdown":"It&#39;s possible, but be careful. [Maven Shade plugin][1] is your friend (or maybe enemy...)\r\n\r\nSuppose you wanted both 3.10 and 3.12 of Apache Commons. It might look something like this:\r\n\r\n    parent\r\n        myapp -&gt; commons-lang3:3.12.0\r\n              -&gt; commons-shaded\r\n         \r\n        commons-shaded -&gt; commons-lang3:3.10.0\r\n\r\nA multi-module project with 2 modules: `myapp`, and `commons-shaded`. `myapp` is what you already have, and can depend on one of the versions of Apache Commons directly.\r\n\r\n`commons-shaded` would contain no code, but would use the Shade plugin to repackage Apache Commons into a package with a distinct name.\r\n\r\nSuppose your application wanted `ClassUtils`, you would use `org.apache.commons.lang3.ClassUtils` for the 3.12 version, and (depending how you shade it) `org.apache.commons.lang3.somefakepackage.ClassUtils` for the 3.10 version.\r\n\r\nBecause of the restriction imposed by Java, you cannot import both of these in the same class, because they have the same class name. If you have to use them in the same class, you can either import one and the fully qualified name for the other, or my suggestion would be to use the fully qualified name for both. It&#39;s more verbose, but when you have unusual situations like this, verbosity is often better.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html","title":"Is there any workaround using which we can install multiple versions of same artifact in maven","body":"<p>It's possible, but be careful. <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html\" rel=\"nofollow noreferrer\">Maven Shade plugin</a> is your friend (or maybe enemy...)</p>\n<p>Suppose you wanted both 3.10 and 3.12 of Apache Commons. It might look something like this:</p>\n<pre><code>parent\n    myapp -&gt; commons-lang3:3.12.0\n          -&gt; commons-shaded\n     \n    commons-shaded -&gt; commons-lang3:3.10.0\n</code></pre>\n<p>A multi-module project with 2 modules: <code>myapp</code>, and <code>commons-shaded</code>. <code>myapp</code> is what you already have, and can depend on one of the versions of Apache Commons directly.</p>\n<p><code>commons-shaded</code> would contain no code, but would use the Shade plugin to repackage Apache Commons into a package with a distinct name.</p>\n<p>Suppose your application wanted <code>ClassUtils</code>, you would use <code>org.apache.commons.lang3.ClassUtils</code> for the 3.12 version, and (depending how you shade it) <code>org.apache.commons.lang3.somefakepackage.ClassUtils</code> for the 3.10 version.</p>\n<p>Because of the restriction imposed by Java, you cannot import both of these in the same class, because they have the same class name. If you have to use them in the same class, you can either import one and the fully qualified name for the other, or my suggestion would be to use the fully qualified name for both. It's more verbose, but when you have unusual situations like this, verbosity is often better.</p>\n"}],"owner":{"account_id":25628169,"reputation":1,"user_id":19398952,"display_name":"sacp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657806973,"creation_date":1657805300,"question_id":72981341,"body_markdown":"I need to install multiple versions of same artifact in maven and use both of them in the same module, but since maven allows only one version due to it the import statements are breaking for either of the version. Is there any workaround that can get help me install both the versions in the same module and use the imports from both at the same time.","title":"Is there any workaround using which we can install multiple versions of same artifact in maven","body":"<p>I need to install multiple versions of same artifact in maven and use both of them in the same module, but since maven allows only one version due to it the import statements are breaking for either of the version. Is there any workaround that can get help me install both the versions in the same module and use the imports from both at the same time.</p>\n"},{"tags":["java","arrays","list","arraylist"],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657806331,"creation_date":1657806331,"answer_id":72981575,"question_id":72981462,"body_markdown":"[`List.toArray`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#toArray--), with no arguments, returns a `Object[]`, not a `T[]`.\r\n\r\n&gt;     Object[] toArray()\r\n\r\nThat&#39;s because, in Java, writing `new T[]` (where `T` is a generic type) is not allowed, since it would require runtime access to the type `T` and we can&#39;t have that due to [type erasure](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html).\r\n\r\nSo they provide an overload to get around that. The [overload that you&#39;re using](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#toArray-T:A-) looks like this.\r\n\r\n&gt;     &lt;T&gt; T[] toArray(T[] a)\r\n\r\n*You* have to allocate the array and *you* have to make the `new` call, since you know what type of array you want. If you give Java an array of the appropriate type, it can use *that* array. If there&#39;s not enough elements in that array, it can use reflection to generate a bigger one of the same type.\r\n\r\nSo all you&#39;re doing is telling Java, at runtime, that the type of array you want is an array containing `int[]` (or a `int[][]`).\r\n\r\nNow, as for why we make an array of *zero* elements, that&#39;s a bit more complicated (and I don&#39;t pretend to fully understand the optimizations in play either), but it&#39;s explained in [this blog post](https://shipilev.net/blog/2016/arrays-wisdom-ancients/). There would certainly be nothing *wrong* with giving it a `new int[N][]`, where `N` is the length of your list. But, based on the optimizations currently available to the JVM, the zero array is recommended today.","title":"Convert List&lt;int[]&gt; of arrays to 2D - Array","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#toArray--\" rel=\"nofollow noreferrer\"><code>List.toArray</code></a>, with no arguments, returns a <code>Object[]</code>, not a <code>T[]</code>.</p>\n<blockquote>\n<pre><code>Object[] toArray()\n</code></pre>\n</blockquote>\n<p>That's because, in Java, writing <code>new T[]</code> (where <code>T</code> is a generic type) is not allowed, since it would require runtime access to the type <code>T</code> and we can't have that due to <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>.</p>\n<p>So they provide an overload to get around that. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#toArray-T:A-\" rel=\"nofollow noreferrer\">overload that you're using</a> looks like this.</p>\n<blockquote>\n<pre><code>&lt;T&gt; T[] toArray(T[] a)\n</code></pre>\n</blockquote>\n<p><em>You</em> have to allocate the array and <em>you</em> have to make the <code>new</code> call, since you know what type of array you want. If you give Java an array of the appropriate type, it can use <em>that</em> array. If there's not enough elements in that array, it can use reflection to generate a bigger one of the same type.</p>\n<p>So all you're doing is telling Java, at runtime, that the type of array you want is an array containing <code>int[]</code> (or a <code>int[][]</code>).</p>\n<p>Now, as for why we make an array of <em>zero</em> elements, that's a bit more complicated (and I don't pretend to fully understand the optimizations in play either), but it's explained in <a href=\"https://shipilev.net/blog/2016/arrays-wisdom-ancients/\" rel=\"nofollow noreferrer\">this blog post</a>. There would certainly be nothing <em>wrong</em> with giving it a <code>new int[N][]</code>, where <code>N</code> is the length of your list. But, based on the optimizations currently available to the JVM, the zero array is recommended today.</p>\n"}],"owner":{"account_id":25350400,"reputation":31,"user_id":19167364,"display_name":"Shivam Taneja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1657806943,"accepted_answer_id":72981575,"answer_count":1,"score":1,"last_activity_date":1657806958,"creation_date":1657805848,"question_id":72981462,"body_markdown":"I am trying to convert A `List&lt;&gt;` of `int` arrays to a 2D array.\r\n\r\nThe shape of `List&lt;int[]&gt;` is `List[Array1{x1,y1}, Array2{x2,y2}, ..., Array2{xn,yn}]`.\r\n\r\nI want to convert it to a 2D Array, of type `int[][]` \r\n\r\nI found the syntax for it to be: (Assume name of list to be **ans**)\r\n```Java\r\nans.toArray(new int[0][]);\r\n```\r\n\r\nMy question is why are we using `new int[0][]`. Why have the no. of rows been declared as **0**? ","title":"Convert List&lt;int[]&gt; of arrays to 2D - Array","body":"<p>I am trying to convert A <code>List&lt;&gt;</code> of <code>int</code> arrays to a 2D array.</p>\n<p>The shape of <code>List&lt;int[]&gt;</code> is <code>List[Array1{x1,y1}, Array2{x2,y2}, ..., Array2{xn,yn}]</code>.</p>\n<p>I want to convert it to a 2D Array, of type <code>int[][]</code></p>\n<p>I found the syntax for it to be: (Assume name of list to be <strong>ans</strong>)</p>\n<pre><code>ans.toArray(new int[0][]);\n</code></pre>\n<p>My question is why are we using <code>new int[0][]</code>. Why have the no. of rows been declared as <strong>0</strong>?</p>\n"},{"tags":["java","maven","osgi","eclipse-rcp","p2"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647263201,"post_id":71466936,"comment_id":126319822,"body_markdown":"The error message says, that the bundle/plugin `org.hibernate.orm.core 5.4.28.Final` has `Import-Package: javax.interceptor;version=&quot;[1.2.0,2.0.0)&quot;`, but there is no bundle/plugin in your target platform that exports the package `javax.interceptor` of version &gt;= 1.2 and &lt; 2.0. Do you know the different concepts of `Require-Bundle` vs. `Import-Package`?","body":"The error message says, that the bundle/plugin <code>org.hibernate.orm.core 5.4.28.Final</code> has <code>Import-Package: javax.interceptor;version=&quot;[1.2.0,2.0.0)&quot;</code>, but there is no bundle/plugin in your target platform that exports the package <code>javax.interceptor</code> of version &gt;= 1.2 and &lt; 2.0. Do you know the different concepts of <code>Require-Bundle</code> vs. <code>Import-Package</code>?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1647266069,"post_id":71466936,"comment_id":126321054,"body_markdown":"@howlger no, clearly I do not.","body":"@howlger no, clearly I do not."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1647268385,"post_id":71466936,"comment_id":126322064,"body_markdown":"`Require-Bundle` is similar to Maven dependencies: an artifact tells which other artifacts of a certain version range it requires, which in turn may also require artifacts and so on. `Import-Package` is more powerful: an artifact tells which other packages of a certain version range it requires without telling in which artifacts those required packages are contained. `Import-Package` has the advantages, that versioning happens on package level and that this concept is independent of the decision in which artifact a required package is shipped.","body":"<code>Require-Bundle</code> is similar to Maven dependencies: an artifact tells which other artifacts of a certain version range it requires, which in turn may also require artifacts and so on. <code>Import-Package</code> is more powerful: an artifact tells which other packages of a certain version range it requires without telling in which artifacts those required packages are contained. <code>Import-Package</code> has the advantages, that versioning happens on package level and that this concept is independent of the decision in which artifact a required package is shipped."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1647276282,"post_id":71466936,"comment_id":126325318,"body_markdown":"@howlger do you have an example of how that could be used in my case? I can&#39;t see `Import-Package` or `Require-Bundle` in the target definition.","body":"@howlger do you have an example of how that could be used in my case? I can&#39;t see <code>Import-Package</code> or <code>Require-Bundle</code> in the target definition."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647283897,"post_id":71466936,"comment_id":126328057,"body_markdown":"This is another difference to Maven. Since in Maven dependencies have to be resolved only at compile time, the dependencies are specified outside of the JAR in the `pom.xml`. In contrast, since in OSGi/Eclipse the dependencies have also to be resolved at runtime to install, start, stop and uninstall bundles/plugins, they are specified inside the JAR in the `META-INF/MANIFEST.MF`. The target definition just defines the pool from which the right bundles/plugins are picked. The Maven plugin Tycho can even build a plugin project without a `pom.xml`, which is called POM-less.","body":"This is another difference to Maven. Since in Maven dependencies have to be resolved only at compile time, the dependencies are specified outside of the JAR in the <code>pom.xml</code>. In contrast, since in OSGi/Eclipse the dependencies have also to be resolved at runtime to install, start, stop and uninstall bundles/plugins, they are specified inside the JAR in the <code>META-INF&#47;MANIFEST.MF</code>. The target definition just defines the pool from which the right bundles/plugins are picked. The Maven plugin Tycho can even build a plugin project without a <code>pom.xml</code>, which is called POM-less."}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657806934,"creation_date":1647256951,"question_id":71466936,"body_markdown":"I have a large Eclipse RCP application with lots of transitive dependencies.\r\n\r\nCurrently, these are manually copied into the classpath but that&#39;s a significant administrative overhead I&#39;d like to avoid, and would instead like to use [p2-maven-plugin][1].\r\n\r\n  [1]: https://github.com/reficio/p2-maven-plugin\r\n\r\nI&#39;ve created a simple `pom.xml` based on the supplied example, that imports a Hibernate dependency:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001 XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.reficio.rcp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;example-p2-site&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.5.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.reficio&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;p2-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;default-cli&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;artifacts&gt;\r\n    \t\t\t\t\t\t\t\t&lt;artifact&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;id&gt;org.hibernate:hibernate-entitymanager:5.4.28.Final&lt;/id&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/artifact&gt;\r\n    \t\t\t\t\t\t\t&lt;/artifacts&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI&#39;ve compiled this to a local p2 repository using `mvn clean p2:site`.\r\n\r\nAnd in my `target-platform.target` I&#39;ve then referenced it:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;?pde version=&quot;3.8&quot;?&gt;\r\n    &lt;target includeMode=&quot;feature&quot; name=&quot;Running Platform&quot;&gt;\r\n    \t&lt;locations&gt;\r\n    \t\t&lt;location includeAllPlatforms=&quot;false&quot; includeConfigurePhase=&quot;true&quot; includeMode=&quot;planner&quot; includeSource=&quot;true&quot; type=&quot;InstallableUnit&quot;&gt;\r\n    \t\t\t&lt;repository location=&quot;file:/path/to/p2/target/repository/&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;antlr&quot; version=&quot;2.7.7&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;com.fasterxml.classmate&quot; version=&quot;1.5.1&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;com.sun.istack.commons-runtime&quot; version=&quot;3.0.7&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;com.sun.xml.fastinfoset.FastInfoset&quot; version=&quot;1.2.15&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;javassist&quot; version=&quot;3.27.0.GA&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;javax.activation-api&quot; version=&quot;1.2.0&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;javax.persistence-api&quot; version=&quot;2.2.0&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;jaxb-api&quot; version=&quot;2.3.1&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;net.bytebuddy.byte-buddy&quot; version=&quot;1.10.17&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.dom4j&quot; version=&quot;2.1.3&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.glassfish.jaxb.runtime&quot; version=&quot;2.3.1&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.glassfish.jaxb.txw2&quot; version=&quot;2.3.1&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.hibernate.common.hibernate-commons-annotations&quot; version=&quot;5.1.2.Final&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.hibernate.entitymanager&quot; version=&quot;5.4.28.Final&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.hibernate.orm.core&quot; version=&quot;5.4.28.Final&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.jboss.jandex&quot; version=&quot;2.2.3.Final&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.jboss.logging.jboss-logging&quot; version=&quot;3.4.1.Final&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.jboss.spec.javax.transaction.jboss-transaction-api_1.2_spec&quot; version=&quot;1.1.1.Final&quot;/&gt;\r\n    \t\t\t&lt;unit id=&quot;org.jvnet.staxex.stax-ex&quot; version=&quot;1.8.0&quot;/&gt;\r\n    \t\t&lt;/location&gt;\r\n    \t&lt;/locations&gt;\r\n    &lt;/target&gt;\r\n\r\nBut when I resolve this, I get this error:\r\n\r\n    Problems occurred while resolving the target contents\r\n    \tCannot complete the install because one or more required items could not be found.\r\n    \t\tCannot satisfy dependency:\r\n    \t\t\tFrom: hibernate-core 5.4.28.Final (org.hibernate.orm.core 5.4.28.Final)\r\n    \t\t\tTo: java.package; javax.transaction [1.1.0,2.0.0)\r\n    \t\tMissing requirement: Java Transaction API 1.1.1.Final (org.jboss.spec.javax.transaction.jboss-transaction-api_1.2_spec 1.1.1.Final) requires &#39;java.package; javax.interceptor [1.2.0,2.0.0)&#39; but it could not be found\r\n    \t\tSoftware being installed: hibernate-core 5.4.28.Final (org.hibernate.orm.core 5.4.28.Final)\r\n\r\nWhat am I missing, please?","title":"p2-maven-plugin - &quot;missing requirement&quot; &quot;requires &#39;java.package; javax.interceptor [1.2.0,2.0.0)&#39; but it could not be found&quot;","body":"<p>I have a large Eclipse RCP application with lots of transitive dependencies.</p>\n<p>Currently, these are manually copied into the classpath but that's a significant administrative overhead I'd like to avoid, and would instead like to use <a href=\"https://github.com/reficio/p2-maven-plugin\" rel=\"nofollow noreferrer\">p2-maven-plugin</a>.</p>\n<p>I've created a simple <code>pom.xml</code> based on the supplied example, that imports a Hibernate dependency:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001 XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.reficio.rcp&lt;/groupId&gt;\n    &lt;artifactId&gt;example-p2-site&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.5.1-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.reficio&lt;/groupId&gt;\n                &lt;artifactId&gt;p2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;artifacts&gt;\n                                &lt;artifact&gt;\n                                    &lt;id&gt;org.hibernate:hibernate-entitymanager:5.4.28.Final&lt;/id&gt;\n                                &lt;/artifact&gt;\n                            &lt;/artifacts&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I've compiled this to a local p2 repository using <code>mvn clean p2:site</code>.</p>\n<p>And in my <code>target-platform.target</code> I've then referenced it:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;?pde version=&quot;3.8&quot;?&gt;\n&lt;target includeMode=&quot;feature&quot; name=&quot;Running Platform&quot;&gt;\n    &lt;locations&gt;\n        &lt;location includeAllPlatforms=&quot;false&quot; includeConfigurePhase=&quot;true&quot; includeMode=&quot;planner&quot; includeSource=&quot;true&quot; type=&quot;InstallableUnit&quot;&gt;\n            &lt;repository location=&quot;file:/path/to/p2/target/repository/&quot;/&gt;\n            &lt;unit id=&quot;antlr&quot; version=&quot;2.7.7&quot;/&gt;\n            &lt;unit id=&quot;com.fasterxml.classmate&quot; version=&quot;1.5.1&quot;/&gt;\n            &lt;unit id=&quot;com.sun.istack.commons-runtime&quot; version=&quot;3.0.7&quot;/&gt;\n            &lt;unit id=&quot;com.sun.xml.fastinfoset.FastInfoset&quot; version=&quot;1.2.15&quot;/&gt;\n            &lt;unit id=&quot;javassist&quot; version=&quot;3.27.0.GA&quot;/&gt;\n            &lt;unit id=&quot;javax.activation-api&quot; version=&quot;1.2.0&quot;/&gt;\n            &lt;unit id=&quot;javax.persistence-api&quot; version=&quot;2.2.0&quot;/&gt;\n            &lt;unit id=&quot;jaxb-api&quot; version=&quot;2.3.1&quot;/&gt;\n            &lt;unit id=&quot;net.bytebuddy.byte-buddy&quot; version=&quot;1.10.17&quot;/&gt;\n            &lt;unit id=&quot;org.dom4j&quot; version=&quot;2.1.3&quot;/&gt;\n            &lt;unit id=&quot;org.glassfish.jaxb.runtime&quot; version=&quot;2.3.1&quot;/&gt;\n            &lt;unit id=&quot;org.glassfish.jaxb.txw2&quot; version=&quot;2.3.1&quot;/&gt;\n            &lt;unit id=&quot;org.hibernate.common.hibernate-commons-annotations&quot; version=&quot;5.1.2.Final&quot;/&gt;\n            &lt;unit id=&quot;org.hibernate.entitymanager&quot; version=&quot;5.4.28.Final&quot;/&gt;\n            &lt;unit id=&quot;org.hibernate.orm.core&quot; version=&quot;5.4.28.Final&quot;/&gt;\n            &lt;unit id=&quot;org.jboss.jandex&quot; version=&quot;2.2.3.Final&quot;/&gt;\n            &lt;unit id=&quot;org.jboss.logging.jboss-logging&quot; version=&quot;3.4.1.Final&quot;/&gt;\n            &lt;unit id=&quot;org.jboss.spec.javax.transaction.jboss-transaction-api_1.2_spec&quot; version=&quot;1.1.1.Final&quot;/&gt;\n            &lt;unit id=&quot;org.jvnet.staxex.stax-ex&quot; version=&quot;1.8.0&quot;/&gt;\n        &lt;/location&gt;\n    &lt;/locations&gt;\n&lt;/target&gt;\n</code></pre>\n<p>But when I resolve this, I get this error:</p>\n<pre><code>Problems occurred while resolving the target contents\n    Cannot complete the install because one or more required items could not be found.\n        Cannot satisfy dependency:\n            From: hibernate-core 5.4.28.Final (org.hibernate.orm.core 5.4.28.Final)\n            To: java.package; javax.transaction [1.1.0,2.0.0)\n        Missing requirement: Java Transaction API 1.1.1.Final (org.jboss.spec.javax.transaction.jboss-transaction-api_1.2_spec 1.1.1.Final) requires 'java.package; javax.interceptor [1.2.0,2.0.0)' but it could not be found\n        Software being installed: hibernate-core 5.4.28.Final (org.hibernate.orm.core 5.4.28.Final)\n</code></pre>\n<p>What am I missing, please?</p>\n"},{"tags":["java","android","android-espresso","bytecode-manipulation","instrumented-test"],"answers":[{"tags":[],"owner":{"account_id":5150702,"reputation":381,"user_id":4125383,"display_name":"ceedee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657806434,"creation_date":1657806434,"answer_id":72981589,"question_id":72977765,"body_markdown":"I solved this by NOT requiring to derive from `AllureAndroidJUnitRunner`. Instead I added a separate manifest in the `debug` folder overriding `application:name` to the `TestApplication`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;de.xyz...&quot;&gt;\r\n\r\n    &lt;application\r\n        tools:replace=&quot;android:name&quot;\r\n        android:name=&quot;.TestApplication&quot;/&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nIt is required to put it into the `debug` folder since manifest merging will not take anything from `androidTest`.","title":"Exchange testInstrumentationRunner with a runner derived from class not available at compile time","body":"<p>I solved this by NOT requiring to derive from <code>AllureAndroidJUnitRunner</code>. Instead I added a separate manifest in the <code>debug</code> folder overriding <code>application:name</code> to the <code>TestApplication</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;de.xyz...&quot;&gt;\n\n    &lt;application\n        tools:replace=&quot;android:name&quot;\n        android:name=&quot;.TestApplication&quot;/&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>It is required to put it into the <code>debug</code> folder since manifest merging will not take anything from <code>androidTest</code>.</p>\n"}],"owner":{"account_id":5150702,"reputation":381,"user_id":4125383,"display_name":"ceedee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657806434,"creation_date":1657788535,"question_id":72977765,"body_markdown":"I want to use a custom `testInstrumentationRunner` for overriding the `newInstance` method in order to use a custom application:\r\n\r\n```\r\nclass UiTestJUnitRunner : AllureAndroidJUnitRunner() {\r\n\r\n    override fun newApplication(cl: ClassLoader, className: String, context: Context): Application {\r\n        return super.newApplication(cl, TestApplication::class.java.name, context)\r\n    }\r\n}\r\n```\r\nwhere that application is actually required to make the test execution work (since it skips some GDPR dialogs etc. at the startup):\r\n```\r\nclass TestApplication : CoreApplication() {\r\n\r\n    override fun initDebugInfo(): DebugInfo {\r\n\r\n        return DebugInfo.builder()\r\n            .disableSomeDialogs...()\r\n            .build()\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs you can see, I need to derive my `TestJUnitRunner` from `AllureAndroidJUnitRunner`. Unfortunately that `AllureAndroidJUnitRunner` is not available at compile time since it is a transitive dependency of another library I&#39;m using (Kaspresso).\r\n\r\nDuring execution of the tests the class is available on the classpath and can be instantiated by the test framework. So, I can actually get an instance using reflection at runtime.\r\n\r\nI&#39;ve tried several approaches like including the transitive dependency explictly (which results in a duplication and instances are created which don&#39;t know of each other), reflection combined with byte code manipulation (but didn&#39;t get it running properly), as well as creating a custom runner redirecting all package-private, protected and public methods to an instance of the required `testInstrumentationRunner` I&#39;ve created by reflection (which also didn&#39;t succeed).\r\n\r\nI&#39;d be happy, if anyone has experience in this and can assist!\r\n","title":"Exchange testInstrumentationRunner with a runner derived from class not available at compile time","body":"<p>I want to use a custom <code>testInstrumentationRunner</code> for overriding the <code>newInstance</code> method in order to use a custom application:</p>\n<pre><code>class UiTestJUnitRunner : AllureAndroidJUnitRunner() {\n\n    override fun newApplication(cl: ClassLoader, className: String, context: Context): Application {\n        return super.newApplication(cl, TestApplication::class.java.name, context)\n    }\n}\n</code></pre>\n<p>where that application is actually required to make the test execution work (since it skips some GDPR dialogs etc. at the startup):</p>\n<pre><code>class TestApplication : CoreApplication() {\n\n    override fun initDebugInfo(): DebugInfo {\n\n        return DebugInfo.builder()\n            .disableSomeDialogs...()\n            .build()\n    }\n}\n\n</code></pre>\n<p>As you can see, I need to derive my <code>TestJUnitRunner</code> from <code>AllureAndroidJUnitRunner</code>. Unfortunately that <code>AllureAndroidJUnitRunner</code> is not available at compile time since it is a transitive dependency of another library I'm using (Kaspresso).</p>\n<p>During execution of the tests the class is available on the classpath and can be instantiated by the test framework. So, I can actually get an instance using reflection at runtime.</p>\n<p>I've tried several approaches like including the transitive dependency explictly (which results in a duplication and instances are created which don't know of each other), reflection combined with byte code manipulation (but didn't get it running properly), as well as creating a custom runner redirecting all package-private, protected and public methods to an instance of the required <code>testInstrumentationRunner</code> I've created by reflection (which also didn't succeed).</p>\n<p>I'd be happy, if anyone has experience in this and can assist!</p>\n"},{"tags":["java","xml","spring","filenotfoundexception","ioexception"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1657806342,"post_id":72981559,"comment_id":128901905,"body_markdown":"Your code is attempting to load that file from the classpath. You are providing an absolute path to your file.","body":"Your code is attempting to load that file from the classpath. You are providing an absolute path to your file."},{"owner":{"account_id":20226258,"reputation":44,"user_id":14834051,"display_name":"Smit Chawda"},"score":0,"creation_date":1657806510,"post_id":72981559,"comment_id":128901980,"body_markdown":"I tried the f.getPath() and giving the direct file name like, \n\n&gt;new ClassPathXmlApplicationContext(&quot;spring.xml&quot;)\n\nbut nothing works.","body":"I tried the f.getPath() and giving the direct file name like,   &gt;new ClassPathXmlApplicationContext(&quot;spring.xml&quot;)  but nothing works."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1657806719,"post_id":72981559,"comment_id":128902072,"body_markdown":"It isn&#39;t a file it is a class path resource. Ditch the `src/main/resources` part (which is where it should be not in `src/main/java`. And just do `new ClassPathApplicationContext(&quot;spring.xml&quot;)`.","body":"It isn&#39;t a file it is a class path resource. Ditch the <code>src&#47;main&#47;resources</code> part (which is where it should be not in <code>src&#47;main&#47;java</code>. And just do <code>new ClassPathApplicationContext(&quot;spring.xml&quot;)</code>."},{"owner":{"account_id":20226258,"reputation":44,"user_id":14834051,"display_name":"Smit Chawda"},"score":0,"creation_date":1657807130,"post_id":72981559,"comment_id":128902224,"body_markdown":"@f1sh got it. Used FileSystemXmlApplciationContext, now it works. Thanks","body":"@f1sh got it. Used FileSystemXmlApplciationContext, now it works. Thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1657807725,"post_id":72981559,"comment_id":128902468,"body_markdown":"Don&#39;t use `FileSystemXmlApplication` in this case as it is part of the class path **not** the filesystem as soon as you package everything in a jar/war.","body":"Don&#39;t use <code>FileSystemXmlApplication</code> in this case as it is part of the class path <b>not</b> the filesystem as soon as you package everything in a jar/war."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1657807778,"post_id":72981559,"comment_id":128902485,"body_markdown":"However that way of managing exceptions is very bad: always use `printStackTrace()` instead of `System.out`.","body":"However that way of managing exceptions is very bad: always use <code>printStackTrace()</code> instead of <code>System.out</code>."},{"owner":{"account_id":20226258,"reputation":44,"user_id":14834051,"display_name":"Smit Chawda"},"score":0,"creation_date":1657809316,"post_id":72981559,"comment_id":128903117,"body_markdown":"@M.Deinum got it. Moved the xml file to resource, now it works. Thanks once again!","body":"@M.Deinum got it. Moved the xml file to resource, now it works. Thanks once again!"},{"owner":{"account_id":20226258,"reputation":44,"user_id":14834051,"display_name":"Smit Chawda"},"score":0,"creation_date":1657809390,"post_id":72981559,"comment_id":128903144,"body_markdown":"@Pino I just wanted to see if the code can look up for the file or not, it won&#39;t be the part of the final code. Thanks for the suggestion btw.","body":"@Pino I just wanted to see if the code can look up for the file or not, it won&#39;t be the part of the final code. Thanks for the suggestion btw."}],"owner":{"account_id":20226258,"reputation":44,"user_id":14834051,"display_name":"Smit Chawda"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657806251,"creation_date":1657806251,"question_id":72981559,"body_markdown":"I am trying to use a xml file in my Java project, I tried accessing the spring.xml file with a File \r\nobject to check if the code can find the file and can read it. The code is below:\r\n\r\n        File f = null; \r\n        try{\r\n\t\t\tSystem.out.println(&quot;File found&quot;);\r\n\t\t\tf = new File(&quot;src/main/java/spring.xml&quot;);\r\n\t\t\tif (f.exists()) {\r\n\t\t\t\tSystem.out.println(&quot;File exists&quot;);\r\n\t\t\t\tif (f.canRead()) {\r\n\t\t\t\t\tSystem.out.println(&quot;File is readable&quot;);\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tSystem.out.println(&quot;File not found&quot;);\r\n\t\t}\r\n\r\nThis returns:\r\n\r\n&gt; File found\r\n\r\n&gt; File exists\r\n\r\n&gt; File is readable\r\n\r\nBut when I try the code below,\r\n\r\n        ApplicationContext context = new ClassPathXmlApplicationContext(f.getAbsolutePath());\r\n\t\tVehicle v1 = (Vehicle) context.getBean(&quot;vehicle&quot;);\r\n\t\tv1.drive();\r\n\r\nIt gives me a FileNotFoundException, on **ClassPathXmlApplicationContext(f.getAbsolutePath())**.\r\n\r\n&gt; Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [C:/Users/Administrator/Desktop/Work/Java/Enterprise/my-maven-project/src/main/java/spring.xml]; nested exception is java.io.FileNotFoundException: class path resource [C:/Users/Administrator/Desktop/Work/Java/Enterprise/my-maven-project/src/main/java/spring.xml] cannot be opened because it does not exist","title":"FileNotFoundException even though the file is present","body":"<p>I am trying to use a xml file in my Java project, I tried accessing the spring.xml file with a File\nobject to check if the code can find the file and can read it. The code is below:</p>\n<pre><code>    File f = null; \n    try{\n        System.out.println(&quot;File found&quot;);\n        f = new File(&quot;src/main/java/spring.xml&quot;);\n        if (f.exists()) {\n            System.out.println(&quot;File exists&quot;);\n            if (f.canRead()) {\n                System.out.println(&quot;File is readable&quot;);\n            } \n        }\n    }\n    catch(Exception e) {\n        System.out.println(&quot;File not found&quot;);\n    }\n</code></pre>\n<p>This returns:</p>\n<blockquote>\n<p>File found</p>\n</blockquote>\n<blockquote>\n<p>File exists</p>\n</blockquote>\n<blockquote>\n<p>File is readable</p>\n</blockquote>\n<p>But when I try the code below,</p>\n<pre><code>    ApplicationContext context = new ClassPathXmlApplicationContext(f.getAbsolutePath());\n    Vehicle v1 = (Vehicle) context.getBean(&quot;vehicle&quot;);\n    v1.drive();\n</code></pre>\n<p>It gives me a FileNotFoundException, on <strong>ClassPathXmlApplicationContext(f.getAbsolutePath())</strong>.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [C:/Users/Administrator/Desktop/Work/Java/Enterprise/my-maven-project/src/main/java/spring.xml]; nested exception is java.io.FileNotFoundException: class path resource [C:/Users/Administrator/Desktop/Work/Java/Enterprise/my-maven-project/src/main/java/spring.xml] cannot be opened because it does not exist</p>\n</blockquote>\n"},{"tags":["java","arrays","enums","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1657797759,"post_id":72979254,"comment_id":128898479,"body_markdown":"Isn’t the winning condition to have four *consecutive* pieces of the same color? Your counter approach isn’t checking that at all. Besides that, `IntStream.rangeClosed(0, 6).boxed().toList().contains(col)` is a very convoluted and inefficient way to express `0 &lt;= col &amp;&amp; col &lt;= 6`","body":"Isn’t the winning condition to have four <i>consecutive</i> pieces of the same color? Your counter approach isn’t checking that at all. Besides that, <code>IntStream.rangeClosed(0, 6).boxed().toList().contains(col)</code> is a very convoluted and inefficient way to express <code>0 &lt;= col &amp;&amp; col &lt;= 6</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657806018,"creation_date":1657800537,"answer_id":72980253,"question_id":72979254,"body_markdown":"If I understood correctly, the winning condition the winning condition is when there are at least `4` consecutive non-empty cells having the same color.\r\n\r\nAnd these cells might be aligned either horizontally, vertically or diagonally. We can define a nested array representing each of these directions as a `static` field.\r\n\r\n    public static final int[][][] DIRECTIONS =\r\n        {{{0, -1}, {0, 1}},    // horizontal -\r\n         {{-1, 0}, {1, 0}},    // vertical |\r\n         {{-1, -1}, {1, 1}},   // diagonal \\\r\n         {{1, -1}, {-1, 1}}};  // diagonal /\r\n\r\nEach subarray in the `DIRECTIONS` array represents a shift which needs to be applied to the `row` and the `col` while &quot;moving&quot; in a particular direction backward (*&quot;left&quot; subarray*) and forward (*&quot;right&quot; subarray*).\r\n\r\nWhen the player makes a *move*, the state of the board changes and at the end of the move we need to check if there&#39;s a winning combination on the board. It makes sense to check only combinations of cell that start from the current cell (the cell changed by the player) because it&#39;s the only part of the board that has been changed.\r\n\r\nFor that, we need to move in every direction at most `3` cells further both to the &quot;left&quot; and to the &quot;right&quot; and check for every encountered cell whether such cell exists (coordinates are valid) and if the color of the next cell matches the color of the cell changed by the player. If the total of consecutive cell on the &quot;right&quot; and on the &quot;left&quot; is greater or equal to `3` (not `4` because the current cell also contributes the winning line) then the winning condition is meat.\r\n\r\nTo implement this logic, we can create a stream over the `DIRECTIONS` array and by using `anyMatch()` operation find out if there&#39;s at list one direction that gives a winning line.\r\n\r\nTo find the count of elements having the same color while examining a particular direction, we can use a combination of `takeWhile()` and `count()`.\r\n\r\nThat how it might look like:\r\n\r\n```\r\npublic class ColoredCells {\r\n    \r\n    public static final int[][][] DIRECTIONS =\r\n        {{{0, -1}, {0, 1}},    // horizontal -\r\n         {{-1, 0}, {1, 0}},    // vertical |\r\n         {{-1, -1}, {1, 1}},   // diagonal \\\r\n         {{1, -1}, {-1, 1}}};  // diagonal /\r\n    \r\n    private int width;\r\n    private int height;\r\n    private Zelle[][] board = new Zelle[width][height];\r\n    \r\n    // other properties, constractor, etc.\r\n    \r\n    public boolean isWinningMove(int row, int col) {\r\n        if (board[row][col] == Zelle.Empty) return false; // or `throw new IllegalStateException();`\r\n        \r\n        Zelle startCellColor = board[row][col];\r\n        \r\n        return Arrays.stream(DIRECTIONS).anyMatch(shifts -&gt;\r\n            countConsecutive(shifts, startCellColor, row, col) &gt;= 3\r\n        );\r\n    }\r\n    \r\n    public int countConsecutive(int[][] shifts, Zelle startCellColor, int row, int col) {\r\n        int leftCellsCount = getCount(shifts[0], startCellColor, row, col);\r\n        int rightCellsCount = getCount(shifts[0], startCellColor, row, col);\r\n        \r\n        return leftCellsCount + rightCellsCount;\r\n    }\r\n    \r\n    public int getCount(int[] shiftArr, Zelle startCellColor, int row, int col) {\r\n        \r\n        return (int) IntStream.rangeClosed(1, 3)\r\n            .takeWhile(i -&gt; {\r\n                int shiftedRow = applyShift(row, shiftArr[0], i);\r\n                int shiftedCol = applyShift(row, shiftArr[1], i);\r\n                return cellExists(shiftedRow, shiftedCol) &amp;&amp; hasSameColor(shiftedRow, shiftedCol, startCellColor);\r\n            })\r\n            .count();\r\n    }\r\n    \r\n    public int applyShift(int coordinate, int shift, int multiplier) {\r\n        return coordinate + shift * multiplier;\r\n    }\r\n    \r\n    public boolean cellExists(int shiftedRow, int shiftedCol) {\r\n        \r\n        return shiftedRow &gt;= 0 &amp;&amp; shiftedRow &lt; height\r\n            &amp;&amp; shiftedCol &gt;= 0 &amp;&amp; shiftedCol &lt; width;\r\n    }\r\n    \r\n    public boolean hasSameColor(int shiftedRow, int shiftedCol, Zelle startCellColor) {\r\n        \r\n        return board[shiftedRow][shiftedCol] == startCellColor;\r\n    }\r\n    \r\n    // other methods\r\n}\r\n```","title":"Check if there are at least 4 consecutive elements of the Same Color in the 2D array aligned either Horizontally, Vertically or Diagonally","body":"<p>If I understood correctly, the winning condition the winning condition is when there are at least <code>4</code> consecutive non-empty cells having the same color.</p>\n<p>And these cells might be aligned either horizontally, vertically or diagonally. We can define a nested array representing each of these directions as a <code>static</code> field.</p>\n<pre><code>public static final int[][][] DIRECTIONS =\n    {{{0, -1}, {0, 1}},    // horizontal -\n     {{-1, 0}, {1, 0}},    // vertical |\n     {{-1, -1}, {1, 1}},   // diagonal \\\n     {{1, -1}, {-1, 1}}};  // diagonal /\n</code></pre>\n<p>Each subarray in the <code>DIRECTIONS</code> array represents a shift which needs to be applied to the <code>row</code> and the <code>col</code> while &quot;moving&quot; in a particular direction backward (<em>&quot;left&quot; subarray</em>) and forward (<em>&quot;right&quot; subarray</em>).</p>\n<p>When the player makes a <em>move</em>, the state of the board changes and at the end of the move we need to check if there's a winning combination on the board. It makes sense to check only combinations of cell that start from the current cell (the cell changed by the player) because it's the only part of the board that has been changed.</p>\n<p>For that, we need to move in every direction at most <code>3</code> cells further both to the &quot;left&quot; and to the &quot;right&quot; and check for every encountered cell whether such cell exists (coordinates are valid) and if the color of the next cell matches the color of the cell changed by the player. If the total of consecutive cell on the &quot;right&quot; and on the &quot;left&quot; is greater or equal to <code>3</code> (not <code>4</code> because the current cell also contributes the winning line) then the winning condition is meat.</p>\n<p>To implement this logic, we can create a stream over the <code>DIRECTIONS</code> array and by using <code>anyMatch()</code> operation find out if there's at list one direction that gives a winning line.</p>\n<p>To find the count of elements having the same color while examining a particular direction, we can use a combination of <code>takeWhile()</code> and <code>count()</code>.</p>\n<p>That how it might look like:</p>\n<pre><code>public class ColoredCells {\n    \n    public static final int[][][] DIRECTIONS =\n        {{{0, -1}, {0, 1}},    // horizontal -\n         {{-1, 0}, {1, 0}},    // vertical |\n         {{-1, -1}, {1, 1}},   // diagonal \\\n         {{1, -1}, {-1, 1}}};  // diagonal /\n    \n    private int width;\n    private int height;\n    private Zelle[][] board = new Zelle[width][height];\n    \n    // other properties, constractor, etc.\n    \n    public boolean isWinningMove(int row, int col) {\n        if (board[row][col] == Zelle.Empty) return false; // or `throw new IllegalStateException();`\n        \n        Zelle startCellColor = board[row][col];\n        \n        return Arrays.stream(DIRECTIONS).anyMatch(shifts -&gt;\n            countConsecutive(shifts, startCellColor, row, col) &gt;= 3\n        );\n    }\n    \n    public int countConsecutive(int[][] shifts, Zelle startCellColor, int row, int col) {\n        int leftCellsCount = getCount(shifts[0], startCellColor, row, col);\n        int rightCellsCount = getCount(shifts[0], startCellColor, row, col);\n        \n        return leftCellsCount + rightCellsCount;\n    }\n    \n    public int getCount(int[] shiftArr, Zelle startCellColor, int row, int col) {\n        \n        return (int) IntStream.rangeClosed(1, 3)\n            .takeWhile(i -&gt; {\n                int shiftedRow = applyShift(row, shiftArr[0], i);\n                int shiftedCol = applyShift(row, shiftArr[1], i);\n                return cellExists(shiftedRow, shiftedCol) &amp;&amp; hasSameColor(shiftedRow, shiftedCol, startCellColor);\n            })\n            .count();\n    }\n    \n    public int applyShift(int coordinate, int shift, int multiplier) {\n        return coordinate + shift * multiplier;\n    }\n    \n    public boolean cellExists(int shiftedRow, int shiftedCol) {\n        \n        return shiftedRow &gt;= 0 &amp;&amp; shiftedRow &lt; height\n            &amp;&amp; shiftedCol &gt;= 0 &amp;&amp; shiftedCol &lt; width;\n    }\n    \n    public boolean hasSameColor(int shiftedRow, int shiftedCol, Zelle startCellColor) {\n        \n        return board[shiftedRow][shiftedCol] == startCellColor;\n    }\n    \n    // other methods\n}\n</code></pre>\n"}],"owner":{"account_id":25807211,"reputation":37,"user_id":19548581,"display_name":"blumentopf111"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657806018,"creation_date":1657795654,"question_id":72979254,"body_markdown":"I want to check the diagonal lines and horizontal lines of my 2D-enum-array. \r\n\r\nThe 2D-enum-array looks like this:\r\n\r\n    private Zelle[][] board = new Zelle[width][height];\r\n\r\nMy enum looks like this:\r\n     \r\n\r\n    public enum Zelle {\r\n            RED(&quot;RED   &quot;),\r\n            YELLOW(&quot;YELLOW&quot;),\r\n            Empty(&quot;EMPTY &quot;);\r\n    }\r\nThe function isConnect4() can already check the vertical lines.\r\n\r\n    public void isConnect4(int col) {\r\n        for (int i = 0; i &lt; height; i++) {\r\n            //vertical\r\n            switch (board[col][i]) {\r\n                case RED -&gt; --counter;\r\n                case YELLOW -&gt; ++counter;\r\n                case Empty -&gt; counter = 0;\r\n            }\r\n        }\r\n        if (Math.abs(counter) == 4  ) {\r\n            System.out.println(&quot;Es liegt ein Gewinner vor&quot;);\r\n            winner = true;\r\n        }\r\n    }\r\n\r\nI fill my 2d array with the `makeMove(int col)` method and always check if there is a winning line:\r\n\r\n    public void makeMove(int col) {\r\n        if (start &amp;&amp; !winner &amp;&amp; (IntStream.rangeClosed(0, 6).boxed().toList().contains(col))\r\n                &amp;&amp; board[col][0].equals(Zelle.Empty)) {\r\n            board[col][IntStream.rangeClosed(0, 6).map(i -&gt; 5 - i).\r\n                    filter(i -&gt; board[col][i].equals(Zelle.Empty)).findFirst().getAsInt()] = currentPlayer();\r\n            next();\r\n\r\n            System.out.println(printBoard());\r\n        } else if (!(board[col][0].equals(Zelle.Empty))) {\r\n            System.out.println(&quot;You cannot move there, please pick another Column&quot;);\r\n        } else if (!start){\r\n            System.out.println(&quot;Game has not started yet&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Game Over! Winner is: &quot; + currentplayer );\r\n        }\r\n        isConnect4(col);\r\n    }\r\n\r\nFor the horizontal, I need to get the current position and look 3 to the left and 3 to the right.\r\nFor the diagonal, I need to look into 4 different position:\r\nleft top, left bottom, right top and right bottom.\r\nMaybe something like this:\r\n\r\n    //pseudocode\r\n    //this for 4 different directions(left top, left bottom, right top and right bottom.)\r\n    for(int i = 0; i &lt;3; i++){\r\n        switch (board[col+i][currentPosition]) {\r\n            case RED -&gt; --counter;\r\n            case YELLOW -&gt; ++counter;\r\n            case Empty -&gt; counter = 0;\r\n        }\r\n\r\nWhat is the best approach for this? It would also be nice to use Streams (if that&#39;s possible).\r\n\r\n","title":"Check if there are at least 4 consecutive elements of the Same Color in the 2D array aligned either Horizontally, Vertically or Diagonally","body":"<p>I want to check the diagonal lines and horizontal lines of my 2D-enum-array.</p>\n<p>The 2D-enum-array looks like this:</p>\n<pre><code>private Zelle[][] board = new Zelle[width][height];\n</code></pre>\n<p>My enum looks like this:</p>\n<pre><code>public enum Zelle {\n        RED(&quot;RED   &quot;),\n        YELLOW(&quot;YELLOW&quot;),\n        Empty(&quot;EMPTY &quot;);\n}\n</code></pre>\n<p>The function isConnect4() can already check the vertical lines.</p>\n<pre><code>public void isConnect4(int col) {\n    for (int i = 0; i &lt; height; i++) {\n        //vertical\n        switch (board[col][i]) {\n            case RED -&gt; --counter;\n            case YELLOW -&gt; ++counter;\n            case Empty -&gt; counter = 0;\n        }\n    }\n    if (Math.abs(counter) == 4  ) {\n        System.out.println(&quot;Es liegt ein Gewinner vor&quot;);\n        winner = true;\n    }\n}\n</code></pre>\n<p>I fill my 2d array with the <code>makeMove(int col)</code> method and always check if there is a winning line:</p>\n<pre><code>public void makeMove(int col) {\n    if (start &amp;&amp; !winner &amp;&amp; (IntStream.rangeClosed(0, 6).boxed().toList().contains(col))\n            &amp;&amp; board[col][0].equals(Zelle.Empty)) {\n        board[col][IntStream.rangeClosed(0, 6).map(i -&gt; 5 - i).\n                filter(i -&gt; board[col][i].equals(Zelle.Empty)).findFirst().getAsInt()] = currentPlayer();\n        next();\n\n        System.out.println(printBoard());\n    } else if (!(board[col][0].equals(Zelle.Empty))) {\n        System.out.println(&quot;You cannot move there, please pick another Column&quot;);\n    } else if (!start){\n        System.out.println(&quot;Game has not started yet&quot;);\n    }\n    else {\n        System.out.println(&quot;Game Over! Winner is: &quot; + currentplayer );\n    }\n    isConnect4(col);\n}\n</code></pre>\n<p>For the horizontal, I need to get the current position and look 3 to the left and 3 to the right.\nFor the diagonal, I need to look into 4 different position:\nleft top, left bottom, right top and right bottom.\nMaybe something like this:</p>\n<pre><code>//pseudocode\n//this for 4 different directions(left top, left bottom, right top and right bottom.)\nfor(int i = 0; i &lt;3; i++){\n    switch (board[col+i][currentPosition]) {\n        case RED -&gt; --counter;\n        case YELLOW -&gt; ++counter;\n        case Empty -&gt; counter = 0;\n    }\n</code></pre>\n<p>What is the best approach for this? It would also be nice to use Streams (if that's possible).</p>\n"},{"tags":["java","postgresql","kotlin","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1657804146,"post_id":72979695,"comment_id":128900973,"body_markdown":"Turn on debug output so that the generated SQL is printed, then include it in your question","body":"Turn on debug output so that the generated SQL is printed, then include it in your question"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1657805362,"post_id":72979695,"comment_id":128901492,"body_markdown":"Thanks, I added the details to the question. Feel free to delete those comments (on stack overflow deleting comments happens quite often, and is encouraged to reduce noise)","body":"Thanks, I added the details to the question. Feel free to delete those comments (on stack overflow deleting comments happens quite often, and is encouraged to reduce noise)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1657827816,"post_id":72979695,"comment_id":128909457,"body_markdown":"Have you looked into pagination? An open ended query that fetches or can fetch everything from a database is always bound to run into issues unless you. limit the amount of data that can be returned. You have to look at the number of rows and the size/amount of the data in this rows.","body":"Have you looked into pagination? An open ended query that fetches or can fetch everything from a database is always bound to run into issues unless you. limit the amount of data that can be returned. You have to look at the number of rows and the size/amount of the data in this rows."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1657867426,"post_id":72979695,"comment_id":128916244,"body_markdown":"In addition to the above, consider *why* do you want to fetch so many records form the DB. What is the purpose of this operation? You may find that sometimes a different approach is much more appropriate. E.g. a more low-level solution with JDBC and cursors. I am not saying that this solution is the one you should follow, just prompting you to widen the space of possible solutions. Bringing this many records into memory will almost always lead to problems! Good luck!","body":"In addition to the above, consider <i>why</i> do you want to fetch so many records form the DB. What is the purpose of this operation? You may find that sometimes a different approach is much more appropriate. E.g. a more low-level solution with JDBC and cursors. I am not saying that this solution is the one you should follow, just prompting you to widen the space of possible solutions. Bringing this many records into memory will almost always lead to problems! Good luck!"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1657873689,"post_id":72979695,"comment_id":128917927,"body_markdown":"1) Why do you want to load so many records? 2) don&#39;t use distinct but group by to make the query run faster. With distinct the DB has to load all rows","body":"1) Why do you want to load so many records? 2) don&#39;t use distinct but group by to make the query run faster. With distinct the DB has to load all rows"}],"owner":{"account_id":11296020,"reputation":309,"user_id":8283522,"accept_rate":76,"display_name":"Pablo Mosby"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657805952,"creation_date":1657797650,"question_id":72979695,"body_markdown":"I want to retrieve all the distinct rows in MyClazz. There are 2 million total rows. After `distinct` they are filtered down to about 500K, but this depends on var1 (varchar) and var2 (int), which are IDs of the table.\r\n\r\nRunning this with Kotlin and PostgreSQL, we get an Out of Memory Exception.\r\nWould there be any better approach?\r\n\r\n&gt;     import org.springframework.data.jpa.repository.JpaRepository\r\n&gt;     import org.springframework.data.jpa.repository.Query\r\n&gt;     [...]\r\n&gt;     @Query(&quot;SELECT DISTINCT new MyClazzDAO(var1, var2) FROM MyClazz &quot;)\r\n&gt;     fun findDistinctModelsPerPlatform(): List&lt;MyClazzDAO&gt;","title":"Select Distinct DTO in 10 million records with JPA/JPQL","body":"<p>I want to retrieve all the distinct rows in MyClazz. There are 2 million total rows. After <code>distinct</code> they are filtered down to about 500K, but this depends on var1 (varchar) and var2 (int), which are IDs of the table.</p>\n<p>Running this with Kotlin and PostgreSQL, we get an Out of Memory Exception.\nWould there be any better approach?</p>\n<blockquote>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository\nimport org.springframework.data.jpa.repository.Query\n[...]\n@Query(&quot;SELECT DISTINCT new MyClazzDAO(var1, var2) FROM MyClazz &quot;)\nfun findDistinctModelsPerPlatform(): List&lt;MyClazzDAO&gt;\n</code></pre>\n</blockquote>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1657801224,"post_id":72980265,"comment_id":128899708,"body_markdown":"Can you show your `application.properties` where `mongoURI` is defined.","body":"Can you show your <code>application.properties</code> where <code>mongoURI</code> is defined."},{"owner":{"account_id":25807928,"reputation":13,"user_id":19549197,"display_name":"rando"},"score":0,"creation_date":1657802008,"post_id":72980265,"comment_id":128900004,"body_markdown":"Editing it into the question","body":"Editing it into the question"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1657802205,"post_id":72980265,"comment_id":128900090,"body_markdown":"`nornir.mongoURI ` is this name you used in application properties?","body":"<code>nornir.mongoURI </code> is this name you used in application properties?"},{"owner":{"account_id":25807928,"reputation":13,"user_id":19549197,"display_name":"rando"},"score":0,"creation_date":1657802349,"post_id":72980265,"comment_id":128900148,"body_markdown":"Err. More of me forgetting to edit the name before posting. I can confirm that it&#39;s pulling the correct variable from application.properties the first time","body":"Err. More of me forgetting to edit the name before posting. I can confirm that it&#39;s pulling the correct variable from application.properties the first time"},{"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"score":0,"creation_date":1657803202,"post_id":72980265,"comment_id":128900543,"body_markdown":"Is there a reason you don&#39;t use &quot;Spring Data MongoDB&quot; and instead configure the Mongo DB client yourself?","body":"Is there a reason you don&#39;t use &quot;Spring Data MongoDB&quot; and instead configure the Mongo DB client yourself?"},{"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"score":0,"creation_date":1657803299,"post_id":72980265,"comment_id":128900586,"body_markdown":"Also `getUserByAuth0ID` shows no code with interaction with mongo client. Please add the code for `getUser` and `createUserAccount` also","body":"Also <code>getUserByAuth0ID</code> shows no code with interaction with mongo client. Please add the code for <code>getUser</code> and <code>createUserAccount</code> also"},{"owner":{"account_id":25807928,"reputation":13,"user_id":19549197,"display_name":"rando"},"score":0,"creation_date":1657803454,"post_id":72980265,"comment_id":128900637,"body_markdown":"Um not really. I&#39;m new to mongoDB and this was what their guide said to do","body":"Um not really. I&#39;m new to mongoDB and this was what their guide said to do"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1657803746,"post_id":72980265,"comment_id":128900778,"body_markdown":"Does this answer your question? [java - Spring @Value annotation returns null](https://stackoverflow.com/questions/36534059/java-spring-value-annotation-returns-null)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36534059/java-spring-value-annotation-returns-null\">java - Spring @Value annotation returns null</a>"},{"owner":{"account_id":25807928,"reputation":13,"user_id":19549197,"display_name":"rando"},"score":0,"creation_date":1657804035,"post_id":72980265,"comment_id":128900919,"body_markdown":"@AshishPatil it does not, that&#39;s due to &#39;@value&#39; not working with static variable which I&#39;m not using.","body":"@AshishPatil it does not, that&#39;s due to &#39;@value&#39; not working with static variable which I&#39;m not using."},{"owner":{"account_id":25807928,"reputation":13,"user_id":19549197,"display_name":"rando"},"score":0,"creation_date":1657804045,"post_id":72980265,"comment_id":128900924,"body_markdown":"@jhueg I&#39;ve added the code to the question","body":"@jhueg I&#39;ve added the code to the question"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1657804211,"post_id":72980265,"comment_id":128901002,"body_markdown":"ok sure, will check , i have deleted my original answer as it doesn&#39;t validate your question","body":"ok sure, will check , i have deleted my original answer as it doesn&#39;t validate your question"},{"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"score":0,"creation_date":1657804548,"post_id":72980265,"comment_id":128901136,"body_markdown":"@rando then I would really recommend to use &quot;Spring Data MongoDB&quot; an let spring do all the configuration for you and use the handy &quot;repository&quot; it offers (they are aweseome). It is much less error prone. See a tutorial for it here: https://www.baeldung.com/spring-data-mongodb-tutorial","body":"@rando then I would really recommend to use &quot;Spring Data MongoDB&quot; an let spring do all the configuration for you and use the handy &quot;repository&quot; it offers (they are aweseome). It is much less error prone. See a tutorial for it here: <a href=\"https://www.baeldung.com/spring-data-mongodb-tutorial\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-mongodb-tutorial</a>"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1657804723,"post_id":72980265,"comment_id":128901226,"body_markdown":"@rando, i have added my additional answer which I think is the case","body":"@rando, i have added my additional answer which I think is the case"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657805500,"creation_date":1657802380,"answer_id":72980667,"question_id":72980265,"body_markdown":"Your `@Value` annotation has incorrect details of `mongoURI`.Either use ` @Value(&quot;${nornir.mongoURI}&quot;)` or change to `package.mongoURI` inside application.properties.\r\n\r\nEdit: \r\nIt is more likely you are calling `getUserByAuth0ID` manually something like --\r\n\r\n    DBConnectService service = new DBConnectService();\r\n    service.getUserByAuth0ID();\r\n\r\nBecause if mongoURI is coming as null, it means,  this method `getUserByAuth0ID` is not getting called via spring way, i.e. by autowiring `DBConnectService` &amp; then accessing this method; but rather it is getting called manually i.e. by manually creating object of `DBConnectService`.\r\n\r\nIf this is case, then it is obvious that your normal java object don&#39;t know about `@Value` annotation &amp; hence it is not setting any value.\r\n\r\n`@PostConstruct` will always works as it will get executed at startup when bean is getting created &amp; hence `@Value` is working properly there.\r\n\r\nTo fix this issue, make sure you have spring bean of `DBConnectService` &amp; you are accessing `getUserByAuth0ID` via that bean.\r\n\r\nEdit 2 : --\r\n\r\nBasic pseudo about how to use this in your calling class :\r\n\r\n    @Autowired\r\n    DBConnectService service;\r\n    \r\n    \r\n    public void yourdbMethod(){\r\n     service.getUserByAuth0ID();\r\n    }\r\n\r\n\r\n","title":"MongoURI @value variable is getting nulled","body":"<p>Your <code>@Value</code> annotation has incorrect details of <code>mongoURI</code>.Either use <code> @Value(&quot;${nornir.mongoURI}&quot;)</code> or change to <code>package.mongoURI</code> inside application.properties.</p>\n<p>Edit:\nIt is more likely you are calling <code>getUserByAuth0ID</code> manually something like --</p>\n<pre><code>DBConnectService service = new DBConnectService();\nservice.getUserByAuth0ID();\n</code></pre>\n<p>Because if mongoURI is coming as null, it means,  this method <code>getUserByAuth0ID</code> is not getting called via spring way, i.e. by autowiring <code>DBConnectService</code> &amp; then accessing this method; but rather it is getting called manually i.e. by manually creating object of <code>DBConnectService</code>.</p>\n<p>If this is case, then it is obvious that your normal java object don't know about <code>@Value</code> annotation &amp; hence it is not setting any value.</p>\n<p><code>@PostConstruct</code> will always works as it will get executed at startup when bean is getting created &amp; hence <code>@Value</code> is working properly there.</p>\n<p>To fix this issue, make sure you have spring bean of <code>DBConnectService</code> &amp; you are accessing <code>getUserByAuth0ID</code> via that bean.</p>\n<p>Edit 2 : --</p>\n<p>Basic pseudo about how to use this in your calling class :</p>\n<pre><code>@Autowired\nDBConnectService service;\n\n\npublic void yourdbMethod(){\n service.getUserByAuth0ID();\n}\n</code></pre>\n"}],"owner":{"account_id":25807928,"reputation":13,"user_id":19549197,"display_name":"rando"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72980667,"answer_count":1,"score":1,"last_activity_date":1657805500,"creation_date":1657800572,"question_id":72980265,"body_markdown":"In my code below, mongoURI initially pulls the correct URI string from application.properties, and connects to the database successfully. However, once I make a call to getUserByAuth0ID, I&#39;m getting a &quot;java.net.UnknownHostException: null: Name or service not known&quot; error and debug statements show that mongoURI is now set to null.\r\n\r\nWhat&#39;s going on? Nowhere in my code do I touch the value of mongoURI. My previous version of the code has mongoURI hardcoded as a variable and it runs with no issues.\r\n\r\n    @Service\r\n    public class DBConnectService {\r\n        private static MongoCollection&lt;User&gt; users;\r\n        private static Logger logger = LogManager.getLogger(DBConnectService.class);\r\n    \r\n        @Value(&quot;${package.mongoURI}&quot;)\r\n        private String mongoURI;\r\n        \r\n        /**     Opens a connection to mongodb for the length of the program operation        */\r\n        @PostConstruct\r\n        public void init() {\r\n            logger.info(&quot;Connecting to MongoDB&quot;);\r\n            try {\r\n                System.out.println (mongoURI);  // URI prints out correctly here\r\n                CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\n                CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n                MongoClientSettings clientSettings = MongoClientSettings.builder()\r\n                        .applyConnectionString(new ConnectionString(mongoURI))\r\n                        .codecRegistry(codecRegistry)\r\n                        .build();\r\n                \r\n                MongoClient mongoClient = MongoClients.create(clientSettings);\r\n                MongoDatabase database = mongoClient.getDatabase(&quot;db&quot;);\r\n                users = database.getCollection(&quot;users&quot;, User.class);\r\n            } catch(Exception e) {\r\n                logger.error(&quot;MongoDB connection failure:\\n&quot; + e);\r\n            }\r\n        }\r\n    \r\n        public User getUserByAuth0ID (String authID) {\r\n            System.out.println (mongoURI);  // URI prints out here as null\r\n            User user = getUser(authID, &quot;auth0ID&quot;);\r\n            if (user == null) {\r\n                user = createUserAccount(authID);\r\n            }\r\n            return user;\r\n        }\r\n\t\r\n        public static User getUser (String info, String field) {\r\n    \t\tUser user = users.find(eq(field, info)).first();\r\n    \t\treturn user; \r\n    \t}\r\n\r\n\t\tpublic static User createUserAccount (String authID) {\r\n\t\t\tJsonObject newUserInfo = Auth0Service.getUserInfo(authID);\r\n\t\t\t\r\n\t\t\tif (newUserInfo.get(&quot;email_verified&quot;).getAsBoolean()) {\r\n\t\t\t\t\r\n\t\t\t\tUser newUser = new User()\r\n\t\t\t\t\t\t.setEmail(newUserInfo.get(&quot;email&quot;).getAsString())\r\n\t\t\t\t\t\t.setName(newUserInfo.get(&quot;name&quot;).getAsString())\r\n\t\t\t\t\t\t.setAuth0ID(authID);\r\n\t\t\t\t\r\n\t\t\t\tusers.insertOne(newUser);\r\n\t\t\t\t\r\n\t\t\t\treturn newUser;\r\n\t\t\t} else {\r\n\t\t\t\tlogger.info (&quot;Email NOT verified&quot;);\r\n\t\t\t\t\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n-----\r\n\r\nApplication.properties line:\r\n\r\n    #\t\t--- MongoDB ---\r\n    package.mongoURI = mongodb+srv://admin:secretURL/?retryWrites=true&amp;w=majority\r\n\r\n-----\r\n","title":"MongoURI @value variable is getting nulled","body":"<p>In my code below, mongoURI initially pulls the correct URI string from application.properties, and connects to the database successfully. However, once I make a call to getUserByAuth0ID, I'm getting a &quot;java.net.UnknownHostException: null: Name or service not known&quot; error and debug statements show that mongoURI is now set to null.</p>\n<p>What's going on? Nowhere in my code do I touch the value of mongoURI. My previous version of the code has mongoURI hardcoded as a variable and it runs with no issues.</p>\n<pre><code>@Service\npublic class DBConnectService {\n    private static MongoCollection&lt;User&gt; users;\n    private static Logger logger = LogManager.getLogger(DBConnectService.class);\n\n    @Value(&quot;${package.mongoURI}&quot;)\n    private String mongoURI;\n    \n    /**     Opens a connection to mongodb for the length of the program operation        */\n    @PostConstruct\n    public void init() {\n        logger.info(&quot;Connecting to MongoDB&quot;);\n        try {\n            System.out.println (mongoURI);  // URI prints out correctly here\n            CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\n            CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n            MongoClientSettings clientSettings = MongoClientSettings.builder()\n                    .applyConnectionString(new ConnectionString(mongoURI))\n                    .codecRegistry(codecRegistry)\n                    .build();\n            \n            MongoClient mongoClient = MongoClients.create(clientSettings);\n            MongoDatabase database = mongoClient.getDatabase(&quot;db&quot;);\n            users = database.getCollection(&quot;users&quot;, User.class);\n        } catch(Exception e) {\n            logger.error(&quot;MongoDB connection failure:\\n&quot; + e);\n        }\n    }\n\n    public User getUserByAuth0ID (String authID) {\n        System.out.println (mongoURI);  // URI prints out here as null\n        User user = getUser(authID, &quot;auth0ID&quot;);\n        if (user == null) {\n            user = createUserAccount(authID);\n        }\n        return user;\n    }\n\n    public static User getUser (String info, String field) {\n        User user = users.find(eq(field, info)).first();\n        return user; \n    }\n\n    public static User createUserAccount (String authID) {\n        JsonObject newUserInfo = Auth0Service.getUserInfo(authID);\n        \n        if (newUserInfo.get(&quot;email_verified&quot;).getAsBoolean()) {\n            \n            User newUser = new User()\n                    .setEmail(newUserInfo.get(&quot;email&quot;).getAsString())\n                    .setName(newUserInfo.get(&quot;name&quot;).getAsString())\n                    .setAuth0ID(authID);\n            \n            users.insertOne(newUser);\n            \n            return newUser;\n        } else {\n            logger.info (&quot;Email NOT verified&quot;);\n            \n            return null;\n        }\n    }\n</code></pre>\n<hr />\n<p>Application.properties line:</p>\n<pre><code>#       --- MongoDB ---\npackage.mongoURI = mongodb+srv://admin:secretURL/?retryWrites=true&amp;w=majority\n</code></pre>\n<hr />\n"},{"tags":["java","json","jackson","inputstream"],"comments":[{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":1,"creation_date":1408567923,"post_id":25414007,"comment_id":39644144,"body_markdown":"some code involved? input stream is file? web page?","body":"some code involved? input stream is file? web page?"},{"owner":{"account_id":4864382,"reputation":279,"user_id":3923124,"accept_rate":0,"display_name":"user3923124"},"score":0,"creation_date":1408585616,"post_id":25414007,"comment_id":39649396,"body_markdown":"input stream is S3 bucket, but that&#39;s not relevant because it could be anything in the future.","body":"input stream is S3 bucket, but that&#39;s not relevant because it could be anything in the future."},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":1,"creation_date":1408630393,"post_id":25414007,"comment_id":39669958,"body_markdown":"any relevant piece of code? In java may be Decorator pattern can help you http://www.cs.sjsu.edu/~pearce/modules/cases/uw/decorator.htm","body":"any relevant piece of code? In java may be Decorator pattern can help you <a href=\"http://www.cs.sjsu.edu/~pearce/modules/cases/uw/decorator.htm\" rel=\"nofollow noreferrer\">cs.sjsu.edu/~pearce/modules/cases/uw/decorator.htm</a>"},{"owner":{"account_id":1097106,"reputation":1744,"user_id":1090474,"accept_rate":100,"display_name":"Kenny Linsky"},"score":1,"creation_date":1444149760,"post_id":25414007,"comment_id":53775529,"body_markdown":"What&#39;s the exception you&#39;re getting from Jackson? Are you logging that?","body":"What&#39;s the exception you&#39;re getting from Jackson? Are you logging that?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657805450,"creation_date":1657805450,"answer_id":72981371,"question_id":25414007,"body_markdown":"I assume that you are already logging the exceptions and stacktraces that you are getting, and that they are not providing enough context to track down the problems.\r\n\r\nJackson doesn&#39;t have any internal logging that you could &quot;tap into&quot;.  \r\n\r\nSo to log the JSON input line by line, you will need to write (or find) an `InputStream` or `Reader` that wraps your source `InputStream` or `Reader` and logs each line that is read.   Here are a couple of examples that you may be able to use:\r\n\r\n  - https://stackoverflow.com/a/34955334/139985\r\n  - https://stackoverflow.com/questions/42907781\r\n\r\n\r\n","title":"How to log JSON deserialization in Jackson","body":"<p>I assume that you are already logging the exceptions and stacktraces that you are getting, and that they are not providing enough context to track down the problems.</p>\n<p>Jackson doesn't have any internal logging that you could &quot;tap into&quot;.</p>\n<p>So to log the JSON input line by line, you will need to write (or find) an <code>InputStream</code> or <code>Reader</code> that wraps your source <code>InputStream</code> or <code>Reader</code> and logs each line that is read.   Here are a couple of examples that you may be able to use:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/34955334/139985\">https://stackoverflow.com/a/34955334/139985</a></li>\n<li><a href=\"https://stackoverflow.com/questions/42907781\">Logging everything that goes through an InputStream</a></li>\n</ul>\n"}],"owner":{"account_id":4864382,"reputation":279,"user_id":3923124,"accept_rate":0,"display_name":"user3923124"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2432,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1657805503,"answer_count":1,"score":9,"last_activity_date":1657805450,"creation_date":1408567098,"question_id":25414007,"body_markdown":"I have a piece of code that is reading JSON data from an input stream and converting it to POJOs (using Jackson).  Sometimes, the data will fail to deserialize and it&#39;s difficult to troubleshoot.  What would be a good mechanism to see the line-by-line input stream in log4j?  Are there other tools/techniques that can help the troubleshooting?","title":"How to log JSON deserialization in Jackson","body":"<p>I have a piece of code that is reading JSON data from an input stream and converting it to POJOs (using Jackson).  Sometimes, the data will fail to deserialize and it's difficult to troubleshoot.  What would be a good mechanism to see the line-by-line input stream in log4j?  Are there other tools/techniques that can help the troubleshooting?</p>\n"},{"tags":["java","spring-boot","redis"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657823111,"post_id":72981332,"comment_id":128908003,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1658894318,"post_id":72981332,"comment_id":129162564,"body_markdown":"Hey are you using https://github.com/sonus21/rqueue ?","body":"Hey are you using <a href=\"https://github.com/sonus21/rqueue\" rel=\"nofollow noreferrer\">github.com/sonus21/rqueue</a> ?"}],"owner":{"account_id":25234943,"reputation":1,"user_id":19069596,"display_name":"The Freelancers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657805266,"creation_date":1657805266,"question_id":72981332,"body_markdown":"I am facing an issue when trying to enqueue a huge amount of messages with rqueue. My concern is that even though all jobs are processed successfuly, they are not discarded from redis (I suppose they will be discared based their ttl). My main problem is that as data are increasing the process becomes slower. I suppose since I want to enqueue around 300k messages, all these jobs will wait to be discarded when ttl finished. Is there any option to discard these jobs after their completion without waiting this ttl, or speedup the clean up mechanism?\r\n","title":"Rqueue Completed Jobs","body":"<p>I am facing an issue when trying to enqueue a huge amount of messages with rqueue. My concern is that even though all jobs are processed successfuly, they are not discarded from redis (I suppose they will be discared based their ttl). My main problem is that as data are increasing the process becomes slower. I suppose since I want to enqueue around 300k messages, all these jobs will wait to be discarded when ttl finished. Is there any option to discard these jobs after their completion without waiting this ttl, or speedup the clean up mechanism?</p>\n"},{"tags":["java","spring","hibernate","jboss","log4j2"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1657923035,"post_id":72981312,"comment_id":128933296,"body_markdown":"&quot;I have added log4j-api-2.18.0.jar and log4j-core-2.18.0.jar in lib folders of application sub-modules and also updated the classpath&quot; -&gt; What do you mean by this?","body":"&quot;I have added log4j-api-2.18.0.jar and log4j-core-2.18.0.jar in lib folders of application sub-modules and also updated the classpath&quot; -&gt; What do you mean by this?"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1658017870,"post_id":72981312,"comment_id":128947303,"body_markdown":"@JamesR.Perkins it&#39;s simple there is a parent application in which there are some sub modules so in all modules wherever the older dependency of log4j1 was there I removed that and added log4j2-api-2.18.0.jar and log4j-core-2.18.0.jar and update the classpath means when we import project in eclipse or sts there is a .classpath which have all the dependencies listed which are in the classpath so I mean that classpath .. hope this answers your question ..","body":"@JamesR.Perkins it&#39;s simple there is a parent application in which there are some sub modules so in all modules wherever the older dependency of log4j1 was there I removed that and added log4j2-api-2.18.0.jar and log4j-core-2.18.0.jar and update the classpath means when we import project in eclipse or sts there is a .classpath which have all the dependencies listed which are in the classpath so I mean that classpath .. hope this answers your question .."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1658162325,"post_id":72981312,"comment_id":128977699,"body_markdown":"I&#39;m still not sure I understand the structure. Is this an EAR with modules? Like `EAR/some.war`, `EAR/some.jar`?","body":"I&#39;m still not sure I understand the structure. Is this an EAR with modules? Like <code>EAR&#47;some.war</code>, <code>EAR&#47;some.jar</code>?"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1658209068,"post_id":72981312,"comment_id":128987740,"body_markdown":"Yes its a war which contains all other sub-modules jars and third party jars","body":"Yes its a war which contains all other sub-modules jars and third party jars"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1658260826,"post_id":72981312,"comment_id":129006701,"body_markdown":"Ah okay so everything is in the `WAR/WEB-INF/lib`? Those are not sub-modules in the case of WildFly BTW.","body":"Ah okay so everything is in the <code>WAR&#47;WEB-INF&#47;lib</code>? Those are not sub-modules in the case of WildFly BTW."}],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657805192,"creation_date":1657805192,"question_id":72981312,"body_markdown":"I am getting **java.lang.NoClassDefFoundError: org/apache/logging/log4j/Logger** error while running my spring application war in jboss-6.4. I have added **log4j-api-2.18.0.jar** and **log4j-core-2.18.0.jar** in lib folders of application sub-modules and also updated the classpath. Its a ant based old application. Below is the stacktrace for the same :\r\n\r\n  ```\r\n18:39:01,261 INFO  [org.springframework.orm.hibernate3.LocalSessionFactoryBean] (ServerService Thread Pool -- 55) Closing Hibernate SessionFactory\r\n18:39:01,269 INFO  [org.hibernate.impl.SessionFactoryImpl] (ServerService Thread Pool -- 55) closing\r\n18:39:01,272 ERROR [org.springframework.web.context.ContextLoader] (ServerService Thread Pool -- 55) Context initialization failed: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSrcRepositoryService&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: org/apache/logging/log4j/Logger\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527) [org.springframework.beans-3.0.6.RELEASE.jar:3.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456) [org.springframework.beans-3.0.6.RELEASE.jar:3.0.6.RELEASE]\r\n```\r\nDoes Spring 3 supports log4j2 or do I need to update to spring higher version or change anything to make this work ?","title":"NoClassDefFoundError while migrating spring 3 application from log4j1 to log4j2","body":"<p>I am getting <strong>java.lang.NoClassDefFoundError: org/apache/logging/log4j/Logger</strong> error while running my spring application war in jboss-6.4. I have added <strong>log4j-api-2.18.0.jar</strong> and <strong>log4j-core-2.18.0.jar</strong> in lib folders of application sub-modules and also updated the classpath. Its a ant based old application. Below is the stacktrace for the same :</p>\n<pre><code>18:39:01,261 INFO  [org.springframework.orm.hibernate3.LocalSessionFactoryBean] (ServerService Thread Pool -- 55) Closing Hibernate SessionFactory\n18:39:01,269 INFO  [org.hibernate.impl.SessionFactoryImpl] (ServerService Thread Pool -- 55) closing\n18:39:01,272 ERROR [org.springframework.web.context.ContextLoader] (ServerService Thread Pool -- 55) Context initialization failed: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSrcRepositoryService' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: org/apache/logging/log4j/Logger\n      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527) [org.springframework.beans-3.0.6.RELEASE.jar:3.0.6.RELEASE]\n      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456) [org.springframework.beans-3.0.6.RELEASE.jar:3.0.6.RELEASE]\n</code></pre>\n<p>Does Spring 3 supports log4j2 or do I need to update to spring higher version or change anything to make this work ?</p>\n"},{"tags":["java","kotlin","interface","field"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1657801492,"post_id":72980389,"comment_id":128899826,"body_markdown":"You mention subclassing. Where is subclassing involved?","body":"You mention subclassing. Where is subclassing involved?"},{"owner":{"account_id":25807987,"reputation":63,"user_id":19549245,"display_name":"OffeeX"},"score":0,"creation_date":1657802082,"post_id":72980389,"comment_id":128900027,"body_markdown":"oh, im sorry, forgot to add &quot;implement&quot;","body":"oh, im sorry, forgot to add &quot;implement&quot;"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1657804685,"post_id":72980389,"comment_id":128901206,"body_markdown":"You can&#39;t just use `cPlayer` in Java; you have to specify the interface explicitly, i.e. `Globals.cPlayer`. Same in Kotlin.","body":"You can&#39;t just use <code>cPlayer</code> in Java; you have to specify the interface explicitly, i.e. <code>Globals.cPlayer</code>. Same in Kotlin."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1657805093,"post_id":72980389,"comment_id":128901377,"body_markdown":"@k314159 Well, you could just use `cPlayer` if it were a static field in Java rather than a getter method. But since in Kotlin properties are really functions and not fields, the pattern doesn&#39;t translate to Kotlin.","body":"@k314159 Well, you could just use <code>cPlayer</code> if it were a static field in Java rather than a getter method. But since in Kotlin properties are really functions and not fields, the pattern doesn&#39;t translate to Kotlin."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1657805157,"post_id":72980389,"comment_id":128901400,"body_markdown":"@Tenfour04 I disagree: this one compiles: https://ideone.com/hyMas0 and this one doesn&#39;t: https://ideone.com/yjxpxi","body":"@Tenfour04 I disagree: this one compiles: <a href=\"https://ideone.com/hyMas0\" rel=\"nofollow noreferrer\">ideone.com/hyMas0</a> and this one doesn&#39;t: <a href=\"https://ideone.com/yjxpxi\" rel=\"nofollow noreferrer\">ideone.com/yjxpxi</a>"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1657805190,"post_id":72980389,"comment_id":128901411,"body_markdown":"@k314159 I&#39;m talking about fields, not methods. Sorry, I think I edited my comment to clarify while you were making the example.","body":"@k314159 I&#39;m talking about fields, not methods. Sorry, I think I edited my comment to clarify while you were making the example."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1657805232,"post_id":72980389,"comment_id":128901428,"body_markdown":"Ah, yes I see - I saw the properties in the code above and thought about functions, which is what properties are.","body":"Ah, yes I see - I saw the properties in the code above and thought about functions, which is what properties are."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1657805317,"post_id":72980389,"comment_id":128901469,"body_markdown":"In any case, this looks like bad design. It is similar to the [constant interface antipattern](https://en.wikipedia.org/wiki/Constant_interface) and should be avoided.","body":"In any case, this looks like bad design. It is similar to the <a href=\"https://en.wikipedia.org/wiki/Constant_interface\" rel=\"nofollow noreferrer\">constant interface antipattern</a> and should be avoided."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657805019,"creation_date":1657805019,"answer_id":72981272,"question_id":72980389,"body_markdown":"I&#39;m pretty sure there&#39;s no way to do this in Kotlin.\r\n\r\nThe closest I think you could get is to define your global stuff at the top level in its own package, and then import that package`.*` in files where you want to access them.\r\n\r\n```\r\npackage com.foo.globals\r\n\r\nval mc get() = Bloomware.mc\r\nval cPlayer get() = mc.player!!\r\nval cWorld get() = mc.world!!\r\n\r\nfun sendPacket(p: Packet&lt;*&gt;?) {\r\n    mc.networkHandler!!.sendPacket(p)\r\n}\r\n```\r\n```\r\nimport com.foo.globals.*\r\n\r\nobject ResourceCancel : Module() {\r\n    @Subscribe\r\n    private fun onPacketSend(event: EventPacket.Send) {\r\n        cPlayer.jump() // call this\r\n}\r\n```\r\n\r\n","title":"Reference field in the Interface subclass (Kotlin)","body":"<p>I'm pretty sure there's no way to do this in Kotlin.</p>\n<p>The closest I think you could get is to define your global stuff at the top level in its own package, and then import that package<code>.*</code> in files where you want to access them.</p>\n<pre><code>package com.foo.globals\n\nval mc get() = Bloomware.mc\nval cPlayer get() = mc.player!!\nval cWorld get() = mc.world!!\n\nfun sendPacket(p: Packet&lt;*&gt;?) {\n    mc.networkHandler!!.sendPacket(p)\n}\n</code></pre>\n<pre><code>import com.foo.globals.*\n\nobject ResourceCancel : Module() {\n    @Subscribe\n    private fun onPacketSend(event: EventPacket.Send) {\n        cPlayer.jump() // call this\n}\n</code></pre>\n"}],"owner":{"account_id":25807987,"reputation":63,"user_id":19549245,"display_name":"OffeeX"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72981272,"answer_count":1,"score":1,"last_activity_date":1657805019,"creation_date":1657801182,"question_id":72980389,"body_markdown":"Is there a possible way to reference interface&#39;s static field in the class, which implements interface without importing, or calling referencing to interface explicitly.\r\n\r\nI want to do like this:\r\n\r\n    interface Globals {\r\n        companion object {\r\n            val mc get() = Bloomware.mc\r\n            val cPlayer get() = mc.player!!\r\n            val cWorld get() = mc.world!!\r\n    \r\n            fun sendPacket(p: Packet&lt;*&gt;?) {\r\n                mc.networkHandler!!.sendPacket(p)\r\n            }\r\n        }\r\n    }\r\n\r\n(Class user)\r\n\r\n    object ResourceCancel : Module(), Globals {\r\n        @Subscribe\r\n        private fun onPacketSend(event: EventPacket.Send) {\r\n            cPlayer.jump() // call this\r\n    }\r\n\r\nI know it&#39;s possible in Java, but i can&#39;t repeat the same in Kotlin","title":"Reference field in the Interface subclass (Kotlin)","body":"<p>Is there a possible way to reference interface's static field in the class, which implements interface without importing, or calling referencing to interface explicitly.</p>\n<p>I want to do like this:</p>\n<pre><code>interface Globals {\n    companion object {\n        val mc get() = Bloomware.mc\n        val cPlayer get() = mc.player!!\n        val cWorld get() = mc.world!!\n\n        fun sendPacket(p: Packet&lt;*&gt;?) {\n            mc.networkHandler!!.sendPacket(p)\n        }\n    }\n}\n</code></pre>\n<p>(Class user)</p>\n<pre><code>object ResourceCancel : Module(), Globals {\n    @Subscribe\n    private fun onPacketSend(event: EventPacket.Send) {\n        cPlayer.jump() // call this\n}\n</code></pre>\n<p>I know it's possible in Java, but i can't repeat the same in Kotlin</p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1657804437,"post_id":72981088,"comment_id":128901103,"body_markdown":"How about `super(validationMethod(parameter))`?","body":"How about <code>super(validationMethod(parameter))</code>?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1657805764,"post_id":72981088,"comment_id":128901659,"body_markdown":"You can also simply do the validation after the call to the super constructor. It will still prevent the object from being successfully instantiated.","body":"You can also simply do the validation after the call to the super constructor. It will still prevent the object from being successfully instantiated."},{"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"score":0,"creation_date":1657807937,"post_id":72981088,"comment_id":128902558,"body_markdown":"Hm, that sounds interesting","body":"Hm, that sounds interesting"},{"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"score":0,"creation_date":1657808412,"post_id":72981088,"comment_id":128902762,"body_markdown":"I think it&#39;ll be useful for me","body":"I think it&#39;ll be useful for me"},{"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"score":0,"creation_date":1657808557,"post_id":72981088,"comment_id":128902811,"body_markdown":"But my parent class don&#39;t need this parameter, this parameter uses in only child class","body":"But my parent class don&#39;t need this parameter, this parameter uses in only child class"}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657804731,"creation_date":1657804731,"answer_id":72981197,"question_id":72981088,"body_markdown":"This is a long-time limitation of Java. The (well-intentioned) restriction that you have to call `super` *first thing* in the constructor causes problems like these frequently.\r\n\r\nAs mentioned in the comments, you can call other functions in the *arguments* of the `super` call which will be evaluated first, so you can get around this problem with a `static` helper function\r\n\r\n    public Foobar(int argument) {\r\n      super(validateArgument(argument));\r\n      // ...\r\n    }\r\n\r\n    private static int validateArgument(int argument) {\r\n      if (argument &gt;= 0) {\r\n        return argument;\r\n      } else {\r\n        throw new RuntimeException(&quot;Arguments to Foobars can&#39;t be negative!&quot;);\r\n      }\r\n    }","title":"Why I can&#39;t throw an exception in child class before calling super()?","body":"<p>This is a long-time limitation of Java. The (well-intentioned) restriction that you have to call <code>super</code> <em>first thing</em> in the constructor causes problems like these frequently.</p>\n<p>As mentioned in the comments, you can call other functions in the <em>arguments</em> of the <code>super</code> call which will be evaluated first, so you can get around this problem with a <code>static</code> helper function</p>\n<pre><code>public Foobar(int argument) {\n  super(validateArgument(argument));\n  // ...\n}\n\nprivate static int validateArgument(int argument) {\n  if (argument &gt;= 0) {\n    return argument;\n  } else {\n    throw new RuntimeException(&quot;Arguments to Foobars can't be negative!&quot;);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657804861,"creation_date":1657804861,"answer_id":72981228,"question_id":72981088,"body_markdown":"The call to `super` must be the first statement in a constructor. I believe this restriction was enforced because it was deemed less prone to bugs with regards to uninitialized values. e.g. \r\n\r\n    class Super {\r\n        protected String foo;\r\n        protected String bar;\r\n\r\n        Super(String foo) {\r\n            this.foo = foo;\r\n            this.bar = &quot;bar&quot;;\r\n        }\r\n    }\r\n    \r\n    class Child extends Super {\r\n        Child() {\r\n            // not valid java. Foo is not initialized yet \r\n            if (foo.length() == 1) { throw new RuntimeException(); }\r\n\r\n            // perhaps more insidious, since bar is not passed to super\r\n            System.out.println(this.bar);\r\n            super(&quot;foo&quot;);\r\n        }\r\n    }","title":"Why I can&#39;t throw an exception in child class before calling super()?","body":"<p>The call to <code>super</code> must be the first statement in a constructor. I believe this restriction was enforced because it was deemed less prone to bugs with regards to uninitialized values. e.g.</p>\n<pre><code>class Super {\n    protected String foo;\n    protected String bar;\n\n    Super(String foo) {\n        this.foo = foo;\n        this.bar = &quot;bar&quot;;\n    }\n}\n\nclass Child extends Super {\n    Child() {\n        // not valid java. Foo is not initialized yet \n        if (foo.length() == 1) { throw new RuntimeException(); }\n\n        // perhaps more insidious, since bar is not passed to super\n        System.out.println(this.bar);\n        super(&quot;foo&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657806531,"answer_count":2,"score":0,"last_activity_date":1657804861,"creation_date":1657804306,"question_id":72981088,"body_markdown":"I have two classes, first is a parent class, second is a child class. \r\nIn the child class I want to check a parameter in its constructor before calling super() because the parameter in the constructor isn&#39;t linked with the parent class. \r\nIf the check fails, I&#39;ll throw an exception.\r\nI got this error message: &quot;Call to &#39;super()&#39; must be first statement in constructor body&quot;.\r\nWhy I can&#39;t do that? Is it possible? \r\nI don&#39;t want to initialize the parent class because the child class isn&#39;t be initialized, it throw an exception in its constructor. ","title":"Why I can&#39;t throw an exception in child class before calling super()?","body":"<p>I have two classes, first is a parent class, second is a child class.\nIn the child class I want to check a parameter in its constructor before calling super() because the parameter in the constructor isn't linked with the parent class.\nIf the check fails, I'll throw an exception.\nI got this error message: &quot;Call to 'super()' must be first statement in constructor body&quot;.\nWhy I can't do that? Is it possible?\nI don't want to initialize the parent class because the child class isn't be initialized, it throw an exception in its constructor.</p>\n"},{"tags":["java","oracle","hibernate"],"answers":[{"tags":[],"owner":{"account_id":6075248,"reputation":11,"user_id":4742827,"display_name":"Lockerbee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657804415,"creation_date":1657803917,"answer_id":72981006,"question_id":69362623,"body_markdown":"Ok i finally found the cause. Thanks to [this](https://stackoverflow.com/questions/31440496/hibernate-spatial-5-geometrytype) Post from @Paulito.Bandito. Apparently the **versions** for **hibernate-spatial** and **hibernate-commons-annotations** need to be **identical** to be able to persist vividsolution objects (In my case 5.1.2.Final).\r\n\r\nI also had to change the entity to:\r\n\r\n    @XmlTransient\r\n\t@Column(name = &quot;SHAPE&quot;)\r\n\tprivate MultiPolygon shape;","title":"Save vividsolutions.jts.geom.Polygonal attribute with hibernate 5","body":"<p>Ok i finally found the cause. Thanks to <a href=\"https://stackoverflow.com/questions/31440496/hibernate-spatial-5-geometrytype\">this</a> Post from @Paulito.Bandito. Apparently the <strong>versions</strong> for <strong>hibernate-spatial</strong> and <strong>hibernate-commons-annotations</strong> need to be <strong>identical</strong> to be able to persist vividsolution objects (In my case 5.1.2.Final).</p>\n<p>I also had to change the entity to:</p>\n<pre><code>@XmlTransient\n@Column(name = &quot;SHAPE&quot;)\nprivate MultiPolygon shape;\n</code></pre>\n"}],"owner":{"account_id":6075248,"reputation":11,"user_id":4742827,"display_name":"Lockerbee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72981006,"answer_count":1,"score":0,"last_activity_date":1657804415,"creation_date":1632835587,"question_id":69362623,"body_markdown":"I&#39;m trying to upgrade an older Project to **spring/hibernate 5**. We use the `com.vividsolutions.jts.geom.Polygonal` library on some entites to store shape data in our **Oracle** DB(19c). The configured hibernate dialect is `org.hibernate.spatial.dialect.oracle.OracleSpatial10gDialect`.\r\n\r\nWith the previous hibernate Version this worked:\r\n```\r\n@XmlTransient\r\n@Column(name = GEOMETRY_COLUMN_NAME)\r\n@Type(type = &quot;org.hibernate.spatial.GeometryType&quot;)\r\nprivate Polygonal shape;\r\n```\r\nI tried different types with hibernate 5 but i can never flush the entity to the DB. it crashes in our abstract save method:\r\n```\r\n\tpublic T save(T entity) {\r\n\t\tSerializable pk = (Serializable) ((IdentificationInformation) entity).getPk();\r\n\t\ttry {\r\n\t\t\t   getEntityManager().persist(entity);\r\n\t\t\t   getEntityManager().flush(); \r\n\t\t\t   getEntityManager().refresh(entity);\r\n\t\t\t}\r\n```\r\n\r\nThe stacktrace:\r\n```\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3297) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3824) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:1.8.0_292]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:345) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\t... 185 common frames omitted\r\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00932: Inkonsistente Datentypen: MDSYS.SDO_GEOMETRY erwartet, BINARY erhalten\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:910) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1119) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:3865) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3845) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1061) ~[ojdbc8.jar:12.2.0.1.0]\r\n\tat org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136) ~[tomcat-dbcp.jar:9.0.38]\r\n\tat org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136) ~[tomcat-dbcp.jar:9.0.38]\r\n\tat sun.reflect.GeneratedMethodAccessor457.invoke(Unknown Source) ~[na:na]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]\r\n\tat net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:403) ~[javamelody-core-1.53.0.jar:1.53.0]\r\n\tat net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:128) ~[javamelody-core-1.53.0.jar:1.53.0]\r\n\tat net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:285) ~[javamelody-core-1.53.0.jar:1.53.0]\r\n\tat com.sun.proxy.$Proxy177.executeUpdate(Unknown Source) ~[na:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n\t... 196 common frames omitted\r\nCaused by: oracle.jdbc.OracleDatabaseException: ORA-00932: Inkonsistente Datentypen: MDSYS.SDO_GEOMETRY erwartet, BINARY erhalten\r\n```\r\nSry for the german. Last row means inconsistent Datatypes MDSYS.SDO_GEOMETRY expected, Binary received.\r\n\r\nIs there a way to make this work? It shouldn&#39;t include another library than vividsolutions since this is the shape format we get.","title":"Save vividsolutions.jts.geom.Polygonal attribute with hibernate 5","body":"<p>I'm trying to upgrade an older Project to <strong>spring/hibernate 5</strong>. We use the <code>com.vividsolutions.jts.geom.Polygonal</code> library on some entites to store shape data in our <strong>Oracle</strong> DB(19c). The configured hibernate dialect is <code>org.hibernate.spatial.dialect.oracle.OracleSpatial10gDialect</code>.</p>\n<p>With the previous hibernate Version this worked:</p>\n<pre><code>@XmlTransient\n@Column(name = GEOMETRY_COLUMN_NAME)\n@Type(type = &quot;org.hibernate.spatial.GeometryType&quot;)\nprivate Polygonal shape;\n</code></pre>\n<p>I tried different types with hibernate 5 but i can never flush the entity to the DB. it crashes in our abstract save method:</p>\n<pre><code>    public T save(T entity) {\n        Serializable pk = (Serializable) ((IdentificationInformation) entity).getPk();\n        try {\n               getEntityManager().persist(entity);\n               getEntityManager().flush(); \n               getEntityManager().refresh(entity);\n            }\n</code></pre>\n<p>The stacktrace:</p>\n<pre><code>Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3297) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3824) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:1.8.0_292]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:345) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    ... 185 common frames omitted\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00932: Inkonsistente Datentypen: MDSYS.SDO_GEOMETRY erwartet, BINARY erhalten\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:910) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1119) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:3865) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3845) ~[ojdbc8.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1061) ~[ojdbc8.jar:12.2.0.1.0]\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136) ~[tomcat-dbcp.jar:9.0.38]\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136) ~[tomcat-dbcp.jar:9.0.38]\n    at sun.reflect.GeneratedMethodAccessor457.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]\n    at net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:403) ~[javamelody-core-1.53.0.jar:1.53.0]\n    at net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:128) ~[javamelody-core-1.53.0.jar:1.53.0]\n    at net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:285) ~[javamelody-core-1.53.0.jar:1.53.0]\n    at com.sun.proxy.$Proxy177.executeUpdate(Unknown Source) ~[na:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    ... 196 common frames omitted\nCaused by: oracle.jdbc.OracleDatabaseException: ORA-00932: Inkonsistente Datentypen: MDSYS.SDO_GEOMETRY erwartet, BINARY erhalten\n</code></pre>\n<p>Sry for the german. Last row means inconsistent Datatypes MDSYS.SDO_GEOMETRY expected, Binary received.</p>\n<p>Is there a way to make this work? It shouldn't include another library than vividsolutions since this is the shape format we get.</p>\n"},{"tags":["java","string","format","double"],"comments":[{"owner":{"display_name":"user2591957"},"score":0,"creation_date":1386080004,"post_id":20353319,"comment_id":30382384,"body_markdown":"Have you tried to use the .toString() method?","body":"Have you tried to use the .toString() method?"},{"owner":{"account_id":3573284,"reputation":3329,"user_id":2983132,"accept_rate":67,"display_name":"Slate"},"score":0,"creation_date":1386080309,"post_id":20353319,"comment_id":30382584,"body_markdown":"or do you mean remove all precision (i.e. cast to int) ?","body":"or do you mean remove all precision (i.e. cast to int) ?"},{"owner":{"display_name":"user3009344"},"score":0,"creation_date":1386080389,"post_id":20353319,"comment_id":30382649,"body_markdown":"Hm, maybe it will be easier with that. At the moment it takes 100.0 &gt; &quot;100.0&quot; but i can cut the end. Also i could cut last digits with substring. If there is no better way then it will use it","body":"Hm, maybe it will be easier with that. At the moment it takes 100.0 &gt; &quot;100.0&quot; but i can cut the end. Also i could cut last digits with substring. If there is no better way then it will use it"},{"owner":{"display_name":"user3009344"},"score":0,"creation_date":1386080438,"post_id":20353319,"comment_id":30382680,"body_markdown":"No, want max precision to be 6 numbers, but if there is just 100.0000000 then it should be converted to 100","body":"No, want max precision to be 6 numbers, but if there is just 100.0000000 then it should be converted to 100"}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386080802,"creation_date":1386080334,"answer_id":20353599,"question_id":20353319,"body_markdown":"`String.format(&quot;%.0&quot;, d)` will give you no decimal places\r\n\r\n-or-\r\n\r\n`String.format(&quot;%d&quot;, (int)Math.round(f))`","title":"Java double to string with specific precision","body":"<p><code>String.format(\"%.0\", d)</code> will give you no decimal places</p>\n\n<p>-or-</p>\n\n<p><code>String.format(\"%d\", (int)Math.round(f))</code></p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1529589243,"creation_date":1386080384,"answer_id":20353616,"question_id":20353319,"body_markdown":"Use `DecimalFormat`: `new DecimalFormat(&quot;#.0#####&quot;).format(d)`.\r\n\r\nThis will produce numbers with 1 to 6 decimal digits.\r\n\r\nSince `DecimalFormat` will use the symbols of the default locale, you might want to provide which symbols to use:\r\n\r\n    //Format using english symbols, e.g. 100.0 instead of 100,0\r\n    new DecimalFormat(&quot;#.0#####&quot;, DecimalFormatSymbols.getInstance( Locale.ENGLISH )).format(d)\r\n\r\nIn order to format 100.0 to 100, use the format string `#.######`.\r\n\r\nNote that `DecimalFormat` will round by default, e.g. if you pass in `0.9999999` you&#39;ll get the output `1`. If you want to get `0.999999` instead, provide a different rounding mode:\r\n\r\n    DecimalFormat formatter = new DecimalFormat(&quot;#.######&quot;, DecimalFormatSymbols.getInstance( Locale.ENGLISH ));\r\n    formatter.setRoundingMode( RoundingMode.DOWN );\r\n    String s = formatter.format(d);","title":"Java double to string with specific precision","body":"<p>Use <code>DecimalFormat</code>: <code>new DecimalFormat(\"#.0#####\").format(d)</code>.</p>\n\n<p>This will produce numbers with 1 to 6 decimal digits.</p>\n\n<p>Since <code>DecimalFormat</code> will use the symbols of the default locale, you might want to provide which symbols to use:</p>\n\n<pre><code>//Format using english symbols, e.g. 100.0 instead of 100,0\nnew DecimalFormat(\"#.0#####\", DecimalFormatSymbols.getInstance( Locale.ENGLISH )).format(d)\n</code></pre>\n\n<p>In order to format 100.0 to 100, use the format string <code>#.######</code>.</p>\n\n<p>Note that <code>DecimalFormat</code> will round by default, e.g. if you pass in <code>0.9999999</code> you'll get the output <code>1</code>. If you want to get <code>0.999999</code> instead, provide a different rounding mode:</p>\n\n<pre><code>DecimalFormat formatter = new DecimalFormat(\"#.######\", DecimalFormatSymbols.getInstance( Locale.ENGLISH ));\nformatter.setRoundingMode( RoundingMode.DOWN );\nString s = formatter.format(d);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191037,"reputation":10804,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1529589255,"creation_date":1386081826,"answer_id":20354187,"question_id":20353319,"body_markdown":"This is a cheap hack that works (and does not introduce any rounding issues):\r\n\r\n    String string = String.format(&quot;%.6f&quot;, d).replaceAll(&quot;(\\\\.\\\\d+?)0*$&quot;, &quot;$1&quot;);","title":"Java double to string with specific precision","body":"<p>This is a cheap hack that works (and does not introduce any rounding issues):</p>\n\n<pre><code>String string = String.format(\"%.6f\", d).replaceAll(\"(\\\\.\\\\d+?)0*$\", \"$1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7401628,"reputation":1736,"user_id":5631873,"display_name":"Travis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657804204,"creation_date":1449082791,"answer_id":34050821,"question_id":20353319,"body_markdown":"Couldn&#39;t you just make a `setPrecision` function, sort of like this\r\n\r\n    private static String setPrecision(double amt, int precision){\r\n       return String.format(&quot;%.&quot; + precision + &quot;f&quot;, amt);\r\n    }\r\n\r\nthen of course to call it\r\n\r\n    setPrecision(variable, 2); //\r\n\r\n\r\nObviously you can tweek it up for rounding or whatever it is you need to do.\r\n","title":"Java double to string with specific precision","body":"<p>Couldn't you just make a <code>setPrecision</code> function, sort of like this</p>\n<pre><code>private static String setPrecision(double amt, int precision){\n   return String.format(&quot;%.&quot; + precision + &quot;f&quot;, amt);\n}\n</code></pre>\n<p>then of course to call it</p>\n<pre><code>setPrecision(variable, 2); //\n</code></pre>\n<p>Obviously you can tweek it up for rounding or whatever it is you need to do.</p>\n"}],"owner":{"display_name":"user3009344"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28268,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":20353616,"answer_count":4,"score":16,"last_activity_date":1657804204,"creation_date":1386079610,"question_id":20353319,"body_markdown":"I would like to convert `double` into `String`. I want it to have as few digits as possible and maximally 6.\r\n\r\nSo I found `String.format(&quot;%.6f&quot;, d)` which converts my `100.0` into `100.000000`.\r\nMax precision works correctly, but I would like it to be converted to `100` (minimum precision).\r\nHave you got any idea what method is working like that?","title":"Java double to string with specific precision","body":"<p>I would like to convert <code>double</code> into <code>String</code>. I want it to have as few digits as possible and maximally 6.</p>\n\n<p>So I found <code>String.format(\"%.6f\", d)</code> which converts my <code>100.0</code> into <code>100.000000</code>.\nMax precision works correctly, but I would like it to be converted to <code>100</code> (minimum precision).\nHave you got any idea what method is working like that?</p>\n"},{"tags":["java","appdynamics"],"comments":[{"owner":{"account_id":13462587,"reputation":693,"user_id":9714060,"display_name":"Naveen Kulkarni"},"score":1,"creation_date":1657722297,"post_id":72967882,"comment_id":128878604,"body_markdown":"&lt;controller-host&gt; should have just the host name and not the protocol. Can you double check on this. Should be something like &lt;controller-host&gt;10.0.0.1&lt;/controller-host&gt;","body":"&lt;controller-host&gt; should have just the host name and not the protocol. Can you double check on this. Should be something like &lt;controller-host&gt;10.0.0.1&lt;/controller-host&gt;"},{"owner":{"account_id":9676097,"reputation":554,"user_id":7179546,"display_name":"Carabes"},"score":0,"creation_date":1657725530,"post_id":72967882,"comment_id":128880091,"body_markdown":"Do I need to use the IP? Can&#39;t I use the DNS?","body":"Do I need to use the IP? Can&#39;t I use the DNS?"},{"owner":{"account_id":13462587,"reputation":693,"user_id":9714060,"display_name":"Naveen Kulkarni"},"score":0,"creation_date":1657734811,"post_id":72967882,"comment_id":128883305,"body_markdown":"You can use DNS.","body":"You can use DNS."}],"answers":[{"tags":[],"owner":{"account_id":1284168,"reputation":3460,"user_id":1237595,"display_name":"Ingmar Boddington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657803628,"creation_date":1657803628,"answer_id":72980949,"question_id":72967882,"body_markdown":"There is at least two errors in your config (missing correct closing tag, incorrect ssl flag).\r\n\r\nGiven a controller of https://mycontroller.saas.appdynamics.com/, your settings should look like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;controller-info&gt;\r\n        &lt;controller-host&gt;mycontroller.saas.appdynamics.com&lt;/controller-host&gt;\r\n        &lt;account-access-key&gt;ACCESS_KEY_TAKEN_FROM_LICENSE_SCREEN_IN_CONTROLLER&lt;/account-access-key&gt;\r\n        &lt;controller-port&gt;443&lt;/controller-port&gt;\r\n        &lt;controller-ssl-enabled&gt;true&lt;/controller-ssl-enabled&gt;\r\n        &lt;application-name&gt;APPLICATION_NAME&lt;/application-name&gt;\r\n        &lt;account-name&gt;mycontroller&lt;/account-name&gt;\r\n        &lt;node-name&gt;NODE_NAME&lt;/node-name&gt;\r\n        &lt;tier-name&gt;TIER_NAME&lt;/tier-name&gt;\r\n    &lt;/controller-info&gt;\r\n\r\nAlso note that Argento is for Cisco Secure Application, which can be ignored (unless of course you are licensed for this product)","title":"How to add a Java tier in AppDynamics","body":"<p>There is at least two errors in your config (missing correct closing tag, incorrect ssl flag).</p>\n<p>Given a controller of <a href=\"https://mycontroller.saas.appdynamics.com/\" rel=\"nofollow noreferrer\">https://mycontroller.saas.appdynamics.com/</a>, your settings should look like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;controller-info&gt;\n    &lt;controller-host&gt;mycontroller.saas.appdynamics.com&lt;/controller-host&gt;\n    &lt;account-access-key&gt;ACCESS_KEY_TAKEN_FROM_LICENSE_SCREEN_IN_CONTROLLER&lt;/account-access-key&gt;\n    &lt;controller-port&gt;443&lt;/controller-port&gt;\n    &lt;controller-ssl-enabled&gt;true&lt;/controller-ssl-enabled&gt;\n    &lt;application-name&gt;APPLICATION_NAME&lt;/application-name&gt;\n    &lt;account-name&gt;mycontroller&lt;/account-name&gt;\n    &lt;node-name&gt;NODE_NAME&lt;/node-name&gt;\n    &lt;tier-name&gt;TIER_NAME&lt;/tier-name&gt;\n&lt;/controller-info&gt;\n</code></pre>\n<p>Also note that Argento is for Cisco Secure Application, which can be ignored (unless of course you are licensed for this product)</p>\n"}],"owner":{"account_id":9676097,"reputation":554,"user_id":7179546,"display_name":"Carabes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657803628,"creation_date":1657721965,"question_id":72967882,"body_markdown":"I have a project that I&#39;m monitoring in AppDynamics for which a python process with a tier that I can read in AppDynamics it&#39;s already working.\r\nNow I want to add a new Java tier to get more info from the Java part of my application\r\nMy configuration is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;controller-info&gt;\r\n    &lt;controller-host&gt;my host url&lt;/&gt;\r\n    &lt;account-access-key&gt;my key&lt;/account-access-key&gt;\r\n    &lt;controller-port&gt;443&lt;/controller-port&gt;\r\n    &lt;controller-ssl-enabled&gt;on&lt;/controller-ssl-enabled&gt;\r\n    &lt;application-name&gt;myapplication&lt;/application-name&gt;\r\n    &lt;account-name&gt;myaccount&lt;/account-name&gt;\r\n    &lt;node-name&gt;mynode&lt;/node-name&gt;\r\n    &lt;tier-name&gt;mytier&lt;/tier-name&gt;\r\n&lt;/controller-info&gt;\r\n```\r\nThis configuration is the same that I&#39;m using in the Python part, except for the node-name and tier-name.\r\n\r\nI&#39;ve created in AppDynamics a new tier in the `Tiers &amp; Nodes` -&gt; \r\n`Create App Server Tier`\r\n\r\nNow when I launch my application in a Dockerfile with an entrypoint like:\r\n`[&#39;java&#39;, &#39;-javaagent:/opt/appdynamics/ver22.4.0.33722/javaagent.jar&#39;, &#39;-jar&#39;, &#39;application.jar]`\r\n\r\nI &#39;m having errors,  In agent-initial*.log :\r\n```\r\nAPM Agent present: Yes\r\nAPM Agent enabled: It is Enabled\r\nAPM Agent status: It is not registered!!!\r\nAPM Agent version: Server Agent #22.4.0.33722 v22.4.0 GA compatible with 4.4.1.0 rb331a334461edd5eb1d77f0c99bec1f876202683 release/22.4.0\r\nArgento Agent startup status: Not Started!!!\r\nArgento Agent enabled status: No\r\nAuth Service status: Is Broken\r\n```\r\n\r\nand in agent.*.log :\r\n```\r\nERROR ConfigurationChannel - Fatal transport error while connecting to URL &lt;URL&gt; java.net.UnknownHostException: &lt;host&gt; Name or service not known\r\n```\r\nthe url is the same that I&#39;m using in the other project so it should be able to be found.\r\nAnother error log, from argentoDynamicService*.log\r\n```\r\nhttps: Name or service not known Response Code: 0\r\n```\r\n\r\nIt really looks like the host can&#39;t be reached, but in the other application there is no problem at all. Do you know if I&#39;m missing something in the configuration here or there is something else that I need to take into account?\r\n","title":"How to add a Java tier in AppDynamics","body":"<p>I have a project that I'm monitoring in AppDynamics for which a python process with a tier that I can read in AppDynamics it's already working.\nNow I want to add a new Java tier to get more info from the Java part of my application\nMy configuration is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;controller-info&gt;\n    &lt;controller-host&gt;my host url&lt;/&gt;\n    &lt;account-access-key&gt;my key&lt;/account-access-key&gt;\n    &lt;controller-port&gt;443&lt;/controller-port&gt;\n    &lt;controller-ssl-enabled&gt;on&lt;/controller-ssl-enabled&gt;\n    &lt;application-name&gt;myapplication&lt;/application-name&gt;\n    &lt;account-name&gt;myaccount&lt;/account-name&gt;\n    &lt;node-name&gt;mynode&lt;/node-name&gt;\n    &lt;tier-name&gt;mytier&lt;/tier-name&gt;\n&lt;/controller-info&gt;\n</code></pre>\n<p>This configuration is the same that I'm using in the Python part, except for the node-name and tier-name.</p>\n<p>I've created in AppDynamics a new tier in the <code>Tiers &amp; Nodes</code> -&gt;\n<code>Create App Server Tier</code></p>\n<p>Now when I launch my application in a Dockerfile with an entrypoint like:\n<code>['java', '-javaagent:/opt/appdynamics/ver22.4.0.33722/javaagent.jar', '-jar', 'application.jar]</code></p>\n<p>I 'm having errors,  In agent-initial*.log :</p>\n<pre><code>APM Agent present: Yes\nAPM Agent enabled: It is Enabled\nAPM Agent status: It is not registered!!!\nAPM Agent version: Server Agent #22.4.0.33722 v22.4.0 GA compatible with 4.4.1.0 rb331a334461edd5eb1d77f0c99bec1f876202683 release/22.4.0\nArgento Agent startup status: Not Started!!!\nArgento Agent enabled status: No\nAuth Service status: Is Broken\n</code></pre>\n<p>and in agent.*.log :</p>\n<pre><code>ERROR ConfigurationChannel - Fatal transport error while connecting to URL &lt;URL&gt; java.net.UnknownHostException: &lt;host&gt; Name or service not known\n</code></pre>\n<p>the url is the same that I'm using in the other project so it should be able to be found.\nAnother error log, from argentoDynamicService*.log</p>\n<pre><code>https: Name or service not known Response Code: 0\n</code></pre>\n<p>It really looks like the host can't be reached, but in the other application there is no problem at all. Do you know if I'm missing something in the configuration here or there is something else that I need to take into account?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15572374,"reputation":108,"user_id":12490479,"display_name":"Woutenator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657803627,"creation_date":1657800949,"answer_id":72980343,"question_id":72979877,"body_markdown":"The simplest way is to return the split arrays in your processLine and readFile methods. For example:\r\n\r\n    public static List&lt;String[]&gt; readFile(String file) {\r\n        // create BufferedReader...\r\n        List&lt;String&gt; lines = new ArrayList();\r\n\r\n        while (((line = bufRdr.readLine()) != null) &amp;&amp; lineNum &lt; 27) {\r\n            lineNum++;\r\n            lines.add(processLine(line));\r\n        }\r\n\r\n        return lines;\r\n    }\r\n\r\n    public static String[] processLine(String row) {\r\n       String[] splitLine = row.split(&quot;,&quot;);\r\n       // print line...\r\n       return splitLine;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String[]&gt; lines = readFile(&quot;filename.csv&quot;);\r\n        // iterate over lines\r\n    }\r\n\r\nNote you could also use a 2D array instead of a list of arrays:\r\n\r\n    public static String[][] readFile(String file) {\r\n        // create reader...\r\n        String[][] lines = new String[27][] // assuming you only want 27 lines\r\n\r\n        while (((line = bufRdr.readLine()) != null) &amp;&amp; lineNum &lt; 27) {\r\n            lines[lineNum] = processLine(line));\r\n            lineNum++;\r\n        }\r\n\r\n        return lines;\r\n    }\r\n\r\nYou should also look into closing your stream in a finally block, or even better: use a try-with-resources statement.","title":"Iterating over an array i have created from CSV file","body":"<p>The simplest way is to return the split arrays in your processLine and readFile methods. For example:</p>\n<pre><code>public static List&lt;String[]&gt; readFile(String file) {\n    // create BufferedReader...\n    List&lt;String&gt; lines = new ArrayList();\n\n    while (((line = bufRdr.readLine()) != null) &amp;&amp; lineNum &lt; 27) {\n        lineNum++;\n        lines.add(processLine(line));\n    }\n\n    return lines;\n}\n\npublic static String[] processLine(String row) {\n   String[] splitLine = row.split(&quot;,&quot;);\n   // print line...\n   return splitLine;\n}\n\npublic static void main(String[] args) {\n    List&lt;String[]&gt; lines = readFile(&quot;filename.csv&quot;);\n    // iterate over lines\n}\n</code></pre>\n<p>Note you could also use a 2D array instead of a list of arrays:</p>\n<pre><code>public static String[][] readFile(String file) {\n    // create reader...\n    String[][] lines = new String[27][] // assuming you only want 27 lines\n\n    while (((line = bufRdr.readLine()) != null) &amp;&amp; lineNum &lt; 27) {\n        lines[lineNum] = processLine(line));\n        lineNum++;\n    }\n\n    return lines;\n}\n</code></pre>\n<p>You should also look into closing your stream in a finally block, or even better: use a try-with-resources statement.</p>\n"}],"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657803627,"creation_date":1657798658,"question_id":72979877,"body_markdown":"I have read a CSV file into an array by first reading lines of the file in one method and then splitting these lines in another method and was wondering how to iterate through this array in my main in order to access particular values. My code is as follows;\r\n```\r\npublic class MainMenu\r\n{\t\r\n    public static void readFile(String file)\r\n    {\r\n        FileInputStream fileStream = null;\r\n        InputStreamReader isr;\r\n        BufferedReader bufRdr;\r\n        int lineNum;\r\n        String line;\r\n        try {\r\n            fileStream = new FileInputStream(file);\r\n            isr = new InputStreamReader(fileStream);\r\n            bufRdr = new BufferedReader(isr);\r\n            lineNum = 0;\r\n            line = bufRdr.readLine();\r\n            while((line != null) &amp;&amp; lineNum &lt; 27) {\r\n                lineNum++;\r\n                processLine(line);\r\n                line = bufRdr.readLine();\r\n            }\r\n\t\t\t\r\n            fileStream.close();\r\n        } catch (IOException e) {\r\n            if(fileStream != null) {\r\n                try {\r\n                    fileStream.close();\r\n\t\t\t\t  } catch(IOException ex2) {\r\n                }\r\n            }\r\n\t\t\t System.out.println(&quot;Error: &quot;+e.getMessage());\r\n        }\r\n\t}\r\n\r\n\tprivate static void processLine(String csvRow)\r\n\t{\r\n\t\tString[] splitLine;\r\n\t\tsplitLine = csvRow.split(&quot;,&quot;);\r\n\t\tint lineLength = splitLine.length;\r\n\r\n        for(int i = 0; i &lt; lineLength; i++) {\r\n            System.out.print(splitLine[i]+&quot; &quot;);\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;============================================&quot;+&quot;\\n&quot;+&quot;Data from CSV file to be analysed:&quot;+&quot;\\n&quot;);\r\n\t\treadFile(&quot;jrc-covid-19-all-days-of-world_ASSIGNMENT-FIXED.csv&quot;);\r\n\t\tSystem.out.println(&quot;============================================&quot;);\r\n        //want to have code here to iterate through the array and access whichever value necessary\r\n    }\r\n```","title":"Iterating over an array i have created from CSV file","body":"<p>I have read a CSV file into an array by first reading lines of the file in one method and then splitting these lines in another method and was wondering how to iterate through this array in my main in order to access particular values. My code is as follows;</p>\n<pre><code>public class MainMenu\n{   \n    public static void readFile(String file)\n    {\n        FileInputStream fileStream = null;\n        InputStreamReader isr;\n        BufferedReader bufRdr;\n        int lineNum;\n        String line;\n        try {\n            fileStream = new FileInputStream(file);\n            isr = new InputStreamReader(fileStream);\n            bufRdr = new BufferedReader(isr);\n            lineNum = 0;\n            line = bufRdr.readLine();\n            while((line != null) &amp;&amp; lineNum &lt; 27) {\n                lineNum++;\n                processLine(line);\n                line = bufRdr.readLine();\n            }\n            \n            fileStream.close();\n        } catch (IOException e) {\n            if(fileStream != null) {\n                try {\n                    fileStream.close();\n                  } catch(IOException ex2) {\n                }\n            }\n             System.out.println(&quot;Error: &quot;+e.getMessage());\n        }\n    }\n\n    private static void processLine(String csvRow)\n    {\n        String[] splitLine;\n        splitLine = csvRow.split(&quot;,&quot;);\n        int lineLength = splitLine.length;\n\n        for(int i = 0; i &lt; lineLength; i++) {\n            System.out.print(splitLine[i]+&quot; &quot;);\n        }\n        System.out.println(&quot;&quot;);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;============================================&quot;+&quot;\\n&quot;+&quot;Data from CSV file to be analysed:&quot;+&quot;\\n&quot;);\n        readFile(&quot;jrc-covid-19-all-days-of-world_ASSIGNMENT-FIXED.csv&quot;);\n        System.out.println(&quot;============================================&quot;);\n        //want to have code here to iterate through the array and access whichever value necessary\n    }\n</code></pre>\n"},{"tags":["java","libgdx","degrees","radians"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1657751810,"post_id":72968835,"comment_id":128888171,"body_markdown":"I didn’t check your math, but I imagine your strategy would accumulate a lot of error over time. If this is more of animation than an interactive physics simulation, I would do the math to find the position as a function of time rather than using force to calculate discrete increments of velocity which are then applied in discrete increments to the position.","body":"I didn’t check your math, but I imagine your strategy would accumulate a lot of error over time. If this is more of animation than an interactive physics simulation, I would do the math to find the position as a function of time rather than using force to calculate discrete increments of velocity which are then applied in discrete increments to the position."},{"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"score":0,"creation_date":1657798950,"post_id":72968835,"comment_id":128898877,"body_markdown":"Would that not be inelegant in terms of the physics and the possible application on other planets if they are to be added? And how would this strategy accumulate error? Is it just java (I&#39;d assume not as I tried running the same code in python which resulted in the same problems)? I am aiming to make more of a simulation with accurate values (an N-Body simulation) and not an animation after all.","body":"Would that not be inelegant in terms of the physics and the possible application on other planets if they are to be added? And how would this strategy accumulate error? Is it just java (I&#39;d assume not as I tried running the same code in python which resulted in the same problems)? I am aiming to make more of a simulation with accurate values (an N-Body simulation) and not an animation after all."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1657802510,"post_id":72968835,"comment_id":128900229,"body_markdown":"That&#39;s why I said &quot;if it&#39;s more of an animation&quot;. It wouldn&#39;t be suitable for a physics simulation. I&#39;ve never tried to do an orbit. I would think it would be challenging to keep an object in orbit in a discrete time-step simulation, because if it&#39;s position or velocity stray too far, it might fling out of orbit.","body":"That&#39;s why I said &quot;if it&#39;s more of an animation&quot;. It wouldn&#39;t be suitable for a physics simulation. I&#39;ve never tried to do an orbit. I would think it would be challenging to keep an object in orbit in a discrete time-step simulation, because if it&#39;s position or velocity stray too far, it might fling out of orbit."}],"answers":[{"tags":[],"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657802465,"creation_date":1657802465,"answer_id":72980684,"question_id":72968835,"body_markdown":"I have been messing around and debugging the code and realised it was a very minor mistake, a classic mistake to assume that the math library&#39;s `cos()` and `sin()` functions use degrees. They don&#39;t. They use radians and that was the whole problem all along. \r\n\r\nInstead of:\r\n\r\n```\r\n        this.force.x = F * MathUtils.cos(alpha);\r\n        this.force.y = F * MathUtils.sin(alpha);\r\n```\r\nOne must do:\r\n\r\n```\r\n        this.force.x = F * MathUtils.cosDeg(alpha);\r\n        this.force.y = F * MathUtils.sinDeg(alpha);\r\n```\r\nI will make sure to edit the question to emphasize this problem and solution for future viewers of it.","title":"Orbit Simulator in Java returning odd values for velocity etc. despite correct math","body":"<p>I have been messing around and debugging the code and realised it was a very minor mistake, a classic mistake to assume that the math library's <code>cos()</code> and <code>sin()</code> functions use degrees. They don't. They use radians and that was the whole problem all along.</p>\n<p>Instead of:</p>\n<pre><code>        this.force.x = F * MathUtils.cos(alpha);\n        this.force.y = F * MathUtils.sin(alpha);\n</code></pre>\n<p>One must do:</p>\n<pre><code>        this.force.x = F * MathUtils.cosDeg(alpha);\n        this.force.y = F * MathUtils.sinDeg(alpha);\n</code></pre>\n<p>I will make sure to edit the question to emphasize this problem and solution for future viewers of it.</p>\n"}],"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72980684,"answer_count":1,"score":0,"last_activity_date":1657803467,"creation_date":1657726048,"question_id":72968835,"body_markdown":"I am using LibGDX to make an orbit simulator (elliptical as planets possess their own initial velocity) and I have the physics mapped out like so:\r\n\r\n```\r\n    public void move(float deltaTime, Planet planet) {\r\n\r\n        float deltaX = planet.getPos().x - this.pos.x;\r\n        float deltaY = planet.getPos().y - this.pos.y;\r\n        float alpha = (float) Math.toDegrees(Math.atan2(deltaY, deltaX));\r\n\r\n\r\n        float distance = (float) Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n        float F = G * this.m * planet.getM() / distance*distance;\r\n        this.force.x = F * MathUtils.cos(alpha);\r\n        this.force.y = F * MathUtils.sin(alpha);\r\n\r\n        this.vel.x += (this.force.x / this.m) * deltaTime;\r\n        this.vel.y += (this.force.y / this.m) * deltaTime;\r\n\r\n        this.pos.x += this.vel.x * deltaTime;\r\n        this.pos.y += this.vel.y * deltaTime;\r\n    }\r\n```\r\n\r\nThe problem is that my planet wobbles around and doesn&#39;t orbit at all. I fear my calculations in the code might be wrong as the physics are definitely double-checked and correct.\r\n\r\nEach celestial object is a planet and I have no &#39;Sun&#39; classes of any type so far. Only one `Planet` class, which only has Getter and Setter methods, a `render()` method (which seems irrelevant) and the presented `move()` method.\r\n\r\nI find nothing necessitates the following however I will add the parameters&#39; values I chose for the both planets:\r\n\r\n```\r\n        planet1 = new Planet(30, 1, new Vector2(300, 300));\r\n        planet2 = new Planet(70, 332000, new Vector2(400, 400));\r\n```\r\n\r\nI am also aware LibGDX won&#39;t have the x, y coordinates of my circle in the middle but rather the bottom left. Therefore I have modified that in the constructor:\r\n\r\n```\r\n        this.pos = pos;\r\n        this.pos.x -= r;\r\n        this.pos.y -= r;\r\n```","title":"Orbit Simulator in Java returning odd values for velocity etc. despite correct math","body":"<p>I am using LibGDX to make an orbit simulator (elliptical as planets possess their own initial velocity) and I have the physics mapped out like so:</p>\n<pre><code>    public void move(float deltaTime, Planet planet) {\n\n        float deltaX = planet.getPos().x - this.pos.x;\n        float deltaY = planet.getPos().y - this.pos.y;\n        float alpha = (float) Math.toDegrees(Math.atan2(deltaY, deltaX));\n\n\n        float distance = (float) Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n        float F = G * this.m * planet.getM() / distance*distance;\n        this.force.x = F * MathUtils.cos(alpha);\n        this.force.y = F * MathUtils.sin(alpha);\n\n        this.vel.x += (this.force.x / this.m) * deltaTime;\n        this.vel.y += (this.force.y / this.m) * deltaTime;\n\n        this.pos.x += this.vel.x * deltaTime;\n        this.pos.y += this.vel.y * deltaTime;\n    }\n</code></pre>\n<p>The problem is that my planet wobbles around and doesn't orbit at all. I fear my calculations in the code might be wrong as the physics are definitely double-checked and correct.</p>\n<p>Each celestial object is a planet and I have no 'Sun' classes of any type so far. Only one <code>Planet</code> class, which only has Getter and Setter methods, a <code>render()</code> method (which seems irrelevant) and the presented <code>move()</code> method.</p>\n<p>I find nothing necessitates the following however I will add the parameters' values I chose for the both planets:</p>\n<pre><code>        planet1 = new Planet(30, 1, new Vector2(300, 300));\n        planet2 = new Planet(70, 332000, new Vector2(400, 400));\n</code></pre>\n<p>I am also aware LibGDX won't have the x, y coordinates of my circle in the middle but rather the bottom left. Therefore I have modified that in the constructor:</p>\n<pre><code>        this.pos = pos;\n        this.pos.x -= r;\n        this.pos.y -= r;\n</code></pre>\n"},{"tags":["java","spring","intellij-idea","spring-retry","unused-functions"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1657799088,"post_id":72979328,"comment_id":128898926,"body_markdown":"Can you confirm that this code is actually invoked? If so, please file a bug at https://youtrack.jetbrains.com/issues/IDEA. Thank you.","body":"Can you confirm that this code is actually invoked? If so, please file a bug at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>. Thank you."},{"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"score":0,"creation_date":1657800876,"post_id":72979328,"comment_id":128899580,"body_markdown":"@Andrey code works","body":"@Andrey code works"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657803433,"creation_date":1657796641,"answer_id":72979463,"question_id":72979328,"body_markdown":"Method declarations looks ok but as you haven&#39;t shared any further details, it is mostly because you are not throwing `RetryableException` from your `retryable` method.\r\n\r\nTo invoke recovery after retries, your retry must throw type of exception which you have defined as `recover` method&#39;s argument. Please check about that , if that is not case, please share some more details. \r\n\r\nEdit: \r\n\r\nSpring&#39;s recovery method gets called internally after retry &amp; hence after scanning code, intellij didn&#39;t find any reference where your `recover` is getting called. \r\n\r\nThis is just warning from intellij &amp; don&#39;t pose any issue. You can disable this behaviour from `Preferences &gt; Editor &gt; Inspections &gt; Unused Declaration &gt;Java &gt; Unused declaration` .\r\n\r\nOther option is to use `@SuppressWarnings(&quot;unused&quot;)` above your `recover`. ","title":"Intellij - Spring Retry @Recover method marked as unused","body":"<p>Method declarations looks ok but as you haven't shared any further details, it is mostly because you are not throwing <code>RetryableException</code> from your <code>retryable</code> method.</p>\n<p>To invoke recovery after retries, your retry must throw type of exception which you have defined as <code>recover</code> method's argument. Please check about that , if that is not case, please share some more details.</p>\n<p>Edit:</p>\n<p>Spring's recovery method gets called internally after retry &amp; hence after scanning code, intellij didn't find any reference where your <code>recover</code> is getting called.</p>\n<p>This is just warning from intellij &amp; don't pose any issue. You can disable this behaviour from <code>Preferences &gt; Editor &gt; Inspections &gt; Unused Declaration &gt;Java &gt; Unused declaration</code> .</p>\n<p>Other option is to use <code>@SuppressWarnings(&quot;unused&quot;)</code> above your <code>recover</code>.</p>\n"}],"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72979463,"answer_count":1,"score":0,"last_activity_date":1657803433,"creation_date":1657796000,"question_id":72979328,"body_markdown":"When using Spring Retry @Recover method (which works ok) IntelliJ always marking method as unused and suggest to safe delete \r\n\r\n    @Recover\r\n\tpublic void recover(RetryableException e, String param1) {\r\n\t\t//recover\r\n\t}\r\n\t@Retryable(include = RetryableException.class, maxAttempts = 2)\r\n\tpublic void retryable(String param1) {\r\n        //execute\r\n        throw new RetryableException();\r\n    }\r\n\r\n\r\n&gt;Method &#39;recover(com.gth.common.exceptions.RetryableException, java.lang.String)&#39; is never used \r\n\r\nHow can it be avoided? how can IntelliJ be aware of the recover method usage?\r\n\r\n* I don&#39;t want IntelliJ to stop warn about `Unused declaration`, only the false positive warnings\r\n","title":"Intellij - Spring Retry @Recover method marked as unused","body":"<p>When using Spring Retry @Recover method (which works ok) IntelliJ always marking method as unused and suggest to safe delete</p>\n<pre><code>@Recover\npublic void recover(RetryableException e, String param1) {\n    //recover\n}\n@Retryable(include = RetryableException.class, maxAttempts = 2)\npublic void retryable(String param1) {\n    //execute\n    throw new RetryableException();\n}\n</code></pre>\n<blockquote>\n<p>Method 'recover(com.gth.common.exceptions.RetryableException, java.lang.String)' is never used</p>\n</blockquote>\n<p>How can it be avoided? how can IntelliJ be aware of the recover method usage?</p>\n<ul>\n<li>I don't want IntelliJ to stop warn about <code>Unused declaration</code>, only the false positive warnings</li>\n</ul>\n"},{"tags":["java","eclipse","arraylist","tostring"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1601065993,"post_id":64070556,"comment_id":113299476,"body_markdown":"you may also want to look at [`Collectors.joining`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-java.lang.CharSequence-java.lang.CharSequence-) to create a string representation of a streamable","body":"you may also want to look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Collectors.joining</code></a> to create a string representation of a streamable"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601065884,"creation_date":1601064082,"answer_id":64070649,"question_id":64070556,"body_markdown":"One solution would be to write a custom `List`-implementation to wrap a list in and then override `toString()`. This seems pretty overkill. Instead, I suggest printing the entries of the `List` with the help of the [`Stream` API][StreamAPI]:\r\n\r\n    list.forEach(entry -&gt; System.out.println(&quot;- &quot; + entry));\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Ideone]\r\n\r\nWith the advent of the new instance method [`String::formatted`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)) (currently a preview feature), we could also write\r\n\r\n    list.stream()\r\n        .map(&quot;- %s&quot;::formatted)\r\n        .forEach(System.out::println);\r\n\r\n(Sorry, no &lt;kbd&gt;Ideone demo&lt;/kbd&gt; for this one, Ideone runs on Java 12)\r\n\r\n\r\n[StreamAPI]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Stream.html\r\n[Ideone]: https://ideone.com/kGXf9h","title":"How should I go about printing all elements in an ArrayList via a toString in a formatted manner?","body":"<p>One solution would be to write a custom <code>List</code>-implementation to wrap a list in and then override <code>toString()</code>. This seems pretty overkill. Instead, I suggest printing the entries of the <code>List</code> with the help of the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code> API</a>:</p>\n<pre><code>list.forEach(entry -&gt; System.out.println(&quot;- &quot; + entry));\n</code></pre>\n<p><a href=\"https://ideone.com/kGXf9h\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>With the advent of the new instance method <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String::formatted</code></a> (currently a preview feature), we could also write</p>\n<pre><code>list.stream()\n    .map(&quot;- %s&quot;::formatted)\n    .forEach(System.out::println);\n</code></pre>\n<p>(Sorry, no <kbd>Ideone demo</kbd> for this one, Ideone runs on Java 12)</p>\n"},{"tags":[],"owner":{"account_id":11904426,"reputation":1,"user_id":8711421,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657803394,"creation_date":1601065098,"answer_id":64070860,"question_id":64070556,"body_markdown":"I would just create another method like displayArrayPretty(ArrayList&lt;String&gt; arr) where you loop through and print how you want. Ex. \r\n\r\n```\r\nfor (String str: arr) {\r\nSystem.out.println(&quot;- &quot; + str);\r\n}\r\n```","title":"How should I go about printing all elements in an ArrayList via a toString in a formatted manner?","body":"<p>I would just create another method like displayArrayPretty(ArrayList arr) where you loop through and print how you want. Ex.</p>\n<pre><code>for (String str: arr) {\nSystem.out.println(&quot;- &quot; + str);\n}\n</code></pre>\n"}],"owner":{"account_id":17709332,"reputation":3,"user_id":12857190,"display_name":"rjoor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64070649,"answer_count":2,"score":0,"last_activity_date":1657803394,"creation_date":1601063609,"question_id":64070556,"body_markdown":"What I am asking is that, in Java 8, when I call my ```toString()``` method (overridden), I am trying to print out the elements of each respective ```ArrayList&lt;String&gt;``` in this manner:\r\n\r\n```\r\n- str1\r\n- str2\r\n- str3\r\n```\r\n\r\nBut instead, when I return the ```ArrayList&lt;String&gt;```, it is printed in this manner:\r\n\r\n```\r\n[str1, str2, str3]\r\n```\r\n\r\nIt makes perfect sense to me why it is printed that way, but I&#39;m not sure how I would go about changing how it is displayed in the ```toString()```.\r\nNote that this ```ArrayList&lt;String&gt;``` varies in size depending on the object of which it is apart of, and I would rather not use an external method to print these elements out in such a manner unless there was no other way to do it.\r\n\r\nFurthermore, I don&#39;t think it even makes sense to have a for loop within a ```toString()``` printing out the elements of the ```ArrayList&lt;String&gt;``` in the aforementioned manner, and I don&#39;t think Java would allow that anyway.","title":"How should I go about printing all elements in an ArrayList via a toString in a formatted manner?","body":"<p>What I am asking is that, in Java 8, when I call my <code>toString()</code> method (overridden), I am trying to print out the elements of each respective <code>ArrayList&lt;String&gt;</code> in this manner:</p>\n<pre><code>- str1\n- str2\n- str3\n</code></pre>\n<p>But instead, when I return the <code>ArrayList&lt;String&gt;</code>, it is printed in this manner:</p>\n<pre><code>[str1, str2, str3]\n</code></pre>\n<p>It makes perfect sense to me why it is printed that way, but I'm not sure how I would go about changing how it is displayed in the <code>toString()</code>.\nNote that this <code>ArrayList&lt;String&gt;</code> varies in size depending on the object of which it is apart of, and I would rather not use an external method to print these elements out in such a manner unless there was no other way to do it.</p>\n<p>Furthermore, I don't think it even makes sense to have a for loop within a <code>toString()</code> printing out the elements of the <code>ArrayList&lt;String&gt;</code> in the aforementioned manner, and I don't think Java would allow that anyway.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1622985113,"post_id":67859481,"comment_id":119943180,"body_markdown":"Related: https://stackoverflow.com/q/3692087/438992 Java doesn&#39;t do operator overloading (for better or worse).","body":"Related: <a href=\"https://stackoverflow.com/q/3692087/438992\">stackoverflow.com/q/3692087/438992</a> Java doesn&#39;t do operator overloading (for better or worse)."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622985058,"creation_date":1622985058,"answer_id":67859506,"question_id":67859481,"body_markdown":"The error is telling you *exactly* what is wrong. You can&#39;t use arithmetic operators on Point2D.Double objects, and this makes sense since a `Point2D` represents both an X and a Y value in 2D space -- which one are you comparing?\r\n\r\nYou will need to extract the double values that the Point2D object holds, which as per the API will require your calling either `.getX()` or `.getY()` (or both), and then use these in your arithmetic comparisons.","title":"How to Convert Point2D.Double&#39;s to use aritmetic operator &gt;","body":"<p>The error is telling you <em>exactly</em> what is wrong. You can't use arithmetic operators on Point2D.Double objects, and this makes sense since a <code>Point2D</code> represents both an X and a Y value in 2D space -- which one are you comparing?</p>\n<p>You will need to extract the double values that the Point2D object holds, which as per the API will require your calling either <code>.getX()</code> or <code>.getY()</code> (or both), and then use these in your arithmetic comparisons.</p>\n"}],"owner":{"account_id":14784963,"reputation":91,"user_id":10677420,"display_name":"Umut K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":67859506,"answer_count":1,"score":-2,"last_activity_date":1657803240,"creation_date":1622984871,"question_id":67859481,"body_markdown":"\r\nI have this code:\r\n\r\n    private Point2D.Double getMedianX(Point2D.Double[] arr, int left, int right) {\r\n        //Write codes here\r\n        int center = (left + right) / 2;\r\n        // order left &amp; center\r\n        if (arr[left] &gt; arr[center])\r\n            swap(arr ,left, center);\r\n\r\nWhat I wanted to do is use the &gt; arithmetic operation in Point2D.Double object. But as the following error says I cannot use arithmetic operators in Point2D.Double elements.\r\n\r\n    Operator &#39;&gt;&#39; cannot be applied to &#39;java.awt.geom.Point2D.Double&#39;, &#39;java.awt.geom.Point2D.Double&#39;\r\n\r\nHow can I modify my code to work with &gt; operator and other aritmetic operators without changing the input elements of the function `getMedianX`?","title":"How to Convert Point2D.Double&#39;s to use aritmetic operator &gt;","body":"<p>I have this code:</p>\n<pre><code>private Point2D.Double getMedianX(Point2D.Double[] arr, int left, int right) {\n    //Write codes here\n    int center = (left + right) / 2;\n    // order left &amp; center\n    if (arr[left] &gt; arr[center])\n        swap(arr ,left, center);\n</code></pre>\n<p>What I wanted to do is use the &gt; arithmetic operation in Point2D.Double object. But as the following error says I cannot use arithmetic operators in Point2D.Double elements.</p>\n<pre><code>Operator '&gt;' cannot be applied to 'java.awt.geom.Point2D.Double', 'java.awt.geom.Point2D.Double'\n</code></pre>\n<p>How can I modify my code to work with &gt; operator and other aritmetic operators without changing the input elements of the function <code>getMedianX</code>?</p>\n"},{"tags":["java","spring-boot","scheduling"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1657787081,"post_id":72977265,"comment_id":128894821,"body_markdown":"share all your relevant code","body":"share all your relevant code"},{"owner":{"account_id":20848649,"reputation":33,"user_id":15313657,"display_name":"Mhamad jawad al hajjar"},"score":0,"creation_date":1657790976,"post_id":72977265,"comment_id":128896161,"body_markdown":"@PanagiotisBougioukos i added a snippet from the code as it shows most of the working  code","body":"@PanagiotisBougioukos i added a snippet from the code as it shows most of the working  code"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657802208,"post_id":72977265,"comment_id":128900091,"body_markdown":"How long do your methods take on production? Could it be a missed schedule? Did you explicitly configure a `TaskScheduler` or defined properties for it in Spring Boot?","body":"How long do your methods take on production? Could it be a missed schedule? Did you explicitly configure a <code>TaskScheduler</code> or defined properties for it in Spring Boot?"},{"owner":{"account_id":20848649,"reputation":33,"user_id":15313657,"display_name":"Mhamad jawad al hajjar"},"score":0,"creation_date":1657802440,"post_id":72977265,"comment_id":128900190,"body_markdown":"@M.Deinum it&#39;s around 1- 2 min that&#39;s why I separated them with 5 min","body":"@M.Deinum it&#39;s around 1- 2 min that&#39;s why I separated them with 5 min"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657802493,"post_id":72977265,"comment_id":128900221,"body_markdown":"But is it really 1 to 2 minutes on production? What if there is a connection hiccup? What if it does take longer? Which `TaskScheduler` you use?","body":"But is it really 1 to 2 minutes on production? What if there is a connection hiccup? What if it does take longer? Which <code>TaskScheduler</code> you use?"},{"owner":{"account_id":20848649,"reputation":33,"user_id":15313657,"display_name":"Mhamad jawad al hajjar"},"score":0,"creation_date":1657802743,"post_id":72977265,"comment_id":128900355,"body_markdown":"i used the default one configured by spring  itself @Scheduled is used no configuration is done from my side so ThreadPoolTaskScheduler","body":"i used the default one configured by spring  itself @Scheduled is used no configuration is done from my side so ThreadPoolTaskScheduler"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1657803468,"post_id":72977265,"comment_id":128900646,"body_markdown":"@Mhamadjawadalhajjar please check if you can replicate the  issue. If yes then it should be considered a bug of spring","body":"@Mhamadjawadalhajjar please check if you can replicate the  issue. If yes then it should be considered a bug of spring"},{"owner":{"account_id":20848649,"reputation":33,"user_id":15313657,"display_name":"Mhamad jawad al hajjar"},"score":0,"creation_date":1657803553,"post_id":72977265,"comment_id":128900689,"body_markdown":"@PanagiotisBougioukos yes that&#39;s what I&#39;ll do, any tips on a way for replicating this issue or just scheduling and monitoring ?","body":"@PanagiotisBougioukos yes that&#39;s what I&#39;ll do, any tips on a way for replicating this issue or just scheduling and monitoring ?"}],"answers":[{"tags":[],"owner":{"account_id":25522266,"reputation":54,"user_id":19311932,"display_name":"Kiu Kiu Duck Pea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657791245,"creation_date":1657791245,"answer_id":72978341,"question_id":72977265,"body_markdown":"try @Scheduled(cron = &quot;0 35,40 14 * * ?&quot;) for your function","title":"Spring Boot scheduler issue","body":"<p>try @Scheduled(cron = &quot;0 35,40 14 * * ?&quot;) for your function</p>\n"}],"owner":{"account_id":20848649,"reputation":33,"user_id":15313657,"display_name":"Mhamad jawad al hajjar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657803173,"creation_date":1657786253,"question_id":72977265,"body_markdown":"I have a simple Spring Boot app that handles some REST API calls and so on. I added ```@EnableScheduling``` to my main class and then proceeded to add ```@Scheduled``` on top of each function I need to schedule and then added a cron expression.\r\n\r\nSpring boot Version : 2.7.1\r\n\r\nWhat I have is the following:\r\n\r\nI have three classes. Each class contains a void function scheduled.\r\n\r\nI ran the app and everything seems working fine. All the API calls ran smoothly and as excepted, and then I ran the same app but from a jar file using the cmd. The scheduler works fine the first day and then suddenly stops working and then starts working again the day after.\r\n\r\nI was monitoring the logs and it turned out that 4 out of 5 days the scheduler ran as expected, but skipped one day for no reason.\r\n\r\nAny one might experienced this weird behavior?\r\n\r\nmain class:\r\n```java\r\n@EnableScheduling\r\n@SpringBootApplication\r\npublic class MYCLASSHERE {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MYCLASSHERE.class, args);\r\n\t}\r\n}\r\n```\r\neach class has the following structure: \r\n```java\r\n@Service\r\npublic class MYOTHERCLASS{\r\n@Scheduled(cron = &quot;0 5 12 * * *&quot;)\r\n\tpublic void FUNCTION() {}\r\n}\r\n```\r\n```java\r\n@Service\r\npublic class MYOTHERCLASS{\r\n@Scheduled(cron = &quot;0 10 12 * * *&quot;)\r\n\tpublic void FUNCTION() {}\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\npublic class MYOTHERCLASS{\r\n@Scheduled(cron = &quot;0 15 12 * * *&quot;)\r\n\tpublic void FUNCTION() {}\r\n}\r\n```\r\nNote that everything is working fine. The scheduler stoppage that I&#39;m experiencing is the only problem when running from a jar file.\r\n","title":"Spring Boot scheduler issue","body":"<p>I have a simple Spring Boot app that handles some REST API calls and so on. I added <code>@EnableScheduling</code> to my main class and then proceeded to add <code>@Scheduled</code> on top of each function I need to schedule and then added a cron expression.</p>\n<p>Spring boot Version : 2.7.1</p>\n<p>What I have is the following:</p>\n<p>I have three classes. Each class contains a void function scheduled.</p>\n<p>I ran the app and everything seems working fine. All the API calls ran smoothly and as excepted, and then I ran the same app but from a jar file using the cmd. The scheduler works fine the first day and then suddenly stops working and then starts working again the day after.</p>\n<p>I was monitoring the logs and it turned out that 4 out of 5 days the scheduler ran as expected, but skipped one day for no reason.</p>\n<p>Any one might experienced this weird behavior?</p>\n<p>main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableScheduling\n@SpringBootApplication\npublic class MYCLASSHERE {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MYCLASSHERE.class, args);\n    }\n}\n</code></pre>\n<p>each class has the following structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MYOTHERCLASS{\n@Scheduled(cron = &quot;0 5 12 * * *&quot;)\n    public void FUNCTION() {}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MYOTHERCLASS{\n@Scheduled(cron = &quot;0 10 12 * * *&quot;)\n    public void FUNCTION() {}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MYOTHERCLASS{\n@Scheduled(cron = &quot;0 15 12 * * *&quot;)\n    public void FUNCTION() {}\n}\n</code></pre>\n<p>Note that everything is working fine. The scheduler stoppage that I'm experiencing is the only problem when running from a jar file.</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3732722,"reputation":1,"user_id":3104560,"display_name":"majbah08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657802104,"creation_date":1657802104,"answer_id":72980600,"question_id":72979458,"body_markdown":"Your code seems ok to me . I think its your IDE issue, you have to enable  Lombok annotation processing in your IDE. You can follow this [link][1] to enable it.   \r\n\r\n\r\n  [1]: https://www.baeldung.com/lombok-ide#:~:text=Annotation%20processing%20isn&#39;t%20enabled%20by%20default%2C%20though.&amp;text=We%20need%20to%20go%20to,project%20classpath%20option%20is%20selected","title":"Hibernate: Why am I getting an empty json?","body":"<p>Your code seems ok to me . I think its your IDE issue, you have to enable  Lombok annotation processing in your IDE. You can follow this <a href=\"https://www.baeldung.com/lombok-ide#:%7E:text=Annotation%20processing%20isn%27t%20enabled%20by%20default%2C%20though.&amp;text=We%20need%20to%20go%20to,project%20classpath%20option%20is%20selected\" rel=\"nofollow noreferrer\">link</a> to enable it.</p>\n"},{"tags":[],"owner":{"account_id":11330807,"reputation":479,"user_id":8308399,"display_name":"Brian Brix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657803076,"creation_date":1657803076,"answer_id":72980828,"question_id":72979458,"body_markdown":"Could you add ```@AllArgsConstructor``` annotation to your entity. I think it might solve your issue. Since currently you only have ```@NoArgsConstructor``` and ```@RequiredArgsConstructor``` which comes bundled with ```@Data```. And also you don&#39;t necessarily need the name paramenter in ```@Entity```","title":"Hibernate: Why am I getting an empty json?","body":"<p>Could you add <code>@AllArgsConstructor</code> annotation to your entity. I think it might solve your issue. Since currently you only have <code>@NoArgsConstructor</code> and <code>@RequiredArgsConstructor</code> which comes bundled with <code>@Data</code>. And also you don't necessarily need the name paramenter in <code>@Entity</code></p>\n"}],"owner":{"display_name":"user18308772"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657803076,"creation_date":1657796610,"question_id":72979458,"body_markdown":"I have a simple entity class:\r\n\r\n    @Entity(name = &quot;User&quot;)\r\n    @Table(name = &quot;users&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String name;\r\n        private Integer age;\r\n        private String email;\r\n    }\r\n\r\nA repository:\r\n\r\n    @Repository\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n    \r\n    }\r\n\r\nA service:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        public UserService(UserRepository userRepository) {\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        public Iterable&lt;User&gt; findAllUsers() {\r\n            return userRepository.findAll();\r\n        }\r\n    \r\n        public &lt;U extends User&gt; void saveUser(U user) {\r\n            userRepository.save(user);\r\n        }\r\n    }\r\n\r\nA controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/users&quot;)\r\n    public class UserController {\r\n    \r\n        private final UserService userService;\r\n    \r\n        public UserController(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n    \r\n        @GetMapping\r\n        public Iterable&lt;User&gt; getAllUsers() {\r\n            return userService.findAllUsers();\r\n        }\r\n     \r\n        @PostMapping\r\n        public void addUser(@RequestBody User user) {\r\n            userService.saveUser(user);\r\n        }\r\n    }\r\n\r\nAnd a yaml file:\r\n\r\n    spring:\r\n      datasource:\r\n        username: &quot;root&quot;\r\n        password: &quot;123123&quot;\r\n        url: &quot;jdbc:mysql://localhost:3306/mydbtest&quot;\r\n        driverClassName: &quot;com.mysql.jdbc.Driver&quot;\r\n      jpa:\r\n        hibernate.ddl-auto: update\r\n        generate-ddl: true\r\n        show-sql: true\r\n\r\nI use MYSQL Workbench, where I have a database with one table called users. Sending a get request and trying to get all the objects from the table, I get an empty json. What should I do? ","title":"Hibernate: Why am I getting an empty json?","body":"<p>I have a simple entity class:</p>\n<pre><code>@Entity(name = &quot;User&quot;)\n@Table(name = &quot;users&quot;)\n@Data\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String name;\n    private Integer age;\n    private String email;\n}\n</code></pre>\n<p>A repository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n\n}\n</code></pre>\n<p>A service:</p>\n<pre><code>@Service\npublic class UserService {\n\n    private final UserRepository userRepository;\n\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    public Iterable&lt;User&gt; findAllUsers() {\n        return userRepository.findAll();\n    }\n\n    public &lt;U extends User&gt; void saveUser(U user) {\n        userRepository.save(user);\n    }\n}\n</code></pre>\n<p>A controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/v1/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping\n    public Iterable&lt;User&gt; getAllUsers() {\n        return userService.findAllUsers();\n    }\n \n    @PostMapping\n    public void addUser(@RequestBody User user) {\n        userService.saveUser(user);\n    }\n}\n</code></pre>\n<p>And a yaml file:</p>\n<pre><code>spring:\n  datasource:\n    username: &quot;root&quot;\n    password: &quot;123123&quot;\n    url: &quot;jdbc:mysql://localhost:3306/mydbtest&quot;\n    driverClassName: &quot;com.mysql.jdbc.Driver&quot;\n  jpa:\n    hibernate.ddl-auto: update\n    generate-ddl: true\n    show-sql: true\n</code></pre>\n<p>I use MYSQL Workbench, where I have a database with one table called users. Sending a get request and trying to get all the objects from the table, I get an empty json. What should I do?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1657796084,"post_id":72979265,"comment_id":128897919,"body_markdown":"Also how exactly do you &quot;plug in&quot; spring here? Can you show relevant parts of code from the main method (an application context creation, etc.) Otheriwse please see my answer","body":"Also how exactly do you &quot;plug in&quot; spring here? Can you show relevant parts of code from the main method (an application context creation, etc.) Otheriwse please see my answer"},{"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"score":0,"creation_date":1657796202,"post_id":72979265,"comment_id":128897949,"body_markdown":"@MarkBramnik, my classes are that pretty simple. Throught that *AppConfig* I assumed that *Interfacex* will know who&#39;s the implementor.","body":"@MarkBramnik, my classes are that pretty simple. Throught that <i>AppConfig</i> I assumed that <i>Interfacex</i> will know who&#39;s the implementor."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1657796259,"post_id":72979265,"comment_id":128897968,"body_markdown":"I&#39;ve added an actual answer :)","body":"I&#39;ve added an actual answer :)"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1657800524,"post_id":72979265,"comment_id":128899455,"body_markdown":"_Why is it null?_ How do you verify it&#39;s `null`? Please provide a [mcve].","body":"<i>Why is it null?</i> How do you verify it&#39;s <code>null</code>? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657803483,"post_id":72979265,"comment_id":128900655,"body_markdown":"There is far too little information here to answer it.","body":"There is far too little information here to answer it."},{"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"score":0,"creation_date":1657804322,"post_id":72979265,"comment_id":128901058,"body_markdown":"@SotiriosDelimanolis. My scenario is that simple. Nothing more (more or less). That *Interfacex* in my case can&#39;t directly be injected with the *Interfaceximpl* and hence the question. However it&#39;s solved already using the intuition I found on Mark Bramnik&#39;s answer.","body":"@SotiriosDelimanolis. My scenario is that simple. Nothing more (more or less). That <i>Interfacex</i> in my case can&#39;t directly be injected with the <i>Interfaceximpl</i> and hence the question. However it&#39;s solved already using the intuition I found on Mark Bramnik&#39;s answer."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1657804769,"post_id":72979265,"comment_id":128901244,"body_markdown":"This is still unclear. Are you instantiating Main and trying to access the instance’s field ?","body":"This is still unclear. Are you instantiating Main and trying to access the instance’s field ?"},{"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"score":0,"creation_date":1657805766,"post_id":72979265,"comment_id":128901660,"body_markdown":"@SotiriosDelimanolis I did wiring directly in the main method. Not a web. I had done this for some quick instances access/modification purposes. To test them manually. And I came with this simple scenario. Yes it looks funny btw.","body":"@SotiriosDelimanolis I did wiring directly in the main method. Not a web. I had done this for some quick instances access/modification purposes. To test them manually. And I came with this simple scenario. Yes it looks funny btw."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1657806211,"post_id":72979265,"comment_id":128901847,"body_markdown":"I’m asking where are you doing `xyz.interfacex` and seeing null.","body":"I’m asking where are you doing <code>xyz.interfacex</code> and seeing null."},{"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"score":0,"creation_date":1657806558,"post_id":72979265,"comment_id":128901997,"body_markdown":"@SotiriosDelimanolis. The Eclipse will directly tells/throws/slap the NPE on my face whenever I do *interfacex.someImplMethods()*.","body":"@SotiriosDelimanolis. The Eclipse will directly tells/throws/slap the NPE on my face whenever I do <i>interfacex.someImplMethods()</i>."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1657806685,"post_id":72979265,"comment_id":128902052,"body_markdown":"That doesn&#39;t make sense. Throwing exception is a runtime behavior. If it&#39;s performing static analysis, it would warn you on an actual method invocation. If it&#39;s just saying that the `interfacex` field is `null`, then that is a whole other thing, unrelated to Spring. It&#39;s very unclear what you&#39;re seeing without an actual error/warning message and without a [mcve].","body":"That doesn&#39;t make sense. Throwing exception is a runtime behavior. If it&#39;s performing static analysis, it would warn you on an actual method invocation. If it&#39;s just saying that the <code>interfacex</code> field is <code>null</code>, then that is a whole other thing, unrelated to Spring. It&#39;s very unclear what you&#39;re seeing without an actual error/warning message and without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657796360,"creation_date":1657796234,"answer_id":72979383,"question_id":72979265,"body_markdown":"Are you really placing the `@Autowired` on the field of the main class or its just an illustration? If you do - it won&#39;t work because the class on which @Autowired can happen must be by itself managed by Spring. And in this case its obviously not, because its a special class - an entry point of the application...\r\n\r\nI suggest to use something like this instead:\r\n\r\n```java \r\n@Component \r\npublic class EntryPoint {\r\n \r\n   \r\n    @Autowired\r\n    Interfacex interfacex; \r\n\r\n    public void foo() {\r\n      // interfacex shouldn&#39;t be null \r\n      // because everything is managed by spring now\r\n      interfacex.doA();\r\n    } \r\n\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(..) {\r\n        ApplicationContext ctx = ...\r\n        EntryPoint ep = ctx.getBean(EntryPoint.class);\r\n        ep.foo();\r\n    }\r\n}\r\n```","title":"Why does my direct autowire property injection turns into null?","body":"<p>Are you really placing the <code>@Autowired</code> on the field of the main class or its just an illustration? If you do - it won't work because the class on which @Autowired can happen must be by itself managed by Spring. And in this case its obviously not, because its a special class - an entry point of the application...</p>\n<p>I suggest to use something like this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component \npublic class EntryPoint {\n \n   \n    @Autowired\n    Interfacex interfacex; \n\n    public void foo() {\n      // interfacex shouldn't be null \n      // because everything is managed by spring now\n      interfacex.doA();\n    } \n\n}\n\npublic class Main {\n\n    public static void main(..) {\n        ApplicationContext ctx = ...\n        EntryPoint ep = ctx.getBean(EntryPoint.class);\n        ep.foo();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6843439,"reputation":108,"user_id":5262967,"display_name":"Amol Limaye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657802964,"creation_date":1657802964,"answer_id":72980802,"question_id":72979265,"body_markdown":"@Autowired annotation will not be recognized and acted upon by spring unless the class is a bean.\r\n\r\nIn this case, the &#39;Main&#39; class is not a bean. So, @Autowired will do nothing.\r\n\r\nYou need to make &#39;Main&#39; a bean. One way to do that is to add @Component annotation to that class.\r\n\r\nAlso, this seems like just something you are trying out to understand the working. In that case, you can try my above suggestion.\r\n\r\nIf you are doing this for prod, then you should change the class structure, class and variable names and the way you are creating beans.","title":"Why does my direct autowire property injection turns into null?","body":"<p>@Autowired annotation will not be recognized and acted upon by spring unless the class is a bean.</p>\n<p>In this case, the 'Main' class is not a bean. So, @Autowired will do nothing.</p>\n<p>You need to make 'Main' a bean. One way to do that is to add @Component annotation to that class.</p>\n<p>Also, this seems like just something you are trying out to understand the working. In that case, you can try my above suggestion.</p>\n<p>If you are doing this for prod, then you should change the class structure, class and variable names and the way you are creating beans.</p>\n"}],"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657809479,"accepted_answer_id":72979383,"answer_count":2,"score":0,"last_activity_date":1657802964,"creation_date":1657795685,"question_id":72979265,"body_markdown":"So I try to inject an interface implemention through a field. But can&#39;t figure it out why it&#39;s null.\r\n\r\n    Package\r\n       com.a\r\n             Interfacex\r\n       com.b\r\n             Interfaceximpl\r\n\r\n**Interfacex.java**\r\n\r\n    public interface Interfacex {\r\n      void doA ();\r\n    }\r\n **Interfaceximpl.java**\r\n\r\n\r\n    @Component\r\n    public class Interfaceximpl implements interfacex { \r\n    @Override\r\n    void doA(){\r\n    // do something\r\n    }\r\n    }\r\n\r\n**Main.java** \r\n   \r\n    public class Main {\r\n    @Autowired\r\n    Interfacex interfacex;\r\n    \r\n    public static void main (String args[]){ //....}\r\n    \r\n    }\r\n\r\nThis *interfacex* seems to be null.\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com&quot;)\r\n    public class AppConfig { // nothing here}\r\n\r\nThere is no such setter injection in my case. I just inject the ***interfacex*** with *@Autowired*. Why is it null?. \r\n","title":"Why does my direct autowire property injection turns into null?","body":"<p>So I try to inject an interface implemention through a field. But can't figure it out why it's null.</p>\n<pre><code>Package\n   com.a\n         Interfacex\n   com.b\n         Interfaceximpl\n</code></pre>\n<p><strong>Interfacex.java</strong></p>\n<pre><code>public interface Interfacex {\n  void doA ();\n}\n</code></pre>\n<p><strong>Interfaceximpl.java</strong></p>\n<pre><code>@Component\npublic class Interfaceximpl implements interfacex { \n@Override\nvoid doA(){\n// do something\n}\n}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>public class Main {\n@Autowired\nInterfacex interfacex;\n\npublic static void main (String args[]){ //....}\n\n}\n</code></pre>\n<p>This <em>interfacex</em> seems to be null.</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;com&quot;)\npublic class AppConfig { // nothing here}\n</code></pre>\n<p>There is no such setter injection in my case. I just inject the <em><strong>interfacex</strong></em> with <em>@Autowired</em>. Why is it null?.</p>\n"},{"tags":["java","spring-boot","cron","scheduled-tasks","spring-scheduled"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1627461602,"post_id":68556946,"comment_id":121160045,"body_markdown":"Use something like quartz, which uses a central storage for the job information. Shedlock will not solve that it will only lock for some time, if your job takes longer/shorter and there is a timing difference on the nodes it still will run multiple times.","body":"Use something like quartz, which uses a central storage for the job information. Shedlock will not solve that it will only lock for some time, if your job takes longer/shorter and there is a timing difference on the nodes it still will run multiple times."},{"owner":{"account_id":8153110,"reputation":169,"user_id":6139534,"display_name":"Stephen"},"score":0,"creation_date":1627536666,"post_id":68556946,"comment_id":121183308,"body_markdown":"You can use jobrunr which supports distributed scheduling of jobs","body":"You can use jobrunr which supports distributed scheduling of jobs"}],"answers":[{"tags":[],"owner":{"account_id":22100899,"reputation":1,"user_id":16357398,"display_name":"coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627471073,"creation_date":1627471073,"answer_id":68559415,"question_id":68556946,"body_markdown":"why not use distribute executor?if you deployed them in multiple instance,you must  manage and schedule the instance&#39;s status,for example instance A run  at t1,instance B run at t2,it&#39;s very complex.You can deployed them on instance or selected distribute schedule executor,in all distribute system, status manage is very difficulty","title":"Spring boot scheduled cron jobs run 2 times when deployed more than one instance","body":"<p>why not use distribute executor?if you deployed them in multiple instance,you must  manage and schedule the instance's status,for example instance A run  at t1,instance B run at t2,it's very complex.You can deployed them on instance or selected distribute schedule executor,in all distribute system, status manage is very difficulty</p>\n"},{"tags":[],"owner":{"account_id":25808270,"reputation":1,"user_id":19549478,"display_name":"user19549478"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657802937,"creation_date":1657802937,"answer_id":72980793,"question_id":68556946,"body_markdown":"Try deploying Spring Boot Scheduled Cron jobs one at a time to prevent them being deployed more than one instance ","title":"Spring boot scheduled cron jobs run 2 times when deployed more than one instance","body":"<p>Try deploying Spring Boot Scheduled Cron jobs one at a time to prevent them being deployed more than one instance</p>\n"}],"owner":{"account_id":6851676,"reputation":3,"user_id":5268686,"display_name":"Selin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657802937,"creation_date":1627460942,"question_id":68556946,"body_markdown":"I have four cron jobs in the application and they work some hours in the day. I deployed them in 6 different instance and I use shedLock to prevent overlapping but it wasn&#39;t enough. Because sometimes job delay and lock is removed, then job work 2 times again. How can I configure that if a cron job still working in the one instance, other instances don&#39;t start job till this one finish?","title":"Spring boot scheduled cron jobs run 2 times when deployed more than one instance","body":"<p>I have four cron jobs in the application and they work some hours in the day. I deployed them in 6 different instance and I use shedLock to prevent overlapping but it wasn't enough. Because sometimes job delay and lock is removed, then job work 2 times again. How can I configure that if a cron job still working in the one instance, other instances don't start job till this one finish?</p>\n"},{"tags":["java","time","duration"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1657726362,"post_id":72968852,"comment_id":128880427,"body_markdown":"To me, it looks like `duration`, `interval` and `frequency` are all representing the same thing. If they aren&#39;t, then could you explain the details?","body":"To me, it looks like <code>duration</code>, <code>interval</code> and <code>frequency</code> are all representing the same thing. If they aren&#39;t, then could you explain the details?"},{"owner":{"account_id":13625279,"reputation":1,"user_id":9828717,"display_name":"xrags"},"score":0,"creation_date":1657727342,"post_id":72968852,"comment_id":128880787,"body_markdown":"Yes they are all representing the same thing.","body":"Yes they are all representing the same thing."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657727803,"post_id":72968852,"comment_id":128880981,"body_markdown":"Then you should drop two of them. Storing a `Duration` is fine, as this can easily be converted to a fixed time unit.","body":"Then you should drop two of them. Storing a <code>Duration</code> is fine, as this can easily be converted to a fixed time unit."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657727936,"post_id":72968852,"comment_id":128881032,"body_markdown":"And by the way, [*value objects* should be immutable](https://martinfowler.com/bliki/ValueObject.html).","body":"And by the way, <a href=\"https://martinfowler.com/bliki/ValueObject.html\" rel=\"nofollow noreferrer\"><i>value objects</i> should be immutable</a>."},{"owner":{"account_id":13625279,"reputation":1,"user_id":9828717,"display_name":"xrags"},"score":0,"creation_date":1657728079,"post_id":72968852,"comment_id":128881082,"body_markdown":"I don&#39;t have the code of when I dropped frequency.  I removed the declaration of frequency but left the getter and setter intact.  The jsp was unable to  find the variable without the declaration.  Is there some way to overcome the blindness of the jsp?","body":"I don&#39;t have the code of when I dropped frequency.  I removed the declaration of frequency but left the getter and setter intact.  The jsp was unable to  find the variable without the declaration.  Is there some way to overcome the blindness of the jsp?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657728368,"post_id":72968852,"comment_id":128881185,"body_markdown":"Why do you want to keep the frequency while you already have the interval?","body":"Why do you want to keep the frequency while you already have the interval?"},{"owner":{"account_id":13625279,"reputation":1,"user_id":9828717,"display_name":"xrags"},"score":0,"creation_date":1657728377,"post_id":72968852,"comment_id":128881192,"body_markdown":"I agree that VO should be immutable.  I also now see that I should be taking care of this in the form, not in the VO.  Thanks for your comments MC Emperor.","body":"I agree that VO should be immutable.  I also now see that I should be taking care of this in the form, not in the VO.  Thanks for your comments MC Emperor."}],"answers":[{"tags":[],"owner":{"account_id":13625279,"reputation":1,"user_id":9828717,"display_name":"xrags"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657802696,"creation_date":1657729230,"answer_id":72969538,"question_id":72968852,"body_markdown":"Moved the seconds-to-duration conversion logic to the constructor for the VO, so the VO can remain immutable.  The jsp now can use the seconds value without conversion, and the controller will receive the value in seconds via the POST in the form.  Reduced the variables in the VO to only store Duration (it&#39;s the most general implementation).  My VO now looks like this\r\n```\r\nimport java.time.Duration;\r\n\r\npublic class PeriodicCommandVO {\r\n\tprivate String id;\r\n\tprivate String command;\r\n\tprivate Duration duration;\r\n\tprivate boolean active;\r\n\r\n\tpublic PeriodicCommandVO (PeriodicCommandForm form) {\r\n\t\tthis.id = form.getId();\r\n\t\tthis.command = form.getCommand();\r\n\t\tthis.duration = Duration.ofSeconds(form.getFrequency());\r\n\t}\r\n\tpublic String getCommand() {\r\n\t\treturn command;\r\n\t}\r\n\tpublic void setCommand(String command) {\r\n\t\tthis.command = command;\r\n\t}\r\n\tpublic Duration getDuration() {\r\n\t\treturn duration;\r\n\t}\r\n\tpublic void setDuration(Duration duration) {\r\n\t\tthis.duration = duration;\r\n\t}\r\n\tpublic boolean isActive() {\r\n\t\treturn active;\r\n\t}\r\n\tpublic void setActive(boolean active) {\r\n\t\tthis.active = active;\r\n\t}\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n}\r\n```\r\nAdditionally, I changed the serialization logic to store the Duration object using ObjectOutputStream.writeObject(), rather than the milliseconds using ObjectOutputStream.writeLong().  The result is that the only conversion between the different representations is in the VO constructor.","title":"Best practice for time dependent variables","body":"<p>Moved the seconds-to-duration conversion logic to the constructor for the VO, so the VO can remain immutable.  The jsp now can use the seconds value without conversion, and the controller will receive the value in seconds via the POST in the form.  Reduced the variables in the VO to only store Duration (it's the most general implementation).  My VO now looks like this</p>\n<pre><code>import java.time.Duration;\n\npublic class PeriodicCommandVO {\n    private String id;\n    private String command;\n    private Duration duration;\n    private boolean active;\n\n    public PeriodicCommandVO (PeriodicCommandForm form) {\n        this.id = form.getId();\n        this.command = form.getCommand();\n        this.duration = Duration.ofSeconds(form.getFrequency());\n    }\n    public String getCommand() {\n        return command;\n    }\n    public void setCommand(String command) {\n        this.command = command;\n    }\n    public Duration getDuration() {\n        return duration;\n    }\n    public void setDuration(Duration duration) {\n        this.duration = duration;\n    }\n    public boolean isActive() {\n        return active;\n    }\n    public void setActive(boolean active) {\n        this.active = active;\n    }\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Additionally, I changed the serialization logic to store the Duration object using ObjectOutputStream.writeObject(), rather than the milliseconds using ObjectOutputStream.writeLong().  The result is that the only conversion between the different representations is in the VO constructor.</p>\n"}],"owner":{"account_id":13625279,"reputation":1,"user_id":9828717,"display_name":"xrags"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72969538,"answer_count":1,"score":0,"last_activity_date":1657802696,"creation_date":1657726097,"question_id":72968852,"body_markdown":"I have a system that operates with real-time events.  The user can interject custom events at a specified interval.  The real-time engine uses java.time.Duration to time the events.  The user is presented a menu via jsp that has a specification of the Duration in (whole) seconds.  The event list is serialized as Long values.  So I have three ways of using the same value.  I have created a value object that performs the conversions on each access so I don&#39;t have to scatter the conversions throughout the code.  I&#39;m wondering whether there is a better way to accomplish this scenario.  Here is my VO.\r\n\r\n```\r\nimport java.time.Duration;\r\n\r\npublic class PeriodicCommandVO {\r\n\tprivate String id;\r\n\tprivate String command;\r\n\tprivate Duration duration;\r\n\tprivate Long interval;\r\n\tprivate Long frequency;\r\n\tprivate boolean active;\r\n\tpublic String getCommand() {\r\n\t\treturn command;\r\n\t}\r\n\tpublic void setCommand(String command) {\r\n\t\tthis.command = command;\r\n\t}\r\n\tpublic Long getInterval() {\r\n\t\tif (interval == null) {\r\n\t\t\tif (duration != null) interval = duration.toMillis();\r\n\t\t\telse {\r\n\t\t\t\tif (frequency != null) interval = frequency*1000;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn interval;\r\n\t}\r\n\tpublic void setInterval(Long interval) {\r\n\t\tthis.interval = interval;\r\n\t\tthis.duration = Duration.ofMillis(interval);\r\n\t\tthis.frequency = (interval+500)/1000;\r\n\t}\r\n\tpublic Duration getDuration() {\r\n\t\tif (duration == null) {\r\n\t\t\tif (interval != null) duration = Duration.ofMillis(interval);\r\n\t\t\telse {\r\n\t\t\t\tif (frequency != null) duration = Duration.ofMillis(frequency*1000);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn duration;\r\n\t}\r\n\tpublic void setDuration(Duration duration) {\r\n\t\tthis.duration = duration;\r\n\t\tthis.interval = duration.toMillis();\r\n\t\tthis.frequency = (interval+500)/1000;\r\n\t}\r\n\tpublic Long getFrequency() {\r\n\t\tif (frequency == null) {\r\n\t\t\tif (duration != null) frequency = (duration.toMillis()+500)/1000;\r\n\t\t\telse {\r\n\t\t\t\tif (interval != null) frequency = (interval+500)/1000;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn frequency;\r\n\t}\r\n\tpublic void setFrequency(Long frequency) {\r\n\t\tthis.frequency = frequency;\r\n\t\tthis.interval = frequency*1000;\r\n\t\tthis.duration = Duration.ofSeconds(frequency);\r\n\t}\r\n\tpublic boolean isActive() {\r\n\t\treturn active;\r\n\t}\r\n\tpublic void setActive(boolean active) {\r\n\t\tthis.active = active;\r\n\t}\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n}\r\n```","title":"Best practice for time dependent variables","body":"<p>I have a system that operates with real-time events.  The user can interject custom events at a specified interval.  The real-time engine uses java.time.Duration to time the events.  The user is presented a menu via jsp that has a specification of the Duration in (whole) seconds.  The event list is serialized as Long values.  So I have three ways of using the same value.  I have created a value object that performs the conversions on each access so I don't have to scatter the conversions throughout the code.  I'm wondering whether there is a better way to accomplish this scenario.  Here is my VO.</p>\n<pre><code>import java.time.Duration;\n\npublic class PeriodicCommandVO {\n    private String id;\n    private String command;\n    private Duration duration;\n    private Long interval;\n    private Long frequency;\n    private boolean active;\n    public String getCommand() {\n        return command;\n    }\n    public void setCommand(String command) {\n        this.command = command;\n    }\n    public Long getInterval() {\n        if (interval == null) {\n            if (duration != null) interval = duration.toMillis();\n            else {\n                if (frequency != null) interval = frequency*1000;\n            }\n        }\n        return interval;\n    }\n    public void setInterval(Long interval) {\n        this.interval = interval;\n        this.duration = Duration.ofMillis(interval);\n        this.frequency = (interval+500)/1000;\n    }\n    public Duration getDuration() {\n        if (duration == null) {\n            if (interval != null) duration = Duration.ofMillis(interval);\n            else {\n                if (frequency != null) duration = Duration.ofMillis(frequency*1000);\n            }\n        }\n        return duration;\n    }\n    public void setDuration(Duration duration) {\n        this.duration = duration;\n        this.interval = duration.toMillis();\n        this.frequency = (interval+500)/1000;\n    }\n    public Long getFrequency() {\n        if (frequency == null) {\n            if (duration != null) frequency = (duration.toMillis()+500)/1000;\n            else {\n                if (interval != null) frequency = (interval+500)/1000;\n            }\n        }\n        return frequency;\n    }\n    public void setFrequency(Long frequency) {\n        this.frequency = frequency;\n        this.interval = frequency*1000;\n        this.duration = Duration.ofSeconds(frequency);\n    }\n    public boolean isActive() {\n        return active;\n    }\n    public void setActive(boolean active) {\n        this.active = active;\n    }\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1376577716,"post_id":18255117,"comment_id":26770126,"body_markdown":"Your question maybe more clear if you post a code example (i.e. the one that triggers the compiler error).","body":"Your question maybe more clear if you post a code example (i.e. the one that triggers the compiler error)."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1376577768,"post_id":18255117,"comment_id":26770166,"body_markdown":"But you must be having the class name in `Skeet&lt;J&gt;` right? You need to pass that class to the `Generic` constructor. If you show actual code, we can help you better.","body":"But you must be having the class name in <code>Skeet&lt;J&gt;</code> right? You need to pass that class to the <code>Generic</code> constructor. If you show actual code, we can help you better."},{"owner":{"account_id":401512,"reputation":47090,"user_id":768110,"accept_rate":77,"display_name":"RiaD"},"score":0,"creation_date":1376577814,"post_id":18255117,"comment_id":26770201,"body_markdown":"you can&#39;t use `J.class` because of [type erasure](http://stackoverflow.com/questions/tagged/type-erasure). But you can get concrete `Class` variable on `Skeet&lt;J&gt;` construction","body":"you can&#39;t use <code>J.class</code> because of <a href=\"http://stackoverflow.com/questions/tagged/type-erasure\">type erasure</a>. But you can get concrete <code>Class</code> variable on <code>Skeet&lt;J&gt;</code> construction"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":1,"creation_date":1376578370,"post_id":18255117,"comment_id":26770542,"body_markdown":"On the linked question, Jon didn&#39;t literally mean `T.class` - you can&#39;t use `.class` on type parameters. He meant a `Class&lt;T&gt;` would need to be passed in by the caller.","body":"On the linked question, Jon didn&#39;t literally mean <code>T.class</code> - you can&#39;t use <code>.class</code> on type parameters. He meant a <code>Class&lt;T&gt;</code> would need to be passed in by the caller."},{"owner":{"account_id":1088977,"reputation":2656,"user_id":1353391,"accept_rate":88,"display_name":"John Gowers"},"score":0,"creation_date":1376578523,"post_id":18255117,"comment_id":26770637,"body_markdown":"I know.  I, however, would like to be able to pass in the class of `J`.  Is that possible?","body":"I know.  I, however, would like to be able to pass in the class of <code>J</code>.  Is that possible?"}],"answers":[{"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1376578583,"creation_date":1376578583,"answer_id":18255409,"question_id":18255117,"body_markdown":"Using `.class` on a type parameter isn&#39;t allowed - because of [type erasure][1], `W` will have been *erased* to `Component` at runtime. `InputField` will need to also take a `Class&lt;W&gt;` from the caller, like `InputFieldArray`:\r\n\r\n    public InputField(String labelText, Class&lt;W&gt; clazz)\r\n    {\r\n        super(new String[] {labelText}, clazz);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"How do I get the `.class` attribute from a generic type parameter?","body":"<p>Using <code>.class</code> on a type parameter isn't allowed - because of <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\">type erasure</a>, <code>W</code> will have been <em>erased</em> to <code>Component</code> at runtime. <code>InputField</code> will need to also take a <code>Class&lt;W&gt;</code> from the caller, like <code>InputFieldArray</code>:</p>\n\n<pre><code>public InputField(String labelText, Class&lt;W&gt; clazz)\n{\n    super(new String[] {labelText}, clazz);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1376578590,"creation_date":1376578590,"answer_id":18255413,"question_id":18255117,"body_markdown":"W may not be available due to type erasure. You should require that a `Class&lt;W&gt;` is passed into the method. You get a class object and its generic ensures that only `W` and no subclass is passed in, due to covariance.\r\n\r\n    public InputField(String labelText, Class&lt;W&gt; cls)\r\n    {\r\n        super(new String[] {labelText}, cls);\r\n    }\r\n\r\nwill take `W.class` but not `WSubtype.class`.","title":"How do I get the `.class` attribute from a generic type parameter?","body":"<p>W may not be available due to type erasure. You should require that a <code>Class&lt;W&gt;</code> is passed into the method. You get a class object and its generic ensures that only <code>W</code> and no subclass is passed in, due to covariance.</p>\n\n<pre><code>public InputField(String labelText, Class&lt;W&gt; cls)\n{\n    super(new String[] {labelText}, cls);\n}\n</code></pre>\n\n<p>will take <code>W.class</code> but not <code>WSubtype.class</code>.</p>\n"},{"tags":[],"owner":{"account_id":1337754,"reputation":1329,"user_id":1280060,"accept_rate":50,"display_name":"jdex"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1657802588,"creation_date":1505119739,"answer_id":46151602,"question_id":18255117,"body_markdown":"If you&#39;re using the Gson library, you can get the type of `T` easily by using `TypeToken`. The class documentation is available [here][1]:\r\n\r\nI did it like this:\r\n\r\nThis is my class definition:\r\n\r\n    public class ManagerGeneric &lt;T&gt; {}\r\n\r\n\r\nThis is in my method:\r\n\r\n    // Get the type of generic parameter\r\n    Type typeOfT = new TypeToken&lt;T&gt;(){}.getType();\r\n    // Deserialize\r\n    T data = gson.fromJson(json, typeOfT);\r\n\r\n\r\n  [1]: https://google.github.io/gson/apidocs/com/google/gson/reflect/TypeToken.html","title":"How do I get the `.class` attribute from a generic type parameter?","body":"<p>If you're using the Gson library, you can get the type of <code>T</code> easily by using <code>TypeToken</code>. The class documentation is available <a href=\"https://google.github.io/gson/apidocs/com/google/gson/reflect/TypeToken.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n<p>I did it like this:</p>\n<p>This is my class definition:</p>\n<pre><code>public class ManagerGeneric &lt;T&gt; {}\n</code></pre>\n<p>This is in my method:</p>\n<pre><code>// Get the type of generic parameter\nType typeOfT = new TypeToken&lt;T&gt;(){}.getType();\n// Deserialize\nT data = gson.fromJson(json, typeOfT);\n</code></pre>\n"}],"owner":{"account_id":1088977,"reputation":2656,"user_id":1353391,"accept_rate":88,"display_name":"John Gowers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33433,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":18255409,"answer_count":3,"score":92,"last_activity_date":1657802588,"creation_date":1376577643,"question_id":18255117,"body_markdown":"The accepted answer to [this question][1] describes how to create an instance of `T` in the `Generic&lt;T&gt;` class.  This involves passing in a `Class&lt;T&gt;` parameter to the `Generic` constructor and callin the `newInstance` method from that.  \r\n\r\nA new instance of `Generic&lt;Bar&gt;` is then created, and the parameter `Bar.class` is passed in.  \r\n\r\nWhat do you do if the generic type parameter for the new `Generic` class is not some known class like `Bar` but is itself a generic type parameter?  Suppose I had some other class `Skeet&lt;J&gt;` and I wanted to create a new instance of `Generic&lt;J&gt;` from inside that class.  Then, if I try to pass in `J.class` I get the following compiler error:\r\n\r\n    cannot select from a type variable.\r\n\r\nIs there any way around this?\r\n\r\nThe specific bit of code triggering the error for me is:\r\n\r\n    public class InputField&lt;W extends Component &amp; WidgetInterface&gt;\r\n                                                     extends InputFieldArray&lt;W&gt;\r\n    {\r\n      public InputField(String labelText)\r\n      {\r\n        super(new String[] {labelText}, W.class);\r\n      }\r\n      /* ... */\r\n    }\r\n\r\n    public class InputFieldArray&lt;W extends Component &amp; WidgetInterface&gt;\r\n                                                                     extends JPanel\r\n    {\r\n       /* ... */\r\n      public InputFieldArray(String[] labelText, Class&lt;W&gt; clazz)\r\n                              throws InstantiationException, IllegalAccessException\r\n      {\r\n        /* ... */\r\n    \r\n        for (int i = 0 ; i &lt; labelText.length ; i++) {\r\n          newLabel = new JLabel(labelText[i]);\r\n          newWidget = clazz.newInstance();\r\n          /* ... */\r\n        }\r\n        /* ... */\r\n      }\r\n      /* ... */\r\n    }\r\n\r\nThe error happens, because I can&#39;t write `W.class`.  Is there some other way of passing in the same information?  \r\n\r\n  [1]: https://stackoverflow.com/q/1090458/1353391","title":"How do I get the `.class` attribute from a generic type parameter?","body":"<p>The accepted answer to <a href=\"https://stackoverflow.com/q/1090458/1353391\">this question</a> describes how to create an instance of <code>T</code> in the <code>Generic&lt;T&gt;</code> class.  This involves passing in a <code>Class&lt;T&gt;</code> parameter to the <code>Generic</code> constructor and callin the <code>newInstance</code> method from that.  </p>\n\n<p>A new instance of <code>Generic&lt;Bar&gt;</code> is then created, and the parameter <code>Bar.class</code> is passed in.  </p>\n\n<p>What do you do if the generic type parameter for the new <code>Generic</code> class is not some known class like <code>Bar</code> but is itself a generic type parameter?  Suppose I had some other class <code>Skeet&lt;J&gt;</code> and I wanted to create a new instance of <code>Generic&lt;J&gt;</code> from inside that class.  Then, if I try to pass in <code>J.class</code> I get the following compiler error:</p>\n\n<pre><code>cannot select from a type variable.\n</code></pre>\n\n<p>Is there any way around this?</p>\n\n<p>The specific bit of code triggering the error for me is:</p>\n\n<pre><code>public class InputField&lt;W extends Component &amp; WidgetInterface&gt;\n                                                 extends InputFieldArray&lt;W&gt;\n{\n  public InputField(String labelText)\n  {\n    super(new String[] {labelText}, W.class);\n  }\n  /* ... */\n}\n\npublic class InputFieldArray&lt;W extends Component &amp; WidgetInterface&gt;\n                                                                 extends JPanel\n{\n   /* ... */\n  public InputFieldArray(String[] labelText, Class&lt;W&gt; clazz)\n                          throws InstantiationException, IllegalAccessException\n  {\n    /* ... */\n\n    for (int i = 0 ; i &lt; labelText.length ; i++) {\n      newLabel = new JLabel(labelText[i]);\n      newWidget = clazz.newInstance();\n      /* ... */\n    }\n    /* ... */\n  }\n  /* ... */\n}\n</code></pre>\n\n<p>The error happens, because I can't write <code>W.class</code>.  Is there some other way of passing in the same information?  </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657802392,"post_id":72979881,"comment_id":128900167,"body_markdown":"Add the package to scan to your `@SpringBootApplication` class (the `basePackages` attribute) or add an `@Import(FailoverConfiguration.class)` on the class. Either will include the config and thus create the bean.","body":"Add the package to scan to your <code>@SpringBootApplication</code> class (the <code>basePackages</code> attribute) or add an <code>@Import(FailoverConfiguration.class)</code> on the class. Either will include the config and thus create the bean."}],"answers":[{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657802508,"creation_date":1657799767,"answer_id":72980083,"question_id":72979881,"body_markdown":"You need to discover this bean either by using `@ComponentScan`\r\n\r\n```java\r\n@ComponentScan(&quot;path.to.FailoverConfiguration.package&quot;)\r\n@Configuration\r\nclass SomeConfig { ... }\r\n```\r\nor by using `@Import` \r\n```java\r\n@Import(FailoverConfiguration.class)\r\n@Configuration\r\nclass SomeConfig { ... }\r\n```","title":"Import @Bean from external Configuration class to use in my RestController","body":"<p>You need to discover this bean either by using <code>@ComponentScan</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ComponentScan(&quot;path.to.FailoverConfiguration.package&quot;)\n@Configuration\nclass SomeConfig { ... }\n</code></pre>\n<p>or by using <code>@Import</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import(FailoverConfiguration.class)\n@Configuration\nclass SomeConfig { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6843439,"reputation":108,"user_id":5262967,"display_name":"Amol Limaye"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657802556,"creation_date":1657802556,"answer_id":72980702,"question_id":72979881,"body_markdown":"So, the applicationContext of your application is different from the applicationContext of the jar beans. So, the bean in your applicationContext is not able to find the bean inside the jar&#39;s applicationContext (If at all it is getting created there)\r\n\r\nOne way I can think of is to import the jar&#39;s spring configuration into your spring configuration class using @Import(Configuration.class) annotation.\r\n\r\nAfter this, those beans will be available in your application&#39;s spring context which you can inject into the needed class as needed.\r\n\r\n\r\nhttps://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch04s03.html ","title":"Import @Bean from external Configuration class to use in my RestController","body":"<p>So, the applicationContext of your application is different from the applicationContext of the jar beans. So, the bean in your applicationContext is not able to find the bean inside the jar's applicationContext (If at all it is getting created there)</p>\n<p>One way I can think of is to import the jar's spring configuration into your spring configuration class using @Import(Configuration.class) annotation.</p>\n<p>After this, those beans will be available in your application's spring context which you can inject into the needed class as needed.</p>\n<p><a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch04s03.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch04s03.html</a></p>\n"}],"owner":{"account_id":5777452,"reputation":116,"user_id":4559139,"display_name":"Plainsage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657804276,"answer_count":2,"score":0,"last_activity_date":1657802556,"creation_date":1657798684,"question_id":72979881,"body_markdown":"I&#39;ve got a ```@RestController``` like below:\r\n\r\n``` \r\n@RestController\r\npublic class SomeOperations {\r\n    private RepositoryFailover repo;\r\n    public SomeOperations (RepositoryFailover repo) {\r\n        this.repo = repo;\r\n    }\r\n}\r\n``` \r\n\r\nThe class ```RepositoryFailover``` in above case resides in an **external package** and a bean for it is created there as shown below inside the config class ```FailoverConfiguration``` :\r\n\r\n```\r\n@Configuration\r\npublic class FailoverConfiguration {\r\n    @Bean\r\n    public RepositoryFailover repoFailover(ClassA abc) {\r\n        return new RepositoryFailover(abc);\r\n    }\r\n}\r\n```\r\n\r\nWhen I run my project I get the error:\r\n\r\n&gt; No qualifying bean of type RepositoryFailover available\r\n\r\nThat is mostly because im not importing this bean from external jar properly. \r\n\r\nHow do i import this bean that is created in the config class externally?","title":"Import @Bean from external Configuration class to use in my RestController","body":"<p>I've got a <code>@RestController</code> like below:</p>\n<pre><code>@RestController\npublic class SomeOperations {\n    private RepositoryFailover repo;\n    public SomeOperations (RepositoryFailover repo) {\n        this.repo = repo;\n    }\n}\n</code></pre>\n<p>The class <code>RepositoryFailover</code> in above case resides in an <strong>external package</strong> and a bean for it is created there as shown below inside the config class <code>FailoverConfiguration</code> :</p>\n<pre><code>@Configuration\npublic class FailoverConfiguration {\n    @Bean\n    public RepositoryFailover repoFailover(ClassA abc) {\n        return new RepositoryFailover(abc);\n    }\n}\n</code></pre>\n<p>When I run my project I get the error:</p>\n<blockquote>\n<p>No qualifying bean of type RepositoryFailover available</p>\n</blockquote>\n<p>That is mostly because im not importing this bean from external jar properly.</p>\n<p>How do i import this bean that is created in the config class externally?</p>\n"},{"tags":["java","android","sms"],"answers":[{"tags":[],"owner":{"account_id":88141,"reputation":19747,"user_id":243999,"accept_rate":90,"display_name":"Donal Rafferty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1265121691,"creation_date":1265110865,"answer_id":2183692,"question_id":2183680,"body_markdown":"This link may be useful\r\n\r\nhttp://blog.chinaunix.net/u/9577/showart_1850111.html\r\n\r\nI have not fully implemented it myself but what I have implemented works\r\n\r\nNote that it is not fully documented and so is likely to change in future versions of Android\r\n\r\nEDIT:\r\n\r\nHere is the way I implemented the code myself: \r\n\r\n    String url = &quot;content://sms/&quot;; \r\n    \t\tUri uri = Uri.parse(url); \r\n    \t\tgetContentResolver().registerContentObserver(uri, true, new MyContentObserver(handler)); \r\n    \t\t\r\n    \t\tUri uriSms = Uri.parse(&quot;content://sms/inbox&quot;);\r\n    \t\tCursor c = getContentResolver().query(uriSms, null,null,null,null); \r\n    \t\t\r\n    \t\tLog.d(&quot;COUNT&quot;, &quot;Inbox count : &quot; + c.getCount());\r\n    \t\t\r\n\t\t\r\n    }\r\n    \r\n    class MyContentObserver extends ContentObserver { \r\n    \t\r\n    \tpublic MyContentObserver(Handler handler) { \r\n    \t\t\r\n    \t\tsuper(handler); \r\n    \t\t\r\n    \t}\r\n\r\n    @Override public boolean deliverSelfNotifications() { \r\n    \treturn false; \r\n    \t}\r\n\r\n    @Override public void onChange(boolean arg0) { \r\n    \tsuper.onChange(arg0);\r\n    \t\r\n    \t Log.v(&quot;SMS&quot;, &quot;Notification on SMS observer&quot;); \r\n    \t\r\n    \tMessage msg = new Message();\r\n        msg.obj = &quot;xxxxxxxxxx&quot;;\r\n        \r\n        handler.sendMessage(msg);\r\n        \r\n        Uri uriSMSURI = Uri.parse(&quot;content://sms/&quot;);\r\n        Cursor cur = getContentResolver().query(uriSMSURI, null, null,\r\n                     null, null);\r\n        cur.moveToNext();\r\n        String protocol = cur.getString(cur.getColumnIndex(&quot;protocol&quot;));\r\n        if(protocol == null){\r\n               Log.d(&quot;SMS&quot;, &quot;SMS SEND&quot;); \r\n               int threadId = cur.getInt(cur.getColumnIndex(&quot;thread_id&quot;));\r\n               Log.d(&quot;SMS&quot;, &quot;SMS SEND ID = &quot; + threadId); \r\n               getContentResolver().delete(Uri.parse(&quot;content://sms/conversations/&quot; + threadId), null, null);\r\n               \r\n        }\r\n        else{\r\n        \tLog.d(&quot;SMS&quot;, &quot;SMS RECIEVE&quot;);  \r\n        \t int threadIdIn = cur.getInt(cur.getColumnIndex(&quot;thread_id&quot;));\r\n        \t getContentResolver().delete(Uri.parse(&quot;content://sms/conversations/&quot; + threadIdIn), null, null);\r\n        }\r\n\r\n    }\r\n    \r\n       \r\n    } \r\n\r\nThe code listens for changes in the SMS Content Provider.\r\n\r\nThis is the line you would be interested in if you wish to delete an SMS\r\n\r\n    getContentResolver().delete(Uri.parse(&quot;content://sms/conversations/&quot; + threadIdIn), null, null);\r\n \r\n\r\nYou have to delete an entire conversation to delete the SMS, I haven&#39;t been able to just delete the last message of a conversation","title":"Delete SMS in Android 1.5","body":"<p>This link may be useful</p>\n\n<p><a href=\"http://blog.chinaunix.net/u/9577/showart_1850111.html\" rel=\"nofollow noreferrer\">http://blog.chinaunix.net/u/9577/showart_1850111.html</a></p>\n\n<p>I have not fully implemented it myself but what I have implemented works</p>\n\n<p>Note that it is not fully documented and so is likely to change in future versions of Android</p>\n\n<p>EDIT:</p>\n\n<p>Here is the way I implemented the code myself: </p>\n\n<pre><code>String url = \"content://sms/\"; \n        Uri uri = Uri.parse(url); \n        getContentResolver().registerContentObserver(uri, true, new MyContentObserver(handler)); \n\n        Uri uriSms = Uri.parse(\"content://sms/inbox\");\n        Cursor c = getContentResolver().query(uriSms, null,null,null,null); \n\n        Log.d(\"COUNT\", \"Inbox count : \" + c.getCount());\n\n\n}\n\nclass MyContentObserver extends ContentObserver { \n\n    public MyContentObserver(Handler handler) { \n\n        super(handler); \n\n    }\n\n@Override public boolean deliverSelfNotifications() { \n    return false; \n    }\n\n@Override public void onChange(boolean arg0) { \n    super.onChange(arg0);\n\n     Log.v(\"SMS\", \"Notification on SMS observer\"); \n\n    Message msg = new Message();\n    msg.obj = \"xxxxxxxxxx\";\n\n    handler.sendMessage(msg);\n\n    Uri uriSMSURI = Uri.parse(\"content://sms/\");\n    Cursor cur = getContentResolver().query(uriSMSURI, null, null,\n                 null, null);\n    cur.moveToNext();\n    String protocol = cur.getString(cur.getColumnIndex(\"protocol\"));\n    if(protocol == null){\n           Log.d(\"SMS\", \"SMS SEND\"); \n           int threadId = cur.getInt(cur.getColumnIndex(\"thread_id\"));\n           Log.d(\"SMS\", \"SMS SEND ID = \" + threadId); \n           getContentResolver().delete(Uri.parse(\"content://sms/conversations/\" + threadId), null, null);\n\n    }\n    else{\n        Log.d(\"SMS\", \"SMS RECIEVE\");  \n         int threadIdIn = cur.getInt(cur.getColumnIndex(\"thread_id\"));\n         getContentResolver().delete(Uri.parse(\"content://sms/conversations/\" + threadIdIn), null, null);\n    }\n\n}\n\n\n} \n</code></pre>\n\n<p>The code listens for changes in the SMS Content Provider.</p>\n\n<p>This is the line you would be interested in if you wish to delete an SMS</p>\n\n<pre><code>getContentResolver().delete(Uri.parse(\"content://sms/conversations/\" + threadIdIn), null, null);\n</code></pre>\n\n<p>You have to delete an entire conversation to delete the SMS, I haven't been able to just delete the last message of a conversation</p>\n"},{"tags":[],"owner":{"account_id":83913,"reputation":110658,"user_id":234938,"accept_rate":90,"display_name":"Christopher Orr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1265111453,"creation_date":1265111453,"answer_id":2183737,"question_id":2183680,"body_markdown":"What&#39;s the value of `deleteUri`?\r\n\r\nAre you sure that the SMS has been written to the local storage *before* you&#39;re trying to delete it?  If you&#39;re handling the `SMS_RECEIVED` broadcast, it&#39;s not guaranteed that the SMS will have been processed by the native SMS app yet...\r\n\r\nAlso, I would note that the SMS content provider API isn&#39;t publicly documented by Android and could be subject to change in the future.  But if you&#39;re only targeting Android 1.5 (or current devices), then you may be ok.","title":"Delete SMS in Android 1.5","body":"<p>What's the value of <code>deleteUri</code>?</p>\n\n<p>Are you sure that the SMS has been written to the local storage <em>before</em> you're trying to delete it?  If you're handling the <code>SMS_RECEIVED</code> broadcast, it's not guaranteed that the SMS will have been processed by the native SMS app yet...</p>\n\n<p>Also, I would note that the SMS content provider API isn't publicly documented by Android and could be subject to change in the future.  But if you're only targeting Android 1.5 (or current devices), then you may be ok.</p>\n"},{"tags":[],"owner":{"account_id":96978,"reputation":2200,"user_id":263321,"accept_rate":50,"display_name":"Dmytro"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1657802434,"creation_date":1265270092,"answer_id":2198104,"question_id":2183680,"body_markdown":"After refactoring my code I found that next solution works:\r\n\r\n    private int deleteMessage(Context context, SmsMessage msg) {\r\n\t\tUri deleteUri = Uri.parse(&quot;content://sms&quot;);\r\n\t\tint count = 0;\r\n\t\tCursor c = context.getContentResolver().query(deleteUri, null, null,\r\n\t\t\t\tnull, null);\r\n\t\twhile (c.moveToNext()) {\r\n\t\t\ttry {\r\n\t\t\t\t// Delete the SMS\r\n\t\t\t\tString pid = c.getString(0); // Get id;\r\n\t\t\t\tString uri = &quot;content://sms/&quot; + pid;\r\n\t\t\t\tcount = context.getContentResolver().delete(Uri.parse(uri),\r\n\t\t\t\t\t\tnull, null);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\nReminder: Using `catch(Exception)` is not recommended.","title":"Delete SMS in Android 1.5","body":"<p>After refactoring my code I found that next solution works:</p>\n<pre><code>private int deleteMessage(Context context, SmsMessage msg) {\n    Uri deleteUri = Uri.parse(&quot;content://sms&quot;);\n    int count = 0;\n    Cursor c = context.getContentResolver().query(deleteUri, null, null,\n            null, null);\n    while (c.moveToNext()) {\n        try {\n            // Delete the SMS\n            String pid = c.getString(0); // Get id;\n            String uri = &quot;content://sms/&quot; + pid;\n            count = context.getContentResolver().delete(Uri.parse(uri),\n                    null, null);\n        } catch (Exception e) {\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>Reminder: Using <code>catch(Exception)</code> is not recommended.</p>\n"},{"tags":[],"owner":{"account_id":653133,"reputation":11,"user_id":447335,"display_name":"megin from czech"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302616407,"creation_date":1284466788,"answer_id":3708783,"question_id":2183680,"body_markdown":"use this and be happy guys\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.telephony.SmsMessage;\r\n    import android.widget.Toast;\r\n    import android.net.Uri;\r\n    \r\n    public class SmsReceiver extends BroadcastReceiver {\r\n    \r\n        private Handler mHandler = new Handler();\r\n        private SmsMessage[] msgs;\r\n        private Context con;\r\n     \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) \r\n        {\r\n            Bundle bundle = intent.getExtras();        \r\n            msgs = null;\r\n            String str = &quot;&quot;;            \r\n    \r\n            if (bundle != null)\r\n            {\r\n                Object[] pdus = (Object[]) bundle.get(&quot;pdus&quot;);\r\n    \r\n                msgs = new SmsMessage[pdus.length];            \r\n                \r\n                for (int i=0; i&lt;msgs.length; i++)\r\n                {\r\n                    msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);                \r\n    \r\n                    str += &quot;SMS from &quot; + msgs[i].getOriginatingAddress();                     \r\n                    str += &quot;:&quot;;\r\n                    str += msgs[i].getMessageBody().toString();\r\n                    str += &quot;\\n&quot;;\r\n                }\r\n    \r\n                con = context;\r\n                \r\n                mHandler.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        deleteSMS();     \r\n                    }\r\n                }, 5000);\r\n    \r\n                Toast.makeText(context, str, Toast.LENGTH_SHORT).show();\r\n            }                         \r\n        }\r\n    \r\n        private void deleteSMS() \r\n        { \r\n            try \r\n            { \r\n                for (int i=0; i&lt;msgs.length; i++)\r\n                {\r\n                    con.getContentResolver().delete(Uri.parse(&quot;content://sms&quot;), &quot;address=? and date=?&quot;, new String[] {msgs[i].getOriginatingAddress(), String.valueOf(msgs[i].getTimestampMillis())});             \r\n                }\r\n            } \r\n            catch (Exception ex) \r\n            { \r\n                Toast.makeText(con, &quot;Error: &quot; + ex, Toast.LENGTH_SHORT).show(); \r\n            } \r\n        } \r\n    }","title":"Delete SMS in Android 1.5","body":"<p>use this and be happy guys</p>\n\n<pre><code>import android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.telephony.SmsMessage;\nimport android.widget.Toast;\nimport android.net.Uri;\n\npublic class SmsReceiver extends BroadcastReceiver {\n\n    private Handler mHandler = new Handler();\n    private SmsMessage[] msgs;\n    private Context con;\n\n    @Override\n    public void onReceive(Context context, Intent intent) \n    {\n        Bundle bundle = intent.getExtras();        \n        msgs = null;\n        String str = \"\";            \n\n        if (bundle != null)\n        {\n            Object[] pdus = (Object[]) bundle.get(\"pdus\");\n\n            msgs = new SmsMessage[pdus.length];            \n\n            for (int i=0; i&lt;msgs.length; i++)\n            {\n                msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);                \n\n                str += \"SMS from \" + msgs[i].getOriginatingAddress();                     \n                str += \":\";\n                str += msgs[i].getMessageBody().toString();\n                str += \"\\n\";\n            }\n\n            con = context;\n\n            mHandler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    deleteSMS();     \n                }\n            }, 5000);\n\n            Toast.makeText(context, str, Toast.LENGTH_SHORT).show();\n        }                         \n    }\n\n    private void deleteSMS() \n    { \n        try \n        { \n            for (int i=0; i&lt;msgs.length; i++)\n            {\n                con.getContentResolver().delete(Uri.parse(\"content://sms\"), \"address=? and date=?\", new String[] {msgs[i].getOriginatingAddress(), String.valueOf(msgs[i].getTimestampMillis())});             \n            }\n        } \n        catch (Exception ex) \n        { \n            Toast.makeText(con, \"Error: \" + ex, Toast.LENGTH_SHORT).show(); \n        } \n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2486796,"reputation":1357,"user_id":2165080,"accept_rate":40,"display_name":"Ashekur Rahman Molla Asik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1364756291,"creation_date":1364756291,"answer_id":15733257,"question_id":2183680,"body_markdown":"Just use this simple code in your broadcast receiver.\r\n\r\n    try {\r\n\t\t\tUri uriSms = Uri.parse(&quot;content://sms/inbox&quot;);\r\n\t\t\tCursor c = context.getContentResolver().query(\r\n\t\t\t\t\turiSms,\r\n\t\t\t\t\tnew String[] { &quot;_id&quot;, &quot;thread_id&quot;, &quot;address&quot;, &quot;person&quot;,\r\n\t\t\t\t\t\t\t&quot;date&quot;, &quot;body&quot; }, &quot;read=0&quot;, null, null);\r\n\r\n\t\t\tif (c != null &amp;&amp; c.moveToFirst()) {\r\n\t\t\t\tdo {\r\n\t\t\t\t\tlong id = c.getLong(0);\r\n\t\t\t\t\tlong threadId = c.getLong(1);\r\n\t\t\t\t\tString address = c.getString(2);\r\n\t\t\t\t\tString body = c.getString(5);\r\n\t\t\t\t\tString date = c.getString(3);\r\n\t\t\t\t\tif (message.equals(body) &amp;&amp; address.equals(number)) {\r\n\t\t\t\t\t\t// mLogger.logInfo(&quot;Deleting SMS with id: &quot; + threadId);\r\n\t\t\t\t\t\tcontext.getContentResolver().delete(\r\n\t\t\t\t\t\t\t\tUri.parse(&quot;content://sms/&quot; + id), &quot;date=?&quot;,\r\n\t\t\t\t\t\t\t\tnew String[] { &lt;your date&gt;});\r\n\t\t\t\t\t\tLog.e(&quot;log&gt;&gt;&gt;&quot;, &quot;Delete success.........&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t} while (c.moveToNext());\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLog.e(&quot;log&gt;&gt;&gt;&quot;, e.toString());\r\n\t\t}","title":"Delete SMS in Android 1.5","body":"<p>Just use this simple code in your broadcast receiver.</p>\n\n<pre><code>try {\n        Uri uriSms = Uri.parse(\"content://sms/inbox\");\n        Cursor c = context.getContentResolver().query(\n                uriSms,\n                new String[] { \"_id\", \"thread_id\", \"address\", \"person\",\n                        \"date\", \"body\" }, \"read=0\", null, null);\n\n        if (c != null &amp;&amp; c.moveToFirst()) {\n            do {\n                long id = c.getLong(0);\n                long threadId = c.getLong(1);\n                String address = c.getString(2);\n                String body = c.getString(5);\n                String date = c.getString(3);\n                if (message.equals(body) &amp;&amp; address.equals(number)) {\n                    // mLogger.logInfo(\"Deleting SMS with id: \" + threadId);\n                    context.getContentResolver().delete(\n                            Uri.parse(\"content://sms/\" + id), \"date=?\",\n                            new String[] { &lt;your date&gt;});\n                    Log.e(\"log&gt;&gt;&gt;\", \"Delete success.........\");\n                }\n            } while (c.moveToNext());\n        }\n    } catch (Exception e) {\n        Log.e(\"log&gt;&gt;&gt;\", e.toString());\n    }\n</code></pre>\n"}],"owner":{"account_id":96978,"reputation":2200,"user_id":263321,"accept_rate":50,"display_name":"Dmytro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11812,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2198104,"answer_count":5,"score":5,"last_activity_date":1657802434,"creation_date":1265110631,"question_id":2183680,"body_markdown":"There are many questions about it, no answers are working in my application :(\r\n\r\nI need to remove SMS from a receiver, even if the user can see it, but it must be removed programmatically. \r\n\r\nHow can I do it?\r\n\r\nThe most suitable I have used was the following, but it doesn&#39;t work :(\r\n\r\n    context.getContentResolver().delete(\r\n    \t\t\t\tdeleteUri,\r\n    \t\t\t\t&quot;address=? and date=?&quot;,\r\n    \t\t\t\tnew String[] { msg.getOriginatingAddress(),\r\n    \t\t\t\t\t\tString.valueOf(msg.getTimestampMillis()) });\r\n\r\n","title":"Delete SMS in Android 1.5","body":"<p>There are many questions about it, no answers are working in my application :(</p>\n\n<p>I need to remove SMS from a receiver, even if the user can see it, but it must be removed programmatically. </p>\n\n<p>How can I do it?</p>\n\n<p>The most suitable I have used was the following, but it doesn't work :(</p>\n\n<pre><code>context.getContentResolver().delete(\n                deleteUri,\n                \"address=? and date=?\",\n                new String[] { msg.getOriginatingAddress(),\n                        String.valueOf(msg.getTimestampMillis()) });\n</code></pre>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":17607921,"reputation":401,"user_id":12776609,"display_name":"Tony Keith"},"score":0,"creation_date":1657782212,"post_id":72976148,"comment_id":128893230,"body_markdown":"https://stackoverflow.com/questions/64309183/jersey-2-32-illegalargumentexception-jersey-repackaged-org-objectweb-asm-classvi","body":"<a href=\"https://stackoverflow.com/questions/64309183/jersey-2-32-illegalargumentexception-jersey-repackaged-org-objectweb-asm-classvi\" title=\"jersey 2 32 illegalargumentexception jersey repackaged org objectweb asm classvi\">stackoverflow.com/questions/64309183/&hellip;</a>"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1657783011,"post_id":72976148,"comment_id":128893489,"body_markdown":"Does this answer your question? [Jersey 2.32 IllegalArgumentException jersey.repackaged.org.objectweb.asm.ClassVisitor](https://stackoverflow.com/questions/64309183) - indeed - looks similar. On a related note: Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447).","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64309183\">Jersey 2.32 IllegalArgumentException jersey.repackaged.org.objectweb.asm.ClassVisitor</a> - indeed - looks similar. On a related note: Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657801900,"post_id":72976148,"comment_id":128899969,"body_markdown":"You need to use a newer version of Jersey when running on Java 10 (at minimum 2.27). As an aside, Java 10 went out of support back in 2018. I&#39;d recommend using a Java version that is actively supported, like Java 8 (old-style LTS), Java 11 (LTS), Java 17 (LTS) or Java 18 (support ends in September 2022 when Java 19 is released)","body":"You need to use a newer version of Jersey when running on Java 10 (at minimum 2.27). As an aside, Java 10 went out of support back in 2018. I&#39;d recommend using a Java version that is actively supported, like Java 8 (old-style LTS), Java 11 (LTS), Java 17 (LTS) or Java 18 (support ends in September 2022 when Java 19 is released)"}],"owner":{"account_id":25344216,"reputation":11,"user_id":19162173,"display_name":"Thriest"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657801676,"answer_count":0,"score":0,"last_activity_date":1657801991,"creation_date":1657780369,"question_id":72976148,"body_markdown":"I receive the following error when I try to access my localhost &quot;Webpage&quot;. Before I try to access the site, no error occurs. I use Tomcat Embed Core Version 8.5.11, Jersey servlet container v.2.26 and Java 10. I have no clue where it comes from.\r\n\r\n```none\r\nSCHWERWIEGEND: Allocate exception for servlet blockchain\r\njava.lang.IllegalArgumentException\r\n\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:171)\r\n\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:425)\r\n\tat org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener.process(AnnotationAcceptingListener.java:170)\r\n\tat org.glassfish.jersey.server.ResourceConfig.scanClasses(ResourceConfig.java:909)\r\n\tat org.glassfish.jersey.server.ResourceConfig._getClasses(ResourceConfig.java:863)\r\n\tat org.glassfish.jersey.server.ResourceConfig.getClasses(ResourceConfig.java:772)\r\n\tat org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1199)\r\n\tat org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1172)\r\n\tat org.glassfish.jersey.server.ResourceConfig.createRuntimeConfig(ResourceConfig.java:1168)\r\n\tat org.glassfish.jersey.server.ApplicationHandler$RuntimeConfigConfigurator.init(ApplicationHandler.java:205)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$0(ApplicationHandler.java:313)\r\n\tat java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4389)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:313)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:282)\r\n\tat org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:335)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:178)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:370)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\tat org.apache.catalina.startup.Tomcat$ExistingStandardWrapper.loadServlet(Tomcat.java:1020)\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:779)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:844)\r\n```\r\n\r\nThese are my dependencies:\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.26&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    &lt;version&gt;2.26&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n    &lt;version&gt;8.5.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.43&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n[Error by accessing localhost][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/81dnJ.png","title":"java.lang.IllegalArgumentException caused by javax.servlet.ServletException: Error allocating a servlet instance","body":"<p>I receive the following error when I try to access my localhost &quot;Webpage&quot;. Before I try to access the site, no error occurs. I use Tomcat Embed Core Version 8.5.11, Jersey servlet container v.2.26 and Java 10. I have no clue where it comes from.</p>\n<pre class=\"lang-none prettyprint-override\"><code>SCHWERWIEGEND: Allocate exception for servlet blockchain\njava.lang.IllegalArgumentException\n    at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:171)\n    at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n    at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:425)\n    at org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener.process(AnnotationAcceptingListener.java:170)\n    at org.glassfish.jersey.server.ResourceConfig.scanClasses(ResourceConfig.java:909)\n    at org.glassfish.jersey.server.ResourceConfig._getClasses(ResourceConfig.java:863)\n    at org.glassfish.jersey.server.ResourceConfig.getClasses(ResourceConfig.java:772)\n    at org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1199)\n    at org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1172)\n    at org.glassfish.jersey.server.ResourceConfig.createRuntimeConfig(ResourceConfig.java:1168)\n    at org.glassfish.jersey.server.ApplicationHandler$RuntimeConfigConfigurator.init(ApplicationHandler.java:205)\n    at org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$0(ApplicationHandler.java:313)\n    at java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4389)\n    at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:313)\n    at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:282)\n    at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:335)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:178)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:370)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.startup.Tomcat$ExistingStandardWrapper.loadServlet(Tomcat.java:1020)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:779)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:844)\n</code></pre>\n<p>These are my dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n&lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;version&gt;8.5.11&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n    &lt;version&gt;8.0.43&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/81dnJ.png\" rel=\"nofollow noreferrer\">Error by accessing localhost</a></p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1657802060,"post_id":72980552,"comment_id":128900019,"body_markdown":"How do you expect developers  to test their code if they only have the API module and no implementation?","body":"How do you expect developers  to test their code if they only have the API module and no implementation?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1657802201,"post_id":72980552,"comment_id":128900087,"body_markdown":"As for circular dependency, why does API depend on core? The relationship is simply that API depends on nothing, and core depends on API","body":"As for circular dependency, why does API depend on core? The relationship is simply that API depends on nothing, and core depends on API"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657802238,"post_id":72980552,"comment_id":128900104,"body_markdown":"This probably sounds dumb, but I thought you would just place into the plugins folder of my application, from which any and all plugins are loaded.","body":"This probably sounds dumb, but I thought you would just place into the plugins folder of my application, from which any and all plugins are loaded."},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657802307,"post_id":72980552,"comment_id":128900128,"body_markdown":"Wait that makes sense, because the API is just a bunch of wrappers of the stuff that the Core has to be able to read","body":"Wait that makes sense, because the API is just a bunch of wrappers of the stuff that the Core has to be able to read"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1657802456,"post_id":72980552,"comment_id":128900195,"body_markdown":"That doesn&#39;t sound dumb, but if they have your application installed on their machine (I didn&#39;t realise they did) then your core is not truly &quot;private&quot;. Java bytecode is very easily reverse-engineered. The best you can do is apply obfuscation, but that&#39;s not going to prevent a determined person from doing whatever they want, it just slows them down.","body":"That doesn&#39;t sound dumb, but if they have your application installed on their machine (I didn&#39;t realise they did) then your core is not truly &quot;private&quot;. Java bytecode is very easily reverse-engineered. The best you can do is apply obfuscation, but that&#39;s not going to prevent a determined person from doing whatever they want, it just slows them down."},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657803472,"post_id":72980552,"comment_id":128900651,"body_markdown":"I get that, it&#39;s more the idea behind it. Like legally speaking and whatnot the Core is my Intellectual Property redistribution is not allowed and the API is public non-obfuscated and such","body":"I get that, it&#39;s more the idea behind it. Like legally speaking and whatnot the Core is my Intellectual Property redistribution is not allowed and the API is public non-obfuscated and such"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1657803743,"post_id":72980552,"comment_id":128900777,"body_markdown":"In which case, what you want is a very standard project structure. The API module should ideally depend on almost nothing, and should consist mainly of interfaces. The core depends on that, as do your plugin authors.","body":"In which case, what you want is a very standard project structure. The API module should ideally depend on almost nothing, and should consist mainly of interfaces. The core depends on that, as do your plugin authors."}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657801863,"creation_date":1657801863,"question_id":72980552,"body_markdown":"I am currently working on a Multi Module Gradle Java Project and want to expand the project to allow for a public Java API through which developers can add plugins to my core application (API), while my core code remains private (Core). The idea is similar to applications such as: \r\n- The Minecraft Plugin Frameworks (PaperMC), where the actual Minecraft code remains hidden but the respective API is publicly accessible.\r\n- Jenkins\r\n\r\nI am trying to implement such a model for my own project with the following requirements:\r\n1. Any code in Core must not be publicly accessible\r\n2. When the API module is compiled it should not contain Core, but it has to be available to reference (So that I can ya know build the API)\r\n3. Core should have access to API (So that I can integrate the API into the application)\r\n4. The Core should have the API compiled into it so that any plugins that are injected can actually be correctly interpreted by the Core\r\n\r\nIf any of these requirements pose a fundamental flaw I can of course change the structure, the above is purely based on prior research.\r\n\r\nHere is what I currently have, which is throwing a Circular dependency issue, because I am very clearly setting this up incorrectly.\r\n\r\nCore:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;com.awesomedude&#39;\r\nversion &#39;1.0.0-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.jetbrains:annotations:22.0.0&#39;\r\n    implementation &#39;commons-io:commons-io:2.11.0&#39;\r\n    implementation project(&#39;:API&#39;)\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\nAPI:\r\n``` \r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;com.awesomedude&#39;\r\nversion &#39;1.0.0-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compileOnly project(&#39;:Core&#39;)\r\n    implementation &#39;org.jetbrains:annotations:22.0.0&#39;\r\n    implementation &#39;commons-io:commons-io:2.11.0&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```","title":"How to best setup Multi Module Gradle Java Project to make a public Java API to a proprietary Codebase?","body":"<p>I am currently working on a Multi Module Gradle Java Project and want to expand the project to allow for a public Java API through which developers can add plugins to my core application (API), while my core code remains private (Core). The idea is similar to applications such as:</p>\n<ul>\n<li>The Minecraft Plugin Frameworks (PaperMC), where the actual Minecraft code remains hidden but the respective API is publicly accessible.</li>\n<li>Jenkins</li>\n</ul>\n<p>I am trying to implement such a model for my own project with the following requirements:</p>\n<ol>\n<li>Any code in Core must not be publicly accessible</li>\n<li>When the API module is compiled it should not contain Core, but it has to be available to reference (So that I can ya know build the API)</li>\n<li>Core should have access to API (So that I can integrate the API into the application)</li>\n<li>The Core should have the API compiled into it so that any plugins that are injected can actually be correctly interpreted by the Core</li>\n</ol>\n<p>If any of these requirements pose a fundamental flaw I can of course change the structure, the above is purely based on prior research.</p>\n<p>Here is what I currently have, which is throwing a Circular dependency issue, because I am very clearly setting this up incorrectly.</p>\n<p>Core:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'com.awesomedude'\nversion '1.0.0-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.jetbrains:annotations:22.0.0'\n    implementation 'commons-io:commons-io:2.11.0'\n    implementation project(':API')\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>API:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'com.awesomedude'\nversion '1.0.0-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compileOnly project(':Core')\n    implementation 'org.jetbrains:annotations:22.0.0'\n    implementation 'commons-io:commons-io:2.11.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","android","android-activity","dialog","showcaseview"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657802983,"post_id":72980549,"comment_id":128900445,"body_markdown":"Most of the show case view implemented activity level only. So, try to build overlay on your dialog.","body":"Most of the show case view implemented activity level only. So, try to build overlay on your dialog."},{"owner":{"account_id":12293206,"reputation":139,"user_id":8969696,"accept_rate":71,"display_name":"Jayesh M"},"score":0,"creation_date":1657805151,"post_id":72980549,"comment_id":128901397,"body_markdown":"so you are suggesting that I have to build custom overlay on dialog without an library ? @GobuCSG","body":"so you are suggesting that I have to build custom overlay on dialog without an library ? @GobuCSG"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657806421,"post_id":72980549,"comment_id":128901944,"body_markdown":"Yeah, showcase libraries are almost outdated...  Very few libs are updated few years ago... and I haven&#39;t see like that","body":"Yeah, showcase libraries are almost outdated...  Very few libs are updated few years ago... and I haven&#39;t see like that"}],"owner":{"account_id":12293206,"reputation":139,"user_id":8969696,"accept_rate":71,"display_name":"Jayesh M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657801843,"creation_date":1657801843,"question_id":72980549,"body_markdown":"I am developing an app and I need to show showcase view on several case. In activity it is working fine. I have a dialog showing some recycler view data. In that dialog I need to show showcase overlay in first item of recycler view. I tried several libraries but none of them showing the showcase overlay above the dialog. ***Is there any other libraries for showing the showcase overlay above the dialog?***. I tried everything in GitHub and none of them works for dialog","title":"Showcase view not showing above the Dialog in Android","body":"<p>I am developing an app and I need to show showcase view on several case. In activity it is working fine. I have a dialog showing some recycler view data. In that dialog I need to show showcase overlay in first item of recycler view. I tried several libraries but none of them showing the showcase overlay above the dialog. <em><strong>Is there any other libraries for showing the showcase overlay above the dialog?</strong></em>. I tried everything in GitHub and none of them works for dialog</p>\n"},{"tags":["java","json","sonarqube","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1657806836,"post_id":72980538,"comment_id":128902108,"body_markdown":"It is `&quot;\\u0027&quot;` not `&quot;/u0027&quot;` or `&quot;\\\\u0027&quot;`.","body":"It is <code>&quot;\\u0027&quot;</code> not <code>&quot;&#47;u0027&quot;</code> or <code>&quot;\\\\u0027&quot;</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657807203,"post_id":72980538,"comment_id":128902254,"body_markdown":"This seems very confused. First of all, what you are calling &quot;common apostrophes&quot; are Unicode, every bit as much as the letter A is Unicode. Second, using `&quot;\\u0027&quot;` in a Java String gets you the exact same thing as if you used `&quot;&#39;&quot;`. Third, what is the name of the project you want to pass on the URL? `badProject`? `&#39;badProject&#39;`? If you want to pass apostrophes in a URL you would URL-encode them as `%27`, as in `%27badProject%27`.","body":"This seems very confused. First of all, what you are calling &quot;common apostrophes&quot; are Unicode, every bit as much as the letter A is Unicode. Second, using <code>&quot;\\u0027&quot;</code> in a Java String gets you the exact same thing as if you used <code>&quot;&#39;&quot;</code>. Third, what is the name of the project you want to pass on the URL? <code>badProject</code>? <code>&#39;badProject&#39;</code>? If you want to pass apostrophes in a URL you would URL-encode them as <code>%27</code>, as in <code>%27badProject%27</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657809950,"post_id":72980538,"comment_id":128903355,"body_markdown":"Also, when you use `&quot;\\\\u0027&quot;` that just puts a backslash, a letter, and those digits into the string and there is probably nothing in the library or the web service that parses or interprets that, so it is probably just taken as a literal backslash plus some other characters.","body":"Also, when you use <code>&quot;\\\\u0027&quot;</code> that just puts a backslash, a letter, and those digits into the string and there is probably nothing in the library or the web service that parses or interprets that, so it is probably just taken as a literal backslash plus some other characters."}],"owner":{"account_id":25619292,"reputation":11,"user_id":19391436,"display_name":"Roma Roma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657801798,"creation_date":1657801798,"question_id":72980538,"body_markdown":"I have a Feign client which I use to get information from SonarQube and when I&#39;m trying to test request with wrong component name I have an issue with displaying apostrophes as unicode (/u0027).\r\n\r\nHere&#39;s the test code:\r\n```\r\n    void measuresSearchHistoryUnknownTest() {\r\n        assertThatExceptionOfType(FeignException.NotFound.class)\r\n                .isThrownBy(() -&gt; sonarFeignClient.measuresSearchHistory(\r\n                        &quot;badProject&quot;,\r\n                        String.join(&quot;,&quot;,\r\n                                EnumUtils.getJsonValue(SonarMetric.BLOCKER_VIOLATIONS),\r\n                                EnumUtils.getJsonValue(SonarMetric.CRITICAL_VIOLATIONS)\r\n                        ),\r\n                        1,\r\n                        10\r\n                )).withMessageContaining(&quot;Component key &#39;badProject&#39; not found&quot;);\r\n//                )).withMessageContaining(&quot;Component key \\\\u0027badProject\\\\u0027 not found&quot;);\r\n    }\r\n```\r\nThis test works only if use last line (commented line with &quot;\\\\u0027badProject\\\\u0027&quot;), but it fails if I use previous line (with common apostrophes):\r\n```\r\nExpecting throwable message:\r\n  &lt;&quot;[404] during [GET] to [*******/sonar/api/measures/search_history?component=badProject&amp;metrics=blocker_violations%2Ccritical_violations&amp;p=1&amp;ps=10] [SonarFeignClient#measuresSearchHistory(String,String,int,int)]: [{&quot;errors&quot;:[{&quot;msg&quot;:&quot;Component key \\u0027badProject\\u0027 not found&quot;}]}]&quot;&gt;\r\nto contain:\r\n  &lt;&quot;Component key &#39;badProject&#39; not found&quot;&gt;\r\nbut did not.\r\n\r\nThrowable that failed the check:\r\n\r\nfeign.FeignException$NotFound: [404] during [GET] to [*******/sonar/api/measures/search_history?component=badProject&amp;metrics=blocker_violations%2Ccritical_violations&amp;p=1&amp;ps=10] [SonarFeignClient#measuresSearchHistory(String,String,int,int)]: [{&quot;errors&quot;:[{&quot;msg&quot;:&quot;Component key \\u0027badProject\\u0027 not found&quot;}]}]\r\n```\r\nIf I look this link in a browser SonarQube shows me JSON with error message and common apostrophes (not unicode), so I think an issue somewhere in Feign.\r\n\r\nI use &quot;spring-cloud-starter-openfeign:3.0.1&quot;\r\n\r\nMaybe someone can help me with that? How can I prevent parsing of apostrophes to Unicode? ","title":"Apostrophe in FeignException shows like /u0027","body":"<p>I have a Feign client which I use to get information from SonarQube and when I'm trying to test request with wrong component name I have an issue with displaying apostrophes as unicode (/u0027).</p>\n<p>Here's the test code:</p>\n<pre><code>    void measuresSearchHistoryUnknownTest() {\n        assertThatExceptionOfType(FeignException.NotFound.class)\n                .isThrownBy(() -&gt; sonarFeignClient.measuresSearchHistory(\n                        &quot;badProject&quot;,\n                        String.join(&quot;,&quot;,\n                                EnumUtils.getJsonValue(SonarMetric.BLOCKER_VIOLATIONS),\n                                EnumUtils.getJsonValue(SonarMetric.CRITICAL_VIOLATIONS)\n                        ),\n                        1,\n                        10\n                )).withMessageContaining(&quot;Component key 'badProject' not found&quot;);\n//                )).withMessageContaining(&quot;Component key \\\\u0027badProject\\\\u0027 not found&quot;);\n    }\n</code></pre>\n<p>This test works only if use last line (commented line with &quot;\\u0027badProject\\u0027&quot;), but it fails if I use previous line (with common apostrophes):</p>\n<pre><code>Expecting throwable message:\n  &lt;&quot;[404] during [GET] to [*******/sonar/api/measures/search_history?component=badProject&amp;metrics=blocker_violations%2Ccritical_violations&amp;p=1&amp;ps=10] [SonarFeignClient#measuresSearchHistory(String,String,int,int)]: [{&quot;errors&quot;:[{&quot;msg&quot;:&quot;Component key \\u0027badProject\\u0027 not found&quot;}]}]&quot;&gt;\nto contain:\n  &lt;&quot;Component key 'badProject' not found&quot;&gt;\nbut did not.\n\nThrowable that failed the check:\n\nfeign.FeignException$NotFound: [404] during [GET] to [*******/sonar/api/measures/search_history?component=badProject&amp;metrics=blocker_violations%2Ccritical_violations&amp;p=1&amp;ps=10] [SonarFeignClient#measuresSearchHistory(String,String,int,int)]: [{&quot;errors&quot;:[{&quot;msg&quot;:&quot;Component key \\u0027badProject\\u0027 not found&quot;}]}]\n</code></pre>\n<p>If I look this link in a browser SonarQube shows me JSON with error message and common apostrophes (not unicode), so I think an issue somewhere in Feign.</p>\n<p>I use &quot;spring-cloud-starter-openfeign:3.0.1&quot;</p>\n<p>Maybe someone can help me with that? How can I prevent parsing of apostrophes to Unicode?</p>\n"},{"tags":["java","jersey","jersey-2.0"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1602452220,"post_id":64309183,"comment_id":113717824,"body_markdown":"Which JDK are you using? See https://stackoverflow.com/questions/52658991/migrate-jersey-project-to-use-java-10-results-in-java-lang-illegalargumentexcept","body":"Which JDK are you using? See <a href=\"https://stackoverflow.com/questions/52658991/migrate-jersey-project-to-use-java-10-results-in-java-lang-illegalargumentexcept\" title=\"migrate jersey project to use java 10 results in java lang illegalargumentexcept\">stackoverflow.com/questions/52658991/&hellip;</a>"},{"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"score":0,"creation_date":1602453019,"post_id":64309183,"comment_id":113717980,"body_markdown":"When debugging I see that `api` parameter matches `Opcodes.ASM8`.I find it strange that `IllegalArgumentException` is thrown in line `Constants.checkAsmExperimental(this);`","body":"When debugging I see that <code>api</code> parameter matches <code>Opcodes.ASM8</code>.I find it strange that <code>IllegalArgumentException</code> is thrown in line <code>Constants.checkAsmExperimental(this);</code>"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1602580524,"post_id":64309183,"comment_id":113758439,"body_markdown":"Feel free to file a bug in [the Jersey issue tracker](https://github.com/eclipse-ee4j/jersey) and attach a reproducer app.","body":"Feel free to file a bug in <a href=\"https://github.com/eclipse-ee4j/jersey\" rel=\"nofollow noreferrer\">the Jersey issue tracker</a> and attach a reproducer app."}],"answers":[{"tags":[],"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657801653,"creation_date":1602678347,"answer_id":64353234,"question_id":64309183,"body_markdown":"The error did not appear anymore after I downgraded to Jersey 2.27. However...\r\n\r\n... after this error disappeared, I got another one: [java.lang.AbstractMethodError: javax.ws.rs.core.UriBuilder.uri(Ljava/lang/String;)Ljavax/ws/rs/core/UriBuilder;][1]. I had checked my pom.xml dependencies and they were correct. The problem was that I had previously had setup an Eclipse project in non-Maven manner and had simply put `Jersey 1.x` libraries (which I was initially using) in `/src/main/webapp/WEB-INF/lib` folder and I did not remove them (forgot) after I changed the project to Maven one and upgraded `Jersey` to version `2.32`. Therefore older version jars were being copied to `../ECLIPSE-WORKSPACE/.../org.eclipse.wst.server.core/tmp1/wtpwebapps/MY-APP/WEB-INF/lib` directory with `Jersey 2.x` jars. Silly me. \r\n\r\nHaving that in mind and remembering that I noticed earlier \r\n\r\n&gt; I find it strange that IllegalArgumentException is thrown in line\r\n&gt; Constants.checkAsmExperimental(this);\r\n\r\nI think the original issue was not with Jersey version I had used at the time (which was 2.32), but with Jersey 1.x and Jersey 2.x jar files ending up in the classpath. Currently, I have upgraded Jersey version to 2.32 and everything works. So, probably there is no bug in Jersey 2.3 at all.\r\n\r\n  [1]: https://stackoverflow.com/questions/30176811/abstractmethoderror-using-uribuilder-on-jax-rs","title":"Jersey 2.32 IllegalArgumentException jersey.repackaged.org.objectweb.asm.ClassVisitor","body":"<p>The error did not appear anymore after I downgraded to Jersey 2.27. However...</p>\n<p>... after this error disappeared, I got another one: <a href=\"https://stackoverflow.com/questions/30176811/abstractmethoderror-using-uribuilder-on-jax-rs\">java.lang.AbstractMethodError: javax.ws.rs.core.UriBuilder.uri(Ljava/lang/String;)Ljavax/ws/rs/core/UriBuilder;</a>. I had checked my pom.xml dependencies and they were correct. The problem was that I had previously had setup an Eclipse project in non-Maven manner and had simply put <code>Jersey 1.x</code> libraries (which I was initially using) in <code>/src/main/webapp/WEB-INF/lib</code> folder and I did not remove them (forgot) after I changed the project to Maven one and upgraded <code>Jersey</code> to version <code>2.32</code>. Therefore older version jars were being copied to <code>../ECLIPSE-WORKSPACE/.../org.eclipse.wst.server.core/tmp1/wtpwebapps/MY-APP/WEB-INF/lib</code> directory with <code>Jersey 2.x</code> jars. Silly me.</p>\n<p>Having that in mind and remembering that I noticed earlier</p>\n<blockquote>\n<p>I find it strange that IllegalArgumentException is thrown in line\nConstants.checkAsmExperimental(this);</p>\n</blockquote>\n<p>I think the original issue was not with Jersey version I had used at the time (which was 2.32), but with Jersey 1.x and Jersey 2.x jar files ending up in the classpath. Currently, I have upgraded Jersey version to 2.32 and everything works. So, probably there is no bug in Jersey 2.3 at all.</p>\n"}],"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2831,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64353234,"answer_count":1,"score":1,"last_activity_date":1657801653,"creation_date":1602451678,"question_id":64309183,"body_markdown":"I am trying to user Jersey&#39;s JSON/bean validation however error occurs when initing servlet occurs.\r\n\r\nFull stack trace:\r\n\r\n    SEVERE: Servlet.init() for servlet [rest-servlet] threw exception\r\n    java.lang.IllegalArgumentException\r\n    \tat jersey.repackaged.org.objectweb.asm.ClassVisitor.&lt;init&gt;(ClassVisitor.java:79)\r\n    \tat jersey.repackaged.org.objectweb.asm.ClassVisitor.&lt;init&gt;(ClassVisitor.java:64)\r\n    \tat org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener$AnnotatedClassVisitor.&lt;init&gt;(AnnotationAcceptingListener.java:172)\r\n    \tat org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener$AnnotatedClassVisitor.&lt;init&gt;(AnnotationAcceptingListener.java:156)\r\n    \tat org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener.&lt;init&gt;(AnnotationAcceptingListener.java:124)\r\n    \tat org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener.newJaxrsResourceAndProviderListener(AnnotationAcceptingListener.java:96)\r\n    \tat org.glassfish.jersey.server.ResourceConfig.scanClasses(ResourceConfig.java:902)\r\n    \tat org.glassfish.jersey.server.ResourceConfig._getClasses(ResourceConfig.java:863)\r\n    \tat org.glassfish.jersey.server.ResourceConfig.getClasses(ResourceConfig.java:772)\r\n    \tat org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1213)\r\n    \tat org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1186)\r\n    \tat org.glassfish.jersey.server.ResourceConfig.createRuntimeConfig(ResourceConfig.java:1182)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler$RuntimeConfigConfigurator.init(ApplicationHandler.java:182)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$0(ApplicationHandler.java:290)\r\n    \tat java.util.Arrays$ArrayList.forEach(Arrays.java:3880)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:290)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:347)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1134)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1089)\r\n    \tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:761)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\npom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;eu.itreegroup&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;admin3-iasm&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;Admin3-IASM&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;jackson.version&gt;2.11.3&lt;/jackson.version&gt;\r\n    \t\t&lt;jersey.version&gt;2.32&lt;/jersey.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;prerequisites&gt;\r\n    \t\t&lt;maven&gt;3.6.3&lt;/maven&gt;\r\n    \t&lt;/prerequisites&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;maven-ojdbc6&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Maven ojdbc6 Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://www.datanucleus.org/downloads/maven2&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-jaxrs-base&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;!-- \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-RC1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t--&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javassist&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-bean-validation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;oracle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;11.2.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;javaEncoding&gt;UTF-8&lt;/javaEncoding&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nLine which supposedly throws exception:\r\n \r\n\r\n    ...\r\n      public ClassVisitor(final int api, final ClassVisitor classVisitor) {\r\n        if (api != Opcodes.ASM8\r\n            &amp;&amp; api != Opcodes.ASM7\r\n            &amp;&amp; api != Opcodes.ASM6\r\n            &amp;&amp; api != Opcodes.ASM5\r\n            &amp;&amp; api != Opcodes.ASM4\r\n            &amp;&amp; api != Opcodes.ASM9_EXPERIMENTAL) {\r\n          throw new IllegalArgumentException(&quot;Unsupported api &quot; + api);\r\n        }\r\n        if (api == Opcodes.ASM9_EXPERIMENTAL) {\r\n          Constants.checkAsmExperimental(this); // Line which supposedly throws exception\r\n        }\r\n        this.api = api;\r\n        this.cv = classVisitor;\r\n      }\r\n    ... \r\n\r\n\r\n**UPDATE:**\r\nUsing Java 8\r\n\r\nsome more text so that I could post this question some more text so that I could post this question some more text so that I could post this question some more text so that I could post this question some more text so that I could post this question some more text so that I could post this question","title":"Jersey 2.32 IllegalArgumentException jersey.repackaged.org.objectweb.asm.ClassVisitor","body":"<p>I am trying to user Jersey's JSON/bean validation however error occurs when initing servlet occurs.</p>\n<p>Full stack trace:</p>\n<pre><code>SEVERE: Servlet.init() for servlet [rest-servlet] threw exception\njava.lang.IllegalArgumentException\n    at jersey.repackaged.org.objectweb.asm.ClassVisitor.&lt;init&gt;(ClassVisitor.java:79)\n    at jersey.repackaged.org.objectweb.asm.ClassVisitor.&lt;init&gt;(ClassVisitor.java:64)\n    at org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener$AnnotatedClassVisitor.&lt;init&gt;(AnnotationAcceptingListener.java:172)\n    at org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener$AnnotatedClassVisitor.&lt;init&gt;(AnnotationAcceptingListener.java:156)\n    at org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener.&lt;init&gt;(AnnotationAcceptingListener.java:124)\n    at org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener.newJaxrsResourceAndProviderListener(AnnotationAcceptingListener.java:96)\n    at org.glassfish.jersey.server.ResourceConfig.scanClasses(ResourceConfig.java:902)\n    at org.glassfish.jersey.server.ResourceConfig._getClasses(ResourceConfig.java:863)\n    at org.glassfish.jersey.server.ResourceConfig.getClasses(ResourceConfig.java:772)\n    at org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1213)\n    at org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1186)\n    at org.glassfish.jersey.server.ResourceConfig.createRuntimeConfig(ResourceConfig.java:1182)\n    at org.glassfish.jersey.server.ApplicationHandler$RuntimeConfigConfigurator.init(ApplicationHandler.java:182)\n    at org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$0(ApplicationHandler.java:290)\n    at java.util.Arrays$ArrayList.forEach(Arrays.java:3880)\n    at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:290)\n    at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\n    at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:347)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1134)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1089)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:761)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;eu.itreegroup&lt;/groupId&gt;\n    &lt;artifactId&gt;admin3-iasm&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Admin3-IASM&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;jackson.version&gt;2.11.3&lt;/jackson.version&gt;\n        &lt;jersey.version&gt;2.32&lt;/jersey.version&gt;\n    &lt;/properties&gt;\n\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.6.3&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven-ojdbc6&lt;/id&gt;\n            &lt;name&gt;Maven ojdbc6 Repository&lt;/name&gt;\n            &lt;url&gt;http://www.datanucleus.org/downloads/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\n            &lt;version&gt;8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-jaxrs-base&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!-- \n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-RC1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n        --&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.12.1.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bean-validation&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;11.2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;javaEncoding&gt;UTF-8&lt;/javaEncoding&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Line which supposedly throws exception:</p>\n<pre><code>...\n  public ClassVisitor(final int api, final ClassVisitor classVisitor) {\n    if (api != Opcodes.ASM8\n        &amp;&amp; api != Opcodes.ASM7\n        &amp;&amp; api != Opcodes.ASM6\n        &amp;&amp; api != Opcodes.ASM5\n        &amp;&amp; api != Opcodes.ASM4\n        &amp;&amp; api != Opcodes.ASM9_EXPERIMENTAL) {\n      throw new IllegalArgumentException(&quot;Unsupported api &quot; + api);\n    }\n    if (api == Opcodes.ASM9_EXPERIMENTAL) {\n      Constants.checkAsmExperimental(this); // Line which supposedly throws exception\n    }\n    this.api = api;\n    this.cv = classVisitor;\n  }\n... \n</code></pre>\n<p><strong>UPDATE:</strong>\nUsing Java 8</p>\n<p>some more text so that I could post this question some more text so that I could post this question some more text so that I could post this question some more text so that I could post this question some more text so that I could post this question some more text so that I could post this question</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":7160062,"reputation":4423,"user_id":5471104,"accept_rate":64,"display_name":"Mohammed Atif"},"score":0,"creation_date":1657557597,"post_id":72941684,"comment_id":128833811,"body_markdown":"Why there is missing many to one in your bills class? And are you setting your ddl auto to create-drop?","body":"Why there is missing many to one in your bills class? And are you setting your ddl auto to create-drop?"},{"owner":{"account_id":20352686,"reputation":29,"user_id":14928982,"display_name":"Baris"},"score":0,"creation_date":1657557957,"post_id":72941684,"comment_id":128833949,"body_markdown":"@MohammedAtif I don&#39;t  reach user from bill so I did not use ManyToOne. First time for creating tables dll was&quot;create &quot; but i change it to &quot;none &quot; after the tables created.","body":"@MohammedAtif I don&#39;t  reach user from bill so I did not use ManyToOne. First time for creating tables dll was&quot;create &quot; but i change it to &quot;none &quot; after the tables created."},{"owner":{"account_id":7160062,"reputation":4423,"user_id":5471104,"accept_rate":64,"display_name":"Mohammed Atif"},"score":0,"creation_date":1657630665,"post_id":72941684,"comment_id":128852300,"body_markdown":"If you are relying on Spring Boot to create the tables for you then you will have to specify ManyToOne relationship in bill too even though you are not calling `User` from `Bill` . Otherwise Spring Boot will create another table to fulfil this mapping. Please do read more on One To Many and usage of foreign keys in general to understand this.","body":"If you are relying on Spring Boot to create the tables for you then you will have to specify ManyToOne relationship in bill too even though you are not calling <code>User</code> from <code>Bill</code> . Otherwise Spring Boot will create another table to fulfil this mapping. Please do read more on One To Many and usage of foreign keys in general to understand this."},{"owner":{"account_id":20352686,"reputation":29,"user_id":14928982,"display_name":"Baris"},"score":0,"creation_date":1657796574,"post_id":72941684,"comment_id":128898073,"body_markdown":"@MohammedAtif that usage cause this problem for me https://stackoverflow.com/questions/72512248/jackson-databind-ser-beanserializer-serialize-error   . In this case I just wanted  uni directional relationship.","body":"@MohammedAtif that usage cause this problem for me <a href=\"https://stackoverflow.com/questions/72512248/jackson-databind-ser-beanserializer-serialize-error\" title=\"jackson databind ser beanserializer serialize error\">stackoverflow.com/questions/72512248/&hellip;</a>   . In this case I just wanted  uni directional relationship."}],"answers":[{"tags":[],"owner":{"account_id":20352686,"reputation":29,"user_id":14928982,"display_name":"Baris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657559288,"creation_date":1657559288,"answer_id":72942206,"question_id":72941684,"body_markdown":"I&#39;m sorry the problem is not related to relationships. I wrote wrong the code for adding to the list I made in the Service class.\r\n\r\nI changed code from:\r\n\r\n     user.setBills(Collections.singletonList(bill));\r\n\r\nto:\r\n\r\n     user.getBills().add(bill);\r\n\r\n","title":"Why @OneToMany annotation create constraint table automatically and Why that table remove previous record","body":"<p>I'm sorry the problem is not related to relationships. I wrote wrong the code for adding to the list I made in the Service class.</p>\n<p>I changed code from:</p>\n<pre><code> user.setBills(Collections.singletonList(bill));\n</code></pre>\n<p>to:</p>\n<pre><code> user.getBills().add(bill);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7160062,"reputation":4423,"user_id":5471104,"accept_rate":64,"display_name":"Mohammed Atif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657801596,"creation_date":1657801596,"answer_id":72980491,"question_id":72941684,"body_markdown":"Based on the comments you have shared, I hope that\r\n1. You are not using the same class for Entity and DTO\r\n2. You have actually understood the details of how Entity Relationships work\r\n3. You understand how the table generation works in Spring Boot\r\n4. You understand the use ObjectMappers like Mapstruct\r\n\r\n\r\nI am going to provide you the solution but it is important that you understand above concepts to avoid any further work arounds in the future\r\n\r\nFor your current problem of table generation you need Bi Directional mapping. And since you are using same class for Entity and DTO you need to add handlers for Jackson Mapping.\r\n\r\n```java\r\n@Table(name = &quot;bills&quot;)\r\npublic class Bill {\r\n\r\n  @Id\r\n  @Column(name = &quot;bill_id&quot;, nullable = false)\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private int billId;\r\n\r\n  @ManyToOne\r\n  @JsonIgnore\r\n  @ToString.Exclude\r\n  @JoinColumn(name=&quot;user_id&quot;, nullable=false)\r\n  private User user;\r\n\r\n  //...\r\n}\r\n```\r\n\r\n### Few points to note:\r\n1. Use `GenerationType.IDENTITY` instead of `GenerationType.AUTO`\r\n2. If possible use different classes for Entity and DTO\r\n\r\nRefer this Article for more details: https://www.baeldung.com/hibernate-one-to-many\r\n\r\n\r\n----------\r\n\r\nFor the second problem, the proper solution is to use `Adder` in class\r\n\r\n```java\r\n@Table(name = &quot;Users&quot;)\r\npublic class User {\r\n\r\n  @Id\r\n  @GeneratedValue(generator = &quot;UUID&quot;)\r\n  @GenericGenerator(name = &quot;UUID&quot;,strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n  @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n  private UUID id;\r\n\r\n //.....   \r\n   \r\n  @OneToMany(cascade = CascadeType.REMOVE)\r\n  @ToString.Exclude\r\n  private List&lt;Bill&gt; bills;\r\n\r\n  //... other fields\r\n\r\n  public void addBill(final Bill bill) {\r\n    if(bills == null) {\r\n      bills = new ArrayList&lt;&gt;();\r\n    }\r\n    bills.add(bill);\r\n  }\r\n  \r\n  public void addBills(final List&lt;Bill&gt; bills) {\r\n    if(this.bills == null) {\r\n      this.bills = new ArrayList&lt;&gt;();\r\n    }\r\n    this.bills.addAll(bills);\r\n  }\r\n}\r\n\r\n```","title":"Why @OneToMany annotation create constraint table automatically and Why that table remove previous record","body":"<p>Based on the comments you have shared, I hope that</p>\n<ol>\n<li>You are not using the same class for Entity and DTO</li>\n<li>You have actually understood the details of how Entity Relationships work</li>\n<li>You understand how the table generation works in Spring Boot</li>\n<li>You understand the use ObjectMappers like Mapstruct</li>\n</ol>\n<p>I am going to provide you the solution but it is important that you understand above concepts to avoid any further work arounds in the future</p>\n<p>For your current problem of table generation you need Bi Directional mapping. And since you are using same class for Entity and DTO you need to add handlers for Jackson Mapping.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;bills&quot;)\npublic class Bill {\n\n  @Id\n  @Column(name = &quot;bill_id&quot;, nullable = false)\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private int billId;\n\n  @ManyToOne\n  @JsonIgnore\n  @ToString.Exclude\n  @JoinColumn(name=&quot;user_id&quot;, nullable=false)\n  private User user;\n\n  //...\n}\n</code></pre>\n<h3>Few points to note:</h3>\n<ol>\n<li>Use <code>GenerationType.IDENTITY</code> instead of <code>GenerationType.AUTO</code></li>\n<li>If possible use different classes for Entity and DTO</li>\n</ol>\n<p>Refer this Article for more details: <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-one-to-many</a></p>\n<hr />\n<p>For the second problem, the proper solution is to use <code>Adder</code> in class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;Users&quot;)\npublic class User {\n\n  @Id\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @GenericGenerator(name = &quot;UUID&quot;,strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n  private UUID id;\n\n //.....   \n   \n  @OneToMany(cascade = CascadeType.REMOVE)\n  @ToString.Exclude\n  private List&lt;Bill&gt; bills;\n\n  //... other fields\n\n  public void addBill(final Bill bill) {\n    if(bills == null) {\n      bills = new ArrayList&lt;&gt;();\n    }\n    bills.add(bill);\n  }\n  \n  public void addBills(final List&lt;Bill&gt; bills) {\n    if(this.bills == null) {\n      this.bills = new ArrayList&lt;&gt;();\n    }\n    this.bills.addAll(bills);\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":20352686,"reputation":29,"user_id":14928982,"display_name":"Baris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657801596,"creation_date":1657556565,"question_id":72941684,"body_markdown":"I have 3 classes `User`, `Bill`, `Payment`. User may has many bills. Bill may has one Payment.\r\n\r\nMy problem is that when I use @OneToMany annotation on the user entity, one extra table is created in postgresql. This table&#39;s name users_bills and there are 2 foreign key for user id and bill id.\r\n\r\n\r\n    @Table(name = &quot;Users&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @GenericGenerator(name = &quot;UUID&quot;,strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n        @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n        private UUID id;\r\n    \r\n       //.....   \r\n       \r\n        @OneToMany(cascade = CascadeType.REMOVE)\r\n        @ToString.Exclude\r\n        private List&lt;Bill&gt; bills;\r\n    }\r\n\r\n\r\n    @Table(name = &quot;Bills&quot;)\r\n    public class Bill {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int billId;\r\n     \r\n     //........\r\n    }\r\n\r\n\r\nI didn&#39;t specify any code to create the new table for one-to-many relationship and it created itself.\r\n\r\n    Hibernate: create table users_bills (user_id uuid not null, bills_bill_id int4 not null)\r\n    Hibernate: alter table if exists users_bills add constraint FKhudoici2ayeayhwyuq3usi7i5 foreign key (bills_bill_id) references bills\r\n    Hibernate: alter table if exists users_bills add constraint FK3o2h5qibmg208c927vg6vtm6h foreign key (user_id) references users\r\n\r\n\r\n\r\nThere is a problem with this table. When I add an bill to a user, it appears in the table. But when I add more than one bill, the previous bill is deleted and a new one is added.\r\n\r\n\r\n\r\n    Hibernate: select user0_.id as id1_2_, user0_.name as name2_2_, user0_.subscriber_no as subscrib3_2_, user0_.surname as surname4_2_ from users user0_ where user0_.subscriber_no=?\r\n    Hibernate: select nextval (&#39;hibernate_sequence&#39;)\r\n    Hibernate: insert into bills (bill_no, bill_price, is_paid, payment_payment_id, process_date, subscriber_no, user_id, bill_id) values (?, ?, ?, ?, ?, ?, ?, ?)\r\n    Hibernate: delete from users_bills where user_id=?\r\n    Hibernate: insert into users_bills (user_id, bills_bill_id) values (?, ?)\r\n\r\n\r\nWhy is it deleting the previous record instead of adding a new one. How can I fix it ?\r\n\r\n","title":"Why @OneToMany annotation create constraint table automatically and Why that table remove previous record","body":"<p>I have 3 classes <code>User</code>, <code>Bill</code>, <code>Payment</code>. User may has many bills. Bill may has one Payment.</p>\n<p>My problem is that when I use @OneToMany annotation on the user entity, one extra table is created in postgresql. This table's name users_bills and there are 2 foreign key for user id and bill id.</p>\n<pre><code>@Table(name = &quot;Users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;,strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private UUID id;\n\n   //.....   \n   \n    @OneToMany(cascade = CascadeType.REMOVE)\n    @ToString.Exclude\n    private List&lt;Bill&gt; bills;\n}\n\n\n@Table(name = &quot;Bills&quot;)\npublic class Bill {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int billId;\n \n //........\n}\n</code></pre>\n<p>I didn't specify any code to create the new table for one-to-many relationship and it created itself.</p>\n<pre><code>Hibernate: create table users_bills (user_id uuid not null, bills_bill_id int4 not null)\nHibernate: alter table if exists users_bills add constraint FKhudoici2ayeayhwyuq3usi7i5 foreign key (bills_bill_id) references bills\nHibernate: alter table if exists users_bills add constraint FK3o2h5qibmg208c927vg6vtm6h foreign key (user_id) references users\n</code></pre>\n<p>There is a problem with this table. When I add an bill to a user, it appears in the table. But when I add more than one bill, the previous bill is deleted and a new one is added.</p>\n<pre><code>Hibernate: select user0_.id as id1_2_, user0_.name as name2_2_, user0_.subscriber_no as subscrib3_2_, user0_.surname as surname4_2_ from users user0_ where user0_.subscriber_no=?\nHibernate: select nextval ('hibernate_sequence')\nHibernate: insert into bills (bill_no, bill_price, is_paid, payment_payment_id, process_date, subscriber_no, user_id, bill_id) values (?, ?, ?, ?, ?, ?, ?, ?)\nHibernate: delete from users_bills where user_id=?\nHibernate: insert into users_bills (user_id, bills_bill_id) values (?, ?)\n</code></pre>\n<p>Why is it deleting the previous record instead of adding a new one. How can I fix it ?</p>\n"},{"tags":["java","spring-boot","elasticsearch","search","kibana"],"answers":[{"tags":[],"owner":{"account_id":13574311,"reputation":2059,"user_id":9792104,"display_name":"hamid bayat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657801240,"creation_date":1657801240,"answer_id":72980405,"question_id":72978926,"body_markdown":"    GET _cat/indices\r\n\r\nAnd that is not query. \r\n\r\n\r\nuse    `_cat API`\r\n for getting elasticsearch cluster and indices stats.\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/cat.html","title":"How to write query in kibana Devtool for showing all indexes","body":"<pre><code>GET _cat/indices\n</code></pre>\n<p>And that is not query.</p>\n<p>use    <code>_cat API</code>\nfor getting elasticsearch cluster and indices stats.\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/cat.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/cat.html</a></p>\n"}],"owner":{"account_id":23994753,"reputation":3,"user_id":17980393,"display_name":"pratikpoponimb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1658010802,"accepted_answer_id":72980405,"answer_count":1,"score":-1,"last_activity_date":1657801240,"creation_date":1657793935,"question_id":72978926,"body_markdown":"I&#39;m trying to write a query in Kibana DevTools that would give me list of index present in elastic search so how to write query in kibana devtool\r\nGET /.......","title":"How to write query in kibana Devtool for showing all indexes","body":"<p>I'm trying to write a query in Kibana DevTools that would give me list of index present in elastic search so how to write query in kibana devtool\nGET /.......</p>\n"},{"tags":["java","mysql","spring","blob"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1657801457,"post_id":72980295,"comment_id":128899807,"body_markdown":"Does an exception occur on save? Also have you confirmed `optionService.save` has the byte array filled in on the `Option` object?","body":"Does an exception occur on save? Also have you confirmed <code>optionService.save</code> has the byte array filled in on the <code>Option</code> object?"},{"owner":{"account_id":19512604,"reputation":51,"user_id":14276215,"display_name":"Pertsh Galstyan"},"score":0,"creation_date":1657801645,"post_id":72980295,"comment_id":128899881,"body_markdown":"there is no exception , its just save image name.","body":"there is no exception , its just save image name."},{"owner":{"account_id":19512604,"reputation":51,"user_id":14276215,"display_name":"Pertsh Galstyan"},"score":0,"creation_date":1657801714,"post_id":72980295,"comment_id":128899902,"body_markdown":"I  just used simple template of  jpa \n\n public void save(Option tmp) {\n        optionRepository.save(tmp);\n\n    }\n\nYes. byte array exists","body":"I  just used simple template of  jpa    public void save(Option tmp) {         optionRepository.save(tmp);      }  Yes. byte array exists"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1657802020,"post_id":72980295,"comment_id":128900009,"body_markdown":"Might be easier to have a &quot;form&quot; object used that your form posts to instead of the entity directly. In your form object you could use a `MultipartFile` and then when you persist to the database just create an `Option` entity object and call `setImgSrc` with the `MultipartFile.getBytes()`","body":"Might be easier to have a &quot;form&quot; object used that your form posts to instead of the entity directly. In your form object you could use a <code>MultipartFile</code> and then when you persist to the database just create an <code>Option</code> entity object and call <code>setImgSrc</code> with the <code>MultipartFile.getBytes()</code>"},{"owner":{"account_id":19512604,"reputation":51,"user_id":14276215,"display_name":"Pertsh Galstyan"},"score":0,"creation_date":1657802153,"post_id":72980295,"comment_id":128900063,"body_markdown":"thank you for your response. I will try and comment back","body":"thank you for your response. I will try and comment back"},{"owner":{"account_id":19512604,"reputation":51,"user_id":14276215,"display_name":"Pertsh Galstyan"},"score":0,"creation_date":1657802889,"post_id":72980295,"comment_id":128900414,"body_markdown":"I understand the logic of saving an entity. but I can&#39;t realize how to post in form both my object and MultipleFile could you send example of form?","body":"I understand the logic of saving an entity. but I can&#39;t realize how to post in form both my object and MultipleFile could you send example of form?"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1657804604,"post_id":72980295,"comment_id":128901167,"body_markdown":"You would create an `OptionForm` that your html binds and posts to and use that as your `@ModelAttribute` in your `addOption` method. The `OptionForm` would have the `MultipartFile` field in it. That would correspond with your `&lt;input type=&quot;file&quot;...` html element. Then you would create an `Option` object based off of the `OptionForm` object and call your `optionService.save(option)` method as you&#39;re already doing.","body":"You would create an <code>OptionForm</code> that your html binds and posts to and use that as your <code>@ModelAttribute</code> in your <code>addOption</code> method. The <code>OptionForm</code> would have the <code>MultipartFile</code> field in it. That would correspond with your <code>&lt;input type=&quot;file&quot;...</code> html element. Then you would create an <code>Option</code> object based off of the <code>OptionForm</code> object and call your <code>optionService.save(option)</code> method as you&#39;re already doing."}],"owner":{"account_id":19512604,"reputation":51,"user_id":14276215,"display_name":"Pertsh Galstyan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657801167,"creation_date":1657800738,"question_id":72980295,"body_markdown":"I am trying to upload a photo with html and store it as a blob using Spring JPA\r\nthis is my ORM class.\r\n\r\n  \r\n  \r\n\r\n    @Entity(name = &quot;Option&quot;)\r\n      @Table(name = &quot;options&quot;)\r\n        public class Option {\r\n        @Id\r\n        @GeneratedValue(\r\n                strategy = GenerationType.IDENTITY\r\n        )\r\n        @Column(\r\n                name = &quot;id&quot;,\r\n                unique = true,\r\n                updatable = false\r\n        )\r\n        private Long id;\r\n    \r\n    \r\n        @Column(\r\n                name = &quot;img_name&quot;,\r\n                nullable = false,\r\n                columnDefinition = &quot;TEXT&quot;\r\n    \r\n        )\r\n        private String imgName;\r\n    \r\n    \r\n    \r\n        @Column(\r\n                name = &quot;img_description&quot;,\r\n                nullable = false,\r\n                columnDefinition = &quot;TEXT&quot;\r\n        )\r\n        private String imgDesc;\r\n    \r\n        @Lob()\r\n        @Column(\r\n                name=&quot;img_src&quot;,\r\n                columnDefinition = &quot;bytea&quot;\r\n        )\r\n        private byte[] imgSrc;\r\n    \r\n    \r\n    \r\n    \r\n        public Option(String imgName, String imgDesc) {\r\n            this.imgName=imgName;\r\n            this.imgDesc=imgDesc;\r\n    \r\n        }\r\n    \r\n        public Option() {\r\n    \r\n        }\r\n    \r\n    \r\n        public byte[] getImgSrc() {\r\n            return imgSrc;\r\n        }\r\n    \r\n        public void setImgSrc(byte[] imgDesc_i) {\r\n            this.imgSrc = imgDesc_i;\r\n        }\r\n    \r\n        public String getImgName() {\r\n            return imgName;\r\n        }\r\n    \r\n        public void setImgName(String imgName) {\r\n            this.imgName = imgName;\r\n        }\r\n    \r\n        public String getImgDesc() {\r\n            return imgDesc;\r\n        }\r\n    \r\n        public void setImgDesc(String imgDesc) {\r\n            this.imgDesc = imgDesc;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Option{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, imgName=&#39;&quot; + imgName + &#39;\\&#39;&#39; +\r\n                    &quot;, imgDesc=&#39;&quot; + imgDesc + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n        public Option(Long id, String imgName, String imgDesc) {\r\n            this.id = id;\r\n            this.imgName = imgName;\r\n            this.imgDesc = imgDesc;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n    \r\n    \r\n         \r\n\r\n&gt;  and here is my form\r\n\r\n    \r\n    \r\n      \r\n    \r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/add}&quot; th:object=&quot;${option}&quot;  method=&quot;post&quot;&gt;\r\n                &lt;div class=&quot;modal-body&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; class=&quot;form-control&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Description&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; th:field=&quot;*{imgDesc}&quot; class=&quot;form-control&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Image name&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; th:field=&quot;*{imgName}&quot; class=&quot;form-control&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div  class=&quot;form-group&quot;&gt;\r\n                        &lt;label class=&quot;form-label&quot; &gt;Upload image&lt;/label&gt;\r\n                        &lt;input th:field=&quot;*{imgSrc}&quot;  type=&quot;file&quot; class=&quot;form-control&quot;  /&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;modal-footer&quot;&gt;\r\n                    &lt;a href=&quot;/admin&quot; class=&quot;btn btn-info&quot; role=&quot;button&quot;&gt;Cancel&lt;/a&gt;\r\n                    &lt;input type=&quot;submit&quot; class=&quot;btn btn-success&quot; value=&quot;Save&quot;&gt;\r\n                &lt;/div&gt;\r\n            &lt;/form&gt;\r\n\r\n\r\nand this is my controller\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n        public  String addOption(@ModelAttribute(&quot;option&quot;) Option option) {\r\n            optionService.save(option);\r\n            return &quot;redirect:/admin&quot;;\r\n        }\r\n\r\nThe problem is that I keep img src in Option class as array of bytes.\r\nat MySQL dbms shows that type of imgSrc  is  blob \r\n\r\nso when I am trying to save using jpa repository, it just saves image name.\r\ncould someone help me to solve issue?\r\n thank You  \r\n\r\n","title":"Cant upload photos and store them as blob to mysql","body":"<p>I am trying to upload a photo with html and store it as a blob using Spring JPA\nthis is my ORM class.</p>\n<pre><code>@Entity(name = &quot;Option&quot;)\n  @Table(name = &quot;options&quot;)\n    public class Option {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    @Column(\n            name = &quot;id&quot;,\n            unique = true,\n            updatable = false\n    )\n    private Long id;\n\n\n    @Column(\n            name = &quot;img_name&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n\n    )\n    private String imgName;\n\n\n\n    @Column(\n            name = &quot;img_description&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n    )\n    private String imgDesc;\n\n    @Lob()\n    @Column(\n            name=&quot;img_src&quot;,\n            columnDefinition = &quot;bytea&quot;\n    )\n    private byte[] imgSrc;\n\n\n\n\n    public Option(String imgName, String imgDesc) {\n        this.imgName=imgName;\n        this.imgDesc=imgDesc;\n\n    }\n\n    public Option() {\n\n    }\n\n\n    public byte[] getImgSrc() {\n        return imgSrc;\n    }\n\n    public void setImgSrc(byte[] imgDesc_i) {\n        this.imgSrc = imgDesc_i;\n    }\n\n    public String getImgName() {\n        return imgName;\n    }\n\n    public void setImgName(String imgName) {\n        this.imgName = imgName;\n    }\n\n    public String getImgDesc() {\n        return imgDesc;\n    }\n\n    public void setImgDesc(String imgDesc) {\n        this.imgDesc = imgDesc;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Option{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, imgName='&quot; + imgName + '\\'' +\n                &quot;, imgDesc='&quot; + imgDesc + '\\'' +\n                '}';\n    }\n\n    public Option(Long id, String imgName, String imgDesc) {\n        this.id = id;\n        this.imgName = imgName;\n        this.imgDesc = imgDesc;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n\n\n     \n</code></pre>\n<blockquote>\n<p>and here is my form</p>\n</blockquote>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{/add}&quot; th:object=&quot;${option}&quot;  method=&quot;post&quot;&gt;\n            &lt;div class=&quot;modal-body&quot;&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; class=&quot;form-control&quot; required&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Description&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; th:field=&quot;*{imgDesc}&quot; class=&quot;form-control&quot; required&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Image name&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; th:field=&quot;*{imgName}&quot; class=&quot;form-control&quot; required&gt;\n                &lt;/div&gt;\n                &lt;div  class=&quot;form-group&quot;&gt;\n                    &lt;label class=&quot;form-label&quot; &gt;Upload image&lt;/label&gt;\n                    &lt;input th:field=&quot;*{imgSrc}&quot;  type=&quot;file&quot; class=&quot;form-control&quot;  /&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;modal-footer&quot;&gt;\n                &lt;a href=&quot;/admin&quot; class=&quot;btn btn-info&quot; role=&quot;button&quot;&gt;Cancel&lt;/a&gt;\n                &lt;input type=&quot;submit&quot; class=&quot;btn btn-success&quot; value=&quot;Save&quot;&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>and this is my controller</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\n    public  String addOption(@ModelAttribute(&quot;option&quot;) Option option) {\n        optionService.save(option);\n        return &quot;redirect:/admin&quot;;\n    }\n</code></pre>\n<p>The problem is that I keep img src in Option class as array of bytes.\nat MySQL dbms shows that type of imgSrc  is  blob</p>\n<p>so when I am trying to save using jpa repository, it just saves image name.\ncould someone help me to solve issue?\nthank You</p>\n"},{"tags":["java","decompiler"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1657241612,"post_id":72905573,"comment_id":128770312,"body_markdown":"Why do you think there is downloading involved? Are you having issues finding the location of the jar being run on your system?","body":"Why do you think there is downloading involved? Are you having issues finding the location of the jar being run on your system?"},{"owner":{"account_id":11115434,"reputation":15,"user_id":8159911,"display_name":"Nerfed"},"score":0,"creation_date":1657241752,"post_id":72905573,"comment_id":128770329,"body_markdown":"I have no issues decompiling the initial .jar file, that is just the client screen and launcher to what I actually want to decompile. What I want is after that, when you click &quot;Play Now&quot; and it opens a brand new jar. The stuff I decompiled from the original jar does not contain anything useful - that info would be in the new jar.","body":"I have no issues decompiling the initial .jar file, that is just the client screen and launcher to what I actually want to decompile. What I want is after that, when you click &quot;Play Now&quot; and it opens a brand new jar. The stuff I decompiled from the original jar does not contain anything useful - that info would be in the new jar."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":2,"creation_date":1657242042,"post_id":72905573,"comment_id":128770358,"body_markdown":"That likely means it is starting a new process from the initial application. If you right click the &quot;Name&quot;, &quot;Status&quot;, etc bar you can enable &quot;Command Line&quot;. This shows you the command used to run each process. That should show you where the jar is located and how the program was started.","body":"That likely means it is starting a new process from the initial application. If you right click the &quot;Name&quot;, &quot;Status&quot;, etc bar you can enable &quot;Command Line&quot;. This shows you the command used to run each process. That should show you where the jar is located and how the program was started."},{"owner":{"account_id":11115434,"reputation":15,"user_id":8159911,"display_name":"Nerfed"},"score":0,"creation_date":1657242283,"post_id":72905573,"comment_id":128770383,"body_markdown":"Thank you! That solved my issue! It was hidden pretty well but that trick helped me find the .jar file that I needed!","body":"Thank you! That solved my issue! It was hidden pretty well but that trick helped me find the .jar file that I needed!"}],"owner":{"account_id":11115434,"reputation":15,"user_id":8159911,"display_name":"Nerfed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657801125,"answer_count":0,"score":0,"last_activity_date":1657801118,"creation_date":1657241001,"question_id":72905573,"body_markdown":"I open a .jar file then enter credentials and click run.\r\n\r\nThen a new program is opened. I want to decompile *this* .jar file with JD-GUI but I have no way of downloading it.  It is essentially a jar game file that I want to modify the code inside. Is this even possible?\r\n\r\n[![Image of what I am referring to: The V236 program.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uAUIF.png","title":"Can I download the underlying Java(TM) Platform SE Binary file","body":"<p>I open a .jar file then enter credentials and click run.</p>\n<p>Then a new program is opened. I want to decompile <em>this</em> .jar file with JD-GUI but I have no way of downloading it.  It is essentially a jar game file that I want to modify the code inside. Is this even possible?</p>\n<p><a href=\"https://i.stack.imgur.com/uAUIF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uAUIF.png\" alt=\"Image of what I am referring to: The V236 program.\" /></a></p>\n"},{"tags":["java","jax-rs","websphere-8"],"answers":[{"tags":[],"owner":{"account_id":9651072,"reputation":1933,"user_id":7162232,"display_name":"Jarid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657800476,"creation_date":1657800476,"answer_id":72980242,"question_id":72976956,"body_markdown":"You can bring your own JAX-RS 2.0 API and implementation and configure your application to use that. Two major steps:\r\n\r\n1) Disable the JAX-RS engine in WAS: https://www.ibm.com/docs/en/was/8.5.5?topic=djrwa-disabling-jax-rs-runtime-environment (the most important part there is setting the JVM custom property `com.ibm.websphere.jaxrs.server.DisableIBMJAXRSEngine` to `true`).\r\n2) Put your desired API and implementation jars in a shared library, select the option to use an isolated class loader for the library (so it loads its own classes in preference to the server&#39;s), and associate that shared library with the server.\r\n\r\nWith that configuration, the server will avoid starting its own JAX-RS component or processing JAX-RS annotations, and the application will get its JAX-RS API and implementation classes from the shared library.","title":"NameBinding missing from jsr311-api","body":"<p>You can bring your own JAX-RS 2.0 API and implementation and configure your application to use that. Two major steps:</p>\n<ol>\n<li>Disable the JAX-RS engine in WAS: <a href=\"https://www.ibm.com/docs/en/was/8.5.5?topic=djrwa-disabling-jax-rs-runtime-environment\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was/8.5.5?topic=djrwa-disabling-jax-rs-runtime-environment</a> (the most important part there is setting the JVM custom property <code>com.ibm.websphere.jaxrs.server.DisableIBMJAXRSEngine</code> to <code>true</code>).</li>\n<li>Put your desired API and implementation jars in a shared library, select the option to use an isolated class loader for the library (so it loads its own classes in preference to the server's), and associate that shared library with the server.</li>\n</ol>\n<p>With that configuration, the server will avoid starting its own JAX-RS component or processing JAX-RS annotations, and the application will get its JAX-RS API and implementation classes from the shared library.</p>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657800476,"creation_date":1657784748,"question_id":72976956,"body_markdown":"I am using the answer [here][1] to implement authentication on a jax-rs REST endpoint running on WebSphere Application Server.\r\n\r\nEclipse is telling me that it can&#39;t find `@NameBinding` anywhere in the classpath.\r\n\r\npom:\r\n\r\n```xml\r\n  \t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nAs I understand it, I can&#39;t use a different version of JSR because WAS 8.5.5 only supports JAX-RS 1.1 (see [WAS API Docs][2] and [the JSR Specification it links to][3]\r\n\r\nI now understand that `NameBinding` is not available in the 3.11 spec; so what&#39;s my alternative?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26778123/318414\r\n  [2]: https://www.ibm.com/docs/en/was-nd/8.5.5?topic=overview-specifications-api-documentation\r\n  [3]: https://jcp.org/aboutJava/communityprocess/mrel/jsr311/index.html","title":"NameBinding missing from jsr311-api","body":"<p>I am using the answer <a href=\"https://stackoverflow.com/a/26778123/318414\">here</a> to implement authentication on a jax-rs REST endpoint running on WebSphere Application Server.</p>\n<p>Eclipse is telling me that it can't find <code>@NameBinding</code> anywhere in the classpath.</p>\n<p>pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>As I understand it, I can't use a different version of JSR because WAS 8.5.5 only supports JAX-RS 1.1 (see <a href=\"https://www.ibm.com/docs/en/was-nd/8.5.5?topic=overview-specifications-api-documentation\" rel=\"nofollow noreferrer\">WAS API Docs</a> and <a href=\"https://jcp.org/aboutJava/communityprocess/mrel/jsr311/index.html\" rel=\"nofollow noreferrer\">the JSR Specification it links to</a></p>\n<p>I now understand that <code>NameBinding</code> is not available in the 3.11 spec; so what's my alternative?</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1589760357,"post_id":61855018,"comment_id":109413671,"body_markdown":"You are not using ByteBuffer correctly.  You need to [clear](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/ByteBuffer.html#clear%28%29) it before passing it to channel.read, and you need to [flip](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/ByteBuffer.html#flip%28%29) it after the read and then [decode](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/Charset.html#decode%28java.nio.ByteBuffer%29) it to a String, rather than reading the underlying array.","body":"You are not using ByteBuffer correctly.  You need to <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/ByteBuffer.html#clear%28%29\" rel=\"nofollow noreferrer\">clear</a> it before passing it to channel.read, and you need to <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/ByteBuffer.html#flip%28%29\" rel=\"nofollow noreferrer\">flip</a> it after the read and then <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/Charset.html#decode%28java.nio.ByteBuffer%29\" rel=\"nofollow noreferrer\">decode</a> it to a String, rather than reading the underlying array."},{"owner":{"account_id":6229593,"reputation":444,"user_id":4846804,"accept_rate":60,"display_name":"vincent zhang"},"score":0,"creation_date":1589790768,"post_id":61855018,"comment_id":109422557,"body_markdown":"hi @VGR, thank you for your command, Accoring to my understanding, socketChannel.write() only accept the parameter bytebuffer, so I can not clear it before passing it to channel read. and so there is no meaning to decode it to a string. Or would you write down your code accordingly for my reference?","body":"hi @VGR, thank you for your command, Accoring to my understanding, socketChannel.write() only accept the parameter bytebuffer, so I can not clear it before passing it to channel read. and so there is no meaning to decode it to a string. Or would you write down your code accordingly for my reference?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1589801263,"post_id":61855018,"comment_id":109427667,"body_markdown":"socketChannel.write() has nothing to do with this.  I’m talking about doing `buffer.clear();` before you call `channel.read(buffer);`.  The first time you execute channel.read, the buffer’s position will be moved;  you may not have room in your buffer after that, unless you clear it before subsequent reads.","body":"socketChannel.write() has nothing to do with this.  I’m talking about doing <code>buffer.clear();</code> before you call <code>channel.read(buffer);</code>.  The first time you execute channel.read, the buffer’s position will be moved;  you may not have room in your buffer after that, unless you clear it before subsequent reads."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1657800315,"creation_date":1589803626,"answer_id":61869246,"question_id":61855018,"body_markdown":"You need to read the [documentation for the Buffer class](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/Buffer.html), which is the superclass of ByteBuffer.  You are completely ignoring one of the most important properties of all buffers:  the [position](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/Buffer.html#position%28%29).\r\n\r\nEach Buffer, including ByteBuffers, maintains a position.  A position is an index within the ByteBuffer which is determines where data will be added to the buffer, and also where in the buffer data is read from.\r\n\r\nWhen you call `channel.read(buffer);`, it reads bytes from the channel, and adds them *at the ByteBuffer’s current position.*  **The position is then updated to the index after the last byte added.**\r\n\r\nSo, here is your ByteBuffer’s state after first time you call channel.read:\r\n\r\n    Sending A Message....␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀\r\n              1         2         3         4         5         6\r\n    0123456789012345678901234567890123456789012345678901234567890123456789\r\n                         ↑\r\n                         position = 21\r\n\r\nAnd here is your ByteBuffer’s state after the second time you call channel.read:\r\n\r\n    Sending A Message....Sending A Message....␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀\r\n              1         2         3         4         5         6\r\n    0123456789012345678901234567890123456789012345678901234567890123456789\r\n                                              ↑\r\n                                              position = 42\r\n\r\nAnd here is your ByteBuffer’s state after the third time you call channel.read:\r\n\r\n    Sending A Message....Sending A Message....Sending A Message....␀␀␀␀␀␀␀\r\n              1         2         3         4         5         6\r\n    0123456789012345678901234567890123456789012345678901234567890123456789\r\n                                                                   ↑\r\n                                                                   position = 63\r\n\r\nAs you can see, the array always contains your original message.  **Do not use** `buffer.array()`; it ignores the buffer’s position.\r\n\r\nAfter you read from a channel into a ByteBuffer, the correct way to obtain the data that was just placed in the ByteBuffer is to [flip](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/ByteBuffer.html#flip%28%29) it.  In the case of character data, you will then need to [decode](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/Charset.html#decode%28java.nio.ByteBuffer%29) it.\r\n\r\n`flip()` will move the ByteBuffer’s position to the start of the ByteBuffer, so the next time you read from that ByteBuffer, you will be reading the data that was just placed into it by channel.read.\r\n\r\nAfter channel.read:\r\n\r\n    Sending A Message....␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀\r\n              1         2         3         4         5         6\r\n    0123456789012345678901234567890123456789012345678901234567890123456789\r\n                         ↑\r\n                         position = 21\r\n\r\nAfter `buffer.flip()`:\r\n\r\n    Sending A Message....␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀\r\n              1         2         3         4         5         6\r\n    0123456789012345678901234567890123456789012345678901234567890123456789\r\n    ↑                    ↑\r\n    position = 0         limit = 21\r\n\r\nIf, after calling flip(), you were to call buffer.get(), it would read the byte `&#39;S&#39;` and would advance the ByteBuffer’s position by one.  If you don’t call flip(), the next attempt to read a byte would return 0, because that is the byte value at position 21.\r\n\r\nBut you do not want to read from the ByteBuffer directly;  you want to turn its contents into a String.  Currently, you are passing bytes to the String constructor, which is unwise—it will use the default character set.  If your server is running on Windows and the client is not running Windows (or vice versa), any non-ASCII characters will be corrupted.\r\n\r\nThe proper way to convert between bytes and characters is to use a [Charset](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/Charset.html), specifically its [decode](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/Charset.html#decode%28java.nio.ByteBuffer%29) method.  Java defines several common Charsets in the [StandardCharsets](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/StandardCharsets.html) class.  Most of the time, [UTF-8](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/StandardCharsets.html#UTF_8) is the best choice.\r\n\r\nSo, using a standard Charset’s `decode` method looks like this:\r\n\r\n    channel.clear();\r\n    channel.read(buffer);\r\n    channel.flip();\r\n    String message = StandardCharsets.UTF_8.decode(buffer).toString();\r\n\r\nYou need to set your ByteBuffer’s position back to zero for the next read, since you always want the next channel.read operation to place bytes at position 0 in the ByteBuffer.  The easiest way to do this is with ByteBuffer’s [clear()](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/ByteBuffer.html#clear%28%29) method, as you can see in the code above.  clear() will also set the limit to the buffer’s current capacity (that is, the maximum allowed position).\r\n","title":"Why my pure NIO selectKey still has event selected","body":"<p>You need to read the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/Buffer.html\" rel=\"nofollow noreferrer\">documentation for the Buffer class</a>, which is the superclass of ByteBuffer.  You are completely ignoring one of the most important properties of all buffers:  the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/Buffer.html#position%28%29\" rel=\"nofollow noreferrer\">position</a>.</p>\n<p>Each Buffer, including ByteBuffers, maintains a position.  A position is an index within the ByteBuffer which is determines where data will be added to the buffer, and also where in the buffer data is read from.</p>\n<p>When you call <code>channel.read(buffer);</code>, it reads bytes from the channel, and adds them <em>at the ByteBuffer’s current position.</em>  <strong>The position is then updated to the index after the last byte added.</strong></p>\n<p>So, here is your ByteBuffer’s state after first time you call channel.read:</p>\n<pre><code>Sending A Message....␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀\n          1         2         3         4         5         6\n0123456789012345678901234567890123456789012345678901234567890123456789\n                     ↑\n                     position = 21\n</code></pre>\n<p>And here is your ByteBuffer’s state after the second time you call channel.read:</p>\n<pre><code>Sending A Message....Sending A Message....␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀\n          1         2         3         4         5         6\n0123456789012345678901234567890123456789012345678901234567890123456789\n                                          ↑\n                                          position = 42\n</code></pre>\n<p>And here is your ByteBuffer’s state after the third time you call channel.read:</p>\n<pre><code>Sending A Message....Sending A Message....Sending A Message....␀␀␀␀␀␀␀\n          1         2         3         4         5         6\n0123456789012345678901234567890123456789012345678901234567890123456789\n                                                               ↑\n                                                               position = 63\n</code></pre>\n<p>As you can see, the array always contains your original message.  <strong>Do not use</strong> <code>buffer.array()</code>; it ignores the buffer’s position.</p>\n<p>After you read from a channel into a ByteBuffer, the correct way to obtain the data that was just placed in the ByteBuffer is to <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/ByteBuffer.html#flip%28%29\" rel=\"nofollow noreferrer\">flip</a> it.  In the case of character data, you will then need to <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/Charset.html#decode%28java.nio.ByteBuffer%29\" rel=\"nofollow noreferrer\">decode</a> it.</p>\n<p><code>flip()</code> will move the ByteBuffer’s position to the start of the ByteBuffer, so the next time you read from that ByteBuffer, you will be reading the data that was just placed into it by channel.read.</p>\n<p>After channel.read:</p>\n<pre><code>Sending A Message....␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀\n          1         2         3         4         5         6\n0123456789012345678901234567890123456789012345678901234567890123456789\n                     ↑\n                     position = 21\n</code></pre>\n<p>After <code>buffer.flip()</code>:</p>\n<pre><code>Sending A Message....␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀␀\n          1         2         3         4         5         6\n0123456789012345678901234567890123456789012345678901234567890123456789\n↑                    ↑\nposition = 0         limit = 21\n</code></pre>\n<p>If, after calling flip(), you were to call buffer.get(), it would read the byte <code>'S'</code> and would advance the ByteBuffer’s position by one.  If you don’t call flip(), the next attempt to read a byte would return 0, because that is the byte value at position 21.</p>\n<p>But you do not want to read from the ByteBuffer directly;  you want to turn its contents into a String.  Currently, you are passing bytes to the String constructor, which is unwise—it will use the default character set.  If your server is running on Windows and the client is not running Windows (or vice versa), any non-ASCII characters will be corrupted.</p>\n<p>The proper way to convert between bytes and characters is to use a <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">Charset</a>, specifically its <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/Charset.html#decode%28java.nio.ByteBuffer%29\" rel=\"nofollow noreferrer\">decode</a> method.  Java defines several common Charsets in the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/StandardCharsets.html\" rel=\"nofollow noreferrer\">StandardCharsets</a> class.  Most of the time, <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/charset/StandardCharsets.html#UTF_8\" rel=\"nofollow noreferrer\">UTF-8</a> is the best choice.</p>\n<p>So, using a standard Charset’s <code>decode</code> method looks like this:</p>\n<pre><code>channel.clear();\nchannel.read(buffer);\nchannel.flip();\nString message = StandardCharsets.UTF_8.decode(buffer).toString();\n</code></pre>\n<p>You need to set your ByteBuffer’s position back to zero for the next read, since you always want the next channel.read operation to place bytes at position 0 in the ByteBuffer.  The easiest way to do this is with ByteBuffer’s <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/ByteBuffer.html#clear%28%29\" rel=\"nofollow noreferrer\">clear()</a> method, as you can see in the code above.  clear() will also set the limit to the buffer’s current capacity (that is, the maximum allowed position).</p>\n"}],"owner":{"account_id":6229593,"reputation":444,"user_id":4846804,"accept_rate":60,"display_name":"vincent zhang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61869246,"answer_count":1,"score":1,"last_activity_date":1657800315,"creation_date":1589732467,"question_id":61855018,"body_markdown":"I am a NIO beginner.\r\n\r\nSuppose I have a NIO server like:\r\n\r\n    package org.example.nio.selectordemo2;\r\n    \r\n    import java.net.InetSocketAddress;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.*;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    \r\n    public class NIOServer {\r\n        public static void main(String[] args) throws Exception{\r\n            ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\r\n            Selector selector = Selector.open();\r\n            serverSocketChannel.socket().bind(new InetSocketAddress(6666));\r\n            serverSocketChannel.configureBlocking(false);\r\n            serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n            int loopCount = 0;\r\n            while (true) {\r\n                if (++loopCount == 20) break;\r\n                if(selector.select(2000) == 0) {\r\n                    continue;\r\n                }\r\n                Set&lt;SelectionKey&gt; selectionKeys = selector.selectedKeys();\r\n                Iterator&lt;SelectionKey&gt; keyIterator = selectionKeys.iterator();\r\n                while (keyIterator.hasNext()) {\r\n                    SelectionKey key = keyIterator.next();\r\n                    if(key.isAcceptable()) {\r\n                        SocketChannel socketChannel = serverSocketChannel.accept();\r\n                        socketChannel.configureBlocking(false);\r\n                        socketChannel.register(selector, SelectionKey.OP_READ, ByteBuffer.allocate(1024));\r\n                    }\r\n                    if(key.isReadable()) {\r\n                        SocketChannel channel = (SocketChannel)key.channel();\r\n                        ByteBuffer buffer = (ByteBuffer)key.attachment();\r\n                        channel.read(buffer);\r\n                        System.out.println(&quot;Receive message:&quot; + new String(buffer.array()));\r\n                    }\r\n                    keyIterator.remove();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI will run above server code first, and then run the below client code. Suppose that the server code will receive two event, one is for connect, one is for read message. So suppose the server will run finish once the client connect and send message. However, the result is, it seems like the server keep notified the same event.\r\n\r\n    package org.example.nio.selectordemo2;\r\n    \r\n    import java.net.InetSocketAddress;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.SocketChannel;\r\n    \r\n    public class NIOClient {\r\n        public static void main(String[] args) throws Exception{\r\n            SocketChannel socketChannel = SocketChannel.open();\r\n            socketChannel.configureBlocking(false);\r\n            InetSocketAddress inetSocketAddress = new InetSocketAddress(&quot;127.0.0.1&quot;, 6666);\r\n            if (!socketChannel.connect(inetSocketAddress)) {\r\n                while (!socketChannel.finishConnect()) {\r\n                    System.out.println(&quot;Doing other job&quot;);\r\n                }\r\n            }\r\n            String str = &quot;Sending A Message....&quot;;\r\n            ByteBuffer buffer = ByteBuffer.wrap(str.getBytes());\r\n            socketChannel.write(buffer);\r\n        }\r\n    }\r\n\r\n\r\nHowever, what make me strange is, the result keep like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UpIXn.png\r\n\r\n\r\nObviously the problem is in \r\n\r\n    Set&lt;SelectionKey&gt; selectionKeys = selector.selectedKeys();\r\n\r\nBut I don&#39;t know why, or how I should handler.","title":"Why my pure NIO selectKey still has event selected","body":"<p>I am a NIO beginner.</p>\n\n<p>Suppose I have a NIO server like:</p>\n\n<pre><code>package org.example.nio.selectordemo2;\n\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.*;\nimport java.util.Iterator;\nimport java.util.Set;\n\npublic class NIOServer {\n    public static void main(String[] args) throws Exception{\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\n        Selector selector = Selector.open();\n        serverSocketChannel.socket().bind(new InetSocketAddress(6666));\n        serverSocketChannel.configureBlocking(false);\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\n        int loopCount = 0;\n        while (true) {\n            if (++loopCount == 20) break;\n            if(selector.select(2000) == 0) {\n                continue;\n            }\n            Set&lt;SelectionKey&gt; selectionKeys = selector.selectedKeys();\n            Iterator&lt;SelectionKey&gt; keyIterator = selectionKeys.iterator();\n            while (keyIterator.hasNext()) {\n                SelectionKey key = keyIterator.next();\n                if(key.isAcceptable()) {\n                    SocketChannel socketChannel = serverSocketChannel.accept();\n                    socketChannel.configureBlocking(false);\n                    socketChannel.register(selector, SelectionKey.OP_READ, ByteBuffer.allocate(1024));\n                }\n                if(key.isReadable()) {\n                    SocketChannel channel = (SocketChannel)key.channel();\n                    ByteBuffer buffer = (ByteBuffer)key.attachment();\n                    channel.read(buffer);\n                    System.out.println(\"Receive message:\" + new String(buffer.array()));\n                }\n                keyIterator.remove();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I will run above server code first, and then run the below client code. Suppose that the server code will receive two event, one is for connect, one is for read message. So suppose the server will run finish once the client connect and send message. However, the result is, it seems like the server keep notified the same event.</p>\n\n<pre><code>package org.example.nio.selectordemo2;\n\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SocketChannel;\n\npublic class NIOClient {\n    public static void main(String[] args) throws Exception{\n        SocketChannel socketChannel = SocketChannel.open();\n        socketChannel.configureBlocking(false);\n        InetSocketAddress inetSocketAddress = new InetSocketAddress(\"127.0.0.1\", 6666);\n        if (!socketChannel.connect(inetSocketAddress)) {\n            while (!socketChannel.finishConnect()) {\n                System.out.println(\"Doing other job\");\n            }\n        }\n        String str = \"Sending A Message....\";\n        ByteBuffer buffer = ByteBuffer.wrap(str.getBytes());\n        socketChannel.write(buffer);\n    }\n}\n</code></pre>\n\n<p>However, what make me strange is, the result keep like:\n<a href=\"https://i.stack.imgur.com/UpIXn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UpIXn.png\" alt=\"enter image description here\"></a></p>\n\n<p>Obviously the problem is in </p>\n\n<pre><code>Set&lt;SelectionKey&gt; selectionKeys = selector.selectedKeys();\n</code></pre>\n\n<p>But I don't know why, or how I should handler.</p>\n"},{"tags":["java","rest-assured","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630822720,"creation_date":1630801667,"answer_id":69059790,"question_id":69058111,"body_markdown":"I don&#39;t know whether you&#39;re fimilar with POJO approach or not, but personally, it&#39;d be the easiest way.\r\n\r\nNote: \r\n- you can extract static class to stand-alond class, no required it must be here.\r\n- I use [Lombok][1] and [Jackson][2] as external lib.\r\n\r\n```\r\npublic class DynamicResponse {\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    static class SourceMeta{\r\n        private UserSource userSourceMeta;\r\n    }\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    static class UserSource {\r\n        private String userId;\r\n        private String source;\r\n    }\r\n\r\n    @Data\r\n    static class Request2 {\r\n        private String query;\r\n        private String timeZone;\r\n        private List&lt;UserSource&gt; sourceFilterInfo;\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        //Save response of request 1\r\n        List&lt;SourceMeta&gt; res1 = given().get(&quot;http://localhost:8000/req1&quot;)\r\n                .as(new TypeRef&lt;&gt;() {});\r\n\r\n        // Convert response 1 to list of UserSource\r\n        List&lt;UserSource&gt; userSource = res1.stream()\r\n                .map(SourceMeta::getUserSourceMeta)\r\n                .collect(Collectors.toList());\r\n\r\n        // Add list of UserSource to Request 2\r\n        Request2 req2 = new Request2();\r\n        req2.setQuery(&quot;hi&quot;);\r\n        req2.setTimeZone(&quot;Asia/Calcutta&quot;);\r\n        req2.setSourceFilterInfo(userSource);\r\n\r\n        // Send the Request 2\r\n        given().log().body().contentType(ContentType.JSON)\r\n                .body(req2)\r\n                .post(&quot;http://localhost:8000/echo&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.projectlombok/lombok\r\n  [2]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind","title":"How to prepare dynamic request in rest Assured","body":"<p>I don't know whether you're fimilar with POJO approach or not, but personally, it'd be the easiest way.</p>\n<p>Note:</p>\n<ul>\n<li>you can extract static class to stand-alond class, no required it must be here.</li>\n<li>I use <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok\" rel=\"nofollow noreferrer\">Lombok</a> and <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\" rel=\"nofollow noreferrer\">Jackson</a> as external lib.</li>\n</ul>\n<pre><code>public class DynamicResponse {\n\n    @Data\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class SourceMeta{\n        private UserSource userSourceMeta;\n    }\n\n    @Data\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class UserSource {\n        private String userId;\n        private String source;\n    }\n\n    @Data\n    static class Request2 {\n        private String query;\n        private String timeZone;\n        private List&lt;UserSource&gt; sourceFilterInfo;\n    }\n\n    @Test\n    void test() {\n        //Save response of request 1\n        List&lt;SourceMeta&gt; res1 = given().get(&quot;http://localhost:8000/req1&quot;)\n                .as(new TypeRef&lt;&gt;() {});\n\n        // Convert response 1 to list of UserSource\n        List&lt;UserSource&gt; userSource = res1.stream()\n                .map(SourceMeta::getUserSourceMeta)\n                .collect(Collectors.toList());\n\n        // Add list of UserSource to Request 2\n        Request2 req2 = new Request2();\n        req2.setQuery(&quot;hi&quot;);\n        req2.setTimeZone(&quot;Asia/Calcutta&quot;);\n        req2.setSourceFilterInfo(userSource);\n\n        // Send the Request 2\n        given().log().body().contentType(ContentType.JSON)\n                .body(req2)\n                .post(&quot;http://localhost:8000/echo&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12305700,"reputation":5,"user_id":10379918,"display_name":"Swapnil Sonawane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657799596,"creation_date":1657799506,"answer_id":72980038,"question_id":69058111,"body_markdown":"In my case I have two vId(1 &amp; 2). I want to send it dynamically, if response is null for vId 1 then set vId as 2.\r\n\r\n    Response response = given().header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                       .param(&quot;name&quot;, Name).param(&quot;vIds&quot;, vId)\r\n                       .when().get(EndPoint).then()\r\n    \t\t\t\t   .extract().response();\t","title":"How to prepare dynamic request in rest Assured","body":"<p>In my case I have two vId(1 &amp; 2). I want to send it dynamically, if response is null for vId 1 then set vId as 2.</p>\n<pre><code>Response response = given().header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                   .param(&quot;name&quot;, Name).param(&quot;vIds&quot;, vId)\n                   .when().get(EndPoint).then()\n                   .extract().response();   \n</code></pre>\n"}],"owner":{"account_id":8808401,"reputation":243,"user_id":6582190,"accept_rate":7,"display_name":"Shankar Daitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657799596,"creation_date":1630781192,"question_id":69058111,"body_markdown":"I am new to rest assured. Currently, I am working on API automation using rest assured. I have the following scenario to handle\r\n\r\nWe have two APIs (eg: API1, API2) , API1 will give the list of userdetails . I need to send these details as part of the second API request.\r\n\r\n**API1 - Response**\r\n\r\n        [ {\r\n      &quot;userSourceMeta&quot; : {\r\n        &quot;userId&quot; : &quot;xyz@gmail.com&quot;,\r\n        &quot;source&quot; : &quot;BOX&quot;,\r\n        &quot;organisationId&quot; : 1,\r\n        &quot;emailId&quot; : &quot;xyz@gmail.com&quot;,\r\n        &quot;sourceUserId&quot; : &quot;16231222289&quot;,\r\n        &quot;sourceTeamId&quot; : null\r\n      },\r\n      &quot;connectionStatus&quot; : null\r\n    }, {\r\n      &quot;userSourceMeta&quot; : {\r\n        &quot;userId&quot; : &quot;xyz@gmail.com&quot;,\r\n        &quot;source&quot; : &quot;DROPBOX&quot;,\r\n        &quot;organisationId&quot; : 1,\r\n        &quot;emailId&quot; : &quot;xyz@gmail.com&quot;,\r\n        &quot;sourceUserId&quot; : &quot;88888222768&quot;,\r\n        &quot;sourceTeamId&quot; : null\r\n      },\r\n      &quot;connectionStatus&quot; : null\r\n    }, {\r\n      &quot;userSourceMeta&quot; : {\r\n        &quot;userId&quot; : &quot;xyz@gmail.com&quot;,\r\n        &quot;source&quot; : &quot;GDRIVE&quot;,\r\n        &quot;organisationId&quot; : 1,\r\n        &quot;emailId&quot; : &quot;xyz@gmail.com&quot;,\r\n        &quot;sourceUserId&quot; : &quot;8888873554753473&quot;,\r\n        &quot;sourceTeamId&quot; : null\r\n      },\r\n      &quot;connectionStatus&quot; : null\r\n    }]\r\n\r\n**API2 - Request :**. : In API2 request I need to send &quot;sourceUserId&quot;, &quot;source&quot; details. \r\n\r\n \r\n        {\r\n      &quot;query&quot;: &quot;hi&quot;,\r\n      &quot;timeZone&quot;: &quot;Asia/Calcutta&quot;,\r\n      &quot;sourceFilterInfo&quot;: [\r\n        {\r\n          &quot;sourceUserId&quot;: &quot;16055292089&quot;,\r\n          &quot;source&quot;: &quot;BOX&quot;\r\n        },\r\n        {\r\n          &quot;sourceUserId&quot;: &quot;88888222768&quot;,\r\n          &quot;source&quot;: &quot;DROPBOX&quot;\r\n        },\r\n        {\r\n          &quot;sourceUserId&quot;: &quot;8888873554753473&quot;,\r\n          &quot;source&quot;: &quot;GDRIVE&quot;\r\n        }\r\n      ],\r\n      &quot;contextIds&quot;: []\r\n    }\r\n\r\n\r\nuserSourceMeta details are dynamically change based on the user. \r\nPlease suggest to me how to prepare the API2 request based on the previous API responses. ","title":"How to prepare dynamic request in rest Assured","body":"<p>I am new to rest assured. Currently, I am working on API automation using rest assured. I have the following scenario to handle</p>\n<p>We have two APIs (eg: API1, API2) , API1 will give the list of userdetails . I need to send these details as part of the second API request.</p>\n<p><strong>API1 - Response</strong></p>\n<pre><code>    [ {\n  &quot;userSourceMeta&quot; : {\n    &quot;userId&quot; : &quot;xyz@gmail.com&quot;,\n    &quot;source&quot; : &quot;BOX&quot;,\n    &quot;organisationId&quot; : 1,\n    &quot;emailId&quot; : &quot;xyz@gmail.com&quot;,\n    &quot;sourceUserId&quot; : &quot;16231222289&quot;,\n    &quot;sourceTeamId&quot; : null\n  },\n  &quot;connectionStatus&quot; : null\n}, {\n  &quot;userSourceMeta&quot; : {\n    &quot;userId&quot; : &quot;xyz@gmail.com&quot;,\n    &quot;source&quot; : &quot;DROPBOX&quot;,\n    &quot;organisationId&quot; : 1,\n    &quot;emailId&quot; : &quot;xyz@gmail.com&quot;,\n    &quot;sourceUserId&quot; : &quot;88888222768&quot;,\n    &quot;sourceTeamId&quot; : null\n  },\n  &quot;connectionStatus&quot; : null\n}, {\n  &quot;userSourceMeta&quot; : {\n    &quot;userId&quot; : &quot;xyz@gmail.com&quot;,\n    &quot;source&quot; : &quot;GDRIVE&quot;,\n    &quot;organisationId&quot; : 1,\n    &quot;emailId&quot; : &quot;xyz@gmail.com&quot;,\n    &quot;sourceUserId&quot; : &quot;8888873554753473&quot;,\n    &quot;sourceTeamId&quot; : null\n  },\n  &quot;connectionStatus&quot; : null\n}]\n</code></pre>\n<p><strong>API2 - Request :</strong>. : In API2 request I need to send &quot;sourceUserId&quot;, &quot;source&quot; details.</p>\n<pre><code>    {\n  &quot;query&quot;: &quot;hi&quot;,\n  &quot;timeZone&quot;: &quot;Asia/Calcutta&quot;,\n  &quot;sourceFilterInfo&quot;: [\n    {\n      &quot;sourceUserId&quot;: &quot;16055292089&quot;,\n      &quot;source&quot;: &quot;BOX&quot;\n    },\n    {\n      &quot;sourceUserId&quot;: &quot;88888222768&quot;,\n      &quot;source&quot;: &quot;DROPBOX&quot;\n    },\n    {\n      &quot;sourceUserId&quot;: &quot;8888873554753473&quot;,\n      &quot;source&quot;: &quot;GDRIVE&quot;\n    }\n  ],\n  &quot;contextIds&quot;: []\n}\n</code></pre>\n<p>userSourceMeta details are dynamically change based on the user.\nPlease suggest to me how to prepare the API2 request based on the previous API responses.</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":1,"creation_date":1609336521,"post_id":65507887,"comment_id":115815559,"body_markdown":"Please post your relevant HTML or share link?","body":"Please post your relevant HTML or share link?"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1609362089,"post_id":65507887,"comment_id":115825773,"body_markdown":"Update the question with the text based relevant HTML and your code trials.","body":"Update the question with the text based relevant HTML and your code trials."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1657957064,"post_id":65507887,"comment_id":128937056,"body_markdown":"If you didn&#39;t deny my reasonable edit, I would keep the vote up for the question.","body":"If you didn&#39;t deny my reasonable edit, I would keep the vote up for the question."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626428932,"creation_date":1609407550,"answer_id":65519104,"question_id":65507887,"body_markdown":"`driver.findElement(By by)` and `driver.findElements(By by)` scopes the while DOM.\r\n\r\nyou can target a small area of the DOM with:\r\n`element.findElement(By by)` and `element.findElements(By by)`\r\n\r\nUsing this:\r\n\r\n    WebElement dropdown = driver.findElement(By.DROPDOWN LOCATOR);\r\n    List&lt;WebElement&gt; options = dropdown.findElements(By.OPTION LOCATOR);\r\n\r\nYou still need the OPTION LOCATOR. But it is easier to achieve, it will collect child elements from the parent element only.\r\n\r\nSelect methods would look like this:\r\n\r\n    public void selectByText(List&lt;EebElement&gt; options, String text) {\r\n        for (WebElement element: options) {\r\n        \tif (element.getText().equals(text)) {\r\n        \t\telement.click();\r\n        \t\tbreak;\r\n        \t}\r\n        }\r\n    }\r\n    \r\n    public void selectByValue(List&lt;EebElement&gt; options, String value) {\r\n        for (WebElement element: options) {\r\n        \tif (element.getAttribute(&quot;value&quot;).equals(value)) {\r\n        \t\telement.click();\r\n        \t\tbreak;\r\n        \t}\r\n        }\r\n    }","title":"Selenium Java : Dropdown items are updated dynamically","body":"<p><code>driver.findElement(By by)</code> and <code>driver.findElements(By by)</code> scopes the while DOM.</p>\n<p>you can target a small area of the DOM with:\n<code>element.findElement(By by)</code> and <code>element.findElements(By by)</code></p>\n<p>Using this:</p>\n<pre><code>WebElement dropdown = driver.findElement(By.DROPDOWN LOCATOR);\nList&lt;WebElement&gt; options = dropdown.findElements(By.OPTION LOCATOR);\n</code></pre>\n<p>You still need the OPTION LOCATOR. But it is easier to achieve, it will collect child elements from the parent element only.</p>\n<p>Select methods would look like this:</p>\n<pre><code>public void selectByText(List&lt;EebElement&gt; options, String text) {\n    for (WebElement element: options) {\n        if (element.getText().equals(text)) {\n            element.click();\n            break;\n        }\n    }\n}\n\npublic void selectByValue(List&lt;EebElement&gt; options, String value) {\n    for (WebElement element: options) {\n        if (element.getAttribute(&quot;value&quot;).equals(value)) {\n            element.click();\n            break;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4922820,"reputation":53,"user_id":3964938,"display_name":"Asjad Azeez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657799532,"creation_date":1609335516,"question_id":65507887,"body_markdown":"Any inputs will be appreciated:\r\nThe web application i am working on does not have the &quot;select&quot; tag, and the items in the drop down get updated dynamically. Meaning when i click on the down arrow of the dropdown menu, it would show about 10 items and when i scrolldown the &quot;scrollbar of the dropdown&quot; more items are populated.\r\nWhile i can select an item by typing in the value in the &quot;field&quot; of the dropdown box and by then clicking on the &quot;runtime&quot; created xpath Eg. `driver.findElement(By.xpath(&quot;//li[@text()=&#39;USA&#39;]).click` which works fine for selecting any item, I would need to get all the items in that drop down.\r\nIs there a way this can be achieved ?\r\n","title":"Selenium Java : Dropdown items are updated dynamically","body":"<p>Any inputs will be appreciated:\nThe web application i am working on does not have the &quot;select&quot; tag, and the items in the drop down get updated dynamically. Meaning when i click on the down arrow of the dropdown menu, it would show about 10 items and when i scrolldown the &quot;scrollbar of the dropdown&quot; more items are populated.\nWhile i can select an item by typing in the value in the &quot;field&quot; of the dropdown box and by then clicking on the &quot;runtime&quot; created xpath Eg. <code>driver.findElement(By.xpath(&quot;//li[@text()='USA']).click</code> which works fine for selecting any item, I would need to get all the items in that drop down.\nIs there a way this can be achieved ?</p>\n"},{"tags":["java","android","android-constraintlayout"],"comments":[{"owner":{"account_id":22995702,"reputation":435,"user_id":17120512,"display_name":"AAMCODE"},"score":0,"creation_date":1657774048,"post_id":72975114,"comment_id":128891348,"body_markdown":"Please use the backticks to show the references to the code.","body":"Please use the backticks to show the references to the code."},{"owner":{"account_id":25804643,"reputation":1,"user_id":19546376,"display_name":"Rajkiranpandi M"},"score":0,"creation_date":1657775727,"post_id":72975114,"comment_id":128891623,"body_markdown":"It&#39;s done. @AAMCODE","body":"It&#39;s done. @AAMCODE"}],"answers":[{"tags":[],"owner":{"account_id":12560994,"reputation":81,"user_id":9138766,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657776667,"creation_date":1657776667,"answer_id":72975629,"question_id":72975114,"body_markdown":"You need to set constaints for child views in code.\r\nFor example check this answer: [https://stackoverflow.com/questions/45263159/constraintlayout-change-constraints-programmatically][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45263159/constraintlayout-change-constraints-programmatically","title":"set dynamic checkboxes positions in constrain layout programmatically","body":"<p>You need to set constaints for child views in code.\nFor example check this answer: <a href=\"https://stackoverflow.com/questions/45263159/constraintlayout-change-constraints-programmatically\">ConstraintLayout: change constraints programmatically</a></p>\n"}],"owner":{"account_id":25804643,"reputation":1,"user_id":19546376,"display_name":"Rajkiranpandi M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657799389,"creation_date":1657771972,"question_id":72975114,"body_markdown":"I create checkboxes dynamically within the `Constraintlayout`. I need to use this layout, not the `Linearlayout`. So I created the given below methods\r\n\r\n**order.xml file**\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/clReasons&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginEnd=&quot;5dp&quot;\r\n            android:layout_marginStart=&quot;5dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/clDepartments&quot;&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n**orderstatus.java**\r\n\r\n\r\n\r\n       linearMain =(ConstraintLayout) findViewById(R.id.clReasons);\r\n    \r\n       for(int intReasonCount=0;intReasonCount&lt;reasonsList.size();intReasonCount++)\r\n        {\r\n        checkBox=new CheckBox(OrderStatus.this);                            \r\n        checkBox.setId(Integer.valueOf(reasonsList.get(intReasonCount)\r\n        .get(ReasonInfo.ReasonID))\r\n\r\n        );\r\n                                \r\n        checkBox.setText(String.valueOf(reasonsList.get(intReasonCount)\r\n        .get(ReasonInfo.ReasonDesc)));\r\n                               \r\n        linearMain.addView(checkBox\r\n\r\n        );\r\n\r\n\r\n\r\n**The output is**\r\n\r\n[![enter image description here][1]][1]\r\n                \r\nAll checkboxes are aligned at one position. I need to set this dynamic checkbox are 2 columns at each row(2 checkboxes at each row). Please refer to the image.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ztxNF.png","title":"set dynamic checkboxes positions in constrain layout programmatically","body":"<p>I create checkboxes dynamically within the <code>Constraintlayout</code>. I need to use this layout, not the <code>Linearlayout</code>. So I created the given below methods</p>\n<p><strong>order.xml file</strong></p>\n<pre><code>    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/clReasons&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginEnd=&quot;5dp&quot;\n        android:layout_marginStart=&quot;5dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/clDepartments&quot;&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>orderstatus.java</strong></p>\n<pre><code>   linearMain =(ConstraintLayout) findViewById(R.id.clReasons);\n\n   for(int intReasonCount=0;intReasonCount&lt;reasonsList.size();intReasonCount++)\n    {\n    checkBox=new CheckBox(OrderStatus.this);                            \n    checkBox.setId(Integer.valueOf(reasonsList.get(intReasonCount)\n    .get(ReasonInfo.ReasonID))\n\n    );\n                            \n    checkBox.setText(String.valueOf(reasonsList.get(intReasonCount)\n    .get(ReasonInfo.ReasonDesc)));\n                           \n    linearMain.addView(checkBox\n\n    );\n</code></pre>\n<p><strong>The output is</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ztxNF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ztxNF.png\" alt=\"enter image description here\" /></a></p>\n<p>All checkboxes are aligned at one position. I need to set this dynamic checkbox are 2 columns at each row(2 checkboxes at each row). Please refer to the image.</p>\n"},{"tags":["java","encryption","aes","initialization-vector"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657745897,"creation_date":1657745897,"answer_id":72972572,"question_id":72972433,"body_markdown":"&gt; I understand that if we use the SAME SecretKey (byte array) for each AES/CBC encryption, we need to use a random IV for each encryption.\r\n\r\nThat&#39;s not the precise definition. It should be impossible for an adversary to predict (part of) the IV value for CBC mode. That means that the IV must be *randomized*. That&#39;s somewhat different from random: you could use a counter, encrypt that, and use the result as IV.\r\n\r\nUsually however, the IV is generated using cryptographically secure random number generator.\r\n\r\n&gt; but what if we always use a DIFFERENT secret key (generated by a random salt and the SAME password) for each AES/CBC encryption, do we have to use a random IV each encryption? (OR just pass fixed zero IV).\r\n\r\nNo in that case you can indeed get away with any static IV. However, you could also decide to generate both the key and IV from the password and salt (this is e.g. what OpenSSL does). Again, the IV is randomized, rather than fully random.\r\n\r\n---\r\n\r\nBeware that if you&#39;d use PBKDF2 to derive key and IV that you should make sure that the key + IV aren&#39;t larger than the output size of the hash that you use (otherwise the legitimate user has to perform twice the work compared to an attacker, with no benefit). So for AES-256 you&#39;d have to use SHA-512 within PBKDF2.","title":"Do we need a random IV when we always use a random SecretKey for each AES/CBC encryption?","body":"<blockquote>\n<p>I understand that if we use the SAME SecretKey (byte array) for each AES/CBC encryption, we need to use a random IV for each encryption.</p>\n</blockquote>\n<p>That's not the precise definition. It should be impossible for an adversary to predict (part of) the IV value for CBC mode. That means that the IV must be <em>randomized</em>. That's somewhat different from random: you could use a counter, encrypt that, and use the result as IV.</p>\n<p>Usually however, the IV is generated using cryptographically secure random number generator.</p>\n<blockquote>\n<p>but what if we always use a DIFFERENT secret key (generated by a random salt and the SAME password) for each AES/CBC encryption, do we have to use a random IV each encryption? (OR just pass fixed zero IV).</p>\n</blockquote>\n<p>No in that case you can indeed get away with any static IV. However, you could also decide to generate both the key and IV from the password and salt (this is e.g. what OpenSSL does). Again, the IV is randomized, rather than fully random.</p>\n<hr />\n<p>Beware that if you'd use PBKDF2 to derive key and IV that you should make sure that the key + IV aren't larger than the output size of the hash that you use (otherwise the legitimate user has to perform twice the work compared to an attacker, with no benefit). So for AES-256 you'd have to use SHA-512 within PBKDF2.</p>\n"}],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72972572,"answer_count":1,"score":1,"last_activity_date":1657799066,"creation_date":1657745009,"question_id":72972433,"body_markdown":"I understand that if we use the SAME SecretKey (byte array) for each AES/CBC encryption, we need to use a random IV for each encryption for better security.\r\n\r\nbut what if we always use a DIFFERENT secret key (generated by a random salt and the SAME password) for each AES/CBC encryption, **do we have to use a random IV each encryption int the case?** (OR just use fixed zero IV in the case). Thank you.","title":"Do we need a random IV when we always use a random SecretKey for each AES/CBC encryption?","body":"<p>I understand that if we use the SAME SecretKey (byte array) for each AES/CBC encryption, we need to use a random IV for each encryption for better security.</p>\n<p>but what if we always use a DIFFERENT secret key (generated by a random salt and the SAME password) for each AES/CBC encryption, <strong>do we have to use a random IV each encryption int the case?</strong> (OR just use fixed zero IV in the case). Thank you.</p>\n"},{"tags":["java","spring-boot","callback","token","response-headers"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649593504,"creation_date":1649350756,"answer_id":71786201,"question_id":71786028,"body_markdown":"You can use \r\n\r\n```\r\nresponse.getHeaders().get(HttpHeaders.SET_COOKIE);\r\n```\r\n\r\n(While the client sends the cookies it has via the &quot;Cookie&quot; header, the server sends cookies to set with a &quot;Set-Cookie&quot; header.)\r\n\r\nThis returns a list because each cookie will be in an extra header with the same name.","title":"Spring Boot RestTemplate get Cookie from Callback","body":"<p>You can use</p>\n<pre><code>response.getHeaders().get(HttpHeaders.SET_COOKIE);\n</code></pre>\n<p>(While the client sends the cookies it has via the &quot;Cookie&quot; header, the server sends cookies to set with a &quot;Set-Cookie&quot; header.)</p>\n<p>This returns a list because each cookie will be in an extra header with the same name.</p>\n"},{"tags":[],"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657798876,"creation_date":1649370489,"answer_id":71789627,"question_id":71786028,"body_markdown":"After some research, I was able to find a way to retrieve that token, that seems more like a hack to me than an actual solution.  \r\nThe idea is that the apache HttpClient contains a cookie store with just the token I need. Unfortunately, HttpClient does not have any getters, only `execute` methods, and I&#39;m already on RestTemplates.  \r\nHowever, it is possible to pass a Cookie Store as a parameter while building the HttpClient instance. That Cookie Store will be filled while posting the authentication request.\r\n\r\nThe final version of the code looks like that:\r\n\r\n```java\r\npublic void getCookies() {\r\n\r\n RestTemplate restTemplate = new RestTemplate();\r\n String url = my_login_url;\r\n\r\n HttpHeaders headers = new HttpHeaders();\r\n headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\r\n MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n map.add(&quot;username_key&quot;, my_user);\r\n map.add(&quot;password_key&quot;, my_password);\r\n\r\n HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\r\n\r\n final HttpComponentsClientHttpRequestFactory factory = new \r\n HttpComponentsClientHttpRequestFactory();\r\n CookieStore basicCookieStore = new BasicCookieStore();\r\n final HttpClient httpClient = HttpClientBuilder.create()\r\n                .setRedirectStrategy(new LaxRedirectStrategy())\r\n                .setDefaultCookieStore(basicCookieStore)\r\n                .build();\r\n factory.setHttpClient(httpClient);\r\n restTemplate.setRequestFactory(factory);\r\n\r\n restTemplate.exchange(url,\r\n                HttpMethod.POST,\r\n                request,\r\n                String.class);\r\n\r\n Cookie cookie  = basicCookieStore.getCookies().stream()\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new RuntimeException(url));\r\n System.out.println(cookie.getValue());\r\n}\r\n```\r\nNotice that I am not even interested in the response of the `restTemplate.exchange` query.","title":"Spring Boot RestTemplate get Cookie from Callback","body":"<p>After some research, I was able to find a way to retrieve that token, that seems more like a hack to me than an actual solution.<br />\nThe idea is that the apache HttpClient contains a cookie store with just the token I need. Unfortunately, HttpClient does not have any getters, only <code>execute</code> methods, and I'm already on RestTemplates.<br />\nHowever, it is possible to pass a Cookie Store as a parameter while building the HttpClient instance. That Cookie Store will be filled while posting the authentication request.</p>\n<p>The final version of the code looks like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getCookies() {\n\n RestTemplate restTemplate = new RestTemplate();\n String url = my_login_url;\n\n HttpHeaders headers = new HttpHeaders();\n headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\n MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\n map.add(&quot;username_key&quot;, my_user);\n map.add(&quot;password_key&quot;, my_password);\n\n HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\n\n final HttpComponentsClientHttpRequestFactory factory = new \n HttpComponentsClientHttpRequestFactory();\n CookieStore basicCookieStore = new BasicCookieStore();\n final HttpClient httpClient = HttpClientBuilder.create()\n                .setRedirectStrategy(new LaxRedirectStrategy())\n                .setDefaultCookieStore(basicCookieStore)\n                .build();\n factory.setHttpClient(httpClient);\n restTemplate.setRequestFactory(factory);\n\n restTemplate.exchange(url,\n                HttpMethod.POST,\n                request,\n                String.class);\n\n Cookie cookie  = basicCookieStore.getCookies().stream()\n                .findFirst()\n                .orElseThrow(() -&gt; new RuntimeException(url));\n System.out.println(cookie.getValue());\n}\n</code></pre>\n<p>Notice that I am not even interested in the response of the <code>restTemplate.exchange</code> query.</p>\n"}],"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1057,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71789627,"answer_count":2,"score":0,"last_activity_date":1657798876,"creation_date":1649349834,"question_id":71786028,"body_markdown":"I would like to retrieve a jwt token, using Spring RestTemplate, from a callback that is a redirect URL from a login URL.\r\n\r\nI have been able to connect to the login URL, I have been able to follow the redirect link to the callback, but I have not been able to retieve the token that is stored in the reponse header of the callback.\r\n\r\n```java\r\nRestTemplate restTemplate = new RestTemplate();\r\nString url = my_login_url;\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\r\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\nmap.add(my_login);\r\nmap.add(my_password);\r\n\r\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\r\n\r\nfinal HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\nfinal HttpClient httpClient = HttpClientBuilder.create()\r\n                .setRedirectStrategy(new LaxRedirectStrategy())\r\n                .build();\r\nfactory.setHttpClient(httpClient);\r\nrestTemplate.setRequestFactory(factory);\r\n\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url,\r\n                HttpMethod.POST,\r\n                request,\r\n                String.class);\r\n\r\n// OUCH !! response does not contain the token I&#39;m trying to retrieve !! The token is in the header of the callback !!\r\n```\r\n\r\nCould anybody help me understand how to access the header of the callback ?","title":"Spring Boot RestTemplate get Cookie from Callback","body":"<p>I would like to retrieve a jwt token, using Spring RestTemplate, from a callback that is a redirect URL from a login URL.</p>\n<p>I have been able to connect to the login URL, I have been able to follow the redirect link to the callback, but I have not been able to retieve the token that is stored in the reponse header of the callback.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestTemplate restTemplate = new RestTemplate();\nString url = my_login_url;\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\nmap.add(my_login);\nmap.add(my_password);\n\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\n\nfinal HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\nfinal HttpClient httpClient = HttpClientBuilder.create()\n                .setRedirectStrategy(new LaxRedirectStrategy())\n                .build();\nfactory.setHttpClient(httpClient);\nrestTemplate.setRequestFactory(factory);\n\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url,\n                HttpMethod.POST,\n                request,\n                String.class);\n\n// OUCH !! response does not contain the token I'm trying to retrieve !! The token is in the header of the callback !!\n</code></pre>\n<p>Could anybody help me understand how to access the header of the callback ?</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":9,"creation_date":1456763326,"post_id":35701337,"comment_id":59085731,"body_markdown":"This really seems like a classic case of when to just use a loop and iterator instead.","body":"This really seems like a classic case of when to just use a loop and iterator instead."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":2,"creation_date":1456767937,"post_id":35701337,"comment_id":59088673,"body_markdown":"@chrylis I kindly disagree ;) We&#39;re so used to imperative programming, that any other way sounds too exotic. Imagine if reality was the other way round: we are very used to functional programming and a new imperative paradigm is added to Java. Would you say that this would be the classic case for streams, predicates and optionals?","body":"@chrylis I kindly disagree ;) We&#39;re so used to imperative programming, that any other way sounds too exotic. Imagine if reality was the other way round: we are very used to functional programming and a new imperative paradigm is added to Java. Would you say that this would be the classic case for streams, predicates and optionals?"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":11,"creation_date":1456768510,"post_id":35701337,"comment_id":59089004,"body_markdown":"Don&#39;t call `get()` here!  You have no idea whether its empty or not.  You&#39;ll throw an exception if the element was not there.  Instead, use one of the safe methods like ifPresent, orElse, orElseGet, or orElseThrow.","body":"Don&#39;t call <code>get()</code> here!  You have no idea whether its empty or not.  You&#39;ll throw an exception if the element was not there.  Instead, use one of the safe methods like ifPresent, orElse, orElseGet, or orElseThrow."},{"owner":{"account_id":5624958,"reputation":3859,"user_id":4453678,"accept_rate":88,"display_name":"Matthias Wimmer"},"score":0,"creation_date":1456771858,"post_id":35701337,"comment_id":59091105,"body_markdown":"@FedericoPeraltaSchaffner Probably a matter of taste. But I also would propose not to combine both. When I see some code getting a value using streams I normally assume that the operations in the stream are free of side-effects. Mixing in removing the element might result in code that can be missleading to readers.","body":"@FedericoPeraltaSchaffner Probably a matter of taste. But I also would propose not to combine both. When I see some code getting a value using streams I normally assume that the operations in the stream are free of side-effects. Mixing in removing the element might result in code that can be missleading to readers."},{"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"score":1,"creation_date":1456773327,"post_id":35701337,"comment_id":59092011,"body_markdown":"Just to clarify: Do you want to remove all the elements in the `list` for which the `Predicate` is true or only the first (of a possibly zero, one or many elements)?","body":"Just to clarify: Do you want to remove all the elements in the <code>list</code> for which the <code>Predicate</code> is true or only the first (of a possibly zero, one or many elements)?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1456777914,"post_id":35701337,"comment_id":59094789,"body_markdown":"@FedericoPeraltaSchaffner It has nothing to do with style preference; I am a fan of lambdas, either Java 8 or Groovy. But in this case, the iteration API provides an efficient operation that can&#39;t be used in a stream. It&#39;s just an API wart.","body":"@FedericoPeraltaSchaffner It has nothing to do with style preference; I am a fan of lambdas, either Java 8 or Groovy. But in this case, the iteration API provides an efficient operation that can&#39;t be used in a stream. It&#39;s just an API wart."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1456783464,"post_id":35701337,"comment_id":59098029,"body_markdown":"@chrylis I agree with you :) In this case, it&#39;s better to loop and use an iterator to remove the element. But you could also filter the stream negating the predicate and collect the results to a new list. Both are valid, both have cons and pros. Anyways, I&#39;d use an iterator.","body":"@chrylis I agree with you :) In this case, it&#39;s better to loop and use an iterator to remove the element. But you could also filter the stream negating the predicate and collect the results to a new list. Both are valid, both have cons and pros. Anyways, I&#39;d use an iterator."},{"owner":{"account_id":7867680,"reputation":2151,"user_id":5946019,"accept_rate":47,"display_name":"Marco Stramezzi"},"score":0,"creation_date":1456822419,"post_id":35701337,"comment_id":59112289,"body_markdown":"@Kedar Mhaswade The first you said: I want to remove the elements matching the predicate **but** I also know that the list will contain only one element with a given &quot;pod&quot;.","body":"@Kedar Mhaswade The first you said: I want to remove the elements matching the predicate <b>but</b> I also know that the list will contain only one element with a given &quot;pod&quot;."},{"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"score":0,"creation_date":1456836309,"post_id":35701337,"comment_id":59121039,"body_markdown":"Well, not only one, but at most one (and hence use `Optional`). Sorry insist to be precise, but it is needed, IMO. In this case, you should just take @chrylis&#39;s advice because _mutating_ a list of things is not _functional_. So, it&#39;s appropriate to use the existing &quot;remove while iterating&quot; Java pattern (ensuring that Iterator supports removal) rather than trying to fit this in the Lambda/Stream regime.","body":"Well, not only one, but at most one (and hence use <code>Optional</code>). Sorry insist to be precise, but it is needed, IMO. In this case, you should just take @chrylis&#39;s advice because <i>mutating</i> a list of things is not <i>functional</i>. So, it&#39;s appropriate to use the existing &quot;remove while iterating&quot; Java pattern (ensuring that Iterator supports removal) rather than trying to fit this in the Lambda/Stream regime."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1456768439,"creation_date":1456756180,"answer_id":35702093,"question_id":35701337,"body_markdown":"The direct solution would be to invoke [`ifPresent(consumer)`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ifPresent-java.util.function.Consumer-) on the Optional returned by [`findFirst()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--). This consumer will be invoked when the optional is not empty. The benefit also is that it won&#39;t throw an exception if the find operation returned an empty optional, like your current code would do; instead, nothing will happen.\r\n\r\nIf you want to return the removed value, you can `map` the `Optional` to the result of calling `remove`:\r\n\r\n\tproducersProcedureActive.stream()\r\n\t\t\t\t\t\t\t.filter(producer -&gt; producer.getPod().equals(pod))\r\n\t\t\t\t\t\t\t.findFirst()\r\n\t\t\t\t\t\t\t.map(p -&gt; {\r\n                                producersProcedureActive.remove(p);\r\n                                return p;\r\n                            });\r\n\r\nBut note that the [`remove(Object)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-) operation will again traverse the list to find the element to remove. If you have a list with random access, like an `ArrayList`, it would be better to make a Stream over the indexes of the list and find the first index matching the predicate:\r\n\r\n\tIntStream.range(0, producersProcedureActive.size())\r\n\t\t\t .filter(i -&gt; producersProcedureActive.get(i).getPod().equals(pod))\r\n             .boxed()\r\n             .findFirst()\r\n\t\t\t .map(i -&gt; producersProcedureActive.remove((int) i));\r\n\r\nWith this solution, the [`remove(int)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-) operation operates directly on the index.","title":"Java 8 lambda get and remove element from list","body":"<p>The direct solution would be to invoke <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ifPresent-java.util.function.Consumer-\" rel=\"noreferrer\"><code>ifPresent(consumer)</code></a> on the Optional returned by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"noreferrer\"><code>findFirst()</code></a>. This consumer will be invoked when the optional is not empty. The benefit also is that it won't throw an exception if the find operation returned an empty optional, like your current code would do; instead, nothing will happen.</p>\n\n<p>If you want to return the removed value, you can <code>map</code> the <code>Optional</code> to the result of calling <code>remove</code>:</p>\n\n<pre><code>producersProcedureActive.stream()\n                        .filter(producer -&gt; producer.getPod().equals(pod))\n                        .findFirst()\n                        .map(p -&gt; {\n                            producersProcedureActive.remove(p);\n                            return p;\n                        });\n</code></pre>\n\n<p>But note that the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-\" rel=\"noreferrer\"><code>remove(Object)</code></a> operation will again traverse the list to find the element to remove. If you have a list with random access, like an <code>ArrayList</code>, it would be better to make a Stream over the indexes of the list and find the first index matching the predicate:</p>\n\n<pre><code>IntStream.range(0, producersProcedureActive.size())\n         .filter(i -&gt; producersProcedureActive.get(i).getPod().equals(pod))\n         .boxed()\n         .findFirst()\n         .map(i -&gt; producersProcedureActive.remove((int) i));\n</code></pre>\n\n<p>With this solution, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-\" rel=\"noreferrer\"><code>remove(int)</code></a> operation operates directly on the index.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1456762644,"creation_date":1456762644,"answer_id":35704324,"question_id":35701337,"body_markdown":"I&#39;m sure this will be an unpopular answer, but it works...\r\n\r\n    ProducerDTO[] p = new ProducerDTO[1];\r\n    producersProcedureActive\r\n                .stream()\r\n                .filter(producer -&gt; producer.getPod().equals(pod))\r\n                .findFirst()\r\n                .ifPresent(producer -&gt; {producersProcedureActive.remove(producer); p[0] = producer;}\r\n\r\n`p[0]` will either hold the found element or be null.\r\n\r\nThe &quot;trick&quot; here is circumventing the &quot;effectively final&quot; problem by using an *array* reference that is effectively final, but setting its first element.\r\n","title":"Java 8 lambda get and remove element from list","body":"<p>I'm sure this will be an unpopular answer, but it works...</p>\n\n<pre><code>ProducerDTO[] p = new ProducerDTO[1];\nproducersProcedureActive\n            .stream()\n            .filter(producer -&gt; producer.getPod().equals(pod))\n            .findFirst()\n            .ifPresent(producer -&gt; {producersProcedureActive.remove(producer); p[0] = producer;}\n</code></pre>\n\n<p><code>p[0]</code> will either hold the found element or be null.</p>\n\n<p>The \"trick\" here is circumventing the \"effectively final\" problem by using an <em>array</em> reference that is effectively final, but setting its first element.</p>\n"},{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1456769640,"creation_date":1456766939,"answer_id":35705690,"question_id":35701337,"body_markdown":"Consider using vanilla java iterators to perform the task:\r\n\r\n\tpublic static &lt;T&gt; T findAndRemoveFirst(Iterable&lt;? extends T&gt; collection, Predicate&lt;? super T&gt; test) {\r\n\t\tT value = null;\r\n\t\tfor (Iterator&lt;? extends T&gt; it = collection.iterator(); it.hasNext();)\r\n\t\t\tif (test.test(value = it.next())) {\r\n\t\t\t\tit.remove();\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n**Advantages**:\r\n\r\n 1. It is plain and obvious.\r\n 2. It traverses only once and only up to the matching element.\r\n 3. You can do it on any `Iterable` even without `stream()` support *(at least those implementing `remove()` on their iterator)*.\r\n\r\n**Disadvantages**:\r\n\r\n 1. You cannot do it in place as a single expression (auxiliary method or variable required)\r\n\r\n----------\r\n\r\nAs for the\r\n\r\n&gt; Is it possible to combine get and remove in a lambda expression?\r\n\r\nother answers clearly show that it is possible, but you should be aware of\r\n\r\n 1. Search and removal may traverse the list twice\r\n 2. `ConcurrentModificationException` may be thrown when removing element from the list being iterated\r\n","title":"Java 8 lambda get and remove element from list","body":"<p>Consider using vanilla java iterators to perform the task:</p>\n\n<pre><code>public static &lt;T&gt; T findAndRemoveFirst(Iterable&lt;? extends T&gt; collection, Predicate&lt;? super T&gt; test) {\n    T value = null;\n    for (Iterator&lt;? extends T&gt; it = collection.iterator(); it.hasNext();)\n        if (test.test(value = it.next())) {\n            it.remove();\n            return value;\n        }\n    return null;\n}\n</code></pre>\n\n<p><strong>Advantages</strong>:</p>\n\n<ol>\n<li>It is plain and obvious.</li>\n<li>It traverses only once and only up to the matching element.</li>\n<li>You can do it on any <code>Iterable</code> even without <code>stream()</code> support <em>(at least those implementing <code>remove()</code> on their iterator)</em>.</li>\n</ol>\n\n<p><strong>Disadvantages</strong>:</p>\n\n<ol>\n<li>You cannot do it in place as a single expression (auxiliary method or variable required)</li>\n</ol>\n\n<hr>\n\n<p>As for the</p>\n\n<blockquote>\n  <p>Is it possible to combine get and remove in a lambda expression?</p>\n</blockquote>\n\n<p>other answers clearly show that it is possible, but you should be aware of</p>\n\n<ol>\n<li>Search and removal may traverse the list twice</li>\n<li><code>ConcurrentModificationException</code> may be thrown when removing element from the list being iterated</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456774606,"creation_date":1456774606,"answer_id":35708091,"question_id":35701337,"body_markdown":"With [Eclipse Collections][1] you can use `detectIndex` along with `remove(int)` on any java.util.List.\r\n\r\n    List&lt;Integer&gt; integers = Lists.mutable.with(1, 2, 3, 4, 5);\r\n    int index = Iterate.detectIndex(integers, i -&gt; i &gt; 2);\r\n    if (index &gt; -1) {\r\n        integers.remove(index);\r\n    }\r\n            \r\n    Assert.assertEquals(Lists.mutable.with(1, 2, 4, 5), integers);\r\n\r\nIf you use the [`MutableList`][2] type from Eclipse Collections, you can call the `detectIndex` method directly on the list.\r\n\r\n    MutableList&lt;Integer&gt; integers = Lists.mutable.with(1, 2, 3, 4, 5);\r\n    int index = integers.detectIndex(i -&gt; i &gt; 2);\r\n    if (index &gt; -1) {\r\n        integers.remove(index);\r\n    }\r\n    \r\n    Assert.assertEquals(Lists.mutable.with(1, 2, 4, 5), integers);\r\n\r\nNote: I am a committer for Eclipse Collections\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/list/MutableList.html","title":"Java 8 lambda get and remove element from list","body":"<p>With <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a> you can use <code>detectIndex</code> along with <code>remove(int)</code> on any java.util.List.</p>\n\n<pre><code>List&lt;Integer&gt; integers = Lists.mutable.with(1, 2, 3, 4, 5);\nint index = Iterate.detectIndex(integers, i -&gt; i &gt; 2);\nif (index &gt; -1) {\n    integers.remove(index);\n}\n\nAssert.assertEquals(Lists.mutable.with(1, 2, 4, 5), integers);\n</code></pre>\n\n<p>If you use the <a href=\"https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/list/MutableList.html\" rel=\"nofollow\"><code>MutableList</code></a> type from Eclipse Collections, you can call the <code>detectIndex</code> method directly on the list.</p>\n\n<pre><code>MutableList&lt;Integer&gt; integers = Lists.mutable.with(1, 2, 3, 4, 5);\nint index = integers.detectIndex(i -&gt; i &gt; 2);\nif (index &gt; -1) {\n    integers.remove(index);\n}\n\nAssert.assertEquals(Lists.mutable.with(1, 2, 4, 5), integers);\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":1573687,"reputation":7830,"user_id":4945535,"accept_rate":62,"display_name":"user140547"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456953716,"creation_date":1456781197,"answer_id":35709981,"question_id":35701337,"body_markdown":"As others have suggested, this might be a use case for loops and iterables. In my opinion, this is the simplest approach. If you want to modify the list in-place, it cannot be considered &quot;real&quot; functional programming anyway. But you could use `Collectors.partitioningBy()` in order to get a new list with elements which satisfy your condition, and a new list of those which don&#39;t. Of course with this approach, if you have multiple elements satisfying the condition, all of those will be in that list and not only the first.","title":"Java 8 lambda get and remove element from list","body":"<p>As others have suggested, this might be a use case for loops and iterables. In my opinion, this is the simplest approach. If you want to modify the list in-place, it cannot be considered \"real\" functional programming anyway. But you could use <code>Collectors.partitioningBy()</code> in order to get a new list with elements which satisfy your condition, and a new list of those which don't. Of course with this approach, if you have multiple elements satisfying the condition, all of those will be in that list and not only the first.</p>\n"},{"tags":[],"owner":{"account_id":7867680,"reputation":2151,"user_id":5946019,"accept_rate":47,"display_name":"Marco Stramezzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456826436,"creation_date":1456822047,"answer_id":35718234,"question_id":35701337,"body_markdown":"Combining my initial idea and your answers I reached what seems to be the solution\r\nto my own question:\r\n\r\n\tpublic ProducerDTO findAndRemove(String pod) {\r\n\t\tProducerDTO p = null;\r\n\t\ttry {\r\n\t\t\tp = IntStream.range(0, producersProcedureActive.size())\r\n\t\t\t     .filter(i -&gt; producersProcedureActive.get(i).getPod().equals(pod))\r\n\t\t\t     .boxed()\r\n\t\t\t     .findFirst()\r\n\t\t\t     .map(i -&gt; producersProcedureActive.remove((int)i))\r\n\t\t\t     .get();\r\n\t\t\tlogger.debug(p);\r\n\t\t} catch (NoSuchElementException e) {\r\n\t\t\tlogger.error(&quot;No producer found with POD [&quot; + pod + &quot;]&quot;);\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n\t\r\nIt lets remove the object using `remove(int)` that do not traverse again the \r\nlist (as suggested by @Tunaki) **and** it lets return the removed object to\r\nthe function caller.\r\n\r\n\r\nI read your answers that suggest me to choose safe methods like `ifPresent` instead of `get` but I do not find a way to use them in this scenario.\r\n\r\nAre there any important drawback in this kind of solution? \r\n\r\n**Edit following @Holger advice**\r\n\r\nThis should be the function I needed\r\n\r\n    public ProducerDTO findAndRemove(String pod) {\r\n\t\treturn IntStream.range(0, producersProcedureActive.size())\r\n\t\t\t\t.filter(i -&gt; producersProcedureActive.get(i).getPod().equals(pod))\t\t\r\n\t\t        .boxed()\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t        .findFirst()\r\n\t\t        .map(i -&gt; producersProcedureActive.remove((int)i))\r\n\t\t        .orElseGet(() -&gt; {\r\n\t\t        \tlogger.error(&quot;No producer found with POD [&quot; + pod + &quot;]&quot;); \r\n\t\t        \treturn null; \r\n\t\t        });\r\n\t}","title":"Java 8 lambda get and remove element from list","body":"<p>Combining my initial idea and your answers I reached what seems to be the solution\nto my own question:</p>\n\n<pre><code>public ProducerDTO findAndRemove(String pod) {\n    ProducerDTO p = null;\n    try {\n        p = IntStream.range(0, producersProcedureActive.size())\n             .filter(i -&gt; producersProcedureActive.get(i).getPod().equals(pod))\n             .boxed()\n             .findFirst()\n             .map(i -&gt; producersProcedureActive.remove((int)i))\n             .get();\n        logger.debug(p);\n    } catch (NoSuchElementException e) {\n        logger.error(\"No producer found with POD [\" + pod + \"]\");\n    }\n    return p;\n}\n</code></pre>\n\n<p>It lets remove the object using <code>remove(int)</code> that do not traverse again the \nlist (as suggested by @Tunaki) <strong>and</strong> it lets return the removed object to\nthe function caller.</p>\n\n<p>I read your answers that suggest me to choose safe methods like <code>ifPresent</code> instead of <code>get</code> but I do not find a way to use them in this scenario.</p>\n\n<p>Are there any important drawback in this kind of solution? </p>\n\n<p><strong>Edit following @Holger advice</strong></p>\n\n<p>This should be the function I needed</p>\n\n<pre><code>public ProducerDTO findAndRemove(String pod) {\n    return IntStream.range(0, producersProcedureActive.size())\n            .filter(i -&gt; producersProcedureActive.get(i).getPod().equals(pod))      \n            .boxed()                                                                \n            .findFirst()\n            .map(i -&gt; producersProcedureActive.remove((int)i))\n            .orElseGet(() -&gt; {\n                logger.error(\"No producer found with POD [\" + pod + \"]\"); \n                return null; \n            });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6591667,"reputation":2552,"user_id":5092613,"display_name":"uma shankar"},"down_vote_count":6,"up_vote_count":239,"is_accepted":false,"score":233,"last_activity_date":1571671014,"creation_date":1503999667,"answer_id":45935707,"question_id":35701337,"body_markdown":"**To Remove element from the list** \r\n\r\n    objectA.removeIf(x -&gt; conditions);\r\n\r\neg:\r\n\r\n    objectA.removeIf(x -&gt; blockedWorkerIds.contains(x));\r\n\r\n    List&lt;String&gt; str1 = new ArrayList&lt;String&gt;();\r\n    str1.add(&quot;A&quot;);\r\n    str1.add(&quot;B&quot;);\r\n    str1.add(&quot;C&quot;);\r\n    str1.add(&quot;D&quot;);\r\n\t\r\n    List&lt;String&gt; str2 = new ArrayList&lt;String&gt;();\r\n    str2.add(&quot;D&quot;);\r\n    str2.add(&quot;E&quot;);\r\n\r\n    str1.removeIf(x -&gt; str2.contains(x)); \r\n\t\t\r\n    str1.forEach(System.out::println);\r\n\r\n**OUTPUT:**\r\nA\r\nB\r\nC\r\n","title":"Java 8 lambda get and remove element from list","body":"<p><strong>To Remove element from the list</strong> </p>\n\n<pre><code>objectA.removeIf(x -&gt; conditions);\n</code></pre>\n\n<p>eg:</p>\n\n<pre><code>objectA.removeIf(x -&gt; blockedWorkerIds.contains(x));\n\nList&lt;String&gt; str1 = new ArrayList&lt;String&gt;();\nstr1.add(\"A\");\nstr1.add(\"B\");\nstr1.add(\"C\");\nstr1.add(\"D\");\n\nList&lt;String&gt; str2 = new ArrayList&lt;String&gt;();\nstr2.add(\"D\");\nstr2.add(\"E\");\n\nstr1.removeIf(x -&gt; str2.contains(x)); \n\nstr1.forEach(System.out::println);\n</code></pre>\n\n<p><strong>OUTPUT:</strong>\nA\nB\nC</p>\n"},{"tags":[],"owner":{"account_id":1378509,"reputation":4631,"user_id":1311994,"display_name":"asifsid88"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1506965434,"creation_date":1506944953,"answer_id":46524897,"question_id":35701337,"body_markdown":"Although the thread is quite old, still thought to provide solution - using `Java8`.\r\n\r\nMake the use of `removeIf` function. Time complexity is `O(n)`\r\n\r\n    producersProcedureActive.removeIf(producer -&gt; producer.getPod().equals(pod));\r\n\r\nAPI reference: [removeIf docs][1]\r\n\r\nAssumption: `producersProcedureActive` is a `List`\r\n\r\n**NOTE: With this approach you won&#39;t be able to get the hold of the deleted item.**\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-","title":"Java 8 lambda get and remove element from list","body":"<p>Although the thread is quite old, still thought to provide solution - using <code>Java8</code>.</p>\n\n<p>Make the use of <code>removeIf</code> function. Time complexity is <code>O(n)</code></p>\n\n<pre><code>producersProcedureActive.removeIf(producer -&gt; producer.getPod().equals(pod));\n</code></pre>\n\n<p>API reference: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"noreferrer\">removeIf docs</a></p>\n\n<p>Assumption: <code>producersProcedureActive</code> is a <code>List</code></p>\n\n<p><strong>NOTE: With this approach you won't be able to get the hold of the deleted item.</strong></p>\n"},{"tags":[],"owner":{"account_id":4855806,"reputation":423,"user_id":3916783,"accept_rate":25,"display_name":"Toi Nguyen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1538568474,"creation_date":1538567184,"answer_id":52626353,"question_id":35701337,"body_markdown":"Use can use filter of Java 8, and create another list if you don&#39;t want to change the old list:\r\n\r\n    List&lt;ProducerDTO&gt; result = producersProcedureActive\r\n                                .stream()\r\n                                .filter(producer -&gt; producer.getPod().equals(pod))\r\n                                .collect(Collectors.toList());","title":"Java 8 lambda get and remove element from list","body":"<p>Use can use filter of Java 8, and create another list if you don't want to change the old list:</p>\n\n<pre><code>List&lt;ProducerDTO&gt; result = producersProcedureActive\n                            .stream()\n                            .filter(producer -&gt; producer.getPod().equals(pod))\n                            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3006965,"reputation":4976,"user_id":2551287,"accept_rate":89,"display_name":"young-ceo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546753135,"creation_date":1546751197,"answer_id":54058806,"question_id":35701337,"body_markdown":"The below logic is the solution without modifying the original list\r\n\r\n    List&lt;String&gt; str1 = new ArrayList&lt;String&gt;();\r\n    str1.add(&quot;A&quot;);\r\n    str1.add(&quot;B&quot;);\r\n    str1.add(&quot;C&quot;);\r\n    str1.add(&quot;D&quot;);\r\n    \r\n    List&lt;String&gt; str2 = new ArrayList&lt;String&gt;();\r\n    str2.add(&quot;D&quot;);\r\n    str2.add(&quot;E&quot;);\r\n    \r\n    List&lt;String&gt; str3 = str1.stream()\r\n                            .filter(item -&gt; !str2.contains(item))\r\n                            .collect(Collectors.toList());\r\n\r\n    str1 // [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;]\r\n    str2 // [&quot;D&quot;, &quot;E&quot;]\r\n    str3 // [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]","title":"Java 8 lambda get and remove element from list","body":"<p>The below logic is the solution without modifying the original list</p>\n\n<pre><code>List&lt;String&gt; str1 = new ArrayList&lt;String&gt;();\nstr1.add(\"A\");\nstr1.add(\"B\");\nstr1.add(\"C\");\nstr1.add(\"D\");\n\nList&lt;String&gt; str2 = new ArrayList&lt;String&gt;();\nstr2.add(\"D\");\nstr2.add(\"E\");\n\nList&lt;String&gt; str3 = str1.stream()\n                        .filter(item -&gt; !str2.contains(item))\n                        .collect(Collectors.toList());\n\nstr1 // [\"A\", \"B\", \"C\", \"D\"]\nstr2 // [\"D\", \"E\"]\nstr3 // [\"A\", \"B\", \"C\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6222982,"reputation":2071,"user_id":4842112,"accept_rate":54,"display_name":"Shanika Ediriweera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558711034,"creation_date":1558711034,"answer_id":56295412,"question_id":35701337,"body_markdown":"When we want to **get multiple elements from a List into a new list (filter using a predicate) and remove them from the existing list**, I could not find a proper answer anywhere.\r\n\r\nHere is how we can do it using Java Streaming API partitioning.\r\n\r\n    Map&lt;Boolean, List&lt;ProducerDTO&gt;&gt; classifiedElements = producersProcedureActive\r\n        .stream()\r\n        .collect(Collectors.partitioningBy(producer -&gt; producer.getPod().equals(pod)));\r\n    \r\n    // get two new lists \r\n    List&lt;ProducerDTO&gt; matching = classifiedElements.get(true);\r\n    List&lt;ProducerDTO&gt; nonMatching = classifiedElements.get(false);\r\n\r\n    // OR get non-matching elements to the existing list\r\n    producersProcedureActive = classifiedElements.get(false);\r\n\r\nThis way you effectively remove the filtered elements from the original list and add them to a new list.\r\n\r\nRefer the *5.2. Collectors.partitioningBy* section of [this article][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-collection-remove-elements","title":"Java 8 lambda get and remove element from list","body":"<p>When we want to <strong>get multiple elements from a List into a new list (filter using a predicate) and remove them from the existing list</strong>, I could not find a proper answer anywhere.</p>\n\n<p>Here is how we can do it using Java Streaming API partitioning.</p>\n\n<pre><code>Map&lt;Boolean, List&lt;ProducerDTO&gt;&gt; classifiedElements = producersProcedureActive\n    .stream()\n    .collect(Collectors.partitioningBy(producer -&gt; producer.getPod().equals(pod)));\n\n// get two new lists \nList&lt;ProducerDTO&gt; matching = classifiedElements.get(true);\nList&lt;ProducerDTO&gt; nonMatching = classifiedElements.get(false);\n\n// OR get non-matching elements to the existing list\nproducersProcedureActive = classifiedElements.get(false);\n</code></pre>\n\n<p>This way you effectively remove the filtered elements from the original list and add them to a new list.</p>\n\n<p>Refer the <em>5.2. Collectors.partitioningBy</em> section of <a href=\"https://www.baeldung.com/java-collection-remove-elements\" rel=\"nofollow noreferrer\">this article</a>.</p>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560463185,"creation_date":1560428430,"answer_id":56580376,"question_id":35701337,"body_markdown":"the task is: get ✶_and_✶ remove element from list\r\n\r\n    p.stream().collect( Collectors.collectingAndThen( Collector.of(\r\n        ArrayDeque::new,\r\n        (a, producer) -&gt; {\r\n          if( producer.getPod().equals( pod ) )\r\n            a.addLast( producer );\r\n        },\r\n        (a1, a2) -&gt; {\r\n          return( a1 );\r\n        },\r\n        rslt -&gt; rslt.pollFirst()\r\n      ),\r\n      (e) -&gt; {\r\n        if( e != null )\r\n          p.remove( e );  // remove\r\n        return( e );    // get\r\n      } ) );\r\n","title":"Java 8 lambda get and remove element from list","body":"<p>the task is: get ✶<em>and</em>✶ remove element from list</p>\n\n<pre><code>p.stream().collect( Collectors.collectingAndThen( Collector.of(\n    ArrayDeque::new,\n    (a, producer) -&gt; {\n      if( producer.getPod().equals( pod ) )\n        a.addLast( producer );\n    },\n    (a1, a2) -&gt; {\n      return( a1 );\n    },\n    rslt -&gt; rslt.pollFirst()\n  ),\n  (e) -&gt; {\n    if( e != null )\n      p.remove( e );  // remove\n    return( e );    // get\n  } ) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18364282,"reputation":11,"user_id":18637242,"display_name":"Ricardo Wojciechowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648744988,"creation_date":1648684255,"answer_id":71685364,"question_id":35701337,"body_markdown":"```\r\nresumoRemessaPorInstrucoes.removeIf(item -&gt; \r\n\t\t\titem.getTipoOcorrenciaRegistro() == TipoOcorrenciaRegistroRemessa.PEDIDO_PROTESTO.getNome() ||\r\n\t\t\titem.getTipoOcorrenciaRegistro() == TipoOcorrenciaRegistroRemessa.SUSTAR_PROTESTO_BAIXAR_TITULO.getNome());\r\n```","title":"Java 8 lambda get and remove element from list","body":"<pre><code>resumoRemessaPorInstrucoes.removeIf(item -&gt; \n            item.getTipoOcorrenciaRegistro() == TipoOcorrenciaRegistroRemessa.PEDIDO_PROTESTO.getNome() ||\n            item.getTipoOcorrenciaRegistro() == TipoOcorrenciaRegistroRemessa.SUSTAR_PROTESTO_BAIXAR_TITULO.getNome());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657798836,"creation_date":1657798836,"answer_id":72979910,"question_id":35701337,"body_markdown":"A variation of the above:\r\n\r\n```\r\n    import static java.util.function.Predicate.not;\r\n\r\n    final Optional&lt;MyItem&gt; myItem = originalCollection.stream().filter(myPredicate(someInfo)).findFirst();\r\n    final List&lt;MyItem&gt; myOtherItems = originalCollection.stream().filter(not(myPredicate(someInfo))).toList();\r\n\r\n    private Predicate&lt;MyItem&gt; myPredicate(Object someInfo) {\r\n        return myItem -&gt; myItem.someField() == someInfo;\r\n    }\r\n```","title":"Java 8 lambda get and remove element from list","body":"<p>A variation of the above:</p>\n<pre><code>    import static java.util.function.Predicate.not;\n\n    final Optional&lt;MyItem&gt; myItem = originalCollection.stream().filter(myPredicate(someInfo)).findFirst();\n    final List&lt;MyItem&gt; myOtherItems = originalCollection.stream().filter(not(myPredicate(someInfo))).toList();\n\n    private Predicate&lt;MyItem&gt; myPredicate(Object someInfo) {\n        return myItem -&gt; myItem.someField() == someInfo;\n    }\n</code></pre>\n"}],"owner":{"account_id":7867680,"reputation":2151,"user_id":5946019,"accept_rate":47,"display_name":"Marco Stramezzi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291999,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"answer_count":14,"score":131,"last_activity_date":1657798836,"creation_date":1456753965,"question_id":35701337,"body_markdown":"Given a list of elements, I want to get the element with a given property **and** remove it from the list. The best solution I found is:\r\n\r\n    ProducerDTO p = producersProcedureActive\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter(producer -&gt; producer.getPod().equals(pod))\r\n\t\t\t\t\t.findFirst()\r\n\t\t\t\t\t.get();\r\n\tproducersProcedureActive.remove(p);\r\n\r\nIs it possible to combine get and remove in a lambda expression?","title":"Java 8 lambda get and remove element from list","body":"<p>Given a list of elements, I want to get the element with a given property <strong>and</strong> remove it from the list. The best solution I found is:</p>\n\n<pre><code>ProducerDTO p = producersProcedureActive\n                .stream()\n                .filter(producer -&gt; producer.getPod().equals(pod))\n                .findFirst()\n                .get();\nproducersProcedureActive.remove(p);\n</code></pre>\n\n<p>Is it possible to combine get and remove in a lambda expression?</p>\n"},{"tags":["java","spring","queue","activemq","message-driven-bean"],"comments":[{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1657728756,"post_id":72968012,"comment_id":128881327,"body_markdown":"Please share your consumer code-- specifically which acknowledgement mode you are using.","body":"Please share your consumer code-- specifically which acknowledgement mode you are using."},{"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"score":0,"creation_date":1657798701,"post_id":72968012,"comment_id":128898784,"body_markdown":"I have added the code and we are using Auto-acknowledge as acknowledgeMode.","body":"I have added the code and we are using Auto-acknowledge as acknowledgeMode."}],"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657798664,"creation_date":1657722538,"question_id":72968012,"body_markdown":"I have deployed my Java-MDB based application using ActiveMQ as messaging service . I could see that a few messages have been in pending status for quite some time on some queues. I have read that this happens when ActiveMQ delivers the message and consumer consumes the message but doesn&#39;t send the ack back. But I could not see any related loggers on the consumer/application side which proves that the message is consumed.\r\n\r\nCould anyone please help me understand the reason of message being stuck in pending state.\r\n\r\nEdit - Adding the details:\r\n\r\nWe are using Auto-acknowledge as acknowledgeMode and below is the onMessage method used on consumer side.\r\n\r\n```\r\npublic void onMessage(Message message) {\r\n\ttry {\r\n\t\t// Clear all ThreadLocal in SQLQueryHelper.\r\n\t\tSQLQueryHelper.clearCache();\r\n\t\t\r\n\t\tString messageOut = processMessage(message);\r\n\r\n\t\t// if there is a reply, send it out\r\n\t\tif (messageOut != null) {\r\n\t\t\tlogger.warn(LoggerKeys.LOG_1_ARGS,\r\n\t\t\t\tnew String[] {&quot;Reply from MDB not supported. &quot; + messageOut});\r\n\t\t}\r\n\t} catch (Throwable e) {\r\n\t\tlogger.error(LoggerKeys.LOG_1_ARGS,\r\n\t\t\tnew String[] {&quot;Error encountered: &quot; + e.toString()});\r\n\t\ttry {\r\n\t\t\t//put message on error queue\r\n\t\t\thandleError(message, e);\r\n\t\t} catch (Throwable e2) {\r\n\t\t\t//retry to put message on error queue\r\n\t\t\thandleErrorAndRollBack(message, e2);\t\r\n\t\t}\r\n\t}\r\n}\t\r\n```\r\n","title":"Pending Messages in ActiveMQ","body":"<p>I have deployed my Java-MDB based application using ActiveMQ as messaging service . I could see that a few messages have been in pending status for quite some time on some queues. I have read that this happens when ActiveMQ delivers the message and consumer consumes the message but doesn't send the ack back. But I could not see any related loggers on the consumer/application side which proves that the message is consumed.</p>\n<p>Could anyone please help me understand the reason of message being stuck in pending state.</p>\n<p>Edit - Adding the details:</p>\n<p>We are using Auto-acknowledge as acknowledgeMode and below is the onMessage method used on consumer side.</p>\n<pre><code>public void onMessage(Message message) {\n    try {\n        // Clear all ThreadLocal in SQLQueryHelper.\n        SQLQueryHelper.clearCache();\n        \n        String messageOut = processMessage(message);\n\n        // if there is a reply, send it out\n        if (messageOut != null) {\n            logger.warn(LoggerKeys.LOG_1_ARGS,\n                new String[] {&quot;Reply from MDB not supported. &quot; + messageOut});\n        }\n    } catch (Throwable e) {\n        logger.error(LoggerKeys.LOG_1_ARGS,\n            new String[] {&quot;Error encountered: &quot; + e.toString()});\n        try {\n            //put message on error queue\n            handleError(message, e);\n        } catch (Throwable e2) {\n            //retry to put message on error queue\n            handleErrorAndRollBack(message, e2);    \n        }\n    }\n}   \n</code></pre>\n"},{"tags":["java","docker","jar"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1657789741,"post_id":72977951,"comment_id":128895735,"body_markdown":"If it&#39;s still running even when you stop Docker, then you are not running the application in Docker. It&#39;s not possible that the app is still running if the Docker container is not.","body":"If it&#39;s still running even when you stop Docker, then you are not running the application in Docker. It&#39;s not possible that the app is still running if the Docker container is not."},{"owner":{"account_id":13899219,"reputation":792,"user_id":10035190,"display_name":"zircon"},"score":0,"creation_date":1657789753,"post_id":72977951,"comment_id":128895738,"body_markdown":"please mention the command u used to stop the container?@Eve__BC","body":"please mention the command u used to stop the container?@Eve__BC"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1657790127,"post_id":72977951,"comment_id":128895865,"body_markdown":"I suspect that you ran the jar file on your host machine at some point and it is still running there. I don&#39;t know if docker throws and error on startup if that port is already open.","body":"I suspect that you ran the jar file on your host machine at some point and it is still running there. I don&#39;t know if docker throws and error on startup if that port is already open."}],"answers":[{"tags":[],"owner":{"account_id":4598721,"reputation":2757,"user_id":3730077,"display_name":"Slava Kuravsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657797598,"creation_date":1657797598,"answer_id":72979685,"question_id":72977951,"body_markdown":"Stopping container stops also all processes inside. This is the answer on your question. If you have something still running, it must be started from somewhere else (another container or normal system process).","title":"Docker container stop but the .jar app inside still works","body":"<p>Stopping container stops also all processes inside. This is the answer on your question. If you have something still running, it must be started from somewhere else (another container or normal system process).</p>\n"}],"owner":{"account_id":25806421,"reputation":3,"user_id":19547892,"display_name":"Eve__BC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72979685,"answer_count":1,"score":-1,"last_activity_date":1657798334,"creation_date":1657789521,"question_id":72977951,"body_markdown":"I have an OpenLiberty Server which i developed on Eclipse with maven and microprofile framework. It is now just a Java Application as a .jar file. I can execute it with &quot;java -jar name.jar&quot; from the cmd.\r\nI created a docker container based on OpenJdk image and this is the text of my Dockerfile:\r\n\r\n```\r\nFROM openjdk:12-oracle\r\nCOPY projectname.jar /projectname.jar\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;projectname.jar&quot;]\r\n```\r\n\r\nand created the Image with:\r\n`docker build -t takemealong .`\r\n\r\nand created the container with: \r\n`docker run -p 8080:8080 --name TakeMeAlong_Container takemealong`\r\n\r\nIt works fine and i can reach my index.html, but when i stop the Container, the Webserver keep working in the background, even when i stop the entire docker. I can see it in the task manager with the name: &quot;*Vmmem*&quot; and the index.html still of course reachable.\r\n\r\nHow can i make it stop, when i stop the docker container?","title":"Docker container stop but the .jar app inside still works","body":"<p>I have an OpenLiberty Server which i developed on Eclipse with maven and microprofile framework. It is now just a Java Application as a .jar file. I can execute it with &quot;java -jar name.jar&quot; from the cmd.\nI created a docker container based on OpenJdk image and this is the text of my Dockerfile:</p>\n<pre><code>FROM openjdk:12-oracle\nCOPY projectname.jar /projectname.jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;projectname.jar&quot;]\n</code></pre>\n<p>and created the Image with:\n<code>docker build -t takemealong .</code></p>\n<p>and created the container with:\n<code>docker run -p 8080:8080 --name TakeMeAlong_Container takemealong</code></p>\n<p>It works fine and i can reach my index.html, but when i stop the Container, the Webserver keep working in the background, even when i stop the entire docker. I can see it in the task manager with the name: &quot;<em>Vmmem</em>&quot; and the index.html still of course reachable.</p>\n<p>How can i make it stop, when i stop the docker container?</p>\n"},{"tags":["java","overloading"],"comments":[{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1406022846,"post_id":24884151,"comment_id":38651773,"body_markdown":"Are you asking about *overloading* or *overriding*?","body":"Are you asking about <i>overloading</i> or <i>overriding</i>?"},{"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"score":1,"creation_date":1406022978,"post_id":24884151,"comment_id":38651845,"body_markdown":"Your friend is incorrect","body":"Your friend is incorrect"},{"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"score":0,"creation_date":1406023304,"post_id":24884151,"comment_id":38652037,"body_markdown":"Same question, same answer provided here: http://stackoverflow.com/questions/15291400/is-this-overloading-methods-with-same-name-in-different-classes-and-different-s","body":"Same question, same answer provided here: <a href=\"http://stackoverflow.com/questions/15291400/is-this-overloading-methods-with-same-name-in-different-classes-and-different-s\" title=\"is this overloading methods with same name in different classes and different s\">stackoverflow.com/questions/15291400/&hellip;</a>"},{"owner":{"account_id":4514762,"reputation":2638,"user_id":3669940,"accept_rate":100,"display_name":"gkrls"},"score":0,"creation_date":1406027688,"post_id":24884151,"comment_id":38654796,"body_markdown":"Assuming by &quot;overloading&quot; you actually mean &quot;overriding&quot;, your friend is right. There is no overriding. Although there IS &quot;overloading&quot;. Class `C` has both `hello()` and `hello(String s)` methods.","body":"Assuming by &quot;overloading&quot; you actually mean &quot;overriding&quot;, your friend is right. There is no overriding. Although there IS &quot;overloading&quot;. Class <code>C</code> has both <code>hello()</code> and <code>hello(String s)</code> methods."}],"answers":[{"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406023281,"creation_date":1406022951,"answer_id":24884208,"question_id":24884151,"body_markdown":"Long story short, an instance of `C` will have both the `hello()` and the `hello(String s)` methods available. An instance of `P` will only have the `hello` method available.\r\n\r\nThis is indeed *overloading*, as you have two methods of the same name taking different parameters.\r\n\r\nHowever, it is not *overriding*, because overriding is having a method declared in a subclass with the same name **and same parameters** as a method in a superclass.\r\n\r\nE.g. if you had\r\n\r\n    class C extends P {\r\n        public void hello() {}\r\n    }\r\n\r\nit would be *overriding* the `hello()` method declared in `P`. When invoking `new C().hello()` in that case, you would invoke the implementation of the `hello()` method declared in class `C`.","title":"Can a method in sub class overloading a method in super class?","body":"<p>Long story short, an instance of <code>C</code> will have both the <code>hello()</code> and the <code>hello(String s)</code> methods available. An instance of <code>P</code> will only have the <code>hello</code> method available.</p>\n\n<p>This is indeed <em>overloading</em>, as you have two methods of the same name taking different parameters.</p>\n\n<p>However, it is not <em>overriding</em>, because overriding is having a method declared in a subclass with the same name <strong>and same parameters</strong> as a method in a superclass.</p>\n\n<p>E.g. if you had</p>\n\n<pre><code>class C extends P {\n    public void hello() {}\n}\n</code></pre>\n\n<p>it would be <em>overriding</em> the <code>hello()</code> method declared in <code>P</code>. When invoking <code>new C().hello()</code> in that case, you would invoke the implementation of the <code>hello()</code> method declared in class <code>C</code>.</p>\n"},{"tags":[],"owner":{"account_id":347665,"reputation":4574,"user_id":681929,"accept_rate":58,"display_name":"nobalG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406023119,"creation_date":1406023119,"answer_id":24884280,"question_id":24884151,"body_markdown":"`Yes it is overloading`, This overloading is happening in case of the class &#39;`C`&#39; which is extending `P` and hence having `two methods with the same nam`e but `different parameters` leading to overloading of method `hello()` in `Class C`. However `Class P` is only able to access one of the methods which is present in its own definition.","title":"Can a method in sub class overloading a method in super class?","body":"<p><code>Yes it is overloading</code>, This overloading is happening in case of the class '<code>C</code>' which is extending <code>P</code> and hence having <code>two methods with the same nam</code>e but <code>different parameters</code> leading to overloading of method <code>hello()</code> in <code>Class C</code>. However <code>Class P</code> is only able to access one of the methods which is present in its own definition.</p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1406023142,"creation_date":1406023142,"answer_id":24884289,"question_id":24884151,"body_markdown":"*Overloading* is when you have two methods that have the *same* name but different signatures (Your case).\r\n\r\n\r\n&lt;sup&gt;Side note: *Overriding* is when you have two methods that have *exactly* the same signature and name and the parent class.&lt;/sup&gt;\r\n","title":"Can a method in sub class overloading a method in super class?","body":"<p><em>Overloading</em> is when you have two methods that have the <em>same</em> name but different signatures (Your case).</p>\n\n<p><sup>Side note: <em>Overriding</em> is when you have two methods that have <em>exactly</em> the same signature and name and the parent class.</sup></p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406027669,"creation_date":1406023261,"answer_id":24884334,"question_id":24884151,"body_markdown":"It is a valid question since usually, overloading is explained using two methods with the same name (but different parameters) in the same class. \r\n\r\nI would argue that yes, the method ``hello`` in ``C`` is overloading ``P``&#39;s ``hello`` method because of the &quot;is a&quot; relation.\r\n\r\nThe &quot;is a&quot; relation states that since C subclasses P, it is also an instance of P (&quot;C *is a* P&quot;). Hence C has 2 overloaded ``hello``-methods.","title":"Can a method in sub class overloading a method in super class?","body":"<p>It is a valid question since usually, overloading is explained using two methods with the same name (but different parameters) in the same class. </p>\n\n<p>I would argue that yes, the method <code>hello</code> in <code>C</code> is overloading <code>P</code>'s <code>hello</code> method because of the \"is a\" relation.</p>\n\n<p>The \"is a\" relation states that since C subclasses P, it is also an instance of P (\"C <em>is a</em> P\"). Hence C has 2 overloaded <code>hello</code>-methods.</p>\n"},{"tags":[],"owner":{"account_id":2899256,"reputation":742,"user_id":2486371,"display_name":"Niru"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406023520,"creation_date":1406023520,"answer_id":24884424,"question_id":24884151,"body_markdown":"Overloading can happen in same class as well as parent-child class relationship whereas overriding happens only in an inheritance relationship.","title":"Can a method in sub class overloading a method in super class?","body":"<p>Overloading can happen in same class as well as parent-child class relationship whereas overriding happens only in an inheritance relationship.</p>\n"},{"tags":[],"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1406023551,"creation_date":1406023551,"answer_id":24884434,"question_id":24884151,"body_markdown":"Taking a more formal approach, the Java Language Specification for Java 7 states:\r\n\r\n&gt; If two methods of a class (whether both declared in the same class, or both inherited by a class, or one declared and one inherited) have the same name but signatures that are not override-equivalent, then the method name is said to be overloaded. \r\n\r\nhttp://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.9\r\n\r\nI would point your friend to this link.\r\n\r\nSo, in short, in your example, the hello method is indeed overloaded.","title":"Can a method in sub class overloading a method in super class?","body":"<p>Taking a more formal approach, the Java Language Specification for Java 7 states:</p>\n\n<blockquote>\n  <p>If two methods of a class (whether both declared in the same class, or both inherited by a class, or one declared and one inherited) have the same name but signatures that are not override-equivalent, then the method name is said to be overloaded. </p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.9\" rel=\"noreferrer\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.9</a></p>\n\n<p>I would point your friend to this link.</p>\n\n<p>So, in short, in your example, the hello method is indeed overloaded.</p>\n"},{"tags":[],"owner":{"account_id":7491040,"reputation":348,"user_id":5692729,"accept_rate":67,"display_name":"Jatin Lalwani"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1470995074,"creation_date":1470995074,"answer_id":38914859,"question_id":24884151,"body_markdown":"**Simple Explanation:**\r\n\r\nI think this question arises because at times we hear the following,\r\n\r\n&quot;*Method overloading is performed within class.\r\nMethod overriding occurs in two classes that have inheritance relationship.*&quot;\r\n\r\nThe above statement is correct. But your friend is wrong. why?\r\n\r\nBecause when you extend a class, the subclass have all the methods defined by superclass. **It is as if all the methods of superclass have been implemented by the subclass.** That means the hello() method has been implemented by the class C as well. Now, you added a method in class C with different parameter (hello(String s)). That means, class C has two methods in all with same name but different parameters and that is &quot;**overloading**&quot;.\r\n\r\nHope it is crystal clear.\r\n\r\n","title":"Can a method in sub class overloading a method in super class?","body":"<p><strong>Simple Explanation:</strong></p>\n\n<p>I think this question arises because at times we hear the following,</p>\n\n<p>\"<em>Method overloading is performed within class.\nMethod overriding occurs in two classes that have inheritance relationship.</em>\"</p>\n\n<p>The above statement is correct. But your friend is wrong. why?</p>\n\n<p>Because when you extend a class, the subclass have all the methods defined by superclass. <strong>It is as if all the methods of superclass have been implemented by the subclass.</strong> That means the hello() method has been implemented by the class C as well. Now, you added a method in class C with different parameter (hello(String s)). That means, class C has two methods in all with same name but different parameters and that is \"<strong>overloading</strong>\".</p>\n\n<p>Hope it is crystal clear.</p>\n"},{"tags":[],"owner":{"account_id":10414682,"reputation":21,"user_id":7679133,"display_name":"pravin shinde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488987300,"creation_date":1488986270,"answer_id":42675109,"question_id":24884151,"body_markdown":"Yes, your friend is wrong because he thinks only of the concept of overriding.\r\n\r\nBut here  `hello()`, and `hello(String s)` are different by there parameters so it&#39;s overloading not overriding.","title":"Can a method in sub class overloading a method in super class?","body":"<p>Yes, your friend is wrong because he thinks only of the concept of overriding.</p>\n\n<p>But here  <code>hello()</code>, and <code>hello(String s)</code> are different by there parameters so it's overloading not overriding.</p>\n"},{"tags":[],"owner":{"account_id":2626743,"reputation":41,"user_id":2273595,"display_name":"Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496430970,"creation_date":1496430970,"answer_id":44335974,"question_id":24884151,"body_markdown":"Good question!!!In sub class if method name | parameter type | list is changed then sub class method will not be considered as overriding it is considered as overloading method\r\nExample :\r\n\r\n    class A{\r\n    void m1(int a){}\r\n    }\r\n\r\n    class B extends A{\r\n      void m1(float f)\r\n       {}\r\n    }\r\n\r\nIn above program m1 method is a overloaded method.","title":"Can a method in sub class overloading a method in super class?","body":"<p>Good question!!!In sub class if method name | parameter type | list is changed then sub class method will not be considered as overriding it is considered as overloading method\nExample :</p>\n\n<pre><code>class A{\nvoid m1(int a){}\n}\n\nclass B extends A{\n  void m1(float f)\n   {}\n}\n</code></pre>\n\n<p>In above program m1 method is a overloaded method.</p>\n"},{"tags":[],"owner":{"account_id":8230715,"reputation":351,"user_id":6191407,"display_name":"Sonu patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531292146,"creation_date":1531291786,"answer_id":51278945,"question_id":24884151,"body_markdown":"Yes we can overload the super class method in sub class like as bellow:\r\n\r\n        public class OverLoading {\r\n    \r\n        public static void main(String[] args) {\r\n            B b = new B();\r\n            b.display();\r\n            b.display(4);\r\n        }\r\n    }\r\n    \r\n\r\n    class A {\r\n        public void display() {\r\n            System.out.println(&quot;A class display method&quot;);\r\n        }\r\n    }\r\n    \r\n    class B extends A {\r\n        public void display() {\r\n            System.out.println(&quot;class B subclass&quot;);\r\n        }\r\n    \r\n        public void display(int a) { //Overloading in subclass\r\n            System.out.println(&quot;class B subclass with overloading&quot;);\r\n        }\r\n    }\r\n    Output: \r\n    class B subclass\r\n    class B subclass with overloading","title":"Can a method in sub class overloading a method in super class?","body":"<p>Yes we can overload the super class method in sub class like as bellow:</p>\n\n<pre><code>    public class OverLoading {\n\n    public static void main(String[] args) {\n        B b = new B();\n        b.display();\n        b.display(4);\n    }\n}\n\n\nclass A {\n    public void display() {\n        System.out.println(\"A class display method\");\n    }\n}\n\nclass B extends A {\n    public void display() {\n        System.out.println(\"class B subclass\");\n    }\n\n    public void display(int a) { //Overloading in subclass\n        System.out.println(\"class B subclass with overloading\");\n    }\n}\nOutput: \nclass B subclass\nclass B subclass with overloading\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3313232,"reputation":520,"user_id":3094987,"display_name":"Hazem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557108081,"creation_date":1557108081,"answer_id":55997972,"question_id":24884151,"body_markdown":"Source of confusion: Your friend would be right if speaking about C++ not Java. In C++, function overloading can only occur between members of the same class. Whereas in Java, overloading can occur, in addition to that, across two classes with inheritance relationship.","title":"Can a method in sub class overloading a method in super class?","body":"<p>Source of confusion: Your friend would be right if speaking about C++ not Java. In C++, function overloading can only occur between members of the same class. Whereas in Java, overloading can occur, in addition to that, across two classes with inheritance relationship.</p>\n"},{"tags":[],"owner":{"account_id":4277335,"reputation":554,"user_id":3497657,"accept_rate":30,"display_name":"Subhomoy Sikdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595519145,"creation_date":1595519145,"answer_id":63058127,"question_id":24884151,"body_markdown":"Depends on the class. From class P&#39;s perspective (if the reference is P, the object can be of C) it is not. If you write something like: ```P p = new C();``` there is no overloading because you cannot call ```p.hello(&quot;foo&quot;)```.\r\n\r\nFrom class C&#39;s perspective it is overloaded because if you write ```C c = new C();``` it has two methods with same name and different signatures.","title":"Can a method in sub class overloading a method in super class?","body":"<p>Depends on the class. From class P's perspective (if the reference is P, the object can be of C) it is not. If you write something like: <code>P p = new C();</code> there is no overloading because you cannot call <code>p.hello(&quot;foo&quot;)</code>.</p>\n<p>From class C's perspective it is overloaded because if you write <code>C c = new C();</code> it has two methods with same name and different signatures.</p>\n"},{"tags":[],"owner":{"account_id":1046766,"reputation":3474,"user_id":1051589,"accept_rate":56,"display_name":"joker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657798107,"creation_date":1657798107,"answer_id":72979786,"question_id":24884151,"body_markdown":"This is a good question and the answer is a bit tricky.\r\n\r\nWell, it&#39;s true that you can overload an inherited method from a parent class into a subclass. However, and here&#39;s the interesting part, the actual behavior depends on the reference variable type.\r\n\r\nLet&#39;s consider the following example:\r\n\r\n    public class OverLoadingTest {\r\n\r\n        public static void main(String[] args) {\r\n            ChildClass cc = new ChildClass();\r\n            SuperClass sc = cc;\r\n            sc.method(&quot;lol&quot;);\r\n            cc.method(&quot;lol&quot;);\r\n        }\r\n\r\n        static class SuperClass {\r\n\r\n            public void method(Object o) {\r\n                System.out.println(&quot;SuperClass called.&quot;);\r\n            }\r\n        }\r\n\r\n        static class ChildClass extends SuperClass {\r\n            public void method(String s) {\r\n                System.out.println(&quot;ChildClass called.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nSo, we have a class extending another and with a method that overloads a method from the parent.\r\n\r\nIt&#39;s easy to guess that if you have an instance of `ChildClass`, the two methods are overloaded, and overloading resolution takes place as it normally does.\r\n\r\nHowever, let&#39;s consider creating an instance of `ChildClass` and assigning it to a reference variable of type `SuperClass`. Is the overloading thing still standing?\r\n\r\nIf you execute this program you will get this outptut:\r\n\r\n    SuperClass called.\r\n    ChildClass called.\r\n\r\nThe output clearly indicates that there&#39;s no overloading here in this case. This however can be altered by overriding the original method.\r\n\r\n    static class ChildClass extends SuperClass {\r\n        public void method(String s) {\r\n            System.out.println(&quot;ChildClass called.&quot;);\r\n        }\r\n\r\n        public void method(Object o) {\r\n            System.out.println(&quot;ChildClass called.&quot;);\r\n        }\r\n    }\r\n\r\nNow, if you run the program again, you get this output:\r\n\r\n    ChildClass called.\r\n    ChildClass called.\r\n\r\n# Explanation\r\n\r\nNow, why is JVM behaving that way? Why can&#39;t it see the overloading method as we&#39;re using an instance of the child class?\r\n\r\nThis takes us to how does JVM call a method. The JVM sees that you&#39;re referring to the object with a reference of type `SuperClass`, so, it can only use the methods that are related to that type, with the only exception is overriden methods. And since `method(String)` isn&#39;t overriding, we have `method(Object)` of the parent, hence, it&#39;s the one chosen for execution.\r\n\r\nWe then override the method to break this rule, and this is how the JVM called `ChildClass.method(Object)` even if the reference variable is of a parent class.","title":"Can a method in sub class overloading a method in super class?","body":"<p>This is a good question and the answer is a bit tricky.</p>\n<p>Well, it's true that you can overload an inherited method from a parent class into a subclass. However, and here's the interesting part, the actual behavior depends on the reference variable type.</p>\n<p>Let's consider the following example:</p>\n<pre><code>public class OverLoadingTest {\n\n    public static void main(String[] args) {\n        ChildClass cc = new ChildClass();\n        SuperClass sc = cc;\n        sc.method(&quot;lol&quot;);\n        cc.method(&quot;lol&quot;);\n    }\n\n    static class SuperClass {\n\n        public void method(Object o) {\n            System.out.println(&quot;SuperClass called.&quot;);\n        }\n    }\n\n    static class ChildClass extends SuperClass {\n        public void method(String s) {\n            System.out.println(&quot;ChildClass called.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>So, we have a class extending another and with a method that overloads a method from the parent.</p>\n<p>It's easy to guess that if you have an instance of <code>ChildClass</code>, the two methods are overloaded, and overloading resolution takes place as it normally does.</p>\n<p>However, let's consider creating an instance of <code>ChildClass</code> and assigning it to a reference variable of type <code>SuperClass</code>. Is the overloading thing still standing?</p>\n<p>If you execute this program you will get this outptut:</p>\n<pre><code>SuperClass called.\nChildClass called.\n</code></pre>\n<p>The output clearly indicates that there's no overloading here in this case. This however can be altered by overriding the original method.</p>\n<pre><code>static class ChildClass extends SuperClass {\n    public void method(String s) {\n        System.out.println(&quot;ChildClass called.&quot;);\n    }\n\n    public void method(Object o) {\n        System.out.println(&quot;ChildClass called.&quot;);\n    }\n}\n</code></pre>\n<p>Now, if you run the program again, you get this output:</p>\n<pre><code>ChildClass called.\nChildClass called.\n</code></pre>\n<h1>Explanation</h1>\n<p>Now, why is JVM behaving that way? Why can't it see the overloading method as we're using an instance of the child class?</p>\n<p>This takes us to how does JVM call a method. The JVM sees that you're referring to the object with a reference of type <code>SuperClass</code>, so, it can only use the methods that are related to that type, with the only exception is overriden methods. And since <code>method(String)</code> isn't overriding, we have <code>method(Object)</code> of the parent, hence, it's the one chosen for execution.</p>\n<p>We then override the method to break this rule, and this is how the JVM called <code>ChildClass.method(Object)</code> even if the reference variable is of a parent class.</p>\n"}],"owner":{"account_id":137777,"reputation":194868,"user_id":342235,"accept_rate":77,"display_name":"Freewind"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42610,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":24884434,"answer_count":13,"score":11,"last_activity_date":1657798107,"creation_date":1406022761,"question_id":24884151,"body_markdown":"Java code:\r\n\r\n    class P {\r\n        public void hello() {}\r\n    }\r\n\r\n    class C extends P {\r\n        public void hello(String s) {}\r\n    }\r\n\r\nMy question is: Is the `hello` in class `C` overloading the one with same name in super class `P`?\r\n\r\nMy friend says they are not because the are not in the same class. ","title":"Can a method in sub class overloading a method in super class?","body":"<p>Java code:</p>\n\n<pre><code>class P {\n    public void hello() {}\n}\n\nclass C extends P {\n    public void hello(String s) {}\n}\n</code></pre>\n\n<p>My question is: Is the <code>hello</code> in class <code>C</code> overloading the one with same name in super class <code>P</code>?</p>\n\n<p>My friend says they are not because the are not in the same class. </p>\n"},{"tags":["java","spring","spring-boot","spring-security","active-directory"],"comments":[{"owner":{"account_id":6105471,"reputation":4298,"user_id":4763309,"accept_rate":75,"display_name":"mrkernelpanic"},"score":0,"creation_date":1578574226,"post_id":59661147,"comment_id":105487597,"body_markdown":"Could you please add more information on the actual problem?","body":"Could you please add more information on the actual problem?"},{"owner":{"account_id":9693205,"reputation":200,"user_id":7190611,"display_name":"Poorya Hosseini"},"score":0,"creation_date":1578642629,"post_id":59661147,"comment_id":105512532,"body_markdown":"I added the error to the question.","body":"I added the error to the question."}],"owner":{"account_id":9693205,"reputation":200,"user_id":7190611,"display_name":"Poorya Hosseini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657797319,"creation_date":1578563154,"question_id":59661147,"body_markdown":"Active directory is very new to me can someone help me to setup `WebSecurityConfig` for having the authentication with AD correctly with Spring Security.\r\n\r\nThe AD is like:\r\n```\r\nCN=myCN,OU=OU_1,OU=OU_2,DC=example,DC=com\r\n``` \r\n\r\nI am using this tutorial https://spring.io/guides/gs/authenticating-ldap/ and I have the `configure` method like (it is kotlin code):\r\n```java\r\n    @Throws(Exception::class)\r\n    override fun configure(auth: AuthenticationManagerBuilder) {\r\n        auth\r\n                .ldapAuthentication()\r\n                .userDnPatterns(&quot;uid={0},ou=OU_1,ou=OU_2&quot;)\r\n                .groupSearchBase(&quot;&quot;)\r\n                .userSearchFilter(&quot;CN=myCN&quot;)\r\n                .contextSource()\r\n                .url(&quot;ldap://{targeted AD IP:389}/dc=example,dc=com&quot;)\r\n                .and()\r\n                .passwordCompare()\r\n                .passwordEncoder(LdapShaPasswordEncoder())\r\n                .passwordAttribute(&quot;userPassword&quot;)\r\n    }\r\n```\r\n\r\nThe problem is that I cannot authenticate with this code. The error message I get is:\r\n```\r\nFailed to bind as uid=username,CN=myCN,OU=OU_1, OU=OU_2: org.springframework.ldap.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090400, comment: AcceptSecurityContext error, data 52e, v1db1]; nested exception is javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090400, comment: AcceptSecurityContext error, data 52e, v1db1]\r\n```\r\nI am sure that the user exist and the credential I am using is correct.","title":"Active Directory (AD) authentication Spring-Boot application","body":"<p>Active directory is very new to me can someone help me to setup <code>WebSecurityConfig</code> for having the authentication with AD correctly with Spring Security.</p>\n\n<p>The AD is like:</p>\n\n<pre><code>CN=myCN,OU=OU_1,OU=OU_2,DC=example,DC=com\n</code></pre>\n\n<p>I am using this tutorial <a href=\"https://spring.io/guides/gs/authenticating-ldap/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/authenticating-ldap/</a> and I have the <code>configure</code> method like (it is kotlin code):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Throws(Exception::class)\n    override fun configure(auth: AuthenticationManagerBuilder) {\n        auth\n                .ldapAuthentication()\n                .userDnPatterns(\"uid={0},ou=OU_1,ou=OU_2\")\n                .groupSearchBase(\"\")\n                .userSearchFilter(\"CN=myCN\")\n                .contextSource()\n                .url(\"ldap://{targeted AD IP:389}/dc=example,dc=com\")\n                .and()\n                .passwordCompare()\n                .passwordEncoder(LdapShaPasswordEncoder())\n                .passwordAttribute(\"userPassword\")\n    }\n</code></pre>\n\n<p>The problem is that I cannot authenticate with this code. The error message I get is:</p>\n\n<pre><code>Failed to bind as uid=username,CN=myCN,OU=OU_1, OU=OU_2: org.springframework.ldap.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090400, comment: AcceptSecurityContext error, data 52e, v1db1]; nested exception is javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090400, comment: AcceptSecurityContext error, data 52e, v1db1]\n</code></pre>\n\n<p>I am sure that the user exist and the credential I am using is correct.</p>\n"},{"tags":["java","android","file-upload"],"comments":[{"owner":{"account_id":4335203,"reputation":175,"user_id":3539826,"accept_rate":25,"display_name":"Arif Nur Rohman"},"score":0,"creation_date":1577284418,"post_id":59436841,"comment_id":105135597,"body_markdown":"I found solutiion from this link\nhttp://www.codeplayon.com/2018/11/android-image-upload-to-server-from-camera-and-gallery/\n\nconvert image to base64 and post base64 image using volley","body":"I found solutiion from this link <a href=\"http://www.codeplayon.com/2018/11/android-image-upload-to-server-from-camera-and-gallery/\" rel=\"nofollow noreferrer\">codeplayon.com/2018/11/&hellip;</a>  convert image to base64 and post base64 image using volley"}],"answers":[{"tags":[],"owner":{"account_id":15815130,"reputation":1,"user_id":11411112,"display_name":"kishore kethineni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582975516,"creation_date":1582966443,"answer_id":60463472,"question_id":59436841,"body_markdown":"change the dependency to newer version implementation &#39;net.gotev:uploadservice:3.4&#39;\r\n \r\nand then add NameSpace\r\n\r\n`public class Initializer extends Application {\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        // setup the broadcast action namespace string which will\r\n        // be used to notify upload status.\r\n        // Gradle automatically generates proper variable as below.\r\n        UploadService.NAMESPACE = BuildConfig.APPLICATION_ID;\r\n        // Or, you can define it manually.\r\n        UploadService.NAMESPACE = &quot;com.example.yourapp&quot;;\r\n    }\r\n}`\r\n\r\nIn Manifest application tag add\r\n\r\n     android:name=&quot;.Initializer&quot;","title":"Android Gotev Upload Image Bad notification for startForeground: java.lang.RuntimeException: invalid channel for service notification","body":"<p>change the dependency to newer version implementation 'net.gotev:uploadservice:3.4'</p>\n\n<p>and then add NameSpace</p>\n\n<p>`public class Initializer extends Application {</p>\n\n<pre><code>@Override\npublic void onCreate() {\n    super.onCreate();\n    // setup the broadcast action namespace string which will\n    // be used to notify upload status.\n    // Gradle automatically generates proper variable as below.\n    UploadService.NAMESPACE = BuildConfig.APPLICATION_ID;\n    // Or, you can define it manually.\n    UploadService.NAMESPACE = \"com.example.yourapp\";\n}\n</code></pre>\n\n<p>}`</p>\n\n<p>In Manifest application tag add</p>\n\n<pre><code> android:name=\".Initializer\"\n</code></pre>\n"}],"owner":{"account_id":4335203,"reputation":175,"user_id":3539826,"accept_rate":25,"display_name":"Arif Nur Rohman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657797254,"creation_date":1576937294,"question_id":59436841,"body_markdown":"I&#39;m creating image uploader using gotev/android-upload-service. everything work fine until choose image, and previewing image. But when I click &quot;send&quot; button, my app become crash with this error log\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.pmb, PID: 25379\r\n    android.app.RemoteServiceException: Bad notification for startForeground: java.lang.RuntimeException: invalid channel for service notification: Notification(channel=null pri=0 contentView=null vibrate=null sound=null defaults=0x0 flags=0x42 color=0x00000000 groupKey=net.gotev vis=PRIVATE semFlags=0x0 semPriority=0 semMissedCount=0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1881)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\r\n\r\nhere my permission in AndroidManifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\nhere my build.gradle\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 29\r\n    buildToolsVersion &quot;29.0.2&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.pmb&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;com.android.volley:volley:1.1.1&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;androidx.viewpager:viewpager:1.0.0&#39;\r\n    implementation &#39;net.gotev:uploadservice:2.1&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n    }\r\n\r\n\r\n\r\nhere my Upload.java\r\n\r\n    package com.example.pmb;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    import android.Manifest;\r\n    import android.app.DatePickerDialog;\r\n    import android.app.ProgressDialog;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.database.Cursor;\r\n    import android.graphics.Bitmap;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.provider.MediaStore;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageView;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.Toast;\r\n\r\n    import net.gotev.uploadservice.MultipartUploadRequest;\r\n    import net.gotev.uploadservice.UploadNotificationConfig;\r\n    import java.io.IOException;\r\n    import java.util.UUID;\r\n\r\n    public class Upload extends AppCompatActivity implements SingleUploadBroadcastReceiver.Delegate{\r\n\r\n    private ProgressDialog dialog;\r\n    private final SingleUploadBroadcastReceiver uploadReceiver = new SingleUploadBroadcastReceiver();\r\n\r\n\r\n    LinearLayout linear_upload;\r\n\r\n\r\n    //Declaring views\r\n    private Button buttonUpload;\r\n    private ImageView imageView;\r\n    private EditText editText;\r\n\r\n    //Image request code\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n\r\n    //storage permission code\r\n    private static final int STORAGE_PERMISSION_CODE = 123;\r\n\r\n    //Bitmap to get image from gallery\r\n    private Bitmap bitmap;\r\n\r\n    //Uri to store the image uri\r\n    private Uri filePath;\r\n\r\n    DatePickerDialog picker;\r\n\r\n    String nama_dokumen,nopen;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.upload);\r\n\r\n        linear_upload = (LinearLayout)findViewById(R.id.linear_upload);\r\n\r\n        dialog = new ProgressDialog(Upload.this);\r\n        //Requesting storage permission\r\n        requestStoragePermission();\r\n\r\n        Intent pindahan = getIntent();\r\n        nama_dokumen = pindahan.getStringExtra(&quot;nama_dokumen&quot;);\r\n        nopen = pindahan.getStringExtra(&quot;nopen&quot;);\r\n        getSupportActionBar().setTitle(&quot;Upload &quot;+nama_dokumen);\r\n        //Initializing views\r\n        buttonUpload = (Button) findViewById(R.id.buttonUpload);\r\n        imageView = (ImageView)findViewById(R.id.imageView);\r\n\r\n\r\n        imageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showFileChooser();\r\n            }\r\n        });\r\n        buttonUpload.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                buttonUpload.setVisibility(v.GONE);\r\n                uploadMultipart();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        uploadReceiver.register(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        uploadReceiver.unregister(this);\r\n    }\r\n\r\n    /*\r\n     * This is the method responsible for image upload\r\n     * We need the full image path and the name for the image in this method\r\n     * */\r\n    public void uploadMultipart() {\r\n        //getting name for the image\r\n\r\n        //getting the actual path of the image\r\n        String path = getPath(filePath);\r\n\r\n        //Uploading code\r\n        try {\r\n            String uploadId = UUID.randomUUID().toString();\r\n\r\n            uploadReceiver.setDelegate(this);\r\n            uploadReceiver.setUploadID(uploadId);\r\n\r\n            //Creating a multi part request\r\n            new MultipartUploadRequest(this, uploadId, Konfigurasi.url_dokumen_upload)\r\n                    .addFileToUpload(path, &quot;file_dokumen&quot;) //Adding file\r\n                    .addParameter(&quot;apikey&quot;, Konfigurasi.apikey)\r\n                    .addParameter(&quot;nopen&quot;, nopen)\r\n                    .addParameter(&quot;nama_dokumen&quot;, nama_dokumen)\r\n                    .setNotificationConfig(new UploadNotificationConfig())\r\n                    .setMaxRetries(2)\r\n                    .startUpload(); //Starting the upload\r\n        } catch (Exception exc) {\r\n            Toast.makeText(this, &quot;gagal upload ya &quot;+exc.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n    //method to show file chooser\r\n    private void showFileChooser() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n    //handling the image chooser activity result\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n            filePath = data.getData();\r\n            try {\r\n                bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                imageView.setImageBitmap(bitmap);\r\n\r\n                // set padding linear layout to nol\r\n                linear_upload.setPadding(0,0,0,0);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //method to get the file path from uri\r\n    public String getPath(Uri uri) {\r\n        Cursor cursor = getContentResolver().query(uri, null, null, null, null);\r\n        cursor.moveToFirst();\r\n        String document_id = cursor.getString(0);\r\n        document_id = document_id.substring(document_id.lastIndexOf(&quot;:&quot;) + 1);\r\n        cursor.close();\r\n\r\n        cursor = getContentResolver().query(\r\n                android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n                null, MediaStore.Images.Media._ID + &quot; = ? &quot;, new String[]{document_id}, null);\r\n        cursor.moveToFirst();\r\n        String path = cursor.getString(cursor.getColumnIndex(MediaStore.Images.Media.DATA));\r\n        cursor.close();\r\n\r\n        return path;\r\n    }\r\n\r\n\r\n    //Requesting permission\r\n    private void requestStoragePermission() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)\r\n            return;\r\n\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n            //If the user has denied the permission previously your code will come to this block\r\n            //Here you can explain why you need this permission\r\n            //Explain here why you need this permission\r\n        }\r\n        //And finally ask for the permission\r\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE);\r\n    }\r\n\r\n\r\n    //This method will be called when the user will tap on allow or deny\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n        //Checking the request code of our request\r\n        if (requestCode == STORAGE_PERMISSION_CODE) {\r\n\r\n            //If permission is granted\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                //Displaying a toast\r\n                Toast.makeText(this, &quot;Permission granted now you can read the storage&quot;, Toast.LENGTH_LONG).show();\r\n            } else {\r\n                //Displaying another toast if permission is not granted\r\n                Toast.makeText(this, &quot;Oops you just denied the permission&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onProgress(int progress) {\r\n        //your implementation\r\n    }\r\n\r\n    @Override\r\n    public void onProgress(long uploadedBytes, long totalBytes) {\r\n        //your implementation\r\n        dialog.setMessage(&quot;uploading...&quot;);\r\n        dialog.show();\r\n    }\r\n\r\n    @Override\r\n    public void onError(Exception exception) {\r\n        //your implementation\r\n    }\r\n\r\n    @Override\r\n    public void onCompleted(int serverResponseCode, byte[] serverResponseBody) {\r\n        //your implementation\r\n        dialog.dismiss();\r\n        Intent mv = new Intent(Upload.this,Dokumen.class);\r\n        mv.putExtra(&quot;nopen&quot;,nopen);\r\n        startActivity(mv);\r\n        finish();\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled() {\r\n        //your implementation\r\n    }\r\n    }\r\n\r\n\r\nand here my upload.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;#fff&quot;\r\n        tools:context=&quot;.Upload&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;20dp&quot;\r\n            android:background=&quot;#e1e1e1&quot;\r\n            android:layout_marginBottom=&quot;30dp&quot;\r\n            android:id=&quot;@+id/linear_upload&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:src=&quot;@drawable/drop_image&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:adjustViewBounds=&quot;true&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonUpload&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:textSize=&quot;12sp&quot;\r\n            android:background=&quot;@color/colorAccent&quot;\r\n            android:textColor=&quot;#fff&quot;\r\n            android:paddingLeft=&quot;50dp&quot;\r\n            android:paddingRight=&quot;50dp&quot;\r\n            android:drawableLeft=&quot;@drawable/ic_kirim&quot;\r\n            android:drawablePadding=&quot;5dp&quot;\r\n            android:text=&quot;Kirim&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\nI&#39;ve trying to check on gotev github, but I found kotlin tutorial only.\r\n\r\nhow to use gotev image upload in my Upload.java or solving my problem?","title":"Android Gotev Upload Image Bad notification for startForeground: java.lang.RuntimeException: invalid channel for service notification","body":"<p>I'm creating image uploader using gotev/android-upload-service. everything work fine until choose image, and previewing image. But when I click \"send\" button, my app become crash with this error log</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.pmb, PID: 25379\nandroid.app.RemoteServiceException: Bad notification for startForeground: java.lang.RuntimeException: invalid channel for service notification: Notification(channel=null pri=0 contentView=null vibrate=null sound=null defaults=0x0 flags=0x42 color=0x00000000 groupKey=net.gotev vis=PRIVATE semFlags=0x0 semPriority=0 semMissedCount=0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1881)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\n</code></pre>\n\n<p>here my permission in AndroidManifest</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.FOREGROUND_SERVICE\" /&gt;\n</code></pre>\n\n<p>here my build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 29\nbuildToolsVersion \"29.0.2\"\ndefaultConfig {\n    applicationId \"com.example.pmb\"\n    minSdkVersion 15\n    targetSdkVersion 29\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'androidx.appcompat:appcompat:1.0.2'\nimplementation 'androidx.cardview:cardview:1.0.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation 'com.android.volley:volley:1.1.1'\nimplementation 'com.squareup.picasso:picasso:2.71828'\nimplementation 'androidx.viewpager:viewpager:1.0.0'\nimplementation 'net.gotev:uploadservice:2.1'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test:runner:1.1.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n}\n</code></pre>\n\n<p>here my Upload.java</p>\n\n<pre><code>package com.example.pmb;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport android.Manifest;\nimport android.app.DatePickerDialog;\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.database.Cursor;\nimport android.graphics.Bitmap;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.Toast;\n\nimport net.gotev.uploadservice.MultipartUploadRequest;\nimport net.gotev.uploadservice.UploadNotificationConfig;\nimport java.io.IOException;\nimport java.util.UUID;\n\npublic class Upload extends AppCompatActivity implements SingleUploadBroadcastReceiver.Delegate{\n\nprivate ProgressDialog dialog;\nprivate final SingleUploadBroadcastReceiver uploadReceiver = new SingleUploadBroadcastReceiver();\n\n\nLinearLayout linear_upload;\n\n\n//Declaring views\nprivate Button buttonUpload;\nprivate ImageView imageView;\nprivate EditText editText;\n\n//Image request code\nprivate static final int PICK_IMAGE_REQUEST = 1;\n\n//storage permission code\nprivate static final int STORAGE_PERMISSION_CODE = 123;\n\n//Bitmap to get image from gallery\nprivate Bitmap bitmap;\n\n//Uri to store the image uri\nprivate Uri filePath;\n\nDatePickerDialog picker;\n\nString nama_dokumen,nopen;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.upload);\n\n    linear_upload = (LinearLayout)findViewById(R.id.linear_upload);\n\n    dialog = new ProgressDialog(Upload.this);\n    //Requesting storage permission\n    requestStoragePermission();\n\n    Intent pindahan = getIntent();\n    nama_dokumen = pindahan.getStringExtra(\"nama_dokumen\");\n    nopen = pindahan.getStringExtra(\"nopen\");\n    getSupportActionBar().setTitle(\"Upload \"+nama_dokumen);\n    //Initializing views\n    buttonUpload = (Button) findViewById(R.id.buttonUpload);\n    imageView = (ImageView)findViewById(R.id.imageView);\n\n\n    imageView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            showFileChooser();\n        }\n    });\n    buttonUpload.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            buttonUpload.setVisibility(v.GONE);\n            uploadMultipart();\n        }\n    });\n}\n\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    uploadReceiver.register(this);\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    uploadReceiver.unregister(this);\n}\n\n/*\n * This is the method responsible for image upload\n * We need the full image path and the name for the image in this method\n * */\npublic void uploadMultipart() {\n    //getting name for the image\n\n    //getting the actual path of the image\n    String path = getPath(filePath);\n\n    //Uploading code\n    try {\n        String uploadId = UUID.randomUUID().toString();\n\n        uploadReceiver.setDelegate(this);\n        uploadReceiver.setUploadID(uploadId);\n\n        //Creating a multi part request\n        new MultipartUploadRequest(this, uploadId, Konfigurasi.url_dokumen_upload)\n                .addFileToUpload(path, \"file_dokumen\") //Adding file\n                .addParameter(\"apikey\", Konfigurasi.apikey)\n                .addParameter(\"nopen\", nopen)\n                .addParameter(\"nama_dokumen\", nama_dokumen)\n                .setNotificationConfig(new UploadNotificationConfig())\n                .setMaxRetries(2)\n                .startUpload(); //Starting the upload\n    } catch (Exception exc) {\n        Toast.makeText(this, \"gagal upload ya \"+exc.getMessage(), Toast.LENGTH_SHORT).show();\n    }\n}\n\n\n//method to show file chooser\nprivate void showFileChooser() {\n    Intent intent = new Intent();\n    intent.setType(\"image/*\");\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    startActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE_REQUEST);\n}\n\n//handling the image chooser activity result\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n        filePath = data.getData();\n        try {\n            bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n            imageView.setImageBitmap(bitmap);\n\n            // set padding linear layout to nol\n            linear_upload.setPadding(0,0,0,0);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\n//method to get the file path from uri\npublic String getPath(Uri uri) {\n    Cursor cursor = getContentResolver().query(uri, null, null, null, null);\n    cursor.moveToFirst();\n    String document_id = cursor.getString(0);\n    document_id = document_id.substring(document_id.lastIndexOf(\":\") + 1);\n    cursor.close();\n\n    cursor = getContentResolver().query(\n            android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n            null, MediaStore.Images.Media._ID + \" = ? \", new String[]{document_id}, null);\n    cursor.moveToFirst();\n    String path = cursor.getString(cursor.getColumnIndex(MediaStore.Images.Media.DATA));\n    cursor.close();\n\n    return path;\n}\n\n\n//Requesting permission\nprivate void requestStoragePermission() {\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)\n        return;\n\n    if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\n        //If the user has denied the permission previously your code will come to this block\n        //Here you can explain why you need this permission\n        //Explain here why you need this permission\n    }\n    //And finally ask for the permission\n    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE);\n}\n\n\n//This method will be called when the user will tap on allow or deny\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n    //Checking the request code of our request\n    if (requestCode == STORAGE_PERMISSION_CODE) {\n\n        //If permission is granted\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            //Displaying a toast\n            Toast.makeText(this, \"Permission granted now you can read the storage\", Toast.LENGTH_LONG).show();\n        } else {\n            //Displaying another toast if permission is not granted\n            Toast.makeText(this, \"Oops you just denied the permission\", Toast.LENGTH_LONG).show();\n        }\n    }\n}\n\n@Override\npublic void onProgress(int progress) {\n    //your implementation\n}\n\n@Override\npublic void onProgress(long uploadedBytes, long totalBytes) {\n    //your implementation\n    dialog.setMessage(\"uploading...\");\n    dialog.show();\n}\n\n@Override\npublic void onError(Exception exception) {\n    //your implementation\n}\n\n@Override\npublic void onCompleted(int serverResponseCode, byte[] serverResponseBody) {\n    //your implementation\n    dialog.dismiss();\n    Intent mv = new Intent(Upload.this,Dokumen.class);\n    mv.putExtra(\"nopen\",nopen);\n    startActivity(mv);\n    finish();\n}\n\n@Override\npublic void onCancelled() {\n    //your implementation\n}\n}\n</code></pre>\n\n<p>and here my upload.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView android:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:background=\"#fff\"\n    tools:context=\".Upload\"&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"20dp\"\n        android:background=\"#e1e1e1\"\n        android:layout_marginBottom=\"30dp\"\n        android:id=\"@+id/linear_upload\"\n        android:orientation=\"vertical\"&gt;\n        &lt;ImageView\n            android:id=\"@+id/imageView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:src=\"@drawable/drop_image\"\n            android:layout_gravity=\"center_horizontal\"\n            android:adjustViewBounds=\"true\" /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;Button\n        android:id=\"@+id/buttonUpload\"\n        android:layout_width=\"wrap_content\"\n        android:layout_gravity=\"center_horizontal\"\n        android:layout_height=\"40dp\"\n        android:textSize=\"12sp\"\n        android:background=\"@color/colorAccent\"\n        android:textColor=\"#fff\"\n        android:paddingLeft=\"50dp\"\n        android:paddingRight=\"50dp\"\n        android:drawableLeft=\"@drawable/ic_kirim\"\n        android:drawablePadding=\"5dp\"\n        android:text=\"Kirim\" /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>I've trying to check on gotev github, but I found kotlin tutorial only.</p>\n\n<p>how to use gotev image upload in my Upload.java or solving my problem?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":355635,"reputation":1798,"user_id":694691,"accept_rate":71,"display_name":"Sasi Kathimanda"},"score":0,"creation_date":1486289100,"post_id":42050746,"comment_id":71273937,"body_markdown":"copy the code in the post rather screenshot it.","body":"copy the code in the post rather screenshot it."},{"owner":{"account_id":8017543,"reputation":2493,"user_id":6047274,"display_name":"jack jay"},"score":0,"creation_date":1486289826,"post_id":42050746,"comment_id":71274099,"body_markdown":"post in your question not in comment.","body":"post in your question not in comment."},{"owner":{"account_id":10180918,"reputation":31,"user_id":7517738,"display_name":"Himani Patel"},"score":0,"creation_date":1486290142,"post_id":42050746,"comment_id":71274176,"body_markdown":"can you code it I tried my best but code not solve","body":"can you code it I tried my best but code not solve"},{"owner":{"account_id":10180918,"reputation":31,"user_id":7517738,"display_name":"Himani Patel"},"score":0,"creation_date":1486290333,"post_id":42050746,"comment_id":71274215,"body_markdown":"not working please can you code it","body":"not working please can you code it"}],"answers":[{"tags":[],"owner":{"account_id":4575270,"reputation":253,"user_id":3716710,"display_name":"Nic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486290897,"creation_date":1486290300,"answer_id":42050916,"question_id":42050746,"body_markdown":"Keep track of the max and each time a user inputs a number check if it is greater than that max\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Q3 {\r\n\r\n        public static void main(String... args) {\r\n            double max = 0;\r\n            System.out.println(&quot;Please enter the number: &quot;);\r\n            Scanner kb = new Scanner(System.in);\r\n            double number = kb.nextDouble();\r\n\r\n            while (number != 0) {\r\n                if (max &lt; number) {\r\n                    max = number;\r\n                }\r\n                number = kb.nextDouble();\r\n            }\r\n    \r\n            System.out.print(&quot;The max is &quot; + max);\r\n        }\r\n    }\r\n\r\nSince zero is the terminal character then negative input can be essentially ignored and the initial value of max as zero is acceptable.\r\n\r\nNote that nextDouble can throw an `InputMismatchException` if the user decides to give you input that can not be parsed to a double.","title":"I am trying to get user input until user enter 0 and then show maximum value among them in JAVA","body":"<p>Keep track of the max and each time a user inputs a number check if it is greater than that max</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Q3 {\n\n    public static void main(String... args) {\n        double max = 0;\n        System.out.println(\"Please enter the number: \");\n        Scanner kb = new Scanner(System.in);\n        double number = kb.nextDouble();\n\n        while (number != 0) {\n            if (max &lt; number) {\n                max = number;\n            }\n            number = kb.nextDouble();\n        }\n\n        System.out.print(\"The max is \" + max);\n    }\n}\n</code></pre>\n\n<p>Since zero is the terminal character then negative input can be essentially ignored and the initial value of max as zero is acceptable.</p>\n\n<p>Note that nextDouble can throw an <code>InputMismatchException</code> if the user decides to give you input that can not be parsed to a double.</p>\n"},{"tags":[],"owner":{"account_id":355635,"reputation":1798,"user_id":694691,"accept_rate":71,"display_name":"Sasi Kathimanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1486291591,"creation_date":1486291591,"answer_id":42051100,"question_id":42050746,"body_markdown":"using [Collections.max][1] ,\r\n\r\n    List&lt;Double&gt; doubleList = new ArrayList&lt;&gt;();\r\n      System.out.println(&quot;enter a number :&quot;);\r\n      Scanner kb = new Scanner(System.in);    \r\n       while (kb.hasNext() ) {\r\n                double input = kb.nextDouble();\r\n                if(input == 0){\r\n                    break;\r\n                }\r\n                doubleList.add(input);\r\n            }\r\n    \r\n     System.out.println(&quot;Max Value Entered : &quot; + Collections.max(doubleList));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max(java.util.Collection)","title":"I am trying to get user input until user enter 0 and then show maximum value among them in JAVA","body":"<p>using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max(java.util.Collection)\" rel=\"nofollow noreferrer\">Collections.max</a> ,</p>\n\n<pre><code>List&lt;Double&gt; doubleList = new ArrayList&lt;&gt;();\n  System.out.println(\"enter a number :\");\n  Scanner kb = new Scanner(System.in);    \n   while (kb.hasNext() ) {\n            double input = kb.nextDouble();\n            if(input == 0){\n                break;\n            }\n            doubleList.add(input);\n        }\n\n System.out.println(\"Max Value Entered : \" + Collections.max(doubleList));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25802093,"reputation":1,"user_id":19544327,"display_name":"Abdul Kadir Pankhaniya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657797204,"creation_date":1657737276,"answer_id":72971088,"question_id":42050746,"body_markdown":"    Scanner sc = new Scanner(System.in);\r\n    double max = 0;\r\n    while(true){\r\n        double number = sc.nextDouble();\r\n        if(max&lt;number){\r\n            max = number;\r\n        }\r\n        else if(number==0){\r\n            break;\r\n        }\r\n    }\r\n    System.out.print(max);","title":"I am trying to get user input until user enter 0 and then show maximum value among them in JAVA","body":"<pre><code>Scanner sc = new Scanner(System.in);\ndouble max = 0;\nwhile(true){\n    double number = sc.nextDouble();\n    if(max&lt;number){\n        max = number;\n    }\n    else if(number==0){\n        break;\n    }\n}\nSystem.out.print(max);\n</code></pre>\n"}],"owner":{"account_id":10180918,"reputation":31,"user_id":7517738,"display_name":"Himani Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":42051100,"answer_count":3,"score":-4,"last_activity_date":1657797204,"creation_date":1486289012,"question_id":42050746,"body_markdown":"I am a beginner to java and don&#39;t know to write a program using loops that prompt the user to enter a number till user does does not enter 0.\r\nWhen user enter 0 then system should display MAX number among user input\r\n\r\nQUE 2\r\n Write a program to ask the user to enter a sequence of numbers (double type). The numbers are separated by the return key (and give a prompt for each enter). The user ends the sequence by entering a 0. Then output the maximum number of all the entered numbers. Here is an example (the part in italic is the user’s input):  Please enter a sequence of numbers, separated by return, and then end this sequence with a 0 at last: 25 \r\nNext number: 35.6\r\nNext number: 112.112 \r\nNext number: 0 \r\nThe maximum among your enters is 112.112 \r\n \r\n\r\n    import java.util.Scanner;\r\n      public class Q3\r\n\r\n     {\r\n     public static void main(String[] args[])\r\n       {\r\n        double n;\r\n       // double i;\r\n        double MAX=0;\r\n       \r\n        System.out.println(&quot;Please Enter the number: &quot;);\r\n        Scanner Kb = new Scanner(System.in);\r\n        n = Kb.nextDouble();\r\n       if(n&gt;0){\r\n         System.out.println(&quot;Please Enter the number: &quot;);\r\n             n = Kb.nextDouble();\r\n             return;\r\n              \r\n    }\r\n        else if(n==0) {\r\n        if (MAX&gt;0){\r\n            MAX=n;\r\n            return ;\r\n            \r\n        }\r\n\r\n      }  \r\n     return;\r\n    }\r\n \r\n     }","title":"I am trying to get user input until user enter 0 and then show maximum value among them in JAVA","body":"<p>I am a beginner to java and don't know to write a program using loops that prompt the user to enter a number till user does does not enter 0.\nWhen user enter 0 then system should display MAX number among user input</p>\n\n<p>QUE 2\n Write a program to ask the user to enter a sequence of numbers (double type). The numbers are separated by the return key (and give a prompt for each enter). The user ends the sequence by entering a 0. Then output the maximum number of all the entered numbers. Here is an example (the part in italic is the user’s input):  Please enter a sequence of numbers, separated by return, and then end this sequence with a 0 at last: 25 \nNext number: 35.6\nNext number: 112.112 \nNext number: 0 \nThe maximum among your enters is 112.112 </p>\n\n<pre><code>import java.util.Scanner;\n  public class Q3\n\n {\n public static void main(String[] args[])\n   {\n    double n;\n   // double i;\n    double MAX=0;\n\n    System.out.println(\"Please Enter the number: \");\n    Scanner Kb = new Scanner(System.in);\n    n = Kb.nextDouble();\n   if(n&gt;0){\n     System.out.println(\"Please Enter the number: \");\n         n = Kb.nextDouble();\n         return;\n\n}\n    else if(n==0) {\n    if (MAX&gt;0){\n        MAX=n;\n        return ;\n\n    }\n\n  }  \n return;\n}\n\n }\n</code></pre>\n"},{"tags":["java","spring","redis","service","spring-data-redis"],"comments":[{"owner":{"account_id":7556077,"reputation":402,"user_id":5735629,"display_name":"ZIHAO LIU"},"score":0,"creation_date":1657797606,"post_id":72979536,"comment_id":128898422,"body_markdown":"https://redis.io/commands/setnx/   setnx commands may helps you.","body":"<a href=\"https://redis.io/commands/setnx/\" rel=\"nofollow noreferrer\">redis.io/commands/setnx</a>   setnx commands may helps you."}],"answers":[{"tags":[],"owner":{"account_id":17975308,"reputation":1,"user_id":13063051,"display_name":"purplecrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657797203,"creation_date":1657797203,"answer_id":72979593,"question_id":72979536,"body_markdown":"so redis is not a transactional database which can assure the consistency or not even the eventual consistency ( in some use cases), so the solution to this problem might not be something that redis provides u already in my opinion. but then what I am assuming is that ur databases reads might have a common function file to call reads and write , u can lock a key before u want to read/write using another key pattern or a key_lock hash (KEY_LOCKS:&#39;key&#39;)  and asynchronously disable the lock once ur read or write is finished to that key ","title":"Redis lock for specific key","body":"<p>so redis is not a transactional database which can assure the consistency or not even the eventual consistency ( in some use cases), so the solution to this problem might not be something that redis provides u already in my opinion. but then what I am assuming is that ur databases reads might have a common function file to call reads and write , u can lock a key before u want to read/write using another key pattern or a key_lock hash (KEY_LOCKS:'key')  and asynchronously disable the lock once ur read or write is finished to that key</p>\n"}],"owner":{"account_id":11935030,"reputation":1,"user_id":8733825,"display_name":"yashjn72"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657797203,"creation_date":1657796925,"question_id":72979536,"body_markdown":"I am using Redis for DB storage and 10 java microservices will be using it simultaneously. \r\n\r\nFor 1 of the key in Redis will be used by all 10 services. Is there any way to implement such that if 1 of the services is using that particular key in Redis then other services will be in hold state.","title":"Redis lock for specific key","body":"<p>I am using Redis for DB storage and 10 java microservices will be using it simultaneously.</p>\n<p>For 1 of the key in Redis will be used by all 10 services. Is there any way to implement such that if 1 of the services is using that particular key in Redis then other services will be in hold state.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1657800331,"post_id":72979474,"comment_id":128899392,"body_markdown":"To be eligible to be selected as the default, your app needs a few specific components listed in the manifest: https://stackoverflow.com/a/30133663.","body":"To be eligible to be selected as the default, your app needs a few specific components listed in the manifest: <a href=\"https://stackoverflow.com/a/30133663\">stackoverflow.com/a/30133663</a>."},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1657803394,"post_id":72979474,"comment_id":128900622,"body_markdown":"Okay, is that why its not showing the dialog?","body":"Okay, is that why its not showing the dialog?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1657812625,"post_id":72979474,"comment_id":128904367,"body_markdown":"That&#39;s at least one reason why, yes. Everything else looks OK, at a quick glance.","body":"That&#39;s at least one reason why, yes. Everything else looks OK, at a quick glance."},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1657862562,"post_id":72979474,"comment_id":128915241,"body_markdown":"I added the components to the manifest but somehow the system cannot figure out that the app should need sms role","body":"I added the components to the manifest but somehow the system cannot figure out that the app should need sms role"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1657904080,"post_id":72979474,"comment_id":128928780,"body_markdown":"I&#39;m not sure what you mean, exactly. The only thing the system looks at is your app&#39;s manifest, so if you mean that your code is getting to the `StartActivityForResult()` call but still not showing the dialog, then it sounds like the manifest might still be off. Have you tested it on older versions yet? That is, Android P or below?","body":"I&#39;m not sure what you mean, exactly. The only thing the system looks at is your app&#39;s manifest, so if you mean that your code is getting to the <code>StartActivityForResult()</code> call but still not showing the dialog, then it sounds like the manifest might still be off. Have you tested it on older versions yet? That is, Android P or below?"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1657955439,"post_id":72979474,"comment_id":128936789,"body_markdown":"Hey mike it worked and thanks, I mnaged to make my app the default sms role holder so it can read device IMEI but cannot read phone number, should I use TelcomManager to read the number?","body":"Hey mike it worked and thanks, I mnaged to make my app the default sms role holder so it can read device IMEI but cannot read phone number, should I use TelcomManager to read the number?"}],"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657796700,"creation_date":1657796700,"question_id":72979474,"body_markdown":"Hello Android developers, I am trying to make my app the default sms app on my phone with the following code but its not working as it is not displaying the dialog for a user to choose which app to use as the default sms app. I am aware that as of Android 10 then we need to use the RoleManager class to check if the app is the default sms app and additionally check if the app holds the role and then start an activity for the user to set the current app to have that role. I have followed every required step from the documentation and some previously posted questions on this site but there seems to be an error that is silent because no exception is thrown. Help me make this code display the dialog to the user for changing the app for the sms roles. \r\n```\r\n //register a delegate for reading the phone number\r\n button.Click += (o, p) =&gt;\r\n {\r\n                Toast.MakeText(this,Telephony.Sms.GetDefaultSmsPackage(ApplicationContext),ToastLength.Long).Show();\r\n                //check first if the app is the default sms privilege holder\r\n         if (Telephony.Sms.GetDefaultSmsPackage(ApplicationContext) != PackageName)\r\n                {\r\n                    //use the role manager api to change the default sms app\r\n                    //check the api level\r\n                    if (Build.VERSION.SdkInt &gt; BuildVersionCodes.P)\r\n                    {\r\n                        Log.Debug(&quot;API&quot;, &quot;api greater than 28&quot;);\r\n                        //api level is greater than 28 then use RoleManager class\r\n                        RoleManager roleManager = (RoleManager)GetSystemService(Context.RoleService);\r\n                        //check if the role is available first\r\n                        if (roleManager.IsRoleAvailable(RoleManager.RoleSms))\r\n                        {\r\n                            //log the role manager availability\r\n                            Log.Debug(&quot;Sms role available&quot;, roleManager.IsRoleAvailable(RoleManager.RoleSms).ToString());\r\n                           //chek if the role is held\r\n                           if (roleManager.IsRoleHeld(RoleManager.RoleSms))\r\n                           {\r\n                               //means the app has the sms role and we do not need to change\r\n                           }\r\n                           else\r\n                           {\r\n                               Log.Debug(&quot;Info&quot;, &quot;Sms Role is not held&quot;);\r\n                               //means the app does not have the sms role and we need to request the user to change\r\n                               Intent changeIntent = roleManager.CreateRequestRoleIntent(RoleManager.RoleSms);\r\n                               StartActivityForResult(changeIntent,909);\r\n                           }\r\n                        }\r\n                        else\r\n                        {\r\n                            //the role is not avaialble and cannot be changed\r\n                            Log.Debug(&quot;Sms role available&quot;,\r\n                                roleManager.IsRoleAvailable(RoleManager.RoleSms).ToString());\r\n                        }\r\n                      \r\n                    }\r\n                    else\r\n                    {\r\n                        //api level is less than or equal to 28 use the deprecated way\r\n                        Intent changeIntent = new Intent(Telephony.Sms.Intents.ActionChangeDefault);\r\n                        changeIntent.PutExtra(Telephony.Sms.Intents.ExtraPackageName, PackageName);\r\n                        StartActivity(changeIntent);\r\n                    }\r\n                   \r\n                    \r\n                }\r\n```\r\nand here is my manifest file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n          android:versionCode=&quot;1&quot; \r\n          android:versionName=&quot;1.0&quot; \r\n          package=&quot;SimCardManager.SimCardManager&quot;&gt;\r\n  &lt;uses-sdk android:minSdkVersion=&quot;21&quot; android:targetSdkVersion=&quot;31&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_SMS&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_NUMBERS&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.READ_PRECISE_PHONE_STATE&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER&quot;/&gt;\r\n  &lt;application android:allowBackup=&quot;true&quot; android:label=&quot;@string/app_name&quot; android:supportsRtl=&quot;true&quot; android:theme=&quot;@style/AppTheme&quot;&gt;\r\n  &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\nAn answer in Android Java is also accepted as that is what I use to convert Java code to C#, the code is still Android Java working as a Xamarin Android C#  binding, Thank You for your time and effort helping me.","title":"Activity to ask user to choose default sms app not showing up in Android?","body":"<p>Hello Android developers, I am trying to make my app the default sms app on my phone with the following code but its not working as it is not displaying the dialog for a user to choose which app to use as the default sms app. I am aware that as of Android 10 then we need to use the RoleManager class to check if the app is the default sms app and additionally check if the app holds the role and then start an activity for the user to set the current app to have that role. I have followed every required step from the documentation and some previously posted questions on this site but there seems to be an error that is silent because no exception is thrown. Help me make this code display the dialog to the user for changing the app for the sms roles.</p>\n<pre><code> //register a delegate for reading the phone number\n button.Click += (o, p) =&gt;\n {\n                Toast.MakeText(this,Telephony.Sms.GetDefaultSmsPackage(ApplicationContext),ToastLength.Long).Show();\n                //check first if the app is the default sms privilege holder\n         if (Telephony.Sms.GetDefaultSmsPackage(ApplicationContext) != PackageName)\n                {\n                    //use the role manager api to change the default sms app\n                    //check the api level\n                    if (Build.VERSION.SdkInt &gt; BuildVersionCodes.P)\n                    {\n                        Log.Debug(&quot;API&quot;, &quot;api greater than 28&quot;);\n                        //api level is greater than 28 then use RoleManager class\n                        RoleManager roleManager = (RoleManager)GetSystemService(Context.RoleService);\n                        //check if the role is available first\n                        if (roleManager.IsRoleAvailable(RoleManager.RoleSms))\n                        {\n                            //log the role manager availability\n                            Log.Debug(&quot;Sms role available&quot;, roleManager.IsRoleAvailable(RoleManager.RoleSms).ToString());\n                           //chek if the role is held\n                           if (roleManager.IsRoleHeld(RoleManager.RoleSms))\n                           {\n                               //means the app has the sms role and we do not need to change\n                           }\n                           else\n                           {\n                               Log.Debug(&quot;Info&quot;, &quot;Sms Role is not held&quot;);\n                               //means the app does not have the sms role and we need to request the user to change\n                               Intent changeIntent = roleManager.CreateRequestRoleIntent(RoleManager.RoleSms);\n                               StartActivityForResult(changeIntent,909);\n                           }\n                        }\n                        else\n                        {\n                            //the role is not avaialble and cannot be changed\n                            Log.Debug(&quot;Sms role available&quot;,\n                                roleManager.IsRoleAvailable(RoleManager.RoleSms).ToString());\n                        }\n                      \n                    }\n                    else\n                    {\n                        //api level is less than or equal to 28 use the deprecated way\n                        Intent changeIntent = new Intent(Telephony.Sms.Intents.ActionChangeDefault);\n                        changeIntent.PutExtra(Telephony.Sms.Intents.ExtraPackageName, PackageName);\n                        StartActivity(changeIntent);\n                    }\n                   \n                    \n                }\n</code></pre>\n<p>and here is my manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \n          android:versionCode=&quot;1&quot; \n          android:versionName=&quot;1.0&quot; \n          package=&quot;SimCardManager.SimCardManager&quot;&gt;\n  &lt;uses-sdk android:minSdkVersion=&quot;21&quot; android:targetSdkVersion=&quot;31&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_SMS&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_NUMBERS&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_PRECISE_PHONE_STATE&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER&quot;/&gt;\n  &lt;application android:allowBackup=&quot;true&quot; android:label=&quot;@string/app_name&quot; android:supportsRtl=&quot;true&quot; android:theme=&quot;@style/AppTheme&quot;&gt;\n  &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>An answer in Android Java is also accepted as that is what I use to convert Java code to C#, the code is still Android Java working as a Xamarin Android C#  binding, Thank You for your time and effort helping me.</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1657796258,"creation_date":1657796258,"answer_id":72979388,"question_id":72978587,"body_markdown":"WebFlux is not on the roadmap for Spring Authorization Server.\r\n\r\nFrom the Spring Authorization Server GitHub repository:\r\n\r\n&gt; We are strictly focusing on a Servlet implementation for the initial set of features that would qualify for a MVP version. We haven&#39;t decided whether we&#39;ll provide a WebFlux version at this point.  \r\nQuite honestly, I&#39;m not convinced it&#39;s needed. The client and resource server(s) are the most active, whereas, the authorization server is not as active as it simply issues a token and may validate a token, which is limited activity between the many interactions that follow between a client and resource server after a token is issued.\r\n\r\nQuote taken from [this issue](https://github.com/spring-projects/spring-authorization-server/issues/152).","title":"Reactive spring authorization server","body":"<p>WebFlux is not on the roadmap for Spring Authorization Server.</p>\n<p>From the Spring Authorization Server GitHub repository:</p>\n<blockquote>\n<p>We are strictly focusing on a Servlet implementation for the initial set of features that would qualify for a MVP version. We haven't decided whether we'll provide a WebFlux version at this point.<br />\nQuite honestly, I'm not convinced it's needed. The client and resource server(s) are the most active, whereas, the authorization server is not as active as it simply issues a token and may validate a token, which is limited activity between the many interactions that follow between a client and resource server after a token is issued.</p>\n</blockquote>\n<p>Quote taken from <a href=\"https://github.com/spring-projects/spring-authorization-server/issues/152\" rel=\"noreferrer\">this issue</a>.</p>\n"}],"owner":{"account_id":11305028,"reputation":257,"user_id":8289904,"display_name":"Dragos Ionut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72979388,"answer_count":1,"score":1,"last_activity_date":1657796258,"creation_date":1657792342,"question_id":72978587,"body_markdown":"I&#39;m trying to use spring-authorization-server, and it seems to work very well, but as i can see it relies on servlet api which makes it not usable with spring webflux and netty. Does anyone knows how to tackle this? Or maybe correct me if my assumption is wrong.\r\n\r\nthanks","title":"Reactive spring authorization server","body":"<p>I'm trying to use spring-authorization-server, and it seems to work very well, but as i can see it relies on servlet api which makes it not usable with spring webflux and netty. Does anyone knows how to tackle this? Or maybe correct me if my assumption is wrong.</p>\n<p>thanks</p>\n"},{"tags":["java","json","objectmapper"],"comments":[{"owner":{"account_id":1573615,"reputation":339,"user_id":1460718,"display_name":"aramcpp"},"score":0,"creation_date":1657794986,"post_id":72979088,"comment_id":128897542,"body_markdown":"problem is in json, try this json {&quot;key&quot;:[{&quot;one&quot;:&quot;value&quot;}]}","body":"problem is in json, try this json {&quot;key&quot;:[{&quot;one&quot;:&quot;value&quot;}]}"},{"owner":{"account_id":4803607,"reputation":146,"user_id":3879455,"display_name":"Laonel"},"score":1,"creation_date":1657795399,"post_id":72979088,"comment_id":128897679,"body_markdown":"Either do as suggested and change `HashMap&lt;String, String&gt;` to `HashMap&lt;String, Object&gt;` (value of `key` will be deserialized into `Map`) or - if you really want to deserialize `key` into String - fix your json by escaping quotes inside the value: `&quot;{\\&quot;key\\&quot;:\\&quot;[{\\\\\\&quot;one\\\\\\&quot;:\\\\\\&quot;value\\\\\\&quot;}]\\&quot;}&quot;`","body":"Either do as suggested and change <code>HashMap&lt;String, String&gt;</code> to <code>HashMap&lt;String, Object&gt;</code> (value of <code>key</code> will be deserialized into <code>Map</code>) or - if you really want to deserialize <code>key</code> into String - fix your json by escaping quotes inside the value: <code>&quot;{\\&quot;key\\&quot;:\\&quot;[{\\\\\\&quot;one\\\\\\&quot;:\\\\\\&quot;value\\\\\\&quot;}]\\&quot;}&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657795828,"creation_date":1657795828,"answer_id":72979285,"question_id":72979088,"body_markdown":"JSON string is not valid. If the value of `key` is a string, then you need to escape `\\&quot;`. This means you need to tell to &#39;Java&#39; to escape also the `\\` character. \r\n\r\nChange the string to `String str = &quot;{\\&quot;key\\&quot;:\\&quot;[{\\\\\\&quot;one\\\\\\&quot;:\\\\\\&quot;value\\\\\\&quot;}]\\&quot;}&quot;;`\r\n\r\nThis means:\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    \r\n    class Scratch {\r\n        public static void main(String[] args) {\r\n            String str = &quot;{\\&quot;key\\&quot;:\\&quot;[{\\\\\\&quot;one\\\\\\&quot;:\\\\\\&quot;value\\\\\\&quot;}]\\&quot;}&quot;;\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            try {\r\n                HashMap&lt;String, String&gt; map = mapper.readValue(str, HashMap.class);\r\n                System.out.println(map);\r\n            } catch (JsonMappingException e) {\r\n                e.printStackTrace();\r\n            } catch (JsonProcessingException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Json string to Hashmap Java","body":"<p>JSON string is not valid. If the value of <code>key</code> is a string, then you need to escape <code>\\&quot;</code>. This means you need to tell to 'Java' to escape also the <code>\\</code> character.</p>\n<p>Change the string to <code>String str = &quot;{\\&quot;key\\&quot;:\\&quot;[{\\\\\\&quot;one\\\\\\&quot;:\\\\\\&quot;value\\\\\\&quot;}]\\&quot;}&quot;;</code></p>\n<p>This means:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.IOException;\nimport java.util.HashMap;\n\nclass Scratch {\n    public static void main(String[] args) {\n        String str = &quot;{\\&quot;key\\&quot;:\\&quot;[{\\\\\\&quot;one\\\\\\&quot;:\\\\\\&quot;value\\\\\\&quot;}]\\&quot;}&quot;;\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            HashMap&lt;String, String&gt; map = mapper.readValue(str, HashMap.class);\n            System.out.println(map);\n        } catch (JsonMappingException e) {\n            e.printStackTrace();\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23569441,"reputation":127,"user_id":17609755,"display_name":"Ramachandran Rajasekaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657797301,"accepted_answer_id":72979285,"answer_count":1,"score":0,"last_activity_date":1657795828,"creation_date":1657794690,"question_id":72979088,"body_markdown":"I was trying to convert the json string to hashmap using ```com.fasterxml.jackson.databind.ObjectMapper```.\r\n\r\n```\r\nString str = &quot;{\\&quot;key\\&quot;:\\&quot;[{\\&quot;one\\&quot;:\\&quot;value\\&quot;}]\\&quot;}&quot;;\r\nObjectMapper mapper = new ObjectMapper();\r\ntry {\r\n\tHashMap&lt;String, String&gt; map = mapper.readValue(str, HashMap.class);\r\n\tSystem.out.println(map);\r\n} catch (JsonMappingException e) {\r\n\te.printStackTrace();\r\n} catch (JsonProcessingException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\nBut getting the below error,\r\n```\r\ncom.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;o&#39; (code 111)): was expecting comma to separate Object entries\r\n at [Source: (String)&quot;{&quot;key&quot;: &quot;[{&quot;one&quot;:&quot;value&quot;}]&quot;}&quot;; line: 1, column: 14]\r\n\tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2391)\r\n\tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:735)\r\n\tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:659)\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2382)\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:947)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:594)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\r\n\tat com.sample.quick.check.one.App.main(App.java:15)\r\n```\r\n\r\nIn the json string, I want the key and value as string and store them into hashMap. I don&#39;t want to parse the value in to jsonArray.","title":"Json string to Hashmap Java","body":"<p>I was trying to convert the json string to hashmap using <code>com.fasterxml.jackson.databind.ObjectMapper</code>.</p>\n<pre><code>String str = &quot;{\\&quot;key\\&quot;:\\&quot;[{\\&quot;one\\&quot;:\\&quot;value\\&quot;}]\\&quot;}&quot;;\nObjectMapper mapper = new ObjectMapper();\ntry {\n    HashMap&lt;String, String&gt; map = mapper.readValue(str, HashMap.class);\n    System.out.println(map);\n} catch (JsonMappingException e) {\n    e.printStackTrace();\n} catch (JsonProcessingException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>But getting the below error,</p>\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Unexpected character ('o' (code 111)): was expecting comma to separate Object entries\n at [Source: (String)&quot;{&quot;key&quot;: &quot;[{&quot;one&quot;:&quot;value&quot;}]&quot;}&quot;; line: 1, column: 14]\n    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2391)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:735)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:659)\n    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipComma(ReaderBasedJsonParser.java:2382)\n    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:947)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:594)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\n    at com.sample.quick.check.one.App.main(App.java:15)\n</code></pre>\n<p>In the json string, I want the key and value as string and store them into hashMap. I don't want to parse the value in to jsonArray.</p>\n"},{"tags":["java","generics","set"],"comments":[{"owner":{"account_id":2036141,"reputation":429,"user_id":1818446,"accept_rate":78,"display_name":"TheEmeritus"},"score":0,"creation_date":1657793203,"post_id":72978630,"comment_id":128896946,"body_markdown":"@f1sh Not really","body":"@f1sh Not really"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1657793766,"post_id":72978630,"comment_id":128897134,"body_markdown":"Do `A` and `B` have anything in common? Do they extend the same upper class or implement the same interface?","body":"Do <code>A</code> and <code>B</code> have anything in common? Do they extend the same upper class or implement the same interface?"},{"owner":{"account_id":2036141,"reputation":429,"user_id":1818446,"accept_rate":78,"display_name":"TheEmeritus"},"score":0,"creation_date":1657793888,"post_id":72978630,"comment_id":128897168,"body_markdown":"@Eritrean They don&#39;t extend the same upper class or so. Simply 2 possible class types.","body":"@Eritrean They don&#39;t extend the same upper class or so. Simply 2 possible class types."},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1657794661,"post_id":72978630,"comment_id":128897438,"body_markdown":"Due to type erasure you cannot get the class of `X`. If you could add `Class&lt;X&gt; entryClass` as a parameter you can use this in your `if`","body":"Due to type erasure you cannot get the class of <code>X</code>. If you could add <code>Class&lt;X&gt; entryClass</code> as a parameter you can use this in your <code>if</code>"}],"answers":[{"tags":[],"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657794129,"creation_date":1657794129,"answer_id":72978970,"question_id":72978630,"body_markdown":"I suggest you take one object from set and check class of single object\r\n\t\tlike below, please check \r\n\t\t\r\n\tpublic&lt;X&gt; boolean myMethod(Set&lt;X&gt; mySet)\r\n    {\r\n\t\tObject tmpObj = null;\r\n\t\t\r\n\t\tfor(Object obj : set){\r\n\t\t    tmpObj = obj;\r\n\t\t    break;\r\n\t\t}\r\n\t\tif(tmpObj instanceof A){\r\n\t\t    // if X is actually the class A\r\n\t\t}else if(tmpObj instanceof B){\r\n\t\t    // // if X is B\r\n\t\t}\r\n    }","title":"Finding out the type of a set","body":"<p>I suggest you take one object from set and check class of single object\nlike below, please check</p>\n<pre><code>public&lt;X&gt; boolean myMethod(Set&lt;X&gt; mySet)\n{\n    Object tmpObj = null;\n    \n    for(Object obj : set){\n        tmpObj = obj;\n        break;\n    }\n    if(tmpObj instanceof A){\n        // if X is actually the class A\n    }else if(tmpObj instanceof B){\n        // // if X is B\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657795787,"creation_date":1657795787,"answer_id":72979278,"question_id":72978630,"body_markdown":"## In a general sense, this is not possible\r\n\r\nDue to type erasure, a Java `Set` *does not have a generic type* at runtime.  Generics act as compile-time checks on the objects passed into methods, but consequently the specific values are not available at runtime.  A `Set&lt;String&gt;` is the same class as a `Set&lt;Map&lt;Integer, Thread&gt;&gt;` and the same class as a bare `Set`.\r\n\r\n### Potential workaround with class parameter\r\n\r\nIf you really need to know this, you could change the signature of your method to be:\r\n\r\n    public &lt;X&gt; boolean myMethod(Set&lt;X&gt; mySet, Class&lt;X&gt; clazz)\r\n\r\nNow you have a `Class` instance available at runtime, which is guaranteed to be compatible with `X`.  This you can introspect (e.g. `String.class.isAssignableFrom(clazz)`).\r\n\r\nThere are two drawbacks to this approach: firstly, you&#39;ll have to explicitly pass in the extra parameter each time the method is called.  Secondly, if `A` and `B` can be subclasses of one another, this is not going to work; you could pass in e.g. `B.class` even when the generic parameter was `A`.\r\n\r\n## However, this feels like a code smell\r\n\r\nYou shouldn&#39;t be trying to do fundamentally different things based on a generic parameter.  Instead of switching behaviour in your method here, *do something different within the classes A and B*:\r\n\r\n    public&lt;X&gt; boolean myMethod(Set&lt;X&gt; mySet)\r\n    {\r\n       boolean result = false;\r\n       for (X x : mySet) {\r\n          result &amp;= x.doSomething();\r\n       }\r\n\r\n       return result;\r\n    }\r\n\r\n    class A implements MyDoSomethingInterface {\r\n        public boolean doSomething() {\r\n            // Here you put the logic for &quot;if X is A&quot;\r\n        }\r\n    }\r\n\r\n    class B implements MyDoSomethingInterface {\r\n        public boolean doSomething() {\r\n            // Here you put the logic for &quot;if X is B&quot;\r\n        }\r\n    }\r\n\r\nAnd if your reaction is that this won&#39;t work because A and B are built-in classes, you&#39;ll need to wrap them in your own domain objects (which is the correct approach anyway because you want to associate this extra behaviour with them).","title":"Finding out the type of a set","body":"<h2>In a general sense, this is not possible</h2>\n<p>Due to type erasure, a Java <code>Set</code> <em>does not have a generic type</em> at runtime.  Generics act as compile-time checks on the objects passed into methods, but consequently the specific values are not available at runtime.  A <code>Set&lt;String&gt;</code> is the same class as a <code>Set&lt;Map&lt;Integer, Thread&gt;&gt;</code> and the same class as a bare <code>Set</code>.</p>\n<h3>Potential workaround with class parameter</h3>\n<p>If you really need to know this, you could change the signature of your method to be:</p>\n<pre><code>public &lt;X&gt; boolean myMethod(Set&lt;X&gt; mySet, Class&lt;X&gt; clazz)\n</code></pre>\n<p>Now you have a <code>Class</code> instance available at runtime, which is guaranteed to be compatible with <code>X</code>.  This you can introspect (e.g. <code>String.class.isAssignableFrom(clazz)</code>).</p>\n<p>There are two drawbacks to this approach: firstly, you'll have to explicitly pass in the extra parameter each time the method is called.  Secondly, if <code>A</code> and <code>B</code> can be subclasses of one another, this is not going to work; you could pass in e.g. <code>B.class</code> even when the generic parameter was <code>A</code>.</p>\n<h2>However, this feels like a code smell</h2>\n<p>You shouldn't be trying to do fundamentally different things based on a generic parameter.  Instead of switching behaviour in your method here, <em>do something different within the classes A and B</em>:</p>\n<pre><code>public&lt;X&gt; boolean myMethod(Set&lt;X&gt; mySet)\n{\n   boolean result = false;\n   for (X x : mySet) {\n      result &amp;= x.doSomething();\n   }\n\n   return result;\n}\n\nclass A implements MyDoSomethingInterface {\n    public boolean doSomething() {\n        // Here you put the logic for &quot;if X is A&quot;\n    }\n}\n\nclass B implements MyDoSomethingInterface {\n    public boolean doSomething() {\n        // Here you put the logic for &quot;if X is B&quot;\n    }\n}\n</code></pre>\n<p>And if your reaction is that this won't work because A and B are built-in classes, you'll need to wrap them in your own domain objects (which is the correct approach anyway because you want to associate this extra behaviour with them).</p>\n"}],"owner":{"account_id":2036141,"reputation":429,"user_id":1818446,"accept_rate":78,"display_name":"TheEmeritus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657827647,"accepted_answer_id":72978970,"answer_count":2,"score":0,"last_activity_date":1657795787,"creation_date":1657792539,"question_id":72978630,"body_markdown":"Given a `Set&lt;X&gt;`, I want to write a method that acts differently depending on the class `X` is. In actuality, I&#39;d have 2 cases: `A` or `B`. \r\n\r\nThe method looks like:\r\n\r\n    public&lt;X&gt; boolean myMethod(Set&lt;X&gt; mySet)\r\n    {\r\n     // if X is actually the class A\r\n     ...\r\n     // if X is B\r\n     ...\r\n    }\r\n\r\nI am not sure how to check this. I tried `X::getClass`, but it wouldn&#39;t let me use `equals` method. \r\n","title":"Finding out the type of a set","body":"<p>Given a <code>Set&lt;X&gt;</code>, I want to write a method that acts differently depending on the class <code>X</code> is. In actuality, I'd have 2 cases: <code>A</code> or <code>B</code>.</p>\n<p>The method looks like:</p>\n<pre><code>public&lt;X&gt; boolean myMethod(Set&lt;X&gt; mySet)\n{\n // if X is actually the class A\n ...\n // if X is B\n ...\n}\n</code></pre>\n<p>I am not sure how to check this. I tried <code>X::getClass</code>, but it wouldn't let me use <code>equals</code> method.</p>\n"},{"tags":["java","encryption","aes","cbc-mode"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1657796289,"post_id":72979260,"comment_id":128897980,"body_markdown":"*...But if the decryption happens with wrong IV in CBC mode then nothing should be decrypted. After all, that&#39;s how AES/CBC works...*: For CBC, if a wrong IV is used during decryption (i.e. an IV that does not correspond to that of the encryption), this leads to a corrupted first block (16 bytes for AES). The rest is decrypted correctly. And exactly this is your result.","body":"<i>...But if the decryption happens with wrong IV in CBC mode then nothing should be decrypted. After all, that&#39;s how AES/CBC works...</i>: For CBC, if a wrong IV is used during decryption (i.e. an IV that does not correspond to that of the encryption), this leads to a corrupted first block (16 bytes for AES). The rest is decrypted correctly. And exactly this is your result."},{"owner":{"account_id":25806712,"reputation":11,"user_id":19548144,"display_name":"Oxonomy"},"score":0,"creation_date":1657796663,"post_id":72979260,"comment_id":128898095,"body_markdown":"@Topaco Is it possible to decrypt the rest of the blocks with the wrong IV, except for the first one? I thought that due to the CBC chaining scheme, the wrong IV would make all the information undecipherable","body":"@Topaco Is it possible to decrypt the rest of the blocks with the wrong IV, except for the first one? I thought that due to the CBC chaining scheme, the wrong IV would make all the information undecipherable"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1657797159,"post_id":72979260,"comment_id":128898261,"body_markdown":"Just have a look at the [CBC flowchart](https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_block_chaining_(CBC)) for decryption, from which you can immediately deduce that only the first block is affected: The IV only plays a role in the decryption of the first block! You may be confusing this with another mode.","body":"Just have a look at the <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_block_chaining_(CBC)\" rel=\"nofollow noreferrer\">CBC flowchart</a> for decryption, from which you can immediately deduce that only the first block is affected: The IV only plays a role in the decryption of the first block! You may be confusing this with another mode."},{"owner":{"account_id":25806712,"reputation":11,"user_id":19548144,"display_name":"Oxonomy"},"score":0,"creation_date":1657798222,"post_id":72979260,"comment_id":128898633,"body_markdown":"@Topaco I figured it out. IV affects subsequent blocks (in the sense of mixing information). But if we consider the decryption of a separate block, then thanks to XOR, it does not matter how the previous block was created. Thanks for the help.","body":"@Topaco I figured it out. IV affects subsequent blocks (in the sense of mixing information). But if we consider the decryption of a separate block, then thanks to XOR, it does not matter how the previous block was created. Thanks for the help."}],"owner":{"account_id":25806712,"reputation":11,"user_id":19548144,"display_name":"Oxonomy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1657795672,"creation_date":1657795672,"question_id":72979260,"body_markdown":"I was implementing encryption decryption of a file using the AES/CBC/PKCS5PADDING algorithm. And I noticed some peculiarity. With the correct order of initialization of the IV, everything is decrypted correctly. But if the order is wrong (see commented out lines), the beginning of the line is decoded incorrectly.\r\n\r\nBut if the decryption happens with wrong IV in CBC mode then nothing should be decrypted. After all, that&#39;s how AES/CBC works.\r\n\r\nMy question is - why is the string still decrypted with the wrong IV ?\r\n\r\nOutput\r\n------\r\n\r\n    org.junit.ComparisonFailure: \r\n    Expected :Test string Test string Test string Test string Test string Test string\r\n    Actual   :�Eݠ�/ՙ�,\u001E\t9B�� string Test string Test string Test string Test string\r\n\r\nCode\r\n---- \r\n``` lang-java\r\nimport javax.crypto.*;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.*;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.InvalidParameterSpecException;\r\nimport java.security.spec.KeySpec;\r\n\r\n\r\npublic class CryptographyService {\r\n\r\n    private static final String SECRET_KEY_DERIVATION_ALGORITHM = &quot;PBKDF2WithHmacSHA256&quot;;\r\n\r\n    private static final String CIPHER_ALGORITHM_MODE_PADDING = &quot;AES/CBC/PKCS5PADDING&quot;;\r\n\r\n    private static final String CIPHER_ALGORITHM = &quot;AES&quot;;\r\n\r\n    private static final int SALT_LEN = 32;\r\n\r\n    private static byte[] createSalt() {\r\n        byte[] salt = new byte[SALT_LEN];\r\n        SecureRandom random = new SecureRandom();\r\n        random.nextBytes(salt);\r\n        return salt;\r\n    }\r\n\r\n    private static SecretKey secretKeyCreate(String userPassword, byte[] salt) throws NoSuchAlgorithmException,\r\n            InvalidKeySpecException {\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(SECRET_KEY_DERIVATION_ALGORITHM);\r\n        KeySpec spec = new PBEKeySpec(userPassword.toCharArray(), salt, 25000, 256);\r\n        SecretKey tmp = factory.generateSecret(spec);\r\n        SecretKey secret = new SecretKeySpec(tmp.getEncoded(), CIPHER_ALGORITHM);\r\n        return secret;\r\n    }\r\n\r\n    public static void encrypt(String userPassword, String fileEncryptName, String jsonPasswordsData)\r\n            throws NoSuchAlgorithmException, InvalidKeySpecException,\r\n            NoSuchPaddingException, InvalidKeyException, InvalidParameterSpecException, IOException {\r\n\r\n        byte[] salt = createSalt();\r\n        SecretKey secretKey = secretKeyCreate(userPassword, salt);\r\n\r\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM_MODE_PADDING);\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n        AlgorithmParameters params = cipher.getParameters();\r\n        byte[] iv = params.getParameterSpec(IvParameterSpec.class).getIV();\r\n        //cipher.init(Cipher.ENCRYPT_MODE, secretKey); // incorrect decrypt\r\n\r\n        try (FileOutputStream fileOutputStream = new FileOutputStream(fileEncryptName);\r\n        CipherOutputStream cipherOutputStream = new CipherOutputStream(fileOutputStream, cipher)) {\r\n\r\n            fileOutputStream.write(iv);\r\n            fileOutputStream.write(salt);\r\n            fileOutputStream.flush();\r\n\r\n            cipherOutputStream.write(jsonPasswordsData.getBytes(StandardCharsets.UTF_8));\r\n        }\r\n    }\r\n\r\n    public static String decrypt(String userPassword, String fileDecryptName) throws NoSuchPaddingException,\r\n            NoSuchAlgorithmException, IOException, InvalidParameterSpecException, InvalidKeySpecException,\r\n            InvalidAlgorithmParameterException, InvalidKeyException {\r\n\r\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM_MODE_PADDING);\r\n        AlgorithmParameters params = cipher.getParameters();\r\n        int ivLength = params.getParameterSpec(IvParameterSpec.class).getIV().length;\r\n        byte[] iv = new byte[ivLength];\r\n        byte[] salt = new byte[SALT_LEN];\r\n        byte[] plainText;\r\n\r\n        try (FileInputStream fileInputStream = new FileInputStream(fileDecryptName);\r\n             CipherInputStream cipherInputStream = new CipherInputStream(fileInputStream, cipher)) {\r\n\r\n            fileInputStream.read(iv);\r\n            fileInputStream.read(salt);\r\n\r\n            SecretKey secretKey = secretKeyCreate(userPassword, salt);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(iv));\r\n            plainText = cipherInputStream.readAllBytes();\r\n        }\r\n        return new String(plainText, StandardCharsets.UTF_8);\r\n    }\r\n}\r\n```\r\n","title":"Error when decrypting first bytes Java AES/CBC/PKCS5PADDING","body":"<p>I was implementing encryption decryption of a file using the AES/CBC/PKCS5PADDING algorithm. And I noticed some peculiarity. With the correct order of initialization of the IV, everything is decrypted correctly. But if the order is wrong (see commented out lines), the beginning of the line is decoded incorrectly.</p>\n<p>But if the decryption happens with wrong IV in CBC mode then nothing should be decrypted. After all, that's how AES/CBC works.</p>\n<p>My question is - why is the string still decrypted with the wrong IV ?</p>\n<h2>Output</h2>\n<pre><code>org.junit.ComparisonFailure: \nExpected :Test string Test string Test string Test string Test string Test string\nActual   :�Eݠ�/ՙ�, 9B�� string Test string Test string Test string Test string\n</code></pre>\n<h2>Code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.crypto.*;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport java.security.*;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.InvalidParameterSpecException;\nimport java.security.spec.KeySpec;\n\n\npublic class CryptographyService {\n\n    private static final String SECRET_KEY_DERIVATION_ALGORITHM = &quot;PBKDF2WithHmacSHA256&quot;;\n\n    private static final String CIPHER_ALGORITHM_MODE_PADDING = &quot;AES/CBC/PKCS5PADDING&quot;;\n\n    private static final String CIPHER_ALGORITHM = &quot;AES&quot;;\n\n    private static final int SALT_LEN = 32;\n\n    private static byte[] createSalt() {\n        byte[] salt = new byte[SALT_LEN];\n        SecureRandom random = new SecureRandom();\n        random.nextBytes(salt);\n        return salt;\n    }\n\n    private static SecretKey secretKeyCreate(String userPassword, byte[] salt) throws NoSuchAlgorithmException,\n            InvalidKeySpecException {\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(SECRET_KEY_DERIVATION_ALGORITHM);\n        KeySpec spec = new PBEKeySpec(userPassword.toCharArray(), salt, 25000, 256);\n        SecretKey tmp = factory.generateSecret(spec);\n        SecretKey secret = new SecretKeySpec(tmp.getEncoded(), CIPHER_ALGORITHM);\n        return secret;\n    }\n\n    public static void encrypt(String userPassword, String fileEncryptName, String jsonPasswordsData)\n            throws NoSuchAlgorithmException, InvalidKeySpecException,\n            NoSuchPaddingException, InvalidKeyException, InvalidParameterSpecException, IOException {\n\n        byte[] salt = createSalt();\n        SecretKey secretKey = secretKeyCreate(userPassword, salt);\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM_MODE_PADDING);\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n        AlgorithmParameters params = cipher.getParameters();\n        byte[] iv = params.getParameterSpec(IvParameterSpec.class).getIV();\n        //cipher.init(Cipher.ENCRYPT_MODE, secretKey); // incorrect decrypt\n\n        try (FileOutputStream fileOutputStream = new FileOutputStream(fileEncryptName);\n        CipherOutputStream cipherOutputStream = new CipherOutputStream(fileOutputStream, cipher)) {\n\n            fileOutputStream.write(iv);\n            fileOutputStream.write(salt);\n            fileOutputStream.flush();\n\n            cipherOutputStream.write(jsonPasswordsData.getBytes(StandardCharsets.UTF_8));\n        }\n    }\n\n    public static String decrypt(String userPassword, String fileDecryptName) throws NoSuchPaddingException,\n            NoSuchAlgorithmException, IOException, InvalidParameterSpecException, InvalidKeySpecException,\n            InvalidAlgorithmParameterException, InvalidKeyException {\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM_MODE_PADDING);\n        AlgorithmParameters params = cipher.getParameters();\n        int ivLength = params.getParameterSpec(IvParameterSpec.class).getIV().length;\n        byte[] iv = new byte[ivLength];\n        byte[] salt = new byte[SALT_LEN];\n        byte[] plainText;\n\n        try (FileInputStream fileInputStream = new FileInputStream(fileDecryptName);\n             CipherInputStream cipherInputStream = new CipherInputStream(fileInputStream, cipher)) {\n\n            fileInputStream.read(iv);\n            fileInputStream.read(salt);\n\n            SecretKey secretKey = secretKeyCreate(userPassword, salt);\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(iv));\n            plainText = cipherInputStream.readAllBytes();\n        }\n        return new String(plainText, StandardCharsets.UTF_8);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8806,"page":1186,"page_size":100}
